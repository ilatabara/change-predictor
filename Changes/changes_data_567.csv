id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcinder~driverfixes%2Fmitaka~Id2ea1a7612f6d5709ba9be95fb28126d299b687e,openstack/cinder,driverfixes/mitaka,Id2ea1a7612f6d5709ba9be95fb28126d299b687e,Tests: Fix NetApp NFS/SSC unit tests,MERGED,2018-01-11 20:39:40.000000000,2018-02-25 14:22:20.000000000,2018-01-12 20:39:38.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-01-11 20:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebd6dbd26eb383d2d25c7817e204f8e9485112ca', 'message': 'Tests: Fix NetApp NFS unit tests\n\nThis accounts for a change introduced by\n    8955ba NetApp: Refresh directory before waiting\n\nChange-Id: Id2ea1a7612f6d5709ba9be95fb28126d299b687e\n'}, {'number': 2, 'created': '2018-01-11 20:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcc224b29126b3603720d824d3599d28c08ea192', 'message': 'Tests: Fix NetApp NFS unit tests\n\nThis accounts for a change introduced by\n    8955ba NetApp: Refresh directory before waiting\n\nChange-Id: Id2ea1a7612f6d5709ba9be95fb28126d299b687e\n'}, {'number': 3, 'created': '2018-01-12 15:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c3d03505511b70d8db5d6c635642c9238ecf5a3', 'message': 'Tests: Fix NetApp NFS unit tests\n\nThis accounts for a change introduced by\n    8955ba NetApp: Refresh directory before waiting\n\nChange-Id: Id2ea1a7612f6d5709ba9be95fb28126d299b687e\n'}, {'number': 4, 'created': '2018-01-12 15:49:52.000000000', 'files': ['cinder/tests/unit/test_netapp_nfs.py', 'cinder/tests/unit/test_netapp_ssc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7adb1ca73a32946abcc022aa597e9ecaeab48d34', 'message': 'Tests: Fix NetApp NFS/SSC unit tests\n\nThis accounts for a change introduced by\n    8955ba NetApp: Refresh directory before waiting\n\nAnd fixes an incorrect mock parameter.\n\nChange-Id: Id2ea1a7612f6d5709ba9be95fb28126d299b687e\n'}]",1,532969,7adb1ca73a32946abcc022aa597e9ecaeab48d34,26,10,4,4523,,,0,"Tests: Fix NetApp NFS/SSC unit tests

This accounts for a change introduced by
    8955ba NetApp: Refresh directory before waiting

And fixes an incorrect mock parameter.

Change-Id: Id2ea1a7612f6d5709ba9be95fb28126d299b687e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/532969/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_netapp_nfs.py'],1,ebd6dbd26eb383d2d25c7817e204f8e9485112ca,532556," self.assertEquals(drv._execute.call_count, 2)", assert drv._execute.call_count == 1,1,1
openstack%2Fcinder~master~I9f1f39b30d43dc16a474febcf6549cf1901732ec,openstack/cinder,master,I9f1f39b30d43dc16a474febcf6549cf1901732ec,Fix: validation error if the optional parameter's value is None,MERGED,2018-01-05 04:36:35.000000000,2018-02-25 14:22:18.000000000,2018-01-15 11:04:26.000000000,"[{'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 6172}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10234}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12288}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 13861}, {'_account_id': 13915}, {'_account_id': 14107}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18288}, {'_account_id': 18883}, {'_account_id': 19853}, {'_account_id': 19933}, {'_account_id': 21224}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26422}, {'_account_id': 26537}, {'_account_id': 26541}]","[{'number': 1, 'created': '2018-01-05 04:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a16040b3029eb5e51c1f99a674adfbde1c3405d4', 'message': ""Fix: create snapshot failed with no option name is given\n\nCreate snapshot, option name is optional. But if no option name is\ngiven, it would fail because option name's value is None, while\nrequired name's type is string.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\n""}, {'number': 2, 'created': '2018-01-05 06:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/636b97f8a4838894c5fd4c2923288f6cc5c9897c', 'message': ""Fix: create snapshot failed with no option name is given\n\nCreate snapshot, option name is optional. But if no option name is\ngiven, it would fail because option name's value is None, while\nrequired name's type is string.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\n""}, {'number': 3, 'created': '2018-01-08 05:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1873ec0106583f0448018f53bf010ea35cfcec06', 'message': ""Fix: create snapshot failed with no option name is given\n\nCreate snapshot, option name is optional. But if no option name is\ngiven, it would fail because option name's value is None, while\nrequired name's type is string.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\nCo-Authored-By: yatin <ykarel@redhat.com>\n""}, {'number': 4, 'created': '2018-01-08 12:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78ba5e7b615816a76c272712f531bf5eef60ef83', 'message': ""Fix: create snapshot failed with no option name is given\n\nCreate snapshot, option name is optional. But if no option name is\ngiven, it would fail because option name's value is None, while\nrequired name's type is string.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\nCo-Authored-By: yatin <ykarel@redhat.com>\n""}, {'number': 5, 'created': '2018-01-08 13:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff85e932653f02d39a7b9b36d71d4fb6dbb98562', 'message': ""Fix: create snapshot failed with no option name is given\n\nCreate snapshot, option name is optional. But if no option name is\ngiven, it would fail because option name's value is None, while\nrequired name's type is string.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\nCo-Authored-By: yatin <ykarel@redhat.com>\n""}, {'number': 6, 'created': '2018-01-08 15:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eec0df209bb7ebf0f8bc82d7fb982c0895e0aec1', 'message': ""Fix: validation error if the optional parameter's value is None\n\n1. Snapshot: option name in create/update/manage snapthot is optianal\nwhich its type name_allow_zero_min_length should allow null.\n2. Backup: option name in create/update/restore backup is optional\nwhich its type name_allow_zero_min_length should allow null.\n3. Backup: snapshot_id in create backup or volume_id in restore backup\nis optional, set its type to uuid_allow_null.\n4. Group_snapshot: option name create group-snapshot is optional, and\nshould allow null.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\nCo-Authored-By: yatin <ykarel@redhat.com>\n""}, {'number': 7, 'created': '2018-01-09 03:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1b959500efeb943b063703c043752393cb82e72', 'message': ""Fix: validation error if the optional parameter's value is None\n\n1. Snapshot: option name in create/update/manage snapthot is optianal\nwhich type is name_allow_zero_min_length and should allow null.\n2. Backup: option name in create/update/restore backup is optional\nwhich type is name_allow_zero_min_length and should allow null.\n3. Backup: snapshot_id in create backup or volume_id in restore backup\nis optional, set its type to uuid_allow_null.\n4. Group_snapshot: option name in create group-snapshot is optional, and\nshould allow null.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\nCo-Authored-By: yatin <ykarel@redhat.com>\n""}, {'number': 8, 'created': '2018-01-09 08:48:24.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/api/contrib/test_snapshot_manage.py', 'cinder/tests/unit/api/v3/test_group_snapshots.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/schemas/group_snapshots.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/api/v3/test_backups.py', 'cinder/api/schemas/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05cd2c1b8dfe2d0a24285645c7393bf0864ab4a9', 'message': ""Fix: validation error if the optional parameter's value is None\n\n1. Snapshot: option name in create/update/manage snapthot is optianal\nwhich type is name_allow_zero_min_length and should allow null.\n2. Backup: option name in create/update/restore backup is optional\nwhich type is name_allow_zero_min_length and should allow null.\n3. Backup: snapshot_id in create backup or volume_id in restore backup\nis optional, set its type to uuid_allow_null.\n4. Group_snapshot: option name in create group-snapshot is optional, and\nshould allow null.\n\nChange-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec\nCloses-bug: 1741191\nCo-Authored-By: yatin <ykarel@redhat.com>\n""}]",20,531289,05cd2c1b8dfe2d0a24285645c7393bf0864ab4a9,246,51,8,18288,,,0,"Fix: validation error if the optional parameter's value is None

1. Snapshot: option name in create/update/manage snapthot is optianal
which type is name_allow_zero_min_length and should allow null.
2. Backup: option name in create/update/restore backup is optional
which type is name_allow_zero_min_length and should allow null.
3. Backup: snapshot_id in create backup or volume_id in restore backup
is optional, set its type to uuid_allow_null.
4. Group_snapshot: option name in create group-snapshot is optional, and
should allow null.

Change-Id: I9f1f39b30d43dc16a474febcf6549cf1901732ec
Closes-bug: 1741191
Co-Authored-By: yatin <ykarel@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/531289/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'cinder/tests/unit/api/v2/test_snapshots.py']",2,a16040b3029eb5e51c1f99a674adfbde1c3405d4,bug/1741191," def test_snapshot_create_with_default_optional_parameters(self): volume = utils.create_volume(self.ctx) snapshot = { ""volume_id"": volume.id, ""force"": False, ""name"": None, ""description"": None } body = dict(snapshot=snapshot) req = fakes.HTTPRequest.blank('/v2/snapshots') resp_dict = self.controller.create(req, body=body) self.assertIn('snapshot', resp_dict) self.assertIn('updated_at', resp_dict['snapshot']) db.volume_destroy(self.ctx, volume.id) ",,18,1
openstack%2Fcinder~driverfixes%2Fmitaka~Ib06f6e09fdb0ee49fe76481c63dc8d0e744faeac,openstack/cinder,driverfixes/mitaka,Ib06f6e09fdb0ee49fe76481c63dc8d0e744faeac,Fix the Mitaka failed UTs of Huawei driver,MERGED,2018-01-11 12:23:18.000000000,2018-02-25 14:22:01.000000000,2018-01-12 05:56:58.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-01-11 12:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a045527b5da4e88d84fa5cfa1c3dfbfa354c41ba', 'message': 'Fix the Mitaka failed UTs of Huawei driver\n\nChange-Id: Ib06f6e09fdb0ee49fe76481c63dc8d0e744faeac\n'}, {'number': 2, 'created': '2018-01-11 19:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc53d16a49a5283923b9acb62044a72e30a04828', 'message': 'Fix the Mitaka failed UTs of Huawei driver\n\nChange-Id: Ib06f6e09fdb0ee49fe76481c63dc8d0e744faeac\n'}, {'number': 3, 'created': '2018-01-11 20:50:52.000000000', 'files': ['cinder/tests/unit/test_huawei_drivers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/75f8742d9675b47204c2b48d92ece45fed33d1a8', 'message': 'Fix the Mitaka failed UTs of Huawei driver\n\nChange-Id: Ib06f6e09fdb0ee49fe76481c63dc8d0e744faeac\n'}]",0,532803,75f8742d9675b47204c2b48d92ece45fed33d1a8,19,8,3,16203,,,0,"Fix the Mitaka failed UTs of Huawei driver

Change-Id: Ib06f6e09fdb0ee49fe76481c63dc8d0e744faeac
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/532803/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_huawei_drivers.py'],1,a045527b5da4e88d84fa5cfa1c3dfbfa354c41ba,532556,"from cinder import objectstest_volume = objects.Volume(**{ '_name_id': None, 'volume_attachment': objects.VolumeAttachmentList(), 'metadata': {}, })hyper_volume = objects.Volume(**{ 'size': 2, 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', '_name_id': None, 'project_id': 'project', 'display_name': 'vol1', 'display_description': 'test volume', 'volume_type_id': None, 'host': 'ubuntu@huawei#OpenStack_Pool', 'provider_location': '11', 'metadata': {'hypermetro_id': '1', 'remote_lun_id': '11'}, 'admin_metadata': {}, })replication_volume = objects.Volume(**{ '_name_id': None, 'admin_metadata': {}, 'metadata': {}, '{""pair_id"": ""3400a30d844d0004"", ""rmt_lun_id"": ""1""}', }) test_snap = objects.Snapshot(**{ 'volume': objects.Volume(**{ 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_location': '12', 'metadata': {'hypermetro_id': '1', 'remote_lun_id': '11'}, 'admin_metadata': {}, }), }) ""PRODUCTVERSION"": ""V300R003C10"", expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) test_volume.host = 'ubuntu001@backend001' self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) self.assertDictEqual( {""huawei_snapshot_id"": 11}, json.loads(lun_info['provider_location'])) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(model_update['provider_location'])) ""rmt_lun_wwn"": ""6643e8c1004c5f6723e9f454003"", self.assertDictEqual( driver_data, json.loads(model_update['replication_driver_data'])) test_volume.provider_location = None self.driver.delete_snapshot(test_snap) self.mock_object(rest_client.RestClient, 'find_array_version', mock.Mock(return_value='V300R001C00')) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) self.mock_object(rest_client.RestClient, 'find_array_version', mock.Mock(return_value='V300R001C00')) mock.Mock(return_value={ 'specs': {'maxBandWidth': '100', 'IOType': '0'}, 'consumer': mock_consumer})) lun_info = self.driver.create_volume(test_volume) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) metadata = {'huawei_lun_id': '1', 'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003', 'hypermetro_id': '11', 'remote_lun_id': '1'} self.assertDictEqual( metadata, json.loads(lun_info['provider_location'])) self.mock_object(rest_client.RestClient, 'find_array_version', mock.Mock(return_value='V300R001C00')) hyper_volume, expected_val = {""huawei_lun_id"": ""ID1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected_val, json.loads(model_update['provider_location'])) expected_val = {'huawei_lun_id': 'ID1', 'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003', } self.assertDictEqual( expected_val, json.loads(model_update['provider_location'])) test_snap, external_ref) test_snap, external_ref) model_update = self.driver.manage_existing_snapshot(test_snap, self.assertDictEqual( {'huawei_snapshot_id': 'ID1'}, json.loads(model_update['provider_location'])) model_update = self.driver.manage_existing_snapshot(test_snap, self.assertDictEqual( {'huawei_snapshot_id': 'ID1'}, json.loads(model_update['provider_location'])) test_snap, external_ref) size = self.driver.manage_existing_snapshot_get_size(test_snap, size = self.driver.manage_existing_snapshot_get_size(test_snap, ""rmt_lun_wwn"": ""6643e8c1004c5f6723e9f454003"", self.assertDictEqual( driver_data, json.loads(model_update['replication_driver_data'])) volume['metadata'] = {'old_status': 'available'} self.assertDictEqual({""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": None}, json.loads(v_update['provider_location'])) 'rmt_lun_id': '11', 'rmt_lun_wwn': None} self.assertDictEqual( new_drv_data, json.loads(v_update['replication_driver_data'])) self.assertDictEqual({""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": None}, json.loads(v_update['provider_location'])) 'rmt_lun_id': '11', 'rmt_lun_wwn': None} self.assertDictEqual( new_drv_data, json.loads(v_update['replication_driver_data'])) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) expected = {""huawei_snapshot_id"": 11} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) expected = {""huawei_lun_id"": ""1"", ""huawei_lun_wwn"": ""6643e8c1004c5f6723e9f454003""} self.assertDictEqual( expected, json.loads(lun_info['provider_location'])) metadata = {'huawei_lun_id': '1', 'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003', 'hypermetro_id': '11', 'remote_lun_id': '1'} self.assertDictEqual( metadata, json.loads(lun_info['provider_location'])) self.mock_object(self.client.session, 'post', mock.Mock(return_value=fake_res))","test_volume = { 'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_name': 'vol1', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_auth': None,}hyper_volume = {'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 2, 'volume_name': 'vol1', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_auth': None, 'project_id': 'project', 'display_name': 'vol1', 'display_description': 'test volume', 'volume_type_id': None, 'host': 'ubuntu@huawei#OpenStack_Pool', 'provider_location': '11', 'volume_metadata': [{'key': 'hypermetro_id', 'value': '1'}, {'key': 'remote_lun_id', 'value': '11'}], 'admin_metadata': {}, }replication_volume = { 'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_name': 'vol1', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'admin_metadata': {'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003'}, '{""pair_id"": ""%s"", ""rmt_lun_id"": ""1""}' % TEST_PAIR_ID, } test_snap = { 'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 1, 'volume_name': 'vol1', 'volume': {'provider_location': '12', 'admin_metadata': { 'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003'}}, } ""PRODUCTVERSION"": ""V100R001C10"", test_volume = {'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 2, 'volume_name': 'vol1', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_auth': None, 'project_id': 'project', 'display_name': 'vol1', 'display_description': 'test volume', 'volume_type_id': None, 'host': 'ubuntu001@backend001#OpenStack_Pool', 'provider_location': None, } test_volume = {'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 2, 'volume_name': 'vol1', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_auth': None, 'project_id': 'project', 'display_name': 'vol1', 'display_description': 'test volume', 'volume_type_id': None, 'host': 'ubuntu001@backend001#OpenStack_Pool', 'provider_location': '11', 'admin_metadata': {}, } self.assertEqual('1', lun_info['provider_location']) test_volume = {'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 2, 'volume_name': 'vol1', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_auth': None, 'project_id': 'project', 'display_name': 'vol1', 'display_description': 'test volume', 'volume_type_id': None, 'host': 'ubuntu001@backend001', 'provider_location': '11', 'admin_metadata': {}, } self.assertEqual('1', lun_info['provider_location']) self.assertEqual(11, lun_info['provider_location']) test_snap['volume']['provider_location'] = '' lun_info = self.driver.create_snapshot(test_snap) self.assertEqual(11, lun_info['provider_location']) test_snap['volume']['provider_location'] = None lun_info = self.driver.create_snapshot(test_snap) self.assertEqual(11, lun_info['provider_location']) self.assertEqual('1', model_update['provider_location']) driver_data = replication.to_string(driver_data) self.assertEqual(driver_data, model_update['replication_driver_data']) test_volume = { 'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 2, 'volume_name': 'vol1', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635' } fake_snap = { 'name': 'volume-21ec7341-9256-497b-97d9-ef48edcf0635', 'size': 1, 'volume_name': 'vol1', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'provider_auth': None, 'project_id': 'project', 'display_name': 'vol1', 'display_description': 'test volume', 'volume_type_id': None, 'provider_location': None, } self.driver.delete_snapshot(fake_snap) self.assertEqual('1', lun_info['provider_location']) return_value={'specs': {'maxBandWidth': '100', 'IOType': '0'}, 'consumer': mock_consumer}) lun_info = self.driver.create_volume(self.volume) self.assertEqual('1', lun_info['provider_location']) self.assertEqual('1', lun_info['provider_location']) metadata = {""hypermetro_id"": '11', ""remote_lun_id"": '1'} self.assertEqual(metadata, lun_info['metadata']) test_volume, expected_val = { 'admin_metadata': { 'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003' }, 'provider_location': 'ID1'} self.assertEqual(expected_val, model_update) expected_val = { 'admin_metadata': { 'huawei_lun_wwn': '6643e8c1004c5f6723e9f454003' }, 'provider_location': 'ID1'} self.assertEqual(expected_val, model_update) test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} test_snapshot, external_ref) test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} test_snapshot, external_ref) test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} model_update = self.driver.manage_existing_snapshot(test_snapshot, self.assertEqual({'provider_location': 'ID1'}, model_update) test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} model_update = self.driver.manage_existing_snapshot(test_snapshot, self.assertEqual({'provider_location': 'ID1'}, model_update) test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} test_snapshot, external_ref) test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} size = self.driver.manage_existing_snapshot_get_size(test_snapshot, test_snapshot = {'volume_id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'id': '21ec7341-9256-497b-97d9-ef48edcf0635', 'volume': {'provider_location': '12'}} size = self.driver.manage_existing_snapshot_get_size(test_snapshot, driver_data = replication.to_string(driver_data) self.assertEqual(driver_data, model_update['replication_driver_data']) volume['metadata'] = {'old_status', 'available'} self.assertEqual('1', v_update['provider_location']) 'rmt_lun_id': replication_volume['provider_location']} new_drv_data = replication.to_string(new_drv_data) self.assertEqual(new_drv_data, v_update['replication_driver_data']) self.assertEqual('1', v_update['provider_location']) 'rmt_lun_id': replication_volume['provider_location']} new_drv_data = replication.to_string(new_drv_data) self.assertEqual(new_drv_data, v_update['replication_driver_data']) self.assertEqual('1', lun_info['provider_location']) self.assertEqual(11, lun_info['provider_location']) test_snap['volume']['provider_location'] = '' lun_info = self.driver.create_snapshot(test_snap) self.assertEqual(11, lun_info['provider_location']) test_snap['volume']['provider_location'] = None lun_info = self.driver.create_snapshot(test_snap) self.assertEqual(11, lun_info['provider_location']) self.assertEqual('1', lun_info['provider_location']) self.mock_object(rest_client.RestClient, 'find_array_version', mock.Mock(return_value='V300R003C00')) self.assertEqual('1', lun_info['provider_location']) metadata = {""hypermetro_id"": '11', ""remote_lun_id"": '1'} self.assertEqual(metadata, lun_info['metadata']) self.mock_object(self.client.session, 'post', return_value=fake_res)",146,196
openstack%2Fcinder~driverfixes%2Fmitaka~I95d7aac7ac452aee8cd0ef14f52dc1558b000030,openstack/cinder,driverfixes/mitaka,I95d7aac7ac452aee8cd0ef14f52dc1558b000030,Improve TestCase.mock_object method,MERGED,2018-01-10 15:35:36.000000000,2018-02-25 14:21:59.000000000,2018-01-12 05:56:54.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-01-10 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c125dc84ef870d0e1a2ceebc969732f550847288', 'message': ""Improve TestCase.mock_object method\n\nOur current mock_object method in TestCase does not behave as one would\nexpect, as keyword arguments will not work since the method is creating\nthe Mock object itself when one is not provided and the call to\nmock.patch.object with provided keyword arguments will fail.\n\nThis forces the callers to create a mock.Mock object to pass the keyword\narguments.\n\nThis patch modifies mock_object method to properly accept keyword\narguments, resulting in:\n\n- Consistent behavior with mock.patch.object and\n  cinder.test.TestCase.pach methods.\n- Increased readability for many cases in our tests since\n    self.mock_object(os.path, 'exists', mock.Mock(return_value=False))\n  becomes\n    self.mock_object(os.path, 'exists', return_value=False)\n- Reduction of lines of codes for existing and new tests.\n\nWhile preserving behavior used in most of our tests, so all existing\nmethod calls will still work except those passing new_attr argument as\nkeyword argument.\n\nChange-Id: I95d7aac7ac452aee8cd0ef14f52dc1558b000030\n(cherry picked from commit efa39bfd494b8510faf96c9402b9d91ecb13c4ac)\n""}, {'number': 2, 'created': '2018-01-11 20:50:52.000000000', 'files': ['cinder/test.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_library.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6a173395a734c0bdb034db7b380a715bea67188', 'message': ""Improve TestCase.mock_object method\n\nOur current mock_object method in TestCase does not behave as one would\nexpect, as keyword arguments will not work since the method is creating\nthe Mock object itself when one is not provided and the call to\nmock.patch.object with provided keyword arguments will fail.\n\nThis forces the callers to create a mock.Mock object to pass the keyword\narguments.\n\nThis patch modifies mock_object method to properly accept keyword\narguments, resulting in:\n\n- Consistent behavior with mock.patch.object and\n  cinder.test.TestCase.pach methods.\n- Increased readability for many cases in our tests since\n    self.mock_object(os.path, 'exists', mock.Mock(return_value=False))\n  becomes\n    self.mock_object(os.path, 'exists', return_value=False)\n- Reduction of lines of codes for existing and new tests.\n\nWhile preserving behavior used in most of our tests, so all existing\nmethod calls will still work except those passing new_attr argument as\nkeyword argument.\n\nChange-Id: I95d7aac7ac452aee8cd0ef14f52dc1558b000030\n(cherry picked from commit efa39bfd494b8510faf96c9402b9d91ecb13c4ac)\n""}]",0,532556,e6a173395a734c0bdb034db7b380a715bea67188,19,10,2,4523,,,0,"Improve TestCase.mock_object method

Our current mock_object method in TestCase does not behave as one would
expect, as keyword arguments will not work since the method is creating
the Mock object itself when one is not provided and the call to
mock.patch.object with provided keyword arguments will fail.

This forces the callers to create a mock.Mock object to pass the keyword
arguments.

This patch modifies mock_object method to properly accept keyword
arguments, resulting in:

- Consistent behavior with mock.patch.object and
  cinder.test.TestCase.pach methods.
- Increased readability for many cases in our tests since
    self.mock_object(os.path, 'exists', mock.Mock(return_value=False))
  becomes
    self.mock_object(os.path, 'exists', return_value=False)
- Reduction of lines of codes for existing and new tests.

While preserving behavior used in most of our tests, so all existing
method calls will still work except those passing new_attr argument as
keyword argument.

Change-Id: I95d7aac7ac452aee8cd0ef14f52dc1558b000030
(cherry picked from commit efa39bfd494b8510faf96c9402b9d91ecb13c4ac)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/532556/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_library.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_client.py']",3,c125dc84ef870d0e1a2ceebc969732f550847288,532556, return_value=groups), new_attr=mock.Mock(return_value=groups)),21,26
openstack%2Fcinder~driverfixes%2Fmitaka~I5f2193ff7afc7942dadb402cdd7245c981f23773,openstack/cinder,driverfixes/mitaka,I5f2193ff7afc7942dadb402cdd7245c981f23773,Fix netapp driverfixes/mitaka unit tests,MERGED,2018-01-10 15:35:36.000000000,2018-02-25 14:21:57.000000000,2018-01-12 05:56:46.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-01-10 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0da920feebca957e3b2987fc490bcdee3aed252', 'message': 'Fix netapp driverfixes/mitaka unit tests\n\nAdjust mock assertions to match mock 2.0.\n\nAdd netapp_api.EOBJECTNOTFOUND from\n    294ee65bd NetApp cDOT: Add cheesecake replication support\nto fix failures from patch\n    394e1a2b3 NetApp: block drivers fail when volume missing.\n\nChange-Id: I5f2193ff7afc7942dadb402cdd7245c981f23773\n'}, {'number': 2, 'created': '2018-01-11 20:50:52.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c530a18d0c8ad173b28fc60bee56f628a9ab07c', 'message': 'Fix netapp driverfixes/mitaka unit tests\n\nAdjust mock assertions to match mock 2.0.\n\nAdd netapp_api.EOBJECTNOTFOUND from\n    294ee65bd NetApp cDOT: Add cheesecake replication support\nto fix failures from patch\n    394e1a2b3 NetApp: block drivers fail when volume missing.\n\nChange-Id: I5f2193ff7afc7942dadb402cdd7245c981f23773\n'}]",0,532555,3c530a18d0c8ad173b28fc60bee56f628a9ab07c,21,11,2,4523,,,0,"Fix netapp driverfixes/mitaka unit tests

Adjust mock assertions to match mock 2.0.

Add netapp_api.EOBJECTNOTFOUND from
    294ee65bd NetApp cDOT: Add cheesecake replication support
to fix failures from patch
    394e1a2b3 NetApp: block drivers fail when volume missing.

Change-Id: I5f2193ff7afc7942dadb402cdd7245c981f23773
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/532555/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py']",2,c0da920feebca957e3b2987fc490bcdee3aed252,532556, self.assertTrue(block_base.LOG.warning.called), block_base.LOG.warning.assert_called_once(),2,1
openstack%2Fcinder~driverfixes%2Focata~I894f7c48129ba503e01e8216ebb90a50fad97e98,openstack/cinder,driverfixes/ocata,I894f7c48129ba503e01e8216ebb90a50fad97e98,Tests: Fix unit test failures due to space check,MERGED,2017-12-13 08:09:45.000000000,2018-02-25 14:21:53.000000000,2018-01-12 05:29:37.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 26001}]","[{'number': 1, 'created': '2017-12-13 08:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99a64a83f9bccbd1c0a0dd7cb514afc89e34b10e', 'message': 'Tests: Fix unit test failures due to space check\n\nThese tests can fail depending on the available space\nwhere the unit tests are run.\n\nThis was fixed by bc52ae4219 in Pike.\n\nChange-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98\n'}, {'number': 2, 'created': '2018-01-08 21:23:56.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9fede50512d960b7dacf5ff294162e3c9a0f95e', 'message': 'Tests: Fix unit test failures due to space check\n\nThese tests can fail depending on the available space\nwhere the unit tests are run.\n\nThis was fixed by bc52ae4219 in Pike.\n\nChange-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98\n'}]",0,527626,d9fede50512d960b7dacf5ff294162e3c9a0f95e,28,15,2,4523,,,0,"Tests: Fix unit test failures due to space check

These tests can fail depending on the available space
where the unit tests are run.

This was fixed by bc52ae4219 in Pike.

Change-Id: I894f7c48129ba503e01e8216ebb90a50fad97e98
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/527626/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/flows/test_create_volume_flow.py'],1,99a64a83f9bccbd1c0a0dd7cb514afc89e34b10e,503711," @mock.patch('cinder.image.image_utils.check_available_space') self, mock_check_space, mock_get_internal_context, mock_create_from_img_dl, mock_create_from_src, mock_handle_bootable, mock_fetch_img): self.assertTrue(mock_check_space.called) @mock.patch('cinder.image.image_utils.check_available_space') self, mock_check_space, mock_qemu_info, mock_get_internal_context, self.assertTrue(mock_check_space.called) @mock.patch('cinder.image.image_utils.check_available_space') self, mock_check_space, mock_qemu_info, mock_get_internal_context, self.assertTrue(mock_check_space.called) "," self, mock_get_internal_context, mock_create_from_img_dl, mock_create_from_src, mock_handle_bootable, mock_fetch_img): self, mock_qemu_info, mock_get_internal_context, self, mock_qemu_info, mock_get_internal_context,",14,4
openstack%2Fcinder~driverfixes%2Fnewton~Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,openstack/cinder,driverfixes/newton,Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,StorageCenter: Fix volume mapping for API v3.1,MERGED,2018-01-11 17:35:09.000000000,2018-02-25 14:21:46.000000000,2018-01-18 18:40:28.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-01-11 17:35:09.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9680e90a446936fa79dbdbdd504f4d03bc2f9256', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)\n(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)\n(cherry picked from commit 6e4a924fe28e66afc122e22beb4d404d4aab738a)\n'}]",0,532921,9680e90a446936fa79dbdbdd504f4d03bc2f9256,17,12,1,9535,,,0,"StorageCenter: Fix volume mapping for API v3.1

Volume attachment fails on StorageCenter API v3.1 because the backend
instead of returning wwn or WWN as the key in the controller port it
returns wWN, thus preventing the driver from finding the mapping.

This patch adds support to any combination of upper and lower case of
the WWN key.

Closes-Bug: #1739651
Change-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48
(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)
(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)
(cherry picked from commit 6e4a924fe28e66afc122e22beb4d404d4aab738a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/532921/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py']",2,9680e90a446936fa79dbdbdd504f4d03bc2f9256,bug/1739651," u'wWN': u'5000D31000FCBE36', def test_find_wwns_wwn_resilient(self, mock_find_initiators, mock_find_mappings, mock_find_controller_port, mock_close_connection, mock_open_connection, mock_init): # Test case where ScControllerPort object has wWN instead of wwn (as # seen in some cases) for a property but we are still able to find it. self.assertEqual(1, lun, 'Incorrect LUN') expected_wwn = ['5000D31000FCBE36', '5000D31000FCBE36', '5000D31000FCBE36'] self.assertEqual(expected_wwn, wwns, 'WWNs incorrect') expected_itmap = {'21000024FF30441C': ['5000D31000FCBE36'], '21000024FF30441D': ['5000D31000FCBE36', '5000D31000FCBE36']} self.assertEqual(expected_itmap, itmap, 'WWN mapping incorrect')"," u'Wwn': u'5000D31000FCBE36', def test_find_wwns_wwn_error(self, mock_find_initiators, mock_find_mappings, mock_find_controller_port, mock_close_connection, mock_open_connection, mock_init): # Test case where ScControllerPort object has WWn instead of wwn for a # property self.assertIsNone(lun, 'Incorrect LUN') self.assertEqual([], wwns, 'WWNs is not empty') self.assertEqual({}, itmap, 'WWN mapping not empty')",32,14
openstack%2Fcinder~stable%2Fpike~Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,openstack/cinder,stable/pike,Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,StorageCenter: Fix volume mapping for API v3.1,MERGED,2018-01-11 17:22:50.000000000,2018-02-25 14:21:43.000000000,2018-01-16 21:47:24.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-11 17:22:50.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)\n'}]",0,532916,0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a,23,16,1,9535,,,0,"StorageCenter: Fix volume mapping for API v3.1

Volume attachment fails on StorageCenter API v3.1 because the backend
instead of returning wwn or WWN as the key in the controller port it
returns wWN, thus preventing the driver from finding the mapping.

This patch adds support to any combination of upper and lower case of
the WWN key.

Closes-Bug: #1739651
Change-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48
(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/532916/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py']",2,0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a,bug/1739651," @staticmethod def _get_wwn(controllerport): """"""Return the WWN value of the controller port. Usually the WWN key in the controller port is wwn or WWN, but there are cases where the backend returns wWW, so we have to check all the keys. """""" for key, value in controllerport.items(): if key.lower() == 'wwn': return value return None wwn = self._get_wwn(controllerport)"," wwn = controllerport.get('wwn', controllerport.get('WWN'))",32,14
openstack%2Fcinder~master~Ib46101124699c40f6a6faf36aac0459473ef029d,openstack/cinder,master,Ib46101124699c40f6a6faf36aac0459473ef029d,Remove unused '_execute' variable in ceph backup driver.,ABANDONED,2018-01-11 14:47:48.000000000,2018-02-25 14:21:39.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-11 14:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94dad064b7e508fb61107d46dc13969e81ee0819', 'message': ""Remove unused '_execute' variable in ceph backup driver.\n\nCeph backup driver was changing to pipe in the commit\nd384d28e1c2c7c3ce0bd676fb1c2bdb8a2d98a03, but leaving the '_execute'\nvariable never be used, this change removes it.\n\nChange-Id: Ib46101124699c40f6a6faf36aac0459473ef029d\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n""}, {'number': 2, 'created': '2018-01-18 01:04:51.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d4cee8625b2b2ae081b743c8a23939260051edf', 'message': ""Remove unused '_execute' variable in ceph backup driver.\n\nCeph backup driver was changing to pipe in the commit\nd384d28e1c2c7c3ce0bd676fb1c2bdb8a2d98a03, but leaving the '_execute'\nvariable never be used, this change removes it.\n\nChange-Id: Ib46101124699c40f6a6faf36aac0459473ef029d\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n""}]",0,532839,3d4cee8625b2b2ae081b743c8a23939260051edf,51,33,2,13157,,,0,"Remove unused '_execute' variable in ceph backup driver.

Ceph backup driver was changing to pipe in the commit
d384d28e1c2c7c3ce0bd676fb1c2bdb8a2d98a03, but leaving the '_execute'
variable never be used, this change removes it.

Change-Id: Ib46101124699c40f6a6faf36aac0459473ef029d
Signed-off-by: Zhao Chao <zhaochao1984@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/532839/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py']",2,94dad064b7e508fb61107d46dc13969e81ee0819,remove-unused-variable-execute-in-ceph-backup-driver," def __init__(self, context, db=None):"," def __init__(self, context, db=None, execute=None): self._execute = execute or utils.execute",2,10
openstack%2Fcinder~stable%2Fpike~Ia0261e83171a1a13374b447303e3a61863fa22c2,openstack/cinder,stable/pike,Ia0261e83171a1a13374b447303e3a61863fa22c2,Fix manage_existing API behaving wrongly with storage pools,MERGED,2018-01-11 09:38:08.000000000,2018-02-25 14:21:35.000000000,2018-01-17 10:28:25.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 18883}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-11 09:38:08.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a91fad79608da9c43cbf0cd662fb0b3565f4432a', 'message': ""Fix manage_existing API behaving wrongly with storage pools\n\nWhen the requested host specifies a pool, Cinder needs to\nvalidate that specified pool in the scheduler\nand assign the 'host' attribute appropriately.\n\nCloses-Bug: 1724958\nChange-Id: Ia0261e83171a1a13374b447303e3a61863fa22c2\n(cherry picked from commit 3c7f1762959d53c05f6d37c66908a78e3b822535)\n""}]",0,532781,a91fad79608da9c43cbf0cd662fb0b3565f4432a,26,16,1,23083,,,0,"Fix manage_existing API behaving wrongly with storage pools

When the requested host specifies a pool, Cinder needs to
validate that specified pool in the scheduler
and assign the 'host' attribute appropriately.

Closes-Bug: 1724958
Change-Id: Ia0261e83171a1a13374b447303e3a61863fa22c2
(cherry picked from commit 3c7f1762959d53c05f6d37c66908a78e3b822535)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/532781/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,a91fad79608da9c43cbf0cd662fb0b3565f4432a,bug/1724958-stable/pike," if not cluster_name and bool(volume_utils.extract_host(host, 'pool')): manage_host = host else: manage_host = service.host 'host': manage_host,"," 'host': service.host,",6,1
openstack%2Fcinder~stable%2Fpike~Idf10bfb8f5e738d7698233b7bdeaf45bef8914e2,openstack/cinder,stable/pike,Idf10bfb8f5e738d7698233b7bdeaf45bef8914e2,Add admin ctxt to request qos_specs in SolidFire,MERGED,2017-12-20 18:34:09.000000000,2018-02-25 14:21:30.000000000,2018-01-18 23:13:59.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9562}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-20 18:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86c241f2c9401999bdb52423b1e53f0bc0b860d4', 'message': 'Add admin ctxt to request qos_specs in SolidFire\n\nWe used to be able to call qos_specs_get without admin context,\nhowever something has changed and this now fails at the object\nlayer in base:get_by_id.  This means that now if one uses QoS-Specs\nwith SolidFire and attempts to retype to another QoS Spec type,\nthe call will fail with no response data due to a policy/permissions\nerror.\n\nIt turns out that the qos_specs.py api call will let you either\npass in a context or pass in None and it implicitly gets an admin\ncontext.  I prefer explicit behaviors, so add an explicit get admin\ncontext in the SF driver for this call.\n\nChange-Id: Idf10bfb8f5e738d7698233b7bdeaf45bef8914e2\nCloses-Bug: #1738800\n(cherry picked from commit 3b016538ca6843bdd8cb6b06fc5e86d254d045f2)\n'}, {'number': 2, 'created': '2018-01-11 04:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a054bfa375dbcd355f5d50be1ea5410822c865cf', 'message': 'Add admin ctxt to request qos_specs in SolidFire\n\nWe used to be able to call qos_specs_get without admin context,\nhowever something has changed and this now fails at the object\nlayer in base:get_by_id.  This means that now if one uses QoS-Specs\nwith SolidFire and attempts to retype to another QoS Spec type,\nthe call will fail with no response data due to a policy/permissions\nerror.\n\nIt turns out that the qos_specs.py api call will let you either\npass in a context or pass in None and it implicitly gets an admin\ncontext.  I prefer explicit behaviors, so add an explicit get admin\ncontext in the SF driver for this call.\n\nChange-Id: Idf10bfb8f5e738d7698233b7bdeaf45bef8914e2\nCloses-Bug: #1738800\n(cherry picked from commit 3b016538ca6843bdd8cb6b06fc5e86d254d045f2)\n'}, {'number': 3, 'created': '2018-01-18 18:55:09.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d65bf82dda640c2149212ffd83c36303cf5b86fa', 'message': 'Add admin ctxt to request qos_specs in SolidFire\n\nWe used to be able to call qos_specs_get without admin context,\nhowever something has changed and this now fails at the object\nlayer in base:get_by_id.  This means that now if one uses QoS-Specs\nwith SolidFire and attempts to retype to another QoS Spec type,\nthe call will fail with no response data due to a policy/permissions\nerror.\n\nIt turns out that the qos_specs.py api call will let you either\npass in a context or pass in None and it implicitly gets an admin\ncontext.  I prefer explicit behaviors, so add an explicit get admin\ncontext in the SF driver for this call.\n\nChange-Id: Idf10bfb8f5e738d7698233b7bdeaf45bef8914e2\nCloses-Bug: #1738800\n(cherry picked from commit 3b016538ca6843bdd8cb6b06fc5e86d254d045f2)\n'}]",0,529395,d65bf82dda640c2149212ffd83c36303cf5b86fa,82,21,3,2243,,,0,"Add admin ctxt to request qos_specs in SolidFire

We used to be able to call qos_specs_get without admin context,
however something has changed and this now fails at the object
layer in base:get_by_id.  This means that now if one uses QoS-Specs
with SolidFire and attempts to retype to another QoS Spec type,
the call will fail with no response data due to a policy/permissions
error.

It turns out that the qos_specs.py api call will let you either
pass in a context or pass in None and it implicitly gets an admin
context.  I prefer explicit behaviors, so add an explicit get admin
context in the SF driver for this call.

Change-Id: Idf10bfb8f5e738d7698233b7bdeaf45bef8914e2
Closes-Bug: #1738800
(cherry picked from commit 3b016538ca6843bdd8cb6b06fc5e86d254d045f2)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/529395/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,86c241f2c9401999bdb52423b1e53f0bc0b860d4,bug/1738800," # Policy changes require admin context to get QoS specs # at the object layer (base:get_by_id), we can either # explicitly promote here, or pass in a context of None # and let the qos_specs api get an admin context for us # personally I prefer explicit, so here ya go. admin_ctxt = context.get_admin_context() kvs = qos_specs.get_qos_specs(admin_ctxt, qos_specs_id)['specs']"," kvs = qos_specs.get_qos_specs(ctxt, qos_specs_id)['specs']",7,1
openstack%2Fcinder~stable%2Fpike~Icbe86473243871996483fdc96c079b8861bac2e5,openstack/cinder,stable/pike,Icbe86473243871996483fdc96c079b8861bac2e5,Validate volume status again when snapshot created,MERGED,2018-01-03 16:45:15.000000000,2018-02-25 14:20:21.000000000,2018-01-27 01:36:37.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-03 16:45:15.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/volume/test_snapshot.py', 'cinder/tests/unit/api/v2/test_snapshot_metadata.py', 'cinder/tests/unit/api/v3/test_snapshots.py', 'cinder/objects/snapshot.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/78cd77edef1a08f0472b8df0409adebb9b12e865', 'message': 'Validate volume status again when snapshot created\n\nIn a multitask environment, the volume can be deleted\nafter the snapshot record is created. Add the validation\nright after the creation to avoid undeletable snapshot.\n\nCloses-Bug: #1739995\n\nChange-Id: Icbe86473243871996483fdc96c079b8861bac2e5\n(cherry picked from commit 7ccfb2c8d94824321d4bfca7266c5d72674c061f)\nConflicts:\n\tcinder/tests/unit/api/v3/test_snapshots.py\n\tcinder/tests/unit/volume/test_volume.py\n'}]",0,530964,78cd77edef1a08f0472b8df0409adebb9b12e865,63,21,1,4523,,,0,"Validate volume status again when snapshot created

In a multitask environment, the volume can be deleted
after the snapshot record is created. Add the validation
right after the creation to avoid undeletable snapshot.

Closes-Bug: #1739995

Change-Id: Icbe86473243871996483fdc96c079b8861bac2e5
(cherry picked from commit 7ccfb2c8d94824321d4bfca7266c5d72674c061f)
Conflicts:
	cinder/tests/unit/api/v3/test_snapshots.py
	cinder/tests/unit/volume/test_volume.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/530964/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/volume/test_snapshot.py', 'cinder/tests/unit/api/v2/test_snapshot_metadata.py', 'cinder/tests/unit/api/v3/test_snapshots.py', 'cinder/objects/snapshot.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/volume/api.py']",7,78cd77edef1a08f0472b8df0409adebb9b12e865,bug/1739995," valid_status = [""available"", ""in-use""] if force else [""available""] if volume['status'] not in valid_status: msg = _(""Volume %(vol_id)s status must be %(status)s, "" 'status': ', '.join(valid_status), volume.refresh() if volume['status'] not in valid_status: msg = _(""Volume %(vol_id)s status must be %(status)s , "" ""but current status is: "" ""%(vol_status)s."") % {'vol_id': volume['id'], 'status': ', '.join(valid_status), 'vol_status': volume['status']} raise exception.InvalidVolume(reason=msg)"," if ((not force) and (volume['status'] != ""available"")): msg = _(""Volume %(vol_id)s status must be available, """,57,11
openstack%2Fcinder~master~I9869ea08afe3c8f8f1f63bb2ead7f63388580937,openstack/cinder,master,I9869ea08afe3c8f8f1f63bb2ead7f63388580937,V2/V3 jsonschema validation: snapshots,MERGED,2017-11-17 07:40:04.000000000,2018-02-25 14:19:33.000000000,2018-01-03 02:20:49.000000000,"[{'_account_id': 2759}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24645}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26541}, {'_account_id': 27556}, {'_account_id': 27565}]","[{'number': 1, 'created': '2017-11-17 07:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1bd5bc3cbb1c7b7879ea5bed7895d209111365e', 'message': ""V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API's\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n\nPartial-Implements: bp json-schema-validation\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n""}, {'number': 2, 'created': '2017-12-15 03:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05a30d269ca8bb8aa20889ecab52fdb024aadc4a', 'message': ""V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API's\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nV2/V3 APIs accepts 'name' and 'description' parameters instead\n'display_name' and 'display_description' as these were used in\nV1. So removed these parameters from schema. If user passes these\nparameters in request body, it will raise 400 error.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n""}, {'number': 3, 'created': '2017-12-18 03:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3519cb8071554b6c59205246ca44eb8eff9d5e91', 'message': ""V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API's\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nV2/V3 APIs accepts 'name' and 'description' parameters instead\n'display_name' and 'display_description' as these were used in\nV1. So removed these parameters from schema. If user passes these\nparameters in request body, it will raise 400 error.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n""}, {'number': 4, 'created': '2017-12-18 05:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69dd8f105f3533d3b288a0af09b40f4c4f94192b', 'message': ""V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API's\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nV2/V3 APIs accepts 'name' and 'description' parameters instead\n'display_name' and 'display_description' as these were used in\nV1. So removed these parameters from schema. If user passes these\nparameters in request body, it will raise 400 error.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n""}, {'number': 5, 'created': '2017-12-19 12:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1651d801858d4b6e33c45bacc0c648f9f333a73', 'message': ""V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API's\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nV2/V3 APIs accepts 'name' and 'description' parameters instead\n'display_name' and 'display_description' as these were used in\nV1. So removed these parameters from schema. If user passes these\nparameters in request body, it will raise 400 error.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\nDepends-on: Icf4a5355134b4c7a9f102822c84d9c2404afa476\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n""}, {'number': 6, 'created': '2017-12-22 06:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3053c8acb222ef3b7d9360ed74ad462e683e1f0', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. To maintain consistency we are allowing\n\'volume_id\' to be null in schema. Secondly, in case of update API, it\naccepts both \'description\' and \'display_description\' parameters\nwhereas create API accepts only \'description\' parameter.If user\npasses display_description parameter in request body of create API,\ndescription is not set. To maintain consistency, update API also\nshouldn\'t accept \'display_description\' parameter.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 7, 'created': '2017-12-26 03:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b3ca01e1a915cf2e50df3d9d03bb8231849cadf', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. To maintain consistency we are allowing\n\'volume_id\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 8, 'created': '2017-12-26 12:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a50586b5b728d4558c41d8c7d5e04f496d5b7084', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. To maintain consistency we are allowing\n\'volume_id\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 9, 'created': '2017-12-27 07:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da28bbdc03bcfbfe091becae929b9eaa54f85cc7', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. To maintain consistency we are allowing\n\'volume_id\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 10, 'created': '2017-12-28 12:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/370585d7f11bbac13f2c7366d2f49ec795325718', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. Also on master if user passes \'metadata\' as\nnull then it is accepted. To maintain consistency we are allowing\n\'volume_id\' and \'metadata\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 11, 'created': '2017-12-29 03:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/027df401ab9c0ba7f5e304266fdc84c34a042f5c', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. Also on master if user passes \'metadata\' as\nnull then it is accepted. To maintain consistency we are allowing\n\'volume_id\' and \'metadata\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 12, 'created': '2017-12-29 06:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a78d493fb327a42cda7d75d29151740b2693bd6b', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. Also on master if user passes \'metadata\' as\nnull then it is accepted. To maintain consistency we are allowing\n\'volume_id\' and \'metadata\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}, {'number': 13, 'created': '2018-01-02 05:23:43.000000000', 'files': ['cinder/api/schemas/snapshots.py', 'cinder/api/validation/parameter_types.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/api/v2/snapshots.py', 'cinder/tests/unit/api/v2/test_snapshot_metadata.py', 'cinder/tests/unit/api/v3/test_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94460b64fb06814e18a4459e365cf207b730210b', 'message': 'V2/V3 jsonschema validation: snapshots\n\nThis patch adds jsonschema validation for below Snapshots API\'s\n* POST /v3/{project_id}/snapshots\n* PUT  /v3/{project_id}/snapshots/{snapshot_id}\n* POST /v2/{project_id}/snapshots\n* PUT  /v2/{project_id}/snapshots/{snapshot_id}\n\nNote: For create API \'volume_id\' parameter is required, if user\npasses \'volume_id\' as null, the existing behavior is it returns\n""itemNotFound""(404) error response. If we restrict user to accept\nvolume_id in uuid format only in schema validation then in that case,\nif user passes \'volume_id\' as null it will raise BadRequest(400)\nwhich will not match existing behavior and also tempest test case[1]\nwill fail in this case. Also on master if user passes \'metadata\' as\nnull then it is accepted. To maintain consistency we are allowing\n\'volume_id\' and \'metadata\' to be null in schema.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [2] and passes body as keyword argument.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42\n[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937\n'}]",5,520991,94460b64fb06814e18a4459e365cf207b730210b,250,44,13,26541,,,0,"V2/V3 jsonschema validation: snapshots

This patch adds jsonschema validation for below Snapshots API's
* POST /v3/{project_id}/snapshots
* PUT  /v3/{project_id}/snapshots/{snapshot_id}
* POST /v2/{project_id}/snapshots
* PUT  /v2/{project_id}/snapshots/{snapshot_id}

Note: For create API 'volume_id' parameter is required, if user
passes 'volume_id' as null, the existing behavior is it returns
""itemNotFound""(404) error response. If we restrict user to accept
volume_id in uuid format only in schema validation then in that case,
if user passes 'volume_id' as null it will raise BadRequest(400)
which will not match existing behavior and also tempest test case[1]
will fail in this case. Also on master if user passes 'metadata' as
null then it is accepted. To maintain consistency we are allowing
'volume_id' and 'metadata' to be null in schema.

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [2] and passes body as keyword argument.

[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/test_volumes_snapshots_negative.py#L42
[2] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997
Partial-Implements: bp json-schema-validation

Change-Id: I9869ea08afe3c8f8f1f63bb2ead7f63388580937
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/520991/12 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/schemas/snapshots.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/validation/validators.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/api/v2/snapshots.py', 'cinder/tests/unit/api/v2/test_snapshot_metadata.py', 'cinder/tests/unit/api/v3/test_snapshots.py']",7,d1bd5bc3cbb1c7b7879ea5bed7895d209111365e,bp/json-schema-validation,"import datetimeimport pytzfrom cinder import dbfrom cinder.tests.unit.api.v2 import fakes as v2_fakes req = fakes.HTTPRequest.blank('/v3/snapshots', version=""3.0"") ""host"": ""fake-host"", ""force"": ""False""} self.controller.create(req, body=body) def test_snapshot_create(self): volume = test_utils.create_volume(self.ctx) snapshot_name = 'Snapshot Test Name' snapshot_description = 'Snapshot Test Desc' snapshot = { ""volume_id"": volume.id, ""force"": False, ""name"": snapshot_name, ""description"": snapshot_description } body = dict(snapshot=snapshot) req = fakes.HTTPRequest.blank('/v3/snapshots', version=""3.0"") resp_dict = self.controller.create(req, body=body) self.assertIn('snapshot', resp_dict) self.assertEqual(snapshot_name, resp_dict['snapshot']['name']) self.assertEqual(snapshot_description, resp_dict['snapshot']['description']) self.assertIn('updated_at', resp_dict['snapshot']) db.volume_destroy(self.ctx, volume.id) @ddt.data(True, 'True', 'TRUE', 'true', '1', 'ON', 'On', 'on', 'YES', 'Yes', 'yes', 'y', 't', False, 'False', 'FALSE', 'false', '0', 'OFF', 'Off', 'off', 'NO', 'No', 'no', 'n', 'f') def test_snapshot_create_force(self, force_param): volume = test_utils.create_volume(self.ctx, status='in-use') snapshot_name = 'Snapshot Test Name' snapshot_description = 'Snapshot Test Desc' snapshot = { ""volume_id"": volume.id, ""force"": force_param, ""name"": snapshot_name, ""description"": snapshot_description } body = dict(snapshot=snapshot) req = fakes.HTTPRequest.blank('/v3/snapshots', version=""3.0"") resp_dict = self.controller.create(req, body=body) self.assertIn('snapshot', resp_dict) self.assertEqual(snapshot_name, resp_dict['snapshot']['name']) self.assertEqual(snapshot_description, resp_dict['snapshot']['description']) self.assertIn('updated_at', resp_dict['snapshot']) db.volume_destroy(self.ctx, volume.id) @ddt.data(1, 0, 'trUE', 'FaLse', ""1 "", ""**&&^^%%$$##@@"", '-1', 2, '01') def test_snapshot_create_force_failure(self, force_param): volume = test_utils.create_volume(self.ctx, status='in-use') snapshot_name = 'Snapshot Test Name' snapshot_description = 'Snapshot Test Desc' snapshot = { ""volume_id"": volume.id, ""force"": force_param, ""name"": snapshot_name, ""description"": snapshot_description } body = dict(snapshot=snapshot) req = fakes.HTTPRequest.blank('/v3/snapshots', version=""3.0"") self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) db.volume_destroy(self.ctx, volume.id) def test_snapshot_create_without_volume_id(self): snapshot_name = 'Snapshot Test Name' snapshot_description = 'Snapshot Test Desc' body = { ""snapshot"": { ""force"": True, ""name"": snapshot_name, ""description"": snapshot_description } } req = fakes.HTTPRequest.blank('/v3/snapshots', version=""3.0"") self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) @ddt.data(None, {'foo': {'a': 'b'}}, {'snapshot': 'string'}, {}) def test_create_snapshot_bad_body(self, body): req = fakes.HTTPRequest.blank('/v3/%s/snapshots' % fake.PROJECT_ID, version=""3.0"") req.method = 'POST' self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) def test_snapshot_create_with_metadata(self): volume = test_utils.create_volume(self.ctx) snapshot_name = 'Snapshot Test Name' snapshot_description = 'Snapshot Test Desc' snapshot = { ""volume_id"": volume.id, ""force"": False, ""name"": snapshot_name, ""description"": snapshot_description, ""metadata"": {""test"": ""test""} } body = dict(snapshot=snapshot) req = fakes.HTTPRequest.blank('/v3/snapshots', version=""3.0"") resp_dict = self.controller.create(req, body=body) self.assertIn('snapshot', resp_dict) self.assertEqual(snapshot_name, resp_dict['snapshot']['name']) self.assertEqual(snapshot_description, resp_dict['snapshot']['description']) self.assertIn('updated_at', resp_dict['snapshot']) db.volume_destroy(self.ctx, volume.id) def test_snapshot_create_with_invalid_metadata(self): volume = test_utils.create_volume(self.ctx, status='in-use') snapshot_name = 'Snapshot Test Name' snapshot_description = 'Snapshot Test Desc' body = { ""volume_id"": volume.id, ""force"": False, ""name"": snapshot_name, ""description"": snapshot_description, ""metadata"": ""invalid_metadata"" } req = fakes.HTTPRequest.blank('/v3/%s/snapshots' % fake.PROJECT_ID, version=""3.0"") req.method = 'POST' self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) @mock.patch.object(volume.api.API, ""update_snapshot"", side_effect=v2_fakes.fake_snapshot_update) @mock.patch('cinder.db.snapshot_metadata_get', return_value=dict()) @mock.patch('cinder.db.volume_get') @mock.patch('cinder.objects.Snapshot.get_by_id') def test_snapshot_update( self, snapshot_get_by_id, volume_get, snapshot_metadata_get, update_snapshot): snapshot = { 'id': UUID, 'volume_id': fake.VOLUME_ID, 'status': fields.SnapshotStatus.AVAILABLE, 'created_at': ""2014-01-01 00:00:00"", 'volume_size': 100, 'display_name': 'Default name', 'display_description': 'Default description', 'expected_attrs': ['metadata'], } ctx = context.RequestContext(fake.PROJECT_ID, fake.USER_ID, True) snapshot_obj = fake_snapshot.fake_snapshot_obj(ctx, **snapshot) fake_volume_obj = fake_volume.fake_volume_obj(ctx) snapshot_get_by_id.return_value = snapshot_obj volume_get.return_value = fake_volume_obj updates = { ""name"": ""Updated Test Name"", } body = {""snapshot"": updates} req = fakes.HTTPRequest.blank('/v3/snapshots/%s' % UUID, version=""3.0"") res_dict = self.controller.update(req, UUID, body=body) expected = { 'snapshot': { 'id': UUID, 'volume_id': fake.VOLUME_ID, 'status': fields.SnapshotStatus.AVAILABLE, 'size': 100, 'created_at': datetime.datetime(2014, 1, 1, 0, 0, 0, tzinfo=pytz.utc), 'updated_at': None, 'name': u'Updated Test Name', 'description': u'Default description', 'metadata': {}, } } self.assertEqual(expected, res_dict) self.assertEqual(2, len(self.notifier.notifications)) @ddt.data({}, {'name': 'missing top level snapshot key'}) def test_snapshot_update_bad_body(self, body): req = fakes.HTTPRequest.blank('/v3/snapshots/%s' % UUID, version=""3.0"") self.assertRaises(exception.ValidationError, self.controller.update, req, UUID, body=body)"," req = fakes.HTTPRequest.blank('/v3/snapshots') ""host"": ""fake-host""} self.controller.create(req, body)",354,46
openstack%2Fcinder~stable%2Fpike~I2a84ae99d71c3551814197917d114057430858b7,openstack/cinder,stable/pike,I2a84ae99d71c3551814197917d114057430858b7,Add thin provisioning package to install guide,MERGED,2017-12-28 14:10:28.000000000,2018-02-25 14:19:30.000000000,2018-01-08 02:23:37.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-28 14:10:28.000000000', 'files': ['bindep.txt', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8518fe30685fd3a47c3f4372b67bd27d28ee19b2', 'message': ""Add thin provisioning package to install guide\n\nOur installation guide walks through configuring storage nodes\nusing the LVM driver. LVM now defaults to thinly provisioned,\nwhich requires thing-provisioning-tools to be installed on the\nhost. So by default, our instructions will result in failure\nwhen we attempt to perform thin provision operations.\n\nThis adds mention of installing the required package for each\nplatform's instructions to get the necessary tools installed.\n\nIt also adds device-mapper-persistent-data to bindep for Red\nHat based platforms to get those thin provisioning tools that\nwere previously missing for these platforms.\n\nTools appear to be installed by default on Suse platforms.\n\nChange-Id: I2a84ae99d71c3551814197917d114057430858b7\nCloses-bug: #1738409\nCloses-bug: #1740262\n(cherry picked from commit 78fa04624d8ab07203a028b256e7001c1ce18679)\n""}]",1,530360,8518fe30685fd3a47c3f4372b67bd27d28ee19b2,43,20,1,11904,,,0,"Add thin provisioning package to install guide

Our installation guide walks through configuring storage nodes
using the LVM driver. LVM now defaults to thinly provisioned,
which requires thing-provisioning-tools to be installed on the
host. So by default, our instructions will result in failure
when we attempt to perform thin provision operations.

This adds mention of installing the required package for each
platform's instructions to get the necessary tools installed.

It also adds device-mapper-persistent-data to bindep for Red
Hat based platforms to get those thin provisioning tools that
were previously missing for these platforms.

Tools appear to be installed by default on Suse platforms.

Change-Id: I2a84ae99d71c3551814197917d114057430858b7
Closes-bug: #1738409
Closes-bug: #1740262
(cherry picked from commit 78fa04624d8ab07203a028b256e7001c1ce18679)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/530360/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst']",3,8518fe30685fd3a47c3f4372b67bd27d28ee19b2,bug/1738409-stable/pike, # yum install lvm2 device-mapper-persistent-data, # yum install lvm2,3,2
openstack%2Fcinder~master~I2c79d7d64b5f3c48a147410d93ae687ac0eb3cdc,openstack/cinder,master,I2c79d7d64b5f3c48a147410d93ae687ac0eb3cdc,Update 'force' parameter for volume delete API,MERGED,2017-11-28 08:31:33.000000000,2018-02-25 14:19:23.000000000,2017-12-29 00:21:56.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23140}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-28 08:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58993da059d5d76144670e33530a1367c8008968', 'message': ""Update 'force' parameter for volume delete API\n\nParameter 'force' is used in the path rather than\nbody, update the document.\n\nChange-Id: I2c79d7d64b5f3c48a147410d93ae687ac0eb3cdc\n""}, {'number': 2, 'created': '2017-12-26 00:37:10.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1adb7746132d6e7425c0a1bca7de970a7dde9db', 'message': ""Update 'force' parameter for volume delete API\n\nParameter 'force' is used in the path rather than\nbody, update the document.\n\nChange-Id: I2c79d7d64b5f3c48a147410d93ae687ac0eb3cdc\n""}]",1,523344,c1adb7746132d6e7425c0a1bca7de970a7dde9db,59,36,2,23083,,,0,"Update 'force' parameter for volume delete API

Parameter 'force' is used in the path rather than
body, update the document.

Change-Id: I2c79d7d64b5f3c48a147410d93ae687ac0eb3cdc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/523344/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,58993da059d5d76144670e33530a1367c8008968,bug/fix_force_delete_error,force_5: description: | Indicates whether to force deletes a volume even if the volume is in deleting or error_deleting. Default is ``false``. in: path required: false type: boolean min_version: 3.23,force_5: description: | Indicates whether to force deletes a volume even if the volume is in deleting or error_deleting. Default is ``false``. in: body required: false type: boolean min_version: 3.23,8,8
openstack%2Fcinder~master~Ie93c608b40968f07cbb17ec40cd22e52120fd396,openstack/cinder,master,Ie93c608b40968f07cbb17ec40cd22e52120fd396,Adding all docs into index.rst of administration docs,MERGED,2017-12-25 03:12:02.000000000,2018-02-25 14:19:06.000000000,2017-12-26 02:31:09.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-25 03:12:02.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c862e5d9349d7058374d738ec6a2cab29576a592', 'message': ""Adding all docs into index.rst of administration docs\n\nThere is only four docs ref in index.rst of administration\ndocs. It's not convenient for users to look for other\nadministration docs.\n\nThis patch will add all other docs into it.\n\nChange-Id: Ie93c608b40968f07cbb17ec40cd22e52120fd396\nCloses-Bug: #1739988\n""}]",0,529997,c862e5d9349d7058374d738ec6a2cab29576a592,28,24,1,8846,,,0,"Adding all docs into index.rst of administration docs

There is only four docs ref in index.rst of administration
docs. It's not convenient for users to look for other
administration docs.

This patch will add all other docs into it.

Change-Id: Ie93c608b40968f07cbb17ec40cd22e52120fd396
Closes-Bug: #1739988
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/529997/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,c862e5d9349d7058374d738ec6a2cab29576a592,bug/1739988, blockstorage-backup-disks.rst blockstorage-boot-from-volume.rst blockstorage-consistency-groups.rst blockstorage-driver-filter-weighing.rst blockstorage-get-capabilities.rst blockstorage-groups.rst blockstorage-image-volume-cache.rst blockstorage-lio-iscsi-support.rst blockstorage-multi-backend.rst blockstorage-nfs-backend.rst blockstorage-over-subscription.rst blockstorage-ratelimit-volume-copy-bandwidth.rst blockstorage-volume-backed-image.rst blockstorage-volume-backups-export-import.rst blockstorage-volume-backups.rst blockstorage-volume-migration.rst blockstorage-volume-number-weigher.rst,,17,0
openstack%2Fcinder~master~Idb0e5c7c6c6d7f8626b6867eada0d537589011da,openstack/cinder,master,Idb0e5c7c6c6d7f8626b6867eada0d537589011da,Bump up the API microversion in cinder.rc,MERGED,2017-12-22 14:18:10.000000000,2018-02-25 14:19:01.000000000,2017-12-22 17:04:42.000000000,"[{'_account_id': 2243}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-22 14:18:10.000000000', 'files': ['contrib/block-box/cinder.rc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ffdcaeb4ce78d27cd21d0e5069b1f841b8fd021', 'message': 'Bump up the API microversion in cinder.rc\n\nThis patch bumps up the Cinder API microversion to 3.44 in\ncinder.rc. This is required for the new attachment API to\nsupport local-attach.\n\nChange-Id: Idb0e5c7c6c6d7f8626b6867eada0d537589011da\n'}]",0,529835,3ffdcaeb4ce78d27cd21d0e5069b1f841b8fd021,30,26,1,6491,,,0,"Bump up the API microversion in cinder.rc

This patch bumps up the Cinder API microversion to 3.44 in
cinder.rc. This is required for the new attachment API to
support local-attach.

Change-Id: Idb0e5c7c6c6d7f8626b6867eada0d537589011da
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/529835/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/block-box/cinder.rc'],1,3ffdcaeb4ce78d27cd21d0e5069b1f841b8fd021,attach,export OS_VOLUME_API_VERSION=3.44,export OS_VOLUME_API_VERSION=3.27,1,1
openstack%2Fcinder~master~I6c214ec868d907ae8edb7546c5f939b0522b20ba,openstack/cinder,master,I6c214ec868d907ae8edb7546c5f939b0522b20ba,HPE 3PAR - Implement Tiramisu feature on 3PAR,MERGED,2017-12-15 13:17:57.000000000,2018-02-25 14:18:58.000000000,2017-12-22 17:22:20.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21407}, {'_account_id': 21517}, {'_account_id': 21531}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 13:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5442fea316df106dc67f14bd94c2dbee4c144278', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 2, 'created': '2017-12-15 15:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11af06d0d18996b21a7a05982066f977801431a0', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 3, 'created': '2017-12-18 13:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84a4b776b1e12523ed72dd0c37cd5611d66fda2b', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 4, 'created': '2017-12-18 13:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61ce7fe5c5052dd4c99a91f21c5525a65dcfffb5', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 5, 'created': '2017-12-19 18:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7bd4a57cbfebfa1210a31134296b56476fe2454', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 6, 'created': '2017-12-20 06:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f3c2bc3f32edbb46171a932beab311e724b4f59', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 7, 'created': '2017-12-20 10:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3c62bf866df285625cd0fc98ecaa3530413febb', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 8, 'created': '2017-12-20 12:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a971a6c4bdcdc3a5979647c0db9a51a20dbf84af', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 9, 'created': '2017-12-21 07:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6514b0c45dda7ac89aa42c5505902173a1ac77c9', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}, {'number': 10, 'created': '2017-12-22 03:38:18.000000000', 'files': ['releasenotes/notes/hpe3par-replication-group-a18a28d18de09e95.yaml', 'cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3da071994b76346a823e3bd1b5aa9582e7163cd0', 'message': 'HPE 3PAR - Implement Tiramisu feature on 3PAR\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the HPE 3PAR driver.\n\nChange-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba\nImplements: blueprint hpe3par-replication-group\n'}]",77,528266,3da071994b76346a823e3bd1b5aa9582e7163cd0,211,43,10,21407,,,0,"HPE 3PAR - Implement Tiramisu feature on 3PAR

In Tiramisu, a group construct is used to manage the group
of volumes to be replicated together for the ease of management.
This patch adds this support to the HPE 3PAR driver.

Change-Id: I6c214ec868d907ae8edb7546c5f939b0522b20ba
Implements: blueprint hpe3par-replication-group
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/528266/9 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe3par-replication-group-a18a28d18de09e95.yaml', 'cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",4,5442fea316df106dc67f14bd94c2dbee4c144278,bp/hpe3par-replication-group," 'flash_cache', 'compression', 'tiramisu'] if (not volume_utils.is_group_a_cg_snapshot_type(group) and not group.is_replicated): model_update = {'status': fields.GroupStatus.AVAILABLE} if group.is_replicated: LOG.debug(""Group: %(group)s is a replication group."", {'group': group.id}) # Check replication configuration on each volume type self._check_replication_configuration_on_volume_types( group.volume_types) # Check hpe3par:tiramisu flag in each volume type. self._check_tiramisu_configuration_on_volume_types( group.volume_types) # Attributes of Remote must be same on each volume type self._check_attributes_of_remote_per_volume_type(group) # Create remote copy group self._create_remote_copy_group_for_group(group) # Start Remote copy self._start_remote_copy_group(group) model_update.update({ 'replication_status': fields.ReplicationStatus.ENABLED}) volumes_model_update = [] replication_flag = False model_update = {'status': fields.GroupStatus.AVAILABLE} if group.is_replicated: replication_flag = True # Stop remote copy, so we can add volumes in RCG. self._stop_remote_copy_group(group) volume_name = self._get_3par_vol_name(volume.get('id')) if group.is_replicated: # Add volume to remote copy group self._add_vol_to_remote_copy_group(group, volume) volume_model_update = self._get_model_update( volume.get('host'), cpg, replication=replication_flag, provider_location=self.client.id) if volume_model_update is not None: volume_model_update.update({'id': volume['id']}) # Update volumes_model_update volumes_model_update.append(volume_model_update) if group.is_replicated: # Start remote copy. self._start_remote_copy_group(group) model_update.update({ 'replication_status': fields.ReplicationStatus.ENABLED}) return model_update, volumes_model_update if (not volume_utils.is_group_a_cg_snapshot_type(group) and not group.is_replicated): raise NotImplementedError() if group.is_replicated: self._remove_volumes_and_remote_copy_group(group, volumes) try: volume_update = {'id': volume.get('id')} if not grp_snap_enable and not group.is_replicated: add_volume = [] remove_volume = [] vol_rep_status = fields.ReplicationStatus.ENABLED # If replication is enabled on a group then we need # to stop RCG, so we can add/remove in/from RCG. if group.is_replicated: # Check replication status on a group. self._check_rep_status_enabled_on_group(group) # Stop remote copy. self._stop_remote_copy_group(group) for volume in add_volumes: volume_name = self._get_3par_vol_name(volume.get('id')) volume.get('volume_type')) try: if vol_snap_enable: self._check_replication_matched(volume, group) if group.is_replicated: # Add volume to remote copy group self._add_vol_to_remote_copy_group(group, volume) # We have introduced one flag hpe3par:tiramisu in # extra_spec of volume_type,which denotes group level # replication on 3par,so when a volume from this type # is added into group we need to set replication_status # on a volume. update = {'id': volume.get('id'), 'replication_status': vol_rep_status} add_volume.append(update) volume_name = self._get_3par_vol_name(volume.get('id')) if group.is_replicated: # Remove a volume from remote copy group self._remove_vol_from_remote_copy_group( group, volume) update = {'id': volume.get('id'), 'replication_status': None} remove_volume.append(update) if group.is_replicated: # Start remote copy. self._start_remote_copy_group(group) return None, add_volume, remove_volume is_volume_replicated = self._volume_of_replicated_type( volume, hpe_tiramisu_check=True) volume_part_of_group = \ self._volume_of_hpe_tiramisu_type_and_part_of_group(volume) if volume_part_of_group: group = volume.get('group') rcg_name = self._get_3par_rcg_name_of_group(group.id) if ((is_volume_replicated or volume_part_of_group) and not is_failed_over): if ((is_volume_replicated or volume_part_of_group) and not is_failed_over): if is_volume_replicated or volume_part_of_group: 'group_replication_enabled': self._replication_enabled, 'consistent_group_replication_enabled': self._replication_enabled # Check group level replication hpe3par_tiramisu = self._get_key_value(hpe3par_keys, 'tiramisu') 'tpvv': tpvv, 'tdvv': tdvv, 'volume_type': volume_type, 'tiramisu': hpe3par_tiramisu} # This flag denotes group level replication on # hpe 3par. hpe_tiramisu = False consis_group_snap_type = self.is_volume_group_snap_type( volume_type) group = volume.get('group', None) # v2 replication check replication_flag = False if consis_group_snap_type: if (self._volume_of_hpe_tiramisu_type(volume)): hpe_tiramisu = True # Add volume to remote group. if ((group is not None) and hpe_tiramisu): if group.is_replicated: self._check_rep_status_enabled_on_group(group) self._add_vol_to_remote_group(group, volume) replication_flag = True if (self._volume_of_replicated_type(volume, hpe_tiramisu_check=True) and (self._do_volume_replication_setup(volume))): provider_location=self.client.id, hpe_tiramisu=hpe_tiramisu) provider_location=None, hpe_tiramisu=None): if hpe_tiramisu and provider_location: model_update['provider_location'] = provider_location hpe_tiramisu = False if (self._volume_of_replicated_type(volume, hpe_tiramisu_check=True) and (self._do_volume_replication_setup(volume))): if self._volume_of_hpe_tiramisu_type(volume): hpe_tiramisu = True provider_location=self.client.id, hpe_tiramisu=hpe_tiramisu) if self._volume_of_replicated_type(volume, hpe_tiramisu_check=True): if self._volume_of_hpe_tiramisu_type(volume): model_update['provider_location'] = self.client.id if (self._volume_of_replicated_type(volume, hpe_tiramisu_check=True) and (self._do_volume_replication_setup(volume))): volume_part_of_group = \ self._volume_of_hpe_tiramisu_type_and_part_of_group(volume) if volume_part_of_group: group = volume.get('group') rcg_name = self._get_3par_rcg_name_of_group(group.id) replication_flag = self._volume_of_replicated_type( volume, hpe_tiramisu_check=True) if replication_flag or volume_part_of_group: if replication_flag or volume_part_of_group: def failover_host(self, context, volumes, secondary_backend_id, groups): volume_update_list = [] group_update_list = [] # We are removing volumes which are part of group, # So creating volume_copy before doing that. # After failover/failback operatio,making volumes as like # previous with the help of volume_copy. volumes_copy = [] volumes_copy[:] = volumes secondary_backend_id == self.FAILBACK_VALUE): failover = False target_id = None group_target_id = self.FAILBACK_VALUE failover = True group_target_id = target_id if groups: for group in groups: vol_list = [] vols_obj = [] for index, vol in enumerate(volumes): if vol.get('group_id') == group.id: vols_obj.append(vol) vol_list.append(volumes[index]) for vol_obj in vols_obj: # Remove volumes which are part of a group. volumes.remove(vol_obj) grp_update, vol_updates = ( self.failover_replication( None, group, vol_list, group_target_id, host=True)) group_update_list.append({'group_id': group.id, 'updates': grp_update}) volume_update_list += vol_updates # user requested failback. if not failover: vol_updates = self._replication_failback(volumes) volume_update_list += vol_updates # user requested failover. else: for volume in volumes: if self._volume_of_replicated_type(volume, hpe_tiramisu_check=True): 'updates': {'replication_status': 'failed-over', 'replication_driver_data': failover_target['id']}}) volumes[:] = volumes_copy return target_id, volume_update_list, group_update_list if self._volume_of_replicated_type(volume, hpe_tiramisu_check=True): 'updates': {'replication_status': 'available', 'replication_driver_data': self.client.id}}) if self._volume_of_replicated_type(volume, hpe_tiramisu_check=True): if not self._are_targets_in_their_natural_direction(rcg): return False extra_specs = volume_type.get('extra_specs') def _volume_of_replicated_type(self, volume, hpe_tiramisu_check=None): if hpe_tiramisu_check and replicated_type: hpe3par_tiramisu = self._get_hpe3par_tiramisu_value( volume_type) if hpe3par_tiramisu: replicated_type = False return replicated_type def _volume_of_hpe_tiramisu_type(self, volume): hpe_tiramisu_type = False replicated_type = False volume_type_id = volume.get('volume_type_id') if volume_type_id: volume_type = self._get_volume_type(volume_type_id) extra_specs = volume_type.get('extra_specs') if extra_specs and 'replication_enabled' in extra_specs: rep_val = extra_specs['replication_enabled'] replicated_type = (rep_val == ""<is> True"") if replicated_type: hpe3par_tiramisu = self._get_hpe3par_tiramisu_value( volume_type) if hpe3par_tiramisu: hpe_tiramisu_type = True return hpe_tiramisu_type def _volume_of_hpe_tiramisu_type_and_part_of_group(self, volume): volume_part_of_group = False hpe_tiramisu_type = self._volume_of_hpe_tiramisu_type(volume) if hpe_tiramisu_type: if volume.get('group'): volume_part_of_group = True return volume_part_of_group def _is_volume_type_replicated(self, volume_type): replicated_type = False extra_specs = volume_type.get('extra_specs') if extra_specs and 'replication_enabled' in extra_specs: rep_val = extra_specs['replication_enabled'] replicated_type = (rep_val == ""<is> True"") def _get_3par_rcg_name_of_group(self, group_id): rcg_name = self._encode_name(group_id) rcg = ""rcg-%s"" % rcg_name return rcg[:22] def _get_3par_remote_rcg_name_of_group(self, group_id, provider_location): return self._get_3par_rcg_name_of_group(group_id) + "".r"" + ( six.text_type(provider_location)) def _get_hpe3par_tiramisu_value(self, volume_type): hpe3par_tiramisu = False hpe3par_keys = self._get_keys_by_volume_type(volume_type) if hpe3par_keys.get('tiramisu'): hpe3par_tiramisu = (hpe3par_keys['tiramisu'] == ""<is> True"") return hpe3par_tiramisu def _stop_remote_copy_group(self, group): # Stop remote copy. rcg_name = self._get_3par_rcg_name_of_group(group.id) try: self.client.stopRemoteCopy(rcg_name) except Exception: pass def _start_remote_copy_group(self, group): # Start remote copy. rcg_name = self._get_3par_rcg_name_of_group(group.id) rcg = self.client.getRemoteCopyGroup(rcg_name) if not rcg['volumes']: return try: self.client.startRemoteCopy(rcg_name) except Exception as ex: msg = (_(""There was an error starting remote copy: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _check_rep_status_enabled_on_group(self, group): """"""Check replication status for group. Group status must be enabled before proceeding with certain operations. :param group: the group object :raises: InvalidInput """""" if group.is_replicated: if group.replication_status != fields.ReplicationStatus.ENABLED: msg = (_('Replication status should be %(status)s for ' 'replication-enabled group: %(group)s.') % {'status': fields.ReplicationStatus.ENABLED, 'group': group.id}) LOG.error(msg) raise exception.InvalidInput(reason=msg) if not self._replication_enabled: host_backend = volume_utils.extract_host(group.host, 'backend') msg = _(""replication is not properly configured on backend: "" ""(backend)%s"") % {'backend': host_backend} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) else: LOG.debug('Replication is not enabled on group %s, ' 'skip status check.', group.id) def _get_replication_mode_from_volume(self, volume): volume_type = self._get_volume_type(volume[""volume_type_id""]) replication_mode_num = \ self._get_replication_mode_from_volume_type(volume_type) return replication_mode_num def _get_replication_mode_from_volume_type(self, volume_type): # Default replication mode is PERIODIC replication_mode_num = self.PERIODIC extra_specs = volume_type.get(""extra_specs"") if extra_specs: replication_mode = extra_specs.get( self.EXTRA_SPEC_REP_MODE, self.DEFAULT_REP_MODE) replication_mode_num = self._get_remote_copy_mode_num( replication_mode) return replication_mode_num def _get_replication_sync_period_from_volume(self, volume): volume_type = self._get_volume_type(volume[""volume_type_id""]) replication_sync_period = \ self._get_replication_sync_period_from_volume_type(volume_type) return replication_sync_period def _get_replication_sync_period_from_volume_type(self, volume_type): # Default replication sync period is 900s replication_sync_period = self.DEFAULT_SYNC_PERIOD rep_mode = self.DEFAULT_REP_MODE extra_specs = volume_type.get(""extra_specs"") if extra_specs: replication_sync_period = extra_specs.get( self.EXTRA_SPEC_REP_SYNC_PERIOD, self.DEFAULT_SYNC_PERIOD) replication_sync_period = int(replication_sync_period) if not self._is_replication_mode_correct(rep_mode, replication_sync_period): msg = _(""The replication mode was not configured "" ""correctly in the volume type extra_specs. "" ""If replication:mode is periodic, "" ""replication:sync_period must also be specified "" ""and be between 300 and 31622400 seconds."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return replication_sync_period def _check_replication_matched(self, volume, group): """"""Check volume type and group type. This will make sure they do not conflict with each other. :param volume: volume to be checked :param extra_specs: the extra specifications :raises: InvalidInput """""" vol_is_re = self._volume_of_replicated_type(volume) group_is_re = group.is_replicated if not (vol_is_re == group_is_re): msg = _('Replication should be enabled or disabled for both ' 'volume or group. Volume replication status: ' '%(vol_status)s, group replication status: ' '%(group_status)s') % { 'vol_status': vol_is_re, 'group_status': group_is_re} raise exception.InvalidInput(reason=msg) def _remove_vol_from_remote_copy_group(self, group, volume): rcg_name = self._get_3par_rcg_name_of_group(group.id) vol_name = self._get_3par_vol_name(volume.get('id')) try: # Delete volume from remote copy group on secondary array. self.client.removeVolumeFromRemoteCopyGroup( rcg_name, vol_name, removeFromTarget=True) except Exception as ex: # Start RCG even if we fail to remove volume from it. self._start_remote_copy_group(group) msg = (_(""There was an error removing a volume: %(volume)s from "" ""Group: %(group)s : %(err)s"") % {'volume': volume.get('id'), 'group': group.id, 'err': six.text_type(ex)}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _add_vol_to_remote_group(self, group, volume): # Stop remote copy, so we can add volumes in RCG. self._stop_remote_copy_group(group) # Add a volume to RCG self._add_vol_to_remote_copy_group(group, volume) # Start RCG self._start_remote_copy_group(group) def _add_vol_to_remote_copy_group(self, group, volume): rcg_name = self._get_3par_rcg_name_of_group(group.id) try: rcg = self.client.getRemoteCopyGroup(rcg_name) # If volumes are not present in RCG, which means we need to set, # RCG attributes. if not len(rcg['volumes']): self._set_rcg_attributes(volume, rcg_name) self._add_vol_to_remote(volume, rcg_name) # If replication mode is periodic then set sync period on RCG. self._set_rcg_sync_period(volume, rcg_name) except Exception as ex: # Start RCG even if we fail to add volume to it self._start_remote_copy_group(group) msg = (_(""There was an error adding a volume: %(volume)s to "" ""Group: %(group)s : %(err)s"") % {'volume': volume.get('id'), 'group': group.id, 'err': six.text_type(ex)}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _set_rcg_sync_period(self, volume, rcg_name): sync_targets = [] replication_mode_num = self._get_replication_mode_from_volume(volume) replication_sync_period = \ self._get_replication_sync_period_from_volume(volume) if not (replication_mode_num == self.PERIODIC): return rcg = self.client.getRemoteCopyGroup(rcg_name) # Check and see if we are in periodic mode. If we are, update # Remote Copy Group to have a sync period. if len(rcg['volumes']) and rcg.get('syncPeriod'): if replication_sync_period != int(rcg.get('syncPeriod')): for target in self._replication_targets: if target['replication_mode'] == replication_mode_num: sync_target = {'targetName': target['backend_id'], 'syncPeriod': replication_sync_period} sync_targets.append(sync_target) opt = {'targets': sync_targets} try: self.client.modifyRemoteCopyGroup(rcg_name, opt) except Exception as ex: msg = (_(""There was an error setting the sync period for "" ""the remote copy group: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _set_rcg_attributes(self, volume, rcg_name): rcg_targets = [] vol_settings = self.get_volume_settings_from_type(volume) local_cpg = vol_settings['cpg'] replication_mode_num = self._get_replication_mode_from_volume(volume) for target in self._replication_targets: if target['replication_mode'] == replication_mode_num: cpg = self._get_cpg_from_cpg_map(target['cpg_map'], local_cpg) rcg_target = {'targetName': target['backend_id'], 'remoteUserCPG': cpg, 'remoteSnapCPG': cpg} rcg_targets.append(rcg_target) optional = {'localSnapCPG': vol_settings['snap_cpg'], 'localUserCPG': local_cpg, 'targets': rcg_targets} try: self.client.modifyRemoteCopyGroup(rcg_name, optional) except Exception as ex: msg = (_(""There was an error modifying the remote copy "" ""group: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _add_vol_to_remote(self, volume, rcg_name): # Add a volume to remote copy group. rcg_targets = [] vol_name = self._get_3par_vol_name(volume.get('id')) replication_mode_num = self._get_replication_mode_from_volume(volume) for target in self._replication_targets: if target['replication_mode'] == replication_mode_num: rcg_target = {'targetName': target['backend_id'], 'secVolumeName': vol_name} rcg_targets.append(rcg_target) optional = {'volumeAutoCreation': True} try: self.client.addVolumeToRemoteCopyGroup(rcg_name, vol_name, rcg_targets, optional=optional) except Exception as ex: msg = (_(""There was an error adding the volume to the remote "" ""copy group: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _is_group_in_remote_copy_group(self, group): rcg_name = self._get_3par_rcg_name_of_group(group.id) try: self.client.getRemoteCopyGroup(rcg_name) return True except hpeexceptions.HTTPNotFound: return False def _remove_volumes_and_remote_copy_group(self, group, volumes): if not self._is_group_in_remote_copy_group(group): return True rcg_name = self._get_3par_rcg_name_of_group(group.id) # Stop remote copy. try: self.client.stopRemoteCopy(rcg_name) except Exception: pass for volume in volumes: vol_name = self._get_3par_vol_name(volume.get('id')) # Delete volume from remote copy group on secondary array. try: self.client.removeVolumeFromRemoteCopyGroup( rcg_name, vol_name, removeFromTarget=True) except Exception: pass # Delete remote copy group on main array. try: self.client.removeRemoteCopyGroup(rcg_name) except Exception as ex: msg = (_(""There was an error deleting RCG %(rcg_name)s: "" ""%(error)s."") % {'rcg_name': rcg_name, 'error': ex}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _check_tiramisu_configuration_on_volume_types(self, volume_types): for volume_type in volume_types: self._check_tiramisu_configuration_on_volume_type(volume_type) def _check_tiramisu_configuration_on_volume_type(self, volume_type): hpe3par_tiramisu = self._get_hpe3par_tiramisu_value(volume_type) if not hpe3par_tiramisu: msg = _(""hpe3par:tiramisu is not set on volume type: "" ""(id)%s"") % {'id': volume_type.get('id')} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return hpe3par_tiramisu def _check_replication_configuration_on_volume_types(self, volume_types): for volume_type in volume_types: replicated_type = self._is_volume_type_replicated(volume_type) if not replicated_type: msg = _(""replication is not set on volume type: "" ""(id)%s"") % {'id': volume_type.get('id')} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _check_attributes_of_remote_per_volume_type(self, group): rep_modes = [] rep_sync_periods = [] for volume_type in group.volume_types: replication_mode_num = \ self._get_replication_mode_from_volume_type(volume_type) rep_modes.append(replication_mode_num) if replication_mode_num == self.PERIODIC: rep_sync_period = \ self._get_replication_sync_period_from_volume_type( volume_type) rep_sync_periods.append(rep_sync_period) # Check attributes of Remote on all volume types are same or not? if not (all(x == rep_modes[0] for x in rep_modes) and all(y == rep_sync_periods[0] for y in rep_sync_periods)): msg = _(""replication mode or replication sync period must be same "" ""on each volume type of Group:(id)%s"") % {'id': group.id} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _create_remote_copy_group_for_group(self, group): # Create remote copy group on main array. host_backend = volume_utils.extract_host(group.host, 'backend') rcg_targets = [] optional = {} if not self._replication_enabled: msg = _(""replication is not properly configured on backend: "" ""(backend)%s"") % {'backend': host_backend} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) rcg_name = self._get_3par_rcg_name_of_group(group.id) replication_mode_num = \ self._get_replication_mode_from_volume_type(group.volume_types[0]) for target in self._replication_targets: if (target['replication_mode'] == replication_mode_num): rcg_target = {'targetName': target['backend_id'], 'mode': target['replication_mode']} rcg_targets.append(rcg_target) pool = volume_utils.extract_host(group.host, level='pool') domain = self.get_domain(pool) if domain: optional = {""domain"": domain} try: self.client.createRemoteCopyGroup(rcg_name, rcg_targets, optional) except Exception as ex: msg = (_(""There was an error creating the remote copy "" ""group: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) def _are_targets_in_their_natural_direction(self, rcg): targets = rcg['targets'] for target in targets: if target['roleReversed'] or ( target['state'] != self.RC_GROUP_STARTED): return False # Make sure all volumes are fully synced. volumes = rcg['volumes'] for volume in volumes: remote_volumes = volume['remoteVolumes'] for remote_volume in remote_volumes: if remote_volume['syncStatus'] != ( self.SYNC_STATUS_COMPLETED): return False return True def _group_failover_replication(self, failover_target, group, provider_location): rcg_name = self._get_3par_rcg_name_of_group(group.id) try: # Try and stop remote-copy on main array. We eat the # exception here because when an array goes down, the # groups will stop automatically. self.client.stopRemoteCopy(rcg_name) except Exception: pass try: # Failover to secondary array. remote_rcg_name = self._get_3par_remote_rcg_name_of_group( group.id, provider_location) cl = self._create_replication_client(failover_target) cl.recoverRemoteCopyGroupFromDisaster( remote_rcg_name, self.RC_ACTION_CHANGE_TO_PRIMARY) except Exception as ex: msg = (_(""There was a problem with the failover: "" ""(%(error)s) and it was unsuccessful."") % {'err': six.text_type(ex)}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) finally: self._destroy_replication_client(cl) def _group_failback_replication(self, failback_target, group, provider_location): remote_rcg_name = self._get_3par_remote_rcg_name_of_group( group.id, provider_location) try: cl = self._create_replication_client(failback_target) remote_rcg = cl.getRemoteCopyGroup(remote_rcg_name) except Exception as ex: msg = (_(""There was a problem with the failback: "" ""(%(error)s) and it was unsuccessful."") % {'err': six.text_type(ex)}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) finally: self._destroy_replication_client(cl) if not self._are_targets_in_their_natural_direction(remote_rcg): msg = _(""The host is not ready to be failed back. Please "" ""resynchronize the volumes and resume replication on the "" ""3PAR backends."") LOG.error(msg) raise exception.InvalidReplicationTarget(reason=msg) def enable_replication(self, context, group, volumes): """"""Enable replication for a group. :param context: the context :param group: the group object :param volumes: the list of volumes :returns: model_update, None """""" model_update = {} if not group.is_replicated: raise NotImplementedError() if not volumes: # Return if empty group return model_update, None try: vvs_name = self._get_3par_vvs_name(group.id) rcg_name = self._get_3par_rcg_name_of_group(group.id) # Check VV and RCG exist on 3par, # if RCG exist then start RCG self.client.getVolumeSet(vvs_name) self.client.startRemoteCopy(rcg_name) except hpeexceptions.HTTPNotFound as ex: # The remote-copy group does not exist or # set does not exist. if (ex.get_code() == 187 or ex.get_code() == 102): raise exception.GroupNotFound(group_id=group.id) except hpeexceptions.HTTPForbidden as ex: # The remote-copy group has already been started. if (ex.get_code() == 215): pass except Exception as ex: model_update.update({ 'replication_status': fields.ReplicationStatus.ERROR}) LOG.error(""Error enabling replication on group %(group)s. "" ""Exception received: %(e)s."", {'group': group.id, 'e': six.text_type(ex)}) return model_update, None def disable_replication(self, context, group, volumes): """"""Disable replication for a group. :param context: the context :param group: the group object :param volumes: the list of volumes :returns: model_update, None """""" model_update = {} if not group.is_replicated: raise NotImplementedError() if not volumes: # Return if empty group return model_update, None try: vvs_name = self._get_3par_vvs_name(group.id) rcg_name = self._get_3par_rcg_name_of_group(group.id) # Check VV and RCG exist on 3par, # if RCG exist then stop RCG self.client.getVolumeSet(vvs_name) self.client.stopRemoteCopy(rcg_name) except hpeexceptions.HTTPNotFound as ex: # The remote-copy group does not exist or # set does not exist. if (ex.get_code() == 187 or ex.get_code() == 102): raise exception.GroupNotFound(group_id=group.id) except Exception as ex: model_update.update({ 'replication_status': fields.ReplicationStatus.ERROR}) LOG.error(""Error disabling replication on group %(group)s. "" ""Exception received: %(e)s."", {'group': group.id, 'e': six.text_type(ex)}) return model_update, None def failover_replication(self, context, group, volumes, secondary_backend_id=None, host=False): """"""Failover replication for a group. :param context: the context :param group: the group object :param volumes: the list of volumes :param secondary_backend_id: the secondary backend id - default None :param host: flag to indicate if whole host is being failed over :returns: model_update, None """""" model_update = {} vol_model_updates = [] failover_target = None failback_target = None rep_data = None if not group.is_replicated: raise NotImplementedError() if not volumes: # Return if empty group return model_update, vol_model_updates if not self._replication_enabled: msg = _(""Issuing a fail-over failed because replication is "" ""not properly configured."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) try: provider_location = volumes[0].get('provider_location') replication_driver_data = volumes[0].get('replication_driver_data') failover = False if secondary_backend_id == 'default' else True if failover: # Find the failover target. for target in self._replication_targets: if target['backend_id'] == secondary_backend_id: failover_target = target break if not failover_target: msg = _(""A valid secondary target MUST be specified "" ""in order to failover."") LOG.error(msg) raise exception.InvalidReplicationTarget(reason=msg) self._group_failover_replication(failover_target, group, provider_location) model_update.update({ 'replication_status': fields.ReplicationStatus.FAILED_OVER}) vol_rep_status = fields.ReplicationStatus.FAILED_OVER else: # Find the failback target. for target in self._replication_targets: if target['id'] == replication_driver_data: failback_target = target break if not failback_target: msg = _(""A valid target is not found "" ""in order to failback."") LOG.error(msg) raise exception.InvalidReplicationTarget(reason=msg) self._group_failback_replication(failback_target, group, provider_location) model_update.update({ 'replication_status': fields.ReplicationStatus.ENABLED}) vol_rep_status = fields.ReplicationStatus.ENABLED except Exception as ex: model_update.update({ 'replication_status': fields.ReplicationStatus.ERROR}) vol_rep_status = fields.ReplicationStatus.ERROR LOG.error(""Error failover replication on group %(group)s. "" ""Exception received: %(e)s."", {'group': group.id, 'e': six.text_type(ex)}) rep_data = target['id'] for vol in volumes: loc = vol.get('provider_location') update = {'id': vol.get('id'), 'replication_status': vol_rep_status, 'provider_location': loc, 'replication_driver_data': rep_data} if host: update = {'volume_id': vol.get('id'), 'updates': update} vol_model_updates.append(update) return model_update, vol_model_updates if (common._volume_of_replicated_type(volume, hpe_tiramisu_check=True) and new_replicated_type): elif (not common._volume_of_replicated_type(volume, hpe_tiramisu_check=True) and new_replicated_type): elif common._volume_of_replicated_type(volume, hpe_tiramisu_check=True):"," 'flash_cache', 'compression'] if not volume_utils.is_group_a_cg_snapshot_type(group): model_update = {'status': fields.GroupStatus.AVAILABLE} volume_name = self._get_3par_vol_name(volume.id) return None, None try: if not volume_utils.is_group_a_cg_snapshot_type(group): raise NotImplementedError() volume_update = {'id': volume.id} if not grp_snap_enable: for volume in add_volumes: volume_name = self._get_3par_vol_name(volume.id) volume.volume_type) try: if grp_snap_enable and vol_snap_enable: volume_name = self._get_3par_vol_name(volume.id) return None, None, None is_volume_replicated = self._volume_of_replicated_type(volume) if is_volume_replicated and not is_failed_over: if is_volume_replicated and not is_failed_over: if is_volume_replicated: 'tpvv': tpvv, 'tdvv': tdvv, 'volume_type': volume_type} extra_specs = volume_type.get('extra_specs', None) if extra_specs: gsnap_val = extra_specs.get( 'consistent_group_snapshot_enabled', None) if gsnap_val is not None and gsnap_val == ""<is> True"": consis_group_snap_type = True # v2 replication check replication_flag = False if self._volume_of_replicated_type(volume) and ( self._do_volume_replication_setup(volume)): provider_location=self.client.id) provider_location=None): if self._volume_of_replicated_type(volume) and ( self._do_volume_replication_setup(volume)): provider_location=self.client.id) if self._volume_of_replicated_type(volume): if self._volume_of_replicated_type(volume) and ( self._do_volume_replication_setup(volume)): replication_flag = self._volume_of_replicated_type(volume) if replication_flag: if replication_flag: def failover_host(self, context, volumes, secondary_backend_id): secondary_backend_id == self.FAILBACK_VALUE): volume_update_list = self._replication_failback(volumes) target_id = None volume_update_list = [] for volume in volumes: if self._volume_of_replicated_type(volume): 'updates': {'replication_status': 'failed-over'}}) return target_id, volume_update_list if self._volume_of_replicated_type(volume): 'updates': {'replication_status': 'available'}}) if self._volume_of_replicated_type(volume): # Make sure all targets are in their natural direction. targets = rcg['targets'] for target in targets: if target['roleReversed'] or ( target['state'] != self.RC_GROUP_STARTED): return False # Make sure all volumes are fully synced. volumes = rcg['volumes'] for volume in volumes: remote_volumes = volume['remoteVolumes'] for remote_volume in remote_volumes: if remote_volume['syncStatus'] != ( self.SYNC_STATUS_COMPLETED): return False extra_specs = volume_type.extra_specs def _volume_of_replicated_type(self, volume): if common._volume_of_replicated_type(volume) and new_replicated_type: elif (not common._volume_of_replicated_type(volume) and new_replicated_type): elif common._volume_of_replicated_type(volume):",1948,81
openstack%2Fcinder~master~Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,openstack/cinder,master,Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,StorageCenter: Fix volume mapping for API v3.1,MERGED,2017-12-21 18:18:32.000000000,2018-02-25 14:18:56.000000000,2017-12-23 18:26:26.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-21 18:18:32.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b50e08bcd8618d9b7935b0245d8b764912c919be', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n'}]",0,529669,b50e08bcd8618d9b7935b0245d8b764912c919be,38,35,1,9535,,,0,"StorageCenter: Fix volume mapping for API v3.1

Volume attachment fails on StorageCenter API v3.1 because the backend
instead of returning wwn or WWN as the key in the controller port it
returns wWN, thus preventing the driver from finding the mapping.

This patch adds support to any combination of upper and lower case of
the WWN key.

Closes-Bug: #1739651
Change-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/529669/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py']",2,b50e08bcd8618d9b7935b0245d8b764912c919be,bug/1739651," @staticmethod def _get_wwn(controllerport): """"""Return the WWN value of the controller port. Usually the WWN key in the controller port is wwn or WWN, but there are cases where the backend returns wWW, so we have to check all the keys. """""" for key, value in controllerport.items(): if key.lower() == 'wwn': return value return None wwn = self._get_wwn(controllerport)"," wwn = controllerport.get('wwn', controllerport.get('WWN'))",32,14
openstack%2Fcinder~stable%2Fpike~I263c3f5201ac76773a9c962ec958f02f601c6adc,openstack/cinder,stable/pike,I263c3f5201ac76773a9c962ec958f02f601c6adc,Raise PolicyNotAuthorized exception on consistency Group snapshot,MERGED,2017-12-21 04:24:25.000000000,2018-02-25 14:18:53.000000000,2018-01-17 05:15:45.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14532}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25747}, {'_account_id': 26537}, {'_account_id': 27399}]","[{'number': 1, 'created': '2017-12-21 04:24:25.000000000', 'files': ['cinder/api/contrib/cgsnapshots.py', 'cinder/tests/unit/api/contrib/test_cgsnapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/33740139c53a7ca0ae910da90e5f2f756225675f', 'message': 'Raise PolicyNotAuthorized exception on consistency Group snapshot\n\nIn role based access control test case, a consistencyGroup snapshot\ndelete when attempted by Non-admin role/user does not return\nan informative policy not authorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception\nexplicitly to raise the appropriate message and error code\nto the caller method, includes a new unit test case.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n(cherry picked from commit 3f86310b44105b53846820d262d82091cf58f8f0)\n'}]",0,529466,33740139c53a7ca0ae910da90e5f2f756225675f,46,23,1,20050,,,0,"Raise PolicyNotAuthorized exception on consistency Group snapshot

In role based access control test case, a consistencyGroup snapshot
delete when attempted by Non-admin role/user does not return
an informative policy not authorized message.

The proposed fix catches the PolicyNotAuthorized exception
explicitly to raise the appropriate message and error code
to the caller method, includes a new unit test case.

Closes-bug:#1722736

Change-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc
(cherry picked from commit 3f86310b44105b53846820d262d82091cf58f8f0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/529466/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/cgsnapshots.py', 'cinder/tests/unit/api/contrib/test_cgsnapshots.py']",2,33740139c53a7ca0ae910da90e5f2f756225675f,bug/1722736-stable/pike," @mock.patch('cinder.group.API.delete_group_snapshot') def test_delete_cgsnapshot_delete_policy_not_auth(self, mock_delete): vol_type = utils.create_volume_type(context.get_admin_context(), self, name='my_vol_type') consistencygroup = utils.create_group( self.context, group_type_id=fake.GROUP_TYPE_ID, volume_type_ids=[vol_type['id']]) volume_id = utils.create_volume(self.context, volume_type_id=vol_type['id'], group_id= consistencygroup.id)['id'] cgsnapshot = utils.create_group_snapshot( self.context, group_id=consistencygroup.id, group_type_id=fake.GROUP_TYPE_ID, status='available') mock_delete.side_effect = exception.PolicyNotAuthorized( message='PolicyNotAuthorized') req = webob.Request.blank('/v2/%s/cgsnapshots/%s' % (fake.PROJECT_ID, cgsnapshot.id)) req.method = 'DELETE' req.headers['Content-Type'] = 'application/json' res = req.get_response(fakes.wsgi_app( fake_auth_context=self.user_ctxt)) res_dict = jsonutils.loads(res.body) self.assertEqual('PolicyNotAuthorized', res_dict['forbidden']['message']) cgsnapshot.destroy() db.volume_destroy(context.get_admin_context(), volume_id) consistencygroup.destroy()",,36,5
openstack%2Fcinder~master~I92b42600b71fbdfe1b84046c59ab485f333be889,openstack/cinder,master,I92b42600b71fbdfe1b84046c59ab485f333be889,NEC driver: add automatic configuration of SAN access control.,MERGED,2017-12-21 00:08:41.000000000,2018-02-25 14:18:32.000000000,2017-12-29 00:21:52.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-21 00:08:41.000000000', 'files': ['releasenotes/notes/nec-auto-accesscontrol-55f4b090e8128f5e.yaml', 'cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4dd162bcddba85dee5920e147e0b9ce189be276', 'message': 'NEC driver: add automatic configuration of SAN access control.\n\nNEC driver user has to register WWPNs or an initiator name of every\nnode to storage. This is inconvenient for the user.\nThis patch enables NEC driver to configure SAN access control\nautomatically.\n\nChange-Id: I92b42600b71fbdfe1b84046c59ab485f333be889\nCloses-Bug: #1737452\n'}]",0,529430,d4dd162bcddba85dee5920e147e0b9ce189be276,38,33,1,23885,,,0,"NEC driver: add automatic configuration of SAN access control.

NEC driver user has to register WWPNs or an initiator name of every
node to storage. This is inconvenient for the user.
This patch enables NEC driver to configure SAN access control
automatically.

Change-Id: I92b42600b71fbdfe1b84046c59ab485f333be889
Closes-Bug: #1737452
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/529430/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nec-auto-accesscontrol-55f4b090e8128f5e.yaml', 'cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py']",5,d4dd162bcddba85dee5920e147e0b9ce189be276,bug/1737452," if self._properties['auto_accesscontrol']: authname = connector['initiator'].strip() authname = authname.replace(("":""), """") authname = authname.replace(("".""), """") new_ldsetname = authname[-16:] ret = self._cli.addldset_iscsi(new_ldsetname, connector) if ret is False: msg = _('Appropriate Logical Disk Set' ' could not be found.') raise exception.NotFound(msg) xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) ldset = self._validate_iscsildset_exist(ldsets, connector) else: msg = _('Appropriate Logical Disk Set could not be found.') raise exception.NotFound(msg) if self._properties['auto_accesscontrol']: new_ldsetname = connector['wwpns'][0][:16] ret = self._cli.addldset_fc(new_ldsetname, connector) if ret is False: msg = _('Appropriate Logical Disk Set' ' could not be found.') raise exception.NotFound(msg) xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) ldset = self._validate_fcldset_exist(ldsets, connector) else: msg = _('Appropriate Logical Disk Set could not be found.') raise exception.NotFound(msg) if not ldset['lds']: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn) lun0 = [ld for (ldn, ld) in ldset['lds'].items() if ld['lun'] == 0] if not lun0: LOG.debug('create and attach control volume.') used_ldns.append(lvldn) cvldn = self._select_ldnumber(used_ldns, max_ld_count) self._cli.cvbind(lds[bvname]['pool_num'], cvldn) self._cli.changeldname(cvldn, self._properties['cv_name_format'] % cvldn) self._cli.addldsetld(ldset['ldsetname'], self._properties['cv_name_format'] % cvldn, 0) if 0 not in luns: luns.append(0)", msg = _('Appropriate Logical Disk Set could not be found.') raise exception.NotFound(msg) msg = _('Appropriate Logical Disk Set could not be found.') raise exception.NotFound(msg),152,16
openstack%2Fcinder~master~Ib51c051ab458167c8244587e14edad2ca493a926,openstack/cinder,master,Ib51c051ab458167c8244587e14edad2ca493a926,NFS: Fix nas_secure auto mode permissions failure,MERGED,2017-04-20 20:02:42.000000000,2018-02-25 14:18:29.000000000,2017-12-20 16:25:59.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-04-20 20:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4290129993ec7cc1486f960365605f1086cbf43a', 'message': 'NFS: Fix nas_secure auto mode permissions failure\n\nWhen nas_secure_file_operations/permissions is set\nto auto, a failure to write the secure indicator file\nwill result in the driver running with the secure\noption set to ""true"".  This causes the driver to fail,\nbecause it then can\'t write any other files in\nunprivileged mode, either.\n\nIn ""auto"" mode, this should result in the driver\nrunning with secure mode disabled.\n\nCloses-Bug: #1685012\n\nChange-Id: Ib51c051ab458167c8244587e14edad2ca493a926\n'}, {'number': 2, 'created': '2017-05-05 16:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec851611ed2149a514aa5798fa0f677056a86408', 'message': 'NFS: Fix nas_secure auto mode permissions failure\n\nWhen nas_secure_file_operations/permissions is set\nto auto, a failure to write the secure indicator file\nwill result in the driver running with the secure\noption set to ""true"".  This causes the driver to fail,\nbecause it then can\'t write any other files in\nunprivileged mode, either.\n\nIn ""auto"" mode, this should result in the driver\nrunning with secure mode disabled.\n\nCloses-Bug: #1685012\n\nChange-Id: Ib51c051ab458167c8244587e14edad2ca493a926\n'}, {'number': 3, 'created': '2017-12-20 00:44:03.000000000', 'files': ['cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/76cb3a46a1545aae20562ae7615be1a3ee528c52', 'message': 'NFS: Fix nas_secure auto mode permissions failure\n\nWhen nas_secure_file_operations/permissions is set\nto auto, a failure to write the secure indicator file\nwill result in the driver running with the secure\noption set to ""true"".  This causes the driver to fail,\nbecause it then can\'t write any other files in\nunprivileged mode, either.\n\nIn ""auto"" mode, this should result in the driver\nrunning with secure mode disabled.\n\nCloses-Bug: #1685012\n\nChange-Id: Ib51c051ab458167c8244587e14edad2ca493a926\n'}]",0,458645,76cb3a46a1545aae20562ae7615be1a3ee528c52,130,55,3,4523,,,0,"NFS: Fix nas_secure auto mode permissions failure

When nas_secure_file_operations/permissions is set
to auto, a failure to write the secure indicator file
will result in the driver running with the secure
option set to ""true"".  This causes the driver to fail,
because it then can't write any other files in
unprivileged mode, either.

In ""auto"" mode, this should result in the driver
running with secure mode disabled.

Closes-Bug: #1685012

Change-Id: Ib51c051ab458167c8244587e14edad2ca493a926
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/458645/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,4290129993ec7cc1486f960365605f1086cbf43a,bug/1685012,"import errno if err.errno == errno.EACCES: LOG.warning('Reverting to non-secure mode. Adjust ' 'permissions at %s to allow the ' 'cinder volume service write access ' 'to use secure mode.', mount_point) nas_option = 'false'",,8,0
openstack%2Fcinder~master~I6a2fbb7bd4b37b081296c71f714a23d4901a9d2a,openstack/cinder,master,I6a2fbb7bd4b37b081296c71f714a23d4901a9d2a,Trivialfix -- Fix spacing in docstring,MERGED,2017-12-19 18:22:46.000000000,2018-02-25 14:18:22.000000000,2017-12-20 02:42:54.000000000,"[{'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-19 18:22:46.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/632fdb76eca526e4f1cc32985606947adc8f8b11', 'message': 'Trivialfix -- Fix spacing in docstring\n\nFound a poorly formatted docstring while going\nthrough code.  Fixing it here.\n\nChange-Id: I6a2fbb7bd4b37b081296c71f714a23d4901a9d2a\n'}]",0,529129,632fdb76eca526e4f1cc32985606947adc8f8b11,22,18,1,7198,,,0,"Trivialfix -- Fix spacing in docstring

Found a poorly formatted docstring while going
through code.  Fixing it here.

Change-Id: I6a2fbb7bd4b37b081296c71f714a23d4901a9d2a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/529129/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,632fdb76eca526e4f1cc32985606947adc8f8b11,fix_doc_string_error," """"""Test volume_attach."""""""," """"""Test volume_attach .""""""",1,1
openstack%2Fcinder~stable%2Fpike~I35db18f36f86683f2ab16694c9787c908251a382,openstack/cinder,stable/pike,I35db18f36f86683f2ab16694c9787c908251a382,Fix create encrypted volume from image,MERGED,2017-12-19 12:11:44.000000000,2018-02-25 14:18:14.000000000,2018-01-16 19:55:11.000000000,"[{'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-19 12:11:44.000000000', 'files': ['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cfe0cf93d7de384f81597214336c8d0d92dca233', 'message': 'Fix create encrypted volume from image\n\nIf we run two create encrypted volume from image serially (waiting for\none operation to complete before the making the next request) the first\noperation succeeds while the second one will fail during the attach\nphase.\n\nThe failure we see in the logs indicate that OS-Brick is unable to get\nthe WWN from the connected volume.\n\nIn reality the failure to attach the volume on the second operation is\ncaused by a failed cleanup of the first create, even if there\'s no error\nin the logs.\n\nThe reason why OS-Brick didn\'t correctly do the cleanup of the first\nvolume is because didn\'t know that it was attaching an encrypted volume\nand returned a real path (ie: /dev/sdf) that then go overwritten by the\nunencrypted device mapper.\n\nThe solution is letting OS-Brick know that it\'s an encrypted volume\nduring the attachment phase so it will return a symlink to the real\ndevice instead of the real device itself.\n\nThe manager\'s ""initialize_connection"" does this correctly, but the\nmethod creating the volume from an image doesn\'t use the method of that\nclass and calls the driver\'s ""initialize_connection"" method instead,\nwhich is missing the ""encrypted"" field.\n\nCloses-Bug: #1703954\nChange-Id: I35db18f36f86683f2ab16694c9787c908251a382\n(cherry picked from commit 3b01eb78ce1c1ce388521f8122b3d6b8f2686fda)\n'}]",0,529045,cfe0cf93d7de384f81597214336c8d0d92dca233,53,22,1,9535,,,0,"Fix create encrypted volume from image

If we run two create encrypted volume from image serially (waiting for
one operation to complete before the making the next request) the first
operation succeeds while the second one will fail during the attach
phase.

The failure we see in the logs indicate that OS-Brick is unable to get
the WWN from the connected volume.

In reality the failure to attach the volume on the second operation is
caused by a failed cleanup of the first create, even if there's no error
in the logs.

The reason why OS-Brick didn't correctly do the cleanup of the first
volume is because didn't know that it was attaching an encrypted volume
and returned a real path (ie: /dev/sdf) that then go overwritten by the
unencrypted device mapper.

The solution is letting OS-Brick know that it's an encrypted volume
during the attachment phase so it will return a symlink to the real
device instead of the real device itself.

The manager's ""initialize_connection"" does this correctly, but the
method creating the volume from an image doesn't use the method of that
class and calls the driver's ""initialize_connection"" method instead,
which is missing the ""encrypted"" field.

Closes-Bug: #1703954
Change-Id: I35db18f36f86683f2ab16694c9787c908251a382
(cherry picked from commit 3b01eb78ce1c1ce388521f8122b3d6b8f2686fda)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/529045/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py']",2,cfe0cf93d7de384f81597214336c8d0d92dca233,bug/1703954," @mock.patch(driver_name + '.initialize_connection') @mock.patch(driver_name + '.create_export', return_value=None) @mock.patch(driver_name + '._connect_device') def test__attach_volume_encrypted(self, connect_mock, export_mock, initialize_mock): properties = {'host': 'myhost', 'ip': '192.168.1.43', 'initiator': u'iqn.1994-05.com.redhat:d9be887375', 'multipath': False, 'os_type': 'linux2', 'platform': 'x86_64'} data = {'target_discovered': True, 'target_iqn': 'iqn.2010-10.org.openstack:volume-00000001', 'target_portal': '127.0.0.0.1:3260', 'volume_id': 1, 'discard': False} passed_conn = {'driver_volume_type': 'iscsi', 'data': data.copy()} initialize_mock.return_value = passed_conn # _attach_volume adds the encrypted value based on the volume expected_conn = {'driver_volume_type': 'iscsi', 'data': data.copy()} expected_conn['data']['encrypted'] = True volume = tests_utils.create_volume( self.context, status='available', size=2, encryption_key_id=fake.ENCRYPTION_KEY_ID) attach_info, vol = self.volume.driver._attach_volume(self.context, volume, properties) export_mock.assert_called_once_with(self.context, volume, properties) initialize_mock.assert_called_once_with(volume, properties) connect_mock.assert_called_once_with(expected_conn) self.assertEqual(connect_mock.return_value, attach_info) self.assertEqual(volume, vol) ",,45,0
openstack%2Fcinder~master~I2fb8317361ca574c49eb39e0b7735c7592126dc6,openstack/cinder,master,I2fb8317361ca574c49eb39e0b7735c7592126dc6,Fix some typos in cinder doc,MERGED,2017-12-19 06:38:31.000000000,2018-02-25 14:17:54.000000000,2017-12-19 16:27:43.000000000,"[{'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-19 06:38:31.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-gpfs-volume-driver.rst', 'doc/source/contributor/README.rst', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'doc/source/contributor/documentation.rst', 'doc/source/contributor/replication.rst', 'doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cd71ceb55252eee99fbeb0903da77c5b2f7e205', 'message': 'Fix some typos in cinder doc\n\nThere are some typos in cinder doc,\n  contirbute(contribute)\n  ReplicationsSatus(ReplicationStatus)\n  soure(source)\n  specificed(specified)\n  priviledged(privileged)\n  overriden(overridden)\n\nThis is to fix them.\n\nChange-Id: I2fb8317361ca574c49eb39e0b7735c7592126dc6\n'}]",0,528968,0cd71ceb55252eee99fbeb0903da77c5b2f7e205,29,25,1,20190,,,0,"Fix some typos in cinder doc

There are some typos in cinder doc,
  contirbute(contribute)
  ReplicationsSatus(ReplicationStatus)
  soure(source)
  specificed(specified)
  priviledged(privileged)
  overriden(overridden)

This is to fix them.

Change-Id: I2fb8317361ca574c49eb39e0b7735c7592126dc6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/528968/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/ibm-gpfs-volume-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'doc/source/contributor/README.rst', 'doc/source/contributor/documentation.rst', 'doc/source/contributor/replication.rst', 'doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst']",6,0cd71ceb55252eee99fbeb0903da77c5b2f7e205,typos_in_doc,"``3*200=600seconds``. Depending on usage, these may need to be overridden by","``3*200=600seconds``. Depending on usage, these may need to be overriden by",6,6
openstack%2Fcinder~master~Icc286d529609165e5f14cb506342660d7bc2ae9f,openstack/cinder,master,Icc286d529609165e5f14cb506342660d7bc2ae9f,Fix volume image metadata endpoints returning None,MERGED,2017-12-14 02:31:14.000000000,2018-02-25 14:17:50.000000000,2017-12-20 17:07:37.000000000,"[{'_account_id': 2759}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-14 02:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84a232ec8a74062c47d480f71202007773173e94', 'message': 'Fix volume image metadata endpoints raising None\n\nThis commit fixes the following volume image metadata\nendpoints returning None following policy enforcement\nfailure:\n\n  * ``os-set_image_metadata``\n  * ``os-unset_image_metadata``\n\nThe endpoints will now correctly raise a 403 Forbidden\ninstead.\n\nThe kwarg `fatal=False` was dropped from\n`context.authorize` for these APIs because the kwarg\nis only useful when adding additional information to\nthe response body (if the user is authorized).\n\nThis commit:\n\n  * makes the fix for the two endpoints above\n  * adds unit tests for validating the new, correct\n    behavior (as a side note, policy overriding\n    in tests can be more easily accomplished via\n    adoption of something like [0])\n\nAlso note that since the default policy rule\nfor these endpoints is ""admin_or_owner"" Tempest\ndoesn\'t validate this behavior by default.\n\n[0] https://github.com/openstack/nova/blob/e599b13e4940fb9654f0e0c0f43077a6979eaabe/nova/tests/unit/policy_fixture.py#L30\n\nChange-Id: Icc286d529609165e5f14cb506342660d7bc2ae9f\nCloses-Bug: #1737609\n'}, {'number': 2, 'created': '2017-12-19 00:38:54.000000000', 'files': ['releasenotes/notes/fix-vol-image-metadata-endpoints-returning-none-ba0590e6c6757b0c.yaml', 'cinder/api/contrib/volume_image_metadata.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5f6c2864f5ca829854af5c12f37a3d49ccc9d5f', 'message': 'Fix volume image metadata endpoints returning None\n\nThis commit fixes the following volume image metadata\nendpoints returning None following policy enforcement\nfailure:\n\n  * ``os-set_image_metadata``\n  * ``os-unset_image_metadata``\n\nThe endpoints will now correctly raise a 403 Forbidden\ninstead.\n\nThe kwarg `fatal=False` was dropped from\n`context.authorize` for these APIs because the kwarg\nis only useful when adding additional information to\nthe response body (if the user is authorized).\n\nThis commit:\n\n  * makes the fix for the two endpoints above\n  * adds unit tests for validating the new, correct\n    behavior (as a side note, policy overriding\n    in tests can be more easily accomplished via\n    adoption of something like [0])\n\nAlso note that since the default policy rule\nfor these endpoints is ""admin_or_owner"" Tempest\ndoesn\'t validate this behavior by default.\n\n[0] https://github.com/openstack/nova/blob/e599b13e4940fb9654f0e0c0f43077a6979eaabe/nova/tests/unit/policy_fixture.py#L30\n\nChange-Id: Icc286d529609165e5f14cb506342660d7bc2ae9f\nCloses-Bug: #1737609\n'}]",3,527838,b5f6c2864f5ca829854af5c12f37a3d49ccc9d5f,64,37,2,23186,,,0,"Fix volume image metadata endpoints returning None

This commit fixes the following volume image metadata
endpoints returning None following policy enforcement
failure:

  * ``os-set_image_metadata``
  * ``os-unset_image_metadata``

The endpoints will now correctly raise a 403 Forbidden
instead.

The kwarg `fatal=False` was dropped from
`context.authorize` for these APIs because the kwarg
is only useful when adding additional information to
the response body (if the user is authorized).

This commit:

  * makes the fix for the two endpoints above
  * adds unit tests for validating the new, correct
    behavior (as a side note, policy overriding
    in tests can be more easily accomplished via
    adoption of something like [0])

Also note that since the default policy rule
for these endpoints is ""admin_or_owner"" Tempest
doesn't validate this behavior by default.

[0] https://github.com/openstack/nova/blob/e599b13e4940fb9654f0e0c0f43077a6979eaabe/nova/tests/unit/policy_fixture.py#L30

Change-Id: Icc286d529609165e5f14cb506342660d7bc2ae9f
Closes-Bug: #1737609
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/527838/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-vol-image-metadata-endpoints-returning-none-ba0590e6c6757b0c.yaml', 'cinder/api/contrib/volume_image_metadata.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py']",3,84a232ec8a74062c47d480f71202007773173e94,bug/1737609,"from cinder.policies import base as base_policy from cinder.policies import volume_metadata as metadata_policy from cinder import policyfrom oslo_policy import policy as oslo_policy def test_create_image_metadata_policy_not_authorized(self): rules = { metadata_policy.IMAGE_METADATA_POLICY: base_policy.RULE_ADMIN_API } policy.set_rules(oslo_policy.Rules.from_dict(rules)) self.addCleanup(policy.reset) req = fakes.HTTPRequest.blank('/v2/%s/volumes/%s/action' % ( fake.PROJECT_ID, fake.VOLUME_ID), use_admin_context=False) req.method = 'POST' req.content_type = ""application/json"" body = {""os-set_image_metadata"": { ""metadata"": {""image_name"": ""fake""}} } req.body = jsonutils.dump_as_bytes(body) self.assertRaises(exception.PolicyNotAuthorized, self.controller.create, req, fake.VOLUME_ID, None) def test_delete_image_metadata_policy_not_authorized(self): rules = { metadata_policy.IMAGE_METADATA_POLICY: base_policy.RULE_ADMIN_API } policy.set_rules(oslo_policy.Rules.from_dict(rules)) self.addCleanup(policy.reset) req = fakes.HTTPRequest.blank('/v2/%s/volumes/%s/action' % ( fake.PROJECT_ID, fake.VOLUME_ID), use_admin_context=False) req.method = 'POST' req.content_type = ""application/json"" body = {""os-unset_image_metadata"": { ""metadata"": {""image_name"": ""fake""}} } req.body = jsonutils.dump_as_bytes(body) self.assertRaises(exception.PolicyNotAuthorized, self.controller.delete, req, fake.VOLUME_ID, None) ",,57,2
openstack%2Fcinder~master~I55dc417060d9226c2f120a16b031a79839d483d3,openstack/cinder,master,I55dc417060d9226c2f120a16b031a79839d483d3,NetApp E-Series: Fix broken generic volume groups,MERGED,2017-12-18 18:25:43.000000000,2018-02-25 14:17:48.000000000,2018-01-18 06:45:30.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 14865}, {'_account_id': 15941}, {'_account_id': 16643}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22881}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-18 18:25:43.000000000', 'files': ['cinder/volume/drivers/netapp/eseries/fc_driver.py', 'cinder/volume/drivers/netapp/eseries/iscsi_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/443dfd9d8c464ba18d2fcd5c3b3fc10602923fde', 'message': 'NetApp E-Series: Fix broken generic volume groups\n\nThe Generic Volume Groups functionality is currently broken in the\nE-Series driver because it is not defining/removing a back-end\nconsistency group when creating/deleting a generic group.\n\nThis patch adds an implementation method in the respective E-Series\ndrivers to utilize the underlying CG functionality.\n\nCloses-Bug: #1706777\nChange-Id: I55dc417060d9226c2f120a16b031a79839d483d3\n'}]",0,528782,443dfd9d8c464ba18d2fcd5c3b3fc10602923fde,54,33,1,16821,,,0,"NetApp E-Series: Fix broken generic volume groups

The Generic Volume Groups functionality is currently broken in the
E-Series driver because it is not defining/removing a back-end
consistency group when creating/deleting a generic group.

This patch adds an implementation method in the respective E-Series
drivers to utilize the underlying CG functionality.

Closes-Bug: #1706777
Change-Id: I55dc417060d9226c2f120a16b031a79839d483d3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/528782/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/eseries/fc_driver.py', 'cinder/volume/drivers/netapp/eseries/iscsi_driver.py']",2,443dfd9d8c464ba18d2fcd5c3b3fc10602923fde,fix_groups," def create_group(self, context, group): return self.create_consistencygroup(context, group) def delete_group(self, context, group, volumes): return self.library.delete_consistencygroup(group, volumes)",,12,0
openstack%2Fcinder~stable%2Focata~I7506fa36962404c80f1cc9c6370693728e5393a7,openstack/cinder,stable/ocata,I7506fa36962404c80f1cc9c6370693728e5393a7,Disallow unmanaging encrypted volumes,MERGED,2017-12-18 16:51:33.000000000,2018-02-25 14:17:47.000000000,2017-12-29 00:21:54.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-18 16:51:33.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd727943d060e9e32ad7a4390337560b8ced1529', 'message': 'Disallow unmanaging encrypted volumes\n\nUnmanaging encrypted volumes is problematic because\nunmanage assumes that you will be able to manage the\nvolume again for later use, but, we have no mechanism\ncurrently to keep track of the encryption key which\nwould be required for using an encrypted volume again.\n\nWhile this may work out ok when using the conf_key\nmanager, this patch does not distinguish between conf_key\nand barbican deployments.\n\n* The Ocata backport skips the async error message for\n  this event due to refactoring of the messages system,\n  to minimize risk.\n\nCloses-Bug: #1731518\nChange-Id: I7506fa36962404c80f1cc9c6370693728e5393a7\n(cherry picked from commit de584713d993e3fb3f68cf2ee8ce37186a9276d5)\nConflicts:\n\tcinder/volume/api.py\n(cherry picked from commit 30ca90ffcc5be2cf2854a97cf55d54f98046cda5)\nConflicts:\n\tcinder/message/message_field.py\n        cinder/tests/unit/api/contrib/test_volume_unmanage.py\n\tcinder/tests/unit/volume/test_volume.py\n'}]",0,528758,dd727943d060e9e32ad7a4390337560b8ced1529,18,14,1,4523,,,0,"Disallow unmanaging encrypted volumes

Unmanaging encrypted volumes is problematic because
unmanage assumes that you will be able to manage the
volume again for later use, but, we have no mechanism
currently to keep track of the encryption key which
would be required for using an encrypted volume again.

While this may work out ok when using the conf_key
manager, this patch does not distinguish between conf_key
and barbican deployments.

* The Ocata backport skips the async error message for
  this event due to refactoring of the messages system,
  to minimize risk.

Closes-Bug: #1731518
Change-Id: I7506fa36962404c80f1cc9c6370693728e5393a7
(cherry picked from commit de584713d993e3fb3f68cf2ee8ce37186a9276d5)
Conflicts:
	cinder/volume/api.py
(cherry picked from commit 30ca90ffcc5be2cf2854a97cf55d54f98046cda5)
Conflicts:
	cinder/message/message_field.py
        cinder/tests/unit/api/contrib/test_volume_unmanage.py
	cinder/tests/unit/volume/test_volume.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/528758/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py']",3,dd727943d060e9e32ad7a4390337560b8ced1529,bug/1731518," if unmanage_only and volume.encryption_key_id is not None: msg = _(""Unmanaging encrypted volumes is not supported."") e = exception.Invalid(reason=msg) raise e ",,18,0
openstack%2Fcinder~stable%2Fpike~If39a81bbea26c14604b151a51d8e2bbe1bb2f110,openstack/cinder,stable/pike,If39a81bbea26c14604b151a51d8e2bbe1bb2f110,Switch to oslo_db retry decorator,MERGED,2017-12-16 04:47:39.000000000,2018-02-25 14:17:45.000000000,2018-01-09 22:14:47.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13157}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23140}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-16 04:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e179705f5f3038817feebd9c995d773983cb52ae', 'message': 'Switch to oslo_db retry decorator\n\nOur sqlalchemy code uses a custom retry decorator that does not\nlimit the number of retries. Since this code was written, oslo_db\nnow has a retry decorator better used for this purpose that limits\nthe number of retry attempts.\n\nCloses-bug: #1738292\n(cherry picked from commit 3aae507a2a90c522e78760e53d2c525d3c6b1f88)\n\nConflicts:\n  cinder/db/sqlalchemy/api.py\n\nChange-Id: If39a81bbea26c14604b151a51d8e2bbe1bb2f110\n'}, {'number': 2, 'created': '2017-12-18 11:56:47.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/82c9d001606c50e9647464ee8619ce1bc060ddff', 'message': 'Switch to oslo_db retry decorator\n\nOur sqlalchemy code uses a custom retry decorator that does not\nlimit the number of retries. Since this code was written, oslo_db\nnow has a retry decorator better used for this purpose that limits\nthe number of retry attempts.\n\nCloses-bug: #1738292\n(cherry picked from commit 3aae507a2a90c522e78760e53d2c525d3c6b1f88)\n\nConflicts:\n  cinder/db/sqlalchemy/api.py\n\nChange-Id: If39a81bbea26c14604b151a51d8e2bbe1bb2f110\n'}]",0,528442,82c9d001606c50e9647464ee8619ce1bc060ddff,97,24,2,11904,,,0,"Switch to oslo_db retry decorator

Our sqlalchemy code uses a custom retry decorator that does not
limit the number of retries. Since this code was written, oslo_db
now has a retry decorator better used for this purpose that limits
the number of retry attempts.

Closes-bug: #1738292
(cherry picked from commit 3aae507a2a90c522e78760e53d2c525d3c6b1f88)

Conflicts:
  cinder/db/sqlalchemy/api.py

Change-Id: If39a81bbea26c14604b151a51d8e2bbe1bb2f110
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/528442/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,e179705f5f3038817feebd9c995d773983cb52ae,bug/1738292,"from oslo_db import api as oslo_db_api@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)","import threading import timedef _retry_on_deadlock(f): """"""Decorator to retry a DB API call if Deadlock was received."""""" @functools.wraps(f) def wrapped(*args, **kwargs): while True: try: return f(*args, **kwargs) except db_exc.DBDeadlock: LOG.warning(""Deadlock detected when running "" ""'%(func_name)s': Retrying..."", dict(func_name=f.__name__)) # Retry! time.sleep(0.5) continue functools.update_wrapper(wrapped, f) return wrapped @_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock",23,42
openstack%2Fcinder~master~Ibf71696740129c254f0c065679fe6422bfa2c633,openstack/cinder,master,Ibf71696740129c254f0c065679fe6422bfa2c633,Storwize: disable creating volume with non cg_snapshot group_id,MERGED,2017-11-03 07:40:12.000000000,2018-02-25 14:17:44.000000000,2017-12-22 14:55:32.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12288}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27245}]","[{'number': 1, 'created': '2017-11-03 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95ed987510c9ca68f77cafb01655b7ab61be503e', 'message': ""Storwize: creating volume with replication group_id is not allowed\n\nCurrently, creating a volume with replication group_id, the volume creates\nsuccessfully, but it isn't added to storwize replication group. Creating\na volume with hyperswap group_id has the same problem.\nSince adding a volume to a replication group immediately follow the volume\ncreation may be failed on storwize, this patch disables creating volume with\nnon cg_snapshot group_id.\n\nChange-Id: Ibf71696740129c254f0c065679fe6422bfa2c633\nCloses-Bug:  1729782\n""}, {'number': 2, 'created': '2017-11-03 07:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20efc8e75dc80af9f2d48de7059ebd3059ba2653', 'message': ""Storwize: diable creating volume with non cg_snapshot group_id\n\nCurrently, creating a volume with replication group_id, the volume\ncreates successfully, but it isn't added to storwize replication group.\nCreating a volume with hyperswap group_id has the same problem.\nSince adding a volume to a replication group immediately follow the\nvolume creation may be failed on storwize, this patch disables creating\nvolume with non cg_snapshot group_id.\n\nChange-Id: Ibf71696740129c254f0c065679fe6422bfa2c633\nCloses-Bug:  1729782\n""}, {'number': 3, 'created': '2017-11-03 07:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e98bb24ec0ff9875be4b5881a400209d14bbae89', 'message': ""Storwize: disable creating volume with non cg_snapshot group_id\n\nCurrently, creating a volume with replication group_id, the volume\ncreates successfully, but it isn't added to storwize replication group.\nCreating a volume with hyperswap group_id has the same problem.\nSince adding a volume to a replication group immediately follow the\nvolume creation may be failed on storwize, this patch disables creating\nvolume with non cg_snapshot group_id.\n\nChange-Id: Ibf71696740129c254f0c065679fe6422bfa2c633\nCloses-Bug:  1729782\n""}, {'number': 4, 'created': '2017-11-07 06:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18bc319693d2dd6d23cea5da5d1525af7ac01267', 'message': ""Storwize: disable creating volume with non cg_snapshot group_id\n\nCurrently, creating a volume with replication group_id, the volume\ncreates successfully, but it isn't added to storwize replication group.\nCreating a volume with hyperswap group_id has the same problem.\nSince adding a volume to a replication group immediately follow the\nvolume creation may be failed on storwize, this patch disables creating\nvolume with non cg_snapshot group_id.\n\nChange-Id: Ibf71696740129c254f0c065679fe6422bfa2c633\nCloses-Bug:  1729782\n""}, {'number': 5, 'created': '2017-11-27 07:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6a5154016777245d6e2468c6e04d0c4664905c4', 'message': ""Storwize: disable creating volume with non cg_snapshot group_id\n\nCurrently, creating a volume with replication group_id, the volume\ncreates successfully, but it isn't added to storwize replication group.\nCreating a volume with hyperswap group_id has the same problem.\nSince adding a volume to a replication group immediately follow the\nvolume creation may be failed on storwize, this patch disables creating\nvolume with non cg_snapshot group_id.\n\nChange-Id: Ibf71696740129c254f0c065679fe6422bfa2c633\nCloses-Bug:  1729782\n""}, {'number': 6, 'created': '2017-12-18 09:52:10.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/storwize-disable-create-volume-with-non-cgsnap-group-6cba8073e3d6cadd.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b03a23618122ee8abf596a471da326bfcb9e1710', 'message': ""Storwize: disable creating volume with non cg_snapshot group_id\n\nCurrently, creating a volume with replication group_id, the volume\ncreates successfully, but it isn't added to storwize replication group.\nCreating a volume with hyperswap group_id has the same problem.\nSince adding a volume to a replication group immediately follow the\nvolume creation may be failed on storwize, this patch disables creating\nvolume with non cg_snapshot group_id.\n\nChange-Id: Ibf71696740129c254f0c065679fe6422bfa2c633\nCloses-Bug:  1729782\n""}]",6,517561,b03a23618122ee8abf596a471da326bfcb9e1710,159,50,6,11186,,,0,"Storwize: disable creating volume with non cg_snapshot group_id

Currently, creating a volume with replication group_id, the volume
creates successfully, but it isn't added to storwize replication group.
Creating a volume with hyperswap group_id has the same problem.
Since adding a volume to a replication group immediately follow the
volume creation may be failed on storwize, this patch disables creating
volume with non cg_snapshot group_id.

Change-Id: Ibf71696740129c254f0c065679fe6422bfa2c633
Closes-Bug:  1729782
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/517561/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,95ed987510c9ca68f77cafb01655b7ab61be503e,bug/1729782, # create a replication or hyperswap volume with group_id is not # allowed. if (volume.group_id and not utils.is_group_a_cg_snapshot_type(volume.group)): msg = _('Create volume with a replication or hyperswap ' 'group_id is not allowed. Please add volume to ' 'group after volume creation.') LOG.error(msg) raise exception.InvalidInput(reason=msg) # create volume from snapshot with a replication or hyperswap group_id # is not allowed. if (volume.group_id and not utils.is_group_a_cg_snapshot_type(volume.group)): msg = _('Create volume from snapshot with a replication or ' 'hyperswap group_id is not allowed. Please add volume to ' 'group after volume creation.') LOG.error(msg) raise exception.VolumeDriverException(message=msg) # create a cloned volume with a replication or hyperswap group_id is # not allowed. if (tgt_volume.group_id and not utils.is_group_a_cg_snapshot_type(tgt_volume.group)): msg = _('Create cloned volume with a replication or hyperswap ' 'group_id is not allowed. Please add volume to ' 'group after volume creation.') LOG.error(msg) raise exception.VolumeDriverException(message=msg),,98,11
openstack%2Fcinder~master~I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d,openstack/cinder,master,I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d,3PAR: Update CHAP on host record when volume is migrated to new compute host,MERGED,2017-12-12 14:40:07.000000000,2018-02-25 14:17:42.000000000,2017-12-28 23:49:42.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21407}, {'_account_id': 21728}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24299}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-12 14:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67e79572e7fa9eea7fdf6f2a2bf3a8da445c3850', 'message': 'To ensure same creds on both vlun and host\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n'}, {'number': 2, 'created': '2017-12-13 19:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7eca02041cabd9f596c6887ba8a0878d0be50bec', 'message': 'To ensure same creds on both vlun and host\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n'}, {'number': 3, 'created': '2017-12-14 05:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e06c43997a495349b11afcb5b3ace7d87d9d39a', 'message': '3PAR: Update CHAP on host record when volume is migrated to new compute host\n\nWhen the nova instances are migrated from one compute host to another,\nduring the new VLUN creation step, the host record created on 3PAR has\nthe old chap credentials, but the volume metadata contains the newly\ngenerated CHAP credentials. This fix will ensure the CHAP authentication\ncredentials on volume metadata and the host record on 3PAR are in sync\nwhen the nova instances are live migrated.\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n'}, {'number': 4, 'created': '2017-12-14 07:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d616494b4776bd6619f8a59bd2811d355751fbd1', 'message': '3PAR: Update CHAP on host record when volume is migrated to new compute host\n\nWhen the nova instances are migrated from one compute host to another,\nduring the new VLUN creation step, the host record created on 3PAR has\nthe old chap credentials, but the volume metadata contains the newly\ngenerated CHAP credentials. This fix will ensure the CHAP authentication\ncredentials on volume metadata and the host record on 3PAR are in sync\nwhen the nova instances are live migrated.\n\nCloses-Bug: #1737181\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n'}, {'number': 5, 'created': '2017-12-14 14:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/171d5f97464407bb0244a711c9d6814828a9b2d8', 'message': '3PAR: Update CHAP on host record when volume is migrated to new compute host\n\nWhen the nova instances are migrated from one compute host to another,\nduring the new VLUN creation step, the host record created on 3PAR has\nthe old chap credentials, but the volume metadata contains the newly\ngenerated CHAP credentials. This fix will ensure the CHAP authentication\ncredentials on volume metadata and the host record on 3PAR are in sync\nwhen the nova instances are live migrated.\n\nCloses-Bug: #1737181\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n'}, {'number': 6, 'created': '2017-12-18 08:44:00.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfc8c849df043d7695c70a5e90e5b95e93ce0728', 'message': '3PAR: Update CHAP on host record when volume is migrated to new compute host\n\nWhen the nova instances are migrated from one compute host to another,\nduring the new VLUN creation step, the host record created on 3PAR has\nthe old chap credentials, but the volume metadata contains the newly\ngenerated CHAP credentials. This fix will ensure the CHAP authentication\ncredentials on volume metadata and the host record on 3PAR are in sync\nwhen the nova instances are live migrated.\n\nCloses-Bug: #1737181\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n'}]",6,527417,bfc8c849df043d7695c70a5e90e5b95e93ce0728,123,42,6,24299,,,0,"3PAR: Update CHAP on host record when volume is migrated to new compute host

When the nova instances are migrated from one compute host to another,
during the new VLUN creation step, the host record created on 3PAR has
the old chap credentials, but the volume metadata contains the newly
generated CHAP credentials. This fix will ensure the CHAP authentication
credentials on volume metadata and the host record on 3PAR are in sync
when the nova instances are live migrated.

Closes-Bug: #1737181

Change-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/527417/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_iscsi.py'],1,67e79572e7fa9eea7fdf6f2a2bf3a8da445c3850,bug/1737181," # to ensure same creds on host self._set_3par_chaps(common, hostname, volume, username, password)",,2,0
openstack%2Fcinder~master~I96946f736d7263f80f7ad24f8cbbc9a09eb3cc63,openstack/cinder,master,I96946f736d7263f80f7ad24f8cbbc9a09eb3cc63,Add 'shared_targets' only when it doesn't exist,MERGED,2017-12-18 06:22:19.000000000,2018-02-25 14:17:39.000000000,2017-12-28 00:17:46.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-18 06:22:19.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/115_add_shared_targets_to_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a5432e14c18852758afdf92b913c93906808e3e', 'message': ""Add 'shared_targets' only when it doesn't exist\n\nAdd existence check before actually create it.\n\nChange-Id: I96946f736d7263f80f7ad24f8cbbc9a09eb3cc63\n""}]",0,528638,3a5432e14c18852758afdf92b913c93906808e3e,34,29,1,23083,,,0,"Add 'shared_targets' only when it doesn't exist

Add existence check before actually create it.

Change-Id: I96946f736d7263f80f7ad24f8cbbc9a09eb3cc63
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/528638/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/migrate_repo/versions/115_add_shared_targets_to_volumes.py'],1,3a5432e14c18852758afdf92b913c93906808e3e,bug/fix_shared_targets," if not hasattr(volumes.c, 'shared_targets'): volumes.create_column(Column('shared_targets', Boolean, default=True))"," shared_targets = Column('shared_targets', Boolean, default=True) volumes.create_column(shared_targets)",2,4
openstack%2Fcinder~master~I083fc23eab6f712264919a250c6fb57cc0f6a11b,openstack/cinder,master,I083fc23eab6f712264919a250c6fb57cc0f6a11b,Use defusedxml for XML parsing,MERGED,2017-12-16 23:45:19.000000000,2018-02-25 14:17:16.000000000,2017-12-19 01:07:51.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-16 23:45:19.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'requirements.txt', 'cinder/volume/drivers/fujitsu/eternus_dx_common.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/zadara.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4137c33922051546d45b6c9aa730433a401e3df1', 'message': 'Use defusedxml for XML parsing\n\nThe built-in xml module has some vulnerabilities to several known\nXML attacks. While the chances of this are limited with the way\nit is being used by some of the volume drivers, it is still a\nsecurity risk that has been identified and has a mostly painless\nway to be mitigated with the defusedxml package [1].\n\nThere are still some drivers performing XML parsing that are not\ncovered by this patch. They need closer analysis to see how to\nbest switch to the defusedxml equivalents.\n\nThis patch covers the instances where it was a mostly drop in and\nreplace from the native xml functionality to the defusedxml\nalternatives.\n\n[1] https://github.com/tiran/defusedxml/blob/master/README.md\n\nChange-Id: I083fc23eab6f712264919a250c6fb57cc0f6a11b\nPartial-bug: #1732155\n'}]",4,528516,4137c33922051546d45b6c9aa730433a401e3df1,48,29,1,11904,,,0,"Use defusedxml for XML parsing

The built-in xml module has some vulnerabilities to several known
XML attacks. While the chances of this are limited with the way
it is being used by some of the volume drivers, it is still a
security risk that has been identified and has a mostly painless
way to be mitigated with the defusedxml package [1].

There are still some drivers performing XML parsing that are not
covered by this patch. They need closer analysis to see how to
best switch to the defusedxml equivalents.

This patch covers the instances where it was a mostly drop in and
replace from the native xml functionality to the defusedxml
alternatives.

[1] https://github.com/tiran/defusedxml/blob/master/README.md

Change-Id: I083fc23eab6f712264919a250c6fb57cc0f6a11b
Partial-bug: #1732155
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/528516/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'requirements.txt', 'cinder/volume/drivers/fujitsu/eternus_dx_common.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/zadara.py']",8,4137c33922051546d45b6c9aa730433a401e3df1,bug/1732155,from defusedxml import lxml as etree,from lxml import etree,15,20
openstack%2Fcinder~master~Ie4e7d339103ec946ec2a011ad795db4511a7f388,openstack/cinder,master,Ie4e7d339103ec946ec2a011ad795db4511a7f388,Remove deprecated 'pybasedir' config option,MERGED,2017-12-15 15:03:32.000000000,2018-02-25 14:17:07.000000000,2017-12-26 02:55:39.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/581273f29fe4fac4c291f75368b71d64552d3ef8', 'message': ""Remove deprecated 'pybasedir' config option\n\n'pybasedir' was deprecated four years ago and now it's safe to be removed.\n\nChange-Id: Ie4e7d339103ec946ec2a011ad795db4511a7f388\n""}, {'number': 2, 'created': '2017-12-16 16:30:06.000000000', 'files': ['releasenotes/notes/remove-pybasedir-config-option-572604d26a57ba5e.yaml', 'cinder/common/config.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8a553dfedc9fb2667945cf7b158c64edd05a05e', 'message': ""Remove deprecated 'pybasedir' config option\n\n'pybasedir' was deprecated four years ago and now it's safe to be removed.\n\nChange-Id: Ie4e7d339103ec946ec2a011ad795db4511a7f388\n""}]",0,528302,b8a553dfedc9fb2667945cf7b158c64edd05a05e,42,26,2,1736,,,0,"Remove deprecated 'pybasedir' config option

'pybasedir' was deprecated four years ago and now it's safe to be removed.

Change-Id: Ie4e7d339103ec946ec2a011ad795db4511a7f388
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/528302/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-pybasedir-config-option-572604d26a57ba5e.yaml', 'cinder/common/config.py']",2,581273f29fe4fac4c291f75368b71d64552d3ef8,nas_ip,," deprecated_name='pybasedir',",5,1
openstack%2Fcinder~master~I6dc86ebb326b6d88c20f6f2eb56bf57150536c54,openstack/cinder,master,I6dc86ebb326b6d88c20f6f2eb56bf57150536c54,Remove deprecated 'netapp_eseries_host_type' config option,MERGED,2017-12-15 15:03:32.000000000,2018-02-25 14:17:05.000000000,2017-12-26 02:36:10.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19554}, {'_account_id': 21863}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6190bd004cbf399fb6af12de8331628a6cf6108', 'message': ""Remove deprecated 'netapp_eseries_host_type' config option\n\n'netapp_eseries_host_type' was deprecated three years ago and now it's safe\nto be removed.\n\nChange-Id: I6dc86ebb326b6d88c20f6f2eb56bf57150536c54\n""}, {'number': 2, 'created': '2017-12-16 15:57:06.000000000', 'files': ['releasenotes/notes/remove-netapp-teseries-thost-type-config-option-908941dc7d2a1d59.yaml', 'cinder/volume/drivers/netapp/options.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/93b4b27dccf5a317ceb12880ab48e39bc4c2b24c', 'message': ""Remove deprecated 'netapp_eseries_host_type' config option\n\n'netapp_eseries_host_type' was deprecated three years ago and now it's safe\nto be removed.\n\nChange-Id: I6dc86ebb326b6d88c20f6f2eb56bf57150536c54\n""}]",0,528301,93b4b27dccf5a317ceb12880ab48e39bc4c2b24c,59,30,2,1736,,,0,"Remove deprecated 'netapp_eseries_host_type' config option

'netapp_eseries_host_type' was deprecated three years ago and now it's safe
to be removed.

Change-Id: I6dc86ebb326b6d88c20f6f2eb56bf57150536c54
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/528301/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-netapp-teseries-thost-type-config-option-908941dc7d2a1d59.yaml', 'cinder/volume/drivers/netapp/options.py']",2,a6190bd004cbf399fb6af12de8331628a6cf6108,nas_ip,," deprecated_name='netapp_eseries_host_type',",5,1
openstack%2Fcinder~master~I6fc27f8df7b5bb4d045cfdad7a6d6a96775d43b7,openstack/cinder,master,I6fc27f8df7b5bb4d045cfdad7a6d6a96775d43b7,Remove deprecated 'nas_ip' config option,MERGED,2017-12-15 15:03:32.000000000,2018-02-25 14:17:04.000000000,2017-12-21 04:58:29.000000000,"[{'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3066647824b0e92e021c2ff5af6b599a95af2807', 'message': ""Remove deprecated 'nas_ip' config option\n\n'nas_ip' was deprecated during Liberty and now it's safe to be removed.\n\nChange-Id: I6fc27f8df7b5bb4d045cfdad7a6d6a96775d43b7\n""}, {'number': 2, 'created': '2017-12-16 15:39:31.000000000', 'files': ['releasenotes/notes/remove-nas-ip-config-option-8d56c14f1f4614fc.yaml', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3d53eeb84b417f83db5995bd4640b768d6763bf', 'message': ""Remove deprecated 'nas_ip' config option\n\n'nas_ip' was deprecated during Liberty and now it's safe to be removed.\n\nChange-Id: I6fc27f8df7b5bb4d045cfdad7a6d6a96775d43b7\n""}]",1,528299,d3d53eeb84b417f83db5995bd4640b768d6763bf,74,34,2,1736,,,0,"Remove deprecated 'nas_ip' config option

'nas_ip' was deprecated during Liberty and now it's safe to be removed.

Change-Id: I6fc27f8df7b5bb4d045cfdad7a6d6a96775d43b7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/528299/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-nas-ip-config-option-8d56c14f1f4614fc.yaml', 'cinder/volume/drivers/remotefs.py']",2,3066647824b0e92e021c2ff5af6b599a95af2807,nas_ip, help='IP address or Hostname of NAS system.')," help='IP address or Hostname of NAS system.', deprecated_name='nas_ip'),",6,2
openstack%2Fcinder~master~I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96,openstack/cinder,master,I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96,Fixes creation of mirrored volumes due to wrong type,MERGED,2017-11-06 12:24:25.000000000,2018-02-25 14:17:02.000000000,2017-12-16 02:30:28.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-06 12:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/429e8c48173168594ad40668bf7e81daba4af783', 'message': 'Closes bug: #1730375 adds --type=mirror to lvcreate command when lvm_mirror>0 so that it uses the old style lvm mirror type which is expected\n\nChange-Id: I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96\n'}, {'number': 2, 'created': '2017-11-06 17:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41ff125410ae8e0c7757c2b996e476dde53744dc', 'message': 'Fixes creation of mirrored volumes where lvcreate defaults to RAID1\n\nnew verions of lvcreate change te default mirror format to RAID1\nvs the old style (mirror). Cinder expects the old style mirror as\n--mirrorlog mirrored is specified and this is only supported on the\nmirror type, not raid1.\n\nTo fix this add --type=mirror to the lvcreate syntax when\nlvm_mirrors is > 0 and -m is specified\n\nChange-Id: I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96\n'}, {'number': 3, 'created': '2017-11-06 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6927f33668e5296600b5a6d17328531c2672009d', 'message': 'Fixes creation of mirrored volumes due to wrong type\n\nnew verions of lvcreate change te default mirror format to RAID1\nvs the old style (mirror). Cinder expects the old style mirror as\n--mirrorlog mirrored is specified and this is only supported on the\nmirror type, not raid1.\n\nTo fix this add --type=mirror to the lvcreate syntax when\nlvm_mirrors is > 0 and -m is specified\n\nChange-Id: I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96\n'}, {'number': 4, 'created': '2017-12-15 21:50:50.000000000', 'files': ['cinder/brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5643f60b4d45feb4e135997c43dcd8035cd50856', 'message': 'Fixes creation of mirrored volumes due to wrong type\n\nnew verions of lvcreate change the default mirror format to RAID1\nvs the old style (mirror). Cinder expects the old style mirror as\n--mirrorlog mirrored is specified and this is only supported on the\nmirror type, not raid1.\n\nTo fix this add --type=mirror to the lvcreate syntax when\nlvm_mirrors is > 0 and -m is specified.\n\nCloses-bug: #1730375\n\nChange-Id: I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96\n'}]",2,517939,5643f60b4d45feb4e135997c43dcd8035cd50856,57,33,4,27220,,,0,"Fixes creation of mirrored volumes due to wrong type

new verions of lvcreate change the default mirror format to RAID1
vs the old style (mirror). Cinder expects the old style mirror as
--mirrorlog mirrored is specified and this is only supported on the
mirror type, not raid1.

To fix this add --type=mirror to the lvcreate syntax when
lvm_mirrors is > 0 and -m is specified.

Closes-bug: #1730375

Change-Id: I72e2bd3e780b1dfbc4a3716bfd370ea8d0e28e96
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/517939/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/brick/local_dev/lvm.py'],1,429e8c48173168594ad40668bf7e81daba4af783,bug/1730375," cmd.extend(['--type=mirror', '-m', mirror_count, '--nosync',"," cmd.extend(['-m', mirror_count, '--nosync',",1,1
openstack%2Fcinder~master~I2a84ae99d71c3551814197917d114057430858b7,openstack/cinder,master,I2a84ae99d71c3551814197917d114057430858b7,Add thin provisioning package to install guide,MERGED,2017-12-15 19:08:45.000000000,2018-02-25 14:17:00.000000000,2017-12-17 23:09:02.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 19:08:45.000000000', 'files': ['bindep.txt', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/78fa04624d8ab07203a028b256e7001c1ce18679', 'message': ""Add thin provisioning package to install guide\n\nOur installation guide walks through configuring storage nodes\nusing the LVM driver. LVM now defaults to thinly provisioned,\nwhich requires thing-provisioning-tools to be installed on the\nhost. So by default, our instructions will result in failure\nwhen we attempt to perform thin provision operations.\n\nThis adds mention of installing the required package for each\nplatform's instructions to get the necessary tools installed.\n\nIt also adds device-mapper-persistent-data to bindep for Red\nHat based platforms to get those thin provisioning tools that\nwere previously missing for these platforms.\n\nTools appear to be installed by default on Suse platforms.\n\nChange-Id: I2a84ae99d71c3551814197917d114057430858b7\nCloses-bug: #1738409\n""}]",2,528372,78fa04624d8ab07203a028b256e7001c1ce18679,33,25,1,11904,,,0,"Add thin provisioning package to install guide

Our installation guide walks through configuring storage nodes
using the LVM driver. LVM now defaults to thinly provisioned,
which requires thing-provisioning-tools to be installed on the
host. So by default, our instructions will result in failure
when we attempt to perform thin provision operations.

This adds mention of installing the required package for each
platform's instructions to get the necessary tools installed.

It also adds device-mapper-persistent-data to bindep for Red
Hat based platforms to get those thin provisioning tools that
were previously missing for these platforms.

Tools appear to be installed by default on Suse platforms.

Change-Id: I2a84ae99d71c3551814197917d114057430858b7
Closes-bug: #1738409
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/528372/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst']",3,78fa04624d8ab07203a028b256e7001c1ce18679,bug/1738409, # yum install lvm2 device-mapper-persistent-data, # yum install lvm2,3,2
openstack%2Fcinder~master~I4504a68c83e1e2110c27e62376968cfa1950cf46,openstack/cinder,master,I4504a68c83e1e2110c27e62376968cfa1950cf46,Add service_token for cinder-glance interaction,MERGED,2017-12-08 07:44:09.000000000,2018-02-25 14:16:40.000000000,2017-12-22 13:00:43.000000000,"[{'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10608}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13637}, {'_account_id': 14384}, {'_account_id': 14806}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-08 07:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5d7baa4edb7607bdb45da5730b91f7fa51c89a8', 'message': 'Add service_token for cinder-glance interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like Create\nimage by volume and Create volume by image.\n\nChange-Id: I4504a68c83e1e2110c27e62376968cfa1950cf46\nImplements: blueprint use-service-tokens\n'}, {'number': 2, 'created': '2017-12-11 13:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f592ef8fc1bfdc2eace76cf7ec1311aefdb98f8', 'message': 'Add service_token for cinder-glance interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like Create\nimage by volume and Create volume by image.\n\nChange-Id: I4504a68c83e1e2110c27e62376968cfa1950cf46\nImplements: blueprint use-service-tokens\n'}, {'number': 3, 'created': '2017-12-11 13:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa08e08a102f06f538495238c67b937a4e5d23d8', 'message': 'Add service_token for cinder-glance interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like Create\nimage by volume and Create volume by image.\n\nChange-Id: I4504a68c83e1e2110c27e62376968cfa1950cf46\nImplements: blueprint use-service-tokens\n'}, {'number': 4, 'created': '2017-12-15 06:51:29.000000000', 'files': ['cinder/tests/unit/image/test_glance.py', 'releasenotes/notes/validate-expired-user-tokens-40b15322197653ae.yaml', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/826b72ea09a5a5703d732c2abd18b8e8a92b982b', 'message': 'Add service_token for cinder-glance interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like Create\nimage by volume and Create volume by image.\n\nChange-Id: I4504a68c83e1e2110c27e62376968cfa1950cf46\nImplements: blueprint use-service-tokens\n'}]",0,526611,826b72ea09a5a5703d732c2abd18b8e8a92b982b,63,38,4,26463,,,0,"Add service_token for cinder-glance interaction

Service token will be passed along with user token to communicate
with services when dealing with long running tasks like Create
image by volume and Create volume by image.

Change-Id: I4504a68c83e1e2110c27e62376968cfa1950cf46
Implements: blueprint use-service-tokens
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/526611/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/image/test_glance.py', 'releasenotes/notes/validate-expired-user-tokens-40b15322197653ae.yaml', 'cinder/image/glance.py']",3,c5d7baa4edb7607bdb45da5730b91f7fa51c89a8,bp/use-service-tokens,"from keystoneauth1.loading import session as ks_sessionfrom cinder import service_auth_SESSION = None params = {'global_request_id': context.global_id} if use_ssl and CONF.auth_strategy == 'noauth': params = {'insecure': CONF.glance_api_insecure, 'cacert': CONF.glance_ca_certificates_file, 'timeout': CONF.glance_request_timeout } if CONF.auth_strategy == 'keystone': global _SESSION if not _SESSION: config_options = {'insecure': CONF.glance_api_insecure, 'cacert': CONF.glance_ca_certificates_file, 'timeout': CONF.glance_request_timeout } _SESSION = ks_session.Session().load_from_options(**config_options) auth = service_auth.get_auth_plugin(context) params['auth'] = auth params['session'] = _SESSION scheme = 'https' if use_ssl else 'http'", params = {} if use_ssl: scheme = 'https' # https specific params params['insecure'] = CONF.glance_api_insecure params['ssl_compression'] = CONF.glance_api_ssl_compression params['cacert'] = CONF.glance_ca_certificates_file else: scheme = 'http' if CONF.auth_strategy == 'keystone': params['token'] = context.auth_token if CONF.glance_request_timeout is not None: params['timeout'] = CONF.glance_request_timeout params['global_request_id'] = context.global_id,119,53
openstack%2Fcinder~master~If39a81bbea26c14604b151a51d8e2bbe1bb2f110,openstack/cinder,master,If39a81bbea26c14604b151a51d8e2bbe1bb2f110,Switch to oslo_db retry decorator,MERGED,2017-12-14 22:42:05.000000000,2018-02-25 14:16:28.000000000,2017-12-16 01:40:14.000000000,"[{'_account_id': 1004}, {'_account_id': 6491}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-14 22:42:05.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3aae507a2a90c522e78760e53d2c525d3c6b1f88', 'message': 'Switch to oslo_db retry decorator\n\nOur sqlalchemy code uses a custom retry decorator that does not\nlimit the number of retries. Since this code was written, oslo_db\nnow has a retry decorator better used for this purpose that limits\nthe number of retry attempts.\n\nChange-Id: If39a81bbea26c14604b151a51d8e2bbe1bb2f110\nCloses-bug: #1738292\n'}]",0,528107,3aae507a2a90c522e78760e53d2c525d3c6b1f88,45,30,1,11904,,,0,"Switch to oslo_db retry decorator

Our sqlalchemy code uses a custom retry decorator that does not
limit the number of retries. Since this code was written, oslo_db
now has a retry decorator better used for this purpose that limits
the number of retry attempts.

Change-Id: If39a81bbea26c14604b151a51d8e2bbe1bb2f110
Closes-bug: #1738292
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/528107/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,3aae507a2a90c522e78760e53d2c525d3c6b1f88,bug/1738292,"from oslo_db import api as oslo_db_api@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)","import timedef _retry_on_deadlock(f): """"""Decorator to retry a DB API call if Deadlock was received."""""" @functools.wraps(f) def wrapped(*args, **kwargs): while True: try: return f(*args, **kwargs) except db_exc.DBDeadlock: LOG.warning(""Deadlock detected when running "" ""'%(func_name)s': Retrying..."", dict(func_name=f.__name__)) # Retry! time.sleep(0.5) continue functools.update_wrapper(wrapped, f) return wrapped @_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock@_retry_on_deadlock",23,41
openstack%2Fcinder~master~Ica1f0e06adf0afcf740aad8cdc8d133ada1760c8,openstack/cinder,master,Ica1f0e06adf0afcf740aad8cdc8d133ada1760c8,Store host connector in volume_attachment.connector column,MERGED,2017-12-14 04:41:31.000000000,2018-02-25 14:16:24.000000000,2017-12-15 18:50:29.000000000,"[{'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-12-14 04:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86b04a3f118cd9c930949a9b04b7d2ab99547aa8', 'message': ""Store host connector in volume_attachment.connector column\n\nThe attachment_specs table's key and value columns are strict\nstrings, which means things like a wwpns list value for a fibrechannel\nconnector can't get stored there and results in a DB error during\nattach with the new volume attach flow in Nova.\n\nThe attachment_specs table is arguably not the best way to store\nthis data, which is just a dict like the connection_info.\n\nA better way to store this is as a serialized json blob on the\nvolume_attachment record itself.\n\nThis patch adds the database migration to add the column and\nan online data migration routine to migrate existing attachment_specs\nentries when a volume attachment object is loaded from the database.\n\nThe volume manager attachment_update flow is changed to store\nnew connector attachments in the volume_attachment table directly.\n\nAn online data migration hook for the CLI will be added in a follow\nup change.\n\nChange-Id: Ica1f0e06adf0afcf740aad8cdc8d133ada1760c8\nCloses-Bug: #1737724\n""}, {'number': 2, 'created': '2017-12-14 19:29:52.000000000', 'files': ['cinder/volume/manager.py', 'cinder/objects/base.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/116_add_volume_attachment_connector.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7875f1419923b60c630d31527f6371ea556e98e6', 'message': ""Store host connector in volume_attachment.connector column\n\nThe attachment_specs table's key and value columns are strict\nstrings, which means things like a wwpns list value for a fibrechannel\nconnector can't get stored there and results in a DB error during\nattach with the new volume attach flow in Nova.\n\nThe attachment_specs table is arguably not the best way to store\nthis data, which is just a dict like the connection_info.\n\nA better way to store this is as a serialized json blob on the\nvolume_attachment record itself.\n\nThis patch adds the database migration to add the column and\nan online data migration routine to migrate existing attachment_specs\nentries when a volume attachment object is loaded from the database.\n\nThe volume manager attachment_update flow is changed to store\nnew connector attachments in the volume_attachment table directly.\n\nAn online data migration hook for the CLI will be added in a follow\nup change.\n\nChange-Id: Ica1f0e06adf0afcf740aad8cdc8d133ada1760c8\nCloses-Bug: #1737724\n""}]",1,527852,7875f1419923b60c630d31527f6371ea556e98e6,66,35,2,6873,,,0,"Store host connector in volume_attachment.connector column

The attachment_specs table's key and value columns are strict
strings, which means things like a wwpns list value for a fibrechannel
connector can't get stored there and results in a DB error during
attach with the new volume attach flow in Nova.

The attachment_specs table is arguably not the best way to store
this data, which is just a dict like the connection_info.

A better way to store this is as a serialized json blob on the
volume_attachment record itself.

This patch adds the database migration to add the column and
an online data migration routine to migrate existing attachment_specs
entries when a volume attachment object is loaded from the database.

The volume manager attachment_update flow is changed to store
new connector attachments in the volume_attachment table directly.

An online data migration hook for the CLI will be added in a follow
up change.

Change-Id: Ica1f0e06adf0afcf740aad8cdc8d133ada1760c8
Closes-Bug: #1737724
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/527852/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/objects/base.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/116_add_volume_attachment_connector.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",8,86b04a3f118cd9c930949a9b04b7d2ab99547aa8,bug/1737724,"from cinder import db @ddt.data('1.0', '1.1', '1.2', '1.3') connector = {'host': '127.0.0.1'} connection_info=connection_info, connector=connector) if version == '1.3': self.assertEqual(connector, converted_vol_attach.connector) elif version == '1.2': self.assertNotIn('connector', converted_vol_attach) def test_migrate_attachment_specs(self): # Create an attachment. attachment = objects.VolumeAttachment( self.context, attach_status='attaching', volume_id=fake.VOLUME_ID) attachment.create() # Create some attachment_specs. Note that the key and value have to # be strings, the table doesn't handle things like a wwpns list # for a fibrechannel connector. connector = {'host': '127.0.0.1'} db.attachment_specs_update_or_create( self.context, attachment.id, connector) # Now get the volume attachment object from the database and make # sure the connector was migrated from the attachment_specs table # to the volume_attachment table and the specs were deleted. attachment = objects.VolumeAttachment.get_by_id( self.context, attachment.id) self.assertIn('connector', attachment) self.assertDictEqual(connector, attachment.connector) self.assertEqual(0, len(db.attachment_specs_get( self.context, attachment.id))) # Make sure we can store a fibrechannel type connector that has a wwpns # list value. connector['wwpns'] = ['21000024ff34c92d', '21000024ff34c92c'] attachment.connector = connector attachment.save() # Get the object from the DB again and make sure the connector is # there. attachment = objects.VolumeAttachment.get_by_id( self.context, attachment.id) self.assertIn('connector', attachment) self.assertDictEqual(connector, attachment.connector) "," @ddt.data('1.0', '1.1', '1.2') connection_info=connection_info) if version == '1.2':",117,15
openstack%2Fcinder~master~I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,openstack/cinder,master,I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,NetApp ONTAP: Copy offload bugfix,MERGED,2017-12-13 19:16:57.000000000,2018-02-25 14:16:23.000000000,2017-12-15 19:17:05.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-13 19:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a663ad6ddbea2bc0d3cef3b6f316aaddd1925033', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n""}, {'number': 2, 'created': '2017-12-14 14:37:42.000000000', 'files': ['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c27173bad69da4889a5237cf2becc14bb6fc578a', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n""}]",1,527762,c27173bad69da4889a5237cf2becc14bb6fc578a,54,30,2,14865,,,0,"NetApp ONTAP: Copy offload bugfix

When 'NetApp NFS Copy Offload' tool is configured to download Glance
images, these images are downloaded twice because the tool is doing
the job after Cinder has already done it.
This patch fixes the bug by executing the copy offload tool inside the
clone_image function instead of using the copy_image_to_volume.

Closes-bug: #1632333

Change-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/527762/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py']",4,a663ad6ddbea2bc0d3cef3b6f316aaddd1925033,bug/1632333," def _copy_from_cache(self, volume, image_id, cache_result): """"""Try copying image file_name from cached file"""""" raise NotImplementedError() def _copy_from_img_service(self, context, volume, image_service, image_id): raise NotImplementedError() major, minor = self.zapi_client.get_ontapi_version() col_path = self.configuration.netapp_copyoffload_tool_path cloned = self._copy_from_cache(volume, image_id, cache_result) # Try to use the copy offload tool if not cloned and col_path and major == 1 and minor >= 20: cloned = self._copy_from_img_service(context, volume, image_service, image_id) share = (volume_utils.extract_host(volume['host'], level='pool') if cloned else None) share = volume_utils.extract_host(volume['host'], level='pool') vol_path = self._get_volume_path(share, volume['name']) "," cloned = self._clone_from_cache(volume, image_id, cache_result) share = volume['provider_location'] if cloned else None volume['provider_location'] = share vol_path = self.local_path(volume)",136,168
openstack%2Fcinder~master~I893dd735fe44089667ac802c0122019c14f30d1c,openstack/cinder,master,I893dd735fe44089667ac802c0122019c14f30d1c,Cleanup XtremIO IG cleanup note,MERGED,2017-12-13 21:54:02.000000000,2018-02-25 14:16:20.000000000,2017-12-14 01:59:24.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-12-13 21:54:02.000000000', 'files': ['releasenotes/notes/xtremio-ig-cleanup-bbb4bee1f1e3611c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/645bda4f48482f27e7d71776af02561004069315', 'message': 'Cleanup XtremIO IG cleanup note\n\nMinor issues with the release note for change\nI4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48 that\nwere not worth holding up that patch.\n\nChange-Id: I893dd735fe44089667ac802c0122019c14f30d1c\n'}]",0,527795,645bda4f48482f27e7d71776af02561004069315,25,21,1,11904,,,0,"Cleanup XtremIO IG cleanup note

Minor issues with the release note for change
I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48 that
were not worth holding up that patch.

Change-Id: I893dd735fe44089667ac802c0122019c14f30d1c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/527795/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/xtremio-ig-cleanup-bbb4bee1f1e3611c.yaml'],1,645bda4f48482f27e7d71776af02561004069315,bug/1723430, Added new option to delete XtremIO initiator groups after the last volume was detached from them. Cleanup can be enabled by setting ``xtremio_clean_unused_ig`` to ``True`` under the backend settings in cinder.conf.," New option to delete XtremIO initiator groups after the last volume was detached from them, can be enabled by setting xtremio_clean_unused_ig to True",4,2
openstack%2Fcinder~stable%2Fpike~I7506fa36962404c80f1cc9c6370693728e5393a7,openstack/cinder,stable/pike,I7506fa36962404c80f1cc9c6370693728e5393a7,Disallow unmanaging encrypted volumes,MERGED,2017-12-13 15:24:07.000000000,2018-02-25 14:16:19.000000000,2017-12-18 16:14:19.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-13 15:24:07.000000000', 'files': ['cinder/message/defined_messages.py', 'cinder/volume/manager.py', 'cinder/message/message_field.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30ca90ffcc5be2cf2854a97cf55d54f98046cda5', 'message': 'Disallow unmanaging encrypted volumes\n\nUnmanaging encrypted volumes is problematic because\nunmanage assumes that you will be able to manage the\nvolume again for later use, but, we have no mechanism\ncurrently to keep track of the encryption key which\nwould be required for using an encrypted volume again.\n\nWhile this may work out ok when using the conf_key\nmanager, this patch does not distinguish between conf_key\nand barbican deployments.\n\nCloses-Bug: #1731518\nChange-Id: I7506fa36962404c80f1cc9c6370693728e5393a7\n(cherry picked from commit de584713d993e3fb3f68cf2ee8ce37186a9276d5)\nConflicts:\n\tcinder/volume/api.py\n'}]",1,527715,30ca90ffcc5be2cf2854a97cf55d54f98046cda5,34,20,1,4523,,,0,"Disallow unmanaging encrypted volumes

Unmanaging encrypted volumes is problematic because
unmanage assumes that you will be able to manage the
volume again for later use, but, we have no mechanism
currently to keep track of the encryption key which
would be required for using an encrypted volume again.

While this may work out ok when using the conf_key
manager, this patch does not distinguish between conf_key
and barbican deployments.

Closes-Bug: #1731518
Change-Id: I7506fa36962404c80f1cc9c6370693728e5393a7
(cherry picked from commit de584713d993e3fb3f68cf2ee8ce37186a9276d5)
Conflicts:
	cinder/volume/api.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/527715/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/message/defined_messages.py', 'cinder/volume/manager.py', 'cinder/message/message_field.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py']",6,30ca90ffcc5be2cf2854a97cf55d54f98046cda5,bug/1731518,"from cinder.message import api as message_api from cinder.message import message_field self.message = message_api.API() if unmanage_only and volume.encryption_key_id is not None: msg = _(""Unmanaging encrypted volumes is not supported."") e = exception.Invalid(reason=msg) self.message.create( context, message_field.Action.UNMANAGE_VOLUME, resource_uuid=volume.id, detail=message_field.Detail.UNMANAGE_ENC_NOT_SUPPORTED, exception=e) raise e ",,56,3
openstack%2Fcinder~stable%2Fpike~I64ff9c25dbea7950ca87f226c6628a730f9e3c0e,openstack/cinder,stable/pike,I64ff9c25dbea7950ca87f226c6628a730f9e3c0e,Removed gb quota decrement in grp snapshot delete,MERGED,2017-12-13 05:28:07.000000000,2018-02-25 14:16:15.000000000,2017-12-13 22:11:25.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-13 05:28:07.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c11a447439aa96ff8e942160997307ab50fa5b74', 'message': 'Removed gb quota decrement in grp snapshot delete\n\nBefore https://review.openstack.org/#/c/517725/, when capturing\na vm we used to reserve gb quota twice. So then i changed the\ncode such that we should only increment/reserve the gb quota\nonce, i.e., when creating the group snapshot (not while creating\nvolumes). Hence we no longer need to decerment gb quota when we\ndelete the group snapshot (initially we decremented because we\nincremented twice).\n\nChange-Id: I64ff9c25dbea7950ca87f226c6628a730f9e3c0e\nCloses-Bug: 1735650\n(cherry picked from commit 5c8b528f4cd0c21ccb4531db80a2f692ac03c026)\n'}]",0,527581,c11a447439aa96ff8e942160997307ab50fa5b74,20,17,1,24131,,,0,"Removed gb quota decrement in grp snapshot delete

Before https://review.openstack.org/#/c/517725/, when capturing
a vm we used to reserve gb quota twice. So then i changed the
code such that we should only increment/reserve the gb quota
once, i.e., when creating the group snapshot (not while creating
volumes). Hence we no longer need to decerment gb quota when we
delete the group snapshot (initially we decremented because we
incremented twice).

Change-Id: I64ff9c25dbea7950ca87f226c6628a730f9e3c0e
Closes-Bug: 1735650
(cherry picked from commit 5c8b528f4cd0c21ccb4531db80a2f692ac03c026)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/527581/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py']",3,c11a447439aa96ff8e942160997307ab50fa5b74,bug/1735650-stable/pike," for volume in volume_list: if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': 1} else: reserve_opts = {'snapshots': 1, 'gigabytes': volume['size']}", reserve_opts_list.append({'snapshots': 1}) for volume in volume_list: if not CONF.no_snapshot_gb_quota: reserve_opts = {'gigabytes': volume['size']},7,11
openstack%2Fcinder~master~Ieafaae5ccb5a23b4d3ad37b8e7eee40484346cfc,openstack/cinder,master,Ieafaae5ccb5a23b4d3ad37b8e7eee40484346cfc,Keep v3 api-ref error response code 404 for reverting,MERGED,2017-12-13 03:07:31.000000000,2018-02-25 14:14:42.000000000,2017-12-13 05:53:51.000000000,"[{'_account_id': 10622}, {'_account_id': 13628}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-13 03:07:31.000000000', 'files': ['api-ref/source/v3/volumes-v3-volumes-actions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be3ed99428f8638095710f6aa94f967d43e6c157', 'message': 'Keep v3 api-ref error response code 404 for reverting\n\nClient can still receive the 404/NotFound when attempting\nthe fetch of the volume.\n\nChange-Id: Ieafaae5ccb5a23b4d3ad37b8e7eee40484346cfc\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}]",0,527567,be3ed99428f8638095710f6aa94f967d43e6c157,24,18,1,25169,,,0,"Keep v3 api-ref error response code 404 for reverting

Client can still receive the 404/NotFound when attempting
the fetch of the volume.

Change-Id: Ieafaae5ccb5a23b4d3ad37b8e7eee40484346cfc
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/527567/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-volumes-actions.inc'],1,be3ed99428f8638095710f6aa94f967d43e6c157,fix-api-ref-v3-reverting-error-response-codes-404,"Error response codes: 400(HTTPBadRequest), 403(HTTPForbidden), 404(HTTPNotFound), 409(HTTPConflict)","Error response codes: 400(HTTPBadRequest), 403(HTTPForbidden), 409(HTTPConflict)",1,1
openstack%2Fcinder~master~Ie0ac535a6892e5fc62aa6f29fab869fc44f2e57,openstack/cinder,master,Ie0ac535a6892e5fc62aa6f29fab869fc44f2e57,V3 jsonschema validation: Group type specs,MERGED,2017-11-16 04:08:47.000000000,2018-02-25 14:14:10.000000000,2017-12-14 17:17:23.000000000,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24645}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-16 04:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6542a0c99380d2fc9b2c49664a94c2c65265d2d7', 'message': ""V3 jsonschema validation: Group type specs\n\nThis patch adds jsonschema validation for below Group type specs API's\n* POST /v3/{project_id}/group_types/{group_type_id}/group_specs\n* PUT  /v3/{project_id}/group_types/{group_type_id}/group_specs/{spec_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\nChange-Id: Ie0ac535a6892e5fc62aa6f29fab869fc44f2e570\n""}, {'number': 2, 'created': '2017-11-22 04:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2b734b203f24f37e04c578afee0b6e29da8553c', 'message': ""V3 jsonschema validation: Group type specs\n\nThis patch adds jsonschema validation for below Group type specs API's\n* POST /v3/{project_id}/group_types/{group_type_id}/group_specs\n* PUT  /v3/{project_id}/group_types/{group_type_id}/group_specs/{spec_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\nChange-Id: Ie0ac535a6892e5fc62aa6f29fab869fc44f2e570\n""}, {'number': 3, 'created': '2017-12-12 09:30:57.000000000', 'files': ['cinder/api/v3/group_specs.py', 'cinder/tests/unit/api/v3/test_group_specs.py', 'cinder/api/schemas/group_specs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73f8fbad27c8339191f80464fdf0b07d4c496545', 'message': ""V3 jsonschema validation: Group type specs\n\nThis patch adds jsonschema validation for below Group type specs API's\n* POST /v3/{project_id}/group_types/{group_type_id}/group_specs\n* PUT  /v3/{project_id}/group_types/{group_type_id}/group_specs/{spec_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\nChange-Id: Ie0ac535a6892e5fc62aa6f29fab869fc44f2e57\n""}]",0,520285,73f8fbad27c8339191f80464fdf0b07d4c496545,110,42,3,24645,,,0,"V3 jsonschema validation: Group type specs

This patch adds jsonschema validation for below Group type specs API's
* POST /v3/{project_id}/group_types/{group_type_id}/group_specs
* PUT  /v3/{project_id}/group_types/{group_type_id}/group_specs/{spec_id}

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Partial-Implements: bp json-schema-validation
Change-Id: Ie0ac535a6892e5fc62aa6f29fab869fc44f2e57
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/520285/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'cinder/api/v3/group_specs.py', 'cinder/tests/unit/api/v3/test_group_specs.py', 'cinder/api/schemas/group_specs.py']",4,6542a0c99380d2fc9b2c49664a94c2c65265d2d7,bp/json-schema-validation,"# Copyright (C) 2017 NTT DATA # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from cinder.api.validation import parameter_types create = { 'type': 'object', 'properties': { 'type': 'object', 'group_specs': parameter_types.extra_specs, }, 'required': ['group_specs'], 'additionalProperties': False, } update = copy.deepcopy(parameter_types.extra_specs) update.update({ 'minProperties': 1, 'maxProperties': 1 }) ",,67,26
openstack%2Fcinder~master~I0bdf23e371ff8469080982553cb1ffd8a64c9e2d,openstack/cinder,master,I0bdf23e371ff8469080982553cb1ffd8a64c9e2d,Don't raise 'NotAuthorized' inside when soft authorization,MERGED,2017-12-07 09:39:08.000000000,2018-02-25 14:14:04.000000000,2017-12-14 00:59:34.000000000,"[{'_account_id': 2243}, {'_account_id': 5046}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-07 09:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a54b0d1ad9075785cadf6cd5d0c00e004449ef0a', 'message': ""Don't raise 'NotAuthorized' when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 2, 'created': '2017-12-07 09:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fafacb8930e84661a45887409709e57847bff4a8', 'message': ""Don't raise 'NotAuthorized' when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 3, 'created': '2017-12-07 09:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6018b2a29dc70c710d115332cc84c08b6466454', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 4, 'created': '2017-12-07 10:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2edad60a3e93292c6c3d3cd0de0b8b3d3738cfff', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 5, 'created': '2017-12-07 11:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/432403b09e98b0473e366525b91c7339cbcc67de', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 6, 'created': '2017-12-07 14:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d1ba84cf62cc78f68d8753eec94ae9bcbcce720', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 7, 'created': '2017-12-12 00:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42c87040b238a9f2231d62e00dc1e4ccd20da41b', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 8, 'created': '2017-12-12 00:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f54ac39c4e279e8171be578d33e28b3bc86a772e', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 9, 'created': '2017-12-12 01:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/616ae4c52908ff6887fd3702df712f01a734ce99', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}, {'number': 10, 'created': '2017-12-12 07:56:26.000000000', 'files': ['cinder/context.py', 'cinder/tests/unit/api/contrib/test_services.py', 'cinder/api/v3/backups.py', 'cinder/tests/unit/api/contrib/test_used_limits.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e805dcad93c349dbf3cf02be83076a27199c9828', 'message': ""Don't raise 'NotAuthorized' inside when soft authorization\n\nUsing try/except block when performing soft\nauthorization is less efficient and will lead to\nlots of confusing error messages, pass 'fatal'\nparameter directly to inner authorize function.\n\nChange-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d\nCloses-Bug: #1736854\n""}]",4,526327,e805dcad93c349dbf3cf02be83076a27199c9828,115,43,10,23083,,,0,"Don't raise 'NotAuthorized' inside when soft authorization

Using try/except block when performing soft
authorization is less efficient and will lead to
lots of confusing error messages, pass 'fatal'
parameter directly to inner authorize function.

Change-Id: I0bdf23e371ff8469080982553cb1ffd8a64c9e2d
Closes-Bug: #1736854
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/526327/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/context.py'],1,a54b0d1ad9075785cadf6cd5d0c00e004449ef0a,bug/1736854," return policy.authorize(self, action, target, fatal=fatal)"," try: return policy.authorize(self, action, target) except exception.NotAuthorized: if fatal: raise return False",2,6
openstack%2Fcinder~master~I8234083107207b9ebc0849947e8de92b5cf3e36e,openstack/cinder,master,I8234083107207b9ebc0849947e8de92b5cf3e36e,Change ssh_utils parameter to correctly sends keepalive packets,MERGED,2017-12-12 05:48:44.000000000,2018-02-25 14:14:02.000000000,2017-12-30 00:28:25.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-12 05:48:44.000000000', 'files': ['cinder/ssh_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fca5fb9acf6f1fe1aafa8cee94a39918abaa4b27', 'message': 'Change ssh_utils parameter to correctly sends keepalive packets\n\nThe current implementation of ssh_utils never sends keepalive packets.\nIn ssh_utils.SSHPool, the socket timeout parameter is set to None\nintending to keep ssh connections open.\nHowever, when the parameter is set to None, ssh_utils does not run the\ncode to compare idle duration and keepalive interval.\n\nThis patch reverts the socket timeout parameter to default (0.1 sec).\nThe ssh_utils compares them every 0.1 seconds, and sends a keepalive\npacket if idle duration > keepalive interval (= self.conn_timeout).\n\nChange-Id: I8234083107207b9ebc0849947e8de92b5cf3e36e\nCloses-Bug: #1673662\n'}]",0,527309,fca5fb9acf6f1fe1aafa8cee94a39918abaa4b27,40,30,1,23885,,,0,"Change ssh_utils parameter to correctly sends keepalive packets

The current implementation of ssh_utils never sends keepalive packets.
In ssh_utils.SSHPool, the socket timeout parameter is set to None
intending to keep ssh connections open.
However, when the parameter is set to None, ssh_utils does not run the
code to compare idle duration and keepalive interval.

This patch reverts the socket timeout parameter to default (0.1 sec).
The ssh_utils compares them every 0.1 seconds, and sends a keepalive
packet if idle duration > keepalive interval (= self.conn_timeout).

Change-Id: I8234083107207b9ebc0849947e8de92b5cf3e36e
Closes-Bug: #1673662
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/527309/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/ssh_utils.py'],1,fca5fb9acf6f1fe1aafa8cee94a39918abaa4b27,bug/1673662,," # Paramiko by default sets the socket timeout to 0.1 seconds, # ignoring what we set through the sshclient. This doesn't help for # keeping long lived connections. Hence we have to bypass it, by # overriding it after the transport is initialized. We are setting # the sockettimeout to None and setting a keepalive packet so that, # the server will keep the connection open. All that does is send # a keepalive packet every ssh_conn_timeout seconds. transport.sock.settimeout(None)",0,8
openstack%2Fcinder~master~I64ff9c25dbea7950ca87f226c6628a730f9e3c0e,openstack/cinder,master,I64ff9c25dbea7950ca87f226c6628a730f9e3c0e,Removed gb quota decrement in grp snapshot delete,MERGED,2017-12-04 06:42:34.000000000,2018-02-25 14:13:54.000000000,2017-12-12 22:09:48.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-04 06:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08a35b7947bbe8e43974648b605794850b6e6d30', 'message': 'Removed gb quota decrement in grp snapshot delete\n\nWhile capturing a multi-disk vm, we reserve gb quotas only once,\nhence we no longer need to decerment gb quota when we delete the\ngroup snapshot.\n\nChange-Id: I64ff9c25dbea7950ca87f226c6628a730f9e3c0e\nCloses-Bug: 1735650\n'}, {'number': 2, 'created': '2017-12-11 19:08:03.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c8b528f4cd0c21ccb4531db80a2f692ac03c026', 'message': 'Removed gb quota decrement in grp snapshot delete\n\nBefore https://review.openstack.org/#/c/517725/, when capturing\na vm we used to reserve gb quota twice. So then i changed the\ncode such that we should only increment/reserve the gb quota\nonce, i.e., when creating the group snapshot (not while creating\nvolumes). Hence we no longer need to decerment gb quota when we\ndelete the group snapshot (initially we decremented because we\nincremented twice).\n\nChange-Id: I64ff9c25dbea7950ca87f226c6628a730f9e3c0e\nCloses-Bug: 1735650\n'}]",1,525071,5c8b528f4cd0c21ccb4531db80a2f692ac03c026,64,39,2,24131,,,0,"Removed gb quota decrement in grp snapshot delete

Before https://review.openstack.org/#/c/517725/, when capturing
a vm we used to reserve gb quota twice. So then i changed the
code such that we should only increment/reserve the gb quota
once, i.e., when creating the group snapshot (not while creating
volumes). Hence we no longer need to decerment gb quota when we
delete the group snapshot (initially we decremented because we
incremented twice).

Change-Id: I64ff9c25dbea7950ca87f226c6628a730f9e3c0e
Closes-Bug: 1735650
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/525071/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py']",3,08a35b7947bbe8e43974648b605794850b6e6d30,bug/1735650," for volume in volume_list: if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': 1} else: reserve_opts = {'snapshots': 1, 'gigabytes': volume['size']}", reserve_opts_list.append({'snapshots': 1}) for volume in volume_list: if not CONF.no_snapshot_gb_quota: reserve_opts = {'gigabytes': volume['size']},7,11
openstack%2Fcinder~master~I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75,openstack/cinder,master,I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75,Fix available space checking for image conversion,MERGED,2017-12-11 14:08:41.000000000,2018-02-25 14:13:30.000000000,2017-12-12 21:16:23.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26458}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-11 14:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d1dd053e056722d65ce181fe8c78167619b0041', 'message': 'Fix available space checking for image conversion\n\nCinder checks if there is enough free space to conver image from qcow\nto raw format before uploading it into the volume. This patch fixes\nthe issue when we try to compare GiB to KiB.\n\nChange-Id: I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75\nCloses-Bug: #1737551\n'}, {'number': 2, 'created': '2017-12-11 15:33:11.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/66cc0d2429bddf0c983c6969a70b5cd1ea41e086', 'message': 'Fix available space checking for image conversion\n\nCinder checks if there is enough free space to convert image from qcow\nto raw format before uploading it into the volume. This patch fixes\nthe issue when we try to compare GiB to KiB.\n\nChange-Id: I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75\nCloses-Bug: #1737551\n'}]",2,527097,66cc0d2429bddf0c983c6969a70b5cd1ea41e086,41,29,2,1736,,,0,"Fix available space checking for image conversion

Cinder checks if there is enough free space to convert image from qcow
to raw format before uploading it into the volume. This patch fixes
the issue when we try to compare GiB to KiB.

Change-Id: I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75
Closes-Bug: #1737551
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/527097/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,4d1dd053e056722d65ce181fe8c78167619b0041,bug/1737551," check_available_space(dest, data.virtual_size, image_id)"," check_available_space(dest, virt_size, image_id)",1,1
openstack%2Fcinder~master~Iae006115e46e20fb354d1db8a09ff4df9810aa44,openstack/cinder,master,Iae006115e46e20fb354d1db8a09ff4df9810aa44,QNAP: Add support for QES 2.0.0,MERGED,2017-12-11 06:24:57.000000000,2018-02-25 14:13:27.000000000,2017-12-14 00:59:27.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26134}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-11 06:24:57.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'releasenotes/notes/qnap-support-qes-200-2a3dda49afe14103.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c32be5a6de64f3a853924c2e82fb1d99acde712', 'message': 'QNAP: Add support for QES 2.0.0\n\nThis patch do the following change to the QNAP Cinder driver:\n1. Add support for QNAP QES firmware 2.0.0.\n\nChange-Id: Iae006115e46e20fb354d1db8a09ff4df9810aa44\nImplements: blueprint qnap-support-qes-200\n'}]",0,526994,5c32be5a6de64f3a853924c2e82fb1d99acde712,45,32,1,26134,,,0,"QNAP: Add support for QES 2.0.0

This patch do the following change to the QNAP Cinder driver:
1. Add support for QNAP QES firmware 2.0.0.

Change-Id: Iae006115e46e20fb354d1db8a09ff4df9810aa44
Implements: blueprint qnap-support-qes-200
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/526994/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/qnap.py', 'releasenotes/notes/qnap-support-qes-200-2a3dda49afe14103.yaml']",2,5c32be5a6de64f3a853924c2e82fb1d99acde712,bp/qnap-support-qes-200,--- features: - | QNAP Cinder driver added support for QES fw 2.0.0. ,,14,8
openstack%2Fcinder~master~I038684acc488fb1ddba0daff348a23ebf45083da,openstack/cinder,master,I038684acc488fb1ddba0daff348a23ebf45083da,Fix test case in test_volume_unicode.py,MERGED,2017-12-06 08:25:24.000000000,2018-02-25 14:13:25.000000000,2017-12-12 00:56:57.000000000,"[{'_account_id': 2243}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 17068}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-06 08:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97d778ac66ebb28293ce808be0a0d5afacbc30ec', 'message': 'Fix test case in test_volume_unicode.py\n\nThe test case `test_snapshot_create_volume_description_non_ascii_code`\nin test_volume_unicode.py breaks the CI job [1]. This patch aims to fix it.\n\n[1] legacy-tempest-dsvm-full-devstack-plugin-ceph\n\nChange-Id: I038684acc488fb1ddba0daff348a23ebf45083da\nCloses-Bug: #1736676\n'}, {'number': 2, 'created': '2017-12-09 02:36:51.000000000', 'files': ['cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/141b5c6229505836f53a0ee49e532d3326e73e60', 'message': ""Fix test case in test_volume_unicode.py\n\nThe test case `test_snapshot_create_volume_description_non_ascii_code`\nin test_volume_unicode.py breaks the CI job [1], as the test case makes\na wrong assumption that the 'descrption' of snapshot will be inherited\nfrom source volume. This patch aims to fix it.\n\n[1] legacy-tempest-dsvm-full-devstack-plugin-ceph\n\nChange-Id: I038684acc488fb1ddba0daff348a23ebf45083da\nCloses-Bug: #1736676\n""}]",3,525981,141b5c6229505836f53a0ee49e532d3326e73e60,77,40,2,23081,,,0,"Fix test case in test_volume_unicode.py

The test case `test_snapshot_create_volume_description_non_ascii_code`
in test_volume_unicode.py breaks the CI job [1], as the test case makes
a wrong assumption that the 'descrption' of snapshot will be inherited
from source volume. This patch aims to fix it.

[1] legacy-tempest-dsvm-full-devstack-plugin-ceph

Change-Id: I038684acc488fb1ddba0daff348a23ebf45083da
Closes-Bug: #1736676
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/525981/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_volume_unicode.py'],1,97d778ac66ebb28293ce808be0a0d5afacbc30ec,bug/1736676," snapshot = self.create_snapshot(volume['id'], description=description)", snapshot = self.create_snapshot(volume['id']),1,1
openstack%2Fcinder~master~Ice0c38dc95a6a40f41ee77e453ec42376bb367d6,openstack/cinder,master,Ice0c38dc95a6a40f41ee77e453ec42376bb367d6,VMAX Doc - clarification and typo fixes,MERGED,2017-11-10 16:11:57.000000000,2018-02-25 14:13:23.000000000,2017-12-24 23:18:20.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-10 16:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c7121b5513ca429b4e87438f4ee9aae8000b8c5', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}, {'number': 2, 'created': '2017-11-10 16:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cb382e301d0f11251543d0bcf5ef8c0dae8cc49', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}, {'number': 3, 'created': '2017-11-13 17:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4407b17250d3b6be219906922af35c37996d2c05', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}, {'number': 4, 'created': '2017-11-14 10:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12e2092afa530cee3ee3867e8caea289b8f78ec3', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}, {'number': 5, 'created': '2017-11-22 15:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9384f7c15957ccb78de8c9dd300c84066ea61c85', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}, {'number': 6, 'created': '2017-11-28 10:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca0908851feb42386c002f69a90b731673ca71bf', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}, {'number': 7, 'created': '2017-12-08 16:48:48.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4813583b6f9848e82e74d948fdc17904e6125f68', 'message': 'VMAX Doc - clarification and typo fixes\n\nFixing formating in setup section for clarification and other\nminor typo fixes\n\nChange-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6\nCloses-Bug: #1729258\n'}]",3,518956,4813583b6f9848e82e74d948fdc17904e6125f68,133,41,7,12670,,,0,"VMAX Doc - clarification and typo fixes

Fixing formating in setup section for clarification and other
minor typo fixes

Change-Id: Ice0c38dc95a6a40f41ee77e453ec42376bb367d6
Closes-Bug: #1729258
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/518956/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,6c7121b5513ca429b4e87438f4ee9aae8000b8c5,bug/1729258," VMAX Driver Integration ~~~~~~~~~~~~~~~~~~~~~~~ #. Configure Block Storage in cinder.conf#. Create Volume Types .. note:: Run the command cinder get-pools --detail to query for the pool information. This should list all the available Service Level and Workload combinations available for the SRP as pools belonging to the same backend. You can create many volume types for different service level and workload types using the same backend. ``ServiceLevel`` The Service Level manages the underlying storage to provide expected performance. Setting the ``ServiceLevel`` to ``NONE`` means that non-FAST managed storage groups will be created instead (storage groups not associated with any service level). ``Workload`` When a workload type is added, the latency range is reduced due to the added information. Setting the ``Workload`` to ``NONE`` means the latency range will be the widest for its Service Level type. Please note that you cannot set a Workload without a Service Level. .. note:: It is possible to create as many volume types as the number of Service Level and Workload(available) combination for provisioning volumes. The pool_name is the additional property which has to be set and is of the format: ``<ServiceLevel>+<Workload>+<SRP>+<Array ID>``. This can be obtained from the output of the ``cinder get-pools--detail``. .. code-block:: console $ openstack volume type create VMAX_ISCI_SILVER_OLTP $ openstack volume type set --property volume_backend_name=ISCSI_backend \ --property pool_name=Silver+OLTP+SRP_1+000197800123 \ --property storagetype:portgroupname=OS-PG2 \ VMAX_ ISCI_SILVER_OLTP $ openstack volume type create VMAX_FC_DIAMOND_DSS $ openstack volume type set --property volume_backend_name=FC_backend \ --property pool_name=Diamond+DSS+SRP_1+000197800123 \ --property port_group_name=OS-PG1 \ VMAX_FC_DIAMOND_DSS By issuing these commands, the Block Storage volume type ``VMAX_ISCSI_SILVER_OLTP`` is associated with the ``ISCSI_backend``, a Silver Service Level, and an OLTP workload. The type ``VMAX_FC_DIAMOND_DSS`` is associated with the ``FC_backend``, a Diamond Service Level, and a DSS workload. .. note:: VMAX Hybrid supports Optimized, Diamond, Platinum, Gold, Silver, Bronze, and NONE service levels. VMAX All Flash supports Diamond and NONE. Both support DSS_REP, DSS, OLTP_REP, OLTP, and NONE workloads. .. code-block:: xml <?xml version=""1.0"" encoding=""UTF-8"" ?> <EMC> <RestServerIp>1.1.1.1</RestServerIp> <RestServerPort>8443</RestServerPort> <RestUserName>smc</RestUserName> <RestPassword>smc</RestPassword> <PortGroups> <PortGroup>OS-PORTGROUP1-PG</PortGroup> <PortGroup>OS-PORTGROUP2-PG</PortGroup> </PortGroups> <Array>111111111111</Array> <SRP>SRP_1</SRP> <SSLVerify>/path/to/sslcert</SSLVerify> </EMC> Where: ``RestServerIp`` IP address of the Unisphere server. ``RestServerPort`` Port number of the Unisphere server. ``RestUserName`` and ``RestPassword`` Credentials for the Unisphere server. ``PortGroups`` Supplies the names of VMAX port groups that have been pre-configured to expose volumes managed by this array. Port groups can be supplied in the XML file, or can be specified as an extra spec on a volume type for more control. Please see above section on port groups. When a dynamic masking view is created by the VMAX driver, if there is no port group specified as an extra specification, the port group is chosen randomly from the PortGroup list, to evenly distribute load across the set of groups provided. .. note:: There is also the option to assign a port group to a volume type by setting the ``storagetype:portgroupname`` extra specification. ``Array`` Unique VMAX array serial number. ``SRP`` The name of the storage resource pool for the given array. ``SSLVerify`` The path to the ``ca_cert.pem`` file of the Unisphere instance below, or ``True`` if the SSL cert has been added to the bundle - see ``SSL support``.job. It will continue checking for 200 retries before it times out.i.e. instance-00000003. .. code-block:: console $ openstack server show <serverid> +-------------------------------------+-----------------------------------------------------------------+ | Field | Value | +-------------------------------------+-----------------------------------------------------------------+ | OS-DCF:diskConfig | AUTO | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | myhost | | OS-EXT-SRV-ATTR:hypervisor_hostname | myhost | | OS-EXT-SRV-ATTR:instance_name | instance-00000003 | | OS-EXT-STS:power_state | Running | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2017-11-02T08:15:42.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | private=fd21:99c2:73f3:0:f816:3eff:febe:30ed, 10.0.0.3 | | config_drive | | | created | 2017-11-02T08:15:34Z | | flavor | m1.tiny (1) | | hostId | e7b8312581f9fbb8508587d45c0b6fb4dc86102c632ed1f3a6a49d42 | | id | 0ef0ff4c-dbda-4dc7-b8ed-45d2fc2f31db | | image | cirros-0.3.5-x86_64-disk (b7c220f5-2408-4296-9e58-fc5a41cb7e9d) | | key_name | myhostname | | name | myhosthame | | progress | 0 | | project_id | bae4b97a0d8b42c28a5add483981e5db | | properties | | | security_groups | name='default' | | status | ACTIVE | | updated | 2017-11-02T08:15:42Z | | user_id | 7bccf456740546799a7e20457f13c38b | | volumes_attached | | +-------------------------------------+-----------------------------------------------------------------+ We then run the following command using theThe output of the command contains the xml below. It is found between the ``<disk>`` start and end tag. volume_use_multipath = True On cinder controller node, set the multipath flag to true under each VMAX backend stanza using iSCSI MPIO in :file:`/etc/cinder/cinder.conf`:","#. Configure Block Storage``ServiceLevel`` The Service Level manages the underlying storage to provide expected performance. Setting the ``ServiceLevel`` to ``NONE`` means that non-FAST managed storage groups will be created instead (storage groups not associated with any service level). ``Workload`` When a workload type is added, the latency range is reduced due to the added information. Setting the ``Workload`` to ``NONE`` means the latency range will be the widest for its Service Level type. Please note that you cannot set a Workload without a Service Level. .. note:: Run the command cinder get-pools --detail to query for the pool information. This should list all the available Service Level and Workload combinations available for the SRP as pools belonging to the same backend. You can create many volume types for different service level and workload types using the same backend. ``Port Groups`` Port groups refer to VMAX port groups that have been pre-configured to expose volumes managed by this backend. Each supplied port group should have sufficient number and distribution of ports (across directors and switches) as to ensure adequate bandwidth and failure protection for the volume connections. PortGroups can contain one or more port groups of either iSCSI or FC ports. Make sure that any PortGroups provided contain either all FC or all iSCSI port groups (for a given back end), as appropriate for the configured driver (iSCSI or FC). Port groups can be assigned as an extra spec, or can be provided in the xml file. Port groups provided as the extra spec are selected first. .. note:: Create as many volume types as the number of Service Level and Workload (available) combinations which you are going to use for provisioning volumes. The pool_name is the additional property which has to be set and is of the format: ``<ServiceLevel>+<Workload>+<SRP>+<Array ID>``. This can be obtained from the output of the ``cinder get-pools--detail``. .. code-block:: console $ openstack volume type create VMAX_ISCI_SILVER_OLTP $ openstack volume type set --property volume_backend_name=ISCSI_backend \ --property pool_name=Silver+OLTP+SRP_1+000197800123 \ --property storagetype:portgroupname=OS-PG2 \ VMAX_ ISCI_SILVER_OLTP $ openstack volume type create VMAX_FC_DIAMOND_DSS $ openstack volume type set --property volume_backend_name=FC_backend \ --property pool_name=Diamond+DSS+SRP_1+000197800123 \ --property port_group_name=OS-PG1 \ VMAX_FC_DIAMOND_DSS By issuing these commands, the Block Storage volume type ``VMAX_ISCSI_SILVER_OLTP`` is associated with the ``ISCSI_backend``, a Silver Service Level, and an OLTP workload. The type ``VMAX_FC_DIAMOND_DSS`` is associated with the ``FC_backend``, a Diamond Service Level, and a DSS workload. .. note:: VMAX Hybrid supports Optimized, Diamond, Platinum, Gold, Silver, Bronze, and NONE service levels. VMAX All Flash supports Diamond and NONE. Both support DSS_REP, DSS, OLTP_REP, OLTP, and NONE workloads... code-block:: xml <?xml version=""1.0"" encoding=""UTF-8"" ?> <EMC> <RestServerIp>1.1.1.1</RestServerIp> <RestServerPort>8443</RestServerPort> <RestUserName>smc</RestUserName> <RestPassword>smc</RestPassword> <PortGroups> <PortGroup>OS-PORTGROUP1-PG</PortGroup> <PortGroup>OS-PORTGROUP2-PG</PortGroup> </PortGroups> <Array>111111111111</Array> <SRP>SRP_1</SRP> <SSLVerify>/path/to/sslcert</SSLVerify> </EMC> Where: ``RestServerIp`` IP address of the Unisphere server. ``RestServerPort`` Port number of the Unisphere server. ``RestUserName`` and ``RestPassword`` Credentials for the Unisphere server. ``PortGroups`` Supplies the names of VMAX port groups that have been pre-configured to expose volumes managed by this array. Port groups can be supplied in the XML file, or can be specified as an extra spec on a volume type for more control. Please see above section on port groups. When a dynamic masking view is created by the VMAX driver, if there is no port group specified as an extra specification, the port group is chosen randomly from the PortGroup list, to evenly distribute load across the set of groups provided. ``Array`` Unique VMAX array serial number. ``SRP`` The name of the storage resource pool for the given array. ``SSLVerify`` The path to the ``ca_cert.pem`` file of the Unisphere instance below, or ``True`` if the SSL cert has been added to the bundle - see ``SSL support``.job. It will continue checking for 150 retries before it times out.i.e. instance-00000005. We then run the following command using theThe outcome is shown below iscsi_use_multipath = True On cinder controller node, set the multipath flag to true in :file:`/etc/cinder/cinder.conf`:Workload Planner (WLP) ~~~~~~~~~~~~~~~~~~~~~~ VMAX Hybrid allows you to manage application storage by using Service Level (SL) using policy based automation. The VMAX Hybrid comes with up to 6 SL policies defined. Each has a set of workload characteristics that determine the drive types and mixes which will be used for the SL. All storage in the VMAX Array is virtually provisioned, and all of the pools are created in containers called Storage Resource Pools (SRP). Typically there is only one SRP, however there can be more. Therefore, it is the same pool we will provision to but we can provide different SLO/Workload combinations. The SL capacity is retrieved by interfacing with Unisphere Workload Planner (WLP). If you do not set up this relationship then the capacity retrieved is that of the entire SRP. This can cause issues as it can never be an accurate representation of what storage is available for any given SL and Workload combination. Enabling WLP on Unisphere ------------------------- #. To enable WLP on Unisphere, click on the :menuselection:`array-->Performance-->Settings`. #. Set both the :guilabel:`Real Time` and the :guilabel:`Root Cause Analysis`. #. Click :guilabel:`Register`. .. note:: This should be set up ahead of time (allowing for several hours of data collection), so that the Unisphere for VMAX Performance Analyzer can collect rated metrics for each of the supported element types. ",144,137
openstack%2Fcinder~stable%2Fpike~I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2,openstack/cinder,stable/pike,I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2,Fix for volume from image snapshot free space issue,MERGED,2017-12-08 08:26:09.000000000,2018-02-25 14:13:22.000000000,2017-12-09 06:26:12.000000000,"[{'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-12-08 08:26:09.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4320c7874cff3b56c1af6dcd45a11e15195237ba', 'message': 'Fix for volume from image snapshot free space issue\n\ncreate_from_image() function checks for free space in conversion path\n(by default /var/lib/cinder/conversion) even if cinder is creating\nvolume from image snapshot.\n\nIf /var/lib/cinder/conversion has less free space than the size of the\nimage volume is created from, exception will be thrown by\ncheck_available_space() function in image_utils module.\n\nThis patch checks if cinder is configured with\nallowed_direct_url_schemes = cinder\nIf so, cinder should not check free space in conversion path because\nvolume is created from image snapshot.\n\nCloses-Bug: #1683228\nChange-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2\n(cherry picked from commit 30bb0dfbe77efcfcb2330f1758d229310e52ff74)\n'}]",0,526622,4320c7874cff3b56c1af6dcd45a11e15195237ba,21,16,1,25435,,,0,"Fix for volume from image snapshot free space issue

create_from_image() function checks for free space in conversion path
(by default /var/lib/cinder/conversion) even if cinder is creating
volume from image snapshot.

If /var/lib/cinder/conversion has less free space than the size of the
image volume is created from, exception will be thrown by
check_available_space() function in image_utils module.

This patch checks if cinder is configured with
allowed_direct_url_schemes = cinder
If so, cinder should not check free space in conversion path because
volume is created from image snapshot.

Closes-Bug: #1683228
Change-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2
(cherry picked from commit 30bb0dfbe77efcfcb2330f1758d229310e52ff74)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/526622/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py']",2,4320c7874cff3b56c1af6dcd45a11e15195237ba,bug/1683228-stable/pike," # cinder should not check free space in conversion directory # if it's creating volume from image snapshot (Bug1683228). # If image disk format is other than raw, cinder should # convert it (this means free space check will be needed). if ('cinder' in CONF.allowed_direct_url_schemes and image_meta.get('disk_format') == 'raw'): LOG.debug(""Creating volume from image snapshot. "" ""Skipping free space check on image "" ""convert path."") else: image_utils.check_available_space( CONF.image_conversion_dir, image_meta['size'], image_id)"," image_utils.check_available_space(CONF.image_conversion_dir, image_meta['size'], image_id)",78,2
openstack%2Fcinder~master~Ic4c8f29bef2c82550d6d6f03f8fa1dc80696f56e,openstack/cinder,master,Ic4c8f29bef2c82550d6d6f03f8fa1dc80696f56e,Fix create from snapshot and source volume,MERGED,2017-12-08 03:23:56.000000000,2018-02-25 14:13:20.000000000,2017-12-11 04:29:08.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-08 03:23:56.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/scheduler/fakes.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/39816f9ff31738a3deceeeddafcc8d6fb05ac6b3', 'message': ""Fix create from snapshot and source volume\n\nA regression was introduced in\nI970c10f9b50092b659fa2d88bd6a02f6c69899f2\non backends supporting storage pools. By extracting the\n'host@backend' out of the host attr from a parent volume,\nthe scheduler may attempt to put volumes into other pools\nbelonging to the backend.\n\nMany backends cannot clone across storage pools,\nor create storage volumes from snapshots from other\nstorage pools.\n\nChange-Id: Ic4c8f29bef2c82550d6d6f03f8fa1dc80696f56e\nCloses-Bug: #1732557\n""}]",3,526581,39816f9ff31738a3deceeeddafcc8d6fb05ac6b3,46,39,1,16643,,,0,"Fix create from snapshot and source volume

A regression was introduced in
I970c10f9b50092b659fa2d88bd6a02f6c69899f2
on backends supporting storage pools. By extracting the
'host@backend' out of the host attr from a parent volume,
the scheduler may attempt to put volumes into other pools
belonging to the backend.

Many backends cannot clone across storage pools,
or create storage volumes from snapshots from other
storage pools.

Change-Id: Ic4c8f29bef2c82550d6d6f03f8fa1dc80696f56e
Closes-Bug: #1732557
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/526581/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/scheduler/fakes.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py']",5,39816f9ff31738a3deceeeddafcc8d6fb05ac6b3,bug/1732557," @ddt.data(('host10@BackendA', True), ('host10@BackendB#openstack_nfs_1', True), ('host10', False)) @ddt.unpack self, resource_backend, multibackend_with_pools, _mock_service_get_all): sched.host_manager = fakes.FakeHostManager( multibackend_with_pools=multibackend_with_pools) fakes.mock_host_manager_db_calls( _mock_service_get_all, backends_with_pools=multibackend_with_pools) 'resource_backend': resource_backend} @ddt.data(('host1@BackendA', True), ('host1@BackendB#openstack_nfs_1', True), ('host1', False)) @ddt.unpack def test_create_volume_host_same_as_resource(self, resource_backend, multibackend_with_pools, _mock_service_get_all): # requested backend (ex: create from source-volume/snapshot, # or create within a group) sched.host_manager = fakes.FakeHostManager( multibackend_with_pools=multibackend_with_pools) fakes.mock_host_manager_db_calls( _mock_service_get_all, backends_with_pools=multibackend_with_pools) 'resource_backend': resource_backend} self.assertIn(resource_backend, weighed_host.obj.host)"," self, _mock_service_get_all): sched.host_manager = fakes.FakeHostManager() fakes.mock_host_manager_db_calls(_mock_service_get_all) 'resource_backend': 'host_none'} def test_create_volume_host_same_as_resource(self, _mock_service_get_all): # group's backend. sched.host_manager = fakes.FakeHostManager() fakes.mock_host_manager_db_calls(_mock_service_get_all) 'resource_backend': 'host1'} self.assertEqual('host1#lvm1', weighed_host.obj.host)",250,95
openstack%2Fcinder~master~I325aa997c65472a0e9e0b3356f27d1732aab3b5f,openstack/cinder,master,I325aa997c65472a0e9e0b3356f27d1732aab3b5f,Check snapshot flag for test_snapshot_create_volume_description_non_ascii_code,MERGED,2017-12-07 20:18:02.000000000,2018-02-25 14:13:16.000000000,2017-12-11 23:59:43.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-07 20:18:02.000000000', 'files': ['cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57f701d63ab6c8a68b767d497e521a1b1b276886', 'message': ""Check snapshot flag for test_snapshot_create_volume_description_non_ascii_code\n\nTempest config allows disabling running any tests for volume snapshots\nbecause of storage backends that don't support snapshot, so we need\nto not run any tests which create snapshots when Tempest has been\nconfigured otherwise.\n\nChange-Id: I325aa997c65472a0e9e0b3356f27d1732aab3b5f\n""}]",0,526502,57f701d63ab6c8a68b767d497e521a1b1b276886,37,31,1,6873,,,0,"Check snapshot flag for test_snapshot_create_volume_description_non_ascii_code

Tempest config allows disabling running any tests for volume snapshots
because of storage backends that don't support snapshot, so we need
to not run any tests which create snapshots when Tempest has been
configured otherwise.

Change-Id: I325aa997c65472a0e9e0b3356f27d1732aab3b5f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/526502/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_volume_unicode.py'],1,57f701d63ab6c8a68b767d497e521a1b1b276886,snapshot-test-check,"import testtools @testtools.skipUnless(CONF.volume_feature_enabled.snapshot, ""Cinder volume snapshots are disabled"")",,3,0
openstack%2Fcinder~master~Ib1ba622c83f3819f9b6c8ea18749b891a60bd12c,openstack/cinder,master,Ib1ba622c83f3819f9b6c8ea18749b891a60bd12c,Storwize: fix group creation restrict rules,MERGED,2017-12-07 09:58:03.000000000,2018-02-25 14:12:14.000000000,2017-12-25 17:23:11.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12288}, {'_account_id': 12369}, {'_account_id': 13047}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-07 09:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3552048d0eee8f1cfe9e68818dd9b85fa5c63226', 'message': 'Storwize: fix group creation restrict rules\n\nThe following conditions should be denied for group creation:\n1. Mixed group types are configured. For example,\nboth consistent_group_snapshot_enabled and\nconsistent_group_replication_enabled are set.\n2. group_replication_enabled is set.\n3. consistent_group_replication_enabled is set with non-replication\nvolume type.\n4. consistent_group_replication_enabled is set with different\nreplication volume types.\n\nCloses-Bug: #1736907\nChange-Id: Ib1ba622c83f3819f9b6c8ea18749b891a60bd12c\n'}, {'number': 2, 'created': '2017-12-13 11:18:09.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c678114b3174a96c372035e3442c47271ebeb171', 'message': 'Storwize: fix group creation restrict rules\n\nThe following conditions should be denied for group creation:\n1. Mixed group types are configured. For example,\nboth consistent_group_snapshot_enabled and\nconsistent_group_replication_enabled are set.\n2. group_replication_enabled is set.\n3. consistent_group_replication_enabled is set with non-replication\nvolume type.\n4. consistent_group_replication_enabled is set with different\nreplication volume types.\n\nCloses-Bug: #1736907\nChange-Id: Ib1ba622c83f3819f9b6c8ea18749b891a60bd12c\n'}]",0,526331,c678114b3174a96c372035e3442c47271ebeb171,69,43,2,17045,,,0,"Storwize: fix group creation restrict rules

The following conditions should be denied for group creation:
1. Mixed group types are configured. For example,
both consistent_group_snapshot_enabled and
consistent_group_replication_enabled are set.
2. group_replication_enabled is set.
3. consistent_group_replication_enabled is set with non-replication
volume type.
4. consistent_group_replication_enabled is set with different
replication volume types.

Closes-Bug: #1736907
Change-Id: Ib1ba622c83f3819f9b6c8ea18749b891a60bd12c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/526331/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,3552048d0eee8f1cfe9e68818dd9b85fa5c63226,bug/1736907," group_type = objects.GroupType.get_by_id(context, group.group_type_id) if len(group_type.group_specs) > 1: LOG.error('Unable to create group: create group with mixed specs ' '%s is not supported.', group_type.group_specs) model_update = {'status': fields.GroupStatus.ERROR} return model_update support_grps = ['group_snapshot_enabled', 'consistent_group_snapshot_enabled', 'consistent_group_replication_enabled'] supported_grp = False for grp_spec in support_grps: if utils.is_group_a_type(group, grp_spec): supported_grp = True break if not supported_grp: LOG.error('Unable to create group: %s is not a supported group ' 'type.', group.group_type_id) model_update = {'status': fields.GroupStatus.ERROR} return model_update if (utils.is_group_a_cg_snapshot_type(group) or utils.is_group_a_type(group, ""group_snapshot_enabled"")): # We'll rely on the generic group implementation if it is # a non-consistent snapshot group. if utils.is_group_a_type(group, ""group_snapshot_enabled""): raise NotImplementedError() rccg_type = None if not rccg_type: rccg_type = replication_type elif rccg_type != replication_type: # An unsupported configuration LOG.error('Unable to create group: create consistent ' 'replication group with different replication ' 'types is not supported.') model_update = {'status': fields.GroupStatus.ERROR} return model_update vol_name = (volume.name if not self._active_backend_id else storwize_const.REPLICA_AUX_VOL_PREFIX + volume.name) rcrel = self._helpers.get_relationship_info(vol_name) rccg['primary'] != rcrel['primary'] or ""rcrel primary is %(rcrel_primary)s, rccg "" ""primary is %(rccg_primary)s. "" 'rcrel_primary': rcrel['primary'], 'rccg_primary': rccg['primary'], vol_name = (volume.name if not self._active_backend_id else storwize_const.REPLICA_AUX_VOL_PREFIX + volume.name) rcrel = self._helpers.get_relationship_info(vol_name)"," # we'll rely on the generic group implementation if it is # not a consistency group and not a consistency replication # request. if (not utils.is_group_a_cg_snapshot_type(group) and not utils.is_group_a_type(group, ""consistent_group_replication_enabled"")): raise NotImplementedError() if utils.is_group_a_cg_snapshot_type(group): rcrel = self._helpers.get_relationship_info(volume.name) rcrel = self._helpers.get_relationship_info(volume.name)",120,50
openstack%2Fcinder~stable%2Fpike~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,stable/pike,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-12-06 18:35:04.000000000,2018-02-25 14:11:46.000000000,2017-12-11 21:13:07.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16668}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-12-06 18:35:04.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/369cb8ac51ff9233ebe23ca7108562fa15d77f7f', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)\n""}]",0,526143,369cb8ac51ff9233ebe23ca7108562fa15d77f7f,28,21,1,16668,,,0,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/526143/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py']",2,369cb8ac51ff9233ebe23ca7108562fa15d77f7f,bug/1732812," 'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes'})) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( NIMBLE_SAN_LOGIN, NIMBLE_SAN_PASS, NIMBLE_MANAGEMENT_IP, 'default', '*')) def test_create_volume_with_unicode(self): self.mock_client_service.get_vol_info.return_value = ( FAKE_GET_VOL_INFO_RESPONSE) self.mock_client_service.get_netconfig.return_value = ( FAKE_POSITIVE_NETCONFIG_RESPONSE) self.assertEqual({ 'provider_location': '172.18.108.21:3260 iqn.test', 'provider_auth': None}, self.driver.create_volume({'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''})) self.mock_client_service.create_vol.assert_called_once_with( {'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''}, 'default', False, 'iSCSI', False) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @mock.patch.object(volume_types, 'get_volume_type_extra_specs', mock.Mock(type_id=FAKE_TYPE_ID, return_value={",,57,3
openstack%2Fcinder~master~I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48,openstack/cinder,master,I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48,XtremIO: optional clean IG with no mappings,MERGED,2017-10-26 12:45:23.000000000,2018-02-25 14:11:45.000000000,2017-12-14 00:59:06.000000000,"[{'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11418}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-10-26 12:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9f94569abe7ee1d6eb39b64bdb301db1b29a31a', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 2, 'created': '2017-10-30 12:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0585e215fe4ddc0f468e80a85bf11e73994e49f', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 3, 'created': '2017-11-01 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23d4da234e0188b7b82312a34cf15f2b60d4b3b2', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 4, 'created': '2017-11-30 10:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a97545bbe2e23664ce48935f86749343a0be5b2', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 5, 'created': '2017-11-30 15:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f75567bb21d0c2520fe52bc017207243eca55e21', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 6, 'created': '2017-12-03 09:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee90f7797b830f4cffbec96262122fbc8d8cadd1', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 7, 'created': '2017-12-04 05:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f220209beee6bc3cb6f65416fd792e52cf7d797a', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}, {'number': 8, 'created': '2017-12-06 11:12:14.000000000', 'files': ['releasenotes/notes/xtremio-ig-cleanup-bbb4bee1f1e3611c.yaml', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2c35cbffd95699a1a9c9d1599803f1ec7994352', 'message': 'XtremIO: optional clean IG with no mappings\n\nOptionally remove the IG and initiators after unmapping the last volume.\n\ncloses-bug: #1723430\nChange-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48\n'}]",12,515392,b2c35cbffd95699a1a9c9d1599803f1ec7994352,260,52,8,11418,,,0,"XtremIO: optional clean IG with no mappings

Optionally remove the IG and initiators after unmapping the last volume.

closes-bug: #1723430
Change-Id: I4f6a9676d4ee7e1c4456879b5f1ed9ec20bb7f48
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/515392/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py']",2,d9f94569abe7ee1d6eb39b64bdb301db1b29a31a,bug/1723430," driver_ssl_cert_path='/test/path/root_ca.crt', xtremio_array_busy_retry_interval=5, xtremio_clean_unused_ig=False) i1 = xms_data['initiators'][1] i1['ig-id'] = ['', i1['ig-id'], 1] self.assertEqual(1, len(xms_data['initiator-groups'])) def test_terminate_connection_clean_ig(self, req): self.driver.clean_ig = True req.side_effect = xms_request self.driver.create_volume(self.data.test_volume) self.driver.initialize_connection(self.data.test_volume, self.data.connector) i1 = xms_data['initiators'][1] i1['ig-id'] = ['', i1['ig-id'], 1] xms_data['initiator-groups'][1]['num-of-vols'] = 0 # lun mapping list is a list of triplets (IG OID, TG OID, lun number) self.driver.terminate_connection(self.data.test_volume, self.data.connector) self.assertEqual(0, len(xms_data['initiator-groups']))"," driver_ssl_cert_path= '/test/path/root_ca.crt', xtremio_array_busy_retry_interval=5) self.driver.create_volume(self.data.test_volume2)",42,5
openstack%2Fcinder~master~Ia0792a6a70d74416b7ef593141efbd167aeb1fa5,openstack/cinder,master,Ia0792a6a70d74416b7ef593141efbd167aeb1fa5,TrivialFix: Delete word I in admin/blockstorage-backup-disks.rst,MERGED,2017-12-06 01:54:04.000000000,2018-02-25 14:11:43.000000000,2017-12-14 00:29:42.000000000,"[{'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25388}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-06 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2e9f9071c95f6211a5736b207ac87e2d6035a10', 'message': 'TrivialFix: Delete word I in admin/blockstorage-backup-disks.rst\n\nChange-Id: Ia0792a6a70d74416b7ef593141efbd167aeb1fa5\n'}, {'number': 2, 'created': '2017-12-06 02:06:15.000000000', 'files': ['doc/source/admin/blockstorage-backup-disks.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b49b3368d7d36003b98676463511cab63b5ca097', 'message': 'TrivialFix: Delete word I in admin/blockstorage-backup-disks.rst\n\nChange-Id: Ia0792a6a70d74416b7ef593141efbd167aeb1fa5\n'}]",1,525846,b49b3368d7d36003b98676463511cab63b5ca097,44,33,2,25388,,,0,"TrivialFix: Delete word I in admin/blockstorage-backup-disks.rst

Change-Id: Ia0792a6a70d74416b7ef593141efbd167aeb1fa5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/525846/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/blockstorage-backup-disks.rst'],1,b2e9f9071c95f6211a5736b207ac87e2d6035a10,trival_fix,#. Checksum calculation,#. Checksum calculation I,1,1
openstack%2Fcinder~master~I5823547c88edb4a1cc9ea5a51c9bf301daf41257,openstack/cinder,master,I5823547c88edb4a1cc9ea5a51c9bf301daf41257,Fix TypeError for workers cleanup api incase of invalid resource_type value,MERGED,2017-12-01 09:00:02.000000000,2018-02-25 14:11:42.000000000,2017-12-23 17:52:09.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20721}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22878}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26541}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-01 09:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3532a2c7c3fd83109d944c8873924b4c3cc92341', 'message': ""workers cleanup api raises TypeError for invalid resource_type value\n\nWorkers cleanup API fails to build exception message if invalid resource_type\nvalue other than ['snapshot', 'volume'] is passed and raises TypeError\nwhich gets wrapped into BadRequest at wsgi level.\n\nThis patch modifies exception message to fix TypeError issue.\nExisting unit test test_cleanup_wrong_param is not failing because unit tests\ndoesn't use lazy gettext[1].\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/test.py#L145\n\nCloses-Bug: #1734252\nChange-Id: I5823547c88edb4a1cc9ea5a51c9bf301daf41257\n""}, {'number': 2, 'created': '2017-12-05 10:03:18.000000000', 'files': ['cinder/api/v3/workers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/72b96ee9dfca05e75a23784e4b86c9947797aa3d', 'message': ""Fix TypeError for workers cleanup api incase of invalid resource_type value\n\nWorkers cleanup API fails to build exception message if invalid resource_type\nvalue other than ['snapshot', 'volume'] is passed and raises TypeError\nwhich gets wrapped into BadRequest at wsgi level.\n\nThis patch modifies exception message to fix TypeError issue.\n\nCloses-Bug: #1734252\nChange-Id: I5823547c88edb4a1cc9ea5a51c9bf301daf41257\n""}]",4,524530,72b96ee9dfca05e75a23784e4b86c9947797aa3d,73,39,2,26541,,,0,"Fix TypeError for workers cleanup api incase of invalid resource_type value

Workers cleanup API fails to build exception message if invalid resource_type
value other than ['snapshot', 'volume'] is passed and raises TypeError
which gets wrapped into BadRequest at wsgi level.

This patch modifies exception message to fix TypeError issue.

Closes-Bug: #1734252
Change-Id: I5823547c88edb4a1cc9ea5a51c9bf301daf41257
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/524530/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/v3/workers.py'],1,3532a2c7c3fd83109d944c8873924b4c3cc92341,bug/1734252," valid_types = utils.build_or_str(types) msg = _('Resource type %(resource_type)s not valid,' ' must be %(valid_types)s') msg = msg % {""resource_type"": resource_type, ""valid_types"": valid_types}"," msg = (_('Resource type %s not valid, must be ') % resource_type) msg = utils.build_or_str(types, msg + '%s.')",5,3
openstack%2Fcinder~master~Ib9ad406d933f6491c5e9fbd46dd3c7d6bb07e45b,openstack/cinder,master,Ib9ad406d933f6491c5e9fbd46dd3c7d6bb07e45b,DS8K: don't swap role after failover group,MERGED,2017-10-31 08:26:49.000000000,2018-02-25 14:11:40.000000000,2017-12-11 21:24:26.000000000,"[{'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13047}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22878}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26422}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-31 08:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5574dcf4d34722b6f67721d624061df4db87495b', 'message': ""DS8K: don't swap role after failover group\n\nAfter group failed over, DS8K driver should not run failback in replication\ntarget to swap the role of primary volume and secondary volume which will\nfetch the changes in secondary volume to primary volume.\n\nChange-Id: Ib9ad406d933f6491c5e9fbd46dd3c7d6bb07e45b\nCloses-Bug: 1727963\n""}, {'number': 2, 'created': '2017-12-02 13:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22aae1e80a77e7fa7a61b35ca1e6b5c696ba335d', 'message': ""DS8K: don't swap role after failover group\n\nAfter group failed over, DS8K driver should not run failback in replication\ntarget to swap the role of primary volume and secondary volume which will\nfetch the changes in secondary volume to primary volume.\n\nChange-Id: Ib9ad406d933f6491c5e9fbd46dd3c7d6bb07e45b\nCloses-Bug: 1727963\n""}, {'number': 3, 'created': '2017-12-05 05:40:14.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77865be7b01bfa536eaae66a46cc9e2472de58de', 'message': ""DS8K: don't swap role after failover group\n\nAfter group failed over, DS8K driver should not run failback in\nreplication target to swap the role of primary volume and secondary\nvolume which will fetch the changes in secondary volume to primary\nvolume.\n\nChange-Id: Ib9ad406d933f6491c5e9fbd46dd3c7d6bb07e45b\nCloses-Bug: 1727963\n""}]",0,516551,77865be7b01bfa536eaae66a46cc9e2472de58de,117,46,3,26422,,,0,"DS8K: don't swap role after failover group

After group failed over, DS8K driver should not run failback in
replication target to swap the role of primary volume and secondary
volume which will fetch the changes in secondary volume to primary
volume.

Change-Id: Ib9ad406d933f6491c5e9fbd46dd3c7d6bb07e45b
Closes-Bug: 1727963
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/516551/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/ibm_storage/ds8k_replication.py'],1,5574dcf4d34722b6f67721d624061df4db87495b,bug/1727963," sample_luns = self._get_sample_luns(luns) for lun in sample_luns: self._mm_manager.create_pprc_path(lun, True) self._mm_manager.do_pprc_failback(luns, True) self._mm_manager.do_pprc_failback(luns, True)"," # unlike host failover, group failover needs to fetch changes from # target volumes to source volumes after group is failed over. sample_luns = self._get_sample_luns(luns) for lun in sample_luns: self._mm_manager.create_pprc_path(lun, True) self._mm_manager.do_pprc_failback(luns, True) # NOTE: unlike failover host, after group is failed over, # source and target clients are not swapped.",5,8
openstack%2Fcinder~master~I615d12dfdced3230d3a4195e0323cf3ed9a04e6b,openstack/cinder,master,I615d12dfdced3230d3a4195e0323cf3ed9a04e6b,Updated from global requirements,MERGED,2017-11-12 17:23:48.000000000,2018-02-25 14:11:38.000000000,2017-12-06 10:49:31.000000000,"[{'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-12 17:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c0558e6b5d205cc1b7124276ff0b7384791bb4d', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 2, 'created': '2017-11-12 20:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61f88b6d06b0b63cd9e1d610c2c01451e41ad096', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 3, 'created': '2017-11-13 10:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d54eb446d3a683877eb97dc5a778ecb3da36e094', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 4, 'created': '2017-11-13 21:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26315c490467663f180ddef24c4bae167307384f', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 5, 'created': '2017-11-13 21:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf25f31802183d550b1e4f86e3369802e6e1e0d2', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 6, 'created': '2017-11-13 21:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13735b9b9e3ef66ed13c1a0c0c8beba7b0a64b24', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 7, 'created': '2017-11-13 21:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c51589f15d5ebcadd00ed55b894e39b1386e5919', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 8, 'created': '2017-11-13 21:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b561f473b7495f8c98de04205a81614388589418', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 9, 'created': '2017-11-14 03:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8683116d2b84e10074cecf10e72d1a90cdb9175f', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 10, 'created': '2017-11-14 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab4b66371b009a50abccb210f21d1fb1509c28a8', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 11, 'created': '2017-11-14 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eefbbeca3ea49df5d390746cb58a8dcfb0a1e708', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 12, 'created': '2017-11-14 22:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6aed25657a0557a6dba9c94bb5dba7c53295c27', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 13, 'created': '2017-11-14 22:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ee1ad54c35f3ce9b0fae46eed62ae24324f5b36', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 14, 'created': '2017-11-15 00:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/475f260141d579c3b7fb26b4ff11583e8281aa3c', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 15, 'created': '2017-11-15 01:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b9138a6973a23d794a49713157d8e2ab2eae7ef', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 16, 'created': '2017-11-15 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a088584988e452cdafc4aa0c65564fbedefb8716', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 17, 'created': '2017-11-15 18:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f7d4bdceeba798d8e16c6fa084fad73948265ab', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 18, 'created': '2017-11-16 11:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09290ab72ce8222f0cd3b768355babe06dbb321a', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 19, 'created': '2017-11-16 11:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/914a04e45c09265790ad574eda56332012fca694', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 20, 'created': '2017-11-16 11:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01615dfb75b5afc38abcc02f3df352c706fc702a', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 21, 'created': '2017-11-28 22:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a80951bebc27789751ea8dd2db519ccae085849', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 22, 'created': '2017-11-29 08:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7bd63c7cacf8cd6b2b0f36e109a7482823993c1', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 23, 'created': '2017-12-03 20:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43a54a46008b234d4a06463c5ebc1a1c65670aac', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}, {'number': 24, 'created': '2017-12-05 02:59:04.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42f98148a4dfd4070d159fd815ab16f62ceed08d', 'message': 'Updated from global requirements\n\nChange-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b\n'}]",0,519088,42f98148a4dfd4070d159fd815ab16f62ceed08d,340,43,24,11131,,,0,"Updated from global requirements

Change-Id: I615d12dfdced3230d3a4195e0323cf3ed9a04e6b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/519088/22 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6c0558e6b5d205cc1b7124276ff0b7384791bb4d,openstack/requirements,oslo.utils>=3.31.0 # Apache-2.0,oslo.utils>=3.28.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2,openstack/cinder,master,I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2,Fix for volume from image snapshot free space issue,MERGED,2017-11-30 20:07:21.000000000,2018-02-25 14:11:36.000000000,2017-12-06 10:49:35.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25435}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-30 20:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e580c0a6ea2f8b071987a7281e741e657ff95988', 'message': 'Fixes Bug1683228\n\ncreate_from_image() function checks for free space in conversion path\n(by default /var/lib/cinder/conversion) even if cinder is creating\nvolume from image snapshot.\n\nIf /var/lib/cinder/conversion has less free space than the size of the\nimage volume is created from, exception will be thrown by\ncheck_available_space() function in image_utils module.\n\nThis patch checks if cinder is configured with\nallowed_direct_url_schemes = cinder\nIf so, cinder should not check free space in conversion path because\nvolume is created from image snapshot.\n\nChange-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2\n'}, {'number': 2, 'created': '2017-12-01 08:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/431fd071832d37524eba194d7fb6bdf05a53681b', 'message': 'Fix for volume from image snapshot free space issue\n\ncreate_from_image() function checks for free space in conversion path\n(by default /var/lib/cinder/conversion) even if cinder is creating\nvolume from image snapshot.\n\nIf /var/lib/cinder/conversion has less free space than the size of the\nimage volume is created from, exception will be thrown by\ncheck_available_space() function in image_utils module.\n\nThis patch checks if cinder is configured with\nallowed_direct_url_schemes = cinder\nIf so, cinder should not check free space in conversion path because\nvolume is created from image snapshot.\n\nCloses-Bug: #1683228\nChange-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2\n'}, {'number': 3, 'created': '2017-12-04 17:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d4998c9591b75ad8a1ac598a16e92b4f56724be', 'message': 'Fixes Bug1683228\n\ncreate_from_image() function checks for free space in conversion path\n(by default /var/lib/cinder/conversion) even if cinder is creating\nvolume from image snapshot.\n\nIf /var/lib/cinder/conversion has less free space than the size of the\nimage volume is created from, exception will be thrown by\ncheck_available_space() function in image_utils module.\n\nThis patch checks if cinder is configured with\nallowed_direct_url_schemes = cinder\nIf so, cinder should not check free space in conversion path because\nvolume is created from image snapshot.\n\nChange-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2\n'}, {'number': 4, 'created': '2017-12-04 17:37:40.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/30bb0dfbe77efcfcb2330f1758d229310e52ff74', 'message': 'Fix for volume from image snapshot free space issue\n\ncreate_from_image() function checks for free space in conversion path\n(by default /var/lib/cinder/conversion) even if cinder is creating\nvolume from image snapshot.\n\nIf /var/lib/cinder/conversion has less free space than the size of the\nimage volume is created from, exception will be thrown by\ncheck_available_space() function in image_utils module.\n\nThis patch checks if cinder is configured with\nallowed_direct_url_schemes = cinder\nIf so, cinder should not check free space in conversion path because\nvolume is created from image snapshot.\n\nCloses-Bug: #1683228\nChange-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2\n'}]",2,524331,30bb0dfbe77efcfcb2330f1758d229310e52ff74,106,40,4,25435,,,0,"Fix for volume from image snapshot free space issue

create_from_image() function checks for free space in conversion path
(by default /var/lib/cinder/conversion) even if cinder is creating
volume from image snapshot.

If /var/lib/cinder/conversion has less free space than the size of the
image volume is created from, exception will be thrown by
check_available_space() function in image_utils module.

This patch checks if cinder is configured with
allowed_direct_url_schemes = cinder
If so, cinder should not check free space in conversion path because
volume is created from image snapshot.

Closes-Bug: #1683228
Change-Id: I6330ed31dc9336c9d3d09c2d43c8f4913744e9a2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/524331/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/manager/create_volume.py'],1,e580c0a6ea2f8b071987a7281e741e657ff95988,bug/1683228," # cinder should not check free space in conversion directory # if it's creating volume from image snapshot (Bug1683228). if 'cinder' not in CONF.allowed_direct_url_schemes: image_utils.check_available_space(CONF.image_conversion_dir, image_meta['size'], image_id)"," image_utils.check_available_space(CONF.image_conversion_dir, image_meta['size'], image_id)",5,2
openstack%2Fcinder~master~I3b581e1b880cf08dd7400db8d77bad8b8fa3b716,openstack/cinder,master,I3b581e1b880cf08dd7400db8d77bad8b8fa3b716,INFINIDAT: change CI_WIKI_NAME,MERGED,2017-12-04 10:05:14.000000000,2018-02-25 14:11:18.000000000,2017-12-06 10:49:28.000000000,"[{'_account_id': 170}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26968}]","[{'number': 1, 'created': '2017-12-04 10:05:14.000000000', 'files': ['cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c1e27564a5a615a255d5a22494c0e1aefea576f', 'message': 'INFINIDAT: change CI_WIKI_NAME\n\nAs we now support more than one OpenStack project,\nour CI name should be more general than INFINIDAT_CINDER_CI.\nChanged to: INFINIDAT_CI.\n\nChange-Id: I3b581e1b880cf08dd7400db8d77bad8b8fa3b716\n'}]",0,525121,2c1e27564a5a615a255d5a22494c0e1aefea576f,38,31,1,26968,,,0,"INFINIDAT: change CI_WIKI_NAME

As we now support more than one OpenStack project,
our CI name should be more general than INFINIDAT_CINDER_CI.
Changed to: INFINIDAT_CI.

Change-Id: I3b581e1b880cf08dd7400db8d77bad8b8fa3b716
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/525121/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/infinidat.py'],1,2c1e27564a5a615a255d5a22494c0e1aefea576f,," CI_WIKI_NAME = ""INFINIDAT_CI"""," CI_WIKI_NAME = ""INFINIDAT_Cinder_CI""",1,1
openstack%2Fcinder~master~I9fc41a426b29fad4f4d42a584325f0465a20effe,openstack/cinder,master,I9fc41a426b29fad4f4d42a584325f0465a20effe,Add test for volume create with non-ascii characters,MERGED,2017-12-03 07:11:09.000000000,2018-02-25 14:11:05.000000000,2017-12-05 02:47:17.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19262}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-03 07:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6aa64a78edac33a1e77e3700697d2ad5a984de1', 'message': 'Create a volume snapshot based on volume with non-ascii description\n\n This test was uploaded since there was a bug [1] while creating a volume\n snapshot if the description of the parent volume contains non-ascii code.\n\n [1] https://bugzilla.redhat.com/show_bug.cgi?id=1383899\n\nChange-Id: I9fc41a426b29fad4f4d42a584325f0465a20effe\n'}, {'number': 2, 'created': '2017-12-04 05:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4806b2af50cdbb9478c00eeef259515c16876495', 'message': 'Add test for volume create with non-ascii characters\n\nThis test was uploaded since there was a bug [1] while creating\na volume snapshot if the description of the parent volume contains\nnon-ascii code.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1383899\n\nChange-Id: I9fc41a426b29fad4f4d42a584325f0465a20effe\n'}, {'number': 3, 'created': '2017-12-04 06:13:39.000000000', 'files': ['cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a323becd5c1c07283203b8cf97cb53dea9dd64ca', 'message': 'Add test for volume create with non-ascii characters\n\nThis test was uploaded since there was a bug [1] while creating\na volume snapshot if the description of the parent volume contains\nnon-ascii code.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1383899\n\nChange-Id: I9fc41a426b29fad4f4d42a584325f0465a20effe\n'}]",12,524946,a323becd5c1c07283203b8cf97cb53dea9dd64ca,63,29,3,19262,,,0,"Add test for volume create with non-ascii characters

This test was uploaded since there was a bug [1] while creating
a volume snapshot if the description of the parent volume contains
non-ascii code.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1383899

Change-Id: I9fc41a426b29fad4f4d42a584325f0465a20effe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/524946/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_volume_unicode.py'],1,e6aa64a78edac33a1e77e3700697d2ad5a984de1,non_ascii," def test_snapshot_create_volume_description_non_ascii_code(self): # Create a volume with non-ascii description description = u'\u05e7\u05d9\u05d9\u05e4\u05e9' volume = self.create_volume(description=description) vol_info = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual(description, vol_info['description']) self.create_snapshot(volume['id'])",,8,0
openstack%2Fcinder~master~I810b6cb6bba2d95cc5bb477d6e2968ac1734c96b,openstack/cinder,master,I810b6cb6bba2d95cc5bb477d6e2968ac1734c96b,Add cg policies and clean up old policy handling,MERGED,2017-12-01 21:36:02.000000000,2018-02-25 14:11:04.000000000,2017-12-13 04:31:03.000000000,"[{'_account_id': 5046}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-01 21:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f786901259a8ccb7319a34a5c21e4ccd72f785ec', 'message': 'Add cg policies and clean up old policy handling\n\nThis completes the ""policy-in-code"" work for Cinder by removing\nthe old policy.json handling. It also adds new in-code checks to\nthe legacy consistency group code for completeness.\n\nChange-Id: I810b6cb6bba2d95cc5bb477d6e2968ac1734c96b\nImplements: bp policy-in-code\n'}, {'number': 2, 'created': '2017-12-02 10:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b105480682c133e5ba80f07b5a5c91f9688a982b', 'message': 'Add cg policies and clean up old policy handling\n\nThis completes the ""policy-in-code"" work for Cinder by removing\nthe old policy.json handling. It also adds new in-code checks to\nthe legacy consistency group code for completeness.\n\nChange-Id: I810b6cb6bba2d95cc5bb477d6e2968ac1734c96b\nDepends-on: I364e401227fe43e2bacf8a799e10286ee445f835\nImplements: bp policy-in-code\n'}, {'number': 3, 'created': '2017-12-04 02:09:43.000000000', 'files': ['cinder/test.py', 'etc/cinder/policy.json', 'cinder/tests/unit/policy.json', 'cinder/policy.py', 'cinder/api/v3/consistencygroups.py', 'releasenotes/notes/policy-in-code-226f71562ab28195.yaml', 'setup.cfg', 'cinder/api/contrib/consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fe72de4b690bc5c964c12715581128830c667d5', 'message': 'Add cg policies and clean up old policy handling\n\nThis completes the ""policy-in-code"" work for Cinder by removing\nthe old policy.json handling. It also adds new in-code checks to\nthe legacy consistency group code for completeness.\n\nChange-Id: I810b6cb6bba2d95cc5bb477d6e2968ac1734c96b\nDepends-on: I364e401227fe43e2bacf8a799e10286ee445f835\nImplements: bp policy-in-code\n'}]",0,524733,9fe72de4b690bc5c964c12715581128830c667d5,61,31,3,11904,,,0,"Add cg policies and clean up old policy handling

This completes the ""policy-in-code"" work for Cinder by removing
the old policy.json handling. It also adds new in-code checks to
the legacy consistency group code for completeness.

Change-Id: I810b6cb6bba2d95cc5bb477d6e2968ac1734c96b
Depends-on: I364e401227fe43e2bacf8a799e10286ee445f835
Implements: bp policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/524733/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'etc/cinder/policy.json', 'cinder/tests/unit/policy.json', 'cinder/policy.py', 'cinder/api/v3/consistencygroups.py', 'releasenotes/notes/policy-in-code-226f71562ab28195.yaml', 'setup.cfg', 'cinder/api/contrib/consistencygroups.py']",8,f786901259a8ccb7319a34a5c21e4ccd72f785ec,bp/policy-in-code,"from cinder.policies import group_actions as gp_action_policy from cinder.policies import groups as group_policy context.authorize(gp_action_policy.DELETE_POLICY, target_obj=group) context.authorize(group_policy.GET_ALL_POLICY) context.authorize(group_policy.CREATE_POLICY) context.authorize(group_policy.CREATE_POLICY) def _update(self, context, group, name, description, add_volumes, {'id': group.id, group = self._get(context, id) context.authorize(group_policy.UPDATE_POLICY, target_obj=group) self._update(context, group, name, description, add_volumes,","from cinder.consistencygroup import api as consistencygroup_api consistencygroup_api.check_policy(context, 'delete') consistencygroup_api.check_policy(context, 'create') consistencygroup_api.check_policy(context, 'create') def _update(self, context, id, name, description, add_volumes, {'id': id, group = self._get(context, id) self._update(context, id, name, description, add_volumes,",30,133
openstack%2Fcinder~master~I3419e628d42eddfe19c55cd72e7b9469e9fccc94,openstack/cinder,master,I3419e628d42eddfe19c55cd72e7b9469e9fccc94,VNX: Fix cloning failure when system is busy,MERGED,2017-11-15 08:11:54.000000000,2018-02-25 14:11:02.000000000,2018-01-05 21:13:23.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 08:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70ea79fc179448cbb86df6a9ae9221a6f693ddaa', 'message': ""VNX: Fix cloning failure when system is busy\n\nIn newton, the 30s wait was removed due to refactor, in this case,\nIf the session hasn't started in the VNX, the driver would perform\nunexpected rollback for the migration.\n\nAdding a wait will make sure the session is started on the VNX thus\ncloning can succeed.\n\nChange-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94\nCloses-bug: #1720063\n""}, {'number': 2, 'created': '2017-11-15 14:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f77597dc1753368e4df4ff92c7c64e82ebcc7c25', 'message': ""VNX: Fix cloning failure when system is busy\n\nIn newton, the 30s wait was removed due to refactor, in this case,\nIf the session hasn't started in the VNX, the driver would perform\nunexpected rollback for the migration.\n\nAdding a wait will make sure the session is started on the VNX thus\ncloning can succeed.\n\nChange-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94\nCloses-bug: #1732462\n""}, {'number': 3, 'created': '2017-11-17 18:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/815906cbdde17ac3ef377b22e5fd23e23e233ab5', 'message': ""VNX: Fix cloning failure when system is busy\n\nIn newton, the 30s wait was removed due to refactor, in this case,\nIf the session hasn't started in the VNX, the driver would perform\nunexpected rollback for the migration.\n\nAdding a wait will make sure the session is started on the VNX thus\ncloning can succeed.\n\nChange-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94\nCloses-bug: #1732462\n""}, {'number': 4, 'created': '2017-12-04 01:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19af67e5dc75dfae4b600a826b2fb683a9cd0047', 'message': ""VNX: Fix cloning failure when system is busy\n\nIn newton, the 30s wait was removed due to refactor, in this case,\nIf the session hasn't started in the VNX, the driver would perform\nunexpected rollback for the migration.\n\nAdding a wait will make sure the session is started on the VNX thus\ncloning can succeed.\n\nChange-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94\nCloses-bug: #1732462\n""}, {'number': 5, 'created': '2017-12-20 06:37:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/552d6fd33a4a2534eea6ca71765ab9936f5920b7', 'message': ""VNX: Fix cloning failure when system is busy\n\nIn newton, the 30s wait was removed due to refactor, in this case,\nIf the session hasn't started in the VNX, the driver would perform\nunexpected rollback for the migration.\n\nAdding a wait will make sure the session is started on the VNX thus\ncloning can succeed.\n\nChange-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94\nCloses-bug: #1732462\n""}]",4,520006,552d6fd33a4a2534eea6ca71765ab9936f5920b7,126,43,5,10628,,,0,"VNX: Fix cloning failure when system is busy

In newton, the 30s wait was removed due to refactor, in this case,
If the session hasn't started in the VNX, the driver would perform
unexpected rollback for the migration.

Adding a wait will make sure the session is started on the VNX thus
cloning can succeed.

Change-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94
Closes-bug: #1732462
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/520006/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",3,70ea79fc179448cbb86df6a9ae9221a6f693ddaa,bug/1732462,import time # Sleep 30 seconds to make sure the session starts on the VNX. time.sleep(30),,15,8
openstack%2Fcinder~master~Ibd18c5f6c772f7265175a63ed2b598fcc3c87bc1,openstack/cinder,master,Ibd18c5f6c772f7265175a63ed2b598fcc3c87bc1,Add shared_targets and service_uuid to volumes,MERGED,2017-12-01 18:29:08.000000000,2018-02-25 14:11:00.000000000,2017-12-02 13:05:51.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-01 18:29:08.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/677f130dde4ca7ddf99cc4e4cae1def3491e3912', 'message': 'Add shared_targets and service_uuid to volumes\n\nThis adds the last bits to the shared_targets and service_uuid\nadditions to volumes.  The object and db models are already\nupdated and this change simply introduces API MV 3.48 to\nexpose the new fields to the Volume view.\n\nThese fields are intended to be used for identifying if the\nback end device serving a volume is using shared targets, and\nprovides the service_uuid to be used as a suggested/unique\nhandle for locking.\n\nChange-Id: Ibd18c5f6c772f7265175a63ed2b598fcc3c87bc1\n'}]",0,524697,677f130dde4ca7ddf99cc4e4cae1def3491e3912,34,30,1,2243,,,0,"Add shared_targets and service_uuid to volumes

This adds the last bits to the shared_targets and service_uuid
additions to volumes.  The object and db models are already
updated and this change simply introduces API MV 3.48 to
expose the new fields to the Volume view.

These fields are intended to be used for identifying if the
back end device serving a volume is using shared targets, and
provides the service_uuid to be used as a suggested/unique
handle for locking.

Change-Id: Ibd18c5f6c772f7265175a63ed2b598fcc3c87bc1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/524697/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py', 'cinder/volume/api.py']",6,677f130dde4ca7ddf99cc4e4cae1def3491e3912,add_shared_targets_info_to_volume_view," # Refresh the object here, otherwise things ain't right vref = objects.Volume.get_by_id( context, vref['id'])",,30,5
openstack%2Fcinder~master~I34e53ac72cbda9d8264e48e50f5a84ca09b850bd,openstack/cinder,master,I34e53ac72cbda9d8264e48e50f5a84ca09b850bd,Discrepancy in api-ref and code for create group type API,MERGED,2017-12-01 06:47:17.000000000,2018-02-25 14:10:59.000000000,2018-01-03 06:36:01.000000000,"[{'_account_id': 6491}, {'_account_id': 9303}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-01 06:47:17.000000000', 'files': ['api-ref/source/v3/group-types.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e770fef421ada846b040fc8e3aaf85f8954e893', 'message': ""Discrepancy in api-ref and code for create group type API\n\n'name' is mentioned as an optional parameter in api-ref doc for\nPOST /v3/{project_id}/group_types API but in the code if we don't\npass 'name' it returns BadRequest. Also in create and update API,\n'is_public' parameter is not added in api-ref document.\n\nThis patch fixes this discrepancy by updating the api-ref according\nto the code.\n\nChange-Id: I34e53ac72cbda9d8264e48e50f5a84ca09b850bd\n""}]",6,524492,6e770fef421ada846b040fc8e3aaf85f8954e893,36,33,1,24645,,,0,"Discrepancy in api-ref and code for create group type API

'name' is mentioned as an optional parameter in api-ref doc for
POST /v3/{project_id}/group_types API but in the code if we don't
pass 'name' it returns BadRequest. Also in create and update API,
'is_public' parameter is not added in api-ref document.

This patch fixes this discrepancy by updating the api-ref according
to the code.

Change-Id: I34e53ac72cbda9d8264e48e50f5a84ca09b850bd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/524492/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/group-types.inc', 'api-ref/source/v3/parameters.yaml']",2,6e770fef421ada846b040fc8e3aaf85f8954e893,discrepancy_group_types,is_public_2: description: Whether the group type is publicly visible. in: body required: false type: boolean required: true, required: false,9,1
openstack%2Fcinder~master~I8603a2d63e57354aa0d153ddfb4e9b4172ff803d,openstack/cinder,master,I8603a2d63e57354aa0d153ddfb4e9b4172ff803d,Remove extra test variable assignment,MERGED,2017-11-30 21:39:28.000000000,2018-02-25 14:10:57.000000000,2017-12-01 03:24:07.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-30 21:39:28.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea1d19f278c099b7f89d8f2cc466188be1a8bd51', 'message': 'Remove extra test variable assignment\n\nExpected assertion value is assigned and then immediately\noverwritten. Removes unused variable assignment.\n\nTrivialFix\n\nChange-Id: I8603a2d63e57354aa0d153ddfb4e9b4172ff803d\n'}]",0,524398,ea1d19f278c099b7f89d8f2cc466188be1a8bd51,29,25,1,11904,,,0,"Remove extra test variable assignment

Expected assertion value is assigned and then immediately
overwritten. Removes unused variable assignment.

TrivialFix

Change-Id: I8603a2d63e57354aa0d153ddfb4e9b4172ff803d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/524398/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,ea1d19f278c099b7f89d8f2cc466188be1a8bd51,,," expected = {'provisioned_capacity_gb': 30, 'allocated_capacity_gb': 20}",0,1
openstack%2Fcinder~master~I6cf27bae91ac0faac7d6bdc2d7e447fc5b598482,openstack/cinder,master,I6cf27bae91ac0faac7d6bdc2d7e447fc5b598482,Tests: Cleanup utils.create_volume fields,MERGED,2017-11-28 23:09:53.000000000,2018-02-25 14:10:53.000000000,2017-12-06 12:43:17.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-28 23:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55167dc6b4f0c8964aa29cd67b8db433ced6acb1', 'message': 'Tests: Cleanup utils.create_volume fields\n\nFields that default to None don\'t need to be added\nhere, they are handled by **kwargs + volume.create().\n\nRemove ""group_snapshot"" since it\'s not actually a\nvolume field.\n\nAlso make the function more readable.\n\nChange-Id: I6cf27bae91ac0faac7d6bdc2d7e447fc5b598482\n'}, {'number': 2, 'created': '2017-11-30 12:46:06.000000000', 'files': ['cinder/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/071e3c55d62fab2564b22f41675a26a87c0f46e6', 'message': 'Tests: Cleanup utils.create_volume fields\n\nFields that default to None don\'t need to be added\nhere, they are handled by **kwargs + volume.create().\n\nRemove ""group_snapshot"" since it\'s not actually a\nvolume field.\n\nAlso make the function more readable.\n\nChange-Id: I6cf27bae91ac0faac7d6bdc2d7e447fc5b598482\n'}]",0,523563,071e3c55d62fab2564b22f41675a26a87c0f46e6,42,27,2,4523,,,0,"Tests: Cleanup utils.create_volume fields

Fields that default to None don't need to be added
here, they are handled by **kwargs + volume.create().

Remove ""group_snapshot"" since it's not actually a
volume field.

Also make the function more readable.

Change-Id: I6cf27bae91ac0faac7d6bdc2d7e447fc5b598482
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/523563/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/utils.py'],1,55167dc6b4f0c8964aa29cd67b8db433ced6acb1,," vol = {'size': size, 'host': host, 'user_id': ctxt.user_id, 'project_id': ctxt.project_id, 'status': status, 'display_name': display_name, 'display_description': display_description, 'attach_status': fields.VolumeAttachStatus.DETACHED, 'availability_zone': availability_zone, } "," migration_status=None, volume_type_id=None, replication_extended_status=None, replication_driver_data=None, consistencygroup_id=None, group_id=None, previous_status=None, cluster_name=None, vol = {} vol['size'] = size vol['host'] = host vol['user_id'] = ctxt.user_id vol['project_id'] = ctxt.project_id vol['status'] = status if migration_status: vol['migration_status'] = migration_status vol['display_name'] = display_name vol['display_description'] = display_description vol['attach_status'] = fields.VolumeAttachStatus.DETACHED vol['availability_zone'] = availability_zone if consistencygroup_id: vol['consistencygroup_id'] = consistencygroup_id if group_id: vol['group_id'] = group_id vol['group_snapshot'] = None if volume_type_id: vol['volume_type_id'] = volume_type_id if replication_extended_status: vol['replication_extended_status'] = replication_extended_status if replication_driver_data: vol['replication_driver_data'] = replication_driver_data if previous_status: vol['previous_status'] = previous_status if cluster_name: vol['cluster_name'] = cluster_name ",11,36
openstack%2Fcinder~master~Ib66253d3f809c65a2da39c4994e914c1bea53506,openstack/cinder,master,Ib66253d3f809c65a2da39c4994e914c1bea53506,Imported Translations from Zanata,MERGED,2017-11-30 06:36:49.000000000,2018-02-25 14:10:41.000000000,2017-11-30 13:43:04.000000000,"[{'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-11-30 06:36:49.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/28da2cdd61b754ac9c4f6d1424f1e0518aa260a1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib66253d3f809c65a2da39c4994e914c1bea53506\n'}]",0,524074,28da2cdd61b754ac9c4f6d1424f1e0518aa260a1,31,26,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib66253d3f809c65a2da39c4994e914c1bea53506
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/524074/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",11,28da2cdd61b754ac9c4f6d1424f1e0518aa260a1,zanata/translations,"""Project-Id-Version: cinder 12.0.0.0b2.dev262\n""""POT-Creation-Date: 2017-11-29 20:28+0000\n""msgid ""Must supply a positive value for age"" msgstr ""Vk mus bt zadn pomoc kladn hodnoty""","""Project-Id-Version: cinder 12.0.0.0b2.dev197\n""""POT-Creation-Date: 2017-11-21 04:03+0000\n""msgid ""Describe-resource is admin only functionality"" msgstr ""Describe-resource je funkce pouze pro sprvce"" msgid ""Must supply a positive, non-zero value for age"" msgstr ""Muste zadat kladnou, nenulovou hodnotu pro vk""",44,88
openstack%2Fmistral~master~I3432f3ab4bcba2d67e00e6f8a7c3916959d59c27,openstack/mistral,master,I3432f3ab4bcba2d67e00e6f8a7c3916959d59c27,Add a step to install tox,MERGED,2018-02-06 02:49:58.000000000,2018-02-25 14:09:33.000000000,2018-02-25 14:09:33.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 25167}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-02-06 02:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/83fe82de46dd989c5ff4718d7c1e7066b1ac33db', 'message': 'Add a step to install tox\n\nBefore use tox, we need install it.\n\nChange-Id: I3432f3ab4bcba2d67e00e6f8a7c3916959d59c27\n'}, {'number': 2, 'created': '2018-02-12 09:13:10.000000000', 'files': ['doc/source/install/installation_guide.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/8e6436701245410c86f22196deae721f972c670a', 'message': 'Add a step to install tox\n\nBefore use tox, we need install it.\n\nChange-Id: I3432f3ab4bcba2d67e00e6f8a7c3916959d59c27\n'}]",1,541109,8e6436701245410c86f22196deae721f972c670a,13,6,2,25167,,,0,"Add a step to install tox

Before use tox, we need install it.

Change-Id: I3432f3ab4bcba2d67e00e6f8a7c3916959d59c27
",git fetch https://review.opendev.org/openstack/mistral refs/changes/09/541109/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation_guide.rst'],1,83fe82de46dd989c5ff4718d7c1e7066b1ac33db,add_tox_install, $ pip install tox,,1,0
openstack%2Fcinder~stable%2Fpike~I623d6114db866a465955f8a5ae7f40b69c781622,openstack/cinder,stable/pike,I623d6114db866a465955f8a5ae7f40b69c781622,HPE3PAR: Create FC vlun as host sees,MERGED,2017-11-29 17:27:36.000000000,2018-02-25 14:09:24.000000000,2017-11-30 23:25:54.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21517}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25465}]","[{'number': 1, 'created': '2017-11-29 17:27:36.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a337c018971d4f0c085982cd1542b8dcfe1f64f5', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}]",0,523940,a337c018971d4f0c085982cd1542b8dcfe1f64f5,18,17,1,24952,,,0,"HPE3PAR: Create FC vlun as host sees

Host sees VLUN template allows host connected
to any port to see a vv. so, only one vlun
template will be created per host irrespective
of number of FC ports available.

Change-Id: I623d6114db866a465955f8a5ae7f40b69c781622
Closes-Bug: #1734505
(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/523940/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,a337c018971d4f0c085982cd1542b8dcfe1f64f5,bug/1734505," {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None), lun=None), 'remoteName': self.wwn[1]}], {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None),"," 'portPos': {'node': 7, 'slot': 1, 'cardPort': 1}, 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}), 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'remoteName': self.wwn[1], 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}}], 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}),",18,92
openstack%2Fcinder~master~I7506fa36962404c80f1cc9c6370693728e5393a7,openstack/cinder,master,I7506fa36962404c80f1cc9c6370693728e5393a7,Disallow unmanaging encrypted volumes,MERGED,2017-11-28 20:15:01.000000000,2018-02-25 14:09:23.000000000,2017-12-07 11:00:32.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-28 20:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29e84abdbb089e05793201242e1a4fdd9fe111ee', 'message': 'Disallow unmanaging encrypted volumes\n\nUnmanaging encrypted volumes is problematic because\nunmanage assumes that you will be able to manage the\nvolume again for later use, but, we have no mechanism\ncurrently to keep track of the encryption key which\nwould be required for using an encrypted volume again.\n\nWhile this may work out ok when using the conf_key\nmanager, this patch does not distinguish between conf_key\nand barbican deployments.\n\nCloses-Bug: #1731518\nChange-Id: I7506fa36962404c80f1cc9c6370693728e5393a7\n'}, {'number': 2, 'created': '2017-11-28 23:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22a7eb73666e4a84dcfcd82b1ef83f9c5ed21f8b', 'message': 'Disallow unmanaging encrypted volumes\n\nUnmanaging encrypted volumes is problematic because\nunmanage assumes that you will be able to manage the\nvolume again for later use, but, we have no mechanism\ncurrently to keep track of the encryption key which\nwould be required for using an encrypted volume again.\n\nWhile this may work out ok when using the conf_key\nmanager, this patch does not distinguish between conf_key\nand barbican deployments.\n\nCloses-Bug: #1731518\nChange-Id: I7506fa36962404c80f1cc9c6370693728e5393a7\n'}, {'number': 3, 'created': '2017-11-29 15:44:02.000000000', 'files': ['cinder/message/defined_messages.py', 'cinder/volume/manager.py', 'cinder/message/message_field.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de584713d993e3fb3f68cf2ee8ce37186a9276d5', 'message': 'Disallow unmanaging encrypted volumes\n\nUnmanaging encrypted volumes is problematic because\nunmanage assumes that you will be able to manage the\nvolume again for later use, but, we have no mechanism\ncurrently to keep track of the encryption key which\nwould be required for using an encrypted volume again.\n\nWhile this may work out ok when using the conf_key\nmanager, this patch does not distinguish between conf_key\nand barbican deployments.\n\nCloses-Bug: #1731518\nChange-Id: I7506fa36962404c80f1cc9c6370693728e5393a7\n'}]",1,523522,de584713d993e3fb3f68cf2ee8ce37186a9276d5,59,35,3,4523,,,0,"Disallow unmanaging encrypted volumes

Unmanaging encrypted volumes is problematic because
unmanage assumes that you will be able to manage the
volume again for later use, but, we have no mechanism
currently to keep track of the encryption key which
would be required for using an encrypted volume again.

While this may work out ok when using the conf_key
manager, this patch does not distinguish between conf_key
and barbican deployments.

Closes-Bug: #1731518
Change-Id: I7506fa36962404c80f1cc9c6370693728e5393a7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/523522/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/message/defined_messages.py', 'cinder/volume/manager.py', 'cinder/message/message_field.py', 'cinder/volume/api.py']",4,29e84abdbb089e05793201242e1a4fdd9fe111ee,bug/1731518,"from cinder.message import api as message_api from cinder.message import message_field self.message = message_api.API() if unmanage_only and volume.encryption_key_id is not None: msg = _(""Unmanaging encrypted volumes is not supported."") e = exception.Invalid(reason=msg) self.message.create( context, message_field.Action.UNMANAGE_VOLUME, resource_uuid=volume.id, detail=message_field.Detail.UNMANAGE_ENC_NOT_SUPPORTED, exception=e) raise e ",,34,3
openstack%2Fcinder~master~I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37,openstack/cinder,master,I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37,Fix indentation in docs,MERGED,2017-11-27 06:26:24.000000000,2018-02-25 14:09:21.000000000,2017-12-18 06:06:21.000000000,"[{'_account_id': 170}, {'_account_id': 5689}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-27 06:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdcbc75dc7914a061b760f346f368e9fb9738f7e', 'message': 'Fix indentation in docs\n\nThis commit removes weird indentations in docs.\n\nChange-Id: I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37\n'}, {'number': 2, 'created': '2017-11-28 01:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8dc570d9f2456473c8f9371682da2ea2f8e5f892', 'message': 'Fix indentation in docs\n\nThis commit removes weird indentations in docs.\n\nChange-Id: I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37\n'}, {'number': 3, 'created': '2017-11-29 08:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/565e6f1a03c70dc3058e65ca3228e94b57fb82c5', 'message': 'Fix indentation in docs\n\nThis commit removes weird indentations in docs.\n\nChange-Id: I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37\n'}, {'number': 4, 'created': '2017-12-16 09:16:51.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'doc/source/install/cinder-storage-install-obs.rst', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst', 'cinder/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3daf028489e9dc7c8a527dcdb0e2a1cf668c489', 'message': 'Fix indentation in docs\n\nThis commit removes weird indentations in docs.\n\nChange-Id: I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37\n'}]",0,523027,c3daf028489e9dc7c8a527dcdb0e2a1cf668c489,101,36,4,5689,,,0,"Fix indentation in docs

This commit removes weird indentations in docs.

Change-Id: I82dd98d9fd9a7bf4ff73a808f59651813ac5ec37
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/523027/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'doc/source/install/cinder-storage-install-obs.rst', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst', 'cinder/api/openstack/rest_api_version_history.rst']",5,bdcbc75dc7914a061b760f346f368e9fb9738f7e,fix-indent,"The 3.0 Cinder API includes all v2 core APIs existing prior to the introduction of microversions. The /v3 URL is used to call 3.0 APIs. This is the initial version of the Cinder API which supports microversions. A user can specify a header in the API request:: OpenStack-API-Version: volume <version> where ``<version>`` is any valid api version for this API. If no version is specified then the API will behave as if version 3.0 was requested. The only API change in version 3.0 is versions, i.e. GET http://localhost:8786/, which now returns information about 3.0 and later versions and their respective /v3 endpoints. All other 3.0 APIs are functionally identical to version 2.0.Added the parameters ``protected`` and ``visibility`` to _volume_upload_image requests.Change in return value of 'GET API request' for fetching cinder volume list on the basis of 'bootable' status of volume as filter. Before V3.2, 'GET API request' to fetch volume list returns non-bootable volumes if bootable filter value is any of the false or False. For any other value provided to this filter, it always returns bootable volume list. But in V3.2, this behavior is updated. In V3.2, bootable volume list will be returned for any of the 'T/True/1/true' bootable filter values only. Non-bootable volume list will be returned for any of 'F/False/0/false' bootable filter values. But for any other values passed for bootable filter, it will return ""Invalid input received: bootable={filter value}' error.Added /messages API.Added the filter parameters ``glance_metadata`` to list/detail volumes requests.Added pagination support to /messages APIAllowed to set empty description and empty name for consistency group in consisgroup-update operation.Added ``cluster_name`` field to service list/detail. Added /clusters endpoint to list/show/update clusters. Show endpoint requires the cluster name and optionally the binary as a URL parameter (default is ""cinder-volume""). Returns: .. code-block:: json { ""cluster"": { ""created_at"": """", ""disabled_reason"": null, ""last_heartbeat"": """", ""name"": ""cluster_name"", ""num_down_hosts"": 4, ""num_hosts"": 2, ""state"": ""up"", ""status"": ""enabled"", ""updated_at"": """" } } Update endpoint allows enabling and disabling a cluster in a similar way to service's update endpoint, but in the body we must specify the name and optionally the binary (""cinder-volume"" is the default) and the disabled reason. Returns: .. code-block:: json { ""cluster"": { ""name"": ""cluster_name"", ""state"": ""up"", ""status"": ""enabled"", ""disabled_reason"": null } } Index and detail accept filtering by `name`, `binary`, `disabled`, `num_hosts` , `num_down_hosts`, and up/down status (`is_up`) as URL parameters. Index endpoint returns: .. code-block:: json { ""clusters"": [ { ""name"": ""cluster_name"", ""state"": ""up"", ""status"": ""enabled"" } ] } Detail endpoint returns: .. code-block:: json { ""clusters"": [ { ""created_at"": """", ""disabled_reason"": null, ""last_heartbeat"": """", ""name"": ""cluster_name"", ""num_down_hosts"": 4, ""num_hosts"": 2, ""state"": ""up"", ""status"": ""enabled"", ""updated_at"": """" } ] }Adds the following resources that were previously in extensions: - os-volume-manage => /v3/<project_id>/manageable_volumes - os-snapshot-manage => /v3/<project_id>/manageable_snapshotsAdded backup update interface to change name and description. Returns: .. code-block:: json { ""backup"": { ""id"": ""backup_id"", ""name"": ""backup_name"", ""links"": ""backup_link"" } }Added the filter parameters ``group_id`` to list/detail volumes requests.Added group types and group specs APIs.Added volumes/summary API.Added create/delete/update/list/show APIs for generic volume groups.Added group snapshots and create group from src APIs.Added injecting the response's `Etag` header to avoid the lost update problem with volume metadata.os-migrate_volume now accepts ``cluster`` parameter when we want to migrate a volume to a cluster. If we pass the ``host`` parameter for a volume that is in a cluster, the request will be sent to the cluster as if we had requested that specific cluster. Only ``host`` or ``cluster`` can be provided. Creating a managed volume also supports the cluster parameter.os-snapshot-manage and os-volume-manage now support ``cluster`` parameter on listings (summary and detailed). Both location parameters, ``cluster`` and ``host`` are exclusive and only one should be provided.Added backup project attribute.Added reset status actions 'reset_status' to group snapshot.Added reset status actions 'reset_status' to generic volume group.Show provider_id in detailed view of a volume for admin.Added support to filter snapshot list based on metadata of snapshot.Allow passing force parameter to volume delete.New API endpoint /workers/cleanup allows triggering cleanup for cinder-volume services. Meant for cleaning ongoing operations from failed nodes. The cleanup will be performed by other services belonging to the same cluster, so at least one of them must be up to be able to do the cleanup. Cleanup cannot be triggered during a cloud upgrade. If no arguments are provided cleanup will try to issue a clean message for all nodes that are down, but we can restrict which nodes we want to be cleaned using parameters ``service_id``, ``cluster_name``, ``host``, ``binary``, and ``disabled``. Cleaning specific resources is also possible using ``resource_type`` and ``resource_id`` parameters. We can even force cleanup on nodes that are up with ``is_up``, but that's not recommended and should only used if you know what you are doing. For example if you know a specific cinder-volume is down even though it's still not being reported as down when listing the services and you know the cluster has at least another service to do the cleanup. API will return a dictionary with 2 lists, one with services that have been issued a cleanup request (``cleaning`` key) and the other with services that cannot be cleaned right now because there is no alternative service to do the cleanup in that cluster (``unavailable`` key). Data returned for each service element in these two lists consist of the ``id``, ``host``, ``binary``, and ``cluster_name``. These are not the services that will be performing the cleanup, but the services that will be cleaned up or couldn't be cleaned up.Add ``volumes`` field to group list/detail and group show.- New ``failover`` action equivalent to ``failover_host``, but accepting ``cluster`` parameter as well as the ``host`` cluster that ``failover_host`` accepts. - ``freeze`` and ``thaw`` actions accept ``cluster`` parameter. - Cluster listing accepts ``replication_status``, ``frozen`` and ``active_backend_id`` as filters, and returns additional fields for each cluster: ``replication_status``, ``frozen``, ``active_backend_id``.Added new attachment APIs. See the `API reference <https://developer.openstack.org/api-ref/block-storage/v3/index.html#attachments>`__ for details.Add filters support to get_poolsAdd filter, sorter and pagination support in group snapshot.Support sort snapshots with ""name"".Add support for configure resource query filters.Added ``set-log`` and ``get-log`` service actions.Add ``resource_filters`` API to retrieve configured resource filters.Add like filter support in ``volume``, ``backup``, ``snapshot``, ``message``, ``attachment``, ``group`` and ``group-snapshot`` list APIs.Add ``volume-type`` filter to Get-Pools API.Add metadata to volumes/summary response body.Support sort backup by ""name"".Added enable_replication/disable_replication/failover_replication/ list_replication_targets for replication groups (Tiramisu).Add ``project_id`` admin filters support to limits.Add volume revert to its latest snapshot support.Add ``user_id`` field to snapshot list/detail and snapshot show.Add ability to extend 'in-use' volume. User should be aware of the whole environment before using this feature because it's dependent on several external factors below: 1. nova-compute version - needs to be the latest for Pike. 2. only the libvirt compute driver supports this currently. 3. only iscsi and fibre channel volume types are supported on the nova side currently. Administrator can disable this ability by updating the ``volume:extend_attached_volume`` policy rule. Extend of a resered Volume is NOT allowed.Support backup CRUD with metadata.Support attachment completion. See the `API reference <https://developer.openstack.org/api-ref/block-storage/v3/index.html#complete-attachment>`__ for details.Add ``count`` field to volume, backup and snapshot list and detail APIs."," The 3.0 Cinder API includes all v2 core APIs existing prior to the introduction of microversions. The /v3 URL is used to call 3.0 APIs. This is the initial version of the Cinder API which supports microversions. A user can specify a header in the API request:: OpenStack-API-Version: volume <version> where ``<version>`` is any valid api version for this API. If no version is specified then the API will behave as if version 3.0 was requested. The only API change in version 3.0 is versions, i.e. GET http://localhost:8786/, which now returns information about 3.0 and later versions and their respective /v3 endpoints. All other 3.0 APIs are functionally identical to version 2.0. Added the parameters ``protected`` and ``visibility`` to _volume_upload_image requests. Change in return value of 'GET API request' for fetching cinder volume list on the basis of 'bootable' status of volume as filter. Before V3.2, 'GET API request' to fetch volume list returns non-bootable volumes if bootable filter value is any of the false or False. For any other value provided to this filter, it always returns bootable volume list. But in V3.2, this behavior is updated. In V3.2, bootable volume list will be returned for any of the 'T/True/1/true' bootable filter values only. Non-bootable volume list will be returned for any of 'F/False/0/false' bootable filter values. But for any other values passed for bootable filter, it will return ""Invalid input received: bootable={filter value}' error. Added /messages API. Added the filter parameters ``glance_metadata`` to list/detail volumes requests. Added pagination support to /messages API Allowed to set empty description and empty name for consistency group in consisgroup-update operation. Added ``cluster_name`` field to service list/detail. Added /clusters endpoint to list/show/update clusters. Show endpoint requires the cluster name and optionally the binary as a URL parameter (default is ""cinder-volume""). Returns: .. code-block:: json { ""cluster"": { ""created_at"": """", ""disabled_reason"": null, ""last_heartbeat"": """", ""name"": ""cluster_name"", ""num_down_hosts"": 4, ""num_hosts"": 2, ""state"": ""up"", ""status"": ""enabled"", ""updated_at"": """" } } Update endpoint allows enabling and disabling a cluster in a similar way to service's update endpoint, but in the body we must specify the name and optionally the binary (""cinder-volume"" is the default) and the disabled reason. Returns: .. code-block:: json { ""cluster"": { ""name"": ""cluster_name"", ""state"": ""up"", ""status"": ""enabled"", ""disabled_reason"": null } } Index and detail accept filtering by `name`, `binary`, `disabled`, `num_hosts` , `num_down_hosts`, and up/down status (`is_up`) as URL parameters. Index endpoint returns: .. code-block:: json { ""clusters"": [ { ""name"": ""cluster_name"", ""state"": ""up"", ""status"": ""enabled"" } ] } Detail endpoint returns: .. code-block:: json { ""clusters"": [ { ""created_at"": """", ""disabled_reason"": null, ""last_heartbeat"": """", ""name"": ""cluster_name"", ""num_down_hosts"": 4, ""num_hosts"": 2, ""state"": ""up"", ""status"": ""enabled"", ""updated_at"": """" } ] } Adds the following resources that were previously in extensions: - os-volume-manage => /v3/<project_id>/manageable_volumes - os-snapshot-manage => /v3/<project_id>/manageable_snapshots Added backup update interface to change name and description. Returns: .. code-block:: json { ""backup"": { ""id"": ""backup_id"", ""name"": ""backup_name"", ""links"": ""backup_link"" } } Added the filter parameters ``group_id`` to list/detail volumes requests. Added group types and group specs APIs. Added volumes/summary API. Added create/delete/update/list/show APIs for generic volume groups. Added group snapshots and create group from src APIs. Added injecting the response's `Etag` header to avoid the lost update problem with volume metadata. os-migrate_volume now accepts ``cluster`` parameter when we want to migrate a volume to a cluster. If we pass the ``host`` parameter for a volume that is in a cluster, the request will be sent to the cluster as if we had requested that specific cluster. Only ``host`` or ``cluster`` can be provided. Creating a managed volume also supports the cluster parameter. os-snapshot-manage and os-volume-manage now support ``cluster`` parameter on listings (summary and detailed). Both location parameters, ``cluster`` and ``host`` are exclusive and only one should be provided. Added backup project attribute. Added reset status actions 'reset_status' to group snapshot. Added reset status actions 'reset_status' to generic volume group. Show provider_id in detailed view of a volume for admin. Added support to filter snapshot list based on metadata of snapshot. Allow passing force parameter to volume delete. New API endpoint /workers/cleanup allows triggering cleanup for cinder-volume services. Meant for cleaning ongoing operations from failed nodes. The cleanup will be performed by other services belonging to the same cluster, so at least one of them must be up to be able to do the cleanup. Cleanup cannot be triggered during a cloud upgrade. If no arguments are provided cleanup will try to issue a clean message for all nodes that are down, but we can restrict which nodes we want to be cleaned using parameters ``service_id``, ``cluster_name``, ``host``, ``binary``, and ``disabled``. Cleaning specific resources is also possible using ``resource_type`` and ``resource_id`` parameters. We can even force cleanup on nodes that are up with ``is_up``, but that's not recommended and should only used if you know what you are doing. For example if you know a specific cinder-volume is down even though it's still not being reported as down when listing the services and you know the cluster has at least another service to do the cleanup. API will return a dictionary with 2 lists, one with services that have been issued a cleanup request (``cleaning`` key) and the other with services that cannot be cleaned right now because there is no alternative service to do the cleanup in that cluster (``unavailable`` key). Data returned for each service element in these two lists consist of the ``id``, ``host``, ``binary``, and ``cluster_name``. These are not the services that will be performing the cleanup, but the services that will be cleaned up or couldn't be cleaned up. Add ``volumes`` field to group list/detail and group show. - New ``failover`` action equivalent to ``failover_host``, but accepting ``cluster`` parameter as well as the ``host`` cluster that ``failover_host`` accepts. - ``freeze`` and ``thaw`` actions accept ``cluster`` parameter. - Cluster listing accepts ``replication_status``, ``frozen`` and ``active_backend_id`` as filters, and returns additional fields for each cluster: ``replication_status``, ``frozen``, ``active_backend_id``. Added new attachment APIs. See the `API reference <https://developer.openstack.org/api-ref/block-storage/v3/index.html#attachments>`__ for details. Add filters support to get_pools Add filter, sorter and pagination support in group snapshot. Support sort snapshots with ""name"". Add support for configure resource query filters. Added ``set-log`` and ``get-log`` service actions. Add ``resource_filters`` API to retrieve configured resource filters. Add like filter support in ``volume``, ``backup``, ``snapshot``, ``message``, ``attachment``, ``group`` and ``group-snapshot`` list APIs. Add ``volume-type`` filter to Get-Pools API. Add metadata to volumes/summary response body. Support sort backup by ""name"". Added enable_replication/disable_replication/failover_replication/ list_replication_targets for replication groups (Tiramisu). Add ``project_id`` admin filters support to limits. Add volume revert to its latest snapshot support. Add ``user_id`` field to snapshot list/detail and snapshot show. Add ability to extend 'in-use' volume. User should be aware of the whole environment before using this feature because it's dependent on several external factors below: 1. nova-compute version - needs to be the latest for Pike. 2. only the libvirt compute driver supports this currently. 3. only iscsi and fibre channel volume types are supported on the nova side currently. Administrator can disable this ability by updating the ``volume:extend_attached_volume`` policy rule. Extend of a resered Volume is NOT allowed. Support backup CRUD with metadata. Support attachment completion. See the `API reference <https://developer.openstack.org/api-ref/block-storage/v3/index.html#complete-attachment>`__ for details. Add ``count`` field to volume, backup and snapshot list and detail APIs.",236,235
openstack%2Fcinder~master~I192708586d89d1bf07a5e52ed1c45de6eab689a5,openstack/cinder,master,I192708586d89d1bf07a5e52ed1c45de6eab689a5,Fix project_domain_name and user_domain_name in doc,MERGED,2017-11-29 03:36:06.000000000,2018-02-25 14:09:20.000000000,2017-11-29 20:05:30.000000000,"[{'_account_id': 170}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-29 03:36:06.000000000', 'files': ['doc/source/install/cinder-controller-install-rdo.rst', 'doc/source/install/cinder-storage-install-obs.rst', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst', 'doc/source/install/cinder-controller-install-obs.rst', 'doc/source/install/cinder-controller-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f7356dca6bda1349be1ce265b58ab8a67ce6d3b', 'message': 'Fix project_domain_name and user_domain_name in doc\n\nChange-Id: I192708586d89d1bf07a5e52ed1c45de6eab689a5\nCloses-Bug: #1735051\n'}]",0,523673,8f7356dca6bda1349be1ce265b58ab8a67ce6d3b,26,22,1,9414,,,0,"Fix project_domain_name and user_domain_name in doc

Change-Id: I192708586d89d1bf07a5e52ed1c45de6eab689a5
Closes-Bug: #1735051
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/523673/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/cinder-controller-install-rdo.rst', 'doc/source/install/cinder-storage-install-obs.rst', 'doc/source/install/cinder-storage-install-ubuntu.rst', 'doc/source/install/cinder-storage-install-rdo.rst', 'doc/source/install/cinder-controller-install-obs.rst', 'doc/source/install/cinder-controller-install-ubuntu.rst']",6,8f7356dca6bda1349be1ce265b58ab8a67ce6d3b,bug/1735051, project_domain_id = default user_domain_id = default, project_domain_name = default user_domain_name = default,12,12
openstack%2Fcinder~master~I60898272e0da165fe3168e51d8595250682179c0,openstack/cinder,master,I60898272e0da165fe3168e51d8595250682179c0,Mock out CLI execution in NEC driver tests,MERGED,2017-11-28 22:10:31.000000000,2018-02-25 14:09:19.000000000,2017-11-29 19:57:07.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-28 22:10:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e0b199d177053d1ef547b9f8b57a4e69d189945', 'message': 'Mock out CLI execution in NEC driver tests\n\nThe VolumeStats_test was not mocking the CLI code that retieves\nbackend stats, resulting in an ssh_known_hosts file being created\nin the local directory. This mocks out the calls to avoid this.\n\nChange-Id: I60898272e0da165fe3168e51d8595250682179c0\nCloses-bug: #1732992\n'}]",0,523546,4e0b199d177053d1ef547b9f8b57a4e69d189945,29,25,1,11904,,,0,"Mock out CLI execution in NEC driver tests

The VolumeStats_test was not mocking the CLI code that retieves
backend stats, resulting in an ssh_known_hosts file being created
in the local directory. This mocks out the calls to avoid this.

Change-Id: I60898272e0da165fe3168e51d8595250682179c0
Closes-bug: #1732992
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/523546/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/nec/test_volume.py'],1,4e0b199d177053d1ef547b9f8b57a4e69d189945,bug/1732992,"from cinder.volume.drivers.nec import volume_common self.mock_object(volume_common.MStorageVolumeCommon, 'parse_xml', side_effect=Exception)"," @mock.patch('cinder.volume.drivers.nec.volume_common.MStorageVolumeCommon.' '_create_ismview_dir', new=mock.Mock())",3,2
openstack%2Fcinder~master~If600c28c86511cfb83f38d92cf6418954fb4975e,openstack/cinder,master,If600c28c86511cfb83f38d92cf6418954fb4975e,Add shared_targets flag to Volumes,MERGED,2017-11-16 18:49:33.000000000,2018-02-25 14:09:16.000000000,2017-12-01 03:43:41.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15905}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19741}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-16 18:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fb3dd06efe70c7e22b28152a0a5f63e66a1df3c', 'message': 'Add shared_targets flag to Volumes\n\nThis adds a bool column to volumes to notify consumers if\nthe backend hosting the volume utilizes shared_targets\nor not.\n\nWe use the volume-drivers capabilities report to determine\nthis and default to True if a driver doesn\'t report anything.\n\nThe purpose of the column is to notify Nova that it needs to\ndo some sort of locking around connect/disconnect to be sure\nother volumes on the same node aren\'t sharing the iscsi connection.\n\nUsing a default of ""True"" is safe because although locking and doing\nthe extra checks might be somewhat inefficient it works fine because\nit will just appear that there\'s never any other volumes in use.\n\nSo this change adds the column to the DB as well as an online migration\nto go through and update any existing volumes.  With this and the\nservice_uuid column consumers will have everything the need to:\n1. determine if they need to lock\n2. use the service_uuid as a unique lock name\n\nThat last remaining change in this set will be to add the fields to\nthe view-builder and bump the API version.\n\nChange-Id: If600c28c86511cfb83f38d92cf6418954fb4975e\n'}, {'number': 2, 'created': '2017-11-17 15:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc11a0b776056e4fc1e13e048db1e489966dd21e', 'message': 'Add shared_targets flag to Volumes\n\nThis adds a bool column to volumes to notify consumers if\nthe backend hosting the volume utilizes shared_targets\nor not.\n\nWe use the volume-drivers capabilities report to determine\nthis and default to True if a driver doesn\'t report anything.\n\nThe purpose of the column is to notify Nova that it needs to\ndo some sort of locking around connect/disconnect to be sure\nother volumes on the same node aren\'t sharing the iscsi connection.\n\nUsing a default of ""True"" is safe because although locking and doing\nthe extra checks might be somewhat inefficient it works fine because\nit will just appear that there\'s never any other volumes in use.\n\nSo this change adds the column to the DB as well as an online migration\nto go through and update any existing volumes.  With this and the\nservice_uuid column consumers will have everything the need to:\n1. determine if they need to lock\n2. use the service_uuid as a unique lock name\n\nThat last remaining change in this set will be to add the fields to\nthe view-builder and bump the API version.\n\nChange-Id: If600c28c86511cfb83f38d92cf6418954fb4975e\n'}, {'number': 3, 'created': '2017-11-17 18:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d31c93fa5f2add58845ad35c52b0c58d2237788d', 'message': 'Add shared_targets flag to Volumes\n\nThis adds a bool column to volumes to notify consumers if\nthe backend hosting the volume utilizes shared_targets\nor not.\n\nWe use the volume-drivers capabilities report to determine\nthis and default to True if a driver doesn\'t report anything.\n\nThe purpose of the column is to notify Nova that it needs to\ndo some sort of locking around connect/disconnect to be sure\nother volumes on the same node aren\'t sharing the iscsi connection.\n\nUsing a default of ""True"" is safe because although locking and doing\nthe extra checks might be somewhat inefficient it works fine because\nit will just appear that there\'s never any other volumes in use.\n\nSo this change adds the column to the DB as well as an online migration\nto go through and update any existing volumes.  With this and the\nservice_uuid column consumers will have everything the need to:\n1. determine if they need to lock\n2. use the service_uuid as a unique lock name\n\nThat last remaining change in this set will be to add the fields to\nthe view-builder and bump the API version.\n\nChange-Id: If600c28c86511cfb83f38d92cf6418954fb4975e\n'}, {'number': 4, 'created': '2017-11-28 18:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc1c6c82b1f3618f2f26c8916affd97ae62f0ccc', 'message': 'Add shared_targets flag to Volumes\n\nThis adds a bool column to volumes to notify consumers if\nthe backend hosting the volume utilizes shared_targets\nor not.\n\nWe use the volume-drivers capabilities report to determine\nthis and default to True if a driver doesn\'t report anything.\n\nThe purpose of the column is to notify Nova that it needs to\ndo some sort of locking around connect/disconnect to be sure\nother volumes on the same node aren\'t sharing the iscsi connection.\n\nUsing a default of ""True"" is safe because although locking and doing\nthe extra checks might be somewhat inefficient it works fine because\nit will just appear that there\'s never any other volumes in use.\n\nSo this change adds the column to the DB as well as an online migration\nto go through and update any existing volumes.  With this and the\nservice_uuid column consumers will have everything the need to:\n1. determine if they need to lock\n2. use the service_uuid as a unique lock name\n\nThat last remaining change in this set will be to add the fields to\nthe view-builder and bump the API version.\n\nChange-Id: If600c28c86511cfb83f38d92cf6418954fb4975e\n'}, {'number': 5, 'created': '2017-11-28 21:09:16.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/drivers/solidfire.py', 'cinder/objects/base.py', 'cinder/db/sqlalchemy/migrate_repo/versions/115_add_shared_targets_to_volumes.py', 'cinder/objects/volume.py', 'cinder/cmd/manage.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/test_cmd.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fa6fdd7846df05c3d81e78c137ec2976499a7f9', 'message': 'Add shared_targets flag to Volumes\n\nThis adds a bool column to volumes to notify consumers if\nthe backend hosting the volume utilizes shared_targets\nor not.\n\nWe use the volume-drivers capabilities report to determine\nthis and default to True if a driver doesn\'t report anything.\n\nThe purpose of the column is to notify Nova that it needs to\ndo some sort of locking around connect/disconnect to be sure\nother volumes on the same node aren\'t sharing the iscsi connection.\n\nUsing a default of ""True"" is safe because although locking and doing\nthe extra checks might be somewhat inefficient it works fine because\nit will just appear that there\'s never any other volumes in use.\n\nSo this change adds the column to the DB as well as an online migration\nto go through and update any existing volumes.  With this and the\nservice_uuid column consumers will have everything the need to:\n1. determine if they need to lock\n2. use the service_uuid as a unique lock name\n\nThat last remaining change in this set will be to add the fields to\nthe view-builder and bump the API version.\n\nChange-Id: If600c28c86511cfb83f38d92cf6418954fb4975e\n'}]",5,520676,2fa6fdd7846df05c3d81e78c137ec2976499a7f9,145,46,5,2243,,,0,"Add shared_targets flag to Volumes

This adds a bool column to volumes to notify consumers if
the backend hosting the volume utilizes shared_targets
or not.

We use the volume-drivers capabilities report to determine
this and default to True if a driver doesn't report anything.

The purpose of the column is to notify Nova that it needs to
do some sort of locking around connect/disconnect to be sure
other volumes on the same node aren't sharing the iscsi connection.

Using a default of ""True"" is safe because although locking and doing
the extra checks might be somewhat inefficient it works fine because
it will just appear that there's never any other volumes in use.

So this change adds the column to the DB as well as an online migration
to go through and update any existing volumes.  With this and the
service_uuid column consumers will have everything the need to:
1. determine if they need to lock
2. use the service_uuid as a unique lock name

That last remaining change in this set will be to add the fields to
the view-builder and bump the API version.

Change-Id: If600c28c86511cfb83f38d92cf6418954fb4975e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/520676/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/volume/drivers/solidfire.py', 'cinder/db/sqlalchemy/migrate_repo/versions/115_add_shared_targets_to_volumes.py', 'cinder/objects/base.py', 'cinder/objects/volume.py', 'cinder/cmd/manage.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/test_cmd.py', 'cinder/volume/drivers/lvm.py']",11,9fb3dd06efe70c7e22b28152a0a5f63e66a1df3c,add_fk_service_uuid_to_volumes," data[""shared_targets""] = False",,189,3
openstack%2Fcinder~master~I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf,openstack/cinder,master,I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf,Allow purging of records less than 1 day old,MERGED,2017-10-12 20:24:11.000000000,2018-02-25 14:09:13.000000000,2017-11-29 06:46:44.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20182}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24777}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25820}, {'_account_id': 26026}, {'_account_id': 26477}, {'_account_id': 26537}, {'_account_id': 26951}, {'_account_id': 26991}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-10-12 20:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7a9910730e0752ca55f112a22197af5d9518c0c', 'message': 'Allow purging of records less than 1 day old.\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 2, 'created': '2017-10-20 17:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4284467f47d47df0cdb1d4317dda8e2d94f65c62', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 3, 'created': '2017-10-26 19:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1eede77c01c202dd7e6efe197739d802c6142b29', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 4, 'created': '2017-10-31 14:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dad652863f66341fa2fe9056cf261b721f2b4621', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nAdded an unit test case at test_purge.py\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 5, 'created': '2017-11-03 03:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76526669bb2d8e7a01775ca5cf9bb7c086fc7da4', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nAdded an unit test case at test_purge.py\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 6, 'created': '2017-11-17 21:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33cf935820332e432f1f1f6a5920e490e89b1253', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nAdded an unit test case at test_purge.py\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 7, 'created': '2017-11-20 21:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c64654c8b60ceb5cebcb2b3d0e0e8b59f2091818', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nAdded an unit test case at test_purge.py\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}, {'number': 8, 'created': '2017-11-28 17:48:54.000000000', 'files': ['releasenotes/notes/bug-1723226-allow-purging-0day-4de8979db7215cf3.yaml', 'cinder/cmd/manage.py', 'cinder/tests/unit/db/test_purge.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a44b3cdba722682a326155060c12c51b5fca1fb', 'message': 'Allow purging of records less than 1 day old\n\nAdding ability to purge records less than 1 day old, using the\ncinder-manage db_purge utility.\n\nAdded an unit test case at test_purge.py\n\nChange-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf\nCloses-Bug: #1723226\nCo-Authored-By: Tee.Ngo@windriver.com\n'}]",5,511567,2a44b3cdba722682a326155060c12c51b5fca1fb,246,58,8,26991,,,0,"Allow purging of records less than 1 day old

Adding ability to purge records less than 1 day old, using the
cinder-manage db_purge utility.

Added an unit test case at test_purge.py

Change-Id: I1e1f58e19ae02896633bc1ab0a8aa8ca3cc26ccf
Closes-Bug: #1723226
Co-Authored-By: Tee.Ngo@windriver.com
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/511567/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/manage.py', 'cinder/tests/unit/test_cmd.py']",2,e7a9910730e0752ca55f112a22197af5d9518c0c,bug/1723226," @mock.patch('cinder.db.sqlalchemy.api.purge_deleted_rows') @mock.patch('cinder.context.get_admin_context') def test_purge_age_in_days_value_equal_to_zero(self, get_admin_context, purge_deleted_rows): ctxt = context.RequestContext(fake.USER_ID, fake.PROJECT_ID, is_admin=True) get_admin_context.return_value = ctxt purge_deleted_rows.return_value = None db_cmds = cinder_manage.DbCommands() db_cmds.purge(age_in_days) get_admin_context.assert_called_once_with() purge_deleted_rows.assert_called_once_with( ctxt, age_in_days=age_in_days)", def test_purge_age_in_days_value_equal_to_zero(self): self._test_purge_invalid_age_in_days(age_in_days),18,4
openstack%2Fcinder~stable%2Fpike~I8218768216e87f6fdda1dd77dd09ca2ca46111c7,openstack/cinder,stable/pike,I8218768216e87f6fdda1dd77dd09ca2ca46111c7,VMAX driver - Volume identifier issues,MERGED,2017-11-28 16:52:20.000000000,2018-02-25 14:08:45.000000000,2017-12-18 17:44:00.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12822}, {'_account_id': 17445}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-11-28 16:52:20.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab7ead678e92471dd3ab2f91f189ca8e3520df08', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is\nset on the device on the backend. This takes the form 'OS-<cinderUUID>'.\nThere are a couple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier\nmatches OS-<cinderUUID>. However, the way this is currently being\nchecked can cause an issue if the create volume operation ends up being\nretried in cinder - sometimes there can be two devices on the backend\nwith the same volume identifier, and the code may not pick up the\ncorrect device.\n2. On a deallocate operation, the volume identifier is not being unset\non the device. This patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n(cherry picked from commit cbce7226bb4fa922c7bea201e942bb88487154d4)\n""}]",0,523464,ab7ead678e92471dd3ab2f91f189ca8e3520df08,31,18,1,12670,,,0,"VMAX driver - Volume identifier issues

When creating a VMAX volume through cinder, a 'volume_identifier' is
set on the device on the backend. This takes the form 'OS-<cinderUUID>'.
There are a couple of issues with how this is currently being done:
1. When the VMAX driver retrieves the volume using the 'device_id' value
saved in the provider location, it checks that the volume identifier
matches OS-<cinderUUID>. However, the way this is currently being
checked can cause an issue if the create volume operation ends up being
retried in cinder - sometimes there can be two devices on the backend
with the same volume identifier, and the code may not pick up the
correct device.
2. On a deallocate operation, the volume identifier is not being unset
on the device. This patch rectifies these issues.

Change-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7
Closes-Bug: 1717933
(cherry picked from commit cbce7226bb4fa922c7bea201e942bb88487154d4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/523464/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",3,ab7ead678e92471dd3ab2f91f189ca8e3520df08,bug/1717933," founddevice_id = self.rest.check_volume_device_id( array, target_vol_name, device_id) else: founddevice_id = self.rest.check_volume_device_id( array, device_id, element_name)"," founddevice_id = self.rest.find_volume_device_id( array, target_vol_name) else: founddevice_id = self.rest.find_volume_device_id( array, element_name) # Allow for an external app to delete the volume. if device_id and device_id != founddevice_id: founddevice_id = None",74,39
openstack%2Fcinder~stable%2Fpike~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,stable/pike,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2017-11-24 06:52:11.000000000,2018-02-25 14:08:44.000000000,2017-12-01 17:27:28.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16258}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-24 06:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2323a1f423e1f7a88a27a826769ded6d88ccd643', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)\n'}, {'number': 2, 'created': '2017-11-28 12:59:27.000000000', 'files': ['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c11b6a9da277f91d86a963db48045d9dcc44deca', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)\n'}]",0,522721,c11b6a9da277f91d86a963db48045d9dcc44deca,37,21,2,16258,,,0,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/522721/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py']",3,2323a1f423e1f7a88a27a826769ded6d88ccd643,kaminario-duplicated-fqdn," ""on setting this option as True.""), cfg.BoolOpt('unique_fqdn_network', default=True, help=""Whether or not our private network has unique FQDN on "" ""each initiator or not. For example networks with QA "" ""systems usually have multiple servers/VMs with the same "" ""FQDN. When true this will create host entries on K2 "" ""using the FQDN, when false it will use the reversed "" ""IQN/WWNN.""), ] """"""Return the initiator host name or unique ID. Unique ID when configuration's unique_fqdn_network is false will be the reversed IQN/WWPNS. name = connector.get('initiator', connector.get('wwnns', [''])[0])[::-1] if self.configuration.unique_fqdn_network: name = connector.get('host', name) return re.sub('[^0-9a-zA-Z-_]', '_', name[:32])"," ""on setting this option as True."")] """"""Return the initiator host name. return re.sub('[^0-9a-zA-Z-_]', '_', connector.get('host', ''))[:32]",46,3
openstack%2Fcinder~master~Icdc6c7606c43243a9e12d7a42df293b729f589e5,openstack/cinder,master,Icdc6c7606c43243a9e12d7a42df293b729f589e5,Support create volume from backup,MERGED,2017-10-18 06:46:43.000000000,2018-02-25 14:08:42.000000000,2017-11-28 18:57:45.000000000,"[{'_account_id': 6125}, {'_account_id': 6763}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24564}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-18 06:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ed2496b7cc66b22a9baaa0ce0175057d31a4272', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 2, 'created': '2017-10-26 08:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9e79a8e42f52596fb7df032cee1195de99711c7', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 3, 'created': '2017-10-29 15:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58d0fb327f9fc980e0c8b84dcd9f64c093285d13', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 4, 'created': '2017-10-30 05:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f16887d9f348469ee7e1ade32c96a803a57b88db', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 5, 'created': '2017-10-31 07:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/761f8febc3efca02a4849cf1ea801d9cb82917fc', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 6, 'created': '2017-11-07 03:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c3301bca2d7b176952671cefef63ab5b537d569', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 7, 'created': '2017-11-07 03:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a8ca6bd19b16adf6d06166eddfb8314d36a5d79', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 8, 'created': '2017-11-16 08:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3914f1513e1d6df6decabff992af5d1a0ffce0f9', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 9, 'created': '2017-11-16 09:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf8c6f745a1637a5ef2c3a46b5e1f69a301aa8c7', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 10, 'created': '2017-11-22 03:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f91d22767a83728274cb7b18e4ae2a4c929d241b', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}, {'number': 11, 'created': '2017-11-28 01:22:58.000000000', 'files': ['cinder/scheduler/rpcapi.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/backup/api.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/scheduler/manager.py', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'releasenotes/notes/support-create-volume-from-backup-d363e2b502a76dc2.yaml', 'api-ref/source/v3/samples/volume-create-request.json', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/scheduler/test_rpcapi.py', 'cinder/tests/unit/api/v2/fakes.py', 'cinder/api/microversions.py', 'cinder/objects/base.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/flows/fake_volume_api.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/39694623e421e1f0149bff2ea62345d93eed425e', 'message': 'Support create volume from backup\n\nThis patch implements the spec of creating volume from backup.\n\nChange-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5\nPartial-Implements: blueprint support-create-volume-from-backup\n'}]",73,512949,39694623e421e1f0149bff2ea62345d93eed425e,293,51,11,24564,,,0,"Support create volume from backup

This patch implements the spec of creating volume from backup.

Change-Id: Icdc6c7606c43243a9e12d7a42df293b729f589e5
Partial-Implements: blueprint support-create-volume-from-backup
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/512949/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/rpcapi.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/backup/api.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/scheduler/manager.py', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'releasenotes/notes/support-create-volume-from-backup-d363e2b502a76dc2.yaml', 'api-ref/source/v3/samples/volume-create-request.json', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/scheduler/test_rpcapi.py', 'cinder/tests/unit/api/v2/fakes.py', 'cinder/api/microversions.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/flows/fake_volume_api.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py', 'cinder/volume/api.py']",24,9ed2496b7cc66b22a9baaa0ce0175057d31a4272,bp/support-create-volume-from-backup," group=None, group_snapshot=None, source_group=None, backup=None): 'backup': backup,"," group=None, group_snapshot=None, source_group=None):",307,43
openstack%2Fcinder~master~I2108e77a8d07dddfb9ec284b3930a197854bd884,openstack/cinder,master,I2108e77a8d07dddfb9ec284b3930a197854bd884,Consolidate code that manages encryption keys,MERGED,2017-11-27 20:47:39.000000000,2018-02-25 14:08:40.000000000,2017-11-29 20:18:49.000000000,"[{'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-27 20:47:39.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/backup/driver.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/96c6d7b222f507f5c26643d1571b2f991a1f6c98', 'message': 'Consolidate code that manages encryption keys\n\nThis patch is a minor reorg of existing code to facilitate subsequent\nchanges for migrating legacy keys to a modern key manager such as\nBarbican.\n\nvolume/utils.py now supports these functions that manage the lifecycle\nof an encryption key:\n- create_encryption_key()\n- delete_encryption_key()\n- clone_encryption_key()\n\ncreate_encryption_key() is an existing function, but it was not used\neverywhere a key was created. All code that needs to create a key now\ndoes so by calling this function.\n\ndelete_encryption_key() is primarily a small wrapper, but it will play\na larger role in a subsequent patches related to key migration. One\nfunctional improvement in this patch is it no longer propagates an\nexception when deleting an unknown key ID. This avoids needlessly\nblocking attempts to delete an encrypted volume for fear that the key\ncould not be deleted.\n\nclone_encryption_key() is a small wrapper that improves the transparency\nof code that needs to create a new encryption key ID from an existing\nkey ID.\n\nImplements: blueprint migrate-fixed-key-to-barbican\nChange-Id: I2108e77a8d07dddfb9ec284b3930a197854bd884\n'}]",0,523225,96c6d7b222f507f5c26643d1571b2f991a1f6c98,40,31,1,21129,,,0,"Consolidate code that manages encryption keys

This patch is a minor reorg of existing code to facilitate subsequent
changes for migrating legacy keys to a modern key manager such as
Barbican.

volume/utils.py now supports these functions that manage the lifecycle
of an encryption key:
- create_encryption_key()
- delete_encryption_key()
- clone_encryption_key()

create_encryption_key() is an existing function, but it was not used
everywhere a key was created. All code that needs to create a key now
does so by calling this function.

delete_encryption_key() is primarily a small wrapper, but it will play
a larger role in a subsequent patches related to key migration. One
functional improvement in this patch is it no longer propagates an
exception when deleting an unknown key ID. This avoids needlessly
blocking attempts to delete an encrypted volume for fear that the key
could not be deleted.

clone_encryption_key() is a small wrapper that improves the transparency
of code that needs to create a new encryption key ID from an existing
key ID.

Implements: blueprint migrate-fixed-key-to-barbican
Change-Id: I2108e77a8d07dddfb9ec284b3930a197854bd884
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/523225/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/backup/driver.py', 'cinder/volume/api.py']",6,96c6d7b222f507f5c26643d1571b2f991a1f6c98,bp/migrate-fixed-key-to-barbican," volume_utils.delete_encryption_key(context, self.key_manager, encryption_key_id)"," self.key_manager.delete(context, encryption_key_id)",80,34
openstack%2Fcinder~master~Idb9a1f39481f3ebb704b28abc062ae24414d7224,openstack/cinder,master,Idb9a1f39481f3ebb704b28abc062ae24414d7224,Move legacy-cinder-tox-* jobs in-tree,MERGED,2017-11-20 20:49:53.000000000,2018-02-25 14:08:32.000000000,2017-11-28 19:09:11.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 20:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24be0ac27c762d1c786d7765fa567e9b85014c4e', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: cc61d7ed144963b850674ece80d104e067e4e68a\nNeeded-by: ae6eeafdf1ceb2ce36ef3e5436d502efa80335db\n'}, {'number': 2, 'created': '2017-11-20 20:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc7f67753e9051f410b36824dfdbd0198d731ec8', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: cc61d7ed144963b850674ece80d104e067e4e68a\nNeeded-by: ae6eeafdf1ceb2ce36ef3e5436d502efa80335db\n'}, {'number': 3, 'created': '2017-11-20 20:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/628cd28bf8eb62a26c233ec04d46bf1fce56e860', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: cc61d7ed144963b850674ece80d104e067e4e68a\nNeeded-by: ae6eeafdf1ceb2ce36ef3e5436d502efa80335db\n'}, {'number': 4, 'created': '2017-11-21 10:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d39173fd5f3a5244702cc06a2f0222590c9f9645', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: I3af7771ab3e8d5a192f466dcec36a2b41db08ac3\nNeeded-by: I4af1813c69a5ddccbde8b99ed15023aa407995b5\n'}, {'number': 5, 'created': '2017-11-21 10:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c618e4d8ee6d7606a1b73714d700e404fe0dd26', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: I3af7771ab3e8d5a192f466dcec36a2b41db08ac3\nNeeded-by: I4af1813c69a5ddccbde8b99ed15023aa407995b5\n'}, {'number': 6, 'created': '2017-11-21 10:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/533147e11d80b75e222daf483ee5468693dc7da0', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: I3af7771ab3e8d5a192f466dcec36a2b41db08ac3\nNeeded-by: I4af1813c69a5ddccbde8b99ed15023aa407995b5\n'}, {'number': 7, 'created': '2017-11-21 12:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc32d0fb16c7beca8cc4e801541c759046c59294', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: I3af7771ab3e8d5a192f466dcec36a2b41db08ac3\nNeeded-by: I4af1813c69a5ddccbde8b99ed15023aa407995b5\n'}, {'number': 8, 'created': '2017-11-27 15:57:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/20864a5f35046a04dafc1655bf95930ee5108a3c', 'message': 'Move legacy-cinder-tox-* jobs in-tree\n\nThe compliance and bandit-baseline jobs just call tox to run tests.\nThese are an easy step to move in-tree.\n\nSince it is also easier to have conditions on when things run, this\nalso adds filtering so the compliance job will now only run when there\nare changes in code that impact the drivers.\n\nChange-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224\nNeeded-by: I3af7771ab3e8d5a192f466dcec36a2b41db08ac3\nNeeded-by: I4af1813c69a5ddccbde8b99ed15023aa407995b5\n'}]",6,521654,20864a5f35046a04dafc1655bf95930ee5108a3c,107,41,8,11904,,,0,"Move legacy-cinder-tox-* jobs in-tree

The compliance and bandit-baseline jobs just call tox to run tests.
These are an easy step to move in-tree.

Since it is also easier to have conditions on when things run, this
also adds filtering so the compliance job will now only run when there
are changes in code that impact the drivers.

Change-Id: Idb9a1f39481f3ebb704b28abc062ae24414d7224
Needed-by: I3af7771ab3e8d5a192f466dcec36a2b41db08ac3
Needed-by: I4af1813c69a5ddccbde8b99ed15023aa407995b5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/521654/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,24be0ac27c762d1c786d7765fa567e9b85014c4e,cinder_tox, - cinder-tox-compliance: voting: true files: - ^cinder/volume/driver.py - ^cinder/volume/drivers/.*$ - ^cinder/interface/.*$ - ^cinder/backup/.*$ - ^cinder/zonemanager/.*$ - cinder-tox-bandit-baseline: voting: false - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ gate: - cinder-tox-compliance: voting: true files: - ^cinder/volume/driver.py - ^cinder/volume/drivers/.*$ - ^cinder/interface/.*$ - ^cinder/backup/.*$ - ^cinder/zonemanager/.*$ - job: # Test that all drivers follow the defined interface name: cinder-tox-compliance parent: openstack-tox timeout: 2400 vars: tox_envlist: compliance required-projects: - openstack/requirements - job: # Security testing for known issues name: cinder-tox-bandit-baseline parent: openstack-tox timeout: 2400 vars: tox_envlist: bandit-baseline required-projects: - openstack/requirements,,50,0
openstack%2Fcinder~master~I623d6114db866a465955f8a5ae7f40b69c781622,openstack/cinder,master,I623d6114db866a465955f8a5ae7f40b69c781622,HPE3PAR: Create FC vlun as host sees,MERGED,2017-11-26 09:23:25.000000000,2018-02-25 14:07:40.000000000,2017-11-28 19:11:19.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21517}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24952}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-26 09:23:25.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd18537fd631ba08a342bcfd328d765ea4d8c129', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n'}]",0,522947,cd18537fd631ba08a342bcfd328d765ea4d8c129,36,32,1,24952,,,0,"HPE3PAR: Create FC vlun as host sees

Host sees VLUN template allows host connected
to any port to see a vv. so, only one vlun
template will be created per host irrespective
of number of FC ports available.

Change-Id: I623d6114db866a465955f8a5ae7f40b69c781622
Closes-Bug: #1734505
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/522947/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,cd18537fd631ba08a342bcfd328d765ea4d8c129,bug/1734505," {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None), lun=None), 'remoteName': self.wwn[1]}], {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None),"," 'portPos': {'node': 7, 'slot': 1, 'cardPort': 1}, 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}), 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'remoteName': self.wwn[1], 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}}], 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}),",18,96
openstack%2Fcinder~stable%2Fpike~I7932b1d952844b49cfdb504ed0ba188b489d7f44,openstack/cinder,stable/pike,I7932b1d952844b49cfdb504ed0ba188b489d7f44,Kaminario K2: Add non discovery iSCSI multipath,MERGED,2017-11-24 08:38:19.000000000,2018-02-25 14:07:36.000000000,2017-11-27 20:36:58.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-24 08:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e5dd69bda4ce9e1c958710c14fb55c31a0dfcd6c', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n'}, {'number': 2, 'created': '2017-11-24 08:45:35.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bcb2ff94cf38eaa9def1115569981760e36510c', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)\n'}]",0,522741,7bcb2ff94cf38eaa9def1115569981760e36510c,35,19,2,16258,,,0,"Kaminario K2: Add non discovery iSCSI multipath

Current Kaminario K2 driver only supports iSCSI multipathing using
discovery (sendtargets), which in some cases may be undesirable, since a
broken primary path could prevent an attachment.

This code adds the possibility of not using discovery mode and return
all connection information when `initialize_connection` is called, which
should provide increased reliability.

Change-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44
(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/522741/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py']",4,e5dd69bda4ce9e1c958710c14fb55c31a0dfcd6c,kaminario-iscsi-non-discovery," iscsi_portals, target_iqns = self.get_target_info(volume) result = {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqns[0], ""target_portal"": iscsi_portals[0], ""target_lun"": lun, ""target_discovered"": True}} if self.configuration.disable_discovery and connector.get('multipath'): result['data'].update(target_iqns=target_iqns, target_portals=iscsi_portals, target_luns=[lun] * len(target_iqns)) return result iscsi_portals = target_iqns = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: iscsi_portals = ['%s:%s' % (ip.ip_address, ISCSI_TCP_PORT) for ip in iscsi_ip_rs.hits if not ip.wan_port] if not iscsi_portals: iqn = sys_state_rs.hits[0].iscsi_qualified_target_name target_iqns = [iqn] * len(iscsi_portals) if not target_iqns: return iscsi_portals, target_iqns"," iscsi_portal, target_iqn = self.get_target_info(volume) return {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqn, ""target_portal"": iscsi_portal, ""target_lun"": lun, ""target_discovered"": True}} iscsi_ip = target_iqn = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: for ip in iscsi_ip_rs.hits: if not ip.wan_port: iscsi_ip = ip.ip_address break if not iscsi_ip: iscsi_portal = ""{0}:{1}"".format(iscsi_ip, ISCSI_TCP_PORT) target_iqn = sys_state_rs.hits[0].iscsi_qualified_target_name if not target_iqn: return iscsi_portal, target_iqn",103,43
openstack%2Fcinder~master~I629cd5a643d22584cb151bcd49ce8ee9c821cadc,openstack/cinder,master,I629cd5a643d22584cb151bcd49ce8ee9c821cadc,Remove invalid parameters in the file testing.rst,MERGED,2017-11-22 04:26:48.000000000,2018-02-25 14:07:34.000000000,2017-12-12 21:39:44.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-22 04:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/feb06adcc03753cb681458da02473d3dbff985b8', 'message': 'Modify the UT path of cinder volume\n\nModify the UT path of cinder volume.\n\nChange-Id: I629cd5a643d22584cb151bcd49ce8ee9c821cadc\n'}, {'number': 2, 'created': '2017-11-22 06:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b869b6e01410e25c92cf683a865cd6d379d2e23e', 'message': 'Modify the UT path of cinder volume\n\nModify the UT path of cinder volume.\n\nChange-Id: I629cd5a643d22584cb151bcd49ce8ee9c821cadc\nCloses-Bug: #1733774\n'}, {'number': 3, 'created': '2017-11-23 03:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdfa18342ffbc61603870371e846338acc99f6f1', 'message': 'Remove invalid parameters in the file testing.rst\n\nRemove invalid parameters in the file testing.rst and modify UT path of cinder volume\n\nChange-Id: I629cd5a643d22584cb151bcd49ce8ee9c821cadc\nCloses-Bug: #1733774\n'}, {'number': 4, 'created': '2017-11-24 01:20:57.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea10d85ecdad10e851ddae801bf1fb30caf5ba85', 'message': 'Remove invalid parameters in the file testing.rst\n\nRemove invalid parameters in the file testing.rst and modify UT path of\n cinder volume\n\nChange-Id: I629cd5a643d22584cb151bcd49ce8ee9c821cadc\nCloses-Bug: #1733774\n'}]",2,522111,ea10d85ecdad10e851ddae801bf1fb30caf5ba85,63,29,4,24883,,,0,"Remove invalid parameters in the file testing.rst

Remove invalid parameters in the file testing.rst and modify UT path of
 cinder volume

Change-Id: I629cd5a643d22584cb151bcd49ce8ee9c821cadc
Closes-Bug: #1733774
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/522111/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,feb06adcc03753cb681458da02473d3dbff985b8,bug/1733774, tox -epy27 -- -n cinder.tests.unit.volume.test_availability_zone.AvailabilityZoneTestCase.test_list_availability_zones_cached tox -epy27 -- -n cinder.tests.unit.volume.test_volume, tox -epy27 -- -n cinder.tests.unit.test_volume.AvailabilityZoneTestCase.test_list_availability_zones_cached tox -epy27 -- -n cinder.tests.unit.test_volume,2,2
openstack%2Fcinder~master~I86179c47343de32527d17d7e2177046e89cbd007,openstack/cinder,master,I86179c47343de32527d17d7e2177046e89cbd007,Fix retype migrating volume with rep_status 'not-capable',MERGED,2017-11-23 08:05:54.000000000,2018-02-25 14:07:33.000000000,2017-12-06 12:43:10.000000000,"[{'_account_id': 170}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-23 08:05:54.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ac29f6d93df55b0297d034022daf392ae2561e8', 'message': ""Fix retype migrating volume with rep_status 'not-capable'\n\nWhen retype migrating a volume with rep_status 'not-capable',\n cinder driver will reject it because the volumes with rep_status\n'not-capable' are considered as a replicated volume.\nThis patch fixes the issue by adding 'not-capable' to the\nrep_status checklist.\n\nChange-Id: I86179c47343de32527d17d7e2177046e89cbd007\nClosed-Bug: #1734011\n""}]",0,522473,3ac29f6d93df55b0297d034022daf392ae2561e8,28,24,1,11186,,,0,"Fix retype migrating volume with rep_status 'not-capable'

When retype migrating a volume with rep_status 'not-capable',
 cinder driver will reject it because the volumes with rep_status
'not-capable' are considered as a replicated volume.
This patch fixes the issue by adding 'not-capable' to the
rep_status checklist.

Change-Id: I86179c47343de32527d17d7e2177046e89cbd007
Closed-Bug: #1734011
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/522473/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume_migration.py']",2,3ac29f6d93df55b0297d034022daf392ae2561e8,bug/1734011," def test_retype_volume_not_capable_to_replica(self): elevated = context.get_admin_context() db.volume_type_create(elevated, {'name': 'old', 'extra_specs': {}}) old_vol_type = db.volume_type_get_by_name(elevated, 'old') new_extra_specs = {'replication_enabled': '<is> True'} db.volume_type_create(elevated, {'name': 'new', 'extra_specs': new_extra_specs}) new_vol_type = db.volume_type_get_by_name(elevated, 'new') volume = tests_utils.create_volume(self.context, size=1, host=CONF.host, status='available', volume_type_id=old_vol_type['id'], replication_status='not-capable') host_obj = {'host': 'newhost', 'capabilities': {}} with mock.patch.object(self.volume, 'migrate_volume') as migrate_volume: migrate_volume.return_value = True self.volume.retype(self.context, volume, new_vol_type['id'], host_obj, migration_policy='on-demand')",,22,1
openstack%2Fcinder~master~I79940e534ec03f2d327e8a7e14e45bc93ae41b0c,openstack/cinder,master,I79940e534ec03f2d327e8a7e14e45bc93ae41b0c,Handle quota in 2 phases when managing resource,MERGED,2017-11-17 09:53:26.000000000,2018-02-25 14:07:31.000000000,2017-11-23 14:27:23.000000000,"[{'_account_id': 7198}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-17 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df45efc9536fce0627d611f363ad7787436514cf', 'message': ""Handle quota in 2 phases when managing resource.\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}, {'number': 2, 'created': '2017-11-17 09:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ac4d4113178de4d8947cc4e510555fe79a4dfe5', 'message': ""Handle quota in 2 phases when managing resource.\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}, {'number': 3, 'created': '2017-11-17 10:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a31ab6a2ffe0bd3d3fbf3b22530e0fda491109c', 'message': ""Handle quota in 2 phases when managing resource.\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}, {'number': 4, 'created': '2017-11-20 07:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/050da9de715dccf8fe471615a031370165265233', 'message': ""Handle quota in 2 phases when managing resource.\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}, {'number': 5, 'created': '2017-11-20 07:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9e73fd4d2112823fd60d5a549ae30167863f464', 'message': ""Handle quota in 2 phases when managing resource\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}, {'number': 6, 'created': '2017-11-21 01:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a18b307b0a7eb39bbc587a10d219cd666fbb0841', 'message': ""Handle quota in 2 phases when managing resource\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}, {'number': 7, 'created': '2017-11-23 01:18:17.000000000', 'files': ['cinder/tests/unit/api/contrib/test_snapshot_manage.py', 'cinder/tests/unit/volume/flows/test_manage_volume_flow.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/volume/flows/api/manage_existing.py', 'cinder/volume/flows/manager/manage_existing.py', 'releasenotes/notes/bug-1587376-fix-manage-resource-quota-issue-78f59f39b9fa4762.yaml', 'cinder/volume/flows/manager/manage_existing_snapshot.py', 'cinder/tests/unit/volume/flows/test_manage_snapshot_flow.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e72f0fdf2678482723e95bcc89a8c2117865c8a7', 'message': ""Handle quota in 2 phases when managing resource\n\nCinder would commit quota twice when managing resource\nin a clean environment that the corresponding\n'quota_usage' record is empty. This is all because of\nwe create db entity before reservation, hence the SYNC\nmechanism would refresh new record into quota_usage\nbefore actually reserved.\n\nThis patch fix this issue by introducing 2 phases\nreserve&commit, the latter only intends to update\nthe actual size.\n\nCloses-Bug: #1587376\nChange-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c\n""}]",2,521044,e72f0fdf2678482723e95bcc89a8c2117865c8a7,104,41,7,23083,,,0,"Handle quota in 2 phases when managing resource

Cinder would commit quota twice when managing resource
in a clean environment that the corresponding
'quota_usage' record is empty. This is all because of
we create db entity before reservation, hence the SYNC
mechanism would refresh new record into quota_usage
before actually reserved.

This patch fix this issue by introducing 2 phases
reserve&commit, the latter only intends to update
the actual size.

Closes-Bug: #1587376
Change-Id: I79940e534ec03f2d327e8a7e14e45bc93ae41b0c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/521044/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/api/create_volume.py', 'cinder/volume/flows/api/manage_existing.py', 'cinder/volume/flows/manager/manage_existing.py', 'cinder/volume/flows/manager/manage_existing_snapshot.py', 'cinder/volume/api.py']",5,df45efc9536fce0627d611f363ad7787436514cf,bug/1587376," 'size': 0, 'group_snapshot': None, 'optional_args': {'is_quota_committed': False}, 'volume_type_id': None if not volume_type else volume_type['id'], commit_quota=True)", commit_quota=False),19,6
openstack%2Fcinder~master~I2a6643ab4827dae244212c90c73402ff6d61cf76,openstack/cinder,master,I2a6643ab4827dae244212c90c73402ff6d61cf76,Update unity tests to use our test base,MERGED,2017-11-22 14:56:48.000000000,2018-02-25 14:07:30.000000000,2017-12-11 21:13:08.000000000,"[{'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-22 14:56:48.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/406959ad1c0e69e03df521ac3712c66fdbf61873', 'message': 'Update unity tests to use our test base\n\nDeprecation warnings were being emitted due to use of assertRaisesRegex,\neven though a py2/3 wrapper was created in\nI3cf8e29184a68a07d35fb121c816e40b89df393e. This was due to the Unity\ntests inheriting from unittest.TestCase instead of our own base TestCase.\n\nSwitched test cases over to use cinder.test.TestCase gets rid of the\ndeprecation warning for assertRaisesRegex.\n\nOur base test installs a logging fixture to make sure log messages are\nOK. This uncovered that the driver code was trying to pass an object in\nas if it were a dict of formatting values, resulting in an error. This\npatch fixes this my creating a dict of the needed values to pass in so\nthe tests will pass under the new inheritance.\n\nChange-Id: I2a6643ab4827dae244212c90c73402ff6d61cf76\n'}]",0,522271,406959ad1c0e69e03df521ac3712c66fdbf61873,37,31,1,11904,,,0,"Update unity tests to use our test base

Deprecation warnings were being emitted due to use of assertRaisesRegex,
even though a py2/3 wrapper was created in
I3cf8e29184a68a07d35fb121c816e40b89df393e. This was due to the Unity
tests inheriting from unittest.TestCase instead of our own base TestCase.

Switched test cases over to use cinder.test.TestCase gets rid of the
deprecation warning for assertRaisesRegex.

Our base test installs a logging fixture to make sure log messages are
OK. This uncovered that the driver code was trying to pass an object in
as if it were a dict of formatting values, resulting in an error. This
patch fixes this my creating a dict of the needed values to pass in so
the tests will pass under the new inheritance.

Change-Id: I2a6643ab4827dae244212c90c73402ff6d61cf76
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/522271/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py']",2,406959ad1c0e69e03df521ac3712c66fdbf61873,unity_depr," log_params = { 'name': params.name, 'size': params.size, 'description': params.description, 'pool': params.pool, 'io_limit_policy': params.io_limit_policy} '%(io_limit_policy)s.', log_params)"," '%(io_limit_policy)s.', params)",14,5
openstack%2Fcinder~master~Ibebd5a6e3752a441fc0f05f4bfd1be2b7f360480,openstack/cinder,master,Ibebd5a6e3752a441fc0f05f4bfd1be2b7f360480,Modify the wrong link in document,MERGED,2017-11-22 07:23:55.000000000,2018-02-25 14:07:28.000000000,2017-11-22 16:23:58.000000000,"[{'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-22 07:23:55.000000000', 'files': ['doc/source/configuration/block-storage/drivers/kaminario-driver.rst', 'doc/source/configuration/block-storage/drivers/emc-vnx-driver.rst', 'doc/source/admin/blockstorage-manage-volumes.rst', 'doc/source/configuration/block-storage/drivers/dell-equallogic-driver.rst', 'doc/source/configuration/block-storage/volume-encryption.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1e1f4bfa3f780d9e93e4026339b24f42769117a', 'message': 'Modify the wrong link in document\n\nChange-Id: Ibebd5a6e3752a441fc0f05f4bfd1be2b7f360480\n'}]",0,522150,b1e1f4bfa3f780d9e93e4026339b24f42769117a,27,23,1,24883,,,0,"Modify the wrong link in document

Change-Id: Ibebd5a6e3752a441fc0f05f4bfd1be2b7f360480
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/522150/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/kaminario-driver.rst', 'doc/source/configuration/block-storage/drivers/emc-vnx-driver.rst', 'doc/source/admin/blockstorage-manage-volumes.rst', 'doc/source/configuration/block-storage/drivers/dell-equallogic-driver.rst', 'doc/source/configuration/block-storage/volume-encryption.rst']",5,b1e1f4bfa3f780d9e93e4026339b24f42769117a,,<https://docs.openstack.org/cinder/latest/configuration/block-storage/volume-encryption.html#create-an-encrypted-volume-type>`_.,<https://docs.openstack.org/admin-guide/dashboard-manage-volumes.html>`_.,5,5
openstack%2Fcinder~master~I2250d4bad1b1f7d1f83c175a5e2b124f02ec9212,openstack/cinder,master,I2250d4bad1b1f7d1f83c175a5e2b124f02ec9212,Add fixture to only emit DeprecationWarning once,MERGED,2017-11-21 22:54:58.000000000,2018-02-25 14:07:27.000000000,2017-11-22 02:46:07.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 22:54:58.000000000', 'files': ['cinder/tests/fixtures.py', 'cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdae03acb0fbb1803174ba985f9e7c8b608dabb6', 'message': 'Add fixture to only emit DeprecationWarning once\n\nWe have a ton of DeprecationWarning messages in our unit test runs.\nMost of these are out of our control from third party libs. This\nadds a WarningsFixture to limit warning output to once per test\nrun, getting rid of >700 warnings in our logs.\n\nBorrowed heavily from Id8d8866baaf64721fda2b6b2e8358db18920c8ba and\nI5eaf953b6a2b0a3efe215f776aa048433b192e90 in Nova.\n\nChange-Id: I2250d4bad1b1f7d1f83c175a5e2b124f02ec9212\n'}]",0,522036,bdae03acb0fbb1803174ba985f9e7c8b608dabb6,30,25,1,11904,,,0,"Add fixture to only emit DeprecationWarning once

We have a ton of DeprecationWarning messages in our unit test runs.
Most of these are out of our control from third party libs. This
adds a WarningsFixture to limit warning output to once per test
run, getting rid of >700 warnings in our logs.

Borrowed heavily from Id8d8866baaf64721fda2b6b2e8358db18920c8ba and
I5eaf953b6a2b0a3efe215f776aa048433b192e90 in Nova.

Change-Id: I2250d4bad1b1f7d1f83c175a5e2b124f02ec9212
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/522036/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/fixtures.py', 'cinder/test.py']",2,bdae03acb0fbb1803174ba985f9e7c8b608dabb6,warning_fixture, # NOTE(blk-u): WarningsFixture must be after the Database fixture # because sqlalchemy-migrate messes with the warnings filters. self.useFixture(cinder_fixtures.WarningsFixture()) ,,25,0
openstack%2Fcinder~master~Ic7e8e6bc5c68e73a2c26c3105885e5c6ea06a4a8,openstack/cinder,master,Ic7e8e6bc5c68e73a2c26c3105885e5c6ea06a4a8,Update oslo.context RequestContext args,MERGED,2017-11-21 20:59:08.000000000,2018-02-25 14:06:59.000000000,2017-11-22 02:40:37.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 20:59:08.000000000', 'files': ['cinder/tests/unit/test_test_utils.py', 'cinder/context.py', 'cinder/compute/nova.py', 'cinder/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/82447a26b5a17cebf6274d6c53f4a84f455856bd', 'message': 'Update oslo.context RequestContext args\n\nCommit I9272f71e0e68268ad9f558ddd1e1183e3ea69806 fixed a few\ndeprecation warnings due to properties being renamed in oslo\ncontext, but there were a few other name changes as well.\n\nThis updates domain_id, project_domain_id, and user_domain_id\nand gets rid of ~130 DeprecationWarning messages from our unit\ntest runs.\n\nChange-Id: Ic7e8e6bc5c68e73a2c26c3105885e5c6ea06a4a8\n'}]",0,522014,82447a26b5a17cebf6274d6c53f4a84f455856bd,32,27,1,11904,,,0,"Update oslo.context RequestContext args

Commit I9272f71e0e68268ad9f558ddd1e1183e3ea69806 fixed a few
deprecation warnings due to properties being renamed in oslo
context, but there were a few other name changes as well.

This updates domain_id, project_domain_id, and user_domain_id
and gets rid of ~130 DeprecationWarning messages from our unit
test runs.

Change-Id: Ic7e8e6bc5c68e73a2c26c3105885e5c6ea06a4a8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/522014/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_test_utils.py', 'cinder/context.py', 'cinder/compute/nova.py', 'cinder/tests/unit/test_context.py']",4,82447a26b5a17cebf6274d6c53f4a84f455856bd,," domain_id=""domain"", user_domain_id=""user-domain"", project_domain_id=""project-domain"")"," domain=""domain"", user_domain=""user-domain"", project_domain=""project-domain"")",10,10
openstack%2Fcinder~master~I18fbbdf3e4d63c7b3e11806e9347b8df2dba5c8e,openstack/cinder,master,I18fbbdf3e4d63c7b3e11806e9347b8df2dba5c8e,Handle deprecation of inspect.getargspec,MERGED,2017-11-21 18:57:41.000000000,2018-02-25 14:06:43.000000000,2017-12-23 16:26:52.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 18:57:41.000000000', 'files': ['cinder/tests/unit/volume/flows/test_manage_volume_flow.py', 'cinder/interface/base.py', 'cinder/tests/unit/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4261891d5f06f9cb627c82a1e9bcc07983b6be61', 'message': 'Handle deprecation of inspect.getargspec\n\ngetargspec has been deprecated in py3 with plans to remove it in py3.6.\nThe recommendation is to move to inspect.signature, but the results\nof that call are different than the existing one.\n\nThere is also getfullargspec available under py3 that was originally\ndeprecated, but for the sake of handling 2/3 code, it has been\nun-deprecated. This call uses inspect internally, but returns a mostly\ncompatible result with what getargspec did. This handles getargspec\ndeprecation by just using getfullargspec instead if it is available.\n\nChange-Id: I18fbbdf3e4d63c7b3e11806e9347b8df2dba5c8e\nCloses-bug: #1733676\n'}]",1,521980,4261891d5f06f9cb627c82a1e9bcc07983b6be61,34,30,1,11904,,,0,"Handle deprecation of inspect.getargspec

getargspec has been deprecated in py3 with plans to remove it in py3.6.
The recommendation is to move to inspect.signature, but the results
of that call are different than the existing one.

There is also getfullargspec available under py3 that was originally
deprecated, but for the sake of handling 2/3 code, it has been
un-deprecated. This call uses inspect internally, but returns a mostly
compatible result with what getargspec did. This handles getargspec
deprecation by just using getfullargspec instead if it is available.

Change-Id: I18fbbdf3e4d63c7b3e11806e9347b8df2dba5c8e
Closes-bug: #1733676
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/521980/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_manage_volume_flow.py', 'cinder/interface/base.py', 'cinder/tests/unit/test_coordination.py']",3,4261891d5f06f9cb627c82a1e9bcc07983b6be61,bug/1733676,"if hasattr(inspect, 'getfullargspec'): getargspec = inspect.getfullargspec else: getargspec = inspect.getargspec self.assertEqual(['foo', 'bar'], getargspec(func)[0])"," self.assertEqual(['foo', 'bar'], inspect.getargspec(func)[0])",19,4
openstack%2Fcinder~master~I3384ad2f01917d71b3dfab46ef21d7e5c44cc904,openstack/cinder,master,I3384ad2f01917d71b3dfab46ef21d7e5c44cc904,Fix description for volume_type object in API Ref,MERGED,2017-01-25 23:45:43.000000000,2018-02-25 14:06:11.000000000,2017-11-22 02:30:49.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25747}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-01-25 23:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20601d91de88369eba45c6e09612fad7187644c5', 'message': 'Fix description for volume_type object in API Ref\n\nVolume_type is a object containing all information\nabout volume_type but its definition is wrong on\nAPI-ref side\n- http://developer.openstack.org/api-ref/block-storage/v2/#volume-types-types\n\nThis commit correct that to understand the API clearly.\n\nChange-Id: I3384ad2f01917d71b3dfab46ef21d7e5c44cc904\nCloses-bug: 1659443\n'}, {'number': 2, 'created': '2017-09-27 06:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/426fd1a719f1db96b7bc4544b3eb88015529def1', 'message': 'Fix description for volume_type object in API Ref\n\nVolume_type is a object containing all information\nabout volume_type but its definition is wrong on\nAPI-ref side\n- http://developer.openstack.org/api-ref/block-storage/v2/#volume-types-types\n\nThis commit correct that to understand the API clearly.\n\nChange-Id: I3384ad2f01917d71b3dfab46ef21d7e5c44cc904\nCloses-bug: 1659443\n'}, {'number': 3, 'created': '2017-09-29 00:45:50.000000000', 'files': ['api-ref/source/v2/volumes-v2-types.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd6431b107af146d084c48637bd90ea79d217214', 'message': 'Fix description for volume_type object in API Ref\n\nVolume_type is a object containing all information\nabout volume_type but its definition is wrong on\nAPI-ref side\n- http://developer.openstack.org/api-ref/block-storage/v2/#volume-types-types\n\nThis commit correct that to understand the API clearly.\n\nChange-Id: I3384ad2f01917d71b3dfab46ef21d7e5c44cc904\nCloses-bug: 1659443\n'}]",0,425461,cd6431b107af146d084c48637bd90ea79d217214,86,46,3,8556,,,0,"Fix description for volume_type object in API Ref

Volume_type is a object containing all information
about volume_type but its definition is wrong on
API-ref side
- http://developer.openstack.org/api-ref/block-storage/v2/#volume-types-types

This commit correct that to understand the API clearly.

Change-Id: I3384ad2f01917d71b3dfab46ef21d7e5c44cc904
Closes-bug: 1659443
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/425461/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/volumes-v2-types.inc'],1,20601d91de88369eba45c6e09612fad7187644c5,bug/1659443, - volume_type: volume_type_1 - volume_type: volume_type_1 - volume_type: volume_type_1 - volume_type: volume_type_1 - volume_type: volume_type_1 - volume_type: volume_type_1 - volume_type: volume_type_1, - volume_type: volume_type - volume_type: volume_type - volume_type: volume_type - volume_type: volume_type - volume_type: volume_type - volume_type: volume_type - volume_type: volume_type,7,7
openstack%2Fcinder~master~I983e0b7c650a2358e4af9862365d29dfa107210a,openstack/cinder,master,I983e0b7c650a2358e4af9862365d29dfa107210a,VMware: Backend driver for VStorageObject,MERGED,2017-11-18 00:56:17.000000000,2018-02-25 14:06:10.000000000,2017-12-01 01:43:44.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22078}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-18 00:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f733ada60e0fcf20157639219179caa8ba1a8c4d', 'message': 'VMware: Backend driver for VStorageObject\n\nVolume driver based on VMware VStorageObject aka First Class\nDisk (FCD). This driver requires a minimum vCenter version\nof 6.5.\n\nImplements: blueprint vmware-fcd-driver\nChange-Id: I983e0b7c650a2358e4af9862365d29dfa107210a\n'}, {'number': 2, 'created': '2017-11-21 00:33:05.000000000', 'files': ['cinder/volume/drivers/vmware/fcd.py', 'cinder/tests/unit/volume/drivers/vmware/test_fcd.py', 'releasenotes/notes/bp-vmware-fcd-fbe19ee577d2e9e4.yaml', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/377549c67c4290532df602e89e6f9e6193ab188d', 'message': 'VMware: Backend driver for VStorageObject\n\nVolume driver based on VMware VStorageObject aka First Class\nDisk (FCD). This driver requires a minimum vCenter version\nof 6.5.\n\nImplements: blueprint vmware-fcd-driver\nChange-Id: I983e0b7c650a2358e4af9862365d29dfa107210a\n'}]",0,521213,377549c67c4290532df602e89e6f9e6193ab188d,76,33,2,9171,,,0,"VMware: Backend driver for VStorageObject

Volume driver based on VMware VStorageObject aka First Class
Disk (FCD). This driver requires a minimum vCenter version
of 6.5.

Implements: blueprint vmware-fcd-driver
Change-Id: I983e0b7c650a2358e4af9862365d29dfa107210a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/521213/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/vmware/fcd.py', 'cinder/tests/unit/volume/drivers/vmware/test_fcd.py', 'releasenotes/notes/bp-vmware-fcd-fbe19ee577d2e9e4.yaml', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py']",5,f733ada60e0fcf20157639219179caa8ba1a8c4d,bp/vmware-fcd-driver," @ddt.data(volumeops.VirtualDiskType.EAGER_ZEROED_THICK, volumeops.VirtualDiskType.PREALLOCATED, volumeops.VirtualDiskType.THIN) def test_create_fcd_backing_spec(self, disk_type): spec = mock.Mock() self.session.vim.client.factory.create.return_value = spec ds_ref = mock.sentinel.ds_ref ret = self.vops._create_fcd_backing_spec(disk_type, ds_ref) if disk_type == volumeops.VirtualDiskType.PREALLOCATED: prov_type = 'lazyZeroedThick' else: prov_type = disk_type self.assertEqual(prov_type, ret.provisioningType) self.assertEqual(ds_ref, ret.datastore) self.session.vim.client.factory.create.assert_called_once_with( 'ns0:VslmCreateSpecDiskFileBackingSpec') @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' '_create_fcd_backing_spec') def test_create_fcd(self, create_fcd_backing_spec): spec = mock.Mock() self.session.vim.client.factory.create.return_value = spec backing_spec = mock.sentinel.backing_spec create_fcd_backing_spec.return_value = backing_spec task = mock.sentinel.task self.session.invoke_api.return_value = task task_info = mock.Mock() fcd_id = mock.sentinel.fcd_id task_info.result.config.id.id = fcd_id self.session.wait_for_task.return_value = task_info name = mock.sentinel.name size_mb = 1024 ds_ref_val = mock.sentinel.ds_ref_val ds_ref = mock.Mock(value=ds_ref_val) disk_type = mock.sentinel.disk_type ret = self.vops.create_fcd(name, size_mb, ds_ref, disk_type) self.assertEqual(fcd_id, ret.fcd_id) self.assertEqual(ds_ref_val, ret.ds_ref_val) self.session.vim.client.factory.create.assert_called_once_with( 'ns0:VslmCreateSpec') create_fcd_backing_spec.assert_called_once_with(disk_type, ds_ref) self.assertEqual(1024, spec.capacityInMB) self.assertEqual(name, spec.name) self.assertEqual(backing_spec, spec.backingSpec) self.session.invoke_api.assert_called_once_with( self.session.vim, 'CreateDisk_Task', self.session.vim.service_content.vStorageObjectManager, spec=spec) self.session.wait_for_task.assert_called_once_with(task) def test_delete_fcd(self): task = mock.sentinel.task self.session.invoke_api.return_value = task fcd_location = mock.Mock() fcd_id = mock.sentinel.fcd_id fcd_location.id.return_value = fcd_id ds_ref = mock.sentinel.ds_ref fcd_location.ds_ref.return_value = ds_ref self.vops.delete_fcd(fcd_location) self.session.invoke_api.assert_called_once_with( self.session.vim, 'DeleteVStorageObject_Task', self.session.vim.service_content.vStorageObjectManager, id=fcd_id, datastore=ds_ref) self.session.wait_for_task(task) @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' '_create_fcd_backing_spec') def test_clone_fcd(self, create_fcd_backing_spec): spec = mock.Mock() self.session.vim.client.factory.create.return_value = spec backing_spec = mock.sentinel.backing_spec create_fcd_backing_spec.return_value = backing_spec task = mock.sentinel.task self.session.invoke_api.return_value = task task_info = mock.Mock() fcd_id = mock.sentinel.fcd_id task_info.result.config.id.id = fcd_id self.session.wait_for_task.return_value = task_info fcd_location = mock.Mock() fcd_id = mock.sentinel.fcd_id fcd_location.id.return_value = fcd_id ds_ref = mock.sentinel.ds_ref fcd_location.ds_ref.return_value = ds_ref name = mock.sentinel.name dest_ds_ref_val = mock.sentinel.dest_ds_ref_val dest_ds_ref = mock.Mock(value=dest_ds_ref_val) disk_type = mock.sentinel.disk_type ret = self.vops.clone_fcd(name, fcd_location, dest_ds_ref, disk_type) self.assertEqual(fcd_id, ret.fcd_id) self.assertEqual(dest_ds_ref_val, ret.ds_ref_val) self.session.vim.client.factory.create.assert_called_once_with( 'ns0:VslmCloneSpec') create_fcd_backing_spec.assert_called_once_with(disk_type, dest_ds_ref) self.assertEqual(name, spec.name) self.assertEqual(backing_spec, spec.backingSpec) self.session.invoke_api.assert_called_once_with( self.session.vim, 'CloneVStorageObject_Task', self.session.vim.service_content.vStorageObjectManager, id=fcd_id, datastore=ds_ref, spec=spec) self.session.wait_for_task.assert_called_once_with(task) def test_extend_fcd(self): task = mock.sentinel.task self.session.invoke_api.return_value = task fcd_location = mock.Mock() fcd_id = mock.sentinel.fcd_id fcd_location.id.return_value = fcd_id ds_ref = mock.sentinel.ds_ref fcd_location.ds_ref.return_value = ds_ref new_size_mb = 1024 self.vops.extend_fcd(fcd_location, new_size_mb) self.session.invoke_api.assert_called_once_with( self.session.vim, 'ExtendDisk_Task', self.session.vim.service_content.vStorageObjectManager, id=fcd_id, datastore=ds_ref, newCapacityInMB=new_size_mb) self.session.wait_for_task(task) def test_register_disk(self): fcd = mock.Mock() fcd_id = mock.sentinel.fcd_id fcd.config.id = mock.Mock(id=fcd_id) self.session.invoke_api.return_value = fcd vmdk_url = mock.sentinel.vmdk_url name = mock.sentinel.name ds_ref_val = mock.sentinel.ds_ref_val ds_ref = mock.Mock(value=ds_ref_val) ret = self.vops.register_disk(vmdk_url, name, ds_ref) self.assertEqual(fcd_id, ret.fcd_id) self.assertEqual(ds_ref_val, ret.ds_ref_val) self.session.invoke_api.assert_called_once_with( self.session.vim, 'RegisterDisk', self.session.vim.service_content.vStorageObjectManager, path=vmdk_url, name=name) @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' '_create_controller_config_spec') @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' '_reconfigure_backing') def test_attach_fcd(self, reconfigure_backing, create_controller_spec): reconfig_spec = mock.Mock() self.session.vim.client.factory.create.return_value = reconfig_spec spec = mock.Mock() create_controller_spec.return_value = spec task = mock.sentinel.task self.session.invoke_api.return_value = task backing = mock.sentinel.backing fcd_location = mock.Mock() fcd_id = mock.sentinel.fcd_id fcd_location.id.return_value = fcd_id ds_ref = mock.sentinel.ds_ref fcd_location.ds_ref.return_value = ds_ref self.vops.attach_fcd(backing, fcd_location) self.session.vim.client.factory.create.assert_called_once_with( 'ns0:VirtualMachineConfigSpec') create_controller_spec.assert_called_once_with( volumeops.VirtualDiskAdapterType.LSI_LOGIC) self.assertEqual([spec], reconfig_spec.deviceChange) reconfigure_backing.assert_called_once_with(backing, reconfig_spec) self.session.invoke_api.assert_called_once_with( self.session.vim, 'AttachDisk_Task', backing, diskId=fcd_id, datastore=ds_ref) self.session.wait_for_task.assert_called_once_with(task) def test_detach_fcd(self): task = mock.sentinel.task self.session.invoke_api.return_value = task backing = mock.sentinel.backing fcd_location = mock.Mock() fcd_id = mock.sentinel.fcd_id fcd_location.id.return_value = fcd_id self.vops.detach_fcd(backing, fcd_location) self.session.invoke_api.assert_called_once_with( self.session.vim, 'DetachDisk_Task', backing, diskId=fcd_id) self.session.wait_for_task.assert_called_once_with(task) class FcdLocationTest(test.TestCase): """"""Unit tests for FcdLocation."""""" def test_create(self): fcd_id = mock.sentinel.fcd_id fcd_id_obj = mock.Mock(id=fcd_id) ds_ref_val = mock.sentinel.ds_ref_val ds_ref = mock.Mock(value=ds_ref_val) fcd_loc = volumeops.FcdLocation.create(fcd_id_obj, ds_ref) self.assertEqual(fcd_id, fcd_loc.fcd_id) self.assertEqual(ds_ref_val, fcd_loc.ds_ref_val) def test_provider_location(self): fcd_loc = volumeops.FcdLocation('123', 'ds1') self.assertEqual('123@ds1', fcd_loc.provider_location()) def test_ds_ref(self): fcd_loc = volumeops.FcdLocation('123', 'ds1') ds_ref = fcd_loc.ds_ref() self.assertEqual('ds1', ds_ref.value) def test_id(self): id_obj = mock.Mock() cf = mock.Mock() cf.create.return_value = id_obj fcd_loc = volumeops.FcdLocation('123', 'ds1') fcd_id = fcd_loc.id(cf) self.assertEqual('123', fcd_id.id) cf.create.assert_called_once_with('ns0:ID') def test_from_provider_location(self): fcd_loc = volumeops.FcdLocation.from_provider_location('123@ds1') self.assertEqual('123', fcd_loc.fcd_id) self.assertEqual('ds1', fcd_loc.ds_ref_val) def test_str(self): fcd_loc = volumeops.FcdLocation('123', 'ds1') self.assertEqual('123@ds1', str(fcd_loc))",,1223,2
openstack%2Fcinder~stable%2Fpike~If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0,openstack/cinder,stable/pike,If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0,Prevent leaking encryption key when deleting volume,MERGED,2017-11-20 15:33:32.000000000,2018-02-25 14:06:08.000000000,2017-11-20 22:13:11.000000000,"[{'_account_id': 170}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 15:33:32.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/54c076d1109d0894d14212cfaba356d4a0237f8f', 'message': 'Prevent leaking encryption key when deleting volume\n\nFail requests to delete an encrypted volume when the associated\nencryption key cannot be deleted. This avoids leaking an encryption\nkey when the volume is deleted but the key cannot be deleted.\n\nThis patch addresses situations where Barbican is the key manager,\nand Barbican\'s security policy does not allow the user to delete\nthe key. Barbican has stricter rules on deleting secrets than Cinder\ndoes on deleting volumes. For example, given two non-admin users X\nand Y, Cinder allows user X to delete user Y\'s volume, but Barbican\ndoes not allow user X to delete user Y\'s secrets.\n\nIf the encryption key cannot be deleted then the volume\'s status is\nset to ""error_deleting"". To delete the volume, the volume\'s status\ncan be reset, and a user with suitable privileges (i.e. an admin or\nthe volume\'s owner) can reissue the delete request.\n\nCloses-Bug: #1731528\nChange-Id: If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0\n(cherry picked from commit 9044986746cebcb9940e8ab9950dd04f9c9ae28d)\n'}]",0,521560,54c076d1109d0894d14212cfaba356d4a0237f8f,19,15,1,21129,,,0,"Prevent leaking encryption key when deleting volume

Fail requests to delete an encrypted volume when the associated
encryption key cannot be deleted. This avoids leaking an encryption
key when the volume is deleted but the key cannot be deleted.

This patch addresses situations where Barbican is the key manager,
and Barbican's security policy does not allow the user to delete
the key. Barbican has stricter rules on deleting secrets than Cinder
does on deleting volumes. For example, given two non-admin users X
and Y, Cinder allows user X to delete user Y's volume, but Barbican
does not allow user X to delete user Y's secrets.

If the encryption key cannot be deleted then the volume's status is
set to ""error_deleting"". To delete the volume, the volume's status
can be reset, and a user with suitable privileges (i.e. an admin or
the volume's owner) can reissue the delete request.

Closes-Bug: #1731528
Change-Id: If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0
(cherry picked from commit 9044986746cebcb9940e8ab9950dd04f9c9ae28d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/521560/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py']",2,54c076d1109d0894d14212cfaba356d4a0237f8f,bug/1731528," except Exception as e: volume.update({'status': 'error_deleting'}) volume.save() if hasattr(e, 'msg'): msg = _(""Unable to delete encryption key for "" ""volume: %s"") % (e.msg) else: msg = _(""Unable to delete encryption key for volume."") LOG.error(msg) raise exception.InvalidVolume(reason=msg)"," except exception.CinderException as e: LOG.warning(""Unable to delete encryption key for "" ""volume: %s."", e.msg, resource=volume) except Exception: LOG.exception(""Unable to delete encryption key for "" ""volume."")",46,6
openstack%2Fcinder~master~I2921113d89662c346ff75081dc7c5ce24ca6c5e2,openstack/cinder,master,I2921113d89662c346ff75081dc7c5ce24ca6c5e2,Try Fetching value from 'cluster' when raise exception,MERGED,2017-11-20 08:48:12.000000000,2018-02-25 14:06:06.000000000,2017-11-22 06:27:57.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18288}, {'_account_id': 18883}, {'_account_id': 19853}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 08:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/adad397a4ac1f5d803c6124993c9dad45725fa5d', 'message': ""Try Fetching value from 'cluster' when raise exception\n\nCluster is supported in cinder manage API. We should try\nto fetch the user input from 'cluster' as well when raising\nexception.\n\nTrivialFix\nCloses-Bug: #1732455\n\nChange-Id: I2921113d89662c346ff75081dc7c5ce24ca6c5e2\n""}, {'number': 2, 'created': '2017-11-20 15:09:10.000000000', 'files': ['cinder/api/contrib/volume_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da74d1d672663cfc6a77ca6cf6cf7df10f178922', 'message': ""Try Fetching value from 'cluster' when raise exception\n\nCluster is supported in cinder manage API. We should try\nto fetch the user input from 'cluster' as well when raising\nexception.\n\nTrivialFix\nCloses-Bug: #1732455\n\nChange-Id: I2921113d89662c346ff75081dc7c5ce24ca6c5e2\n""}]",1,521459,da74d1d672663cfc6a77ca6cf6cf7df10f178922,66,36,2,23083,,,0,"Try Fetching value from 'cluster' when raise exception

Cluster is supported in cinder manage API. We should try
to fetch the user input from 'cluster' as well when raising
exception.

TrivialFix
Closes-Bug: #1732455

Change-Id: I2921113d89662c346ff75081dc7c5ce24ca6c5e2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/521459/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/volume_manage.py'],1,adad397a4ac1f5d803c6124993c9dad45725fa5d,bug/1732455," msg = _(""%s '%s' not found"") % ('Host' if host else 'Cluster', host or cluster_name)"," msg = _(""Host '%s' not found"") % volume['host']",2,1
openstack%2Fcinder~master~Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807,openstack/cinder,master,Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807,Fix v3 api-ref for restoring backup are wrongly described,MERGED,2017-11-16 10:53:36.000000000,2018-02-25 14:06:04.000000000,2017-11-21 02:03:59.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-16 10:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97f01511ccaf3da2598ccd8f67dd58c810901d93', 'message': 'Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed. The name parameter is only used for display-name of the\ntarget volume, if name is not specified, the name of original volume\nbackuped will be used. so this patch fixes that.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 2, 'created': '2017-11-16 11:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35230b7fdb3392e90b72599f44250496b169d4bb', 'message': 'Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed. The name parameter is only used for display-name of the\ntarget volume, if name is not specified, the name of original volume\nbackuped will be used. so this patch fixes that.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 3, 'created': '2017-11-17 02:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cff2c9a23bb22ecc904b9315372964c4284e6387', 'message': 'Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed, it is not mandatory to specify either the UUID or name of\nthe volume.\n\nThe name parameter is used for display-name if a new volume is created\nfor restore.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 4, 'created': '2017-11-17 06:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5529d555a3d956c269f7fc4dc0e78ae092c45adb', 'message': ""Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed, it is mandatory to specify either the UUID or name of the\nvolume, Actually it's OK if you specify nothing.\n\nThe name parameter will only work if a new volume is created for restore.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 5, 'created': '2017-11-17 06:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53d956db3609c8f73557589643235a070b7a915e', 'message': ""Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed, it is mandatory to specify either the UUID or name of the\nvolume, Actually it's OK if you specify nothing.\n\nThe name parameter will only work if a new volume is created for restore.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 6, 'created': '2017-11-17 09:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1050206640e50d5cfb2ee3705b7e77bdc7dfa473', 'message': ""Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed, it is mandatory to specify either the UUID or name of the\nvolume, Actually it's OK if you specify nothing.\n\nThe name parameter will only work if a new volume is created for restore.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 7, 'created': '2017-11-20 02:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85a1a12489d9e3c503f52e069daa2ac043790e61', 'message': ""Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed, it is mandatory to specify either the UUID or name of the\nvolume, Actually it's OK if you specify nothing.\n\nThe name parameter will work only if a new volume is created for restore.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 8, 'created': '2017-11-20 05:51:31.000000000', 'files': ['api-ref/source/v3/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/47b48b99c131e3d6738625edb0a81d52ec40cf76', 'message': ""Fix v3 api-ref for restoring backup are wrongly described\n\nIn v3 api-ref for restoring backup, the request contents are wrongly\ndescribed, it is mandatory to specify either the UUID or name of the\nvolume, Actually it's OK if you specify nothing.\n\nThe name parameter will work only if a new volume is created for restore.\n\nCloses-Bug:#1732664\n\nChange-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}]",2,520375,47b48b99c131e3d6738625edb0a81d52ec40cf76,123,32,8,25169,,,0,"Fix v3 api-ref for restoring backup are wrongly described

In v3 api-ref for restoring backup, the request contents are wrongly
described, it is mandatory to specify either the UUID or name of the
volume, Actually it's OK if you specify nothing.

The name parameter will work only if a new volume is created for restore.

Closes-Bug:#1732664

Change-Id: Ia6a9b99df0c7b83999a2e5ac9c945c91b284f807
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/520375/8 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/ext-backups.inc'],1,97f01511ccaf3da2598ccd8f67dd58c810901d93,bug/1732664,"If name is not specified, the name of original volume backuped will be used.","You must specify either the UUID or name of the volume. If you specify both the UUID and name, the UUID takes priority.",1,2
openstack%2Fcinder~master~I3726159a23625a33415f23b971d6e6f47bd77846,openstack/cinder,master,I3726159a23625a33415f23b971d6e6f47bd77846,Fix qos-spec-v2-qos-specs error,MERGED,2017-11-19 06:42:15.000000000,2018-02-25 14:06:03.000000000,2017-11-20 22:13:13.000000000,"[{'_account_id': 170}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23913}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-19 06:42:15.000000000', 'files': ['api-ref/source/v2/qos-specs-v2-qos-specs.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3814c0a6e344b610c089572ce7cc34158bd7f97', 'message': 'Fix qos-spec-v2-qos-specs error\n\nThere are some small mistakes in the api-v2 doc,\nplease see this bug description:1733148\nCloses-Bug:#1733148\n\nChange-Id: I3726159a23625a33415f23b971d6e6f47bd77846\n'}]",0,521348,a3814c0a6e344b610c089572ce7cc34158bd7f97,34,30,1,26233,,,0,"Fix qos-spec-v2-qos-specs error

There are some small mistakes in the api-v2 doc,
please see this bug description:1733148
Closes-Bug:#1733148

Change-Id: I3726159a23625a33415f23b971d6e6f47bd77846
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/521348/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/qos-specs-v2-qos-specs.inc'],1,a3814c0a6e344b610c089572ce7cc34158bd7f97,bug/1733148, - name: name_4 - links: links_2 - id: id_3 - name: name_4 - name: name_4 - links: links_2 - id: id_3 - id: id_3 - name: name_4, - name: name - links: links - id: id - name: name - name: name - links: links - id: id - id: id - name: name,9,9
openstack%2Fcinder~master~I789175e70994be52181fed6339af96b6b85c1236,openstack/cinder,master,I789175e70994be52181fed6339af96b6b85c1236,Explicitly set expected log level for tests,MERGED,2017-11-17 19:14:24.000000000,2018-02-25 14:06:01.000000000,2017-11-18 17:18:45.000000000,"[{'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-17 19:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/deb36f1530ee3179d94fb55483e7bcc27583b501', 'message': 'Explicitly set expected log level for tests\n\nSome of the tests related to log level adjustment make assumptions\nabout the default log level. While that should not change often, it\nwould be best if the tests explicitly set the default it expects.\n\nChange-Id: I789175e70994be52181fed6339af96b6b85c1236\n'}, {'number': 2, 'created': '2017-11-17 22:58:47.000000000', 'files': ['cinder/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6f7e487551c962da1cc33863a7e65d731618f68', 'message': 'Explicitly set expected log level for tests\n\nSome of the tests related to log level adjustment make assumptions\nabout the default log level. While that should not change often, it\nwould be best if the tests explicitly set the default it expects.\n\nChange-Id: I789175e70994be52181fed6339af96b6b85c1236\n'}]",0,521165,b6f7e487551c962da1cc33863a7e65d731618f68,33,25,2,11904,,,0,"Explicitly set expected log level for tests

Some of the tests related to log level adjustment make assumptions
about the default log level. While that should not change often, it
would be best if the tests explicitly set the default it expects.

Change-Id: I789175e70994be52181fed6339af96b6b85c1236
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/521165/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_fixtures.py'],1,deb36f1530ee3179d94fb55483e7bcc27583b501,ut_log_level,import logging as pylogging root.setLevel(pylogging.INFO) root.setLevel(pylogging.INFO),,4,0
openstack%2Fcinder~master~I56c37bb2f5fa20356341e5736745117806463644,openstack/cinder,master,I56c37bb2f5fa20356341e5736745117806463644,Remove ExceptionTestCase,MERGED,2017-11-17 21:17:09.000000000,2018-02-25 14:04:41.000000000,2017-11-18 01:46:33.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-17 21:17:09.000000000', 'files': ['cinder/tests/unit/test_exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/402ded572da14b8f810fed32e35fa715a664cefb', 'message': ""Remove ExceptionTestCase\n\nSince the switch to stestr, it appears any tests that output a large\namount of logging can cause subparser errors. One of the tests that\nseems to occasionally trigger this is in test_exceptions where it\nloads all classes from cinder/exception.py and asserts that attempting\nto raise the class results in it being raised.\n\nMany of the exceptions require message formatting values passed in.\nThe base CinderException handles this, but it also logs when this is\nthe case. So looping through all the exceptions results in a lot of\nlog messages for these missing format values.\n\nSince all this does is assert that raising the exception raises the\nexception, there is little value to this test. Arguably the only thing\nit does is enforce that non-exception classes can't be added to\nexception.py as those would raise a TypeError rather than the expected\nexception, but that does not seem like something we should care about\nenforcing. At least not in a unit test.\n\nChange-Id: I56c37bb2f5fa20356341e5736745117806463644\nPartial-bug: #1728640\n""}]",0,521192,402ded572da14b8f810fed32e35fa715a664cefb,30,26,1,11904,,,0,"Remove ExceptionTestCase

Since the switch to stestr, it appears any tests that output a large
amount of logging can cause subparser errors. One of the tests that
seems to occasionally trigger this is in test_exceptions where it
loads all classes from cinder/exception.py and asserts that attempting
to raise the class results in it being raised.

Many of the exceptions require message formatting values passed in.
The base CinderException handles this, but it also logs when this is
the case. So looping through all the exceptions results in a lot of
log messages for these missing format values.

Since all this does is assert that raising the exception raises the
exception, there is little value to this test. Arguably the only thing
it does is enforce that non-exception classes can't be added to
exception.py as those would raise a TypeError rather than the expected
exception, but that does not seem like something we should care about
enforcing. At least not in a unit test.

Change-Id: I56c37bb2f5fa20356341e5736745117806463644
Partial-bug: #1728640
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/521192/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_exception.py'],1,402ded572da14b8f810fed32e35fa715a664cefb,bug/1728640,from cinder import exception from cinder import test,"from cinder import exception from cinder import test class ExceptionTestCase(test.TestCase): @staticmethod def _raise_exc(exc): raise exc() def test_exceptions_raise(self): # NOTE(dprince): disable format errors since we are not passing kwargs self.flags(fatal_exception_format_errors=False) for name in dir(exception): exc = getattr(exception, name) if isinstance(exc, type): self.assertRaises(exc, self._raise_exc, exc)",2,16
openstack%2Fcinder~master~If40029a6ab9b15c292f9297f5bf56aec9621a7d9,openstack/cinder,master,If40029a6ab9b15c292f9297f5bf56aec9621a7d9,V3 jsonschema validation: base schema framework,MERGED,2017-10-27 08:56:29.000000000,2018-02-25 14:04:16.000000000,2017-11-21 16:48:54.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20191}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24645}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26541}]","[{'number': 1, 'created': '2017-10-27 08:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bbd65f7c6a2e5c71a9adfd620d5b428e3cfff8a', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nPartial-Implements: bp json-schema-validation\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 2, 'created': '2017-10-30 10:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbb2c029dc5d9bcab91eeccbc7a10a8affe1f3c9', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nPartial-Implements: bp json-schema-validation\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 3, 'created': '2017-10-30 13:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad8bae6b75d4c50b7f116bfd59586e2baa241700', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 4, 'created': '2017-11-07 03:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25d763f22aa0cc846f125f71f29bde528b7d2dd9', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 5, 'created': '2017-11-08 06:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b9b9e1b25dc0504ff7f6950ca69d77cc8500d74', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 6, 'created': '2017-11-09 03:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4aa45a21d3cf8d4c220012080579fcff1bab33a', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 7, 'created': '2017-11-13 07:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4da9b975117bc7483ab0edb77234c8c5b647a04', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nCo-author: Pooja Jadhav <pooja.jadhav@nttdata.com>\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 8, 'created': '2017-11-14 12:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ad06ebac2a710f8068506a099a16f09d94902f8', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nCo-author: Pooja Jadhav <pooja.jadhav@nttdata.com>\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 9, 'created': '2017-11-16 04:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b1f422a45172bf419362c07b3072d69dc6a71b9', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nCo-author: Pooja Jadhav <pooja.jadhav@nttdata.com>\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 10, 'created': '2017-11-16 11:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2e7ad1f78a41485b955ea424344612d7a4f5184', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nCo-author: Pooja Jadhav <pooja.jadhav@nttdata.com>\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 11, 'created': '2017-11-17 07:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50011ffccf35829894a25f6c751fd6b80821cb80', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nCo-author: Pooja Jadhav <pooja.jadhav@nttdata.com>\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}, {'number': 12, 'created': '2017-11-17 10:31:37.000000000', 'files': ['cinder/api/validation/parameter_types.py', 'requirements.txt', 'cinder/api/schemas/__init__.py', 'cinder/tests/unit/api/test_api_validation.py', 'cinder/api/validation/validators.py', 'cinder/exception.py', 'cinder/api/validation/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5420c0bf5fce14ff1b004841c7b6f152bc2009ea', 'message': 'V3 jsonschema validation: base schema framework\n\nThis patch adds a base jsonschema framework which will be used\nby other subsequent patches for adding jsonschema validation\nsupport for v3 APIs.\n\nThis patch follows the Nova-Schema-framework:\nhttps://github.com/openstack/nova/tree/master/nova/api/validation\n\nDepends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb\nPartial-Implements: bp json-schema-validation\nCo-author: Pooja Jadhav <pooja.jadhav@nttdata.com>\nChange-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9\n'}]",5,515649,5420c0bf5fce14ff1b004841c7b6f152bc2009ea,278,47,12,20191,,,0,"V3 jsonschema validation: base schema framework

This patch adds a base jsonschema framework which will be used
by other subsequent patches for adding jsonschema validation
support for v3 APIs.

This patch follows the Nova-Schema-framework:
https://github.com/openstack/nova/tree/master/nova/api/validation

Depends-On: I4b1140c20c68821eaf0849c9ee551ff9b1c27deb
Partial-Implements: bp json-schema-validation
Co-author: Pooja Jadhav <pooja.jadhav@nttdata.com>
Change-Id: If40029a6ab9b15c292f9297f5bf56aec9621a7d9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/515649/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'requirements.txt', 'cinder/api/schemas/__init__.py', 'cinder/tests/unit/api/test_api_validation.py', 'cinder/api/validation/validators.py', 'cinder/exception.py', 'cinder/api/validation/__init__.py']",7,7bbd65f7c6a2e5c71a9adfd620d5b428e3cfff8a,bp/json-schema-validation,"# Copyright (C) 2017 OpenStack Foundation # All Rights Reserved. # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Request Body validating middleware. """""" import functools from cinder.api.openstack import api_version_request as api_version from cinder.api.validation import validators def schema(request_body_schema, min_version=None, max_version=None): """"""Register a schema to validate request body. Registered schema will be used for validating request body just before API method executing. :param dict request_body_schema: a schema to validate request body :param min_version: A string of two numerals. X.Y indicating the minimum version of the JSON-Schema to validate against. :param max_version: A string of two numerals. X.Y indicating the maximum version of the JSON-Schema to validate against. """""" def add_validator(func): @functools.wraps(func) def wrapper(*args, **kwargs): min_ver = api_version.APIVersionRequest(min_version) max_ver = api_version.APIVersionRequest(max_version) if 'req' in kwargs: ver = kwargs['req'].api_version_request else: ver = args[1].api_version_request if ver.matches(min_ver, max_ver): # Only validate against the schema if it lies within # the version range specified. Note that if both min # and max are not specified the validator will always # be run. schema_validator = validators._SchemaValidator( request_body_schema) schema_validator.validate(kwargs['body']) return func(*args, **kwargs) return wrapper return add_validator ",,923,0
openstack%2Fcinder~master~I3454255c8dae481c85f79896ce53fabdc2a50b4d,openstack/cinder,master,I3454255c8dae481c85f79896ce53fabdc2a50b4d,Check available capacity before creating resources,MERGED,2017-10-02 21:53:49.000000000,2018-02-25 14:04:14.000000000,2017-11-21 03:54:11.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19853}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-02 21:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c9a9c28c171b34cd190ada55988d86cc63e99ed', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 2, 'created': '2017-10-03 01:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dd8a8208b45a9e1305907eb7e39bf10a535fbaa', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 3, 'created': '2017-10-04 00:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8476d8370aedaa17b7858a50678ad838ae317a18', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 4, 'created': '2017-10-13 08:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e274cfb82957a58cc77fc0da3dbac3b7e7fb400a', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 5, 'created': '2017-11-02 04:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/874518f0f6db7d1b71758d07392f4a6d5fa95b31', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 6, 'created': '2017-11-06 01:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fef6a9bec64251222878974135ab5d3355536208', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 7, 'created': '2017-11-13 03:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c806c429a8429f7532c1ec4bddc1c5423a6741d', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 8, 'created': '2017-11-13 03:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/330ef42dce29ced86d3c59185ff637385bd619e1', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 9, 'created': '2017-11-13 03:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3b2f1327f8fe53d011141769632cf77aea2cc0f', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 10, 'created': '2017-11-13 06:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a3bcd886f933bc0e76a03f892323b187244562f', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 11, 'created': '2017-11-13 07:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28680c366439dfca990c8fb24e3b752b9d29d9e1', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 12, 'created': '2017-11-14 08:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e8cec59031704602b91c4892b6f87ecbde6ae66', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 13, 'created': '2017-11-16 07:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd3b605ea9cea7ba1064db22d0295ca45431a2d8', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}, {'number': 14, 'created': '2017-11-17 02:14:41.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/rpcapi.py', 'cinder/tests/unit/scheduler/test_rpcapi.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/test_quota.py', 'cinder/tests/unit/api/v2/test_snapshot_metadata.py', 'cinder/tests/unit/api/v3/test_snapshots.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/08c2442a87f74a1159f9e82266aa202c793977e1', 'message': ""Check available capacity before creating resources\n\nFor some resources, due to their inheritance of the 'host' attribute\nfrom the source where they are asked to create from, the 'CREATE'\nrequest doesn't go through Cinder scheduler, thus missing the chance\nto check if the storage backend still have capacity. Such resources\nare snapshots, volume clones and potentially volume replication\nclones. In some cases, current implementation is fine because those\nnew resource would end up being in 'error' state if backend is out\nof capacity, but in the case where thin-provisioning is desired and\nthe backend has max over-subscription ratio set, this might cause\nbackend to serve more than it should if the backend doesn't enforce\nsimliar checks.\n\nThe solution in this change is simply passing all create requests to\nscheduler even for those resource has known 'host'.\n\nAlternative solution, which tries to add some scheduling logic into\nvolume manager is here: https://review.openstack.org/#/c/437677\nThe fact that this change almost duplicates scheduler code in a very\nunclean way makes it ugly, hard to maintain hence less preferrable.\n\nChange-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d\nCloses-bug: #1537166\n""}]",23,509011,08c2442a87f74a1159f9e82266aa202c793977e1,373,50,14,2759,,,0,"Check available capacity before creating resources

For some resources, due to their inheritance of the 'host' attribute
from the source where they are asked to create from, the 'CREATE'
request doesn't go through Cinder scheduler, thus missing the chance
to check if the storage backend still have capacity. Such resources
are snapshots, volume clones and potentially volume replication
clones. In some cases, current implementation is fine because those
new resource would end up being in 'error' state if backend is out
of capacity, but in the case where thin-provisioning is desired and
the backend has max over-subscription ratio set, this might cause
backend to serve more than it should if the backend doesn't enforce
simliar checks.

The solution in this change is simply passing all create requests to
scheduler even for those resource has known 'host'.

Alternative solution, which tries to add some scheduling logic into
volume manager is here: https://review.openstack.org/#/c/437677
The fact that this change almost duplicates scheduler code in a very
unclean way makes it ugly, hard to maintain hence less preferrable.

Change-Id: I3454255c8dae481c85f79896ce53fabdc2a50b4d
Closes-bug: #1537166
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/509011/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/rpcapi.py', 'cinder/scheduler/manager.py', 'cinder/volume/api.py']",3,0c9a9c28c171b34cd190ada55988d86cc63e99ed,bug/1537166," # make sure we have necessary info populated to RequestSpec kwargs = {} kwargs['size'] = volume.size kwargs['volume_type'] = volume.volume_type kwargs['volume_type_id'] = volume.volume_type_id kwargs['availability_zone'] = volume.availability_zone request_spec = objects.RequestSpec(**kwargs) host = volume.host cluster_name = volume.cluster_name svc = self._get_service_by_host_cluster(context, host, cluster_name) self.scheduler_rpcapi.create_snapshot(context, volume, svc, snapshot, request_spec) LOG.error('Unable to find service: %s is disabled.', resource) LOG.error('Unable to find service: %s is down.', resource)"," self.volume_rpcapi.create_snapshot(context, volume, snapshot) LOG.error('Unable to manage existing %s on a disabled ' 'service.', resource) LOG.error('Unable to manage existing %s on a service that is ' 'down.', resource)",67,6
openstack%2Fcinder~master~Ib9ebfa67020d99d83ebb33552677e9e2e334f9a7,openstack/cinder,master,Ib9ebfa67020d99d83ebb33552677e9e2e334f9a7,Test os-brick master in LIO gate job,MERGED,2017-11-14 16:52:22.000000000,2018-02-25 14:04:13.000000000,2017-11-21 14:16:03.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-14 16:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4936dc9260086a6313378abbe5bee88e322afe7c', 'message': 'Test os-brick master in LIO gate job\n\nPull os-brick from git instead of pip\n\nChange-Id: Ib9ebfa67020d99d83ebb33552677e9e2e334f9a7\n'}, {'number': 2, 'created': '2017-11-16 16:24:40.000000000', 'files': ['playbooks/legacy/cinder-tempest-dsvm-lvm-lio/run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e298e4367467d8397611933a883f41aba83a5c98', 'message': 'Test os-brick master in LIO gate job\n\nPull os-brick from git instead of pip\nwhen testing on master.  For stable branches,\nstill pull os-brick from pip.\n\nChange-Id: Ib9ebfa67020d99d83ebb33552677e9e2e334f9a7\n'}]",0,519699,e298e4367467d8397611933a883f41aba83a5c98,118,37,2,4523,,,0,"Test os-brick master in LIO gate job

Pull os-brick from git instead of pip
when testing on master.  For stable branches,
still pull os-brick from pip.

Change-Id: Ib9ebfa67020d99d83ebb33552677e9e2e334f9a7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/519699/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/cinder-tempest-dsvm-lvm-lio/run.yaml'],1,4936dc9260086a6313378abbe5bee88e322afe7c,519699, export DEVSTACK_PROJECT_FROM_GIT=os-brick,,1,0
openstack%2Fcinder~master~I0e83162641279ffe242d18dfd3062ce37b3a959b,openstack/cinder,master,I0e83162641279ffe242d18dfd3062ce37b3a959b,Storwize: revert to snapshot support,MERGED,2017-11-09 10:56:28.000000000,2018-02-25 14:04:11.000000000,2017-11-23 09:43:16.000000000,"[{'_account_id': 170}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12288}, {'_account_id': 13047}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18288}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-09 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/608c47a80f6b5caf1a389e312a30a7669f1c81ea', 'message': 'Storwize: revert to snapshot support\n\nAdding support for reverting volume to a snapshot\nin Storwize/SVC driver.\n\nChange-Id: I0e83162641279ffe242d18dfd3062ce37b3a959b\nImplements: blueprint storwize-revert-snapshot\n'}, {'number': 2, 'created': '2017-11-09 11:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ec2ce6bff6b764e7593f6e4d4dfa22f6ec36b10', 'message': 'Storwize: revert to snapshot support\n\nAdding support for reverting volume to a snapshot\nin Storwize/SVC driver.\n\nChange-Id: I0e83162641279ffe242d18dfd3062ce37b3a959b\nImplements: blueprint storwize-revert-snapshot\n'}, {'number': 3, 'created': '2017-11-15 10:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/127f649c09d733b04351fc31a777327b4ee446c0', 'message': 'Storwize: revert to snapshot support\n\nAdding support for reverting volume to a snapshot\nin Storwize/SVC driver.\n\nChange-Id: I0e83162641279ffe242d18dfd3062ce37b3a959b\nImplements: blueprint storwize-revert-snapshot\n'}, {'number': 4, 'created': '2017-11-16 10:22:30.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/storwize-revert-snapshot-681c76d68676558a.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f701d091bea170e595ed47469a60c4e148a2edcd', 'message': 'Storwize: revert to snapshot support\n\nAdding support for reverting volume to a snapshot\nin Storwize/SVC driver.\n\nChange-Id: I0e83162641279ffe242d18dfd3062ce37b3a959b\nImplements: blueprint storwize-revert-snapshot\n'}]",2,518707,f701d091bea170e595ed47469a60c4e148a2edcd,220,48,4,17045,,,0,"Storwize: revert to snapshot support

Adding support for reverting volume to a snapshot
in Storwize/SVC driver.

Change-Id: I0e83162641279ffe242d18dfd3062ce37b3a959b
Implements: blueprint storwize-revert-snapshot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/518707/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,608c47a80f6b5caf1a389e312a30a7669f1c81ea,bp/storwize-revert-snapshot," def prestartfcmap(self, fc_map_id, restore=False): ssh_cmd = ['svctask', 'prestartfcmap'] if restore: ssh_cmd.append('-restore') ssh_cmd.append(fc_map_id) def startfcmap(self, fc_map_id, restore=False): ssh_cmd = ['svctask', 'startfcmap'] if restore: ssh_cmd.append('-restore') ssh_cmd.append(fc_map_id) def _prepare_fc_map(self, fc_map_id, timeout, restore): self.ssh.prestartfcmap(fc_map_id, restore) self.ssh.prestartfcmap(fc_map_id, restore) msg = (_('Mapping %(id)s prepare failed to complete within the' full_copy=True, restore=False): self._prepare_fc_map(fc_map_id, timeout, restore) self.ssh.startfcmap(fc_map_id, restore) try: resp = self.ssh.lsfcmap(fc_map_id) if not len(resp): return None return resp[0] except exception.VolumeBackendAPIException as ex: LOG.warning(""Failed to get fcmap %(fcmap)s info. "" ""Exception: %(ex)s."", {'fcmap': fc_map_id, 'ex': ex}) else: continue @cinder_utils.trace def revert_to_snapshot(self, context, volume, snapshot): """"""Revert volume to snapshot."""""" if snapshot.volume_size != volume.size: raise exception.InvalidInput( reason=_('Reverting volume is not supported if the volume ' 'size is not equal to the snapshot size.')) rep_type = self._get_volume_replicated_type(context, volume) if rep_type: raise exception.InvalidInput( reason=_('Reverting replication volume is not supported.')) try: self._helpers.run_flashcopy( snapshot.name, volume.name, self.configuration.storwize_svc_flashcopy_timeout, self.configuration.storwize_svc_flashcopy_rate, True, True) except Exception as err: msg = (_(""Reverting volume %(vol)s to snapshot %(snap)s failed "" ""due to: %(err)s."") % {""vol"": volume.name, ""snap"": snapshot.name, ""err"": err}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) "," def prestartfcmap(self, fc_map_id): ssh_cmd = ['svctask', 'prestartfcmap', fc_map_id] def startfcmap(self, fc_map_id): ssh_cmd = ['svctask', 'startfcmap', fc_map_id] def _prepare_fc_map(self, fc_map_id, timeout): self.ssh.prestartfcmap(fc_map_id) self.ssh.prestartfcmap(fc_map_id) msg = (_('Mapping %(id)s prepare failed to complete within the ' full_copy=True): self._prepare_fc_map(fc_map_id, timeout) self.ssh.startfcmap(fc_map_id) resp = self.ssh.lsfcmap(fc_map_id) if not len(resp): return resp[0]",86,14
openstack%2Fcinder~master~Ia7ef04c777ccf6214fec53f500bfba4dde341c73,openstack/cinder,master,Ia7ef04c777ccf6214fec53f500bfba4dde341c73,Fix cinder-manage volume delete,MERGED,2017-11-15 18:00:15.000000000,2018-02-25 14:04:10.000000000,2017-11-16 21:10:17.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 18:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6eff973e39f69a51be22dfd511aa5490cecae0d', 'message': 'Fix cinder-manage volume delete\n\nThe cinder-manage volume delete cmd has been broken\nfor a while.  It looks like the code in manage was\nwritten against an original rpc version that is no\nlonger valid and never\nupdated.\n\nThis updates it to use the current rpc method.\n\nChange-Id: Ia7ef04c777ccf6214fec53f500bfba4dde341c73\nClose-Bug: #1732223\n'}, {'number': 2, 'created': '2017-11-15 19:14:44.000000000', 'files': ['cinder/cmd/manage.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e97442d61625218c26fcf7f924e09d5677fbd86', 'message': 'Fix cinder-manage volume delete\n\nThe cinder-manage volume delete cmd has been broken\nfor a while.  It looks like the code in manage was\nwritten against an original rpc version that is no\nlonger valid and never\nupdated.\n\nThis updates it to use the current rpc method.\n\nChange-Id: Ia7ef04c777ccf6214fec53f500bfba4dde341c73\nClose-Bug: #1732223\n'}]",0,520162,1e97442d61625218c26fcf7f924e09d5677fbd86,73,36,2,2243,,,0,"Fix cinder-manage volume delete

The cinder-manage volume delete cmd has been broken
for a while.  It looks like the code in manage was
written against an original rpc version that is no
longer valid and never
updated.

This updates it to use the current rpc method.

Change-Id: Ia7ef04c777ccf6214fec53f500bfba4dde341c73
Close-Bug: #1732223
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/520162/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,c6eff973e39f69a51be22dfd511aa5490cecae0d,bug/1732223,"from cinder.volume import rpcapi as volume_rpcapi rpc.init(CONF) rpcapi = volume_rpcapi.VolumeAPI() rpcapi.delete_volume(ctxt, volume)"," def _rpc_client(self): if self._client is None: if not rpc.initialized(): rpc.init(CONF) target = messaging.Target(topic=constants.VOLUME_TOPIC) serializer = objects.base.CinderObjectSerializer() self._client = rpc.get_client(target, serializer=serializer) return self._client cctxt = self._rpc_client().prepare(server=host) cctxt.cast(ctxt, ""delete_volume"", volume_id=volume.id, volume=volume)",4,12
openstack%2Fcinder~master~I377b4c11d04c84b00165aae00990c93c5d52e668,openstack/cinder,master,I377b4c11d04c84b00165aae00990c93c5d52e668,api-ref: fix 203 error response codes to be 403,MERGED,2017-11-15 15:26:46.000000000,2018-02-25 14:04:08.000000000,2017-11-21 03:26:54.000000000,"[{'_account_id': 6491}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 15:26:46.000000000', 'files': ['api-ref/source/v3/limits.inc', 'api-ref/source/v2/limits.inc', 'api-ref/source/v3/volumes-v3-versions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b1db32ec492a65ea710d7dd14c017c8ea111e74', 'message': ""api-ref: fix 203 error response codes to be 403\n\nI assume these were just typos, because 203 isn't an error response,\nand for these APIs about the only error response you can get, besides\n401 I guess, is a 403 for policy forbidding the user from making that\nrequest. So this changes the various 203 to 403 error codes in the\nAPI reference.\n\nChange-Id: I377b4c11d04c84b00165aae00990c93c5d52e668\n""}]",0,520106,0b1db32ec492a65ea710d7dd14c017c8ea111e74,62,35,1,6873,,,0,"api-ref: fix 203 error response codes to be 403

I assume these were just typos, because 203 isn't an error response,
and for these APIs about the only error response you can get, besides
401 I guess, is a 403 for policy forbidding the user from making that
request. So this changes the various 203 to 403 error codes in the
API reference.

Change-Id: I377b4c11d04c84b00165aae00990c93c5d52e668
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/520106/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/limits.inc', 'api-ref/source/v2/limits.inc', 'api-ref/source/v3/volumes-v3-versions.inc']",3,0b1db32ec492a65ea710d7dd14c017c8ea111e74,limits-api-ref-error-code,Error response codes: 403,Error response codes: 203,3,3
openstack%2Fcinder~master~I035961590a4e5301670cc2707ffedafa81d2a9a2,openstack/cinder,master,I035961590a4e5301670cc2707ffedafa81d2a9a2,[Trivial] set min max_over_subscription_ratio to 1,MERGED,2017-11-15 11:27:04.000000000,2018-02-25 14:04:05.000000000,2017-11-20 22:13:10.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 11:27:04.000000000', 'files': ['cinder/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6c9afc6dca78a47154ccfbafa5ee58f3d1a1ef7', 'message': ""[Trivial] set min max_over_subscription_ratio to 1\n\nThis change sets the 'max_over_subscription_ratio' config option\nminimum value to '1'.\n\nThe minimum value is already documented in the config option help\nfield but is not enforced.\n\nThis change allows simplifying code that performs config validation.\n\nChange-Id: I035961590a4e5301670cc2707ffedafa81d2a9a2\n""}]",0,520049,b6c9afc6dca78a47154ccfbafa5ee58f3d1a1ef7,96,36,1,8543,,,0,"[Trivial] set min max_over_subscription_ratio to 1

This change sets the 'max_over_subscription_ratio' config option
minimum value to '1'.

The minimum value is already documented in the config option help
field but is not enforced.

This change allows simplifying code that performs config validation.

Change-Id: I035961590a4e5301670cc2707ffedafa81d2a9a2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/520049/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/driver.py'],1,b6c9afc6dca78a47154ccfbafa5ee58f3d1a1ef7,," min=1,",,1,0
openstack%2Fcinder~master~I9051b30da01d81dfb966613decf225804b3b9c0e,openstack/cinder,master,I9051b30da01d81dfb966613decf225804b3b9c0e,Fix 'D005 No newline at end of file' Error,MERGED,2017-11-15 07:45:33.000000000,2018-02-25 14:03:30.000000000,2017-11-15 18:48:42.000000000,"[{'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 07:45:33.000000000', 'files': ['doc/source/sample_policy.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ace85a005d308aea10c0732870330bcee51793ee', 'message': ""Fix 'D005 No newline at end of file' Error\n\nThis commit fixes an error - 'D005 No newline at end of file' below.\n\n  cinder/doc/source/sample_policy.rst:17:\n               D005 No newline at end of file\n\nChange-Id: I9051b30da01d81dfb966613decf225804b3b9c0e\n""}]",0,520000,ace85a005d308aea10c0732870330bcee51793ee,29,25,1,5689,,,0,"Fix 'D005 No newline at end of file' Error

This commit fixes an error - 'D005 No newline at end of file' below.

  cinder/doc/source/sample_policy.rst:17:
               D005 No newline at end of file

Change-Id: I9051b30da01d81dfb966613decf225804b3b9c0e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/520000/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/sample_policy.rst'],1,ace85a005d308aea10c0732870330bcee51793ee,fix-d005,.. literalinclude:: _static/cinder.policy.yaml.sample ,.. literalinclude:: _static/cinder.policy.yaml.sample,2,1
openstack%2Fcinder~stable%2Fpike~I093da81fb9a0021e4fedff7eb48d3245957e787a,openstack/cinder,stable/pike,I093da81fb9a0021e4fedff7eb48d3245957e787a,HPE 3PAR: Handle single path in FC configuration,MERGED,2017-11-15 06:33:16.000000000,2018-02-25 14:03:28.000000000,2017-11-17 22:08:07.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21407}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 06:33:16.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/907fc3d7869a8dd049368b55b8c40f7c3da221ed', 'message': 'HPE 3PAR: Handle single path in FC configuration\n\nIssue :- With single path configuration, post\nvolume attach multiple vluns are created,\ninstead of one vlun.\n\nAdded check to create host with single initiator,\nwhich will use single target wwn to create a vlun\n\nChange-Id: I093da81fb9a0021e4fedff7eb48d3245957e787a\nCloses-Bug: #1727176\n(cherry picked from commit d265cc5a2d4edf5bdaecb34feb6d7c35a76ec526)\n'}]",0,519979,907fc3d7869a8dd049368b55b8c40f7c3da221ed,29,19,1,24952,,,0,"HPE 3PAR: Handle single path in FC configuration

Issue :- With single path configuration, post
volume attach multiple vluns are created,
instead of one vlun.

Added check to create host with single initiator,
which will use single target wwn to create a vlun

Change-Id: I093da81fb9a0021e4fedff7eb48d3245957e787a
Closes-Bug: #1727176
(cherry picked from commit d265cc5a2d4edf5bdaecb34feb6d7c35a76ec526)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/519979/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,907fc3d7869a8dd049368b55b8c40f7c3da221ed,bug/1727176," self.connector_multipath_enabled) def test_initialize_connection_single_path(self): # setup_mock_client drive with default configuration # and return the mock HTTP 3PAR client mock_client = self.setup_driver() mock_client.getVolume.return_value = {'userCPG': HPE3PAR_CPG} mock_client.getCPG.return_value = {} mock_client.getHost.side_effect = [ hpeexceptions.HTTPNotFound('fake'), {'name': self.FAKE_HOST, 'FCPaths': [{'driverVersion': None, 'firmwareVersion': None, 'hostSpeed': 0, 'model': None, 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'vendor': None, 'wwn': self.wwn[0]}]}] mock_client.queryHost.return_value = { 'members': [{ 'name': self.FAKE_HOST }] } mock_client.getHostVLUNs.side_effect = [ hpeexceptions.HTTPNotFound('fake'), [{'active': True, 'volumeName': self.VOLUME_3PAR_NAME, 'portPos': {'node': 7, 'slot': 1, 'cardPort': 1}, 'remoteName': self.wwn[0], 'lun': 90, 'type': 0}]] location = (""%(volume_name)s,%(lun_id)s,%(host)s,%(nsp)s"" % {'volume_name': self.VOLUME_3PAR_NAME, 'lun_id': 90, 'host': self.FAKE_HOST, 'nsp': 'something'}) mock_client.createVLUN.return_value = location expected_properties = { 'driver_volume_type': 'fibre_channel', 'data': { 'encrypted': False, 'target_lun': 90, 'target_wwn': ['0987654321234'], 'target_discovered': True, 'initiator_target_map': {'123456789012345': ['0987654321234']}}} with mock.patch.object(hpecommon.HPE3PARCommon, '_create_client') as mock_create_client: mock_create_client.return_value = mock_client result = self.driver.initialize_connection( self.volume, self.connector.copy()) expected = [ mock.call.getVolume(self.VOLUME_3PAR_NAME), mock.call.getCPG(HPE3PAR_CPG), mock.call.getHost(self.FAKE_HOST), mock.call.queryHost(wwns=['123456789012345']), mock.call.getHost(self.FAKE_HOST), mock.call.getPorts(), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.getPorts(), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=True, hostname=self.FAKE_HOST, lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST)] mock_client.assert_has_calls( self.standard_login + expected + self.standard_logout) self.assertDictEqual(expected_properties, result) self.connector_multipath_enabled) self.connector_multipath_enabled) self.connector_multipath_enabled) self.connector_multipath_enabled) self.connector_multipath_enabled) self.connector_multipath_enabled) self.connector_multipath_enabled) self.connector_multipath_enabled)", self.connector) self.connector) self.connector) self.connector) self.connector) self.connector) self.connector) self.connector) self.connector),95,10
openstack%2Fcinder~master~I0374ab9f2d37ecf8d8bce191c7535601266d432e,openstack/cinder,master,I0374ab9f2d37ecf8d8bce191c7535601266d432e,Fix earlier backup records can't be restored,MERGED,2017-10-27 03:28:56.000000000,2018-02-25 14:03:26.000000000,2017-11-17 06:06:23.000000000,"[{'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-27 03:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97a1f361e0b1dcffe4120fd562d60309b1d4b180', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 2, 'created': '2017-10-27 06:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa0458fe52f415851eb657120955534e44768a18', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 3, 'created': '2017-10-30 20:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/487f301c9e4377d2f3caaf1e725c68f1af99c877', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 4, 'created': '2017-10-31 09:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d174d16c24152be202ee631d51d00f031dbbd0d9', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 5, 'created': '2017-11-01 00:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac2e5da5476264d066e163a59cef7f7dc2bdd16f', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 6, 'created': '2017-11-02 10:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/570006202a661d4401243b32195c2dd63ae27c95', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 7, 'created': '2017-11-03 03:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b6e687b1bf1b779561bfd58775b853d8eb1563b', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 8, 'created': '2017-11-06 06:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8298cd59bc8feee389ac8135e751d3493014ebbc', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}, {'number': 9, 'created': '2017-11-14 23:13:45.000000000', 'files': ['cinder/tests/unit/backup/fake_service.py', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/manager.py', 'cinder/tests/unit/conf_fixture.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bae5759c872d4536ee29887eb6567f668e75eec', 'message': ""Fix earlier backup records can't be restored\n\nWe upgraded the backup service attribute from\nmodule name to class name. This results in\nthe failure of restoring earlier backups\nwith new code. This patch upgrades the older\nbackup records as well as adds compatibility\nin code.\n\nChange-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e\nCloses-Bug: #1727912\n""}]",2,515577,7bae5759c872d4536ee29887eb6567f668e75eec,339,49,9,23083,,,0,"Fix earlier backup records can't be restored

We upgraded the backup service attribute from
module name to class name. This results in
the failure of restoring earlier backups
with new code. This patch upgrades the older
backup records as well as adds compatibility
in code.

Change-Id: I0374ab9f2d37ecf8d8bce191c7535601266d432e
Closes-Bug: #1727912
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/515577/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py']",4,97a1f361e0b1dcffe4120fd562d60309b1d4b180,bug/1727912,"@require_admin_context def backup_service_online_migration(context, max_count): name_rules = {'cinder.backup.drivers.swift': 'cinder.backup.drivers.swift.SwiftBackupDriver', 'cinder.backup.drivers.ceph': 'cinder.backup.drivers.ceph.CephBackupDriver', 'cinder.backup.drivers.glusterfs': 'cinder.backup.drivers.glusterfs.GlusterfsBackupDriver', 'cinder.backup.drivers.google': 'cinder.backup.drivers.google.GoogleBackupDriver', 'cinder.backup.drivers.nfs': 'cinder.backup.drivers.nfs.NFSBackupDriver', 'cinder.backup.drivers.tsm': 'cinder.backup.drivers.tsm.TSMBackupDriver'} total = 0 session = get_session() with session.begin(): backups = (model_query( context, models.Backup, session=session).filter( models.Backup.service.in_(name_rules.keys())).limit(max_count)) backups = backups.all() total = len(backups) if total: for backup in backups: backup.service = name_rules[backup.service] return total, total ",,53,4
openstack%2Fcinder~master~I41484ced6269d0d4b7553e84c734ef22ab46fcd9,openstack/cinder,master,I41484ced6269d0d4b7553e84c734ef22ab46fcd9,NetApp cDot: Fix manage volumes,MERGED,2017-11-14 18:19:20.000000000,2018-02-25 14:03:25.000000000,2017-11-17 08:09:17.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-14 18:19:20.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters', 'releasenotes/notes/bug-1691771-fix-netapp-manage-volumes-62bec192a08b3ceb.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b874c5ddc154629a82814d26b64b7eb0c0fb5d6', 'message': 'NetApp cDot: Fix manage volumes\n\nWhen running NetApp cDot driver using nas_secure_files_operation=false,\nmanaging a volume will always fail if the files permissions are not set\nto 0777.\n\nThis patch changes the python call from shutil.move to _execute() which\nis run using elevated permissions.\n\nChange-Id: I41484ced6269d0d4b7553e84c734ef22ab46fcd9\nCloses-bug: #1691771\n'}]",0,519716,4b874c5ddc154629a82814d26b64b7eb0c0fb5d6,60,35,1,10058,,,0,"NetApp cDot: Fix manage volumes

When running NetApp cDot driver using nas_secure_files_operation=false,
managing a volume will always fail if the files permissions are not set
to 0777.

This patch changes the python call from shutil.move to _execute() which
is run using elevated permissions.

Change-Id: I41484ced6269d0d4b7553e84c734ef22ab46fcd9
Closes-bug: #1691771
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/519716/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/rootwrap.d/volume.filters', 'releasenotes/notes/bug-1691771-fix-netapp-manage-volumes-62bec192a08b3ceb.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py']",4,4b874c5ddc154629a82814d26b64b7eb0c0fb5d6,bug/1691771, self.driver._check_volume_type = mock.Mock() self.driver._execute = mock.Mock( side_effect=processutils.ProcessExecutionError),"import shutil shutil.move = mock.Mock() mock_check_volume_type = self.driver._check_volume_type = mock.Mock() self.driver._execute = mock.Mock(side_effect=OSError) mock_check_volume_type.assert_called_once_with( volume, self.fake_nfs_export_1, test_file, {}) ",13,10
openstack%2Fcinder~master~I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32,openstack/cinder,master,I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32,"Correct gb,snapshot quota update in group snapshot",MERGED,2017-11-03 20:51:43.000000000,2018-02-25 14:03:23.000000000,2017-11-15 21:18:51.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12802}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 14806}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24131}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-03 20:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a109faf68daf9e75da4b96910139f62c118e5835', 'message': 'Correct gb,snapshot quota update in group snapshot\n\nCurrently we are incrementing gigabytes quota twice, once while\ncreating snapshot & then while creating individual volumes & this\nis fixed in this change. Also, snapshot quota updation was put in\na loop of volumes because of which it gets incremented to number\nof volume times.\n\nChange-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32\nCloses-Bug: 1728834\n'}, {'number': 2, 'created': '2017-11-06 08:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7a11db2ef207cde132744a29f0fa23b486df160', 'message': 'Correct gb,snapshot quota update in group snapshot\n\nCurrently we are incrementing gigabytes quota twice, once while\ncreating snapshot & then while creating individual volumes & this\nis fixed in this change. Also, snapshot quota updation was put in\na loop of volumes because of which it gets incremented to number\nof volume times.\n\nChange-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32\nCloses-Bug: 1728834\n'}, {'number': 3, 'created': '2017-11-06 10:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7411a1481f4d3145a636bbdd0efb7caa5b4bb4bb', 'message': 'Correct gb,snapshot quota update in group snapshot\n\nCurrently we are incrementing gigabytes quota twice, once while\ncreating snapshot & then while creating individual volumes & this\nis fixed in this change. Also, snapshot quota updation was put in\na loop of volumes because of which it gets incremented to number\nof volume times.\n\nChange-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32\nCloses-Bug: 1728834\n'}, {'number': 4, 'created': '2017-11-14 11:34:34.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/flows/test_manage_volume_flow.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/utils.py', 'cinder/volume/flows/manager/manage_existing.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3669fa67cf08f1075be1dd7641ab3af951c138c', 'message': 'Correct gb,snapshot quota update in group snapshot\n\nCurrently we are incrementing gigabytes quota twice, once while\ncreating snapshot & then while creating individual volumes & this\nis fixed in this change. Also, snapshot quota updation was put in\na loop of volumes because of which it gets incremented to number\nof volume times.\n\nChange-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32\nCloses-Bug: 1728834\n'}]",1,517725,b3669fa67cf08f1075be1dd7641ab3af951c138c,135,45,4,24131,,,0,"Correct gb,snapshot quota update in group snapshot

Currently we are incrementing gigabytes quota twice, once while
creating snapshot & then while creating individual volumes & this
is fixed in this change. Also, snapshot quota updation was put in
a loop of volumes because of which it gets incremented to number
of volume times.

Change-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32
Closes-Bug: 1728834
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/517725/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/api/create_volume.py', 'cinder/volume/api.py']",2,a109faf68daf9e75da4b96910139f62c118e5835,bug/1728834, reserve_opts_list.append({'snapshots': 1}) for volume in volume_list: if not CONF.no_snapshot_gb_quota: reserve_opts = {'gigabytes': volume['size']}," for volume in volume_list: if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': 1} else: reserve_opts = {'snapshots': 1, 'gigabytes': volume['size']}",10,8
openstack%2Fcinder~master~Ie4b25627d962aa7daa684de0d22c6bd212b83e46,openstack/cinder,master,Ie4b25627d962aa7daa684de0d22c6bd212b83e46,Remove v1 API reference,MERGED,2017-11-13 21:27:16.000000000,2018-02-25 14:03:20.000000000,2017-12-07 11:00:30.000000000,"[{'_account_id': 5689}, {'_account_id': 5997}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-13 21:27:16.000000000', 'files': ['api-ref/source/v1/samples/quotas-show-response.json', 'api-ref/source/v1/samples/volume-create-request.json', 'api-ref/source/v1/volumes-v1-types.inc', 'api-ref/source/v1/samples/quotas-defaults-show-response.json', 'api-ref/source/v1/samples/snapshot-metadata-show-response.json', 'api-ref/source/v1/samples/user-quotas-show-response.json', 'api-ref/source/v1/samples/user-quotas-update-request.json', 'api-ref/source/v1/samples/user-quotas-show-detail-response.json', 'api-ref/source/v1/samples/version-show-response.json', 'api-ref/source/v1/samples/snapshot-create-request.json', 'api-ref/source/v1/samples/user-quotas-delete-response.json', 'api-ref/source/v1/samples/quotas-update-request.json', 'api-ref/source/v1/samples/snapshot-metadata-update-response.json', 'api-ref/source/v1/volumes-v1-volumes.inc', 'api-ref/source/v1/volumes-v1-versions.inc', 'api-ref/source/v1/samples/snapshot-metadata-update-request.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/samples/volume-types-list-response.json', 'api-ref/source/index.rst', 'api-ref/source/v1/os-quota-sets-v1.inc', 'api-ref/source/v1/samples/snapshot-show-response.json', 'api-ref/source/v1/samples/versions-list-response.json', 'api-ref/source/v1/samples/user-quotas-update-response.json', 'api-ref/source/v1/samples/volume-show-response.json', 'api-ref/source/v1/samples/volumes-list-response.json', 'api-ref/source/v1/samples/quotas-update-response.json', 'api-ref/source/v1/index.rst', 'api-ref/source/v1/samples/volume-type-create-request.json', 'api-ref/source/v1/samples/snapshots-list-response.json', 'api-ref/source/v1/volumes-v1-snapshots.inc', 'api-ref/source/v1/samples/volume-type-show-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4c44658685656a4eb38f322760876c267ab62d7', 'message': ""Remove v1 API reference\n\nCommit 3e91de956e1947a7014709010b99df380242ac74 removed the\nv1 API code that these documents were built from, so they\nno longer work. The references to the docs from the main\nindex just redirect back to the main index, so they can't be\nused since the code is gone. Anyone that wants to build the\nv1 API reference has to build it locally from before commit\n3e91de956e1947a7014709010b99df380242ac74, but even then the\nv1 API reference was sorely lacking details on the majority\nof the API extensions anyway.\n\nChange-Id: Ie4b25627d962aa7daa684de0d22c6bd212b83e46\n""}]",0,519474,f4c44658685656a4eb38f322760876c267ab62d7,28,24,1,6873,,,0,"Remove v1 API reference

Commit 3e91de956e1947a7014709010b99df380242ac74 removed the
v1 API code that these documents were built from, so they
no longer work. The references to the docs from the main
index just redirect back to the main index, so they can't be
used since the code is gone. Anyone that wants to build the
v1 API reference has to build it locally from before commit
3e91de956e1947a7014709010b99df380242ac74, but even then the
v1 API reference was sorely lacking details on the majority
of the API extensions anyway.

Change-Id: Ie4b25627d962aa7daa684de0d22c6bd212b83e46
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/519474/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/samples/quotas-show-response.json', 'api-ref/source/v1/samples/volume-create-request.json', 'api-ref/source/v1/volumes-v1-types.inc', 'api-ref/source/v1/samples/quotas-defaults-show-response.json', 'api-ref/source/v1/samples/snapshot-metadata-show-response.json', 'api-ref/source/v1/samples/user-quotas-show-response.json', 'api-ref/source/v1/samples/user-quotas-update-request.json', 'api-ref/source/v1/samples/user-quotas-show-detail-response.json', 'api-ref/source/v1/samples/version-show-response.json', 'api-ref/source/v1/samples/snapshot-create-request.json', 'api-ref/source/v1/samples/user-quotas-delete-response.json', 'api-ref/source/v1/samples/quotas-update-request.json', 'api-ref/source/v1/samples/snapshot-metadata-update-response.json', 'api-ref/source/v1/volumes-v1-volumes.inc', 'api-ref/source/v1/volumes-v1-versions.inc', 'api-ref/source/v1/samples/snapshot-metadata-update-request.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/samples/volume-types-list-response.json', 'api-ref/source/index.rst', 'api-ref/source/v1/os-quota-sets-v1.inc', 'api-ref/source/v1/samples/snapshot-show-response.json', 'api-ref/source/v1/samples/versions-list-response.json', 'api-ref/source/v1/samples/user-quotas-update-response.json', 'api-ref/source/v1/samples/volume-show-response.json', 'api-ref/source/v1/samples/volumes-list-response.json', 'api-ref/source/v1/samples/quotas-update-response.json', 'api-ref/source/v1/index.rst', 'api-ref/source/v1/samples/volume-type-create-request.json', 'api-ref/source/v1/samples/snapshots-list-response.json', 'api-ref/source/v1/volumes-v1-snapshots.inc', 'api-ref/source/v1/samples/volume-type-show-response.json']",31,f4c44658685656a4eb38f322760876c267ab62d7,remove_v1,,"{ ""volume_type"": { ""id"": ""289da7f8-6440-407c-9fb4-7db01ec49164"", ""name"": ""vol-type-001"", ""extra_specs"": { ""capabilities"": ""gpu"" } } } ",0,2122
openstack%2Fcinder~master~If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0,openstack/cinder,master,If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0,Prevent leaking encryption key when deleting volume,MERGED,2017-11-13 17:05:42.000000000,2018-02-25 14:03:09.000000000,2017-11-18 01:59:27.000000000,"[{'_account_id': 170}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-13 17:05:42.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9044986746cebcb9940e8ab9950dd04f9c9ae28d', 'message': 'Prevent leaking encryption key when deleting volume\n\nFail requests to delete an encrypted volume when the associated\nencryption key cannot be deleted. This avoids leaking an encryption\nkey when the volume is deleted but the key cannot be deleted.\n\nThis patch addresses situations where Barbican is the key manager,\nand Barbican\'s security policy does not allow the user to delete\nthe key. Barbican has stricter rules on deleting secrets than Cinder\ndoes on deleting volumes. For example, given two non-admin users X\nand Y, Cinder allows user X to delete user Y\'s volume, but Barbican\ndoes not allow user X to delete user Y\'s secrets.\n\nIf the encryption key cannot be deleted then the volume\'s status is\nset to ""error_deleting"". To delete the volume, the volume\'s status\ncan be reset, and a user with suitable privileges (i.e. an admin or\nthe volume\'s owner) can reissue the delete request.\n\nCloses-Bug: #1731528\nChange-Id: If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0\n'}]",0,519432,9044986746cebcb9940e8ab9950dd04f9c9ae28d,42,32,1,21129,,,0,"Prevent leaking encryption key when deleting volume

Fail requests to delete an encrypted volume when the associated
encryption key cannot be deleted. This avoids leaking an encryption
key when the volume is deleted but the key cannot be deleted.

This patch addresses situations where Barbican is the key manager,
and Barbican's security policy does not allow the user to delete
the key. Barbican has stricter rules on deleting secrets than Cinder
does on deleting volumes. For example, given two non-admin users X
and Y, Cinder allows user X to delete user Y's volume, but Barbican
does not allow user X to delete user Y's secrets.

If the encryption key cannot be deleted then the volume's status is
set to ""error_deleting"". To delete the volume, the volume's status
can be reset, and a user with suitable privileges (i.e. an admin or
the volume's owner) can reissue the delete request.

Closes-Bug: #1731528
Change-Id: If0462c18345a4bfbfbcecb6b8caa33d38b86d7f0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/519432/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py']",2,9044986746cebcb9940e8ab9950dd04f9c9ae28d,bug/1731528," except Exception as e: volume.update({'status': 'error_deleting'}) volume.save() if hasattr(e, 'msg'): msg = _(""Unable to delete encryption key for "" ""volume: %s"") % (e.msg) else: msg = _(""Unable to delete encryption key for volume."") LOG.error(msg) raise exception.InvalidVolume(reason=msg)"," except exception.CinderException as e: LOG.warning(""Unable to delete encryption key for "" ""volume: %s."", e.msg, resource=volume) except Exception: LOG.exception(""Unable to delete encryption key for "" ""volume."")",46,6
openstack%2Fcinder~master~Ieb2c08b27d073607c6c3c9bc4d4174f760121509,openstack/cinder,master,Ieb2c08b27d073607c6c3c9bc4d4174f760121509,Re-add QNAP Cinder volume driver,MERGED,2017-11-13 03:28:58.000000000,2018-02-25 14:02:11.000000000,2017-11-25 16:26:15.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26134}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-13 03:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4862bbad045b9358cd4862368767d48defa94fbf', 'message': 'Re-add QNAP Cinder volume driver\n\nThe QNAP driver was marked deprecated and was removed due to not\nmeet CI requiements. Now QNAP driver can meet the CI requirements.\nTo support enhanced features of QNAP driver, the driver should\nbe add back first.\n\nChange-Id: Ieb2c08b27d073607c6c3c9bc4d4174f760121509\nImplements: blueprint readd-qnap-driver\n'}, {'number': 2, 'created': '2017-11-13 10:36:32.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'releasenotes/notes/readd-qnap-driver-e1dc6b0c3fabe30e.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/14dea86f5dbdfded0b23afa6ac454f9914ac0a77', 'message': 'Re-add QNAP Cinder volume driver\n\nThe QNAP driver was marked deprecated and was removed due to not\nmeet CI requiements. Now QNAP driver can meet the CI requirements.\nTo support enhanced features of QNAP driver, the driver should\nbe add back first.\n\nChange-Id: Ieb2c08b27d073607c6c3c9bc4d4174f760121509\nImplements: blueprint readd-qnap-driver\n'}]",3,519218,14dea86f5dbdfded0b23afa6ac454f9914ac0a77,88,39,2,26134,,,0,"Re-add QNAP Cinder volume driver

The QNAP driver was marked deprecated and was removed due to not
meet CI requiements. Now QNAP driver can meet the CI requirements.
To support enhanced features of QNAP driver, the driver should
be add back first.

Change-Id: Ieb2c08b27d073607c6c3c9bc4d4174f760121509
Implements: blueprint readd-qnap-driver
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/519218/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'releasenotes/notes/readd-qnap-driver-e1dc6b0c3fabe30e.yaml']",4,4862bbad045b9358cd4862368767d48defa94fbf,bp/readd-qnap-driver,--- features: - | Re-add QNAP Cinder volume driver. ,,8096,0
openstack%2Fcinder~master~I2127550ce5ba8c90436ee50b227d10d8a8b4103f,openstack/cinder,master,I2127550ce5ba8c90436ee50b227d10d8a8b4103f,Tests: Rework volume deletion w/ invalid status test,MERGED,2017-11-10 21:25:50.000000000,2018-02-25 14:02:09.000000000,2017-11-18 01:43:44.000000000,"[{'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-10 21:25:50.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb6600065aceb5a9f6abd172954a983a0452bedd', 'message': 'Tests: Rework volume deletion w/ invalid status test\n\nThis test is testing a different error path than the\nname of the test implies.\n\nRename it and remove a mock that was not triggered.\n\nChange-Id: I2127550ce5ba8c90436ee50b227d10d8a8b4103f\n'}]",0,518981,fb6600065aceb5a9f6abd172954a983a0452bedd,41,28,1,4523,,,0,"Tests: Rework volume deletion w/ invalid status test

This test is testing a different error path than the
name of the test implies.

Rename it and remove a mock that was not triggered.

Change-Id: I2127550ce5ba8c90436ee50b227d10d8a8b4103f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/518981/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,fb6600065aceb5a9f6abd172954a983a0452bedd,," def test_delete_invalid_status_fails(self): self.volume_params['status'] = 'invalid1234' self.assertRaises(exception.InvalidVolume, vol_api.delete, self.context, volume)"," def test_delete_encrypted_volume(self): self.volume_params['status'] = 'active' with mock.patch.object( vol_api.key_manager, 'delete', side_effect=Exception): self.assertRaises(exception.InvalidVolume, vol_api.delete, self.context, volume)",6,9
openstack%2Fcinder~master~Idae54a17567b558352031ecc573d83ab8b8f04b9,openstack/cinder,master,Idae54a17567b558352031ecc573d83ab8b8f04b9,Use oslo_db.sqlalchemy.enginefacade,MERGED,2017-10-10 10:25:01.000000000,2018-02-25 14:02:06.000000000,2017-11-14 06:15:34.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20191}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-10 10:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb4b515eeaad6e2c166f96f4b0761228e438ca62', 'message': ""Use oslo_db.sqlalchemy.enginefacade\n\nEngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade\nand update 'get_session' method To keep backward compatibility.\n\nChange-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9\n""}, {'number': 2, 'created': '2017-10-10 12:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c3761d5bf1d8be6d156933a68a4561b4ad8ab60', 'message': ""Use oslo_db.sqlalchemy.enginefacade\n\nEngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade\nand update 'get_session' method To keep backward compatibility.\n\nChange-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9\n""}, {'number': 3, 'created': '2017-11-03 19:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34c34e9f8369d1fc87705c6ca55446a7eb144947', 'message': ""Use oslo_db.sqlalchemy.enginefacade\n\nEngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade\nand update 'get_session' method to keep backward compatibility.\n\nChange-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9\n""}, {'number': 4, 'created': '2017-11-06 08:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78ad9e11be0e39d3fb9ef4b583effc65e160a5fe', 'message': ""Use oslo_db.sqlalchemy.enginefacade\n\nEngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade\nand update 'get_session' method to keep backward compatibility.\n\nBlueprint: use-oslodb-enginefacade\nChange-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9\n""}, {'number': 5, 'created': '2017-11-06 13:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0cb5d9d7f12e6f443c72562ba153426154667be', 'message': ""Use oslo_db.sqlalchemy.enginefacade\n\nEngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade\nand update 'get_session' method to keep backward compatibility.\n\nBlueprint: use-oslodb-enginefacade\nChange-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9\n""}, {'number': 6, 'created': '2017-11-09 07:09:39.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/test.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/context.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d61c33bdcaaceaa9403d0b9a0342c375be9f923', 'message': ""Use oslo_db.sqlalchemy.enginefacade\n\nEngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade\nand update 'get_session' method to keep backward compatibility.\n\nBlueprint: use-oslodb-enginefacade\nChange-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9\n""}]",7,510829,9d61c33bdcaaceaa9403d0b9a0342c375be9f923,169,43,6,22752,,,0,"Use oslo_db.sqlalchemy.enginefacade

EngineFacade is deprecated, so use oslo_db.sqlalchemy.enginefacade
and update 'get_session' method to keep backward compatibility.

Blueprint: use-oslodb-enginefacade
Change-Id: Idae54a17567b558352031ecc573d83ab8b8f04b9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/510829/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/tests/unit/test_db_api.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/context.py', 'cinder/db/sqlalchemy/api.py']",5,cb4b515eeaad6e2c166f96f4b0761228e438ca62,bp/use-oslodb-enginefacade,"from oslo_db.sqlalchemy import enginefacademain_context_manager = enginefacade.transaction_context() # NOTE(geguileo): To avoid a cyclical dependency we import the # group here. Dependency cycle is objects.base requires db.api, # which requires db.sqlalchemy.api, which requires service which # requires objects.base CONF.import_group(""profiler"", ""cinder.service"") if CONF.profiler.enabled: if CONF.profiler.trace_sqlalchemy: lambda eng: osprofiler_sqlalchemy.add_tracing(sqlalchemy, eng, ""db"") def configure(conf): main_context_manager.configure(**dict(conf.database)) def get_engine(use_slave=False): return main_context_manager._factory.get_legacy_facade().get_engine( use_slave=use_slave) def get_session(use_slave=False, **kwargs): return main_context_manager._factory.get_legacy_facade().get_session( use_slave=use_slave, **kwargs) if hasattr(context, ""session""): session = context.session ","import threadingfrom oslo_db.sqlalchemy import session as db_session_LOCK = threading.Lock() _FACADE = None global _LOCK with _LOCK: global _FACADE if _FACADE is None: _FACADE = db_session.EngineFacade( CONF.database.connection, **dict(CONF.database) ) # NOTE(geguileo): To avoid a cyclical dependency we import the # group here. Dependency cycle is objects.base requires db.api, # which requires db.sqlalchemy.api, which requires service which # requires objects.base CONF.import_group(""profiler"", ""cinder.service"") if CONF.profiler.enabled: if CONF.profiler.trace_sqlalchemy: osprofiler_sqlalchemy.add_tracing(sqlalchemy, _FACADE.get_engine(), ""db"") return _FACADE def get_engine(): facade = _create_facade_lazily() return facade.get_engine() def get_session(**kwargs): facade = _create_facade_lazily() return facade.get_session(**kwargs)",84,40
openstack%2Fcinder~master~I4a88d07b41f0a16c638de47945e074adbcf8dd5d,openstack/cinder,master,I4a88d07b41f0a16c638de47945e074adbcf8dd5d,Updated from global requirements,MERGED,2017-11-03 00:42:50.000000000,2018-02-25 14:02:02.000000000,2017-11-08 17:06:06.000000000,"[{'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-03 00:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09bd5a8bd7b669d5c44f03971e3c929e0b397a2c', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 2, 'created': '2017-11-03 00:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3e882356c12f9b1dd12e77e45427c6078654cfb', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 3, 'created': '2017-11-03 13:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66dbfbc4acf820285d2f9dc0da10d7b69407e82b', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 4, 'created': '2017-11-03 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e28fb5fabd9f1af1210c91fd51167ebfe3e35a0f', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 5, 'created': '2017-11-03 17:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1ed2f706395df00f7cd3412b37fb0e8679231a9', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 6, 'created': '2017-11-06 01:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce196224b7fcf9ad6f64aa2a85d77bd0d805d934', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 7, 'created': '2017-11-07 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/893111532ecbbcb83a10d11f08a91e9d0595f712', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 8, 'created': '2017-11-08 13:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4628bd65cd8775317f7edbca0c075bf326ee177b', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}, {'number': 9, 'created': '2017-11-08 15:10:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0088d39e6ec0af9cfa714d10d06698b1b76deed3', 'message': 'Updated from global requirements\n\nChange-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d\n'}]",0,517465,0088d39e6ec0af9cfa714d10d06698b1b76deed3,203,41,9,11131,,,0,"Updated from global requirements

Change-Id: I4a88d07b41f0a16c638de47945e074adbcf8dd5d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/517465/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,09bd5a8bd7b669d5c44f03971e3c929e0b397a2c,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Fcinder~master~Ib7e45915898347549c12bc8276df556b272bb259,openstack/cinder,master,Ib7e45915898347549c12bc8276df556b272bb259,Change default test log level,MERGED,2017-11-08 05:44:45.000000000,2018-02-25 14:02:00.000000000,2017-11-15 18:52:08.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25747}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-08 05:44:45.000000000', 'files': ['cinder/tests/fixtures.py', 'cinder/tests/unit/test_fixtures.py', 'cinder/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab78a407f28837da2c674f750e91b2ae3def82c9', 'message': 'Change default test log level\n\nDespite comments stating otherwise, we set our root logging level\nto DEBUG. This causes some unwanted things to be logged to the\nconsole and large test artifacts.\n\nThere is also some suspicion that this is causing test failures\nwith some kind of timing change with stestr causing subunit\nparsing failures.\n\nThis changes the default level to be higher and fixes a few test\ncases that had expected the previous default.\n\nChange-Id: Ib7e45915898347549c12bc8276df556b272bb259\nCloses-bug: #1728640\n'}]",0,518452,ab78a407f28837da2c674f750e91b2ae3def82c9,74,38,1,11904,,,0,"Change default test log level

Despite comments stating otherwise, we set our root logging level
to DEBUG. This causes some unwanted things to be logged to the
console and large test artifacts.

There is also some suspicion that this is causing test failures
with some kind of timing change with stestr causing subunit
parsing failures.

This changes the default level to be higher and fixes a few test
cases that had expected the previous default.

Change-Id: Ib7e45915898347549c12bc8276df556b272bb259
Closes-bug: #1728640
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/518452/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/fixtures.py', 'cinder/tests/unit/test_fixtures.py', 'cinder/tests/unit/test_utils.py']",3,ab78a407f28837da2c674f750e91b2ae3def82c9,bug/1728640," self.assertSetEqual({'INFO'}, set(levels.values())) utils.set_log_levels(prefix, 'debug') levels = utils.get_log_levels(prefix)"," self.assertSetEqual({'DEBUG'}, set(levels.values())) utils.set_log_levels(prefix, 'debug') levels = utils.get_log_levels(prefix) self.assertEqual('DEBUG', levels[prefix]) ",8,8
openstack%2Fcinder~master~Ic118cfc943008e869893a229c5267d045a21b570,openstack/cinder,master,Ic118cfc943008e869893a229c5267d045a21b570,Switch kaminario to use standard trace decorator,MERGED,2017-11-07 22:45:27.000000000,2018-02-25 14:01:52.000000000,2017-11-13 05:45:40.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 16834}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 22:45:27.000000000', 'files': ['cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2127e5509390afcf48d54d1bf93171b62f1437b9', 'message': 'Switch kaminario to use standard trace decorator\n\nWe have a standard debug tracing decorator in utils. We missed that\nKaminario added their own version of the same thing. This removes that\ncustom trace decorator in favor of our more standardized decorator.\n\nChange-Id: Ic118cfc943008e869893a229c5267d045a21b570\n'}]",0,518410,2127e5509390afcf48d54d1bf93171b62f1437b9,29,22,1,11904,,,0,"Switch kaminario to use standard trace decorator

We have a standard debug tracing decorator in utils. We missed that
Kaminario added their own version of the same thing. This removes that
custom trace decorator in favor of our more standardized decorator.

Change-Id: Ic118cfc943008e869893a229c5267d045a21b570
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/518410/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",3,2127e5509390afcf48d54d1bf93171b62f1437b9,kaminario_trace,from cinder import utils @utils.trace @utils.trace @utils.trace @utils.trace,kaminario_logger = common.kaminario_logger @kaminario_logger @kaminario_logger @kaminario_logger @kaminario_logger,36,57
openstack%2Fcinder~driverfixes%2Focata~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,driverfixes/ocata,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2017-11-07 15:35:32.000000000,2018-02-25 14:01:39.000000000,2017-11-21 12:26:57.000000000,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}]","[{'number': 1, 'created': '2017-11-07 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa1d04bc865e8316b2b7fa20b790049aadeee299', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)\n'}, {'number': 2, 'created': '2017-11-07 20:04:53.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2aab3d51d4a64fe3604486eb32abea6af2f05ce7', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)\n'}]",1,518358,2aab3d51d4a64fe3604486eb32abea6af2f05ce7,26,14,2,10379,,,0,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/518358/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",3,fa1d04bc865e8316b2b7fa20b790049aadeee299,bug/1726591," self.fake_access_id = '1' def test_get_access_record(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = self.access_record_output data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertEqual(self.fake_access_id, data) def test_get_access_record_negative(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = [] data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertIsNone(data) ",,45,10
openstack%2Fcinder~stable%2Fpike~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,stable/pike,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2017-11-07 15:34:21.000000000,2018-02-25 14:01:38.000000000,2017-11-20 09:17:15.000000000,"[{'_account_id': 170}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 15:34:21.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1efed3a4345a3a6d51172fad726aa48a972008e8', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)\n'}]",0,518357,1efed3a4345a3a6d51172fad726aa48a972008e8,31,20,1,10379,,,0,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/518357/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",3,1efed3a4345a3a6d51172fad726aa48a972008e8,bug/1726591," self.fake_access_id = '1' def test_get_access_record(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = self.access_record_output data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertEqual(self.fake_access_id, data) def test_get_access_record_negative(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = [] data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertIsNone(data) ",,45,10
openstack%2Fcinder~driverfixes%2Fnewton~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,driverfixes/newton,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2017-11-07 11:54:42.000000000,2018-02-25 14:01:36.000000000,2017-11-13 10:10:47.000000000,"[{'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}]","[{'number': 1, 'created': '2017-11-07 11:54:42.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec7005ff9162bd64504cb5b50541a26893e60312', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)\n(cherry picked from commit 0f20809828e5d56b4b22861d49dde485abf2c1dc)\n'}]",0,518310,ec7005ff9162bd64504cb5b50541a26893e60312,16,10,1,9535,,,0,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)
(cherry picked from commit 0f20809828e5d56b4b22861d49dde485abf2c1dc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/518310/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,ec7005ff9162bd64504cb5b50541a26893e60312,bug/1692775," self.assertGreater(len(fake_data), len(result[1]))"," self.assertGreater(len(fake_data), len(result))",3,3
openstack%2Fcinder~master~Ibe02ca83a674c038ccec28cb104cc2af896426f9,openstack/cinder,master,Ibe02ca83a674c038ccec28cb104cc2af896426f9,Fix VolumeAttachment OVO Volume lazy loading,MERGED,2017-11-07 10:33:16.000000000,2018-02-25 14:01:29.000000000,2017-11-21 14:15:54.000000000,"[{'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-07 10:33:16.000000000', 'files': ['cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7993e49fdaf089a8c0f613f02105f84cf5ff582f', 'message': 'Fix VolumeAttachment OVO Volume lazy loading\n\nCurrent code for VolumeAttachment OVO cannot lazy load the volume OVO\ncorrectly and will always return a VolumeNotFound exception.\n\nThe reason for not being able to find the volume is that we are using\nthe VolumeAttachment id to search for the volume instead of the volume\'s\nid.\n\nThis patch fixes this by using field ""volume_id"" instead of field ""id""\nwhen calling Volume\'s get_by_id method.\n\nTrivialFix\n\nChange-Id: Ibe02ca83a674c038ccec28cb104cc2af896426f9\n'}]",0,518291,7993e49fdaf089a8c0f613f02105f84cf5ff582f,121,43,1,9535,,,0,"Fix VolumeAttachment OVO Volume lazy loading

Current code for VolumeAttachment OVO cannot lazy load the volume OVO
correctly and will always return a VolumeNotFound exception.

The reason for not being able to find the volume is that we are using
the VolumeAttachment id to search for the volume instead of the volume's
id.

This patch fixes this by using field ""volume_id"" instead of field ""id""
when calling Volume's get_by_id method.

TrivialFix

Change-Id: Ibe02ca83a674c038ccec28cb104cc2af896426f9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/518291/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",2,7993e49fdaf089a8c0f613f02105f84cf5ff582f,fix/attach-ovo-getbyid," @mock.patch.object(objects.Volume, 'get_by_id') def test_lazy_load_volume(self, volume_get_mock): volume = objects.Volume(self.context, id=fake.VOLUME_ID) volume_get_mock.return_value = volume attach = objects.VolumeAttachment(self.context, id=fake.ATTACHMENT_ID, volume_id=volume.id) r = attach.volume self.assertEqual(volume, r) volume_get_mock.assert_called_once_with(self.context, volume.id) ",,12,1
openstack%2Fcinder~master~I87926d6c95ac82b6f74c263c7441614f80348c1e,openstack/cinder,master,I87926d6c95ac82b6f74c263c7441614f80348c1e,Remove deprecated keymgr code,MERGED,2017-05-26 01:59:35.000000000,2018-02-25 14:00:32.000000000,2017-11-10 04:14:20.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 8623}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 10873}, {'_account_id': 11224}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13861}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16312}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19554}, {'_account_id': 19852}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 21797}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25747}, {'_account_id': 26077}, {'_account_id': 26240}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-05-26 01:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f112b1da414361afe156ed5e8734570ae396a24', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 2, 'created': '2017-06-02 21:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb32e7e8c1b29da96a919f4a3170f8e6cc95925a', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 3, 'created': '2017-06-02 21:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95bc7693de563320220e7efc242c843c607e7390', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 4, 'created': '2017-06-20 15:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82e4866b767daced0614c67028220cbfdbeab711', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 5, 'created': '2017-06-20 18:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57a315e01215d48cddafa246dce3a6b993b471a5', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 6, 'created': '2017-06-26 21:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/423c0760b10dc33cdaf2bac8012525feab6ef8f4', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 7, 'created': '2017-07-03 13:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2d460b163980029edf91784fd15d9d28bb60023', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 8, 'created': '2017-07-12 14:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3ecd5a0665eb53a61c93181f4da68641d168e79', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 9, 'created': '2017-07-26 17:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e8c3241b40ab63fe0aa17124985023f5532300d', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 10, 'created': '2017-07-28 18:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5893a9cd16906394b053ce3adaffedd45d2dd10', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 11, 'created': '2017-09-21 22:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f30f3307e0cf96dac21201ed1cb45b994dddcd8', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 12, 'created': '2017-09-21 23:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bac19ec35ce1b8469fa17596e9a5e0e5b78e3ec2', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 13, 'created': '2017-09-25 06:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95022f1d7b31e5dc7430198e20bb2f2908d84cb6', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 14, 'created': '2017-09-26 15:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e517759b8c7ea833da90ff4dcaca3db7481b53f', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 15, 'created': '2017-09-26 18:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99b8d5ee5c994a7a60fd7678c160995e5ed9bb0c', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 16, 'created': '2017-09-27 14:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f92e3d258ba4042cfdf19973f60682b1aaa4141f', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 17, 'created': '2017-09-27 17:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d5bc6c85cf91f0d6936e4c5b8a211d133211852', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 18, 'created': '2017-10-30 17:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bebc268d51f01136e514946b5b5c350d7b4b1136', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}, {'number': 19, 'created': '2017-11-06 16:49:56.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/conf_fixture.py', 'cinder/backup/driver.py', 'cinder/keymgr/__init__.py', 'cinder/tests/unit/backup/drivers/test_backup_driver_base.py', 'cinder/tests/unit/volume/test_volume.py', 'releasenotes/notes/remove-deprecated-keymgr-d11a25c620862ed6.yaml', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/keymgr/test_init.py', 'cinder/api/contrib/volume_actions.py', 'cinder/utils.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef2202b6adc5d817b26559a9e20b536a547bca65', 'message': 'Remove deprecated keymgr code\n\nThe keymgr code was deprecated for removal in Newton [1]\nand should now be removed.\n\n1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe\n\nChange-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e\n'}]",19,468252,ef2202b6adc5d817b26559a9e20b536a547bca65,619,81,19,8623,,,0,"Remove deprecated keymgr code

The keymgr code was deprecated for removal in Newton [1]
and should now be removed.

1. Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe

Change-Id: I87926d6c95ac82b6f74c263c7441614f80348c1e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/468252/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_driver_base.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/keymgr/test_init.py', 'cinder/tests/unit/conf_fixture.py', 'cinder/backup/driver.py', 'cinder/api/contrib/volume_actions.py', 'cinder/utils.py', 'cinder/keymgr/__init__.py', 'cinder/volume/api.py']",11,1f112b1da414361afe156ed5e8734570ae396a24,remove-deprecated-keymgr,from castellan import key_manager,from cinder import keymgr as key_manager,16,187
openstack%2Fcinder~master~I29eb8ccd1f6853b30f236fec46f06b446e6b87ae,openstack/cinder,master,I29eb8ccd1f6853b30f236fec46f06b446e6b87ae,HPE 3PAR: Adding driver capability,MERGED,2017-11-06 09:47:04.000000000,2018-02-25 14:00:31.000000000,2017-11-08 17:43:45.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21407}, {'_account_id': 21517}, {'_account_id': 21531}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-06 09:47:04.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'releasenotes/notes/3par-get-capability-de60c9bc7ae51c14.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e46d6e1a62a60ff95c503d14b1f0f5ecb8b9ccf', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nDocImpact\n\nChange-Id: I29eb8ccd1f6853b30f236fec46f06b446e6b87ae\n'}]",0,517900,9e46d6e1a62a60ff95c503d14b1f0f5ecb8b9ccf,76,38,1,21407,,,0,"HPE 3PAR: Adding driver capability

Added 3par capability which can be used
for setting properties of volume type.

DocImpact

Change-Id: I29eb8ccd1f6853b30f236fec46f06b446e6b87ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/517900/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_base.py', 'releasenotes/notes/3par-get-capability-de60c9bc7ae51c14.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",3,9e46d6e1a62a60ff95c503d14b1f0f5ecb8b9ccf,," def test_init_vendor_properties(self): conf = self.setup_configuration() mock_client = self.setup_driver(config=conf) with mock.patch.object( hpecommon.HPE3PARCommon, '_create_client') as mock_create_client: mock_create_client.return_value = mock_client with mock.patch.object(self.driver, 'get_volume_stats') as stats: stats.return_value = {} # calling vendor properties from driver. self.driver.init_capabilities() # calling vendor properties from specific 3par driver. properties, vendor_name = self.driver._init_vendor_properties() for key in self.driver.capabilities['properties']: new_key = key.replace('_', ':') if 'HP:3PAR' in new_key: self.assertIn(new_key, properties) ",,240,1
openstack%2Fcinder~master~Ibbb077f66b41c359b50fff053aa183382c2cde14,openstack/cinder,master,Ibbb077f66b41c359b50fff053aa183382c2cde14,create_volume: cleanup consistencygroup when driver exception,MERGED,2017-11-01 07:55:31.000000000,2018-02-25 14:00:29.000000000,2017-11-07 13:13:13.000000000,"[{'_account_id': 170}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12288}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-11-01 07:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccd102849756da3db95966500cd0da91f250ce22', 'message': 'create_volume:cleanup consistencygroup when driver exception\n\nCreating a volume with group_id, if driver.create_volume has an\nexception, the volume status will always be creating. The status\ndoesnt update to error  because ObjectActionError: consistency\ngroup changed \nThis patch fixes the issue by invoking _cleanup_cg_in_volume when\ndriver.create_volume has an exception.\n\nChange-Id: Ibbb077f66b41c359b50fff053aa183382c2cde14\nCloses-Bug: #1729215\n'}, {'number': 2, 'created': '2017-11-02 07:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cb5f16ac4283e567249bc8b55682a09dbcd04e1', 'message': 'create_volume:cleanup consistencygroup when driver exception\n\nCreating a volume with group_id, if driver.create_volume has an\nexception, the volume status will always be creating. The status\ndoesnt update to error  because ObjectActionError: consistency\ngroup changed \nThis patch fixes the issue by invoking _cleanup_cg_in_volume when\ndriver.create_volume has an exception.\n\nChange-Id: Ibbb077f66b41c359b50fff053aa183382c2cde14\nCloses-Bug: #1729215\n'}, {'number': 3, 'created': '2017-11-03 02:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b79323de6d796f3e1bf10655ae219a4ac5d5661', 'message': 'create_volume:cleanup consistencygroup when driver exception\n\nCreating a volume with group_id, if driver.create_volume has an\nexception, the volume status will always be creating. The status\ndoesnt update to error  because ObjectActionError: consistency\ngroup changed \nThis patch fixes the issue by invoking _cleanup_cg_in_volume when\ndriver.create_volume has an exception.\n\nChange-Id: Ibbb077f66b41c359b50fff053aa183382c2cde14\nCloses-Bug: #1729215\n'}, {'number': 4, 'created': '2017-11-03 06:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a2433b6642543e0428170c419078ffd2436af87', 'message': 'create_volume: cleanup consistencygroup when driver exception\n\nCreating a volume with group_id, if driver raises an exception,\nthe volume status will always be creating. The status doesnt\nupdate to error because ObjectActionError: consistency group\nchanged\nThis patch fixes the issue by invoking _cleanup_cg_in_volume\nwhen driver raises an exception.\n\nChange-Id: Ibbb077f66b41c359b50fff053aa183382c2cde14\nCloses-Bug: #1729215\n'}, {'number': 5, 'created': '2017-11-06 02:14:09.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/group/test_groups_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/90184b7a1df436dcb4517cc677b22fa9bb0d40a9', 'message': 'create_volume: cleanup consistencygroup when driver exception\n\nCreating a volume with group_id, if driver raises an exception,\nthe volume status will always be creating.The status doesnt\nupdate to error because ObjectActionError: consistency group\nchanged\nThis patch fixes the issue by invoking _cleanup_cg_in_volume\nwhen driver raises an exception.\n\nChange-Id: Ibbb077f66b41c359b50fff053aa183382c2cde14\nCloses-Bug: #1729215\n'}]",2,516882,90184b7a1df436dcb4517cc677b22fa9bb0d40a9,134,45,5,11186,,,0,"create_volume: cleanup consistencygroup when driver exception

Creating a volume with group_id, if driver raises an exception,
the volume status will always be creating.The status doesnt
update to error because ObjectActionError: consistency group
changed
This patch fixes the issue by invoking _cleanup_cg_in_volume
when driver raises an exception.

Change-Id: Ibbb077f66b41c359b50fff053aa183382c2cde14
Closes-Bug: #1729215
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/516882/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/group/test_groups_manager.py']",2,ccd102849756da3db95966500cd0da91f250ce22,bug/1729215," @mock.patch( 'cinder.tests.fake_driver.FakeLoggingVolumeDriver.' 'create_cloned_volume') @mock.patch( 'cinder.tests.fake_driver.FakeLoggingVolumeDriver.' 'create_volume_from_snapshot') @mock.patch('cinder.tests.fake_driver.FakeLoggingVolumeDriver.' 'create_volume') def test_create_vol_with_group_id_driver_exception(self, mock_create_volume, mock_create_from_snap, mock_create_cloned_vol): """"""Test create a volume with group_id but driver exception."""""" # create_raw_volume with group id, but driver exception mock_create_volume.side_effect = exception.CinderException group = tests_utils.create_group( self.context, availability_zone=CONF.storage_availability_zone, volume_type_ids=[fake.VOLUME_TYPE_ID], group_type_id=fake.GROUP_TYPE_ID, host=CONF.host) self.volume.create_group(self.context, group) volume = tests_utils.create_volume( self.context, group_id=group.id, volume_type_id=fake.VOLUME_TYPE_ID, status='available', host=group.host) self.assertRaises(exception.CinderException, self.volume.create_volume, self.context, volume) self.assertIsNone(volume.consistencygroup_id) # create volume from_snapshot with group id but driver exception mock_create_from_snap.side_effect = exception.CinderException snapshot = tests_utils.create_snapshot(self.context, volume.id) volume2 = tests_utils.create_volume( self.context, group_id=group.id, snapshot_id=snapshot.id, status='available', host=group.host, volume_type_id=fake.VOLUME_TYPE_ID) self.assertRaises(exception.CinderException, self.volume.create_volume, self.context, volume2) self.assertIsNone(volume2.consistencygroup_id) # create cloned volume with group_id but driver exception mock_create_cloned_vol.side_effect = exception.CinderException volume3 = tests_utils.create_volume( self.context, group_id=group.id, source_volid=volume.id, status='available', host=group.host, volume_type_id=fake.VOLUME_TYPE_ID) self.assertRaises(exception.CinderException, self.volume.create_volume, self.context, volume3) self.assertIsNone(volume3.consistencygroup_id) ",,82,4
openstack%2Fcinder~driverfixes%2Fnewton~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,driverfixes/newton,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-23 15:43:02.000000000,2018-02-25 14:00:28.000000000,2017-11-13 06:45:14.000000000,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26552}]","[{'number': 1, 'created': '2017-10-23 15:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/92b2e3953d4a70d736bea82e634544d6f6848cbd', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 2, 'created': '2017-10-30 15:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac1a8d6c8e1a13d496ad233b9acf0256c0ff81c1', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 3, 'created': '2017-10-30 17:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f05eb09e19a1182a5bdab67812c236b116bd539b', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 4, 'created': '2017-11-03 16:05:43.000000000', 'files': ['releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml', 'cinder/volume/drivers/eqlx.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bad55064cab1e860e3e16ad79931fa836e314a2', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}]",1,514361,3bad55064cab1e860e3e16ad79931fa836e314a2,44,17,4,10379,,,0,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/514361/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml', 'cinder/volume/drivers/eqlx.py']",2,92b2e3953d4a70d736bea82e634544d6f6848cbd,bug/1720454," 1.3.0c - Extend volume with no-snap option VERSION = ""1.3.0c"" 'size', ""%sG"" % new_size, 'no-snap') LOG.info('Volume %(name)s resized from ' '%(current_size)sGB to %(new_size)sGB.',"," VERSION = ""1.3.0b"" 'size', ""%sG"" % new_size) LOG.info(_LI('Volume %(name)s resized from ' '%(current_size)sGB to %(new_size)sGB.'),",10,4
openstack%2Fcinder~stable%2Fpike~Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1,openstack/cinder,stable/pike,Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1,Use total reserved quota value instead of partial,MERGED,2017-11-01 09:55:41.000000000,2018-02-25 14:00:24.000000000,2017-11-04 02:00:23.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24131}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-01 09:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5576f02de2614a8bbb7e23bb10b8a39a5562f1ea', 'message': 'Use total reserved quota value instead of partial\n\nWhile reserving snapshot we reserve gigabytes too. In case of\ngroup snapshot we reserve the total gigabytes but in case of an\nexception we print just the last volume gb info which needs to be\nchanged.\n\nChange-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1\nCloses-Bug: 1728457\n'}, {'number': 3, 'created': '2017-11-03 06:18:19.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d117d76d24166d95a251fb3094b642a4496ebcb2', 'message': 'Use total reserved quota value instead of partial\n\nWhile reserving snapshot we reserve gigabytes too. In case of\ngroup snapshot we reserve the total gigabytes but in case of an\nexception we print just the last volume gb info which needs to be\nchanged.\n\nChange-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1\nCloses-Bug: 1728457\n(cherry picked from commit ead1cee88b14de487537f528b0c5631407d320a0)\n'}]",0,516915,d117d76d24166d95a251fb3094b642a4496ebcb2,38,18,2,24131,,,0,"Use total reserved quota value instead of partial

While reserving snapshot we reserve gigabytes too. In case of
group snapshot we reserve the total gigabytes but in case of an
exception we print just the last volume gb info which needs to be
changed.

Change-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1
Closes-Bug: 1728457
(cherry picked from commit ead1cee88b14de487537f528b0c5631407d320a0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/516915/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,5576f02de2614a8bbb7e23bb10b8a39a5562f1ea,bug/1728457," quota_utils.process_reserve_over_quota( context, e, resource='snapshots', size=total_reserve_opts.get('gigabytes', volume.size))"," quota_utils.process_reserve_over_quota(context, e, resource='snapshots', size=volume.size)",5,3
openstack%2Fcinder~driverfixes%2Fnewton~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,driverfixes/newton,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-23 14:55:47.000000000,2018-02-25 14:00:23.000000000,2017-11-03 02:36:49.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 12112}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26160}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-23 14:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e893b1260a5649165dee491f8c00bc3d84264be6', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 2, 'created': '2017-10-30 15:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ad4256b146ab30db205ff36f9581f2b9b2e2417', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 3, 'created': '2017-10-30 17:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e82dfb55a2233bb7fcd13e3ad0b4c50d8e7198b', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 4, 'created': '2017-11-02 15:24:16.000000000', 'files': ['cinder/volume/drivers/eqlx.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/02e858b5da4066988fec8ed2574522c9ad90c4fb', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}]",0,514346,02e858b5da4066988fec8ed2574522c9ad90c4fb,42,16,4,10379,,,0,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/514346/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/eqlx.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml']",2,e893b1260a5649165dee491f8c00bc3d84264be6,bug/1661154,--- fixes: - Dell EMC PS Series Driver code reporting volume stats is now optimized to return the information earlier and accelerate the process. This change fixes bug 1661154. ,,19,6
openstack%2Fcinder~master~I970c10f9b50092b659fa2d88bd6a02f6c69899f2,openstack/cinder,master,I970c10f9b50092b659fa2d88bd6a02f6c69899f2,Schedule the request to scheduler when creating from snapshot/volume,MERGED,2017-10-16 12:22:19.000000000,2018-02-25 14:00:13.000000000,2017-11-03 09:56:42.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-16 12:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2900a1226e2e0f77a54e7635c364ad8b9d9fd126', 'message': ""Schedule the request to scheduler when creating from snapshot\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: I970c10f9b50092b659fa2d88bd6a02f6c69899f2\nPartial-Implements: blueprint inspection-mechanism-for-capacity-limited-host\n""}, {'number': 2, 'created': '2017-11-02 08:02:24.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/base.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/objects/request_spec.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/935eee712b0907e86426295d31766eee3831a075', 'message': ""Schedule the request to scheduler when creating from snapshot/volume\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: I970c10f9b50092b659fa2d88bd6a02f6c69899f2\nPartial-Implements: blueprint inspection-mechanism-for-capacity-limited-host\n""}]",0,512276,935eee712b0907e86426295d31766eee3831a075,62,39,2,23083,,,0,"Schedule the request to scheduler when creating from snapshot/volume

Pass the request to scheduler rather than volume service in
order to check the backend's capacity.

Change-Id: I970c10f9b50092b659fa2d88bd6a02f6c69899f2
Partial-Implements: blueprint inspection-mechanism-for-capacity-limited-host
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/512276/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py', 'cinder/objects/request_spec.py']",4,2900a1226e2e0f77a54e7635c364ad8b9d9fd126,bp/inspection-mechanism-for-capacity-limited-host, 'snapshot_backend': fields.StringField(nullable=True),,24,4
openstack%2Fcinder~master~I54f9da98f6c21655081ac838e1fba1f5bc1bedfb,openstack/cinder,master,I54f9da98f6c21655081ac838e1fba1f5bc1bedfb,ScaleIO: adapt to moved connector constants,MERGED,2017-11-01 12:31:16.000000000,2018-02-25 13:59:33.000000000,2017-11-03 21:03:25.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-01 12:31:16.000000000', 'files': ['cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b34269f2f693faafc6b31fbd21956ea99c4bf5c', 'message': 'ScaleIO: adapt to moved connector constants\n\nos-brick moved the connector constants some time ago and\nas has now removed them from the legacy location. This change\nadapts the ScaleIO driver to the new location.\n\nChange-Id: I54f9da98f6c21655081ac838e1fba1f5bc1bedfb\n'}]",0,516976,0b34269f2f693faafc6b31fbd21956ea99c4bf5c,33,29,1,25033,,,0,"ScaleIO: adapt to moved connector constants

os-brick moved the connector constants some time ago and
as has now removed them from the legacy location. This change
adapts the ScaleIO driver to the new location.

Change-Id: I54f9da98f6c21655081ac838e1fba1f5bc1bedfb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/516976/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/scaleio/driver.py'],1,0b34269f2f693faafc6b31fbd21956ea99c4bf5c,,"from os_brick import initiator 2.0.4: Added compatibility with os_brick>1.15.3 VERSION = ""2.0.4"" self.connector = initiator.connector.InitiatorConnector.factory( initiator.SCALEIO, utils.get_root_helper(),","from os_brick.initiator import connector VERSION = ""2.0.3"" self.connector = connector.InitiatorConnector.factory( connector.SCALEIO, utils.get_root_helper(),",5,4
openstack%2Fcinder~master~I8706584e3abfb936072896d8c4902d82db32ab5f,openstack/cinder,master,I8706584e3abfb936072896d8c4902d82db32ab5f,imageutils: allow passing subformat when converting,MERGED,2017-10-24 13:13:46.000000000,2018-02-25 13:59:31.000000000,2017-11-04 04:36:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26415}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b5e8dda7b4b003db43fc1a2ef734cdbc97569d3', 'message': 'imageutils: allow passing subformat when converting\n\nFor some image formats (e.g. vhd, vhdx), qemu-img allows\nspecifying image subformat options. This can be useful when\nrequesting fixed size images.\n\nThis change allows the imageutils convert function to accept\nan image subformat.\n\nThis will be used by the SMBFS volume driver.\n\nChange-Id: I8706584e3abfb936072896d8c4902d82db32ab5f\n'}, {'number': 2, 'created': '2017-10-25 10:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ece56eacf74cba72cb666f2347ff5739bcd66aef', 'message': 'imageutils: allow passing subformat when converting\n\nFor some image formats (e.g. vhd, vhdx), qemu-img allows\nspecifying image subformat options. This can be useful when\nrequesting fixed size images.\n\nThis change allows the imageutils convert function to accept\nan image subformat.\n\nThis will be used by the SMBFS volume driver.\n\nChange-Id: I8706584e3abfb936072896d8c4902d82db32ab5f\n'}, {'number': 3, 'created': '2017-10-31 09:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc82f4b6b7874890eee21be73a58e34a333d7e5e', 'message': 'imageutils: allow passing subformat when converting\n\nFor some image formats (e.g. vhd, vhdx), qemu-img allows\nspecifying image subformat options. This can be useful when\nrequesting fixed size images.\n\nThis change allows the imageutils convert function to accept\nan image subformat.\n\nThis will be used by the SMBFS volume driver.\n\nChange-Id: I8706584e3abfb936072896d8c4902d82db32ab5f\n'}, {'number': 4, 'created': '2017-11-01 11:40:46.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cfc201b725f4e376a84d017f9ddc5e72f907fa3', 'message': 'imageutils: allow passing subformat when converting\n\nFor some image formats (e.g. vhd, vhdx), qemu-img allows\nspecifying image subformat options. This can be useful when\nrequesting fixed size images.\n\nThis change allows the imageutils convert function to accept\nan image subformat.\n\nThis will be used by the SMBFS volume driver.\n\nChange-Id: I8706584e3abfb936072896d8c4902d82db32ab5f\n'}]",1,514658,4cfc201b725f4e376a84d017f9ddc5e72f907fa3,130,42,4,26415,,,0,"imageutils: allow passing subformat when converting

For some image formats (e.g. vhd, vhdx), qemu-img allows
specifying image subformat options. This can be useful when
requesting fixed size images.

This change allows the imageutils convert function to accept
an image subformat.

This will be used by the SMBFS volume driver.

Change-Id: I8706584e3abfb936072896d8c4902d82db32ab5f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/514658/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",2,9b5e8dda7b4b003db43fc1a2ef734cdbc97569d3,bp/smbfs-fixed-images," '-O', out_format, '-t', 'none', '-O', out_format, '-t', 'none', out_subformat = 'fake_subformat' output = image_utils.convert_image(source, dest, out_format, out_subformat=out_subformat) out_format, '-o', 'subformat=%s' % out_subformat, source, dest, out_subformat = 'fake_subformat' output = image_utils.convert_image(source, dest, out_format, out_subformat=out_subformat) out_format, '-o', 'subformat=%s' % out_subformat, source, dest, '-O', out_format, '-t', 'none', out_subformat = None out_subformat=out_subformat, out_subformat = None out_subformat=out_subformat, out_subformat = None out_subformat=out_subformat, out_subformat = None out_subformat=out_subformat, out_subformat = None out_subformat=out_subformat, out_subformat=None,"," '-t', 'none', '-O', out_format, '-t', 'none', '-O', out_format, output = image_utils.convert_image(source, dest, out_format) out_format, source, dest, output = image_utils.convert_image(source, dest, out_format) out_format, source, dest, '-t', 'none', '-O', out_format,",78,28
openstack%2Fcinder~master~I3b775da8c5e862def54e9d44d7b157cf17a07a24,openstack/cinder,master,I3b775da8c5e862def54e9d44d7b157cf17a07a24,Unity: Fix duplicate hosts created with same name,MERGED,2017-10-13 02:00:55.000000000,2018-02-25 13:59:30.000000000,2017-11-30 13:02:24.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26001}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-13 02:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4a580a5765088817d3f70ec79f484e396753958', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\n'}, {'number': 2, 'created': '2017-10-23 08:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/284ab8b7892aa23671c6c6d5c904f9c165881f89', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n'}, {'number': 3, 'created': '2017-10-23 09:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad3cd9324aca401d0536e7cae1b827d2ce8c6a9f', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n'}, {'number': 4, 'created': '2017-10-24 01:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e946d28e94265fa6565cd3792d9a003da16ad9e', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n'}, {'number': 5, 'created': '2017-10-26 01:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3a0086754cca3d03dd7545840f661a7ea040649', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n'}, {'number': 6, 'created': '2017-11-01 01:38:29.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n'}]",10,511668,d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41,154,45,6,10628,,,0,"Unity: Fix duplicate hosts created with same name

In some circumstance, there is a race condition in querying/creating
Unity host thus multiple hosts with same name were created.

This issue stops any further attach/detach operation.

This patch leverage the DSL in cinder to avoid above race condition.

Change-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24
Closes-bug: #1726284
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/511668/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/client.py']",2,c4a580a5765088817d3f70ec79f484e396753958,bug/1726284,"from cinder import coordination self.host_cache = {} @coordination.synchronized('{self.host}-{name}') def get_host(self, name): """"""Provides host object if exists else None."""""" if name not in self.host_cache: try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Existing host %s not found. Create a new one.', name) host = self.system.create_host(name=name) LOG.debug('TODO(peter) put host info into cache: {}'.format(name)) self.host_cache[name] = host else: LOG.debug('TODO(peter) fetch host info from cache: {}'.format(name)) host = self.host_cache[name] return host def update_host_initiators(self, host, uids): """"""Updates host with the supplied uids."""""" if un_registered: for uid in un_registered: try: host.add_initiator(uid, force_create=True) except storops_ex.UnityHostInitiatorExistedError: # This make concurrent modification of # host initiators safe LOG.debug( 'The uid({}) was already in ' '{}.'.format(uid, host.name)) host.update() LOG.debug('TODO(peter) update host info for any change: ' '{}'.format(host.name)) # Update host cached with new initiators. self.host_cache[host.name] = host "," def create_host(self, name, uids): """"""Creates a host on Unity. Creates a host on Unity which has the uids associated. :param name: name of the host :param uids: iqns or wwns list :return: UnitHost object """""" try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Existing host %s not found. Create a new one.', name) host = self.system.create_host(name=name) for uid in un_registered: host.add_initiator(uid, force_create=True) host.update() def get_host(self, name): return self.system.get_host(name=name) ",38,23
openstack%2Fcinder~master~I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec,openstack/cinder,master,I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec,XtremIO: extending volume in create_volume_from_snapshot,MERGED,2017-10-01 16:42:42.000000000,2018-02-25 13:59:29.000000000,2017-12-09 19:25:43.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11418}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24355}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-01 16:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af4f64eae209b04949f5bf6be5106fb447842829', 'message': 'XtremIO: extending volume in create_volume_from_snapshot\n\nIn create_volume_from_snapshot, If the original volume is larger then the requested snapshot we extend the volume to the original size.\n\nCloses-Bug: #XtremIO: fix fetching FC targets from X2 array\n\nPrevious versions of XtremIO had the type as part of the target name, in\nX2 this convention was changed and a driver updated is required to query\nthe type from the target object.\n\nChange-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec\nCloses-Bug: #1702458\n'}, {'number': 2, 'created': '2017-10-02 17:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cfce5bc26c70d4bff1e558787344984c6b625bc', 'message': 'XtremIO: extending volume in create_volume_from_snapshot\n\nIn create_volume_from_snapshot, If the original volume is larger\nthen the requested snapshot we extend the volume to the original\nsize.\n\nCloses-Bug: #1560650\nChange-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec\n'}, {'number': 3, 'created': '2017-10-03 08:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89fb0b1653ac2c24ee0fb1c1f909bbbdd520e811', 'message': 'XtremIO: extending volume in create_volume_from_snapshot\n\nIn create_volume_from_snapshot, If the original volume is larger\nthen the requested snapshot we extend the volume to the original\nsize.\n\nCloses-Bug: #1560650\nChange-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec\n'}, {'number': 4, 'created': '2017-10-31 20:44:30.000000000', 'files': ['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/50a4c376811c18684c8cada7a0c0c0cc39696942', 'message': 'XtremIO: extending volume in create_volume_from_snapshot\n\nIn create_volume_from_snapshot, If the original volume is larger\nthen the requested snapshot we extend the volume to the original\nsize.\n\nCloses-Bug: #1560650\nChange-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec\n'}]",7,508771,50a4c376811c18684c8cada7a0c0c0cc39696942,152,40,4,24355,,,0,"XtremIO: extending volume in create_volume_from_snapshot

In create_volume_from_snapshot, If the original volume is larger
then the requested snapshot we extend the volume to the original
size.

Closes-Bug: #1560650
Change-Id: I1a1c3a8ff3fb0196e8bffb9a4978e7368eeeacec
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/508771/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py']",2,af4f64eae209b04949f5bf6be5106fb447842829,bug/1560650," 'volume_size': 1,",,22,1
openstack%2Fcinder~master~I07f027be20e02359df6726e401981f430614346b,openstack/cinder,master,I07f027be20e02359df6726e401981f430614346b,Tintri - Updated driver docs with new nfs option,MERGED,2017-10-30 17:44:21.000000000,2018-02-25 13:59:27.000000000,2017-11-03 03:17:03.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-30 17:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c52d021cbe3699ce425e7caa626d0800b9df3af', 'message': 'Tintri - Updated driver docs with new nfs option\n\nChange-Id: I07f027be20e02359df6726e401981f430614346b\n'}, {'number': 2, 'created': '2017-10-30 18:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce7d444850a655442a19985968e7b869101497b4', 'message': 'Tintri - Updated driver docs with new nfs option\n\nChange-Id: I07f027be20e02359df6726e401981f430614346b\n'}, {'number': 3, 'created': '2017-10-31 17:53:06.000000000', 'files': ['doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/868de35a862c9cf0a4b71b168921d3a6fefacbb9', 'message': 'Tintri - Updated driver docs with new nfs option\n\nTintri does not support NLM sideband protocol\n\nChange-Id: I07f027be20e02359df6726e401981f430614346b\n'}]",0,516408,868de35a862c9cf0a4b71b168921d3a6fefacbb9,51,27,3,14377,,,0,"Tintri - Updated driver docs with new nfs option

Tintri does not support NLM sideband protocol

Change-Id: I07f027be20e02359df6726e401981f430614346b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/516408/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/tintri-volume-driver.rst'],1,4c52d021cbe3699ce425e7caa626d0800b9df3af,driver_doc," nfs_mount_options = vers=3,lookupcache=pos,nolock"," nfs_mount_options = vers=3,lookupcache=pos",1,1
openstack%2Fcinder~master~Ieda734e49bdb45566f39f201004b2a3e0b1ba1eb,openstack/cinder,master,Ieda734e49bdb45566f39f201004b2a3e0b1ba1eb,Fix imageutils tests on windows,MERGED,2017-10-24 13:13:46.000000000,2018-02-25 13:59:26.000000000,2017-11-03 20:45:09.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26415}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ffc3a2e0b7fb1f92963454f60695062bd1af0a9', 'message': 'Fix imageutils tests on windows\n\nSome of the imageutils unit tests are currently failing on Windows.\n\nTwo of them make assertions on arguments that are platform dependent\nwhile another one fails due to the fact that os.path.join cannot\nbe used with mock objects on Windows.\n\nThis change fixes those issues.\n\nChange-Id: Ieda734e49bdb45566f39f201004b2a3e0b1ba1eb\n'}, {'number': 2, 'created': '2017-10-31 09:28:54.000000000', 'files': ['cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3407100f94f12c06e7c6ef71fdf36c5c8103631b', 'message': 'Fix imageutils tests on windows\n\nSome of the imageutils unit tests are currently failing on Windows.\n\nTwo of them make assertions on arguments that are platform dependent\nwhile another one fails due to the fact that os.path.join cannot\nbe used with mock objects on Windows.\n\nThis change fixes those issues.\n\nChange-Id: Ieda734e49bdb45566f39f201004b2a3e0b1ba1eb\n'}]",0,514657,3407100f94f12c06e7c6ef71fdf36c5c8103631b,72,33,2,26415,,,0,"Fix imageutils tests on windows

Some of the imageutils unit tests are currently failing on Windows.

Two of them make assertions on arguments that are platform dependent
while another one fails due to the fact that os.path.join cannot
be used with mock objects on Windows.

This change fixes those issues.

Change-Id: Ieda734e49bdb45566f39f201004b2a3e0b1ba1eb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/514657/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_image_utils.py'],1,7ffc3a2e0b7fb1f92963454f60695062bd1af0a9,bp/smbfs-fixed-images," @mock.patch('os.name', new='posix') @mock.patch('os.name', new='posix') # os.path.join does not work with MagicMock objects on Windows. mock_temp.return_value.__enter__.return_value = 'fake_temp_dir' ",,5,0
openstack%2Fcinder~master~If160ffdd7301337eac9353faffb72a9f069882c4,openstack/cinder,master,If160ffdd7301337eac9353faffb72a9f069882c4,Fix api-ref for group snapshots API,MERGED,2017-10-31 07:30:03.000000000,2018-02-25 13:59:25.000000000,2017-11-03 03:02:52.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-31 07:30:03.000000000', 'files': ['api-ref/source/v3/samples/group-snapshots-list-detailed-response.json', 'api-ref/source/v3/group-snapshots.inc', 'api-ref/source/v3/samples/group-snapshots-create-response.json', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/group-snapshots-show-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab9a8a2a6e300d29e9814523541b0e582508c9b4', 'message': 'Fix api-ref for group snapshots API\n\nThis patch mainly fixes the response parameters and examples for\nthe show/list/create group snapshots APIs.\n\nChange-Id: If160ffdd7301337eac9353faffb72a9f069882c4\n'}]",0,516539,ab9a8a2a6e300d29e9814523541b0e582508c9b4,33,29,1,23081,,,0,"Fix api-ref for group snapshots API

This patch mainly fixes the response parameters and examples for
the show/list/create group snapshots APIs.

Change-Id: If160ffdd7301337eac9353faffb72a9f069882c4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/516539/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/group-snapshots-list-detailed-response.json', 'api-ref/source/v3/group-snapshots.inc', 'api-ref/source/v3/samples/group-snapshots-create-response.json', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/group-snapshots-show-response.json']",5,ab9a8a2a6e300d29e9814523541b0e582508c9b4,fix_api_ref," ""description"": ""my first group snapshot"", ""group_type_id"": ""7270c56e-6354-4528-8e8b-f54dee2232c8"""," ""description"": ""my first group snapshot""",28,18
openstack%2Fcinder~driverfixes%2Fnewton~I945300cac84658bbd25182ba615645af881920f8,openstack/cinder,driverfixes/newton,I945300cac84658bbd25182ba615645af881920f8,ScaleIO Driver - include snap usage in provisioned capacity,MERGED,2017-10-31 01:26:39.000000000,2018-02-25 13:59:23.000000000,2017-10-31 21:20:25.000000000,"[{'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-31 01:26:39.000000000', 'files': ['cinder/volume/drivers/emc/scaleio.py', 'cinder/tests/unit/volume/drivers/emc/scaleio/test_misc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed9e88e2639e66ce1ae998a3c0ca8d3600c97fca', 'message': 'ScaleIO Driver - include snap usage in provisioned capacity\n\nProvisioned capacity of storage pools was not correctly accounting\nfor space used by snapshots.\n\nChange-Id: I945300cac84658bbd25182ba615645af881920f8\nCloses-Bug: #1724929\n(cherry picked from commit 5b9a5858d72d1be9599407b0e9945fb4cd0cf3ab)\n'}]",0,516481,ed9e88e2639e66ce1ae998a3c0ca8d3600c97fca,13,9,1,25033,,,0,"ScaleIO Driver - include snap usage in provisioned capacity

Provisioned capacity of storage pools was not correctly accounting
for space used by snapshots.

Change-Id: I945300cac84658bbd25182ba615645af881920f8
Closes-Bug: #1724929
(cherry picked from commit 5b9a5858d72d1be9599407b0e9945fb4cd0cf3ab)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/516481/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/emc/scaleio.py', 'cinder/tests/unit/volume/drivers/emc/scaleio/test_misc.py']",2,ed9e88e2639e66ce1ae998a3c0ca8d3600c97fca,bug/1724929," 'snapCapacityInUseInKb': 266,",,6,2
openstack%2Fcinder~driverfixes%2Focata~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,driverfixes/ocata,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-23 15:48:36.000000000,2018-02-25 13:59:09.000000000,2017-11-03 02:36:54.000000000,"[{'_account_id': 5997}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-23 15:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08cc4d8c970386786cf4fd570946e2cddfbf8b46', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 2, 'created': '2017-10-24 19:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/979d0a8ab46a9245dc38f9608e15aa7dd13b5714', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 3, 'created': '2017-10-24 19:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/841349c178e9aca9be09631c24205e7adbaf269f', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 4, 'created': '2017-10-30 15:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1bdbd61c4b52931d43741046d239fd7e35e25fa', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 5, 'created': '2017-10-30 15:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51fec8e9c88ed24afe93891d3e0af385faeba873', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 6, 'created': '2017-10-30 18:22:51.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/43f0219a04c87af3ec022b523e538c2f51d40ed4', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}]",1,514365,43f0219a04c87af3ec022b523e538c2f51d40ed4,53,19,6,10379,,,0,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/514365/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml']",2,08cc4d8c970386786cf4fd570946e2cddfbf8b46,bug/1720454,--- fixes: - Dell EMC PS Series Driver was creating unmanaged snapshots when extending volumes. Fixed it by adding the missing no-snap parameter. This changes fixes bug 1720454. ,,10,4
openstack%2Fcinder~stable%2Fpike~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,stable/pike,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-17 17:50:35.000000000,2018-02-25 13:58:48.000000000,2017-11-03 02:36:52.000000000,"[{'_account_id': 5997}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25836}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-17 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21fc4de52d36a0597d40ae00b9416019d69bb090', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 2, 'created': '2017-10-30 14:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0c29bd921d64c6d390dfccb37af99866f3ec438', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}, {'number': 3, 'created': '2017-10-30 18:05:36.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e5cd9ba2a7906a182b0f2b0d7678213d80cd493', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)\n""}]",1,512763,1e5cd9ba2a7906a182b0f2b0d7678213d80cd493,41,21,3,10379,,,0,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
(cherry picked from commit 0910706e762cec88a2b53e82bd7e6a1c372163b9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/512763/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml']",2,21fc4de52d36a0597d40ae00b9416019d69bb090,bug/1720454,--- fixes: - Dell EMC PS Series Driver was creating unmanaged snapshots when extending volumes. Fixed it by adding the missing no-snap parameter. This changes fixes bug 1720454. ,,8,2
openstack%2Fcinder~driverfixes%2Fnewton~I2caa5f2763ec343b0bc875e707924ff9b6424ce5,openstack/cinder,driverfixes/newton,I2caa5f2763ec343b0bc875e707924ff9b6424ce5,Dell EMC PS: Fix over-subscription ratio stats,MERGED,2017-10-23 14:49:10.000000000,2018-02-25 13:58:46.000000000,2017-10-31 21:20:28.000000000,"[{'_account_id': 7160}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-23 14:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e76550e3456c5ac1fc7ded4ffd4406cc22b9afb5', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}, {'number': 2, 'created': '2017-10-30 14:33:39.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_eqlx.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/volume/drivers/eqlx.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/06f08c6673141847c2aa2c5322ddea098b9ed004', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}]",0,514342,06f08c6673141847c2aa2c5322ddea098b9ed004,22,13,2,10379,,,0,"Dell EMC PS: Fix over-subscription ratio stats

Fixed the provisioned_capacity_gb to use the VolumeReportedSpace
to calculate the over-subscription ratio stats in the Dell EMC
PS volume driver.

Closes Bug: #1719659

Change-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5
(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/514342/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_eqlx.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/volume/drivers/eqlx.py']",3,e76550e3456c5ac1fc7ded4ffd4406cc22b9afb5,bug/1719659," 1.3.0a - Fixed over-subscription ratio calculation VERSION = ""1.3.0a"" if line.startswith('VolumeReportedSpace:'):"," VERSION = ""1.3.0"" if line.startswith('VolumeReserve:'):",9,3
openstack%2Fcinder~master~Ib4f35bd01613d1bd69127a8ba65fc9e3cff6d3ad,openstack/cinder,master,Ib4f35bd01613d1bd69127a8ba65fc9e3cff6d3ad,SMBFS: Enable reverting snapshots,MERGED,2017-10-17 08:55:05.000000000,2018-02-25 13:58:45.000000000,2017-11-20 10:14:46.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-17 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa0313443e4444755b8644e586fbf7ed6247e017', 'message': 'SMBFS: Enable reverting snapshots\n\nThis is a trivial change that enables the ""revert to snapshot""\nfeature within the SMBFS volume driver.\n\nAll the required logic is implemented in the RevertToSnapshotMixin\nclass, so all we\'re doing now is inheriting it.\n\nRelated-Blueprint: remotefs-revert-snapshot\n\nChange-Id: Ib4f35bd01613d1bd69127a8ba65fc9e3cff6d3ad\n'}, {'number': 2, 'created': '2017-10-18 09:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0d689e48974340b4639cec01e4c531cac4dcc49', 'message': 'SMBFS: Enable reverting snapshots\n\nThis is a trivial change that enables the ""revert to snapshot""\nfeature within the SMBFS volume driver.\n\nAll the required logic is implemented in the RevertToSnapshotMixin\nclass, so all we\'re doing now is inheriting it.\n\nRelated-Blueprint: remotefs-revert-snapshot\n\nChange-Id: Ib4f35bd01613d1bd69127a8ba65fc9e3cff6d3ad\n'}, {'number': 3, 'created': '2017-10-30 09:53:20.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'releasenotes/notes/smbfs-revert-snapshot-5b265ed5ded951dc.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8715f690e61557d08c6df9040a2e4d87d3e6bad', 'message': 'SMBFS: Enable reverting snapshots\n\nThis is a trivial change that enables the ""revert to snapshot""\nfeature within the SMBFS volume driver.\n\nAll the required logic is implemented in the RevertToSnapshotMixin\nclass, so all we\'re doing now is inheriting it.\n\nRelated-Blueprint: remotefs-revert-snapshot\n\nChange-Id: Ib4f35bd01613d1bd69127a8ba65fc9e3cff6d3ad\n'}]",0,512545,e8715f690e61557d08c6df9040a2e4d87d3e6bad,167,41,3,26415,,,0,"SMBFS: Enable reverting snapshots

This is a trivial change that enables the ""revert to snapshot""
feature within the SMBFS volume driver.

All the required logic is implemented in the RevertToSnapshotMixin
class, so all we're doing now is inheriting it.

Related-Blueprint: remotefs-revert-snapshot

Change-Id: Ib4f35bd01613d1bd69127a8ba65fc9e3cff6d3ad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/512545/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/windows/smbfs.py'],1,aa0313443e4444755b8644e586fbf7ed6247e017,bp/remotefs-revert-snapshot,"class WindowsSmbfsDriver(remotefs_drv.RemoteFSPoolMixin,","class WindowsSmbfsDriver(remotefs_drv.RevertToSnapshotMixin, remotefs_drv.RemoteFSPoolMixin,",1,2
openstack%2Fcinder~master~I3b01b5ced6673eb83c1a73c6132fb6d23e0912b4,openstack/cinder,master,I3b01b5ced6673eb83c1a73c6132fb6d23e0912b4,Disco driver: Fix the location to get the disco connector constant,MERGED,2017-10-30 05:57:32.000000000,2018-02-25 13:58:43.000000000,2017-11-09 11:40:06.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19576}, {'_account_id': 19852}, {'_account_id': 19853}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-30 05:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66cea946342d06afec5042151f1978e458478b4f', 'message': 'Disco driver: Fix the location to get the disco connector constant\n\nDuring the runs in our third-party CI, devstack cannot be build\nsuccessfully because it cannot get the connector constant.\nIt was at os_brick.initiator.connector but was moved to os_brick.initiator.\n\nThis patch fixes this issue by updating the new location of the connector\nconstant.\n\nChange-Id: I3b01b5ced6673eb83c1a73c6132fb6d23e0912b4\nCloses-Bug:1728511\n'}, {'number': 2, 'created': '2017-10-30 07:20:35.000000000', 'files': ['cinder/volume/drivers/disco/disco_attach_detach.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e901221ee4a31e519b40824839b9346f24435831', 'message': 'Disco driver: Fix the location to get the disco connector constant\n\nDuring the runs in our third-party CI, devstack cannot be build\nsuccessfully because it cannot get the connector constant.\nIt was at os_brick.initiator.connector but was moved to os_brick.initiator.\n\nThis patch fixes this issue by updating the new location of the connector\nconstant.\n\nChange-Id: I3b01b5ced6673eb83c1a73c6132fb6d23e0912b4\nCloses-Bug:1728511\n'}]",3,516183,e901221ee4a31e519b40824839b9346f24435831,119,35,2,19576,,,0,"Disco driver: Fix the location to get the disco connector constant

During the runs in our third-party CI, devstack cannot be build
successfully because it cannot get the connector constant.
It was at os_brick.initiator.connector but was moved to os_brick.initiator.

This patch fixes this issue by updating the new location of the connector
constant.

Change-Id: I3b01b5ced6673eb83c1a73c6132fb6d23e0912b4
Closes-Bug:1728511
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/516183/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/disco/disco_attach_detach.py'],1,66cea946342d06afec5042151f1978e458478b4f,bug/1728511,from os_brick import initiator return initiator.DISCO,from os_brick.initiator import connector return connector.DISCO,2,2
openstack%2Fcinder~driverfixes%2Fmitaka~Id5122dd9be973000831598fddc9e6f084ec2b7db,openstack/cinder,driverfixes/mitaka,Id5122dd9be973000831598fddc9e6f084ec2b7db,Fix a compatibility issue after Huawei driver upgrade,MERGED,2017-09-07 01:07:47.000000000,2018-02-25 13:58:42.000000000,2018-01-19 15:50:48.000000000,"[{'_account_id': 3}, {'_account_id': 9535}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 17130}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-09-07 01:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a8e45e33989cd0436a19554490169d9e356d021', 'message': ""Fix an compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n""}, {'number': 2, 'created': '2017-09-08 06:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01f5b8195a27d71cb5e0d5c9412f7e9a11bed2a7', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n""}, {'number': 3, 'created': '2017-10-30 01:10:22.000000000', 'files': ['cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3495a550d6473151793e1fcdbb4f481139b2080b', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)\n(cherry picked from commit 18814a478d348acc65503ca1a6d31a07a63dbbb0)\n(cherry picked from commit 6c5bb4ddda01d0f563609ad878dfe1499635770c)\n""}]",1,501504,3495a550d6473151793e1fcdbb4f481139b2080b,43,20,3,16203,,,0,"Fix a compatibility issue after Huawei driver upgrade

Previously Huawei driver changed the storing place for it's private
data, if upgrade to this new version driver, and there's already an
existing volume created by old driver, there's a compatibility issue
of getting hypermetro_id property, which will result deleting volume
failed while there's no hypermetro configuration exist.

This patch fixes this issue.

Change-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db
(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)
(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)
(cherry picked from commit 18814a478d348acc65503ca1a6d31a07a63dbbb0)
(cherry picked from commit 6c5bb4ddda01d0f563609ad878dfe1499635770c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/501504/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/huawei_driver.py'],1,0a8e45e33989cd0436a19554490169d9e356d021,backport-compatibility-issue-fix-to-M, if metadata.get('hypermetro_id'): hypermetro_lun = metadata.get('hypermetro_id') is not None if metadata.get('hypermetro_id'):, if 'hypermetro_id' in metadata: hypermetro_lun = 'hypermetro_id' in metadata if 'hypermetro_id' in metadata:,3,3
openstack%2Fcinder~stable%2Fpike~I8713f846b1e2e30b4bbc4af57645fdc04bcd8386,openstack/cinder,stable/pike,I8713f846b1e2e30b4bbc4af57645fdc04bcd8386,Don't fail when deleting missing backup,MERGED,2017-10-27 04:24:56.000000000,2018-02-25 13:58:41.000000000,2017-10-30 04:47:14.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 19004}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24131}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25169}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-27 04:24:56.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/223ee7478e138e8f4bc0d5a62a3d5fc26883ad23', 'message': ""Don't fail when deleting missing backup\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence catching the exception\njust where it occurs.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n(cherry picked from commit 6ff364f385b2bfe52a9c55ffbe357979b0dee9b4)\n""}]",2,515584,223ee7478e138e8f4bc0d5a62a3d5fc26883ad23,25,17,1,24131,,,0,"Don't fail when deleting missing backup

The problem here is sometimes when the path doesn't exist and we
try to delete it then exception occurs & breaks the flow. In this
case it happens with the volume delete flow, wherein the exception
occurs just before the quota commit & commit doesn't happen even
though the backup volume got deleted, hence catching the exception
just where it occurs.

Change-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386
Closes-Bug: 1726715
(cherry picked from commit 6ff364f385b2bfe52a9c55ffbe357979b0dee9b4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/515584/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py']",2,223ee7478e138e8f4bc0d5a62a3d5fc26883ad23,bug/1726715-stable/pike, try: os.remove(path) except OSError: pass, os.remove(path),4,8
openstack%2Fcinder~driverfixes%2Focata~Id5122dd9be973000831598fddc9e6f084ec2b7db,openstack/cinder,driverfixes/ocata,Id5122dd9be973000831598fddc9e6f084ec2b7db,Fix a compatibility issue after Huawei driver upgrade,MERGED,2017-09-07 01:02:13.000000000,2018-02-25 13:58:39.000000000,2017-10-27 22:12:33.000000000,"[{'_account_id': 3}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16203}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-09-07 01:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/767404c0ec18e4ebbea2f13696c7d2006d66281e', 'message': ""Fix an compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n""}, {'number': 2, 'created': '2017-09-08 06:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63bb2d5df2996ba50bdbee106a1621d6b90582c6', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n""}, {'number': 3, 'created': '2017-10-27 01:20:08.000000000', 'files': ['cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/18814a478d348acc65503ca1a6d31a07a63dbbb0', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)\n""}]",0,501502,18814a478d348acc65503ca1a6d31a07a63dbbb0,75,19,3,16203,,,0,"Fix a compatibility issue after Huawei driver upgrade

Previously Huawei driver changed the storing place for it's private
data, if upgrade to this new version driver, and there's already an
existing volume created by old driver, there's a compatibility issue
of getting hypermetro_id property, which will result deleting volume
failed while there's no hypermetro configuration exist.

This patch fixes this issue.

Change-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db
(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)
(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/501502/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/huawei_driver.py'],1,767404c0ec18e4ebbea2f13696c7d2006d66281e,backport-compatibility-issue-fix-to-O, if metadata.get('hypermetro_id'): hypermetro_lun = metadata.get('hypermetro_id') is not None if metadata.get('hypermetro_id'):, if 'hypermetro_id' in metadata: hypermetro_lun = 'hypermetro_id' in metadata if 'hypermetro_id' in metadata:,3,3
openstack%2Fcinder~master~I17d3a873cfc8f056c2d31f6c8710489785998d3c,openstack/cinder,master,I17d3a873cfc8f056c2d31f6c8710489785998d3c,Make service object UUID not nullable,MERGED,2017-10-24 22:53:21.000000000,2018-02-25 13:58:38.000000000,2017-10-27 05:11:41.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19853}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 22:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7fe5cc99974bf666236f166fe138f443485fa24', 'message': ""Make service object UUID not nullable\n\nFix the UUID entry for the newly added service attribute and\nudpate the unit tests appropriately.\n\n******* WIP ***************\nHaving trouble with the query mock, it fails currently\nand there's a couple other things noted in review of old\npatch that I need to hit as well.\n\nChange-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c\n""}, {'number': 2, 'created': '2017-10-25 01:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13d398862d7dd1c152cefc5e7712106cfad260c2', 'message': ""Make service object UUID not nullable\n\nFix the UUID entry for the newly added service attribute and\nudpate the unit tests appropriately.\n\n******* WIP ***************\nHaving trouble with the query mock, it fails currently\nand there's a couple other things noted in review of old\npatch that I need to hit as well.\n\nChange-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c\n""}, {'number': 3, 'created': '2017-10-25 15:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fe41a015e9c6adc8b05cc59198a8d3e5c5460ca', 'message': 'Make service object UUID not nullable\n\nFix the UUID entry for the newly added service attribute and\nudpate the unit tests appropriately.\n\nThis makes the UUID entry in the service object not nullable\nand fixes up the unit tests to work properly.  Also introduces\na unit test specifically for the online migration api in the db.\n\nCloses-Bug: #1727091\n\nChange-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c\n'}, {'number': 4, 'created': '2017-10-25 16:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61545b4f41e2d39b6df9a10f29a98f38f562b7b2', 'message': 'Make service object UUID not nullable\n\nFix the UUID entry for the newly added service attribute and\nudpate the unit tests appropriately.\n\nThis makes the UUID entry in the service object not nullable\nand fixes up the unit tests to work properly.  Also introduces\na unit test specifically for the online migration api in the db.\n\nCloses-Bug: #1727091\n\nChange-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c\n'}, {'number': 5, 'created': '2017-10-26 16:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7fbcd12cdee399a57222f9df97bf13dc7e7c191', 'message': 'Make service object UUID not nullable\n\nFix the UUID entry for the newly added service attribute and\nudpate the unit tests appropriately.\n\nThis makes the UUID entry in the service object not nullable\nand fixes up the unit tests to work properly.  Also introduces\na unit test specifically for the online migration api in the db.\n\nCloses-Bug: #1727091\n\nChange-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c\n'}, {'number': 6, 'created': '2017-10-26 16:17:56.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/objects/base.py', 'cinder/tests/unit/api/contrib/test_services.py', 'cinder/tests/unit/scheduler/fakes.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/db/sqlalchemy/api.py', 'cinder/objects/service.py', 'cinder/tests/unit/api/contrib/test_hosts.py', 'cinder/tests/unit/test_cmd.py', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/api/contrib/test_capabilities.py', 'cinder/tests/unit/api/v2/fakes.py', 'cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/tests/unit/volume/test_availability_zone.py', 'cinder/tests/unit/test_service.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/950e693697e78a1af637ab6f8cc6c30afd5ba011', 'message': 'Make service object UUID not nullable\n\nFix the UUID entry for the newly added service attribute and\nudpate the unit tests appropriately.\n\nThis makes the UUID entry in the service object not nullable\nand fixes up the unit tests to work properly.  Also introduces\na unit test specifically for the online migration api in the db.\n\nCloses-Bug: #1727091\n\nChange-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c\n'}]",12,514853,950e693697e78a1af637ab6f8cc6c30afd5ba011,90,39,6,2243,,,0,"Make service object UUID not nullable

Fix the UUID entry for the newly added service attribute and
udpate the unit tests appropriately.

This makes the UUID entry in the service object not nullable
and fixes up the unit tests to work properly.  Also introduces
a unit test specifically for the online migration api in the db.

Closes-Bug: #1727091

Change-Id: I17d3a873cfc8f056c2d31f6c8710489785998d3c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/514853/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/tests/unit/api/contrib/test_services.py', 'cinder/tests/unit/scheduler/fakes.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/objects/service.py', 'cinder/tests/unit/api/contrib/test_hosts.py', 'cinder/tests/unit/test_cmd.py', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/api/contrib/test_capabilities.py', 'cinder/tests/unit/db/test_db_api.py', 'cinder/tests/unit/api/v2/fakes.py', 'cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/tests/unit/volume/test_availability_zone.py', 'cinder/tests/unit/test_service.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py']",17,a7fe5cc99974bf666236f166fe138f443485fa24,bug/1727091," return {'disabled': False, 'uuid': 'a3a593da-7f8d-4bb7-8b4c-f2bc1e0b4824'} if host == 'host_disabled': return {'disabled': True, 'uuid': '4200b32b-0bf9-436c-86b2-0675f6ac218e'}", return {'disabled': False} if host == 'host_disabled': return {'disabled': True},295,93
openstack%2Fcinder~master~Ic7fc1827608190ec47db30b1265bebde616b616b,openstack/cinder,master,Ic7fc1827608190ec47db30b1265bebde616b616b,VMAX driver - Deprecate backend xml configuration,MERGED,2017-10-02 10:37:15.000000000,2018-02-25 13:57:20.000000000,2017-12-05 04:09:40.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12670}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22021}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-10-02 10:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb56e6d190c664c40fd5c17be132bee284ddda6b', 'message': 'This commit deprecates the use of xml file for backend configuration for the vmax. The configuration should be included in the cinder.conf file for security and uniformity\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 2, 'created': '2017-10-02 11:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf1cae951f64979b11d5ceb229adfdb9999e08a5', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 3, 'created': '2017-10-02 11:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71ad2bb2304a3dc4fa3155b0c3d77bd9b0e2a723', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated. Configuration parameters should be set in cinder.conf for security and uniformity. The xml file can still be used but will not be supported after the queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 4, 'created': '2017-10-02 11:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6592b8c146d165bada976632ce6816b91b8e9a7e', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 5, 'created': '2017-10-03 16:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5df183ec621fd1cb175b26c7d931f29b0c6286f9', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 6, 'created': '2017-10-04 15:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a35e0b642a6f0f6ae2506833929d9e07bfa2e35f', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 7, 'created': '2017-10-05 15:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b2e008bbdcdd918dd808b8d4b99f52da88b762a', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 8, 'created': '2017-10-09 12:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c00f3db1324dcac829496c180462f8faaef34c9', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 9, 'created': '2017-10-10 08:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63950a21a2e076b964e23ca8a508a2436117c406', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 10, 'created': '2017-10-10 09:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a083c893a2d54b614fec9f9c07798a1d6767f9f7', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 11, 'created': '2017-10-12 16:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f80a1a6ef7c6dc54abd7b2d2a70ead4126bf2802', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 12, 'created': '2017-10-16 09:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4950976b450e02b699a9f10748e6bf285287e440', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 13, 'created': '2017-10-17 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98e3d1c1a4deeb82230018db7a604cb6955a7fb6', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 14, 'created': '2017-10-18 09:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f06fc151979fb65281c71266b8f49ec3f4eb192a', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\n'}, {'number': 15, 'created': '2017-10-18 10:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4fe06f5cda35af54fc1c1cde67071d5a68742b8', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\nImplements: blueprint backend-xml-deprecation\n'}, {'number': 16, 'created': '2017-10-20 10:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f707991e9b2a89e333c58f2561a4da88ecb6ad8', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\nImplements: blueprint backend-xml-deprecation\n'}, {'number': 17, 'created': '2017-10-24 09:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b68b485670e4db31018c8f8ef47b9d52d7c98aaf', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\nImplements: blueprint backend-xml-deprecation\n'}, {'number': 18, 'created': '2017-10-26 15:43:18.000000000', 'files': ['releasenotes/notes/vmax-deprecate-backend-xml-708a41919bcc55a8.yaml', 'cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec7f04ee97d9484845c41b8c775ec248da8cda4b', 'message': 'VMAX driver - Deprecate backend xml configuration\n\nThe use of xml files for vmax backend configuration is deprecated.\nConfiguration parameters should be set in cinder.conf for security and\nuniformity. The xml file can still be used but will not be supported after\nthe queens release.\n\nChange-Id: Ic7fc1827608190ec47db30b1265bebde616b616b\nImplements: blueprint backend-xml-deprecation\n'}]",43,508843,ec7f04ee97d9484845c41b8c775ec248da8cda4b,355,54,18,22021,,,0,"VMAX driver - Deprecate backend xml configuration

The use of xml files for vmax backend configuration is deprecated.
Configuration parameters should be set in cinder.conf for security and
uniformity. The xml file can still be used but will not be supported after
the queens release.

Change-Id: Ic7fc1827608190ec47db30b1265bebde616b616b
Implements: blueprint backend-xml-deprecation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/508843/18 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",3,bb56e6d190c664c40fd5c17be132bee284ddda6b,bug/1714503,"PortGroups = 'port_groups' RestServerIP = 'rest_server_ip' RestUserName = 'rest_user_name' RestPassword = 'rest_password' RestServerPort = 'rest_server_port' LOG.warning(""Use of xml file in backend configuration is deprecated "" ""in Queens and will not be supported in future releases "")",,126,6
openstack%2Fcinder~master~I8ad7fbdca5a2695734b118d60a29a71064ae9b0b,openstack/cinder,master,I8ad7fbdca5a2695734b118d60a29a71064ae9b0b,VMAX driver - Remove workload for next gen arrays,MERGED,2017-09-25 11:52:58.000000000,2018-02-25 13:56:53.000000000,2017-12-05 04:09:37.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-25 11:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ee0b72d2aac842ef209537eb09efdb158cc2629', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type. This will cause an issue for\nusers using the next gen VMAX arrays.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 2, 'created': '2017-09-25 12:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a7f1daab8a2e75f042173fcf9b2b7c134a53406', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 3, 'created': '2017-10-04 15:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f847d232949953e54ee866c8f9c061b5b4035ac', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 4, 'created': '2017-10-05 15:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c4ea88aa798c7f1add5b99d825f807a2426b8db', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 5, 'created': '2017-10-10 08:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6bff27f0bf99ba55cf17208a854aa407c57a947d', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 6, 'created': '2017-10-12 16:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a71f0cb780a8a4d8df4d1ebe298a90147d1552a', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 7, 'created': '2017-10-16 09:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f683795fcb6eb621c5442a73ed8977867b001c10', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 8, 'created': '2017-10-18 09:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/91b3f0d56a1d8b2fdf9c6c08626970e642e69558', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 9, 'created': '2017-10-20 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c6373cc637ec43ffbc4eafcb5c59b2b6f68b1b0', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}, {'number': 10, 'created': '2017-10-26 15:41:43.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6480e33b9800a501371aeca554d3289d2965a906', 'message': ""VMAX driver - Remove workload for next gen arrays\n\nThe next release of VMAX no longer has an option to set 'Workload' on a\nstorage group. Currently, the VMAX driver expects a workload to be set\nwhen the user creates a VMAX volume type, which will cause an issue for\nusers using the next gen VMAX arrays. This patch rectifies the issue.\n\nChange-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b\nCloses-Bug: 1717289\n""}]",0,507070,6480e33b9800a501371aeca554d3289d2965a906,270,52,10,23414,,,0,"VMAX driver - Remove workload for next gen arrays

The next release of VMAX no longer has an option to set 'Workload' on a
storage group. Currently, the VMAX driver expects a workload to be set
when the user creates a VMAX volume type, which will cause an issue for
users using the next gen VMAX arrays. This patch rectifies the issue.

Change-Id: I8ad7fbdca5a2695734b118d60a29a71064ae9b0b
Closes-Bug: 1717289
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/507070/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",3,3ee0b72d2aac842ef209537eb09efdb158cc2629,bug/1714503, if len(pool_details) == 4: extraspecs[WORKLOAD] = pool_details[1] extraspecs[SRP] = pool_details[2] extraspecs[ARRAY] = pool_details[3] else: # Assume no workload given in pool name extraspecs[SRP] = pool_details[1] extraspecs[ARRAY] = pool_details[2] extraspecs[WORKLOAD] = 'NONE', extraspecs[WORKLOAD] = pool_details[1] extraspecs[SRP] = pool_details[2] extraspecs[ARRAY] = pool_details[3],53,12
openstack%2Fcinder~master~I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b,openstack/cinder,master,I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b,VMAX driver - Implement Tiramisu feature on VMAX,MERGED,2017-09-20 10:07:03.000000000,2018-02-25 13:56:42.000000000,2017-12-05 04:09:34.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-09-20 10:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/078e952af31321b0ebb42485676a33c718594ad6', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 2, 'created': '2017-09-20 20:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8b20b4d0ce729aacbda7e002233d5623a143ecb', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 3, 'created': '2017-09-20 20:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e40c010993ff2f345f4215c43b1319cc85a7d789', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 4, 'created': '2017-09-21 08:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baaaa5c11b48a9d65b1cf16d1301e14af72ad54f', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 5, 'created': '2017-09-22 09:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9de1da62e18f5210a5d8db607746be8f23419f5c', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 6, 'created': '2017-09-22 10:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d425ed498a1d3875f027c9b9147ee81062558abc', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 7, 'created': '2017-10-04 15:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa5ea19e08c405fe667209b5e55767d8253d3820', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 8, 'created': '2017-10-05 15:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07b7f78b8bf980764ce15758e5a47eb09f6c0dbe', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 9, 'created': '2017-10-10 08:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51c74884b4fad588c100f03a0ed0daafeebe46db', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 10, 'created': '2017-10-12 16:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3995eeac6d26e0dbee5e5a4cb19bd936b4c223f', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 11, 'created': '2017-10-16 09:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf7e072a6c3d90a913ac976ed712709c880c49d4', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 12, 'created': '2017-10-18 09:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b037a8eedb0cd2c3a012dd9b534f132d796fb3c8', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 13, 'created': '2017-10-20 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63e2f02a503161b0b2e95954aa312cae1ca793a9', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}, {'number': 14, 'created': '2017-10-26 15:38:26.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'releasenotes/notes/vmax-replication-group-2f65ed92d761f90d.yaml', 'cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6b0c4bca66153634a0685f370283b16fe8e0345', 'message': 'VMAX driver - Implement Tiramisu feature on VMAX\n\nIn Tiramisu, a group construct is used to manage the group\nof volumes to be replicated together for the ease of management.\nThis patch adds this support to the VMAX driver.\n\nChange-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b\nImplements: blueprint vmax-replication-group\n'}]",40,505581,c6b0c4bca66153634a0685f370283b16fe8e0345,331,51,14,23414,,,0,"VMAX driver - Implement Tiramisu feature on VMAX

In Tiramisu, a group construct is used to manage the group
of volumes to be replicated together for the ease of management.
This patch adds this support to the VMAX driver.

Change-Id: I9fffa0c6dc3092f3230cfa5da1ea5f3ff1e3151b
Implements: blueprint vmax-replication-group
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/505581/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",7,078e952af31321b0ebb42485676a33c718594ad6,bug/1714503," if group.name is not None and group.name != group.id: def check_replication_matched(self, volume, extra_specs): """"""Check volume type and group type. This will make sure they do not conflict with each other. :param volume: volume to be checked :param extra_specs: the extra specifications :returns: None :raises: InvalidInput """""" # If volume is not a member of group, skip this check anyway. if not volume.group: return vol_is_re = self.is_replication_enabled(extra_specs) group_is_re = volume.group.is_replicated if not (vol_is_re == group_is_re): msg = _('Replication should be enabled or disabled for both ' 'volume or group. Volume replication status: ' '%(vol_status)s, group replication status: ' '%(group_status)s') % { 'vol_status': vol_is_re, 'group_status': group_is_re} raise exception.InvalidInput(reason=msg) @staticmethod def check_rep_status_enabled(group): """"""Check replication status for group. Group status must be enabled before proceeding with certain operations. :param group: the group object :raises: InvalidInput """""" if group.is_replicated: if group.replication_status != fields.ReplicationStatus.ENABLED: msg = (_('Replication status should be %s for ' 'replication-enabled group.') % fields.ReplicationStatus.ENABLED) raise exception.InvalidInput(reason=msg) else: LOG.debug('Replication is not enabled on group %s, ' 'skip status check.', group.id)", if group.name is not None:,783,112
openstack%2Fcinder~master~Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051,openstack/cinder,master,Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051,ibm-storage: Fix create_volume_from_snapshot,MERGED,2017-10-25 11:34:35.000000000,2018-02-25 13:56:40.000000000,2017-10-29 23:36:55.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10608}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13047}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 20050}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-25 11:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/480b9c4b7d28a0bcb4cac310b534fb71672be405', 'message': 'ibm-storage: Fix create_volume_from_snapshot\n\nIf a snapshot was created from a volume that is part of a generic group,\nthen when calling ""create_volume_from_snapshot"", the exception\nSourceVolumeBadNameError is raised.\nThis is a leftover from the days where there were no generic groups\n(Only consistency groups were exist)\n\nChange-Id: Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051\nCloses-Bug: #1724074\n'}, {'number': 2, 'created': '2017-10-26 14:10:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/104d6fc8207d8633cd6fd650a488e86c80057477', 'message': 'ibm-storage: Fix create_volume_from_snapshot\n\nIf a snapshot was created from a volume that is part of a generic group,\nthen when calling ""create_volume_from_snapshot"", the exception\nSourceVolumeBadNameError is raised.\nThis is a leftover from the days where there were no generic groups\n(Only consistency groups were exist)\n\nChange-Id: Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051\nCloses-Bug: #1724074\n'}]",0,515031,104d6fc8207d8633cd6fd650a488e86c80057477,88,39,2,13047,,,0,"ibm-storage: Fix create_volume_from_snapshot

If a snapshot was created from a volume that is part of a generic group,
then when calling ""create_volume_from_snapshot"", the exception
SourceVolumeBadNameError is raised.
This is a leftover from the days where there were no generic groups
(Only consistency groups were exist)

Change-Id: Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051
Closes-Bug: #1724074
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/515031/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py'],1,480b9c4b7d28a0bcb4cac310b534fb71672be405,bug/1724074," self._create_volume_from_snapshot(volume, snapshot.name, snapshot_size)"," if not snapshot['group_snapshot_id']: snapshot_name = snapshot['name'] else: groupname = self._group_name_from_cgsnapshot_id( snapshot['group_snapshot_id']) snapshot_name = self._volume_name_from_cg_snapshot( groupname, snapshot.volume_name) self._create_volume_from_snapshot( volume, snapshot_name, snapshot_size)",1,9
openstack%2Fcinder~master~I65340b8538104a84b45c0be39d0e0baa4c7c433c,openstack/cinder,master,I65340b8538104a84b45c0be39d0e0baa4c7c433c,Fix incorrect use of assertFalse causing CI failed,MERGED,2017-10-26 02:16:07.000000000,2018-02-25 13:56:39.000000000,2017-11-04 07:49:32.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18320}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-26 02:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee533c3f4f786607c3425d4ba14f85dafb1ac704', 'message': 'Fix incorrect use of assertFalse causing CI failed\n\nassertFalse should not be used with non-boolean args.\n\nChange-Id: I65340b8538104a84b45c0be39d0e0baa4c7c433c\n'}, {'number': 2, 'created': '2017-10-26 03:58:33.000000000', 'files': ['cinder/tests/functional/test_volumes.py', 'cinder/tests/functional/test_group_replication.py', 'cinder/tests/functional/test_groups.py', 'cinder/tests/functional/test_group_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a26e4e5b0f030c984db6cf653d62737dff03cb5', 'message': 'Fix incorrect use of assertFalse causing CI failed\n\nassertFalse should not be used with non-boolean args.\n\nChange-Id: I65340b8538104a84b45c0be39d0e0baa4c7c433c\n'}]",0,515262,5a26e4e5b0f030c984db6cf653d62737dff03cb5,88,33,2,18320,,,0,"Fix incorrect use of assertFalse causing CI failed

assertFalse should not be used with non-boolean args.

Change-Id: I65340b8538104a84b45c0be39d0e0baa4c7c433c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/515262/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/functional/test_group_snapshots.py'],1,ee533c3f4f786607c3425d4ba14f85dafb1ac704,, self.assertIsNone(found_group_snapshot) self.assertIsNone(found_volume) self.assertIsNone(found_group) self.assertIsNone(found_group_from_snap) self.assertIsNone(found_group_snapshot) self.assertIsNone(found_volume) self.assertIsNone(found_group) self.assertIsNone(found_group_from_group) self.assertIsNone(found_volume) self.assertIsNone(found_group) self.assertIsNone(found_group_snapshot) self.assertIsNone(found_volume) self.assertIsNone(found_group), self.assertFalse(found_group_snapshot) self.assertFalse(found_volume) self.assertFalse(found_group) self.assertFalse(found_group_from_snap) self.assertFalse(found_group_snapshot) self.assertFalse(found_volume) self.assertFalse(found_group) self.assertFalse(found_group_from_group) self.assertFalse(found_volume) self.assertFalse(found_group) self.assertFalse(found_group_snapshot) self.assertFalse(found_volume) self.assertFalse(found_group),13,13
openstack%2Fcinder~master~Ia3d9cdecb2567ae40bc61d5d1f7c33b607d3fbad,openstack/cinder,master,Ia3d9cdecb2567ae40bc61d5d1f7c33b607d3fbad,Tests: Fix coverage unit test failure,MERGED,2017-10-25 20:01:46.000000000,2018-02-25 13:56:35.000000000,2017-10-26 20:20:17.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 17565}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-25 20:01:46.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e12a40b5c87258904290a50e99bb72e34268c60', 'message': 'Tests: Fix coverage unit test failure\n\nThis fixes a failure in ""tox -e cover""\ndue to a MagicMock being passed to dirname().\n\nChange-Id: Ia3d9cdecb2567ae40bc61d5d1f7c33b607d3fbad\n'}]",0,515191,9e12a40b5c87258904290a50e99bb72e34268c60,27,22,1,4523,,,0,"Tests: Fix coverage unit test failure

This fixes a failure in ""tox -e cover""
due to a MagicMock being passed to dirname().

Change-Id: Ia3d9cdecb2567ae40bc61d5d1f7c33b607d3fbad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/515191/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_gpfs.py'],1,9e12a40b5c87258904290a50e99bb72e34268c60,," @mock.patch('os.path.dirname') mock_delete_gpfs_file, mock_dirname): mock_dirname.return_value = '/a/dir/'", mock_delete_gpfs_file):,4,1
openstack%2Fcinder~master~Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3,openstack/cinder,master,Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3,Replace DbMigrationError with DBMigrationError,MERGED,2017-09-05 15:12:47.000000000,2018-02-25 13:56:33.000000000,2017-10-26 02:41:42.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17549}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23454}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25571}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-05 15:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1220992e0cd79f853003a33eeddb318d73916a7b', 'message': 'Replace DbMigrationError with DBMigrationError\n\nbecause DbMigrationError is deprecated\n\nChange-Id: Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3\n'}, {'number': 2, 'created': '2017-09-21 16:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2ff47c773931d7e5daf06831b3146b86f2da560', 'message': 'Upgrade oslo.db and Replace DbMigrationError with DBMigrationError\n\nDbMigrationError is deprecated and will NOT be thrown in oslo.db\nsince oslo.db >=4.27.0, DBMigrationError will be thrown instead.\nConsumers should catch DBMigrationError instead of DbMigrationError\n\nChange-Id: Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3\n'}, {'number': 3, 'created': '2017-09-22 03:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53311578f1203b5460c90e9c2ca27e616168d6a6', 'message': 'Upgrade oslo.db and Replace DbMigrationError with DBMigrationError\n\nDbMigrationError is deprecated and will NOT be thrown in oslo.db\nsince oslo.db >=4.27.0, DBMigrationError will be thrown instead.\nConsumers should catch DBMigrationError instead of DbMigrationError\n\nDepends-On: Iab0566cf9f4552e91fa417e64472fa106e8bc86d\nDepends-On: I0ebd69c3d778acb5bec9e136627e345e7fcf2bd3\n\nChange-Id: Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3\n'}, {'number': 4, 'created': '2017-09-30 14:07:28.000000000', 'files': ['cinder/cmd/manage.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa52c9cf0276f678163339a8d28559697ea42d81', 'message': 'Replace DbMigrationError with DBMigrationError\n\nDbMigrationError is deprecated and will NOT be thrown in oslo.db\nsince oslo.db >=4.27.0, DBMigrationError will be thrown instead.\nConsumers should catch DBMigrationError instead of DbMigrationError\n\nDepends-On: Iab0566cf9f4552e91fa417e64472fa106e8bc86d\nDepends-On: I0ebd69c3d778acb5bec9e136627e345e7fcf2bd3\n\nChange-Id: Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3\n'}]",0,500881,aa52c9cf0276f678163339a8d28559697ea42d81,119,45,4,17549,,,0,"Replace DbMigrationError with DBMigrationError

DbMigrationError is deprecated and will NOT be thrown in oslo.db
since oslo.db >=4.27.0, DBMigrationError will be thrown instead.
Consumers should catch DBMigrationError instead of DbMigrationError

Depends-On: Iab0566cf9f4552e91fa417e64472fa106e8bc86d
Depends-On: I0ebd69c3d778acb5bec9e136627e345e7fcf2bd3

Change-Id: Ibb2f105c58252adb7dfe4f1a7d6643410ac031b3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/500881/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/manage.py', 'cinder/tests/unit/test_cmd.py']",2,1220992e0cd79f853003a33eeddb318d73916a7b,oslo-debt-cleanup, db_sync.side_effect = oslo_exception.DBMigrationError, db_sync.side_effect = oslo_exception.DbMigrationError,2,2
openstack%2Fcinder~driverfixes%2Focata~I945300cac84658bbd25182ba615645af881920f8,openstack/cinder,driverfixes/ocata,I945300cac84658bbd25182ba615645af881920f8,ScaleIO Driver - include snap usage in provisioned capacity,MERGED,2017-10-25 16:48:20.000000000,2018-02-25 13:56:32.000000000,2017-10-31 00:26:36.000000000,"[{'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23302}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 26233}]","[{'number': 1, 'created': '2017-10-25 16:48:20.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b9a5858d72d1be9599407b0e9945fb4cd0cf3ab', 'message': 'ScaleIO Driver - include snap usage in provisioned capacity\n\nProvisioned capacity of storage pools was not correctly accounting\nfor space used by snapshots.\n\nChange-Id: I945300cac84658bbd25182ba615645af881920f8\nCloses-Bug: #1724929\n(cherry picked from commit 64180530c14e1d0829788eda1ccb0efc938fbd8e)\n'}]",0,515130,5b9a5858d72d1be9599407b0e9945fb4cd0cf3ab,37,17,1,25033,,,0,"ScaleIO Driver - include snap usage in provisioned capacity

Provisioned capacity of storage pools was not correctly accounting
for space used by snapshots.

Change-Id: I945300cac84658bbd25182ba615645af881920f8
Closes-Bug: #1724929
(cherry picked from commit 64180530c14e1d0829788eda1ccb0efc938fbd8e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/515130/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",2,5b9a5858d72d1be9599407b0e9945fb4cd0cf3ab,bug/1724929," ""snapCapacityInUseInKb"", res['snapCapacityInUseInKb'] + res['thinCapacityAllocatedInKm']) / 2) / units.Mi) ""Free capacity of pool %(pool)s is: %(free)s, """," res['thinCapacityAllocatedInKm']) / 2) / units.Mi) ""free capacity of pool %(pool)s is: %(free)s, """,6,2
openstack%2Fcinder~driverfixes%2Focata~Ic106dbcae8ceaac265b710756ab1874e445ca826,openstack/cinder,driverfixes/ocata,Ic106dbcae8ceaac265b710756ab1874e445ca826,NetApp ONTAP: Fix reporting of provisioned_capacity_gb,MERGED,2017-10-05 13:42:18.000000000,2018-02-25 13:56:25.000000000,2017-10-27 22:12:30.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-05 13:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ea4ca208fc6c88b7af55b21d5435ffd6cd16f0d', 'message': 'NetApp ONTAP: Fix reporting of provisioned_capacity_gb\n\nThe ONTAP drivers in Cinder (""7mode"" and ""cmode"") cannot\nreliably and efficiently track provisioned_capacity_gb as expected\nby the Cinder scheduler.\n\nThe driver authors originally assumed that provisioned_capacity_gb\nis consumed space on the backend. This results in miscalculation of\nover subscription in the Cinder scheduler.\n\nThe fix adopted here is to remove this wrong reporting and rely on\ncalculation of the provisioned_capacity_gb in the scheduler.\n\nChange-Id: Ic106dbcae8ceaac265b710756ab1874e445ca826\nCloses-Bug: #1714209\n(cherry picked from commit 42b8b7fe60ffdd7a7772dc0ab228265dc83344bc)\n(cherry picked from commit 558571b44d9cd2195993e42539fd2c689b179ee6)\nConflicts:\n\tcinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py\n'}, {'number': 2, 'created': '2017-10-25 16:17:11.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'releasenotes/notes/bug-1714209-netapp-ontap-drivers-oversubscription-issue-c4655b9c4858d7c6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eef24cfce800c601e5e1e7a21e026ad9b03d4ed1', 'message': 'NetApp ONTAP: Fix reporting of provisioned_capacity_gb\n\nThe ONTAP drivers in Cinder (""7mode"" and ""cmode"") cannot\nreliably and efficiently track provisioned_capacity_gb as expected\nby the Cinder scheduler.\n\nThe driver authors originally assumed that provisioned_capacity_gb\nis consumed space on the backend. This results in miscalculation of\nover subscription in the Cinder scheduler.\n\nThe fix adopted here is to remove this wrong reporting and rely on\ncalculation of the provisioned_capacity_gb in the scheduler.\n\nChange-Id: Ic106dbcae8ceaac265b710756ab1874e445ca826\nCloses-Bug: #1714209\n(cherry picked from commit 42b8b7fe60ffdd7a7772dc0ab228265dc83344bc)\n(cherry picked from commit 558571b44d9cd2195993e42539fd2c689b179ee6)\nConflicts:\n\tcinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py\n'}]",0,509780,eef24cfce800c601e5e1e7a21e026ad9b03d4ed1,40,18,2,9535,,,0,"NetApp ONTAP: Fix reporting of provisioned_capacity_gb

The ONTAP drivers in Cinder (""7mode"" and ""cmode"") cannot
reliably and efficiently track provisioned_capacity_gb as expected
by the Cinder scheduler.

The driver authors originally assumed that provisioned_capacity_gb
is consumed space on the backend. This results in miscalculation of
over subscription in the Cinder scheduler.

The fix adopted here is to remove this wrong reporting and rely on
calculation of the provisioned_capacity_gb in the scheduler.

Change-Id: Ic106dbcae8ceaac265b710756ab1874e445ca826
Closes-Bug: #1714209
(cherry picked from commit 42b8b7fe60ffdd7a7772dc0ab228265dc83344bc)
(cherry picked from commit 558571b44d9cd2195993e42539fd2c689b179ee6)
Conflicts:
	cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/509780/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'releasenotes/notes/bug-1714209-netapp-ontap-drivers-oversubscription-issue-c4655b9c4858d7c6.yaml']",9,7ea4ca208fc6c88b7af55b21d5435ffd6cd16f0d,bug/1714209,"--- fixes: - The ONTAP drivers (""7mode"" and ""cmode"") have been fixed to not report consumed space as ""provisioned_capacity_gb"". They instead rely on the cinder scheduler's calculation of ""provisioned_capacity_gb"". This fixes the oversubscription miscalculations with the ONTAP drivers. This bugfix affects all three protocols supported by these drivers (iSCSI/FC/NFS). upgrade: - If using the NetApp ONTAP drivers (7mode/cmode), the configuration value for ""max_over_subscription_ratio"" may need to be increased to avoid scheduling problems where storage pools that previously were valid to schedule new volumes suddenly appear to be out of space to the Cinder scheduler. See documentation `here <https://docs.openstack .org/cinder/latest/admin/blockstorage-over-subscription.html>`_. ",,16,17
openstack%2Fcinder~driverfixes%2Focata~I2caa5f2763ec343b0bc875e707924ff9b6424ce5,openstack/cinder,driverfixes/ocata,I2caa5f2763ec343b0bc875e707924ff9b6424ce5,Dell EMC PS: Fix over-subscription ratio stats,MERGED,2017-10-23 14:43:28.000000000,2018-02-25 13:56:01.000000000,2017-10-27 22:12:32.000000000,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26233}]","[{'number': 1, 'created': '2017-10-23 14:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf53aa80d5bc60423bc0081706b1f8c27dbf1f5e', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}, {'number': 2, 'created': '2017-10-23 14:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cb1579fa71640ede04c4f5eeb5f32583b94f68c', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}, {'number': 3, 'created': '2017-10-24 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30ab2f9ae8359a0bb4665a8fe5df60a7ce7a4726', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}, {'number': 4, 'created': '2017-10-25 16:06:44.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e136ad6d2c5a04453ac324df381a30530738ec5', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}]",0,514338,2e136ad6d2c5a04453ac324df381a30530738ec5,46,19,4,10379,,,0,"Dell EMC PS: Fix over-subscription ratio stats

Fixed the provisioned_capacity_gb to use the VolumeReportedSpace
to calculate the over-subscription ratio stats in the Dell EMC
PS volume driver.

Closes Bug: #1719659

Change-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5
(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/514338/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",3,bf53aa80d5bc60423bc0081706b1f8c27dbf1f5e,bug/1719659," 'VolumeReportedSpace: 80GB', 'TotalVolumes: 100']", 'VolumeReserve: 80GB'],10,3
openstack%2Fcinder~stable%2Fpike~I30a4666a058ebbf108fd42028fb0c39e5cb8bcae,openstack/cinder,stable/pike,I30a4666a058ebbf108fd42028fb0c39e5cb8bcae,Add another hack from NOVA_GROUP to generate_cinder_opts.py,MERGED,2017-09-19 10:35:41.000000000,2018-02-25 13:55:58.000000000,2017-10-27 02:43:00.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 18529}, {'_account_id': 18940}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-19 10:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eaa85946f4c0d7df616ee560d24401cdcf5b3146', 'message': ""Add another hack from NOVA_GROUP to generate_cinder_opts.py\n\ngenerate_cinder_opts.py doesn't really handle indirect variables\nin group names, so add manual handlig of NOVA_GROUP.\n\nChange-Id: I30a4666a058ebbf108fd42028fb0c39e5cb8bcae\nCloses-Bug: #1717008\n(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)\n""}, {'number': 2, 'created': '2017-09-19 13:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fb271f4f2f3f0911bc7ee82347fe1821f830ed6', 'message': ""Add another hack from NOVA_GROUP to generate_cinder_opts.py\n\ngenerate_cinder_opts.py doesn't really handle indirect variables\nin group names, so add manual handlig of NOVA_GROUP.\n\nChange-Id: I30a4666a058ebbf108fd42028fb0c39e5cb8bcae\nCloses-Bug: #1717008\n(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)\n""}, {'number': 3, 'created': '2017-10-10 08:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e036c7019fddf36146b2acaeeffa98abef6910d0', 'message': ""Add another hack from NOVA_GROUP to generate_cinder_opts.py\n\ngenerate_cinder_opts.py doesn't really handle indirect variables\nin group names, so add manual handlig of NOVA_GROUP.\n\nChange-Id: I30a4666a058ebbf108fd42028fb0c39e5cb8bcae\nCloses-Bug: #1717008\n(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)\n""}, {'number': 4, 'created': '2017-10-25 16:00:52.000000000', 'files': ['cinder/opts.py', 'cinder/config/generate_cinder_opts.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b65b7fd2572855f00b71557b1cb61d9055c90e5', 'message': ""Add another hack from NOVA_GROUP to generate_cinder_opts.py\n\ngenerate_cinder_opts.py doesn't really handle indirect variables\nin group names, so add manual handlig of NOVA_GROUP.\n\nChange-Id: I30a4666a058ebbf108fd42028fb0c39e5cb8bcae\nCloses-Bug: #1717008\n(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)\n""}]",0,505157,5b65b7fd2572855f00b71557b1cb61d9055c90e5,63,27,4,18940,,,0,"Add another hack from NOVA_GROUP to generate_cinder_opts.py

generate_cinder_opts.py doesn't really handle indirect variables
in group names, so add manual handlig of NOVA_GROUP.

Change-Id: I30a4666a058ebbf108fd42028fb0c39e5cb8bcae
Closes-Bug: #1717008
(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/505157/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/config/generate_cinder_opts.py']",2,eaa85946f4c0d7df616ee560d24401cdcf5b3146,bug/1717008,from cinder.compute import nova if (group_name == 'NOVA_GROUP'): group_name = nova.NOVA_GROUP,,9,6
openstack%2Fcinder~driverfixes%2Fnewton~Ie31a0cfe447aee670018914d379d178933437b8c,openstack/cinder,driverfixes/newton,Ie31a0cfe447aee670018914d379d178933437b8c,VNX: fix issue when backing-up in-use volume,MERGED,2017-09-06 18:19:51.000000000,2018-02-25 13:55:56.000000000,2017-10-27 21:03:01.000000000,"[{'_account_id': 3}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-09-06 18:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1051c0eea88e2f24bd941999f3ec02bebffcfdc', 'message': ""VNX: fix issue when backing-up in-use volume\n\nWhen backing-up an in-use volume, initialize_connection_snapshot did not\nreturn connection information for attaching the snapshot thus causing\nbelow error:\n\nTypeError: 'NoneType' object has no attribute '__getitem__'\n\nThis commit fixes above issue.\n\nChange-Id: Ie31a0cfe447aee670018914d379d178933437b8c\nCloses-bug: #1693956\n(cherry picked from commit 530259db85c3c8faba333381cb7927c0d9e21469)\n(cherry picked from commit e58d89cbff6d212ddfa66607408a02ba3eb14dac)\n""}, {'number': 2, 'created': '2017-10-25 15:55:14.000000000', 'files': ['cinder/volume/drivers/emc/vnx/adapter.py', 'cinder/tests/unit/volume/drivers/emc/vnx/test_adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5cbeb76077345738babc13ebe35b5df6852ded0', 'message': ""VNX: fix issue when backing-up in-use volume\n\nWhen backing-up an in-use volume, initialize_connection_snapshot did not\nreturn connection information for attaching the snapshot thus causing\nbelow error:\n\nTypeError: 'NoneType' object has no attribute '__getitem__'\n\nThis commit fixes above issue.\n\nChange-Id: Ie31a0cfe447aee670018914d379d178933437b8c\nCloses-bug: #1693956\n(cherry picked from commit 530259db85c3c8faba333381cb7927c0d9e21469)\n(cherry picked from commit e58d89cbff6d212ddfa66607408a02ba3eb14dac)\n""}]",0,501370,c5cbeb76077345738babc13ebe35b5df6852ded0,27,14,2,4523,,,0,"VNX: fix issue when backing-up in-use volume

When backing-up an in-use volume, initialize_connection_snapshot did not
return connection information for attaching the snapshot thus causing
below error:

TypeError: 'NoneType' object has no attribute '__getitem__'

This commit fixes above issue.

Change-Id: Ie31a0cfe447aee670018914d379d178933437b8c
Closes-bug: #1693956
(cherry picked from commit 530259db85c3c8faba333381cb7927c0d9e21469)
(cherry picked from commit e58d89cbff6d212ddfa66607408a02ba3eb14dac)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/501370/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/emc/vnx/adapter.py', 'cinder/tests/unit/volume/drivers/emc/vnx/test_adapter.py']",2,d1051c0eea88e2f24bd941999f3ec02bebffcfdc,bug/1693956," common_adapter._initialize_connection = mock.Mock(return_value='fake') conn = common_adapter.initialize_connection_snapshot(snapshot, None) self.assertIs(common_adapter._initialize_connection(), conn)"," common_adapter._initialize_connection = mock.Mock() common_adapter.initialize_connection_snapshot(snapshot, None)",4,3
openstack%2Fcinder~driverfixes%2Focata~If246b5fd91c7fc2c381acc56ef499ada7f411741,openstack/cinder,driverfixes/ocata,If246b5fd91c7fc2c381acc56ef499ada7f411741,Fix config option volume_backend_name's invalid overridden value,MERGED,2017-09-06 16:40:11.000000000,2018-02-25 13:55:55.000000000,2017-10-27 21:28:04.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-09-06 16:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27ee0c6374e1447d1bcff98a7d9805ef0f77d18c', 'message': ""Fix config option volume_backend_name's invalid overridden value\n\noslo.config made method set_override with enforce_type=True\nby default[1], will try to convert override value according to config\noption's type. Config option volume_backend_name is StrOpt[2], need\nbe overridden with string value.\n\nCloses-Bug: #1681334\n\n[1] https://review.openstack.org/#/c/328692/\n[2] http://git.openstack.org/cgit/openstack/cinder/tree/cinder/volume/driver.py#n66\n\nChange-Id: If246b5fd91c7fc2c381acc56ef499ada7f411741\n(cherry picked from commit 2c938e9d9e2b689184cd30709190cf8c38e8a91e)\n(cherry picked from commit cef207a4005ad412fdee83be525b7221fde950df)\n""}, {'number': 2, 'created': '2017-10-25 15:53:26.000000000', 'files': ['cinder/tests/unit/windows/test_windows.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/925876daab92848e580ab2fa728402a8fe5558cc', 'message': ""Fix config option volume_backend_name's invalid overridden value\n\noslo.config made method set_override with enforce_type=True\nby default[1], will try to convert override value according to config\noption's type. Config option volume_backend_name is StrOpt[2], need\nbe overridden with string value.\n\nCloses-Bug: #1681334\n\n[1] https://review.openstack.org/#/c/328692/\n[2] http://git.openstack.org/cgit/openstack/cinder/tree/cinder/volume/driver.py#n66\n\nChange-Id: If246b5fd91c7fc2c381acc56ef499ada7f411741\n(cherry picked from commit 2c938e9d9e2b689184cd30709190cf8c38e8a91e)\n(cherry picked from commit cef207a4005ad412fdee83be525b7221fde950df)\n""}]",0,501348,925876daab92848e580ab2fa728402a8fe5558cc,38,16,2,4523,,,0,"Fix config option volume_backend_name's invalid overridden value

oslo.config made method set_override with enforce_type=True
by default[1], will try to convert override value according to config
option's type. Config option volume_backend_name is StrOpt[2], need
be overridden with string value.

Closes-Bug: #1681334

[1] https://review.openstack.org/#/c/328692/
[2] http://git.openstack.org/cgit/openstack/cinder/tree/cinder/volume/driver.py#n66

Change-Id: If246b5fd91c7fc2c381acc56ef499ada7f411741
(cherry picked from commit 2c938e9d9e2b689184cd30709190cf8c38e8a91e)
(cherry picked from commit cef207a4005ad412fdee83be525b7221fde950df)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/501348/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/windows/test_windows.py'],1,27ee0c6374e1447d1bcff98a7d9805ef0f77d18c,bug/1681334," self.flags(volume_backend_name='volume_backend_name') volume_backend_name='volume_backend_name',"," self.flags(volume_backend_name=mock.sentinel.backend_name) volume_backend_name=mock.sentinel.backend_name,",2,2
openstack%2Fcinder~master~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,master,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2017-10-25 15:29:44.000000000,2018-02-25 13:55:54.000000000,2017-10-27 04:19:35.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-25 15:29:44.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22c09d57687b98faf4193cb1be3d738ddf3bbd28', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n'}]",1,515107,22c09d57687b98faf4193cb1be3d738ddf3bbd28,33,30,1,10379,,,0,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/515107/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",3,22c09d57687b98faf4193cb1be3d738ddf3bbd28,bug/1726591," self.fake_access_id = '1' def test_get_access_record(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = self.access_record_output data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertEqual(self.fake_access_id, data) def test_get_access_record_negative(self): attrs = ('volume', 'select', self.volume['name'], 'access', 'show') with mock.patch.object(self.driver, '_eql_execute') as mock_eql_execute: mock_eql_execute.return_value = [] data = self.driver._get_access_record(self.volume, self.connector) mock_eql_execute.assert_called_with(*attrs) self.assertIsNone(data) ",,45,10
openstack%2Fcinder~master~I2e92b27c36357120fcf0ec5917c6484441c946a8,openstack/cinder,master,I2e92b27c36357120fcf0ec5917c6484441c946a8,Support count info in List&Detail APIs,MERGED,2017-09-19 07:58:18.000000000,2018-02-25 13:55:49.000000000,2017-10-27 00:19:46.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19554}, {'_account_id': 19852}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-19 07:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e14e8cc2ea15da43b9037f5452649ad471c6eaac', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 2, 'created': '2017-09-19 08:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86060e7ca350488415f022dc4be58caf88f1b8e1', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 3, 'created': '2017-09-20 03:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f3d021f5b2c7fed6a370d4c7c749b4bde985d3d', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 4, 'created': '2017-09-23 00:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c4e02b206acb109a0d07580a278725315288df2', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 5, 'created': '2017-09-25 01:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/010bb15cf199ef2956edcc7b35fca134e48b6945', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 6, 'created': '2017-09-25 02:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bf79b55d6b4f1c760620588f1023b164fd2aaf3', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 7, 'created': '2017-09-25 03:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6df0e7c7e9a967bf35a23bebdd79d7665a548da7', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 8, 'created': '2017-09-26 00:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6838460e10ec74ff65539ea2f0e47bfb563a285a', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 9, 'created': '2017-10-18 07:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc00ab4870fce1d1ca3d96cc1b16df8ab36cf76c', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 10, 'created': '2017-10-24 03:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/977b06d5dd7e60bb907c93bc7587194527c6d709', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nPartial-Implements: bp add-amount-info-in-list-api\n""}, {'number': 11, 'created': '2017-10-25 00:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de6f3f68f77f30020597bc40e999dae7a4fbe4f8', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nImplements: bp add-amount-info-in-list-api\n""}, {'number': 12, 'created': '2017-10-25 08:43:47.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/api/v3/snapshots.py', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'cinder/db/sqlalchemy/api.py', 'api-ref/source/v3/parameters.yaml', 'cinder/tests/unit/api/v3/test_backups.py', 'api-ref/source/v3/samples/snapshots-list-response.json', 'api-ref/source/v3/samples/backups-list-response.json', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py', 'api-ref/source/v3/samples/backups-list-detailed-response.json', 'cinder/api/views/snapshots.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/db/api.py', 'api-ref/source/v3/ext-backups.inc', 'cinder/tests/unit/api/v3/test_snapshots.py', 'api-ref/source/v3/samples/volumes-list-detailed-response.json', 'releasenotes/notes/add-count-info-in-list-api-e43wac44yu750c23.yaml', 'api-ref/source/v3/samples/volumes-list-response.json', 'cinder/api/contrib/backups.py', 'api-ref/source/v3/samples/snapshots-list-detailed-response.json', 'cinder/api/views/backups.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23b74639848df37ee25f0d613062862749c7e42d', 'message': ""Support count info in List&Detail APIs\n\nThis patch adds support for display count info\nin volume, backup and snapshot's list&detail APIs\nsince microversion 3.45, for instance:\n\n1. /v3/{project_id}/volumes?with_count=True\n2. /v3/{project_id}/volumes/detail?with_count=True\n\nDepends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b\nChange-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8\nImplements: bp add-amount-info-in-list-api\n""}]",16,505101,23b74639848df37ee25f0d613062862749c7e42d,295,53,12,23083,,,0,"Support count info in List&Detail APIs

This patch adds support for display count info
in volume, backup and snapshot's list&detail APIs
since microversion 3.45, for instance:

1. /v3/{project_id}/volumes?with_count=True
2. /v3/{project_id}/volumes/detail?with_count=True

Depends-On: 1c8fe0ade43da925c5b810ef0cd27817f1c11c7b
Change-Id: I2e92b27c36357120fcf0ec5917c6484441c946a8
Implements: bp add-amount-info-in-list-api
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/505101/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/views/volumes.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/api/v3/snapshots.py', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'cinder/db/sqlalchemy/api.py', 'api-ref/source/v3/parameters.yaml', 'cinder/tests/unit/api/v3/test_backups.py', 'api-ref/source/v3/samples/snapshots-list-response.json', 'api-ref/source/v3/samples/backups-list-response.json', 'api-ref/source/v3/samples/backups-list-detailed-response.json', 'cinder/api/views/snapshots.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/db/api.py', 'api-ref/source/v3/ext-backups.inc', 'cinder/tests/unit/api/v3/test_snapshots.py', 'api-ref/source/v3/samples/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes-list-response.json', 'cinder/api/contrib/backups.py', 'api-ref/source/v3/samples/snapshots-list-detailed-response.json', 'cinder/api/views/backups.py', 'cinder/volume/api.py']",24,e14e8cc2ea15da43b9037f5452649ad471c6eaac,bp/add-amount-info-in-list-api," def calculate_resource_count(self, context, resource_type, filters): filters = filters if filters else {} allTenants = utils.get_bool_param('all_tenants', filters) if context.is_admin and allTenants: del filters['all_tenants'] else: filters['project_id'] = context.project_id return db.calculate_resource_count(context, resource_type, filters) ",,330,24
openstack%2Fcinder~master~I99f2eafbcedf93109c05766b5ceda508e0b16608,openstack/cinder,master,I99f2eafbcedf93109c05766b5ceda508e0b16608,VMware: Add profile ID to connection info,MERGED,2017-10-25 00:44:03.000000000,2018-02-25 13:55:48.000000000,2017-11-05 06:04:37.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-25 00:44:03.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4dbf6df359f95b606f56b97fc4935ce85314e811', 'message': ""VMware: Add profile ID to connection info\n\nThe VMware Nova driver requires the volume's storage profile\nID to associate the volume vmdk with the storage profile\nduring volume attach. Passing the profile ID in connection\ninfo.\n\nChange-Id: I99f2eafbcedf93109c05766b5ceda508e0b16608\n""}]",0,514874,4dbf6df359f95b606f56b97fc4935ce85314e811,36,27,1,9171,,,0,"VMware: Add profile ID to connection info

The VMware Nova driver requires the volume's storage profile
ID to associate the volume vmdk with the storage profile
during volume attach. Passing the profile ID in connection
info.

Change-Id: I99f2eafbcedf93109c05766b5ceda508e0b16608
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/514874/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py']",2,4dbf6df359f95b606f56b97fc4935ce85314e811,profile_id_connection_info," 'profile_id': self._get_storage_profile_id(volume) "" '%(volume_id)s'), profile_id: '%(profile_id)s' for "" ""connector: %(connector)s."", 'profile_id': connection_info['data']['profile_id'],"," "" '%(volume_id)s') for connector: %(connector)s."",",12,2
openstack%2Fcinder~stable%2Fpike~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,stable/pike,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-10-24 20:11:13.000000000,2018-02-25 13:55:39.000000000,2017-10-26 01:17:41.000000000,"[{'_account_id': 7198}, {'_account_id': 10379}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25033}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-24 20:11:13.000000000', 'files': ['cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/983ed799d74ea39a50e13eb49a8379ad31aeda6b', 'message': 'Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""\n\nThis is currently causing unit test failures since\npymysql _show_warnings calls\n    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)\nand this code assumes that the warnings are strings.\n\nThis reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.\n\nChange-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112\n(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)\n'}]",0,514812,983ed799d74ea39a50e13eb49a8379ad31aeda6b,21,13,1,4523,,,0,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/514812/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/test.py'],1,983ed799d74ea39a50e13eb49a8379ad31aeda6b,,," self._disallow_invalid_uuids() def _disallow_invalid_uuids(self): def catch_uuid_warning(message, *args, **kwargs): ovo_message = ""invalid UUID. Using UUIDFields with invalid UUIDs "" \ ""is no longer supported"" if ovo_message in message: raise AssertionError(message) p = mock.patch(""warnings.warn"", side_effect=catch_uuid_warning) p.start() ",0,12
openstack%2Fcinder~master~Ia0261e83171a1a13374b447303e3a61863fa22c2,openstack/cinder,master,Ia0261e83171a1a13374b447303e3a61863fa22c2,Fix manage_existing API behaving wrongly with storage pools,MERGED,2017-10-24 19:12:17.000000000,2018-02-25 13:55:26.000000000,2017-10-30 21:51:50.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 19:12:17.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c7f1762959d53c05f6d37c66908a78e3b822535', 'message': ""Fix manage_existing API behaving wrongly with storage pools\n\nWhen the requested host specifies a pool, Cinder needs to\nvalidate that specified pool in the scheduler\nand assign the 'host' attribute appropriately.\n\nCloses-Bug: 1724958\nChange-Id: Ia0261e83171a1a13374b447303e3a61863fa22c2\n""}]",0,514802,3c7f1762959d53c05f6d37c66908a78e3b822535,64,34,1,16643,,,0,"Fix manage_existing API behaving wrongly with storage pools

When the requested host specifies a pool, Cinder needs to
validate that specified pool in the scheduler
and assign the 'host' attribute appropriately.

Closes-Bug: 1724958
Change-Id: Ia0261e83171a1a13374b447303e3a61863fa22c2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/514802/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,3c7f1762959d53c05f6d37c66908a78e3b822535,bug/1724958," if not cluster_name and bool(volume_utils.extract_host(host, 'pool')): manage_host = host else: manage_host = service.host 'host': manage_host,"," 'host': service.host,",6,1
openstack%2Fcinder~master~I3f95cfe439d65d9cf746d4e3844bc70bc705625e,openstack/cinder,master,I3f95cfe439d65d9cf746d4e3844bc70bc705625e,Fix key_manager API call,MERGED,2017-10-23 21:01:01.000000000,2018-02-25 13:55:23.000000000,2017-10-25 21:17:37.000000000,"[{'_account_id': 8623}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-23 21:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aeaad0231df97cbcfbcb0599ed289ad0d6ff7b7f', 'message': 'Fix key_manager API call\n\nIf you pass importutils.import_class a string that is not actually a\nreference to a python class, you get an ""empty module"" error.\nCinder\'s keymgr.API call used to try to import the castellan backend\ndirectly, but this was not necessary as the castellan key_manager.API\ncall will return the correct backend based on the api_class or backend\noption in the config file. If no api_class or backend option is\nspecified, castellan key_manager API call will return a barbican backend\nby default [1].\n\nCastellan used to require the full class name to specify the backend (i.e.\napi_class=castellan.key_manager.barbican_key_manager.BarbicanKeyManager),\nso the import_class call in cinder was no issue. Recently castellan\nwas updated to use stevedore entry points and the config option name was changed\nto ""backend"" [2]. The change in castellan is backwards compatible so that if\nyou use a full module name instead of the stevedore entry point name, it will\nstill get the correct backend. However, the cinder code was not updated accordingly,\nso any time the shorthand stevedore entry point name for the backend is used\ninstead of the full module name, the import_class call in cinder will fail.\n\nThis change removes the unnecessary import_class call and adds an appropriate\nunit test that shows the ""empty module"" error does not occur anymore.\n\n1. https://github.com/openstack/castellan/blob/b13187b34ddcc88bee57e4e99b0115cb92540b97/castellan/key_manager/__init__.py#L25\n2. https://github.com/openstack/castellan/commit/8980bf7da55dd084ad84c84534fe937f0d43b9c0\n\nCloses-Bug: #1724952\nChange-Id: I3f95cfe439d65d9cf746d4e3844bc70bc705625e\n'}, {'number': 2, 'created': '2017-10-23 21:14:24.000000000', 'files': ['cinder/tests/unit/keymgr/test_init.py', 'cinder/keymgr/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a27bcab802431ff408154a6e246a8ff9697338c', 'message': 'Fix key_manager API call\n\nIf you pass importutils.import_class a string that is not actually a\nreference to a python class, you get an ""empty module"" error.\nCinder\'s keymgr.API call used to try to import the castellan backend\ndirectly, but this was not necessary as the castellan key_manager.API\ncall will return the correct backend based on the api_class or backend\noption in the config file. If no api_class or backend option is\nspecified, castellan key_manager API call will return a barbican backend\nby default [1].\n\nCastellan used to require the full class name to specify the backend (i.e.\napi_class=castellan.key_manager.barbican_key_manager.BarbicanKeyManager),\nso the import_class call in cinder was no issue. Recently castellan\nwas updated to use stevedore entry points and the config option name was changed\nto ""backend"" [2]. The change in castellan is backwards compatible so that if\nyou use a full module name instead of the stevedore entry point name, it will\nstill get the correct backend. However, the cinder code was not updated accordingly,\nso any time the shorthand stevedore entry point name for the backend is used\ninstead of the full module name, the import_class call in cinder will fail.\n\nThis change removes the unnecessary import_class call and adds an appropriate\nunit test that shows the ""empty module"" error does not occur anymore.\n\n1. https://github.com/openstack/castellan/blob/b13187b34ddcc88bee57e4e99b0115cb92540b97/castellan/key_manager/__init__.py#L25\n2. https://github.com/openstack/castellan/commit/8980bf7da55dd084ad84c84534fe937f0d43b9c0\n\nCloses-Bug: #1724952\nChange-Id: I3f95cfe439d65d9cf746d4e3844bc70bc705625e\n'}]",0,514456,1a27bcab802431ff408154a6e246a8ff9697338c,60,33,2,8623,,,0,"Fix key_manager API call

If you pass importutils.import_class a string that is not actually a
reference to a python class, you get an ""empty module"" error.
Cinder's keymgr.API call used to try to import the castellan backend
directly, but this was not necessary as the castellan key_manager.API
call will return the correct backend based on the api_class or backend
option in the config file. If no api_class or backend option is
specified, castellan key_manager API call will return a barbican backend
by default [1].

Castellan used to require the full class name to specify the backend (i.e.
api_class=castellan.key_manager.barbican_key_manager.BarbicanKeyManager),
so the import_class call in cinder was no issue. Recently castellan
was updated to use stevedore entry points and the config option name was changed
to ""backend"" [2]. The change in castellan is backwards compatible so that if
you use a full module name instead of the stevedore entry point name, it will
still get the correct backend. However, the cinder code was not updated accordingly,
so any time the shorthand stevedore entry point name for the backend is used
instead of the full module name, the import_class call in cinder will fail.

This change removes the unnecessary import_class call and adds an appropriate
unit test that shows the ""empty module"" error does not occur anymore.

1. https://github.com/openstack/castellan/blob/b13187b34ddcc88bee57e4e99b0115cb92540b97/castellan/key_manager/__init__.py#L25
2. https://github.com/openstack/castellan/commit/8980bf7da55dd084ad84c84534fe937f0d43b9c0

Closes-Bug: #1724952
Change-Id: I3f95cfe439d65d9cf746d4e3844bc70bc705625e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/514456/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/keymgr/test_init.py', 'cinder/keymgr/__init__.py']",2,aeaad0231df97cbcfbcb0599ed289ad0d6ff7b7f,bug/1724952,from castellan import key_manager return key_manager.API(conf), cls = importutils.import_class(conf.key_manager.backend) return cls(conf),11,2
openstack%2Fcinder~driverfixes%2Fnewton~I39d4230106c891e1b480989daaf72bea5a64e4b3,openstack/cinder,driverfixes/newton,I39d4230106c891e1b480989daaf72bea5a64e4b3,RemoteFS: prevent creation of encrypted volumes,MERGED,2017-10-23 19:00:30.000000000,2018-02-25 13:55:21.000000000,2017-10-26 02:41:22.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-23 19:00:30.000000000', 'files': ['cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/725629a2dc168fe7db7cc1efe6637734108f3d3b', 'message': 'RemoteFS: prevent creation of encrypted volumes\n\nSupport for volume encryption of FS-based volumes is not\ncurrently implemented in Nova.  Creating encrypted volumes\nwith these drivers can result in dangerous and undesired\nbehavior.  Block creation of encrypted volumes for these\ndrivers until this is supported.\n\nThis adds a per-driver switch which can be used to enable\nthis for individual RemoteFS drivers as they are tested.\n\nCloses-Bug: #1675469\n\nChange-Id: I39d4230106c891e1b480989daaf72bea5a64e4b3\n(cherry picked from commit e626f54f8b9793a06be2f2b0a49b2dbbff4ecdd3)\n(cherry picked from commit 689d7468513df4b5c7d032314fdf1d4e3e8f6ebc)\nConflicts:\n\tcinder/volume/drivers/remotefs.py\n'}]",0,514434,725629a2dc168fe7db7cc1efe6637734108f3d3b,13,10,1,4523,,,0,"RemoteFS: prevent creation of encrypted volumes

Support for volume encryption of FS-based volumes is not
currently implemented in Nova.  Creating encrypted volumes
with these drivers can result in dangerous and undesired
behavior.  Block creation of encrypted volumes for these
drivers until this is supported.

This adds a per-driver switch which can be used to enable
this for individual RemoteFS drivers as they are tested.

Closes-Bug: #1675469

Change-Id: I39d4230106c891e1b480989daaf72bea5a64e4b3
(cherry picked from commit e626f54f8b9793a06be2f2b0a49b2dbbff4ecdd3)
(cherry picked from commit 689d7468513df4b5c7d032314fdf1d4e3e8f6ebc)
Conflicts:
	cinder/volume/drivers/remotefs.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/514434/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,725629a2dc168fe7db7cc1efe6637734108f3d3b,bug/1675469," self._supports_encryption = False if volume.encryption_key_id and not self._supports_encryption: message = _(""Encryption is not yet supported."") raise exception.VolumeDriverException(message=message) ",,6,0
openstack%2Fcinder~stable%2Focata~I81899f63da7df99385049121557dbf6f21d18296,openstack/cinder,stable/ocata,I81899f63da7df99385049121557dbf6f21d18296,Imported Translations from Zanata,MERGED,2017-10-23 07:24:12.000000000,2018-02-25 13:55:20.000000000,2017-10-23 14:39:33.000000000,"[{'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-23 07:24:12.000000000', 'files': ['cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3f3fb3c492664f4cc3bf052bd6d076ccc51a81a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I81899f63da7df99385049121557dbf6f21d18296\n'}]",0,514168,f3f3fb3c492664f4cc3bf052bd6d076ccc51a81a,13,9,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I81899f63da7df99385049121557dbf6f21d18296
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/514168/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",12,f3f3fb3c492664f4cc3bf052bd6d076ccc51a81a,zanata/translations,"""Project-Id-Version: cinder 10.0.7.dev4\n""""POT-Creation-Date: 2017-10-07 03:21+0000\n""""PO-Revision-Date: 2016-04-12 06:05+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""""X-Generator: Zanata 3.9.6\n""","""Project-Id-Version: cinder 9.0.0.0rc2.dev202\n""""POT-Creation-Date: 2016-10-07 03:25+0000\n""""PO-Revision-Date: 2016-02-22 01:35+0000\n"" ""Last-Translator: Zbynk Schwarz <zbynek.schwarz@gmail.com>\n""""X-Generator: Zanata 3.7.3\n""msgid ""%(err)s"" msgstr ""%(err)s"" #, python-formatmsgid ""%(error_message)s"" msgstr ""%(error_message)s"" #, python-formatmsgid ""%(message)s"" msgstr ""%(message)s"" #, python-formatmsgid ""API %(name)s failed with error string %(err)s"" msgstr ""API %(name)s selhalo s chybovm etzcem %(err)s"" #, python-formatmsgid ""API key is missing for CloudByte driver."" msgstr ""Ovladai CloudByte chyb kl API."" msgid ""Auth group [%s] details not found in CloudByte storage."" msgstr ""daje ovovac skupiny [%s] nebyly nalezeny v loiti CloudByte."" msgid ""Auth user details not found in CloudByte storage."" msgstr ""Pihlaovac daje uivatele nebyly nalezeny v loiti CloudByte."" #, python-formatmsgid ""Backup is not supported for GlusterFS volumes with snapshots."" msgstr ""Zloha nen podporovna svazky GlusterFS se snmky."" msgid ""Backup is only supported for SOFS volumes without backing file."" msgstr ""Zlohy jsou podporovny pouze u svazk SOFS bez zlonho souboru."" msgid ""Backup is only supported for raw-formatted GlusterFS volumes."" msgstr ""Zloha je podporovna pouze u prost-formtovanch svazk GlusterFS."" msgid ""Backup is only supported for raw-formatted SOFS volumes."" msgstr ""Zlohy jsou podporovny pouze v prost-formtovanch svazcch SOFS."" #, python-format msgid ""Can't access 'scality_sofs_config': %s"" msgstr ""Nelze zskat pstup k 'scality_sofs_config': %s"" msgid ""Cannot execute /sbin/mount.sofs"" msgstr ""Nelze spustit /sbin/mount.sofs"" msgid ""Cannot find Replication Service to create volume for snapshot %s."" msgstr ""Nelze najt slubu replikace pro vytvoen svazku pro snmek %s."" #, python-format msgid ""Cannot find Replication Service to delete snapshot %s."" msgstr ""Nelze najt slubu repliakce pro smazn svazku %s."" #, python-format""Cannot get storage group: %(sgGroupName)s from masking view "" ""%(maskingViewInstanceName)s. "" msgstr """" ""Nelze zskat skupinu loit: %(sgGroupName)s pro zamaskovn "" ""%(maskingViewInstanceName)s. "" #, python-format msgid """"msgid ""Cannot mount Scality SOFS, check syslog for errors"" msgstr """" ""Nelze pipojit Scality SOFS, zkontrolujte zznam systmu pro mon chyby"" msgid ""Cannot place volume %(id)s on %(host)s"" msgstr ""Nelze umstit svazek %(id)s na %(host)s"" #, python-formatmsgid ""Could not load paste app '%(name)s' from %(path)s"" msgstr ""Nelze nast aplikaci vloen '%(name)s' z %(path)s"" #, python-formatmsgid ""Create export for volume failed."" msgstr ""Vytvoen exportu pro svazek selhalo."" #, python-format msgid ""Creating usages for %(begin_period)s until %(end_period)s"" msgstr ""Vytven vyuit pro obdob od %(begin_period)s do %(end_period)s"" ""Current host not valid for volume %(id)s with type %(type)s, migration not "" ""allowed"" msgstr """" ""Souasn hostitel nen platn pro svazek %(id)s s typem %(type)s, pesun "" ""nen povolen"" #, python-format msgid """"msgid ""Database schema downgrade is not allowed."" msgstr ""Snen verze schmatu databze na ni verzi nen povoleno."" msgid """" ""Error adding initiator to group : %(groupName)s. Return code: %(rc)lu. "" ""Error: %(error)s."" msgstr """" ""Chyba pi pidvn zavade do skupiny : %(groupName)s. Nvratov kd: "" ""%(rc)lu. Chyba: %(error)s."" #, python-formatmsgid ""Error executing CloudByte API [%(cmd)s], Error: %(err)s."" msgstr ""Chyba pi provdn [%(cmd)s] CloudByte API, chyba: %(err)s."" msgid ""Error executing EQL command"" msgstr ""Chyba pi provdn pkazu EQL"" #, python-formatmsgid """" ""Error in Operation [%(operation)s] for volume [%(cb_volume)s] in CloudByte "" ""storage: [%(cb_error)s], error code: [%(error_code)s]."" msgstr """" ""Chyba v operaci [%(operation)s] pro svazek [%(cb_volume)s] v loiti "" ""CloudByte: [%(cb_error)s], kd chyby: [%(error_code)s]"" #, python-format#, python-format msgid ""Error response: %s"" msgstr ""Chybov odpov: %s"" msgid ""Failed to create CG %(cgName)s from snapshot %(cgSnapshot)s."" msgstr """" ""Nelze vytvoit skupinu jednotnosti %(cgName)s ze snmku %(cgSnapshot)s."" #, python-formatmsgid """" ""Failed to create snapshot. CloudByte volume information not found for "" ""OpenStack volume [%s]."" msgstr """" ""Nelze vytvoit snmek. Informace o svazku CloudByte nenalezeny ve svazku "" ""Openstack [%s]."" #, python-format#, python-format msgid """" ""Failed to execute CloudByte API [%(cmd)s]. Http status: %(status)s, Error: "" ""%(error)s."" msgstr """" ""Nelze provst [%(cmd)s] CloudByte API. Stav http: %(status)s, chyba: "" ""%(error)s."" msgid ""Failed to get CloudByte account details for account [%s]."" msgstr ""Nelze zskat daje tu CloudByte [%s]."" #, python-formatmsgid ""Gluster config file at %(config)s doesn't exist"" msgstr ""Konfiguran soubor Gluster v %(config)s neexistuje."" #, python-format#, python-format msgid ""I/O group %(iogrp)d is not valid; available I/O groups are %(avail)s."" msgstr """" ""Skupina vstupu/vstupu %(iogrp)d nen platn; platn skupiny jsou %(avail)s."" msgid ""Invalid argument"" msgstr ""Neplatn argument"" msgid ""Invalid argument - whence=%s not supported"" msgstr ""Neplatn argument - whence=%s nen podporovno"" #, python-formatmsgid ""Invalid chap user details found in CloudByte storage."" msgstr """" ""V loiti CloudByte nalezeny neplatn pihlaovac daje CHAP pro uivatele."" ""Issuing a fail-over failed because replication is not properly configured."" msgstr """" ""Vyvoln zaveden zlonho systmu, protoe replikace nen sprvn "" ""nastavena."" #, python-format msgid ""Job id not found in CloudByte's create volume [%s] response."" msgstr ""kol nebyl nalezen v CloudByte odpovdi pro vytvoen svazku [%s]."" #, python-format msgid ""Job id not found in CloudByte's delete volume [%s] response."" msgstr ""kol nebyl nalezen v CloudByte odpovdi pro smazn svazku [%s]."" msgid """"msgid ""Link path already exists and its not a symlink"" msgstr ""Cesta odkazu ji existuje a nen to symbolick odkaz."" ""Manage volume is not supported if FAST is enable. FAST policy: "" ""%(fastPolicyName)s."" msgstr """" ""Sprva svazku nen podporovna, pokud je FAST povoleno. Zsada FAST: "" ""%(fastPolicyName)s."" #, python-format msgid """"msgid ""Must implement find_retype_host"" msgstr ""Je nutn zavst find_retype_host"" msgid ""Must implement host_passes_filters"" msgstr ""Je nutn zavst host_passes_filters"" msgid ""Must specify 'host'."" msgstr ""Muste zadat 'host'."" #, python-format msgid ""No backup with id %s"" msgstr ""dn zloha s id %s"" #, python-format msgid ""No cgsnapshot with id %s"" msgstr ""dn snmek jednotnosti s id %s"" msgid ""No consistency group with id %s"" msgstr ""dn skupina jednotnosti s id %s"" #, python-formatmsgid ""No iscsi auth groups were found in CloudByte."" msgstr ""V CloudByte nebyly nalezeny dn ovovac skupiny iscsi."" msgid ""No iscsi initiators were found in CloudByte."" msgstr ""V CloudByte nebyly nalezeny dn zavade iscsi."" #, python-format msgid ""No iscsi service found for CloudByte volume [%s]."" msgstr ""Ve svazku Cloudbyte [%s] nebyly nalezeny dn sluby iscsi."" msgid ""No iscsi services found in CloudByte storage."" msgstr ""V loiti Cloudbyte nebyly nalezeny dn sluby iscsi."" msgid ""No mounted Gluster shares found"" msgstr ""Nenalezena dn pipojen sdlen Gluster"" msgid """" ""No response was received from CloudByte storage list iSCSI auth user API "" ""call."" msgstr """" ""dn odpov pi vpisu voln API pihlaovacch daj uivatele iSCSI "" ""loit CloudByte."" msgid ""No response was received from CloudByte storage list tsm API call."" msgstr ""dn odpov od vpisu voln api tsm loit CloudByte."" msgid ""No response was received from CloudByte's list filesystem api call."" msgstr ""dn odpov od vpisu voln api souborovho systmu CloudByte."" msgid ""No service VIP configured and no nexenta_client_address"" msgstr ""Nenastavena dn VIP pro slubu a nejsou dn adresy klienta nexenta"" msgid ""No source snapshots provided to create consistency group %s."" msgstr """" ""Nebyly zadny dn zdrojov snmky pro vytvoen skupiny jednotnosti %s."" #, python-formatmsgid ""No valid host was found. %(reason)s"" msgstr ""Nebyl nalezen dn platn hostitel. %(reason)s"" #, python-format msgid ""No valid hosts for volume %(id)s with type %(type)s"" msgstr ""dn platn hostitel pro svazek %(id)s s typem %(type)s"" #, python-formatmsgid ""No volume was found at CloudByte storage."" msgstr ""V loiti CloudByte nebyl nalezen dn svazek."" msgid ""No volumes found in CloudByte storage."" msgstr ""V loiti Cloudbyte nebyly nalezeny dn svazky."" msgid ""No weighed hosts available"" msgstr ""dn ven hostitel nejsou dostupn"" #, python-format msgid ""Not able to find a suitable datastore for the volume: %s."" msgstr ""Nelze nalzt vhodn datov loit pro svazek: %s."" msgid ""Null response received from CloudByte's list filesystem."" msgstr ""Pi vpisu souborovho sytmu CloudByte byla obdrena nulov odpov."" msgid ""Null response received from CloudByte's list iscsi auth groups."" msgstr ""Obdrena przdn odpov od vpisu ovovacch skupin iscsi CloudByte."" msgid ""Null response received from CloudByte's list iscsi initiators."" msgstr ""Od vpisu zavad iscsi CloudByte byla obdrena przdn odpov."" msgid ""Null response received from CloudByte's list volume iscsi service."" msgstr ""Od vpisu slueb iscsi svazku CloudByte byla obdrena przdn odpov."" #, python-format msgid ""Null response received while creating volume [%s] at CloudByte storage."" msgstr """" ""Pi vytven svazku [%s] v loiti CloudByte byla obdrena przdn odpov."" #, python-format msgid ""Null response received while deleting volume [%s] at CloudByte storage."" msgstr """" ""Pi mazn svazku [%s] v loiti CloudByte byla obdrena przdn odpov."" #, python-format msgid """" ""Null response received while querying for [%(operation)s] based job "" ""[%(job)s] at CloudByte storage."" msgstr """" ""Pi dotazovn kolu [%(job)s] vyuvajc [%(operation)s] v loiti "" ""CloudByte byla obdrena przdn odpov."" msgid ""Option gpfs_images_share_mode is not set correctly."" msgstr ""Volba gpfs_images_share_mode nen sprvn nastavena."" msgid """" ""Provider information w.r.t CloudByte storage was not found for OpenStack "" ""volume [%s]."" msgstr """" ""Informace poskytovatele s ohledem na loit Cloudbyte nebyly nalezeny pro "" ""svazek OpenStack [%s]."" #, python-formatmsgid ""Quota %s limit must be equal or greater than existing resources."" msgstr ""Limit kvty %s mus bt vt nebo rovno existujcm zdrojm."" #, python-format#, python-format msgid """" ""Requested volume size %(size)d is larger than maximum allowed limit "" ""%(limit)d."" msgstr """" ""Poadovan velikost svazku %(size)d je vt ne maximln povolen limit "" ""%(limit)d."" #, python-format msgid """" ""Snapshot cannot be created because volume %(vol_id)s is not available, "" ""current volume status: %(vol_status)s."" msgstr """" ""Snmek nelze vytvoit protoe svazek %(vol_id)s nen dostupn, souasn stav "" ""svazku: %(vol_status)s."" msgid ""Snapshot status must be \""available\"" to clone."" msgstr ""Stav snmku mus bt pro klonovn \""available\""."" msgid ""Storage Profile %s not found."" msgstr ""Profil loit %s nenalezen."" #, python-format#, python-format msgid """" ""TSM [%(tsm)s] was not found in CloudByte storage for account [%(account)s]."" msgstr """" ""TSM [%(tsm)s] nebylo v loiti CloudByte nalezeno pro et [%(account)s]."" msgid ""The EQL array has closed the connection."" msgstr ""Pole EQL uzavelo pipojen."" msgid """" ""The mount %(mount_path)s is not a valid Quobyte USP volume. Error: %(exc)s"" msgstr ""Pipojen %(mount_path)s nen platn svazek Quobyte USP. Chyba %(exc)s"" #, python-formatmsgid ""There's no Gluster config file configured (%s)"" msgstr ""Nen nastaven dn konfiguran soubor Gluster (%s)"" #, python-format""Transfer %(transfer_id)s: Volume id %(volume_id)s in unexpected state "" ""%(status)s, expected awaiting-transfer"" msgstr """" ""Penos %(transfer_id)s: Svazek s ID %(volume_id)s je v neoekvanm stavu "" ""%(status)s, pedpokldno ekn na penos"" #, python-format msgid """"msgid ""Unable to get target endpoints for hardwareId %(hardwareIdInstance)s."" msgstr """" ""Nelze zskat clov koncov body pro hardware s ID %(hardwareIdInstance)s."" #, python-formatmsgid ""Unknown Gluster exception"" msgstr ""Neznm vjimka Gluster"" msgid ""Value required for 'scality_sofs_config'"" msgstr ""Je teba zadat hodnotu pro 'scality_sofs_config'"" msgid ""Volume %s is already managed by OpenStack."" msgstr ""Svazek %s ji je spravovn OpenStack."" #, python-formatmsgid """" ""Volume [%(cb_vol)s] was not found at CloudByte storage corresponding to "" ""OpenStack volume [%(ops_vol)s]."" msgstr """" ""Svazek [%(cb_vol)s] nebyl nalezen v loiti CloudByte odpovdajc svazku "" ""Openstack [%(ops_vol)s]."" #, python-format msgid ""Volume [%s] not found in CloudByte storage."" msgstr ""Svazek [%s] nebyl nalezen v loiti CloudByte."" #, python-formatmsgid ""Volume is not local to this node"" msgstr ""Svazek nen pro tento uzel mstnm"" msgid ""Volume must be available"" msgstr ""Svazek mus bt dostupn"" #, python-format msgid ""Volume status must be \""available\"" or \""in-use\"" for snapshot. (is %s)"" msgstr """" ""Stav svazku mus bt pro vytvoen snmku \""available\"" nebo \""in-use\"". "" ""(nyn je %s)"" msgid ""Volume status must be \""available\"" or \""in-use\""."" msgstr ""Stav svazku mus bt \""available\"" nebo \""in-use\""."" #, python-format msgid ""Volume status must be %s to reserve."" msgstr ""Stav svazku mus bt pro rezervaci %s."" msgid ""failed to create new_volume on destination host"" msgstr ""nelze vytvoit nov svazek na clovm hostiteli"" #, python-format msgid ""file already exists at %s"" msgstr ""soubor ji existuje v %s"" msgid ""fileno() not supported by RBD()"" msgstr ""fileno() nen podporovn RBD()"" msgid ""flush() not supported in this version of librbd"" msgstr ""flush() nen podporovn touto verz librbd"" msgid ""mount.glusterfs is not installed"" msgstr ""mount.glusterfs nen nainstalovno"" msgid ""timeout creating new_volume on destination host"" msgstr ""pi vytven novho svazku na clovm hostiteli vyprel asov limit"" msgid ""umount: %s: not mounted"" msgstr ""odpojen: %s: nen pipojeno"" #, python-format msgid ""umount: %s: target is busy"" msgstr ""odpojen: %s: cl je zaneprzdnn"" msgid ""umount: <mnt_path>: some other error"" msgstr ""odpojen: <cesta_pipojen>: njak jin chyba"" msgid ""umount: <mnt_path>: target is busy"" msgstr ""odpojen: <cesta_pipojen>: zazen je zaneprzdnno"" #, python-formatmsgid ""volume is not local to this node"" msgstr ""svazek nen pro tento uzel mstnm"" ",241,6513
openstack%2Fcinder~master~Ib9fc4e14333548b84666e3f571e7b42fe20e0319,openstack/cinder,master,Ib9fc4e14333548b84666e3f571e7b42fe20e0319,Clean up driver configuration reference,MERGED,2017-10-20 21:07:30.000000000,2018-02-25 13:55:19.000000000,2017-10-26 17:04:00.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-20 21:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e667fe963729d67d667d186982ee2e52f4c7683b', 'message': 'Clean up driver configuration reference\n\nOver the last few cycles we have removed drivers, but we did not always\nclean up the documentation from the openstack-manuals project. Those docs\nwere moved over wholesale as part of the docs migration, so we ended up\nwith them in the repo with no corresponding driver files.\n\nThis removes those leftover docs and cleans up the generated documentation.\n\nChange-Id: Ib9fc4e14333548b84666e3f571e7b42fe20e0319\n'}, {'number': 2, 'created': '2017-10-21 01:06:38.000000000', 'files': ['doc/source/configuration/tables/cinder-cloudbyte.inc', 'doc/source/configuration/tables/cinder-dothill.inc', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/dothill/dothill_iscsi.py', 'doc/source/configuration/block-storage/drivers/smbfs-volume-driver.rst', 'doc/source/configuration/tables/cinder-nexenta_edge.inc', 'doc/source/configuration/block-storage/drivers/dell-equallogic-driver.rst', 'doc/source/configuration/block-storage/drivers/dothill-driver.rst', 'cinder/volume/drivers/dothill/dothill_fc.py', 'doc/source/configuration/block-storage/drivers/cloudbyte-driver.rst', 'doc/source/configuration/tables/cinder-smbfs.inc', 'doc/source/configuration/block-storage/drivers/nexentaedge-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'doc/source/configuration/block-storage/drivers/scality-sofs-driver.rst', 'doc/source/configuration/tables/cinder-scality.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de953be3d46cc6cc011ce148d96161fa72f79555', 'message': 'Clean up driver configuration reference\n\nOver the last few cycles we have removed drivers, but we did not always\nclean up the documentation from the openstack-manuals project. Those docs\nwere moved over wholesale as part of the docs migration, so we ended up\nwith them in the repo with no corresponding driver files.\n\nThis removes those leftover docs and cleans up the generated documentation.\n\nChange-Id: Ib9fc4e14333548b84666e3f571e7b42fe20e0319\n'}]",1,513852,de953be3d46cc6cc011ce148d96161fa72f79555,46,26,2,11904,,,0,"Clean up driver configuration reference

Over the last few cycles we have removed drivers, but we did not always
clean up the documentation from the openstack-manuals project. Those docs
were moved over wholesale as part of the docs migration, so we ended up
with them in the repo with no corresponding driver files.

This removes those leftover docs and cleans up the generated documentation.

Change-Id: Ib9fc4e14333548b84666e3f571e7b42fe20e0319
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/513852/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-cloudbyte.inc', 'doc/source/configuration/tables/cinder-dothill.inc', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/dothill/dothill_iscsi.py', 'doc/source/configuration/block-storage/drivers/smbfs-volume-driver.rst', 'doc/source/configuration/tables/cinder-nexenta_edge.inc', 'doc/source/configuration/block-storage/drivers/dell-equallogic-driver.rst', 'doc/source/configuration/block-storage/drivers/dothill-driver.rst', 'cinder/volume/drivers/dothill/dothill_fc.py', 'doc/source/configuration/block-storage/drivers/cloudbyte-driver.rst', 'doc/source/configuration/tables/cinder-smbfs.inc', 'doc/source/configuration/block-storage/drivers/nexentaedge-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'doc/source/configuration/block-storage/drivers/scality-sofs-driver.rst', 'doc/source/configuration/tables/cinder-scality.inc']",15,e667fe963729d67d667d186982ee2e52f4c7683b,docs_cleanup,,".. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. .. _cinder-scality: .. list-table:: Description of Scality SOFS volume driver configuration options :header-rows: 1 :class: config-ref-table * - Configuration option = Default value - Description * - **[DEFAULT]** - * - ``scality_sofs_config`` = ``None`` - (String) Path or URL to Scality SOFS configuration file * - ``scality_sofs_mount_point`` = ``$state_path/scality`` - (String) Base dir where Scality SOFS shall be mounted * - ``scality_sofs_volume_dir`` = ``cinder/volumes`` - (String) Path from Scality SOFS root to volume dir ",68,667
openstack%2Fcinder~master~Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b,openstack/cinder,master,Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b,Enable using extra-specs for SF attributes,MERGED,2017-10-17 18:30:41.000000000,2018-02-25 13:55:17.000000000,2017-10-24 18:17:50.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-17 18:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65f9fc9b48ea21e0499e45246c74dd827359ccd8', 'message': 'There a number of use cases where it\'s desirable to do things with volumes\nout of band (ie not under Cinders control). One example is external backups\nwithout the use of c-backup.\n\nIt\'s pretty simple to signify these sorts of things from Cinder through\nthe use of extra-specs keys. For example, create a type \'daily-backup\'\nwith extra-specs \'SFAttribute:backup=daily\' which may instruct some automation\nto query the SolidFire device for any volumes with the attribute\n""backup=daily"" to be backed up on a daily schedule.\n\nThese attributes are just metadata and can be used for anything.\nThey don\'t effect Cinder\'s operation or change anything in how the volume behaves\nfrom Cinders perspective, but instead add additional information and signals for\nadmins and automation outside of OpenStack/Cinder.\n\nThe only requirement is the use of a key delimiter, in this case `SFAttribute`\nwhich instructs the scheduler to ignore the associated key for scheduling, and also\nis used as a sentinal for the SF driver to determine what to store in attributes.\n\nChange-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b\nImplements: blueprint enable-extraspec-keys-as-solidfire-attributes\n'}, {'number': 2, 'created': '2017-10-17 18:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ae19b2edfcd8a07cfab25e9ef4ea540f7fad6fa', 'message': 'Enable using extra-specs for SF attributes\n\nThere a number of use cases where it\'s desirable to do things with volumes\nout of band (ie not under Cinders control). One example is external backups\nwithout the use of c-backup.\n\nIt\'s pretty simple to signify these sorts of things from Cinder through\nthe use of extra-specs keys. For example, create a type \'daily-backup\'\nwith extra-specs \'SFAttribute:backup=daily\' which may instruct some automation\nto query the SolidFire device for any volumes with the attribute\n""backup=daily"" to be backed up on a daily schedule.\n\nThese attributes are just metadata and can be used for anything.\nThey don\'t effect Cinder\'s operation or change anything in how the volume behaves\nfrom Cinders perspective, but instead add additional information and signals for\nadmins and automation outside of OpenStack/Cinder.\n\nThe only requirement is the use of a key delimiter, in this case `SFAttribute`\nwhich instructs the scheduler to ignore the associated key for scheduling, and also\nis used as a sentinal for the SF driver to determine what to store in attributes.\n\nChange-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b\nImplements: blueprint enable-extraspec-keys-as-solidfire-attributes\n'}, {'number': 3, 'created': '2017-10-19 15:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a1767d5c99cf77588a224592e8b3db074fd3ab3', 'message': 'Enable using extra-specs for SF attributes\n\nThere a number of use cases where it\'s desirable to do things with volumes\nout of band (ie not under Cinders control). One example is external backups\nwithout the use of c-backup.\n\nIt\'s pretty simple to signify these sorts of things from Cinder through\nthe use of extra-specs keys. For example, create a type \'daily-backup\'\nwith extra-specs \'SFAttribute:backup=daily\' which may instruct some automation\nto query the SolidFire device for any volumes with the attribute\n""backup=daily"" to be backed up on a daily schedule.\n\nThese attributes are just metadata and can be used for anything.\nThey don\'t effect Cinder\'s operation or change anything in how the volume behaves\nfrom Cinders perspective, but instead add additional information and signals for\nadmins and automation outside of OpenStack/Cinder.\n\nThe only requirement is the use of a key delimiter, in this case `SFAttribute`\nwhich instructs the scheduler to ignore the associated key for scheduling, and also\nis used as a sentinal for the SF driver to determine what to store in attributes.\n\nChange-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b\nImplements: blueprint enable-extraspec-keys-as-solidfire-attributes\n'}, {'number': 4, 'created': '2017-10-19 19:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8844d7f90c253dd5995bb50eb7f8d384fb459c1d', 'message': 'Enable using extra-specs for SF attributes\n\nThere a number of use cases where it\'s desirable to do things with volumes\nout of band (ie not under Cinders control). One example is external backups\nwithout the use of c-backup.\n\nIt\'s pretty simple to signify these sorts of things from Cinder through\nthe use of extra-specs keys. For example, create a type \'daily-backup\'\nwith extra-specs \'SFAttribute:backup=daily\' which may instruct some automation\nto query the SolidFire device for any volumes with the attribute\n""backup=daily"" to be backed up on a daily schedule.\n\nThese attributes are just metadata and can be used for anything.\nThey don\'t effect Cinder\'s operation or change anything in how the volume behaves\nfrom Cinders perspective, but instead add additional information and signals for\nadmins and automation outside of OpenStack/Cinder.\n\nThe only requirement is the use of a key delimiter, in this case `SFAttribute`\nwhich instructs the scheduler to ignore the associated key for scheduling, and also\nis used as a sentinal for the SF driver to determine what to store in attributes.\n\nChange-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b\nImplements: blueprint enable-extraspec-keys-as-solidfire-attributes\n'}, {'number': 5, 'created': '2017-10-20 15:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18c84dbafdfe064dd00cc61d117cbf9e3e052947', 'message': 'Enable using extra-specs for SF attributes\n\nThere a number of use cases where it\'s desirable to do things with volumes\nout of band (ie not under Cinders control). One example is external backups\nwithout the use of c-backup.\n\nIt\'s pretty simple to signify these sorts of things from Cinder through\nthe use of extra-specs keys. For example, create a type \'daily-backup\'\nwith extra-specs \'SFAttribute:backup=daily\' which may instruct some automation\nto query the SolidFire device for any volumes with the attribute\n""backup=daily"" to be backed up on a daily schedule.\n\nThese attributes are just metadata and can be used for anything.\nThey don\'t effect Cinder\'s operation or change anything in how the volume behaves\nfrom Cinders perspective, but instead add additional information and signals for\nadmins and automation outside of OpenStack/Cinder.\n\nThe only requirement is the use of a key delimiter, in this case `SFAttribute`\nwhich instructs the scheduler to ignore the associated key for scheduling, and also\nis used as a sentinal for the SF driver to determine what to store in attributes.\n\nChange-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b\nImplements: blueprint enable-extraspec-keys-as-solidfire-attributes\n'}, {'number': 6, 'created': '2017-10-20 15:39:01.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/56a860e835b57c76012d2669eb1eb1fdb1ed8cbc', 'message': 'Enable using extra-specs for SF attributes\n\nThere a number of use cases where it\'s desirable to do things with volumes\nout of band (ie not under Cinders control). One example is external backups\nwithout the use of c-backup.\n\nIt\'s pretty simple to signify these sorts of things from Cinder through\nthe use of extra-specs keys. For example, create a type \'daily-backup\'\nwith extra-specs \'SFAttribute:backup=daily\' which may instruct some automation\nto query the SolidFire device for any volumes with the attribute\n""backup=daily"" to be backed up on a daily schedule.\n\nThese attributes are just metadata and can be used for anything.\nThey don\'t effect Cinder\'s operation or change anything in how the volume behaves\nfrom Cinders perspective, but instead add additional information and signals for\nadmins and automation outside of OpenStack/Cinder.\n\nThe only requirement is the use of a key delimiter, in this case `SFAttribute`\nwhich instructs the scheduler to ignore the associated key for scheduling, and also\nis used as a sentinal for the SF driver to determine what to store in attributes.\n\nChange-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b\nImplements: blueprint enable-extraspec-keys-as-solidfire-attributes\n'}]",0,512786,56a860e835b57c76012d2669eb1eb1fdb1ed8cbc,104,35,6,2243,,,0,"Enable using extra-specs for SF attributes

There a number of use cases where it's desirable to do things with volumes
out of band (ie not under Cinders control). One example is external backups
without the use of c-backup.

It's pretty simple to signify these sorts of things from Cinder through
the use of extra-specs keys. For example, create a type 'daily-backup'
with extra-specs 'SFAttribute:backup=daily' which may instruct some automation
to query the SolidFire device for any volumes with the attribute
""backup=daily"" to be backed up on a daily schedule.

These attributes are just metadata and can be used for anything.
They don't effect Cinder's operation or change anything in how the volume behaves
from Cinders perspective, but instead add additional information and signals for
admins and automation outside of OpenStack/Cinder.

The only requirement is the use of a key delimiter, in this case `SFAttribute`
which instructs the scheduler to ignore the associated key for scheduling, and also
is used as a sentinal for the SF driver to determine what to store in attributes.

Change-Id: Ia02edfb6f30edfccb2bcdd41e8a3fdd7331cef5b
Implements: blueprint enable-extraspec-keys-as-solidfire-attributes
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/512786/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,65f9fc9b48ea21e0499e45246c74dd827359ccd8,bp/enable-extraspec-keys-as-solidfire-attributes," fake_type = {'extra_specs': {}} mock.patch.object(volume_types, 'get_volume_type', return_value=fake_type), \ def test_extract_sf_attributes_from_extra_specs(self): type_id = '290edb2a-f5ea-11e5-9ce9-5e5517507c66' fake_type = {'extra_specs': {'SFAttribute:foo': 'bar', 'SFAttribute:backup': 'daily'}} expected = [{'foo': 'bar'}, {'backup': 'daily'}] sfv = solidfire.SolidFireDriver(configuration=self.configuration) with mock.patch.object(volume_types, 'get_volume_type', return_value=fake_type): res = sfv._extract_sf_attributes_from_extra_specs(type_id) self.assertEqual(expected, res)",,35,0
openstack%2Fcinder~stable%2Fpike~I861d61dd11f982a8a54b57b6a6c895e6ebe399c0,openstack/cinder,stable/pike,I861d61dd11f982a8a54b57b6a6c895e6ebe399c0,VNX: Fix issue when creating without type,MERGED,2017-10-20 02:34:02.000000000,2018-02-25 13:55:16.000000000,2017-10-26 04:52:00.000000000,"[{'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-20 02:34:02.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04a6a0ee12ba8a1da22d545e811dd776571d8586', 'message': ""VNX: Fix issue when creating without type\n\nWhen creating a volume without type, a error will be thrown:\n\nAttributeError: 'NoneType' object has no attribute 'qos_specs'\n\nThis issue was introduced in qos patch:\nhttps://review.openstack.org/#/c/441786/\n\nChange-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0\nCloses-bug: #1720063\n(cherry picked from commit 5345f8cb9c8ec416aa5d764ea5ea47e3ff4d8d1d)\n""}]",0,513588,04a6a0ee12ba8a1da22d545e811dd776571d8586,32,16,1,10628,,,0,"VNX: Fix issue when creating without type

When creating a volume without type, a error will be thrown:

AttributeError: 'NoneType' object has no attribute 'qos_specs'

This issue was introduced in qos patch:
https://review.openstack.org/#/c/441786/

Change-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0
Closes-bug: #1720063
(cherry picked from commit 5345f8cb9c8ec416aa5d764ea5ea47e3ff4d8d1d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/513588/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py']",2,04a6a0ee12ba8a1da22d545e811dd776571d8586,bug/1720063-stable/pike,from cinder.volume import volume_types type_id = volume.volume_type_id if type_id is None: return None # Use the provided interface to avoid permission issue qos_specs = volume_types.get_volume_type_qos_specs(type_id) # Front end QoS specs are handled by nova. We ignore them here., qos_specs = volume.volume_type.qos_specs # Front end QoS specs are handled by nova. Just ignore them here.,27,20
openstack%2Fcinder~master~I945300cac84658bbd25182ba615645af881920f8,openstack/cinder,master,I945300cac84658bbd25182ba615645af881920f8,ScaleIO Driver - include snap usage in provisioned capacity,MERGED,2017-10-19 20:02:59.000000000,2018-02-25 13:55:13.000000000,2017-10-24 23:23:01.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-19 20:02:59.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/64180530c14e1d0829788eda1ccb0efc938fbd8e', 'message': 'ScaleIO Driver - include snap usage in provisioned capacity\n\nProvisioned capacity of storage pools was not correctly accounting\nfor space used by snapshots.\n\nChange-Id: I945300cac84658bbd25182ba615645af881920f8\nCloses-Bug: #1724929\n'}]",0,513490,64180530c14e1d0829788eda1ccb0efc938fbd8e,54,31,1,25033,,,0,"ScaleIO Driver - include snap usage in provisioned capacity

Provisioned capacity of storage pools was not correctly accounting
for space used by snapshots.

Change-Id: I945300cac84658bbd25182ba615645af881920f8
Closes-Bug: #1724929
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/513490/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",2,64180530c14e1d0829788eda1ccb0efc938fbd8e,bug/1724929," ""snapCapacityInUseInKb"", res['snapCapacityInUseInKb'] +",,4,0
openstack%2Fcinder~master~Id5d915064aa24a5b0c66364ecd618561ed18df9b,openstack/cinder,master,Id5d915064aa24a5b0c66364ecd618561ed18df9b,Change Install 'Tutorials' to 'Guides',MERGED,2017-10-17 17:55:40.000000000,2018-02-25 13:54:58.000000000,2017-10-18 21:50:33.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-17 17:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cbd8460aaacf1618a9cb1849e045b5dfdbcf145', 'message': ""Change Install 'Tutorials' to 'Guides'\n\nIt was decided by the documentation team that we should,\nfor consistency, call our install documentation 'guides'.\nOur pages were listed as 'Tutorials'.  This change\ncorrects the inconsistency.`\n\nChange-Id: Id5d915064aa24a5b0c66364ecd618561ed18df9b\n""}, {'number': 2, 'created': '2017-10-18 14:43:15.000000000', 'files': ['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index.rst', 'doc/source/install/index-obs.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fd02d1e7feb891313a83fd4e6d17620187be490', 'message': ""Change Install 'Tutorials' to 'Guides'\n\nIt was decided by the documentation team that we should,\nfor consistency, call our install documentation 'guides'.\nOur pages were listed as 'Tutorials'.  This change\ncorrects the inconsistency.\n\nChange-Id: Id5d915064aa24a5b0c66364ecd618561ed18df9b\n""}]",4,512766,1fd02d1e7feb891313a83fd4e6d17620187be490,35,22,2,7198,,,0,"Change Install 'Tutorials' to 'Guides'

It was decided by the documentation team that we should,
for consistency, call our install documentation 'guides'.
Our pages were listed as 'Tutorials'.  This change
corrects the inconsistency.

Change-Id: Id5d915064aa24a5b0c66364ecd618561ed18df9b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/512766/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index.rst', 'doc/source/install/index-obs.rst']",4,1cbd8460aaacf1618a9cb1849e045b5dfdbcf145,change_tutorial_to_guide,================================================================ Cinder Installation Guide for openSUSE and SUSE Linux Enterprise ================================================================,=================================================================== Cinder Installation Tutorial for openSUSE and SUSE Linux Enterprise ===================================================================,9,9
openstack%2Fcinder~master~I8faa55ae7485363c982ce1622a06c05f63185d3b,openstack/cinder,master,I8faa55ae7485363c982ce1622a06c05f63185d3b,Redundant alias in import statement,MERGED,2017-10-18 12:43:20.000000000,2018-02-25 13:54:46.000000000,2017-10-18 21:41:07.000000000,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-18 12:43:20.000000000', 'files': ['cinder/tests/unit/volume/drivers/disco/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/disco/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/disco/test_create_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5b02b0a0b80dc9ffffd4f2a40038cd8d4ee83a7', 'message': 'Redundant alias in import statement\n\nChange-Id: I8faa55ae7485363c982ce1622a06c05f63185d3b\n'}]",0,513021,f5b02b0a0b80dc9ffffd4f2a40038cd8d4ee83a7,15,10,1,18320,,,0,"Redundant alias in import statement

Change-Id: I8faa55ae7485363c982ce1622a06c05f63185d3b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/513021/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/disco/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/disco/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/disco/test_create_snapshot.py']",3,f5b02b0a0b80dc9ffffd4f2a40038cd8d4ee83a7,,from cinder.tests.unit import utils,from cinder.tests.unit import utils as utils,3,3
openstack%2Fcinder~stable%2Fpike~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,stable/pike,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2017-10-18 12:30:41.000000000,2018-02-25 13:54:21.000000000,2017-10-18 21:41:22.000000000,"[{'_account_id': 170}, {'_account_id': 11904}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-18 12:30:41.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d0658febea9a81e54afd62f37a6a9dfe3135797', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n'}]",0,513015,9d0658febea9a81e54afd62f37a6a9dfe3135797,12,7,1,9535,,,0,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/513015/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,9d0658febea9a81e54afd62f37a6a9dfe3135797,bug/1692775," self.assertGreater(len(fake_data), len(result[1]))"," self.assertGreater(len(fake_data), len(result))",3,3
openstack%2Fcinder~master~I065ffba9615af54998ae94a8d2d2fd3853f462cb,openstack/cinder,master,I065ffba9615af54998ae94a8d2d2fd3853f462cb,VMAX driver - detach volume shouldn't remove from volume groups,MERGED,2017-10-05 14:55:48.000000000,2018-02-25 13:54:20.000000000,2017-10-31 12:09:25.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-10-05 14:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d7b06b32d2590bcbd6dcf2246a4f49c01d46b24', 'message': ""VMAX driver - detach volume shouldn't remove from volume groups\n\nDetaching a volume in VMAX removes the volume from all its current\nstorage groups and returns it to its default storage group. This is not\ndesired behaviour when the volume is a member of a generic volume group.\nThe volume should only be removed from the storage group associated\nwith the masking view related to the detach operation (or all masking\nviews in the case of a force detach). This patch rectifies the issue.\n\nChange-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb\nCloses-Bug: 1721207\n""}, {'number': 2, 'created': '2017-10-10 08:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cded5e0aebebe890fa322042f12128c8e880c719', 'message': ""VMAX driver - detach volume shouldn't remove from volume groups\n\nDetaching a volume in VMAX removes the volume from all its current\nstorage groups and returns it to its default storage group. This is not\ndesired behaviour when the volume is a member of a generic volume group.\nThe volume should only be removed from the storage group associated\nwith the masking view related to the detach operation (or all masking\nviews in the case of a force detach). This patch rectifies the issue.\n\nChange-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb\nCloses-Bug: 1721207\n""}, {'number': 3, 'created': '2017-10-18 09:53:31.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27fd333df9a7f5b473225b3c55cd0c250f017134', 'message': ""VMAX driver - detach volume shouldn't remove from volume groups\n\nDetaching a volume in VMAX removes the volume from all its current\nstorage groups and returns it to its default storage group. This is not\ndesired behaviour when the volume is a member of a generic volume group.\nThe volume should only be removed from the storage group associated\nwith the masking view related to the detach operation (or all masking\nviews in the case of a force detach). This patch rectifies the issue.\n\nChange-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb\nCloses-Bug: 1721207\n""}]",0,509800,27fd333df9a7f5b473225b3c55cd0c250f017134,118,43,3,23414,,,0,"VMAX driver - detach volume shouldn't remove from volume groups

Detaching a volume in VMAX removes the volume from all its current
storage groups and returns it to its default storage group. This is not
desired behaviour when the volume is a member of a generic volume group.
The volume should only be removed from the storage group associated
with the masking view related to the detach operation (or all masking
views in the case of a force detach). This patch rectifies the issue.

Change-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb
Closes-Bug: 1721207
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/509800/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",4,2d7b06b32d2590bcbd6dcf2246a4f49c01d46b24,bug/1714503," group_name = self.provision.get_or_create_volume_group( extra_specs[utils.ARRAY], volume.group, extra_specs) self.masking.add_volume_to_storage_group( extra_specs[utils.ARRAY], volume_dict['device_id'], group_name, volume_name, extra_specs) array, volume, device_id, volume_name, extra_specs, True, connector) masking_view_dict[utils.ARRAY], volume, self, array, device_id, volume_name, extra_specs, volume): array, volume, device_id, volume_name, extra_specs, False) extra_specs[utils.ARRAY], volume, device_id, self, array, volume, device_id, srp, target_slo, :param volume: the volume object array, volume, device_id, volume_name, target_extra_specs, array, volume, device_id, rdf_group_no, self.rep_config, remote_array, volume, target_device, volume_name, array, volume, device_id, volume_name, extra_specs, False) remote_array, volume, target_device, volume_name, def enable_rdf(self, array, volume, device_id, rdf_group_no, rep_config, :param volume: the volume object array, volume, device_id, target_name, extra_specs, False) remote_array, volume, target_device, target_name, remote_array, volume, target_device, target_name,"," group_name = self._find_volume_group_name_from_id( extra_specs[utils.ARRAY], volume.group_id) if group_name is not None: self.masking.add_volume_to_storage_group( extra_specs[utils.ARRAY], volume_dict['device_id'], group_name, volume_name, extra_specs) array, device_id, volume_name, extra_specs, True, connector) masking_view_dict[utils.ARRAY], self, array, device_id, volume_name, extra_specs, volume=None): array, device_id, volume_name, extra_specs, False) extra_specs[utils.ARRAY], device_id, self, array, device_id, srp, target_slo, array, device_id, volume_name, target_extra_specs, array, device_id, rdf_group_no, self.rep_config, remote_array, target_device, volume_name, array, device_id, volume_name, extra_specs, False) remote_array, target_device, volume_name, def enable_rdf(self, array, device_id, rdf_group_no, rep_config, array, device_id, target_name, extra_specs, False) remote_array, target_device, target_name, remote_array, target_device, target_name, def _find_volume_group_name_from_id(self, array, group_id): """"""Finds the volume group name given its id :param array: the array serial number :param group_id: the group id :returns: group_name: Name of the group """""" group_name = None sg_list = self.rest.get_storage_group_list(array) for sg in sg_list: if group_id in sg: group_name = sg return group_name return group_name ",165,107
openstack%2Fcinder~master~I1f72a8567faa78fec447b9e0a6f948514b43a864,openstack/cinder,master,I1f72a8567faa78fec447b9e0a6f948514b43a864,VMAX driver - concurrently deleting volumes can fail,MERGED,2017-09-04 10:23:40.000000000,2018-02-25 13:54:19.000000000,2017-10-20 05:29:04.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-09-04 10:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a895290de2c855f31de2a02b5d459b4ac77bb249', 'message': ""VMAX driver - concurrently deleting volumes can fail\n\nWhen concurrently deleting volumes, sometimes the task fails leaving\nthe volume in an 'error_deleting' state. This only occurs when\nimage_volume_cache_enabled is True because a temp snapvx session is\ncreated. This same issue also occurs when there is a batch delete\nof snapshots from the same source volume. The fix locks the delete\nsnapvx session using the source DeviceID as key.\n\nChange-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864\nCloses-Bug: #1714922\n""}, {'number': 2, 'created': '2017-09-20 08:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e1343c3b9cddeefb90c3aa6c64ca107db65db45', 'message': ""VMAX driver - concurrently deleting volumes can fail\n\nWhen concurrently deleting volumes, sometimes the task fails leaving\nthe volume in an 'error_deleting' state. This only occurs when\nimage_volume_cache_enabled is True because a temp snapvx session is\ncreated. This same issue also occurs when there is a batch delete\nof snapshots from the same source volume. The fix locks the delete\nsnapvx session using the source DeviceID as key.\n\nChange-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864\nCloses-Bug: #1714922\n""}, {'number': 3, 'created': '2017-10-04 15:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69d1fac558b0f607cd287741c8ed97474e32a1a9', 'message': ""VMAX driver - concurrently deleting volumes can fail\n\nWhen concurrently deleting volumes, sometimes the task fails leaving\nthe volume in an 'error_deleting' state. This only occurs when\nimage_volume_cache_enabled is True because a temp snapvx session is\ncreated. This same issue also occurs when there is a batch delete\nof snapshots from the same source volume. The fix locks the delete\nsnapvx session using the source DeviceID as key.\n\nChange-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864\nCloses-Bug: #1714922\n""}, {'number': 4, 'created': '2017-10-10 08:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51246aea384bfb7df87e757367db0cda17d10e99', 'message': ""VMAX driver - concurrently deleting volumes can fail\n\nWhen concurrently deleting volumes, sometimes the task fails leaving\nthe volume in an 'error_deleting' state. This only occurs when\nimage_volume_cache_enabled is True because a temp snapvx session is\ncreated. This same issue also occurs when there is a batch delete\nof snapshots from the same source volume. The fix locks the delete\nsnapvx session using the source DeviceID as key.\n\nChange-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864\nCloses-Bug: #1714922\n""}, {'number': 5, 'created': '2017-10-18 09:50:41.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/209e1564df3dcbb3426799e0010bd94973acbcda', 'message': ""VMAX driver - concurrently deleting volumes can fail\n\nWhen concurrently deleting volumes, sometimes the task fails leaving\nthe volume in an 'error_deleting' state. This only occurs when\nimage_volume_cache_enabled is True because a temp snapvx session is\ncreated. This same issue also occurs when there is a batch delete\nof snapshots from the same source volume. The fix locks the delete\nsnapvx session using the source DeviceID as key.\n\nChange-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864\nCloses-Bug: #1714922\n""}]",0,500500,209e1564df3dcbb3426799e0010bd94973acbcda,152,48,5,12670,,,0,"VMAX driver - concurrently deleting volumes can fail

When concurrently deleting volumes, sometimes the task fails leaving
the volume in an 'error_deleting' state. This only occurs when
image_volume_cache_enabled is True because a temp snapvx session is
created. This same issue also occurs when there is a batch delete
of snapshots from the same source volume. The fix locks the delete
snapvx session using the source DeviceID as key.

Change-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864
Closes-Bug: #1714922
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/500500/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/vmax/common.py'],1,a895290de2c855f31de2a02b5d459b4ac77bb249,bug/1714503,"from cinder import coordination @coordination.synchronized(""emc-source-{sourcedevice_id}"") def do_delete_volume_snap_check_for_links(sourcedevice_id): # Ensure snap has not been recently deleted self.provision.delete_volume_snap_check_for_links( extra_specs[utils.ARRAY], snap_name, sourcedevice_id, extra_specs) do_delete_volume_snap_check_for_links(sourcedevice_id) @coordination.synchronized(""emc-source-{source}"") def do_delete_temp_volume_snap(source): self.provision.delete_temp_volume_snap( array, snap_name, source) do_delete_temp_volume_snap(source)"," self.provision.delete_volume_snap_check_for_links( extra_specs[utils.ARRAY], snap_name, sourcedevice_id, extra_specs) self.provision.delete_temp_volume_snap( array, snap_name, source)",14,5
openstack%2Fcinder~master~I51829e7667d3ac148978e1799cecfea1920f838f,openstack/cinder,master,I51829e7667d3ac148978e1799cecfea1920f838f,DS8K: support clone volume asynchronously,MERGED,2017-05-23 11:40:43.000000000,2018-02-25 13:54:17.000000000,2017-10-20 05:56:05.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11224}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13047}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 14624}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17045}, {'_account_id': 17564}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26495}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-05-23 11:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25cb48c43a0dbda4f01065d98fe3128693bc74a9', 'message': ""DS8K: support clone volume asynchroniously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until flashcopy\nfinished in some cases, so this patch try to provide an option in volume\nmetadata that can be controlled by user to decide whether driver waits\nfor the flashcopy completed or not.\n\nDocImpact\nImplements: blueprint ds8k-async-clone\n\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 2, 'created': '2017-05-31 05:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0bfb601950e488e65d06fea1f15c703fcf0238f', 'message': ""DS8K: support clone volume asynchroniously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until flashcopy\nfinished in some cases, so this patch try to provide an option in volume\nmetadata that can be controlled by user to decide whether driver waits\nfor the flashcopy completed or not.\n\nDocImpact\nImplements: blueprint ds8k-async-clone\n\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 3, 'created': '2017-06-12 06:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf56fc135b4db0c4b66980092cf1835a2df2c79b', 'message': ""DS8K: support clone volume asynchroniously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nDocImpact\nImplements: blueprint ds8k-async-clone\n\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 4, 'created': '2017-06-12 07:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73f7c19a9d0f15d98b048af8c5bd937b0ae27557', 'message': ""DS8K: support clone volume asynchroniously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nDocImpact\nImplements: blueprint ds8k-async-clone\n\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 5, 'created': '2017-06-12 09:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a387c40cd608eb8058f5ce041856ec9875beb165', 'message': ""DS8K: support clone volume asynchroniously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nDocImpact\nImplements: blueprint ds8k-async-clone\n\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 6, 'created': '2017-06-28 04:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbd8a9e9da48f6d5900ceed309144cc6673fc5fa', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nDocImpact\nImplements: blueprint ds8k-async-clone\n\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 7, 'created': '2017-07-21 03:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f46e465a431bd9f137a97a569edfa6f953c8265b', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nImplements: blueprint ds8k-async-clone\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 8, 'created': '2017-07-21 05:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2cd841f5861c1e851a1770c17c98ab7d95b59d3', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nImplements: blueprint ds8k-async-clone\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 9, 'created': '2017-07-28 04:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb5c37098ffc6e080e6869b130d18ff5dfe669f1', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nImplements: blueprint ds8k-async-clone\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 10, 'created': '2017-08-08 02:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97f3380d99cc4f26a73d17e4e689a9ff2ef6960a', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nImplements: blueprint ds8k-async-clone\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 11, 'created': '2017-08-09 01:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bc256e45d5c1080a7b3770c7524e1342e9c12b8', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nImplements: blueprint ds8k-async-clone\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}, {'number': 12, 'created': '2017-10-18 03:06:58.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'releasenotes/notes/ds8k_async_clone_volume-25232c55da921202.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_storage.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ibm_storage.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d9d7c00b40a529af2dc6cd4672dca14be53a9b6', 'message': ""DS8K: support clone volume asynchronously\n\nwhen cloning volume in DS8K, driver doesn't need to wait until\nflashcopy finished in some cases, so this patch provides an option\nin volume metadata that can be used to tell driver to wait for\nflashcopy completed or not.\n\nImplements: blueprint ds8k-async-clone\nChange-Id: I51829e7667d3ac148978e1799cecfea1920f838f\n""}]",28,467136,1d9d7c00b40a529af2dc6cd4672dca14be53a9b6,362,66,12,17564,,,0,"DS8K: support clone volume asynchronously

when cloning volume in DS8K, driver doesn't need to wait until
flashcopy finished in some cases, so this patch provides an option
in volume metadata that can be used to tell driver to wait for
flashcopy completed or not.

Implements: blueprint ds8k-async-clone
Change-Id: I51829e7667d3ac148978e1799cecfea1920f838f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/467136/12 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",2,25cb48c43a0dbda4f01065d98fe3128693bc74a9,bp/ds8k-async-clone,"from eventlet import greenthreadTEST_VOLUME_ID_2 = '0002'FAKE_DELETE_FLASHCOPIES_RESPONSE = FAKE_GENERIC_RESPONSE TEST_SOURCE_DS8K_IP + '/cs/flashcopies/' + TEST_VOLUME_ID + "":"" + TEST_VOLUME_ID_2 + '/delete': FAKE_DELETE_FLASHCOPIES_RESPONSE, @mock.patch.object(helper.DS8KCommonHelper, 'get_flashcopy') def test_async_clone_volume(self, mock_get_flashcopy): """"""clone the volume asynchronously."""""" self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self) self.driver.setup(self.ctxt) vol_type = volume_types.create(self.ctxt, 'VOL_TYPE', {}) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID}) src_vol = self._create_volume(volume_type_id=vol_type.id, provider_location=location) location = six.text_type({'vol_hex_id': None}) metadata = [{'key': 'async_clone', 'value': True}] tgt_vol = self._create_volume(volume_type_id=vol_type.id, provider_location=location, volume_metadata=metadata) mock_greenthread = ( self.mock_object(eventlet.greenthread, 'GreenThread')) self.mock_object(eventlet, 'spawn', return_value=mock_greenthread) self.mock_object(greenthread.GreenThread, 'link') mock_get_flashcopy.return_value = [TEST_FLASHCOPY] volume_update = self.driver.create_cloned_volume(tgt_vol, src_vol) self.assertEqual( TEST_VOLUME_ID, ast.literal_eval(volume_update['provider_location'])['vol_hex_id']) self.assertEqual('started', volume_update['metadata']['flashcopy']) eventlet.spawn.assert_called() greenthread.GreenThread.link.assert_called() @mock.patch.object(eventlet, 'sleep') @mock.patch.object(helper.DS8KCommonHelper, 'get_flashcopy') def test_wait_flashcopy_when_async_clone_volume(self, mock_get_flashcopy, mock_sleep): """"""check result of flashcopy if clone volume asynchronously."""""" self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self) self.driver.setup(self.ctxt) vol_type = volume_types.create(self.ctxt, 'VOL_TYPE', {}) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID}) src_vol = self._create_volume(volume_type_id=vol_type.id, provider_location=location) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID_2}) metadata = [{'key': 'async_clone', 'value': True}] tgt_vol = self._create_volume(volume_type_id=vol_type.id, provider_location=location, volume_metadata=metadata) src_lun = ds8kproxy.Lun(src_vol) tgt_lun = ds8kproxy.Lun(tgt_vol) mock_get_flashcopy.side_effect = [ {}, restclient.APIException('flashcopy fails.')] result = self.driver._wait_flashcopy(src_lun, tgt_lun) self.assertTrue(result) result = self.driver._wait_flashcopy(src_lun, tgt_lun) self.assertFalse(result) def test_update_volume_when_async_clone_volume(self): """"""update volume's status if clone volume asynchronously."""""" self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self) self.driver.setup(self.ctxt) vol_type = volume_types.create(self.ctxt, 'VOL_TYPE', {}) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID}) src_vol = self._create_volume(volume_type_id=vol_type.id, provider_location=location) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID_2}) metadata = [{'key': 'async_clone', 'value': True}] tgt_vol = self._create_volume(volume_type_id=vol_type.id, provider_location=location, volume_metadata=metadata) src_lun = ds8kproxy.Lun(src_vol) tgt_lun = ds8kproxy.Lun(tgt_vol) mock_greenthread = ( self.mock_object(eventlet.greenthread, 'GreenThread')) mock_greenthread.wait.return_value = True self.driver._update_target_lun(mock_greenthread, src_lun, tgt_lun) self.assertEqual('success', tgt_vol.metadata['flashcopy']) mock_greenthread.wait.return_value = False self.driver._update_target_lun(mock_greenthread, src_lun, tgt_lun) self.assertEqual('error', tgt_vol.metadata['flashcopy']) self.assertEqual('error', tgt_vol.status) self.assertIsNotNone(tgt_vol.metadata.get('error_msg')) ",,164,24
openstack%2Fcinder~master~I5b31082296f5bff5089d0f42a62d44bb009d177d,openstack/cinder,master,I5b31082296f5bff5089d0f42a62d44bb009d177d,Move 'zoning_mode' back to DEFAULT section,MERGED,2017-10-16 08:07:46.000000000,2018-02-25 13:54:15.000000000,2017-10-25 05:46:33.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25111}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-16 08:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3dc1397b15cefdf3424e598b5e9f305e3f4b5e16', 'message': ""Fetch 'zoning_mode' from 'backend_defaults' section\n\nCinder registers 'zoning_mode' into 'backend_defaults' config\nsection since patch: [1]. Update the methods which still\ntry to fetch the value from default section.\n\n[1]: https://review.openstack.org/#/c/453654/\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}, {'number': 2, 'created': '2017-10-17 02:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2c2fbf6584a31de775824e6e8fd52614d1cbb7a', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current desgin. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}, {'number': 3, 'created': '2017-10-17 06:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64940595a7588b81a7c4336b0620b0c1f912c501', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current design. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}, {'number': 4, 'created': '2017-10-18 01:36:03.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/34287e3fa351db5e5b00cd0cf1affac07d9e6d34', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current design. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\nCloses-Bug: #1724418\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}]",2,512208,34287e3fa351db5e5b00cd0cf1affac07d9e6d34,104,37,4,23083,,,0,"Move 'zoning_mode' back to DEFAULT section

We moved 'zoning_mode' option to 'backend_defaults'
section since patch: [1]. But it has two issues:

1. It can not work because we still fetch the value
from the default section [2].
2. From the view of our current design. It's only
used in our framework code, which means it still can
not work if we overwrite the default value in one
specific backend section, such as:

[backend_defaults]
zoning_mode=fabric
[lvmbackend_1]
zoning_mode=other_value

Move this option back to DEFAULT section until we
need to.

Closes-Bug: #1724418

[1]: https://review.openstack.org/#/c/453654/
[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56

Change-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/512208/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/utils.py'],1,3dc1397b15cefdf3424e598b5e9f305e3f4b5e16,feature/fix-fz-bug," config = configuration.Configuration( manager.volume_backend_opts, config_group=configuration.SHARED_CONF_GROUP) config = configuration.Configuration( manager.volume_backend_opts, config_group=configuration.SHARED_CONF_GROUP)", config = configuration.Configuration(manager.volume_manager_opts) config = configuration.Configuration(manager.volume_manager_opts),6,2
openstack%2Fcinder~stable%2Fpike~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,stable/pike,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-17 17:49:10.000000000,2018-02-25 13:54:13.000000000,2017-10-30 17:59:36.000000000,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25836}]","[{'number': 1, 'created': '2017-10-17 17:49:10.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbde6a3cad318ad8a9e23e23184bccb442b069aa', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}]",0,512762,dbde6a3cad318ad8a9e23e23184bccb442b069aa,22,17,1,10379,,,0,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/512762/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml']",2,dbde6a3cad318ad8a9e23e23184bccb442b069aa,bug/1661154,--- fixes: - Dell EMC PS Series Driver code reporting volume stats is now optimized to return the information earlier and accelerate the process. This change fixes bug 1661154. ,,19,4
openstack%2Fcinder~master~Idbfbf8be7ef34c134c7723891aba8b3baa2ab43a,openstack/cinder,master,Idbfbf8be7ef34c134c7723891aba8b3baa2ab43a,Add display_name to solidfire volume attributes,MERGED,2017-10-17 15:30:24.000000000,2018-02-25 13:54:11.000000000,2017-10-18 18:58:33.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-17 15:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f27d62fa02245b7ae3393d858da70a2c156d802e', 'message': 'Add display_name to solidfire volume attributes\n\nThis just adds another mapping to the SolidFire volume\nattributes during create.  We add a `cinder-name` key\nto the internal SolidFire volume attributes which has a\nvalue set to the cinder display_name attribute of the volume.\n\nIn the case of a volume with no display_name we set the\nattribute value to an empty string.\n\nChange-Id: Idbfbf8be7ef34c134c7723891aba8b3baa2ab43a\n'}, {'number': 2, 'created': '2017-10-17 16:46:39.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce988969678be3ef7e217e9e1a03f210105d89b1', 'message': 'Add display_name to solidfire volume attributes\n\nThis just adds another mapping to the SolidFire volume\nattributes during create.  We add a `cinder-name` key\nto the internal SolidFire volume attributes which has a\nvalue set to the cinder display_name attribute of the volume.\n\nIn the case of a volume with no display_name we set the\nattribute value to an empty string.\n\nChange-Id: Idbfbf8be7ef34c134c7723891aba8b3baa2ab43a\n'}]",2,512671,ce988969678be3ef7e217e9e1a03f210105d89b1,40,29,2,2243,,,0,"Add display_name to solidfire volume attributes

This just adds another mapping to the SolidFire volume
attributes during create.  We add a `cinder-name` key
to the internal SolidFire volume attributes which has a
value set to the cinder display_name attribute of the volume.

In the case of a volume with no display_name we set the
attribute value to an empty string.

Change-Id: Idbfbf8be7ef34c134c7723891aba8b3baa2ab43a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/512671/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,f27d62fa02245b7ae3393d858da70a2c156d802e,add_display_name_sf_attributes," attributes['cinder-name'] = """" if volume.get('display_name', None): attributes['cinder-name'] = volume['display_name']",,3,0
openstack%2Fcinder~master~Ib8622870d53cbdc249aa465ce62ed45dea2b4089,openstack/cinder,master,Ib8622870d53cbdc249aa465ce62ed45dea2b4089,Add v3 api-ref for updating specific extra specs for a volume type,MERGED,2017-10-17 09:54:50.000000000,2018-02-25 13:54:02.000000000,2017-10-17 18:08:32.000000000,"[{'_account_id': 170}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-17 09:54:50.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/samples/volume-type-specific-extra-specs-update-response.json', 'api-ref/source/v3/samples/volume-type-specific-extra-specs-update-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dafdd7411b852634afdeb52b763bdeb55d22326e', 'message': 'Add v3 api-ref for updating specific extra specs for a volume type\n\nThis patch adds v3 api-ref for the following volume type API:\nUpdate specific extra specs assigned to a volume type.\n\nChange-Id: Ib8622870d53cbdc249aa465ce62ed45dea2b4089\n'}]",0,512571,dafdd7411b852634afdeb52b763bdeb55d22326e,29,25,1,23081,,,0,"Add v3 api-ref for updating specific extra specs for a volume type

This patch adds v3 api-ref for the following volume type API:
Update specific extra specs assigned to a volume type.

Change-Id: Ib8622870d53cbdc249aa465ce62ed45dea2b4089
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/512571/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/samples/volume-type-specific-extra-specs-update-request.json', 'api-ref/source/v3/samples/volume-type-specific-extra-specs-update-response.json']",3,dafdd7411b852634afdeb52b763bdeb55d22326e,fix_api_ref,"{ ""key1"": ""value1"" } ",,40,0
openstack%2Fcinder~master~Iefbf22fa4fb09f946e475dff3a4444381bd8df97,openstack/cinder,master,Iefbf22fa4fb09f946e475dff3a4444381bd8df97,"Fix ""import xx as xx"" grammer",MERGED,2017-10-17 07:45:34.000000000,2018-02-25 13:53:44.000000000,2017-10-17 18:12:18.000000000,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-10-17 07:45:34.000000000', 'files': ['cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb899b83a8c42dde15575654eda17ea6b7e1bb9c', 'message': 'Fix ""import xx as xx"" grammer\n\nThis is to fix the redundant ""import xx as xx"" grammer.\n\nChange-Id: Iefbf22fa4fb09f946e475dff3a4444381bd8df97\n'}]",0,512527,cb899b83a8c42dde15575654eda17ea6b7e1bb9c,29,25,1,20190,,,0,"Fix ""import xx as xx"" grammer

This is to fix the redundant ""import xx as xx"" grammer.

Change-Id: Iefbf22fa4fb09f946e475dff3a4444381bd8df97
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/512527/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lvm.py'],1,cb899b83a8c42dde15575654eda17ea6b7e1bb9c,import_grammer,from cinder.brick.local_dev import lvm,from cinder.brick.local_dev import lvm as lvm,1,1
openstack%2Fcinder~master~I7fcdc4453cb3bad713c7d770012411701cca742b,openstack/cinder,master,I7fcdc4453cb3bad713c7d770012411701cca742b,Replace http with https for doc links in cinder,MERGED,2017-09-02 03:43:50.000000000,2018-02-25 13:53:32.000000000,2017-10-23 05:23:59.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25254}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25903}, {'_account_id': 26072}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-02 03:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c01032a2edeafeefc6c0dcec10636cb1ea2550df', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n    2) Use https instead of http for docs links\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\n'}, {'number': 2, 'created': '2017-09-03 04:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f6fd9e3659e738c055d2d544ce8a94cd59dcb3d', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n    2) Use https instead of http for docs links\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\n'}, {'number': 3, 'created': '2017-09-03 04:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29ed36ffaa2f728c002d7aa2339ae9ada2f81c89', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\n'}, {'number': 4, 'created': '2017-09-05 07:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/383a36e9c559fdd2bfa8e7a7cbdc14bb0426c970', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\n'}, {'number': 5, 'created': '2017-09-12 01:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1466a08fac9afea612c24566c2c6e55e04adf40d', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\nCloses-Bug:#1710054\n'}, {'number': 6, 'created': '2017-10-10 10:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d20d0662a3bf413a9ec68ce60ff1174d7da410ae', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\nCloses-Bug:#1710054\n'}, {'number': 7, 'created': '2017-10-16 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d585f2ef57cb2a18db988b96a0148925b10d4733', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\nFor example:\n(1)https://docs.openstack.org/admin-guide/blockstorage_nfs_backend.html\n->https://docs.openstack.org/cinder/pike/admin/blockstorage-nfs-backend.html\n(2)http://docs.openstack.org/oslo.i18n/latest/user/index.html\n->https://docs.openstack.org/oslo.i18n/latest/user/index.html\n(3)http://docs.openstack.org/ --> https://docs.openstack.org/\n(4)https://docs.openstack.org/admin-guide/blockstorage_multi_backend.html\n->https://docs.openstack.org/cinder/pike/admin/blockstorage-multi-backend.html\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\nCloses-Bug:#1710054\n'}, {'number': 8, 'created': '2017-10-16 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3120c5724fbbacce7476866bedcaf5ed2ec63af9', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\nFor example:\n(1)http://docs.openstack.org/admin-guide/blockstorage_nfs_backend.html\n->https://docs.openstack.org/cinder/pike/admin/blockstorage-nfs-backend.html\n(2)http://docs.openstack.org/oslo.i18n/latest/user/index.html\n->https://docs.openstack.org/oslo.i18n/latest/user/index.html\n(3)http://docs.openstack.org/ --> https://docs.openstack.org/\n(4)http://docs.openstack.org/admin-guide/blockstorage_multi_backend.html\n->https://docs.openstack.org/cinder/pike/admin/blockstorage-multi-backend.html\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\nCloses-Bug:#1710054\n'}, {'number': 9, 'created': '2017-10-17 00:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bed1dd883486d780c9dedf9822841646092f1c94', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\nFor example:\n(1)http://docs.openstack.org/admin-guide/blockstorage_nfs_backend.html\n->https://docs.openstack.org/cinder/latest/admin/blockstorage-nfs-backend.html\n(2)http://docs.openstack.org/oslo.i18n/latest/user/index.html\n->https://docs.openstack.org/oslo.i18n/latest/user/index.html\n(3)http://docs.openstack.org/ --> https://docs.openstack.org/\n(4)http://docs.openstack.org/admin-guide/blockstorage_multi_backend.html\n->https://docs.openstack.org/cinder/latest/admin/blockstorage-multi-backend.html\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\nCloses-Bug:#1710054\n'}, {'number': 10, 'created': '2017-10-17 03:15:53.000000000', 'files': ['api-ref/source/v1/parameters.yaml', 'api-ref/source/v2/samples/extensions-list-response.json', 'api-ref/source/v3/samples/extensions-list-response.json', 'api-ref/source/v3/volumes-v3-types.inc', 'releasenotes/notes/remove-ibm-nas-driver-0ed204ed0a2dcf55.yaml', 'api-ref/source/v2/samples/versions-response.json', 'api-ref/source/v3/parameters.yaml', 'cinder/api/versions.py', 'cinder/volume/drivers/nfs.py', 'doc/source/contributor/groups.rst', 'bindep.txt', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v1/samples/version-show-response.json', 'cinder/i18n.py', 'api-ref/source/v3/samples/version-show-response.json', 'api-ref/source/v3/samples/versions-response.json', 'api-ref/source/v2/volumes-v2-types.inc', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/234a0784bf00c00ef5b6d066c99b54437cefbaa4', 'message': 'Replace http with https for doc links in cinder\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\nFor example:\n(1)http://docs.openstack.org/admin-guide/blockstorage_nfs_backend.html\n->https://docs.openstack.org/cinder/latest/admin/blockstorage-nfs-backend.html\n(2)http://docs.openstack.org/oslo.i18n/latest/user/index.html\n->https://docs.openstack.org/oslo.i18n/latest/user/index.html\n(3)http://docs.openstack.org/ --> https://docs.openstack.org/\n(4)http://docs.openstack.org/admin-guide/blockstorage_multi_backend.html\n->https://docs.openstack.org/cinder/latest/admin/blockstorage-multi-backend.html\n\nChange-Id: I7fcdc4453cb3bad713c7d770012411701cca742b\nCloses-Bug:#1710054\n'}]",7,500245,234a0784bf00c00ef5b6d066c99b54437cefbaa4,251,49,10,26458,,,0,"Replace http with https for doc links in cinder

1) Update doc links according to OpenStack document migration
2) Use https instead of http for docs links
For example:
(1)http://docs.openstack.org/admin-guide/blockstorage_nfs_backend.html
->https://docs.openstack.org/cinder/latest/admin/blockstorage-nfs-backend.html
(2)http://docs.openstack.org/oslo.i18n/latest/user/index.html
->https://docs.openstack.org/oslo.i18n/latest/user/index.html
(3)http://docs.openstack.org/ --> https://docs.openstack.org/
(4)http://docs.openstack.org/admin-guide/blockstorage_multi_backend.html
->https://docs.openstack.org/cinder/latest/admin/blockstorage-multi-backend.html

Change-Id: I7fcdc4453cb3bad713c7d770012411701cca742b
Closes-Bug:#1710054
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/500245/8 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c01032a2edeafeefc6c0dcec10636cb1ea2550df,500245,# This is a cross-platform list tracking distribution packages needed for install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information.,# This is a cross-platform list tracking distribution packages needed for install and tests; # see http://docs.openstack.org/infra/bindep/ for additional information.,1,1
openstack%2Fcinder~master~I4c154b15991fd624d91bd3e3472d25c714fb8525,openstack/cinder,master,I4c154b15991fd624d91bd3e3472d25c714fb8525,DS8000 ConsistencyGroup failed to update group with volumes,MERGED,2017-10-11 11:31:27.000000000,2018-02-25 13:53:30.000000000,2017-10-19 03:39:44.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17564}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19576}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20050}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-11 11:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb27dea8b07e41075132f6864ff8b733bfc25205', 'message': 'Stringify each value in available_lss_pairs prior to append\n\nChange-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525\n'}, {'number': 2, 'created': '2017-10-11 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/520293a765112f7e453269054af098e8e2d81f92', 'message': 'available_lss_pairs is not a string, in an error case is a tuple. This which broke the error message join().\nThe proposed fix stringify each value in available_lss_pairs prior to append.\n\nChange-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525\nCloses-bug: #1722769\n'}, {'number': 3, 'created': '2017-10-11 14:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a1d13ccaa76682e157182cc51fd143198788104', 'message': 'DS8000 ConsistencyGroup failed to update group with volumes\n\nWhile adding a volume to ConsistencyGroup the failed with TypeError: sequence\nitem 0: expected string, tuple found.  This could have happened if the driver\ndid not find the specified LSS pairs matching that of the available volume\npools.  The driver intended to throw an error message with available_lss_pairs\nbut failed to concatinate the data to the error message with TypeError\nexception.\n\nThe proposed fix attempts to address this concat issue by reading every value\nfrom the available_lss_pairs and then adding to error message.\n\nCloses-bug: #1722769\n\nChange-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525\n'}, {'number': 4, 'created': '2017-10-16 19:15:32.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/75a1849c9854cd5f8d366de6087e50eff9b595e4', 'message': 'DS8000 ConsistencyGroup failed to update group with volumes\n\nWhile adding a volume to ConsistencyGroup the failed with TypeError: sequence\nitem 0: expected string, tuple found.  This could have happened if the driver\ndid not find the specified LSS pairs matching that of the available volume\npools.  The driver intended to throw an error message with available_lss_pairs\nbut failed to concatinate the data to the error message with TypeError\nexception.\n\nThe proposed fix attempts to address this issue by simplifying the\nconcat of available_lss_pairs as string and then adding to error message.\n\nCloses-bug: #1722769\n\nChange-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525\n'}]",3,511212,75a1849c9854cd5f8d366de6087e50eff9b595e4,89,41,4,20050,,,0,"DS8000 ConsistencyGroup failed to update group with volumes

While adding a volume to ConsistencyGroup the failed with TypeError: sequence
item 0: expected string, tuple found.  This could have happened if the driver
did not find the specified LSS pairs matching that of the available volume
pools.  The driver intended to throw an error message with available_lss_pairs
but failed to concatinate the data to the error message with TypeError
exception.

The proposed fix attempts to address this issue by simplifying the
concat of available_lss_pairs as string and then adding to error message.

Closes-bug: #1722769

Change-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/511212/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py'],1,cb27dea8b07e41075132f6864ff8b733bfc25205,bug/1722769," % ','.join(str(v) for v in available_lss_pairs)))"," % ','.join(available_lss_pairs)))",1,1
openstack%2Fcinder~master~I6330cb1b6644de5f470b198f035933ff676c1bce,openstack/cinder,master,I6330cb1b6644de5f470b198f035933ff676c1bce,ScaleIO Driver: Backup volume via snapshot,MERGED,2017-10-13 16:52:33.000000000,2018-02-25 13:53:29.000000000,2017-10-18 22:07:48.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-13 16:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7f70d31a4288b9ed8f77a256413e250fac9cc8a', 'message': 'ScaleIO Driver: Backup volume via snapshot\n\nWhen a volume is in-use, the ScaleIO driver can achieve the backup of\nthat volume through creating a temp snapshot, and then backing-up the\nsnapshot.\n\nChange-Id: I6330cb1b6644de5f470b198f035933ff676c1bce\n'}, {'number': 2, 'created': '2017-10-16 15:40:42.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_initialize_connection_snapshot.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py', 'releasenotes/notes/scaleio-backup-via-snapshot-8e75aa3f4570e17c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b5bbc951aa41174c58c53ec361b4337125ae66a', 'message': 'ScaleIO Driver: Backup volume via snapshot\n\nWhen a volume is in-use, the ScaleIO driver can achieve the backup of\nthat volume through creating a temp snapshot, and then backing-up the\nsnapshot.\n\nChange-Id: I6330cb1b6644de5f470b198f035933ff676c1bce\n'}]",1,511921,7b5bbc951aa41174c58c53ec361b4337125ae66a,62,35,2,25033,,,0,"ScaleIO Driver: Backup volume via snapshot

When a volume is in-use, the ScaleIO driver can achieve the backup of
that volume through creating a temp snapshot, and then backing-up the
snapshot.

Change-Id: I6330cb1b6644de5f470b198f035933ff676c1bce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/511921/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/scaleio/driver.py', 'releasenotes/notes/scaleio-backup-via-snapshot-8e75aa3f4570e17c.yaml']",2,a7f70d31a4288b9ed8f77a256413e250fac9cc8a,sio/attach-detach-snapshots,--- features: - Add support to backup volume using snapshot in the Unity driver. ,,75,18
openstack%2Fcinder~master~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,master,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2017-09-26 11:59:36.000000000,2018-02-25 13:53:27.000000000,2017-10-17 18:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17565}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26567}]","[{'number': 1, 'created': '2017-09-26 11:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/851d120217d0749eba7a40d31475b96c8243037c', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n'}, {'number': 2, 'created': '2017-10-16 15:16:43.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd671c77cd93e8a5a5bafbee7f24564fb780a044', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n'}]",0,507509,fd671c77cd93e8a5a5bafbee7f24564fb780a044,59,38,2,9535,,,0,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/507509/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,851d120217d0749eba7a40d31475b96c8243037c,bug/1692775," self.assertGreater(len(fake_data), len(result[1]))"," self.assertGreater(len(fake_data), len(result))",3,3
openstack%2Fcinder~master~I4f8005633ed1eb53ab08b3493cdc97d44103dafa,openstack/cinder,master,I4f8005633ed1eb53ab08b3493cdc97d44103dafa,Api-ref: Add missing api response for volume transfer,MERGED,2017-09-14 10:10:17.000000000,2018-02-25 13:53:25.000000000,2017-10-18 21:50:35.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25388}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26567}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-09-14 10:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7bd5fae832224af66a3b72539fc5b89f45888da', 'message': '[Api-ref]: Add api response for volume transfer\n\nThe volume transfer accept and create API missed the api response, this\nchange is to add them in both V2 and V3.\n\nChange-Id: I4f8005633ed1eb53ab08b3493cdc97d44103dafa\n'}, {'number': 2, 'created': '2017-10-09 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af3a4d27cdfadc418a03cd31379f656fedb7dc06', 'message': 'Api-ref: Add missing api response for volume transfer\n\nThe volume transfer accept and create API missed the api response, this\nchange is to add them for both V2 and V3.\n\nChange-Id: I4f8005633ed1eb53ab08b3493cdc97d44103dafa\n'}, {'number': 3, 'created': '2017-10-10 01:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/537ce9ceea27f80389d359b8940e4be4655961af', 'message': 'Api-ref: Add missing api response for volume transfer\n\nThe volume transfer accept and create API missed the api response,\nthis change is to add them for both V2 and V3.\n\nChange-Id: I4f8005633ed1eb53ab08b3493cdc97d44103dafa\n'}, {'number': 4, 'created': '2017-10-16 06:42:52.000000000', 'files': ['api-ref/source/v3/os-vol-transfer-v3.inc', 'api-ref/source/v2/os-vol-transfer-v2.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/af340d0f05f19e873fb5e8a3a006a3889d99ae44', 'message': 'Api-ref: Add missing api response for volume transfer\n\nThe volume transfer accept and create API missed the api response,\nthis change is to add them for both V2 and V3.\n\nCloses-bug: #1723867\nChange-Id: I4f8005633ed1eb53ab08b3493cdc97d44103dafa\n'}]",2,504023,af340d0f05f19e873fb5e8a3a006a3889d99ae44,111,43,4,25456,,,0,"Api-ref: Add missing api response for volume transfer

The volume transfer accept and create API missed the api response,
this change is to add them for both V2 and V3.

Closes-bug: #1723867
Change-Id: I4f8005633ed1eb53ab08b3493cdc97d44103dafa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/504023/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/os-vol-transfer-v2.inc', 'api-ref/source/v3/os-vol-transfer-v3.inc']",2,e7bd5fae832224af66a3b72539fc5b89f45888da,bug/1723867,Response Example ---------------- .. literalinclude:: ./samples/volume-transfer-accept-response.json :language: javascript Response Example ---------------- .. literalinclude:: ./samples/volume-transfer-create-response.json :language: javascript , ,24,4
openstack%2Fcinder~master~Id5771ee7e52748374ae6a3167116589273000297,openstack/cinder,master,Id5771ee7e52748374ae6a3167116589273000297,Add v3 api-ref for showing all/specific extra specs for a volume type,MERGED,2017-10-12 16:18:51.000000000,2018-02-25 13:53:24.000000000,2017-10-13 19:59:03.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-12 16:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35787642a5e29fd071cb949c2ead4a7f25c130df', 'message': 'Add v3 api-ref for showing extra spec(s) for a volume type\n\nThis patch adds v3 api-ref for two APIs:\n1. Show all extra specs for a volume type\n2. Show specific extra spec for a volume type\n\nChange-Id: Id5771ee7e52748374ae6a3167116589273000297\n'}, {'number': 2, 'created': '2017-10-13 13:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e707d62e07c73f3d401dc7d22fa930cb50bb0db2', 'message': 'Add v3 api-ref for showing all/specific extra specs for a volume type\n\nThis patch adds v3 api-ref for two APIs:\n1. Show all extra specs assigned to a volume type\n2. Show specific extra specs assigned to a volume type\n\nChange-Id: Id5771ee7e52748374ae6a3167116589273000297\n'}, {'number': 3, 'created': '2017-10-13 15:19:27.000000000', 'files': ['api-ref/source/v3/samples/volume-type-all-extra-specs-show-response.json', 'api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/samples/volume-type-specific-extra-specs-show-response.json', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a8c229bf6b5c735da4f05b7f1da80f9e3a7c926', 'message': 'Add v3 api-ref for showing all/specific extra specs for a volume type\n\nThis patch adds v3 api-ref for two APIs:\n1. Show all extra specs assigned to a volume type\n2. Show specific extra specs assigned to a volume type\n\nChange-Id: Id5771ee7e52748374ae6a3167116589273000297\n'}]",3,511519,1a8c229bf6b5c735da4f05b7f1da80f9e3a7c926,77,32,3,23081,,,0,"Add v3 api-ref for showing all/specific extra specs for a volume type

This patch adds v3 api-ref for two APIs:
1. Show all extra specs assigned to a volume type
2. Show specific extra specs assigned to a volume type

Change-Id: Id5771ee7e52748374ae6a3167116589273000297
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/511519/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volume-type-extra-specs-show-response.json', 'api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/volume-type-extra-spec-show-response.json']",4,35787642a5e29fd071cb949c2ead4a7f25c130df,fix_api_ref,"{ ""key1"": ""value1"" } ",,71,1
openstack%2Fcinder~master~Idf69e0084334d25ccd73730428e36809573e2146,openstack/cinder,master,Idf69e0084334d25ccd73730428e36809573e2146,Switch Rally Task To format V2,MERGED,2017-09-25 07:53:58.000000000,2018-02-25 13:53:22.000000000,2017-10-13 16:06:20.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6172}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 17645}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-25 07:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a43ecb67266d71c069962a606ddf11735989af1b', 'message': 'Switch Rally Task To fromat V2\n\nChange-Id: Idf69e0084334d25ccd73730428e36809573e2146\n'}, {'number': 2, 'created': '2017-09-25 19:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61cde7fe81b508d6a35b24e90ab2b17258cecede', 'message': 'Switch Rally Task To fromat V2\n\nChange-Id: Idf69e0084334d25ccd73730428e36809573e2146\n'}, {'number': 3, 'created': '2017-09-25 20:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2eaeb8f497b1929adfa524bdbeb175bdca8ca639', 'message': 'Switch Rally Task To format V2\n\n- Format V1 was deprecated\n- rally-jobs/cinder-fake.yaml is not used\n\nChange-Id: Idf69e0084334d25ccd73730428e36809573e2146\n'}, {'number': 4, 'created': '2017-10-10 00:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dac1a885c344ee2abd9468291bcdd549238784b5', 'message': 'Switch Rally Task To format V2\n\n- Format V1 was deprecated\n- rally-jobs/cinder-fake.yaml is not used\n\nChange-Id: Idf69e0084334d25ccd73730428e36809573e2146\n'}, {'number': 5, 'created': '2017-10-13 08:38:00.000000000', 'files': ['rally-jobs/cinder-fake.yaml', 'rally-jobs/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/227ebf9a249a7d4be2c5e4baabcd0d321979efa4', 'message': 'Switch Rally Task To format V2\n\n- Format V1 was deprecated\n- rally-jobs/cinder-fake.yaml is not used\n\nChange-Id: Idf69e0084334d25ccd73730428e36809573e2146\n'}]",2,507010,227ebf9a249a7d4be2c5e4baabcd0d321979efa4,152,45,5,6172,,,0,"Switch Rally Task To format V2

- Format V1 was deprecated
- rally-jobs/cinder-fake.yaml is not used

Change-Id: Idf69e0084334d25ccd73730428e36809573e2146
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/507010/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/cinder-fake.yaml', 'rally-jobs/cinder.yaml']",2,a43ecb67266d71c069962a606ddf11735989af1b,update_rally," version: 2 title: Rally task for gate-rally-dsvm-cinder-ubuntu-xenial-nv job subtask: title: Validate cinder client scenario: Authenticate.validate_cinder: repetitions: 2 runner: constant: times: 10 concurrency: 5 contexts: title: Update and delete cinder Quotas scenario: Quotas.cinder_update_and_delete: max_quota: 1024 runner: constant: times: 4 concurrency: 1 contexts: title: Update cinder Quotas scenario: Quotas.cinder_update: max_quota: 1024 runner: constant: times: 10 concurrency: 2 contexts: title: Create and Delete Volume workloads: - scenario: CinderVolumes.create_and_delete_volume: size: 1 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_and_delete_volume: size: 1 image: name: {{image_name}} runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_and_delete_volume: size: min: 1 max: 3 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 title: Create and List Volume workloads: - scenario: CinderVolumes.create_and_list_volume: size: 1 detailed: True runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_and_list_volume: size: min: 1 max: 3 detailed: True runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_and_list_volume: size: 1 detailed: True image: name: {{image_name}} runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 title: List volumes scenario: CinderVolumes.list_volumes: detailed: True runner: constant: times: 2 concurrency: 2 title: Create volume workloads: - scenario: CinderVolumes.create_volume: size: 1 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_volume: size: min: 1 max: 3 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_volume: size: 1 image: name: {{image_name}} runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 title: Create and Extend volume workloads: - scenario: CinderVolumes.create_and_extend_volume: size: 1 new_size: 2 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_and_extend_volume: size: min: 1 max: 2 new_size: min: 3 max: 4 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 title: Create and attach volume scenario: CinderVolumes.create_and_attach_volume: size: 1 runner: constant: times: 2 concurrency: 2 contexts: title: Create volume and snapshot attach and detach volume and delete them workloads: - scenario: CinderVolumes.create_snapshot_and_attach_volume: size: min: 1 max: 1 volume_type: ""test"" runner: constant: times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 servers: image: name: {{image_name}} flavor: name: ""m1.tiny"" servers_per_tenant: 1 volume_types: - ""test"" api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_snapshot_and_attach_volume: volume_type: ""test"" size: min: 1 max: 1 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 servers: image: name: {{image_name}} flavor: name: ""m1.tiny"" servers_per_tenant: 1 volume_types: - ""test"" api_versions: cinder: version: 2 service_name: cinderv2 title: Create volume from volume and then delete it workloads: - scenario: CinderVolumes.create_from_volume_and_delete_volume: size: 1 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 api_versions: cinder: version: 2 service_name: cinderv2 - scenario: CinderVolumes.create_from_volume_and_delete_volume: size: min: 1 max: 2 runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 api_versions: cinder: version: 2 service_name: cinderv2 title: Create and delete snapshot scenario: CinderVolumes.create_and_delete_snapshot: force: false runner: constant: times: 2 concurrency: 2 title: Create and list snapshots scenario: CinderVolumes.create_and_list_snapshots: force: False detailed: True runner: constant: times: 2 concurrency: 2 contexts: title: Create and upload a volume to image scenario: CinderVolumes.create_and_upload_volume_to_image: size: 1 runner: constant: times: 1 concurrency: 1 contexts:"," Authenticate.validate_cinder: args: repetitions: 2 runner: type: ""constant"" times: 10 concurrency: 5 context: sla: failure_rate: max: 0 Quotas.cinder_update_and_delete: args: max_quota: 1024 runner: type: ""constant"" times: 4 concurrency: 1 context: sla: failure_rate: max: 0 Quotas.cinder_update: args: max_quota: 1024 runner: type: ""constant"" times: 10 concurrency: 2 context: sla: failure_rate: max: 0 CinderVolumes.create_and_delete_volume: args: size: 1 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 args: size: 1 image: name: {{image_name}} runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 args: size: min: 1 max: 3 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 CinderVolumes.create_and_list_volume: - args: size: 1 detailed: True runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 - args: size: min: 1 max: 3 detailed: True runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 - args: size: 1 detailed: True image: name: {{image_name}} runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: True runner: type: ""constant"" times: 2 concurrency: 2 sla: failure_rate: max: 0 CinderVolumes.create_volume: args: size: 1 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 args: size: min: 1 max: 3 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 args: size: 1 image: name: {{image_name}} runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 CinderVolumes.create_and_extend_volume: - args: size: 1 new_size: 2 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 - args: size: min: 1 max: 2 new_size: min: 3 max: 4 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: size: 1 image: name: {{image_name}} flavor: name: ""m1.tiny"" runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 CinderVolumes.create_snapshot_and_attach_volume: - args: size: min: 1 max: 1 volume_type: ""test"" runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 servers: servers_per_tenant: 1 volume_types: - ""test"" api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 - args: volume_type: ""test"" size: min: 1 max: 1 runner: type: ""constant"" times: 2 concurrency: 2 context: servers: image: name: {{image_name}} flavor: name: ""m1.tiny"" servers_per_tenant: 1 volume_types: - ""test"" sla: failure_rate: max: 0 CinderVolumes.create_from_volume_and_delete_volume: args: size: 1 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 args: size: min: 1 max: 2 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 api_versions: cinder: version: 2 service_name: cinderv2 sla: failure_rate: max: 0 CinderVolumes.create_and_delete_snapshot: args: force: false runner: type: ""constant"" times: 2 concurrency: 2 sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: args: force: False detailed: True runner: type: ""constant"" times: 2 concurrency: 2 context: sla: failure_rate: max: 0 CinderVolumes.create_and_upload_volume_to_image: args: size: 1 runner: type: ""constant"" times: 1 concurrency: 1 context: sla: failure_rate: max: 0",367,426
openstack%2Fcinder~master~I7932b1d952844b49cfdb504ed0ba188b489d7f44,openstack/cinder,master,I7932b1d952844b49cfdb504ed0ba188b489d7f44,Kaminario K2: Add non discovery iSCSI multipath,MERGED,2017-09-28 12:41:57.000000000,2018-02-25 13:53:02.000000000,2017-10-29 23:17:04.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21736}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-28 12:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85e376fd729a8f6e9e8288c02e9e1315c614ee20', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n'}, {'number': 2, 'created': '2017-09-29 10:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d86af5d395ff4fe64b95a8639248a21d76ce7b93', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n'}, {'number': 3, 'created': '2017-10-10 05:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fc992b285eb71bc4ccf540a85752971e2d1bd7b', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n'}, {'number': 4, 'created': '2017-10-13 05:57:12.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n'}]",1,508141,c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c,210,44,4,9535,,,0,"Kaminario K2: Add non discovery iSCSI multipath

Current Kaminario K2 driver only supports iSCSI multipathing using
discovery (sendtargets), which in some cases may be undesirable, since a
broken primary path could prevent an attachment.

This code adds the possibility of not using discovery mode and return
all connection information when `initialize_connection` is called, which
should provide increased reliability.

Change-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/508141/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py']",4,85e376fd729a8f6e9e8288c02e9e1315c614ee20,kaminario-iscsi-non-discovery," iscsi_portals, target_iqns = self.get_target_info(volume) result = {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqns[0], ""target_portal"": iscsi_portals[0], ""target_lun"": lun, ""target_discovered"": True}} if self.configuration.disable_discovery and connector.get('multipath'): result['data'].update(target_iqns=target_iqns, target_portals=iscsi_portals, target_luns=[lun] * len(target_iqns)) return result iscsi_portals = target_iqns = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: iscsi_portals = ['%s:%s' % (ip.ip_address, ISCSI_TCP_PORT) for ip in iscsi_ip_rs.hits if not ip.wan_port] if not iscsi_portals: iqn = sys_state_rs.hits[0].iscsi_qualified_target_name target_iqns = [iqn] * len(iscsi_portals) if not target_iqns: return iscsi_portals, target_iqns"," iscsi_portal, target_iqn = self.get_target_info(volume) return {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqn, ""target_portal"": iscsi_portal, ""target_lun"": lun, ""target_discovered"": True}} iscsi_ip = target_iqn = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: for ip in iscsi_ip_rs.hits: if not ip.wan_port: iscsi_ip = ip.ip_address break if not iscsi_ip: iscsi_portal = ""{0}:{1}"".format(iscsi_ip, ISCSI_TCP_PORT) target_iqn = sys_state_rs.hits[0].iscsi_qualified_target_name if not target_iqn: return iscsi_portal, target_iqn",103,43
openstack%2Fcinder~master~I21511e5c4db62563c61815c1671e8bb44ad3f427,openstack/cinder,master,I21511e5c4db62563c61815c1671e8bb44ad3f427,FlashSystems: permit snapshot/clone volumes larger than source,MERGED,2017-10-11 22:10:15.000000000,2018-02-25 13:52:42.000000000,2017-12-05 02:52:38.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27059}]","[{'number': 1, 'created': '2017-10-11 22:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83211b39247ce771cb9df2e4f9fedf9173fef27b', 'message': 'Permit clone and snapshot restore to oversized destination volumes\n\nPermit clone volumes and volumes created from snapshots to be larger than their\nsource volumes; implemented in response to failures in the following CI tests:\n  * VolumesSnapshotTestJSON.test_volume_from_snapshot\n  * VolumesCloneTest.test_create_from_volume\n\nChange-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427\nCloses-Bug: #1560655\n'}, {'number': 2, 'created': '2017-10-12 16:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8e4705018c7b1b4c9fe26e5105bdcc6b93490e1', 'message': 'FlashSystems: Permit clone and snapshot restore to larger size\n\nPermit clone volumes and volumes created from snapshots to be larger than their\nsource volumes; implemented in response to failures in the following CI tests:\n  * VolumesSnapshotTestJSON.test_volume_from_snapshot\n  * VolumesCloneTest.test_create_from_volume\n\nChange-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427\nCloses-Bug: #1560655\n'}, {'number': 3, 'created': '2017-10-12 22:02:25.000000000', 'files': ['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/927367cd9af6adf260bea4da4dcc5cc94eaa7b13', 'message': 'FlashSystems: permit snapshot/clone volumes larger than source\n\nPermit clone volumes and volumes created from snapshots to\nbe larger than their source volumes; implemented in response\nto failures in the following CI tests:\n  * VolumesSnapshotTestJSON.test_volume_from_snapshot\n  * VolumesCloneTest.test_create_from_volume\n\nChange-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427\nCloses-Bug: #1560655\n'}]",8,511346,927367cd9af6adf260bea4da4dcc5cc94eaa7b13,82,33,3,27059,,,0,"FlashSystems: permit snapshot/clone volumes larger than source

Permit clone volumes and volumes created from snapshots to
be larger than their source volumes; implemented in response
to failures in the following CI tests:
  * VolumesSnapshotTestJSON.test_volume_from_snapshot
  * VolumesCloneTest.test_create_from_volume

Change-Id: I21511e5c4db62563c61815c1671e8bb44ad3f427
Closes-Bug: #1560655
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/511346/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/flashsystem_common.py'],1,83211b39247ce771cb9df2e4f9fedf9173fef27b,flashsystem_volsize, if volume['size'] < snapshot['volume_size']: msg = _('create_volume_from_snapshot: Volume is smaller than ' 'snapshot.') if src_volume['size'] > volume['size']: msg = _('create_cloned_volume: Source volume larger than ' 'destination volume'), if volume['size'] != snapshot['volume_size']: msg = _('create_volume_from_snapshot: Volume size is different ' 'from snapshot based volume.') if src_volume['size'] != volume['size']: msg = _('create_cloned_volume: Source and destination ' 'size differ.'),6,6
openstack%2Fcinder~master~Iefc207955e4718a7d9c3b235b133a4c629977d03,openstack/cinder,master,Iefc207955e4718a7d9c3b235b133a4c629977d03,Deprecate SolidFire Image Caching feature,MERGED,2017-10-12 21:22:57.000000000,2018-02-25 13:52:34.000000000,2017-10-13 01:06:59.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-12 21:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3eb48f7d874246e657956daadb73ad333001cfcf', 'message': ""Deprecate SolidFire Image Caching feature\n\nWe've had a general solution to image-caching in\nCinder for a while now and it works well, so we\ncan remove the SolidFire specific implementation\nin favor of using the general solution.\n\nhttps://docs.openstack.org/cinder/latest/\\\nadmin/blockstorage-image-volume-cache.html\n\nThis patch marks the SolidFire config option\nas deprecated, and we'll remove the feature\naltogether in the next release.\n\nChange-Id: Iefc207955e4718a7d9c3b235b133a4c629977d03\n""}, {'number': 2, 'created': '2017-10-12 21:43:03.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/90d2765e72fa18420afbb7ddf012add84509b81d', 'message': ""Deprecate SolidFire Image Caching feature\n\nWe've had a general solution to image-caching in\nCinder for a while now and it works well, so we\ncan remove the SolidFire specific implementation\nin favor of using the general solution.\n\nhttps://docs.openstack.org/cinder/latest/\\\nadmin/blockstorage-image-volume-cache.html\n\nThis patch marks the SolidFire config option\nas deprecated, and we'll remove the feature\naltogether in the next release.\n\nChange-Id: Iefc207955e4718a7d9c3b235b133a4c629977d03\n""}]",2,511623,90d2765e72fa18420afbb7ddf012add84509b81d,43,31,2,2243,,,0,"Deprecate SolidFire Image Caching feature

We've had a general solution to image-caching in
Cinder for a while now and it works well, so we
can remove the SolidFire specific implementation
in favor of using the general solution.

https://docs.openstack.org/cinder/latest/\
admin/blockstorage-image-volume-cache.html

This patch marks the SolidFire config option
as deprecated, and we'll remove the feature
altogether in the next release.

Change-Id: Iefc207955e4718a7d9c3b235b133a4c629977d03
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/511623/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,3eb48f7d874246e657956daadb73ad333001cfcf,deprecate_solidfire_image_caching," deprecated_for_removal=True, deprecated_reason='The Cinder caching feature should be ' 'used rather than this driver specific ' 'implementation.', default=False, help='This option is deprecated and will be removed in ' 'the next OpenStack release. Please use the general ' 'cinder image-caching feature instead.'),"," default=True, help='Create an internal cache of copy of images when ' 'glance and qemu-conversion on subsequent calls.'),",8,3
openstack%2Fcinder~master~Ib2bac2d28d950c0d8b734a54e300dd4185d98ca9,openstack/cinder,master,Ib2bac2d28d950c0d8b734a54e300dd4185d98ca9,"[policy in code] Add support for service, limits",MERGED,2017-10-10 02:24:08.000000000,2018-02-25 13:52:33.000000000,2017-10-17 15:53:41.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19930}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-10 02:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/37fbe8fe59295ae34f7592ec0179b3620d7dac19', 'message': '[policy in code] Add support for service, limits\n\nThis patch adds policy in code support for capabilities,\nhosts, services, limits and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: Ib2bac2d28d950c0d8b734a54e300dd4185d98ca9\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-10-11 10:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f9040e0f7127a5c5c9d530f408de468ac8eca9a', 'message': '[policy in code] Add support for service, limits\n\nThis patch adds policy in code support for capabilities,\nhosts, services, limits and depends on the quota patch [1].\n\n[1]: https://review.openstack.org/#/c/508091/\n\nChange-Id: Ib2bac2d28d950c0d8b734a54e300dd4185d98ca9\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-10-12 07:34:47.000000000', 'files': ['cinder/api/contrib/capabilities.py', 'cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/scheduler_stats.py', 'cinder/tests/unit/api/contrib/test_services.py', 'cinder/tests/unit/policy.json', 'cinder/tests/unit/api/contrib/test_used_limits.py', 'cinder/policies/limits.py', 'cinder/policies/services.py', 'cinder/api/contrib/services.py', 'cinder/api/contrib/used_limits.py', 'cinder/policies/hosts.py', 'cinder/policies/scheduler_stats.py', 'cinder/api/contrib/hosts.py', 'cinder/policies/capabilities.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b5715e2adef2b378a2d3e75ee0201432ab1d074', 'message': '[policy in code] Add support for service, limits\n\nThis patch adds policy in code support for capabilities,\nhosts, services, limits and depends on the quota patch [1].\n\n[1]: https://review.openstack.org/#/c/508091/\n\nChange-Id: Ib2bac2d28d950c0d8b734a54e300dd4185d98ca9\nPartial-Implements: blueprint policy-in-code\n'}]",2,510722,5b5715e2adef2b378a2d3e75ee0201432ab1d074,117,42,3,23083,,,0,"[policy in code] Add support for service, limits

This patch adds policy in code support for capabilities,
hosts, services, limits and depends on the quota patch [1].

[1]: https://review.openstack.org/#/c/508091/

Change-Id: Ib2bac2d28d950c0d8b734a54e300dd4185d98ca9
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/510722/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/capabilities.py', 'cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/scheduler_stats.py', 'cinder/tests/unit/policy.json', 'cinder/tests/unit/api/contrib/test_used_limits.py', 'cinder/policies/limits.py', 'cinder/policies/services.py', 'cinder/api/contrib/services.py', 'cinder/api/contrib/used_limits.py', 'cinder/policies/hosts.py', 'cinder/policies/scheduler_stats.py', 'cinder/api/contrib/hosts.py', 'cinder/policies/capabilities.py']",14,37fbe8fe59295ae34f7592ec0179b3620d7dac19,policy-and-docs-in-code,"# Copyright (c) 2017 Huawei Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_policy import policy from cinder.policies import base CAPABILITIES_POLICY = ""volume_extension:capabilities"", capabilities_policies = [ policy.DocumentedRuleDefault( name=CAPABILITIES_POLICY, check_str=base.RULE_ADMIN_API, description=""Show backend capabilities."", operations=[ { 'method': 'GET', 'path': '/capabilities/{host_name}' } ]) ] def list_rules(): return capabilities_policies ",,240,39
openstack%2Fcinder~master~I5215c58966713cac0242c1cdb6cb1df9c3a710b3,openstack/cinder,master,I5215c58966713cac0242c1cdb6cb1df9c3a710b3,Vzstorage: improvement of create_cloned_volume,MERGED,2017-08-23 16:42:04.000000000,2018-02-25 13:52:24.000000000,2017-10-27 21:23:00.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12408}, {'_account_id': 13144}, {'_account_id': 13431}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-08-23 16:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/142dfbb2afc8733b1b7c8d1dd45408482a975e11', 'message': 'Vzstorage: improvement of create_cloned_volume\n\nPrior to this patch Vzstorage driver leaved ""tmp-snap-*.qemu_img_info""\ncache files, as _delete_snapshot from remotefs doesn\'t delete\n*.qemu_img_info files. If we rename create_snapshot in Vzstorage\nto _create_snapshot we 1) solve above problem\n2) don\'t have to use locking decorator\n\nWe also rename _create_cloned_volume so as it complies with its\nspecific usage only for ploop volumes\n\nChange-Id: I5215c58966713cac0242c1cdb6cb1df9c3a710b3\n'}, {'number': 2, 'created': '2017-09-11 09:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc6bc3c93b12e30cb3cd71a9dcb6c484fae2764d', 'message': 'Vzstorage: improvement of create_cloned_volume\n\nPrior to this patch Vzstorage driver left ""tmp-snap-*.qemu_img_info""\ncache files, as _delete_snapshot from remotefs doesn\'t delete\n*.qemu_img_info files. If we rename create_snapshot in Vzstorage\nto _create_snapshot we 1) solve above problem\n2) don\'t have to use locking decorator\n\nWe also rename _create_cloned_volume so as it complies with its\nspecific usage only for ploop volumes\n\nChange-Id: I5215c58966713cac0242c1cdb6cb1df9c3a710b3\n'}, {'number': 3, 'created': '2017-10-11 16:39:04.000000000', 'files': ['cinder/volume/drivers/vzstorage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dc77f499a827a8e8daf4c7e1bdb54737f6c2e25', 'message': 'Vzstorage: improvement of create_cloned_volume\n\nPrior to this patch Vzstorage driver left ""tmp-snap-*.qemu_img_info""\ncache files, as _delete_snapshot from remotefs doesn\'t delete\n*.qemu_img_info files. If we rename create_snapshot in Vzstorage\nto _create_snapshot we 1) solve above problem\n2) don\'t have to use locking decorator\n\nWe also rename _create_cloned_volume so as it complies with its\nspecific usage only for ploop volumes\n\nChange-Id: I5215c58966713cac0242c1cdb6cb1df9c3a710b3\n'}]",2,496828,7dc77f499a827a8e8daf4c7e1bdb54737f6c2e25,148,48,3,13431,,,0,"Vzstorage: improvement of create_cloned_volume

Prior to this patch Vzstorage driver left ""tmp-snap-*.qemu_img_info""
cache files, as _delete_snapshot from remotefs doesn't delete
*.qemu_img_info files. If we rename create_snapshot in Vzstorage
to _create_snapshot we 1) solve above problem
2) don't have to use locking decorator

We also rename _create_cloned_volume so as it complies with its
specific usage only for ploop volumes

Change-Id: I5215c58966713cac0242c1cdb6cb1df9c3a710b3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/496828/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vzstorage.py'],1,142dfbb2afc8733b1b7c8d1dd45408482a975e11,," def _create_snapshot(self, snapshot): def _delete_snapshot(self, snapshot): def _create_cloned_volume_ploop(self, volume, src_vref): return self._create_cloned_volume_ploop(volume, src_vref)"," @remotefs_drv.locked_volume_id_operation def create_snapshot(self, snapshot): @remotefs_drv.locked_volume_id_operation def delete_snapshot(self, snapshot): def _create_cloned_volume(self, volume, src_vref): return self._create_cloned_volume(volume, src_vref)",4,6
openstack%2Fcinder~master~If95a8aaa70614902a06420d1afa487827f8a3f03,openstack/cinder,master,If95a8aaa70614902a06420d1afa487827f8a3f03,"[policy in code] Add support for group, g-snapshot resources",MERGED,2017-09-27 10:03:16.000000000,2018-02-25 13:52:06.000000000,2017-10-14 21:31:36.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 5046}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-27 10:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2720d6815b6cc32cae9d15fda2d5f765b9aea9e6', 'message': '[policy in code] Add support for group, g-snapshot resources\n\nThis patch adds policy in code support for group&group\nsnapshot resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: If95a8aaa70614902a06420d1afa487827f8a3f03\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-09-28 07:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11eb4931a143f27e6da297c53c0e2ca6509ba09a', 'message': '[policy in code] Add support for group, g-snapshot resources\n\nThis patch adds policy in code support for group&group\nsnapshot resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: If95a8aaa70614902a06420d1afa487827f8a3f03\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-10-09 12:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/548a524c624bbdcd46f219bdd0818fa61e3bed1f', 'message': '[policy in code] Add support for group, g-snapshot resources\n\nThis patch adds policy in code support for group&group\nsnapshot resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: If95a8aaa70614902a06420d1afa487827f8a3f03\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2017-10-10 03:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/455be69f5ae28e547b97cd99dbaa3a501d52bf25', 'message': '[policy in code] Add support for group, g-snapshot resources\n\nThis patch adds policy in code support for group&group\nsnapshot resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: If95a8aaa70614902a06420d1afa487827f8a3f03\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 5, 'created': '2017-10-11 08:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8bc40e85bf6539879cdb6f89da212c0c6c5d077c', 'message': '[policy in code] Add support for group, g-snapshot resources\n\nThis patch adds policy in code support for group&group\nsnapshot resources and depends on the backup patch [1].\n\n[1]: https://review.openstack.org/#/c/507015/\n\nChange-Id: If95a8aaa70614902a06420d1afa487827f8a3f03\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 6, 'created': '2017-10-11 13:19:49.000000000', 'files': ['cinder/policies/group_snapshots.py', 'cinder/tests/unit/group/test_groups_api.py', 'cinder/policies/__init__.py', 'cinder/api/v3/group_specs.py', 'etc/cinder/policy.json', 'cinder/api/v3/views/group_types.py', 'cinder/policies/groups.py', 'cinder/tests/unit/policy.json', 'cinder/policies/group_snapshot_actions.py', 'cinder/policies/group_types.py', 'cinder/policies/group_actions.py', 'cinder/api/v3/group_types.py', 'cinder/group/api.py', 'cinder/tests/unit/api/v3/test_group_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2c6dfb3d3286b25d77d0bb8341df739a1a81405', 'message': '[policy in code] Add support for group, g-snapshot resources\n\nThis patch adds policy in code support for group&group\nsnapshot resources and depends on the backup patch [1].\n\n[1]: https://review.openstack.org/#/c/507015/\n\nChange-Id: If95a8aaa70614902a06420d1afa487827f8a3f03\nPartial-Implements: blueprint policy-in-code\n'}]",2,507812,d2c6dfb3d3286b25d77d0bb8341df739a1a81405,129,43,6,23083,,,0,"[policy in code] Add support for group, g-snapshot resources

This patch adds policy in code support for group&group
snapshot resources and depends on the backup patch [1].

[1]: https://review.openstack.org/#/c/507015/

Change-Id: If95a8aaa70614902a06420d1afa487827f8a3f03
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/507812/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/group_snapshots.py', 'cinder/tests/unit/group/test_groups_api.py', 'cinder/policies/__init__.py', 'cinder/api/v3/group_specs.py', 'etc/cinder/policy.json', 'cinder/api/v3/views/group_types.py', 'cinder/policies/groups.py', 'cinder/tests/unit/policy.json', 'cinder/policies/group_snapshot_actions.py', 'cinder/policies/group_types.py', 'cinder/policies/group_actions.py', 'cinder/api/v3/group_types.py', 'cinder/group/api.py', 'cinder/tests/unit/api/v3/test_group_types.py']",14,2720d6815b6cc32cae9d15fda2d5f765b9aea9e6,policy-and-docs-in-code," with mock.patch.object(context.RequestContext, 'authorize', with mock.patch.object(context.RequestContext, 'authorize', with mock.patch.object(context.RequestContext, 'authorize', side_effect=[True, False]):","import cinder.api.common as common with mock.patch.object(common, 'validate_policy', with mock.patch.object(common, 'validate_policy', with mock.patch.object(common, 'validate_policy', side_effect=[True, True]): def test_check_policy(self): self.controller._check_policy(self.ctxt) self.assertRaises(exception.PolicyNotAuthorized, self.controller._check_policy, self.user_ctxt) self.specs_controller._check_policy(self.ctxt) self.assertRaises(exception.PolicyNotAuthorized, self.specs_controller._check_policy, self.user_ctxt)",448,186
openstack%2Fcinder~master~Ica3d468856bad045c2bdd30a0f86924cc0aeb572,openstack/cinder,master,Ica3d468856bad045c2bdd30a0f86924cc0aeb572,Add documentation for API 'validate_setup_for_nested_quota_use',MERGED,2017-08-26 06:21:14.000000000,2018-02-25 13:52:05.000000000,2017-10-11 14:40:10.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-08-26 06:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e4aac4e8f259df255c99c0d65bf7a4c7c1871a2', 'message': ""Add documentation for API 'validate_setup_for_nested_quota_use'\n\nDocumentation for API 'validate_setup_for_nested_quota_use' is\nmissing. Fix it.\n\nChange-Id: Ica3d468856bad045c2bdd30a0f86924cc0aeb572\n""}, {'number': 2, 'created': '2017-09-04 02:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bbaf4a9d73d7901a4836d4991539d2126d53000', 'message': ""Add documentation for API 'validate_setup_for_nested_quota_use'\n\nDocumentation for API 'validate_setup_for_nested_quota_use' is\nmissing. Fix it.\n\nChange-Id: Ica3d468856bad045c2bdd30a0f86924cc0aeb572\n""}, {'number': 3, 'created': '2017-10-10 03:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/744e2b0882df37d6bb0ef8229c64e5917a358eb6', 'message': ""Add documentation for API 'validate_setup_for_nested_quota_use'\n\nDocumentation for API 'validate_setup_for_nested_quota_use' is\nmissing. Fix it.\n\nChange-Id: Ica3d468856bad045c2bdd30a0f86924cc0aeb572\n""}, {'number': 4, 'created': '2017-10-11 08:06:37.000000000', 'files': ['api-ref/source/v3/quota-sets.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f70288d3e48c40597ac9c20f90d0acf1e3735db9', 'message': ""Add documentation for API 'validate_setup_for_nested_quota_use'\n\nDocumentation for API 'validate_setup_for_nested_quota_use' is\nmissing. Fix it.\n\nChange-Id: Ica3d468856bad045c2bdd30a0f86924cc0aeb572\n""}]",2,498147,f70288d3e48c40597ac9c20f90d0acf1e3735db9,106,39,4,23083,,,0,"Add documentation for API 'validate_setup_for_nested_quota_use'

Documentation for API 'validate_setup_for_nested_quota_use' is
missing. Fix it.

Change-Id: Ica3d468856bad045c2bdd30a0f86924cc0aeb572
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/498147/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/quota-sets.inc', 'api-ref/source/v3/parameters.yaml']",2,0e4aac4e8f259df255c99c0d65bf7a4c7c1871a2,bug/fix_quota_validate_error,fix_allocated_quotas: description: | Whether to fix all the non-leaf projects' ``allocation`` attribute or raise 400 error if ``allocation`` doesn't match the current quota usage information. Default is ``false``. in: path required: false type: boolean,,30,0
openstack%2Fcinder~master~Ief648a8a464d1bd6f463774d48438441ae9502e2,openstack/cinder,master,Ief648a8a464d1bd6f463774d48438441ae9502e2,VMAX driver - documentation updates around versions,MERGED,2017-10-10 13:40:06.000000000,2018-02-25 13:51:59.000000000,2017-10-16 16:55:47.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-10 13:40:06.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb4cb542fb4dbbef5fd0dc8284cfa2c793a557b8', 'message': 'VMAX driver - documentation updates around versions\n\nCorrect the minimum versions for Solutions Enabler and Unisphere.\nAdd QoS to the list of supported operations.\n\nChange-Id: Ief648a8a464d1bd6f463774d48438441ae9502e2\nCloses-Bug: #1722497\n'}]",0,510888,cb4cb542fb4dbbef5fd0dc8284cfa2c793a557b8,46,32,1,12670,,,0,"VMAX driver - documentation updates around versions

Correct the minimum versions for Solutions Enabler and Unisphere.
Add QoS to the list of supported operations.

Change-Id: Ief648a8a464d1bd6f463774d48438441ae9502e2
Closes-Bug: #1722497
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/510888/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,cb4cb542fb4dbbef5fd0dc8284cfa2c793a557b8,bug/1722497,"Solutions Enabler 8.4.0.7 or later, and Unisphere for VMAX 8.4.0.15 or later- Quality of service (QoS)","Solutions Enabler 8.4.0.12 or later, and Unisphere for VMAX 8.4.0.12 or later",2,1
openstack%2Fcinder~stable%2Fpike~Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8,openstack/cinder,stable/pike,Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8,VMAX driver - remove WLP stats,MERGED,2017-10-10 10:42:17.000000000,2018-02-25 13:51:58.000000000,2017-10-17 18:33:54.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 12032}, {'_account_id': 14624}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-10 10:42:17.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1905576648dcceb76d0472f2759341bb20dff677', 'message': 'VMAX driver - remove WLP stats\n\nWorkload Planner(WLP) headroom calculations are not always accurate\nfor All Flash arrays. Because WLP is generally always enabled on\nUnisphere, it is best use SRP calculations instead.\n\nChange-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8\nCloses-Bug: #1714503\n(cherry picked from commit 635e892cc8e7541e83697792c9f45d056460c845)\n'}]",0,510831,1905576648dcceb76d0472f2759341bb20dff677,29,20,1,12670,,,0,"VMAX driver - remove WLP stats

Workload Planner(WLP) headroom calculations are not always accurate
for All Flash arrays. Because WLP is generally always enabled on
Unisphere, it is best use SRP calculations instead.

Change-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8
Closes-Bug: #1714503
(cherry picked from commit 635e892cc8e7541e83697792c9f45d056460c845)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/510831/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",4,1905576648dcceb76d0472f2759341bb20dff677,(detached," if x.lower() not in ['none', 'optimized']] slo_workload_set.add('Optimized:None') array_reserve_percent) = self._update_srp_stats(array_info) provisionedManagedSpaceGbs, array_reserve_percent) = ( array_reserve_percent)"," if x.lower() not in ['none']] # This only applies to the arrays for which WLP is not enabled wlp_enabled = False # Query the SRP only once if WLP is not enabled array_reserve_percent, wlp_enabled) = self._update_srp_stats(array_info) if wlp_enabled is False: arrays[array_info['SerialNumber']] = ( [total_capacity_gb, free_capacity_gb, provisioned_capacity_gb, array_reserve_percent]) provisionedManagedSpaceGbs, array_reserve_percent, wlpEnabled) = ( array_reserve_percent, wlpEnabled)",16,138
openstack%2Fcinder~master~I171022c0af01f4216c30630be7487f6f53d5fbca,openstack/cinder,master,I171022c0af01f4216c30630be7487f6f53d5fbca,Remove deprecated VD base classes which are not used now,MERGED,2017-09-15 16:37:00.000000000,2018-02-25 13:51:56.000000000,2017-10-10 08:37:49.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-15 16:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29e3e919bb5e473f0b730f7512b1432b26965d73', 'message': 'Remove deprecated VD base classes which are not used now\n\nChange-Id: I171022c0af01f4216c30630be7487f6f53d5fbca\n'}, {'number': 2, 'created': '2017-09-17 07:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/895cbe247c24e3d849e0b227efc6209c1aba4f96', 'message': 'Remove deprecated VD base classes which are not used now\n\nChange-Id: I171022c0af01f4216c30630be7487f6f53d5fbca\n'}, {'number': 3, 'created': '2017-09-19 11:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ef96d6c17966416dae66bca64b1f0d52030beb6', 'message': 'Remove deprecated VD base classes which are not used now\n\nChange-Id: I171022c0af01f4216c30630be7487f6f53d5fbca\n'}, {'number': 4, 'created': '2017-10-10 05:59:58.000000000', 'files': ['cinder/volume/driver.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c8b3d457d903d1f3ab98311d9d5371e5a5c0ecd', 'message': 'Remove deprecated VD base classes which are not used now\n\nChange-Id: I171022c0af01f4216c30630be7487f6f53d5fbca\n'}]",1,504453,2c8b3d457d903d1f3ab98311d9d5371e5a5c0ecd,126,44,4,1736,,,0,"Remove deprecated VD base classes which are not used now

Change-Id: I171022c0af01f4216c30630be7487f6f53d5fbca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/504453/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/volume/drivers/nfs.py']",2,29e3e919bb5e473f0b730f7512b1432b26965d73,remove-deprecated-vd,class NfsDriver(remotefs.RemoteFSSnapDriverDistributed):,"class NfsDriver(remotefs.RemoteFSSnapDriverDistributed, driver.ExtendVD):",1,26
openstack%2Fcinder~driverfixes%2Fnewton~Ie9bcb94f95effee7f6407aabe268cc0637a602f3,openstack/cinder,driverfixes/newton,Ie9bcb94f95effee7f6407aabe268cc0637a602f3,Add multipath enhancement to Storwize iSCSI driver,MERGED,2017-10-09 05:49:28.000000000,2018-02-25 13:51:51.000000000,2017-10-29 23:17:06.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10213}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13047}, {'_account_id': 15831}, {'_account_id': 17045}, {'_account_id': 17564}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-09 05:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c41e0d15a3ee3fec94e189c4b56c70f9dde015a', 'message': 'Add multipath enhancement to Storwize iSCSI driver\n\nAdd multipath enhancement to Storwize iSCSI driver.\ntarget portals, iqns and luns will be returned in\ninitialize_connection if multipath is being used.\n\nChange-Id: Ie9bcb94f95effee7f6407aabe268cc0637a602f3\nImplements: blueprint storwize-iscsi-multipath-enhancement\n(cherry picked from commit ad59cb5ac2fdc93cdcc93ac582c948a2a820a124)\n'}, {'number': 2, 'created': '2017-10-10 04:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18f63de5f44fd56a1e54541abeeb90cf6c9aefdf', 'message': 'Add multipath enhancement to Storwize iSCSI driver\n\nAdd multipath enhancement to Storwize iSCSI driver.\ntarget portals, iqns and luns will be returned in\ninitialize_connection if multipath is being used.\n\nChange-Id: Ie9bcb94f95effee7f6407aabe268cc0637a602f3\nImplements: blueprint storwize-iscsi-multipath-enhancement\n(cherry picked from commit b74a9df9cd308b9f43398e43679658f3bea5f1a5)\n'}, {'number': 3, 'created': '2017-10-10 05:33:38.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94cfdd47dc2c20e88af5aba6679067cfdb07845a', 'message': 'Add multipath enhancement to Storwize iSCSI driver\n\nAdd multipath enhancement to Storwize iSCSI driver.\ntarget portals, iqns and luns will be returned in\ninitialize_connection if multipath is being used.\n\nChange-Id: Ie9bcb94f95effee7f6407aabe268cc0637a602f3\nImplements: blueprint storwize-iscsi-multipath-enhancement\n(cherry picked from commit ad59cb5ac2fdc93cdcc93ac582c948a2a820a124)\n'}]",0,510407,94cfdd47dc2c20e88af5aba6679067cfdb07845a,69,24,3,17045,,,0,"Add multipath enhancement to Storwize iSCSI driver

Add multipath enhancement to Storwize iSCSI driver.
target portals, iqns and luns will be returned in
initialize_connection if multipath is being used.

Change-Id: Ie9bcb94f95effee7f6407aabe268cc0637a602f3
Implements: blueprint storwize-iscsi-multipath-enhancement
(cherry picked from commit ad59cb5ac2fdc93cdcc93ac582c948a2a820a124)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/510407/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'releasenotes/notes/storwize_iscsi_multipath_enhance-9de9dc29661869cd.yaml']",3,7c41e0d15a3ee3fec94e189c4b56c70f9dde015a,bp/storwize-iscsi-multipath-enhancement-driverfixes/newton,--- features: - Add multipath enhancement to Storwize iSCSI driver. ,,314,143
openstack%2Fcinder~master~Ib83edf85d086305341f94f6810fcdecb21fc7937,openstack/cinder,master,Ib83edf85d086305341f94f6810fcdecb21fc7937,NEC driver: Fix exception in terminate_connection with no connector,MERGED,2017-10-05 08:46:30.000000000,2018-02-25 13:51:31.000000000,2017-10-10 19:58:58.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-05 08:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01e68170ca37fe4c8ac4c0f57a160f04264b5478', 'message': 'NEC driver: Fix exception in terminate_connection with no connector\n\nNEC driver required the connector object not be None.\nThis patch allows for the connector to be None by force detach.\n\nChange-Id: Ib83edf85d086305341f94f6810fcdecb21fc7937\nCloses-Bug: #1721461\n'}, {'number': 2, 'created': '2017-10-10 04:49:12.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2110c919df4ad1fc9c47e5d7db7d396c11d201bf', 'message': 'NEC driver: Fix exception in terminate_connection with no connector\n\nNEC driver required the connector object not be None.\nThis patch allows for the connector to be None by force detach.\n\nChange-Id: Ib83edf85d086305341f94f6810fcdecb21fc7937\nCloses-Bug: #1721461\n'}]",0,509716,2110c919df4ad1fc9c47e5d7db7d396c11d201bf,90,39,2,23885,,,0,"NEC driver: Fix exception in terminate_connection with no connector

NEC driver required the connector object not be None.
This patch allows for the connector to be None by force detach.

Change-Id: Ib83edf85d086305341f94f6810fcdecb21fc7937
Closes-Bug: #1721461
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/509716/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,01e68170ca37fe4c8ac4c0f57a160f04264b5478,bug/1721461," 'data': {}} if connector is not None: target_wwns, init_targ_map = ( self._build_initiator_target_map(connector, fc_ports)) info['data'] = {'target_wwn': target_wwns, 'initiator_target_map': init_targ_map} initiator_wwns = [] if connector is not None: initiator_wwns = connector['wwpns']"," target_wwns, init_targ_map = ( self._build_initiator_target_map(connector, fc_ports)) 'data': {'target_wwn': target_wwns, 'initiator_target_map': init_targ_map}} initiator_wwns = connector['wwpns']",13,5
openstack%2Fcinder~master~I9b0c1527247aaebe7dc1acc71a376cb41108ee69,openstack/cinder,master,I9b0c1527247aaebe7dc1acc71a376cb41108ee69,Add v3 api-ref for deleting extra spec for a volume type,MERGED,2017-09-14 08:48:21.000000000,2018-02-25 13:51:13.000000000,2017-10-10 19:58:49.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-14 08:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f203df342ad642fbac2a6a4d7a4d7f89b070353', 'message': 'Add v3 api-ref for deleting extra spec for a volume type\n\nThis patch adds v3 api-ref for the API: delete a specific extra spec\nfor a volume type.\n\nChange-Id: I9b0c1527247aaebe7dc1acc71a376cb41108ee69\n'}, {'number': 2, 'created': '2017-09-28 12:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb0ac7a8dc462d95f8994539e857f4467275378b', 'message': 'Add v3 api-ref for deleting extra spec for a volume type\n\nThis patch adds v3 api-ref for the API: delete a specific extra spec\nfor a volume type.\n\nChange-Id: I9b0c1527247aaebe7dc1acc71a376cb41108ee69\n'}, {'number': 3, 'created': '2017-10-09 16:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34a467a4fbbae432512f21c1cdf2d6e245a3d9b4', 'message': 'Add v3 api-ref for deleting extra spec for a volume type\n\nThis patch adds v3 api-ref for the API: delete a specific extra spec\nfor a volume type.\n\nChange-Id: I9b0c1527247aaebe7dc1acc71a376cb41108ee69\n'}, {'number': 4, 'created': '2017-10-10 03:02:05.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef0f65ce75c15217c89617579e9a7193f00c1afb', 'message': 'Add v3 api-ref for deleting extra spec for a volume type\n\nThis patch adds v3 api-ref for the API: delete a specific extra spec\nfor a volume type.\n\nChange-Id: I9b0c1527247aaebe7dc1acc71a376cb41108ee69\n'}]",0,504009,ef0f65ce75c15217c89617579e9a7193f00c1afb,106,39,4,23081,,,0,"Add v3 api-ref for deleting extra spec for a volume type

This patch adds v3 api-ref for the API: delete a specific extra spec
for a volume type.

Change-Id: I9b0c1527247aaebe7dc1acc71a376cb41108ee69
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/504009/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml']",2,1f203df342ad642fbac2a6a4d7a4d7f89b070353,delete_volume_type_extra_spec,key_4: description: | The key name for the extra spec that you want to remove. in: path required: true type: string,,27,0
openstack%2Fcinder~master~Ie3b93dd2cf457a5cb42a53eadc9f9fd5cec1f118,openstack/cinder,master,Ie3b93dd2cf457a5cb42a53eadc9f9fd5cec1f118,Replace the usage of some aliases in tempest,MERGED,2017-10-04 07:21:36.000000000,2018-02-25 13:51:11.000000000,2017-10-12 08:37:59.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25903}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-04 07:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33a8ac337c1e21c12fd6c3f4f30778163e05abb9', 'message': 'Replace the usage of some aliases in tempest\n\nIn tempest, following aliases have been moved in version Pike\nand will be removed in version Queens:ad\n* manager > os_primary [1]\n* admin_manager > os_admin [2]\n* os_adm > os_admin [3]\n* os > os_primary [4]\n* alt_manager > os_alt [5]\n\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/467852/\n[3] https://review.openstack.org/#/c/467605/\n[4] https://review.openstack.org/#/c/466991/\n[5] https://review.openstack.org/#/c/457555/\n\nChange-Id: Ie3b93dd2cf457a5cb42a53eadc9f9fd5cec1f118\n'}, {'number': 2, 'created': '2017-10-04 07:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2a4086cfc86ec2552b12d3a03f7932a9189bfad', 'message': 'Replace the usage of some aliases in tempest\n\nIn tempest, following aliases have been moved in version Pike\nand will be removed in version Queens:\n* manager > os_primary [1]\n* admin_manager > os_admin [2]\n* os_adm > os_admin [3]\n* os > os_primary [4]\n* alt_manager > os_alt [5]\n\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/467852/\n[3] https://review.openstack.org/#/c/467605/\n[4] https://review.openstack.org/#/c/466991/\n[5] https://review.openstack.org/#/c/457555/\n\nChange-Id: Ie3b93dd2cf457a5cb42a53eadc9f9fd5cec1f118\n'}, {'number': 3, 'created': '2017-10-10 01:30:34.000000000', 'files': ['cinder/tests/tempest/api/volume/test_consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/418d9648f837d9ca87e2f4fe0310527383a9b7c9', 'message': 'Replace the usage of some aliases in tempest\n\nIn tempest, following aliases have been moved in version Pike\nand will be removed in version Queens:ad\n* manager > os_primary [1]\n* admin_manager > os_admin [2]\n* os_adm > os_admin [3]\n* os > os_primary [4]\n* alt_manager > os_alt [5]\n\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/467852/\n[3] https://review.openstack.org/#/c/467605/\n[4] https://review.openstack.org/#/c/466991/\n[5] https://review.openstack.org/#/c/457555/\n\nChange-Id: Ie3b93dd2cf457a5cb42a53eadc9f9fd5cec1f118\n'}]",0,509362,418d9648f837d9ca87e2f4fe0310527383a9b7c9,99,38,3,25903,,,0,"Replace the usage of some aliases in tempest

In tempest, following aliases have been moved in version Pike
and will be removed in version Queens:ad
* manager > os_primary [1]
* admin_manager > os_admin [2]
* os_adm > os_admin [3]
* os > os_primary [4]
* alt_manager > os_alt [5]

[1] https://review.openstack.org/#/c/468036/
[2] https://review.openstack.org/#/c/467852/
[3] https://review.openstack.org/#/c/467605/
[4] https://review.openstack.org/#/c/466991/
[5] https://review.openstack.org/#/c/457555/

Change-Id: Ie3b93dd2cf457a5cb42a53eadc9f9fd5cec1f118
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/509362/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_consistencygroups.py'],1,33a8ac337c1e21c12fd6c3f4f30778163e05abb9,aliases, manager = cinder_clients.Manager(cls.os_admin), manager = cinder_clients.Manager(cls.os_adm),1,1
openstack%2Fcinder~master~Idff127801da9e286a6b634594e5577eeb9782571,openstack/cinder,master,Idff127801da9e286a6b634594e5577eeb9782571,ScaleIO Driver - adding cache and refactoring tests,MERGED,2017-09-11 13:51:15.000000000,2018-02-25 13:51:10.000000000,2017-10-11 03:03:12.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-11 13:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90760167d1968fc082ec08e04b0b790420277383', 'message': 'WIP: ScaleIO Driver - adding cache and refactoring tests.\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 2, 'created': '2017-09-12 12:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c539c2591b2186c7e66cbdd7aadf3634057d9b66', 'message': 'ScaleIO Driver - adding cache and refactoring tests.\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 3, 'created': '2017-09-19 12:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0be56cea6ac39aefdb8869ec1ac96b482c6f97b', 'message': 'ScaleIO Driver - adding cache and refactoring tests.\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nRelated-Bug: #1699573\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 4, 'created': '2017-09-25 13:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f02852207ac51f2c2214f46003650454bff16e77', 'message': 'ScaleIO Driver - adding cache and refactoring tests.\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nRelated-Bug: #1699573\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 5, 'created': '2017-09-29 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38962e0313dd6148668cefe4ba9ede7147be2c3d', 'message': 'ScaleIO Driver - adding cache and refactoring tests.\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nRelated-Bug: #1699573\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 6, 'created': '2017-09-29 15:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10440ef2d656c9e569715bedae604be54489e701', 'message': 'ScaleIO Driver - adding cache and refactoring tests.\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nRelated-Bug: #1699573\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 7, 'created': '2017-10-05 20:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/286bfe970f3ae65487eba3c1ee05075ba0fc6b7b', 'message': 'ScaleIO Driver - adding cache and refactoring tests\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nRelated-Bug: #1699573\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}, {'number': 8, 'created': '2017-10-10 00:58:54.000000000', 'files': ['cinder/volume/drivers/dell_emc/scaleio/simplecache.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_create_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_get_manageable.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa8b87a83cc5a8cfcaa3080c9a6080d8289716a4', 'message': 'ScaleIO Driver - adding cache and refactoring tests\n\nChanging static lists to a simple cache.\nRefactoring some of the unit tests to simplify maintenance.\n\nRelated-Bug: #1699573\n\nChange-Id: Idff127801da9e286a6b634594e5577eeb9782571\n'}]",37,502473,aa8b87a83cc5a8cfcaa3080c9a6080d8289716a4,298,53,8,25033,,,0,"ScaleIO Driver - adding cache and refactoring tests

Changing static lists to a simple cache.
Refactoring some of the unit tests to simplify maintenance.

Related-Bug: #1699573

Change-Id: Idff127801da9e286a6b634594e5577eeb9782571
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/502473/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/scaleio/simplecache.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_create_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_get_manageable.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",6,90760167d1968fc082ec08e04b0b790420277383,bug/1699573,"# Copyright (c) 2013 - 2017 Dell EMCfrom cinder.volume.drivers.dell_emc.scaleio import simplecache # simple caches for PD and SP properties self.spCache = simplecache.SimpleCache(""Storage Pool"", age_minutes=5) self.pdCache = simplecache.SimpleCache(""Protection Domain"", age_minutes=5) # validate the storage pools and check if zero padding is enabled for pool in self.storage_pools: pd = pool.split(':')[0] sp = pool.split(':')[1] if pd is None or sp is None: msg = (_(""Invalid storage pool name. The correct format is: "" ""protection_domain:storage_pool. "" ""Value supplied was: %s""), pool) raise exception.InvalidInput(reason=msg) properties = self._get_storage_pool_properties(pd, sp) if properties is None: msg = (_(""Unable to retrieve properties for pool, %s""), pool) raise exception.InvalidInput(reason=msg) padded = properties['zeroPaddingEnabled'] if not padded: LOG.warning(""Zero padding is disabled for pool, %s. "" ""This could lead to existing data being "" ""accessible on new thick provisioned volumes. "" ""Consult the ScaleIO product documentation "" ""for information on how to address this"", pool) response = self._get_protection_domain_properties(domain_name) if response is None: return None return response['id'] def _get_protection_domain_properties(self, domain_name): """"""Get the props of the configured protection domain"""""" if not domain_name: msg = (_(""Error getting domain id from None name."")) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) cached_val = self.pdCache.get_value(domain_name) if cached_val is not None: return cached_val encoded_domain_name = urllib.parse.quote(domain_name, '') req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'encoded_domain_name': encoded_domain_name} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/types/Domain/instances/getByName::"" ""%(encoded_domain_name)s"") % req_vars r, domain_id = self._execute_scaleio_get_request(request) if not domain_id: msg = (_(""Domain with name %s wasn't found."") % domain_name) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if r.status_code != http_client.OK and ""errorCode"" in domain_id: msg = (_(""Error getting domain id from name %(name)s: %(id)s."") % {'name': domain_name, 'id': domain_id['message']}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.info(""Domain id is %s."", domain_id) req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'domain_id': domain_id} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/instances/ProtectionDomain::%(domain_id)s"") % req_vars r, response = self._execute_scaleio_get_request(request) if r.status_code != http_client.OK: msg = (_(""Error getting domain properties from id %(domain_id)s: "" ""%(err_msg)s."") % {'domain_id': domain_id}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) self.pdCache.update(domain_name, response) return response def _get_storage_pool_properties(self, domain_name, pool_name): """"""Get the props of the configured storage pool"""""" cached_val = self.spCache.get_value(fullname) if cached_val is not None: return cached_val req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'pool_id': pool_id} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/instances/StoragePool::%(pool_id)s"") % req_vars r, response = self._execute_scaleio_get_request(request) if r.status_code != http_client.OK: msg = (_(""Error getting pool properties from id %(pool_id)s: "" ""%(err_msg)s."") % {'pool_id': pool_id}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) self.spCache.update(fullname, response) return response def _get_storage_pool_id(self, domain_name, pool_name): """"""Get the id of the configured storage pool"""""" response = self._get_storage_pool_properties(domain_name, pool_name) if response is None: return None return response['id']","# Copyright (c) 2013 - 2015 EMC Corporation. # simple cache for domain and sp ids self.cache_pd = {} self.cache_sp = {} if not domain_name: msg = (_(""Error getting domain id from None name."")) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # do we already have the id? if domain_name in self.cache_pd: return self.cache_pd[domain_name] encoded_domain_name = urllib.parse.quote(domain_name, '') req_vars = {'server_ip': self.server_ip, 'server_port': self.server_port, 'encoded_domain_name': encoded_domain_name} request = (""https://%(server_ip)s:%(server_port)s"" ""/api/types/Domain/instances/getByName::"" ""%(encoded_domain_name)s"") % req_vars r, domain_id = self._execute_scaleio_get_request(request) if not domain_id: msg = (_(""Domain with name %s wasn't found."") % domain_name) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if r.status_code != http_client.OK and ""errorCode"" in domain_id: msg = (_(""Error getting domain id from name %(name)s: %(id)s."") % {'name': domain_name, 'id': domain_id['message']}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # add it to our cache self.cache_pd[domain_name] = domain_id return domain_id def _get_storage_pool_id(self, domain_name, pool_name): """"""Get the id of the configured storage pool"""""" if fullname in self.cache_sp: return self.cache_sp[fullname] # add it to ou cache self.cache_sp[fullname] = pool_id return pool_id",304,95
openstack%2Fcinder~master~I11e43cff87cad20b9c880e276e20a04123f830fb,openstack/cinder,master,I11e43cff87cad20b9c880e276e20a04123f830fb,Add .stestr.conf configuration,MERGED,2017-09-19 21:50:06.000000000,2018-02-25 13:51:08.000000000,2017-10-11 13:39:10.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-19 21:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1649895927a0ccb2722db31674ad28dc8806b800', 'message': 'Add .stestr.conf configuration\n\nos-testr has moved over to use stestr instead of testr. While this\nis usually compaible with existing settings, there is a warning\nthat is emitted when .stestr.conf is not present. It is usually\nable to fall back to parsing the .testr.conf file, but to be more\ncorrect and to prevent future problems we should update the config.\n\nChange-Id: I11e43cff87cad20b9c880e276e20a04123f830fb\n'}, {'number': 2, 'created': '2017-10-02 23:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30ce661adc9cea55d31d0827c096474dc89ce5cb', 'message': 'Add .stestr.conf configuration\n\nos-testr has moved over to use stestr instead of testr. While this\nis usually compaible with existing settings, there is a warning\nthat is emitted when .stestr.conf is not present. It is usually\nable to fall back to parsing the .testr.conf file, but to be more\ncorrect and to prevent future problems we should update the config.\n\nChange-Id: I11e43cff87cad20b9c880e276e20a04123f830fb\n'}, {'number': 3, 'created': '2017-10-10 00:46:42.000000000', 'files': ['.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/cinder/commit/676195e00978109cf5e0388034efacd354785034', 'message': 'Add .stestr.conf configuration\n\nos-testr has moved over to use stestr instead of testr. While this\nis usually compaible with existing settings, there is a warning\nthat is emitted when .stestr.conf is not present. It is usually\nable to fall back to parsing the .testr.conf file, but to be more\ncorrect and to prevent future problems we should update the config.\n\nChange-Id: I11e43cff87cad20b9c880e276e20a04123f830fb\n'}]",0,505421,676195e00978109cf5e0388034efacd354785034,115,47,3,11904,,,0,"Add .stestr.conf configuration

os-testr has moved over to use stestr instead of testr. While this
is usually compaible with existing settings, there is a warning
that is emitted when .stestr.conf is not present. It is usually
able to fall back to parsing the .testr.conf file, but to be more
correct and to prevent future problems we should update the config.

Change-Id: I11e43cff87cad20b9c880e276e20a04123f830fb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/505421/1 && git format-patch -1 --stdout FETCH_HEAD,"['.testr.conf', 'tox.ini', '.stestr.conf']",3,1649895927a0ccb2722db31674ad28dc8806b800,stestr,[DEFAULT] test_path=${OS_TEST_PATH:-./cinder/tests/unit} top_dir=./ ,,7,8
openstack%2Fcinder~master~I8528752630276bd6e2348f27721238115de504cd,openstack/cinder,master,I8528752630276bd6e2348f27721238115de504cd,Remove newton-compat upgrade code on service startup,MERGED,2017-10-09 16:01:43.000000000,2018-02-25 13:51:06.000000000,2017-10-10 02:43:35.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26567}]","[{'number': 1, 'created': '2017-10-09 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd40dfcb0bcd6b7ac7830e41776ea516c2803a12', 'message': 'DNM: see what is calling work_cleanup on c-api start\n\nChange-Id: I8528752630276bd6e2348f27721238115de504cd\nRelated-Bug: #1722326\n'}, {'number': 2, 'created': '2017-10-09 17:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf81735da18846084cfc7031cfe76caed4c23fb0', 'message': ""Remove newton-compat upgrade code on service startup\n\nThis upgrade compat check code was marked for removal\nin Ocata. Since we're now in Queens, and this is burning\ntime on every service start, let's remove it.\n\nChange-Id: I8528752630276bd6e2348f27721238115de504cd\nRelated-Bug: #1722326\n""}, {'number': 3, 'created': '2017-10-09 20:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90581486b404767ddb76d7e6cae5e03d5b3a24c1', 'message': ""Remove newton-compat upgrade code on service startup\n\nThis upgrade compat check code was marked for removal\nin Ocata. Since we're now in Queens, and this is burning\ntime on every service start, let's remove it.\n\nChange-Id: I8528752630276bd6e2348f27721238115de504cd\nRelated-Bug: #1722326\n""}, {'number': 4, 'created': '2017-10-09 21:21:13.000000000', 'files': ['cinder/service.py', 'cinder/tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c630c5e5383ea1cbd5475aad9826bbe2becf364', 'message': ""Remove newton-compat upgrade code on service startup\n\nThis upgrade compat check code was marked for removal\nin Ocata. Since we're now in Queens, and this is burning\ntime on every service start, let's remove it.\n\nChange-Id: I8528752630276bd6e2348f27721238115de504cd\nRelated-Bug: #1722326\n""}]",3,510615,6c630c5e5383ea1cbd5475aad9826bbe2becf364,53,31,4,6873,,,0,"Remove newton-compat upgrade code on service startup

This upgrade compat check code was marked for removal
in Ocata. Since we're now in Queens, and this is burning
time on every service start, let's remove it.

Change-Id: I8528752630276bd6e2348f27721238115de504cd
Related-Bug: #1722326
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/510615/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/v3/workers.py'],1,cd40dfcb0bcd6b7ac7830e41776ea516c2803a12,bug/1722326,from oslo_log import log as loggingLOG = logging.getLogger(__name__) import traceback tb = traceback.format_stack() LOG.error('Workers cleanup:\n%s' % ''.join(tb)) ,,7,0
openstack%2Fcinder~master~I1920f905fdf83b01840e86646dc948fd3a113536,openstack/cinder,master,I1920f905fdf83b01840e86646dc948fd3a113536,Remove Tegile volume driver,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 13:51:04.000000000,2017-10-09 18:50:21.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17357}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95dcd1a8331f83652b40a7458ccc20e25a45d144', 'message': 'Remove Tegile volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not change and it will now be removed.\n\nChange-Id: I1920f905fdf83b01840e86646dc948fd3a113536\n'}, {'number': 2, 'created': '2017-09-15 15:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6175c589824d1ca67b9a09851b92374445e783b3', 'message': 'Remove Tegile volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not change and it will now be removed.\n\nChange-Id: I1920f905fdf83b01840e86646dc948fd3a113536\n'}, {'number': 3, 'created': '2017-10-06 13:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a842b770ebffb1e5e135701a51c7fda8e2dd028', 'message': 'Remove Tegile volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not change and it will now be removed.\n\nChange-Id: I1920f905fdf83b01840e86646dc948fd3a113536\n'}, {'number': 4, 'created': '2017-10-09 00:06:44.000000000', 'files': ['cinder/opts.py', 'doc/source/configuration/block-storage/config-options.rst', 'cinder/volume/drivers/tegile.py', 'doc/source/configuration/tables/cinder-tegile.inc', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_tegile.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d3be35cd6ad3b40983f43ce0cc4c2cf9bdcd807', 'message': 'Remove Tegile volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not change and it will now be removed.\n\nChange-Id: I1920f905fdf83b01840e86646dc948fd3a113536\n'}]",0,501333,9d3be35cd6ad3b40983f43ce0cc4c2cf9bdcd807,139,45,4,11904,,,0,"Remove Tegile volume driver

This driver was marked as deprecated and unsupported in Pike due to lack
of CI. This has not change and it will now be removed.

Change-Id: I1920f905fdf83b01840e86646dc948fd3a113536
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/501333/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/configuration/block-storage/config-options.rst', 'cinder/volume/drivers/tegile.py', 'doc/source/configuration/tables/cinder-tegile.inc', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_tegile.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml']",7,95dcd1a8331f83652b40a7458ccc20e25a45d144,ci_unsupported, * Reduxio * Tegile,,2,1105
openstack%2Fcinder~master~I39a450159becb4d32b63e6073c3fcd6f08bd93a3,openstack/cinder,master,I39a450159becb4d32b63e6073c3fcd6f08bd93a3,Remove ZTE volume driver,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 13:51:03.000000000,2017-10-08 16:33:46.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14107}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/035ea39cf3ffdd12bd6993e4a02276f927eca170', 'message': 'Remove ZTE volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not changed and it is now being removed.\n\nChange-Id: I39a450159becb4d32b63e6073c3fcd6f08bd93a3\n'}, {'number': 2, 'created': '2017-09-14 15:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71e5434f3909fb0cdb63a064d8d5259b22c6d96f', 'message': 'Remove ZTE volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not changed and it is now being removed.\n\nChange-Id: I39a450159becb4d32b63e6073c3fcd6f08bd93a3\n'}, {'number': 3, 'created': '2017-10-07 19:04:20.000000000', 'files': ['cinder/opts.py', 'doc/source/configuration/block-storage/drivers/zte-storage-driver.rst', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/tests/unit/volume/drivers/test_zte_ks.py', 'cinder/volume/drivers/zte/zte_ks.py', 'cinder/volume/drivers/zte/zte_pub.py', 'doc/source/configuration/tables/cinder-zte.inc', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'cinder/volume/drivers/zte/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5971996013dde98e1b02493da9f96fe32a9e5503', 'message': 'Remove ZTE volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to lack\nof CI. This has not changed and it is now being removed.\n\nChange-Id: I39a450159becb4d32b63e6073c3fcd6f08bd93a3\n'}]",0,501336,5971996013dde98e1b02493da9f96fe32a9e5503,117,43,3,11904,,,0,"Remove ZTE volume driver

This driver was marked as deprecated and unsupported in Pike due to lack
of CI. This has not changed and it is now being removed.

Change-Id: I39a450159becb4d32b63e6073c3fcd6f08bd93a3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/501336/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/configuration/block-storage/drivers/zte-storage-driver.rst', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/tests/unit/volume/drivers/test_zte_ks.py', 'cinder/volume/drivers/zte/zte_ks.py', 'cinder/volume/drivers/zte/zte_pub.py', 'doc/source/configuration/tables/cinder-zte.inc', 'cinder/volume/drivers/zte/__init__.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml']",9,035ea39cf3ffdd12bd6993e4a02276f927eca170,ci_unsupported, * ZTE,,1,1690
openstack%2Fcinder~master~I475172f16784ab9cab2194589851ec7ce01d46a7,openstack/cinder,master,I475172f16784ab9cab2194589851ec7ce01d46a7,Remove X-IO volume driver,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 13:50:42.000000000,2017-10-08 06:51:03.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52efe7be0302d6fab12efc81513c0b3d9be02852', 'message': 'Remove X-IO volume driver\n\nThis driver was marked deprecated and unsupported in Pike due to lack of\nCI. This has not changed and it is now removed.\n\nChange-Id: I475172f16784ab9cab2194589851ec7ce01d46a7\n'}, {'number': 2, 'created': '2017-09-14 15:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cef8f2c6de7e96757b358ef08bc293f6887f837e', 'message': 'Remove X-IO volume driver\n\nThis driver was marked deprecated and unsupported in Pike due to lack of\nCI. This has not changed and it is now removed.\n\nChange-Id: I475172f16784ab9cab2194589851ec7ce01d46a7\n'}, {'number': 3, 'created': '2017-10-07 19:02:52.000000000', 'files': ['cinder/opts.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'doc/source/configuration/tables/cinder-xio.inc', 'cinder/volume/drivers/xio.py', 'cinder/exception.py', 'doc/source/configuration/block-storage/drivers/xio-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_xio.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c7c24127aad18fd04daec1eacc7339139137cfc', 'message': 'Remove X-IO volume driver\n\nThis driver was marked deprecated and unsupported in Pike due to lack of\nCI. This has not changed and it is now removed.\n\nChange-Id: I475172f16784ab9cab2194589851ec7ce01d46a7\n'}]",0,501335,9c7c24127aad18fd04daec1eacc7339139137cfc,114,43,3,11904,,,0,"Remove X-IO volume driver

This driver was marked deprecated and unsupported in Pike due to lack of
CI. This has not changed and it is now removed.

Change-Id: I475172f16784ab9cab2194589851ec7ce01d46a7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/501335/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'doc/source/configuration/tables/cinder-xio.inc', 'cinder/volume/drivers/xio.py', 'cinder/exception.py', 'doc/source/configuration/block-storage/drivers/xio-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_xio.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml']",8,52efe7be0302d6fab12efc81513c0b3d9be02852,ci_unsupported, * X-IO,,1,3273
openstack%2Fcinder~stable%2Focata~I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f,openstack/cinder,stable/ocata,I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f,RBD: Fix stats reporting,MERGED,2017-09-06 15:57:58.000000000,2018-02-25 13:50:08.000000000,2017-10-07 03:19:39.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 11224}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 18940}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 15:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c58f632dd2d065bc0b20b0fcf1a7a9904529aa1', 'message': ""RBD: Fix stats reporting\n\nCurrent RBD code is incorrectly reporting the stats of the pool in the\nfollowing ways:\n\n- `provisioned_capacity_gb` contains physical space used by cinder created\n  volumes.\n- `free_capacity_gb` is not taking into account that pools can have quota\n  restrictions and they should be used as the reference for the free capacity.\n- `total_capacity` dynamically changes, which means that there is no way to\n  have a fixed over provisioning capacity.\n\nThis patch fixes the stats reporting making sure we return the right\nvalues in `provisioned_capacity_gb` and `free_capacity_gb`, and allows\nus to use a static calculation of the `total_capacity` using\n`report_dynamic_total_capacity` configuration option.\n\nWe don't report `allocated_capacity_gb` because this is something that\nis calculated by the Cinder core code and should not be reported by\ndrivers, even if it's not currently working as expected [1][2].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1712549\n[2] https://bugs.launchpad.net/cinder/+bug/1706057\n\nChange-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f\nCloses-Bug: #1706060\n(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n(cherry picked from commit 7f70f99a9b008f9ceef36e5ee3d1ed10c7053a37)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n""}, {'number': 2, 'created': '2017-10-06 09:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb5ec25a34d5591a48c537861c81ead0ae84c204', 'message': ""RBD: Fix stats reporting\n\nCurrent RBD code is incorrectly reporting the stats of the pool in the\nfollowing ways:\n\n- `provisioned_capacity_gb` contains physical space used by cinder created\n  volumes.\n- `free_capacity_gb` is not taking into account that pools can have quota\n  restrictions and they should be used as the reference for the free capacity.\n- `total_capacity` dynamically changes, which means that there is no way to\n  have a fixed over provisioning capacity.\n\nThis patch fixes the stats reporting making sure we return the right\nvalues in `provisioned_capacity_gb` and `free_capacity_gb`, and allows\nus to use a static calculation of the `total_capacity` using\n`report_dynamic_total_capacity` configuration option.\n\nWe don't report `allocated_capacity_gb` because this is something that\nis calculated by the Cinder core code and should not be reported by\ndrivers, even if it's not currently working as expected [1][2].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1712549\n[2] https://bugs.launchpad.net/cinder/+bug/1706057\n\nChange-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f\nCloses-Bug: #1706060\n(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n(cherry picked from commit 8d7f37e810d3228d8b79e4add1a383abe516d9bb)\nConflicts:\n      cinder/tests/unit/volume/drivers/test_rbd.py\n      cinder/volume/drivers/rbd.py\n""}, {'number': 3, 'created': '2017-10-06 20:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7eb7a311c517adafa9fe1bbb174d74bfa047cb3f', 'message': ""RBD: Fix stats reporting\n\nCurrent RBD code is incorrectly reporting the stats of the pool in the\nfollowing ways:\n\n- `provisioned_capacity_gb` contains physical space used by cinder created\n  volumes.\n- `free_capacity_gb` is not taking into account that pools can have quota\n  restrictions and they should be used as the reference for the free capacity.\n- `total_capacity` dynamically changes, which means that there is no way to\n  have a fixed over provisioning capacity.\n\nThis patch fixes the stats reporting making sure we return the right\nvalues in `provisioned_capacity_gb` and `free_capacity_gb`, and allows\nus to use a static calculation of the `total_capacity` using\n`report_dynamic_total_capacity` configuration option.\n\nWe don't report `allocated_capacity_gb` because this is something that\nis calculated by the Cinder core code and should not be reported by\ndrivers, even if it's not currently working as expected [1][2].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1712549\n[2] https://bugs.launchpad.net/cinder/+bug/1706057\n\nChange-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f\nCloses-Bug: #1706060\n(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n(cherry picked from commit 8d7f37e810d3228d8b79e4add1a383abe516d9bb)\nConflicts:\n      cinder/tests/unit/volume/drivers/test_rbd.py\n      cinder/volume/drivers/rbd.py\n""}, {'number': 4, 'created': '2017-10-06 20:33:27.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-stats-report-0c7e803bb0b1aedb.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69a79e38afbdc67f61568c0b82cf6d06ca304e56', 'message': ""RBD: Fix stats reporting\n\nCurrent RBD code is incorrectly reporting the stats of the pool in the\nfollowing ways:\n\n- `provisioned_capacity_gb` contains physical space used by cinder created\n  volumes.\n- `free_capacity_gb` is not taking into account that pools can have quota\n  restrictions and they should be used as the reference for the free capacity.\n- `total_capacity` dynamically changes, which means that there is no way to\n  have a fixed over provisioning capacity.\n\nThis patch fixes the stats reporting making sure we return the right\nvalues in `provisioned_capacity_gb` and `free_capacity_gb`, and allows\nus to use a static calculation of the `total_capacity` using\n`report_dynamic_total_capacity` configuration option.\n\nWe don't report `allocated_capacity_gb` because this is something that\nis calculated by the Cinder core code and should not be reported by\ndrivers, even if it's not currently working as expected [1][2].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1712549\n[2] https://bugs.launchpad.net/cinder/+bug/1706057\n\nChange-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f\nCloses-Bug: #1706060\n(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n(cherry picked from commit 8d7f37e810d3228d8b79e4add1a383abe516d9bb)\nConflicts:\n      cinder/tests/unit/volume/drivers/test_rbd.py\n      cinder/volume/drivers/rbd.py\n""}]",0,501325,69a79e38afbdc67f61568c0b82cf6d06ca304e56,46,23,4,9535,,,0,"RBD: Fix stats reporting

Current RBD code is incorrectly reporting the stats of the pool in the
following ways:

- `provisioned_capacity_gb` contains physical space used by cinder created
  volumes.
- `free_capacity_gb` is not taking into account that pools can have quota
  restrictions and they should be used as the reference for the free capacity.
- `total_capacity` dynamically changes, which means that there is no way to
  have a fixed over provisioning capacity.

This patch fixes the stats reporting making sure we return the right
values in `provisioned_capacity_gb` and `free_capacity_gb`, and allows
us to use a static calculation of the `total_capacity` using
`report_dynamic_total_capacity` configuration option.

We don't report `allocated_capacity_gb` because this is something that
is calculated by the Cinder core code and should not be reported by
drivers, even if it's not currently working as expected [1][2].

[1] https://bugs.launchpad.net/cinder/+bug/1712549
[2] https://bugs.launchpad.net/cinder/+bug/1706057

Change-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f
Closes-Bug: #1706060
(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)
Conflicts:
	cinder/tests/unit/volume/drivers/test_rbd.py
	cinder/volume/drivers/rbd.py
(cherry picked from commit 8d7f37e810d3228d8b79e4add1a383abe516d9bb)
Conflicts:
      cinder/tests/unit/volume/drivers/test_rbd.py
      cinder/volume/drivers/rbd.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/501325/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-stats-report-0c7e803bb0b1aedb.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,6c58f632dd2d065bc0b20b0fcf1a7a9904529aa1,bug/1706060," @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_usage_info') @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_pool_stats') def test_update_volume_stats(self, replication_enabled, stats_mock, usage_mock): stats_mock.return_value = (mock.sentinel.free_capacity_gb, mock.sentinel.total_capacity_gb) usage_mock.return_value = mock.sentinel.provisioned_capacity_gb total_capacity_gb=mock.sentinel.total_capacity_gb, free_capacity_gb=mock.sentinel.free_capacity_gb, provisioned_capacity_gb=mock.sentinel.provisioned_capacity_gb, @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_usage_info') @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_pool_stats') def test_update_volume_stats_error(self, stats_mock, usage_mock): provisioned_capacity_gb=0, @ddt.data( # Normal case, no quota and dynamic total {'free_capacity': 27.0, 'total_capacity': 28.44}, # No quota and static total {'dynamic_total': False, 'free_capacity': 27.0, 'total_capacity': 59.96}, # Quota and dynamic total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'free_capacity': 1, 'total_capacity': 2.44}, # Quota and static total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'dynamic_total': False, 'free_capacity': 1, 'total_capacity': 3.00}, # Quota and dynamic total when free would be negative {'quota_max_bytes': 1073741824, 'free_capacity': 0, 'total_capacity': 1.44}, ) @ddt.unpack @common_mocks def test_get_pool(self, free_capacity, total_capacity, max_avail=28987613184, quota_max_bytes=0, dynamic_total=True): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster.mon_command.side_effect = [ (0, '{""stats"":{""total_bytes"":64385286144,' '""total_used_bytes"":3289628672,""total_avail_bytes"":61095657472},' '""pools"":[{""name"":""rbd"",""id"":2,""stats"":{""kb_used"":1510197,' '""bytes_used"":1546440971,""max_avail"":%s,""objects"":412}},' '{""name"":""volumes"",""id"":3,""stats"":{""kb_used"":0,""bytes_used"":0,' '""max_avail"":28987613184,""objects"":0}}]}\n' % max_avail, ''), (0, '{""pool_name"":""volumes"",""pool_id"":4,""quota_max_objects"":0,' '""quota_max_bytes"":%s}\n' % quota_max_bytes, ''), ] with mock.patch.object(self.driver.configuration, 'safe_get', return_value=dynamic_total): result = self.driver._get_pool_stats() client.cluster.mon_command.assert_has_calls([ mock.call('{""prefix"":""df"", ""format"":""json""}', ''), mock.call('{""prefix"":""osd pool get-quota"", ""pool"": ""rbd"",' ' ""format"":""json""}', ''), ]) self.assertEqual((free_capacity, total_capacity), result) @common_mocks def test_get_pool_stats_failure(self): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster.mon_command.return_value = (-1, '', '') result = self.driver._get_pool_stats() self.assertEqual(('unknown', 'unknown'), result) @mock.patch('cinder.volume.drivers.rbd.RBDVolumeProxy') @mock.patch('cinder.volume.drivers.rbd.RADOSClient') @mock.patch('cinder.volume.drivers.rbd.RBDDriver.RBDProxy') def test__get_usage_info(self, rbdproxy_mock, client_mock, volproxy_mock): def FakeVolProxy(size): if size == -1: size_mock = mock.Mock(side_effect=MockImageNotFoundException) else: size_mock = mock.Mock(return_value=size * units.Gi) return mock.Mock(return_value=mock.Mock(size=size_mock)) volumes = ['volume-1', 'non-existent', 'non-cinder-volume'] client = client_mock.return_value.__enter__.return_value rbdproxy_mock.return_value.list.return_value = volumes volproxy_mock.side_effect = [ mock.Mock(**{'__enter__': FakeVolProxy(1.0), '__exit__': mock.Mock()}), mock.Mock(**{'__enter__': FakeVolProxy(-1), '__exit__': mock.Mock()}), mock.Mock(**{'__enter__': FakeVolProxy(2.0), '__exit__': mock.Mock()}) ] with mock.patch.object(self.driver, 'rbd') as mock_rbd: mock_rbd.ImageNotFound = MockImageNotFoundException total_provision = self.driver._get_usage_info() rbdproxy_mock.return_value.list.assert_called_once_with(client.ioctx) volproxy_mock.assert_has_calls([ mock.call(self.driver, volumes[0], read_only=True), mock.call(self.driver, volumes[1], read_only=True), ]) self.assertEqual(3.00, total_provision) "," def test_update_volume_stats(self, replication_enabled): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster = mock.Mock() client.cluster.mon_command = mock.Mock() client.cluster.mon_command.return_value = ( 0, '{""stats"":{""total_bytes"":64385286144,' '""total_used_bytes"":3289628672,""total_avail_bytes"":61095657472},' '""pools"":[{""name"":""rbd"",""id"":2,""stats"":{""kb_used"":1510197,' '""bytes_used"":1546440971,""max_avail"":28987613184,""objects"":412}},' '{""name"":""volumes"",""id"":3,""stats"":{""kb_used"":0,""bytes_used"":0,' '""max_avail"":28987613184,""objects"":0}}]}\n', '') total_capacity_gb=28.44, free_capacity_gb=27.0, provisioned_capacity_gb=0.0, client.cluster.mon_command.assert_called_once_with( '{""prefix"":""df"", ""format"":""json""}', '') def test_update_volume_stats_error(self): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster = mock.Mock() client.cluster.mon_command = mock.Mock() client.cluster.mon_command.return_value = (22, '', '') provisioned_capacity_gb=0.0, client.cluster.mon_command.assert_called_once_with( '{""prefix"":""df"", ""format"":""json""}', '')",202,59
openstack%2Fcinder~master~I463a490637e31745bd92bb048bc798a66bd260c7,openstack/cinder,master,I463a490637e31745bd92bb048bc798a66bd260c7,Remove Reduxio volume driver,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 13:50:06.000000000,2017-10-06 16:45:03.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72f26d8747b7ffd1b49797f61ba9651da7786f0f', 'message': 'Remove Reduxio volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and it is now being removed.\n\nChange-Id: I463a490637e31745bd92bb048bc798a66bd260c7\n'}, {'number': 2, 'created': '2017-09-14 15:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/725149227076274a3798868e6cbbc28f32c0e1b6', 'message': 'Remove Reduxio volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and it is now being removed.\n\nChange-Id: I463a490637e31745bd92bb048bc798a66bd260c7\n'}, {'number': 3, 'created': '2017-09-14 15:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f6b2279726fafec8c4ab9cf641df75de2a5fc70', 'message': 'Remove Reduxio volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and it is now being removed.\n\nChange-Id: I463a490637e31745bd92bb048bc798a66bd260c7\n'}, {'number': 4, 'created': '2017-10-06 13:32:55.000000000', 'files': ['cinder/volume/drivers/reduxio/rdx_iscsi_driver.py', 'cinder/volume/drivers/reduxio/rdx_cli_api.py', 'cinder/volume/drivers/reduxio/__init__.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_reduxio.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d87f78b01323b8b803294a9ffd895b639b7f394b', 'message': 'Remove Reduxio volume driver\n\nThis driver was marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and it is now being removed.\n\nChange-Id: I463a490637e31745bd92bb048bc798a66bd260c7\n'}]",0,501332,d87f78b01323b8b803294a9ffd895b639b7f394b,104,43,4,11904,,,0,"Remove Reduxio volume driver

This driver was marked as deprecated and unsupported in Pike due to
lack of CI. This has not changed and it is now being removed.

Change-Id: I463a490637e31745bd92bb048bc798a66bd260c7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/501332/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/reduxio/rdx_iscsi_driver.py', 'cinder/volume/drivers/reduxio/rdx_cli_api.py', 'cinder/volume/drivers/reduxio/__init__.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_reduxio.py']",5,72f26d8747b7ffd1b49797f61ba9651da7786f0f,ci_unsupported,,"# Copyright (c) 2016 Reduxio Systems # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import random import string import mock from oslo_utils import units from cinder import exception from cinder import test from cinder.volume.drivers.reduxio import rdx_cli_api from cinder.volume.drivers.reduxio import rdx_iscsi_driver DRIVER_PATH = (""cinder.volume.drivers."" ""reduxio.rdx_iscsi_driver.ReduxioISCSIDriver"") API_PATH = ""cinder.volume.drivers.reduxio.rdx_cli_api.ReduxioAPI"" TARGET = ""mock_target"" TARGET_USER = ""rdxadmin"" TARGET_PASSWORD = ""mock_password"" VOLUME_BACKEND_NAME = ""REDUXIO_VOLUME_TYPE"" CINDER_ID_LENGTH = 36 VOLUME_ID = ""abcdabcd-1234-abcd-1234-abcdeffedcba"" VOLUME = { ""name"": ""volume-"" + VOLUME_ID, ""id"": VOLUME_ID, ""display_name"": ""fake_volume"", ""size"": 2, ""host"": ""irrelevant"", ""volume_type"": None, ""volume_type_id"": None, ""consistencygroup_id"": None, 'metadata': {} } VOLUME_RDX_NAME = ""abcdabcd1234abcd1234abcdeffedcb"" VOLUME_RDX_DESC = ""openstack_"" + VOLUME[""name""] SRC_VOL_ID = ""4c7a294d-5964-4379-a15f-ce5554734efc"" SRC_VOL_RDX_NAME = ""ac7a294d59644379a15fce5554734ef"" SRC_VOL = { ""name"": ""volume-"" + SRC_VOL_ID, ""id"": SRC_VOL_ID, ""display_name"": 'fake_src', ""size"": 2, ""host"": ""irrelevant"", ""volume_type"": None, ""volume_type_id"": None, ""consistencygroup_id"": None, } SNAPSHOT_ID = ""04fe2f9a-d0c4-4564-a30d-693cc3657b47"" SNAPSHOT_RDX_NAME = ""a4fe2f9ad0c44564a30d693cc3657b4"" SNAPSHOT = { ""name"": ""snapshot-"" + SNAPSHOT_ID, ""id"": SNAPSHOT_ID, ""volume_id"": SRC_VOL_ID, ""volume_name"": ""volume-"" + SRC_VOL_ID, ""volume_size"": 2, ""display_name"": ""fake_snapshot"", ""cgsnapshot_id"": None, ""metadata"": {} } CONNECTOR = { ""initiator"": ""iqn.2013-12.com.stub:af4032f00014000e"", } LS_SETTINGS = { ""system_configuration"": [ { ""name"": ""host_name"", ""value"": ""reduxio"" }, { ""name"": ""serial_number"", ""value"": ""af4032f00014000e"" }, { ""name"": ""primary_ntp"", ""value"": ""mickey.il.reduxio"" }, { ""name"": ""secondary_ntp"", ""value"": ""minnie.il.reduxio"" }, { ""name"": ""timezone"", ""value"": ""Asia/Jerusalem"" }, { ""name"": ""capacity_threshold"", ""value"": ""93%"" }, { ""name"": ""storsense_enabled"", ""value"": True } ], ""network_configuration"": [ { ""name"": ""iscsi_target_iqn"", ""value"": ""iqn.2013-12.com.reduxio:af4032f00014000e"" }, { ""name"": ""iscsi_target_tcp_port"", ""value"": ""3260"" }, { ""name"": ""mtu"", ""value"": ""9000"" } ], ""iscsi_network1"": [ { ""name"": ""controller_1_port_1"", ""value"": ""10.46.93.11"" }, { ""name"": ""controller_2_port_1"", ""value"": ""10.46.93.22"" }, { ""name"": ""subnet_mask"", ""value"": ""255.0.0.0"" }, { ""name"": ""default_gateway"", ""value"": None }, { ""name"": ""vlan_tag"", ""value"": None } ], ""iscsi_network2"": [ { ""name"": ""controller_1_port_2"", ""value"": ""10.64.93.11"" }, { ""name"": ""controller_2_port_2"", ""value"": ""10.64.93.22"" }, { ""name"": ""subnet_mask"", ""value"": ""255.0.0.0"" }, { ""name"": ""default_gateway"", ""value"": None }, { ""name"": ""vlan_tag"", ""value"": None } ], ""management_settings"": [ { ""name"": ""floating_ip"", ""value"": ""172.17.46.93"" }, { ""name"": ""management_ip1"", ""value"": ""172.17.46.91"" }, { ""name"": ""management_ip2"", ""value"": ""172.17.46.92"" }, { ""name"": ""subnet_mask"", ""value"": ""255.255.254.0"" }, { ""name"": ""default_gateway"", ""value"": ""172.17.47.254"" }, { ""name"": ""primary_dns"", ""value"": ""172.17.32.11"" }, { ""name"": ""secondary_dns"", ""value"": ""8.8.8.8"" }, { ""name"": ""domain_name"", ""value"": ""il.reduxio"" } ], ""snmp"": [ { ""Name"": ""trap_destination"", ""value"": None }, { ""Name"": ""udp_port"", ""value"": ""162"" }, { ""Name"": ""community"", ""value"": ""public"" } ], ""email_notification"": [ { ""Name"": ""smtp_server"", ""value"": None }, { ""Name"": ""tcp_port"", ""value"": None }, { ""Name"": ""smtp_authentication"", ""value"": ""None"" }, { ""Name"": ""user_name"", ""value"": None }, { ""Name"": ""sender_address"", ""value"": None } ], ""email_recipient_list"": [ { ""email"": None } ], ""directories"": [ { ""name"": ""history_policies/"" } ] } TEST_ASSIGN_LUN_NUM = 7 ISCSI_CONNECTION_INFO_NO_MULTIPATH = { ""driver_volume_type"": ""iscsi"", ""data"": { ""target_discovered"": False, ""discard"": False, ""volume_id"": VOLUME[""id""], ""target_lun"": TEST_ASSIGN_LUN_NUM, ""target_iqn"": ""iqn.2013-12.com.reduxio:af4032f00014000e"", ""target_portal"": ""10.46.93.11:3260"", } } connection_copied = copy.deepcopy( ISCSI_CONNECTION_INFO_NO_MULTIPATH[""data""] ) connection_copied.update({ ""target_luns"": [TEST_ASSIGN_LUN_NUM] * 4, ""target_iqns"": [""iqn.2013-12.com.reduxio:af4032f00014000e"", ""iqn.2013-12.com.reduxio:af4032f00014000e"", ""iqn.2013-12.com.reduxio:af4032f00014000e"", ""iqn.2013-12.com.reduxio:af4032f00014000e""], ""target_portals"": [""10.46.93.11:3260"", ""10.46.93.22:3260"", ""10.64.93.11:3260"", ""10.64.93.22:3260""] }) ISCSI_CONNECTION_INFO = { ""driver_volume_type"": ""iscsi"", ""data"": connection_copied } def mock_api(to_mock=False): def client_mock_wrapper(func): def inner_client_mock(self, *args, **kwargs): rdx_cli_api.ReduxioAPI._connect = mock.Mock() if to_mock: self.driver = rdx_iscsi_driver.ReduxioISCSIDriver( configuration=self.mock_config) self.mock_api = mock.Mock(spec=rdx_cli_api.ReduxioAPI) self.driver.rdxApi = self.mock_api else: self.driver = rdx_iscsi_driver.ReduxioISCSIDriver( configuration=self.mock_config) self.driver.do_setup(None) func(self, *args) return inner_client_mock return client_mock_wrapper class ReduxioISCSIDriverTestCase(test.TestCase): def setUp(self): super(ReduxioISCSIDriverTestCase, self).setUp() self.mock_config = mock.Mock() self.mock_config.san_ip = TARGET self.mock_config.san_login = TARGET_USER self.mock_config.san_password = TARGET_PASSWORD self.mock_config.volume_backend_name = VOLUME_BACKEND_NAME self.driver = None # type: ReduxioISCSIDriver @staticmethod def generate_random_uuid(): return ''.join( random.choice(string.ascii_uppercase + string.digits) for _ in range(rdx_iscsi_driver.RDX_CLI_MAX_VOL_LENGTH)) @mock_api(False) def test_cinder_id_to_rdx(self): random_uuid1 = self.generate_random_uuid() random_uuid2 = self.generate_random_uuid() result1 = self.driver._cinder_id_to_rdx(random_uuid1) result2 = self.driver._cinder_id_to_rdx(random_uuid2) self.assertEqual(rdx_iscsi_driver.RDX_CLI_MAX_VOL_LENGTH, len(result1)) self.assertEqual(rdx_iscsi_driver.RDX_CLI_MAX_VOL_LENGTH, len(result2)) self.assertNotEqual(result1, result2) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_create_volume(self, mock_run_cmd): self.driver.create_volume(VOLUME) expected_cmd = rdx_cli_api.RdxApiCmd(""volumes new"", argument=VOLUME_RDX_NAME, flags=[ [""size"", VOLUME[""size""]], [""description"", VOLUME_RDX_DESC] ]) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_manage_existing(self, mock_run_cmd): source_name = 'test-source' self.driver.rdxApi.find_volume_by_name = mock.Mock() self.driver.rdxApi.find_volume_by_name.return_value = { 'name': source_name, 'description': None } self.driver.manage_existing(VOLUME, {'source-name': source_name}) expected_cmd = rdx_cli_api.RdxApiCmd(""volumes update"", argument=source_name, flags=[ [""new-name"", VOLUME_RDX_NAME], [""description"", VOLUME_RDX_DESC] ]) mock_run_cmd.assert_called_with(expected_cmd) self.driver.rdxApi.find_volume_by_name.return_value = { 'name': source_name, 'description': ""openstack_1234"" } self.assertRaises( exception.ManageExistingAlreadyManaged, self.driver.manage_existing, VOLUME, {'source-name': source_name} ) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_manage_existing_get_size(self, mock_run_cmd): source_name = 'test-source' self.driver.rdxApi.find_volume_by_name = mock.Mock() vol_cli_ret = { 'name': source_name, 'description': None, ""size"": units.Gi * 10 } source_vol = {'source-name': source_name} self.driver.rdxApi.find_volume_by_name.return_value = vol_cli_ret ret = self.driver.manage_existing_get_size(VOLUME, source_vol) self.assertEqual(10, ret) vol_cli_ret[""size""] = units.Gi * 9 self.driver.rdxApi.find_volume_by_name.return_value = vol_cli_ret ret = self.driver.manage_existing_get_size(VOLUME, source_vol) self.assertNotEqual(10, ret) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_unmanage(self, mock_run_cmd): source_name = 'test-source' self.driver.rdxApi.find_volume_by_name = mock.Mock() self.driver.rdxApi.find_volume_by_name.return_value = { 'name': source_name, 'description': ""openstack_1234"" } self.driver.unmanage(VOLUME) expected_cmd = rdx_cli_api.RdxApiCmd( ""volumes update"", argument=VOLUME_RDX_NAME, flags=[[""description"", """"]]) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_delete_volume(self, mock_run_cmd): self.driver.delete_volume(VOLUME) expected_cmd = rdx_cli_api.RdxApiCmd( ""volumes delete {} -force"".format(VOLUME_RDX_NAME)) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_create_volume_from_snapshot(self, mock_run_cmd): self.driver.create_volume_from_snapshot(VOLUME, SNAPSHOT) expected_cmd = rdx_cli_api.RdxApiCmd( ""volumes clone"", argument=SRC_VOL_RDX_NAME, flags={ ""name"": VOLUME_RDX_NAME, ""bookmark"": SNAPSHOT_RDX_NAME, ""description"": VOLUME_RDX_DESC} ) mock_run_cmd.assert_called_with(expected_cmd) # Test resize bigger_vol = copy.deepcopy(VOLUME) bigger_size = SNAPSHOT['volume_size'] + 10 bigger_vol['size'] = bigger_size self.driver.create_volume_from_snapshot(bigger_vol, SNAPSHOT) expected_cmd = rdx_cli_api.RdxApiCmd(""volumes update"", argument=VOLUME_RDX_NAME, flags={""size"": bigger_size}) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_create_cloned_volume(self, mock_run_cmd): self.driver.create_cloned_volume(VOLUME, SRC_VOL) expected_cmd = rdx_cli_api.RdxApiCmd( ""volumes clone"", argument=SRC_VOL_RDX_NAME, flags={""name"": VOLUME_RDX_NAME, ""description"": VOLUME_RDX_DESC}) mock_run_cmd.assert_called_with(expected_cmd) # Test clone from date backdated_clone = copy.deepcopy(VOLUME) clone_date = ""02/17/2015-11:39:00"" backdated_clone[""metadata""][""backdate""] = clone_date self.driver.create_cloned_volume(backdated_clone, SRC_VOL) expected_cmd.add_flag(""timestamp"", clone_date) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_create_snapshot(self, mock_run_cmd): self.driver.create_snapshot(SNAPSHOT) expected_cmd = rdx_cli_api.RdxApiCmd( ""volumes bookmark"", argument=SRC_VOL_RDX_NAME, flags={""name"": SNAPSHOT_RDX_NAME, ""type"": ""manual""}) mock_run_cmd.assert_called_with(expected_cmd) backdated_snap = copy.deepcopy(SNAPSHOT) clone_date = ""02/17/2015-11:39:00"" backdated_snap[""metadata""][""backdate""] = clone_date self.driver.create_snapshot(backdated_snap) expected_cmd = rdx_cli_api.RdxApiCmd( ""volumes bookmark"", argument=SRC_VOL_RDX_NAME, flags={ ""name"": SNAPSHOT_RDX_NAME, ""type"": ""manual"", ""timestamp"": clone_date} ) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_delete_snapshot(self, mock_run_cmd): self.driver.delete_snapshot(SNAPSHOT) expected_cmd = rdx_cli_api.RdxApiCmd(""volumes delete-bookmark"", argument=SRC_VOL_RDX_NAME, flags={""name"": SNAPSHOT_RDX_NAME}) mock_run_cmd.assert_called_with(expected_cmd) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_get_volume_stats(self, mock_run_cmd): pass @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_extend_volume(self, mock_run_cmd): new_size = VOLUME[""size""] + 1 self.driver.extend_volume(VOLUME, new_size) expected_cmd = rdx_cli_api.RdxApiCmd(""volumes update"", argument=VOLUME_RDX_NAME, flags={""size"": new_size}) mock_run_cmd.assert_called_with(expected_cmd) def settings_side_effect(*args): if args[0].cmd == ""settings ls"": return LS_SETTINGS else: return mock.Mock() def get_single_assignment_side_effect(*args, **kwargs): if ""raise_on_non_exists"" in kwargs: raise_given = kwargs[""raise_on_non_exists""] else: raise_given = True if (raise_given is True) or (raise_given is None): return { ""host"": kwargs[""host""], ""vol"": kwargs[""vol""], ""lun"": TEST_ASSIGN_LUN_NUM } else: return None @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"", side_effect=settings_side_effect) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""get_single_assignment"", side_effect=get_single_assignment_side_effect) @mock_api(False) def test_initialize_connection(self, mock_list_assignmnet, mock_run_cmd): generated_host_name = ""openstack-123456789012"" self.driver.rdxApi.list_hosts = mock.Mock() self.driver.rdxApi.list_hosts.return_value = [] self.driver._generate_initiator_name = mock.Mock() self.driver._generate_initiator_name.return_value = generated_host_name ret_connection_info = self.driver.initialize_connection(VOLUME, CONNECTOR) create_host_cmd = rdx_cli_api.RdxApiCmd( ""hosts new"", argument=generated_host_name, flags={""iscsi-name"": CONNECTOR[""initiator""]} ) assign_cmd = rdx_cli_api.RdxApiCmd( ""volumes assign"", argument=VOLUME_RDX_NAME, flags={""host"": generated_host_name} ) calls = [ mock.call.driver._run_cmd(create_host_cmd), mock.call.driver._run_cmd(assign_cmd) ] mock_run_cmd.assert_has_calls(calls) self.assertDictEqual( ret_connection_info, ISCSI_CONNECTION_INFO_NO_MULTIPATH ) connector = copy.deepcopy(CONNECTOR) connector[""multipath""] = True ret_connection_info = self.driver.initialize_connection(VOLUME, connector) create_host_cmd = rdx_cli_api.RdxApiCmd( ""hosts new"", argument=generated_host_name, flags={""iscsi-name"": CONNECTOR[""initiator""]}) assign_cmd = rdx_cli_api.RdxApiCmd( ""volumes assign"", argument=VOLUME_RDX_NAME, flags={""host"": generated_host_name} ) calls = [ mock.call.driver._run_cmd(create_host_cmd), mock.call.driver._run_cmd(assign_cmd) ] mock_run_cmd.assert_has_calls(calls) self.assertDictEqual(ret_connection_info, ISCSI_CONNECTION_INFO) self.driver.rdxApi.list_hosts.return_value = [{ ""iscsi_name"": CONNECTOR[""initiator""], ""name"": generated_host_name }] ret_connection_info = self.driver.initialize_connection(VOLUME, connector) mock_run_cmd.assert_has_calls([mock.call.driver._run_cmd(assign_cmd)]) self.assertDictEqual(ISCSI_CONNECTION_INFO, ret_connection_info) @mock.patch.object(rdx_cli_api.ReduxioAPI, ""_run_cmd"") @mock_api(False) def test_terminate_connection(self, mock_run_cmd): generated_host_name = ""openstack-123456789012"" self.driver.rdxApi.list_hosts = mock.Mock() self.driver.rdxApi.list_hosts.return_value = [{ ""iscsi_name"": CONNECTOR[""initiator""], ""name"": generated_host_name }] self.driver.terminate_connection(VOLUME, CONNECTOR) unassign_cmd = rdx_cli_api.RdxApiCmd( ""volumes unassign"", argument=VOLUME_RDX_NAME, flags={""host"": generated_host_name} ) mock_run_cmd.assert_has_calls( [mock.call.driver._run_cmd(unassign_cmd)]) ",0,1714
openstack%2Fcinder~master~I29a874ebe0ebaeca58b428faa0bab50482baf6f1,openstack/cinder,master,I29a874ebe0ebaeca58b428faa0bab50482baf6f1,Remove QNAP volume driver,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 13:50:04.000000000,2017-10-06 02:11:17.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11224}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26567}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e10d87cdbe0dc56e8b53f1054c4ffae43f9b880', 'message': 'Remove QNAP volume driver\n\nThe QNAP driver was marked as deprecated and unsupported in Pike due\nto not meeting CI requirements. This situation has not changed and\nit will now be removed.\n\nChange-Id: I29a874ebe0ebaeca58b428faa0bab50482baf6f1\n'}, {'number': 2, 'created': '2017-09-13 22:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a882c8ff1c24842167665133f04c5f2fbbe49839', 'message': 'Remove QNAP volume driver\n\nThe QNAP driver was marked as deprecated and unsupported in Pike due\nto not meeting CI requirements. This situation has not changed and\nit will now be removed.\n\nChange-Id: I29a874ebe0ebaeca58b428faa0bab50482baf6f1\n'}, {'number': 3, 'created': '2017-10-05 18:07:43.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'doc/source/configuration/tables/cinder-qnap.inc', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/90032548118cffdc2e32ab7cdefa944747759fe4', 'message': 'Remove QNAP volume driver\n\nThe QNAP driver was marked as deprecated and unsupported in Pike due\nto not meeting CI requirements. This situation has not changed and\nit will now be removed.\n\nChange-Id: I29a874ebe0ebaeca58b428faa0bab50482baf6f1\n'}]",0,501331,90032548118cffdc2e32ab7cdefa944747759fe4,122,50,3,11904,,,0,"Remove QNAP volume driver

The QNAP driver was marked as deprecated and unsupported in Pike due
to not meeting CI requirements. This situation has not changed and
it will now be removed.

Change-Id: I29a874ebe0ebaeca58b428faa0bab50482baf6f1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/501331/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'doc/source/configuration/tables/cinder-qnap.inc', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml']",5,2e10d87cdbe0dc56e8b53f1054c4ffae43f9b880,ci_unsupported, * QNAP,,1,3782
openstack%2Fcinder~stable%2Fpike~Ic106dbcae8ceaac265b710756ab1874e445ca826,openstack/cinder,stable/pike,Ic106dbcae8ceaac265b710756ab1874e445ca826,NetApp ONTAP: Fix reporting of provisioned_capacity_gb,MERGED,2017-10-05 02:07:41.000000000,2018-02-25 13:50:02.000000000,2017-10-09 03:04:55.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-05 02:07:41.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'releasenotes/notes/bug-1714209-netapp-ontap-drivers-oversubscription-issue-c4655b9c4858d7c6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/558571b44d9cd2195993e42539fd2c689b179ee6', 'message': 'NetApp ONTAP: Fix reporting of provisioned_capacity_gb\n\nThe ONTAP drivers in Cinder (""7mode"" and ""cmode"") cannot\nreliably and efficiently track provisioned_capacity_gb as expected\nby the Cinder scheduler.\n\nThe driver authors originally assumed that provisioned_capacity_gb\nis consumed space on the backend. This results in miscalculation of\nover subscription in the Cinder scheduler.\n\nThe fix adopted here is to remove this wrong reporting and rely on\ncalculation of the provisioned_capacity_gb in the scheduler.\n\nChange-Id: Ic106dbcae8ceaac265b710756ab1874e445ca826\nCloses-Bug: #1714209\n(cherry picked from commit 42b8b7fe60ffdd7a7772dc0ab228265dc83344bc)\n'}]",0,509677,558571b44d9cd2195993e42539fd2c689b179ee6,36,16,1,16643,,,0,"NetApp ONTAP: Fix reporting of provisioned_capacity_gb

The ONTAP drivers in Cinder (""7mode"" and ""cmode"") cannot
reliably and efficiently track provisioned_capacity_gb as expected
by the Cinder scheduler.

The driver authors originally assumed that provisioned_capacity_gb
is consumed space on the backend. This results in miscalculation of
over subscription in the Cinder scheduler.

The fix adopted here is to remove this wrong reporting and rely on
calculation of the provisioned_capacity_gb in the scheduler.

Change-Id: Ic106dbcae8ceaac265b710756ab1874e445ca826
Closes-Bug: #1714209
(cherry picked from commit 42b8b7fe60ffdd7a7772dc0ab228265dc83344bc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/509677/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'releasenotes/notes/bug-1714209-netapp-ontap-drivers-oversubscription-issue-c4655b9c4858d7c6.yaml']",9,558571b44d9cd2195993e42539fd2c689b179ee6,bug/1714209-stable/pike,"--- fixes: - The ONTAP drivers (""7mode"" and ""cmode"") have been fixed to not report consumed space as ""provisioned_capacity_gb"". They instead rely on the cinder scheduler's calculation of ""provisioned_capacity_gb"". This fixes the oversubscription miscalculations with the ONTAP drivers. This bugfix affects all three protocols supported by these drivers (iSCSI/FC/NFS). upgrade: - If using the NetApp ONTAP drivers (7mode/cmode), the configuration value for ""max_over_subscription_ratio"" may need to be increased to avoid scheduling problems where storage pools that previously were valid to schedule new volumes suddenly appear to be out of space to the Cinder scheduler. See documentation `here <https://docs.openstack .org/cinder/latest/admin/blockstorage-over-subscription.html>`_. ",,16,17
openstack%2Fcinder~driverfixes%2Fnewton~Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,openstack/cinder,driverfixes/newton,Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,Brocade: Add HTTP connection cleanup,MERGED,2017-10-04 19:51:44.000000000,2018-02-25 13:49:50.000000000,2017-10-27 05:11:36.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 8757}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 17045}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-04 19:51:44.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1289b3bff8cbcb3f4ed12db156fc532fa05aa1c0', 'message': 'Brocade: Add HTTP connection cleanup\n\nMethod for get device mapping opens\nconnection to the switch but does not\nclose the connection.  Add finally\nblock to close the session.\n\nCloses Bug: #1718762\n\nChange-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3\n'}]",0,509615,1289b3bff8cbcb3f4ed12db156fc532fa05aa1c0,27,14,1,8757,,,0,"Brocade: Add HTTP connection cleanup

Method for get device mapping opens
connection to the switch but does not
close the connection.  Add finally
block to close the session.

Closes Bug: #1718762

Change-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/509615/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'],1,1289b3bff8cbcb3f4ed12db156fc532fa05aa1c0,bug/1718762-driverfixes/newton," 1.2 - Fix open sessions issue VERSION = ""1.2"" finally: if conn: conn.cleanup()"," VERSION = ""1.1""",5,1
openstack%2Fcinder~stable%2Fpike~Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,openstack/cinder,stable/pike,Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,Brocade: Add HTTP connection cleanup,MERGED,2017-10-04 19:50:30.000000000,2018-02-25 13:49:48.000000000,2017-10-08 19:28:51.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-04 19:50:30.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bc8d91afd26313821627a9a9bd55a2e510cba4b', 'message': 'Brocade: Add HTTP connection cleanup\n\nMethod for get device mapping opens\nconnection to the switch but does not\nclose the connection.  Add finally\nblock to close the session.\n\nCloses Bug: #1718762\n\nChange-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3\n'}]",1,509613,1bc8d91afd26313821627a9a9bd55a2e510cba4b,25,14,1,8757,,,0,"Brocade: Add HTTP connection cleanup

Method for get device mapping opens
connection to the switch but does not
close the connection.  Add finally
block to close the session.

Closes Bug: #1718762

Change-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/509613/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'],1,1bc8d91afd26313821627a9a9bd55a2e510cba4b,bug/1718762-stable/pike," 1.2 - Fix open sessions issue VERSION = ""1.2"" finally: if conn: conn.cleanup()"," VERSION = ""1.1""",5,1
openstack%2Fcinder~master~I0f1d12776cfa553b117c5b3698b2ae0c9c88735e,openstack/cinder,master,I0f1d12776cfa553b117c5b3698b2ae0c9c88735e,Remove Infortrend drivers,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 13:49:40.000000000,2017-10-05 17:28:21.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8c683d6b43c625e54c1bcf425f9718a93c5f34a', 'message': 'Remove Infortrend drivers\n\nThe Infortrend drivers were marked as deprecated and unsupported in Pike\ndue to lack of CI. This situation has not changed and they will now be\nremoved.\n\nChange-Id: I0f1d12776cfa553b117c5b3698b2ae0c9c88735e\n'}, {'number': 2, 'created': '2017-09-13 22:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c81cccf2d3b2bd502d3bb0ec3d18192ef122a0ac', 'message': 'Remove Infortrend drivers\n\nThe Infortrend drivers were marked as deprecated and unsupported in Pike\ndue to lack of CI. This situation has not changed and they will now be\nremoved.\n\nChange-Id: I0f1d12776cfa553b117c5b3698b2ae0c9c88735e\n'}, {'number': 3, 'created': '2017-09-15 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d25cce7e257c9948dedf9e28c8b25dccffbe598', 'message': 'Remove Infortrend drivers\n\nThe Infortrend drivers were marked as deprecated and unsupported in Pike\ndue to lack of CI. This situation has not changed and they will now be\nremoved.\n\nChange-Id: I0f1d12776cfa553b117c5b3698b2ae0c9c88735e\n'}, {'number': 4, 'created': '2017-10-04 15:46:25.000000000', 'files': ['cinder/tests/unit/volume/drivers/infortrend/test_infortrend_common.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'doc/source/configuration/block-storage/drivers/infortrend-volume-driver.rst', 'doc/source/configuration/tables/cinder-infortrend.inc', 'cinder/volume/drivers/infortrend/raidcmd_cli/common_cli.py', 'cinder/volume/drivers/infortrend/infortrend_iscsi_cli.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'cinder/opts.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/__init__.py', 'cinder/tests/unit/volume/drivers/infortrend/test_infortrend_cli.py', 'cinder/tests/unit/volume/drivers/infortrend/__init__.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/cli_factory.py', 'cinder/exception.py', 'cinder/volume/drivers/infortrend/__init__.py', 'cinder/volume/drivers/infortrend/infortrend_fc_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b68a9eaf199957ab8a7b78412b3579bd414717b', 'message': 'Remove Infortrend drivers\n\nThe Infortrend drivers were marked as deprecated and unsupported in Pike\ndue to lack of CI. This situation has not changed and they will now be\nremoved.\n\nChange-Id: I0f1d12776cfa553b117c5b3698b2ae0c9c88735e\n'}]",0,501330,3b68a9eaf199957ab8a7b78412b3579bd414717b,116,43,4,11904,,,0,"Remove Infortrend drivers

The Infortrend drivers were marked as deprecated and unsupported in Pike
due to lack of CI. This situation has not changed and they will now be
removed.

Change-Id: I0f1d12776cfa553b117c5b3698b2ae0c9c88735e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/501330/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/infortrend/test_infortrend_common.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'doc/source/configuration/block-storage/drivers/infortrend-volume-driver.rst', 'doc/source/configuration/tables/cinder-infortrend.inc', 'cinder/volume/drivers/infortrend/raidcmd_cli/common_cli.py', 'cinder/volume/drivers/infortrend/infortrend_iscsi_cli.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'cinder/opts.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/__init__.py', 'cinder/tests/unit/volume/drivers/infortrend/test_infortrend_cli.py', 'cinder/tests/unit/volume/drivers/infortrend/__init__.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/cli_factory.py', 'cinder/exception.py', 'cinder/volume/drivers/infortrend/__init__.py', 'cinder/volume/drivers/infortrend/infortrend_fc_cli.py']",15,c8c683d6b43c625e54c1bcf425f9718a93c5f34a,ci_unsupported,,"# Copyright (c) 2015 Infortrend Technology, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Fibre Channel Driver for Infortrend Eonstor based on CLI. """""" from oslo_log import log as logging from cinder import interface from cinder.volume import driver from cinder.volume.drivers.infortrend.raidcmd_cli import common_cli from cinder.zonemanager import utils as fczm_utils LOG = logging.getLogger(__name__) @interface.volumedriver class InfortrendCLIFCDriver(driver.FibreChannelDriver): """"""Infortrend Fibre Channel Driver for Eonstor DS using CLI. Version history: 1.0.0 - Initial driver 1.0.1 - Support DS4000 1.0.2 - Support GS Series """""" # ThirdPartySystems wiki page CI_WIKI_NAME = ""Infortrend_Storage_CI"" VERSION = common_cli.InfortrendCommon.VERSION # TODO(smcginnis) Remove driver in Queens if CI issues not resolved SUPPORTED = False def __init__(self, *args, **kwargs): super(InfortrendCLIFCDriver, self).__init__(*args, **kwargs) self.common = common_cli.InfortrendCommon( 'FC', configuration=self.configuration) self.VERSION = self.common.VERSION def check_for_setup_error(self): LOG.debug('check_for_setup_error start') self.common.check_for_setup_error() def create_volume(self, volume): """"""Creates a volume. Can optionally return a Dictionary of changes to the volume object to be persisted. """""" LOG.debug('create_volume volume id=%(volume_id)s', { 'volume_id': volume['id']}) return self.common.create_volume(volume) def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from a snapshot."""""" LOG.debug( 'create_volume_from_snapshot volume id=%(volume_id)s ' 'snapshot id=%(snapshot_id)s', { 'volume_id': volume['id'], 'snapshot_id': snapshot['id']}) return self.common.create_volume_from_snapshot(volume, snapshot) def create_cloned_volume(self, volume, src_vref): """"""Creates a clone of the specified volume."""""" LOG.debug( 'create_cloned_volume volume id=%(volume_id)s ' 'src_vref provider_location=%(provider_location)s', { 'volume_id': volume['id'], 'provider_location': src_vref['provider_location']}) return self.common.create_cloned_volume(volume, src_vref) def extend_volume(self, volume, new_size): """"""Extend a volume."""""" LOG.debug( 'extend_volume volume id=%(volume_id)s new size=%(size)s', { 'volume_id': volume['id'], 'size': new_size}) self.common.extend_volume(volume, new_size) def delete_volume(self, volume): """"""Deletes a volume."""""" LOG.debug('delete_volume volume id=%(volume_id)s', { 'volume_id': volume['id']}) return self.common.delete_volume(volume) def migrate_volume(self, ctxt, volume, host): """"""Migrate the volume to the specified host. Returns a boolean indicating whether the migration occurred, as well as model_update. :param ctxt: Context :param volume: A dictionary describing the volume to migrate :param host: A dictionary describing the host to migrate to, where host['host'] is its name, and host['capabilities'] is a dictionary of its reported capabilities. """""" LOG.debug('migrate_volume volume id=%(volume_id)s host=%(host)s', { 'volume_id': volume['id'], 'host': host['host']}) return self.common.migrate_volume(volume, host) def create_snapshot(self, snapshot): """"""Creates a snapshot."""""" LOG.debug( 'create_snapshot snapshot id=%(snapshot_id)s ' 'volume id=%(volume_id)s', { 'snapshot_id': snapshot['id'], 'volume_id': snapshot['volume_id']}) return self.common.create_snapshot(snapshot) def delete_snapshot(self, snapshot): """"""Deletes a snapshot."""""" LOG.debug( 'delete_snapshot snapshot id=%(snapshot_id)s ' 'volume id=%(volume_id)s', { 'snapshot_id': snapshot['id'], 'volume_id': snapshot['volume_id']}) self.common.delete_snapshot(snapshot) def ensure_export(self, context, volume): """"""Synchronously recreates an export for a volume."""""" pass def create_export(self, context, volume, connector): """"""Exports the volume. Can optionally return a Dictionary of changes to the volume object to be persisted. """""" LOG.debug( 'create_export volume provider_location=%(provider_location)s', { 'provider_location': volume['provider_location']}) return self.common.create_export(context, volume) def remove_export(self, context, volume): """"""Removes an export for a volume."""""" pass @fczm_utils.add_fc_zone def initialize_connection(self, volume, connector): """"""Initializes the connection and returns connection information. Assign any created volume to a compute node/host so that it can be used from that host. The driver returns a driver_volume_type of 'fibre_channel'. The target_wwn can be a single entry or a list of wwns that correspond to the list of remote wwn(s) that will export the volume. The initiator_target_map is a map that represents the remote wwn(s) and a list of wwns which are visible to the remote wwn(s). Example return values: { 'driver_volume_type': 'fibre_channel' 'data': { 'target_discovered': True, 'target_lun': 1, 'target_wwn': '1234567890123', 'initiator_target_map': { '1122334455667788': ['1234567890123'] } } } or { 'driver_volume_type': 'fibre_channel' 'data': { 'target_discovered': True, 'target_lun': 1, 'target_wwn': ['1234567890123', '0987654321321'], 'initiator_target_map': { '1122334455667788': ['1234567890123', '0987654321321'] } } } """""" LOG.debug( 'initialize_connection volume id=%(volume_id)s ' 'connector initiator=%(initiator)s', { 'volume_id': volume['id'], 'initiator': connector['initiator']}) return self.common.initialize_connection(volume, connector) @fczm_utils.remove_fc_zone def terminate_connection(self, volume, connector, **kwargs): """"""Disallow connection from connector."""""" LOG.debug('terminate_connection volume id=%(volume_id)s', { 'volume_id': volume['id']}) return self.common.terminate_connection(volume, connector) def get_volume_stats(self, refresh=False): """"""Get volume stats. If 'refresh' is True, run update the stats first. """""" LOG.debug('get_volume_stats refresh=%(refresh)s', { 'refresh': refresh}) return self.common.get_volume_stats(refresh) def manage_existing(self, volume, existing_ref): """"""Manage an existing lun in the array. The lun should be in a manageable pool backend, otherwise error would return. Rename the backend storage object so that it matches the, volume['name'] which is how drivers traditionally map between a cinder volume and the associated backend storage object. .. code-block:: default existing_ref:{ 'id':lun_id } """""" LOG.debug( 'manage_existing volume id=%(volume_id)s ' 'existing_ref source id=%(source_id)s', { 'volume_id': volume['id'], 'source_id': existing_ref['source-id']}) return self.common.manage_existing(volume, existing_ref) def unmanage(self, volume): """"""Removes the specified volume from Cinder management. Does not delete the underlying backend storage object. :param volume: Cinder volume to unmanage """""" LOG.debug('unmanage volume id=%(volume_id)s', { 'volume_id': volume['id']}) self.common.unmanage(volume) def manage_existing_get_size(self, volume, existing_ref): """"""Return size of volume to be managed by manage_existing. When calculating the size, round up to the next GB. """""" LOG.debug( 'manage_existing_get_size volume id=%(volume_id)s ' 'existing_ref source id=%(source_id)s', { 'volume_id': volume['id'], 'source_id': existing_ref['source-id']}) return self.common.manage_existing_get_size(volume, existing_ref) def retype(self, ctxt, volume, new_type, diff, host): """"""Convert the volume to be of the new type. :param ctxt: Context :param volume: A dictionary describing the volume to migrate :param new_type: A dictionary describing the volume type to convert to :param diff: A dictionary with the difference between the two types :param host: A dictionary describing the host to migrate to, where host['host'] is its name, and host['capabilities'] is a dictionary of its reported capabilities. """""" LOG.debug( 'retype volume id=%(volume_id)s new_type id=%(type_id)s', { 'volume_id': volume['id'], 'type_id': new_type['id']}) return self.common.retype(ctxt, volume, new_type, diff, host) def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): """"""Return model update for migrated volume. :param volume: The original volume that was migrated to this backend :param new_volume: The migration volume object that was created on this backend as part of the migration process :param original_volume_status: The status of the original volume :returns: model_update to update DB with any needed changes """""" LOG.debug( 'update migrated volume original volume id= %(volume_id)s ' 'new volume id=%(new_volume_id)s', { 'volume_id': volume['id'], 'new_volume_id': new_volume['id']}) return self.common.update_migrated_volume(ctxt, volume, new_volume, original_volume_status) ",1,7878
openstack%2Fcinder~master~Iae30e9263044a7ef04fbe5b826cfcc7aa41add5a,openstack/cinder,master,Iae30e9263044a7ef04fbe5b826cfcc7aa41add5a,Remove deprecated heartbeat options,MERGED,2017-10-03 19:41:57.000000000,2018-02-25 13:49:15.000000000,2017-10-05 01:18:04.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 19:41:57.000000000', 'files': ['cinder/coordination.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7f8005fa5605cd8db216859ffaaa83e6aa6c538', 'message': 'Remove deprecated heartbeat options\n\nCluster locking heartbeat options were marked deprecated in\n42dafd2705a8cb4346c396376977c705e55d9e7c with the move to using\nthe tooz built in hearbeating. These options are now removed.\n\nNote, in the release note for the deprecation we actually stated\nthese options were removed, not deprecated, so this patch does\nnot include an additional release note pointing this out.\n\nChange-Id: Iae30e9263044a7ef04fbe5b826cfcc7aa41add5a\n'}]",0,509263,b7f8005fa5605cd8db216859ffaaa83e6aa6c538,38,35,1,11904,,,0,"Remove deprecated heartbeat options

Cluster locking heartbeat options were marked deprecated in
42dafd2705a8cb4346c396376977c705e55d9e7c with the move to using
the tooz built in hearbeating. These options are now removed.

Note, in the release note for the deprecation we actually stated
these options were removed, not deprecated, so this patch does
not include an additional release note pointing this out.

Change-Id: Iae30e9263044a7ef04fbe5b826cfcc7aa41add5a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/509263/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/coordination.py'],1,b7f8005fa5605cd8db216859ffaaa83e6aa6c538,tooz_deprecations,," cfg.FloatOpt('heartbeat', default=1.0, help='Number of seconds between heartbeats for distributed ' 'coordination. No longer used since distributed ' 'coordination manages its heartbeat internally.', deprecated_for_removal=True, deprecated_reason='This option is no longer used.', deprecated_since='11.0.0'), cfg.FloatOpt('initial_reconnect_backoff', default=0.1, help='Initial number of seconds to wait after failed ' 'reconnection. No longer used since distributed ' 'coordination manages its heartbeat internally.', deprecated_for_removal=True, deprecated_reason='This option is no longer used.', deprecated_since='11.0.0'), cfg.FloatOpt('max_reconnect_backoff', default=60.0, help='Maximum number of seconds between sequential ' 'reconnection retries. No longer used since ' 'distributed coordination manages its heartbeat ' 'internally.', deprecated_for_removal=True, deprecated_reason='This option is no longer used.', deprecated_since='11.0.0'),",0,25
openstack%2Fcinder~master~I405a404add187ba62357e541dfa1e8b39703ba18,openstack/cinder,master,I405a404add187ba62357e541dfa1e8b39703ba18,Remove deprecated osapi_volume_base_URL,MERGED,2017-10-03 19:19:57.000000000,2018-02-25 13:49:13.000000000,2017-10-05 01:18:29.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 19:19:57.000000000', 'files': ['cinder/api/common.py', 'cinder/api/views/versions.py', 'releasenotes/notes/remove_osapi_volume_base_url-33fed24c4ad1b2b6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/efc9016055b81872eb548f2a61b55d651f912658', 'message': 'Remove deprecated osapi_volume_base_URL\n\nThis config option was basically the same as public_endpoint and was\ndeprecated in Pike in favor of using that option instead. This now\nremoves it completely.\n\nChange-Id: I405a404add187ba62357e541dfa1e8b39703ba18\n'}]",0,509259,efc9016055b81872eb548f2a61b55d651f912658,40,36,1,11904,,,0,"Remove deprecated osapi_volume_base_URL

This config option was basically the same as public_endpoint and was
deprecated in Pike in favor of using that option instead. This now
removes it completely.

Change-Id: I405a404add187ba62357e541dfa1e8b39703ba18
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/509259/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/common.py', 'cinder/api/views/versions.py', 'releasenotes/notes/remove_osapi_volume_base_url-33fed24c4ad1b2b6.yaml']",3,efc9016055b81872eb548f2a61b55d651f912658,remove_osapi_volume_base_URL,--- upgrade: - | The `osapi_volume_base_URL` config option was deprecated in Pike and has now been removed. The `public_endpoint` config option should be used instead. ,,7,8
openstack%2Fcinder~master~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,master,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-02 16:51:14.000000000,2018-02-25 13:49:11.000000000,2017-10-08 16:27:17.000000000,"[{'_account_id': 3}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-02 16:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53b3eca04bf102b4100ea29d68e54acd31ec1394', 'message': 'Dell PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n'}, {'number': 2, 'created': '2017-10-02 16:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/317ee04ad08e606eff74ad320c6edd1abd438296', 'message': 'Dell PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n'}, {'number': 3, 'created': '2017-10-02 19:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/312e4f8d16c30d3afeff7f705b62347a0c25dd19', 'message': 'Dell PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n'}, {'number': 4, 'created': '2017-10-03 19:07:54.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9a0c2ee2e973d0594f2707d64846e882e179c94', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n'}]",7,508938,a9a0c2ee2e973d0594f2707d64846e882e179c94,80,40,4,10379,,,0,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/508938/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml']",2,53b3eca04bf102b4100ea29d68e54acd31ec1394,bug/1661154,--- fixes: - Dell EMC PS Series Driver code reporting volume stats is now optimized to return the information earlier and accelerate the process ~ ,,15,6
openstack%2Fcinder~master~I2caa5f2763ec343b0bc875e707924ff9b6424ce5,openstack/cinder,master,I2caa5f2763ec343b0bc875e707924ff9b6424ce5,Dell EMC PS: Fix over-subscription ratio stats,MERGED,2017-09-26 19:02:08.000000000,2018-02-25 13:49:10.000000000,2017-10-06 03:17:35.000000000,"[{'_account_id': 3}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14377}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-26 19:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69987c0d2747c22b37b8ecb1360311fd474a78b2', 'message': 'Dell PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n'}, {'number': 2, 'created': '2017-09-28 16:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb6a9cda9f492497bafc05db6854b397977e7751', 'message': 'Dell PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n'}, {'number': 3, 'created': '2017-10-03 19:00:37.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/761f0c3e66691e6f5c683a63a81beccbbca1cacf', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n'}]",0,507647,761f0c3e66691e6f5c683a63a81beccbbca1cacf,96,44,3,10379,,,0,"Dell EMC PS: Fix over-subscription ratio stats

Fixed the provisioned_capacity_gb to use the VolumeReportedSpace
to calculate the over-subscription ratio stats in the Dell EMC
PS volume driver.

Closes Bug: #1719659

Change-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/507647/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",2,69987c0d2747c22b37b8ecb1360311fd474a78b2,bug/1719659," 'VolumeReportedSpace: 80GB',"," 'VolumeReserve: 80GB',",2,2
openstack%2Fcinder~master~I6d128a5bc30b8d9ac1a0b7a200088b39a1777b05,openstack/cinder,master,I6d128a5bc30b8d9ac1a0b7a200088b39a1777b05,Doc: Move generalized_filters to admin,MERGED,2017-10-03 16:00:31.000000000,2018-02-25 13:49:08.000000000,2017-10-04 22:27:23.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 16:00:31.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/admin/generalized_filters.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fa70702312ad67ecf288dfb76e33411b405e266', 'message': 'Doc: Move generalized_filters to admin\n\nThis is not a man page, so move it to the admin dir\ninstead of ""man"".\n\nChange-Id: I6d128a5bc30b8d9ac1a0b7a200088b39a1777b05\n'}]",0,509213,3fa70702312ad67ecf288dfb76e33411b405e266,35,29,1,4523,,,0,"Doc: Move generalized_filters to admin

This is not a man page, so move it to the admin dir
instead of ""man"".

Change-Id: I6d128a5bc30b8d9ac1a0b7a200088b39a1777b05
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/509213/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/admin/generalized_filters.rst']",3,3fa70702312ad67ecf288dfb76e33411b405e266,,,,1,1
openstack%2Fcinder~master~I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6,openstack/cinder,master,I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6,Add ploop to parallels naming conversion,MERGED,2017-09-25 16:25:11.000000000,2018-02-25 13:49:07.000000000,2017-10-06 20:43:35.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12408}, {'_account_id': 13144}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26955}]","[{'number': 1, 'created': '2017-09-25 16:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c43efacfeff5e877e564bf46a2d2f591c866cd8', 'message': 'Add ploop to parallels naming conversion\n\nIt worked silently until src_format was started\nto be passed to convert_image in\nI4071927c491870626fe174b75ecaf8ef6da39cf5\n\nNow we should also have ploop-to-parallels mapping\nas in upload_volume.\nAlso, place all conversions to a single structure.\n\nChange-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6\n'}, {'number': 2, 'created': '2017-09-27 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93c2fb97a565fdd9e320ac9e0a543e49759f0daf', 'message': 'Add ploop to parallels naming conversion\n\nIt worked silently until src_format was started\nto be passed to convert_image in\nI4071927c491870626fe174b75ecaf8ef6da39cf5\n\nNow we should also have ploop-to-parallels mapping\nas in upload_volume.\nAlso, place all conversions to a single structure.\n\nChange-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6\n'}, {'number': 3, 'created': '2017-09-28 08:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8e46c7d3aaec2428f2547abe8196d076800b370', 'message': 'Add ploop to parallels naming conversion\n\nIt worked silently until src_format was started\nto be passed to convert_image in\nI4071927c491870626fe174b75ecaf8ef6da39cf5\n\nNow we should also have ploop-to-parallels mapping\nas in upload_volume.\nAlso, place all conversions to a single structure.\n\nChange-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6\n'}, {'number': 4, 'created': '2017-09-29 12:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bf61db02658255e547bcf8e0a4b1709996b8bb3', 'message': 'Add ploop to parallels naming conversion\n\nIt worked silently until src_format was started\nto be passed to convert_image in\nI4071927c491870626fe174b75ecaf8ef6da39cf5\n\nNow we should also have ploop-to-parallels mapping\nas in upload_volume.\nAlso, place all conversions to a single structure.\n\nChange-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6\n'}, {'number': 5, 'created': '2017-10-03 13:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0e4bc56aa985ce76222636709ef4eb185ed014b', 'message': 'Add ploop to parallels naming conversion\n\nIt worked silently until src_format was started\nto be passed to convert_image in\nI4071927c491870626fe174b75ecaf8ef6da39cf5\n\nNow we should also have ploop-to-parallels mapping\nas in upload_volume.\nAlso, place all conversions to a single structure.\n\nChange-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6\n'}, {'number': 6, 'created': '2017-10-03 14:48:07.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e936ac8096cfc3f9936f438e9fa6f6b81e15768', 'message': 'Add ploop to parallels naming conversion\n\nIt worked silently until src_format was started\nto be passed to convert_image in\nI4071927c491870626fe174b75ecaf8ef6da39cf5\n\nNow we should also have ploop-to-parallels mapping\nas in upload_volume.\nAlso, place all conversions to a single structure.\n\nChange-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6\n'}]",0,507193,3e936ac8096cfc3f9936f438e9fa6f6b81e15768,172,48,6,13431,,,0,"Add ploop to parallels naming conversion

It worked silently until src_format was started
to be passed to convert_image in
I4071927c491870626fe174b75ecaf8ef6da39cf5

Now we should also have ploop-to-parallels mapping
as in upload_volume.
Also, place all conversions to a single structure.

Change-Id: I8ad66a625f12cc48e1daec51e9f8abe6ae8932d6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/507193/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,2c43efacfeff5e877e564bf46a2d2f591c866cd8,," 'ploop': 'parallels', out_format = fixup_disk_format(image_meta['disk_format'])", out_format = image_meta['disk_format'] # qemu-img accepts 'vpc' as argument for 'vhd 'format and 'parallels' # as argument for 'ploop'. if out_format == 'vhd': out_format = 'vpc' if out_format == 'ploop': out_format = 'parallels' ,2,8
openstack%2Fcinder~master~I67e52c6a8634b74bf5975290298d6fbcadc7dd50,openstack/cinder,master,I67e52c6a8634b74bf5975290298d6fbcadc7dd50,Add uuid to services entries,MERGED,2017-09-28 15:59:20.000000000,2018-02-25 13:49:05.000000000,2017-10-05 07:52:53.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-28 15:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca23e9e46d911f94bc1de511a14ea52db56caa43', 'message': ""Add uuid to services entries\n\nOur services ID column is still just an integer and that's *ok* for the\nmost part.  There are things that it would be nice to advertise a\nmore meaningful and unique identifier to the users of services though.\n\nThis change adds an indexable UUID column to the services, this will\nbe useful for things like identifying backends without leaking\ndetails to end users.\n\nChange-Id: I67e52c6a8634b74bf5975290298d6fbcadc7dd50\n""}, {'number': 2, 'created': '2017-09-28 17:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43a4546a1c303da7c1feda4bedd344e58e55b88a', 'message': ""Add uuid to services entries\n\nOur services ID column is still just an integer and that's *ok* for the\nmost part.  There are things that it would be nice to advertise a\nmore meaningful and unique identifier to the users of services though.\n\nThis change adds an indexable UUID column to the services, this will\nbe useful for things like identifying backends without leaking\ndetails to end users.\n\nChange-Id: I67e52c6a8634b74bf5975290298d6fbcadc7dd50\n""}, {'number': 3, 'created': '2017-09-28 20:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c4937608723e3398b45d3c4ff8055b2f6dc4221', 'message': ""Add uuid to services entries\n\nOur services ID column is still just an integer and that's *ok* for the\nmost part.  There are things that it would be nice to advertise a\nmore meaningful and unique identifier to the users of services though.\n\nThis change adds an indexable UUID column to the services, this will\nbe useful for things like identifying backends without leaking\ndetails to end users.\n\nChange-Id: I67e52c6a8634b74bf5975290298d6fbcadc7dd50\n""}, {'number': 4, 'created': '2017-09-30 15:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20b8e296258e37c38e4d4eaedc2c9c6ef2451d61', 'message': ""Add uuid to services entries\n\nOur services ID column is still just an integer and that's *ok* for the\nmost part.  There are things that it would be nice to advertise a\nmore meaningful and unique identifier to the users of services though.\n\nThis change adds an indexable UUID column to the services, this will\nbe useful for things like identifying backends without leaking\ndetails to end users.\n\nChange-Id: I67e52c6a8634b74bf5975290298d6fbcadc7dd50\n""}, {'number': 5, 'created': '2017-10-03 04:48:27.000000000', 'files': ['cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/migrate_repo/versions/112_add_uuid_to_services_table.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2becd847fb01777eb991e88c95c4453809ea2398', 'message': ""Add uuid to services entries\n\nOur services ID column is still just an integer and that's *ok* for the\nmost part.  There are things that it would be nice to advertise a\nmore meaningful and unique identifier to the users of services though.\n\nThis change adds an indexable UUID column to the services, this will\nbe useful for things like identifying backends without leaking\ndetails to end users.\n\nChange-Id: I67e52c6a8634b74bf5975290298d6fbcadc7dd50\n""}]",8,508209,2becd847fb01777eb991e88c95c4453809ea2398,146,41,5,2243,,,0,"Add uuid to services entries

Our services ID column is still just an integer and that's *ok* for the
most part.  There are things that it would be nice to advertise a
more meaningful and unique identifier to the users of services though.

This change adds an indexable UUID column to the services, this will
be useful for things like identifying backends without leaking
details to end users.

Change-Id: I67e52c6a8634b74bf5975290298d6fbcadc7dd50
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/508209/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/migrate_repo/versions/112_add_uuid_to_services_table.py', 'cinder/db/sqlalchemy/models.py']",3,ca23e9e46d911f94bc1de511a14ea52db56caa43,add_uuid_column_to_services_table," __table_args__ = ( Index('services_uuid_idx', 'uuid', unique=True), ) uuid = Column(String(36), nullable=False)",,51,0
openstack%2Fcinder~master~Ib85411c7f6f5cc9ad33e41f1aba18021703e4913,openstack/cinder,master,Ib85411c7f6f5cc9ad33e41f1aba18021703e4913,Fix Tempest Volume Revert test,MERGED,2017-09-29 15:22:36.000000000,2018-02-25 13:49:04.000000000,2017-10-04 23:40:27.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-29 15:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a3101042200815ff00227f37493070212b3306d', 'message': 'Fix Tempest Volume Revert test\n\nWhen we stopped using magic strings for the microversions in Cinder on\nchange Ib3a80fee6caaabb49af097aa197f550c65d94985 we broke the Volume\nRevert Tempest test because we started sending requests to do the revert\nwith API microversion 3.0 and the minimum version is 3.40.\n\nThis patch fixes it.\n\nChange-Id: Ib85411c7f6f5cc9ad33e41f1aba18021703e4913\n'}, {'number': 2, 'created': '2017-10-02 19:55:25.000000000', 'files': ['cinder/tests/tempest/api/volume/test_volume_revert.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e516e21dc3ebf3f308a28515858b8981f965d3d', 'message': 'Fix Tempest Volume Revert test\n\nWhen we stopped using magic strings for the microversions in Cinder on\nchange Ib3a80fee6caaabb49af097aa197f550c65d94985 we broke the Volume\nRevert Tempest test because we started sending requests to do the revert\nwith API microversion 3.0 and the minimum version is 3.40.\n\nThis patch fixes it.\n\nCloses-bug: 1720855\nChange-Id: Ib85411c7f6f5cc9ad33e41f1aba18021703e4913\n'}]",0,508541,2e516e21dc3ebf3f308a28515858b8981f965d3d,106,38,2,9535,,,0,"Fix Tempest Volume Revert test

When we stopped using magic strings for the microversions in Cinder on
change Ib3a80fee6caaabb49af097aa197f550c65d94985 we broke the Volume
Revert Tempest test because we started sending requests to do the revert
with API microversion 3.0 and the minimum version is 3.40.

This patch fixes it.

Closes-bug: 1720855
Change-Id: Ib85411c7f6f5cc9ad33e41f1aba18021703e4913
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/508541/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_volume_revert.py'],1,6a3101042200815ff00227f37493070212b3306d,bug/1720855,from cinder.api import microversions min_microversion = microversions.VOLUME_REVERT,,2,0
openstack%2Fneutron~master~I58cb2ade598e8dc2377e6187483cb39881a9dc3c,openstack/neutron,master,I58cb2ade598e8dc2377e6187483cb39881a9dc3c,[Fullstack] Limit number of test workers to 4,MERGED,2018-02-23 09:58:43.000000000,2018-02-25 13:32:37.000000000,2018-02-25 13:32:37.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 09:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85464c90e1047ad3b863428e16ff499c147880f6', 'message': 'DNM Test how fullstack will work with 4 test workers\n\nChange-Id: I58cb2ade598e8dc2377e6187483cb39881a9dc3c\n'}, {'number': 2, 'created': '2018-02-23 12:41:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5d9890c8d061d202bf102e4a4e78cc4f1b1ee82', 'message': '[Fullstack] Limit number of test workers to 4\n\nBy default there is as many test workers running fullstack\ntests as cores on host.\nOn gate tests it is 8 cores so 8 test workers.\nEach such workers spawns own neutron-server and agents.\nThat cause quite big load on such test node. From my tests\nit looks that it can be up to 25.\nBy lowering number of test workers to 4 I observed that\nload is at max about 10.\nOverall time of tests is longer for about 10-15 minutes\n(about 45-50 minutes with 8 workers and about 60-65 minutes\nwith 4 workers).\n\nChange-Id: I58cb2ade598e8dc2377e6187483cb39881a9dc3c\n'}]",0,547345,f5d9890c8d061d202bf102e4a4e78cc4f1b1ee82,11,6,2,11975,,,0,"[Fullstack] Limit number of test workers to 4

By default there is as many test workers running fullstack
tests as cores on host.
On gate tests it is 8 cores so 8 test workers.
Each such workers spawns own neutron-server and agents.
That cause quite big load on such test node. From my tests
it looks that it can be up to 25.
By lowering number of test workers to 4 I observed that
load is at max about 10.
Overall time of tests is longer for about 10-15 minutes
(about 45-50 minutes with 8 workers and about 60-65 minutes
with 4 workers).

Change-Id: I58cb2ade598e8dc2377e6187483cb39881a9dc3c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/547345/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,85464c90e1047ad3b863428e16ff499c147880f6,debug_fullstack_load, {toxinidir}/tools/ostestr_compat_shim.sh --concurrency 4 {posargs}, {[testenv]commands},1,1
openstack%2Fneutron~master~Ib63a523721a2fa3d1a978a729de28e6a2e560ef6,openstack/neutron,master,Ib63a523721a2fa3d1a978a729de28e6a2e560ef6,use DVR constants from neutron-lib,MERGED,2018-02-21 18:45:56.000000000,2018-02-25 13:32:26.000000000,2018-02-25 13:32:26.000000000,"[{'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 18:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4726559667171b8bf567c8373d868ec91720fb58', 'message': 'use DVR constants from neutron-lib\n\nThe L3_AGENT_MODE_DVR_NO_EXTERNAL and DVR_SNAT_BOUND constants were\nrehomed into neutron-lib with Ieb9374f5483a0ab2306592ab901686ca374db1c8\nThis patch consumes them by removing them from neutron and using the\nconstants from neutron-lib instead.\n\nNeutronLibImpact\n\nChange-Id: Ib63a523721a2fa3d1a978a729de28e6a2e560ef6\n'}, {'number': 2, 'created': '2018-02-23 13:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfa8afa70d0b296101900f5482acd1b359719e51', 'message': 'use DVR constants from neutron-lib\n\nThe L3_AGENT_MODE_DVR_NO_EXTERNAL and DVR_SNAT_BOUND constants were\nrehomed into neutron-lib with Ieb9374f5483a0ab2306592ab901686ca374db1c8\nThis patch consumes them by removing them from neutron and using the\nconstants from neutron-lib instead.\n\nNeutronLibImpact\n\nChange-Id: Ib63a523721a2fa3d1a978a729de28e6a2e560ef6\n'}, {'number': 3, 'created': '2018-02-23 16:17:13.000000000', 'files': ['neutron/tests/functional/agent/l3/extensions/test_fip_qos_extension.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/common/constants.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/extensions/fip_qos.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/conf/agent/l3/config.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6de54fa4fe9b1c51d8a528ba3d6924b2607ff60', 'message': 'use DVR constants from neutron-lib\n\nThe L3_AGENT_MODE_DVR_NO_EXTERNAL and DVR_SNAT_BOUND constants were\nrehomed into neutron-lib with Ieb9374f5483a0ab2306592ab901686ca374db1c8\nThis patch consumes them by removing them from neutron and using the\nconstants from neutron-lib instead.\n\nNeutronLibImpact\n\nChange-Id: Ib63a523721a2fa3d1a978a729de28e6a2e560ef6\n'}]",0,546737,f6de54fa4fe9b1c51d8a528ba3d6924b2607ff60,23,8,3,5367,,,0,"use DVR constants from neutron-lib

The L3_AGENT_MODE_DVR_NO_EXTERNAL and DVR_SNAT_BOUND constants were
rehomed into neutron-lib with Ieb9374f5483a0ab2306592ab901686ca374db1c8
This patch consumes them by removing them from neutron and using the
constants from neutron-lib instead.

NeutronLibImpact

Change-Id: Ib63a523721a2fa3d1a978a729de28e6a2e560ef6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/546737/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/extensions/test_fip_qos_extension.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/common/constants.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/extensions/fip_qos.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/conf/agent/l3/config.py', 'neutron/db/l3_agentschedulers_db.py']",13,4726559667171b8bf567c8373d868ec91720fb58,use-lib-dvrconsts, constants.L3_AGENT_MODE_DVR_NO_EXTERNAL]: constants.L3_AGENT_MODE_DVR_NO_EXTERNAL]: agent_mode == constants.L3_AGENT_MODE_DVR_NO_EXTERNAL or,from neutron.common import constants as l_consts l_consts.L3_AGENT_MODE_DVR_NO_EXTERNAL]: l_consts.L3_AGENT_MODE_DVR_NO_EXTERNAL]: agent_mode == l_consts.L3_AGENT_MODE_DVR_NO_EXTERNAL or,39,46
openstack%2Fneutron~master~Id59795ea25a4af171a254fc0da55bb767580eb5d,openstack/neutron,master,Id59795ea25a4af171a254fc0da55bb767580eb5d,[doc] Support networking guide for VPNaaS,MERGED,2017-07-11 10:51:59.000000000,2018-02-25 13:32:15.000000000,2018-02-25 13:32:14.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 15905}, {'_account_id': 16376}, {'_account_id': 17491}, {'_account_id': 20330}, {'_account_id': 21486}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 27511}, {'_account_id': 27552}]","[{'number': 1, 'created': '2017-07-11 10:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca1380093cfe1438b8c9b14ea5b705ef245b7bd7', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch address the gap.\n\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\nDepends-on: I447f5c50725fc0d9d8a1574ad5e28772f472fba9\n'}, {'number': 2, 'created': '2017-10-24 08:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eefdf09ddce9eda5a8d8104f32e26e826b541aea', 'message': '[WIP] [doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch address the gap and improve docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 3, 'created': '2017-12-08 06:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9184a5da2d2d39328ab020e180d09d19f3ed839', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch address the gap and improve docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 4, 'created': '2017-12-20 01:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42a9c221972435dba3fcbdf64fb3c156d2e8de06', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 5, 'created': '2018-01-11 10:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89cc106c85aa3434faeffd0298bd95179628b1f7', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 6, 'created': '2018-01-15 03:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/614916c4f86240b502b4285e6ab43a042d956235', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 7, 'created': '2018-01-26 07:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fbd1bd36d1935d2ca495232edd82314db836790', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 8, 'created': '2018-02-07 06:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03faad1edc28b6479cdd1ab2b78b0b7a454a117c', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 9, 'created': '2018-02-08 04:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7486772e6e6998310ef81316f0795fa8c9b33c90', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}, {'number': 10, 'created': '2018-02-08 06:30:59.000000000', 'files': ['doc/source/admin/vpnaas-scenario.rst', 'doc/source/admin/misc.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8af1bec4e1abb783b79277e5803c969a1bb27d0', 'message': '[doc] Support networking guide for VPNaaS\n\nCurrent networking docs is lacking VPNaaS.\nThis patch addresses the gap and improves docs as\ndiscussed in Boston summit.\n\nCloses-bug: 1692131\nChange-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d\n'}]",127,482510,f8af1bec4e1abb783b79277e5803c969a1bb27d0,73,17,10,15905,,,0,"[doc] Support networking guide for VPNaaS

Current networking docs is lacking VPNaaS.
This patch addresses the gap and improves docs as
discussed in Boston summit.

Closes-bug: 1692131
Change-Id: Id59795ea25a4af171a254fc0da55bb767580eb5d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/482510/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/vpnaas-scenario.rst', 'doc/source/admin/misc.rst']",2,ca1380093cfe1438b8c9b14ea5b705ef245b7bd7,vpnaas_doc, vpnaas-scenario,,233,0
openstack%2Fcinder~master~Iafaa48b908c26c1fa6862a8dfc27b43d525847e4,openstack/cinder,master,Iafaa48b908c26c1fa6862a8dfc27b43d525847e4,Schedule request to scheduler when manage existing snapshot,MERGED,2018-01-27 09:31:54.000000000,2018-02-25 13:32:08.000000000,2018-02-25 13:32:08.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27248}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-27 09:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2c6a9047ffa4649d5816aaacc8d7a3641d3064b', 'message': ""Schedule request to scheduler when manage existing snapshot\n\nPass the request to scheduler service rather than volume\nservice in order to check backend's capacity.\n\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\nChange-Id: Iafaa48b908c26c1fa6862a8dfc27b43d525847e4\n""}, {'number': 2, 'created': '2018-01-27 09:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8adbd119bbf4db208945bb8bd0d6a2b467072e9', 'message': ""Schedule request to scheduler when manage existing snapshot\n\nPass the request to scheduler service rather than volume\nservice in order to check backend's capacity.\n\nChange-Id: Iafaa48b908c26c1fa6862a8dfc27b43d525847e4\n""}, {'number': 3, 'created': '2018-01-31 00:48:36.000000000', 'files': ['cinder/scheduler/rpcapi.py', 'cinder/tests/unit/api/contrib/test_snapshot_manage.py', 'cinder/tests/unit/scheduler/test_rpcapi.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/api/v3/test_snapshot_manage.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c81586a90ead949e73db95e62f8af609bc4f469', 'message': ""Schedule request to scheduler when manage existing snapshot\n\nPass the request to scheduler service rather than volume\nservice in order to check backend's capacity.\n\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\nChange-Id: Iafaa48b908c26c1fa6862a8dfc27b43d525847e4\n""}]",3,538413,6c81586a90ead949e73db95e62f8af609bc4f469,73,39,3,23083,,,0,"Schedule request to scheduler when manage existing snapshot

Pass the request to scheduler service rather than volume
service in order to check backend's capacity.

Partial-Implements: bp inspection-mechanism-for-capacity-limited-host
Change-Id: Iafaa48b908c26c1fa6862a8dfc27b43d525847e4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/538413/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/rpcapi.py', 'cinder/tests/unit/api/contrib/test_snapshot_manage.py', 'cinder/tests/unit/scheduler/test_rpcapi.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/api/v3/test_snapshot_manage.py', 'cinder/volume/api.py']",7,b2c6a9047ffa4649d5816aaacc8d7a3641d3064b,bp/inspection-mechanism-for-capacity-limited-host," # Ensure the service is up and not disabled. self._get_service_by_host_cluster(context, volume.host, volume.cluster_name, 'snapshot') kwargs = {'snapshot_id': snapshot_object.id, 'volume_properties': objects.VolumeProperties(size=volume.size)} self.scheduler_rpcapi.manage_existing_snapshot( context, volume, snapshot_object, ref, request_spec=objects.RequestSpec(**kwargs))"," service = self._get_service_by_host_cluster(context, volume.host, volume.cluster_name, 'snapshot') self.volume_rpcapi.manage_existing_snapshot( context, snapshot_object, ref, service.service_topic_queue)",109,15
openstack%2Fcinder~master~Ia1bf3ae0b7cd6d209354024848aef6029179d8e4,openstack/cinder,master,Ia1bf3ae0b7cd6d209354024848aef6029179d8e4,Fix AZ not matching backend after migration,MERGED,2018-02-07 16:25:09.000000000,2018-02-25 13:32:04.000000000,2018-02-25 13:32:04.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-07 16:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84384a79dcf2b941fd3e2c76cadb0359afb69c1f', 'message': ""Fix AZ not matching backend after migration\n\nWhen we migrate, or retype with migration, a volume between availability\nzones we are setting the AZ of the migrated volume to the same AZ as the\nsource volume, so we end up with a volume where the AZ does not match\nthe backend's AZ.\n\nThis patch fixes this issue for the generic migration code as well as\nthe optimized driver migration.\n\nChange-Id: Ia1bf3ae0b7cd6d209354024848aef6029179d8e4\nCloses-Bug: #1747949\n""}, {'number': 2, 'created': '2018-02-07 16:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b9978f251680cb479342192c5e3a729bec11f90', 'message': ""Fix AZ not matching backend after migration\n\nWhen we migrate, or retype with migration, a volume between availability\nzones we are setting the AZ of the migrated volume to the same AZ as the\nsource volume, so we end up with a volume where the AZ does not match\nthe backend's AZ.\n\nThis patch fixes this issue for the generic migration code as well as\nthe optimized driver migration.\n\nChange-Id: Ia1bf3ae0b7cd6d209354024848aef6029179d8e4\nCloses-Bug: #1747949\n""}, {'number': 3, 'created': '2018-02-08 15:04:34.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/fix-cross-az-migration-ce97eff61280e1c7.yaml', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb8085894b69f56091bde19683a919cb15d502cc', 'message': ""Fix AZ not matching backend after migration\n\nWhen we migrate, or retype with migration, a volume between availability\nzones we are setting the AZ of the migrated volume to the same AZ as the\nsource volume, so we end up with a volume where the AZ does not match\nthe backend's AZ.\n\nThis patch fixes this issue for the generic migration code as well as\nthe optimized driver migration.\n\nChange-Id: Ia1bf3ae0b7cd6d209354024848aef6029179d8e4\nCloses-Bug: #1747949\n""}]",3,541779,fb8085894b69f56091bde19683a919cb15d502cc,84,41,3,9535,,,0,"Fix AZ not matching backend after migration

When we migrate, or retype with migration, a volume between availability
zones we are setting the AZ of the migrated volume to the same AZ as the
source volume, so we end up with a volume where the AZ does not match
the backend's AZ.

This patch fixes this issue for the generic migration code as well as
the optimized driver migration.

Change-Id: Ia1bf3ae0b7cd6d209354024848aef6029179d8e4
Closes-Bug: #1747949
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/541779/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/test_volume_migration.py']",3,84384a79dcf2b941fd3e2c76cadb0359afb69c1f,bug/1747949,"from cinder.common import constants self._service = tests_utils.create_service( self.context, values={'host': 'newhost', 'binary': constants.VOLUME_BINARY}) def test_migrate_volume_driver_cross_az(self): """"""Test volume migration done by driver."""""" # Mock driver and rpc functions self.mock_object(self.volume.driver, 'migrate_volume', lambda x, y, z, new_type_id=None: ( True, {'user_id': fake.USER_ID})) dst_az = 'AZ2' db.service_update(self.context, self._service.id, {'availability_zone': dst_az}) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False) # check volume properties volume.refresh() self.assertEqual('newhost', volume.host) self.assertEqual('success', volume.migration_status) self.assertEqual(dst_az, volume.availability_zone) def test_migrate_volume_generic_cross_az(self, migrate_volume_completion, nova_api): """"""Test that we set the right AZ in cross AZ migrations."""""" original_create = objects.Volume.create dst_az = 'AZ2' db.service_update(self.context, self._service.id, {'availability_zone': dst_az}) def my_create(self, *args, **kwargs): self.status = 'available' original_create(self, *args, **kwargs) volume = tests_utils.create_volume(self.context, size=1, host=CONF.host) host_obj = {'host': 'newhost', 'capabilities': {}} create_vol = self.patch('cinder.objects.Volume.create', side_effect=my_create, autospec=True) with mock.patch.object(self.volume, '_copy_volume_data') as copy_mock: self.volume._migrate_volume_generic(self.context, volume, host_obj, None) copy_mock.assert_called_with(self.context, volume, mock.ANY, remote='dest') migrate_volume_completion.assert_called_with( self.context, volume, mock.ANY, error=False) nova_api.return_value.update_server_volume.assert_not_called() self.assertEqual(dst_az, create_vol.call_args[0][0]['availability_zone']) @mock.patch('cinder.compute.API') @mock.patch('cinder.volume.manager.VolumeManager.' 'migrate_volume_completion')",,81,6
openstack%2Fcinder~master~Id49838597b9e4f59742c1371d5be7159deabb002,openstack/cinder,master,Id49838597b9e4f59742c1371d5be7159deabb002,Fix json data format,MERGED,2018-02-07 08:58:06.000000000,2018-02-25 11:51:08.000000000,2018-02-25 11:51:08.000000000,"[{'_account_id': 1736}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25695}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-07 08:58:06.000000000', 'files': ['api-ref/source/v3/samples/group-create-request.json', 'api-ref/source/v3/samples/qos-create-request.json', 'api-ref/source/v3/samples/group-snapshots-create-request.json', 'api-ref/source/v3/samples/quotas-update-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/864eab12d631d08376679625191f2c0bc16f61c6', 'message': 'Fix json data format\n\nRemove extra comma from sample json file.\n\nChange-Id: Id49838597b9e4f59742c1371d5be7159deabb002\n'}]",0,541618,864eab12d631d08376679625191f2c0bc16f61c6,41,36,1,26458,,,0,"Fix json data format

Remove extra comma from sample json file.

Change-Id: Id49838597b9e4f59742c1371d5be7159deabb002
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/541618/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/group-create-request.json', 'api-ref/source/v3/samples/qos-create-request.json', 'api-ref/source/v3/samples/group-snapshots-create-request.json', 'api-ref/source/v3/samples/quotas-update-request.json']",4,864eab12d631d08376679625191f2c0bc16f61c6,, }," },",4,4
openstack%2Fcinder~master~Id203a3a8b8c09e6415dcd26cc5ae684f702b8457,openstack/cinder,master,Id203a3a8b8c09e6415dcd26cc5ae684f702b8457,Fix reporting old stats,MERGED,2018-02-21 18:02:35.000000000,2018-02-25 11:51:05.000000000,2018-02-25 11:51:04.000000000,"[{'_account_id': 9535}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 21728}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-21 18:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44860f89fdcdb79124db805afe820d668638e3e6', 'message': ""Fix reporting old stats\n\nFor the stats reporting we have a decoupled implementation where the\ngathering of stats from the backend and the submission of these stats to\nthe schedulers are run in independent periodic tasts.\n\nThe problem with this implementation is that we'll be getting old stats\nall the time because of the threading model we are using.\n\nSince we have greenthreads we will not switch threads until we do I/O,\nso if the _publish_service_capabilities periodic task is invoked first\nwe won't switch to the _report_driver_status until we send the\ncapabilities update.  And even if we start the _report_driver_status\ntask first as soon as it does some I/O to query the backend we'll be\nswitching to sending the cached data to the schedulers.\n\nIt may not sound like a big problem, but when you are quickly creating a\ngreat number of big volumes having an additional minute old data can be\nproblematic.\n\nThis patch changes the way we do the status reporting and ensures that\nwe are always sending the newest data.\n\nThere is only 1 drawback to this change, and that is if a driver takes\nlonger than 1 minute to gather the stats, because in this case a newly\nstarted scheduler will take a little longer to have stats for this\nbackend.\n\nConsidering the number of times a scheduler service is started versus\nthe number of stats reports we send it seems like a reasonable\ntrade-off.\n\nChange-Id: Id203a3a8b8c09e6415dcd26cc5ae684f702b8457\nCloses-Bug: #1750878\n""}, {'number': 2, 'created': '2018-02-21 18:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a3f755a4abb817c7f255cf93c4b5defdf12349d', 'message': ""Fix reporting old stats\n\nFor the stats reporting we have a decoupled implementation where the\ngathering of stats from the backend and the submission of these stats to\nthe schedulers are run in independent periodic tasts.\n\nThe problem with this implementation is that we'll be getting old stats\nall the time because of the threading model we are using.\n\nSince we have greenthreads we will not switch threads until we do I/O,\nso if the _publish_service_capabilities periodic task is invoked first\nwe won't switch to the _report_driver_status until we send the\ncapabilities update.  And even if we start the _report_driver_status\ntask first as soon as it does some I/O to query the backend we'll be\nswitching to sending the cached data to the schedulers.\n\nIt may not sound like a big problem, but when you are quickly creating a\ngreat number of big volumes having an additional minute old data can be\nproblematic.\n\nThis patch changes the way we do the status reporting and ensures that\nwe are always sending the newest data.\n\nThere could only be 1 drawback to this change, and that is if a driver\ntakes longer than 1 minute to gather the stats, because in this case a\nnewly started scheduler will take a little longer to have stats for this\nbackend.  But it doesn't really happen, because the schedulers actually\nrequest the volumes for their capabilities on start up.\n\nChange-Id: Id203a3a8b8c09e6415dcd26cc5ae684f702b8457\nCloses-Bug: #1750878\n""}, {'number': 3, 'created': '2018-02-22 09:06:04.000000000', 'files': ['cinder/manager.py', 'cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8076c55d5994d6bc8b7ccb8880c2ae78acf3538', 'message': ""Fix reporting old stats\n\nFor the stats reporting we have a decoupled implementation where the\ngathering of stats from the backend and the submission of these stats to\nthe schedulers are run in independent periodic tasks.\n\nThe problem with this implementation is that we'll be getting old stats\nall the time because of the threading model we are using.\n\nSince we have greenthreads we will not switch threads until we do I/O,\nso if the _publish_service_capabilities periodic task is invoked first\nwe won't switch to the _report_driver_status until we send the\ncapabilities update.  And even if we start the _report_driver_status\ntask first as soon as it does some I/O to query the backend we'll be\nswitching to sending the cached data to the schedulers.\n\nIt may not sound like a big problem, but when you are quickly creating a\ngreat number of big volumes having an additional minute old data can be\nproblematic.\n\nThis patch changes the way we do the status reporting and ensures that\nwe are always sending the newest data.\n\nThere could only be 1 drawback to this change, and that is if a driver\ntakes longer than 1 minute to gather the stats, because in this case a\nnewly started scheduler will take a little longer to have stats for this\nbackend.  But it doesn't really happen, because the schedulers actually\nrequest the volumes for their capabilities on start up.\n\nChange-Id: Id203a3a8b8c09e6415dcd26cc5ae684f702b8457\nCloses-Bug: #1750878\n""}]",3,546717,b8076c55d5994d6bc8b7ccb8880c2ae78acf3538,67,34,3,9535,,,0,"Fix reporting old stats

For the stats reporting we have a decoupled implementation where the
gathering of stats from the backend and the submission of these stats to
the schedulers are run in independent periodic tasks.

The problem with this implementation is that we'll be getting old stats
all the time because of the threading model we are using.

Since we have greenthreads we will not switch threads until we do I/O,
so if the _publish_service_capabilities periodic task is invoked first
we won't switch to the _report_driver_status until we send the
capabilities update.  And even if we start the _report_driver_status
task first as soon as it does some I/O to query the backend we'll be
switching to sending the cached data to the schedulers.

It may not sound like a big problem, but when you are quickly creating a
great number of big volumes having an additional minute old data can be
problematic.

This patch changes the way we do the status reporting and ensures that
we are always sending the newest data.

There could only be 1 drawback to this change, and that is if a driver
takes longer than 1 minute to gather the stats, because in this case a
newly started scheduler will take a little longer to have stats for this
backend.  But it doesn't really happen, because the schedulers actually
request the volumes for their capabilities on start up.

Change-Id: Id203a3a8b8c09e6415dcd26cc5ae684f702b8457
Closes-Bug: #1750878
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/546717/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/manager.py', 'cinder/volume/manager.py']",2,44860f89fdcdb79124db805afe820d668638e3e6,bug/1750878, @periodic_task.periodic_task, @periodic_task.periodic_task,1,2
openstack%2Fdragonflow~master~Id11a1ad399b107ce8a2ae0469e42c0208d590204,openstack/dragonflow,master,Id11a1ad399b107ce8a2ae0469e42c0208d590204,BGP service - take logical port info from Neutron DB,MERGED,2018-02-05 13:36:59.000000000,2018-02-25 10:31:22.000000000,2018-02-25 10:31:22.000000000,"[{'_account_id': 6598}, {'_account_id': 17880}, {'_account_id': 20229}, {'_account_id': 22348}, {'_account_id': 23235}, {'_account_id': 23766}, {'_account_id': 26131}]","[{'number': 1, 'created': '2018-02-05 13:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/586a1967ea6714c1eb85e41cac5eadefb1ca31c1', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}, {'number': 2, 'created': '2018-02-05 18:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/f036b54247ffb0b6448e28d529cae77c797162f9', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}, {'number': 3, 'created': '2018-02-05 18:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/953adc2a8c2bfb641da87dab2f185bd75b2a3c47', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}, {'number': 4, 'created': '2018-02-05 22:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/51b9cc71ab4b0ecf3dafb8ee94e8c1b26cc9320c', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}, {'number': 5, 'created': '2018-02-06 04:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d0585b92f1ce366a911f1e866547f3a1a01946ea', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}, {'number': 6, 'created': '2018-02-22 10:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/9f8df94a5ecc9f0c5300b340a0f9d4f1b974df7c', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}, {'number': 7, 'created': '2018-02-22 10:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b84963b7b3d99ff0a596314df404e33cc2071821', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\nPartial-Bug: #1747501\n""}, {'number': 8, 'created': '2018-02-22 10:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/8db6ec22b9deeab8df90d5515c901b57b6d649a7', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\nPartial-Bug: #1747501\n""}, {'number': 9, 'created': '2018-02-22 13:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/e3455a0ff3d487e4bc76a986ee1623f8898ac4b6', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\nPartial-Bug: #1747501\nDepends-On: Ibb178fe25282ef29b5ac34b12ba28f367e59f475\n""}, {'number': 10, 'created': '2018-02-23 06:23:41.000000000', 'files': ['dragonflow/neutron/services/bgp/bgp_plugin.py', 'dragonflow/neutron/db/models/l2.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/eab0a90bd2db5f35e00d8053e519bb083180f654', 'message': ""BGP service - take logical port info from Neutron DB\n\nWhen a floating IP is updated, it may be updated before the fixed port\nis added to NB api (Due to Neutron's ordering, which is random from our\npoint of view). Therefore, take the Neutron port from the Neurton DB,\nwhere it should already exist.\n\nChange-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204\nCloses-Bug: #1747423\n""}]",7,540853,eab0a90bd2db5f35e00d8053e519bb083180f654,36,7,10,20229,,,0,"BGP service - take logical port info from Neutron DB

When a floating IP is updated, it may be updated before the fixed port
is added to NB api (Due to Neutron's ordering, which is random from our
point of view). Therefore, take the Neutron port from the Neurton DB,
where it should already exist.

Change-Id: Id11a1ad399b107ce8a2ae0469e42c0208d590204
Closes-Bug: #1747423
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/53/540853/9 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/neutron/services/bgp/bgp_plugin.py', 'dragonflow/neutron/db/models/l2.py']",2,586a1967ea6714c1eb85e41cac5eadefb1ca31c1,bug/1747501,"def build_port_binding(port): binding=build_port_binding(port),","def _build_port_binding(port): binding=_build_port_binding(port),",8,8
openstack%2Fpython-qinlingclient~master~Ie9bc6acc478da101c66f1f8121963485a11ba8c3,openstack/python-qinlingclient,master,Ie9bc6acc478da101c66f1f8121963485a11ba8c3,Fix tox cover config,MERGED,2018-02-25 10:00:38.000000000,2018-02-25 10:18:31.000000000,2018-02-25 10:18:31.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 10:00:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-qinlingclient/commit/d09e0bf9772eceead9ff9707c3d7330197c28111', 'message': 'Fix tox cover config\n\nChange-Id: Ie9bc6acc478da101c66f1f8121963485a11ba8c3\n'}]",0,547803,d09e0bf9772eceead9ff9707c3d7330197c28111,6,2,1,6732,,,0,"Fix tox cover config

Change-Id: Ie9bc6acc478da101c66f1f8121963485a11ba8c3
",git fetch https://review.opendev.org/openstack/python-qinlingclient refs/changes/03/547803/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d09e0bf9772eceead9ff9707c3d7330197c28111,coverage-tox,commands = python setup.py testr --coverage --testr-args='{posargs}' coverage report,commands = {toxinidir}/tools/cover.sh {posargs},3,1
openstack%2Fshade~master~Iae775676e9bb7d3f58d7041537f3a3b15ba52593,openstack/shade,master,Iae775676e9bb7d3f58d7041537f3a3b15ba52593,Fix for timeout=None in orchestration API calls,MERGED,2018-02-23 13:58:18.000000000,2018-02-25 10:03:46.000000000,2018-02-25 10:03:45.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 25505}]","[{'number': 1, 'created': '2018-02-23 13:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/fe9d01b6f6165b636cbc16d0431390040af57afe', 'message': 'Fix for timeout=None in orchestration API calls\n\nOur other API calls allow timeout=None to mean ""no timeout"". Allow\nfor this value in the orchestration calls.\n\nChange-Id: Iae775676e9bb7d3f58d7041537f3a3b15ba52593\n'}, {'number': 2, 'created': '2018-02-23 14:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/390de1dfbed805db4932970a3f69fef07e5db769', 'message': 'Fix for timeout=None in orchestration API calls\n\nOur other API calls allow timeout=None to mean ""no timeout"". Allow\nfor this value in the orchestration calls.\n\nChange-Id: Iae775676e9bb7d3f58d7041537f3a3b15ba52593\n'}, {'number': 3, 'created': '2018-02-23 14:37:01.000000000', 'files': ['releasenotes/notes/orch_timeout-a3953376a9a96343.yaml', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/9be6d3ac160dc8b93a8d6a92cda85e0be8b0bcee', 'message': 'Fix for timeout=None in orchestration API calls\n\nOur other API calls allow timeout=None to mean ""no timeout"". Heat does\nnot have an equivalent for ""no timeout"", but None will mean to use the\nheat server default. Allow for this value in the orchestration calls.\n\nChange-Id: Iae775676e9bb7d3f58d7041537f3a3b15ba52593\n'}]",0,547430,9be6d3ac160dc8b93a8d6a92cda85e0be8b0bcee,12,4,3,3099,,,0,"Fix for timeout=None in orchestration API calls

Our other API calls allow timeout=None to mean ""no timeout"". Heat does
not have an equivalent for ""no timeout"", but None will mean to use the
heat server default. Allow for this value in the orchestration calls.

Change-Id: Iae775676e9bb7d3f58d7041537f3a3b15ba52593
",git fetch https://review.opendev.org/openstack/shade refs/changes/30/547430/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,fe9d01b6f6165b636cbc16d0431390040af57afe,stack_timeout_fix," if timeout: timeout = timeout // 60 timeout_mins=timeout, if timeout: timeout = timeout // 60 timeout_mins=timeout,"," timeout_mins=timeout // 60, timeout_mins=timeout // 60,",8,2
openstack%2Fqinling~master~Ib97c3b281377c30008abb9bd2d1fe78c515c91ef,openstack/qinling,master,Ib97c3b281377c30008abb9bd2d1fe78c515c91ef,Add coverage test script,MERGED,2018-02-25 09:24:48.000000000,2018-02-25 09:58:27.000000000,2018-02-25 09:58:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 09:24:48.000000000', 'files': ['tools/cover.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling/commit/44e9752479436efd2a3a8ead257812cfeaf0a1f8', 'message': 'Add coverage test script\n\nStory: 2001595\nTask: 6545\nChange-Id: Ib97c3b281377c30008abb9bd2d1fe78c515c91ef\n'}]",0,547802,44e9752479436efd2a3a8ead257812cfeaf0a1f8,6,2,1,6732,,,0,"Add coverage test script

Story: 2001595
Task: 6545
Change-Id: Ib97c3b281377c30008abb9bd2d1fe78c515c91ef
",git fetch https://review.opendev.org/openstack/qinling refs/changes/02/547802/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/cover.sh', 'tox.ini']",2,44e9752479436efd2a3a8ead257812cfeaf0a1f8,coverage-script, {toxinidir}/tools/cover.sh {posargs}, stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml,67,4
openstack%2Fdevstack~master~Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae,openstack/devstack,master,Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae,Work around with Devstack multinode gate problem,ABANDONED,2018-01-24 08:19:23.000000000,2018-02-25 09:14:28.000000000,,"[{'_account_id': 1}, {'_account_id': 1653}, {'_account_id': 1921}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11536}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-01-24 08:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/40d5e5e1aae37ebc305065aaf66d7bfc1c1a2ee1', 'message': ""Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 2, 'created': '2018-01-24 08:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/58a3168154557686acab818a490f2b76ef0fd8a2', 'message': ""Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 3, 'created': '2018-01-24 08:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/86e1372d288a8315ab03e99edfed8aaf2b9b87be', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 4, 'created': '2018-01-24 13:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/492d0abc0f551444b0601434b80a14dc2578064a', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 5, 'created': '2018-01-25 01:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7c4891707044155641fafc882d777217a11fc8e6', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 6, 'created': '2018-01-25 03:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/84c03c3061cda78e788a3b50fcf0a1dd5487cec3', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 7, 'created': '2018-01-25 03:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/80e25f6bf3d78bdb23e898db690f1fde53eaa918', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 8, 'created': '2018-01-25 04:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac789f1d9eb8df0bc2cbe2b89e774c9768e3eca3', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 9, 'created': '2018-01-25 06:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b16153dcd6a9d3a90e666c1124cb79bda2de513e', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 10, 'created': '2018-01-25 08:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/903034e8a60611c494d92eaceb18713fe059791e', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 11, 'created': '2018-01-25 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/da6177b55608026a9f1c7139082746763f1cdf76', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 12, 'created': '2018-01-26 02:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b65ac30001dc1e7293b422f146faf3aed7de59b', 'message': ""[WIP][DNR] Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode gate failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: Ib84266b86875bf530deedfb466dc965b26e7cab8\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 13, 'created': '2018-01-26 04:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/48f84bc2ce1b9e7c4956e935d14bf3db80d8a5aa', 'message': ""Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode job failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\ntls-proxy is disabled for now, as it produces failures in the job.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: https://review.openstack.org/#/c/528074/\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 14, 'created': '2018-01-26 07:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/09058efe0c5d9a30308afc69a25d452fdff9b899', 'message': ""Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode job failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\ntls-proxy is disabled for now, as it produces failures in the job.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: https://review.openstack.org/#/c/528074/\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}, {'number': 15, 'created': '2018-01-29 01:46:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a9ce0f648535fe070ce92c464cc1b0596f195baf', 'message': ""Work around with Devstack multinode gate problem\n\nMultinode job is currently not working. It has several problems which\nrelate to devstack-gate & devstack procedure. In the legacy multinode gate\nsetup, devstack-gate writes some more variables in subnode's localrc_file\n[1]. These variables will be used in devstack, for example, database [2].\nIn the Zuulv3 native gate, subnode doesn't get these variables so devstack\nmutlinode job failed.\n\nThis patch is just for work around with this problem. We have to change\nthe procedure if we want to do actual fix.\n\ntls-proxy is disabled for now, as it produces failures in the job.\n\n[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588\n[2] https://github.com/openstack-dev/devstack/blob/master/lib/database\n\nDepends-On: https://review.openstack.org/528074\nChange-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae\n""}]",0,537296,a9ce0f648535fe070ce92c464cc1b0596f195baf,60,9,15,22406,,,0,"Work around with Devstack multinode gate problem

Multinode job is currently not working. It has several problems which
relate to devstack-gate & devstack procedure. In the legacy multinode gate
setup, devstack-gate writes some more variables in subnode's localrc_file
[1]. These variables will be used in devstack, for example, database [2].
In the Zuulv3 native gate, subnode doesn't get these variables so devstack
mutlinode job failed.

This patch is just for work around with this problem. We have to change
the procedure if we want to do actual fix.

tls-proxy is disabled for now, as it produces failures in the job.

[1] https://github.com/openstack-infra/devstack-gate/blob/master/devstack-vm-gate.sh#L567-L588
[2] https://github.com/openstack-dev/devstack/blob/master/lib/database

Depends-On: https://review.openstack.org/528074
Change-Id: Iae41d6f7baf6f0f781be4eb47a06a64bf66f8dae
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/537296/14 && git format-patch -1 --stdout FETCH_HEAD,"['.vscode/settings.json', '.zuul.yaml']",2,40d5e5e1aae37ebc305065aaf66d7bfc1c1a2ee1,devstack-multinode, # NOTE(kiennt): Work around with multinode gate problem. # DATABASE_TYPE have to change if another backend is used. DATABASE_TYPE: mysql RABBIT_HOST: controller SERVICE_HOST: controller,,8,0
openstack%2Fvitrage~master~Ief015dde8ada32e7ea2dcc4a79884629786bad9f,openstack/vitrage,master,Ief015dde8ada32e7ea2dcc4a79884629786bad9f,Updated from global requirements,MERGED,2018-02-24 08:48:19.000000000,2018-02-25 09:04:15.000000000,2018-02-25 09:04:15.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 08:48:19.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3239d81ce0563e47c45aec85992a567c25a6f446', 'message': 'Updated from global requirements\n\nChange-Id: Ief015dde8ada32e7ea2dcc4a79884629786bad9f\n'}]",0,547727,3239d81ce0563e47c45aec85992a567c25a6f446,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ief015dde8ada32e7ea2dcc4a79884629786bad9f
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/27/547727/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,3239d81ce0563e47c45aec85992a567c25a6f446,openstack/requirements,stestr>=1.0.0 # Apache-2.0,stestr>=1.0.0 # Apache-2.0,2,2
openstack%2Fkolla-ansible~master~Ifc0f1e356dd6a5c194d00ab20f3122d17c7223cc,openstack/kolla-ansible,master,Ifc0f1e356dd6a5c194d00ab20f3122d17c7223cc,Use rpc_transport_url in blazar,MERGED,2018-02-24 11:48:49.000000000,2018-02-25 08:45:44.000000000,2018-02-25 08:45:44.000000000,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 11:48:49.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c887c93a365243991d3a6b679fff9414bba7a2e4', 'message': 'Use rpc_transport_url in blazar\n\nChange-Id: Ifc0f1e356dd6a5c194d00ab20f3122d17c7223cc\n'}]",0,547749,c887c93a365243991d3a6b679fff9414bba7a2e4,9,5,1,11869,,,0,"Use rpc_transport_url in blazar

Change-Id: Ifc0f1e356dd6a5c194d00ab20f3122d17c7223cc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/547749/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,c887c93a365243991d3a6b679fff9414bba7a2e4,a1,transport_url = {{ rpc_transport_url }},"transport_url = rabbit://{% for host in groups['rabbitmq'] %}{{ rabbitmq_user }}:{{ rabbitmq_password }}@{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ rabbitmq_port }}{% if not loop.last %},{% endif %}{% endfor %}",1,1
openstack%2Fopenstack-ansible~master~Icc5c8af5deba83a6bbd13a221ca5463afcb96e51,openstack/openstack-ansible,master,Icc5c8af5deba83a6bbd13a221ca5463afcb96e51,Replace http with  https in app-resources.rst and delete useless url,MERGED,2018-02-23 17:06:51.000000000,2018-02-25 08:38:05.000000000,2018-02-25 08:38:05.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-23 17:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6830c6462135412e715ba5e4bc34902e6f9efa87', 'message': 'fix the doc link\n\nChange-Id: Icc5c8af5deba83a6bbd13a221ca5463afcb96e51\n'}, {'number': 2, 'created': '2018-02-23 17:20:47.000000000', 'files': ['deploy-guide/source/app-resources.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cfae99d91360d180b15aef595d96dfda0154bb1a', 'message': 'Replace http with  https in app-resources.rst and delete useless url\n\nChange-Id: Icc5c8af5deba83a6bbd13a221ca5463afcb96e51\n'}]",1,547517,cfae99d91360d180b15aef595d96dfda0154bb1a,13,6,2,21486,,,0,"Replace http with  https in app-resources.rst and delete useless url

Change-Id: Icc5c8af5deba83a6bbd13a221ca5463afcb96e51
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/547517/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-resources.rst'],1,6830c6462135412e715ba5e4bc34902e6f9efa87,,- `OpenStack Documentation <https://docs.openstack.org/>`_ <https://developer.openstack.org/api-guide/quick-start>`_ <https://docs.openstack.org/developer>`_,"- `OpenStack Documentation <http://docs.openstack.org>`_ - `OpenStack SDK, CLI and API Documentation <http://developer.openstack.org/>`_ <http://developer.openstack.org/api-guide/quick-start>`_ <http://docs.openstack.org/developer/>`_",3,6
openstack%2Fqinling~master~Ida4b8e30a5ae7023e18b15dc7d43c26a5205bc4e,openstack/qinling,master,Ida4b8e30a5ae7023e18b15dc7d43c26a5205bc4e,engine: fix a typo in default_engine log message,MERGED,2018-02-24 13:08:00.000000000,2018-02-25 08:09:44.000000000,2018-02-25 08:09:44.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 13:08:00.000000000', 'files': ['qinling/engine/default_engine.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/e3c5e70a3a39427a46a6b2f94bfdeb369b57d0cf', 'message': 'engine: fix a typo in default_engine log message\n\nTrivialFix\n\nChange-Id: Ida4b8e30a5ae7023e18b15dc7d43c26a5205bc4e\n'}]",0,547752,e3c5e70a3a39427a46a6b2f94bfdeb369b57d0cf,6,2,1,21781,,,0,"engine: fix a typo in default_engine log message

TrivialFix

Change-Id: Ida4b8e30a5ae7023e18b15dc7d43c26a5205bc4e
",git fetch https://review.opendev.org/openstack/qinling refs/changes/52/547752/1 && git format-patch -1 --stdout FETCH_HEAD,['qinling/engine/default_engine.py'],1,e3c5e70a3a39427a46a6b2f94bfdeb369b57d0cf,trivialfix," LOG.info('Finished scaling down function %s.', function_id)"," LOG.info('Finished scaling up function %s.', function_id)",1,1
openstack%2Fqinling~master~I3802d03bdd2653dd8f48c9a1a24efd63743557da,openstack/qinling,master,I3802d03bdd2653dd8f48c9a1a24efd63743557da,Fix the OpenStack-Helm page does not exist,MERGED,2018-02-25 04:56:48.000000000,2018-02-25 08:08:09.000000000,2018-02-25 08:08:08.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-25 04:56:48.000000000', 'files': ['doc/source/contributor/development-environment-devstack.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/2826144b92b0ffec0569e867f2332b3bb4663d0d', 'message': 'Fix the OpenStack-Helm page does not exist\n\nChange-Id: I3802d03bdd2653dd8f48c9a1a24efd63743557da\n'}]",0,547797,2826144b92b0ffec0569e867f2332b3bb4663d0d,7,3,1,22165,,,0,"Fix the OpenStack-Helm page does not exist

Change-Id: I3802d03bdd2653dd8f48c9a1a24efd63743557da
",git fetch https://review.opendev.org/openstack/qinling refs/changes/97/547797/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/development-environment-devstack.rst'],1,2826144b92b0ffec0569e867f2332b3bb4663d0d,,`OpenStack-Helm <https://docs.openstack.org/openstack-helm/latest/index.html>`_,`OpenStack-Helm <http://openstack-helm.readthedocs.io/en/latest/index.html>`_,1,1
openstack%2Fqinling~master~Ib3c19862024be2deca5d735baccc2dae4eea34d4,openstack/qinling,master,Ib3c19862024be2deca5d735baccc2dae4eea34d4,tests: improve unit tests of runtime API controller,MERGED,2018-02-23 14:31:43.000000000,2018-02-25 08:08:07.000000000,2018-02-25 08:08:07.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-23 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/cf291853d177b62427abbcfd49e7baeb6fa827d6', 'message': 'tests: improve unit tests of runtime API controller\n\nAdd some cases to cover exception raising.\n\nChange-Id: Ib3c19862024be2deca5d735baccc2dae4eea34d4\n'}, {'number': 2, 'created': '2018-02-25 05:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/1ba9c8c75a962e842c4ed7cfa1d8ef42166ca035', 'message': 'tests: improve unit tests of runtime API controller\n\nAdd some cases to cover exception raising.\n\nStory: 2001595\nChange-Id: Ib3c19862024be2deca5d735baccc2dae4eea34d4\n'}, {'number': 3, 'created': '2018-02-25 05:15:40.000000000', 'files': ['qinling/tests/unit/api/controllers/v1/test_runtime.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/cea87235d9f6a4901b77a76c466a8324a939a0b8', 'message': 'tests: improve unit tests of runtime API controller\n\nAdd some cases to cover exception raising.\n\nStory: 2001595\nTask: 6545\nChange-Id: Ib3c19862024be2deca5d735baccc2dae4eea34d4\n'}]",0,547439,cea87235d9f6a4901b77a76c466a8324a939a0b8,10,3,3,21781,,,0,"tests: improve unit tests of runtime API controller

Add some cases to cover exception raising.

Story: 2001595
Task: 6545
Change-Id: Ib3c19862024be2deca5d735baccc2dae4eea34d4
",git fetch https://review.opendev.org/openstack/qinling refs/changes/39/547439/1 && git format-patch -1 --stdout FETCH_HEAD,['qinling/tests/unit/api/controllers/v1/test_runtime.py'],1,cf291853d177b62427abbcfd49e7baeb6fa827d6,unittests," @mock.patch('qinling.rpc.EngineClient.create_runtime') def test_post_without_image(self, mock_create_time): body = { 'name': self.rand_name('runtime', prefix='TestRuntimeController'), } resp = self.app.post_json('/v1/runtimes', body, expect_errors=True) self.assertEqual(400, resp.status_int) mock_create_time.assert_not_called() @mock.patch('qinling.rpc.EngineClient.delete_runtime') def test_delete_runtime_with_function_associated(self, mock_delete_runtime): mock_delete_runtime.assert_not_called() def test_put_image(self, mock_update_runtime): @mock.patch('qinling.utils.etcd_util.get_service_url') @mock.patch('qinling.rpc.EngineClient.update_runtime') def test_put_image_not_allowed(self, mock_update_runtime, mock_etcd_url): mock_etcd_url.return_value = True function_id = self.create_function( self.runtime_id, prefix='TestRuntimeController').id resp = self.app.put_json( '/v1/runtimes/%s' % self.runtime_id, {'image': 'new_image'}, expect_errors=True ) self.assertEqual(403, resp.status_int) mock_update_runtime.assert_not_called() mock_etcd_url.assert_called_once_with(function_id)"," def test_delete_runtime_with_function_associated(self): @mock.patch('qinling.utils.etcd_util.get_service_url') def test_put_image(self, mock_update_runtime, mock_etcd_url):",31,3
openstack%2Fqinling~master~Id09e2202e99a04395dee00ebced6fd60db5b93ff,openstack/qinling,master,Id09e2202e99a04395dee00ebced6fd60db5b93ff,Fix a typo,ABANDONED,2018-02-25 03:43:57.000000000,2018-02-25 04:57:20.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 03:43:57.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/17b194c9b4abc0b26cef77d52d07d9f667fbab0b', 'message': 'Fix a typo\n\nChange-Id: Id09e2202e99a04395dee00ebced6fd60db5b93ff\n'}]",0,547794,17b194c9b4abc0b26cef77d52d07d9f667fbab0b,5,2,1,22165,,,0,"Fix a typo

Change-Id: Id09e2202e99a04395dee00ebced6fd60db5b93ff
",git fetch https://review.opendev.org/openstack/qinling refs/changes/94/547794/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,17b194c9b4abc0b26cef77d52d07d9f667fbab0b,, Shanxi Province in China. The mountains provide a natural boundary between, Shaanxi Province in China. The mountains provide a natural boundary between,1,1
openstack%2Fmistral~master~I9820bdc4792a374dad9ad5310f84cd7aaddab8ca,openstack/mistral,master,I9820bdc4792a374dad9ad5310f84cd7aaddab8ca,Implement notification of execution events,MERGED,2017-05-24 23:24:41.000000000,2018-02-25 04:02:45.000000000,2018-02-25 04:02:45.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2017-05-24 23:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/dff13ce266595d7f875af91180413666d1ae1f40', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 2, 'created': '2017-10-14 01:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/24a6bc5c18ece14e415eb56894e0c214d38614d5', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 3, 'created': '2017-10-18 23:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7485ef96cd9ff5ee0158dfe7c37e64481cba5dcc', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 4, 'created': '2017-10-18 23:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cb7b431b2307e0c6dbb2be82d9046182c590f222', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 5, 'created': '2017-11-03 04:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/afd114d9fa23a1efba710c7fcb90b19e22c602c4', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 6, 'created': '2017-11-03 04:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b2147b25287f38417ac0faafd4855e34af489d53', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 7, 'created': '2018-02-02 01:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/af27d3d887046d7632f6dbdea63fb750df33bf17', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 8, 'created': '2018-02-07 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c2c33ce284e9b629e8605d340beeb03f2129f854', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 9, 'created': '2018-02-07 22:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b061cbb16ef1256c565cd98b4c4779feda6233c6', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 10, 'created': '2018-02-09 22:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1119d46d95ae5997432a34b8aa3abbe689804fee', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 11, 'created': '2018-02-10 04:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0e6199ff6a10c6969c624d230822e5e64bfa7c1b', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 12, 'created': '2018-02-23 08:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/667bd7a92f675c557e48e0a8747c4f00fed1ad44', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for publishing these events for consumers. Event notification is defined per workflow execution and can be configured to notify on all the events or only for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 13, 'created': '2018-02-23 15:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/37b3205eaaa23690f533c50434fac7750960018d', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for\npublishing these events for consumers. Event notification is defined per\nworkflow execution and can be configured to notify on all the events or\nonly for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}, {'number': 14, 'created': '2018-02-24 07:25:55.000000000', 'files': ['mistral/tests/unit/engine/base.py', 'mistral/config.py', 'mistral/notifiers/notification_server.py', 'mistral/notifiers/default_notifier.py', 'mistral/engine/workflows.py', 'mistral/notifiers/publishers/__init__.py', 'mistral/notifiers/publishers/noop.py', 'mistral/rpc/clients.py', 'mistral/tests/unit/notifiers/test_notifier_servers.py', 'mistral/tests/unit/notifiers/test_notify.py', 'mistral/tests/unit/test_launcher.py', 'mistral/api/controllers/v2/resources.py', 'mistral/engine/actions.py', 'mistral/notifiers/remote_notifier.py', 'mistral/api/controllers/v2/execution.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/engine/default_engine.py', 'mistral/notifiers/__init__.py', 'mistral/engine/tasks.py', 'mistral/tests/unit/notifiers/base.py', 'mistral/notifiers/notification_events.py', 'mistral/notifiers/publishers/webhook.py', 'mistral/tests/unit/notifiers/__init__.py', 'mistral/notifiers/base.py', 'mistral/cmd/launch.py', 'mistral/tests/unit/executors/test_server_plugins.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3f48e24dc4948970105020140d8290788cca86c1', 'message': 'Implement notification of execution events\n\nIntroduce execution events and notification server and plugins for\npublishing these events for consumers. Event notification is defined per\nworkflow execution and can be configured to notify on all the events or\nonly for specific events.\n\nChange-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca\nImplements: blueprint mistral-execution-event-subscription\n'}]",71,467799,3f48e24dc4948970105020140d8290788cca86c1,78,11,14,5558,,,0,"Implement notification of execution events

Introduce execution events and notification server and plugins for
publishing these events for consumers. Event notification is defined per
workflow execution and can be configured to notify on all the events or
only for specific events.

Change-Id: I9820bdc4792a374dad9ad5310f84cd7aaddab8ca
Implements: blueprint mistral-execution-event-subscription
",git fetch https://review.opendev.org/openstack/mistral refs/changes/99/467799/6 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/config.py', 'mistral/notification/events.py', 'mistral/engine/workflows.py', 'mistral/notification/notification_server.py', 'mistral/rpc/clients.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/021_add_notify_to_workflow_execution.py', 'mistral/api/controllers/v2/resources.py', 'mistral/notification/base.py', 'mistral/engine/workflow_handler.py', 'mistral/notification/webhook.py', 'mistral/api/controllers/v2/execution.py', 'mistral/cmd/launch.py', 'mistral/tests/unit/api/v2/test_executions.py', 'setup.cfg', 'mistral/notification/__init__.py', 'mistral/engine/default_engine.py']",17,dff13ce266595d7f875af91180413666d1ae1f40,bp/mistral-execution-event-subscription," def start_workflow(self, wf_identifier, wf_input, description='', notify=None, **params): params, notify=notify"," def start_workflow(self, wf_identifier, wf_input, description='', **params): params",386,23
openstack%2Fopenstacksdk~master~I920fee18083d41d0938bbe19b4b7cf7759aece0c,openstack/openstacksdk,master,I920fee18083d41d0938bbe19b4b7cf7759aece0c,Fix coverage running,MERGED,2018-02-24 15:45:42.000000000,2018-02-25 01:55:29.000000000,2018-02-25 01:55:28.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 15:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8c5e08479e43f704916cf75431801c73a1ce61ff', 'message': 'Fix coverage running\n\nThe post coverage job fails, fix invocation - this is not shade but\nopenstacksdk.\n\nPrior to this change, running tox -e cover resulted in:\n...\nCoverage.py warning: Module shade was never imported.\n(module-not-imported)\nCoverage.py warning: No data was collected. (no-data-collected)\n\nAdd temporarly to run as voting to test run.\n\nChange-Id: I920fee18083d41d0938bbe19b4b7cf7759aece0c\n'}, {'number': 2, 'created': '2018-02-24 15:51:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ecf07fb4efce928fe560f44920a8fd2f705664f1', 'message': 'Fix coverage running\n\nThe post coverage job fails, fix invocation - this is not shade but\nopenstacksdk.\n\nPrior to this change, running tox -e cover resulted in:\n...\nCoverage.py warning: Module shade was never imported.\n(module-not-imported)\nCoverage.py warning: No data was collected. (no-data-collected)\n\nChange-Id: I920fee18083d41d0938bbe19b4b7cf7759aece0c\n'}]",0,547761,ecf07fb4efce928fe560f44920a8fd2f705664f1,8,3,2,6547,,,0,"Fix coverage running

The post coverage job fails, fix invocation - this is not shade but
openstacksdk.

Prior to this change, running tox -e cover resulted in:
...
Coverage.py warning: Module shade was never imported.
(module-not-imported)
Coverage.py warning: No data was collected. (no-data-collected)

Change-Id: I920fee18083d41d0938bbe19b4b7cf7759aece0c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/61/547761/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,8c5e08479e43f704916cf75431801c73a1ce61ff,, PYTHON=coverage run --source openstack --parallel-mode, PYTHON=coverage run --source shade --parallel-mode,3,1
openstack%2Frally~master~I98af75bb01fa42a2902a850de1b974abc982d432,openstack/rally,master,I98af75bb01fa42a2902a850de1b974abc982d432,Don't use sitepackages for cli target,MERGED,2018-02-23 22:13:41.000000000,2018-02-25 01:54:43.000000000,2018-02-25 01:54:43.000000000,"[{'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 22:13:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/cf07d6baee47774a24cb7b6114aede4c0c6c3832', 'message': ""Don't use sitepackages for cli target\n\nIt fails on fedora25 with system gssapi package installed with the\nfollowing error:\n\nAttributeError: 'module' object has no attribute 'GSSException'\n\nIt happens because of: https://github.com/paramiko/paramiko/issues/584\nthat will be fixed with https://github.com/paramiko/paramiko/pull/861\nthat is not released or even merged yet.\n\nIt's better to isolate the venv from system libraries that may be\nincompatible with paramiko.\n\nChange-Id: I98af75bb01fa42a2902a850de1b974abc982d432\n""}]",0,547683,cf07d6baee47774a24cb7b6114aede4c0c6c3832,9,4,1,9656,,,0,"Don't use sitepackages for cli target

It fails on fedora25 with system gssapi package installed with the
following error:

AttributeError: 'module' object has no attribute 'GSSException'

It happens because of: https://github.com/paramiko/paramiko/issues/584
that will be fixed with https://github.com/paramiko/paramiko/pull/861
that is not released or even merged yet.

It's better to isolate the venv from system libraries that may be
incompatible with paramiko.

Change-Id: I98af75bb01fa42a2902a850de1b974abc982d432
",git fetch https://review.opendev.org/openstack/rally refs/changes/83/547683/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cf07d6baee47774a24cb7b6114aede4c0c6c3832,540041,,sitepackages = True,0,1
openstack%2Frally~master~I475fd1b0f14af923552d92da87df09c26b81bb7a,openstack/rally,master,I475fd1b0f14af923552d92da87df09c26b81bb7a,[db] Rework 7287df262dbc migration,MERGED,2018-02-22 19:50:43.000000000,2018-02-25 01:54:41.000000000,2018-02-25 01:54:41.000000000,"[{'_account_id': 6172}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 19:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b4de2d5fb4fefe0371eb3b1f7d7bc17627231814', 'message': '[db] Rework 7287df262dbc migration\n\nRally <0.10.0 was hardcoded to support only OpenStack platform. That is\nwhy deployment config had a flat schema (i.e openstack credentials were\nat the same top-level as other properties).\n\nRally 0.10 includes an attempt to unify deployment component for\nsupporting multiple platforms. The deployment config was extended with a\nnew top level property `creds` which was designed to include credentials\nfor different platforms.\nSince Task and Verification components used deployment.credentials object\nfrom database instead of using deployment config directly, Rally 0.10 did\nnot provide a database migration of deployment config.\n\nWhile developing Rally 0.11.0 with new Environment component, we made a\nwrong assumption and forgot about an old format. That is why a\n7287df262dbc migration relied on ""creds"" property of deployment.config\n\nIf the database was created before Rally<0.10, the introduced assumption\nleds to KeyError failure[0] for old deployment configuration:\n\n  File "".../7287df262dbc_move_deployment_to_env.py"", line 137, in upgrade\n       and (set(spec[""creds""]) == {""openstack""}\n  KeyError: \'creds\'\n\nTo fix this issue, we need to disable 7287df262dbc migration, introduce\na new migration for an old deployment format, return the code of\n7287df262dbc in a new migration.\n\nChange-Id: I475fd1b0f14af923552d92da87df09c26b81bb7a\n'}, {'number': 2, 'created': '2018-02-22 20:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/619f66b166124d329b36041019043c0ef0501b62', 'message': '[db] Rework 7287df262dbc migration\n\nRally <0.10.0 was hardcoded to support only OpenStack platform. That is\nwhy deployment config had a flat schema (i.e openstack credentials were\nat the same top-level as other properties).\n\nRally 0.10 includes an attempt to unify deployment component for\nsupporting multiple platforms. The deployment config was extended with a\nnew top level property `creds` which was designed to include credentials\nfor different platforms.\nSince Task and Verification components used deployment.credentials object\nfrom database instead of using deployment config directly, Rally 0.10 did\nnot provide a database migration of deployment config.\n\nWhile developing Rally 0.11.0 with new Environment component, we made a\nwrong assumption and forgot about an old format. That is why a\n7287df262dbc migration relied on ""creds"" property of deployment.config\n\nIf the database was created before Rally<0.10, the introduced assumption\nleds to KeyError failure[0] for old deployment configuration:\n\n  File "".../7287df262dbc_move_deployment_to_env.py"", line 137, in upgrade\n       and (set(spec[""creds""]) == {""openstack""}\n  KeyError: \'creds\'\n\nTo fix this issue, we need to disable 7287df262dbc migration, introduce\na new migration for an old deployment format, return the code of\n7287df262dbc in a new migration.\n\nNOTE: This commit introduces several migrations at once. These\n   migrations have downgrade methods which are not tested(we do not support\n   downgrade, but these methods are mandatory). To make CI happy with these\n   uncovered by unit tests lines we need to temporary increase the magic\n   number in coverage job.\n\nChange-Id: I475fd1b0f14af923552d92da87df09c26b81bb7a\n'}, {'number': 3, 'created': '2018-02-22 22:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7de6dc170dff86b4a6d1c4a5ecf4dce773e61e91', 'message': '[db] Rework 7287df262dbc migration\n\nRally <0.10.0 was hardcoded to support only OpenStack platform. That is\nwhy deployment config had a flat schema (i.e openstack credentials were\nat the same top-level as other properties).\n\nRally 0.10 includes an attempt to unify deployment component for\nsupporting multiple platforms. The deployment config was extended with a\nnew top level property `creds` which was designed to include credentials\nfor different platforms.\nSince Task and Verification components used deployment.credentials object\nfrom database instead of using deployment config directly, Rally 0.10 did\nnot provide a database migration of deployment config.\n\nWhile developing Rally 0.11.0 with new Environment component, we made a\nwrong assumption and forgot about an old format. That is why a\n7287df262dbc migration relied on ""creds"" property of deployment.config\n\nIf the database was created before Rally<0.10, the introduced assumption\nleds to KeyError failure[0] for old deployment configuration:\n\n  File "".../7287df262dbc_move_deployment_to_env.py"", line 137, in upgrade\n       and (set(spec[""creds""]) == {""openstack""}\n  KeyError: \'creds\'\n\nTo fix this issue, we need to disable 7287df262dbc migration, introduce\na new migration for an old deployment format, return the code of\n7287df262dbc in a new migration.\n\nNOTE: This commit introduces several migrations at once. These\n   migrations have downgrade methods which are not tested(we do not support\n   downgrade, but these methods are mandatory). To make CI happy with these\n   uncovered by unit tests lines we need to temporary increase the magic\n   number in coverage job.\n\nChange-Id: I475fd1b0f14af923552d92da87df09c26b81bb7a\n'}, {'number': 4, 'created': '2018-02-23 10:39:18.000000000', 'files': ['tests/ci/cover.sh', 'tests/unit/common/db/test_migrations.py', 'rally/common/db/migrations/versions/7287df262dbc_move_deployment_to_env.py', 'rally/common/db/migrations/versions/bc908ac9a1fc_move_deployment_to_env_2.py', 'rally/common/db/migrations/versions/dc0fe6de6786_update_old_deployment_config.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/415ad6a9efec14b6f527c2a1a8538124b15b4745', 'message': '[db] Rework 7287df262dbc migration\n\nRally <0.10.0 was hardcoded to support only OpenStack platform. That is\nwhy deployment config had a flat schema (i.e openstack credentials were\nat the same top-level as other properties).\n\nRally 0.10 includes an attempt to unify deployment component for\nsupporting multiple platforms. The deployment config was extended with a\nnew top level property `creds` which was designed to include credentials\nfor different platforms.\nSince Task and Verification components used deployment.credentials object\nfrom database instead of using deployment config directly, Rally 0.10 did\nnot provide a database migration of deployment config.\n\nWhile developing Rally 0.11.0 with new Environment component, we made a\nwrong assumption and forgot about an old format. That is why a\n7287df262dbc migration relied on ""creds"" property of deployment.config\n\nIf the database was created before Rally<0.10, the introduced assumption\nleds to KeyError failure[0] for old deployment configuration:\n\n  File "".../7287df262dbc_move_deployment_to_env.py"", line 137, in upgrade\n       and (set(spec[""creds""]) == {""openstack""}\n  KeyError: \'creds\'\n\nTo fix this issue, we need to disable 7287df262dbc migration, introduce\na new migration for an old deployment format, return the code of\n7287df262dbc in a new migration.\n\nNOTE: This commit introduces several migrations at once. These\n   migrations have downgrade methods which are not tested(we do not support\n   downgrade, but these methods are mandatory). To make CI happy with these\n   uncovered by unit tests lines we need to temporary increase the magic\n   number in coverage job.\n\nChange-Id: I475fd1b0f14af923552d92da87df09c26b81bb7a\n'}]",0,547121,415ad6a9efec14b6f527c2a1a8538124b15b4745,17,3,4,9545,,,0,"[db] Rework 7287df262dbc migration

Rally <0.10.0 was hardcoded to support only OpenStack platform. That is
why deployment config had a flat schema (i.e openstack credentials were
at the same top-level as other properties).

Rally 0.10 includes an attempt to unify deployment component for
supporting multiple platforms. The deployment config was extended with a
new top level property `creds` which was designed to include credentials
for different platforms.
Since Task and Verification components used deployment.credentials object
from database instead of using deployment config directly, Rally 0.10 did
not provide a database migration of deployment config.

While developing Rally 0.11.0 with new Environment component, we made a
wrong assumption and forgot about an old format. That is why a
7287df262dbc migration relied on ""creds"" property of deployment.config

If the database was created before Rally<0.10, the introduced assumption
leds to KeyError failure[0] for old deployment configuration:

  File "".../7287df262dbc_move_deployment_to_env.py"", line 137, in upgrade
       and (set(spec[""creds""]) == {""openstack""}
  KeyError: 'creds'

To fix this issue, we need to disable 7287df262dbc migration, introduce
a new migration for an old deployment format, return the code of
7287df262dbc in a new migration.

NOTE: This commit introduces several migrations at once. These
   migrations have downgrade methods which are not tested(we do not support
   downgrade, but these methods are mandatory). To make CI happy with these
   uncovered by unit tests lines we need to temporary increase the magic
   number in coverage job.

Change-Id: I475fd1b0f14af923552d92da87df09c26b81bb7a
",git fetch https://review.opendev.org/openstack/rally refs/changes/21/547121/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/common/db/test_migrations.py', 'rally/common/db/migrations/versions/7287df262dbc_move_deployment_to_env.py', 'rally/common/db/migrations/versions/bc908ac9a1fc_move_deployment_to_env_2.py', 'rally/common/db/migrations/versions/dc0fe6de6786_update_old_deployment_config.py']",4,b4de2d5fb4fefe0371eb3b1f7d7bc17627231814,fix_migration,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""update_old_deployment_config Revision ID: dc0fe6de6786 Revises: 95208e4eface Create Date: 2018-02-22 21:02:41.822469 """""" from alembic import op import sqlalchemy as sa import sqlalchemy.engine.reflection from rally.common.db import sa_types from rally import exceptions # revision identifiers, used by Alembic. revision = ""dc0fe6de6786"" down_revision = ""95208e4eface"" branch_labels = None depends_on = None deployments_helper = sa.Table( ""deployments"", sa.MetaData(), sa.Column(""id"", sa.Integer, primary_key=True, autoincrement=True), sa.Column(""uuid"", sa.String(36), nullable=False), sa.Column(""config"", sa_types.MutableJSONEncodedDict()), ) def upgrade(): connection = op.get_bind() inspector = sa.engine.reflection.Inspector.from_engine(connection) if ""deployments"" not in inspector.get_table_names(): # 7287df262dbc did not fail. nothing to do return for deployment in connection.execute(deployments_helper.select()): config = deployment.config if isinstance(config, dict) and ( config.get(""type"", """") == ""ExistingCloud"" and ""creds"" not in config): extra = config.pop(""extra"") dtype = config.pop(""type"") config = { ""type"": dtype, ""creds"": {""openstack"": config} } if extra is not None: config[""extra""] = extra connection.execute( deployments_helper.update().where( deployments_helper.c.id == deployment.id).values( config=config)) def downgrade(): raise exceptions.DowngradeNotSupported() ",,419,211
openstack%2Fnetworking-ovn~stable%2Fpike~I3965ae61fb5ba7dda07bb797a09383a6c35f589e,openstack/networking-ovn,stable/pike,I3965ae61fb5ba7dda07bb797a09383a6c35f589e,Fix race condition on ovn_client on startup,MERGED,2018-02-23 11:12:35.000000000,2018-02-25 01:45:50.000000000,2018-02-25 01:45:50.000000000,"[{'_account_id': 748}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 11:12:35.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0744187767d80880b35343a590dd03aa02ea7a5a', 'message': ""Fix race condition on ovn_client on startup\n\nOn startup, when we initialize the IDL we start receiving notifications\nright away and processing them. There's a possibility that even though\nthe IDLs are initialized, post_fork_initialize has not yet created the\novn_client object resulting in an exception (and also possible missing\nDB updates) if attempted to be used.\n\nThis patch fixes this by converting ovn_client object in mech driver\ninto a property which initializes it if doesn't exist yet.\n\nChange-Id: I3965ae61fb5ba7dda07bb797a09383a6c35f589e\nCloses-Bug: #1731288\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 48e9101d6850de63ae3c4a117c13876c47392006)\n""}]",0,547376,0744187767d80880b35343a590dd03aa02ea7a5a,7,3,1,23804,,,0,"Fix race condition on ovn_client on startup

On startup, when we initialize the IDL we start receiving notifications
right away and processing them. There's a possibility that even though
the IDLs are initialized, post_fork_initialize has not yet created the
ovn_client object resulting in an exception (and also possible missing
DB updates) if attempted to be used.

This patch fixes this by converting ovn_client object in mech driver
into a property which initializes it if doesn't exist yet.

Change-Id: I3965ae61fb5ba7dda07bb797a09383a6c35f589e
Closes-Bug: #1731288
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 48e9101d6850de63ae3c4a117c13876c47392006)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/76/547376/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py']",2,0744187767d80880b35343a590dd03aa02ea7a5a,bug/1731288-stable/pike,"import threading self._ovn_client_inst = None self._post_fork_event = threading.Event() @property def _ovn_client(self): if self._ovn_client_inst is None: if not(self._nb_ovn and self._sb_ovn): # Wait until the post_fork_initialize method has finished and # IDLs have been correctly setup. self._post_fork_event.wait() self._ovn_client_inst = ovn_client.OVNClient(self._nb_ovn, self._sb_ovn) return self._ovn_client_inst self._post_fork_event.clear() self._post_fork_event.set() "," self._ovn_client = None self._ovn_client = ovn_client.OVNClient(self._nb_ovn, self._sb_ovn)",18,14
openstack%2Fnetworking-ovn~stable%2Fpike~I8b1552f5adfef4f3fb114445b463a4c77b25ac9c,openstack/networking-ovn,stable/pike,I8b1552f5adfef4f3fb114445b463a4c77b25ac9c,Initialize privsep in networking-ovn-metadata-agent,MERGED,2018-02-23 11:09:49.000000000,2018-02-25 01:45:48.000000000,2018-02-25 01:45:48.000000000,"[{'_account_id': 748}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 11:09:49.000000000', 'files': ['networking_ovn/agent/metadata_agent.py', 'networking_ovn/conf/agent/metadata/config.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/299fe30a7efb8b92ff109c0b9c3de8dc81bcf671', 'message': ""Initialize privsep in networking-ovn-metadata-agent\n\nWe were not initializing privsep in the metadata agent so we weren't\nusing any root helper to call it. In devstack this is not a problem\nsince 'stack' user can execute anything but in TripleO deployments\nit won't work since user 'neutron' is only allowed to execute commands\nthrough rootwrap/rootwrap-daemon. This patch initializes privsep which\nwhatever root_helper is configured.\n\nChange-Id: I8b1552f5adfef4f3fb114445b463a4c77b25ac9c\nCloses-Bug: #1737587\n(cherry picked from commit 688c34a2dd0f6ab25a3f295a9c5e39522cbb4c7e)\n""}]",0,547375,299fe30a7efb8b92ff109c0b9c3de8dc81bcf671,7,3,1,23804,,,0,"Initialize privsep in networking-ovn-metadata-agent

We were not initializing privsep in the metadata agent so we weren't
using any root helper to call it. In devstack this is not a problem
since 'stack' user can execute anything but in TripleO deployments
it won't work since user 'neutron' is only allowed to execute commands
through rootwrap/rootwrap-daemon. This patch initializes privsep which
whatever root_helper is configured.

Change-Id: I8b1552f5adfef4f3fb114445b463a4c77b25ac9c
Closes-Bug: #1737587
(cherry picked from commit 688c34a2dd0f6ab25a3f295a9c5e39522cbb4c7e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/75/547375/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata_agent.py', 'networking_ovn/conf/agent/metadata/config.py']",2,299fe30a7efb8b92ff109c0b9c3de8dc81bcf671,bug/1737587-stable/pike,import shlexfrom oslo_privsep import priv_context def get_root_helper(conf): return conf.AGENT.root_helper def setup_privsep(): priv_context.init(root_helper=shlex.split(get_root_helper(cfg.CONF))),,11,0
openstack%2Fopenstack-helm-infra~master~I4332bcfdf11197488e7bd5d8cf4c25565ea1c7b6,openstack/openstack-helm-infra,master,I4332bcfdf11197488e7bd5d8cf4c25565ea1c7b6,dependencies: move dynamic common deps under a 'dynamic.common' key,MERGED,2018-02-23 18:55:16.000000000,2018-02-25 01:32:53.000000000,2018-02-25 01:32:52.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 25731}]","[{'number': 1, 'created': '2018-02-23 18:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6b6a633f4a4de46dcdb092d7e94374a7af6970a', 'message': ""dependencies: move dynamic common deps under a 'dynamic.common' key\n\nThis PS moves existing dynamic common dependencies under a\n'dynamic.common' key to simplify the yaml tree.\n\nChange-Id: I4332bcfdf11197488e7bd5d8cf4c25565ea1c7b6\n""}, {'number': 2, 'created': '2018-02-24 22:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e0735348a09df9589458da9d47aa04d054285f2', 'message': ""dependencies: move dynamic common deps under a 'dynamic.common' key\n\nThis PS moves existing dynamic common dependencies under a\n'dynamic.common' key to simplify the yaml tree.\n\nChange-Id: I4332bcfdf11197488e7bd5d8cf4c25565ea1c7b6\n""}, {'number': 3, 'created': '2018-02-24 22:42:18.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'elasticsearch/templates/deployment-master.yaml', 'elasticsearch/values.yaml', 'nfs-provisioner/templates/deployment.yaml', 'registry/templates/job-bootstrap.yaml', 'grafana/templates/deployment.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'fluent-logging/values.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'redis/templates/deployment.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'tiller/templates/deployment-tiller.yaml', 'flannel/values.yaml', 'prometheus-alertmanager/values.yaml', 'registry/templates/deployment-registry.yaml', 'calico/templates/daemonset-calico-node.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'kibana/templates/deployment.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'grafana/values.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'nfs-provisioner/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'calico/values.yaml', 'kube-dns/templates/deployment-kube-dns.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'flannel/templates/daemonset-kube-flannel-ds.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c101a6324a721ca5cf115c622aa535658bba534', 'message': ""dependencies: move dynamic common deps under a 'dynamic.common' key\n\nThis PS moves existing dynamic common dependencies under a\n'dynamic.common' key to simplify the yaml tree.\n\nChange-Id: I4332bcfdf11197488e7bd5d8cf4c25565ea1c7b6\n""}]",2,547648,3c101a6324a721ca5cf115c622aa535658bba534,15,5,3,23928,,,0,"dependencies: move dynamic common deps under a 'dynamic.common' key

This PS moves existing dynamic common dependencies under a
'dynamic.common' key to simplify the yaml tree.

Change-Id: I4332bcfdf11197488e7bd5d8cf4c25565ea1c7b6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/547648/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'elasticsearch/templates/deployment-master.yaml', 'elasticsearch/values.yaml', 'nfs-provisioner/templates/deployment.yaml', 'registry/templates/job-bootstrap.yaml', 'grafana/templates/deployment.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'fluent-logging/values.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'redis/templates/deployment.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'tiller/templates/deployment-tiller.yaml', 'flannel/values.yaml', 'prometheus-alertmanager/values.yaml', 'registry/templates/deployment-registry.yaml', 'calico/templates/daemonset-calico-node.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'kibana/templates/deployment.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'grafana/values.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'nfs-provisioner/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'calico/values.yaml', 'kube-dns/templates/deployment-kube-dns.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'flannel/templates/daemonset-kube-flannel-ds.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kibana/values.yaml']",39,f6b6a633f4a4de46dcdb092d7e94374a7af6970a,dep/sanity, dynamic: common: local_image_registry: jobs: - kibana-image-repo-sync services: - endpoint: node service: local_image_registry,conditional_dependencies: local_image_registry: jobs: - kibana-image-repo-sync services: - service: local_image_registry endpoint: node ,144,149
openstack%2Fopenstack-helm-infra~master~Ia0e853564955e0fbbe5a9e91a8b8924c703b1b02,openstack/openstack-helm-infra,master,Ia0e853564955e0fbbe5a9e91a8b8924c703b1b02,dependencies: move static dependencies under a 'static' key,MERGED,2018-02-23 18:36:19.000000000,2018-02-25 01:32:51.000000000,2018-02-25 01:32:51.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 25731}]","[{'number': 1, 'created': '2018-02-23 18:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb4f4476368242eeda343dc6bc90cbe5c5f20302', 'message': ""dependencies: move static dependencies under a 'static' key\n\nThis PS moves static dependencies unser a 'static' key to allow\nexpansion to cover dynamic dependencies.\n\nChange-Id: Ia0e853564955e0fbbe5a9e91a8b8924c703b1b02\n""}, {'number': 2, 'created': '2018-02-24 22:40:02.000000000', 'files': ['kube-dns/templates/job-image-repo-sync.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-curator.yaml', 'calico/templates/job-image-repo-sync.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'tiller/templates/job-image-repo-sync.yaml', 'fluent-logging/values.yaml', 'redis/templates/deployment.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'prometheus-alertmanager/values.yaml', 'grafana/templates/job-db-session-sync.yaml', 'calico/templates/daemonset-calico-node.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'kibana/templates/deployment.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'grafana/templates/job-db-init-session.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'tools/gate/chart-deploys/default.yaml', 'calico/templates/job-calico-settings.yaml', 'fluent-logging/templates/job-image-repo-sync.yaml', 'fluent-logging/templates/monitoring/prometheus/exporter-deployment.yaml', 'nfs-provisioner/templates/job-image-repo-sync.yaml', 'prometheus/values.yaml', 'calico/values.yaml', 'flannel/templates/job-image-repo-sync.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'tiller/values.yaml', 'flannel/templates/daemonset-kube-flannel-ds.yaml', 'grafana/templates/job-prometheus-datasource.yaml', 'prometheus-openstack-exporter/values.yaml', 'elasticsearch/templates/deployment-master.yaml', 'prometheus/templates/job-image-repo-sync.yaml', 'nfs-provisioner/templates/deployment.yaml', 'registry/templates/job-bootstrap.yaml', 'grafana/templates/deployment.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'redis/templates/job-image-repo-sync.yaml', 'grafana/templates/job-db-init.yaml', 'prometheus-openstack-exporter/templates/job-image-repo-sync.yaml', 'grafana/templates/job-image-repo-sync.yaml', 'kibana/templates/job-image-repo-sync.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'tiller/templates/deployment-tiller.yaml', 'flannel/values.yaml', 'registry/templates/deployment-registry.yaml', 'prometheus-node-exporter/templates/job-image-repo-sync.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'fluent-logging/templates/job-elasticsearch-template.yaml', 'prometheus-kube-state-metrics/templates/job-image-repo-sync.yaml', 'grafana/values.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'registry/values.yaml', 'nfs-provisioner/values.yaml', 'redis/values.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'elasticsearch/templates/job-image-repo-sync.yaml', 'kube-dns/templates/deployment-kube-dns.yaml', 'prometheus-node-exporter/values.yaml', 'prometheus-alertmanager/templates/job-image-repo-sync.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0c688d7eeada1cc5a2c5b7a301dc583ff180c28', 'message': ""dependencies: move static dependencies under a 'static' key\n\nThis PS moves static dependencies unser a 'static' key to allow\nexpansion to cover dynamic dependencies.\n\nChange-Id: Ia0e853564955e0fbbe5a9e91a8b8924c703b1b02\n""}]",0,547645,e0c688d7eeada1cc5a2c5b7a301dc583ff180c28,13,5,2,23928,,,0,"dependencies: move static dependencies under a 'static' key

This PS moves static dependencies unser a 'static' key to allow
expansion to cover dynamic dependencies.

Change-Id: Ia0e853564955e0fbbe5a9e91a8b8924c703b1b02
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/547645/2 && git format-patch -1 --stdout FETCH_HEAD,"['kube-dns/templates/job-image-repo-sync.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-curator.yaml', 'calico/templates/job-image-repo-sync.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'tiller/templates/job-image-repo-sync.yaml', 'fluent-logging/values.yaml', 'redis/templates/deployment.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'prometheus-alertmanager/values.yaml', 'grafana/templates/job-db-session-sync.yaml', 'calico/templates/daemonset-calico-node.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'kibana/templates/deployment.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'grafana/templates/job-db-init-session.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'calico/templates/job-calico-settings.yaml', 'fluent-logging/templates/job-image-repo-sync.yaml', 'fluent-logging/templates/monitoring/prometheus/exporter-deployment.yaml', 'nfs-provisioner/templates/job-image-repo-sync.yaml', 'prometheus/values.yaml', 'calico/values.yaml', 'flannel/templates/job-image-repo-sync.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'tiller/values.yaml', 'flannel/templates/daemonset-kube-flannel-ds.yaml', 'grafana/templates/job-prometheus-datasource.yaml', 'prometheus-openstack-exporter/values.yaml', 'elasticsearch/templates/deployment-master.yaml', 'prometheus/templates/job-image-repo-sync.yaml', 'nfs-provisioner/templates/deployment.yaml', 'registry/templates/job-bootstrap.yaml', 'grafana/templates/deployment.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'redis/templates/job-image-repo-sync.yaml', 'grafana/templates/job-db-init.yaml', 'prometheus-openstack-exporter/templates/job-image-repo-sync.yaml', 'grafana/templates/job-image-repo-sync.yaml', 'kibana/templates/job-image-repo-sync.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'tiller/templates/deployment-tiller.yaml', 'flannel/values.yaml', 'registry/templates/deployment-registry.yaml', 'prometheus-node-exporter/templates/job-image-repo-sync.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'fluent-logging/templates/job-elasticsearch-template.yaml', 'prometheus-kube-state-metrics/templates/job-image-repo-sync.yaml', 'grafana/values.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'registry/values.yaml', 'nfs-provisioner/values.yaml', 'redis/values.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'elasticsearch/templates/job-image-repo-sync.yaml', 'kube-dns/templates/deployment-kube-dns.yaml', 'prometheus-node-exporter/values.yaml', 'prometheus-alertmanager/templates/job-image-repo-sync.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kibana/values.yaml']",65,bb4f4476368242eeda343dc6bc90cbe5c5f20302,dep/sanity, static: image_repo_sync: services: - endpoint: internal service: local_image_registry kibana: services: - endpoint: internal service: elasticsearch, kibana: services: - service: elasticsearch endpoint: internal image_repo_sync: services: - service: local_image_registry endpoint: internal,300,284
openstack%2Fproject-config~master~I244ef2c158af2b847afa9423f445054365421336,openstack/project-config,master,I244ef2c158af2b847afa9423f445054365421336,Add publish-to-pypi job for monasca-tempest-plugin,MERGED,2018-02-23 12:19:49.000000000,2018-02-25 01:19:27.000000000,2018-02-25 01:19:27.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 12:19:49.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e77ef86c2a94764e9c446758b6bb4ee9b62022fa', 'message': 'Add publish-to-pypi job for monasca-tempest-plugin\n\nChange-Id: I244ef2c158af2b847afa9423f445054365421336\n'}]",0,547406,e77ef86c2a94764e9c446758b6bb4ee9b62022fa,7,3,1,16222,,,0,"Add publish-to-pypi job for monasca-tempest-plugin

Change-Id: I244ef2c158af2b847afa9423f445054365421336
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/547406/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,e77ef86c2a94764e9c446758b6bb4ee9b62022fa,, - publish-to-pypi,,1,0
openstack%2Fpython-openstackclient~master~I4265f7f8598d028191e90d76781b7b6ece6fef64,openstack/python-openstackclient,master,I4265f7f8598d028191e90d76781b7b6ece6fef64,Add support for endpoint group commands,MERGED,2017-11-16 15:44:53.000000000,2018-02-25 01:05:18.000000000,2018-02-25 01:05:18.000000000,"[{'_account_id': 970}, {'_account_id': 5575}, {'_account_id': 6482}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-16 15:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0f6d67eed97bf5343cdffa34baf7982d57d6d240', 'message': 'Add support for endpoing group commands\n\nImplements the commands for endpoint group filter management.\nIncludes the CRUD management of the endpoint groups and the\nassociation management between them and the projects that are\nusing this method.\n\nImplements: blueprint keystone-endpoint-filter\nChange-Id: I4265f7f8598d028191e90d76781b7b6ece6fef64\n'}, {'number': 2, 'created': '2018-02-22 12:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/72dee3bfd2f39af85f14be8bf3ab768b54e5096e', 'message': 'Add support for endpoint group commands\n\nImplements the commands for endpoint group filter management.\nIncludes the CRUD management of the endpoint groups and the\nassociation management between them and the projects that are\nusing this method.\n\nImplements: blueprint keystone-endpoint-filter\nChange-Id: I4265f7f8598d028191e90d76781b7b6ece6fef64\n'}, {'number': 3, 'created': '2018-02-23 09:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c99077dc3b4880992d6bd7b4d98b047b8f80ce8c', 'message': 'Add support for endpoint group commands\n\nImplements the commands for endpoint group filter management.\nIncludes the CRUD management of the endpoint groups and the\nassociation management between them and the projects that are\nusing this method.\n\nImplements: blueprint keystone-endpoint-filter\nChange-Id: I4265f7f8598d028191e90d76781b7b6ece6fef64\n'}, {'number': 4, 'created': '2018-02-23 20:37:00.000000000', 'files': ['releasenotes/notes/keystone-endpoint-group-0c55debbb66844f2.yaml', 'openstackclient/identity/v3/endpoint_group.py', 'doc/source/cli/commands.rst', 'doc/source/cli/command-objects/endpoint_group.rst', 'openstackclient/tests/unit/identity/v3/fakes.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1eae301c4fab30c551ed7542cdaf8735cbbc3822', 'message': 'Add support for endpoint group commands\n\nImplements the commands for endpoint group filter management.\nIncludes the CRUD management of the endpoint groups and the\nassociation management between them and the projects that are\nusing this method.\n\nImplements: blueprint keystone-endpoint-filter\nChange-Id: I4265f7f8598d028191e90d76781b7b6ece6fef64\n'}]",15,520627,1eae301c4fab30c551ed7542cdaf8735cbbc3822,21,5,4,5575,,,0,"Add support for endpoint group commands

Implements the commands for endpoint group filter management.
Includes the CRUD management of the endpoint groups and the
association management between them and the projects that are
using this method.

Implements: blueprint keystone-endpoint-filter
Change-Id: I4265f7f8598d028191e90d76781b7b6ece6fef64
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/27/520627/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/commands.rst', 'openstackclient/identity/v3/endpoint_group.py', 'doc/source/cli/command-objects/endpoint_group.rst', 'openstackclient/tests/unit/identity/v3/fakes.py', 'setup.cfg']",5,0f6d67eed97bf5343cdffa34baf7982d57d6d240,bp/keystone-endpoint-filter, endpoint_group_create = openstackclient.identity.v3.endpoint_group:CreateEndpointGroup endpoint_group_delete = openstackclient.identity.v3.endpoint_group:DeleteEndpointGroup endpoint_group_set = openstackclient.identity.v3.endpoint_group:SetEndpointGroup endpoint_group_show = openstackclient.identity.v3.endpoint_group:ShowEndpointGroup endpoint_group_list = openstackclient.identity.v3.endpoint_group:ListEndpointGroup endpoint_group_add_project = openstackclient.identity.v3.endpoint_group:AddProjectToEndpointGroup endpoint_group_remove_project = openstackclient.identity.v3.endpoint_group:RemoveProjectFromEndpointGroup ,,378,0
openstack%2Fpython-openstackclient~master~I31cfef3e76dcefe299dacb00c11bb1a10a252628,openstack/python-openstackclient,master,I31cfef3e76dcefe299dacb00c11bb1a10a252628,Add project tags functionality,MERGED,2017-07-06 21:22:26.000000000,2018-02-25 01:05:16.000000000,2018-02-25 01:05:16.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11589}, {'_account_id': 19944}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22604}, {'_account_id': 23659}]","[{'number': 1, 'created': '2017-07-06 21:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c1991c787bbe494ec2a65c2a937e3c8096f7dcdd', 'message': 'WIP - Add project tags functionality\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 2, 'created': '2017-07-19 17:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d6d22f8b6bcc6ed7be83f6eb15397644929deeb4', 'message': 'Add project tags functionality\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 3, 'created': '2017-08-01 17:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2797c6710697dd3a005904e096f12cccb241d2c8', 'message': 'Add project tags functionality\n\nThis change adds basic tags functionality for projects.\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 4, 'created': '2017-08-01 21:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2196a6821787af2a624b7fa152d896d339dc5342', 'message': 'Add project tags functionality\n\nThis change adds basic tags functionality for projects.\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 5, 'created': '2017-08-03 18:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1bd358246b260b1b60074d1aa37321887d403b9f', 'message': 'Add project tags functionality\n\nThis change adds basic tags functionality for projects. A user\ncan add a single tag with ""--tag"" or repeat ""--tag"" to add multiple\ntags while overriding the current list.\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 6, 'created': '2017-08-28 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ffd2f9bb3e5b1abdbc6a3efb9990109ebd5a3371', 'message': 'Add project tags functionality\n\nThis change adds basic tags functionality for projects. A user\ncan add a single tag with ""--tag"" or repeat ""--tag"" to add multiple\ntags while overriding the current list.\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 7, 'created': '2017-08-28 14:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/895b4feba40aef57268c0f3782c63522e38d680f', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 8, 'created': '2017-08-28 15:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/abd93b06726e26b5e1f6374b704e1337a175aa78', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 9, 'created': '2017-08-28 19:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/81bc7faa4986c19e6caef50cf430cd8bf5fa92e6', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 10, 'created': '2017-08-28 20:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cbc227c57722fb27cad05224daa8822b966e2f01', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 11, 'created': '2017-12-20 22:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1607c242849b93b8182da35a2a57b50ee023ac8f', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 12, 'created': '2018-01-04 21:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ec26ed2e40ceecfc234cda64cfc07dfb61256424', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 13, 'created': '2018-01-10 19:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9cd210538181e18cba8bc89f702a764118bfdf9f', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 14, 'created': '2018-01-24 15:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ac5504c6c5fd1d4cd2409c2220b8756f1de4c941', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 15, 'created': '2018-01-24 16:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/67aa773d3726aa8ec398cbe0f8aa5c50b887a091', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}, {'number': 16, 'created': '2018-02-23 20:27:22.000000000', 'files': ['doc/source/cli/command-objects/project.rst', 'openstackclient/identity/v3/project.py', 'releasenotes/notes/bp-project-tags-b544aef9672d415b.yaml', 'openstackclient/tests/unit/identity/v3/fakes.py', 'openstackclient/tests/unit/identity/v3/test_domain.py', 'openstackclient/tests/unit/identity/v3/test_project.py', 'openstackclient/identity/v3/tag.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d32664150fbc00340f3ff4304c13abf9a191299a', 'message': 'Add project tags functionality\n\nThis change adds tags functionality for projects in keystone. A user\ncan add a single tag with ""--tag"", chain ""--tag"" to add multiple\ntags, or clear tags with ""--no-tag"".\n\nChange-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628\nPartially-Implements: bp project-tags\n'}]",44,481284,d32664150fbc00340f3ff4304c13abf9a191299a,63,12,16,21420,,,0,"Add project tags functionality

This change adds tags functionality for projects in keystone. A user
can add a single tag with ""--tag"", chain ""--tag"" to add multiple
tags, or clear tags with ""--no-tag"".

Change-Id: I31cfef3e76dcefe299dacb00c11bb1a10a252628
Partially-Implements: bp project-tags
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/481284/16 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/project.py', 'openstackclient/tests/unit/identity/v3/fakes.py', 'openstackclient/tests/unit/identity/v3/test_domain.py', 'openstackclient/tests/unit/identity/v3/test_project.py']",4,c1991c787bbe494ec2a65c2a937e3c8096f7dcdd,bp/project-tags," 'tags' self.project.tags ('tags', []) 'tags' self.project.tags ('tags', []) ('tags', []) ('tags', []) ('tags', []) ('tags', []) 'tags' self.project.tags 'tags' self.project.tags 'tags' self.project.tags 'tags' self.project.tags 'tags' self.project.tags",,43,1
openstack%2Fopenstack-helm-infra~master~Ie2bef28e0428870e529d71717c9eeea51ac445aa,openstack/openstack-helm-infra,master,Ie2bef28e0428870e529d71717c9eeea51ac445aa,Update rabbitmq dashboard to support multiple deployments,MERGED,2018-02-16 14:49:32.000000000,2018-02-24 23:15:02.000000000,2018-02-24 23:15:02.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-16 14:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fa9187e53f5d50006561888a7a6cc753e2d13ca', 'message': 'WIP: Update rabbitmq dashboard to support multiple deployments\n\nAdds the necessary changes to allow grafana to display metrics for\nmultiple rabbitmq-exporter deployments, in the cases where\nmultiple rabbitmq instances are deployed\n\nChange-Id: Ie2bef28e0428870e529d71717c9eeea51ac445aa\n'}, {'number': 2, 'created': '2018-02-16 17:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62cb7bd0fd44d82fb369b4645c60f31e1fa7f9fa', 'message': 'Update rabbitmq dashboard to support multiple deployments\n\nAdds the necessary changes to allow grafana to display metrics for\nmultiple rabbitmq-exporter deployments, in the cases where\nmultiple rabbitmq instances are deployed\n\nChange-Id: Ie2bef28e0428870e529d71717c9eeea51ac445aa\n'}, {'number': 3, 'created': '2018-02-16 17:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9b83a7537facf2cc8a0ce8adddb71810a981cfd0', 'message': 'Update rabbitmq dashboard to support multiple deployments\n\nAdds the necessary changes to allow grafana to display metrics for\nmultiple rabbitmq-exporter deployments, in the cases where\nmultiple rabbitmq instances are deployed\n\nChange-Id: Ie2bef28e0428870e529d71717c9eeea51ac445aa\n'}, {'number': 4, 'created': '2018-02-22 20:20:46.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a1c2fc3bea6885afa54e6a1ebba7c832f1550e6', 'message': 'Update rabbitmq dashboard to support multiple deployments\n\nAdds the necessary changes to allow grafana to display metrics for\nmultiple rabbitmq-exporter deployments, in the cases where\nmultiple rabbitmq instances are deployed\n\nChange-Id: Ie2bef28e0428870e529d71717c9eeea51ac445aa\n'}]",3,545350,7a1c2fc3bea6885afa54e6a1ebba7c832f1550e6,23,4,4,17591,,,0,"Update rabbitmq dashboard to support multiple deployments

Adds the necessary changes to allow grafana to display metrics for
multiple rabbitmq-exporter deployments, in the cases where
multiple rabbitmq instances are deployed

Change-Id: Ie2bef28e0428870e529d71717c9eeea51ac445aa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/545350/4 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,7fa9187e53f5d50006561888a7a6cc753e2d13ca,fix_rabbit_dashboard," - expr: rabbitmq_running{release_group=""$rabbit""} - expr: rabbitmq_exchangesTotal{release_group=""$rabbit""} - expr: rabbitmq_channelsTotal{release_group=""$rabbit""} - expr: rabbitmq_consumersTotal{release_group=""$rabbit""} - expr: rabbitmq_connectionsTotal{release_group=""$rabbit""} - expr: rabbitmq_queuesTotal{release_group=""$rabbit""} - expr: sum by (vhost)(rabbitmq_queue_messages_ready{release_group=""$rabbit""}) - expr: sum by (vhost)(rabbitmq_queue_messages_published_total{release_group=""$rabbit""}) - expr: sum by (vhost)(rabbitmq_queue_messages_delivered_total{release_group=""$rabbit""}) - expr: sum by (vhost)(rabbitmq_queue_messages_unacknowledged{release_group=""$rabbit""}) - expr: rabbitmq_queue_messages{release_group=""$rabbit""} - expr: rabbitmq_node_mem_used{release_group=""$rabbit""} - expr: rabbitmq_node_mem_limit{release_group=""$rabbit""} - expr: rabbitmq_fd_used{release_group=""$rabbit""} - expr: rabbitmq_fd_total{release_group=""$rabbit""} - expr: rabbitmq_sockets_used{release_group=""$rabbit""} - expr: rabbitmq_sockets_total{release_group=""$rabbit""} - current: {} hide: 0 label: null name: rabbit options: [] type: query query: label_values(rabbitmq_up, release_group) refresh: 1 sort: 1 datasource: prometheus", - expr: rabbitmq_running - expr: rabbitmq_exchangesTotal - expr: rabbitmq_channelsTotal - expr: rabbitmq_consumersTotal - expr: rabbitmq_connectionsTotal - expr: rabbitmq_queuesTotal - expr: sum by (vhost)(rabbitmq_queue_messages_ready) - expr: sum by (vhost)(rabbitmq_queue_messages_published_total) - expr: sum by (vhost)(rabbitmq_queue_messages_delivered_total) - expr: sum by (vhost)(rabbitmq_queue_messages_unacknowledged) - expr: rabbitmq_queue_messages - expr: rabbitmq_node_mem_used - expr: rabbitmq_node_mem_limit - expr: rabbitmq_fd_used - expr: rabbitmq_fd_total - expr: rabbitmq_sockets_used - expr: rabbitmq_sockets_total,27,17
openstack%2Fkuryr-kubernetes~master~Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1,openstack/kuryr-kubernetes,master,Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1,Revert commits to use UID instead of SelfLink,MERGED,2018-02-12 06:53:52.000000000,2018-02-24 23:11:04.000000000,2018-02-24 23:11:04.000000000,"[{'_account_id': 6598}, {'_account_id': 10068}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27824}]","[{'number': 1, 'created': '2018-02-12 06:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/09dacb87b98da82e849f84fe3bb752e4759a5c15', 'message': 'Fix selfLink bug\n\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 2, 'created': '2018-02-12 06:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/69682085bc8f5e8f3cd684b5ac1f9a7f28c9e0c4', 'message': 'Fix selfLink bug\n\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 3, 'created': '2018-02-12 07:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5a7b80cb1a35cd0f6232375da9c57656bfd03ead', 'message': 'Fix selfLink bug\n\nLink Bug: #1748819\n\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 4, 'created': '2018-02-12 07:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/383f9d98187f4261399b1e57d65f7a7b3980ca60', 'message': 'Fix selfLink bug\n\nCloses-Bug: #1748819\n\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 5, 'created': '2018-02-12 07:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3f0ed54d46f4fdc93cddbaa2ab345bc543aedc8a', 'message': ""Kuryr-controller drops deletion event of the different object\n\nThis commit changes the dropping event logic for selfLink-based\nevent queue. The different objects with same selfLink shared\nthe same event queue grouped by k8s selfLink. It raises the\nbug which is dropping old object event with current logic.\n\nThis commit filters the deletion event so as not to drop\nthe old object's last event.\n\nCloses-Bug: #1748819\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n""}, {'number': 6, 'created': '2018-02-12 07:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/973172c963a85d54dea75c8bdccf31921e6a6f1a', 'message': ""Kuryr-controller no longer drops deletion event of the different object\n\nThis commit changes the dropping event logic for selfLink-based\nevent queue. The different objects with same selfLink shared\nthe same event queue grouped by k8s selfLink. It raises the\nbug which is dropping old object event with current logic.\n\nThis commit filters the deletion event so as not to drop\nthe old object's last event.\n\nCloses-Bug: #1748819\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n""}, {'number': 7, 'created': '2018-02-12 07:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d5798c22e4e6fa67a379fb0d78ad90f111c74565', 'message': ""Kuryr-controller no longer drops deletion event of the different object\n\nThis commit changes the dropping event logic for selfLink-based\nevent queue. The different objects with same selfLink shared\nthe same event queue grouped by k8s selfLink. It raises the\nbug which is dropping old object event with current logic.\n\nThis commit filters the deletion event so as not to drop\nthe old object's last event.\n\nCloses-Bug: 1748819\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n""}, {'number': 8, 'created': '2018-02-12 08:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/41c46a755f424c4ac99fff5bbde71b55583151fa', 'message': ""Kuryr-controller no longer drops deletion event of the different object\n\nThis commit changes the dropping event logic for selfLink-based\nevent queue. The different objects with same selfLink shared\nthe same event queue grouped by k8s selfLink. It raises the\nbug which is dropping old object event with current logic.\n\nThis commit filters the deletion event so as not to drop\nthe old object's last event.\n\nCloses-Bug: 1748836\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n""}, {'number': 9, 'created': '2018-02-12 09:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0cfb1875e49600965e569f6cee2197a36e03b56a', 'message': ""Kuryr-controller no longer drops deletion event of the different object\n\nThis commit changes the dropping event logic for selfLink-based\nevent queue. The different objects with same selfLink shared\nthe same event queue grouped by k8s selfLink. It raises the\nbug which is dropping old object event with current logic.\n\nThis commit filters the deletion event so as not to drop\nthe old object's last event.\n\nCloses-Bug: 1748836\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n""}, {'number': 10, 'created': '2018-02-19 08:02:31.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_pipeline.py', 'kuryr_kubernetes/controller/handlers/pipeline.py', 'kuryr_kubernetes/handlers/asynchronous.py', 'kuryr_kubernetes/handlers/k8s_base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/60213747a3eadf93437d96caf59530e28b847bb7', 'message': 'Revert commits to use UID instead of SelfLink\n\nRevert ""Remove object_uid""\nThis reverts commit 17588f803f139fc11ad38bc91fc5c8e65efa833f.\nRevert ""Improve pipeline/Async logging""\nThis reverts commit 1fce343136c7744ea69f06226eaf058f379b9c4e.\n\nCloses-Bug: 1748836\nChange-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1\n'}]",0,543355,60213747a3eadf93437d96caf59530e28b847bb7,28,8,10,27824,,,0,"Revert commits to use UID instead of SelfLink

Revert ""Remove object_uid""
This reverts commit 17588f803f139fc11ad38bc91fc5c8e65efa833f.
Revert ""Improve pipeline/Async logging""
This reverts commit 1fce343136c7744ea69f06226eaf058f379b9c4e.

Closes-Bug: 1748836
Change-Id: Ib638b2a6e7be3dee2d7a7aa8fd4db0e45e7663b1
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/543355/5 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/handlers/asynchronous.py'],1,09dacb87b98da82e849f84fe3bb752e4759a5c15,bug/1748836," # NOTE(esevan): Objects with same selfLink would create bugs. # when the object has been deleted and another one created, # the first deletion event is dropped since they share # the same queue. selfLink is not as unique as UID in this # case. ex. statefulsets scale up/down if 'DELETED' == event.get('type'): LOG.debug('POD deletion event is not dropped %s', self._group_by(event))",,8,0
openstack%2Fkuryr~master~If7a7c9458db9b500ad9ac94c8bef8dff917805f7,openstack/kuryr,master,If7a7c9458db9b500ad9ac94c8bef8dff917805f7,Updated from global requirements,MERGED,2017-11-01 11:15:30.000000000,2018-02-24 22:33:19.000000000,2018-02-24 22:33:19.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-01 11:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/6bcdb8966f8a0a30ddb5907cfc27a068f15c2212', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 2, 'created': '2017-11-01 12:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/6cf424d8f3b0ab99ec5e31e3772a98f534dd6c4b', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 3, 'created': '2017-11-01 14:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/901115ac1c9e02df04d702a66a41914a9ef59455', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 4, 'created': '2017-11-02 07:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/d599c8598bb3a47449fd29c6b8598ca869f5c119', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 5, 'created': '2017-11-02 07:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/47b1ababbf3e2cce62ae9f6d3d3989158ed27819', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 6, 'created': '2017-11-02 13:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/ce3db12e9008ca5d630f8c124b1ffb61c453d3db', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 7, 'created': '2017-11-02 19:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/2163f892d77f55c256e0baab82c8fcc42cc9c20f', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 8, 'created': '2017-11-02 19:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/3b6d9ea8ffe399ea4558f8d6e8e34ba06465be4d', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 9, 'created': '2017-11-02 23:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/5c55a186a1c1faf6544975a949069cb332568564', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 10, 'created': '2017-11-03 00:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/1173b45ac6752bf380c9155b5cea8e85f8cb39a2', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 11, 'created': '2017-11-03 00:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/b78d161160e71a5327b85293201786386df97b56', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 12, 'created': '2017-11-03 13:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0376a185bcb6f40b3ebb65908c19e7bcd28b682b', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 13, 'created': '2017-11-03 17:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/d41c331b6f9720c7de1e9f58b569405a5b6bbb4f', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 14, 'created': '2017-11-03 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/416c36958aef55012bdb06e48ddd353e0dbfcad9', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 15, 'created': '2017-11-06 01:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/e8a432b4839f664d70d7c7f1cdcd5a9326677d95', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 16, 'created': '2017-11-07 00:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/97d52a75e1f0a21b92405259f1280109508ff7af', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 17, 'created': '2017-11-08 13:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/a93eacd2c0a985bce955cc22f1a5d197e605c5a9', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 18, 'created': '2017-11-08 15:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/b6bac0b5a9685867931724b0c20a55601288026c', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 19, 'created': '2017-11-08 23:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/227cdce827c0f2f2ca1256f9cdb879c821c0e62a', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 20, 'created': '2017-11-09 13:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/30528ee9c0a162d12d62d79da0def3934e8d2340', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 21, 'created': '2017-11-10 13:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/96af9168ecc080abb0f0cb1dca93209095a6426a', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 22, 'created': '2017-11-10 16:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/e31520ca3b76ed3191915aaa74898d4ef4d45dc3', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 23, 'created': '2017-11-10 21:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/3503a35ee3e08c9619fa32af3eaf205fc427d779', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 24, 'created': '2017-11-12 03:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0b8534657a6e18a0e669babd1c3b979036be04b9', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 25, 'created': '2017-11-12 17:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/34d125efa7add2c80214926b268814524a9ab16d', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 26, 'created': '2017-11-12 20:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/4bea79a9ef210a392db21c1cb6de56a60e1859b0', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 27, 'created': '2017-11-13 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/a218efce1cadc54fc4bea80f7bc52e28b9e0f36d', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 28, 'created': '2017-11-13 21:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/6f411333f85dff1efce3ddfca60d33ade6a17697', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 29, 'created': '2017-11-13 21:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/97b109145b27dd238c2067e886bb1a3d6009e460', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 30, 'created': '2017-11-13 21:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/764c6788ca07b77553937572312556ca737860f1', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 31, 'created': '2017-11-13 21:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/94b220adb44841eca1da1b6c937b4a3917032bd3', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 32, 'created': '2017-11-14 04:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/8634e3da3f2228f6dc009a6aa92c9438e78b75b0', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 33, 'created': '2017-11-14 18:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/491f9f796a560b0c396e8c4b10a33ac401bb3b41', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 34, 'created': '2017-11-14 19:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/5220c1b2f6b2d6837b1f939033a90dc6bee68e59', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 35, 'created': '2017-11-14 22:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/77609618efe046600fac666067fcbd7ec1a6e597', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 36, 'created': '2017-11-14 22:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/568a5b6e412f87ee0cf6e51062a0d2acef25bf3d', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 37, 'created': '2017-11-15 00:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/00d7051aa4ba043d18ab33bd7cebb96b50274491', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 38, 'created': '2017-11-15 01:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/928a02935dec5d230cf11abee87c27fb0c065e33', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 39, 'created': '2017-11-15 11:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/87caef97fc029a85ecb22a5ae5f560f082fc3b3e', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 40, 'created': '2017-11-15 18:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/090413afc85eaf6dc5e002ab406502b86910c1ac', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 41, 'created': '2017-11-16 11:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/f49a1b774ae7416341349dd524c164449aa50e80', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 42, 'created': '2017-12-05 03:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/8e5a121f7550b12f258e80f607d9fc8eed025627', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 43, 'created': '2017-12-19 01:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/713e2a7a4e89686b972d5597e984a9957bf89247', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 44, 'created': '2018-01-16 03:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/f6c7bf14273479835da74641dccc1bf0fa18e4f3', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 45, 'created': '2018-01-16 04:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/f565ef1ed52ef02065e7a79f768bcfb8d98b3852', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 46, 'created': '2018-01-16 04:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/7e0eba4595098129e9560c1281570cdc8663e857', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 47, 'created': '2018-01-16 04:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/790f92bc226e0968b9a1b5aaef92286cd2278d6c', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 48, 'created': '2018-01-16 12:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/ecfd11428953c651ee6cf23e8ac45413da7d6217', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 49, 'created': '2018-01-16 12:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/4e2ac3f65de1241a2341f676ee866daf39bbcc16', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 50, 'created': '2018-01-17 20:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/19e540d26834b8f517a5bf88100a152dc3e165c6', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 51, 'created': '2018-01-24 00:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/27a100c00d64b97b2eaa8aa6795cfcc6b8755c2b', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 52, 'created': '2018-01-24 01:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/6939a02cd59268d3899cd602e6e4179875c15048', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 53, 'created': '2018-01-27 17:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/956cbba945dd6fe675d32720d01b72b6a52dc329', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 54, 'created': '2018-01-27 19:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/af894e8e1e168b0a1e8a755175b941a9824744eb', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 55, 'created': '2018-02-14 12:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0cd7d15e7d4915b5aa841d68a5c6c9138b8a832d', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}, {'number': 56, 'created': '2018-02-17 09:36:18.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/24b59fcf94dbce15f15c718946486c8370b2b52c', 'message': 'Updated from global requirements\n\nChange-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7\n'}]",0,516936,24b59fcf94dbce15f15c718946486c8370b2b52c,113,5,56,11131,,,0,"Updated from global requirements

Change-Id: If7a7c9458db9b500ad9ac94c8bef8dff917805f7
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/36/516936/56 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6bcdb8966f8a0a30ddb5907cfc27a068f15c2212,openstack/requirements,neutron-lib>=1.11.0 # Apache-2.0,neutron-lib>=1.10.0 # Apache-2.0,1,1
openstack%2Fproject-config~master~Ife79d13de4e2abcf9db34b2d15859e1d048e592e,openstack/project-config,master,Ife79d13de4e2abcf9db34b2d15859e1d048e592e,have tag-releases skip closed series,MERGED,2018-02-21 22:55:04.000000000,2018-02-24 20:54:20.000000000,2018-02-24 20:54:20.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/144744c017655bbb66660f97e70754ba580e9494', 'message': ""have tag-releases skip closed series\n\nWe don't want the tag-releases job to re-process very old branches if\nwe need to update the data files in openstack/releases. For now we\nhard-code a list of closed series.\n\nChange-Id: Ife79d13de4e2abcf9db34b2d15859e1d048e592e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2018-02-23 19:10:03.000000000', 'files': ['jenkins/scripts/release-tools/process_release_requests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d76313f9010e64f0b61eb89af48806025ac301b7', 'message': ""have tag-releases skip closed series\n\nWe don't want the tag-releases job to re-process very old branches if\nwe need to update the data files in openstack/releases. For now we\nhard-code a list of closed series.\n\nChange-Id: Ife79d13de4e2abcf9db34b2d15859e1d048e592e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,546801,d76313f9010e64f0b61eb89af48806025ac301b7,13,7,2,2472,,,0,"have tag-releases skip closed series

We don't want the tag-releases job to re-process very old branches if
we need to update the data files in openstack/releases. For now we
hard-code a list of closed series.

Change-Id: Ife79d13de4e2abcf9db34b2d15859e1d048e592e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/546801/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/release-tools/process_release_requests.py'],1,144744c017655bbb66660f97e70754ba580e9494,tag-releases-ignore-closed-series,"# TODO(dhellmann): Instead of using a fixed list, look for the series # name -eol tag to determine that a series is closed. CLOSED_SERIES = set([ 'austin', 'bexar', 'cactus', 'diablo', 'essex', 'folsom', 'grizzly', 'havana', 'icehouse', 'juno', 'kilo', 'liberty', 'mitaka', ]) # The series name is part of the filename, rather than the file # body. That causes release.sh to be called with series=""_independent"" # for release:independent projects, and release.sh to use master branch # to evaluate fixed bugs. series_name = os.path.basename( os.path.dirname(os.path.abspath(filename)) ).lstrip('_') # If the series is closed, do not process the file. We're # likely updating old data in the releases repo and we do not # want to reprocess any old branches or tags. if series_name in CLOSED_SERIES: print(' {} skipping closed series'.format(filename)) continue "," # The series name is part of the filename, rather than the file # body. That causes release.sh to be called with series=""_independent"" # for release:independent projects, and release.sh to use master branch # to evaluate fixed bugs. series_name = os.path.basename( os.path.dirname(os.path.abspath(filename)) ).lstrip('_') ",34,8
openstack%2Fkuryr-kubernetes~master~Ib62c05e512440bba95cdcc23481dfd2d3ab98619,openstack/kuryr-kubernetes,master,Ib62c05e512440bba95cdcc23481dfd2d3ab98619,Minor fixes on docs,MERGED,2018-02-23 11:31:18.000000000,2018-02-24 20:50:07.000000000,2018-02-24 20:50:07.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 11:31:18.000000000', 'files': ['doc/source/specs/queens/network_policy.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/59f63fb880a97e16706f7cefad0faeb25b4c6397', 'message': 'Minor fixes on docs\n\nThis commit fixes some minor typos and tweaks on the devref\ndocumentation.\n\nChange-Id: Ib62c05e512440bba95cdcc23481dfd2d3ab98619\n'}]",0,547382,59f63fb880a97e16706f7cefad0faeb25b4c6397,8,4,1,14885,,,0,"Minor fixes on docs

This commit fixes some minor typos and tweaks on the devref
documentation.

Change-Id: Ib62c05e512440bba95cdcc23481dfd2d3ab98619
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/82/547382/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/queens/network_policy.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst']",4,59f63fb880a97e16706f7cefad0faeb25b4c6397,trivial_fix_on_docs,ports. To achieve this a readiness probe must be added to the kuryr-controller,ports. To achive this a readiness probe must be added to the kuryr-controller,5,5
openstack%2Fkuryr-kubernetes~master~I403609b824aa72184836dacfac09a312698afe78,openstack/kuryr-kubernetes,master,I403609b824aa72184836dacfac09a312698afe78,NestedMacvlanPodVIFDriver gets host port before request vif,MERGED,2018-02-19 07:38:46.000000000,2018-02-24 20:50:05.000000000,2018-02-24 20:50:05.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27824}]","[{'number': 1, 'created': '2018-02-19 07:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/de77b8d910ac6df289a32fe1629a1856139eb45b', 'message': 'NestedMacvlanPodVIFDriver gets host port before request vif\n\nThis commit changes macvlan driver th get host port before\nrequest vif to neutron.\n\nChange-Id: I403609b824aa72184836dacfac09a312698afe78\nCloses-Bug: 1750332\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 2, 'created': '2018-02-19 07:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/307998c1b666feb31700c61dfe38549131f7ec8b', 'message': 'NestedMacvlanPodVIFDriver gets host port before request vif\n\nThis commit changes macvlan driver to get host port before\nrequest vif to neutron.\n\nChange-Id: I403609b824aa72184836dacfac09a312698afe78\nCloses-Bug: 1750332\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 3, 'created': '2018-02-19 09:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d47387d8e53fbe69f09091577a50339e27700adf', 'message': 'NestedMacvlanPodVIFDriver gets host port before request vif\n\nThis commit changes macvlan driver to get host port before\nrequest vif to neutron.\n\nChange-Id: I403609b824aa72184836dacfac09a312698afe78\nCloses-Bug: 1750332\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}, {'number': 4, 'created': '2018-02-20 01:28:30.000000000', 'files': ['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/716909decbdd8dd9b02090672bfdf54c2fa071df', 'message': 'NestedMacvlanPodVIFDriver gets host port before request vif\n\nThis commit changes macvlan driver to get host port before\nrequest vif to neutron.\n\nChange-Id: I403609b824aa72184836dacfac09a312698afe78\nCloses-Bug: 1750332\nSigned-off-by: Eunsoo Park <esevan.park@gmail.com>\n'}]",0,545760,716909decbdd8dd9b02090672bfdf54c2fa071df,16,6,4,27824,,,0,"NestedMacvlanPodVIFDriver gets host port before request vif

This commit changes macvlan driver to get host port before
request vif to neutron.

Change-Id: I403609b824aa72184836dacfac09a312698afe78
Closes-Bug: 1750332
Signed-off-by: Eunsoo Park <esevan.park@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/60/545760/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py'],1,de77b8d910ac6df289a32fe1629a1856139eb45b,bug/1750332," vm_port = self._get_parent_port(neutron, pod) "," vm_port = self._get_parent_port(neutron, pod)",2,1
openstack%2Fproject-config~master~I947c6b9dcc207f4634825d344f432a6676c1ea82,openstack/project-config,master,I947c6b9dcc207f4634825d344f432a6676c1ea82,Add doc job for qinling,MERGED,2018-02-24 06:17:19.000000000,2018-02-24 20:48:34.000000000,2018-02-24 20:48:34.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 06:17:19.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/17e1fc1dab87f1939d2ebfa13dcc1c04888118ad', 'message': 'Add doc job for qinling\n\nChange-Id: I947c6b9dcc207f4634825d344f432a6676c1ea82\nStory: 2001591\n'}]",0,547719,17e1fc1dab87f1939d2ebfa13dcc1c04888118ad,7,3,1,9725,,,0,"Add doc job for qinling

Change-Id: I947c6b9dcc207f4634825d344f432a6676c1ea82
Story: 2001591
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/547719/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,17e1fc1dab87f1939d2ebfa13dcc1c04888118ad,, - publish-openstack-sphinx-docs - publish-openstack-sphinx-docs,,2,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I826572fd9202e14db52a73d2ee983b6e429b36e7,openstack/openstack-ansible-openstack_hosts,master,I826572fd9202e14db52a73d2ee983b6e429b36e7,[WIP] Test package_state = present,ABANDONED,2018-02-08 22:11:03.000000000,2018-02-24 20:32:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-08 22:11:03.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ed8d4bf8bbfa9e50fd519099a8b2db3b2f8a2a4b', 'message': '[WIP] Test package_state = present\n\nChange-Id: I826572fd9202e14db52a73d2ee983b6e429b36e7\n'}]",0,542461,ed8d4bf8bbfa9e50fd519099a8b2db3b2f8a2a4b,3,1,1,538,,,0,"[WIP] Test package_state = present

Change-Id: I826572fd9202e14db52a73d2ee983b6e429b36e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/61/542461/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,ed8d4bf8bbfa9e50fd519099a8b2db3b2f8a2a4b,,package_state: present ,,2,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fpike~I379857b0ef8cd34a618bd8409d26a61bf6eca6b2,openstack/openstack-ansible-os_gnocchi,stable/pike,I379857b0ef8cd34a618bd8409d26a61bf6eca6b2,Zuul: Remove project name,ABANDONED,2018-02-16 14:30:04.000000000,2018-02-24 20:31:23.000000000,,"[{'_account_id': 1}, {'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 14:30:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/900df598ce8612fb411d0f8155843e55b2b90696', 'message': 'Zuul: Remove project name\n\nZuul no longer requires the project-name for in-repo configuration.\nOmitting it makes forking or renaming projects easier.\n\nChange-Id: I379857b0ef8cd34a618bd8409d26a61bf6eca6b2\n(cherry picked from commit cbdaa577c470de2ac4418162f3397817d8255cb7)\n'}]",0,545322,900df598ce8612fb411d0f8155843e55b2b90696,4,3,1,538,,,0,"Zuul: Remove project name

Zuul no longer requires the project-name for in-repo configuration.
Omitting it makes forking or renaming projects easier.

Change-Id: I379857b0ef8cd34a618bd8409d26a61bf6eca6b2
(cherry picked from commit cbdaa577c470de2ac4418162f3397817d8255cb7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/22/545322/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,900df598ce8612fb411d0f8155843e55b2b90696,zuulv3-projects-stable/queens-stable/pike,,--- name: openstack/openstack-ansible-os_gnocchi,0,2
openstack%2Fopenstack-ansible~master~Iaa20679291649ec140b0d5f9e08cf254d4c914b8,openstack/openstack-ansible,master,Iaa20679291649ec140b0d5f9e08cf254d4c914b8,Enable profile_tasks callback for AIO bootstrap,ABANDONED,2018-02-20 16:53:01.000000000,2018-02-24 20:31:06.000000000,,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-20 16:53:01.000000000', 'files': ['tests/ansible.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a9a1e3eaff440b8d2a334af09f40758e81d567a', 'message': ""Enable profile_tasks callback for AIO bootstrap\n\nThe AIO bootstrap role didn't use the profile_tasks callback and that\nlimits our ability to see which tasks are taking a long time to run.\nThis patch ensures that the profile_tasks callback is whitelisted for\nthe AIO bootstrap.\n\nChange-Id: Iaa20679291649ec140b0d5f9e08cf254d4c914b8\n""}]",0,546233,2a9a1e3eaff440b8d2a334af09f40758e81d567a,6,4,1,538,,,0,"Enable profile_tasks callback for AIO bootstrap

The AIO bootstrap role didn't use the profile_tasks callback and that
limits our ability to see which tasks are taking a long time to run.
This patch ensures that the profile_tasks callback is whitelisted for
the AIO bootstrap.

Change-Id: Iaa20679291649ec140b0d5f9e08cf254d4c914b8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/33/546233/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible.cfg'],1,2a9a1e3eaff440b8d2a334af09f40758e81d567a,aio-bootstrap-profile-tasks,"# Enable the profile_tasks plugin to get timing information for AIO bootstrap callback_whitelist = ""profile_tasks"" ",,3,0
openstack%2Fopenstack-helm~master~I38990b93aa79fa1f70af6f2c78e5e5c61c63f32c,openstack/openstack-helm,master,I38990b93aa79fa1f70af6f2c78e5e5c61c63f32c,dependencies: move static dependencies under a 'static' key,MERGED,2018-02-23 18:16:48.000000000,2018-02-24 20:04:31.000000000,2018-02-24 20:04:31.000000000,"[{'_account_id': 20466}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-23 18:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00369e51ee9ad5169fd5748e7e33dad0c57f18c8', 'message': ""dependencies: move static dependencies under a 'static' key\n\nThis PS moves static dependencies unser a 'static' key to allow\nexpansion to cover dynamic dependencies.\n\nChange-Id: I38990b93aa79fa1f70af6f2c78e5e5c61c63f32c\n""}, {'number': 2, 'created': '2018-02-23 19:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6cce2aec862a803e78d0a171920b75c0888c64d', 'message': ""dependencies: move static dependencies under a 'static' key\n\nThis PS moves static dependencies under a 'static' key to allow\nexpansion to cover dynamic dependencies.\n\nChange-Id: I38990b93aa79fa1f70af6f2c78e5e5c61c63f32c\n""}, {'number': 3, 'created': '2018-02-23 20:32:06.000000000', 'files': ['ldap/templates/statefulset.yaml', 'glance/templates/deployment-registry.yaml', 'senlin/templates/deployment-api.yaml', 'ingress/templates/deployment-ingress.yaml', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'glance/templates/pod-rally-test.yaml', 'nova/templates/job-ks-placement-user.yaml', 'mongodb/values.yaml', 'glance/templates/job-storage-init.yaml', 'libvirt/values.yaml', 'cinder/templates/deployment-api.yaml', 'congress/templates/job-ds-create.yaml', 'gnocchi/templates/deployment-api.yaml', 'horizon/values.yaml', 'rally/templates/job-ks-endpoints.yaml', 'horizon/templates/job-db-sync.yaml', 'magnum/templates/statefulset-conductor.yaml', 'memcached/templates/deployment.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'senlin/values.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'mistral/values.yaml', 'congress/values.yaml', 'nova/templates/deployment-conductor.yaml', 'magnum/values.yaml', 'keystone/templates/job-domain-manage.yaml', 'nova/templates/pod-rally-test.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'cinder/templates/job-storage-init.yaml', 'helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'nova/templates/deployment-spiceproxy.yaml', 'ceph/templates/deployment-rgw.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'neutron/templates/pod-rally-test.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'ingress/templates/deployment-error.yaml', 'ceilometer/templates/deployment-central.yaml', 'nova/templates/deployment-api-metadata.yaml', 'rabbitmq/templates/statefulset.yaml', 'ceilometer/templates/deployment-notification.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'congress/templates/pod-test.yaml', 'gnocchi/templates/job-storage-init.yaml', 'glance/templates/job-db-drop.yaml', 'horizon/templates/job-db-drop.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/pod-rally-test.yaml', 'nova/templates/deployment-novncproxy.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'congress/templates/deployment-datasource.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'ceilometer/templates/deployment-compute.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'ceph/templates/job-storage-admin-keys.yaml', 'ironic/values.yaml', 'gnocchi/templates/job-db-sync.yaml', 'congress/templates/deployment-api.yaml', 'ceilometer/templates/deployment-collector.yaml', 'ceph/templates/job-namespace-client-key-cleaner.yaml', 'heat/templates/deployment-engine.yaml', 'ironic/templates/job-manage-cleaning-network.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'ironic/templates/deployment-api.yaml', 'cinder/templates/pod-rally-test.yaml', 'ceph/templates/deployment-rbd-provisioner.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'keystone/templates/job-db-drop.yaml', 'mongodb/templates/statefulset.yaml', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'heat/templates/job-db-drop.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'ceph/templates/daemonset-osd.yaml', 'mistral/templates/deployment-executor.yaml', 'heat/templates/job-ks-user-domain.yaml', 'ceph/templates/deployment-cephfs-provisioner.yaml', 'gnocchi/templates/pod-gnocchi-test.yaml', 'ceph/templates/deployment-moncheck.yaml', 'senlin/templates/statefulset-engine.yaml', 'ceph/templates/deployment-mds.yaml', 'ceph/templates/job-cephfs-client-key.yaml', 'ceph/templates/job-rbd-pool.yaml', 'ceph/values.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'rally/templates/job-ks-service.yaml', 'ceilometer/values.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'rally/templates/job-run-task.yaml', 'ironic/templates/statefulset-conductor.yaml', 'ldap/values.yaml', 'ceilometer/templates/deployment-api.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'ceph/templates/job-namespace-client-key.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'openvswitch/values.yaml', 'ceph/templates/deployment-mgr.yaml', 'horizon/templates/deployment.yaml', 'barbican/values.yaml', 'ceph/templates/daemonset-mon.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'heat/templates/cron-job-engine-cleaner.yaml', 'nova/templates/job-cell-setup.yaml', 'senlin/templates/job-db-drop.yaml', 'nova/templates/job-ks-placement-service.yaml', 'cinder/templates/deployment-scheduler.yaml', 'nova/values.yaml', 'mistral/templates/job-db-drop.yaml', 'keystone/templates/job-credential-setup.yaml', 'rally/values.yaml', 'barbican/templates/job-db-drop.yaml', 'ceph/templates/job-keyring.yaml', 'cinder/templates/deployment-volume.yaml', 'barbican/templates/pod-test.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'nova/templates/deployment-api-osapi.yaml', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'openvswitch/templates/daemonset-ovs-db.yaml', 'glance/values.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'gnocchi/templates/job-db-init-indexer.yaml', 'magnum/templates/deployment-api.yaml', 'glance/templates/job-clean.yaml', 'rally/templates/job-manage-db.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'cinder/templates/job-clean.yaml', 'barbican/templates/deployment-api.yaml', 'etcd/templates/deployment.yaml', 'mistral/templates/statefulset-engine.yaml', 'ceilometer/templates/job-db-init-mongodb.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'cinder/templates/job-db-drop.yaml', 'rabbitmq/values.yaml', 'gnocchi/templates/job-clean.yaml', 'rally/templates/job-bootstrap.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'memcached/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'mariadb/values.yaml', 'neutron/templates/job-db-drop.yaml', 'magnum/templates/job-db-drop.yaml', 'nova/templates/deployment-placement.yaml', 'mariadb/templates/statefulset.yaml', 'heat/templates/deployment-api.yaml', 'ceph/templates/job-bootstrap.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'mistral/templates/deployment-api.yaml', 'ingress/values.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'nova/templates/job-db-drop.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f57972b5b633a108ea06239915381e72545638cc', 'message': ""dependencies: move static dependencies under a 'static' key\n\nThis PS moves static dependencies under a 'static' key to allow\nexpansion to cover dynamic dependencies.\n\nChange-Id: I38990b93aa79fa1f70af6f2c78e5e5c61c63f32c\n""}]",0,547585,f57972b5b633a108ea06239915381e72545638cc,14,5,3,23928,,,0,"dependencies: move static dependencies under a 'static' key

This PS moves static dependencies under a 'static' key to allow
expansion to cover dynamic dependencies.

Change-Id: I38990b93aa79fa1f70af6f2c78e5e5c61c63f32c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/547585/2 && git format-patch -1 --stdout FETCH_HEAD,"['ldap/templates/statefulset.yaml', 'glance/templates/deployment-registry.yaml', 'senlin/templates/deployment-api.yaml', 'ingress/templates/deployment-ingress.yaml', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'glance/templates/pod-rally-test.yaml', 'nova/templates/job-ks-placement-user.yaml', 'mongodb/values.yaml', 'glance/templates/job-storage-init.yaml', 'libvirt/values.yaml', 'cinder/templates/deployment-api.yaml', 'congress/templates/job-ds-create.yaml', 'gnocchi/templates/deployment-api.yaml', 'horizon/values.yaml', 'rally/templates/job-ks-endpoints.yaml', 'horizon/templates/job-db-sync.yaml', 'magnum/templates/statefulset-conductor.yaml', 'memcached/templates/deployment.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'senlin/values.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'mistral/values.yaml', 'congress/values.yaml', 'nova/templates/deployment-conductor.yaml', 'magnum/values.yaml', 'keystone/templates/job-domain-manage.yaml', 'nova/templates/pod-rally-test.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'cinder/templates/job-storage-init.yaml', 'helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'nova/templates/deployment-spiceproxy.yaml', 'ceph/templates/deployment-rgw.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'neutron/templates/pod-rally-test.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'ingress/templates/deployment-error.yaml', 'ceilometer/templates/deployment-central.yaml', 'nova/templates/deployment-api-metadata.yaml', 'rabbitmq/templates/statefulset.yaml', 'ceilometer/templates/deployment-notification.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'congress/templates/pod-test.yaml', 'gnocchi/templates/job-storage-init.yaml', 'glance/templates/job-db-drop.yaml', 'horizon/templates/job-db-drop.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/pod-rally-test.yaml', 'nova/templates/deployment-novncproxy.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'congress/templates/deployment-datasource.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'ceilometer/templates/deployment-compute.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'ceph/templates/job-storage-admin-keys.yaml', 'ironic/values.yaml', 'gnocchi/templates/job-db-sync.yaml', 'congress/templates/deployment-api.yaml', 'ceilometer/templates/deployment-collector.yaml', 'ceph/templates/job-namespace-client-key-cleaner.yaml', 'heat/templates/deployment-engine.yaml', 'ironic/templates/job-manage-cleaning-network.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'ironic/templates/deployment-api.yaml', 'cinder/templates/pod-rally-test.yaml', 'ceph/templates/deployment-rbd-provisioner.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'keystone/templates/job-db-drop.yaml', 'mongodb/templates/statefulset.yaml', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'heat/templates/job-db-drop.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'ceph/templates/daemonset-osd.yaml', 'mistral/templates/deployment-executor.yaml', 'heat/templates/job-ks-user-domain.yaml', 'ceph/templates/deployment-cephfs-provisioner.yaml', 'gnocchi/templates/pod-gnocchi-test.yaml', 'ceph/templates/deployment-moncheck.yaml', 'senlin/templates/statefulset-engine.yaml', 'ceph/templates/deployment-mds.yaml', 'ceph/templates/job-cephfs-client-key.yaml', 'ceph/templates/job-rbd-pool.yaml', 'ceph/values.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'rally/templates/job-ks-service.yaml', 'ceilometer/values.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'rally/templates/job-run-task.yaml', 'ironic/templates/statefulset-conductor.yaml', 'ldap/values.yaml', 'ceilometer/templates/deployment-api.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'ceph/templates/job-namespace-client-key.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'openvswitch/values.yaml', 'ceph/templates/deployment-mgr.yaml', 'horizon/templates/deployment.yaml', 'barbican/values.yaml', 'ceph/templates/daemonset-mon.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'heat/templates/cron-job-engine-cleaner.yaml', 'nova/templates/job-cell-setup.yaml', 'senlin/templates/job-db-drop.yaml', 'nova/templates/job-ks-placement-service.yaml', 'cinder/templates/deployment-scheduler.yaml', 'nova/values.yaml', 'mistral/templates/job-db-drop.yaml', 'keystone/templates/job-credential-setup.yaml', 'rally/values.yaml', 'barbican/templates/job-db-drop.yaml', 'ceph/templates/job-keyring.yaml', 'cinder/templates/deployment-volume.yaml', 'barbican/templates/pod-test.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'nova/templates/deployment-api-osapi.yaml', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'openvswitch/templates/daemonset-ovs-db.yaml', 'glance/values.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'gnocchi/templates/job-db-init-indexer.yaml', 'magnum/templates/deployment-api.yaml', 'glance/templates/job-clean.yaml', 'rally/templates/job-manage-db.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'cinder/templates/job-clean.yaml', 'barbican/templates/deployment-api.yaml', 'etcd/templates/deployment.yaml', 'mistral/templates/statefulset-engine.yaml', 'ceilometer/templates/job-db-init-mongodb.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'cinder/templates/job-db-drop.yaml', 'rabbitmq/values.yaml', 'gnocchi/templates/job-clean.yaml', 'rally/templates/job-bootstrap.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'memcached/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'mariadb/values.yaml', 'neutron/templates/job-db-drop.yaml', 'magnum/templates/job-db-drop.yaml', 'nova/templates/deployment-placement.yaml', 'mariadb/templates/statefulset.yaml', 'heat/templates/deployment-api.yaml', 'ceph/templates/job-bootstrap.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'mistral/templates/deployment-api.yaml', 'ingress/values.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'nova/templates/job-db-drop.yaml']",164,00369e51ee9ad5169fd5748e7e33dad0c57f18c8,fix/bootstrap-jobs,{{- $dependencies := .Values.dependencies.static.db_drop }},{{- $dependencies := .Values.dependencies.db_drop }},1474,1450
openstack%2Fopenstack-ansible~master~I9589f6efc9fa43a31382d4729dcaf4bfc53ba2ca,openstack/openstack-ansible,master,I9589f6efc9fa43a31382d4729dcaf4bfc53ba2ca,[Docs] Add explicit warnings on common mistake,MERGED,2018-02-23 10:14:43.000000000,2018-02-24 17:31:13.000000000,2018-02-24 17:31:12.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24132}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-23 10:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a7722b7a84bb36cf6eaaf14d4554b828cb251e8', 'message': ""[Docs] Add explicit warnings on common mistake\n\nThis adds a warning to express, in many places, that the details\nof the inventory shouldn't be deleted.\n\nI hope it would be clearer and prevent user mistakes.\n\nChange-Id: I9589f6efc9fa43a31382d4729dcaf4bfc53ba2ca\n""}, {'number': 2, 'created': '2018-02-24 15:38:23.000000000', 'files': ['doc/source/reference/inventory/configure-inventory.rst', 'doc/source/reference/inventory/generate-inventory.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41bd98385b351026edfe223760367613e6d17d9e', 'message': ""[Docs] Add explicit warnings on common mistake\n\nThis adds a warning to express, in many places, that the details\nof the inventory shouldn't be deleted.\n\nI hope it would be clearer and prevent user mistakes.\n\nChange-Id: I9589f6efc9fa43a31382d4729dcaf4bfc53ba2ca\n""}]",0,547353,41bd98385b351026edfe223760367613e6d17d9e,13,5,2,17068,,,0,"[Docs] Add explicit warnings on common mistake

This adds a warning to express, in many places, that the details
of the inventory shouldn't be deleted.

I hope it would be clearer and prevent user mistakes.

Change-Id: I9589f6efc9fa43a31382d4729dcaf4bfc53ba2ca
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/547353/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/inventory/configure-inventory.rst', 'doc/source/reference/inventory/generate-inventory.rst']",2,5a7722b7a84bb36cf6eaaf14d4554b828cb251e8,bp/docs-improvements,.. warning:: ,.. note::,12,1
openstack%2Fopenstack-ansible~master~I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4,openstack/openstack-ansible,master,I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4,[Docs] Guide users more,MERGED,2018-02-23 00:13:41.000000000,2018-02-24 17:31:09.000000000,2018-02-24 17:31:09.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-23 00:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4d15dd3f4571feb4f532a15a5ee752176b060f4b', 'message': ""[Docs] Guide users more\n\n- It's easy for a new deployer to miss the importance of the\n  configuration. This highlights the step.\n- It makes more sense to be guided from the deploy-guide to\n  the Operations guide first, before the contributing.\n- Reduced the commands to run for a first verification of\n  the cloud.\n\nChange-Id: I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4\n""}, {'number': 2, 'created': '2018-02-23 00:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fff4a884d0a97ab89282119eb07420766a59bba1', 'message': ""[Docs] Guide users more\n\n- It's easy for a new deployer to miss the importance of the\n  configuration. This highlights the step.\n- It makes more sense to be guided from the deploy-guide to\n  the Operations guide first, before the contributing.\n- Reduced the commands to run for a first verification of\n  the cloud.\n\nChange-Id: I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4\n""}, {'number': 3, 'created': '2018-02-23 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b0e55bf92dff2a355f1558e7766c2b28ae16fc6', 'message': ""[Docs] Guide users more\n\n- It's easy for a new deployer to miss the importance of the\n  configuration. This highlights the step.\n- It makes more sense to be guided from the deploy-guide to\n  the Operations guide first, before the contributing.\n- Reduced the commands to run for a first verification of\n  the cloud.\n\nChange-Id: I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4\n""}, {'number': 4, 'created': '2018-02-24 15:38:10.000000000', 'files': ['deploy-guide/source/configure.rst', 'deploy-guide/source/verify-operation.rst', 'deploy-guide/source/next-steps.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/99f4f17751a4ccb5a6d7b57475f02eca70392c76', 'message': ""[Docs] Guide users more\n\n- It's easy for a new deployer to miss the importance of the\n  configuration. This highlights the step.\n- It makes more sense to be guided from the deploy-guide to\n  the Operations guide first, before the contributing.\n- Reduced the commands to run for a first verification of\n  the cloud.\n\nChange-Id: I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4\n""}]",1,547219,99f4f17751a4ccb5a6d7b57475f02eca70392c76,19,5,4,17068,,,0,"[Docs] Guide users more

- It's easy for a new deployer to miss the importance of the
  configuration. This highlights the step.
- It makes more sense to be guided from the deploy-guide to
  the Operations guide first, before the contributing.
- Reduced the commands to run for a first verification of
  the cloud.

Change-Id: I7bc7dce2d4a9f0449a3f70cc2717f5e0a8345dc4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/547219/4 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/configure.rst', 'deploy-guide/source/verify-operation.rst', 'deploy-guide/source/next-steps.rst']",3,4d15dd3f4571feb4f532a15a5ee752176b060f4b,bp/docs-improvements,"Operate OpenStack-Ansible ========================= Have a look at our `Operations guide <https://docs.openstack.org/openstack-ansible/latest/admin/index.html>`_ to know how to verify your environment in more details, create your first networks, images, instances. have a look at our `Contributors guide <https://docs.openstack.org/openstack-ansible/latest/contributor/index.html>`_.",have a look at our `Contributors guide <https://docs.openstack.org/openstack-ansible/latest/contributor/index.html>`_. Operate OpenStack-Ansible ========================= Have a look at our `Operations guide <https://docs.openstack.org/openstack-ansible/latest/admin/index.html>`_. ,19,16
openstack%2Fopenstack-ansible~master~Ie67526ebb46ddc0f0e60d7e9d94e752fc6128b2c,openstack/openstack-ansible,master,Ie67526ebb46ddc0f0e60d7e9d94e752fc6128b2c,Go back to assuming volume size in GB,MERGED,2018-02-19 15:20:50.000000000,2018-02-24 17:31:07.000000000,2018-02-24 17:31:07.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-19 15:20:50.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83a8f00469641af755ae138170826d3e5c766399', 'message': 'Go back to assuming volume size in GB\n\nWith https://review.openstack.org/544724 we changed the size\nto make it work with https://review.openstack.org/527592.\n\nNow, due to https://review.openstack.org/545801 we can revert\nthe change.\n\nChange-Id: Ie67526ebb46ddc0f0e60d7e9d94e752fc6128b2c\n'}]",0,545849,83a8f00469641af755ae138170826d3e5c766399,24,5,1,6816,,,0,"Go back to assuming volume size in GB

With https://review.openstack.org/544724 we changed the size
to make it work with https://review.openstack.org/527592.

Now, due to https://review.openstack.org/545801 we can revert
the change.

Change-Id: Ie67526ebb46ddc0f0e60d7e9d94e752fc6128b2c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/545849/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,83a8f00469641af755ae138170826d3e5c766399,,lxc_host_machine_volume_size: 1024,lxc_host_machine_volume_size: 1024G,1,1
openstack%2Fopenstack-ansible~master~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,master,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-23 00:02:33.000000000,2018-02-24 17:21:48.000000000,2018-02-24 17:21:48.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-23 00:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0872147e5052002aeb07b276519204d69b407e20', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-02-23 16:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10043ac8e5b68cd139710d6e8801593da7144e43', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-02-23 17:06:40.000000000', 'files': ['playbooks/rsyslog-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/containers-nspawn-destroy.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/os-swift-sync.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/containers-lxc-host.yml', 'playbooks/containers-lxc-destroy.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c2743f5cca1930a553ce9f20b207cb17fa6b763d', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,547218,c2743f5cca1930a553ce9f20b207cb17fa6b763d,20,6,3,7353,,,0,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/547218/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/containers-nspawn-destroy.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-swift-sync.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/containers-lxc-host.yml', 'playbooks/containers-lxc-destroy.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml']",30,0872147e5052002aeb07b276519204d69b407e20,,, max_fail_percentage: 20,0,39
openstack%2Fopenstack-ansible~master~I45dcf6313e1daf63b35b8620b3467eebac0eb95d,openstack/openstack-ansible,master,I45dcf6313e1daf63b35b8620b3467eebac0eb95d,Increase Ansible SSH connection retries,MERGED,2018-02-19 14:40:31.000000000,2018-02-24 17:16:37.000000000,2018-02-24 17:16:37.000000000,"[{'_account_id': 6816}, {'_account_id': 7219}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 21714}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-19 14:40:31.000000000', 'files': ['scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/852a43fdd5cc888591324dcef4aa957e976954ed', 'message': 'Increase Ansible SSH connection retries\n\nRetries for Ansible SSH connections have been enabled in master but not\nthe stable branches. Testing using openstack-ansible-ops multi-node AIOs\nresults in failures due to SSH connection errors on a regular basis.\n\nThis change increases the number of retries from 3 to 5 to increase the\ntime allowed for a connection to be made from approximately 20 seconds\nto approximately 50 seconds. This will then provide for this setting to\nbe backported to all stable branches.\n\nChange-Id: I45dcf6313e1daf63b35b8620b3467eebac0eb95d\n'}]",9,545844,852a43fdd5cc888591324dcef4aa957e976954ed,32,7,1,7219,,,0,"Increase Ansible SSH connection retries

Retries for Ansible SSH connections have been enabled in master but not
the stable branches. Testing using openstack-ansible-ops multi-node AIOs
results in failures due to SSH connection errors on a regular basis.

This change increases the number of retries from 3 to 5 to increase the
time allowed for a connection to be made from approximately 20 seconds
to approximately 50 seconds. This will then provide for this setting to
be backported to all stable branches.

Change-Id: I45dcf6313e1daf63b35b8620b3467eebac0eb95d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/545844/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,852a43fdd5cc888591324dcef4aa957e976954ed,ssh-retries,"export ANSIBLE_SSH_RETRIES=""${ANSIBLE_SSH_RETRIES:-5}""","export ANSIBLE_SSH_RETRIES=""${ANSIBLE_SSH_RETRIES:-3}""",1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I299274fd78c5a849d820b68bcc6943889e1eefa4,openstack/openstack-ansible-openstack_hosts,master,I299274fd78c5a849d820b68bcc6943889e1eefa4,Remove host_need_pip,MERGED,2018-02-18 15:32:08.000000000,2018-02-24 16:44:52.000000000,2018-02-20 17:28:11.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-18 15:32:08.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d9405a537fd7658ca53c0d0deec1652e7ac54936', 'message': 'Remove host_need_pip\n\nThis variable is no longer required.\n\nDepends-On: https://review.openstack.org/545697\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: I299274fd78c5a849d820b68bcc6943889e1eefa4\n'}]",0,545698,d9405a537fd7658ca53c0d0deec1652e7ac54936,13,4,1,6816,,,0,"Remove host_need_pip

This variable is no longer required.

Depends-On: https://review.openstack.org/545697
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: I299274fd78c5a849d820b68bcc6943889e1eefa4
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/98/545698/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,d9405a537fd7658ca53c0d0deec1652e7ac54936,bp/python-build-install-simplification,," when: - ""host_need_pip | default(True) | bool""",0,2
openstack%2Fopenstack-ansible~master~I432e90566fd8574c8a1302bafb710bd6cfd0d02d,openstack/openstack-ansible,master,I432e90566fd8574c8a1302bafb710bd6cfd0d02d,Remove pip_lock_to_internal_repo variable,MERGED,2018-02-18 15:46:59.000000000,2018-02-24 16:42:04.000000000,2018-02-19 17:17:16.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-18 15:46:59.000000000', 'files': ['playbooks/common-tasks/set-upper-constraints.yml', 'playbooks/common-tasks/set-pip-upstream-url.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b88712912aa2ff2a192f6f82688b04aebaac192', 'message': 'Remove pip_lock_to_internal_repo variable\n\nThis variable is no longer set to true anywhere, so it\nis no longer required.\n\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: I432e90566fd8574c8a1302bafb710bd6cfd0d02d\n'}]",0,545699,2b88712912aa2ff2a192f6f82688b04aebaac192,12,5,1,6816,,,0,"Remove pip_lock_to_internal_repo variable

This variable is no longer set to true anywhere, so it
is no longer required.

Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: I432e90566fd8574c8a1302bafb710bd6cfd0d02d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/545699/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/common-tasks/set-upper-constraints.yml', 'playbooks/common-tasks/set-pip-upstream-url.yml']",2,2b88712912aa2ff2a192f6f82688b04aebaac192,bp/python-build-install-simplification,, pip_lock_to_internal_repo: false,0,2
openstack%2Fopenstack-ansible-pip_install~master~If472c845036ab904ffc15ca7201ae68d282c1be0,openstack/openstack-ansible-pip_install,master,If472c845036ab904ffc15ca7201ae68d282c1be0,Remove pip_lock_to_internal_repo variable,MERGED,2018-02-18 15:53:54.000000000,2018-02-24 16:40:37.000000000,2018-02-19 15:12:00.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-18 15:53:54.000000000', 'files': ['examples/playbook.yml', 'tasks/configure.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/f9d65b184f6a4ca418d77397b583e5072b6f8641', 'message': 'Remove pip_lock_to_internal_repo variable\n\nThe ability to lock the pip configuration down has\nnow been extended so that it is possible to implement\na different index and to use find-links to achieve the\nsame goal.\n\nThe only replacement implementation could be to disable\nthe setting of an index if one wanted to *only* use\nwheels, but that is unnecessary in OSA builds as we are\nable to set the build to only use a specific set of\nwheels through the pypiserver on the repo container.\n\nAs such, this variable has become useless and unused.\nThis patch therefore removes it.\n\nChange-Id: If472c845036ab904ffc15ca7201ae68d282c1be0\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n'}]",0,545700,f9d65b184f6a4ca418d77397b583e5072b6f8641,12,4,1,6816,,,0,"Remove pip_lock_to_internal_repo variable

The ability to lock the pip configuration down has
now been extended so that it is possible to implement
a different index and to use find-links to achieve the
same goal.

The only replacement implementation could be to disable
the setting of an index if one wanted to *only* use
wheels, but that is unnecessary in OSA builds as we are
able to set the build to only use a specific set of
wheels through the pypiserver on the repo container.

As such, this variable has become useless and unused.
This patch therefore removes it.

Change-Id: If472c845036ab904ffc15ca7201ae68d282c1be0
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/00/545700/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'tasks/configure.yml', 'defaults/main.yml']",3,f9d65b184f6a4ca418d77397b583e5072b6f8641,bp/python-build-install-simplification,,"# Enable/disable the configuration of the default index # False = default index is configured # True = default index is not configured # As this requires an alternative location to source # packages from, it requires there to be at least one # item in the pip_links list. pip_lock_to_internal_repo: False ",2,33
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Ifea942384176ef15733d79ef284ffbc283a6f46d,openstack/openstack-ansible-os_neutron,stable/queens,Ifea942384176ef15733d79ef284ffbc283a6f46d,"Partially revert ""Temporarily set functional tests to non-voting to unblock patch merging""",MERGED,2018-02-24 11:35:52.000000000,2018-02-24 16:24:28.000000000,2018-02-24 16:24:28.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 11:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/07383083f925456acbbf8d73e9567e98ff3e77d4', 'message': 'Revert ""Temporarily set functional tests to non-voting to unblock patch merging""\n\nThis reverts commit 8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31.\n\nChange-Id: Ifea942384176ef15733d79ef284ffbc283a6f46d\n'}, {'number': 2, 'created': '2018-02-24 13:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e905ed70ef03b62c0f227cd290e03e2a4ddaa9fb', 'message': 'Revert ""Temporarily set functional tests to non-voting to unblock patch merging""\n\nThis reverts commit 8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31.\n\nIt also combines with a backport of https://review.openstack.org/543514\n\nChange-Id: Ifea942384176ef15733d79ef284ffbc283a6f46d\n'}, {'number': 3, 'created': '2018-02-24 13:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/da5987f8a82aa8aeafb4891764e24f291c3df965', 'message': 'Partially revert ""Temporarily set functional tests to non-voting to unblock patch merging""\n\nThis partially reverts commit 8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31.\nThe upgrade job is left non-voting until it is working again.\n\nIt also combines with a backport of https://review.openstack.org/543514\n\nChange-Id: Ifea942384176ef15733d79ef284ffbc283a6f46d\n'}, {'number': 4, 'created': '2018-02-24 14:22:37.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ce642f625176476f4ca0502c187176335f672816', 'message': 'Partially revert ""Temporarily set functional tests to non-voting to unblock patch merging""\n\nThis partially reverts commit 8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31.\nThe upgrade job is left non-voting until it is working again.\n\nIt also combines with a backport of https://review.openstack.org/543514\n\nChange-Id: Ifea942384176ef15733d79ef284ffbc283a6f46d\n'}]",1,547748,ce642f625176476f4ca0502c187176335f672816,14,3,4,6816,,,0,"Partially revert ""Temporarily set functional tests to non-voting to unblock patch merging""

This partially reverts commit 8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31.
The upgrade job is left non-voting until it is working again.

It also combines with a backport of https://review.openstack.org/543514

Change-Id: Ifea942384176ef15733d79ef284ffbc283a6f46d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/48/547748/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,07383083f925456acbbf8d73e9567e98ff3e77d4,547741,,# TODO(odyssey4me): # Remove this once the job is passing again. - job: name: openstack-ansible-functional-ubuntu-xenial-nv parent: openstack-ansible-functional-ubuntu-xenial voting: false # TODO(odyssey4me): # Remove this once the upgrade job is passing again. - job: name: openstack-ansible-upgrade-ubuntu-xenial-nv parent: openstack-ansible-upgrade-ubuntu-xenial voting: false ,9,32
openstack%2Fopenstack-manuals~master~I52aa619e7c4b31e2c59e6d093f237b67bf54fcff,openstack/openstack-manuals,master,I52aa619e7c4b31e2c59e6d093f237b67bf54fcff,Serialize release note links of the last 3 releases,MERGED,2018-02-23 17:46:56.000000000,2018-02-24 15:57:56.000000000,2018-02-24 15:57:55.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-23 17:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bda8508c7eb3821474c22997cc9b081cbee94a8d', 'message': 'Fix links to Queens release page and docs release notes\n\nChange-Id: I52aa619e7c4b31e2c59e6d093f237b67bf54fcff\n'}, {'number': 2, 'created': '2018-02-24 09:07:37.000000000', 'files': ['www/pike/index.html', 'www/rocky/index.html', 'www/queens/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d0d60b888ec5eb396bd7d8ef79ec88812792e3c5', 'message': 'Serialize release note links of the last 3 releases\n\nChange-Id: I52aa619e7c4b31e2c59e6d093f237b67bf54fcff\n'}]",1,547528,d0d60b888ec5eb396bd7d8ef79ec88812792e3c5,12,5,2,17765,,,0,"Serialize release note links of the last 3 releases

Change-Id: I52aa619e7c4b31e2c59e6d093f237b67bf54fcff
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/28/547528/2 && git format-patch -1 --stdout FETCH_HEAD,['www/queens/index.html'],1,bda8508c7eb3821474c22997cc9b081cbee94a8d,," <a href=""https://releases.openstack.org/queens/index.html"">OpenStack Projects Release Notes</a> <a href=""/releasenotes/openstack-manuals/queens.html"">OpenStack Documentation Release Notes</a>"," <a href=""https://releases.openstack.org/pike/index.html"">OpenStack Projects Release Notes</a> <a href=""/releasenotes/openstack-manuals/pike.html"">OpenStack Documentation Release Notes</a>",2,2
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~I312e47fdba1f1dea36b815e969e4c119550c96ac,openstack/openstack-ansible-os_neutron,stable/queens,I312e47fdba1f1dea36b815e969e4c119550c96ac,[TEST]ing a theory,ABANDONED,2018-02-24 14:31:52.000000000,2018-02-24 15:32:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-24 14:31:52.000000000', 'files': ['tests/test-neutron-upgrades.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a239968883f6cfd6bab094a7d1f0608d243a4007', 'message': '[TEST]ing a theory\n\nChange-Id: I312e47fdba1f1dea36b815e969e4c119550c96ac\n'}]",0,547755,a239968883f6cfd6bab094a7d1f0608d243a4007,3,1,1,6816,,,0,"[TEST]ing a theory

Change-Id: I312e47fdba1f1dea36b815e969e4c119550c96ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/55/547755/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-neutron-upgrades.sh'],1,a239968883f6cfd6bab094a7d1f0608d243a4007,,"# NOTE(hwoarang): Ansible 2.4+ is broken in terms of task inclusion and relative # files are preferred over those belonging to the actual role. As such, we need to # change the current directory to something that doesn't look like a role directory # structure when executing the previous role # https://github.com/ansible/ansible/pull/34790 cd ${WORKING_DIR}/tests cd - ",,9,0
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~Ie0c8c95a0d4315f8d1f848b1309bf88b7c2644d4,openstack/openstack-ansible-repo_build,stable/queens,Ie0c8c95a0d4315f8d1f848b1309bf88b7c2644d4,Ensure virtualenv is not broken for CentOS/SuSE too,MERGED,2018-02-20 18:02:19.000000000,2018-02-24 15:08:02.000000000,2018-02-24 15:08:02.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 18:02:19.000000000', 'files': ['vars/redhat.yml', 'vars/suse-42.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/8b40ee9183e0cd33353dde5e289a651698232943', 'message': 'Ensure virtualenv is not broken for CentOS/SuSE too\n\nIn I2c50bb693dc5dc505bddce34ff45294ac44f7dc9 we applied changes\nto the settings to repo_build_venv_command_options so that pip,\nsetuptools and wheel were not copied into the new virtualend on\ncreation, but rather installed into it later.\n\nUnfortunately the patch missed that CentOS and SuSE platforms\nhave an override for the same variable, so the issue set out in\nthe patch still applies to those platforms.\n\nThis patch ensures that the overrides are removed and the\nvariable is only declared in one place, but the same functionality\nwhich gave rise to the override for those platforms is still\napplied when executed.\n\nCloses-Bug: #1746935\nChange-Id: Ie0c8c95a0d4315f8d1f848b1309bf88b7c2644d4\n(cherry picked from commit d206e7a61b08345b093258d2ac07978f72665872)\n'}]",1,546259,8b40ee9183e0cd33353dde5e289a651698232943,14,4,1,6816,,,0,"Ensure virtualenv is not broken for CentOS/SuSE too

In I2c50bb693dc5dc505bddce34ff45294ac44f7dc9 we applied changes
to the settings to repo_build_venv_command_options so that pip,
setuptools and wheel were not copied into the new virtualend on
creation, but rather installed into it later.

Unfortunately the patch missed that CentOS and SuSE platforms
have an override for the same variable, so the issue set out in
the patch still applies to those platforms.

This patch ensures that the overrides are removed and the
variable is only declared in one place, but the same functionality
which gave rise to the override for those platforms is still
applied when executed.

Closes-Bug: #1746935
Change-Id: Ie0c8c95a0d4315f8d1f848b1309bf88b7c2644d4
(cherry picked from commit d206e7a61b08345b093258d2ac07978f72665872)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/59/546259/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/suse-42.yml', 'defaults/main.yml']",3,8b40ee9183e0cd33353dde5e289a651698232943,bug/1746935-stable/queens,"# NOTE(odyssey4me): # Not using --always-copy for CentOS/SuSE due to # https://github.com/pypa/virtualenv/issues/565 {{ (ansible_pkg_mgr == 'apt') | ternary('--always-copy', '') }}", --always-copy,4,13
openstack%2Fopenstacksdk~master~If4942cb0e58e0fb51125c53cf1cfae9d65c57cd0,openstack/openstacksdk,master,If4942cb0e58e0fb51125c53cf1cfae9d65c57cd0,Shift tag resource definition to TagMixin,MERGED,2018-02-23 15:59:09.000000000,2018-02-24 14:59:02.000000000,2018-02-24 14:59:02.000000000,"[{'_account_id': 3099}, {'_account_id': 8246}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 15:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e0865427799e809e372e08dec6e4e7c8bb73d0ba', 'message': ""Shift tag resource definition to TagMixin\n\nThe TagMixin class defines things needed for resources that support\ntags. Currently the use of this involves a copy-pasta'd chunk (complete\nwith mis-spelling) to each class that's using the mixin. Move the tags\nresource to the Mixin and remove it from the indivdual classes so that\nwe don't have to copy/paste the chunk.\n\nAlso, fix the mis-spelling.\n\nChange-Id: If4942cb0e58e0fb51125c53cf1cfae9d65c57cd0\n""}, {'number': 2, 'created': '2018-02-23 18:24:59.000000000', 'files': ['openstack/network/v2/subnet.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/tag.py', 'openstack/network/v2/router.py', 'openstack/network/v2/port.py', 'openstack/network/v2/network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bdb49fcf4b32d2b3bd3b12cf335b306d2033220c', 'message': ""Shift tag resource definition to TagMixin\n\nThe TagMixin class defines things needed for resources that support\ntags. Currently the use of this involves a copy-pasta'd chunk (complete\nwith mis-spelling) to each class that's using the mixin. Move the tags\nresource to the Mixin and remove it from the indivdual classes so that\nwe don't have to copy/paste the chunk.\n\nAlso, fix the mis-spelling.\n\nChange-Id: If4942cb0e58e0fb51125c53cf1cfae9d65c57cd0\n""}]",0,547489,bdb49fcf4b32d2b3bd3b12cf335b306d2033220c,17,5,2,2,,,0,"Shift tag resource definition to TagMixin

The TagMixin class defines things needed for resources that support
tags. Currently the use of this involves a copy-pasta'd chunk (complete
with mis-spelling) to each class that's using the mixin. Move the tags
resource to the Mixin and remove it from the indivdual classes so that
we don't have to copy/paste the chunk.

Also, fix the mis-spelling.

Change-Id: If4942cb0e58e0fb51125c53cf1cfae9d65c57cd0
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/547489/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/subnet.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/tag.py', 'openstack/network/v2/router.py', 'openstack/network/v2/port.py', 'openstack/network/v2/network.py']",6,e0865427799e809e372e08dec6e4e7c8bb73d0ba,,," #: A list of assocaited tags #: *Type: list of tag strings* tags = resource.Body('tags', type=list, default=[])",5,15
openstack%2Frelease-tools~master~Ie1dd5bc6051c60c50b60fec27748a40a2b7eb233,openstack/release-tools,master,Ie1dd5bc6051c60c50b60fec27748a40a2b7eb233,add missing lib files for presentation,MERGED,2018-02-23 23:03:19.000000000,2018-02-24 14:44:34.000000000,2018-02-24 14:44:34.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 23:03:19.000000000', 'files': ['.gitignore', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/css/github.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/LICENSE', 'presentations/6-months-in-the-life-of-openstack/lib/css/vs.css', 'presentations/6-months-in-the-life-of-openstack/lib/css/zenburn.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.eot', 'presentations/6-months-in-the-life-of-openstack/lib/js/classList.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.woff', 'presentations/6-months-in-the-life-of-openstack/lib/js/html5shiv.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro.css', 'presentations/6-months-in-the-life-of-openstack/lib/js/head.min.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/LICENSE'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/669e9ff1ea0ee259fda2433ec1bdeb46da38bbd9', 'message': 'add missing lib files for presentation\n\nChange-Id: Ie1dd5bc6051c60c50b60fec27748a40a2b7eb233\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,547689,669e9ff1ea0ee259fda2433ec1bdeb46da38bbd9,7,3,1,2472,,,0,"add missing lib files for presentation

Change-Id: Ie1dd5bc6051c60c50b60fec27748a40a2b7eb233
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/89/547689/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/css/github.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/LICENSE', 'presentations/6-months-in-the-life-of-openstack/lib/css/vs.css', 'presentations/6-months-in-the-life-of-openstack/lib/css/zenburn.css', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.eot', 'presentations/6-months-in-the-life-of-openstack/lib/js/classList.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibolditalic.woff', 'presentations/6-months-in-the-life-of-openstack/lib/js/html5shiv.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-regular.eot', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro.css', 'presentations/6-months-in-the-life-of-openstack/lib/js/head.min.js', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-semibold.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/source-sans-pro-italic.woff', 'presentations/6-months-in-the-life-of-openstack/lib/font/league-gothic/league-gothic.ttf', 'presentations/6-months-in-the-life-of-openstack/lib/font/source-sans-pro/LICENSE']",26,669e9ff1ea0ee259fda2433ec1bdeb46da38bbd9,fix-presentation,"SIL Open Font License Copyright 2010, 2012 Adobe Systems Incorporated (http://www.adobe.com/), with Reserved Font Name Source. All Rights Reserved. Source is a trademark of Adobe Systems Incorporated in the United States and/or other countries. This Font Software is licensed under the SIL Open Font License, Version 1.1. This license is copied below, and is also available with a FAQ at: http://scripts.sil.org/OFL - SIL OPEN FONT LICENSE Version 1.1 - 26 February 2007 - PREAMBLE The goals of the Open Font License (OFL) are to stimulate worldwide development of collaborative font projects, to support the font creation efforts of academic and linguistic communities, and to provide a free and open framework in which fonts may be shared and improved in partnership with others. The OFL allows the licensed fonts to be used, studied, modified and redistributed freely as long as they are not sold by themselves. The fonts, including any derivative works, can be bundled, embedded, redistributed and/or sold with any software provided that any reserved names are not used by derivative works. The fonts and derivatives, however, cannot be released under any other type of license. The requirement for fonts to remain under this license does not apply to any document created using the fonts or their derivatives. DEFINITIONS Font Software refers to the set of files released by the Copyright Holder(s) under this license and clearly marked as such. This may include source files, build scripts and documentation. Reserved Font Name refers to any names specified as such after the copyright statement(s). Original Version refers to the collection of Font Software components as distributed by the Copyright Holder(s). Modified Version refers to any derivative made by adding to, deleting, or substitutingin part or in wholeany of the components of the Original Version, by changing formats or by porting the Font Software to a new environment. Author refers to any designer, engineer, programmer, technical writer or other person who contributed to the Font Software. PERMISSION & CONDITIONS Permission is hereby granted, free of charge, to any person obtaining a copy of the Font Software, to use, study, copy, merge, embed, modify, redistribute, and sell modified and unmodified copies of the Font Software, subject to the following conditions: 1) Neither the Font Software nor any of its individual components, in Original or Modified Versions, may be sold by itself. 2) Original or Modified Versions of the Font Software may be bundled, redistributed and/or sold with any software, provided that each copy contains the above copyright notice and this license. These can be included either as stand-alone text files, human-readable headers or in the appropriate machine-readable metadata fields within text or binary files as long as those fields can be easily viewed by the user. 3) No Modified Version of the Font Software may use the Reserved Font Name(s) unless explicit written permission is granted by the corresponding Copyright Holder. This restriction only applies to the primary font name as presented to the users. 4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font Software shall not be used to promote, endorse or advertise any Modified Version, except to acknowledge the contribution(s) of the Copyright Holder(s) and the Author(s) or with their explicit written permission. 5) The Font Software, modified or unmodified, in part or in whole, must be distributed entirely under this license, and must not be distributed under any other license. The requirement for fonts to remain under this license does not apply to any document created using the Font Software. TERMINATION This license becomes null and void if any of the above conditions are not met. DISCLAIMER THE FONT SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.",,362,1
openstack%2Fopenstack-zuul-jobs~master~Iebccc7b5b5418708058096e4b1a0b412e6102833,openstack/openstack-zuul-jobs,master,Iebccc7b5b5418708058096e4b1a0b412e6102833,"Revert ""Protect some jobs""",ABANDONED,2018-02-23 23:13:47.000000000,2018-02-24 14:30:42.000000000,,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 23:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/207472d0353c51de6276d7c1b25d9aeca68e2816', 'message': 'Revert ""Protect some jobs""\n\nThis is an attempt at figuring out if there is a relationship between this change and a sudden increase in Zuul\'s memory utilization. If we find there is no relation, we can re-submit it again.\n\nThis reverts commit b9e87893f4f905a89ce52a82e3986682750db623.\n\nChange-Id: Iebccc7b5b5418708058096e4b1a0b412e6102833\n'}, {'number': 2, 'created': '2018-02-23 23:15:21.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b5cdc26c972902e3f469bc71375138a848ccd8c0', 'message': 'Revert ""Protect some jobs""\n\nThis is an attempt at figuring out if there is a relationship between\nthis change and a sudden increase in Zuul\'s memory utilization.\n\nIf we find there is no relation, we can re-submit it again.\n\nThis reverts commit b9e87893f4f905a89ce52a82e3986682750db623.\n\nChange-Id: Iebccc7b5b5418708058096e4b1a0b412e6102833\n'}]",0,547691,b5cdc26c972902e3f469bc71375138a848ccd8c0,5,4,2,9061,,,0,"Revert ""Protect some jobs""

This is an attempt at figuring out if there is a relationship between
this change and a sudden increase in Zuul's memory utilization.

If we find there is no relation, we can re-submit it again.

This reverts commit b9e87893f4f905a89ce52a82e3986682750db623.

Change-Id: Iebccc7b5b5418708058096e4b1a0b412e6102833
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/91/547691/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,207472d0353c51de6276d7c1b25d9aeca68e2816,abstract,, abstract: true protected: true abstract: true protected: true abstract: true abstract: true abstract: true abstract: true abstract: true abstract: true abstract: true,1,11
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ia20bec06780f627e93d72914871f4b1e8eceb9cc,openstack/openstack-ansible-nspawn_hosts,master,Ia20bec06780f627e93d72914871f4b1e8eceb9cc,Updated from OpenStack Ansible Tests,MERGED,2018-02-22 20:43:49.000000000,2018-02-24 14:19:33.000000000,2018-02-24 14:19:33.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 20:43:49.000000000', 'files': ['tests/tests-repo-clone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/7174a0af9ee614e767110042c983e723c12862f7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia20bec06780f627e93d72914871f4b1e8eceb9cc\n'}]",0,547134,7174a0af9ee614e767110042c983e723c12862f7,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia20bec06780f627e93d72914871f4b1e8eceb9cc
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/34/547134/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests-repo-clone.sh'],1,7174a0af9ee614e767110042c983e723c12862f7,openstack/openstack-ansible-tests/sync-tests, git clone -b stable/queens \, git clone -b stable/pike \,1,1
openstack%2Fopenstack-ansible~master~I4dfc5941abfd834d1d53a9c737db7afcce2841a0,openstack/openstack-ansible,master,I4dfc5941abfd834d1d53a9c737db7afcce2841a0,[Docs] Migrate security into user guide,MERGED,2018-02-22 21:47:35.000000000,2018-02-24 13:52:36.000000000,2018-02-24 13:52:36.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-22 21:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6fa15c3b89c616b2a82501d9300dc2b8bfc42828', 'message': '[Docs] Migrate security into user guide\n\nMigrate all the security related user configurations into\na user story.\n\nChange-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0\n'}, {'number': 2, 'created': '2018-02-22 23:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c1a4417b0ea682581263cb08a51e716ca30dbb4', 'message': '[Docs] Migrate security into user guide\n\nMigrate all the security related user configurations into\na user story.\n\nChange-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0\n'}, {'number': 3, 'created': '2018-02-23 14:48:43.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/security/ssl-certificates.rst', 'deploy-guide/source/app-resources.rst', 'doc/source/user/security/hardening.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/architecture/security.rst', 'doc/source/user/security/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1a7525570f8a30cc9e335f00fb3007a52ed6344', 'message': '[Docs] Migrate security into user guide\n\nMigrate all the security related user configurations into\na user story.\n\nChange-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0\n'}]",2,547151,f1a7525570f8a30cc9e335f00fb3007a52ed6344,14,4,3,17068,,,0,"[Docs] Migrate security into user guide

Migrate all the security related user configurations into
a user story.

Change-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/547151/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/security/ssl-certificates.rst', 'deploy-guide/source/app-resources.rst', 'doc/source/user/security/hardening.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/architecture/security.rst', 'doc/source/user/security/index.rst']",7,6fa15c3b89c616b2a82501d9300dc2b8bfc42828,bp/docs-improvements,"================= Security settings ================= This chapter contains information to configure specific security settings for your OpenStack-Ansible cloud. For understanding security design, please see :ref:`security-design`. .. include:: ssl-certificates.rst .. include:: hardening.rst",,70,41
openstack%2Fopenstack-ansible~master~Id7b7e58aaaf0630b9b1b99796c39eebbc28e0b04,openstack/openstack-ansible,master,Id7b7e58aaaf0630b9b1b99796c39eebbc28e0b04,[Docs] Move limited connectivity to user guide,MERGED,2018-02-22 21:47:35.000000000,2018-02-24 13:49:30.000000000,2018-02-24 13:49:30.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-22 21:47:35.000000000', 'files': ['deploy-guide/source/deploymenthost.rst', 'doc/source/user/index.rst', 'doc/source/user/limited-connectivity/index.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6eb92becaa0cb0d4315a1d7f799adbb7abe65ea', 'message': '[Docs] Move limited connectivity to user guide\n\nThis is a user story and should be treated as such.\n\nChange-Id: Id7b7e58aaaf0630b9b1b99796c39eebbc28e0b04\n'}]",0,547150,b6eb92becaa0cb0d4315a1d7f799adbb7abe65ea,8,4,1,17068,,,0,"[Docs] Move limited connectivity to user guide

This is a user story and should be treated as such.

Change-Id: Id7b7e58aaaf0630b9b1b99796c39eebbc28e0b04
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/547150/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/index.rst', 'doc/source/user/limited-connectivity/index.rst', 'deploy-guide/source/app.rst', 'deploy-guide/source/conf.py']",5,b6eb92becaa0cb0d4315a1d7f799adbb7abe65ea,bp/docs-improvements,"dev_docs_prefix = ""http://docs.openstack.org/openstack-ansible/{}/%s"".format(deploy_branch_link_name)","dev_docs_prefix = ""http://docs.openstack.org/openstack-ansible/{}%s"".format(dev_branch_link_name)",8,8
openstack%2Fopenstack-ansible~master~I712470742250f37a410eb88087b14403ac777493,openstack/openstack-ansible,master,I712470742250f37a410eb88087b14403ac777493,[Docs] Centralize Inventory documentation,MERGED,2018-02-22 21:47:35.000000000,2018-02-24 13:49:28.000000000,2018-02-24 13:49:28.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-22 21:47:35.000000000', 'files': ['doc/source/reference/inventory/configure-inventory.rst', 'doc/source/reference/inventory/inventory.rst', 'doc/source/reference/inventory/understanding-inventory.rst', 'deploy-guide/source/app-custom-layouts.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/inventory/generate-inventory.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb89fa513a5e4335d7df051320eef33f9a5a3bc2', 'message': '[Docs] Centralize Inventory documentation\n\nThere are details about inventory configuration in the deploy\nguide that could go to the reference.\n\nChange-Id: I712470742250f37a410eb88087b14403ac777493\n'}]",2,547149,eb89fa513a5e4335d7df051320eef33f9a5a3bc2,8,4,1,17068,,,0,"[Docs] Centralize Inventory documentation

There are details about inventory configuration in the deploy
guide that could go to the reference.

Change-Id: I712470742250f37a410eb88087b14403ac777493
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/547149/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/inventory/configure-inventory.rst', 'doc/source/reference/inventory/inventory.rst', 'doc/source/reference/inventory/understanding-inventory.rst', 'deploy-guide/source/app-custom-layouts.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/inventory/generate-inventory.rst']",6,eb89fa513a5e4335d7df051320eef33f9a5a3bc2,bp/docs-improvements,"For more details, see :ref:`configuring-inventory`. ~~~~~~~",^^^^^^^,252,247
openstack%2Fopenstack-ansible-os_neutron~master~Ic5210d62412ccf08e7d71860159aaaf37be9ddfd,openstack/openstack-ansible-os_neutron,master,Ic5210d62412ccf08e7d71860159aaaf37be9ddfd,"neutron_needs_openvswitch should be jinja, not a string",MERGED,2018-02-23 19:05:23.000000000,2018-02-24 13:33:17.000000000,2018-02-24 13:33:17.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-02-23 19:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4c4c2e0ddf921c0492ae401bf5c5e40eccd272e8', 'message': 'neutron_needs_openvswitch should be jinja, not a string\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n'}, {'number': 2, 'created': '2018-02-23 19:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/506076d3e3e22ab1fdcbca079682c2ce4d44d4ef', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n""}, {'number': 3, 'created': '2018-02-23 19:09:28.000000000', 'files': ['vars/main.yml', 'tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6341bbe74392d70a2f8002194cad85d754d8afe1', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n""}]",0,547650,6341bbe74392d70a2f8002194cad85d754d8afe1,13,5,3,6816,,,0,"neutron_needs_openvswitch should be jinja, not a string

In I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set
was broken out into its own variable to make it easier to grok, but
the new variable was not wrapped in jinja braces, so it's evaluated
as a string instead of jinja to interpret.

Also, all conditionals that use the variable should be checking for
a boolean value. Right now it might just consider the result true
because the variable exists, rather than the value of the variable.

Change-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/50/547650/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,4c4c2e0ddf921c0492ae401bf5c5e40eccd272e8,,neutron_needs_openvswitch: >- {{ (neutron_services['neutron-openvswitch-agent']['group'] in group_names and neutron_services['neutron-openvswitch-agent'].service_en | bool) or (neutron_services['dragonflow-controller-agent']['group'] in group_names and neutron_services['dragonflow-controller-agent'].service_en | bool) or (neutron_services['dragonflow-l3-agent']['group'] in group_names and neutron_services['dragonflow-l3-agent'].service_en | bool) or ((neutron_services['neutron-server']['group'] not in group_names) and neutron_plugin_type == 'ml2.opendaylight') }},neutron_needs_openvswitch: (neutron_services['neutron-openvswitch-agent']['group'] in group_names and neutron_services['neutron-openvswitch-agent'].service_en | bool) or (neutron_services['dragonflow-controller-agent']['group'] in group_names and neutron_services['dragonflow-controller-agent'].service_en | bool) or (neutron_services['dragonflow-l3-agent']['group'] in group_names and neutron_services['dragonflow-l3-agent'].service_en | bool) or ((neutron_services['neutron-server']['group'] not in group_names) and neutron_plugin_type == 'ml2.opendaylight'),5,4
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~I5f1fbfb592ecd07ad12708a672cf401d4d481ab3,openstack/openstack-ansible-os_neutron,stable/queens,I5f1fbfb592ecd07ad12708a672cf401d4d481ab3,Stop running non-voting jobs in gate,ABANDONED,2018-02-20 10:42:25.000000000,2018-02-24 13:20:01.000000000,,"[{'_account_id': 4162}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 10:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/207de11719559e3af11e95bbace25af065448c50', 'message': ""Stop running non-voting jobs in gate\n\nThere isn't a need to run non-voting jobs in gate, as it ends up just\nwasting CI resources.  Results can be obtained from the check pipeline\nresults.\n\nChange-Id: I5f1fbfb592ecd07ad12708a672cf401d4d481ab3\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n(cherry picked from commit 10022cfcb95354fdc2b980a69c9ad5a40fceb216)\n""}, {'number': 2, 'created': '2018-02-24 11:50:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/de90dc9d8117c5262264acbfbafcf28d07226756', 'message': ""Stop running non-voting jobs in gate\n\nThere isn't a need to run non-voting jobs in gate, as it ends up just\nwasting CI resources.  Results can be obtained from the check pipeline\nresults.\n\nChange-Id: I5f1fbfb592ecd07ad12708a672cf401d4d481ab3\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n(cherry picked from commit 10022cfcb95354fdc2b980a69c9ad5a40fceb216)\n""}]",0,546109,de90dc9d8117c5262264acbfbafcf28d07226756,6,3,2,6816,,,0,"Stop running non-voting jobs in gate

There isn't a need to run non-voting jobs in gate, as it ends up just
wasting CI resources.  Results can be obtained from the check pipeline
results.

Change-Id: I5f1fbfb592ecd07ad12708a672cf401d4d481ab3
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
(cherry picked from commit 10022cfcb95354fdc2b980a69c9ad5a40fceb216)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/09/546109/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,207de11719559e3af11e95bbace25af065448c50,,, - openstack-ansible-neutron-ssl-nv,0,1
openstack%2Fdesignate~master~I9d3d3e4c42e841abc9599eba81a3b6d7d9cb1a2f,openstack/designate,master,I9d3d3e4c42e841abc9599eba81a3b6d7d9cb1a2f,Remove empty files,MERGED,2018-02-22 10:49:07.000000000,2018-02-24 12:13:44.000000000,2018-02-24 12:13:44.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 10:49:07.000000000', 'files': ['doc/source/_static/designate-docs.css'], 'web_link': 'https://opendev.org/openstack/designate/commit/41a6c860c0f6199b3e5d6e990b79fcefaab159a6', 'message': 'Remove empty files\n\ndoc/source/_static/designate-docs.css\nis empty file. We probably should delete it.\n\nChange-Id: I9d3d3e4c42e841abc9599eba81a3b6d7d9cb1a2f\n'}]",0,546944,41a6c860c0f6199b3e5d6e990b79fcefaab159a6,6,2,1,19853,,,0,"Remove empty files

doc/source/_static/designate-docs.css
is empty file. We probably should delete it.

Change-Id: I9d3d3e4c42e841abc9599eba81a3b6d7d9cb1a2f
",git fetch https://review.opendev.org/openstack/designate refs/changes/44/546944/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/designate-docs.css'],1,41a6c860c0f6199b3e5d6e990b79fcefaab159a6,,,,0,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Ifbcca131435c8963cc9c1b85c000cc040fab27ab,openstack/openstack-ansible-os_neutron,stable/queens,Ifbcca131435c8963cc9c1b85c000cc040fab27ab,Add SELinux contexts for neutron log directory,MERGED,2018-02-19 17:06:01.000000000,2018-02-24 11:47:52.000000000,2018-02-24 11:47:52.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 17:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/75bf6bed75fe8726d746049c51a33d55c83e6b8d', 'message': ""Add SELinux contexts for neutron log directory\n\nThis is a backport of:\n- https://review.openstack.org/543588\n- https://review.openstack.org/545503\n\nThe log directory for neutron has the default_t SELinux context and this\nprevents rsyslog from accessing neutron's logs. This patch ensures that\nthe file contexts are set properly for neutron's logs.\n\nThis change also makes neutron's log directory configurable using the\n`neutron_log_dir` variable.\n\nCloses-Bug: 1748968\nChange-Id: Ifbcca131435c8963cc9c1b85c000cc040fab27ab\n""}, {'number': 2, 'created': '2018-02-20 10:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ef497c29283e4f50dceda38e3698c0f41121b369', 'message': ""Add SELinux contexts for neutron log directory\n\nThis is a backport of:\n- https://review.openstack.org/543588\n- https://review.openstack.org/545503\n\nThe log directory for neutron has the default_t SELinux context and this\nprevents rsyslog from accessing neutron's logs. This patch ensures that\nthe file contexts are set properly for neutron's logs.\n\nThis change also makes neutron's log directory configurable using the\n`neutron_log_dir` variable.\n\nCloses-Bug: 1748968\nChange-Id: Ifbcca131435c8963cc9c1b85c000cc040fab27ab\n""}, {'number': 3, 'created': '2018-02-24 09:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9c900220310e18ae6498afb1188ce849457ffda9', 'message': ""Add SELinux contexts for neutron log directory\n\nThis is a backport of:\n- https://review.openstack.org/543588\n- https://review.openstack.org/545503\n\nThe log directory for neutron has the default_t SELinux context and this\nprevents rsyslog from accessing neutron's logs. This patch ensures that\nthe file contexts are set properly for neutron's logs.\n\nThis change also makes neutron's log directory configurable using the\n`neutron_log_dir` variable.\n\nCloses-Bug: 1748968\nChange-Id: Ifbcca131435c8963cc9c1b85c000cc040fab27ab\n""}, {'number': 4, 'created': '2018-02-24 09:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7e11c8b9829bbc607fcec7c0ed1f16ec2b7be7f5', 'message': ""Add SELinux contexts for neutron log directory\n\nThis is a backport of:\n- https://review.openstack.org/543588\n- https://review.openstack.org/545503\n\nThe log directory for neutron has the default_t SELinux context and this\nprevents rsyslog from accessing neutron's logs. This patch ensures that\nthe file contexts are set properly for neutron's logs.\n\nThis change also makes neutron's log directory configurable using the\n`neutron_log_dir` variable.\n\nCloses-Bug: 1748968\nChange-Id: Ifbcca131435c8963cc9c1b85c000cc040fab27ab\n""}, {'number': 5, 'created': '2018-02-24 10:51:42.000000000', 'files': ['templates/neutron.conf.j2', 'tasks/neutron_pre_install.yml', 'tasks/neutron_selinux.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/neutron-ha-tool.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/517b78d4dd99b6318388e929a895378327d75989', 'message': ""Add SELinux contexts for neutron log directory\n\nThis is a backport of:\n- https://review.openstack.org/543588\n- https://review.openstack.org/545503\n\nThe log directory for neutron has the default_t SELinux context and this\nprevents rsyslog from accessing neutron's logs. This patch ensures that\nthe file contexts are set properly for neutron's logs.\n\nThis change also makes neutron's log directory configurable using the\n`neutron_log_dir` variable.\n\nCloses-Bug: 1748968\nChange-Id: Ifbcca131435c8963cc9c1b85c000cc040fab27ab\n""}]",0,545884,517b78d4dd99b6318388e929a895378327d75989,17,4,5,6816,,,0,"Add SELinux contexts for neutron log directory

This is a backport of:
- https://review.openstack.org/543588
- https://review.openstack.org/545503

The log directory for neutron has the default_t SELinux context and this
prevents rsyslog from accessing neutron's logs. This patch ensures that
the file contexts are set properly for neutron's logs.

This change also makes neutron's log directory configurable using the
`neutron_log_dir` variable.

Closes-Bug: 1748968
Change-Id: Ifbcca131435c8963cc9c1b85c000cc040fab27ab
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/84/545884/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'tasks/neutron_pre_install.yml', 'tasks/neutron_selinux.yml', 'defaults/main.yml', 'vars/main.yml', 'templates/neutron-ha-tool.py.j2']",6,75bf6bed75fe8726d746049c51a33d55c83e6b8d,bug/1748968, log_dir = '{{ neutron_log_dir }}', log_dir = '/var/log/neutron',37,18
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Iaef4cde0819987d3d567a8dd7484135cf10aaa48,openstack/openstack-ansible-os_neutron,stable/queens,Iaef4cde0819987d3d567a8dd7484135cf10aaa48,Temporarily set functional tests to non-voting to unblock patch merging,MERGED,2018-02-24 09:34:53.000000000,2018-02-24 11:35:52.000000000,2018-02-24 11:32:38.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 09:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/62bcaf24ba86cba87f27ea436477e80a24d795ce', 'message': 'Temporarily remove the upgrade test to unblock patch merging\n\nIn order to get patches merged to fix upgrades for both Queens\nand master, we need to remove the test from blocking things.\n\nChange-Id: Iaef4cde0819987d3d567a8dd7484135cf10aaa48\n'}, {'number': 2, 'created': '2018-02-24 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9177661c10e75d777b8b571e9f78e7e189fff62e', 'message': 'Temporarily make upgrade test non-voting to unblock patch merging\n\nIn order to get patches merged to fix upgrades for both Queens\nand master, we need to remove the test from blocking things.\n\nChange-Id: Iaef4cde0819987d3d567a8dd7484135cf10aaa48\n'}, {'number': 3, 'created': '2018-02-24 10:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/11a3f4fa660fc675d143bd6a71921bb89f375d89', 'message': 'Temporarily set functional tests to non-voting to unblock patch merging\n\nIn order to get patches merged to fix functional tests for both Queens\nand master, we need to remove the tests from blocking things.\n\nChange-Id: Iaef4cde0819987d3d567a8dd7484135cf10aaa48\n'}, {'number': 4, 'created': '2018-02-24 10:29:17.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31', 'message': 'Temporarily set functional tests to non-voting to unblock patch merging\n\nIn order to get patches merged to fix functional tests for both Queens\nand master, we need to remove the tests from blocking things.\n\nChange-Id: Iaef4cde0819987d3d567a8dd7484135cf10aaa48\n'}]",0,547741,8b40e92f7a99c36c29cdf2afa3cc40a1869b6d31,12,3,4,6816,,,0,"Temporarily set functional tests to non-voting to unblock patch merging

In order to get patches merged to fix functional tests for both Queens
and master, we need to remove the tests from blocking things.

Change-Id: Iaef4cde0819987d3d567a8dd7484135cf10aaa48
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/41/547741/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,62bcaf24ba86cba87f27ea436477e80a24d795ce,547741, # TODO(odyssey4me): # Temporarily removed to unblock the gates. #- openstack-ansible-upgrade-ubuntu-xenial # TODO(odyssey4me): # Temporarily removed to unblock the gates. #- openstack-ansible-upgrade-ubuntu-xenial, - openstack-ansible-upgrade-ubuntu-xenial,6,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Ic5210d62412ccf08e7d71860159aaaf37be9ddfd,openstack/openstack-ansible-os_neutron,stable/queens,Ic5210d62412ccf08e7d71860159aaaf37be9ddfd,"neutron_needs_openvswitch should be jinja, not a string",MERGED,2018-02-24 09:13:00.000000000,2018-02-24 11:34:53.000000000,2018-02-24 11:34:53.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 09:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5754a221a472c9979ac37214639484f788ec1b8f', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n""}, {'number': 2, 'created': '2018-02-24 09:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d06e3adaa9abfb34c295caa40f5f3034cc66f904', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)\n""}, {'number': 3, 'created': '2018-02-24 09:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/10792c7e887f1a9ca55259c12ec27ccbf0fb9e59', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)\n""}, {'number': 4, 'created': '2018-02-24 09:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/93d2e1d7f30f8db5fa4adfcb4db898e47468ac68', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)\n""}, {'number': 5, 'created': '2018-02-24 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8d1f3f5cbe599e50c733c1a7946d4e9d0a5f61eb', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)\n""}, {'number': 6, 'created': '2018-02-24 10:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/47849a8b57e38dcf16fd894b702f65e67b0d8a02', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)\n""}, {'number': 7, 'created': '2018-02-24 10:29:57.000000000', 'files': ['vars/main.yml', 'tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0838d606a344269163ec51a72456c779dc6a27a4', 'message': ""neutron_needs_openvswitch should be jinja, not a string\n\nIn I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set\nwas broken out into its own variable to make it easier to grok, but\nthe new variable was not wrapped in jinja braces, so it's evaluated\nas a string instead of jinja to interpret.\n\nAlso, all conditionals that use the variable should be checking for\na boolean value. Right now it might just consider the result true\nbecause the variable exists, rather than the value of the variable.\n\nChange-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd\n(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)\n""}]",0,547731,0838d606a344269163ec51a72456c779dc6a27a4,15,3,7,6816,,,0,"neutron_needs_openvswitch should be jinja, not a string

In I4ec4fc2c2124a941f24478cbdf39ed34c0dce56f the long conditional set
was broken out into its own variable to make it easier to grok, but
the new variable was not wrapped in jinja braces, so it's evaluated
as a string instead of jinja to interpret.

Also, all conditionals that use the variable should be checking for
a boolean value. Right now it might just consider the result true
because the variable exists, rather than the value of the variable.

Change-Id: Ic5210d62412ccf08e7d71860159aaaf37be9ddfd
(cherry picked from commit 6341bbe74392d70a2f8002194cad85d754d8afe1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/31/547731/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/neutron_install.yml', 'vars/main.yml']",2,5754a221a472c9979ac37214639484f788ec1b8f,,neutron_needs_openvswitch: >- {{ (neutron_services['neutron-openvswitch-agent']['group'] in group_names and neutron_services['neutron-openvswitch-agent'].service_en | bool) or (neutron_services['dragonflow-controller-agent']['group'] in group_names and neutron_services['dragonflow-controller-agent'].service_en | bool) or (neutron_services['dragonflow-l3-agent']['group'] in group_names and neutron_services['dragonflow-l3-agent'].service_en | bool) or ((neutron_services['neutron-server']['group'] not in group_names) and neutron_plugin_type == 'ml2.opendaylight') }} {% if neutron_needs_openvswitch | bool %},neutron_needs_openvswitch: (neutron_services['neutron-openvswitch-agent']['group'] in group_names and neutron_services['neutron-openvswitch-agent'].service_en | bool) or (neutron_services['dragonflow-controller-agent']['group'] in group_names and neutron_services['dragonflow-controller-agent'].service_en | bool) or (neutron_services['dragonflow-l3-agent']['group'] in group_names and neutron_services['dragonflow-l3-agent'].service_en | bool) or ((neutron_services['neutron-server']['group'] not in group_names) and neutron_plugin_type == 'ml2.opendaylight') {% if neutron_needs_openvswitch %},7,6
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3,openstack/openstack-ansible-os_neutron,stable/queens,Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3,Updated from OpenStack Ansible Tests,MERGED,2018-02-15 12:54:36.000000000,2018-02-24 11:34:52.000000000,2018-02-24 11:34:52.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-02-15 12:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2b3b6c1a3c4c4b757d86ec3cad8c61d4988f0913', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3\n'}, {'number': 2, 'created': '2018-02-19 09:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/11ce07ec3e06354ca75424eed507a541cf0ff408', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3\n'}, {'number': 3, 'created': '2018-02-24 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/224a46ee8ab96687424f0c7e56a02c64e8d8bef7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3\n'}, {'number': 4, 'created': '2018-02-24 09:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4b60a66f878f1ab75bcef3e0eb51c73c1a973bad', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3\n'}, {'number': 5, 'created': '2018-02-24 10:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/048f3aa428c18f9b08365d438e82d15a128254ae', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3\n'}, {'number': 6, 'created': '2018-02-24 10:29:41.000000000', 'files': ['tests/tests-repo-clone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/27b0c498187c5c22a53af766dc3f6ee00b89527e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3\n'}]",0,544930,27b0c498187c5c22a53af766dc3f6ee00b89527e,22,3,6,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie0357d39fab6ea4c74b5e77cf7fa2cf020c603c3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/30/544930/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests-repo-clone.sh'],1,2b3b6c1a3c4c4b757d86ec3cad8c61d4988f0913,openstack/openstack-ansible-tests/sync-tests, git clone -b stable/queens \, git clone \,1,1
openstack%2Fpython-openstackclient~master~I4bb001054b00a969b74db3bb310e567033bf589b,openstack/python-openstackclient,master,I4bb001054b00a969b74db3bb310e567033bf589b,"Add support for ""--dns-domain"" argument",MERGED,2017-09-04 06:19:12.000000000,2018-02-24 10:59:41.000000000,2018-02-24 10:59:41.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 1131}, {'_account_id': 6482}, {'_account_id': 13252}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 24504}, {'_account_id': 26297}]","[{'number': 1, 'created': '2017-09-04 06:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b8ccb860413abecc61afdade1b9b487eb8de20d4', 'message': 'Add support for ""--dns-domain"" argument\n\nThis patchset implements support for ""--dns-domain"" argument to the\nfollowing commands: ""openstack port create"" / ""openstack port set"".\n\nChange-Id: I4bb001054b00a969b74db3bb310e567033bf589b\nCloses-Bug: #1714878\nPartial-Bug: #1704769\n'}, {'number': 2, 'created': '2017-09-05 08:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7f4c7bf7c774b9e6a7b01fc7635fce08c27efc93', 'message': 'Add support for ""--dns-domain"" argument\n\nThis patchset implements support for ""--dns-domain"" argument to the\nfollowing commands: ""openstack port create"" / ""openstack port set"".\n\nChange-Id: I4bb001054b00a969b74db3bb310e567033bf589b\nCloses-Bug: #1714878\nPartial-Bug: #1704769\n'}, {'number': 3, 'created': '2017-09-05 09:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/589506cf7b6790fa214a17d6cf617cfaf95c6722', 'message': 'Add support for ""--dns-domain"" argument\n\nThis patchset implements support for ""--dns-domain"" argument to the\nfollowing commands: ""openstack port create"" / ""openstack port set"".\n\nChange-Id: I4bb001054b00a969b74db3bb310e567033bf589b\nDepends-On: https://review.openstack.org/#/c/500660/\nCloses-Bug: #1714878\nPartial-Bug: #1704769\n'}, {'number': 4, 'created': '2018-02-23 11:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4def15966a74d6f7a49edf6f0a9bf5964e9cb191', 'message': 'Add support for ""--dns-domain"" argument\n\nThis patchset implements support for ""--dns-domain"" argument to the\nfollowing commands: ""openstack port create"" / ""openstack port set"".\n\nChange-Id: I4bb001054b00a969b74db3bb310e567033bf589b\nDepends-On: https://review.openstack.org/#/c/500660/\nCloses-Bug: #1714878\nPartial-Bug: #1704769\n'}, {'number': 5, 'created': '2018-02-23 20:30:53.000000000', 'files': ['releasenotes/notes/bug-1714878-46806jv2yv13q054.yaml', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/port.py', 'doc/source/cli/command-objects/port.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4a9e84be994575146b30bd40a341d5686174eaad', 'message': 'Add support for ""--dns-domain"" argument\n\nThis patchset implements support for ""--dns-domain"" argument to the\nfollowing commands: ""openstack port create"" / ""openstack port set"".\n\nChange-Id: I4bb001054b00a969b74db3bb310e567033bf589b\nDepends-On: https://review.openstack.org/#/c/500660/\nCloses-Bug: #1714878\nPartial-Bug: #1704769\n'}]",6,500450,4a9e84be994575146b30bd40a341d5686174eaad,26,10,5,24504,,,0,"Add support for ""--dns-domain"" argument

This patchset implements support for ""--dns-domain"" argument to the
following commands: ""openstack port create"" / ""openstack port set"".

Change-Id: I4bb001054b00a969b74db3bb310e567033bf589b
Depends-On: https://review.openstack.org/#/c/500660/
Closes-Bug: #1714878
Partial-Bug: #1704769
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/500450/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'doc/source/cli/command-objects/port.rst', 'openstackclient/network/v2/port.py']",4,b8ccb860413abecc61afdade1b9b487eb8de20d4,bug/1714878," if parsed_args.dns_domain is not None: attrs['dns_domain'] = parsed_args.dns_domain '--dns-domain', metavar='dns-domain', help=_(""Set DNS domain to this port "" ""(requires DNS integration extension)"") ) parser.add_argument(",,26,0
openstack%2Fkolla-ansible~master~Ib463cb8d1caea49de0bbd7874acc87d4f3300941,openstack/kolla-ansible,master,Ib463cb8d1caea49de0bbd7874acc87d4f3300941,Fix tacker vnffgd version,MERGED,2018-02-22 10:52:22.000000000,2018-02-24 10:15:10.000000000,2018-02-24 10:15:10.000000000,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26556}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-02-22 10:52:22.000000000', 'files': ['contrib/demos/tacker/deploy-tacker-demo-sfc'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1049dd350913bfbb22e2ec4b64718083105b6c0f', 'message': 'Fix tacker vnffgd version\n\nChange-Id: Ib463cb8d1caea49de0bbd7874acc87d4f3300941\nCloses-Bug: #1751024\n'}]",0,546946,1049dd350913bfbb22e2ec4b64718083105b6c0f,10,6,1,19316,,,0,"Fix tacker vnffgd version

Change-Id: Ib463cb8d1caea49de0bbd7874acc87d4f3300941
Closes-Bug: #1751024
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/546946/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/demos/tacker/deploy-tacker-demo-sfc'],1,1049dd350913bfbb22e2ec4b64718083105b6c0f,bug/1751024, type: tosca.nodes.nfv.FP.TackerV2 - name: block_http classifier: network_src_port_id: ${KOLLA_SFC_CLIENT_PORT} network_id: ${DEMO_NET} ip_proto: 6 destination_port_range: 80-80, type: tosca.nodes.nfv.FP.Tacker - network_src_port_id: ${KOLLA_SFC_CLIENT_PORT} - network_id: ${DEMO_NET} - ip_proto: 6 - destination_port_range: 80-80,7,5
openstack%2Fi18n~master~Id9210120ebf1cbcb816139a275af4df91d004379,openstack/i18n,master,Id9210120ebf1cbcb816139a275af4df91d004379,Imported Translations from Zanata,MERGED,2018-02-24 07:16:26.000000000,2018-02-24 10:06:30.000000000,2018-02-24 10:06:30.000000000,"[{'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 07:16:26.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/i18n/commit/72641a86443ce299824da5e2c03dc1b6d9b09c18', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id9210120ebf1cbcb816139a275af4df91d004379\n'}]",0,547722,72641a86443ce299824da5e2c03dc1b6d9b09c18,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id9210120ebf1cbcb816139a275af4df91d004379
",git fetch https://review.opendev.org/openstack/i18n refs/changes/22/547722/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/ko_KR/LC_MESSAGES/doc.po'],1,72641a86443ce299824da5e2c03dc1b6d9b09c18,zanata/translations,"""POT-Creation-Date: 2018-02-23 17:19+0000\n""""PO-Revision-Date: 2018-02-23 09:07+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""msgstr ""(    .)"""". ``pip install tox``  (Ubuntu ) ``apt-get install python-""""Zanata ID Launchpad ID  , Stackalytics    "" "". Stackalytics ID    .  ,  "" "" `Stackalytics  <http://git.openstack.org/cgit/openstack/"" ""stackalytics/>`__  ``etc/detault_data.json``   .   "" ""https://review.openstack.org/#/c/284638/1/etc/default_data.json ."""" :ref:`sync-translator-list` ).""msgstr ""OpenStack I18n : :ref:`label-i18n-team-contact`  """" `Zanata  API <https://zanata.ci.cloudbees.com/job/zanata-api-"" ""site/site/zanata-common-api/rest-api-docs/resource_StatisticsResource."" ""html>`__   `Python  <http://git.openstack.org/cgit/openstack/"" ""i18n/tree/tools/zanata/zanata_stats.py>`__   .  "" "" `openstack/i18n git  <http://git.openstack.org/cgit/openstack/"" ""i18n>`__ \n"" ""  `translation_team.yaml <http://git.openstack.org/cgit/openstack/i18n/"" ""tree/tools/zanata/translation_team.yaml>`__   ."""".  , `Zanata <https://translate.openstack.org/>`__  "" ""`i18n <https://translate.openstack.org/project/view/i18n>`__  "" "". **i18n**   **doc**    . "" ""          "" "".     (      :ref:"" ""`translation-jobs`  )  ,     "" ""   ."""".       `Zanata CLI configuration ""","""POT-Creation-Date: 2018-02-11 06:34+0000\n""""PO-Revision-Date: 2018-02-11 06:39+0000\n"" ""Last-Translator: Wonil Choi <wonil0522@gmail.com>\n""msgstr ""(    .)"""". ``pip install tox``  (Ubuntu )``apt-get install python-""""Zanata ID   ID  , Stackalytics    "" "". Stackalytics ID    . ,  "" "" Stackalytics <http://git.openstack.org/cgit/openstack/"" ""stackalytics/>`__  ``etc/detault_data.json``  .   "" ""https://review.openstack.org/#/c/284638/1/etc/default_data.json."""" : ref :`sync-translator-list` ).""msgstr ""OpenStack I18n : :ref:`label-i18n-team-contact`  """" `a Python script <http://git.openstack.org/cgit/openstack/i18n/tree/"" ""tools/zanata/zanata_stats.py>`__ powered by `Zanata statistics API <https://"" ""zanata.ci.cloudbees.com/job/zanata-api-site/site/zanata-common-api/rest-api-"" ""docs/resource_StatisticsResource.html>`__.   .  "" "" `translation_team.yaml <http://git.openstack.org/cgit/openstack/i18n/"" ""tree/tools/zanata/translation_team.yaml>`__ stored in `openstack/i18n git "" ""repository <http://git.openstack.org/cgit/openstack/i18n>`__ ."""".  , `i18n <https://translate.openstack.org/project/view/"" ""i18n>`__ project in `Zanata <https://translate.openstack.org/>`__  "" "". **i18n**   **doc**    . "" ""          "" "".     (      :"" ""ref:`translation-jobs`  )  ,    "" ""    ."""".      `Zanata CLI configuration """,28,27
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~Ic78ebc3272587e83e8cc812296df2e348cac62f4,openstack/openstack-ansible-os_neutron,stable/queens,Ic78ebc3272587e83e8cc812296df2e348cac62f4,Restore upgrade test as non-voting,ABANDONED,2018-02-24 09:49:50.000000000,2018-02-24 09:54:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-24 09:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5e11a6eb2d43f1bb6b2e09e8afaa5366e357c4d2', 'message': 'Restore upgrade test as non-voting\n\nWith the gate unblocked, we now want to see the results\nof the test to work out what the issue is.\n\nChange-Id: Ic78ebc3272587e83e8cc812296df2e348cac62f4\n'}, {'number': 2, 'created': '2018-02-24 09:50:29.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e72ec000588ad721c8f35929acfcef347a0f504e', 'message': 'Restore upgrade test as non-voting\n\nWith the gate unblocked, we now want to see the results\nof the test to work out what the issue is.\n\nChange-Id: Ic78ebc3272587e83e8cc812296df2e348cac62f4\n'}]",0,547743,e72ec000588ad721c8f35929acfcef347a0f504e,5,1,2,6816,,,0,"Restore upgrade test as non-voting

With the gate unblocked, we now want to see the results
of the test to work out what the issue is.

Change-Id: Ic78ebc3272587e83e8cc812296df2e348cac62f4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/43/547743/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,5e11a6eb2d43f1bb6b2e09e8afaa5366e357c4d2,,# TODO(odyssey4me): # Remove this once the upgrade job is passing again. - job: - job: name: openstack-ansible-upgrade-ubuntu-xenial-nv parent: openstack-ansible-upgrade-ubuntu-xenial voting: false ,,9,3
openstack%2Frpm-packaging~master~I622c5004e7e4887ad63292b8e1c0295a3c43ba0c,openstack/rpm-packaging,master,I622c5004e7e4887ad63292b8e1c0295a3c43ba0c,test a change for update version,ABANDONED,2018-02-24 09:03:56.000000000,2018-02-24 09:44:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 09:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/71c1e76302e1483acb1ab855190a8fde20cb844a', 'message': 'Updated monasca-ui to 1.12.1\n\nChange-Id: I622c5004e7e4887ad63292b8e1c0295a3c43ba0c\n'}, {'number': 2, 'created': '2018-02-24 09:44:39.000000000', 'files': ['openstack/monasca-ui/monasca-ui.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0a8aa83bd0baad0eb97c4eb60a7ec1f7a1c011ed', 'message': 'test a change for update version\n\nChange-Id: I622c5004e7e4887ad63292b8e1c0295a3c43ba0c\n'}]",0,547730,0a8aa83bd0baad0eb97c4eb60a7ec1f7a1c011ed,8,3,2,27781,,,0,"test a change for update version

Change-Id: I622c5004e7e4887ad63292b8e1c0295a3c43ba0c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/30/547730/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-ui/monasca-ui.spec.j2', 'README.md']",2,71c1e76302e1483acb1ab855190a8fde20cb844a,test,# ma_sister copy form weizhijun,,3,1
openstack%2Fpython-tackerclient~master~Iad7fb5999ae5d9e92f91f5904916b4aaa892cf21,openstack/python-tackerclient,master,Iad7fb5999ae5d9e92f91f5904916b4aaa892cf21,Update README.rst and add CONTRIBUTING.rst to repo,MERGED,2018-02-22 08:16:01.000000000,2018-02-24 09:16:06.000000000,2018-02-24 09:16:06.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 08:16:01.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/0f64739dda77e6cee34ec428041b0fbc7b53f4b1', 'message': 'Update README.rst and add CONTRIBUTING.rst to repo\n\nChange-Id: Iad7fb5999ae5d9e92f91f5904916b4aaa892cf21\n'}]",0,546911,0f64739dda77e6cee34ec428041b0fbc7b53f4b1,6,2,1,27153,,,0,"Update README.rst and add CONTRIBUTING.rst to repo

Change-Id: Iad7fb5999ae5d9e92f91f5904916b4aaa892cf21
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/11/546911/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,0f64739dda77e6cee34ec428041b0fbc7b53f4b1,,"NFV Orchestration (Tacker) Client ================================= CLI and Client Library for OpenStack Tacker Installation ============ **Note:** The paths we are using for configuration files in these steps are with reference to Ubuntu Operating System. The paths may vary for other Operating Systems. The branch_name which is used in commands, specify the branch_name as stable/<branch> for any stable branch installation. For eg: stable/queens, stable/pike. If unspecified the default will be master branch. 1. Clone tacker-client repository. :: cd ~/ git clone https://github.com/openstack/python-tackerclient -b <branch_name> 2. Install tacker-client. :: cd python-tackerclient sudo python setup.py install You can also install the latest version by using following command: :: pip install python-tackerclient More Information ================ [1] Tacker Documentation: https://docs.openstack.org/tacker/ [2] Tacker Wiki: https://wiki.openstack.org/wiki/Tacker",This is the client API library for Tacker. ,61,1
openstack%2Ftacker-specs~master~I61716c48b31cfa07ed6ccd24aa3e480ff083394a,openstack/tacker-specs,master,I61716c48b31cfa07ed6ccd24aa3e480ff083394a,Update python-openstackclient spec,MERGED,2018-02-22 12:20:49.000000000,2018-02-24 09:11:41.000000000,2018-02-24 09:11:41.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-02-22 12:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/046c2b6504dd0cbb770631ed754c1104865559ab', 'message': ""Update python-openstackclient spec\n\nAs gongysh mentioned all other openstack commands use\n'set' instead of 'update', this patch makes the change\nin the spec.\n\n[1] https://review.openstack.org/#/c/536032/\n\nChange-Id: I61716c48b31cfa07ed6ccd24aa3e480ff083394a\nImplements: blueprint tacker-support-python-openstackclient\n""}, {'number': 2, 'created': '2018-02-23 17:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c32a9db6a29ccabd28e25479c25dc41b26af21c8', 'message': ""Update python-openstackclient spec\n\nBecause all other openstack commands use 'set' instead of\n'update as mentioned in [1] by gongysh and also in the\nimplemetation [1], the 'set' is used for 'openstack vim set',\nthis patch the 'update' in osc commands.\n\nThis patch also update contributors based on the history\nof openstack review system.\n\n[1] https://review.openstack.org/#/c/536032/\n\nChange-Id: I61716c48b31cfa07ed6ccd24aa3e480ff083394a\nImplements: blueprint tacker-support-python-openstackclient\n""}, {'number': 3, 'created': '2018-02-23 17:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/aa0c60ae0bfbda435b85f8172fbf385fc29e40b6', 'message': ""Update python-openstackclient spec\n\nBecause all other openstack commands use 'set' instead of 'update'\nas mentioned in [1] by gongysh and also in the implemetation [1],\nthe 'set' is used for 'openstack vim set', this patch change the\n'update' to 'set' in the spec of osc commands.\n\nThis patch also update contributors based on the history of\nopenstack review system.\n\n[1] https://review.openstack.org/#/c/536032/\n\nChange-Id: I61716c48b31cfa07ed6ccd24aa3e480ff083394a\nImplements: blueprint tacker-support-python-openstackclient\n""}, {'number': 4, 'created': '2018-02-23 18:06:57.000000000', 'files': ['specs/pike/python-openstackclient.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/983f5f212a9683e0ade7c7707c4facf3fac500d8', 'message': ""Update python-openstackclient spec\n\nBecause all other openstack commands use 'set' instead of 'update'\nas mentioned in [1] by gongysh and also in the implemetation [1],\nthe 'set' is used for 'openstack vim set', this patch change the\n'update' to 'set' in the spec of osc commands.\n\nThis patch also update contributors based on the history of\nopenstack review system.\n\n[1] https://review.openstack.org/#/c/536032/\n\nChange-Id: I61716c48b31cfa07ed6ccd24aa3e480ff083394a\nImplements: blueprint tacker-support-python-openstackclient\n""}]",0,546964,983f5f212a9683e0ade7c7707c4facf3fac500d8,13,4,4,27153,,,0,"Update python-openstackclient spec

Because all other openstack commands use 'set' instead of 'update'
as mentioned in [1] by gongysh and also in the implemetation [1],
the 'set' is used for 'openstack vim set', this patch change the
'update' to 'set' in the spec of osc commands.

This patch also update contributors based on the history of
openstack review system.

[1] https://review.openstack.org/#/c/536032/

Change-Id: I61716c48b31cfa07ed6ccd24aa3e480ff083394a
Implements: blueprint tacker-support-python-openstackclient
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/64/546964/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/python-openstackclient.rst'],1,046c2b6504dd0cbb770631ed754c1104865559ab,bp/tacker-support-python-openstackclient, openstack vnf set openstack vim set openstack vnf graph set, openstack vnf update openstack vim update openstack vnf graph update,3,3
openstack%2Ftacker-horizon~master~I429fdd77610c1f6753f495c9150e96a21d656bd4,openstack/tacker-horizon,master,I429fdd77610c1f6753f495c9150e96a21d656bd4,Update README.rst,MERGED,2018-02-22 07:57:31.000000000,2018-02-24 09:07:45.000000000,2018-02-24 09:07:45.000000000,"[{'_account_id': 2874}, {'_account_id': 19554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 07:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/f60e72b9081c593a4a2182229d3282f3d5dccc6e', 'message': 'Update README.rst\n\nUpdate the installation guide and add offical link of\nTacker documentation.\n\nChange-Id: I429fdd77610c1f6753f495c9150e96a21d656bd4\n'}, {'number': 2, 'created': '2018-02-22 08:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/cdeb11c1722135fd63d1d161a11256ee441814d9', 'message': 'Update README.rst\n\nUpdate the installation guide and add offical link of\nTacker documentation.\n\nChange-Id: I429fdd77610c1f6753f495c9150e96a21d656bd4\n'}, {'number': 3, 'created': '2018-02-22 08:16:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/9223bb1a7e14425c8963b2277e7cb3932b5a3c23', 'message': 'Update README.rst\n\nUpdate the installation guide and add offical link of\nTacker documentation.\n\nChange-Id: I429fdd77610c1f6753f495c9150e96a21d656bd4\n'}]",2,546904,9223bb1a7e14425c8963b2277e7cb3932b5a3c23,11,3,3,27153,,,0,"Update README.rst

Update the installation guide and add offical link of
Tacker documentation.

Change-Id: I429fdd77610c1f6753f495c9150e96a21d656bd4
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/04/546904/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f60e72b9081c593a4a2182229d3282f3d5dccc6e,,"**Note:** The paths we are using for configuration files in these steps are with reference to Ubuntu Operating System. The paths may vary for other Operating Systems. The branch_name which is used in commands, specify the branch_name as stable/<branch> for any stable branch installation. For eg: stable/queens, stable/pike. If unspecified the default will be master branch. 1. Clone tacker-horizon repository. cd ~/ git clone https://github.com/openstack/tacker-horizon -b <branch_name> 2. Install horizon module. :: cd tacker-horizon3). Enable tacker horizon in dashboard. sudo cp tacker_horizon/enabled/* \ /usr/share/openstack-dashboard/openstack_dashboard/enabled/ 4). Restart Apache server.[1] Tacker Documentation: https://docs.openstack.org/tacker/ [2] Tacker Wiki: https://wiki.openstack.org/wiki/Tacker",1. Install module2. Copy files to Horizon tree cp tacker_horizon/enabled/* /opt/stack/horizon/openstack_dashboard/enabled/ 3. Restart the apache webserverTacker Wiki: https://wiki.openstack.org/wiki/Tacker,25,6
openstack%2Ftacker~master~If5ef3e0290e081cca56903882ffc86d9b11d7806,openstack/tacker,master,If5ef3e0290e081cca56903882ffc86d9b11d7806,fix various typos in different messages,MERGED,2018-02-10 16:40:25.000000000,2018-02-24 09:01:27.000000000,2018-02-24 09:01:27.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27068}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-02-10 16:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/970388e34485d2dfc31ba7d9eaa3043bb1038090', 'message': '{trivial] fix typo tacker/common/exceptions.py\n\n(due the hard string freeze fixed only in master)\n\nChange-Id: If5ef3e0290e081cca56903882ffc86d9b11d7806\n'}, {'number': 2, 'created': '2018-02-10 16:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4258de21860937ec15ca9b84a0748844f2a42806', 'message': '[trivial] fix typo tacker/common/exceptions.py\n\n(due the hard string freeze fixed only in master)\n\nChange-Id: If5ef3e0290e081cca56903882ffc86d9b11d7806\n'}, {'number': 3, 'created': '2018-02-10 17:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/59f74119933881b395ed0f0f14035173c9e2e677', 'message': 'fix various typos in different messages\n\ndue the hard string freeze fixed only in master branch\n\nChange-Id: If5ef3e0290e081cca56903882ffc86d9b11d7806\n'}, {'number': 4, 'created': '2018-02-10 21:01:13.000000000', 'files': ['tacker/policy.py', 'tacker/common/exceptions.py', 'tacker/vnfm/monitor_drivers/ping/ping.py', 'tacker/extensions/vnfm.py', 'tacker/nfvo/drivers/vim/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/vnfm/mgmt_drivers/openwrt/openwrt.py', 'tacker/api/v1/attributes.py', 'tacker/vnfm/monitor_drivers/http_ping/http_ping.py', 'tacker/db/migration/cli.py', 'tacker/vnfm/plugin.py', 'tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/api/v1/base.py', 'tacker/alarm_receiver.py', 'tacker/wsgi.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/666490bc78c1cd4d1282ebe1ef6e02607413d7c0', 'message': 'fix various typos in different messages\n\ndue the hard string freeze fixed only in master branch\n\nChange-Id: If5ef3e0290e081cca56903882ffc86d9b11d7806\n'}]",0,543122,666490bc78c1cd4d1282ebe1ef6e02607413d7c0,15,5,4,17765,,,0,"fix various typos in different messages

due the hard string freeze fixed only in master branch

Change-Id: If5ef3e0290e081cca56903882ffc86d9b11d7806
",git fetch https://review.opendev.org/openstack/tacker refs/changes/22/543122/4 && git format-patch -1 --stdout FETCH_HEAD,['tacker/common/exceptions.py'],1,970388e34485d2dfc31ba7d9eaa3043bb1038090,," message = _(""The resource is in use"")"," message = _(""The resource is inuse"")",1,1
openstack%2Fsecurity-doc~master~I01a4749c466f4b1fb0eeae70411501ef43e5c295,openstack/security-doc,master,I01a4749c466f4b1fb0eeae70411501ef43e5c295,Updated from openstack-manuals,MERGED,2018-02-24 06:57:34.000000000,2018-02-24 08:45:35.000000000,2018-02-24 08:45:35.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 06:57:34.000000000', 'files': ['common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e6ce021a6eb10af155be8f9857e8552842895d36', 'message': 'Updated from openstack-manuals\n\nChange-Id: I01a4749c466f4b1fb0eeae70411501ef43e5c295\n'}]",0,547721,e6ce021a6eb10af155be8f9857e8552842895d36,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I01a4749c466f4b1fb0eeae70411501ef43e5c295
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/21/547721/1 && git format-patch -1 --stdout FETCH_HEAD,['common/source/locale/id/LC_MESSAGES/common.po'],1,e6ce021a6eb10af155be8f9857e8552842895d36,openstack/openstack-manuals,"""POT-Creation-Date: 2018-02-23 17:16+0000\n""","""POT-Creation-Date: 2017-12-02 21:25+0000\n""msgid """" ""`Pike API Bindings <https://docs.openstack.org/pike/language-bindings.html>`_"" msgstr """" ""`Pike API Bindings <https://docs.openstack.org/pike/language-bindings.html>`_"" msgid ""`Pike Administrator Guides <https://docs.openstack.org/pike/admin/>`_"" msgstr ""`Pike Administrator Guides <https://docs.openstack.org/pike/admin/>`_"" msgid """" ""`Pike Configuration Guides <https://docs.openstack.org/pike/configuration/>`_"" msgstr """" ""`Pike Configuration Guides <https://docs.openstack.org/pike/configuration/>`_"" msgid ""`Pike Installation Guides <https://docs.openstack.org/pike/install/>`_"" msgstr ""`Pike Installation Guides <https://docs.openstack.org/pike/install/>`_"" msgid """" ""`Pike Networking Guide <https://docs.openstack.org/neutron/pike/admin/>`_"" msgstr """" ""`Pike Networking Guide <https://docs.openstack.org/neutron/pike/admin/>`_"" ",1,22
openstack%2Fnova~master~I1f4520d406a03fb0918160571d37207e80d2fd6c,openstack/nova,master,I1f4520d406a03fb0918160571d37207e80d2fd6c,replace if by elif,ABANDONED,2018-02-09 01:17:57.000000000,2018-02-24 08:43:26.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26251}, {'_account_id': 26297}, {'_account_id': 26498}, {'_account_id': 26515}, {'_account_id': 26589}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-02-09 01:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1febbf741ce41a15adda35f1b46c863ebc5c9094', 'message': ""replace if by elif\n\nChanges will be more consistent with Python's\nwritting format, and make code more readable\n\nChange-Id: I1f4520d406a03fb0918160571d37207e80d2fd6c\nSigned-off-by: peiy <peiy@rc.inesa.com>\n""}, {'number': 2, 'created': '2018-02-09 02:58:04.000000000', 'files': ['nova/api/ec2/ec2utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2014d6b7a96c986b4825fc37dc090ea3b74b2f60', 'message': ""replace if by elif\n\nChanges will be more consistent with Python's\nwritting format, and make code more readable\n\nChange-Id: I1f4520d406a03fb0918160571d37207e80d2fd6c\nSigned-off-by: peiy <peiy@rc.inesa.com>\n""}]",2,542520,2014d6b7a96c986b4825fc37dc090ea3b74b2f60,24,17,2,26589,,,0,"replace if by elif

Changes will be more consistent with Python's
writting format, and make code more readable

Change-Id: I1f4520d406a03fb0918160571d37207e80d2fd6c
Signed-off-by: peiy <peiy@rc.inesa.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/542520/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/ec2/ec2utils.py'],1,1febbf741ce41a15adda35f1b46c863ebc5c9094,," elif image_type == 'ramdisk': elif image_type not in ['aki', 'ari']: else return image_type"," if image_type == 'ramdisk': if image_type not in ['aki', 'ari']: return image_type",3,3
openstack%2Fkeystone~master~Ifc9542e4e7f57f54d473183c97f616f92cb0961b,openstack/keystone,master,Ifc9542e4e7f57f54d473183c97f616f92cb0961b,Make assertValidFernetKey assertion more robust,MERGED,2018-02-22 22:12:45.000000000,2018-02-24 08:24:28.000000000,2018-02-24 08:24:28.000000000,"[{'_account_id': 13063}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 22:12:45.000000000', 'files': ['keystone/tests/unit/token/test_fernet_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/70dea443c13ab90437dbf9be51ba672aecfd296b', 'message': 'Make assertValidFernetKey assertion more robust\n\nThis assertion was a bit misleading in that it seemed to validate\none key at a time. But the implementation of the assertion actually\nassumes it is given a list of string values. This commit fixes the\nname of the assertion to be more clear and it also makes the\nassertion iterate all values given, which ensures each key in the\nlist is valid, not just the first one.\n\nChange-Id: Ifc9542e4e7f57f54d473183c97f616f92cb0961b\n'}]",0,547154,70dea443c13ab90437dbf9be51ba672aecfd296b,8,3,1,5046,,,0,"Make assertValidFernetKey assertion more robust

This assertion was a bit misleading in that it seemed to validate
one key at a time. But the implementation of the assertion actually
assumes it is given a list of string values. This commit fixes the
name of the assertion to be more clear and it also makes the
assertion iterate all values given, which ensures each key in the
list is valid, not just the first one.

Change-Id: Ifc9542e4e7f57f54d473183c97f616f92cb0961b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/547154/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/token/test_fernet_provider.py'],1,70dea443c13ab90437dbf9be51ba672aecfd296b,," def assertValidFernetKeys(self, keys): # Make sure each key is a non-empty string for key in keys: self.assertGreater(len(key), 0) self.assertIsInstance(key, str) self.assertValidFernetKeys(keys)"," def assertValidFernetKey(self, keys): self.assertGreater(len(keys[0]), 0) self.assertIsInstance(keys[0], str) self.assertValidFernetKey(keys)",6,4
openstack%2Frequirements~stable%2Fqueens~I684b11b867cf845395051b432b1cb220e42c7dfe,openstack/requirements,stable/queens,I684b11b867cf845395051b432b1cb220e42c7dfe,update constraint for shade to new release 1.27.0,MERGED,2018-02-22 19:30:24.000000000,2018-02-24 08:24:25.000000000,2018-02-24 08:24:25.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-22 19:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c4f8412ee4498a9d9698302a60cb28e28765ac2', 'message': 'update constraint for shade to new release 1.27.0\n\nChange-Id: I684b11b867cf845395051b432b1cb220e42c7dfe\nmeta:version: 1.27.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Id7049edd031b0038cf0e694d04c9e7d8d6338f8f\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-02-22 20:26:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9a7553fc895a5c67669637242c081aa3ec49b47c', 'message': 'update constraint for shade to new release 1.27.0\n\nDepends-on: https://review.openstack.org/547127/\nChange-Id: I684b11b867cf845395051b432b1cb220e42c7dfe\nmeta:version: 1.27.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Id7049edd031b0038cf0e694d04c9e7d8d6338f8f\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,547117,9a7553fc895a5c67669637242c081aa3ec49b47c,15,5,2,11131,,,0,"update constraint for shade to new release 1.27.0

Depends-on: https://review.openstack.org/547127/
Change-Id: I684b11b867cf845395051b432b1cb220e42c7dfe
meta:version: 1.27.0
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Id7049edd031b0038cf0e694d04c9e7d8d6338f8f
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/547117/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4c4f8412ee4498a9d9698302a60cb28e28765ac2,new-release,shade===1.27.0,shade===1.26.0,1,1
openstack%2Frequirements~master~Iffa21e126f155b4be2c72310cbf53354bc2c2deb,openstack/requirements,master,Iffa21e126f155b4be2c72310cbf53354bc2c2deb,update constraint for shade to new release 1.27.0,MERGED,2018-02-22 20:26:10.000000000,2018-02-24 08:13:42.000000000,2018-02-24 08:13:42.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 20:26:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/657fe094cff1af668574773d2da48924644ce3e7', 'message': 'update constraint for shade to new release 1.27.0\n\nPulling forward from FFE update in stable/queens prior to final\nrelease to ensure master matches what is in the stable branch.\n\nChange-Id: Iffa21e126f155b4be2c72310cbf53354bc2c2deb\nmeta:version: 1.27.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Id7049edd031b0038cf0e694d04c9e7d8d6338f8f\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,547127,657fe094cff1af668574773d2da48924644ce3e7,7,3,1,11904,,,0,"update constraint for shade to new release 1.27.0

Pulling forward from FFE update in stable/queens prior to final
release to ensure master matches what is in the stable branch.

Change-Id: Iffa21e126f155b4be2c72310cbf53354bc2c2deb
meta:version: 1.27.0
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Id7049edd031b0038cf0e694d04c9e7d8d6338f8f
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/547127/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,657fe094cff1af668574773d2da48924644ce3e7,new-release,shade===1.27.0,shade===1.26.0,1,1
openstack%2Fcharm-ceilometer~master~I8482e97f4f60e019b0225f67c568965adbb034cb,openstack/charm-ceilometer,master,I8482e97f4f60e019b0225f67c568965adbb034cb,queens: ensure ceilometer-upgrade executed,MERGED,2018-02-23 10:54:56.000000000,2018-02-24 07:34:44.000000000,2018-02-24 07:34:44.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 10:54:56.000000000', 'files': ['hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/3438d424b0454e732c57b946611c57ca3b182803', 'message': 'queens: ensure ceilometer-upgrade executed\n\nFor queens, only the identity-credentials relation is required\nas ceilometer no longer registers endpoints; ensure the correct\nrelation name is used when checking to see if the ceilometer\nupgrade process can be executed.\n\nChange-Id: I8482e97f4f60e019b0225f67c568965adbb034cb\n'}]",0,547371,3438d424b0454e732c57b946611c57ca3b182803,7,3,1,935,,,0,"queens: ensure ceilometer-upgrade executed

For queens, only the identity-credentials relation is required
as ceilometer no longer registers endpoints; ensure the correct
relation name is used when checking to see if the ceilometer
upgrade process can be executed.

Change-Id: I8482e97f4f60e019b0225f67c568965adbb034cb
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/71/547371/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py']",2,3438d424b0454e732c57b946611c57ca3b182803,queens-identity-credentials-upgrade," def test_any_changed_queens(self, ceilometer_joined, mock_config, keystone_joined, ceilometer_upgrade): self.get_os_codename_install_source.return_value = 'queens' self.CONFIGS.complete_contexts.return_value = [ 'metric-service', 'identity-credentials', ] self.relation_ids.return_value = [] hooks.hooks.execute(['hooks/shared-db-relation-changed']) self.CONFIGS.write_all.assert_called_once() ceilometer_joined.assert_called_once() keystone_joined.assert_not_called() ceilometer_upgrade.assert_called_once() self.configure_https.assert_called_once() @patch.object(hooks, 'ceilometer_upgrade') @patch.object(hooks, 'keystone_joined') @patch('charmhelpers.core.hookenv.config') @patch.object(hooks, 'ceilometer_joined')",,26,3
openstack%2Fzun~master~I21a1fd72ec2a5d6feea948afa318ada5b8fd942e,openstack/zun,master,I21a1fd72ec2a5d6feea948afa318ada5b8fd942e,add unit tests for zun/compute/api.py,MERGED,2018-02-22 07:27:06.000000000,2018-02-24 07:23:15.000000000,2018-02-24 07:23:15.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27577}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-02-22 07:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8151b6b87f436dd76da3a11b494c3eb619853227', 'message': 'add unit tests for zun/compute/api.py\n\nThis is a tech debut of https://review.openstack.org/#/c/540766/ .\nWe need to have unit tests coverage for this module:\nhttps://github.com/openstack/zun/blob/master/zun/compute/api.py\n\nChange-Id: I21a1fd72ec2a5d6feea948afa318ada5b8fd942e\nCloses-bug: #1747742\n'}, {'number': 2, 'created': '2018-02-23 04:07:00.000000000', 'files': ['zun/tests/unit/compute/test_compute_api.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a81db2e6b7c5e8810873b0884123786226c2abf5', 'message': 'add unit tests for zun/compute/api.py\n\nThis is a tech debut of https://review.openstack.org/#/c/540766/ .\nWe need to have unit tests coverage for this module:\nhttps://github.com/openstack/zun/blob/master/zun/compute/api.py\n\nChange-Id: I21a1fd72ec2a5d6feea948afa318ada5b8fd942e\nCloses-bug: #1747742\n'}]",1,546896,a81db2e6b7c5e8810873b0884123786226c2abf5,10,5,2,23829,,,0,"add unit tests for zun/compute/api.py

This is a tech debut of https://review.openstack.org/#/c/540766/ .
We need to have unit tests coverage for this module:
https://github.com/openstack/zun/blob/master/zun/compute/api.py

Change-Id: I21a1fd72ec2a5d6feea948afa318ada5b8fd942e
Closes-bug: #1747742
",git fetch https://review.opendev.org/openstack/zun refs/changes/96/546896/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/unit/compute/test_compute_api.py'],1,8151b6b87f436dd76da3a11b494c3eb619853227,bug/1747742,"# Copyright 2016 IBM Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from zun.common import consts from zun.common import exception from zun.compute import api from zun.objects.container import Container from zun.tests import base from zun.tests.unit.db import utils class TestAPI(base.TestCase): def setUp(self): super(TestAPI, self).setUp() self.compute_api = api.API(self.context) @mock.patch('zun.compute.rpcapi.API.container_create') @mock.patch('zun.compute.rpcapi.API.image_search') @mock.patch('zun.compute.api.API._schedule_container') def test_container_create(self, mock_schedule_container, mock_image_search, mock_container_create): container = Container(self.context, **utils.get_test_container()) container.status = consts.CREATING image_meta = mock.MagicMock() image_meta.id = '1234' mock_schedule_container.return_value = {'host': u'Centos', 'nodename': None, 'limits': {}} mock_image_search.return_value = [image_meta] self.compute_api.container_create(self.context, container, None, None, None, False) self.assertTrue(mock_schedule_container.called) self.assertTrue(mock_image_search.called) self.assertTrue(mock_container_create.called) @mock.patch('zun.compute.api.API._schedule_container') @mock.patch.object(Container, 'save') def test_schedule_container_exception(self, mock_save, mock_schedule_container): container = Container(self.context, **utils.get_test_container()) container.status = consts.CREATING mock_schedule_container.side_effect = Exception self.compute_api.container_create(self.context, container, None, None, None, False) self.assertTrue(mock_schedule_container.called) self.assertTrue(mock_save.called) self.assertEqual(consts.ERROR, container.status) @mock.patch('zun.compute.rpcapi.API.image_search') @mock.patch('zun.compute.api.API._schedule_container') @mock.patch.object(Container, 'save') def test_searching_image_exception(self, mock_save, mock_schedule_container, mock_image_search): container = Container(self.context, **utils.get_test_container()) container.status = consts.CREATING mock_schedule_container.return_value = {'host': u'Centos', 'nodename': None, 'limits': {}} mock_image_search.side_effect = exception.ZunException self.assertRaises(exception.ZunException, self.compute_api.container_create, self.context, container, None, None, None, False) self.assertTrue(mock_schedule_container.called) self.assertTrue(mock_image_search.called) self.assertTrue(mock_save.called) self.assertEqual(consts.ERROR, container.status) ",,84,0
openstack%2Ftempest~master~Idf77ff9dd9c0ba0a134dfe61b1ab79d069d3ff0c,openstack/tempest,master,Idf77ff9dd9c0ba0a134dfe61b1ab79d069d3ff0c,Fixing the condition to run tests in tempest run,MERGED,2018-02-23 05:37:15.000000000,2018-02-24 07:17:53.000000000,2018-02-24 05:50:20.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-23 05:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/346541e3909491431d0195bd53db6a1a6aefa31e', 'message': 'Fixing the condition to run tests in tempest run\n\nDuring stestr migration, it  seems like we stopped running the\ntests in tempest run cli if config_file or workspace arg are passed.\n\nThis commit fixing this behavior.\n\nChange-Id: Idf77ff9dd9c0ba0a134dfe61b1ab79d069d3ff0c\n'}, {'number': 2, 'created': '2018-02-23 06:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de397fad3a9816c4a2fc558d008bc2c9d412c74c', 'message': 'Fixing the condition to run tests in tempest run\n\nDuring stestr migration, it  seems like we stopped running the\ntests in tempest run cli if config_file or workspace arg are passed.\n\nThis commit fixing this behavior.\n\nChange-Id: Idf77ff9dd9c0ba0a134dfe61b1ab79d069d3ff0c\n'}, {'number': 3, 'created': '2018-02-23 22:45:23.000000000', 'files': ['tempest/cmd/run.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2998117ba6c8a398c389b26d8a80963afdabc90d', 'message': 'Fixing the condition to run tests in tempest run\n\nDuring stestr migration, it  seems like we stopped running the\ntests in tempest run cli if config_file or workspace arg are passed.\n\nThis commit fixing this behavior.\n\nChange-Id: Idf77ff9dd9c0ba0a134dfe61b1ab79d069d3ff0c\n'}]",0,547276,2998117ba6c8a398c389b26d8a80963afdabc90d,22,9,3,8556,,,0,"Fixing the condition to run tests in tempest run

During stestr migration, it  seems like we stopped running the
tests in tempest run cli if config_file or workspace arg are passed.

This commit fixing this behavior.

Change-Id: Idf77ff9dd9c0ba0a134dfe61b1ab79d069d3ff0c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/547276/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/run.py'],1,346541e3909491431d0195bd53db6a1a6aefa31e,fix-tempest-run, else:, elif not (parsed_args.config_file or parsed_args.workspace):,1,1
openstack%2Fzun~stable%2Fqueens~I0e8601a5e8ec8d537bfafec6e59e16cf1c48aac3,openstack/zun,stable/queens,I0e8601a5e8ec8d537bfafec6e59e16cf1c48aac3,api-ref: remove query parameters from URL,MERGED,2018-02-14 03:22:58.000000000,2018-02-24 07:01:00.000000000,2018-02-24 07:01:00.000000000,"[{'_account_id': 10206}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-14 03:22:58.000000000', 'files': ['api-ref/source/containers.inc'], 'web_link': 'https://opendev.org/openstack/zun/commit/a17e271271c3bfc835e334076c62d249cf92b15e', 'message': ""api-ref: remove query parameters from URL\n\nBy looking at the api-ref of other openstack projects, they don't\nlist the query parameters in the URL. Actually, the type of each\nrequest's parameter has already been documented in the table so\nit is necessary to list them in URL as well. Doing that will\nmake the API doc looks verbose.\n\nChange-Id: I0e8601a5e8ec8d537bfafec6e59e16cf1c48aac3\n(cherry picked from commit f873fb190b5dd5b3cd986b70606f68ff6d4249f9)\n""}]",0,544157,a17e271271c3bfc835e334076c62d249cf92b15e,9,6,1,11536,,,0,"api-ref: remove query parameters from URL

By looking at the api-ref of other openstack projects, they don't
list the query parameters in the URL. Actually, the type of each
request's parameter has already been documented in the table so
it is necessary to list them in URL as well. Doing that will
make the API doc looks verbose.

Change-Id: I0e8601a5e8ec8d537bfafec6e59e16cf1c48aac3
(cherry picked from commit f873fb190b5dd5b3cd986b70606f68ff6d4249f9)
",git fetch https://review.opendev.org/openstack/zun refs/changes/57/544157/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/containers.inc'],1,a17e271271c3bfc835e334076c62d249cf92b15e,,.. rest_method:: POST /v1/containers/{container_ident}/kill.. rest_method:: POST /v1/containers/{container_ident}/stop.. rest_method:: POST /v1/containers/{container_ident}/reboot.. rest_method:: POST /v1/containers/{container_ident}/rename.. rest_method:: GET /v1/containers/{container_ident}/get_archive.. rest_method:: POST /v1/containers/{container_ident}/put_archive.. rest_method:: POST /v1/containers/{container_ident}/add_securtiy_group.. rest_method:: POST /v1/containers/{container_ident}/commit.. rest_method:: POST /v1/containers/{container_ident}/network_detach.. rest_method:: POST /v1/containers/{container_ident}/resize.. rest_method:: POST /v1/containers/{container_ident}/network_attach.. rest_method:: POST /v1/containers/{container_ident}/execute.. rest_method:: POST /v1/containers/{container_ident}/execute_resize.. rest_method:: GET /v1/containers/{container_ident}/logs.. rest_method:: GET /v1/containers/{container_ident}/top,.. rest_method:: POST /v1/containers/{container_ident}/kill?signal={signal}.. rest_method:: POST /v1/containers/{container_ident}/stop?timeout={timeout}.. rest_method:: POST /v1/containers/{container_ident}/reboot?timeout={timeout}.. rest_method:: POST /v1/containers/{container_ident}/rename?name={new_name}.. rest_method:: GET /v1/containers/{container_ident}/get_archive?path={source_path}.. rest_method:: POST /v1/containers/{container_ident}/put_archive?path={destination_path}.. rest_method:: POST /v1/containers/{container_ident}/add_securtiy_group?name={security_group}.. rest_method:: POST /v1/containers/{container_ident}/commit?tag={tag}&repository={repository}.. rest_method:: POST /v1/containers/{container_ident}/network_detach?network={network}.. rest_method:: POST /v1/containers/{container_ident}/resize?w={width}&h={height}.. rest_method:: POST /v1/containers/{container_ident}/network_attach?network={network}.. rest_method:: POST /v1/containers/{container_ident}/execute?command={command}&run={run}&interactive={interactive}.. rest_method:: POST /v1/containers/{container_ident}/execute_resize?h={height}&&exec_id={exec_id}&w={width}.. rest_method:: GET /v1/containers/{container_ident}/logs?timestamps={timestamps}&&since={since}&tail={tail}&stderr={stderr}&stdout={stdout}.. rest_method:: GET /v1/containers/{container_ident}/top?ps_args={ps_args},15,15
openstack%2Fopenstack-manuals~master~I9e08337f3761bd524b3e36802aba31a2f4528a42,openstack/openstack-manuals,master,I9e08337f3761bd524b3e36802aba31a2f4528a42,Imported Translations from Zanata,MERGED,2018-02-24 06:15:25.000000000,2018-02-24 06:48:57.000000000,2018-02-24 06:48:57.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 06:15:25.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/install-guide/source/locale/fr/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4b9f484532a6590ed7e4c8442f821171e574675c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9e08337f3761bd524b3e36802aba31a2f4528a42\n'}]",0,547717,4b9f484532a6590ed7e4c8442f821171e574675c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9e08337f3761bd524b3e36802aba31a2f4528a42
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/17/547717/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/install-guide/source/locale/fr/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po']",12,4b9f484532a6590ed7e4c8442f821171e574675c,zanata/translations,"""POT-Creation-Date: 2018-02-23 17:16+0000\n""","""POT-Creation-Date: 2018-02-14 20:36+0000\n""""Although most environments include Identity, Image service, Compute, at "" ""least one networking service, and the Dashboard, the Object Storage service "" ""can operate independently. If your use case only involves Object Storage, "" ""you can skip to `Object Storage Installation Guide for Pike <https://docs."" ""openstack.org/swift/pike/install/>`_ after configuring the appropriate nodes "" ""for it."" msgstr """" ""   Identity,  , Compute,    "" ""   , Object    "" "" . Object    ,  "" ""   `Object Storage Installation Guide for Pike <https://docs."" ""openstack.org/swift/pike/install/>`_    ."" msgid """"""For more information about how to manage volumes, see the `python-"" ""openstackclient documentation for Pike <https://docs.openstack.org/python-"" ""openstackclient/pike/cli/command-objects/volume.html>`__."" msgstr """" ""      `python-openstackclient documentation "" ""for Pike <https://docs.openstack.org/python-openstackclient/pike/cli/command-"" ""objects/volume.html>`__  ."" msgid """" ""For more information about system requirements, see the `OpenStack Pike "" ""Administrator Guides <https://docs.openstack.org/pike/admin/>`_."" msgstr """" ""      `OpenStack Pike Administrator "" ""Guides <https://docs.openstack.org/pike/admin/>`_  ."" msgid """" ""For more information on production architectures, see the `Architecture "" ""Design Guide <https://docs.openstack.org/arch-design/>`_, `OpenStack "" ""Networking Guide for Pike <https://docs.openstack.org/neutron/pike/admin/"" "">`_, and `OpenStack Administrator Guides for Pike <https://docs.openstack."" ""org/pike/admin/>`_."" msgstr """" ""Production     `Architecture Design Guide <https://"" ""docs.openstack.org/arch-design/>`_, `OpenStack Networking Guide for Pike "" ""<https://docs.openstack.org/neutron/pike/admin/>`_,  `OpenStack "" ""Administrator Guides for Pike <https://docs.openstack.org/pike/admin/>`_  "" ""."" msgid """"msgid """" ""For more information, see the `Orchestration installation guide for Pike "" ""<https://docs.openstack.org/heat/pike/>`_."" msgstr """" ""   `Orchestration installation guide for Pike <https://docs."" ""openstack.org/heat/pike/>`_  ."" msgid """" ""For more information, see the `Shared File Systems installation guide for "" ""Pike <https://docs.openstack.org/manila/pike/>`_."" msgstr """" ""   `Shared File Systems installation guide for Pike <https://"" ""docs.openstack.org/manila/pike/>`_  ."" msgid """" ""If your instance does not launch or seem to work as you expect, see the "" ""`Troubleshoot Compute documentation for Pike <https://docs.openstack.org/"" ""nova/pike/admin/support-compute.html>`__ for more information or use one of "" ""the :doc:`many other options <common/app-support>` to seek assistance. We "" ""want your first installation to work!"" msgstr """" ""        , "" ""   `Troubleshoot Compute documentation for Pike <https://docs."" ""openstack.org/nova/pike/admin/support-compute.html>`__    "" ""  :doc:`many other options <common/app_support>`   "" "".     !"" msgid ""Minimal deployment"" msgstr "" "" ""OpenStack and supporting services require administrative privileges during "" ""installation and operation. In some cases, services perform modifications to "" ""the host that can interfere with deployment automation tools such as "" ""Ansible, Chef, and Puppet. For example, some OpenStack services add a root "" ""wrapper to ``sudo`` that can interfere with security policies. See the "" ""`Compute service documentation for Pike <https://docs.openstack.org/nova/"" ""pike/admin/root-wrap-reference.html>`__ for more information."" msgstr """" ""OpenStack          "" "".   Ansible, Chef, Puppet      "" ""  .    OpenStack   "" ""    ``sudo``      . "" ""   `Compute service documentation for Pike <https://docs."" ""openstack.org/nova/pike/admin/root-wrap-reference.html>`__  ."" msgid """"""This section creates the necessary virtual networks to support launching "" ""instances. Networking option 1 includes one provider (external) network with "" ""one instance that uses it. Networking option 2 includes one provider network "" ""with one instance that uses it and one self-service (private) network with "" ""one instance that uses it. The instructions in this section use command-line "" ""interface (CLI) tools on the controller node. However, you can follow the "" ""instructions on any host that the tools are installed. For more information "" ""on the CLI tools, see the `OpenStackClient documentation for Pike <https://"" ""docs.openstack.org/python-openstackclient/pike/cli/command-objects/server."" ""html#server-create>`__. To use the dashboard, see the `Dashboard User "" ""Documentation for Pike <https://docs.openstack.org/horizon/pike/user/>`__."" msgstr """" ""         "" "".   1   ()    "" "" .   2      "" ""      ()     "" ""  .        "" ""(CLI)  . CLI     `OpenStackClient "" ""documentation for Pike <https://docs.openstack.org/python-openstackclient/"" ""pike/cli/command-objects/server.html#server-create>`__  . "" ""  `Dashboard User Documentation for Pike <https://docs.openstack."" ""org/horizon/pike/user/>`__   ."" msgid """"",21,548
openstack%2Fkolla-ansible~master~Ie1c8ae185549acc3dd87a2c5f0356443ea7924a5,openstack/kolla-ansible,master,Ie1c8ae185549acc3dd87a2c5f0356443ea7924a5,Fix fernet deploy on gate,MERGED,2018-02-23 07:40:05.000000000,2018-02-24 06:42:45.000000000,2018-02-24 06:42:45.000000000,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 26556}]","[{'number': 1, 'created': '2018-02-23 07:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70594ab78d0cdc09a0f14549320701fa524da1a7', 'message': 'Fix fernet deploy on gate\n\nkeystone-ssh is required by keystone-fernet. So start keystone-ssh\ncontainer before keystone-fernet\n\nChange-Id: Ie1c8ae185549acc3dd87a2c5f0356443ea7924a5\n'}, {'number': 2, 'created': '2018-02-23 08:51:57.000000000', 'files': ['ansible/roles/keystone/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2bbd5399de7119441ea649c4658bf220845dd9fe', 'message': 'Fix fernet deploy on gate\n\nkeystone-ssh is required by keystone-fernet. So start keystone-ssh\ncontainer before keystone-fernet.\n\nCloses-Bug: #1751224\nChange-Id: Ie1c8ae185549acc3dd87a2c5f0356443ea7924a5\n'}]",3,547312,2bbd5399de7119441ea649c4658bf220845dd9fe,14,7,2,7488,,,0,"Fix fernet deploy on gate

keystone-ssh is required by keystone-fernet. So start keystone-ssh
container before keystone-fernet.

Closes-Bug: #1751224
Change-Id: Ie1c8ae185549acc3dd87a2c5f0356443ea7924a5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/547312/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/handlers/main.yml'],1,70594ab78d0cdc09a0f14549320701fa524da1a7,,"- name: Restart keystone-ssh container vars: service_name: ""keystone-ssh"" service: ""{{ keystone_services[service_name] }}"" config_json: ""{{ keystone_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" keystone_ssh_container: ""{{ check_keystone_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes|reject('equalto', '')|list }}"" when: - action != ""config"" - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or keystone_ssh_confs.changed | bool or keystone_ssh_container.changed | bool ","- name: Restart keystone-ssh container vars: service_name: ""keystone-ssh"" service: ""{{ keystone_services[service_name] }}"" config_json: ""{{ keystone_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" keystone_ssh_container: ""{{ check_keystone_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes|reject('equalto', '')|list }}"" when: - action != ""config"" - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or keystone_ssh_confs.changed | bool or keystone_ssh_container.changed | bool ",20,20
openstack%2Fkolla-ansible~master~I1d24d4a90a6ab4abc6a3b24c0334b380d53e896a,openstack/kolla-ansible,master,I1d24d4a90a6ab4abc6a3b24c0334b380d53e896a,Use rpc_transport_url in vitrage.conf,MERGED,2018-02-23 15:13:06.000000000,2018-02-24 05:55:50.000000000,2018-02-24 05:55:49.000000000,"[{'_account_id': 7488}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 15:13:06.000000000', 'files': ['ansible/roles/vitrage/templates/vitrage.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72b84b01cf595d892da1ab3a1b8a43caa7223858', 'message': 'Use rpc_transport_url in vitrage.conf\n\nChange-Id: I1d24d4a90a6ab4abc6a3b24c0334b380d53e896a\n'}]",0,547479,72b84b01cf595d892da1ab3a1b8a43caa7223858,6,2,1,11869,,,0,"Use rpc_transport_url in vitrage.conf

Change-Id: I1d24d4a90a6ab4abc6a3b24c0334b380d53e896a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/547479/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/vitrage/templates/vitrage.conf.j2'],1,72b84b01cf595d892da1ab3a1b8a43caa7223858,a2,transport_url = {{ rpc_transport_url }},"transport_url = rabbit://{% for host in groups['rabbitmq'] %}{{ rabbitmq_user }}:{{ rabbitmq_password }}@{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ rabbitmq_port }}{% if not loop.last %},{% endif %}{% endfor %}",1,1
openstack%2Fdevstack~master~I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,openstack/devstack,master,I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,Create NOVA_READY_TIMEOUT in is_nova_ready function,MERGED,2018-02-23 14:01:43.000000000,2018-02-24 05:07:30.000000000,2018-02-24 05:07:30.000000000,"[{'_account_id': 1004}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 27704}]","[{'number': 1, 'created': '2018-02-23 14:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/70775c7d675de1eee0f14f5602ee2f775855d501', 'message': 'Use SERVICE_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Use the global\nvariable SERVICE_TIMEOUT instead so that users have a single place where\nthey can override the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}, {'number': 2, 'created': '2018-02-23 21:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2b5c48e3c870afd56f1f42539d91ad8ccc8efb71', 'message': 'Create NOVA_COMPUTE_SERVICE_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_COMPUTE_SERVICE_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}, {'number': 3, 'created': '2018-02-23 21:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/158af197270ccafb960331cad798e8c8ffc2a7b8', 'message': 'Create NOVA_COMPUTE_SERVICE_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_COMPUTE_SERVICE_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}, {'number': 4, 'created': '2018-02-23 21:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8d7039ee78316b905b80c7e5e403adca89ea0cc3', 'message': 'Create NOVA_READY_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_READY_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}, {'number': 5, 'created': '2018-02-23 21:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/810052a4896c07298616ebfa9199c9138702ca64', 'message': 'Create NOVA_READY_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_READY_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n(cherry picked from commit 8d7039ee78316b905b80c7e5e403adca89ea0cc3)\n'}, {'number': 6, 'created': '2018-02-23 21:52:33.000000000', 'files': ['lib/nova', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/730ce45466a903c639554b2e70f6e40a02e9e29d', 'message': 'Create NOVA_READY_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_READY_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}]",5,547431,730ce45466a903c639554b2e70f6e40a02e9e29d,36,10,6,13252,,,0,"Create NOVA_READY_TIMEOUT in is_nova_ready function

The function was introduced in [0] using a hardcoded timeout of 60
seconds which turns out to be too small on slow machines. Create a new
global variable NOVA_READY_TIMEOUT instead so that users can
override the timeout if necessary.

[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db
",git fetch https://review.opendev.org/openstack/devstack refs/changes/31/547431/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,70775c7d675de1eee0f14f5602ee2f775855d501,fix-nova-timeout, wait_for_compute $SERVICE_TIMEOUT, wait_for_compute 60,1,1
openstack%2Fcharm-designate-bind~master~I5d571f59bcc8b013596447a19dc7422f6d6b7e8b,openstack/charm-designate-bind,master,I5d571f59bcc8b013596447a19dc7422f6d6b7e8b,Fix none type comparison,MERGED,2018-02-23 18:57:53.000000000,2018-02-24 04:54:05.000000000,2018-02-24 04:13:05.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:57:53.000000000', 'files': ['src/lib/charm/openstack/designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/a178745bb297e4b9806111d9020f7db4d3b66e0e', 'message': 'Fix none type comparison\n\nChange-Id: I5d571f59bcc8b013596447a19dc7422f6d6b7e8b\nCloses-bug: #1751338\n'}]",0,547649,a178745bb297e4b9806111d9020f7db4d3b66e0e,10,3,1,20635,,,0,"Fix none type comparison

Change-Id: I5d571f59bcc8b013596447a19dc7422f6d6b7e8b
Closes-bug: #1751338
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/49/547649/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/designate_bind.py'],1,a178745bb297e4b9806111d9020f7db4d3b66e0e,bug/1751338, if request_time and sync_time and request_time > sync_time:, if request_time and request_time > sync_time:,1,1
openstack%2Fnova~stable%2Focata~Ib588c31a4d2075f8730409d50c99dfb04180a9cd,openstack/nova,stable/ocata,Ib588c31a4d2075f8730409d50c99dfb04180a9cd,Don't update RT in _allocate_network,MERGED,2017-11-15 02:23:21.000000000,2018-02-24 04:49:03.000000000,2018-02-24 04:49:03.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2017-11-15 02:23:21.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c26ad1717de62b3dc7b5211145091eb21e9b17', 'message': ""Don't update RT in _allocate_network\n\nThe call to _update_resource_tracker from\n_allocate_network is a carryover from old\ntimes when _allocate_network would call\n_instance_update which would update the\nresource tracker generically for any state\nchange in an instance.\n\n_update_resource_tracker calls rt.update_usage\nwhich grabs the COMPUTE_RESOURCE_SEMAPHORE lock\nwhich is the same lock used during claims and when\nthe update_available_resource periodic task runs.\n\nThe update_usage method can be a bit heavy weight\nif you're not actually changing anything the\nresource tracker cares about, because it's re-calculating\nstats for the capabilities scheduler filter and it's\ncollecting new inventory from the virt driver and\npotentially updating that inventory for the compute\nnode in placement.\n\nSo given all _allocate_network is doing is changing\nthe state on the instance, and the state it's changing\nto has nothing to do with what the resource tracker\ncares about (like deleting or shelve offloading an instance),\nwe shouldn't call rt.update_usage and hold that big\nlock unnecessarily since it could hold up other\noperations happening at the same time, like creating\ninstances.\n\nCloses-Bug: #1732316\n\nChange-Id: Ib588c31a4d2075f8730409d50c99dfb04180a9cd\n(cherry picked from commit 7b0d5f7f347cb1c040595000d9d6987369dce2ab)\n""}]",0,519943,b9c26ad1717de62b3dc7b5211145091eb21e9b17,22,12,1,6873,,,0,"Don't update RT in _allocate_network

The call to _update_resource_tracker from
_allocate_network is a carryover from old
times when _allocate_network would call
_instance_update which would update the
resource tracker generically for any state
change in an instance.

_update_resource_tracker calls rt.update_usage
which grabs the COMPUTE_RESOURCE_SEMAPHORE lock
which is the same lock used during claims and when
the update_available_resource periodic task runs.

The update_usage method can be a bit heavy weight
if you're not actually changing anything the
resource tracker cares about, because it's re-calculating
stats for the capabilities scheduler filter and it's
collecting new inventory from the virt driver and
potentially updating that inventory for the compute
node in placement.

So given all _allocate_network is doing is changing
the state on the instance, and the state it's changing
to has nothing to do with what the resource tracker
cares about (like deleting or shelve offloading an instance),
we shouldn't call rt.update_usage and hold that big
lock unnecessarily since it could hold up other
operations happening at the same time, like creating
instances.

Closes-Bug: #1732316

Change-Id: Ib588c31a4d2075f8730409d50c99dfb04180a9cd
(cherry picked from commit 7b0d5f7f347cb1c040595000d9d6987369dce2ab)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/519943/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,b9c26ad1717de62b3dc7b5211145091eb21e9b17,compute-claim-lock-perf-stable/ocata,," self._update_resource_tracker(context, instance)",0,1
openstack%2Fswift~feature%2Fdeep~Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6,openstack/swift,feature/deep,Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6,Make root sharding state survive container delete,MERGED,2018-02-22 17:57:25.000000000,2018-02-24 04:48:59.000000000,2018-02-24 04:48:59.000000000,"[{'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27704}]","[{'number': 1, 'created': '2018-02-22 17:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/119d91e50bbf172006582b92e559f33e7d8537e5', 'message': ""Make root sharding state survive container delete\n\nIf the root container is deleted then its sharding sysmeta is lost,\nincluding the sharding epoch. But we only need the sysmeta sharding\nepoch to signal a transition to sharding, and we shouldn't be\ndeleting a container that has just started sharding.\n\nChange-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6\n""}, {'number': 2, 'created': '2018-02-22 20:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88bfa812ed64e5803f0f7e7237687dc525108071', 'message': ""Make root sharding state survive container delete\n\nIf the root container is deleted then its sharding sysmeta is lost,\nincluding the sharding epoch. But we only need the sysmeta sharding\nepoch to signal a transition to sharding, and we shouldn't be\ndeleting a container that has just started sharding.\n\nChange-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6\n""}, {'number': 3, 'created': '2018-02-23 12:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cfcd8ede6c6ec44f6eb33d8289d26c117a2422a2', 'message': ""Make root sharding state survive container delete\n\nIf the root container is deleted then its sharding sysmeta is lost,\nincluding the sharding epoch. But we only need the sysmeta sharding\nepoch to signal a transition to sharding, and we shouldn't be\ndeleting a container that has just started sharding. It should\ntherefore be ok for a root container to be deleted, revived\nand shard again.\n\nAlso fix some intermittent probe test failures due to non-idempotent\nshrinking operations.\n\nChange-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6\n""}, {'number': 4, 'created': '2018-02-23 15:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8287772a84237085165f738305c48b91cf7d34fc', 'message': ""Make root sharding state survive container delete\n\nIf the root container is deleted then its sharding sysmeta is lost,\nincluding the sharding epoch. But we only need the sysmeta sharding\nepoch to signal a transition to sharding, and we shouldn't be\ndeleting a container that has just started sharding. It should\ntherefore be ok for a root container to be deleted, revived\nand shard again.\n\nAlso fix some intermittent probe test failures due to non-idempotent\nshrinking operations.\n\nChange-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6\n""}, {'number': 5, 'created': '2018-02-23 15:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3858408e0478cd725142e880a1dfea15c2a6e845', 'message': ""Make root sharding state survive container delete\n\nIf the root container is deleted then its sharding sysmeta is lost,\nincluding the sharding epoch. But we only need the sysmeta sharding\nepoch to signal a transition to sharding, and we shouldn't be\ndeleting a container that has just started sharding. It should\ntherefore be ok for a root container to be deleted, revived\nand shard again.\n\nAlso fix some intermittent probe test failures due to non-idempotent\nshrinking operations.\n\nChange-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6\n""}, {'number': 6, 'created': '2018-02-23 16:03:17.000000000', 'files': ['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/493ab8960bf0e8cc8a8703cd539659272e13d68a', 'message': ""Make root sharding state survive container delete\n\nIf the root container is deleted then its sharding sysmeta is lost,\nincluding the sharding epoch. But we only need the sysmeta sharding\nepoch to signal a transition to sharding, and we shouldn't be\ndeleting a container that has just started sharding. It should\ntherefore be ok for a root container to be deleted, revived\nand shard again.\n\nAlso fix some intermittent probe test failures due to non-idempotent\nshrinking operations.\n\nChange-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6\n""}]",1,547086,493ab8960bf0e8cc8a8703cd539659272e13d68a,30,5,6,7847,,,0,"Make root sharding state survive container delete

If the root container is deleted then its sharding sysmeta is lost,
including the sharding epoch. But we only need the sysmeta sharding
epoch to signal a transition to sharding, and we shouldn't be
deleting a container that has just started sharding. It should
therefore be ok for a root container to be deleted, revived
and shard again.

Also fix some intermittent probe test failures due to non-idempotent
shrinking operations.

Change-Id: Id7a6380812928c1b7fa9f2fc3ef353dab405d3f6
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/547086/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py']",5,119d91e50bbf172006582b92e559f33e7d8537e5,p-sharding-final-shrink-2," new = sr.copy(deleted=1) self.assertEqual(dict(sr, deleted=1), dict(new)) new = sr.copy(timestamp=new_timestamp, object_count=99) self.assertEqual(dict(sr, created_at=new_timestamp.internal, meta_timestamp=new_timestamp.internal, state_timestamp=new_timestamp.internal, object_count=99), dict(new))",,137,37
openstack%2Fnova~master~Iba8d29cb442c610de53e70c81533a8e1243d12dc,openstack/nova,master,Iba8d29cb442c610de53e70c81533a8e1243d12dc,[Placement] Invalid query parameter could lead to HTTP 500,MERGED,2018-01-31 03:12:39.000000000,2018-02-24 03:43:51.000000000,2018-02-24 03:43:51.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 03:12:39.000000000', 'files': ['nova/api/openstack/placement/util.py', 'nova/tests/unit/api/openstack/placement/test_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea006b13a7ad5229a3dcdbba0e7aef438e873b6c', 'message': '[Placement] Invalid query parameter could lead to HTTP 500\n\nInvalid query parameter could lead to HTTP 500, although\nPlacement used JSON Schema verification to check input query\nparams, but query like: GET allocation_candidates?limit=%88\nwill still lead to HTTP 500, as it failed to parse at webob\nwhich is pre JSON Schema check.\n\nChange-Id: Iba8d29cb442c610de53e70c81533a8e1243d12dc\nPartial-bug: #1746202\n'}]",4,539408,ea006b13a7ad5229a3dcdbba0e7aef438e873b6c,22,17,1,20722,,,0,"[Placement] Invalid query parameter could lead to HTTP 500

Invalid query parameter could lead to HTTP 500, although
Placement used JSON Schema verification to check input query
params, but query like: GET allocation_candidates?limit=%88
will still lead to HTTP 500, as it failed to parse at webob
which is pre JSON Schema check.

Change-Id: Iba8d29cb442c610de53e70c81533a8e1243d12dc
Partial-bug: #1746202
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/539408/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/util.py', 'nova/tests/unit/api/openstack/placement/test_util.py']",2,ea006b13a7ad5229a3dcdbba0e7aef438e873b6c,bug/1746202,"import sixclass QueryParamsSchemaTestCase(test.NoDBTestCase): def test_validate_request(self): schema = { 'type': 'object', 'properties': { 'foo': {'type': 'string'} }, 'additionalProperties': False} req = webob.Request.blank('/test?foo=%88') error = self.assertRaises(webob.exc.HTTPBadRequest, util.validate_query_params, req, schema) self.assertIn('Invalid query string parameters', six.text_type(error)) ",,20,1
openstack%2Ftripleo-common~master~Idd759abc454b17f3798900c5bab9ef68899610d7,openstack/tripleo-common,master,Idd759abc454b17f3798900c5bab9ef68899610d7,Add healthcheck script for etcd,MERGED,2018-02-09 13:06:46.000000000,2018-02-24 03:21:13.000000000,2018-02-24 03:21:13.000000000,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-09 13:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4524d21eef11bbb2617792fb00bb65a9dbffbadd', 'message': 'Add healthcheck script for etcd\n\nThis patch adds script for docker health check of etcd service.\n\nThe script uses etcdctl control tool to check enpoint health.\n\nChange-Id: Idd759abc454b17f3798900c5bab9ef68899610d7\n'}, {'number': 2, 'created': '2018-02-15 19:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c458f5af8b3c3eb9e50dd105fbeb411017600ab4', 'message': 'Add healthcheck script for etcd\n\nThis patch adds script for docker health check of etcd service.\nThe script uses etcdctl control tool to check enpoint health.\n\nChange-Id: Idd759abc454b17f3798900c5bab9ef68899610d7\n'}, {'number': 3, 'created': '2018-02-19 13:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/28900f5c36348c25c505b0231e9db88925d2e979', 'message': 'Add healthcheck script for etcd\n\nThis patch adds script for docker health check of etcd service.\nThe script uses etcdctl control tool to check enpoint health.\n\nChange-Id: Idd759abc454b17f3798900c5bab9ef68899610d7\n'}, {'number': 4, 'created': '2018-02-23 13:04:35.000000000', 'files': ['healthcheck/etcd'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c2d2f93d99a5633ecdc6f202abb6d5936976767b', 'message': 'Add healthcheck script for etcd\n\nThis patch adds script for docker health check of etcd service.\nThe script uses etcdctl control tool to check enpoint health.\n\nChange-Id: Idd759abc454b17f3798900c5bab9ef68899610d7\n'}]",2,542803,c2d2f93d99a5633ecdc6f202abb6d5936976767b,29,8,4,5241,,,0,"Add healthcheck script for etcd

This patch adds script for docker health check of etcd service.
The script uses etcdctl control tool to check enpoint health.

Change-Id: Idd759abc454b17f3798900c5bab9ef68899610d7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/542803/4 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/etcd', 'container-images/tripleo_kolla_template_overrides.j2']",2,4524d21eef11bbb2617792fb00bb65a9dbffbadd,healthcheck/etcd,{% block etcd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/etcd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} ,,11,0
openstack%2Fmistral~master~I9542ba8f01f57b1b3473185c42d95d99ad1e8435,openstack/mistral,master,I9542ba8f01f57b1b3473185c42d95d99ad1e8435,Hard code top package name,MERGED,2018-02-22 14:25:18.000000000,2018-02-24 03:15:39.000000000,2018-02-24 03:15:39.000000000,"[{'_account_id': 7065}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23211}, {'_account_id': 23271}]","[{'number': 1, 'created': '2018-02-22 14:25:18.000000000', 'files': ['mistral/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/ce454f5f2640b9aaf01b26934128a3a99395fa4f', 'message': 'Hard code top package name\n\nUsing the package name to identify the top module name can cause issues\nif the package is renamed for any reasons. Hard coding the top module\nensures more resiliency towards these types of accidental failures\nand provides an obvious mapping for the file names.\n\nChange-Id: I9542ba8f01f57b1b3473185c42d95d99ad1e8435\n'}]",0,547001,ce454f5f2640b9aaf01b26934128a3a99395fa4f,13,8,1,21970,,,0,"Hard code top package name

Using the package name to identify the top module name can cause issues
if the package is renamed for any reasons. Hard coding the top module
ensures more resiliency towards these types of accidental failures
and provides an obvious mapping for the file names.

Change-Id: I9542ba8f01f57b1b3473185c42d95d99ad1e8435
",git fetch https://review.opendev.org/openstack/mistral refs/changes/01/547001/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/utils/__init__.py'],1,ce454f5f2640b9aaf01b26934128a3a99395fa4f,hardcode_top_package," base_path = pkg.resource_filename(""mistral"", directory)","from mistral import version base_path = pkg.resource_filename( version.version_info.package, directory )",1,5
openstack%2Fpython-tripleoclient~master~I32c672dffc876250b9949f4fc4ff77c648186e4d,openstack/python-tripleoclient,master,I32c672dffc876250b9949f4fc4ff77c648186e4d,Clarify minor update CLI and split minor and major classes,MERGED,2018-02-15 16:28:59.000000000,2018-02-24 03:07:05.000000000,2018-02-24 03:07:04.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 20775}, {'_account_id': 21486}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-02-15 16:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c5c8d9fbcc9c79a12e36a9e2d7050e4b8bf6573', 'message': 'Provide update commands for each upgrade steps\n\nSplit the upgrade/update code in small pieces to avoid\nhuge block of if statement.\nIt will give us uniq command for each update/upgrade steps\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 2, 'created': '2018-02-15 20:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd88804c4ea63d7080ece72f0e821d3d26266083', 'message': 'Provide update commands for each upgrade steps\n\nSplit the upgrade/update code in small pieces to avoid\nhuge block of if statement.\nIt will give us uniq command for each update/upgrade steps\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 3, 'created': '2018-02-20 13:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/db384650be5db4feeea35cf690b4674fad6e0896', 'message': 'Split out the minor update and major upgrade classes\n\nSplit the upgrade/update code in small pieces to avoid\nhuge block of if statement.\nIt will give us uniqe commands for each update/upgrade steps\n\nHere we add ""openstack overcloud update playbooks"" for the\nshared initial heat stack update, and ""openstack overcloud update""\nwhich takes --nodes to specify where to run the minor update\nplaybook.\n\nA child review will add the ""openstack overcloud upgrade"" for\nrunning the corresponding major upgrade playbooks.\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 4, 'created': '2018-02-20 14:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cbed88b1edd5e8de401b305980f404fa7952a3e3', 'message': 'Split out the minor update and major upgrade classes\n\nSplit the upgrade/update code in small pieces to avoid\nhuge block of if statement.\nIt will give us uniqe commands for each update/upgrade steps\n\nHere we add ""openstack overcloud update playbooks"" for the\nshared initial heat stack update, and ""openstack overcloud update""\nwhich takes --nodes to specify where to run the minor update\nplaybook.\n\nA child review will add the ""openstack overcloud upgrade"" for\nrunning the corresponding major upgrade playbooks.\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 5, 'created': '2018-02-20 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df2a2962c0ecb663c95d7b3ed1787e0006e92e21', 'message': 'Split out the minor update and major upgrade classes\n\nSplit the upgrade/update code in small pieces to avoid\nhuge block of if statement.\nIt will give us uniqe commands for each update/upgrade steps\n\nHere we add ""openstack overcloud update playbooks"" for the\nshared initial heat stack update, and ""openstack overcloud update""\nwhich takes --nodes to specify where to run the minor update\nplaybook.\n\nA child review will add the ""openstack overcloud upgrade"" for\nrunning the corresponding major upgrade playbooks.\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 6, 'created': '2018-02-22 11:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aff1b4a29ff9f57bf90884ef6d83dbf1287b2fdf', 'message': 'Clarify minor update CLI and split minor and major classes\n\nThis is the first step which defines the minor update related\nclasses and entry points:\n\n    openstack overcloud update prepare --container-registry-file\n\t\t...\nFor running the no-op heat stack update to refresh outputs and\n\n    openstack overcloud update run --nodes FOO --playbook all\n\nFor running the minor update ansible playbooks on specified\nnodes.\n\nA child review will add the openstack overcloud upgrade prepare\nand openstack overcloud upgrade run classes and entry points.\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 7, 'created': '2018-02-22 11:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/998feec5ccad03b4a9c8c0b612ab700435ecb024', 'message': 'Clarify minor update CLI and split minor and major classes\n\nThis is the first step which defines the minor update related\nclasses and entry points:\n\n    openstack overcloud update prepare --container-registry-file ...\n\nFor running the no-op heat stack update to refresh outputs and\n\n    openstack overcloud update run --nodes FOO --playbook all\n\nFor running the minor update ansible playbooks on specified\nnodes.\n\nA child review will add the openstack overcloud upgrade prepare\nand openstack overcloud upgrade run classes and entry points.\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 8, 'created': '2018-02-22 11:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab847f6530ff3d2b530cfc5943377b8c99f5e6d8', 'message': 'Clarify minor update CLI and split minor and major classes\n\nThis is the first step which defines the minor update related\nclasses and entry points:\n\n    openstack overcloud update prepare --container-registry-file ...\n\nFor running the no-op heat stack update to refresh outputs and\n\n    openstack overcloud update run --nodes FOO --playbook all\n\nFor running the minor update ansible playbooks on specified\nnodes.\n\nA child review will add the openstack overcloud upgrade prepare\nand openstack overcloud upgrade run classes and entry points.\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 9, 'created': '2018-02-22 14:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d1e6d7688b4e096102d205c723e9c347be55fb2', 'message': 'Clarify minor update CLI and split minor and major classes\n\nThis is the first step which defines the minor update related\nclasses and entry points:\n\n    openstack overcloud update prepare --container-registry-file ...\n\nFor running the no-op heat stack update to refresh outputs and\n\n    openstack overcloud update run --nodes FOO --playbook all\n\nFor running the minor update ansible playbooks on specified\nnodes.\n\nA child review will add the openstack overcloud upgrade prepare\nand openstack overcloud upgrade run classes and entry points\nhere https://review.openstack.org/545365\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 10, 'created': '2018-02-23 12:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/311190bec3ef3e2095edd48408c5684458aa6123', 'message': 'Clarify minor update CLI and split minor and major classes\n\nThis is the first step which defines the minor update related\nclasses and entry points:\n\n    openstack overcloud update prepare --container-registry-file ...\n\nFor running the no-op heat stack update to refresh outputs and\n\n    openstack overcloud update run --nodes FOO --playbook all\n\nFor running the minor update ansible playbooks on specified\nnodes.\n\nA child review will add the openstack overcloud upgrade prepare\nand openstack overcloud upgrade run classes and entry points\nhere https://review.openstack.org/545365\n\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}, {'number': 11, 'created': '2018-02-23 12:38:47.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_update.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6956e07e59c79d08e58cb7cede0c0c325d35946a', 'message': 'Clarify minor update CLI and split minor and major classes\n\nThis is the first step which defines the minor update related\nclasses and entry points:\n\n    openstack overcloud update prepare --container-registry-file ...\n\nFor running the no-op heat stack update to refresh outputs and\n\n    openstack overcloud update run --nodes FOO --playbook all\n\nFor running the minor update ansible playbooks on specified\nnodes.\n\nA child review will add the openstack overcloud upgrade prepare\nand openstack overcloud upgrade run classes and entry points\nhere https://review.openstack.org/545365\n\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d\n'}]",47,545026,6956e07e59c79d08e58cb7cede0c0c325d35946a,76,12,11,16515,,,0,"Clarify minor update CLI and split minor and major classes

This is the first step which defines the minor update related
classes and entry points:

    openstack overcloud update prepare --container-registry-file ...

For running the no-op heat stack update to refresh outputs and

    openstack overcloud update run --nodes FOO --playbook all

For running the minor update ansible playbooks on specified
nodes.

A child review will add the openstack overcloud upgrade prepare
and openstack overcloud upgrade run classes and entry points
here https://review.openstack.org/545365

Co-Authored-By: Marios Andreou <marios@redhat.com>
Change-Id: I32c672dffc876250b9949f4fc4ff77c648186e4d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/545026/11 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_update.py', 'setup.cfg']",2,9c5c8d9fbcc9c79a12e36a9e2d7050e4b8bf6573,major-upgrade, overcloud_update = tripleoclient.v1.overcloud_update:UpdateOvercloud overcloud_update_nodes = tripleoclient.v1.overcloud_update:UpdateOvercloudNodes overcloud_upgrade_converge = tripleoclient.v1.overcloud_update:UpgradeConvergeOvercloud, overcloud_update_stack = tripleoclient.v1.overcloud_update:UpdateOvercloud overcloud_upgrade = tripleoclient.v1.overcloud_update:UpgradeOvercloud,83,95
openstack%2Fopenstack-ansible~stable%2Focata~I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0,openstack/openstack-ansible,stable/ocata,I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0,Ensure that constraints are used for AIO bootstrap,MERGED,2018-02-19 17:26:14.000000000,2018-02-24 03:01:33.000000000,2018-02-24 03:01:33.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-19 17:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/02482d060e63d7bb08ba64bb2f9de0dc2b10d858', 'message': 'Ensure that constraints are used for AIO bootstrap\n\nThis is a partial backport of [1] without the octavia\nspecific changes, and [2] combined with it.\n\nCurrently the pip_install role does not configure any\nconstraints when exercising the AIO bootstrap, creating\nthe possibility that the initial bootstrap may not have\nthe right software versions.\n\nThis patch ensures that the same constraints are used\nfor the AIO bootstrap as was done for the Ansible\nbootstrap.\n\n[1] https://review.openstack.org/496929\n[2] https://review.openstack.org/545690\nChange-Id: I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0\n'}, {'number': 2, 'created': '2018-02-20 10:47:35.000000000', 'files': ['tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f64e6baeaa4fa197a0669f4a978baed79d125915', 'message': 'Ensure that constraints are used for AIO bootstrap\n\nThis is a partial backport of [1] without the octavia\nspecific changes, and [2] combined with it.\n\nCurrently the pip_install role does not configure any\nconstraints when exercising the AIO bootstrap, creating\nthe possibility that the initial bootstrap may not have\nthe right software versions.\n\nThis patch ensures that the same constraints are used\nfor the AIO bootstrap as was done for the Ansible\nbootstrap.\n\n[1] https://review.openstack.org/496929\n[2] https://review.openstack.org/545690\nChange-Id: I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0\n'}]",0,545895,f64e6baeaa4fa197a0669f4a978baed79d125915,13,4,2,6816,,,0,"Ensure that constraints are used for AIO bootstrap

This is a partial backport of [1] without the octavia
specific changes, and [2] combined with it.

Currently the pip_install role does not configure any
constraints when exercising the AIO bootstrap, creating
the possibility that the initial bootstrap may not have
the right software versions.

This patch ensures that the same constraints are used
for the AIO bootstrap as was done for the Ansible
bootstrap.

[1] https://review.openstack.org/496929
[2] https://review.openstack.org/545690
Change-Id: I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/545895/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bootstrap-aio.yml'],1,02482d060e63d7bb08ba64bb2f9de0dc2b10d858,," pip_install_upper_constraints_proto: ""{{ ansible_python_version | version_compare('2.7.9', '>=') | ternary('https','http') }}"" pip_install_upper_constraints: >- {{ (playbook_dir ~ '/../global-requirement-pins.txt') | realpath }} --constraint {{ pip_install_upper_constraints_proto }}://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?id={{ requirements_git_install_branch | regex_replace(' #.*$','') }}",,4,0
openstack%2Fopenstack-ansible~stable%2Fpike~I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0,openstack/openstack-ansible,stable/pike,I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0,Ensure that constraints are used for AIO bootstrap,MERGED,2018-02-19 17:26:03.000000000,2018-02-24 03:01:31.000000000,2018-02-24 03:01:31.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-19 17:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf03d4dc93f041d940a476a8df2d173b47fb8bc3', 'message': 'Ensure that constraints are used for AIO bootstrap\n\nThis is a partial backport of [1] without the octavia\nspecific changes, and [2] combined with it.\n\nCurrently the pip_install role does not configure any\nconstraints when exercising the AIO bootstrap, creating\nthe possibility that the initial bootstrap may not have\nthe right software versions.\n\nThis patch ensures that the same constraints are used\nfor the AIO bootstrap as was done for the Ansible\nbootstrap.\n\n[1] https://review.openstack.org/496929\n[2] https://review.openstack.org/545690\nChange-Id: I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0\n'}, {'number': 2, 'created': '2018-02-20 10:46:59.000000000', 'files': ['tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/03e57beccd674d0817354ca1e23ffc838daa1acc', 'message': 'Ensure that constraints are used for AIO bootstrap\n\nThis is a partial backport of [1] without the octavia\nspecific changes, and [2] combined with it.\n\nCurrently the pip_install role does not configure any\nconstraints when exercising the AIO bootstrap, creating\nthe possibility that the initial bootstrap may not have\nthe right software versions.\n\nThis patch ensures that the same constraints are used\nfor the AIO bootstrap as was done for the Ansible\nbootstrap.\n\n[1] https://review.openstack.org/496929\n[2] https://review.openstack.org/545690\nChange-Id: I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0\n'}]",0,545894,03e57beccd674d0817354ca1e23ffc838daa1acc,15,5,2,6816,,,0,"Ensure that constraints are used for AIO bootstrap

This is a partial backport of [1] without the octavia
specific changes, and [2] combined with it.

Currently the pip_install role does not configure any
constraints when exercising the AIO bootstrap, creating
the possibility that the initial bootstrap may not have
the right software versions.

This patch ensures that the same constraints are used
for the AIO bootstrap as was done for the Ansible
bootstrap.

[1] https://review.openstack.org/496929
[2] https://review.openstack.org/545690
Change-Id: I6aa467d4f1f6db33c824f4fcf8e46adb0a26cfa0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/545894/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bootstrap-aio.yml'],1,cf03d4dc93f041d940a476a8df2d173b47fb8bc3,," pip_install_upper_constraints_proto: ""{{ ansible_python_version | version_compare('2.7.9', '>=') | ternary('https','http') }}"" pip_install_upper_constraints: >- {{ (playbook_dir ~ '/../global-requirement-pins.txt') | realpath }} --constraint {{ pip_install_upper_constraints_proto }}://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?id={{ requirements_git_install_branch | regex_replace(' #.*$','') }}",,4,0
openstack%2Fkeystoneauth~master~I27ac6ebfb68ba3edad08a5c97b91f4abab9b395f,openstack/keystoneauth,master,I27ac6ebfb68ba3edad08a5c97b91f4abab9b395f,Override support message in AuthorizationFailure  class,MERGED,2018-01-30 09:53:48.000000000,2018-02-24 02:50:33.000000000,2018-02-24 02:50:33.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 25587}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-01-30 09:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/abaa2c0cb805bb506dbaffb9a259fcf219600693', 'message': 'Override support message in AuthorizationFailure  class\n\nAuthorizationFailure exception class should support\nmessage override\n\nclass AuthorizationFailure(base.ClientException):\n    message = ""Cannot authorize API client.""\n\nUsers will only be able to see the above message\n""Cannot authorize API client."" which is less useful to debug.\n\nChange-Id: I27ac6ebfb68ba3edad08a5c97b91f4abab9b395f\nCloses-Bug: #1745930\n'}, {'number': 2, 'created': '2018-02-12 06:44:44.000000000', 'files': ['keystoneauth1/identity/v3/base.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6c309e2bc222a0d1d645d5e33e36007651ea7f0e', 'message': 'Override support message in AuthorizationFailure  class\n\nAuthorizationFailure exception class should support\nmessage override\n\nclass AuthorizationFailure(base.ClientException):\n    message = ""Cannot authorize API client.""\n\nUsers will only be able to see the above message\n""Cannot authorize API client."" which is less useful to debug.\n\nChange-Id: I27ac6ebfb68ba3edad08a5c97b91f4abab9b395f\nCloses-Bug: #1745930\n'}]",0,539166,6c309e2bc222a0d1d645d5e33e36007651ea7f0e,28,6,2,25695,,,0,"Override support message in AuthorizationFailure  class

AuthorizationFailure exception class should support
message override

class AuthorizationFailure(base.ClientException):
    message = ""Cannot authorize API client.""

Users will only be able to see the above message
""Cannot authorize API client."" which is less useful to debug.

Change-Id: I27ac6ebfb68ba3edad08a5c97b91f4abab9b395f
Closes-Bug: #1745930
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/66/539166/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/identity/v3/base.py', 'keystoneauth1/exceptions/auth.py']",2,abaa2c0cb805bb506dbaffb9a259fcf219600693,bug/1745930," def __init__(self, message=None): self.message = message or self.message super(AuthorizationFailure, self).__init__(self.message)",,7,2
openstack%2Ftempest~master~I9d46067f325eac858ee9850960b9dde8cc34e763,openstack/tempest,master,I9d46067f325eac858ee9850960b9dde8cc34e763,Remove duplicate unit test module,MERGED,2018-02-22 14:43:19.000000000,2018-02-24 02:46:22.000000000,2018-02-24 02:46:22.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-22 14:43:19.000000000', 'files': ['tempest/tests/services/object_storage/test_object_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d473f8382a1bf609bb242422fb2e59e41b24b5d', 'message': ""Remove duplicate unit test module\n\nFor some reason the test_object_client unit test was never removed after\nit was copied to the lib unit tests, as part of the lib migration. I'm\nnot sure why this isn't failing because this module has a broken import,\nand this is a bit concerning that nothing caught this error. But while\nwe investigate that let's at least remove the dead code.\n\nChange-Id: I9d46067f325eac858ee9850960b9dde8cc34e763\n""}]",0,547010,1d473f8382a1bf609bb242422fb2e59e41b24b5d,11,7,1,5196,,,0,"Remove duplicate unit test module

For some reason the test_object_client unit test was never removed after
it was copied to the lib unit tests, as part of the lib migration. I'm
not sure why this isn't failing because this module has a broken import,
and this is a bit concerning that nothing caught this error. But while
we investigate that let's at least remove the dead code.

Change-Id: I9d46067f325eac858ee9850960b9dde8cc34e763
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/547010/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/services/object_storage/test_object_client.py'],1,1d473f8382a1bf609bb242422fb2e59e41b24b5d,,,"# Copyright 2016 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from tempest.lib import exceptions from tempest.services.object_storage import object_client from tempest.tests import base from tempest.tests.lib import fake_auth_provider class TestObjectClient(base.TestCase): def setUp(self): super(TestObjectClient, self).setUp() self.fake_auth = fake_auth_provider.FakeAuthProvider() self.url = self.fake_auth.base_url(None) self.object_client = object_client.ObjectClient(self.fake_auth, 'swift', 'region1') @mock.patch.object(object_client, '_create_connection') def test_create_object_continue_no_data(self, mock_poc): self._validate_create_object_continue(None, mock_poc) @mock.patch.object(object_client, '_create_connection') def test_create_object_continue_with_data(self, mock_poc): self._validate_create_object_continue('hello', mock_poc) @mock.patch.object(object_client, '_create_connection') def test_create_continue_with_no_continue_received(self, mock_poc): self._validate_create_object_continue('hello', mock_poc, initial_status=201) def _validate_create_object_continue(self, req_data, mock_poc, initial_status=100): expected_hdrs = { 'X-Auth-Token': self.fake_auth.get_token(), 'content-length': 0 if req_data is None else len(req_data), 'Expect': '100-continue'} # Setup the Mocks prior to invoking the object creation mock_resp_cls = mock.Mock() mock_resp_cls._read_status.return_value = (""1"", initial_status, ""OK"") mock_poc.return_value.response_class.return_value = mock_resp_cls # This is the final expected return value mock_poc.return_value.getresponse.return_value.status = 201 mock_poc.return_value.getresponse.return_value.reason = 'OK' # Call method to PUT object using expect:100-continue cnt = ""container1"" obj = ""object1"" path = ""/%s/%s"" % (cnt, obj) # If the expected initial status is not 100, then an exception # should be thrown and the connection closed if initial_status is 100: status, reason = \ self.object_client.create_object_continue(cnt, obj, req_data) else: self.assertRaises(exceptions.UnexpectedResponseCode, self.object_client.create_object_continue, cnt, obj, req_data) mock_poc.return_value.close.assert_called_once_with() # Verify that putrequest is called 1 time with the appropriate values mock_poc.return_value.putrequest.assert_called_once_with('PUT', path) # Verify that headers were written, including ""Expect:100-continue"" calls = [] for header, value in expected_hdrs.items(): calls.append(mock.call(header, value)) mock_poc.return_value.putheader.assert_has_calls(calls, False) mock_poc.return_value.endheaders.assert_called_once_with() # The following steps are only taken if the initial status is 100 if initial_status is 100: # Verify that the method returned what it was supposed to self.assertEqual(status, 201) # Verify that _safe_read was called once to remove the CRLF # after the 100 response mock_rc = mock_poc.return_value.response_class.return_value mock_rc._safe_read.assert_called_once_with(2) # Verify the actual data was written via send mock_poc.return_value.send.assert_called_once_with(req_data) # Verify that the getresponse method was called to receive # the final mock_poc.return_value.getresponse.assert_called_once_with() ",0,108
openstack%2Frelease-tools~master~I5f2875591c74f05d6eee587fa20615f2c9f5dbd9,openstack/release-tools,master,I5f2875591c74f05d6eee587fa20615f2c9f5dbd9,Minor cleanup of presentation,MERGED,2018-02-24 01:56:59.000000000,2018-02-24 02:33:51.000000000,2018-02-24 02:33:51.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 01:56:59.000000000', 'files': ['presentations/6-months-in-the-life-of-openstack/index.html'], 'web_link': 'https://opendev.org/openstack/release-tools/commit/45ef980ef91a0138d47d47345f2179d03d2d1428', 'message': 'Minor cleanup of presentation\n\nSmall spelling error, and reorder of slide for timeline\nflow.\n\nChange-Id: I5f2875591c74f05d6eee587fa20615f2c9f5dbd9\n'}]",0,547695,45ef980ef91a0138d47d47345f2179d03d2d1428,6,2,1,11904,,,0,"Minor cleanup of presentation

Small spelling error, and reorder of slide for timeline
flow.

Change-Id: I5f2875591c74f05d6eee587fa20615f2c9f5dbd9
",git fetch https://review.opendev.org/openstack/release-tools refs/changes/95/547695/1 && git format-patch -1 --stdout FETCH_HEAD,['presentations/6-months-in-the-life-of-openstack/index.html'],1,45ef980ef91a0138d47d47345f2179d03d2d1428,presentation," <h2>Staying in touch</h2> <ul> <li><tt>#openstack-release</tt> on freenode</li> <li><tt>[release]</tt> on openstack-dev@</li> </ul> </section> <section> <span>&nbsp;This work is licensed under a <a rel=""license"" href=""http://creativecommons.org/licenses/by/4.0/"">Creative Commons Attribution 4.0 International License</a>.</span>"," <h2>Staying in touch</h2> <ul> <li><tt>#openstack-release</tt> on freenode</li> <li><tt>[release]</tt> on openstack-dev@</li> </ul> </section> <section> <span>&nbsp;This work is licensed under a <a rel=""license"" href=""http://creativecommons.org/licenses/by/4.0/"">Creativle Commons Attribution 4.0 International License</a>.</span>",9,9
openstack%2Fzun~stable%2Fqueens~I87f33d0d20a1b73f46a67715930b7ac86e256756,openstack/zun,stable/queens,I87f33d0d20a1b73f46a67715930b7ac86e256756,Api-ref: add a warning to execute_resize endpoint,MERGED,2018-02-23 03:27:02.000000000,2018-02-24 02:31:02.000000000,2018-02-24 02:31:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-23 03:27:02.000000000', 'files': ['api-ref/source/containers.inc'], 'web_link': 'https://opendev.org/openstack/zun/commit/e285e319d8f44feae6c6e700c7015efa5f42a78b', 'message': ""Api-ref: add a warning to execute_resize endpoint\n\nIn the API reference, we'd better to provide more information\nabout the execute_resize API endpoint:\nhttps://developer.openstack.org/api-ref/application-container/#resize-tty-when-execute-command-in-a-container\nThis endpoint is not designed for end-users. It is designed\nfor UI or CLI to adjust the TTY's size of a command\nexecution in a container. Consider documenting this\nwith a warning message (as what we did for the resize\nendpoint: https://developer.openstack.org/api-ref/application-container/#resize-a-container).\n\nChange-Id: I87f33d0d20a1b73f46a67715930b7ac86e256756\nCloses-Bug: #1749234\n""}]",0,547253,e285e319d8f44feae6c6e700c7015efa5f42a78b,7,4,1,11536,,,0,"Api-ref: add a warning to execute_resize endpoint

In the API reference, we'd better to provide more information
about the execute_resize API endpoint:
https://developer.openstack.org/api-ref/application-container/#resize-tty-when-execute-command-in-a-container
This endpoint is not designed for end-users. It is designed
for UI or CLI to adjust the TTY's size of a command
execution in a container. Consider documenting this
with a warning message (as what we did for the resize
endpoint: https://developer.openstack.org/api-ref/application-container/#resize-a-container).

Change-Id: I87f33d0d20a1b73f46a67715930b7ac86e256756
Closes-Bug: #1749234
",git fetch https://review.opendev.org/openstack/zun refs/changes/53/547253/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/containers.inc'],1,e285e319d8f44feae6c6e700c7015efa5f42a78b,bug/1749234-stable/queens,.. warning:: This API is primarily designed to be used by python-zunclient or Zun-UI. The point of this API is to coordinate between client-side tools and Zun to adjust the size of the TTY for the container. Unless you are writing client-side tools you **should not** be using this API. ,,7,0
openstack%2Fsenlin~master~I10177b76a672b4a0b1406eb830358cb66b3cf0ca,openstack/senlin,master,I10177b76a672b4a0b1406eb830358cb66b3cf0ca,Add scaling policy version support message,MERGED,2018-02-09 07:44:54.000000000,2018-02-24 02:16:53.000000000,2018-02-12 05:52:08.000000000,"[{'_account_id': 8246}, {'_account_id': 17656}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 23401}]","[{'number': 1, 'created': '2018-02-09 07:44:54.000000000', 'files': ['senlin/policies/scaling_policy.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/da1d380b37a7d20b1af6d01b833b5d351e6e0ae9', 'message': 'Add scaling policy version support message\n\nIf scaling policy version support miss, policy type\nlist not display scaling policy type.\n\nChange-Id: I10177b76a672b4a0b1406eb830358cb66b3cf0ca\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",0,542692,da1d380b37a7d20b1af6d01b833b5d351e6e0ae9,9,5,1,23517,,,0,"Add scaling policy version support message

If scaling policy version support miss, policy type
list not display scaling policy type.

Change-Id: I10177b76a672b4a0b1406eb830358cb66b3cf0ca
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/92/542692/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/policies/scaling_policy.py'],1,da1d380b37a7d20b1af6d01b833b5d351e6e0ae9,scaling_policy_version," VERSIONS = { '1.0': [ {'status': consts.SUPPORTED, 'since': '2016.04'} ] }",,5,0
openstack%2Fopenstacksdk~master~Ibd43b2af77a24783df1b0f8848aece712f5e0cb3,openstack/openstacksdk,master,Ibd43b2af77a24783df1b0f8848aece712f5e0cb3,Add support for dns-domain,MERGED,2017-09-05 02:55:23.000000000,2018-02-24 02:08:19.000000000,2018-02-24 02:08:18.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 841}, {'_account_id': 13252}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-05 02:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/39c961f5d9228a2f993fac9df00dab099c8a73a8', 'message': 'Add support for dns-domain in Openstack SDK\n\nChange-Id: Ibd43b2af77a24783df1b0f8848aece712f5e0cb3\nCloses-Bug: #1714878\n'}, {'number': 2, 'created': '2017-09-05 03:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/85febf7452c0c452f59e0ea6d0e4aa2b0801bb9c', 'message': 'Add support for dns-domain in Openstack SDK\n\nChange-Id: Ibd43b2af77a24783df1b0f8848aece712f5e0cb3\nCloses-Bug: #1714878\n'}, {'number': 3, 'created': '2017-09-05 12:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ab9bc55435ad1eb13345fffa72ca3f10ebb6a624', 'message': 'Add support for dns-domain\n\nChange-Id: Ibd43b2af77a24783df1b0f8848aece712f5e0cb3\nCloses-Bug: #1714878\n'}, {'number': 4, 'created': '2018-02-23 11:39:17.000000000', 'files': ['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py', 'releasenotes/notes/add-dns-domain-support-for-port-3fa4568330dda07e.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f47eb50ea1134b7b5cca5cc333f0104b2722abd', 'message': 'Add support for dns-domain\n\nChange-Id: Ibd43b2af77a24783df1b0f8848aece712f5e0cb3\nPartial-Bug: #1714878\n'}]",5,500660,4f47eb50ea1134b7b5cca5cc333f0104b2722abd,23,6,4,17776,,,0,"Add support for dns-domain

Change-Id: Ibd43b2af77a24783df1b0f8848aece712f5e0cb3
Partial-Bug: #1714878
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/60/500660/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py']",2,39c961f5d9228a2f993fac9df00dab099c8a73a8,bug/1714878, #: DNS Domain assigned to the port. dns_domain = resource.Body('dns_domain'),,4,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~I6cfe8f0ef8fb1b3ebd8e68bf3bdd0aaf4b96e523,openstack/openstack-ansible-os_tempest,stable/queens,I6cfe8f0ef8fb1b3ebd8e68bf3bdd0aaf4b96e523,Use realpath filter instead of the stat/dir dance,MERGED,2018-02-20 13:33:28.000000000,2018-02-24 02:07:04.000000000,2018-02-24 02:07:04.000000000,"[{'_account_id': 538}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 13:33:28.000000000', 'files': ['tasks/tempest_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/581f180986ce5bae406723666500e5dae5b04554', 'message': 'Use realpath filter instead of the stat/dir dance\n\nWe can make the deployment more efficient if we use the realpath\nfilter, instead of first checking for the directory and then\nimplementing the changes in a follow-up task.\n\nThis is more readable, simpler and faster to execute.\n\nChange-Id: I6cfe8f0ef8fb1b3ebd8e68bf3bdd0aaf4b96e523\n(cherry picked from commit b4140c9eedaedc86ca2675695ff241da7644cc81)\n'}]",0,546147,581f180986ce5bae406723666500e5dae5b04554,8,3,1,6816,,,0,"Use realpath filter instead of the stat/dir dance

We can make the deployment more efficient if we use the realpath
filter, instead of first checking for the directory and then
implementing the changes in a follow-up task.

This is more readable, simpler and faster to execute.

Change-Id: I6cfe8f0ef8fb1b3ebd8e68bf3bdd0aaf4b96e523
(cherry picked from commit b4140c9eedaedc86ca2675695ff241da7644cc81)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/47/546147/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_post_install.yml'],1,581f180986ce5bae406723666500e5dae5b04554,," - path: ""{{ tempest_log_dir | realpath }}""","- name: Stat for tempest log dir stat: path: ""{{ tempest_log_dir }}"" register: _tempest_log_dir_check - path: ""{{ (_tempest_log_dir_check.stat.exists and _tempest_log_dir_check.stat.islnk) | ternary(_tempest_log_dir_check.stat.lnk_source, tempest_log_dir) }}""",1,6
openstack%2Ftempest~master~Idd88cccf70041d77de869f735483f4ebc851c024,openstack/tempest,master,Idd88cccf70041d77de869f735483f4ebc851c024,Test volume v3 by default,ABANDONED,2017-10-06 16:37:28.000000000,2018-02-24 02:01:16.000000000,,"[{'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-10-06 16:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3fe069b2e686581f775388e8c93e4a329059543', 'message': 'Test volume v3 by default\n\nThis switches all volume tests to run against the v3 API by\ndefault.\n\nChange-Id: Idd88cccf70041d77de869f735483f4ebc851c024\n'}, {'number': 2, 'created': '2017-10-06 20:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26498c92bfd4c03360c08b53c9387bafbf66b576', 'message': 'Test volume v3 by default\n\nThis switches all volume tests to run against the v3 API by\ndefault.\n\nChange-Id: Idd88cccf70041d77de869f735483f4ebc851c024\n'}, {'number': 3, 'created': '2017-10-07 20:39:21.000000000', 'files': ['tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/config.py', 'tempest/api/volume/base.py', 'tempest/api/volume/test_volume_metadata.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/81b27583c377116f6faab8c7eb1d8db527bb085d', 'message': 'Test volume v3 by default\n\nThis switches all volume tests to run against the v3 API by\ndefault.\n\nChange-Id: Idd88cccf70041d77de869f735483f4ebc851c024\n'}]",1,510182,81b27583c377116f6faab8c7eb1d8db527bb085d,20,7,3,11904,,,0,"Test volume v3 by default

This switches all volume tests to run against the v3 API by
default.

Change-Id: Idd88cccf70041d77de869f735483f4ebc851c024
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/510182/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/config.py', 'tempest/api/volume/base.py', 'tempest/api/volume/test_volume_metadata.py']",4,d3fe069b2e686581f775388e8c93e4a329059543,disable_volv2," def skip_checks(cls): super(VolumesMetadataTest, cls).skip_checks() # Need to skip with API v3 for now # TODO(smcginnis) Remove after bug 1712192 is closed and # all supported releases with it are patched or EOL if cls._api_version == 3: raise cls.skipException('Skipping volume metadata tests until ' 'bug 1712192 is no longer an issue.') @classmethod",,15,7
openstack%2Ftempest~master~Iabddbf23342ac4df54c409da1bba45703756d378,openstack/tempest,master,Iabddbf23342ac4df54c409da1bba45703756d378,Support volume API v3 tests,ABANDONED,2017-08-23 19:47:33.000000000,2018-02-24 02:01:11.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 21129}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-23 19:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55ae68e7250925d0b39235d5e74bb660acc19975', 'message': 'Support volume API v3 tests\n\nTests assumed API v2 for most things, even though the current\nsupported API is v3 and all future work will go under that as\nmicroversions.\n\nThis switches v3 to be the default enabled version and extends\ntests to cover both v2 and v3 base functionality.\n\nv3.0 is identical to v2. Since there is some concern about that\nbeing true, and to plan ahead for the eventual removal of v2 at\nsome point in the future, all v2 tests just inherit from the v3\nones with only changes to the api_version.\n\nTo further support that these base APIs are the same, the v3\nclients extend from the v2 clients and just extend them with\nnew functionality. This mismatch between conventions with the\nclients and the tests are intentional.\n\nChange-Id: Iabddbf23342ac4df54c409da1bba45703756d378\n'}, {'number': 2, 'created': '2017-08-24 13:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/647c711b3b7304becdeccd151d8d34f6eefde659', 'message': 'Support volume API v3 tests\n\nTests assumed API v2 for most things, even though the current\nsupported API is v3 and all future work will go under that as\nmicroversions.\n\nThis switches v3 to be the default enabled version and extends\ntests to cover both v2 and v3 base functionality.\n\nv3.0 is identical to v2. Since there is some concern about that\nbeing true, and to plan ahead for the eventual removal of v2 at\nsome point in the future, all v2 tests just inherit from the v3\nones with only changes to the api_version.\n\nTo further support that these base APIs are the same, the v3\nclients extend from the v2 clients and just extend them with\nnew functionality. This mismatch between conventions with the\nclients and the tests are intentional.\n\nChange-Id: Iabddbf23342ac4df54c409da1bba45703756d378\n'}, {'number': 3, 'created': '2017-08-25 13:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/39700b508be770cd2b686ecd6d36c66c8998a2c5', 'message': 'Support volume API v3 tests\n\nTests assumed API v2 for most things, even though the current\nsupported API is v3 and all future work will go under that as\nmicroversions.\n\nThis switches v3 to be the default enabled version and extends\ntests to cover both v2 and v3 base functionality.\n\nv3.0 is identical to v2. Since there is some concern about that\nbeing true, and to plan ahead for the eventual removal of v2 at\nsome point in the future, all v2 tests just inherit from the v3\nones with only changes to the api_version.\n\nTo further support that these base APIs are the same, the v3\nclients extend from the v2 clients and just extend them with\nnew functionality. This mismatch between conventions with the\nclients and the tests are intentional.\n\nChange-Id: Iabddbf23342ac4df54c409da1bba45703756d378\n'}, {'number': 4, 'created': '2017-09-01 11:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/194f8d2fc30659295c29a3bc24024e1da31fa75b', 'message': 'Support volume API v3 tests\n\nTests assumed API v2 for most things, even though the current\nsupported API is v3 and all future work will go under that as\nmicroversions.\n\nThis switches v3 to be the default enabled version and extends\ntests to cover both v2 and v3 base functionality.\n\nv3.0 is identical to v2. Since there is some concern about that\nbeing true, and to plan ahead for the eventual removal of v2 at\nsome point in the future, all v2 tests just inherit from the v3\nones with only changes to the api_version.\n\nTo further support that these base APIs are the same, the v3\nclients extend from the v2 clients and just extend them with\nnew functionality. This mismatch between conventions with the\nclients and the tests are intentional.\n\nChange-Id: Iabddbf23342ac4df54c409da1bba45703756d378\n'}, {'number': 5, 'created': '2017-09-21 23:29:19.000000000', 'files': ['tempest/lib/services/volume/v3/types_client.py', 'tempest/api/volume/admin/v2/test_backends_capabilities.py', 'tempest/api/volume/v2/test_extensions.py', 'tempest/scenario/manager.py', 'tempest/api/volume/admin/v2/test_volume_pools.py', 'tempest/api/volume/admin/v2/test_volume_services.py', 'tempest/api/volume/test_volume_metadata.py', 'tempest/api/volume/admin/v2/test_volume_retype_with_migration.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/api/volume/admin/v2/test_volume_quota_classes.py', 'tempest/api/volume/v2/test_snapshot_metadata.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/api/volume/v2/test_volumes_negative.py', 'tempest/api/volume/admin/v2/test_snapshot_manage.py', 'tempest/api/volume/v2/test_volumes_get.py', 'tempest/api/volume/base.py', 'tempest/api/volume/v2/test_availability_zone.py', 'tempest/api/volume/admin/v2/test_volume_snapshot_quotas_negative.py', 'tempest/api/volume/v2/test_volume_absolute_limits.py', 'tempest/api/volume/admin/v2/test_snapshots_actions.py', 'tempest/api/volume/v2/test_volumes_list.py', 'tempest/api/volume/v2/test_image_metadata.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/api/volume/admin/v2/test_volume_types_extra_specs_negative.py', 'tempest/api/volume/v2/test_volumes_snapshots_list.py', 'tempest/api/volume/admin/v2/test_volumes_list.py', 'tempest/lib/services/volume/v2/encryption_types_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/api/volume/admin/v2/test_volume_types.py', 'tempest/api/volume/v2/test_volume_metadata.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/volume/v2/extensions_client.py', 'tempest/api/volume/admin/v2/test_volumes_backup.py', 'tempest/config.py', 'tempest/api/volume/admin/v2/test_multi_backend.py', 'tempest/api/volume/test_volume_transfers.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/api/volume/admin/v2/test_volume_manage.py', 'tempest/api/volume/admin/v2/test_volume_types_negative.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/api/volume/v2/test_volumes_backup.py', 'tempest/api/volume/admin/v2/__init__.py', 'tempest/api/volume/v2/test_volumes_clone_negative.py', 'tempest/api/volume/admin/v2/test_volume_quotas.py', 'tempest/api/volume/admin/v2/test_volume_types_extra_specs.py', 'tempest/api/volume/v2/test_volume_transfers.py', 'tempest/api/volume/v2/test_volumes_actions.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/api/volume/v2/test_volume_delete_cascade.py', 'tempest/api/volume/v2/test_volumes_snapshots_negative.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/common/compute.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py', 'tempest/api/volume/admin/v2/test_volume_type_access.py', 'tempest/api/volume/v2/test_volumes_snapshots.py', 'tempest/api/volume/admin/v2/test_qos.py', 'tempest/api/volume/admin/v2/test_volume_quotas_negative.py', 'tempest/api/volume/admin/v2/test_volume_hosts.py', 'tempest/lib/services/volume/v3/extensions_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/api/volume/admin/v2/test_volumes_actions.py', 'tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/api/volume/v2/test_volumes_clone.py', 'tempest/api/volume/v2/test_volumes_extend.py', 'tempest/clients.py', 'tempest/api/volume/v2/__init__.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/api/volume/test_versions.py', 'tempest/lib/services/volume/v3/limits_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a79ac380796e91a1b4ad8a0e46341ddfdf462619', 'message': 'Support volume API v3 tests\n\nTests assumed API v2 for most things, even though the current\nsupported API is v3 and all future work will go under that as\nmicroversions.\n\nThis switches v3 to be the default enabled version and extends\ntests to cover both v2 and v3 base functionality.\n\nv3.0 is identical to v2. Since there is some concern about that\nbeing true, and to plan ahead for the eventual removal of v2 at\nsome point in the future, all v2 tests just inherit from the v3\nones with only changes to the api_version.\n\nTo further support that these base APIs are the same, the v3\nclients extend from the v2 clients and just extend them with\nnew functionality. This mismatch between conventions with the\nclients and the tests are intentional.\n\nChange-Id: Iabddbf23342ac4df54c409da1bba45703756d378\n'}]",6,496858,a79ac380796e91a1b4ad8a0e46341ddfdf462619,35,8,5,11904,,,0,"Support volume API v3 tests

Tests assumed API v2 for most things, even though the current
supported API is v3 and all future work will go under that as
microversions.

This switches v3 to be the default enabled version and extends
tests to cover both v2 and v3 base functionality.

v3.0 is identical to v2. Since there is some concern about that
being true, and to plan ahead for the eventual removal of v2 at
some point in the future, all v2 tests just inherit from the v3
ones with only changes to the api_version.

To further support that these base APIs are the same, the v3
clients extend from the v2 clients and just extend them with
new functionality. This mismatch between conventions with the
clients and the tests are intentional.

Change-Id: Iabddbf23342ac4df54c409da1bba45703756d378
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/496858/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/types_client.py', 'tempest/api/volume/admin/v2/test_backends_capabilities.py', 'tempest/api/volume/v2/test_extensions.py', 'tempest/scenario/manager.py', 'tempest/api/volume/admin/v2/test_volume_pools.py', 'tempest/api/volume/admin/v2/test_volume_services.py', 'tempest/api/volume/test_volume_metadata.py', 'tempest/api/volume/admin/v2/test_volume_retype_with_migration.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/api/volume/admin/v2/test_volume_quota_classes.py', 'tempest/api/volume/v2/test_snapshot_metadata.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/api/volume/v2/test_volumes_negative.py', 'tempest/api/volume/admin/v2/test_snapshot_manage.py', 'tempest/api/volume/v2/test_volumes_get.py', 'tempest/api/volume/base.py', 'tempest/api/volume/v2/test_availability_zone.py', 'tempest/api/volume/admin/v2/test_volume_snapshot_quotas_negative.py', 'tempest/api/volume/v2/test_volume_absolute_limits.py', 'tempest/api/volume/admin/v2/test_snapshots_actions.py', 'tempest/api/volume/v2/test_volumes_list.py', 'tempest/api/volume/v2/test_image_metadata.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/api/volume/admin/v2/test_volume_types_extra_specs_negative.py', 'tempest/api/volume/v2/test_volumes_snapshots_list.py', 'tempest/api/volume/admin/v2/test_volumes_list.py', 'tempest/lib/services/volume/v2/encryption_types_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/api/volume/admin/v2/test_volume_types.py', 'tempest/api/volume/v2/test_volume_metadata.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/volume/v2/extensions_client.py', 'tempest/api/volume/admin/v2/test_volumes_backup.py', 'tempest/config.py', 'tempest/api/volume/admin/v2/test_multi_backend.py', 'tempest/api/volume/test_volume_transfers.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/api/volume/admin/v2/test_volume_manage.py', 'tempest/api/volume/admin/v2/test_volume_types_negative.py', 'tempest/scenario/test_volume_migrate_attached.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/api/volume/v2/test_volumes_backup.py', 'tempest/api/volume/admin/v2/__init__.py', 'tempest/api/volume/v2/test_volumes_clone_negative.py', 'tempest/api/volume/admin/v2/test_volume_quotas.py', 'tempest/api/volume/admin/v2/test_volume_types_extra_specs.py', 'tempest/api/volume/v2/test_volume_transfers.py', 'tempest/api/volume/v2/test_volumes_actions.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/api/volume/v2/test_volume_delete_cascade.py', 'tempest/api/volume/v2/test_volumes_snapshots_negative.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/common/compute.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py', 'tempest/api/volume/admin/v2/test_volume_type_access.py', 'tempest/api/volume/v2/test_volumes_snapshots.py', 'tempest/api/volume/admin/v2/test_qos.py', 'tempest/api/volume/admin/v2/test_volume_quotas_negative.py', 'tempest/api/volume/admin/v2/test_volume_hosts.py', 'tempest/lib/services/volume/v3/extensions_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/api/volume/admin/v2/test_volumes_actions.py', 'tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/api/volume/v2/test_volumes_clone.py', 'tempest/api/volume/v2/test_volumes_extend.py', 'tempest/clients.py', 'tempest/api/volume/v2/__init__.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/api/volume/test_versions.py', 'tempest/lib/services/volume/v3/limits_client.py']",74,55ae68e7250925d0b39235d5e74bb660acc19975,disable_volv2,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.volume.v2 import limits_client class LimitsClient(limits_client.LimitsClient): """"""Volume V3 limits client."""""" api_version = ""v3"" ",,1210,79
openstack%2Ftempest~master~I1400a870de483f5cdf125eae2a9be68b46b54343,openstack/tempest,master,I1400a870de483f5cdf125eae2a9be68b46b54343,Add volume v3 client support,ABANDONED,2017-10-06 16:37:28.000000000,2018-02-24 02:01:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23081}]","[{'number': 1, 'created': '2017-10-06 16:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bbb93145a5aa7f2aa75079f1d028a726c411d557', 'message': 'Add volume v3 client support\n\nThe Cinder v2 API is deprecated and everything should now be moving to\nthe v3 API with support for microversions. The base v3 is identical to\nv2.\n\nThis is a first patch in a series to move over to using v3 by default.\nIt adds the clients necessary for using the v3 API for all existing tests\nand updates some client usage where a specific version was not necessary\nto just use whatever the latest supported version is available.\n\nSince the base v3 is the same as v2, these clients just inherit from the\nv2 clients for now and override the api version value.\n\nChange-Id: I1400a870de483f5cdf125eae2a9be68b46b54343\n'}, {'number': 2, 'created': '2017-10-07 18:56:57.000000000', 'files': ['tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/scenario/manager.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/lib/services/volume/v3/extensions_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/clients.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/common/compute.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/api/volume/test_volume_transfers.py', 'tempest/lib/services/volume/v3/limits_client.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2091e7d8d48f9af5a844ad61461bd2c585baab8b', 'message': 'Add volume v3 client support\n\nThe Cinder v2 API is deprecated and everything should now be moving to\nthe v3 API with support for microversions. The base v3 is identical to\nv2.\n\nThis is a first patch in a series to move over to using v3 by default.\nIt adds the clients necessary for using the v3 API for all existing tests\nand updates some client usage where a specific version was not necessary\nto just use whatever the latest supported version is available.\n\nSince the base v3 is the same as v2, these clients just inherit from the\nv2 clients for now and override the api version value.\n\nChange-Id: I1400a870de483f5cdf125eae2a9be68b46b54343\n'}]",0,510181,2091e7d8d48f9af5a844ad61461bd2c585baab8b,20,10,2,11904,,,0,"Add volume v3 client support

The Cinder v2 API is deprecated and everything should now be moving to
the v3 API with support for microversions. The base v3 is identical to
v2.

This is a first patch in a series to move over to using v3 by default.
It adds the clients necessary for using the v3 API for all existing tests
and updates some client usage where a specific version was not necessary
to just use whatever the latest supported version is available.

Since the base v3 is the same as v2, these clients just inherit from the
v2 clients for now and override the api version value.

Change-Id: I1400a870de483f5cdf125eae2a9be68b46b54343
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/510181/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/scenario/manager.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/lib/services/volume/v3/extensions_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/clients.py', 'tempest/lib/services/volume/v3/availability_zone_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/common/compute.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/api/volume/test_volume_transfers.py', 'tempest/lib/services/volume/v3/limits_client.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py']",23,bbb93145a5aa7f2aa75079f1d028a726c411d557,disable_volv2,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.volume.v2 import snapshot_manage_client class SnapshotManageClient(snapshot_manage_client.SnapshotManageClient): """"""Snapshot manage V3 client."""""" api_version = ""v3"" ",,359,20
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I1d71deeee64fe27df1275965aac8240cc2ab427c,openstack/openstack-ansible-os_nova,stable/ocata,I1d71deeee64fe27df1275965aac8240cc2ab427c,Restore PowerVM repo setup,MERGED,2018-02-23 14:30:41.000000000,2018-02-24 01:56:16.000000000,2018-02-24 01:56:16.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:30:41.000000000', 'files': ['tasks/nova_install_apt_powervm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/62dd9d0cf67c9d6fb18b5fca19416bba377db645', 'message': 'Restore PowerVM repo setup\n\nIn https://review.openstack.org/466301 the PowerVM repo\nconfiguration was mistakenly removed.\n\nThis patch restores the file.\n\nChange-Id: I1d71deeee64fe27df1275965aac8240cc2ab427c\nPartial-Bug: #1750656\n'}]",0,547438,62dd9d0cf67c9d6fb18b5fca19416bba377db645,8,3,1,6816,,,0,"Restore PowerVM repo setup

In https://review.openstack.org/466301 the PowerVM repo
configuration was mistakenly removed.

This patch restores the file.

Change-Id: I1d71deeee64fe27df1275965aac8240cc2ab427c
Partial-Bug: #1750656
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/38/547438/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_install_apt_powervm.yml'],1,62dd9d0cf67c9d6fb18b5fca19416bba377db645,bug/1750656,"--- # Copyright 2017, IBM Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Add novalink keys apt_key: url: ""{{ item.url }}"" state: ""{{ item.state }}"" register: add_nv_keys until: add_nv_keys|success retries: 5 delay: 2 with_items: ""{{ novalink_gpg_keys }}"" tags: - novalink-apt-keys # When updating the cache in the apt_repository # task, and the update fails, a retry does not # detect a change the second attempt and therefore # does not update the cache, resulting in a changed # repo config, but no updated cache. To work around # this bug we implement the change of repo config # and the cache update as two seperate tasks. - name: Add novalink repo apt_repository: repo: ""{{ novalink_repo.repo }}"" state: ""{{ novalink_repo.state }}"" filename: ""{{ novalink_repo.filename | default(omit) }}"" update_cache: no register: add_nv_repos tags: - novalink-repo - name: Update Apt cache apt: update_cache: yes when: add_nv_repos | changed register: update_apt_cache until: update_apt_cache | success retries: 5 delay: 2 tags: - novalink-repo ",,54,0
openstack%2Fmonasca-persister~master~I676ba1fbe4f0219f8b6dcd97c087f59b318c500d,openstack/monasca-persister,master,I676ba1fbe4f0219f8b6dcd97c087f59b318c500d,Clean up tox.ini,MERGED,2018-02-09 14:46:59.000000000,2018-02-24 01:52:41.000000000,2018-02-24 01:52:41.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-02-09 14:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/996a9f25662481547e556a8dc482bb6b47d9fa3b', 'message': 'Clean up tox.ini\n\nChange-Id: I676ba1fbe4f0219f8b6dcd97c087f59b318c500d\n'}, {'number': 2, 'created': '2018-02-20 10:28:57.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/efe18cbfeb298a85feadfdad4df6e46355d4a799', 'message': 'Clean up tox.ini\n\nDepends-On: https://review.openstack.org/545832\nChange-Id: I676ba1fbe4f0219f8b6dcd97c087f59b318c500d\n'}]",0,542861,efe18cbfeb298a85feadfdad4df6e46355d4a799,14,3,2,16222,,,0,"Clean up tox.ini

Depends-On: https://review.openstack.org/545832
Change-Id: I676ba1fbe4f0219f8b6dcd97c087f59b318c500d
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/61/542861/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,996a9f25662481547e556a8dc482bb6b47d9fa3b,,"install_command = pip install {opts} {packages} deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} .[influxdb,cassandra,elasticsearch] -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt"," CLIENT_NAME=monasca-persisterinstall_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} deps = .[influxdb,cassandra,elasticsearch] -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt",6,63
openstack%2Fopenstack-ansible-galera_server~master~I850a37b465a427a827e357111942973457fafa0d,openstack/openstack-ansible-galera_server,master,I850a37b465a427a827e357111942973457fafa0d,Restore support for percona packages when using ppc64le,MERGED,2018-02-22 18:38:26.000000000,2018-02-24 01:25:41.000000000,2018-02-24 01:25:41.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 8190}, {'_account_id': 13883}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-02-22 18:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/adf531fe8ae759bfcc3d86faafff83dd64f2cb12', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n'}, {'number': 2, 'created': '2018-02-22 18:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/92cd087e69d74a64b96f0987fb02812cdc8fa542', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n'}, {'number': 3, 'created': '2018-02-22 18:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/2fdb7bf89e41e69aba8b3b9abca6aa3dd89cbaeb', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations. The\nfail task is adjusted appropriately and moved to the main\ntask file so that it executes and fails out before any\nchanges are made.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n'}, {'number': 4, 'created': '2018-02-23 15:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c780c15a69c763b297569825dd970aeed38643f2', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations. The\nfail task is adjusted appropriately and moved to the main\ntask file so that it executes and fails out before any\nchanges are made.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n'}, {'number': 5, 'created': '2018-02-23 15:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/30f6d25cb2e2a180b2efa1d94fac73eddd5e0bbb', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations. The\nfail task is adjusted appropriately and moved to the main\ntask file so that it executes and fails out before any\nchanges are made.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n'}, {'number': 6, 'created': '2018-02-23 16:48:23.000000000', 'files': ['tasks/main.yml', 'tasks/galera_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'releasenotes/notes/ppc64le-var-changes-84aa4f3f9bb0ef52.yaml', 'tasks/galera_install_download_extra_packages.yml', 'defaults/main.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1075fe411aa7b37e6c536e1c1ea5d4bfd509d2b0', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations. The\nfail task is adjusted appropriately and moved to the main\ntask file so that it executes and fails out before any\nchanges are made.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n'}]",0,547101,1075fe411aa7b37e6c536e1c1ea5d4bfd509d2b0,17,6,6,6816,,,0,"Restore support for percona packages when using ppc64le

In https://review.openstack.org/535252 the installation
process for the role was simplified, but an unintentional
side-effect was to removed the previously included support
for installing the extra percona packages when installing
on the ppc64le platform.

This patch re-introduces that ability, but scopes it to
only execute on that hardware platform, and only for Ubuntu.

The download is, by default, facilitated through the deploy
node (rather than the target nodes) so that the download
is done once, then pushed to the targets. This can be
adjusted with the right parameters to download from the
targets instead.

Also, in https://review.openstack.org/543888 adjustments
were made to disable compression/qpress on architectures
other than x86_64, and to fail the role execution if it
was enabled on any other architecture. This has been
corrected to ensure that compression is enabled by default
for ppc64le on Ubuntu, and enabled by default for x86_64,
but disabled by default for all other combinations. The
fail task is adjusted appropriately and moved to the main
task file so that it executes and fails out before any
changes are made.

Change-Id: I850a37b465a427a827e357111942973457fafa0d
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/01/547101/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'tasks/galera_install_download_extra_packages.yml', 'defaults/main.yml', 'tasks/galera_install_apt.yml', 'vars/main.yml']",7,adf531fe8ae759bfcc3d86faafff83dd64f2cb12,bug/1654004,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. galera_packages_list: |- {% set packages = galera_server_required_distro_packages + galera_server_mariadb_distro_packages %} {% if ansible_architecture == 'x86_64' %} {% set _ = packages.extend(galera_server_percona_distro_packages) %} {% endif %} {{ packages }} ",,106,14
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~If571e9d290cbdd5ba02542b6bc19e4321b67ea6f,openstack/openstack-ansible-repo_build,stable/queens,If571e9d290cbdd5ba02542b6bc19e4321b67ea6f,Change logging for source downloads and wheel build,MERGED,2018-02-19 23:35:59.000000000,2018-02-24 01:23:45.000000000,2018-02-24 01:23:44.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 23:35:59.000000000', 'files': ['templates/wheel-build-script.sh.j2', 'tasks/repo_build_wheels.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/4523b7150016ecf18cd5ff17173ab49907eecdb0', 'message': ""Change logging for source downloads and wheel build\n\nIn I298dd45ada552b78ef7d6fcb79481035581bd77a timestamping\nfor the wheel build process was added, but it wasn't added\nto the source download process. This patch adds timestamping\nto the source download process too, but also changes the log\nfile used for each step so that they each have their own log\nfiles.\n\nThe two tasks are also normalised to execute in the same way\nto make them a little easier to follow. It thereby removes\nthe extra indirection of using yet another script for the\nexecution.\n\nChange-Id: If571e9d290cbdd5ba02542b6bc19e4321b67ea6f\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n(cherry picked from commit 778ceee2cfe05944e1c84525ac6a34a988aa6a9d)\n""}]",0,546008,4523b7150016ecf18cd5ff17173ab49907eecdb0,8,3,1,6816,,,0,"Change logging for source downloads and wheel build

In I298dd45ada552b78ef7d6fcb79481035581bd77a timestamping
for the wheel build process was added, but it wasn't added
to the source download process. This patch adds timestamping
to the source download process too, but also changes the log
file used for each step so that they each have their own log
files.

The two tasks are also normalised to execute in the same way
to make them a little easier to follow. It thereby removes
the extra indirection of using yet another script for the
execution.

Change-Id: If571e9d290cbdd5ba02542b6bc19e4321b67ea6f
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
(cherry picked from commit 778ceee2cfe05944e1c84525ac6a34a988aa6a9d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/08/546008/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/wheel-build-script.sh.j2', 'tasks/repo_build_wheels.yml']",2,4523b7150016ecf18cd5ff17173ab49907eecdb0,bp/python-build-install-simplification-stable/queens," shell: >- --download {{ repo_build_output }} --no-binary :all: --constraint {{ repo_build_release_path }}/requirements_constraints.txt {% if repo_build_pip_default_index is defined %} --index-url {{ repo_build_pip_default_index }} --trusted-host {{ repo_build_pip_default_index | netloc_no_port }} {% endif %} {% if repo_build_pip_extra_indexes is defined %} --extra-index-url {{ repo_build_pip_extra_indexes | join(' --extra-index-url ') }} --trusted-host {{ repo_build_pip_extra_indexes | map('netloc_no_port') | join(' --trusted-host ') }} {% endif %} --requirement {{ repo_build_release_path }}/requirements.txt {{ pip_install_options }} 2>&1 | ts > /var/log/repo/source_download.log when: repo_build_store_pip_sources | bool - name: Create OpenStack-Ansible requirement wheels shell: >- pip wheel --timeout {{ repo_build_timeout }} --wheel-dir {{ repo_build_output }} --find-links {{ repo_build_global_links_path }} --find-links {{ repo_build_output }} --constraint {{ repo_build_release_path }}/requirements_constraints.txt {% if repo_build_pip_no_binary is defined %} --no-binary {{ repo_build_pip_no_binary | join(' --no-binary ') }} {% endif %} {% if repo_build_pip_default_index is defined %} --index-url {{ repo_build_pip_default_index }} --trusted-host {{ repo_build_pip_default_index | netloc_no_port }} {% endif %} {% if repo_build_pip_extra_indexes is defined %} --extra-index-url {{ repo_build_pip_extra_indexes | join(' --extra-index-url ') }} --trusted-host {{ repo_build_pip_extra_indexes | map('netloc_no_port') | join(' --trusted-host ') }} {% endif %} --build {{ repo_build_dir }} --requirement {{ repo_build_release_path }}/requirements.txt {{ pip_install_options }} 2>&1 | ts > /var/log/repo/wheel_build.log args: executable: ""/bin/bash"""," shell: > --download {{ repo_build_output }} --no-binary :all: --constraint {{ repo_build_release_path }}/requirements_constraints.txt {% if repo_build_pip_default_index is defined %} --index-url {{ repo_build_pip_default_index }} --trusted-host {{ repo_build_pip_default_index | netloc_no_port }} {% endif -%} {% if repo_build_pip_extra_indexes is defined %} --extra-index-url {{ repo_build_pip_extra_indexes | join(' --extra-index-url ') }} --trusted-host {{ repo_build_pip_extra_indexes | map('netloc_no_port') | join(' --trusted-host ') }} {% endif -%} --log /var/log/repo/repo_builder.log --requirement {{ repo_build_release_path }}/requirements.txt when: repo_build_store_pip_sources | bool - name: Create wheel build script template: src: ""wheel-build-script.sh.j2"" dest: ""/opt/wheel-build-script.sh"" mode: ""0755"" - name: Create OpenStack-Ansible requirement wheels shell: ""/opt/wheel-build-script.sh"" changed_when: false",41,54
openstack%2Fkarbor~master~I71e63c261648f3961a6241f4518a2dbd0628a313,openstack/karbor,master,I71e63c261648f3961a6241f4518a2dbd0628a313,Update broken link,MERGED,2018-01-24 05:22:28.000000000,2018-02-24 01:21:29.000000000,2018-02-24 01:21:29.000000000,"[{'_account_id': 17151}, {'_account_id': 19457}, {'_account_id': 21224}, {'_account_id': 21690}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23303}, {'_account_id': 23950}, {'_account_id': 27386}]","[{'number': 1, 'created': '2018-01-24 05:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8ce2ddde5e296fe429711b71164134a74d766ba4', 'message': 'Update broken link\n\nChange-Id: I71e63c261648f3961a6241f4518a2dbd0628a313\n'}, {'number': 2, 'created': '2018-01-26 02:58:53.000000000', 'files': ['doc/source/specs/pluggable_protection_provider.rst', 'doc/source/specs/protection-service/restore-design-spec.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7b20b628f4a514a13cc1918afe0f6f37cf300f2a', 'message': 'Update broken link\n\nUpdate unreachable links in specs documents.\n\nChange-Id: I71e63c261648f3961a6241f4518a2dbd0628a313\n'}]",0,537256,7b20b628f4a514a13cc1918afe0f6f37cf300f2a,14,9,2,27386,,,0,"Update broken link

Update unreachable links in specs documents.

Change-Id: I71e63c261648f3961a6241f4518a2dbd0628a313
",git fetch https://review.opendev.org/openstack/karbor refs/changes/56/537256/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/pluggable_protection_provider.rst', 'doc/source/specs/protection-service/restore-design-spec.rst']",2,8ce2ddde5e296fe429711b71164134a74d766ba4,linkcheck,In `document protection service design <https://github.com/openstack/karbor/blob/master/doc/source/specs/protection-service/protection-service.rst>`_,In `document protection service design <https://raw.githubusercontent.com/openstack/karbor/master/doc/source/spes/protection-service/protection-service.rst>`_,2,2
openstack%2Fdevstack~master~Ib84266b86875bf530deedfb466dc965b26e7cab8,openstack/devstack,master,Ib84266b86875bf530deedfb466dc965b26e7cab8,Orchestrate run-devstack for multinode,ABANDONED,2017-12-14 20:20:18.000000000,2018-02-24 00:59:09.000000000,,"[{'_account_id': 1921}, {'_account_id': 4162}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-12-14 20:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/be3d3961fe0b84c728b82a527dccf85b539dbbab', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 2, 'created': '2018-02-20 21:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ccdf413901d61a29a2d40d5676bc2e3de7e06b53', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 3, 'created': '2018-02-20 23:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3028443f0b222ed9db40b2eb257e8dfede154e35', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 4, 'created': '2018-02-21 10:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2739309a4523a0cc1dbc54f66505507fba6dfde6', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 5, 'created': '2018-02-21 14:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/543df17441efd50f74a92b76caeecee4e615b4c9', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 6, 'created': '2018-02-21 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c8ac1f0ab6d6360ce71c12d3ac7627e112124fd', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 7, 'created': '2018-02-21 20:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c4766677841767dec664ca0ad782a8bd9ef7425', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 8, 'created': '2018-02-21 20:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d6bb1ae18290c08e23f63d274cbfae7c046ce93a', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 9, 'created': '2018-02-21 21:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ec42402665b1aa325913412b2be926ef04a94630', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 10, 'created': '2018-02-21 21:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3cc009013d2fe67443faa91d480058825a0370e2', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 11, 'created': '2018-02-21 22:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6dbd1b2b884a4230a154b92694d954d77d33866e', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 12, 'created': '2018-02-21 23:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/529e2d11735084d0d7f28faab4cc36a824ad4604', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 13, 'created': '2018-02-22 00:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0fc4e40421dd95cfd75f3d28d94183df76fef5c', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 14, 'created': '2018-02-22 08:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eb7e0380adf011d43f8625608d7d8fab6c87d330', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 15, 'created': '2018-02-22 11:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/db163dec8ffe7d1b47578d74fc6377fd735d97af', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 16, 'created': '2018-02-22 12:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/85fedef5519e3ad6ebe1f9c86d9594d854752140', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 17, 'created': '2018-02-22 12:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7066a95f8761e371b9e08748029e5de867b596c7', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 18, 'created': '2018-02-22 15:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/974b1e8d51060f0d3db3afa10fe1769c00fbcedf', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 19, 'created': '2018-02-22 15:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a6b4cdfa89a7417735995a10643ac70c9b46c80f', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 20, 'created': '2018-02-22 16:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7bf35b59c6f29a7d78f0f878a43a8e0c4e0dc856', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 21, 'created': '2018-02-22 19:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/90809ad65ce7646c4b319828f81abac9fc18c3b3', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 22, 'created': '2018-02-22 22:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9628f937c64b91d3677e2027ef1c61e54b45ccfc', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 23, 'created': '2018-02-22 22:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/764e932bf5d161a0d815abf9630cdeefc60e13e8', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 24, 'created': '2018-02-22 23:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9782928e1f86ba37af68aa93d6b2d53130ac33e7', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}, {'number': 25, 'created': '2018-02-23 00:30:20.000000000', 'files': ['roles/sync-devstack-data/README.rst', 'playbooks/devstack.yaml', 'roles/sync-devstack-data/defaults/main.yaml', 'roles/sync-devstack-data/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ca8983e908b253a357f78079883401582e55869', 'message': 'Orchestrate run-devstack for multinode\n\nReproduce the existing behaviour currently driven by devstack-gate.\nRun devstack on controller first and on subnodes then.\nAfter the controller is setup, push CA setup to subnodes so that\nTLS communication may work.\n\nChange-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8\n'}]",2,528074,8ca8983e908b253a357f78079883401582e55869,87,8,25,1921,,,0,"Orchestrate run-devstack for multinode

Reproduce the existing behaviour currently driven by devstack-gate.
Run devstack on controller first and on subnodes then.
After the controller is setup, push CA setup to subnodes so that
TLS communication may work.

Change-Id: Ib84266b86875bf530deedfb466dc965b26e7cab8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/528074/25 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack.yaml'],1,be3d3961fe0b84c728b82a527dccf85b539dbbab,multinode,- hosts: controller roles: - run-devstack # Run non controller setup after controller is up. This is necessary # because services like nova apparently expect to have the controller in # place before anything else. - hosts: subnode,- hosts: all,8,1
openstack%2Fopenstack-helm~master~I67e2fccffd1501602102e554ecc104dd597652fc,openstack/openstack-helm,master,I67e2fccffd1501602102e554ecc104dd597652fc,Implement a single proxysql to front mariadb cluster. Also changes services to use proxysql endpoint instead of mariadb. This approach minimizes the changes on other services,ABANDONED,2018-02-23 03:18:18.000000000,2018-02-23 23:53:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-23 03:18:18.000000000', 'files': ['mariadb/templates/bin/_proxysql.sh.tpl', 'mariadb/templates/bin/_proxysql_nanny.sh.tpl', 'mariadb/templates/deployment-nanny-proxysql.yaml', 'mariadb/templates/bin/_proxysql_galera_checker.sh.tpl', 'mariadb/templates/service.yaml', 'mariadb/templates/configmap-etc-proxysql.yaml', 'mariadb/values.yaml', 'mariadb/templates/service-discovery-proxysql.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/secrets-etc-proxysql.yaml', 'mariadb/templates/job-bootstrap-proxysql.yaml', 'mariadb/templates/configmap-bin-proxysql.yaml', 'mariadb/templates/etc/_proxysql.cnf.tpl', 'mariadb/templates/statefulset-proxysql.yaml', 'mariadb/templates/bin/_bootstrap.sh.tpl', 'mariadb/templates/secrets/_proxysql_admin_user.cnf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78773cc8b62bcbe1ce16f846bcd6392f470502b3', 'message': 'Implement a single proxysql to front mariadb cluster.\nAlso changes services to use proxysql endpoint instead of mariadb.\nThis approach minimizes the changes on other services\n\nChange-Id: I67e2fccffd1501602102e554ecc104dd597652fc\n'}]",2,547250,78773cc8b62bcbe1ce16f846bcd6392f470502b3,5,2,1,27787,,,0,"Implement a single proxysql to front mariadb cluster.
Also changes services to use proxysql endpoint instead of mariadb.
This approach minimizes the changes on other services

Change-Id: I67e2fccffd1501602102e554ecc104dd597652fc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/547250/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_proxysql.sh.tpl', 'mariadb/templates/bin/_proxysql_nanny.sh.tpl', 'mariadb/templates/deployment-nanny-proxysql.yaml', 'mariadb/templates/bin/_proxysql_galera_checker.sh.tpl', 'mariadb/templates/service.yaml', 'mariadb/templates/configmap-etc-proxysql.yaml', 'mariadb/values.yaml', 'mariadb/templates/service-discovery-proxysql.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/secrets-etc-proxysql.yaml', 'mariadb/templates/job-bootstrap-proxysql.yaml', 'mariadb/templates/configmap-bin-proxysql.yaml', 'mariadb/templates/etc/_proxysql.cnf.tpl', 'mariadb/templates/statefulset-proxysql.yaml', 'mariadb/templates/bin/_bootstrap.sh.tpl', 'mariadb/templates/secrets/_proxysql_admin_user.cnf.tpl']",16,78773cc8b62bcbe1ce16f846bcd6392f470502b3,bug/487588,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} [client] user = {{ .Values.endpoints.db_proxy.auth.admin.username }} password = {{ .Values.endpoints.db_proxy.auth.admin.password }} host = {{ tuple ""db_proxy"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} port = {{ tuple ""db_proxy"" ""internal"" ""admin"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} ",,1182,239
openstack%2Fopenstack-zuul-jobs~master~I08e7996ef162fc6dba14ba8c6afa4eabf4dc089e,openstack/openstack-zuul-jobs,master,I08e7996ef162fc6dba14ba8c6afa4eabf4dc089e,Protect some jobs,MERGED,2018-02-16 19:47:05.000000000,2018-02-23 23:13:47.000000000,2018-02-23 17:53:02.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 19:47:05.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b9e87893f4f905a89ce52a82e3986682750db623', 'message': 'Protect some jobs\n\nAdd some abstract attributes to jobs.\n\nThe jobs openstack-infra-base-integration and\nopenstack-infra-multinode-integration are very specific, mark them as\nprotected as well so that others cannot inherit it.\n\nChange-Id: I08e7996ef162fc6dba14ba8c6afa4eabf4dc089e\n'}]",0,545442,b9e87893f4f905a89ce52a82e3986682750db623,8,3,1,6547,,,0,"Protect some jobs

Add some abstract attributes to jobs.

The jobs openstack-infra-base-integration and
openstack-infra-multinode-integration are very specific, mark them as
protected as well so that others cannot inherit it.

Change-Id: I08e7996ef162fc6dba14ba8c6afa4eabf4dc089e
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/42/545442/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,b9e87893f4f905a89ce52a82e3986682750db623,abstract, abstract: true protected: true abstract: true protected: true abstract: true abstract: true abstract: true abstract: true abstract: true abstract: true abstract: true,,11,1
openstack%2Fheat-specs~master~I928d42606c6173ad956dd42af75f36e70ae57dba,openstack/heat-specs,master,I928d42606c6173ad956dd42af75f36e70ae57dba,Add OS::Heat::DelayPolicy Resource,ABANDONED,2016-12-06 14:04:06.000000000,2018-02-23 23:13:24.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 10556}]","[{'number': 1, 'created': '2016-12-06 14:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/c62699ca160f88d750dc509869d2447f8cd428f7', 'message': 'Add OS::Heat::DelayPolicy Resource\n\nAdd a new Delay Policy resource that adds delay capability between\nresource creation.\n\nChange-Id: I928d42606c6173ad956dd42af75f36e70ae57dba\n'}, {'number': 2, 'created': '2016-12-06 14:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/6199f7920db210c12ef959f727eaaef5722679af', 'message': 'Add OS::Heat::DelayPolicy Resource\n\nAdd a new Delay Policy resource that adds delay capability between\nresource creation.\n\nChange-Id: I928d42606c6173ad956dd42af75f36e70ae57dba\n'}, {'number': 3, 'created': '2016-12-06 14:51:40.000000000', 'files': ['specs/ocata/heat-delay-policy.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/0926760f0094e7b74fe0df7fba0ae740fb631c57', 'message': 'Add OS::Heat::DelayPolicy Resource\n\nAdd a new Delay Policy resource that adds delay capability between\nresource creation.\n\nChange-Id: I928d42606c6173ad956dd42af75f36e70ae57dba\n'}]",7,407521,0926760f0094e7b74fe0df7fba0ae740fb631c57,16,4,3,10556,,,0,"Add OS::Heat::DelayPolicy Resource

Add a new Delay Policy resource that adds delay capability between
resource creation.

Change-Id: I928d42606c6173ad956dd42af75f36e70ae57dba
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/21/407521/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/heat-delay-policy.rst'],1,c62699ca160f88d750dc509869d2447f8cd428f7,bp/heat-delay-policy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =================================== New Heat Delay Policy Resource Type =================================== https://blueprints.launchpad.net/heat/+spec/delay-policy-resource Problem description =================== Sometimes it's impossible to trigger a wait condition thereby sending a signal back to the engine. In such cases the telco VNFs would like to have a certain delay between creating to consecutive resources (e.g. instances). This function is similar to the ``ovf:startDelay`` parameter in the StartupSection of the OVF standard. http://www.dmtf.org/sites/default/files/standards/documents/DSP0243_2.0.0.pdf Use Cases --------- As an operator, I would like to introduce a delay between creating two or more VMs in order to account for the time required for post deployment configuration that cannot be seen externally. Proposed change =============== This blueprint proposes to add a new resource type ``OS::Heat::DelayPolicy`` to Heat to address the problem described. A sample ``OS::Heat::DelayPolicy`` template: .. code-block:: yaml resources: start_delay: type: OS::Heat::DelayPolicy properties: delay: {get_param: delay} **Properties**: * delay: - **required**: True - **type**: Integer - **description**: Delay to wait until the next resource allocations (in seconds) - **contraints**: Range between 0 and 3600 Alternatives ------------ The operator can use the WaitCondition and WaitConditionHandle resources. However, in case when sending a signal from an instance is prohibited, these resources are unusable. Implementation ============== Assignee(s) ----------- Primary assignee: * Dimitri Mazmanov <dimitri.mazmanov@ericsson.com> Additional assignees: Milestones ---------- Target Milestone for completion: ocata Work Items ---------- * Implement the new resource type OS::Heat::DelayPolicy * Implement appropriate unit and functional tests * Document the new resource type Dependencies ============ None ",,96,0
openstack%2Fopenstack-zuul-jobs~master~I29c8a424dbebf6d3607110e57c1cefbbd441a5d1,openstack/openstack-zuul-jobs,master,I29c8a424dbebf6d3607110e57c1cefbbd441a5d1,Don't run neutron-grenade job on stable/ocata changes,MERGED,2018-02-22 03:18:34.000000000,2018-02-23 22:41:04.000000000,2018-02-23 22:41:03.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 03:18:34.000000000', 'files': ['zuul.d/zuul-legacy-project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/14528992e10e02f285c57a6f6caf433c90b3bd6c', 'message': ""Don't run neutron-grenade job on stable/ocata changes\n\nSince Newton is EOL in most projects, if not all projects,\nthat use the integrated-gate template, we need to not run\nthis job on stable/ocata changes for those projects since\nthere is no stable/newton branch from which to start the\ngrenade run.\n\nChange-Id: I29c8a424dbebf6d3607110e57c1cefbbd441a5d1\n""}]",0,546850,14528992e10e02f285c57a6f6caf433c90b3bd6c,9,5,1,6873,,,0,"Don't run neutron-grenade job on stable/ocata changes

Since Newton is EOL in most projects, if not all projects,
that use the integrated-gate template, we need to not run
this job on stable/ocata changes for those projects since
there is no stable/newton branch from which to start the
grenade run.

Change-Id: I29c8a424dbebf6d3607110e57c1cefbbd441a5d1
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/50/546850/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-project-templates.yaml'],1,14528992e10e02f285c57a6f6caf433c90b3bd6c,neutron-grenade-ocata, branches: ^(?!stable/(newton|ocata)).*$ branches: ^(?!stable/(newton|ocata)).*$, branches: ^(?!stable/newton).*$ branches: ^(?!stable/newton).*$,2,2
openstack%2Fsecurity-doc~master~I626b6acd6532b4bf9dfeed2e2bfbe66a8ca16a4d,openstack/security-doc,master,I626b6acd6532b4bf9dfeed2e2bfbe66a8ca16a4d,Updated from openstack-manuals,MERGED,2018-02-23 17:03:49.000000000,2018-02-23 22:39:58.000000000,2018-02-23 22:39:57.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 17:03:49.000000000', 'files': ['common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/472c3d4167f7b2771c682aabef4bec49985b82c0', 'message': 'Updated from openstack-manuals\n\nChange-Id: I626b6acd6532b4bf9dfeed2e2bfbe66a8ca16a4d\n'}]",0,547515,472c3d4167f7b2771c682aabef4bec49985b82c0,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I626b6acd6532b4bf9dfeed2e2bfbe66a8ca16a4d
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/15/547515/1 && git format-patch -1 --stdout FETCH_HEAD,['common/app-support.rst'],1,472c3d4167f7b2771c682aabef4bec49985b82c0,openstack/openstack-manuals,* `Queens Installation Guides <https://docs.openstack.org/queens/install/>`_* `Queens Administrator Guides <https://docs.openstack.org/queens/admin/>`_ * `Queens Configuration Guides <https://docs.openstack.org/queens/configuration/>`_ * `Queens Networking Guide <https://docs.openstack.org/neutron/queens/admin/>`_* `Queens API Bindings <https://docs.openstack.org/queens/language-bindings.html>`_,* `Pike Installation Guides <https://docs.openstack.org/pike/install/>`_* `Pike Administrator Guides <https://docs.openstack.org/pike/admin/>`_ * `Pike Configuration Guides <https://docs.openstack.org/pike/configuration/>`_ * `Pike Networking Guide <https://docs.openstack.org/neutron/pike/admin/>`_* `Pike API Bindings <https://docs.openstack.org/pike/language-bindings.html>`_,6,6
openstack%2Fqinling~master~I3555414f41327b4ab69333a904bef1cf4d0b72c0,openstack/qinling,master,I3555414f41327b4ab69333a904bef1cf4d0b72c0,Use storyboard link in Qinling doc,MERGED,2018-02-23 11:33:29.000000000,2018-02-23 22:39:45.000000000,2018-02-23 22:39:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 11:33:29.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/78be927dac338cc452053d8e03a29f3157f48c20', 'message': 'Use storyboard link in Qinling doc\n\nChange-Id: I3555414f41327b4ab69333a904bef1cf4d0b72c0\n'}]",0,547384,78be927dac338cc452053d8e03a29f3157f48c20,6,2,1,6732,,,0,"Use storyboard link in Qinling doc

Change-Id: I3555414f41327b4ab69333a904bef1cf4d0b72c0
",git fetch https://review.opendev.org/openstack/qinling refs/changes/84/547384/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst']",2,78be927dac338cc452053d8e03a29f3157f48c20,use-storyboard-link,* Features: https://storyboard.openstack.org/#!/project/927 * Bug Track: https://storyboard.openstack.org/#!/project/927,* Features: https://blueprints.launchpad.net/qinling * Bug Track: http://bugs.launchpad.net/qinling,4,4
openstack%2Fopenstack-ansible-rabbitmq_server~master~Id70ad28caa63267c2bb17d8c56a8fa6e00cf55d4,openstack/openstack-ansible-rabbitmq_server,master,Id70ad28caa63267c2bb17d8c56a8fa6e00cf55d4,Explicitly ensure when apt cache updates happen,MERGED,2018-02-23 14:55:51.000000000,2018-02-23 21:51:38.000000000,2018-02-23 21:51:38.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/32df4e3224776406f0676f6028486bf117da951d', 'message': 'Explicitly ensure when apt cache updates happen\n\nIn https://review.openstack.org/547015 we adjusted\nthe apt installation process to ensure that the cache\nupdate happens after the repository changes, but left\nout the explicit instruction not to do it in the task\nwhich changes the repo config.\n\nChange-Id: Id70ad28caa63267c2bb17d8c56a8fa6e00cf55d4\n'}, {'number': 2, 'created': '2018-02-23 14:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0eee76e8ac113047dd39e4d5b85d2e8e503a87d2', 'message': 'Explicitly ensure when apt cache updates happen\n\nIn https://review.openstack.org/547015 we adjusted\nthe apt installation process to ensure that the cache\nupdate happens after the repository changes, but left\nout the explicit instruction not to do it in the task\nwhich changes the repo config.\n\nPartial-Bug: #1750656\nChange-Id: Id70ad28caa63267c2bb17d8c56a8fa6e00cf55d4\n'}, {'number': 3, 'created': '2018-02-23 15:01:26.000000000', 'files': ['tasks/install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/76fc65b4e7a158628aff8f3a95ec91a0ec3ce2f0', 'message': 'Explicitly ensure when apt cache updates happen\n\nIn https://review.openstack.org/547015 we adjusted\nthe apt installation process to ensure that the cache\nupdate happens after the repository changes, but left\nout the explicit instruction not to do it in the task\nwhich changes the repo config.\n\nThis patch adds that, but also seperates out the cache\nupdate into its own task so that the package install\ntask remains more readable.\n\nPartial-Bug: #1750656\nChange-Id: Id70ad28caa63267c2bb17d8c56a8fa6e00cf55d4\n'}]",0,547471,76fc65b4e7a158628aff8f3a95ec91a0ec3ce2f0,9,3,3,6816,,,0,"Explicitly ensure when apt cache updates happen

In https://review.openstack.org/547015 we adjusted
the apt installation process to ensure that the cache
update happens after the repository changes, but left
out the explicit instruction not to do it in the task
which changes the repo config.

This patch adds that, but also seperates out the cache
update into its own task so that the package install
task remains more readable.

Partial-Bug: #1750656
Change-Id: Id70ad28caa63267c2bb17d8c56a8fa6e00cf55d4
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/71/547471/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_apt.yml'],1,32df4e3224776406f0676f6028486bf117da951d,bug/1750656, update_cache: no update_cache: no,,2,0
openstack%2Fopenstack-ansible-ceph_client~stable%2Focata~I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d,openstack/openstack-ansible-ceph_client,stable/ocata,I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d,Fix cache update after initial apt_repository fail,MERGED,2018-02-23 12:03:39.000000000,2018-02-23 21:51:35.000000000,2018-02-23 21:51:35.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 12:03:39.000000000', 'files': ['tasks/ceph_preinstall_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/94cf883b09b1308dea03fa4c6f8217d03de5fa01', 'message': ""Fix cache update after initial apt_repository fail\n\nIf apt_repository fails to update the apt cache after updating the\nconfiguration, retries don't register there was a change and so no\nattempt is made to update the cache by the module on the second attempt.\nThis failure can result in a failure to install packages.\n\nThis change adds an apt module task to update the cache if the\napt_repository task registers a change. This means updating the cache\nwill get retried on failure and no longer fail silently.\n\nChange-Id: I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d\nPartial-Bug: #1750656\n(cherry picked from commit db7093684666282d9890eb564b7424ab4ae3cf75)\n""}]",0,547401,94cf883b09b1308dea03fa4c6f8217d03de5fa01,8,3,1,6816,,,0,"Fix cache update after initial apt_repository fail

If apt_repository fails to update the apt cache after updating the
configuration, retries don't register there was a change and so no
attempt is made to update the cache by the module on the second attempt.
This failure can result in a failure to install packages.

This change adds an apt module task to update the cache if the
apt_repository task registers a change. This means updating the cache
will get retried on failure and no longer fail silently.

Change-Id: I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d
Partial-Bug: #1750656
(cherry picked from commit db7093684666282d9890eb564b7424ab4ae3cf75)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/01/547401/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_preinstall_apt.yml'],1,94cf883b09b1308dea03fa4c6f8217d03de5fa01,bug/1750656,"# When updating the cache in the apt_repository # task, and the update fails, a retry does not # detect a change the second attempt and therefore # does not update the cache, resulting in a changed # repo config, but no updated cache. To work around # this bug we implement the change of repo config # and the cache update as two seperate tasks. update_cache: no - name: Update Apt cache apt: update_cache: yes when: add_repos | changed register: update_apt_cache until: update_apt_cache | success", update_cache: yes until: add_repos|success,15,2
openstack%2Fopenstack-ansible-ceph_client~stable%2Fqueens~I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d,openstack/openstack-ansible-ceph_client,stable/queens,I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d,Fix cache update after initial apt_repository fail,MERGED,2018-02-23 12:03:00.000000000,2018-02-23 21:51:34.000000000,2018-02-23 21:51:34.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 12:03:00.000000000', 'files': ['tasks/ceph_preinstall_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/50ea8b644c0713d007f6f172cd7bbc850f44a55a', 'message': ""Fix cache update after initial apt_repository fail\n\nIf apt_repository fails to update the apt cache after updating the\nconfiguration, retries don't register there was a change and so no\nattempt is made to update the cache by the module on the second attempt.\nThis failure can result in a failure to install packages.\n\nThis change adds an apt module task to update the cache if the\napt_repository task registers a change. This means updating the cache\nwill get retried on failure and no longer fail silently.\n\nChange-Id: I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d\nPartial-Bug: #1750656\n(cherry picked from commit db7093684666282d9890eb564b7424ab4ae3cf75)\n""}]",0,547399,50ea8b644c0713d007f6f172cd7bbc850f44a55a,8,3,1,6816,,,0,"Fix cache update after initial apt_repository fail

If apt_repository fails to update the apt cache after updating the
configuration, retries don't register there was a change and so no
attempt is made to update the cache by the module on the second attempt.
This failure can result in a failure to install packages.

This change adds an apt module task to update the cache if the
apt_repository task registers a change. This means updating the cache
will get retried on failure and no longer fail silently.

Change-Id: I43bd89e9bd5e2094eb0c138e17045ea64cd62c4d
Partial-Bug: #1750656
(cherry picked from commit db7093684666282d9890eb564b7424ab4ae3cf75)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/99/547399/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_preinstall_apt.yml'],1,50ea8b644c0713d007f6f172cd7bbc850f44a55a,bug/1750656,"# When updating the cache in the apt_repository # task, and the update fails, a retry does not # detect a change the second attempt and therefore # does not update the cache, resulting in a changed # repo config, but no updated cache. To work around # this bug we implement the change of repo config # and the cache update as two seperate tasks. update_cache: no - name: Update Apt cache apt: update_cache: yes when: add_repos | changed register: update_apt_cache until: update_apt_cache | success", update_cache: yes until: add_repos|success,15,2
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fqueens~Ia0723407a08a84d5a1a59f4cc3b9006e8587d7b3,openstack/openstack-ansible-openstack_hosts,stable/queens,Ia0723407a08a84d5a1a59f4cc3b9006e8587d7b3,Fix cache update after initial apt_repository fail,MERGED,2018-02-23 12:04:49.000000000,2018-02-23 21:25:08.000000000,2018-02-23 21:25:08.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 12:04:49.000000000', 'files': ['tasks/openstack_hosts_configure_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b48de36760e789ee6bcaf52bab1c54165de236ef', 'message': ""Fix cache update after initial apt_repository fail\n\nIf apt_repository fails to update the apt cache after updating the\nconfiguration, retries don't register there was a change and so no\nattempt is made to update the cache by the module on the second attempt.\nThis failure can result in a failure to install packages.\n\nThis change adds an apt module task to update the cache if the\napt_repository task registers a change. This means updating the cache\nwill get retried on failure and no longer fail silently.\n\nChange-Id: Ia0723407a08a84d5a1a59f4cc3b9006e8587d7b3\nPartial-Bug: #1750656\n(cherry picked from commit e647596930fb898e13630a449722f3a75160e0be)\n""}]",0,547402,b48de36760e789ee6bcaf52bab1c54165de236ef,8,3,1,6816,,,0,"Fix cache update after initial apt_repository fail

If apt_repository fails to update the apt cache after updating the
configuration, retries don't register there was a change and so no
attempt is made to update the cache by the module on the second attempt.
This failure can result in a failure to install packages.

This change adds an apt module task to update the cache if the
apt_repository task registers a change. This means updating the cache
will get retried on failure and no longer fail silently.

Change-Id: Ia0723407a08a84d5a1a59f4cc3b9006e8587d7b3
Partial-Bug: #1750656
(cherry picked from commit e647596930fb898e13630a449722f3a75160e0be)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/02/547402/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_apt.yml'],1,b48de36760e789ee6bcaf52bab1c54165de236ef,bug/1750656,"# When updating the cache in the apt_repository # task, and the update fails, a retry does not # detect a change the second attempt and therefore # does not update the cache, resulting in a changed # repo config, but no updated cache. To work around # this bug we implement the change of repo config # and the cache update as two seperate tasks. update_cache: no - name: Update Apt cache apt: update_cache: yes when: _adding_apt_repo | changed register: _update_apt_cache until: _update_apt_cache | success"," update_cache: ""{{ repo == openstack_hosts_package_repos[-1] }}"" until: _adding_apt_repo | success",15,2
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ie76759e6c162270fd3e767d4719b885b57a7539b,openstack/openstack-ansible-nspawn_hosts,master,Ie76759e6c162270fd3e767d4719b885b57a7539b,add minimal functional tests,MERGED,2018-02-22 22:41:09.000000000,2018-02-23 21:25:02.000000000,2018-02-23 21:25:01.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 22:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/4fa79be5380ec48906e90fa133ed2cf169b87a32', 'message': 'add minimal functional tests\n\nChange-Id: Ie76759e6c162270fd3e767d4719b885b57a7539b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-02-22 23:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/c16c1ba1d52bcb8684c807b766414ea8955b1ebb', 'message': 'add minimal functional tests\n\nChange-Id: Ie76759e6c162270fd3e767d4719b885b57a7539b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-02-23 15:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/b38103c7018841405c53ed5fb60480a475a0f426', 'message': 'add minimal functional tests\n\nChange-Id: Ie76759e6c162270fd3e767d4719b885b57a7539b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-02-23 16:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/d8f98a66f0b2b89cd9bf3d725f3a18c7208ae059', 'message': 'add minimal functional tests\n\nChange-Id: Ie76759e6c162270fd3e767d4719b885b57a7539b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-02-23 17:46:05.000000000', 'files': ['tasks/main.yml', 'tests/inventory', 'zuul.d/project.yaml', 'tasks/nspawn_volume.yml', 'tests/test.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/942531a8d8c76856f72818d4d00fc6e6b3086e23', 'message': 'add minimal functional tests\n\nChange-Id: Ie76759e6c162270fd3e767d4719b885b57a7539b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",3,547157,942531a8d8c76856f72818d4d00fc6e6b3086e23,15,3,5,7353,,,0,"add minimal functional tests

Change-Id: Ie76759e6c162270fd3e767d4719b885b57a7539b
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/57/547157/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tests/test.yml', 'zuul.d/jobs.yaml']",3,4fa79be5380ec48906e90fa133ed2cf169b87a32,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-nspawn-container-create parent: openstack-ansible-cross-repo-functional required-projects: - name: openstack/openstack-ansible-nspawn_container_create vars: osa_test_repo: ""openstack/openstack-ansible-nspawn_container_create"" # - job: # name: openstack-ansible-nspawn-ubuntu-xenial # parent: openstack-ansible-nspawn-container-create # - job: # name: openstack-ansible-nspawn-centos-7 # parent: openstack-ansible-nspawn-container-create # nodeset: centos-7 # - job: # name: openstack-ansible-nspawn-opensuse-423 # parent: openstack-ansible-nspawn-container-create # nodeset: opensuse-423 ",,42,36
openstack%2Fdevstack~stable%2Fpike~I155305c78c81ec5426b37bc16ebc63cba7ca8327,openstack/devstack,stable/pike,I155305c78c81ec5426b37bc16ebc63cba7ca8327,Double waiting time for nova-compute,ABANDONED,2018-02-23 21:10:16.000000000,2018-02-23 21:14:53.000000000,,[],"[{'number': 1, 'created': '2018-02-23 21:10:16.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/432b50f11826a97a21844572b4dfd79fa1b42d72', 'message': 'Double waiting time for nova-compute\n\nWith the Spectre and Meltdown patches in the latest Libvirt release\nin the Ocata UCA packages, it has slowed down the time it takes to\nstart the service to almost a minute which can cause the compute\nnode to take a long time to go up.\n\nChange-Id: I155305c78c81ec5426b37bc16ebc63cba7ca8327\n'}]",0,547668,432b50f11826a97a21844572b4dfd79fa1b42d72,2,0,1,1004,,,0,"Double waiting time for nova-compute

With the Spectre and Meltdown patches in the latest Libvirt release
in the Ocata UCA packages, it has slowed down the time it takes to
start the service to almost a minute which can cause the compute
node to take a long time to go up.

Change-Id: I155305c78c81ec5426b37bc16ebc63cba7ca8327
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/547668/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,432b50f11826a97a21844572b4dfd79fa1b42d72,, # NOTE(mnaser): This number is doubled in stable/ocata and stable/pike # because older libvirt releases with Spectre+Meltdown # patches take over a minute to start the service. wait_for_compute 120, wait_for_compute 60,4,1
openstack%2Fcinder~master~I4e5ece4fed4efaae43f67e32046670f6d34cf9a7,openstack/cinder,master,I4e5ece4fed4efaae43f67e32046670f6d34cf9a7,Update reno for stable/newton,ABANDONED,2018-02-23 18:04:26.000000000,2018-02-23 19:42:01.000000000,,"[{'_account_id': 22126}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:04:26.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e00f7b6d4bc3e1b0a8a613bdbea04fafaf3ae0c0', 'message': 'Update reno for stable/newton\n\nChange-Id: I4e5ece4fed4efaae43f67e32046670f6d34cf9a7\n'}]",0,547544,e00f7b6d4bc3e1b0a8a613bdbea04fafaf3ae0c0,9,2,1,22816,,,0,"Update reno for stable/newton

Change-Id: I4e5ece4fed4efaae43f67e32046670f6d34cf9a7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/547544/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,e00f7b6d4bc3e1b0a8a613bdbea04fafaf3ae0c0,reno-newton, newton,,2,1
openstack%2Fcinder~master~I8c67843a448049d8424c0fb1e34cf4a954e9ac91,openstack/cinder,master,I8c67843a448049d8424c0fb1e34cf4a954e9ac91,Change order of installation to match previous,MERGED,2018-02-21 20:10:24.000000000,2018-02-23 19:26:32.000000000,2018-02-22 14:00:17.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 17068}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-21 20:10:24.000000000', 'files': ['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index-obs.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/481535e8e9ac6fe9a4aa523bdf202f486c2a36ec', 'message': 'Change order of installation to match previous\n\nRe-ordered installation sections to match previous releases.\n\nChange-Id: I8c67843a448049d8424c0fb1e34cf4a954e9ac91\nCloses-Bug: #1750888\n'}]",0,546761,481535e8e9ac6fe9a4aa523bdf202f486c2a36ec,28,24,1,15993,,,0,"Change order of installation to match previous

Re-ordered installation sections to match previous releases.

Change-Id: I8c67843a448049d8424c0fb1e34cf4a954e9ac91
Closes-Bug: #1750888
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/546761/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index-rdo.rst', 'doc/source/install/index-ubuntu.rst', 'doc/source/install/index-obs.rst']",3,481535e8e9ac6fe9a4aa523bdf202f486c2a36ec,bug/1750888, cinder-storage-install-obs.rst, cinder-storage-install-obs.rst,3,3
openstack%2Fnetworking-midonet~stable%2Fnewton~Ia4a5ddc0fd18794d8586cc8a27c8b2181fcf9739,openstack/networking-midonet,stable/newton,Ia4a5ddc0fd18794d8586cc8a27c8b2181fcf9739,Update .gitreview for stable/newton,ABANDONED,2017-11-14 20:13:46.000000000,2018-02-23 19:21:03.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-14 20:13:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/99b6ad6e5abb9d67244ad0075e9d420798e82304', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ia4a5ddc0fd18794d8586cc8a27c8b2181fcf9739\n'}]",0,519741,99b6ad6e5abb9d67244ad0075e9d420798e82304,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ia4a5ddc0fd18794d8586cc8a27c8b2181fcf9739
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/41/519741/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,99b6ad6e5abb9d67244ad0075e9d420798e82304,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-bagpipe~stable%2Fnewton~I4840870f6fb31204603fd95949bf946d8190bbc0,openstack/networking-bagpipe,stable/newton,I4840870f6fb31204603fd95949bf946d8190bbc0,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-21 22:30:09.000000000,2018-02-23 19:19:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-21 22:30:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/89cfc97791745a7342941eb54df2bdd80f5a046c', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I4840870f6fb31204603fd95949bf946d8190bbc0\n""}]",0,546789,89cfc97791745a7342941eb54df2bdd80f5a046c,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I4840870f6fb31204603fd95949bf946d8190bbc0
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/89/546789/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,89cfc97791745a7342941eb54df2bdd80f5a046c,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-bgpvpn~stable%2Fnewton~Ie9a2d5839e55affbbfa84691b0e08bc22f674a19,openstack/networking-bgpvpn,stable/newton,Ie9a2d5839e55affbbfa84691b0e08bc22f674a19,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-21 22:31:43.000000000,2018-02-23 19:19:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-21 22:31:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c5dc125170ccc32160a8870bcf43673d3d8f4bc9', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ie9a2d5839e55affbbfa84691b0e08bc22f674a19\n""}]",0,546791,c5dc125170ccc32160a8870bcf43673d3d8f4bc9,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ie9a2d5839e55affbbfa84691b0e08bc22f674a19
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/91/546791/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c5dc125170ccc32160a8870bcf43673d3d8f4bc9,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-bagpipe~stable%2Fnewton~I612ed89509d88deee1ded7728bcedda1d930b8fb,openstack/networking-bagpipe,stable/newton,I612ed89509d88deee1ded7728bcedda1d930b8fb,Update .gitreview for stable/newton,ABANDONED,2018-02-21 22:30:06.000000000,2018-02-23 19:19:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-21 22:30:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b7b5b12a17f2ec000d1292690f8d428db76f47e9', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I612ed89509d88deee1ded7728bcedda1d930b8fb\n'}]",0,546788,b7b5b12a17f2ec000d1292690f8d428db76f47e9,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I612ed89509d88deee1ded7728bcedda1d930b8fb
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/88/546788/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b7b5b12a17f2ec000d1292690f8d428db76f47e9,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-bgpvpn~stable%2Fnewton~I342b5b92293b116fa94237fb41221beeee239003,openstack/networking-bgpvpn,stable/newton,I342b5b92293b116fa94237fb41221beeee239003,Update .gitreview for stable/newton,ABANDONED,2018-02-21 22:31:40.000000000,2018-02-23 19:19:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-21 22:31:40.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3b967e4917a6346d2046ab1dc33d270208b58cfd', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I342b5b92293b116fa94237fb41221beeee239003\n'}]",0,546790,3b967e4917a6346d2046ab1dc33d270208b58cfd,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I342b5b92293b116fa94237fb41221beeee239003
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/90/546790/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3b967e4917a6346d2046ab1dc33d270208b58cfd,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-odl~stable%2Fnewton~I8339051a03c08503658ab461eb5f56a900051c9b,openstack/networking-odl,stable/newton,I8339051a03c08503658ab461eb5f56a900051c9b,Update .gitreview for stable/newton,ABANDONED,2018-02-21 22:34:34.000000000,2018-02-23 19:19:03.000000000,,"[{'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:34:34.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/390a57232486946e2a3dc7ee80e2518ebded956f', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I8339051a03c08503658ab461eb5f56a900051c9b\n'}]",0,546795,390a57232486946e2a3dc7ee80e2518ebded956f,6,3,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I8339051a03c08503658ab461eb5f56a900051c9b
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/95/546795/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,390a57232486946e2a3dc7ee80e2518ebded956f,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-odl~stable%2Fnewton~Ib5da9aebc70d00a8b8500cb589187acfade4a6a5,openstack/networking-odl,stable/newton,Ib5da9aebc70d00a8b8500cb589187acfade4a6a5,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-21 22:34:38.000000000,2018-02-23 19:18:57.000000000,,"[{'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:34:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b00cb5aea4d13867fd1dcd2d7aee7925b49e4f06', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ib5da9aebc70d00a8b8500cb589187acfade4a6a5\n""}]",0,546796,b00cb5aea4d13867fd1dcd2d7aee7925b49e4f06,5,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ib5da9aebc70d00a8b8500cb589187acfade4a6a5
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/96/546796/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b00cb5aea4d13867fd1dcd2d7aee7925b49e4f06,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-sfc~stable%2Fnewton~I1cd46a6ed8d57785aa1cd713cb6592aa9e4de0ad,openstack/networking-sfc,stable/newton,I1cd46a6ed8d57785aa1cd713cb6592aa9e4de0ad,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-21 22:35:23.000000000,2018-02-23 19:18:50.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:35:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/2fe9d7d622dc80a27830f7a4a0a47d93db007a77', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I1cd46a6ed8d57785aa1cd713cb6592aa9e4de0ad\n""}]",0,546800,2fe9d7d622dc80a27830f7a4a0a47d93db007a77,4,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I1cd46a6ed8d57785aa1cd713cb6592aa9e4de0ad
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/00/546800/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2fe9d7d622dc80a27830f7a4a0a47d93db007a77,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-sfc~stable%2Fnewton~I01962a7de19699a61570c9d2fd0e30a2a6c325bd,openstack/networking-sfc,stable/newton,I01962a7de19699a61570c9d2fd0e30a2a6c325bd,Update .gitreview for stable/newton,ABANDONED,2018-02-21 22:35:19.000000000,2018-02-23 19:18:44.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:35:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9158531311c698057e920ca9c47c134bdb162088', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I01962a7de19699a61570c9d2fd0e30a2a6c325bd\n'}]",0,546799,9158531311c698057e920ca9c47c134bdb162088,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I01962a7de19699a61570c9d2fd0e30a2a6c325bd
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/99/546799/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9158531311c698057e920ca9c47c134bdb162088,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fglance_store~stable%2Fnewton~Ie63429921b3b0731ad394739fc3941064b6de3e2,openstack/glance_store,stable/newton,Ie63429921b3b0731ad394739fc3941064b6de3e2,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:09:31.000000000,2018-02-23 19:18:37.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:09:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3c476d1e9d487c994a02c62828e1924a0b126dfc', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ie63429921b3b0731ad394739fc3941064b6de3e2\n'}]",0,547564,3c476d1e9d487c994a02c62828e1924a0b126dfc,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ie63429921b3b0731ad394739fc3941064b6de3e2
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/64/547564/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3c476d1e9d487c994a02c62828e1924a0b126dfc,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fglance_store~stable%2Fnewton~I8bb54e00439a71905b7a8d8b967e8da642719bb1,openstack/glance_store,stable/newton,I8bb54e00439a71905b7a8d8b967e8da642719bb1,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:09:34.000000000,2018-02-23 19:18:36.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:09:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f4d1f1bf13d336dd136e29d799789b2fa957db59', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I8bb54e00439a71905b7a8d8b967e8da642719bb1\n""}]",0,547565,f4d1f1bf13d336dd136e29d799789b2fa957db59,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I8bb54e00439a71905b7a8d8b967e8da642719bb1
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/65/547565/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f4d1f1bf13d336dd136e29d799789b2fa957db59,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} --allow-all-external --allow-insecure netaddr -U {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} --allow-all-external --allow-insecure netaddr -U {opts} {packages},1,1
openstack%2Ffuturist~stable%2Fnewton~I701cbd13a296aef1c4d1dacc26efa8f10e225b9b,openstack/futurist,stable/newton,I701cbd13a296aef1c4d1dacc26efa8f10e225b9b,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:09:16.000000000,2018-02-23 19:18:32.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:09:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/futurist/commit/b44fe420ad8d22b1a6151a9cf951364539b9dd46', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I701cbd13a296aef1c4d1dacc26efa8f10e225b9b\n'}]",0,547563,b44fe420ad8d22b1a6151a9cf951364539b9dd46,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I701cbd13a296aef1c4d1dacc26efa8f10e225b9b
",git fetch https://review.opendev.org/openstack/futurist refs/changes/63/547563/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b44fe420ad8d22b1a6151a9cf951364539b9dd46,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fglance~stable%2Fnewton~I9df02cfb05c15637d5cd688ad523c0bbab93cff2,openstack/glance,stable/newton,I9df02cfb05c15637d5cd688ad523c0bbab93cff2,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:10:12.000000000,2018-02-23 19:18:30.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:10:12.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/glance/commit/10c0f64fc99fdaaa81e690d5c3cbbd69a49c03bf', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I9df02cfb05c15637d5cd688ad523c0bbab93cff2\n'}]",0,547567,10c0f64fc99fdaaa81e690d5c3cbbd69a49c03bf,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I9df02cfb05c15637d5cd688ad523c0bbab93cff2
",git fetch https://review.opendev.org/openstack/glance refs/changes/67/547567/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,10c0f64fc99fdaaa81e690d5c3cbbd69a49c03bf,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fdjango_openstack_auth~stable%2Fnewton~Ib3fa81bfe2fdd8f1d033f1ec4bae3cb05f4ff2fa,openstack/django_openstack_auth,stable/newton,Ib3fa81bfe2fdd8f1d033f1ec4bae3cb05f4ff2fa,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:06:32.000000000,2018-02-23 19:18:29.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:06:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/3fc37b90b290472050c4bfd101d75f4bb501fc6f', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ib3fa81bfe2fdd8f1d033f1ec4bae3cb05f4ff2fa\n'}]",0,547555,3fc37b90b290472050c4bfd101d75f4bb501fc6f,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ib3fa81bfe2fdd8f1d033f1ec4bae3cb05f4ff2fa
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/55/547555/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3fc37b90b290472050c4bfd101d75f4bb501fc6f,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fglance~stable%2Fnewton~Ic0c6228f6027ccc4329bc06590826f61863b41d2,openstack/glance,stable/newton,Ic0c6228f6027ccc4329bc06590826f61863b41d2,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:10:23.000000000,2018-02-23 19:18:24.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:10:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/6c3277c4fe99e0af752953fac2e7b95cef882ad0', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ic0c6228f6027ccc4329bc06590826f61863b41d2\n""}]",0,547568,6c3277c4fe99e0af752953fac2e7b95cef882ad0,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ic0c6228f6027ccc4329bc06590826f61863b41d2
",git fetch https://review.opendev.org/openstack/glance refs/changes/68/547568/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6c3277c4fe99e0af752953fac2e7b95cef882ad0,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fdesignate-dashboard~stable%2Fnewton~I9d5807485c54bff2b867a5ffc0c0150564951735,openstack/designate-dashboard,stable/newton,I9d5807485c54bff2b867a5ffc0c0150564951735,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:05:49.000000000,2018-02-23 19:18:23.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:05:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/820c06000962fbc2f15f91322b010bb1c1d6b197', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I9d5807485c54bff2b867a5ffc0c0150564951735\n'}]",0,547550,820c06000962fbc2f15f91322b010bb1c1d6b197,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I9d5807485c54bff2b867a5ffc0c0150564951735
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/50/547550/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,820c06000962fbc2f15f91322b010bb1c1d6b197,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fcongress~stable%2Fnewton~I3ba5db0deb9136110d69881e648893f98975cb07,openstack/congress,stable/newton,I3ba5db0deb9136110d69881e648893f98975cb07,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:05:23.000000000,2018-02-23 19:18:19.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:05:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/congress/commit/ce98e7c20e9a5c55dc2e50fb67cbcb22b79c8316', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I3ba5db0deb9136110d69881e648893f98975cb07\n'}]",0,547547,ce98e7c20e9a5c55dc2e50fb67cbcb22b79c8316,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I3ba5db0deb9136110d69881e648893f98975cb07
",git fetch https://review.opendev.org/openstack/congress refs/changes/47/547547/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ce98e7c20e9a5c55dc2e50fb67cbcb22b79c8316,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fdebtcollector~stable%2Fnewton~I4710530489e4ceb372239d584b08a583bba357a1,openstack/debtcollector,stable/newton,I4710530489e4ceb372239d584b08a583bba357a1,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:05:37.000000000,2018-02-23 19:18:18.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:05:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/33b4f4ce72e6d4f0c062c13dc085679899ec6e47', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I4710530489e4ceb372239d584b08a583bba357a1\n'}]",0,547549,33b4f4ce72e6d4f0c062c13dc085679899ec6e47,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I4710530489e4ceb372239d584b08a583bba357a1
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/49/547549/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,33b4f4ce72e6d4f0c062c13dc085679899ec6e47,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Ffreezer~stable%2Fnewton~I2a1021195eca33923601dfe572635147a2968ca6,openstack/freezer,stable/newton,I2a1021195eca33923601dfe572635147a2968ca6,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:07:06.000000000,2018-02-23 19:18:10.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:07:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer/commit/9f40b7a163609474b502ea6f8df5e8e09933ee44', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I2a1021195eca33923601dfe572635147a2968ca6\n'}]",0,547557,9f40b7a163609474b502ea6f8df5e8e09933ee44,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I2a1021195eca33923601dfe572635147a2968ca6
",git fetch https://review.opendev.org/openstack/freezer refs/changes/57/547557/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9f40b7a163609474b502ea6f8df5e8e09933ee44,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fcliff~stable%2Fnewton~I0723be8e1695ee8f519e6a7133d154ccbb939e9f,openstack/cliff,stable/newton,I0723be8e1695ee8f519e6a7133d154ccbb939e9f,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:04:45.000000000,2018-02-23 19:18:03.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:04:45.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cliff/commit/8bb60e25bd7b9e3e7430b7fbf105c5571520be17', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I0723be8e1695ee8f519e6a7133d154ccbb939e9f\n'}]",0,547545,8bb60e25bd7b9e3e7430b7fbf105c5571520be17,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I0723be8e1695ee8f519e6a7133d154ccbb939e9f
",git fetch https://review.opendev.org/openstack/cliff refs/changes/45/547545/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8bb60e25bd7b9e3e7430b7fbf105c5571520be17,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fautomaton~stable%2Fnewton~Ibb0b5a6e300d897bb99b3502487b73db7e6e709f,openstack/automaton,stable/newton,Ibb0b5a6e300d897bb99b3502487b73db7e6e709f,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:02:33.000000000,2018-02-23 19:17:58.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:02:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/automaton/commit/f691aab7790de2987af65cd6c9d48d301d4f8208', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ibb0b5a6e300d897bb99b3502487b73db7e6e709f\n'}]",0,547532,f691aab7790de2987af65cd6c9d48d301d4f8208,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ibb0b5a6e300d897bb99b3502487b73db7e6e709f
",git fetch https://review.opendev.org/openstack/automaton refs/changes/32/547532/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f691aab7790de2987af65cd6c9d48d301d4f8208,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Ffreezer-dr~stable%2Fnewton~I961c49dda77ffc08ca372810f093b03e79502ac0,openstack/freezer-dr,stable/newton,I961c49dda77ffc08ca372810f093b03e79502ac0,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:07:22.000000000,2018-02-23 19:17:48.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:07:22.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/f22df4e57a393440dbfea18334cc3fdb2b016839', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I961c49dda77ffc08ca372810f093b03e79502ac0\n'}]",0,547559,f22df4e57a393440dbfea18334cc3fdb2b016839,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I961c49dda77ffc08ca372810f093b03e79502ac0
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/59/547559/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f22df4e57a393440dbfea18334cc3fdb2b016839,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-hyperv~stable%2Fnewton~I9f543e87774d1b143f2c03ca178eeec8d869eb2a,openstack/networking-hyperv,stable/newton,I9f543e87774d1b143f2c03ca178eeec8d869eb2a,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:29:47.000000000,2018-02-23 19:17:43.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:29:47.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/861c819d82ab22ae22c419753a7247d09768b948', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I9f543e87774d1b143f2c03ca178eeec8d869eb2a\n'}]",0,547642,861c819d82ab22ae22c419753a7247d09768b948,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I9f543e87774d1b143f2c03ca178eeec8d869eb2a
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/42/547642/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,861c819d82ab22ae22c419753a7247d09768b948,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Ffreezer-web-ui~stable%2Fnewton~Ibe3d0c42398e3cd2ae048463578f0e32029419ce,openstack/freezer-web-ui,stable/newton,Ibe3d0c42398e3cd2ae048463578f0e32029419ce,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:06:45.000000000,2018-02-23 19:17:37.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:06:45.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/1d9ab7ff890c63ecd3f370207650e29fa3bb9fe9', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ibe3d0c42398e3cd2ae048463578f0e32029419ce\n'}]",0,547556,1d9ab7ff890c63ecd3f370207650e29fa3bb9fe9,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ibe3d0c42398e3cd2ae048463578f0e32029419ce
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/56/547556/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1d9ab7ff890c63ecd3f370207650e29fa3bb9fe9,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fironic-lib~stable%2Fnewton~I1c974a6a5ca62a61a1240d14567595638ec8ca2b,openstack/ironic-lib,stable/newton,I1c974a6a5ca62a61a1240d14567595638ec8ca2b,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:16:14.000000000,2018-02-23 19:17:31.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:16:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a6b8c1e75b07a74cb3ad015aeebaf0cfebd80440', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I1c974a6a5ca62a61a1240d14567595638ec8ca2b\n""}]",0,547581,a6b8c1e75b07a74cb3ad015aeebaf0cfebd80440,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I1c974a6a5ca62a61a1240d14567595638ec8ca2b
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/81/547581/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a6b8c1e75b07a74cb3ad015aeebaf0cfebd80440,create-newton, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ffreezer-api~stable%2Fnewton~I9babdc933453fbd4fb9cd9cad936f24945119875,openstack/freezer-api,stable/newton,I9babdc933453fbd4fb9cd9cad936f24945119875,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:07:15.000000000,2018-02-23 19:17:31.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 18:07:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6e0e5ab73be06c6f7f439c04431f8b7f16424e20', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I9babdc933453fbd4fb9cd9cad936f24945119875\n'}]",0,547558,6e0e5ab73be06c6f7f439c04431f8b7f16424e20,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I9babdc933453fbd4fb9cd9cad936f24945119875
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/58/547558/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6e0e5ab73be06c6f7f439c04431f8b7f16424e20,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fironic-lib~stable%2Fnewton~I0436c00ecfc37d92fdeaf0e9cd064d0bb902efd9,openstack/ironic-lib,stable/newton,I0436c00ecfc37d92fdeaf0e9cd064d0bb902efd9,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:16:10.000000000,2018-02-23 19:17:26.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:16:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e9398950863281386b4d92373d957c8f069d3182', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I0436c00ecfc37d92fdeaf0e9cd064d0bb902efd9\n'}]",0,547580,e9398950863281386b4d92373d957c8f069d3182,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I0436c00ecfc37d92fdeaf0e9cd064d0bb902efd9
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/80/547580/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e9398950863281386b4d92373d957c8f069d3182,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmurano-agent~stable%2Fnewton~Ie40265ec9a01d5fcff80614b7ecc0cd26182b756,openstack/murano-agent,stable/newton,Ie40265ec9a01d5fcff80614b7ecc0cd26182b756,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:28:38.000000000,2018-02-23 19:17:24.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:28:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/e6747ffc4699c0a60d6b39c678145dea404502dc', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ie40265ec9a01d5fcff80614b7ecc0cd26182b756\n'}]",0,547633,e6747ffc4699c0a60d6b39c678145dea404502dc,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ie40265ec9a01d5fcff80614b7ecc0cd26182b756
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/33/547633/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e6747ffc4699c0a60d6b39c678145dea404502dc,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fironic-inspector~stable%2Fnewton~I4a76459489c5e1e8fb80d249b32216b657f7d338,openstack/ironic-inspector,stable/newton,I4a76459489c5e1e8fb80d249b32216b657f7d338,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:15:51.000000000,2018-02-23 19:17:22.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:15:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b54d3a87d41d0d0ba7639a22c762ee7ecc86527b', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I4a76459489c5e1e8fb80d249b32216b657f7d338\n""}]",0,547578,b54d3a87d41d0d0ba7639a22c762ee7ecc86527b,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I4a76459489c5e1e8fb80d249b32216b657f7d338
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/78/547578/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b54d3a87d41d0d0ba7639a22c762ee7ecc86527b,create-newton,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmurano-agent~stable%2Fnewton~Ifcddd49bfbcc677c6a2fbe5b6daa6660938f6d36,openstack/murano-agent,stable/newton,Ifcddd49bfbcc677c6a2fbe5b6daa6660938f6d36,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:28:41.000000000,2018-02-23 19:17:18.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:28:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/7fcb49ac518c137572763170601ce435879005cb', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ifcddd49bfbcc677c6a2fbe5b6daa6660938f6d36\n""}]",0,547634,7fcb49ac518c137572763170601ce435879005cb,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ifcddd49bfbcc677c6a2fbe5b6daa6660938f6d36
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/34/547634/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7fcb49ac518c137572763170601ce435879005cb,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fironic-inspector~stable%2Fnewton~I23ca87dc403d526e6417b3abc137aebfcb9681c9,openstack/ironic-inspector,stable/newton,I23ca87dc403d526e6417b3abc137aebfcb9681c9,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:15:46.000000000,2018-02-23 19:17:17.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:15:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6d4d9ba059c8859d8a4e4ce58e29f9b79e0a9bed', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I23ca87dc403d526e6417b3abc137aebfcb9681c9\n'}]",0,547577,6d4d9ba059c8859d8a4e4ce58e29f9b79e0a9bed,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I23ca87dc403d526e6417b3abc137aebfcb9681c9
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/77/547577/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6d4d9ba059c8859d8a4e4ce58e29f9b79e0a9bed,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmurano-dashboard~stable%2Fnewton~I49026b3248854507a2d790db8b2f66aa0beefc13,openstack/murano-dashboard,stable/newton,I49026b3248854507a2d790db8b2f66aa0beefc13,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:29:00.000000000,2018-02-23 19:17:11.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:29:00.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/05037495838596e42eff5d390b697a9286055b16', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I49026b3248854507a2d790db8b2f66aa0beefc13\n'}]",0,547636,05037495838596e42eff5d390b697a9286055b16,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I49026b3248854507a2d790db8b2f66aa0beefc13
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/36/547636/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,05037495838596e42eff5d390b697a9286055b16,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fhorizon~stable%2Fnewton~I867a0dc53b1189ed2f69c4edb9aac46730ee7c8b,openstack/horizon,stable/newton,I867a0dc53b1189ed2f69c4edb9aac46730ee7c8b,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:14:43.000000000,2018-02-23 19:17:11.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:14:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7b791d6e4d7a8df27f0ab3097ccd68fb2a531128', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I867a0dc53b1189ed2f69c4edb9aac46730ee7c8b\n""}]",0,547574,7b791d6e4d7a8df27f0ab3097ccd68fb2a531128,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I867a0dc53b1189ed2f69c4edb9aac46730ee7c8b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/74/547574/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7b791d6e4d7a8df27f0ab3097ccd68fb2a531128,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fhorizon~stable%2Fnewton~I6341f3f0fc7b764d807420eb689c16934891af2c,openstack/horizon,stable/newton,I6341f3f0fc7b764d807420eb689c16934891af2c,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:14:25.000000000,2018-02-23 19:17:07.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:14:25.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/horizon/commit/34e552757215115052bf30776d1515a8d2886b06', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I6341f3f0fc7b764d807420eb689c16934891af2c\n'}]",0,547573,34e552757215115052bf30776d1515a8d2886b06,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I6341f3f0fc7b764d807420eb689c16934891af2c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/73/547573/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,34e552757215115052bf30776d1515a8d2886b06,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmurano-dashboard~stable%2Fnewton~Ie408048629781be47d5669bc8a0db7ce2db7b74b,openstack/murano-dashboard,stable/newton,Ie408048629781be47d5669bc8a0db7ce2db7b74b,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:29:03.000000000,2018-02-23 19:17:03.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:29:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/3456cdb37c8f4e8f58f0a166b355d5b070db0bf0', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ie408048629781be47d5669bc8a0db7ce2db7b74b\n""}]",0,547637,3456cdb37c8f4e8f58f0a166b355d5b070db0bf0,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ie408048629781be47d5669bc8a0db7ce2db7b74b
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/37/547637/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3456cdb37c8f4e8f58f0a166b355d5b070db0bf0,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fopenstack-ansible~master~Idb0e65db762bb6c9908d02296ec2e6e225e5d6a8,openstack/openstack-ansible,master,Idb0e65db762bb6c9908d02296ec2e6e225e5d6a8,[TEST] Debug variables to figure out why OVS is installed,ABANDONED,2018-02-23 15:39:27.000000000,2018-02-23 19:17:03.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-23 15:39:27.000000000', 'files': ['playbooks/os-neutron-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba00e25d169ec40d6e40f5adb9435f720c727f04', 'message': ""[TEST] Debug variables to figure out why OVS is installed\n\nThe integrated build is suddenly installing OVS for a linuxbridge\nbuild. This shouldn't be happening.\n\nChange-Id: Idb0e65db762bb6c9908d02296ec2e6e225e5d6a8\nDepends-On: https://review.openstack.org/547481\n""}]",0,547482,ba00e25d169ec40d6e40f5adb9435f720c727f04,5,3,1,6816,,,0,"[TEST] Debug variables to figure out why OVS is installed

The integrated build is suddenly installing OVS for a linuxbridge
build. This shouldn't be happening.

Change-Id: Idb0e65db762bb6c9908d02296ec2e6e225e5d6a8
Depends-On: https://review.openstack.org/547481
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/547482/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-neutron-install.yml'],1,ba00e25d169ec40d6e40f5adb9435f720c727f04,,### JUNK ENTRY TO TRIGGER A BUILD ,,2,0
openstack%2Fheat~stable%2Fnewton~I2687dda06fc099bc27b14d593453bb7439763d89,openstack/heat,stable/newton,I2687dda06fc099bc27b14d593453bb7439763d89,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:12:28.000000000,2018-02-23 19:17:02.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:12:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/444795a01f3ecf0844259771c4029a0c6a247710', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I2687dda06fc099bc27b14d593453bb7439763d89\n""}]",0,547571,444795a01f3ecf0844259771c4029a0c6a247710,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I2687dda06fc099bc27b14d593453bb7439763d89
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/547571/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,444795a01f3ecf0844259771c4029a0c6a247710,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmurano~stable%2Fnewton~I9e7e1da50193320154ae1680e489c62299d8062a,openstack/murano,stable/newton,I9e7e1da50193320154ae1680e489c62299d8062a,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:29:26.000000000,2018-02-23 19:16:58.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:29:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/murano/commit/760806f8ff5a37e0985c1b99d138a7edaa25687c', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I9e7e1da50193320154ae1680e489c62299d8062a\n'}]",0,547639,760806f8ff5a37e0985c1b99d138a7edaa25687c,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I9e7e1da50193320154ae1680e489c62299d8062a
",git fetch https://review.opendev.org/openstack/murano refs/changes/39/547639/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,760806f8ff5a37e0985c1b99d138a7edaa25687c,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fheat~stable%2Fnewton~I3bd8738e782cbc2fad5dd29f520c6013cd0c3b72,openstack/heat,stable/newton,I3bd8738e782cbc2fad5dd29f520c6013cd0c3b72,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:12:06.000000000,2018-02-23 19:16:55.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:12:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat/commit/0e7db1d76cfcbc2c8cf51ed55fc5f7773642012b', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I3bd8738e782cbc2fad5dd29f520c6013cd0c3b72\n'}]",0,547570,0e7db1d76cfcbc2c8cf51ed55fc5f7773642012b,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I3bd8738e782cbc2fad5dd29f520c6013cd0c3b72
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/547570/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0e7db1d76cfcbc2c8cf51ed55fc5f7773642012b,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fopenstack-ansible-os_neutron~master~Id3d3362260d241a176328c1b45c9687236894547,openstack/openstack-ansible-os_neutron,master,Id3d3362260d241a176328c1b45c9687236894547,[TEST] Debug variables to figure out why OVS is installed,ABANDONED,2018-02-23 15:35:48.000000000,2018-02-23 19:16:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 15:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d6716368329b2242df2dbc8a0bf7e0f2ed214216', 'message': ""[TEST] Debug variables to figure out why OVS is installed\n\nThe integrated build is suddenly installing OVS for a linuxbridge\nbuild. This shouldn't be happening.\n\nChange-Id: Id3d3362260d241a176328c1b45c9687236894547\n""}, {'number': 2, 'created': '2018-02-23 17:15:47.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/930fa8b71404b3645d0dfd58bc8ae5abdb2dc453', 'message': ""[TEST] Debug variables to figure out why OVS is installed\n\nThe integrated build is suddenly installing OVS for a linuxbridge\nbuild. This shouldn't be happening.\n\nChange-Id: Id3d3362260d241a176328c1b45c9687236894547\n""}]",0,547481,930fa8b71404b3645d0dfd58bc8ae5abdb2dc453,5,1,2,6816,,,0,"[TEST] Debug variables to figure out why OVS is installed

The integrated build is suddenly installing OVS for a linuxbridge
build. This shouldn't be happening.

Change-Id: Id3d3362260d241a176328c1b45c9687236894547
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/81/547481/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,d6716368329b2242df2dbc8a0bf7e0f2ed214216,,- name: Debug neutron_needs_openvswitch debug: var: neutron_needs_openvswitch - name: Debug ovs_nsh_support debug: var: ovs_nsh_support - name: Debug neutron_plugin_type debug: var: neutron_plugin_type - name: Debug neutron-openvswitch-agent-enabled debug: var: neutron_services['neutron-openvswitch-agent'].service_en - name: Debug dragonflow-controller-agent-enabled debug: var: neutron_services['dragonflow-controller-agent'].service_en - name: Debug dragonflow-l3-agent-enabled debug: var: neutron_services['dragonflow-l3-agent'].service_en ,,24,0
openstack%2Fmurano~stable%2Fnewton~I64c7b4a2326f19958037562a277618ff9009a868,openstack/murano,stable/newton,I64c7b4a2326f19958037562a277618ff9009a868,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:29:30.000000000,2018-02-23 19:16:52.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:29:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/d5381179889a9a17f198bd117d9141635aa38dac', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I64c7b4a2326f19958037562a277618ff9009a868\n""}]",0,547640,d5381179889a9a17f198bd117d9141635aa38dac,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I64c7b4a2326f19958037562a277618ff9009a868
",git fetch https://review.opendev.org/openstack/murano refs/changes/40/547640/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d5381179889a9a17f198bd117d9141635aa38dac,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fkeystone~stable%2Fnewton~Ib5183de4dda371c83fd298f824e2469e5f4506f5,openstack/keystone,stable/newton,Ib5183de4dda371c83fd298f824e2469e5f4506f5,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:20:38.000000000,2018-02-23 19:16:45.000000000,,[{'_account_id': 21420}],"[{'number': 1, 'created': '2018-02-23 18:20:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f021faece5a47b72bae77343f50e09e7f31deda3', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ib5183de4dda371c83fd298f824e2469e5f4506f5\n""}]",0,547592,f021faece5a47b72bae77343f50e09e7f31deda3,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ib5183de4dda371c83fd298f824e2469e5f4506f5
",git fetch https://review.opendev.org/openstack/keystone refs/changes/92/547592/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f021faece5a47b72bae77343f50e09e7f31deda3,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmistral-extra~stable%2Fnewton~Ie4abb98a6db6477c153480158acb584dc5078bf9,openstack/mistral-extra,stable/newton,Ie4abb98a6db6477c153480158acb584dc5078bf9,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:25:10.000000000,2018-02-23 19:16:38.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:25:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a36ce1599ddefebcfa05b268f89e4fe55e03b5d8', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ie4abb98a6db6477c153480158acb584dc5078bf9\n'}]",0,547612,a36ce1599ddefebcfa05b268f89e4fe55e03b5d8,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ie4abb98a6db6477c153480158acb584dc5078bf9
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/12/547612/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a36ce1599ddefebcfa05b268f89e4fe55e03b5d8,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmistral~stable%2Fnewton~Ibcb029ac721dd5f267a021274f478a6c083fe915,openstack/mistral,stable/newton,Ibcb029ac721dd5f267a021274f478a6c083fe915,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:25:35.000000000,2018-02-23 19:16:31.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:25:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7991684b83d6b5d48df9c4210525709ab654fc1c', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ibcb029ac721dd5f267a021274f478a6c083fe915\n'}]",0,547613,7991684b83d6b5d48df9c4210525709ab654fc1c,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ibcb029ac721dd5f267a021274f478a6c083fe915
",git fetch https://review.opendev.org/openstack/mistral refs/changes/13/547613/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7991684b83d6b5d48df9c4210525709ab654fc1c,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmistral~stable%2Fnewton~Id373ff385a77f8bd4d0646a3ccb989d9a6cb0d9d,openstack/mistral,stable/newton,Id373ff385a77f8bd4d0646a3ccb989d9a6cb0d9d,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:25:39.000000000,2018-02-23 19:16:25.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:25:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e5df078ad836e3c328a5f3a72a87159600c9e4d5', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Id373ff385a77f8bd4d0646a3ccb989d9a6cb0d9d\n""}]",0,547614,e5df078ad836e3c328a5f3a72a87159600c9e4d5,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Id373ff385a77f8bd4d0646a3ccb989d9a6cb0d9d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/14/547614/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e5df078ad836e3c328a5f3a72a87159600c9e4d5,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmistral-dashboard~stable%2Fnewton~Ica669a87ff89a8992f5f8f2bd6f8deb301af530a,openstack/mistral-dashboard,stable/newton,Ica669a87ff89a8992f5f8f2bd6f8deb301af530a,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:25:50.000000000,2018-02-23 19:16:08.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2018-02-23 18:25:50.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/509ea2bbee8b9ec765f276ab3d98400f3f6c7042', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ica669a87ff89a8992f5f8f2bd6f8deb301af530a\n'}]",0,547616,509ea2bbee8b9ec765f276ab3d98400f3f6c7042,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ica669a87ff89a8992f5f8f2bd6f8deb301af530a
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/16/547616/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,509ea2bbee8b9ec765f276ab3d98400f3f6c7042,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmagnum-ui~stable%2Fnewton~I76cd1047ec785580396cbd33ef34023a5eba4b10,openstack/magnum-ui,stable/newton,I76cd1047ec785580396cbd33ef34023a5eba4b10,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:22:43.000000000,2018-02-23 19:15:37.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:22:43.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/29c9f56f42ff0d89d92f332e94407b9966235f5f', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I76cd1047ec785580396cbd33ef34023a5eba4b10\n'}]",0,547600,29c9f56f42ff0d89d92f332e94407b9966235f5f,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I76cd1047ec785580396cbd33ef34023a5eba4b10
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/00/547600/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,29c9f56f42ff0d89d92f332e94407b9966235f5f,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fkolla~stable%2Fnewton~I88998c7dd10cb3229dba5a0d2535b3c0f7fc94c1,openstack/kolla,stable/newton,I88998c7dd10cb3229dba5a0d2535b3c0f7fc94c1,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:22:21.000000000,2018-02-23 19:15:33.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:22:21.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kolla/commit/02e7540477edba85655ff26b27aef70a5f37521a', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I88998c7dd10cb3229dba5a0d2535b3c0f7fc94c1\n'}]",0,547598,02e7540477edba85655ff26b27aef70a5f37521a,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I88998c7dd10cb3229dba5a0d2535b3c0f7fc94c1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/547598/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,02e7540477edba85655ff26b27aef70a5f37521a,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fkeystonemiddleware~stable%2Fnewton~Iac558546f7098c348d37d1e362a730d5918428d6,openstack/keystonemiddleware,stable/newton,Iac558546f7098c348d37d1e362a730d5918428d6,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:21:34.000000000,2018-02-23 19:15:27.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:21:34.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c1ef80861534dbf63c48a713a36bbe3008c57650', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Iac558546f7098c348d37d1e362a730d5918428d6\n'}]",0,547596,c1ef80861534dbf63c48a713a36bbe3008c57650,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Iac558546f7098c348d37d1e362a730d5918428d6
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/96/547596/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c1ef80861534dbf63c48a713a36bbe3008c57650,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fkeystoneauth~stable%2Fnewton~If2e45b76c9c77cbe86c14de66bf3cd18e1f9c798,openstack/keystoneauth,stable/newton,If2e45b76c9c77cbe86c14de66bf3cd18e1f9c798,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:21:14.000000000,2018-02-23 19:15:16.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:21:14.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/abdd2161c9c34993631a18527fb77b5f489f0351', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: If2e45b76c9c77cbe86c14de66bf3cd18e1f9c798\n'}]",0,547594,abdd2161c9c34993631a18527fb77b5f489f0351,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: If2e45b76c9c77cbe86c14de66bf3cd18e1f9c798
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/94/547594/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,abdd2161c9c34993631a18527fb77b5f489f0351,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-midonet~stable%2Fnewton~Ie0cc3c1b5bd917ff1e7969896db9aa0be48d49b9,openstack/networking-midonet,stable/newton,Ie0cc3c1b5bd917ff1e7969896db9aa0be48d49b9,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2017-11-14 20:13:48.000000000,2018-02-23 19:15:13.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-14 20:13:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c9c012272436015310bd048279549c3237f1f131', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nChange-Id: Ie0cc3c1b5bd917ff1e7969896db9aa0be48d49b9\n'}]",0,519742,c9c012272436015310bd048279549c3237f1f131,4,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

Change-Id: Ie0cc3c1b5bd917ff1e7969896db9aa0be48d49b9
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/42/519742/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9c012272436015310bd048279549c3237f1f131,create-newton,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Faodh~stable%2Fnewton~Idf93e28cc3e4920bc29d95900edfcc730b77c3b8,openstack/aodh,stable/newton,Idf93e28cc3e4920bc29d95900edfcc730b77c3b8,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:02:18.000000000,2018-02-23 19:15:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:02:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/aodh/commit/dfe76d482080b8cd105c38b45ac6a92e0716a3b8', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Idf93e28cc3e4920bc29d95900edfcc730b77c3b8\n'}]",0,547530,dfe76d482080b8cd105c38b45ac6a92e0716a3b8,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Idf93e28cc3e4920bc29d95900edfcc730b77c3b8
",git fetch https://review.opendev.org/openstack/aodh refs/changes/30/547530/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,dfe76d482080b8cd105c38b45ac6a92e0716a3b8,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fironic-ui~stable%2Fnewton~I1d30243262aa4c5a792e273d4dc41939e1d8d074,openstack/ironic-ui,stable/newton,I1d30243262aa4c5a792e273d4dc41939e1d8d074,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:16:57.000000000,2018-02-23 19:15:07.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:16:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/9cf51a3329abe22d1c018e4286c9fa2c218c60ed', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I1d30243262aa4c5a792e273d4dc41939e1d8d074\n'}]",0,547586,9cf51a3329abe22d1c018e4286c9fa2c218c60ed,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I1d30243262aa4c5a792e273d4dc41939e1d8d074
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/86/547586/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9cf51a3329abe22d1c018e4286c9fa2c218c60ed,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fironic-python-agent~stable%2Fnewton~Ibcf9b9baaa4fc0da31b1c5f72f11ef867ab0ec94,openstack/ironic-python-agent,stable/newton,Ibcf9b9baaa4fc0da31b1c5f72f11ef867ab0ec94,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:16:40.000000000,2018-02-23 19:15:03.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:16:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/19234b28565612fd150dafdc4abf74da5ab6c7d8', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ibcf9b9baaa4fc0da31b1c5f72f11ef867ab0ec94\n""}]",0,547583,19234b28565612fd150dafdc4abf74da5ab6c7d8,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ibcf9b9baaa4fc0da31b1c5f72f11ef867ab0ec94
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/83/547583/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,19234b28565612fd150dafdc4abf74da5ab6c7d8,create-newton,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fironic-python-agent~stable%2Fnewton~I8b695a46bed21fd850381400fef289dba6865fa5,openstack/ironic-python-agent,stable/newton,I8b695a46bed21fd850381400fef289dba6865fa5,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:16:35.000000000,2018-02-23 19:14:58.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:16:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8a443140b24d5416cc30ce11145fc9e3c1f3a6ce', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I8b695a46bed21fd850381400fef289dba6865fa5\n'}]",0,547582,8a443140b24d5416cc30ce11145fc9e3c1f3a6ce,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I8b695a46bed21fd850381400fef289dba6865fa5
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/547582/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8a443140b24d5416cc30ce11145fc9e3c1f3a6ce,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fdragonflow~stable%2Fnewton~I8a91cc1702e8b27558fa016c2cf02b80ce5673b5,openstack/dragonflow,stable/newton,I8a91cc1702e8b27558fa016c2cf02b80ce5673b5,Update .gitreview for stable/newton,ABANDONED,2017-10-26 18:54:28.000000000,2018-02-23 19:14:57.000000000,,"[{'_account_id': 11904}, {'_account_id': 17880}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-26 18:54:28.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/8348bbfe675fbe08d49e3fa6ec627ec515f496dd', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I8a91cc1702e8b27558fa016c2cf02b80ce5673b5\n'}]",0,515497,8348bbfe675fbe08d49e3fa6ec627ec515f496dd,7,3,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I8a91cc1702e8b27558fa016c2cf02b80ce5673b5
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/97/515497/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8348bbfe675fbe08d49e3fa6ec627ec515f496dd,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-agent~stable%2Fnewton~I790d5a11a4edaee88d53d7d2ab7c89a8c87fb744,openstack/monasca-agent,stable/newton,I790d5a11a4edaee88d53d7d2ab7c89a8c87fb744,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:26:06.000000000,2018-02-23 19:14:32.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:26:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b0ca73bd3778dfde00bf0c5881f8dae1e00b2bae', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I790d5a11a4edaee88d53d7d2ab7c89a8c87fb744\n'}]",0,547617,b0ca73bd3778dfde00bf0c5881f8dae1e00b2bae,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I790d5a11a4edaee88d53d7d2ab7c89a8c87fb744
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/17/547617/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b0ca73bd3778dfde00bf0c5881f8dae1e00b2bae,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fkeystone~stable%2Fnewton~I4eb5ac8b17ffed7189f868e0095e0b87f6814203,openstack/keystone,stable/newton,I4eb5ac8b17ffed7189f868e0095e0b87f6814203,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:20:26.000000000,2018-02-23 19:14:12.000000000,,[{'_account_id': 21420}],"[{'number': 1, 'created': '2018-02-23 18:20:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed17e09531566bfa0721476d92ad9ac72d9f9c06', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I4eb5ac8b17ffed7189f868e0095e0b87f6814203\n'}]",0,547591,ed17e09531566bfa0721476d92ad9ac72d9f9c06,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I4eb5ac8b17ffed7189f868e0095e0b87f6814203
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/547591/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ed17e09531566bfa0721476d92ad9ac72d9f9c06,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fironic~stable%2Fnewton~Ifbcf95234c743ca3f8f18119d468630540c85da7,openstack/ironic,stable/newton,Ifbcf95234c743ca3f8f18119d468630540c85da7,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:18:49.000000000,2018-02-23 19:13:44.000000000,,"[{'_account_id': 10118}, {'_account_id': 14208}]","[{'number': 1, 'created': '2018-02-23 18:18:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic/commit/954686acb8c83768bac164588c5f93324e52a17a', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ifbcf95234c743ca3f8f18119d468630540c85da7\n'}]",0,547588,954686acb8c83768bac164588c5f93324e52a17a,4,2,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ifbcf95234c743ca3f8f18119d468630540c85da7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/547588/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,954686acb8c83768bac164588c5f93324e52a17a,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmanila-ui~stable%2Fnewton~Ied9642f093cf534124a6eabdcf7c65c951452298,openstack/manila-ui,stable/newton,Ied9642f093cf534124a6eabdcf7c65c951452298,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:24:01.000000000,2018-02-23 19:12:55.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:24:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/aa243599b609de1f0eab452b1f5242c686e99ffe', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ied9642f093cf534124a6eabdcf7c65c951452298\n""}]",0,547607,aa243599b609de1f0eab452b1f5242c686e99ffe,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ied9642f093cf534124a6eabdcf7c65c951452298
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/07/547607/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa243599b609de1f0eab452b1f5242c686e99ffe,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmanila-ui~stable%2Fnewton~I68ac5c8746ada0ff6559a4d17c647d238bac48f4,openstack/manila-ui,stable/newton,I68ac5c8746ada0ff6559a4d17c647d238bac48f4,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:23:58.000000000,2018-02-23 19:12:51.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:23:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/c853b98c078bbe9a69b23ded21579c095e58ad0d', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I68ac5c8746ada0ff6559a4d17c647d238bac48f4\n'}]",0,547605,c853b98c078bbe9a69b23ded21579c095e58ad0d,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I68ac5c8746ada0ff6559a4d17c647d238bac48f4
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/05/547605/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c853b98c078bbe9a69b23ded21579c095e58ad0d,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmagnum~stable%2Fnewton~Id1295837d41569bac49789ee64f11f75439c0248,openstack/magnum,stable/newton,Id1295837d41569bac49789ee64f11f75439c0248,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:23:37.000000000,2018-02-23 19:12:46.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:23:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e770dc665f76f816cb54ea8f0d18a11cfe997d6e', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Id1295837d41569bac49789ee64f11f75439c0248\n""}]",0,547603,e770dc665f76f816cb54ea8f0d18a11cfe997d6e,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Id1295837d41569bac49789ee64f11f75439c0248
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/547603/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e770dc665f76f816cb54ea8f0d18a11cfe997d6e,create-newton, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} -U {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fmagnum~stable%2Fnewton~I8602f1fa32d8bd1e80055f1a32df4cba43531e8c,openstack/magnum,stable/newton,I8602f1fa32d8bd1e80055f1a32df4cba43531e8c,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:23:28.000000000,2018-02-23 19:12:42.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:23:28.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bb68b827aba0f31e75bdb5530bbca3b8406ad5a0', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I8602f1fa32d8bd1e80055f1a32df4cba43531e8c\n'}]",0,547602,bb68b827aba0f31e75bdb5530bbca3b8406ad5a0,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I8602f1fa32d8bd1e80055f1a32df4cba43531e8c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/02/547602/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bb68b827aba0f31e75bdb5530bbca3b8406ad5a0,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmagnum-ui~stable%2Fnewton~I005598a4b46907aed2c85243fe55d74cadd2be71,openstack/magnum-ui,stable/newton,I005598a4b46907aed2c85243fe55d74cadd2be71,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:22:46.000000000,2018-02-23 19:12:36.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:22:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/658269f768819297df6e45eb00eedf84dd7de624', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I005598a4b46907aed2c85243fe55d74cadd2be71\n""}]",0,547601,658269f768819297df6e45eb00eedf84dd7de624,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I005598a4b46907aed2c85243fe55d74cadd2be71
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/01/547601/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,658269f768819297df6e45eb00eedf84dd7de624,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fmonasca-statsd~stable%2Fnewton~Ibfe7fbfdef908a8d270ea91e8e3ca9004d63e474,openstack/monasca-statsd,stable/newton,Ibfe7fbfdef908a8d270ea91e8e3ca9004d63e474,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:27:47.000000000,2018-02-23 19:11:45.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/e9cc28cd7dca61389c050f61ac1d40c44291610b', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ibfe7fbfdef908a8d270ea91e8e3ca9004d63e474\n""}]",0,547629,e9cc28cd7dca61389c050f61ac1d40c44291610b,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ibfe7fbfdef908a8d270ea91e8e3ca9004d63e474
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/29/547629/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e9cc28cd7dca61389c050f61ac1d40c44291610b,create-newton, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmonasca-statsd~stable%2Fnewton~I0f99b4d599370d2d2ff1c1c63dbc993d88342438,openstack/monasca-statsd,stable/newton,I0f99b4d599370d2d2ff1c1c63dbc993d88342438,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:27:44.000000000,2018-02-23 19:10:14.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:44.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/36affcb9fa07249b916a2474e5a160674101bf62', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I0f99b4d599370d2d2ff1c1c63dbc993d88342438\n'}]",0,547628,36affcb9fa07249b916a2474e5a160674101bf62,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I0f99b4d599370d2d2ff1c1c63dbc993d88342438
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/28/547628/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,36affcb9fa07249b916a2474e5a160674101bf62,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-persister~stable%2Fnewton~I1b6b8cc143cc33ed09b2aa9018a6890fc49a5758,openstack/monasca-persister,stable/newton,I1b6b8cc143cc33ed09b2aa9018a6890fc49a5758,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:27:32.000000000,2018-02-23 19:09:58.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/9e6a891f79bb8237c793b80168c34d21fb49bac9', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I1b6b8cc143cc33ed09b2aa9018a6890fc49a5758\n""}]",0,547627,9e6a891f79bb8237c793b80168c34d21fb49bac9,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I1b6b8cc143cc33ed09b2aa9018a6890fc49a5758
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/27/547627/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9e6a891f79bb8237c793b80168c34d21fb49bac9,create-newton, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmonasca-persister~stable%2Fnewton~I47900dd6d072ff29b8c3ee50fb788462a1db5d14,openstack/monasca-persister,stable/newton,I47900dd6d072ff29b8c3ee50fb788462a1db5d14,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:27:30.000000000,2018-02-23 19:09:50.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/25acda6e303b90bb377ffaf3d315868664b19903', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I47900dd6d072ff29b8c3ee50fb788462a1db5d14\n'}]",0,547626,25acda6e303b90bb377ffaf3d315868664b19903,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I47900dd6d072ff29b8c3ee50fb788462a1db5d14
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/26/547626/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,25acda6e303b90bb377ffaf3d315868664b19903,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-notification~stable%2Fnewton~I8e6e8c991d268c3f2bcb21b772d7f13d3a927f14,openstack/monasca-notification,stable/newton,I8e6e8c991d268c3f2bcb21b772d7f13d3a927f14,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:27:17.000000000,2018-02-23 19:09:45.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/2a7fce85500953a09a2de136719c7042f87a4531', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I8e6e8c991d268c3f2bcb21b772d7f13d3a927f14\n""}]",0,547625,2a7fce85500953a09a2de136719c7042f87a4531,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I8e6e8c991d268c3f2bcb21b772d7f13d3a927f14
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/25/547625/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2a7fce85500953a09a2de136719c7042f87a4531,create-newton, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages} --pre, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} --pre,1,1
openstack%2Fmonasca-notification~stable%2Fnewton~I14b9170adf6f7739f3b126f054c733a9cad4aa07,openstack/monasca-notification,stable/newton,I14b9170adf6f7739f3b126f054c733a9cad4aa07,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:27:15.000000000,2018-02-23 19:09:41.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/059661c2d68a09fb81eaf9e3d1cafdbd1f046ce5', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I14b9170adf6f7739f3b126f054c733a9cad4aa07\n'}]",0,547624,059661c2d68a09fb81eaf9e3d1cafdbd1f046ce5,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I14b9170adf6f7739f3b126f054c733a9cad4aa07
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/24/547624/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,059661c2d68a09fb81eaf9e3d1cafdbd1f046ce5,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-log-api~stable%2Fnewton~I8cd371d1fcef2b2f7e5741f305714e88d011d226,openstack/monasca-log-api,stable/newton,I8cd371d1fcef2b2f7e5741f305714e88d011d226,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:27:03.000000000,2018-02-23 19:09:36.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:03.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/8cdf0eda69566f99d12a41e4b86a20139b6fcf52', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I8cd371d1fcef2b2f7e5741f305714e88d011d226\n'}]",0,547623,8cdf0eda69566f99d12a41e4b86a20139b6fcf52,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I8cd371d1fcef2b2f7e5741f305714e88d011d226
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/23/547623/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8cdf0eda69566f99d12a41e4b86a20139b6fcf52,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-common~stable%2Fnewton~Icf15f807660c29242774307545adaece82c61958,openstack/monasca-common,stable/newton,Icf15f807660c29242774307545adaece82c61958,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:26:50.000000000,2018-02-23 19:09:31.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:26:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/b57bb21ff0f67d2c013c9db6250559c92b967b23', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Icf15f807660c29242774307545adaece82c61958\n""}]",0,547622,b57bb21ff0f67d2c013c9db6250559c92b967b23,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Icf15f807660c29242774307545adaece82c61958
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/22/547622/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b57bb21ff0f67d2c013c9db6250559c92b967b23,create-newton, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmonasca-common~stable%2Fnewton~Ia636df18669c47f0924eb5ae03fcb64e908d117b,openstack/monasca-common,stable/newton,Ia636df18669c47f0924eb5ae03fcb64e908d117b,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:26:47.000000000,2018-02-23 19:09:26.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:26:47.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/1ad86dbbca3952a8a42e27f7876d6ae74e774340', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ia636df18669c47f0924eb5ae03fcb64e908d117b\n'}]",0,547621,1ad86dbbca3952a8a42e27f7876d6ae74e774340,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ia636df18669c47f0924eb5ae03fcb64e908d117b
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/21/547621/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1ad86dbbca3952a8a42e27f7876d6ae74e774340,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-ceilometer~stable%2Fnewton~I278ba65c1b07b7064fa26713b0ca61f83067b6d6,openstack/monasca-ceilometer,stable/newton,I278ba65c1b07b7064fa26713b0ca61f83067b6d6,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:26:35.000000000,2018-02-23 19:09:16.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:26:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/422882d31a42aae44dd4bcc3ff0cecb5243876c2', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I278ba65c1b07b7064fa26713b0ca61f83067b6d6\n'}]",0,547620,422882d31a42aae44dd4bcc3ff0cecb5243876c2,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I278ba65c1b07b7064fa26713b0ca61f83067b6d6
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/20/547620/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,422882d31a42aae44dd4bcc3ff0cecb5243876c2,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fbarbican~stable%2Fnewton~If894408419ca2dc89f928f141c798f7ea12b887d,openstack/barbican,stable/newton,If894408419ca2dc89f928f141c798f7ea12b887d,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:02:52.000000000,2018-02-23 19:09:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:02:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6b7215306f2e33e8b31d9b86d93622fc79f55227', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: If894408419ca2dc89f928f141c798f7ea12b887d\n""}]",0,547534,6b7215306f2e33e8b31d9b86d93622fc79f55227,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: If894408419ca2dc89f928f141c798f7ea12b887d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/34/547534/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b7215306f2e33e8b31d9b86d93622fc79f55227,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fmonasca-api~stable%2Fnewton~I47b4b597a06efd75dea6802a66c303591d0b62cd,openstack/monasca-api,stable/newton,I47b4b597a06efd75dea6802a66c303591d0b62cd,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:26:24.000000000,2018-02-23 19:09:06.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:26:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/aa34519dbdafa85cb1af6b5fe68b71a16d048684', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I47b4b597a06efd75dea6802a66c303591d0b62cd\n""}]",0,547619,aa34519dbdafa85cb1af6b5fe68b71a16d048684,2,0,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I47b4b597a06efd75dea6802a66c303591d0b62cd
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/19/547619/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa34519dbdafa85cb1af6b5fe68b71a16d048684,create-newton, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmonasca-api~stable%2Fnewton~I0d2cdc98a67d5ccf9b04ba89a3d9a2dbb831793d,openstack/monasca-api,stable/newton,I0d2cdc98a67d5ccf9b04ba89a3d9a2dbb831793d,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:26:21.000000000,2018-02-23 19:09:01.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:26:21.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/20c0bc97d4badc9485e5daeb7f4aae21dbb22a2c', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I0d2cdc98a67d5ccf9b04ba89a3d9a2dbb831793d\n'}]",0,547618,20c0bc97d4badc9485e5daeb7f4aae21dbb22a2c,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I0d2cdc98a67d5ccf9b04ba89a3d9a2dbb831793d
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/18/547618/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,20c0bc97d4badc9485e5daeb7f4aae21dbb22a2c,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmox3~stable%2Fnewton~Id9d3ffa4402caf0a7bdf3a80a14def2982da705f,openstack/mox3,stable/newton,Id9d3ffa4402caf0a7bdf3a80a14def2982da705f,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:28:24.000000000,2018-02-23 19:01:43.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:28:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mox3/commit/76b7126e7edee35269fc28342a9590525fd0b437', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Id9d3ffa4402caf0a7bdf3a80a14def2982da705f\n'}]",0,547632,76b7126e7edee35269fc28342a9590525fd0b437,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Id9d3ffa4402caf0a7bdf3a80a14def2982da705f
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/32/547632/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,76b7126e7edee35269fc28342a9590525fd0b437,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-ui~stable%2Fnewton~I3f68a47ad99ad83b56ad8572b99c6f0b977ad344,openstack/monasca-ui,stable/newton,I3f68a47ad99ad83b56ad8572b99c6f0b977ad344,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:28:11.000000000,2018-02-23 19:01:36.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:28:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/b5e87831ec78681c6d8438cabb7e30e8b29a82f1', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I3f68a47ad99ad83b56ad8572b99c6f0b977ad344\n'}]",0,547631,b5e87831ec78681c6d8438cabb7e30e8b29a82f1,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I3f68a47ad99ad83b56ad8572b99c6f0b977ad344
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/31/547631/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b5e87831ec78681c6d8438cabb7e30e8b29a82f1,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmonasca-thresh~stable%2Fnewton~I79d9fbad1edd076479e5d48bedea34ce89cfc0ab,openstack/monasca-thresh,stable/newton,I79d9fbad1edd076479e5d48bedea34ce89cfc0ab,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:27:59.000000000,2018-02-23 19:01:30.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:27:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/5c332b496034a93d024ef370bf1d858e0b44223c', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I79d9fbad1edd076479e5d48bedea34ce89cfc0ab\n'}]",0,547630,5c332b496034a93d024ef370bf1d858e0b44223c,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I79d9fbad1edd076479e5d48bedea34ce89cfc0ab
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/30/547630/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5c332b496034a93d024ef370bf1d858e0b44223c,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fdesignate~stable%2Fnewton~Ia692acc9153fb61c4978d235ff0737cb67f5f288,openstack/designate,stable/newton,Ia692acc9153fb61c4978d235ff0737cb67f5f288,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:06:11.000000000,2018-02-23 19:00:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:06:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/designate/commit/9eced68c1abf2f76b2104bd07d638609d3ea5f0e', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ia692acc9153fb61c4978d235ff0737cb67f5f288\n'}]",0,547551,9eced68c1abf2f76b2104bd07d638609d3ea5f0e,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ia692acc9153fb61c4978d235ff0737cb67f5f288
",git fetch https://review.opendev.org/openstack/designate refs/changes/51/547551/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9eced68c1abf2f76b2104bd07d638609d3ea5f0e,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fcloudkitty~stable%2Fnewton~Ie0749ae49bc18cbe787220e4baafac080bc4b624,openstack/cloudkitty,stable/newton,Ie0749ae49bc18cbe787220e4baafac080bc4b624,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:05:06.000000000,2018-02-23 19:00:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:05:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/440ed50140a92f192e8d3fbd379e7a53ed7cb888', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ie0749ae49bc18cbe787220e4baafac080bc4b624\n'}]",0,547546,440ed50140a92f192e8d3fbd379e7a53ed7cb888,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ie0749ae49bc18cbe787220e4baafac080bc4b624
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/46/547546/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,440ed50140a92f192e8d3fbd379e7a53ed7cb888,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fceilometer~stable%2Fnewton~I1154604c28f24cefd54295ef8244bea31d7532c2,openstack/ceilometer,stable/newton,I1154604c28f24cefd54295ef8244bea31d7532c2,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:03:36.000000000,2018-02-23 19:00:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:03:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7083c80947d53dd92499aa7eaaea2d077f05610e', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I1154604c28f24cefd54295ef8244bea31d7532c2\n'}]",0,547540,7083c80947d53dd92499aa7eaaea2d077f05610e,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I1154604c28f24cefd54295ef8244bea31d7532c2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/40/547540/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7083c80947d53dd92499aa7eaaea2d077f05610e,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fbifrost~stable%2Fnewton~If00b9c18915cf55082b40085ec0c84d69946affa,openstack/bifrost,stable/newton,If00b9c18915cf55082b40085ec0c84d69946affa,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:03:08.000000000,2018-02-23 19:00:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:03:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e06beea2660d7e05c5f370829fcf37c25c45e521', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: If00b9c18915cf55082b40085ec0c84d69946affa\n'}]",0,547536,e06beea2660d7e05c5f370829fcf37c25c45e521,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: If00b9c18915cf55082b40085ec0c84d69946affa
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/36/547536/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e06beea2660d7e05c5f370829fcf37c25c45e521,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fbarbican~stable%2Fnewton~Ia6f12e05400c5808d600b447ad986e71827a1843,openstack/barbican,stable/newton,Ia6f12e05400c5808d600b447ad986e71827a1843,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:02:49.000000000,2018-02-23 19:00:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:02:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0b7c81893dc7b110e9a9def312e7bf2ce217b7f9', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ia6f12e05400c5808d600b447ad986e71827a1843\n'}]",0,547533,0b7c81893dc7b110e9a9def312e7bf2ce217b7f9,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ia6f12e05400c5808d600b447ad986e71827a1843
",git fetch https://review.opendev.org/openstack/barbican refs/changes/33/547533/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0b7c81893dc7b110e9a9def312e7bf2ce217b7f9,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmanila~stable%2Fnewton~I42ca47c8a76ba1074587c3a93e3fef7479f36459,openstack/manila,stable/newton,I42ca47c8a76ba1074587c3a93e3fef7479f36459,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:24:43.000000000,2018-02-23 19:00:14.000000000,,[{'_account_id': 21863}],"[{'number': 1, 'created': '2018-02-23 18:24:43.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/manila/commit/3f15680957459003168f3f799b9ebf245d417ad4', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I42ca47c8a76ba1074587c3a93e3fef7479f36459\n'}]",0,547609,3f15680957459003168f3f799b9ebf245d417ad4,3,1,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I42ca47c8a76ba1074587c3a93e3fef7479f36459
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/547609/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3f15680957459003168f3f799b9ebf245d417ad4,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fnetworking-ovn~stable%2Fnewton~Ifeb6f941a73446624f603bd4ab99e5880b97d2c5,openstack/networking-ovn,stable/newton,Ifeb6f941a73446624f603bd4ab99e5880b97d2c5,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:30:08.000000000,2018-02-23 19:00:09.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:30:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8451eb6b2f5fa0d7bed45a910b150bf745a6b0ba', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: Ifeb6f941a73446624f603bd4ab99e5880b97d2c5\n'}]",0,547643,8451eb6b2f5fa0d7bed45a910b150bf745a6b0ba,2,0,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: Ifeb6f941a73446624f603bd4ab99e5880b97d2c5
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/43/547643/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8451eb6b2f5fa0d7bed45a910b150bf745a6b0ba,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fmanila~stable%2Fnewton~I34f45b79fca1a53a870830c1d017493ad2f6a7e3,openstack/manila,stable/newton,I34f45b79fca1a53a870830c1d017493ad2f6a7e3,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:24:46.000000000,2018-02-23 18:59:25.000000000,,[{'_account_id': 21863}],"[{'number': 1, 'created': '2018-02-23 18:24:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/7d71878c5557663d40fe480cd1068f4a3d312996', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I34f45b79fca1a53a870830c1d017493ad2f6a7e3\n""}]",0,547610,7d71878c5557663d40fe480cd1068f4a3d312996,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I34f45b79fca1a53a870830c1d017493ad2f6a7e3
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/547610/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7d71878c5557663d40fe480cd1068f4a3d312996,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fironic~stable%2Fnewton~Iafd5c83589e57199c0759f87706f80d9fc3852ee,openstack/ironic,stable/newton,Iafd5c83589e57199c0759f87706f80d9fc3852ee,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:18:56.000000000,2018-02-23 18:59:19.000000000,,[{'_account_id': 14208}],"[{'number': 1, 'created': '2018-02-23 18:18:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6465a902d1f3ba25552d6573d4af31b4a8c6458c', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Iafd5c83589e57199c0759f87706f80d9fc3852ee\n""}]",0,547589,6465a902d1f3ba25552d6573d4af31b4a8c6458c,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Iafd5c83589e57199c0759f87706f80d9fc3852ee
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/547589/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6465a902d1f3ba25552d6573d4af31b4a8c6458c,create-newton,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fdesignate~stable%2Fnewton~Iaf9201c5a348cc511db8c6b35af372963b63e1f3,openstack/designate,stable/newton,Iaf9201c5a348cc511db8c6b35af372963b63e1f3,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:06:15.000000000,2018-02-23 18:58:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:06:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/b9c4fed3a3f50dae65c8a4e53ce90f769b5636ab', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Iaf9201c5a348cc511db8c6b35af372963b63e1f3\n""}]",0,547552,b9c4fed3a3f50dae65c8a4e53ce90f769b5636ab,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Iaf9201c5a348cc511db8c6b35af372963b63e1f3
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/547552/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b9c4fed3a3f50dae65c8a4e53ce90f769b5636ab,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master} {opts} {packages},1,1
openstack%2Fbifrost~stable%2Fnewton~Ic196fdaa584940dce4496a2eb8c9868e7ccd24df,openstack/bifrost,stable/newton,Ic196fdaa584940dce4496a2eb8c9868e7ccd24df,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:03:11.000000000,2018-02-23 18:58:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:03:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7cf0598870beda21ec25369fa0331755a4e02280', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ic196fdaa584940dce4496a2eb8c9868e7ccd24df\n""}]",0,547537,7cf0598870beda21ec25369fa0331755a4e02280,3,1,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ic196fdaa584940dce4496a2eb8c9868e7ccd24df
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/37/547537/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7cf0598870beda21ec25369fa0331755a4e02280,create-newton,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-midonet~master~Ifa285282991c23e45f84c2969d657b97fa67892d,openstack/networking-midonet,master,Ifa285282991c23e45f84c2969d657b97fa67892d,Update reno for stable/newton,ABANDONED,2017-11-14 20:13:50.000000000,2018-02-23 18:57:32.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-14 20:13:50.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/9b103e9a9428c1ca55b10a4040345a37823c56cd', 'message': 'Update reno for stable/newton\n\nChange-Id: Ifa285282991c23e45f84c2969d657b97fa67892d\n'}]",0,519743,9b103e9a9428c1ca55b10a4040345a37823c56cd,4,2,1,22816,,,0,"Update reno for stable/newton

Change-Id: Ifa285282991c23e45f84c2969d657b97fa67892d
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/43/519743/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,9b103e9a9428c1ca55b10a4040345a37823c56cd,reno-newton, newton,,2,1
openstack%2Fnetworking-bgpvpn~master~Id8f34a1d3ba3c2e46e137316a3fce61cba70270c,openstack/networking-bgpvpn,master,Id8f34a1d3ba3c2e46e137316a3fce61cba70270c,Update reno for stable/newton,ABANDONED,2018-02-21 22:31:49.000000000,2018-02-23 18:57:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-21 22:31:49.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a13f46d8355f4e5ef479adc5cbca6aa53762822f', 'message': 'Update reno for stable/newton\n\nChange-Id: Id8f34a1d3ba3c2e46e137316a3fce61cba70270c\n'}]",0,546792,a13f46d8355f4e5ef479adc5cbca6aa53762822f,3,1,1,22816,,,0,"Update reno for stable/newton

Change-Id: Id8f34a1d3ba3c2e46e137316a3fce61cba70270c
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/92/546792/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,a13f46d8355f4e5ef479adc5cbca6aa53762822f,reno-newton, newton,,1,0
openstack%2Fnetworking-odl~master~I815af250652496f9f139e0ce1fe298d7ca88c2a6,openstack/networking-odl,master,I815af250652496f9f139e0ce1fe298d7ca88c2a6,Update reno for stable/newton,ABANDONED,2018-02-21 22:34:43.000000000,2018-02-23 18:57:20.000000000,,"[{'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:34:43.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ac68e9efa3b805cd87a78503968162ad172c1ac3', 'message': 'Update reno for stable/newton\n\nChange-Id: I815af250652496f9f139e0ce1fe298d7ca88c2a6\n'}]",2,546797,ac68e9efa3b805cd87a78503968162ad172c1ac3,5,3,1,22816,,,0,"Update reno for stable/newton

Change-Id: I815af250652496f9f139e0ce1fe298d7ca88c2a6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/97/546797/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,ac68e9efa3b805cd87a78503968162ad172c1ac3,reno-newton, newton,,2,1
openstack%2Faodh~master~I30b9dc9310976ca2bc35175bfabe24f84731e982,openstack/aodh,master,I30b9dc9310976ca2bc35175bfabe24f84731e982,Update reno for stable/newton,ABANDONED,2018-02-23 18:02:21.000000000,2018-02-23 18:57:15.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:02:21.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/aodh/commit/f6d1471c1625cba4816730ebcb4b93e62df09966', 'message': 'Update reno for stable/newton\n\nChange-Id: I30b9dc9310976ca2bc35175bfabe24f84731e982\n'}]",0,547531,f6d1471c1625cba4816730ebcb4b93e62df09966,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I30b9dc9310976ca2bc35175bfabe24f84731e982
",git fetch https://review.opendev.org/openstack/aodh refs/changes/31/547531/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,f6d1471c1625cba4816730ebcb4b93e62df09966,reno-newton, newton,,5,98
openstack%2Fbarbican~master~I2d765c5880f08bac8f4ecb2e123f2e23ac610f0d,openstack/barbican,master,I2d765c5880f08bac8f4ecb2e123f2e23ac610f0d,Update reno for stable/newton,ABANDONED,2018-02-23 18:02:55.000000000,2018-02-23 18:57:10.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:02:55.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2efe14a2364d802ac030fc9b144ba4ea6edb4796', 'message': 'Update reno for stable/newton\n\nChange-Id: I2d765c5880f08bac8f4ecb2e123f2e23ac610f0d\n'}]",0,547535,2efe14a2364d802ac030fc9b144ba4ea6edb4796,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I2d765c5880f08bac8f4ecb2e123f2e23ac610f0d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/35/547535/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,2efe14a2364d802ac030fc9b144ba4ea6edb4796,reno-newton, newton,,2,1
openstack%2Fceilometer~master~I0d770cea0131bd8727d8460162fd141d146b82b0,openstack/ceilometer,master,I0d770cea0131bd8727d8460162fd141d146b82b0,Update reno for stable/newton,ABANDONED,2018-02-23 18:03:39.000000000,2018-02-23 18:57:05.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:03:39.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e63ff7e213f70820ad71a344679b08f9334eae67', 'message': 'Update reno for stable/newton\n\nChange-Id: I0d770cea0131bd8727d8460162fd141d146b82b0\n'}]",0,547541,e63ff7e213f70820ad71a344679b08f9334eae67,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I0d770cea0131bd8727d8460162fd141d146b82b0
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/547541/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,e63ff7e213f70820ad71a344679b08f9334eae67,reno-newton, newton,,6,127
openstack%2Fglance_store~master~Ic67477bda3088879ed333cb355d8bf9e392b5450,openstack/glance_store,master,Ic67477bda3088879ed333cb355d8bf9e392b5450,Update reno for stable/newton,ABANDONED,2018-02-23 18:09:37.000000000,2018-02-23 18:57:01.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:09:37.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d7366ef1d933b9e2959e2678beb6ef65defea40f', 'message': 'Update reno for stable/newton\n\nChange-Id: Ic67477bda3088879ed333cb355d8bf9e392b5450\n'}]",0,547566,d7366ef1d933b9e2959e2678beb6ef65defea40f,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: Ic67477bda3088879ed333cb355d8bf9e392b5450
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/66/547566/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,d7366ef1d933b9e2959e2678beb6ef65defea40f,reno-newton, newton,,2,1
openstack%2Fglance~master~I12c2622f36d231ed30857f980d650ffd5fc45ef3,openstack/glance,master,I12c2622f36d231ed30857f980d650ffd5fc45ef3,Update reno for stable/newton,ABANDONED,2018-02-23 18:10:36.000000000,2018-02-23 18:56:56.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:10:36.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/f6921dd708a2fc2c1a2b6211d435a7d004b74e68', 'message': 'Update reno for stable/newton\n\nChange-Id: I12c2622f36d231ed30857f980d650ffd5fc45ef3\n'}]",0,547569,f6921dd708a2fc2c1a2b6211d435a7d004b74e68,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I12c2622f36d231ed30857f980d650ffd5fc45ef3
",git fetch https://review.opendev.org/openstack/glance refs/changes/69/547569/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,f6921dd708a2fc2c1a2b6211d435a7d004b74e68,reno-newton, newton,,2,2
openstack%2Fheat~master~Icdf2af18b1a3bb23e8853bbfbd199aa8eac95b87,openstack/heat,master,Icdf2af18b1a3bb23e8853bbfbd199aa8eac95b87,Update reno for stable/newton,ABANDONED,2018-02-23 18:12:50.000000000,2018-02-23 18:56:51.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:12:50.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/062e862ff79ec3b14d367df4e5aab0d49a89aece', 'message': 'Update reno for stable/newton\n\nChange-Id: Icdf2af18b1a3bb23e8853bbfbd199aa8eac95b87\n'}]",0,547572,062e862ff79ec3b14d367df4e5aab0d49a89aece,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: Icdf2af18b1a3bb23e8853bbfbd199aa8eac95b87
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/547572/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,062e862ff79ec3b14d367df4e5aab0d49a89aece,reno-newton, newton,,2,1
openstack%2Fhorizon~master~If08e0fbdbc7ab18ea6ed6a127b9aab3a96c8da80,openstack/horizon,master,If08e0fbdbc7ab18ea6ed6a127b9aab3a96c8da80,Update reno for stable/newton,ABANDONED,2018-02-23 18:15:01.000000000,2018-02-23 18:56:46.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:15:01.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c5558e0af0f295647a2e31a6cb0e7c4e0ac4d233', 'message': 'Update reno for stable/newton\n\nChange-Id: If08e0fbdbc7ab18ea6ed6a127b9aab3a96c8da80\n'}]",0,547575,c5558e0af0f295647a2e31a6cb0e7c4e0ac4d233,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: If08e0fbdbc7ab18ea6ed6a127b9aab3a96c8da80
",git fetch https://review.opendev.org/openstack/horizon refs/changes/75/547575/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,c5558e0af0f295647a2e31a6cb0e7c4e0ac4d233,reno-newton, newton,,2,1
openstack%2Fironic-inspector~master~Iae5cc1f3a198c432e75c3b3c21dbb63f0948d440,openstack/ironic-inspector,master,Iae5cc1f3a198c432e75c3b3c21dbb63f0948d440,Update reno for stable/newton,ABANDONED,2018-02-23 18:15:55.000000000,2018-02-23 18:56:41.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:15:55.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/89ae55f2e4d9ec9e9ddb9a655edcb81337125f8c', 'message': 'Update reno for stable/newton\n\nChange-Id: Iae5cc1f3a198c432e75c3b3c21dbb63f0948d440\n'}]",0,547579,89ae55f2e4d9ec9e9ddb9a655edcb81337125f8c,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: Iae5cc1f3a198c432e75c3b3c21dbb63f0948d440
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/79/547579/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,89ae55f2e4d9ec9e9ddb9a655edcb81337125f8c,reno-newton, newton,,5,4
openstack%2Fironic-python-agent~master~I30af2fb71d97ec61dc42b2fc4263a950ae87a2bc,openstack/ironic-python-agent,master,I30af2fb71d97ec61dc42b2fc4263a950ae87a2bc,Update reno for stable/newton,ABANDONED,2018-02-23 18:16:44.000000000,2018-02-23 18:56:36.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:16:44.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/104fb7b17ced5dab071310d2474f93ee4108cf84', 'message': 'Update reno for stable/newton\n\nChange-Id: I30af2fb71d97ec61dc42b2fc4263a950ae87a2bc\n'}]",0,547584,104fb7b17ced5dab071310d2474f93ee4108cf84,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I30af2fb71d97ec61dc42b2fc4263a950ae87a2bc
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/84/547584/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,104fb7b17ced5dab071310d2474f93ee4108cf84,reno-newton, newton,,5,4
openstack%2Fironic-ui~master~Ice835b7df469f6c75715fff12d7bab660e6256b7,openstack/ironic-ui,master,Ice835b7df469f6c75715fff12d7bab660e6256b7,Update reno for stable/newton,ABANDONED,2018-02-23 18:17:01.000000000,2018-02-23 18:56:31.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:17:01.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/8d441c088eab2f97e1cc5704ffc9476a15346652', 'message': 'Update reno for stable/newton\n\nChange-Id: Ice835b7df469f6c75715fff12d7bab660e6256b7\n'}]",0,547587,8d441c088eab2f97e1cc5704ffc9476a15346652,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: Ice835b7df469f6c75715fff12d7bab660e6256b7
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/87/547587/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,8d441c088eab2f97e1cc5704ffc9476a15346652,reno-newton, newton,,5,4
openstack%2Fkeystone~master~I9b16953e55b2466c07fd9165c7087c91ab5e991b,openstack/keystone,master,I9b16953e55b2466c07fd9165c7087c91ab5e991b,Update reno for stable/newton,ABANDONED,2018-02-23 18:20:55.000000000,2018-02-23 18:56:27.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:20:55.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0754d95585f6dcd4646479a3dd4aee24fbdeaf2e', 'message': 'Update reno for stable/newton\n\nChange-Id: I9b16953e55b2466c07fd9165c7087c91ab5e991b\n'}]",0,547593,0754d95585f6dcd4646479a3dd4aee24fbdeaf2e,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I9b16953e55b2466c07fd9165c7087c91ab5e991b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/93/547593/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,0754d95585f6dcd4646479a3dd4aee24fbdeaf2e,reno-newton, newton,,2,1
openstack%2Fkeystoneauth~master~I6d03d1025ae8ead383a057a50199625a6b9af924,openstack/keystoneauth,master,I6d03d1025ae8ead383a057a50199625a6b9af924,Update reno for stable/newton,ABANDONED,2018-02-23 18:21:18.000000000,2018-02-23 18:56:22.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:21:18.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/827f45d3f83622ffb63155e7aba8492da868a854', 'message': 'Update reno for stable/newton\n\nChange-Id: I6d03d1025ae8ead383a057a50199625a6b9af924\n'}]",0,547595,827f45d3f83622ffb63155e7aba8492da868a854,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I6d03d1025ae8ead383a057a50199625a6b9af924
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/95/547595/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,827f45d3f83622ffb63155e7aba8492da868a854,reno-newton, newton,,4,3
openstack%2Fkeystonemiddleware~master~I605454564187d3796b4a06361735a62176ed535c,openstack/keystonemiddleware,master,I605454564187d3796b4a06361735a62176ed535c,Update reno for stable/newton,ABANDONED,2018-02-23 18:21:37.000000000,2018-02-23 18:56:18.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:21:37.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ed02fc23c1c23179adfbf361d7f359dd7b735472', 'message': 'Update reno for stable/newton\n\nChange-Id: I605454564187d3796b4a06361735a62176ed535c\n'}]",0,547597,ed02fc23c1c23179adfbf361d7f359dd7b735472,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I605454564187d3796b4a06361735a62176ed535c
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/97/547597/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,ed02fc23c1c23179adfbf361d7f359dd7b735472,reno-newton, newton,,4,3
openstack%2Fkolla~master~I32a57d0a2f69bf55af8b150ff1803d8092bd68ca,openstack/kolla,master,I32a57d0a2f69bf55af8b150ff1803d8092bd68ca,Update reno for stable/newton,ABANDONED,2018-02-23 18:22:30.000000000,2018-02-23 18:56:13.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:22:30.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/25d1fde0f4928de5c604fa93d35615dff777bc08', 'message': 'Update reno for stable/newton\n\nChange-Id: I32a57d0a2f69bf55af8b150ff1803d8092bd68ca\n'}]",0,547599,25d1fde0f4928de5c604fa93d35615dff777bc08,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I32a57d0a2f69bf55af8b150ff1803d8092bd68ca
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/547599/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,25d1fde0f4928de5c604fa93d35615dff777bc08,reno-newton, newton,,5,4
openstack%2Fmagnum~master~I48c96399c7423c3c30dc6e37659ace4432a48ba9,openstack/magnum,master,I48c96399c7423c3c30dc6e37659ace4432a48ba9,Update reno for stable/newton,ABANDONED,2018-02-23 18:23:43.000000000,2018-02-23 18:56:07.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:23:43.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/74b0104315e80e9fdd53b4dd9231cd236985e162', 'message': 'Update reno for stable/newton\n\nChange-Id: I48c96399c7423c3c30dc6e37659ace4432a48ba9\n'}]",0,547604,74b0104315e80e9fdd53b4dd9231cd236985e162,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I48c96399c7423c3c30dc6e37659ace4432a48ba9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/547604/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,74b0104315e80e9fdd53b4dd9231cd236985e162,reno-newton, newton,,2,1
openstack%2Fmanila-ui~master~Ibc342e40b160ea88df43188708bbe317cb23bdf6,openstack/manila-ui,master,Ibc342e40b160ea88df43188708bbe317cb23bdf6,Update reno for stable/newton,ABANDONED,2018-02-23 18:24:04.000000000,2018-02-23 18:56:02.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:24:04.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/cc3fbad946715f9c97223cfadfb324a4b0dc75b2', 'message': 'Update reno for stable/newton\n\nChange-Id: Ibc342e40b160ea88df43188708bbe317cb23bdf6\n'}]",0,547608,cc3fbad946715f9c97223cfadfb324a4b0dc75b2,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: Ibc342e40b160ea88df43188708bbe317cb23bdf6
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/08/547608/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,cc3fbad946715f9c97223cfadfb324a4b0dc75b2,reno-newton, newton,,2,1
openstack%2Fmanila~master~I048a751d3ac233bed7989df542b158a2f24dd79b,openstack/manila,master,I048a751d3ac233bed7989df542b158a2f24dd79b,Update reno for stable/newton,ABANDONED,2018-02-23 18:24:51.000000000,2018-02-23 18:55:53.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:24:51.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/417e41b590a8399c9bac7305511e7832803c903c', 'message': 'Update reno for stable/newton\n\nChange-Id: I048a751d3ac233bed7989df542b158a2f24dd79b\n'}]",0,547611,417e41b590a8399c9bac7305511e7832803c903c,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I048a751d3ac233bed7989df542b158a2f24dd79b
",git fetch https://review.opendev.org/openstack/manila refs/changes/11/547611/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,417e41b590a8399c9bac7305511e7832803c903c,reno-newton, newton,,2,1
openstack%2Fmistral~master~I3e43697c3085798987722b6c1a25d5caa518d90d,openstack/mistral,master,I3e43697c3085798987722b6c1a25d5caa518d90d,Update reno for stable/newton,ABANDONED,2018-02-23 18:25:42.000000000,2018-02-23 18:55:46.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:25:42.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/548bf34311972db1e7bcc0f70ce3254be173414a', 'message': 'Update reno for stable/newton\n\nChange-Id: I3e43697c3085798987722b6c1a25d5caa518d90d\n'}]",0,547615,548bf34311972db1e7bcc0f70ce3254be173414a,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I3e43697c3085798987722b6c1a25d5caa518d90d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/15/547615/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,548bf34311972db1e7bcc0f70ce3254be173414a,reno-newton, newton,,2,2
openstack%2Fbifrost~master~I3f0ab33182ad138ba5110a5c2d3a9f7f36f2939e,openstack/bifrost,master,I3f0ab33182ad138ba5110a5c2d3a9f7f36f2939e,Update reno for stable/newton,ABANDONED,2018-02-23 18:03:14.000000000,2018-02-23 18:55:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 22474}]","[{'number': 1, 'created': '2018-02-23 18:03:14.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9c9f8738f1adcddefc397e3946a63a3664df5191', 'message': 'Update reno for stable/newton\n\nChange-Id: I3f0ab33182ad138ba5110a5c2d3a9f7f36f2939e\n'}]",0,547538,9c9f8738f1adcddefc397e3946a63a3664df5191,4,2,1,22816,,,0,"Update reno for stable/newton

Change-Id: I3f0ab33182ad138ba5110a5c2d3a9f7f36f2939e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/547538/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,9c9f8738f1adcddefc397e3946a63a3664df5191,reno-newton, newton,,5,4
openstack%2Fmurano-agent~master~I38777c4d9343dc96d635a4dccd698fc3f6cc4aaa,openstack/murano-agent,master,I38777c4d9343dc96d635a4dccd698fc3f6cc4aaa,Update reno for stable/newton,ABANDONED,2018-02-23 18:28:44.000000000,2018-02-23 18:55:36.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:28:44.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/2b17f9fc3e8635f8325dc3afcca6dbea28d58991', 'message': 'Update reno for stable/newton\n\nChange-Id: I38777c4d9343dc96d635a4dccd698fc3f6cc4aaa\n'}]",0,547635,2b17f9fc3e8635f8325dc3afcca6dbea28d58991,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I38777c4d9343dc96d635a4dccd698fc3f6cc4aaa
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/35/547635/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,2b17f9fc3e8635f8325dc3afcca6dbea28d58991,reno-newton, newton,,2,1
openstack%2Fmurano-dashboard~master~I99d98ca2ce93723d9fb1ee2880d663e677af23e2,openstack/murano-dashboard,master,I99d98ca2ce93723d9fb1ee2880d663e677af23e2,Update reno for stable/newton,ABANDONED,2018-02-23 18:29:07.000000000,2018-02-23 18:55:31.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:29:07.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f03a606a265b2db9be6e928fdec3bce90c4bef6e', 'message': 'Update reno for stable/newton\n\nChange-Id: I99d98ca2ce93723d9fb1ee2880d663e677af23e2\n'}]",0,547638,f03a606a265b2db9be6e928fdec3bce90c4bef6e,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I99d98ca2ce93723d9fb1ee2880d663e677af23e2
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/38/547638/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,f03a606a265b2db9be6e928fdec3bce90c4bef6e,reno-newton, newton,,2,1
openstack%2Fmurano~master~I9a1615fca1ce14594a29becb7cd430f7750a019a,openstack/murano,master,I9a1615fca1ce14594a29becb7cd430f7750a019a,Update reno for stable/newton,ABANDONED,2018-02-23 18:29:34.000000000,2018-02-23 18:55:24.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:29:34.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/c841d9e269e0f75b63bd5b1a020a6ba996f4d830', 'message': 'Update reno for stable/newton\n\nChange-Id: I9a1615fca1ce14594a29becb7cd430f7750a019a\n'}]",0,547641,c841d9e269e0f75b63bd5b1a020a6ba996f4d830,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: I9a1615fca1ce14594a29becb7cd430f7750a019a
",git fetch https://review.opendev.org/openstack/murano refs/changes/41/547641/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,c841d9e269e0f75b63bd5b1a020a6ba996f4d830,reno-newton, newton,,2,1
openstack%2Fnetworking-ovn~master~Id906b959f20087ecd75ba1e59bbc93923a774714,openstack/networking-ovn,master,Id906b959f20087ecd75ba1e59bbc93923a774714,Update reno for stable/newton,ABANDONED,2018-02-23 18:30:13.000000000,2018-02-23 18:55:16.000000000,,[],"[{'number': 1, 'created': '2018-02-23 18:30:13.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/30c45a3ff47b9aa8b4eb4931d948ec7313379b68', 'message': 'Update reno for stable/newton\n\nChange-Id: Id906b959f20087ecd75ba1e59bbc93923a774714\n'}]",0,547644,30c45a3ff47b9aa8b4eb4931d948ec7313379b68,2,0,1,22816,,,0,"Update reno for stable/newton

Change-Id: Id906b959f20087ecd75ba1e59bbc93923a774714
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/44/547644/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,30c45a3ff47b9aa8b4eb4931d948ec7313379b68,reno-newton, newton,,2,1
openstack%2Fcongress~master~I5e9cda660b8c50fea2ff83a8fe59032d22736519,openstack/congress,master,I5e9cda660b8c50fea2ff83a8fe59032d22736519,Update reno for stable/newton,ABANDONED,2018-02-23 18:05:26.000000000,2018-02-23 18:55:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:05:26.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/bfada76a51a82fce3535f307cc7a8bb89ab4b8c6', 'message': 'Update reno for stable/newton\n\nChange-Id: I5e9cda660b8c50fea2ff83a8fe59032d22736519\n'}]",0,547548,bfada76a51a82fce3535f307cc7a8bb89ab4b8c6,3,1,1,22816,,,0,"Update reno for stable/newton

Change-Id: I5e9cda660b8c50fea2ff83a8fe59032d22736519
",git fetch https://review.opendev.org/openstack/congress refs/changes/48/547548/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,bfada76a51a82fce3535f307cc7a8bb89ab4b8c6,reno-newton, newton,,2,1
openstack%2Fironic~master~I9bf7a6da46c6495b0fd67c2152e9927de0a3c972,openstack/ironic,master,I9bf7a6da46c6495b0fd67c2152e9927de0a3c972,Update reno for stable/newton,ABANDONED,2018-02-23 18:19:10.000000000,2018-02-23 18:55:03.000000000,,"[{'_account_id': 14208}, {'_account_id': 14629}]","[{'number': 1, 'created': '2018-02-23 18:19:10.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/16e2df264e26a915fbe53ddc01cde7aea9ead759', 'message': 'Update reno for stable/newton\n\nChange-Id: I9bf7a6da46c6495b0fd67c2152e9927de0a3c972\n'}]",0,547590,16e2df264e26a915fbe53ddc01cde7aea9ead759,4,2,1,22816,,,0,"Update reno for stable/newton

Change-Id: I9bf7a6da46c6495b0fd67c2152e9927de0a3c972
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/547590/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,16e2df264e26a915fbe53ddc01cde7aea9ead759,reno-newton, newton,,5,5
openstack%2Fdesignate~master~I387baccd2fa831ac981c1c1235faa6e557fd9488,openstack/designate,master,I387baccd2fa831ac981c1c1235faa6e557fd9488,Update reno for stable/newton,ABANDONED,2018-02-23 18:06:20.000000000,2018-02-23 18:54:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 18:06:20.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/370c23bdc8dc964f6dce3d163c82e53b491850a3', 'message': 'Update reno for stable/newton\n\nChange-Id: I387baccd2fa831ac981c1c1235faa6e557fd9488\n'}]",0,547553,370c23bdc8dc964f6dce3d163c82e53b491850a3,3,1,1,22816,,,0,"Update reno for stable/newton

Change-Id: I387baccd2fa831ac981c1c1235faa6e557fd9488
",git fetch https://review.opendev.org/openstack/designate refs/changes/53/547553/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/index.rst']",2,370c23bdc8dc964f6dce3d163c82e53b491850a3,reno-newton, newton,,2,1
openstack%2Fcinder~stable%2Fnewton~If7c888ae093e521280713e3d6b63ec1fb6d9d85c,openstack/cinder,stable/newton,If7c888ae093e521280713e3d6b63ec1fb6d9d85c,Update UPPER_CONSTRAINTS_FILE for stable/newton,ABANDONED,2018-02-23 18:04:21.000000000,2018-02-23 18:54:21.000000000,,"[{'_account_id': 21863}, {'_account_id': 22126}]","[{'number': 1, 'created': '2018-02-23 18:04:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c7309c2818b1cb8ea9ce9c1e7255e80040e6ab0', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/newton\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: If7c888ae093e521280713e3d6b63ec1fb6d9d85c\n""}]",0,547543,6c7309c2818b1cb8ea9ce9c1e7255e80040e6ab0,4,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/newton

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: If7c888ae093e521280713e3d6b63ec1fb6d9d85c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/547543/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6c7309c2818b1cb8ea9ce9c1e7255e80040e6ab0,create-newton,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fcinder~stable%2Fnewton~I10fb261cd0bce9efed122c09e73c4a00b429f88c,openstack/cinder,stable/newton,I10fb261cd0bce9efed122c09e73c4a00b429f88c,Update .gitreview for stable/newton,ABANDONED,2018-02-23 18:04:16.000000000,2018-02-23 18:54:06.000000000,,"[{'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}]","[{'number': 1, 'created': '2018-02-23 18:04:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d6a30480f02512d7a2e5e17505192a30138ff86', 'message': 'Update .gitreview for stable/newton\n\nChange-Id: I10fb261cd0bce9efed122c09e73c4a00b429f88c\n'}]",0,547542,2d6a30480f02512d7a2e5e17505192a30138ff86,5,3,1,22816,,,0,"Update .gitreview for stable/newton

Change-Id: I10fb261cd0bce9efed122c09e73c4a00b429f88c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/547542/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2d6a30480f02512d7a2e5e17505192a30138ff86,create-newton,defaultbranch=stable/newton,,1,0
openstack%2Fceilometer~master~I9603f587f4e19bb9775a0702709dc59d9360655a,openstack/ceilometer,master,I9603f587f4e19bb9775a0702709dc59d9360655a,Imported Translations from Zanata,MERGED,2018-02-08 06:34:40.000000000,2018-02-23 18:44:21.000000000,2018-02-23 18:44:21.000000000,"[{'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 06:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/08ac98a8f7b8f0ed8b5105828580c8b5fef9f72c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9603f587f4e19bb9775a0702709dc59d9360655a\n'}, {'number': 2, 'created': '2018-02-09 06:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d1b7d93c02452e8491db2a80a097fc277e96f5dc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9603f587f4e19bb9775a0702709dc59d9360655a\n'}, {'number': 3, 'created': '2018-02-10 06:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ece4ad3c364c7bc93f2705c43f5ecbb9f3384a7b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9603f587f4e19bb9775a0702709dc59d9360655a\n'}, {'number': 4, 'created': '2018-02-15 07:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/51da756958d3ba258fb5335d0cb2b4e1d2b384b3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9603f587f4e19bb9775a0702709dc59d9360655a\n'}, {'number': 5, 'created': '2018-02-17 07:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ff8f9b63bb89b63f610a62ddb1bcecd3c8918cb3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9603f587f4e19bb9775a0702709dc59d9360655a\n'}, {'number': 6, 'created': '2018-02-23 07:44:05.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/133030d2727a221341a81573b27bafb07ca20fa2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9603f587f4e19bb9775a0702709dc59d9360655a\n'}]",0,542043,133030d2727a221341a81573b27bafb07ca20fa2,16,2,6,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9603f587f4e19bb9775a0702709dc59d9360655a
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/43/542043/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,08ac98a8f7b8f0ed8b5105828580c8b5fef9f72c,zanata/translations,"""POT-Creation-Date: 2018-02-07 21:39+0000\n""""PO-Revision-Date: 2018-02-08 12:18+0000\n""msgid ""9.0.0-203"" msgstr ""9.0.0-203""""Add hardware.disk.read.* and hardware.disk.write.* metrics to capture diskio "" ""details."" msgstr """" ""Add hardware.disk.read.* and hardware.disk.write.* metrics to capture diskio "" ""details."" msgid """"""Add support to capture volume capacity usage details from cinder. This data "" ""is extracted from notifications sent by Cinder starting in Ocata."" msgstr """" ""Add support to capture volume capacity usage details from Cinder. This data "" ""is extracted from notifications sent by Cinder starting in Ocata."" msgid """"","""POT-Creation-Date: 2018-02-05 18:54+0000\n""""PO-Revision-Date: 2018-02-06 01:12+0000\n""msgid ""9.0.0-197"" msgstr ""9.0.0-197""",18,4
openstack%2Faodh~master~I6458b169dd15ef6111f152bf465e3433d9c61494,openstack/aodh,master,I6458b169dd15ef6111f152bf465e3433d9c61494,Imported Translations from Zanata,MERGED,2018-02-23 06:31:57.000000000,2018-02-23 18:44:18.000000000,2018-02-23 18:44:17.000000000,"[{'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 06:31:57.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/3fbadf165b27649e0e5f9758c3d64457dd664a3f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6458b169dd15ef6111f152bf465e3433d9c61494\n'}]",0,547292,3fbadf165b27649e0e5f9758c3d64457dd664a3f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6458b169dd15ef6111f152bf465e3433d9c61494
",git fetch https://review.opendev.org/openstack/aodh refs/changes/92/547292/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,3fbadf165b27649e0e5f9758c3d64457dd664a3f,zanata/translations,"""POT-Creation-Date: 2018-02-22 14:40+0000\n""""PO-Revision-Date: 2018-02-22 05:14+0000\n""msgid ""6.0.0"" msgstr ""6.0.0"" msgid ""Queens Series Release Notes"" msgstr ""Queens Series Release Notes"" ","""POT-Creation-Date: 2018-02-21 20:49+0000\n""""PO-Revision-Date: 2018-01-22 12:16+0000\n""",8,2
openstack%2Fopenstack-helm~master~Ifadb473043b51ccc10405886ae7a0954ce119a22,openstack/openstack-helm,master,Ifadb473043b51ccc10405886ae7a0954ce119a22,Postgresql: Update chart to match current OSH format,MERGED,2018-02-23 03:23:59.000000000,2018-02-23 18:44:13.000000000,2018-02-23 18:44:13.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 03:23:59.000000000', 'files': ['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/service.yaml', 'postgresql/templates/secret-admin.yaml', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'postgresql/templates/bin/_readiness.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33f03ef828091216fa5b1980554659d15bb2abc4', 'message': 'Postgresql: Update chart to match current OSH format\n\nThis PS updates the Postgresql chart to match the current OSH\nformat.\n\nChange-Id: Ifadb473043b51ccc10405886ae7a0954ce119a22\n'}]",0,547252,33f03ef828091216fa5b1980554659d15bb2abc4,7,3,1,23928,,,0,"Postgresql: Update chart to match current OSH format

This PS updates the Postgresql chart to match the current OSH
format.

Change-Id: Ifadb473043b51ccc10405886ae7a0954ce119a22
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/52/547252/1 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/service.yaml', 'postgresql/templates/secret-admin.yaml', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'postgresql/templates/bin/_readiness.sh.tpl']",7,33f03ef828091216fa5b1980554659d15bb2abc4,fix/bootstrap-jobs,"#!/usr/bin/env bash {{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex pg_isready -U ${POSTGRES_USER} ",,115,25
openstack%2Ftripleo-heat-templates~master~I8490d61e2e9939dde8d18dfb11704b4f95dabe8d,openstack/tripleo-heat-templates,master,I8490d61e2e9939dde8d18dfb11704b4f95dabe8d,"Adding support for ComputeLiquidio role in Network jinja file. Since Liquidio compute nodes contain Liquidio smart NIC, tenant network ip is assigned in the smart NIC instead of Compute node.",MERGED,2018-02-19 14:00:52.000000000,2018-02-23 18:44:10.000000000,2018-02-23 18:44:10.000000000,"[{'_account_id': 4328}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 14538}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-19 14:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d957c1140a3d1ba15bd61f2e74b0ed60bab035f0', 'message': 'Adding support for ComputeLiquidio role in Network jinja file.\nSince Liquidio compute nodes contain Liquidio smart NIC, tenant\nand external network ips are assigned in the smart NIC instead\nof Compute node.\n\nCloses-Bug: 1750369\n\nChange-Id: I8490d61e2e9939dde8d18dfb11704b4f95dabe8d\n'}, {'number': 2, 'created': '2018-02-20 12:14:05.000000000', 'files': ['network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'roles/README.rst', 'roles/ComputeLiquidio.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/863c79890b5828bf2929c49cc411f448fe24e234', 'message': 'Adding support for ComputeLiquidio role in Network jinja file.\nSince Liquidio compute nodes contain Liquidio smart NIC, tenant\nnetwork ip is assigned in the smart NIC instead of Compute node.\n\nCloses-Bug: 1750369\nDepends-On: Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357\n\nChange-Id: I8490d61e2e9939dde8d18dfb11704b4f95dabe8d\n'}]",5,545837,863c79890b5828bf2929c49cc411f448fe24e234,33,8,2,14538,,,0,"Adding support for ComputeLiquidio role in Network jinja file.
Since Liquidio compute nodes contain Liquidio smart NIC, tenant
network ip is assigned in the smart NIC instead of Compute node.

Closes-Bug: 1750369
Depends-On: Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357

Change-Id: I8490d61e2e9939dde8d18dfb11704b4f95dabe8d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/545837/2 && git format-patch -1 --stdout FETCH_HEAD,['network/config/multiple-nics/role.role.j2.yaml'],1,d957c1140a3d1ba15bd61f2e74b0ed60bab035f0,bug/1750369,{%- elif (network.name in role.networks or role.name == 'Networker') and (role.name != 'ComputeLiquidio') %} get_resource: OsNetConfigImpl ,{%- elif network.name in role.networks or role.name == 'Networker' %} get_resource: OsNetConfigImpl,2,2
openstack%2Fneutron~stable%2Focata~I95ef906c014f9eda68f1eada4e183ed675c0e85f,openstack/neutron,stable/ocata,I95ef906c014f9eda68f1eada4e183ed675c0e85f,Stop running grenade in Ocata,MERGED,2018-02-22 03:37:19.000000000,2018-02-23 18:44:07.000000000,2018-02-23 18:44:06.000000000,"[{'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 03:37:19.000000000', 'files': ['playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml', 'playbooks/legacy/neutron-grenade/run.yaml', 'playbooks/legacy/neutron-grenade-multinode/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-grenade-dvr-multinode/post.yaml', 'playbooks/legacy/neutron-grenade-multinode/post.yaml', 'playbooks/legacy/neutron-grenade/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/215ad4ab5b5179f029405836954a30a83de75b4e', 'message': ""Stop running grenade in Ocata\n\nSince newton is end of life, we can't run grenade\non ocata changes since there is no newton branch from\nwhich to start the grenade run.\n\nChange-Id: I95ef906c014f9eda68f1eada4e183ed675c0e85f\n""}]",0,546857,215ad4ab5b5179f029405836954a30a83de75b4e,17,8,1,6873,,,0,"Stop running grenade in Ocata

Since newton is end of life, we can't run grenade
on ocata changes since there is no newton branch from
which to start the grenade run.

Change-Id: I95ef906c014f9eda68f1eada4e183ed675c0e85f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/546857/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-grenade-dvr-multinode/run.yaml', 'playbooks/legacy/neutron-grenade/run.yaml', 'playbooks/legacy/neutron-grenade-multinode/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-grenade-dvr-multinode/post.yaml', 'playbooks/legacy/neutron-grenade-multinode/post.yaml', 'playbooks/legacy/neutron-grenade/post.yaml']",7,215ad4ab5b5179f029405836954a30a83de75b4e,neutron-grenade-ocata,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,267
openstack%2Fopenstack-helm~master~I5f8802b662f7aac9f7a72d91e4d3aa2206099c92,openstack/openstack-helm,master,I5f8802b662f7aac9f7a72d91e4d3aa2206099c92,Etcd: update chart to match current format,MERGED,2018-02-23 02:53:08.000000000,2018-02-23 18:20:57.000000000,2018-02-23 18:20:57.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-23 02:53:08.000000000', 'files': ['etcd/templates/service.yaml', 'etcd/templates/configmap-bin.yaml', 'etcd/templates/bin/_etcd.sh.tpl', 'etcd/values.yaml', 'etcd/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2dcaa1421df659f60c0a76b341397f4a82f5c11a', 'message': 'Etcd: update chart to match current format\n\nThis PS spring cleans the etcd chart to match the current format\nused in OSH.\n\nChange-Id: I5f8802b662f7aac9f7a72d91e4d3aa2206099c92\n'}]",0,547242,2dcaa1421df659f60c0a76b341397f4a82f5c11a,9,4,1,23928,,,0,"Etcd: update chart to match current format

This PS spring cleans the etcd chart to match the current format
used in OSH.

Change-Id: I5f8802b662f7aac9f7a72d91e4d3aa2206099c92
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/547242/1 && git format-patch -1 --stdout FETCH_HEAD,"['etcd/templates/service.yaml', 'etcd/templates/configmap-bin.yaml', 'etcd/templates/bin/_etcd.sh.tpl', 'etcd/values.yaml', 'etcd/templates/deployment.yaml']",5,2dcaa1421df659f60c0a76b341397f4a82f5c11a,fix/bootstrap-jobs,"{{- if .Values.manifests.deployment }}{{- $rcControllerName := printf ""%s-%s"" $envAll.Release.Name ""etcd"" }} {{- $configMapBinName := printf ""%s-%s"" $envAll.Release.Name ""etcd-bin"" }} {{ tuple $envAll $dependencies $rcControllerName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} name: {{ $rcControllerName | quote }} serviceAccountName: {{ $rcControllerName | quote }} - /tmp/etcd.sh ports: - containerPort: {{ tuple ""etcd"" ""internal"" ""client"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} port: {{ tuple ""etcd"" ""internal"" ""client"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} volumeMounts: - name: etcd-bin mountPath: /tmp/etcd.sh subPath: etcd.sh readOnly: true volumes: - name: etcd-bin configMap: name: {{ $configMapBinName | quote }} defaultMode: 0555 {{- end }}","{{- $serviceAccountName := ""etcd"" }} {{ tuple $envAll $dependencies $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} name: etcd serviceAccountName: {{ $serviceAccountName }} - etcd - --listen-client-urls - http://0.0.0.0:{{ .Values.network.port }} - --advertise-client-urls - http://{{ .Values.network.host }}:{{ .Values.network.port }} ports: - containerPort: {{ .Values.network.port }} port: {{ .Values.network.port }}",103,22
openstack%2Ftempest~master~I90dfc15765057f876ebaf66abf5af24de0f675b9,openstack/tempest,master,I90dfc15765057f876ebaf66abf5af24de0f675b9,Cleanup selection list args in tempest run,MERGED,2018-02-22 18:51:36.000000000,2018-02-23 18:12:25.000000000,2018-02-23 12:08:26.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5690}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-22 18:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a4d4d745623112d0ae4380671b800d4829e22310', 'message': ""Cleanup selection list args in tempest run\n\nThe selection list arguments had a mutually exclusive flag set for no\nreason. There previously was a limitation in how the flags were used\npreviously which made those flags mutually exclusive, however that\nhasn't been the case for some time. At the same time the docs on\nselection needed to be updated, because they showed incorrect internal\ndetails (even prior to the stestr migration) for the blacklist file.\nInstead of trying to detail the entire explanation, it now just links\nto the stestr docs.\n\nChange-Id: I90dfc15765057f876ebaf66abf5af24de0f675b9\n""}, {'number': 2, 'created': '2018-02-22 21:01:14.000000000', 'files': ['tempest/cmd/run.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e97aae8295c030830be72fa93112f8a27751c41', 'message': ""Cleanup selection list args in tempest run\n\nThe selection list arguments had a mutually exclusive flag set for no\nreason. There previously was a limitation in how the flags were used\npreviously which made those flags mutually exclusive, however that\nhasn't been the case for some time. At the same time the docs on\nselection needed to be updated, because they showed incorrect internal\ndetails (even prior to the stestr migration) for the blacklist file.\nInstead of trying to detail the entire explanation, it now just links\nto the stestr docs.\n\nChange-Id: I90dfc15765057f876ebaf66abf5af24de0f675b9\n""}]",0,547105,3e97aae8295c030830be72fa93112f8a27751c41,25,11,2,5196,,,0,"Cleanup selection list args in tempest run

The selection list arguments had a mutually exclusive flag set for no
reason. There previously was a limitation in how the flags were used
previously which made those flags mutually exclusive, however that
hasn't been the case for some time. At the same time the docs on
selection needed to be updated, because they showed incorrect internal
details (even prior to the stestr migration) for the blacklist file.
Instead of trying to detail the entire explanation, it now just links
to the stestr docs.

Change-Id: I90dfc15765057f876ebaf66abf5af24de0f675b9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/547105/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/run.py'],1,a4d4d745623112d0ae4380671b800d4829e22310,fix-tempest-run,"These arguments are just passed into stestr, you can refer to the stestr selection docs for more details on how these operate: http://stestr.readthedocs.io/en/latest/MANUAL.html#test-selection parser.add_argument('--whitelist-file', '--whitelist_file', help=""Path to a whitelist file, this file "" ""contains a separate regex on each "" ""newline."") parser.add_argument('--blacklist-file', '--blacklist_file', help='Path to a blacklist file, this file ' 'contains a separate regex exclude on ' 'each newline') parser.add_argument('--load-list', '--load_list', help='Path to a non-regex whitelist file, ' 'this file contains a seperate test ' 'on each newline. This command' 'supports files created by the tempest' 'run ``--list-tests`` command')","The blacklist file will be used to construct a negative lookahead regex and the whitelist file will simply OR all the regexes in the file. The whitelist and blacklist file options are mutually exclusive so you can't use them together. However, you can combine either with a normal regex or the *--smoke* flag. When used with a blacklist file the generated regex will be combined to something like:: ^((?!black_regex1|black_regex2).)*$cli_regex1 When combined with a whitelist file all the regexes from the file and the CLI regexes will be ORed. list_selector = parser.add_mutually_exclusive_group() list_selector.add_argument('--whitelist-file', '--whitelist_file', help=""Path to a whitelist file, this file "" ""contains a separate regex on each "" ""newline."") list_selector.add_argument('--blacklist-file', '--blacklist_file', help='Path to a blacklist file, this file ' 'contains a separate regex exclude on ' 'each newline') list_selector.add_argument('--load-list', '--load_list', help='Path to a non-regex whitelist file, ' 'this file contains a seperate test ' 'on each newline. This command' 'supports files created by the tempest' 'run ``--list-tests`` command')",17,26
openstack%2Fproject-config~master~I6f4abd133abdf8a922e165d2de9c1144ff659fbb,openstack/project-config,master,I6f4abd133abdf8a922e165d2de9c1144ff659fbb,Increase openstack-manuals publish timeout,MERGED,2018-02-23 17:38:25.000000000,2018-02-23 18:06:00.000000000,2018-02-23 18:05:59.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 17:38:25.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8b94b34f5045bf78e22850773d9a3f84d95fb171', 'message': 'Increase openstack-manuals publish timeout\n\nThe AFS sync can take 20+ minutes and sometimes times out - increase to\n1h.\n\nChange-Id: I6f4abd133abdf8a922e165d2de9c1144ff659fbb\n'}]",0,547525,8b94b34f5045bf78e22850773d9a3f84d95fb171,7,3,1,6547,,,0,"Increase openstack-manuals publish timeout

The AFS sync can take 20+ minutes and sometimes times out - increase to
1h.

Change-Id: I6f4abd133abdf8a922e165d2de9c1144ff659fbb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/547525/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,8b94b34f5045bf78e22850773d9a3f84d95fb171,docs-timeout, # Syncing to AFS can take longer than default 30 mins post-timeout: 3600,,2,0
openstack%2Ftripleo-common~master~Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357,openstack/tripleo-common,master,Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357,Added networks_skip_config parameter to the roles file,MERGED,2018-02-20 11:38:00.000000000,2018-02-23 17:59:54.000000000,2018-02-23 17:59:54.000000000,"[{'_account_id': 4328}, {'_account_id': 10873}, {'_account_id': 14538}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-02-20 11:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/30d4020052753bb8777c8bf60015abbfdad9c8ea', 'message': 'Added networks_skip_config parameter to the roles file. Networks\nunder this parameter would be left out while configuring the nodes\n\nChange-Id: Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357\nCloses-Bug: 1750369\n'}, {'number': 2, 'created': '2018-02-20 15:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9739cdaaef21e3d3e6b8a167cbe19c2f3501012', 'message': 'Added networks_skip_config parameter to the roles file. Networks\nunder this parameter would be left out while configuring the nodes\n\nChange-Id: Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357\nCloses-Bug: 1750369\n'}, {'number': 3, 'created': '2018-02-21 11:27:40.000000000', 'files': ['tripleo_common/utils/roles.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ffbe41a06e3c9a82df2b3b190b78d7202b6bbbba', 'message': 'Added networks_skip_config parameter to the roles file\n\nFor networks under this parameter ports would be created,\nbut configuration would be skipped for the nodes with the\nrole.\n\nChange-Id: Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357\nCloses-Bug: 1750369\n'}]",0,546125,ffbe41a06e3c9a82df2b3b190b78d7202b6bbbba,24,8,3,14538,,,0,"Added networks_skip_config parameter to the roles file

For networks under this parameter ports would be created,
but configuration would be skipped for the nodes with the
role.

Change-Id: Icb41f17cea2e0b22b3eb7f2a3bce0845a6b03357
Closes-Bug: 1750369
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/546125/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/roles.py'],1,30d4020052753bb8777c8bf60015abbfdad9c8ea,bug/1750369," 'networks_skip_config': {'type':list},",,1,0
openstack%2Fheat~master~Ia613e79dc9757c4594b84ed2105bfc1357d1e037,openstack/heat,master,Ia613e79dc9757c4594b84ed2105bfc1357d1e037,Always use string ID for WaitConditionHandle signals,MERGED,2018-02-10 01:20:39.000000000,2018-02-23 17:59:10.000000000,2018-02-23 17:59:10.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-10 01:20:39.000000000', 'files': ['heat/engine/resources/wait_condition.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e4d2452f2f669e8c709cda5043c9ab67d40a4f2f', 'message': 'Always use string ID for WaitConditionHandle signals\n\nUsing an integer as the ID - which is what we currently do for\nOS::Heat::WaitConditionHandles without an ID explicitly supplied by the\nsignaller - means that we can implicitly create an entry that will collide\nwith an explicitly specified string ID when we serialise to and then\ndeserialise from JSON to store the metadata in the database. These types of\ncollisions are silent and avoid being logged (despite the fact that we\nattempt to catch and log collisions), which makes any issues very, very\ndifficult to debug.\n\nChange-Id: Ia613e79dc9757c4594b84ed2105bfc1357d1e037\nRelated-Bug: #1738653\n'}]",0,543064,e4d2452f2f669e8c709cda5043c9ab67d40a4f2f,19,7,1,4257,,,0,"Always use string ID for WaitConditionHandle signals

Using an integer as the ID - which is what we currently do for
OS::Heat::WaitConditionHandles without an ID explicitly supplied by the
signaller - means that we can implicitly create an entry that will collide
with an explicitly specified string ID when we serialise to and then
deserialise from JSON to store the metadata in the database. These types of
collisions are silent and avoid being logged (despite the fact that we
attempt to catch and log collisions), which makes any issues very, very
difficult to debug.

Change-Id: Ia613e79dc9757c4594b84ed2105bfc1357d1e037
Related-Bug: #1738653
",git fetch https://review.opendev.org/openstack/heat refs/changes/64/543064/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/wait_condition.py'],1,e4d2452f2f669e8c709cda5043c9ab67d40a4f2f,bug/1738653, unique_id = six.text_type(new_entry.pop(self.UNIQUE_ID)), unique_id = new_entry.pop(self.UNIQUE_ID),1,1
openstack%2Freleases~master~Ia94eb26ccc9552193e9a21e5c771ce962721f6c9,openstack/releases,master,Ia94eb26ccc9552193e9a21e5c771ce962721f6c9,Add repo settings and remove highlights for Newton,MERGED,2018-02-23 14:45:17.000000000,2018-02-23 17:58:11.000000000,2018-02-23 17:58:11.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ae34221d7c451df8e07f66366ac481ce825b248f', 'message': ""Add repo settings and remove highlights for Newton\n\nWe've deprecated per-release highlights and are now removing them.\nWe also now require repository-settings for deliverables. This adds\nthe one and removes the other.\n\nChange-Id: Ia94eb26ccc9552193e9a21e5c771ce962721f6c9\n""}, {'number': 2, 'created': '2018-02-23 16:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8d00d4bff1e72cd3ed24beae15efa27afb8d5476', 'message': ""Add repo settings and remove highlights for Newton\n\nWe've deprecated per-release highlights and are now removing them.\nWe also now require repository-settings for deliverables. This adds\nthe one and removes the other.\n\nChange-Id: Ia94eb26ccc9552193e9a21e5c771ce962721f6c9\n""}, {'number': 3, 'created': '2018-02-23 17:03:34.000000000', 'files': ['deliverables/newton/os-vif.yaml', 'deliverables/newton/puppet-openstacklib.yaml', 'deliverables/newton/python-designateclient.yaml', 'deliverables/newton/ironic.yaml', 'deliverables/newton/python-cloudkittyclient.yaml', 'deliverables/newton/fuel-astute.yaml', 'deliverables/newton/puppet-glance.yaml', 'deliverables/newton/barbican.yaml', 'deliverables/newton/fuel-library.yaml', 'deliverables/newton/tripleo-common.yaml', 'deliverables/newton/tempest.yaml', 'deliverables/newton/congress.yaml', 'deliverables/newton/puppet-oslo.yaml', 'deliverables/newton/os-apply-config.yaml', 'deliverables/newton/oslo.utils.yaml', 'deliverables/newton/puppet-ovn.yaml', 'deliverables/newton/networking-ovn.yaml', 'deliverables/newton/puppet-ceilometer.yaml', 'deliverables/newton/python-monascaclient.yaml', 'deliverables/newton/puppet-magnum.yaml', 'deliverables/newton/solum-dashboard.yaml', 'deliverables/newton/puppet-tempest.yaml', 'deliverables/newton/python-zaqarclient.yaml', 'deliverables/newton/solum.yaml', 'deliverables/newton/puppet-trove.yaml', 'deliverables/newton/swift.yaml', 'deliverables/newton/tacker-horizon.yaml', 'deliverables/newton/oslo.reports.yaml', 'deliverables/newton/fuel-nailgun-agent.yaml', 'deliverables/newton/senlin-dashboard.yaml', 'deliverables/newton/python-barbicanclient.yaml', 'deliverables/newton/puppet-barbican.yaml', 'deliverables/newton/freezer.yaml', 'deliverables/newton/instack.yaml', 'deliverables/newton/puppet-cinder.yaml', 'deliverables/newton/freezer-web-ui.yaml', 'deliverables/newton/monasca-api.yaml', 'deliverables/newton/networking-hyperv.yaml', 'deliverables/newton/neutron-dynamic-routing.yaml', 'deliverables/newton/neutron-lib.yaml', 'deliverables/newton/os-refresh-config.yaml', 'deliverables/newton/fuel-web.yaml', 'deliverables/newton/oslo.serialization.yaml', 'deliverables/newton/vitrage.yaml', 'deliverables/newton/monasca-common.yaml', 'deliverables/newton/sahara.yaml', 'deliverables/newton/watcher.yaml', 'deliverables/newton/pycadf.yaml', 'deliverables/newton/python-neutronclient.yaml', 'deliverables/newton/oslo.log.yaml', 'deliverables/newton/murano.yaml', 'deliverables/newton/puppet-tripleo.yaml', 'deliverables/newton/glance-store.yaml', 'deliverables/newton/puppet-keystone.yaml', 'deliverables/newton/debtcollector.yaml', 'deliverables/newton/puppet-neutron.yaml', 'deliverables/newton/ironic-ui.yaml', 'deliverables/newton/python-brick-cinderclient-ext.yaml', 'deliverables/newton/oslo.messaging.yaml', 'deliverables/newton/heat.yaml', 'deliverables/newton/magnum-ui.yaml', 'deliverables/newton/trove-dashboard.yaml', 'deliverables/newton/glance.yaml', 'deliverables/newton/cloudkitty.yaml', 'deliverables/newton/puppet-horizon.yaml', 'deliverables/newton/monasca-thresh.yaml', 'deliverables/newton/bifrost.yaml', 'deliverables/newton/os-win.yaml', 'deliverables/newton/ironic-python-agent.yaml', 'deliverables/newton/oslo.db.yaml', 'deliverables/newton/python-mistralclient.yaml', 'deliverables/newton/murano-agent.yaml', 'deliverables/newton/taskflow.yaml', 'deliverables/newton/monasca-ui.yaml', 'deliverables/newton/python-freezerclient.yaml', 'deliverables/newton/searchlight.yaml', 'deliverables/newton/designate.yaml', 'deliverables/newton/tripleo-quickstart.yaml', 'deliverables/newton/fuel-ui.yaml', 'deliverables/newton/tripleo-validations.yaml', 'deliverables/newton/python-muranoclient.yaml', 'deliverables/newton/oslotest.yaml', 'deliverables/newton/ceilometermiddleware.yaml', 'deliverables/newton/python-swiftclient.yaml', 'deliverables/newton/os-collect-config.yaml', 'deliverables/newton/oslo.middleware.yaml', 'deliverables/newton/oslo.config.yaml', 'deliverables/newton/django_openstack_auth.yaml', 'deliverables/newton/python-keystoneclient.yaml', 'deliverables/newton/oslo.concurrency.yaml', 'deliverables/newton/keystone.yaml', 'deliverables/newton/oslo.policy.yaml', 'deliverables/newton/puppet-zaqar.yaml', 'deliverables/newton/python-ironicclient.yaml', 'deliverables/newton/python-cinderclient.yaml', 'deliverables/newton/puppet-aodh.yaml', 'deliverables/newton/python-troveclient.yaml', 'deliverables/newton/tripleo-puppet-elements.yaml', 'deliverables/newton/monasca-log-api.yaml', 'deliverables/newton/python-congressclient.yaml', 'deliverables/newton/oslo.i18n.yaml', 'deliverables/newton/tripleo-ui.yaml', 'deliverables/newton/puppet-openstack_extras.yaml', 'deliverables/newton/senlin.yaml', 'deliverables/newton/murano-dashboard.yaml', 'deliverables/newton/monasca-ceilometer.yaml', 'deliverables/newton/fuel-qa.yaml', 'deliverables/newton/cinder.yaml', 'deliverables/newton/keystoneauth.yaml', 'deliverables/newton/fuel-main.yaml', 'deliverables/newton/tripleo-image-elements.yaml', 'deliverables/newton/python-heatclient.yaml', 'deliverables/newton/ironic-lib.yaml', 'deliverables/newton/puppet-designate.yaml', 'deliverables/newton/python-magnumclient.yaml', 'deliverables/newton/kolla.yaml', 'deliverables/newton/fuel-menu.yaml', 'deliverables/newton/os-cloud-config.yaml', 'deliverables/newton/vitrage-dashboard.yaml', 'deliverables/newton/zaqar-ui.yaml', 'deliverables/newton/osprofiler.yaml', 'deliverables/newton/puppet-gnocchi.yaml', 'deliverables/newton/puppet-sahara.yaml', 'deliverables/newton/oslo.privsep.yaml', 'deliverables/newton/fuel-ostf.yaml', 'deliverables/newton/manila.yaml', 'deliverables/newton/aodh.yaml', 'deliverables/newton/solum-infra-guestagent.yaml', 'deliverables/newton/python-glanceclient.yaml', 'deliverables/newton/magnum.yaml', 'deliverables/newton/searchlight-ui.yaml', 'deliverables/newton/osc-lib.yaml', 'deliverables/newton/puppet-mistral.yaml', 'deliverables/newton/oslo.context.yaml', 'deliverables/newton/puppet-ironic.yaml', 'deliverables/newton/monasca-persister.yaml', 'deliverables/newton/monasca-agent.yaml', 'deliverables/newton/trove.yaml', 'deliverables/newton/neutron-fwaas.yaml', 'deliverables/newton/python-ironic-inspector-client.yaml', 'deliverables/newton/fuel-virtualbox.yaml', 'deliverables/newton/python-manilaclient.yaml', 'deliverables/newton/nova.yaml', 'deliverables/newton/mox3.yaml', 'deliverables/newton/neutron-vpnaas.yaml', 'deliverables/newton/oslo.cache.yaml', 'deliverables/newton/puppet-vswitch.yaml', 'deliverables/newton/python-novaclient.yaml', 'deliverables/newton/puppet-swift.yaml', 'deliverables/newton/monasca-statsd.yaml', 'deliverables/newton/octavia.yaml', 'deliverables/newton/python-watcherclient.yaml', 'deliverables/newton/python-searchlightclient.yaml', 'deliverables/newton/instack-undercloud.yaml', 'deliverables/newton/oslo.service.yaml', 'deliverables/newton/python-ceilometerclient.yaml', 'deliverables/newton/python-vitrageclient.yaml', 'deliverables/newton/ironic-inspector.yaml', 'deliverables/newton/cliff.yaml', 'deliverables/newton/python-senlinclient.yaml', 'deliverables/newton/designate-dashboard.yaml', 'deliverables/newton/automaton.yaml', 'deliverables/newton/ceilometer.yaml', 'deliverables/newton/keystonemiddleware.yaml', 'deliverables/newton/python-tripleoclient.yaml', 'deliverables/newton/oslo.rootwrap.yaml', 'deliverables/newton/puppet-heat.yaml', 'deliverables/newton/python-solumclient.yaml', 'deliverables/newton/os-client-config.yaml', 'deliverables/newton/fuel-agent.yaml', 'deliverables/newton/neutron-lbaas.yaml', 'deliverables/newton/futurist.yaml', 'deliverables/newton/os-net-config.yaml', 'deliverables/newton/oslo.versionedobjects.yaml', 'deliverables/newton/oslo.vmware.yaml', 'deliverables/newton/neutron.yaml', 'deliverables/newton/puppet-murano.yaml', 'deliverables/newton/cloudkitty-dashboard.yaml', 'deliverables/newton/stevedore.yaml', 'deliverables/newton/python-aodhclient.yaml', 'deliverables/newton/zaqar.yaml', 'deliverables/newton/tooz.yaml', 'deliverables/newton/monasca-notification.yaml', 'deliverables/newton/python-openstackclient.yaml', 'deliverables/newton/tacker.yaml', 'deliverables/newton/tripleo-heat-templates.yaml', 'deliverables/newton/mistral.yaml', 'deliverables/newton/python-saharaclient.yaml', 'deliverables/newton/horizon.yaml', 'deliverables/newton/puppet-ceph.yaml', 'deliverables/newton/os-brick.yaml', 'deliverables/newton/puppet-manila.yaml', 'deliverables/newton/watcher-dashboard.yaml', 'deliverables/newton/panko.yaml', 'deliverables/newton/manila-ui.yaml', 'deliverables/newton/puppet-nova.yaml', 'deliverables/newton/mistral-extra.yaml', 'deliverables/newton/oslosphinx.yaml', 'deliverables/newton/python-tackerclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/314fee67b77d3554b94aa8ed47e1c81bc050d474', 'message': ""Add repo settings and remove highlights for Newton\n\nWe've deprecated per-release highlights and are now removing them.\nWe also now require repository-settings for deliverables. This adds\nthe one and removes the other.\n\nChange-Id: Ia94eb26ccc9552193e9a21e5c771ce962721f6c9\n""}]",1,547464,314fee67b77d3554b94aa8ed47e1c81bc050d474,11,2,3,11904,,,0,"Add repo settings and remove highlights for Newton

We've deprecated per-release highlights and are now removing them.
We also now require repository-settings for deliverables. This adds
the one and removes the other.

Change-Id: Ia94eb26ccc9552193e9a21e5c771ce962721f6c9
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/547464/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/newton/os-vif.yaml', 'deliverables/newton/puppet-openstacklib.yaml', 'deliverables/newton/python-designateclient.yaml', 'deliverables/newton/ironic.yaml', 'deliverables/newton/python-cloudkittyclient.yaml', 'deliverables/newton/fuel-astute.yaml', 'deliverables/newton/puppet-glance.yaml', 'deliverables/newton/barbican.yaml', 'deliverables/newton/fuel-library.yaml', 'deliverables/newton/tripleo-common.yaml', 'deliverables/newton/tempest.yaml', 'deliverables/newton/congress.yaml', 'deliverables/newton/puppet-oslo.yaml', 'deliverables/newton/os-apply-config.yaml', 'deliverables/newton/oslo.utils.yaml', 'deliverables/newton/puppet-ovn.yaml', 'deliverables/newton/networking-ovn.yaml', 'deliverables/newton/puppet-ceilometer.yaml', 'deliverables/newton/python-monascaclient.yaml', 'deliverables/newton/puppet-magnum.yaml', 'deliverables/newton/solum-dashboard.yaml', 'deliverables/newton/puppet-tempest.yaml', 'deliverables/newton/python-zaqarclient.yaml', 'deliverables/newton/solum.yaml', 'deliverables/newton/puppet-trove.yaml', 'deliverables/newton/swift.yaml', 'deliverables/newton/tacker-horizon.yaml', 'deliverables/newton/oslo.reports.yaml', 'deliverables/newton/fuel-nailgun-agent.yaml', 'deliverables/newton/senlin-dashboard.yaml', 'deliverables/newton/python-barbicanclient.yaml', 'deliverables/newton/puppet-barbican.yaml', 'deliverables/newton/freezer.yaml', 'deliverables/newton/instack.yaml', 'deliverables/newton/puppet-cinder.yaml', 'deliverables/newton/freezer-web-ui.yaml', 'deliverables/newton/monasca-api.yaml', 'deliverables/newton/networking-hyperv.yaml', 'deliverables/newton/neutron-dynamic-routing.yaml', 'deliverables/newton/neutron-lib.yaml', 'deliverables/newton/os-refresh-config.yaml', 'deliverables/newton/fuel-web.yaml', 'deliverables/newton/oslo.serialization.yaml', 'deliverables/newton/vitrage.yaml', 'deliverables/newton/monasca-common.yaml', 'deliverables/newton/sahara.yaml', 'deliverables/newton/watcher.yaml', 'deliverables/newton/pycadf.yaml', 'deliverables/newton/python-neutronclient.yaml', 'deliverables/newton/oslo.log.yaml', 'deliverables/newton/murano.yaml', 'deliverables/newton/puppet-tripleo.yaml', 'deliverables/newton/glance-store.yaml', 'deliverables/newton/puppet-keystone.yaml', 'deliverables/newton/debtcollector.yaml', 'deliverables/newton/puppet-neutron.yaml', 'deliverables/newton/ironic-ui.yaml', 'deliverables/newton/python-brick-cinderclient-ext.yaml', 'deliverables/newton/oslo.messaging.yaml', 'deliverables/newton/heat.yaml', 'deliverables/newton/magnum-ui.yaml', 'deliverables/newton/trove-dashboard.yaml', 'deliverables/newton/glance.yaml', 'deliverables/newton/cloudkitty.yaml', 'deliverables/newton/puppet-horizon.yaml', 'deliverables/newton/monasca-thresh.yaml', 'deliverables/newton/bifrost.yaml', 'deliverables/newton/os-win.yaml', 'deliverables/newton/ironic-python-agent.yaml', 'deliverables/newton/oslo.db.yaml', 'deliverables/newton/python-mistralclient.yaml', 'deliverables/newton/murano-agent.yaml', 'deliverables/newton/taskflow.yaml', 'deliverables/newton/monasca-ui.yaml', 'deliverables/newton/python-freezerclient.yaml', 'deliverables/newton/searchlight.yaml', 'deliverables/newton/designate.yaml', 'deliverables/newton/tripleo-quickstart.yaml', 'deliverables/newton/fuel-ui.yaml', 'deliverables/newton/tripleo-validations.yaml', 'deliverables/newton/python-muranoclient.yaml', 'deliverables/newton/oslotest.yaml', 'deliverables/newton/ceilometermiddleware.yaml', 'deliverables/newton/python-swiftclient.yaml', 'deliverables/newton/os-collect-config.yaml', 'deliverables/newton/oslo.middleware.yaml', 'deliverables/newton/oslo.config.yaml', 'deliverables/newton/django_openstack_auth.yaml', 'deliverables/newton/python-keystoneclient.yaml', 'deliverables/newton/oslo.concurrency.yaml', 'deliverables/newton/keystone.yaml', 'deliverables/newton/oslo.policy.yaml', 'deliverables/newton/puppet-zaqar.yaml', 'deliverables/newton/python-ironicclient.yaml', 'deliverables/newton/python-cinderclient.yaml', 'deliverables/newton/puppet-aodh.yaml', 'deliverables/newton/python-troveclient.yaml', 'deliverables/newton/tripleo-puppet-elements.yaml', 'deliverables/newton/monasca-log-api.yaml', 'deliverables/newton/python-congressclient.yaml', 'deliverables/newton/oslo.i18n.yaml', 'deliverables/newton/tripleo-ui.yaml', 'deliverables/newton/puppet-openstack_extras.yaml', 'deliverables/newton/senlin.yaml', 'deliverables/newton/murano-dashboard.yaml', 'deliverables/newton/monasca-ceilometer.yaml', 'deliverables/newton/fuel-qa.yaml', 'deliverables/newton/cinder.yaml', 'deliverables/newton/keystoneauth.yaml', 'deliverables/newton/fuel-main.yaml', 'deliverables/newton/tripleo-image-elements.yaml', 'deliverables/newton/python-heatclient.yaml', 'deliverables/newton/ironic-lib.yaml', 'deliverables/newton/puppet-designate.yaml', 'deliverables/newton/python-magnumclient.yaml', 'deliverables/newton/kolla.yaml', 'deliverables/newton/fuel-menu.yaml', 'deliverables/newton/os-cloud-config.yaml', 'deliverables/newton/vitrage-dashboard.yaml', 'deliverables/newton/zaqar-ui.yaml', 'deliverables/newton/osprofiler.yaml', 'deliverables/newton/puppet-gnocchi.yaml', 'deliverables/newton/puppet-sahara.yaml', 'deliverables/newton/oslo.privsep.yaml', 'deliverables/newton/fuel-ostf.yaml', 'deliverables/newton/manila.yaml', 'deliverables/newton/aodh.yaml', 'deliverables/newton/solum-infra-guestagent.yaml', 'deliverables/newton/python-glanceclient.yaml', 'deliverables/newton/magnum.yaml', 'deliverables/newton/searchlight-ui.yaml', 'deliverables/newton/osc-lib.yaml', 'deliverables/newton/puppet-mistral.yaml', 'deliverables/newton/oslo.context.yaml', 'deliverables/newton/puppet-ironic.yaml', 'deliverables/newton/monasca-persister.yaml', 'deliverables/newton/monasca-agent.yaml', 'deliverables/newton/trove.yaml', 'deliverables/newton/neutron-fwaas.yaml', 'deliverables/newton/python-ironic-inspector-client.yaml', 'deliverables/newton/fuel-virtualbox.yaml', 'deliverables/newton/python-manilaclient.yaml', 'deliverables/newton/nova.yaml', 'deliverables/newton/mox3.yaml', 'deliverables/newton/neutron-vpnaas.yaml', 'deliverables/newton/oslo.cache.yaml', 'deliverables/newton/puppet-vswitch.yaml', 'deliverables/newton/python-novaclient.yaml', 'deliverables/newton/puppet-swift.yaml', 'deliverables/newton/monasca-statsd.yaml', 'deliverables/newton/octavia.yaml', 'deliverables/newton/python-watcherclient.yaml', 'deliverables/newton/python-searchlightclient.yaml', 'deliverables/newton/instack-undercloud.yaml', 'deliverables/newton/oslo.service.yaml', 'deliverables/newton/python-ceilometerclient.yaml', 'deliverables/newton/python-vitrageclient.yaml', 'deliverables/newton/ironic-inspector.yaml', 'deliverables/newton/cliff.yaml', 'deliverables/newton/python-senlinclient.yaml', 'deliverables/newton/designate-dashboard.yaml', 'deliverables/newton/automaton.yaml', 'deliverables/newton/ceilometer.yaml', 'deliverables/newton/keystonemiddleware.yaml', 'deliverables/newton/python-tripleoclient.yaml', 'deliverables/newton/oslo.rootwrap.yaml', 'deliverables/newton/puppet-heat.yaml', 'deliverables/newton/python-solumclient.yaml', 'deliverables/newton/os-client-config.yaml', 'deliverables/newton/fuel-agent.yaml', 'deliverables/newton/neutron-lbaas.yaml', 'deliverables/newton/futurist.yaml', 'deliverables/newton/os-net-config.yaml', 'deliverables/newton/oslo.versionedobjects.yaml', 'deliverables/newton/oslo.vmware.yaml', 'deliverables/newton/neutron.yaml', 'deliverables/newton/puppet-murano.yaml', 'deliverables/newton/cloudkitty-dashboard.yaml', 'deliverables/newton/stevedore.yaml', 'deliverables/newton/python-aodhclient.yaml', 'deliverables/newton/zaqar.yaml', 'deliverables/newton/tooz.yaml', 'deliverables/newton/monasca-notification.yaml', 'deliverables/newton/python-openstackclient.yaml', 'deliverables/newton/tacker.yaml', 'deliverables/newton/tripleo-heat-templates.yaml', 'deliverables/newton/mistral.yaml', 'deliverables/newton/python-saharaclient.yaml', 'deliverables/newton/horizon.yaml', 'deliverables/newton/puppet-ceph.yaml', 'deliverables/newton/os-brick.yaml', 'deliverables/newton/puppet-manila.yaml', 'deliverables/newton/watcher-dashboard.yaml', 'deliverables/newton/panko.yaml', 'deliverables/newton/manila-ui.yaml', 'deliverables/newton/puppet-nova.yaml', 'deliverables/newton/mistral-extra.yaml', 'deliverables/newton/oslosphinx.yaml', 'deliverables/newton/python-tackerclient.yaml']",199,ae34221d7c451df8e07f66366ac481ce825b248f,clean_highlights,repository-settings: openstack/python-tackerclient: {},,1317,1817
openstack%2Ftripleo-quickstart~master~I5a383d09b2c1cef04d95d0b7a626e8828c428130,openstack/tripleo-quickstart,master,I5a383d09b2c1cef04d95d0b7a626e8828c428130,Set tripleo-upgrade vars in featureset.,MERGED,2018-02-01 11:30:04.000000000,2018-02-23 17:58:08.000000000,2018-02-23 17:58:08.000000000,"[{'_account_id': 8297}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-02-01 11:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12febb606ba48550598bb5e93b7caa6e709a8804', 'message': 'WIP: Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 2, 'created': '2018-02-02 13:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bc2ce9fbe5dd278dbe8de3993d3fee66114ec157', 'message': 'WIP: Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nDepends-On: Ic0e8dcf22444ece6fa5f9459f6aec3b2c0f08c80\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 3, 'created': '2018-02-02 13:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bae52393a5ab941eae6d28d579385e9c748ada4c', 'message': 'WIP: Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 4, 'created': '2018-02-02 15:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/02fd8e8f84cd55f9917f37a205e758bfbfdcf145', 'message': 'WIP: Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 5, 'created': '2018-02-07 13:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8c03e409e5650bee436aaebce2b6167f9d43f298', 'message': 'WIP: Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 6, 'created': '2018-02-07 14:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3160bd3f6ca04732bdda9415f75e3496ca5fbb32', 'message': 'WIP: Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nDepends-On: Ic0e8dcf22444ece6fa5f9459f6aec3b2c0f08c80\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 7, 'created': '2018-02-08 16:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8512a50aa38831d45c578c4f00648308b1a6ddaf', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of\ncalling the tripleo_upgrade role\nin oooq, we specify the variables\nused by the role in the corresponding\nfeatureset file.\n\nDepends-On: Ic0e8dcf22444ece6fa5f9459f6aec3b2c0f08c80\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 8, 'created': '2018-02-13 15:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/86a3857ec4afa12b286b92da9ed6fb322f393ebb', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 9, 'created': '2018-02-14 08:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8cfa9a9996c691196c30f20ebbf0c2715787ed94', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 10, 'created': '2018-02-14 13:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/481273e82b479d97d64835577bdea707e8468386', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 11, 'created': '2018-02-19 08:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f63899b8001730412d27b8e923d135ebe3f5d4d6', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 12, 'created': '2018-02-19 12:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/453bb572c8c25d2285aea0827cdb45d67b0abff4', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 13, 'created': '2018-02-19 17:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6d81fe1f189389137775dcdf0c55431ce7800a4d', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 14, 'created': '2018-02-20 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/655b16ef9b8aa04c660e2505877c4446758a9e58', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 15, 'created': '2018-02-21 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b51c622ffcb35c49601904df21f0503c020c6e8e', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 16, 'created': '2018-02-22 00:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ac6b6ace1330579ac5ccb70722fcc06d8db5735', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nDepends-On: I92a1d915441686453ef0b241e4ba151c03595074\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}, {'number': 17, 'created': '2018-02-22 13:08:07.000000000', 'files': ['config/general_config/featureset011.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/43770ba494c926b7af359829384abe78a66e175e', 'message': 'Set tripleo-upgrade vars in featureset.\n\nTo enable a more dynamic way of calling the tripleo_upgrade role in\noooq, we specify the variables used by the role in the corresponding\nfeatureset file.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130\n'}]",2,539910,43770ba494c926b7af359829384abe78a66e175e,94,8,17,26343,,,0,"Set tripleo-upgrade vars in featureset.

To enable a more dynamic way of calling the tripleo_upgrade role in
oooq, we specify the variables used by the role in the corresponding
featureset file.

Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: I5a383d09b2c1cef04d95d0b7a626e8828c428130
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/10/539910/15 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset011.yml'],1,12febb606ba48550598bb5e93b7caa6e709a8804,link_tripleo_upgrade,# Tripleo_upgrade role parameters undercloud_upgrade: 'false' overcloud_upgrade: 'true' ,,4,0
openstack%2Foctavia~master~Iddc4fe3311032df9e1966cf147a1b5611e43dd77,openstack/octavia,master,Iddc4fe3311032df9e1966cf147a1b5611e43dd77,Update reno for stable/mitaka,ABANDONED,2018-02-23 17:36:44.000000000,2018-02-23 17:57:45.000000000,,[],"[{'number': 1, 'created': '2018-02-23 17:36:44.000000000', 'files': ['releasenotes/source/mitaka.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8fc02368e4242ee168b9a93d4d95f592c662a644', 'message': 'Update reno for stable/mitaka\n\nChange-Id: Iddc4fe3311032df9e1966cf147a1b5611e43dd77\n'}]",0,547524,8fc02368e4242ee168b9a93d4d95f592c662a644,2,0,1,22816,,,0,"Update reno for stable/mitaka

Change-Id: Iddc4fe3311032df9e1966cf147a1b5611e43dd77
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/547524/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/mitaka.rst', 'releasenotes/source/index.rst']",2,8fc02368e4242ee168b9a93d4d95f592c662a644,reno-mitaka, mitaka,,4,3
openstack%2Fnetworking-bagpipe~stable%2Fmitaka~I3065f2160e7a0da87ef22a053b1b570219f8d7f9,openstack/networking-bagpipe,stable/mitaka,I3065f2160e7a0da87ef22a053b1b570219f8d7f9,Update .gitreview for stable/mitaka,ABANDONED,2018-02-21 22:27:26.000000000,2018-02-23 17:56:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-21 22:27:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0333f3ae7f20650d69b72ee3af98d6436d08a082', 'message': 'Update .gitreview for stable/mitaka\n\nChange-Id: I3065f2160e7a0da87ef22a053b1b570219f8d7f9\n'}]",0,546787,0333f3ae7f20650d69b72ee3af98d6436d08a082,3,1,1,22816,,,0,"Update .gitreview for stable/mitaka

Change-Id: I3065f2160e7a0da87ef22a053b1b570219f8d7f9
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/87/546787/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0333f3ae7f20650d69b72ee3af98d6436d08a082,create-mitaka,defaultbranch=stable/mitaka,,1,0
openstack%2Fnetworking-odl~stable%2Fmitaka~I691175bb277606e333154fe407889ba27df8b89d,openstack/networking-odl,stable/mitaka,I691175bb277606e333154fe407889ba27df8b89d,Update .gitreview for stable/mitaka,ABANDONED,2018-02-21 22:34:10.000000000,2018-02-23 17:56:45.000000000,,"[{'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:34:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/581c4caa052a9dd6949bc69ba9477fe670ff5159', 'message': 'Update .gitreview for stable/mitaka\n\nChange-Id: I691175bb277606e333154fe407889ba27df8b89d\n'}]",0,546794,581c4caa052a9dd6949bc69ba9477fe670ff5159,5,3,1,22816,,,0,"Update .gitreview for stable/mitaka

Change-Id: I691175bb277606e333154fe407889ba27df8b89d
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/94/546794/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,581c4caa052a9dd6949bc69ba9477fe670ff5159,create-mitaka,defaultbranch=stable/mitaka,,1,0
openstack%2Fnetworking-sfc~stable%2Fmitaka~I9df07f346012e1b287e7a0dcbe0840cf06cae5db,openstack/networking-sfc,stable/mitaka,I9df07f346012e1b287e7a0dcbe0840cf06cae5db,Update .gitreview for stable/mitaka,ABANDONED,2018-02-21 22:35:08.000000000,2018-02-23 17:56:38.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 22:35:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/667dfd667e1d13e64da3e46973c17af1d5a070f7', 'message': 'Update .gitreview for stable/mitaka\n\nChange-Id: I9df07f346012e1b287e7a0dcbe0840cf06cae5db\n'}]",0,546798,667dfd667e1d13e64da3e46973c17af1d5a070f7,4,2,1,22816,,,0,"Update .gitreview for stable/mitaka

Change-Id: I9df07f346012e1b287e7a0dcbe0840cf06cae5db
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/98/546798/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,667dfd667e1d13e64da3e46973c17af1d5a070f7,create-mitaka,defaultbranch=stable/mitaka,,1,0
openstack%2Foctavia~stable%2Fmitaka~I9809724b6b90da548b9a992ca38718a31acfaf35,openstack/octavia,stable/mitaka,I9809724b6b90da548b9a992ca38718a31acfaf35,Update .gitreview for stable/mitaka,ABANDONED,2018-02-23 17:36:41.000000000,2018-02-23 17:56:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-23 17:36:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/octavia/commit/57342f40cee998607b5cfa0380af67ee7cc30e4b', 'message': 'Update .gitreview for stable/mitaka\n\nChange-Id: I9809724b6b90da548b9a992ca38718a31acfaf35\n'}]",0,547523,57342f40cee998607b5cfa0380af67ee7cc30e4b,3,1,1,22816,,,0,"Update .gitreview for stable/mitaka

Change-Id: I9809724b6b90da548b9a992ca38718a31acfaf35
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/547523/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,57342f40cee998607b5cfa0380af67ee7cc30e4b,create-mitaka,defaultbranch=stable/mitaka,,1,0
openstack%2Fpuppet-cinder~stable%2Fnewton~Ic2486f8e9c9e984f3ac2866e74f5b3e84017142a,openstack/puppet-cinder,stable/newton,Ic2486f8e9c9e984f3ac2866e74f5b3e84017142a,Add NexentaStor5 NFS and ISCSI backends,ABANDONED,2018-02-22 16:12:01.000000000,2018-02-23 17:43:46.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 16:12:01.000000000', 'files': ['manifests/backend/nexentastor5nfs.pp', 'manifests/backend/nexentastor5iscsi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/441002e708f73946dff8493273bf527da2d97e89', 'message': 'Add NexentaStor5 NFS and ISCSI backends\n\nChange-Id: Ic2486f8e9c9e984f3ac2866e74f5b3e84017142a\n'}]",0,547050,441002e708f73946dff8493273bf527da2d97e89,4,2,1,27865,,,0,"Add NexentaStor5 NFS and ISCSI backends

Change-Id: Ic2486f8e9c9e984f3ac2866e74f5b3e84017142a
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/50/547050/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/nexentastor5nfs.pp', 'manifests/backend/nexentastor5iscsi.pp']",2,441002e708f73946dff8493273bf527da2d97e89,NexentaStor5-AdditionalBackends,"# == define: cinder::backend::nexentastor5iscsi # # Configures Cinder to use the NexentaStor5 ISCSI volume driver # Compatible for multiple backends # # === Parameters # # [*volume_backend_name*] # (optional) The name of the cinder::backend::nexentastor5iscsi resource # Defaults to $name. # # [*nexenta_user*] # (optional) User name to connect to NexentaStor5 instance. # Defaults to 'admin' # # [*nexenta_password*] # (optional) Password to connect to NexentaStor5 instance. # Defaults to 'nexenta' # # [*nexenta_host*] # (required) IP address of NexentaStor5 instance. # for HA it must be VIP # # [*nexenta_rest_address*] # (required) IP address of NexentaStor5 instance REST API. # for HA provide 2 IPs, comma separated # # [*nexenta_rest_port*] # (optional) HTTP(S) port to connect to Nexenta REST API server. # If it is equal zero, 8443 for HTTPS and 8080 for HTTP is used. # Defaults to 0 # # [*nexenta_rest_protocol*] # (optional) Use http or https for REST connection [http|https|auto] # Defaults to 'auto' # # [*nexenta_use_https*] # (optional) Use secure HTTP for REST connection. # Defaults to 'True' # # [*nexenta_volume*] # (Optional) NexentaStor's pool that holds all volumes # Defaults to 'cinder' # # [*nexenta_volume_group*] # (Optional) Volume group for NexentaStor5 iSCSI # Defaults to 'iscsi' # # [*nexenta_target_group_prefix*] # (optional) Prefix for iSCSI target groups on SA. # Defaults is 'cinder' # # [*nexenta_luns_per_target *] # (optional) Amount of iSCSI LUNs per each target # Defaults to 100 # # [*nexenta_iscsi_target_portal_port*] # (Optional) Nexenta target portal port. # Defaults to 3260. # # [*nexenta_iscsi_target_host_group*] # (Optional) Nexenta target portal port. # Defaults to 'all'. # # [*nexenta_iscsi_target_portal_groups*] # (Optional) Nexenta target portal groups. # Defaults to ''. # # [*nexenta_iscsi_target_portals*] # (Optional) Comma separated list of portals for NexentaStor5, in' # format of IP1:port1,IP2:port2. Port is optional, default=3260. # Example: 10.10.10.1:3267,10.10.1.2' # Defaults to ''. # # [*nexenta_dataset_compression *] # (optional) Block size for datasets # Defaults 'on'. Available options are on, off, gzip, gzip-1, gzip-2, gzip-3, gzip-4, gzip-5, gzip-6, gzip-7, gzip-8, gzip-9, lzjb, zle, lz4 # # [*nexenta_ns5_blocksize *] # (optional) Block size for datasets # Defaults '32768' # # [*manage_volume_type*] # (Optional) Whether or not manage Cinder Volume type. # If set to true, a Cinder Volume type will be created # with volume_backend_name=$volume_backend_name key/value. # Defaults to false. # # [*extra_options*] # (optional) Hash of extra options to pass to the backend stanza # Defaults to: {} # Example : # { 'nexentastor_backend/param1' => { 'value' => value1 } } # # === Examples # # cinder::backend::nexentastor5nfs { 'myNS5Backend': # nexenta_host => 'ns5.local' # nexenta_rest_address => 'ns5.local', # nexenta_user => 'admin', # nexenta_password => 'password', # nexenta_volume => 'pool', # nexenta_volume_group => 'iscsi', # } # # === Authors # # Anton Skriptsov <anton.skriptsov@nexenta.com> # # === Copyright # # Copyright 2018 Nexenta Systems, Inc. # define cinder::backend::nexentastor5iscsi ( $volume_backend_name = $name, $nexenta_user = 'admin', $nexenta_password = 'nexenta', $nexenta_host, $nexenta_rest_protocol = 'auto', $nexenta_use_https = true, $nexenta_rest_address, $nexenta_rest_port = 0, $nexenta_volume = 'cinder', $nexenta_volume_group = 'iscsi', $nexenta_target_group_prefix = 'cinder', $nexenta_luns_per_target = 100, $nexenta_iscsi_target_portal_port = 3260, $nexenta_iscsi_target_host_group = 'all', $nexenta_iscsi_target_portal_groups = nil, $nexenta_iscsi_target_portals = nil, $nexenta_dataset_compression = 'on', $nexenta_ns5_blocksize = '32768', $manage_volume_type = false, $extra_options = {}, ) { include ::cinder::deps cinder_config { ""${name}/volume_driver"": value => 'cinder.volume.drivers.nexenta.ns5.iscsi.NexentaISCSIDriver'; ""${name}/volume_backend_name"": value => $volume_backend_name; ""${name}/nexenta_user"": value => $nexenta_user; ""${name}/nexenta_password"": value => $nexenta_password, secret => true; ""${name}/nexenta_host"": value => $nexenta_host; ""${name}/nexenta_rest_protocol"": value => $nexenta_rest_protocol; ""${name}/nexenta_use_https"": value => $nexenta_use_https; ""${name}/nexenta_rest_address"": value => $nexenta_rest_address; ""${name}/nexenta_rest_port"": value => $nexenta_rest_port; ""${name}/nexenta_volume"": value => $nexenta_volume; ""${name}/nexenta_volume_group"": value => $nexenta_volume_group; ""${name}/nexenta_target_prefix"": value => $nexenta_target_prefix; ""${name}/nexenta_target_group_prefix"": value => $nexenta_target_group_prefix; ""${name}/nexenta_luns_per_target"": value => $nexenta_luns_per_target; ""${name}/nexenta_iscsi_target_portal_port"": value => $nexenta_iscsi_target_portal_port; ""${name}/nexenta_iscsi_target_host_group"": value => $nexenta_iscsi_target_host_group; ""${name}/nexenta_iscsi_target_portal_groups"": value => $nexenta_iscsi_target_portal_groups; ""${name}/nexenta_iscsi_target_portals"": value => $nexenta_iscsi_target_portals; ""${name}/nexenta_dataset_compression"": value => $nexenta_dataset_compression; ""${name}/nexenta_ns5_blocksize"": value => $nexenta_ns5_blocksize; ""${name}/manage_volume_type"": value => $manage_volume_type; } if $manage_volume_type { cinder_type { $name: ensure => present, properties => [""volume_backend_name=${name}""], } } create_resources('cinder_config', $extra_options) } ",,321,0
openstack%2Fpuppet-cinder~stable%2Fnewton~I41e927121448ada44198af9e5da5290e793e9998,openstack/puppet-cinder,stable/newton,I41e927121448ada44198af9e5da5290e793e9998,fix lint errors,ABANDONED,2018-02-22 17:55:17.000000000,2018-02-23 17:43:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-22 17:55:17.000000000', 'files': ['manifests/backend/nexentastor5nfs.pp', 'manifests/backend/nexentastor5iscsi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/52dc0fd172f64421781418a7dd4add7af0ec3df7', 'message': 'fix lint errors\n\nChange-Id: I41e927121448ada44198af9e5da5290e793e9998\n'}]",0,547084,52dc0fd172f64421781418a7dd4add7af0ec3df7,3,1,1,27865,,,0,"fix lint errors

Change-Id: I41e927121448ada44198af9e5da5290e793e9998
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/84/547084/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/nexentastor5nfs.pp', 'manifests/backend/nexentastor5iscsi.pp']",2,52dc0fd172f64421781418a7dd4add7af0ec3df7,NexentaStor5-AdditionalBackends,"# [*nexenta_dataset_compression*]# Defaults 'on'. Available options are on, off, gzip, gzip-1, gzip-2, gzip-3, # gzip-4, gzip-5, gzip-6, gzip-7, gzip-8, gzip-9, lzjb, zle, lz4# [*nexenta_ns5_blocksize*]define cinder::backend::nexentastor5iscsi( $nexenta_host, $nexenta_rest_address = nil,","# [*nexenta_dataset_compression *]# Defaults 'on'. Available options are on, off, gzip, gzip-1, gzip-2, gzip-3, gzip-4, gzip-5, gzip-6, gzip-7, gzip-8, gzip-9, lzjb, zle, lz4# [*nexenta_ns5_blocksize *]define cinder::backend::nexentastor5iscsi ( $nexenta_host, $nexenta_rest_address, ""${name}/nexenta_target_prefix"": value => $nexenta_target_prefix;",17,16
