id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fdevstack~stable%2Fussuri~I02e3208df53e7744c4be9c62172b78f08da0514e,openstack/devstack,stable/ussuri,I02e3208df53e7744c4be9c62172b78f08da0514e,Stop gating on grenade,MERGED,2022-02-02 11:29:47.000000000,2022-02-04 12:19:02.000000000,2022-02-04 12:10:50.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-02 11:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fac7e3ba2290eaed50e3435ddb737e039ed532c6', 'message': 'Stop gating on grenade\n\nWe have made the grenade job non-voting in the check queue, but it is\nstilled pulled in as voting in gate via the integrated-gate-py3\ntemplate. Stop using that template and instead reference the\ntempest-full-py3 job directly in check and gate.\n\nChange-Id: I02e3208df53e7744c4be9c62172b78f08da0514e\n'}, {'number': 2, 'created': '2022-02-02 11:46:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ffa73a7825a4a699913409ba4df9a084889e330', 'message': 'Stop gating on grenade\n\nWe have made the grenade job non-voting in the check queue, but it is\nstilled pulled in as voting in gate via the integrated-gate-py3\ntemplate. Stop using that template and instead reference the\ntempest-full-py3 job directly in check and gate.\n\nChange-Id: I02e3208df53e7744c4be9c62172b78f08da0514e\n'}]",1,827478,7ffa73a7825a4a699913409ba4df9a084889e330,10,5,2,13252,,,0,"Stop gating on grenade

We have made the grenade job non-voting in the check queue, but it is
stilled pulled in as voting in gate via the integrated-gate-py3
template. Stop using that template and instead reference the
tempest-full-py3 job directly in check and gate.

Change-Id: I02e3208df53e7744c4be9c62172b78f08da0514e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/827478/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fac7e3ba2290eaed50e3435ddb737e039ed532c6,bug/1959600-stable/ussuri, # Note(frickler): No longer use this global template since we no # longer gate on grenade # - integrated-gate-py3 - tempest-full-py3 - tempest-full-py3, - integrated-gate-py3,5,1
openstack%2Fopenstack-ansible-galera_server~master~I57187bab2ee35521c275f0f0b99c1ca8fd1830ad,openstack/openstack-ansible-galera_server,master,I57187bab2ee35521c275f0f0b99c1ca8fd1830ad,Listen on an additional port for monitoring/diagnostic purposes,MERGED,2021-04-15 09:53:53.000000000,2022-02-04 12:06:12.000000000,2022-02-04 12:02:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-15 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/66ff81b9cb740abab9d066f143ca1081c9735a30', 'message': 'Listen on an additional port for monitoring/diagnostic purposes\n\nIf the Galera cluster hits its configured max_connections value\nthen only the super-users can still connect for debug purposes.\nAs the monitoring user cannot connect, this can cause a cascading\nfailure as HAProxy marks the instance as unreachable.\n\nThis configuration adds an extra listening port with a limited\nnumber of connections to allow the monitoring user to connect at\nall times.\n\nChange-Id: I57187bab2ee35521c275f0f0b99c1ca8fd1830ad\n'}, {'number': 2, 'created': '2021-06-11 14:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a89a70d2acf33a806b1c09fce26b7fd8a4c6ef49', 'message': 'Listen on an additional port for monitoring/diagnostic purposes\n\nIf the Galera cluster hits its configured max_connections value\nthen only the super-users can still connect for debug purposes.\nAs the monitoring user cannot connect, this can cause a cascading\nfailure as HAProxy marks the instance as unreachable.\n\nThis configuration adds an extra listening port with a limited\nnumber of connections to allow the monitoring user to connect at\nall times.\n\nChange-Id: I57187bab2ee35521c275f0f0b99c1ca8fd1830ad\n'}, {'number': 3, 'created': '2022-01-27 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d7fd1494746e4826c897f49578b8da63ebd51dd4', 'message': 'Listen on an additional port for monitoring/diagnostic purposes\n\nIf the Galera cluster hits its configured max_connections value\nthen only the super-users can still connect for debug purposes.\nAs the monitoring user cannot connect, this can cause a cascading\nfailure as HAProxy marks the instance as unreachable.\n\nThis configuration adds an extra listening port with a limited\nnumber of connections to allow the monitoring user to connect at\nall times.\n\nChange-Id: I57187bab2ee35521c275f0f0b99c1ca8fd1830ad\n'}, {'number': 4, 'created': '2022-01-31 10:01:58.000000000', 'files': ['templates/clustercheck.j2', 'templates/my.cnf.j2', 'releasenotes/notes/extra-port-47d2ba4074ab6a62.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/da6bdafd65b028d3db6abab7f1a63ff203596688', 'message': 'Listen on an additional port for monitoring/diagnostic purposes\n\nIf the Galera cluster hits its configured max_connections value\nthen only the super-users can still connect for debug purposes.\nAs the monitoring user cannot connect, this can cause a cascading\nfailure as HAProxy marks the instance as unreachable.\n\nThis configuration adds an extra listening port with a limited\nnumber of connections to allow the monitoring user to connect at\nall times.\n\nChange-Id: I57187bab2ee35521c275f0f0b99c1ca8fd1830ad\n'}]",5,786381,da6bdafd65b028d3db6abab7f1a63ff203596688,24,5,4,31542,,,0,"Listen on an additional port for monitoring/diagnostic purposes

If the Galera cluster hits its configured max_connections value
then only the super-users can still connect for debug purposes.
As the monitoring user cannot connect, this can cause a cascading
failure as HAProxy marks the instance as unreachable.

This configuration adds an extra listening port with a limited
number of connections to allow the monitoring user to connect at
all times.

Change-Id: I57187bab2ee35521c275f0f0b99c1ca8fd1830ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/81/786381/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/clustercheck.j2', 'templates/my.cnf.j2', 'releasenotes/notes/extra-port-47d2ba4074ab6a62.yaml', 'defaults/main.yml']",4,66ff81b9cb740abab9d066f143ca1081c9735a30,,galera_monitoring_port: 3307 galera_monitoring_max_connections: 4,,27,0
openstack%2Fkayobe~stable%2Fxena~I4b8a42704f2b0a145ee9dec433d91df67628cd9d,openstack/kayobe,stable/xena,I4b8a42704f2b0a145ee9dec433d91df67628cd9d,ntp: Fix service mask when service doesn't exist,MERGED,2022-02-02 16:45:44.000000000,2022-02-04 11:55:28.000000000,2022-02-04 11:51:29.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-02-02 16:45:44.000000000', 'files': ['releasenotes/notes/story-2009821-b309165e25e77aea.yaml', 'ansible/roles/ntp/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/816456972eb48adc03135b455928fb3b3ea58fdd', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nStory: 2009821\nTask: 44401\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827403\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}]",5,827404,816456972eb48adc03135b455928fb3b3ea58fdd,19,5,1,14826,,,0,"ntp: Fix service mask when service doesn't exist

The ntp role attempts to mask NTP services that may conflict with
chrony. Currently we are seeing the following failure:

    TASK ntp : Mask alternative NTP clients to prevent conflicts
    Could not find the requested service systemd-timesyncd.service: host

The service_facts module shows that the service is not found:

    ""systemd-timesyncd.service"": {
        ""name"": ""systemd-timesyncd.service"",
        ""source"": ""systemd"",
        ""state"": ""stopped"",
        ""status"": ""not-found""
    },

According to the Internet, this can happen if there are After/Before
dependencies in one service on another that does not exist.

This change fixes the handling of these not-found services to avoid the
error.

Story: 2009821
Task: 44401

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/827403

Change-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/827404/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/story-2009821-b309165e25e77aea.yaml', 'ansible/roles/ntp/tasks/prepare.yml']",2,816456972eb48adc03135b455928fb3b3ea58fdd,," # NOTE(mgoddard): The service_facts module can return services that are not # present, possibly due to After/Before dependencies in other services. # These show up with a status of 'not-found'. service_exists: >- {{ item in ansible_facts.services and ansible_facts.services[item].status != 'not-found' }}"," service_exists: ""{{ item in ansible_facts.services }}""",11,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fwallaby~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/wallaby,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-02 10:40:48.000000000,2022-02-04 11:44:59.000000000,2022-02-04 11:36:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 10:40:48.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/35cd4ab6f5f6749d84fff4ca3dfe35fe06cffaae', 'message': 'Remove legacy centos-8 jobs\n\nChange-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b\n'}]",1,827399,35cd4ab6f5f6749d84fff4ca3dfe35fe06cffaae,11,3,1,25023,,,0,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/99/827399/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,35cd4ab6f5f6749d84fff4ca3dfe35fe06cffaae,osa/remove-centos8,, name: openstack-ansible-dir-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: dir - job: name: openstack-ansible-overlayfs-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: ofs - job:,0,18
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,openstack/openstack-ansible-openstack_hosts,stable/victoria,I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,Add data to disable the advanced-virtualisation repository,MERGED,2022-02-03 09:58:31.000000000,2022-02-04 11:30:26.000000000,2022-02-04 11:22:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-03 09:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/320140d823b931e7f6f0295ae2846550a22fc8b0', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}, {'number': 2, 'created': '2022-02-03 10:03:34.000000000', 'files': ['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/fd93bbaf19974d6444a91be57bd322225c078a15', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}]",1,827634,fd93bbaf19974d6444a91be57bd322225c078a15,13,3,2,28619,,,0,"Add data to disable the advanced-virtualisation repository

This repo no longer exists as part of the EOL of centos-8.
Disable the repo.

Change-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678
(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/34/827634/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml']",2,320140d823b931e7f6f0295ae2846550a22fc8b0,osa/remove-centos8," state: ""{{ repo.state | default(omit) }}"" - (item.state|default('present') == 'present')",,5,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1,openstack/openstack-ansible-os_keystone,stable/wallaby,Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1,Remove legacy centos-8 CI jobs,MERGED,2022-02-02 10:44:24.000000000,2022-02-04 11:28:57.000000000,2022-02-04 11:21:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 10:44:24.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8a847844104a1484fe873bf987442dee55a4a02b', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1\n'}]",2,827474,8a847844104a1484fe873bf987442dee55a4a02b,13,3,1,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/74/827474/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,8a847844104a1484fe873bf987442dee55a4a02b,osa/remove-centos8,,- job: name: openstack-ansible-uw_apache-centos-8 parent: openstack-ansible-uw_apache nodeset: centos-8,0,6
openstack%2Fswift~master~I0522b1953722ca96021a0002cf93432b973ce626,openstack/swift,master,I0522b1953722ca96021a0002cf93432b973ce626,Fix statsd prefix mutation in proxy controllers,MERGED,2022-01-13 16:41:54.000000000,2022-02-04 11:21:18.000000000,2022-02-04 06:56:53.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 16:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/62856d0f5a76544415ffc7af009bf1dfa6883a47', 'message': 'WIP fix statsd prefix mutation in proxy controllers\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\nTODO: tests\n'}, {'number': 2, 'created': '2022-01-17 16:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6ba365572f29123fd40553689b63e918b0cfe23', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new SwiftLoggerAdapter\neach time a controller is instantiated, and the adapter applies the\ncorrect prefix for the controller type for the lifetime of the\ncontroller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 3, 'created': '2022-01-17 16:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/30765fb55495c55adec2327af2dba1fb06fb429f', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new SwiftLoggerAdapter\neach time a controller is instantiated, and the adapter applies the\ncorrect prefix for the controller type for the lifetime of the\ncontroller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 4, 'created': '2022-01-17 18:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb9699d43f9f79d2ac73e4eaa8dbe2c193d4a8eb', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new PrefixLoggerAdapter\neach time a controller is instantiated, and the adapter applies the\ncorrect prefix for the controller type for the lifetime of the\ncontroller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 5, 'created': '2022-01-17 18:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94245d0134de097a5a3e73ed130d3a25c1b0efb4', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new PrefixLoggerAdapter\neach time a controller is instantiated, and the adapter applies the\ncorrect prefix for the controller type for the lifetime of the\ncontroller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 6, 'created': '2022-01-19 15:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/091c12da42a9788fb900fbe0fcdc75ea76d4a51b', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new\nMetricsPrefixLoggerAdapter each time a controller is instantiated, and\nthe adapter applies the correct prefix for the controller type for the\nlifetime of the controller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 7, 'created': '2022-01-27 13:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e82c03df3af54996644a565d315e12ce1f3a2d7a', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new\nMetricsPrefixLoggerAdapter each time a controller is instantiated, and\nthe adapter applies the correct prefix for the controller type for the\nlifetime of the controller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 8, 'created': '2022-01-27 13:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c3d5025090fc49dd7c9b212bf8d499e1f8d8e231', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new\nMetricsPrefixLoggerAdapter each time a controller is instantiated, and\nthe adapter applies the correct prefix for the controller type for the\nlifetime of the controller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 9, 'created': '2022-01-27 17:06:47.000000000', 'files': ['test/unit/common/middleware/test_container_sync.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/common/utils.py', 'test/unit/proxy/controllers/test_info.py', 'swift/proxy/controllers/account.py', 'swift/proxy/controllers/container.py', 'test/unit/common/test_utils.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6942b25cc109258804989c32fa3ffe2b536c6e77', 'message': ""Fix statsd prefix mutation in proxy controllers\n\nSwift loggers encapsulate a StatsdClient that is typically initialised\nwith a prefix, equal to the logger name (e.g. 'proxy_server'), that is\nprepended to metrics names. The proxy server would previously mutate\nits logger's prefix, using its set_statsd_prefix method, each time a\ncontroller was instantiated, extending it with the controller type\n(e.g. changing the prefix 'proxy_server.object'). As a result, when an\nobject request spawned container subrequests, for example, the statsd\nclient would be left with a 'proxy_server.container' prefix part for\nsubsequent object request related metrics.\n\nThe proxy server logger is now wrapped with a new\nMetricsPrefixLoggerAdapter each time a controller is instantiated, and\nthe adapter applies the correct prefix for the controller type for the\nlifetime of the controller.\n\nChange-Id: I0522b1953722ca96021a0002cf93432b973ce626\n""}]",62,824608,6942b25cc109258804989c32fa3ffe2b536c6e77,48,5,9,7847,,,0,"Fix statsd prefix mutation in proxy controllers

Swift loggers encapsulate a StatsdClient that is typically initialised
with a prefix, equal to the logger name (e.g. 'proxy_server'), that is
prepended to metrics names. The proxy server would previously mutate
its logger's prefix, using its set_statsd_prefix method, each time a
controller was instantiated, extending it with the controller type
(e.g. changing the prefix 'proxy_server.object'). As a result, when an
object request spawned container subrequests, for example, the statsd
client would be left with a 'proxy_server.container' prefix part for
subsequent object request related metrics.

The proxy server logger is now wrapped with a new
MetricsPrefixLoggerAdapter each time a controller is instantiated, and
the adapter applies the correct prefix for the controller type for the
lifetime of the controller.

Change-Id: I0522b1953722ca96021a0002cf93432b973ce626
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/824608/9 && git format-patch -1 --stdout FETCH_HEAD,"['swift/proxy/controllers/account.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/container.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",5,62856d0f5a76544415ffc7af009bf1dfa6883a47,p-fix-statsd-prefix," self.stats.increment('client_timeouts') def __init__(self, app, ring, partition, node_iter=None, policy=None, stats=None): self.stats = stats if stats else self.app.logger self.stats.increment('handoff_count') self.stats.increment('handoff_all_count')class StatsWrapper(object): def __init__(self, logger, metric_prefix): self.logger = logger self.metric_prefix = metric_prefix def increment(self, metric_name): statsd_metric_name = '%s.%s' % (self.metric_prefix, metric_name) self.logger.increment(statsd_metric_name) self.stats = StatsWrapper(self.app.logger, self.server_type.lower()) node_iterator or self.app.iter_nodes(ring, part, stats=self.stats) self.stats.increment( self.stats.increment('shard_updating.cache.%s' % ('hit' if cached_ranges else 'miss')) self.stats.increment("," self.app.logger.increment('client_timeouts') def __init__(self, app, ring, partition, node_iter=None, policy=None): self.app.logger.increment('handoff_count') self.app.logger.increment('handoff_all_count') node_iterator or self.app.iter_nodes(ring, part) self.app.logger.increment( self.app.logger.increment('shard_updating.cache.%s' % ('hit' if cached_ranges else 'miss')) self.app.logger.increment(",41,25
openstack%2Frally~master~Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4,openstack/rally,master,Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4,Migrate jobs from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-01-12 01:04:30.000000000,2022-02-04 11:17:57.000000000,,"[{'_account_id': 9545}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 01:04:30.000000000', 'files': ['.zuul.d/install-jobs.yaml', '.zuul.d/zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/5a70d5976b6fc01f4de5fe9373672b80ee1185dd', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4\n'}]",2,824271,5a70d5976b6fc01f4de5fe9373672b80ee1185dd,6,3,1,9816,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4
",git fetch https://review.opendev.org/openstack/rally refs/changes/71/824271/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/install-jobs.yaml', '.zuul.d/zuul.yaml']",2,5a70d5976b6fc01f4de5fe9373672b80ee1185dd,remove-centos-8, - rally-install-centos-8-stream - rally-install-centos-8-stream, - rally-install-centos-8 - rally-install-centos-8,4,4
openstack%2Fpuppet-nova~master~I7ba317045e9811873c00ff9cc052932ec444d3bd,openstack/puppet-nova,master,I7ba317045e9811873c00ff9cc052932ec444d3bd,Migrate cross_az_attach from nova to nova::cinder,MERGED,2022-01-12 11:36:19.000000000,2022-02-04 11:06:06.000000000,2022-02-04 11:02:33.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 11:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/898190e445ad31cd563474d14794e37df7454c77', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 2, 'created': '2022-01-12 11:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6ac9f47a17d0ba59c4f2664fdf22a5d8e2c9399a', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 3, 'created': '2022-01-12 12:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b5fc05fc9a5221725350eab23163fcbc3de0ea4d', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 4, 'created': '2022-01-12 12:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e76c4b04055c4a34a8b2aaf5da4e158c619f8b4c', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 5, 'created': '2022-01-12 12:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6442d7f31338877574174995ce31b8859ca9ad12', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 6, 'created': '2022-01-12 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b8f93d4a547c1b71f75450f78db3b9b62b03ae37', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 7, 'created': '2022-01-13 03:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4927f44587b4913aaf7cf5a7c13bbb81dc72fff2', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 8, 'created': '2022-01-13 15:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f7b2cee4e3d28c04a98d945bc3cb13236eafcc11', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}, {'number': 9, 'created': '2022-02-02 16:21:03.000000000', 'files': ['manifests/cinder.pp', 'releasenotes/notes/cross_az_attach-in-cinder-2f13b4fce6a11f4d.yaml', 'spec/classes/nova_cinder_spec.rb', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3c376bd733bff778002a01fb7b5f0dbc645d0e05', 'message': 'Migrate cross_az_attach from nova to nova::cinder\n\n... to manage all [cinder] parameters by nova::cinder.\n\nChange-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd\n'}]",5,824396,3c376bd733bff778002a01fb7b5f0dbc645d0e05,32,4,9,9816,,,0,"Migrate cross_az_attach from nova to nova::cinder

... to manage all [cinder] parameters by nova::cinder.

Change-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/96/824396/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'releasenotes/notes/cross_az_attach-in-cinder-2f13b4fce6a11f4d.yaml', 'spec/classes/nova_cinder_spec.rb', 'manifests/init.pp']",4,898190e445ad31cd563474d14794e37df7454c77,cinder-opts,"# [*cross_az_attach*] # (optional) Allow attach between instance and volume in different availability zones. # Defaults to undef # $cross_az_attach = undef, if $crozz_az_attach != unef { warning('The cross_az_attach parameter is deprecated. \ Use nova::cinder::cross_az_attach instead.') } ","# [*cross_az_attach*] # (optional) Allow attach between instance and volume in different availability zones. # Defaults to $::os_service_default # $cross_az_attach = $::os_service_default, 'cinder/cross_az_attach': value => $cross_az_attach;",33,14
openstack%2Fpuppet-nova~master~I9f45c9aea59793a9d3807af4e5fe53e347d81541,openstack/puppet-nova,master,I9f45c9aea59793a9d3807af4e5fe53e347d81541,Deprecate support for unused [cinder] region_name,MERGED,2022-01-12 09:50:02.000000000,2022-02-04 11:04:45.000000000,2022-02-04 11:02:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 09:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6fddd223833c75eb4a572356aa3b7deb48673fe1', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 2, 'created': '2022-01-12 09:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5b9525bf8254f435b2275004f3e41136ed9796dd', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 3, 'created': '2022-01-12 11:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6ab89fc3cdd96c8ec8ef453e00a23ad2f892700b', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 4, 'created': '2022-01-12 12:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/832c125dbe4acf21cf672fa865572924c612e041', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 5, 'created': '2022-01-12 12:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a509e784c2b4a66e217f793f9ddbcc50fd62b45e', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 6, 'created': '2022-01-12 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bd5c813c7b9e0ac96af79ade5438ae3724d2b581', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 7, 'created': '2022-01-13 15:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6a1645c47e2a810c04f8a1cc83a814df05e7d1a0', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}, {'number': 8, 'created': '2022-02-02 16:20:37.000000000', 'files': ['manifests/cinder.pp', 'spec/classes/nova_cinder_spec.rb', 'releasenotes/notes/cinder-region_name-5385736bf050dde3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e2889d1bf629484fea216a458163f1dec95868ea', 'message': 'Deprecate support for unused [cinder] region_name\n\nThe [cinder] region_name parameter is not used by nova, while nova uses\nthe [cinder] os_region_name parameter instead.\nThis change deprecates the unused region_name parameter.\n\nChange-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541\n'}]",8,824366,e2889d1bf629484fea216a458163f1dec95868ea,31,3,8,9816,,,0,"Deprecate support for unused [cinder] region_name

The [cinder] region_name parameter is not used by nova, while nova uses
the [cinder] os_region_name parameter instead.
This change deprecates the unused region_name parameter.

Change-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/824366/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'releasenotes/notes/cinder-region_name-5385736bf050dde3.yaml']",2,6fddd223833c75eb4a572356aa3b7deb48673fe1,cinder-opts,--- deprecations: - | The ``nova::cinder::region_name`` parameter has been deprecated and it has no effect. Use the ``nova::cinder::os_region_name`` which is actually used by nova. ,,22,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibd21764992f401d06b24718ea28cb2735de53858,openstack/tripleo-heat-templates,stable/train,Ibd21764992f401d06b24718ea28cb2735de53858,[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode,MERGED,2022-02-02 10:38:18.000000000,2022-02-04 10:56:19.000000000,2022-02-04 10:56:19.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-02 10:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52679f71ce54fe68ef9fe3067cfbe45d2267d62e', 'message': '[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode\n\nDuring hybrid mode we often hit case when rpc_response_timeout 10+min\nwhich would be fine value of big environments but neutron does not\nhave heartbeat. This means that by the time control plane gets up\nwe might end up with 10min of outage before the neutron agents connect.\n\nThere is expectation that during hybrid mode only live migrations are\ndone so low value should be safe enough. This will get reset to\nwhatever value was set in templates on the node upgrade.\n\nChange-Id: Ibd21764992f401d06b24718ea28cb2735de53858\n'}, {'number': 2, 'created': '2022-02-02 15:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee1dae393a87438cd65ca160cbe64d4aa1f5dd63', 'message': '[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode\n\nDuring hybrid mode we often hit case when rpc_response_timeout 10+min\nwhich would be fine value of big environments but neutron does not\nhave heartbeat. This means that by the time control plane gets up\nwe might end up with 10min of outage before the neutron agents connect.\n\nThere is expectation that during hybrid mode only live migrations are\ndone so low value should be safe enough. This will get reset to\nwhatever value was set in templates on the node upgrade.\n\nCloses-bug: rhbz#2049690\n\nChange-Id: Ibd21764992f401d06b24718ea28cb2735de53858\n'}, {'number': 3, 'created': '2022-02-03 09:13:59.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02ffa12743952db0e03f4f24fae60c684d18b9e0', 'message': '[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode\n\nDuring hybrid mode we often hit case when rpc_response_timeout 10+min\nwhich would be fine value of big environments but neutron does not\nhave heartbeat. This means that by the time control plane gets up\nwe might end up with 10min of outage before the neutron agents connect.\n\nThere is expectation that during hybrid mode only live migrations are\ndone so low value should be safe enough. This will get reset to\nwhatever value was set in templates on the node upgrade.\n\nCloses-bug: rhbz#2049690\n\nChange-Id: Ibd21764992f401d06b24718ea28cb2735de53858\n'}]",1,827472,02ffa12743952db0e03f4f24fae60c684d18b9e0,20,9,3,11166,,,0,"[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode

During hybrid mode we often hit case when rpc_response_timeout 10+min
which would be fine value of big environments but neutron does not
have heartbeat. This means that by the time control plane gets up
we might end up with 10min of outage before the neutron agents connect.

There is expectation that during hybrid mode only live migrations are
done so low value should be safe enough. This will get reset to
whatever value was set in templates on the node upgrade.

Closes-bug: rhbz#2049690

Change-Id: Ibd21764992f401d06b24718ea28cb2735de53858
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/827472/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,52679f71ce54fe68ef9fe3067cfbe45d2267d62e,," - name: Hardcode neutron rpc_response_timeout to 60 for duration of hybrid mode ini_file: path: /var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf section: default option: rpc_response_timeout value: ""60""",,6,0
openstack%2Fneutron~stable%2Fxena~Id127675793cfd3b9d4e7e328fde64f8595c7b00d,openstack/neutron,stable/xena,Id127675793cfd3b9d4e7e328fde64f8595c7b00d,Update irrelevant-files for non scenario jobs,MERGED,2022-01-28 05:34:41.000000000,2022-02-04 10:48:59.000000000,2022-02-04 10:32:35.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 05:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10a917e2be537f87d7e613cebf1f700359ecaaf6', 'message': 'Update irrelevant-files for non scenario jobs\n\nUpdate irrelevant-files for non scenario jobs to\navoid unnecessary jobs, like skip ovs/linuxbridge\njobs on ovn related changes, same for non-ovn jobs.\n\nAlso skip running these jobs on functional and\nfullstack tests changes.\n\nChange-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d\n(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)\n'}, {'number': 2, 'created': '2022-02-04 05:09:21.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d317bedb7d41e09a22a12891735abc5df51c0d19', 'message': 'Update irrelevant-files for non scenario jobs\n\nUpdate irrelevant-files for non scenario jobs to\navoid unnecessary jobs, like skip ovs/linuxbridge\njobs on ovn related changes, same for non-ovn jobs.\n\nAlso skip running these jobs on functional and\nfullstack tests changes.\n\nChange-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d\n(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)\n'}]",4,826811,d317bedb7d41e09a22a12891735abc5df51c0d19,33,5,2,13861,,,0,"Update irrelevant-files for non scenario jobs

Update irrelevant-files for non scenario jobs to
avoid unnecessary jobs, like skip ovs/linuxbridge
jobs on ovn related changes, same for non-ovn jobs.

Also skip running these jobs on functional and
fullstack tests changes.

Change-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d
(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/826811/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml']",4,10a917e2be537f87d7e613cebf1f700359ecaaf6,neutron-ci-improvements, - ^neutron/services/ovn_l3/.*$ - ^neutron/services/logapi/drivers/ovn/.*$ - ^neutron/services/portforwarding/drivers/ovn/.*$ - ^neutron/services/qos/drivers/linuxbridge/.*$ - ^neutron/services/qos/drivers/ovn/.*$ - ^neutron/services/trunk/drivers/linuxbridge/.*$ - ^neutron/services/trunk/drivers/ovn/.*$ - ^neutron/cmd/ovn/.*$ - ^neutron/common/ovn/.*$ - ^neutron/services/qos/drivers/linuxbridge/.*$ - ^neutron/services/qos/drivers/openvswitch/.*$ - ^neutron/services/trunk/drivers/linuxbridge/.*$ - ^neutron/services/trunk/drivers/openvswitch/.*$,,66,4
openstack%2Fopenstack-ansible-os_nova~master~I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a,openstack/openstack-ansible-os_nova,master,I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a,Add advancedvirt-common repository,NEW,2022-02-02 13:56:59.000000000,2022-02-04 10:47:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-02 13:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/99d1b0b0a4f717de8717521d6c998952690e4316', 'message': 'Add advancedvirt-common repository\n\nThis contains libvirt and guestfs tools. This repository is now\nmanaged in the nova role rather than the openstack_hosts role as it\nis only required on compute hosts.\n\nChange-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a\n'}, {'number': 2, 'created': '2022-02-03 12:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/682ae15fe9c9d8533ca956832706b31eff515839', 'message': 'Add advancedvirt-common repository\n\nThis contains libvirt and guestfs tools. This repository is now\nmanaged in the nova role rather than the openstack_hosts role as it\nis only required on compute hosts.\n\nChange-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a\n'}, {'number': 3, 'created': '2022-02-03 12:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/488809bad96f9f47135be2a2d2b28097c64eb84f', 'message': 'Add advancedvirt-common repository\n\nThis contains libvirt and guestfs tools. This repository is now\nmanaged in the nova role rather than the openstack_hosts role as it\nis only required on compute hosts.\n\nChange-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a\n'}, {'number': 4, 'created': '2022-02-04 08:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/db0399e79b3a85a4d6c7912d9b9f2b5e480f8164', 'message': 'Add advancedvirt-common repository\n\nThis contains libvirt and guestfs tools. This repository is now\nmanaged in the nova role rather than the openstack_hosts role as it\nis only required on compute hosts.\n\nChange-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a\n'}, {'number': 5, 'created': '2022-02-04 08:35:58.000000000', 'files': ['releasenotes/notes/nova_package_repos-2aedc4dc8b4f94ae.yaml', 'vars/redhat.yml', 'tasks/nova_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/75c432c9cb71c69d210836651f5fcc958c63fbe1', 'message': 'Add advancedvirt-common repository\n\nThis contains libvirt and guestfs tools. This repository is now\nmanaged in the nova role rather than the openstack_hosts role as it\nis only required on compute hosts.\n\nChange-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a\n'}]",4,827501,75c432c9cb71c69d210836651f5fcc958c63fbe1,18,3,5,25023,,,0,"Add advancedvirt-common repository

This contains libvirt and guestfs tools. This repository is now
managed in the nova role rather than the openstack_hosts role as it
is only required on compute hosts.

Change-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/01/827501/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/nova_install.yml', 'defaults/main.yml']",3,99d1b0b0a4f717de8717521d6c998952690e4316,827501,"# mirror URL for centos repositories nova_centos_mirror_url: 'http://mirror.centos.org/centos' # list of repositories to install for distribution packages nova_package_repos: ""{{ _package_repos }}"" ",,37,0
openstack%2Fneutron~stable%2Fwallaby~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,stable/wallaby,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-04 05:05:06.000000000,2022-02-04 10:45:00.000000000,2022-02-04 10:32:39.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 05:05:06.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/67f36f0c5c2165df71e980ac7121d9db14487227', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nChange-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79\n(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)\nConflicts: zuul.d/rally.yaml\n \tzuul.d/tempest-multinode.yaml\n \tzuul.d/tempest-singlenode.yaml\n""}]",0,827796,67f36f0c5c2165df71e980ac7121d9db14487227,11,4,1,13861,,,0,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)
Conflicts: zuul.d/rally.yaml
 	zuul.d/tempest-multinode.yaml
 	zuul.d/tempest-singlenode.yaml
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/827796/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",6,67f36f0c5c2165df71e980ac7121d9db14487227,neutron-ci-improvements, - ^zuul.d/(?!(project)).*\.yaml - ^zuul.d/(?!(project)).*\.yaml,,15,0
openstack%2Fneutron~stable%2Fxena~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,stable/xena,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-04 05:00:56.000000000,2022-02-04 10:44:59.000000000,2022-02-04 10:32:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 05:00:56.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25e8ec0c565a27fcb35761c0708b4b83f1c9e20c', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nChange-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79\n(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)\nConflicts: zuul.d/rally.yaml\n \tzuul.d/tempest-singlenode.yaml\n \tzuul.d/tripleo.yaml\n""}]",0,827794,25e8ec0c565a27fcb35761c0708b4b83f1c9e20c,10,4,1,13861,,,0,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)
Conflicts: zuul.d/rally.yaml
 	zuul.d/tempest-singlenode.yaml
 	zuul.d/tripleo.yaml
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/827794/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",5,25e8ec0c565a27fcb35761c0708b4b83f1c9e20c,neutron-ci-improvements, - ^zuul.d/(?!(project)).*\.yaml - ^zuul.d/(?!(project)).*\.yaml,,13,0
openstack%2Fneutron~master~Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2,openstack/neutron,master,Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2,"Revert ""Switch neutron-grenade-dvr-multinode to be non voting temporary""",MERGED,2022-02-02 07:11:50.000000000,2022-02-04 10:44:57.000000000,2022-02-04 10:32:27.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 07:11:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d6b33445c2124a04f84d4d4e8d27675ba9d0b57', 'message': 'Revert ""Switch neutron-grenade-dvr-multinode to be non voting temporary""\n\nThis reverts commit 04e5a42f70605b0d1e5a3cc33bf4ee09a0da1052.\n\nRelated bug is fixed, grenade dvr job is stable since long time so we\ncan make it voting again.\n\nRelated-Bug: #1920778\nChange-Id: Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2\n'}]",1,827419,2d6b33445c2124a04f84d4d4e8d27675ba9d0b57,14,3,1,11975,,,0,"Revert ""Switch neutron-grenade-dvr-multinode to be non voting temporary""

This reverts commit 04e5a42f70605b0d1e5a3cc33bf4ee09a0da1052.

Related bug is fixed, grenade dvr job is stable since long time so we
can make it voting again.

Related-Bug: #1920778
Change-Id: Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/827419/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2d6b33445c2124a04f84d4d4e8d27675ba9d0b57,bug/1920778, - neutron-ovs-grenade-dvr-multinode - neutron-ovs-grenade-dvr-multinode, - neutron-ovs-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false,2,5
openstack%2Fpuppet-oslo~stable%2Fxena~If4622f85e1e7f715805b205bfc3c16cb1e53b943,openstack/puppet-oslo,stable/xena,If4622f85e1e7f715805b205bfc3c16cb1e53b943,Add retrying options to oslo.cache,MERGED,2022-01-31 10:12:22.000000000,2022-02-04 10:32:43.000000000,2022-02-04 10:28:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 10:12:22.000000000', 'files': ['releasenotes/notes/pymemcache_retrying-4fa326e3bc913a97.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/88197f306123c521967b5a16b4909e5227554325', 'message': 'Add retrying options to oslo.cache\n\nThis patch specifies a set of options required to setup the retrying wrapper\nfeature of pymemcache (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/803747\n\nChange-Id: If4622f85e1e7f715805b205bfc3c16cb1e53b943\n(cherry picked from commit f7dbe8aa5f4ebc31d77344932fef2eea84a32906)\n'}]",2,827034,88197f306123c521967b5a16b4909e5227554325,10,4,1,28522,,,0,"Add retrying options to oslo.cache

This patch specifies a set of options required to setup the retrying wrapper
feature of pymemcache (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/803747

Change-Id: If4622f85e1e7f715805b205bfc3c16cb1e53b943
(cherry picked from commit f7dbe8aa5f4ebc31d77344932fef2eea84a32906)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/34/827034/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pymemcache_retrying-4fa326e3bc913a97.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,88197f306123c521967b5a16b4909e5227554325,xena,"# [*enable_retry_client*] # (Optional) Enable retry client mechanisms to handle failure. # Those mechanisms can be used to wrap all kind of pymemcache # clients. The wrapper allows you to define how many attempts # to make and how long to wait between attemots. # Default to $::os_service_default # # [*retry_attempts*] # (Optional) Number of times to attempt an action before failing. # Default to $::os_service_default # # [*retry_delay*] # (Optional) Number of seconds to sleep between each attempt. # Default to $::os_service_default # $enable_retry_client = $::os_service_default, $retry_attempts = $::os_service_default, $retry_delay = $::os_service_default, 'cache/enable_retry_client' => { value => $enable_retry_client }, 'cache/retry_attempts' => { value => $retry_attempts }, 'cache/retry_delay' => { value => $retry_delay },",,34,0
openstack%2Fpuppet-oslo~stable%2Fxena~I7deed1bca1ce2f715967e966d4b0cedc1f227027,openstack/puppet-oslo,stable/xena,I7deed1bca1ce2f715967e966d4b0cedc1f227027,Add socket keepalive options for the pymemcache backend,MERGED,2022-01-31 10:12:22.000000000,2022-02-04 10:31:06.000000000,2022-02-04 10:28:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 10:12:22.000000000', 'files': ['releasenotes/notes/add_keepalive_options-3802510b6d4461e1.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/ba251d3e2d85c1c247968c5103805ba6f144a536', 'message': 'Add socket keepalive options for the pymemcache backend\n\nThis patch specifies a set of options required to setup the socket\nkeepalive feature of pymemcache (dogpile.cache) cache backend.\n\nDepends-On: https://review.opendev.org/803716\nChange-Id: I7deed1bca1ce2f715967e966d4b0cedc1f227027\n(cherry picked from commit 60495a42c9e46144dc3625cef6ede24e18245011)\n'}]",2,827033,ba251d3e2d85c1c247968c5103805ba6f144a536,10,4,1,28522,,,0,"Add socket keepalive options for the pymemcache backend

This patch specifies a set of options required to setup the socket
keepalive feature of pymemcache (dogpile.cache) cache backend.

Depends-On: https://review.opendev.org/803716
Change-Id: I7deed1bca1ce2f715967e966d4b0cedc1f227027
(cherry picked from commit 60495a42c9e46144dc3625cef6ede24e18245011)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/33/827033/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_keepalive_options-3802510b6d4461e1.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,ba251d3e2d85c1c247968c5103805ba6f144a536,xena,"# [*enable_socket_keepalive*] # (Optional) Global toggle for the socket keepalive of dogpile's # pymemcache backend # Defaults to $::os_service_default # # [*socket_keepalive_idle*] # (Optional) The time (in seconds) the connection needs to remain idle # before TCP starts sending keepalive probes. Should be a positive integer # most greater than zero. # Defaults to $::os_service_default # # [*socket_keepalive_interval*] # (Optional) The time (in seconds) between individual keepalive probes. # Should be a positive integer most greater than zero. # Defaults to $::os_service_default # # [*socket_keepalive_count*] # (Optional) The maximum number of keepalive probes TCP should send before # dropping the connection. Should be a positive integer most greater than # zero. # Defaults to $::os_service_default # $enable_socket_keepalive = $::os_service_default, $socket_keepalive_idle = $::os_service_default, $socket_keepalive_interval = $::os_service_default, $socket_keepalive_count = $::os_service_default, 'cache/enable_socket_keepalive' => { value => $enable_socket_keepalive }, 'cache/socket_keepalive_idle' => { value => $socket_keepalive_idle }, 'cache/socket_keepalive_interval' => { value => $socket_keepalive_interval }, 'cache/socket_keepalive_count' => { value => $socket_keepalive_count },",,46,0
openstack%2Fironic~stable%2Fxena~I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,openstack/ironic,stable/xena,I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,Fix resource_url in the remaining resources,MERGED,2022-02-03 17:30:30.000000000,2022-02-04 10:19:12.000000000,2022-02-04 10:16:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-03 17:30:30.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'releasenotes/notes/api-none-3fdca1ccbb64d9b0.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5615dc815f80c3830a7ddfe341856533223dff5', 'message': 'Fix resource_url in the remaining resources\n\nNode history was particularly affected: limit was not converted from\nstring to integer, so ""next"" link was never added.\n\nAdd some safeguards to the generic API code.\n\nChange-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb\n(cherry picked from commit 55144d3bd262be35c7a034fea083c3ed73fd63d8)\n'}]",0,827731,f5615dc815f80c3830a7ddfe341856533223dff5,10,2,1,10239,,,0,"Fix resource_url in the remaining resources

Node history was particularly affected: limit was not converted from
string to integer, so ""next"" link was never added.

Add some safeguards to the generic API code.

Change-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb
(cherry picked from commit 55144d3bd262be35c7a034fea083c3ed73fd63d8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/827731/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'releasenotes/notes/api-none-3fdca1ccbb64d9b0.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/api/controllers/v1/node.py']",16,f5615dc815f80c3830a7ddfe341856533223dff5,api-none-stable/xena,"def node_list_convert_with_links(nodes, limit, url, fields=None, **kwargs): @args.validate(detail=args.boolean, marker=args.uuid, limit=args.integer) def get_all(self, detail=False, marker=None, limit=None): fields = self.detail_fields if detail else self.standard_fields limit = api_utils.validate_limit(limit) url=f'nodes/{self.node_ident}/history', resource_url='nodes', resource_url='nodes/detail',","def node_list_convert_with_links(nodes, limit, url=None, fields=None, **kwargs): @args.validate(details=args.boolean, marker=args.uuid, limit=args.integer) def get_all(self, **kwargs): if kwargs.get('detail'): detail = True fields = self.detail_fields else: detail = False fields = self.standard_fields marker = kwargs.get('marker') limit = kwargs.get('limit') resource_url = 'nodes' resource_url=resource_url, resource_url = '/'.join(['nodes', 'detail']) resource_url=resource_url,",83,52
openstack%2Fironic~bugfix%2F19.0~I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,openstack/ironic,bugfix/19.0,I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,Fix resource_url in the remaining resources,MERGED,2022-02-03 17:30:42.000000000,2022-02-04 10:14:24.000000000,2022-02-04 10:10:15.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-03 17:30:42.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'releasenotes/notes/api-none-3fdca1ccbb64d9b0.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/78703943c9bcf548acdb0f47e388213e66075e41', 'message': 'Fix resource_url in the remaining resources\n\nNode history was particularly affected: limit was not converted from\nstring to integer, so ""next"" link was never added.\n\nAdd some safeguards to the generic API code.\n\nChange-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb\n(cherry picked from commit 55144d3bd262be35c7a034fea083c3ed73fd63d8)\n'}]",0,827732,78703943c9bcf548acdb0f47e388213e66075e41,10,2,1,10239,,,0,"Fix resource_url in the remaining resources

Node history was particularly affected: limit was not converted from
string to integer, so ""next"" link was never added.

Add some safeguards to the generic API code.

Change-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb
(cherry picked from commit 55144d3bd262be35c7a034fea083c3ed73fd63d8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/827732/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'releasenotes/notes/api-none-3fdca1ccbb64d9b0.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/api/controllers/v1/node.py']",16,78703943c9bcf548acdb0f47e388213e66075e41,api-none-bugfix/19.0,"def node_list_convert_with_links(nodes, limit, url, fields=None, **kwargs): @args.validate(detail=args.boolean, marker=args.uuid, limit=args.integer) def get_all(self, detail=False, marker=None, limit=None): fields = self.detail_fields if detail else self.standard_fields limit = api_utils.validate_limit(limit) url=f'nodes/{self.node_ident}/history', resource_url='nodes', resource_url='nodes/detail',","def node_list_convert_with_links(nodes, limit, url=None, fields=None, **kwargs): @args.validate(details=args.boolean, marker=args.uuid, limit=args.integer) def get_all(self, **kwargs): if kwargs.get('detail'): detail = True fields = self.detail_fields else: detail = False fields = self.standard_fields marker = kwargs.get('marker') limit = kwargs.get('limit') resource_url = 'nodes' resource_url=resource_url, resource_url = '/'.join(['nodes', 'detail']) resource_url=resource_url,",83,52
openstack%2Fopenstack-ansible-os_nova~stable%2Fxena~Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,openstack/openstack-ansible-os_nova,stable/xena,Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,Fix nova-key tag handling,MERGED,2022-02-03 19:57:13.000000000,2022-02-04 10:13:38.000000000,2022-02-04 10:09:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-03 19:57:13.000000000', 'files': ['tasks/nova_compute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/961f471f9a2b65d0147d4f1c845876dcd00ccf19', 'message': ""Fix nova-key tag handling\n\nIt appears that this tag stopped working recently when switching\nfrom import to include syntax. This patch adds the necessary\n'always' tag to ensure the 'nova-key' tag gets carried through.\n\nChange-Id: Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44\n(cherry picked from commit 7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4)\n""}]",0,827738,961f471f9a2b65d0147d4f1c845876dcd00ccf19,8,3,1,28619,,,0,"Fix nova-key tag handling

It appears that this tag stopped working recently when switching
from import to include syntax. This patch adds the necessary
'always' tag to ensure the 'nova-key' tag gets carried through.

Change-Id: Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44
(cherry picked from commit 7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/38/827738/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_compute.yml'],1,961f471f9a2b65d0147d4f1c845876dcd00ccf19,, tags: - always tags: - always,,4,0
openstack%2Ftripleo-ci~master~Id0f956787a9553e4fb476aa6e428c889fe86cb73,openstack/tripleo-ci,master,Id0f956787a9553e4fb476aa6e428c889fe86cb73,[DNM] test only: allow 'enable_fips' overrides,ABANDONED,2022-02-02 15:15:53.000000000,2022-02-04 09:27:51.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 15:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db2887b3c1867b6c81bffd620c23f7825f7b6cf7', 'message': ""[DNM] test only: allow 'enable_fips' overrides\n\nChange-Id: Id0f956787a9553e4fb476aa6e428c889fe86cb73\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-02-03 16:47:13.000000000', 'files': ['roles/run-test/tasks/main.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5652f4836e34e0cb7c7d753904faf1b851e91707', 'message': ""[DNM] test only: allow 'enable_fips' overrides\n\nChange-Id: Id0f956787a9553e4fb476aa6e428c889fe86cb73\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,827514,5652f4836e34e0cb7c7d753904faf1b851e91707,8,3,2,6926,,,0,"[DNM] test only: allow 'enable_fips' overrides

Change-Id: Id0f956787a9553e4fb476aa6e428c889fe86cb73
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/14/827514/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,db2887b3c1867b6c81bffd620c23f7825f7b6cf7,, - 'enable_fips',,1,0
openstack%2Fopenstack-ansible-os_keystone~master~I91a83f4a238b6ece458578f206dfc9cf41c0dbd0,openstack/openstack-ansible-os_keystone,master,I91a83f4a238b6ece458578f206dfc9cf41c0dbd0,Fix oidc apache module installation for centos,NEW,2022-02-01 16:55:22.000000000,2022-02-04 09:24:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-01 16:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6d978d9e93b9c341c9b10d2e7e307c88d3efe68d', 'message': 'Fix apache oidc package name for redhat based distros\n\nChange-Id: I91a83f4a238b6ece458578f206dfc9cf41c0dbd0\n'}, {'number': 2, 'created': '2022-02-01 17:35:50.000000000', 'files': ['vars/redhat.yml', 'tasks/keystone_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b96b8d8000e7fc65ecee1aa0ab830cd23fe3b5ad', 'message': 'Fix oidc apache module installation for centos\n\nThe package name was wrong and the dnf module must be enabled before\nthe package can be installed.\n\nAnsible does not seem to handle dnf module enablement cleanly, see [1]\n\n[1] https://github.com/ansible/ansible/issues/64852\n\nChange-Id: I91a83f4a238b6ece458578f206dfc9cf41c0dbd0\n'}]",3,827321,b96b8d8000e7fc65ecee1aa0ab830cd23fe3b5ad,8,3,2,25023,,,0,"Fix oidc apache module installation for centos

The package name was wrong and the dnf module must be enabled before
the package can be installed.

Ansible does not seem to handle dnf module enablement cleanly, see [1]

[1] https://github.com/ansible/ansible/issues/64852

Change-Id: I91a83f4a238b6ece458578f206dfc9cf41c0dbd0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/21/827321/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,6d978d9e93b9c341c9b10d2e7e307c88d3efe68d,, - name: mod_auth_openidc, - name: mod-auth-openidc,1,1
openstack%2Fswift~master~I923033e863b2faf3826a0f5ba84307addc34f986,openstack/swift,master,I923033e863b2faf3826a0f5ba84307addc34f986,Fix multipart upload listings,MERGED,2021-10-12 23:37:13.000000000,2022-02-04 09:16:27.000000000,2022-02-04 08:15:49.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-12 23:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd3c3a8eeb1f7d67384d9db8ab6bb0b5c6fcb1f5', 'message': 'Fix multipart upload listings\n\nWhen listing current multipart uploads, we have to keep listing the\ncontainer until we either list all the entries or there are enough MPUs\nto return to the caller. Otherwise, it is impossible to list all of the\nmultipart uploads when some of them have > 1000 parts.\n\nChange-Id: I923033e863b2faf3826a0f5ba84307addc34f986\n'}, {'number': 2, 'created': '2021-10-13 17:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5a7cf2aaa379f6d43eea468ef36b005020ed979c', 'message': 'Fix multipart upload listings\n\nWhen listing current multipart uploads, we have to keep listing the\ncontainer until we either list all the entries or there are enough MPUs\nto return to the caller. Otherwise, it is impossible to list all of the\nmultipart uploads when some of them have > 1000 parts.\n\nChange-Id: I923033e863b2faf3826a0f5ba84307addc34f986\n'}, {'number': 3, 'created': '2021-11-17 00:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bdf16423d1c567af55dcd937a0c45db23d5a7e62', 'message': 'Fix multipart upload listings\n\nWhen listing current multipart uploads, we have to keep listing the\ncontainer until we either list all the entries or there are enough MPUs\nto return to the caller. Otherwise, it is impossible to list all of the\nmultipart uploads when some of them have > 1000 parts.\n\nChange-Id: I923033e863b2faf3826a0f5ba84307addc34f986\n'}, {'number': 4, 'created': '2022-02-03 00:34:46.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/363aa3319eda33af9699916cbc75cf5d779a7352', 'message': 'Fix multipart upload listings\n\nWhen listing current multipart uploads, we have to keep listing the\ncontainer until we either list all the entries or there are enough MPUs\nto return to the caller. Otherwise, it is impossible to list all of the\nmultipart uploads when some of them have > 1000 parts.\n\nChange-Id: I923033e863b2faf3826a0f5ba84307addc34f986\n'}]",26,813715,363aa3319eda33af9699916cbc75cf5d779a7352,27,3,4,17363,,,0,"Fix multipart upload listings

When listing current multipart uploads, we have to keep listing the
container until we either list all the entries or there are enough MPUs
to return to the caller. Otherwise, it is impossible to list all of the
multipart uploads when some of them have > 1000 parts.

Change-Id: I923033e863b2faf3826a0f5ba84307addc34f986
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/813715/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",2,fd3c3a8eeb1f7d67384d9db8ab6bb0b5c6fcb1f5,,"from six.moves.urllib.parse import parse_qs, quote, quote_plus self.swift.register('GET', '%s?format=json&marker=%s' % ( self.segment_bucket, objects[-1]['name']), swob.HTTPOk, {}, json.dumps([])) def _test_bucket_multipart_uploads_GET(self, query='', multiparts=None): query_parts = parse_qs(query) swift_query = {'format': 'json'} if 'upload-id-marker' in query_parts and 'key-marker' in query_parts: swift_query['marker'] = '%s/%s' % ( query_parts['key-marker'][0], query_parts['upload-id-marker'][0]) elif 'key-marker' in query_parts: swift_query['marker'] = '%s/~' % (query_parts['key-marker'][0]) if 'prefix' in query_parts: swift_query['prefix'] = query_parts['prefix'][0] self.swift.register( 'GET', '%s?%s' % (self.segment_bucket, '&'.join(['%s=%s' % (k, v) for k, v in swift_query.items()])), swob.HTTPOk, {}, object_list) swift_query['marker'] = objects[-1]['name'] self.swift.register( 'GET', '%s?%s' % (self.segment_bucket, '&'.join(['%s=%s' % (k, v) for k, v in swift_query.items()])), swob.HTTPOk, {}, json.dumps([])) def test_bucket_multipart_uploads_GET_paginated(self): uploads = [ ['object/abc'] + ['object/abc/%d' % i for i in range(1, 1000)], ['object/def'] + ['object/def/%d' % i for i in range(1, 1000)], ['object/ghi'] + ['object/ghi/%d' % i for i in range(1, 1000)], ] objects = [ {'name': name, 'last_modified': '2014-05-07T19:47:50.592270', 'hash': 'HASH', 'bytes': 42} for upload in uploads for name in upload ] end = 1000 while True: if end == 1000: self.swift.register( 'GET', '%s?format=json' % (self.segment_bucket), swob.HTTPOk, {}, json.dumps(objects[:end])) else: self.swift.register('GET', '%s?format=json&marker=%s' % (self.segment_bucket, objects[end - 1001]['name']), swob.HTTPOk, {}, json.dumps(objects[end - 1000:end])) if not objects[end - 1000:end]: break end += 1000 req = Request.blank('/bucket/?uploads', environ={'REQUEST_METHOD': 'GET'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) elem = fromstring(body, 'ListMultipartUploadsResult') self.assertEqual(elem.find('Bucket').text, 'bucket') self.assertIsNone(elem.find('KeyMarker').text) self.assertIsNone(elem.find('UploadIdMarker').text) self.assertEqual(elem.find('NextUploadIdMarker').text, 'ghi') self.assertEqual(elem.find('MaxUploads').text, '1000') self.assertEqual(elem.find('IsTruncated').text, 'false') self.assertEqual(len(elem.findall('Upload')), len(uploads)) expected_uploads = [(upload[0], '2014-05-07T19:47:50.592Z') for upload in uploads] for u in elem.findall('Upload'): name = u.find('Key').text + '/' + u.find('UploadId').text initiated = u.find('Initiated').text self.assertIn((name, initiated), expected_uploads) self.assertEqual(u.find('Initiator/ID').text, 'test:tester') self.assertEqual(u.find('Initiator/DisplayName').text, 'test:tester') self.assertEqual(u.find('Owner/ID').text, 'test:tester') self.assertEqual(u.find('Owner/DisplayName').text, 'test:tester') self.assertEqual(u.find('StorageClass').text, 'STANDARD') self.assertEqual(status.split()[0], '200') self.assertEqual(query['marker'], quote_plus('object/Y/2')) self.assertEqual(query['marker'], quote_plus('object/Y/2'))","from six.moves.urllib.parse import quote, quote_plus def _test_bucket_multipart_uploads_GET(self, query=None, multiparts=None): segment_bucket = '/v1/AUTH_test/bucket+segments' self.swift.register('GET', segment_bucket, swob.HTTPOk, {}, object_list) self.assertEqual(query['limit'], '1001') self.assertEqual(query['marker'], quote_plus('object/Y')) self.assertEqual(query['limit'], '1001') self.assertEqual(query['marker'], quote_plus('object/~')) self.assertEqual(query['limit'], '1001') self.assertEqual(query['limit'], '1001') self.assertEqual(query['limit'], '1001') self.assertEqual(query['limit'], '1001')",108,34
openstack%2Fmonasca-api~stable%2Fwallaby~Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc,openstack/monasca-api,stable/wallaby,Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc,Enable again Zuul checks:,NEW,2022-02-03 09:54:19.000000000,2022-02-04 09:16:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 09:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dd5ed55259f8e2790c92294b252ad7f8d08bf069', 'message': 'Enable again Zuul checks:\n\n- openstack-lower-constraints-jobs\n- publish-openstack-docs-pti\n- release-notes-jobs-python3\n\nChange-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc\n'}, {'number': 2, 'created': '2022-02-03 10:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/132d4756a5ea422593bae254148da03a3b13de81', 'message': 'Enable again Zuul checks:\n\n- openstack-lower-constraints-jobs\n- publish-openstack-docs-pti\n- release-notes-jobs-python3\n- Bump Mako to 1.0.7 in lower-constraints.txt\n\nChange-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc\n'}, {'number': 3, 'created': '2022-02-03 10:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0d0e9a435fcdcff1fd129f396f82336b63aab7db', 'message': 'Enable again Zuul checks:\n\n- openstack-lower-constraints-jobs\n- publish-openstack-docs-pti\n- release-notes-jobs-python3\n- Bump Mako to 1.0.7 in lower-constraints.txt\n- Bump decorator to 4.1.0 in lower-constraints.txt\n\nChange-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc\n'}, {'number': 4, 'created': '2022-02-03 18:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0606f64c101387b40f0b70f81ea2edcf6c10cab6', 'message': 'Enable again Zuul checks:\n\n- openstack-lower-constraints-jobs\n- publish-openstack-docs-pti\n- release-notes-jobs-python3\n- Bump Mako to 1.0.7 in lower-constraints.txt\n- Bump decorator to 4.1.0 in lower-constraints.txt\n- Update devdocs build [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc\n'}, {'number': 5, 'created': '2022-02-03 19:10:12.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/e1482db17f9a8c1efccf556e5e1bef0f8e3d807e', 'message': 'Enable again Zuul checks:\n\n- openstack-lower-constraints-jobs\n- publish-openstack-docs-pti\n- release-notes-jobs-python3\n- Bump Mako to 1.0.7 in lower-constraints.txt\n- Bump decorator to 4.1.0 in lower-constraints.txt\n- Update devdocs build [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc\n'}]",1,827617,e1482db17f9a8c1efccf556e5e1bef0f8e3d807e,10,1,5,28062,,,0,"Enable again Zuul checks:

- openstack-lower-constraints-jobs
- publish-openstack-docs-pti
- release-notes-jobs-python3
- Bump Mako to 1.0.7 in lower-constraints.txt
- Bump decorator to 4.1.0 in lower-constraints.txt
- Update devdocs build [1]

[1] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/17/827617/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dd5ed55259f8e2790c92294b252ad7f8d08bf069,827617, - openstack-lower-constraints-jobs - publish-openstack-docs-pti - release-notes-jobs-python3,,3,0
openstack%2Fblazar~master~I73df4587d223dc4582cb15e0f4cb8de1a02ffee7,openstack/blazar,master,I73df4587d223dc4582cb15e0f4cb8de1a02ffee7,Restore lease status during a non fatal lease update exception,MERGED,2021-09-20 20:43:03.000000000,2022-02-04 09:00:32.000000000,2022-02-04 08:58:21.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2021-09-20 20:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/69169d140d416d807f15f267d5665180dd0b16a4', 'message': 'Restore lease status during a non fatal lease update exception\n\nIf a lease update raises an exception that is recoverable (such as\nspecifying an invalid date range) the lease would be set to ERROR\nstatus. Other cases with wrong input have similar effects.\n\nThis change allows for non fatal exceptions to be specified in\nthe lease status code. If one is raised, the lease is restored\nto the original status.\n\nCloses-Bug: #1786031\nChange-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7\n'}, {'number': 2, 'created': '2021-12-21 16:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/66534813258403989b60e34e85f8ee6d7aebee67', 'message': 'Restore lease status during a non fatal lease update exception\n\nIf a lease update raises an exception that is recoverable (such as\nspecifying an invalid date range) the lease would be set to ERROR\nstatus. Other cases with wrong input have similar effects.\n\nThis change allows for non fatal exceptions to be specified in\nthe lease status code. If one is raised, the lease is restored\nto the original status.\n\nCloses-Bug: #1786031\nChange-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7\n'}, {'number': 3, 'created': '2022-01-12 22:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8f955e3215fb53c5acee82e391c3804140f9f2b6', 'message': 'Restore lease status during a non fatal lease update exception\n\nIf a lease update raises an exception that is recoverable (such as\nspecifying an invalid date range) the lease would be set to ERROR\nstatus. Other cases with wrong input have similar effects.\n\nThis change allows for non fatal exceptions to be specified in\nthe lease status code. If one is raised, the lease is restored\nto the original status.\n\nCloses-Bug: #1786031\nChange-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7\n'}, {'number': 4, 'created': '2022-01-13 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/967f5ae2d8093b9c99bd3d6b9d6ab5a77846f0f0', 'message': 'Restore lease status during a non fatal lease update exception\n\nIf a lease update raises an exception that is recoverable (such as\nspecifying an invalid date range) the lease would be set to ERROR\nstatus. Other cases with wrong input have similar effects.\n\nThis change allows for non fatal exceptions to be specified in\nthe lease status code. If one is raised, the lease is restored\nto the original status.\n\nCloses-Bug: #1786031\nChange-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7\n'}, {'number': 5, 'created': '2022-01-14 22:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8a8135ae2433ed92bf860de2926b8690a40b0492', 'message': 'Restore lease status during a non fatal lease update exception\n\nIf a lease update raises an exception that is recoverable (such as\nspecifying an invalid date range) the lease would be set to ERROR\nstatus. Other cases with wrong input have similar effects.\n\nThis change allows for non fatal exceptions to be specified in\nthe lease status code. If one is raised, the lease is restored\nto the original status.\n\nCloses-Bug: #1786031\nChange-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7\n'}, {'number': 6, 'created': '2022-02-03 09:26:15.000000000', 'files': ['blazar/manager/service.py', 'blazar/status.py', 'blazar/tests/manager/test_service.py', 'releasenotes/notes/bug-1786031-836c6d6acae08403.yaml', 'blazar/tests/test_status.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d4cb8f428e4f23add5fc643ad23366ec58d7ec9d', 'message': 'Restore lease status during a non fatal lease update exception\n\nIf a lease update raises an exception that is recoverable (such as\nspecifying an invalid date range) the lease would be set to ERROR\nstatus. Other cases with wrong input have similar effects.\n\nThis change allows for non fatal exceptions to be specified in\nthe lease status code. If one is raised, the lease is restored\nto the original status.\n\nCloses-Bug: #1786031\nChange-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7\n'}]",12,810126,d4cb8f428e4f23add5fc643ad23366ec58d7ec9d,32,3,6,33582,,,0,"Restore lease status during a non fatal lease update exception

If a lease update raises an exception that is recoverable (such as
specifying an invalid date range) the lease would be set to ERROR
status. Other cases with wrong input have similar effects.

This change allows for non fatal exceptions to be specified in
the lease status code. If one is raised, the lease is restored
to the original status.

Closes-Bug: #1786031
Change-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7
",git fetch https://review.opendev.org/openstack/blazar refs/changes/26/810126/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'blazar/status.py', 'blazar/tests/manager/test_service.py']",3,69169d140d416d807f15f267d5665180dd0b16a4,bug/1786031," def lease_status(cls, transition, result_in, non_fatal_exceptions=[]):"," def lease_status(cls, transition, result_in):",31,10
openstack%2Fpuppet-ovn~master~I1b7092f09d766d11b526a10598fc6d6057b00ac7,openstack/puppet-ovn,master,I1b7092f09d766d11b526a10598fc6d6057b00ac7,Allow managing vswitch separately,ABANDONED,2022-01-24 13:34:43.000000000,2022-02-04 08:52:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-24 13:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/b1c7a014d4c2e739591bdf7deae26c03a5d285ad', 'message': 'Allow managing vswitch separately\n\nThis introduces the functionality similar to the one in puppet-neutron\nand allows disabling vswitch configurations. This is useful mainly\nwhen implementing vs_bridge/vs_port resource separately.\n\nChange-Id: I1b7092f09d766d11b526a10598fc6d6057b00ac7\n'}, {'number': 2, 'created': '2022-01-24 14:06:58.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'manifests/northd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/040b3534c00aed17340c61cad353cf4bc29909f2', 'message': 'Allow managing vswitch separately\n\nThis introduces the functionality similar to the one in puppet-neutron\nand allows disabling vswitch configurations. This is useful mainly\nwhen implementing vs_bridge/vs_port resource separately.\n\nChange-Id: I1b7092f09d766d11b526a10598fc6d6057b00ac7\n'}]",0,826087,040b3534c00aed17340c61cad353cf4bc29909f2,5,1,2,9816,,,0,"Allow managing vswitch separately

This introduces the functionality similar to the one in puppet-neutron
and allows disabling vswitch configurations. This is useful mainly
when implementing vs_bridge/vs_port resource separately.

Change-Id: I1b7092f09d766d11b526a10598fc6d6057b00ac7
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/87/826087/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'manifests/northd.pp']",3,b1c7a014d4c2e739591bdf7deae26c03a5d285ad,,"# [*manage_vswitch*] # (optional) This boolean is used to indicate if this class should manage the # vswitch software installation and the ovs bridges/ports from the # $bridge_mappings parameter. If manage_vswitch is set to true, then we will # require the vswitch::ovs and configure the ovs bridges/ports using the # mappings provided as part of the $bridge_mappings parameters. # Defaults to true # $dbs_listen_ip = '0.0.0.0', $dbs_cluster_local_addr = undef, $manage_vswitch = true, if $manage_vswitch { include vswitch::ovs } } Service<| name == 'openvswitch' |> -> Service['northd'] Package<| name == $::vswitch::params::ovs_package_name |> -> Package[$::ovn::params::ovn_northd_package_name]"," $dbs_listen_ip = '0.0.0.0', $dbs_cluster_local_addr = undef, include vswitch::ovs require => Service['openvswitch'] }",62,16
openstack%2Fpuppet-openstack-integration~master~I5ad5ab345546f60949d1342209291749e63d0697,openstack/puppet-openstack-integration,master,I5ad5ab345546f60949d1342209291749e63d0697,DNM: Enable puppet debug,ABANDONED,2021-11-08 12:29:51.000000000,2022-02-04 08:50:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 12:29:51.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/741b21caee2446270e2f389180e6e2bfe34044b2', 'message': 'DNM: Enable puppet debug\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474\nChange-Id: I5ad5ab345546f60949d1342209291749e63d0697\n'}]",0,817000,741b21caee2446270e2f389180e6e2bfe34044b2,6,1,1,9816,,,0,"DNM: Enable puppet debug

Depends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474
Change-Id: I5ad5ab345546f60949d1342209291749e63d0697
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/00/817000/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,741b21caee2446270e2f389180e6e2bfe34044b2,dnm,"export PUPPET_ARGS=""${PUPPET_ARGS} --debug --detailed-exitcodes --color=false --test --summarize --trace --hiera_config ${HIERA_CONFIG} --logdest ${WORKSPACE}/puppet.log""","export PUPPET_ARGS=""${PUPPET_ARGS} --detailed-exitcodes --color=false --test --summarize --trace --hiera_config ${HIERA_CONFIG} --logdest ${WORKSPACE}/puppet.log""",1,1
openstack%2Fpuppet-openstack-integration~master~I64c848a132cbd58366685f1897372018e54e62fc,openstack/puppet-openstack-integration,master,I64c848a132cbd58366685f1897372018e54e62fc,DNN: Testing,ABANDONED,2021-11-26 11:14:40.000000000,2022-02-04 08:50:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-26 11:14:40.000000000', 'files': ['manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3cddfba7ac099456c0d4d4748df19d930d7ce6c0', 'message': 'DNN: Testing\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-nova/+/819427\nChange-Id: I64c848a132cbd58366685f1897372018e54e62fc\n'}]",0,819429,3cddfba7ac099456c0d4d4748df19d930d7ce6c0,3,1,1,9816,,,0,"DNN: Testing

Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/819427
Change-Id: I64c848a132cbd58366685f1897372018e54e62fc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/29/819429/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/nova.pp'],1,3cddfba7ac099456c0d4d4748df19d930d7ce6c0,," system_roles => ['admin', 'reader'], system_scope => 'all',"," project_domain_name => 'Default',",2,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I6972c251e000d835e565bc96b208043092901c76,openstack/puppet-openstack-integration,stable/train,I6972c251e000d835e565bc96b208043092901c76,[Train-only] Run syntax/unit tests only on CentOS8,ABANDONED,2021-04-23 14:19:12.000000000,2022-02-04 08:49:37.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 14:19:12.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a33740ecfd4ecad3203b3c43293673c3cc45d61f', 'message': ""[Train-only] Run syntax/unit tests only on CentOS8\n\nCurrently syntax tests and unit tests are executed both on CentOS7\nand CentOS8 but this is very redundant because these jobs are not\nreally affected by host OS where the tests are executed.\n\nLet's drop CentOS7 jobs and replace them by CentOS8 jobs, to reduce\nnumber of jobs in stable/train.\n\nChange-Id: I6972c251e000d835e565bc96b208043092901c76\n""}]",0,787752,a33740ecfd4ecad3203b3c43293673c3cc45d61f,5,3,1,9816,,,0,"[Train-only] Run syntax/unit tests only on CentOS8

Currently syntax tests and unit tests are executed both on CentOS7
and CentOS8 but this is very redundant because these jobs are not
really affected by host OS where the tests are executed.

Let's drop CentOS7 jobs and replace them by CentOS8 jobs, to reduce
number of jobs in stable/train.

Change-Id: I6972c251e000d835e565bc96b208043092901c76
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/52/787752/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml']",3,a33740ecfd4ecad3203b3c43293673c3cc45d61f,c8job, - puppet-openstack-unit-5.5-centos-8, name: puppet-openstack-unit-5.5-centos-7 parent: puppet-openstack-unit-base nodeset: centos-7 vars: puppet_gem_version: 5.5.0 - job: - puppet-openstack-unit-5.5-centos-7 - puppet-openstack-unit-5.5-centos-7,3,22
openstack%2Fneutron~master~I676c7d19956b963ddeba0d281716324f19930ed2,openstack/neutron,master,I676c7d19956b963ddeba0d281716324f19930ed2,Add local_ip entrypoints,MERGED,2022-02-03 09:51:56.000000000,2022-02-04 08:18:43.000000000,2022-02-04 08:15:53.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 09:51:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c3d90e3da2c29ffe297d2f9322bd88b861d6cf8', 'message': 'Add local_ip entrypoints\n\nAdded local_ip entrypoints in setup.cfg neutron.objects\n\nChange-Id: I676c7d19956b963ddeba0d281716324f19930ed2\n'}]",0,827616,1c3d90e3da2c29ffe297d2f9322bd88b861d6cf8,10,3,1,32667,,,0,"Add local_ip entrypoints

Added local_ip entrypoints in setup.cfg neutron.objects

Change-Id: I676c7d19956b963ddeba0d281716324f19930ed2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/827616/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1c3d90e3da2c29ffe297d2f9322bd88b861d6cf8,bug/1930200, LocalIP = neutron.objects.local_ip:LocalIP LocalIPAssociation = neutron.objects.local_ip:LocalIPAssociation,,2,0
openstack%2Fswift~master~I71fd7f50d1aafc001d6905438f42de4e58af8421,openstack/swift,master,I71fd7f50d1aafc001d6905438f42de4e58af8421,Move *_swift_info functions into a new registry module,MERGED,2022-01-21 00:20:32.000000000,2022-02-04 07:03:17.000000000,2022-02-04 07:01:15.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 00:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/361676424a2ec38fdc28e148a974bc90296ae913', 'message': 'Trim sensitive information in the logs (follow up)\n\nThis is what it looks like to move *_swift_info and the new register\nstuff into a new module. Obviously there is more code churn.\nWhat do you think, should I squash it in?\n\nChange-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421\n'}, {'number': 2, 'created': '2022-01-27 06:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/66a44a336eb1dcba619f028857d6668e0a0bb5b6', 'message': 'Trim sensitive information in the logs (follow up)\n\nThis is what it looks like to move *_swift_info and the new register\nstuff into a new module. Obviously there is more code churn.\nWhat do you think, should I squash it in?\n\nChange-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421\n'}, {'number': 3, 'created': '2022-01-27 06:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc6b6d11355f000dafdd9a15c0607939a28f01c3', 'message': 'Trim sensitive information in the logs (follow up)\n\nThis is what it looks like to move *_swift_info and the new register\nstuff into a new module. Obviously there is more code churn.\nWhat do you think, should I squash it in?\n\nChange-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421\n'}, {'number': 4, 'created': '2022-01-28 01:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa842b18d6f89abc4c7e2d595192a2a99a94cdb6', 'message': 'Trim sensitive information in the logs (follow up)\n\nThis is what it looks like to move *_swift_info and the new register\nstuff into a new module. Obviously there is more code churn.\nWhat do you think, should I squash it in?\n\nChange-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421\n'}, {'number': 5, 'created': '2022-02-03 06:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6302ab71910dba9241b293d0f5ae706d0b65e15', 'message': ""Move *_swift_info functions into a new registry module\n\nThe *_swift_info functions use in module global dicts to provide a\nregistry mechanism for registering and getting swift info.\n\nThis is an abnormal pattern and doesn't quite fit into utils. Further\nwe looking at following this pattern for sensitive info to trim in the\nfuture.\nSo this patch does some house cleaning and moves this registry to a new\nmodule swift.common.registry. And updates all the references to it.\n\nFor backwards compat we still import the *_swift_info methods into utils\nfor any 3rd party tools or middleware.\n\nChange-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421\n""}, {'number': 6, 'created': '2022-02-03 14:41:24.000000000', 'files': ['swift/common/middleware/container_quotas.py', 'swift/common/middleware/s3api/controllers/obj.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/common/middleware/test_cname_lookup.py', 'swift/common/middleware/s3api/controllers/versioning.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/middleware/name_check.py', 'test/unit/common/middleware/test_name_check.py', 'swift/common/middleware/symlink.py', 'swift/common/middleware/bulk.py', 'test/unit/proxy/controllers/test_info.py', 'swift/common/middleware/account_quotas.py', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_bulk.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/registry.py', 'swift/common/middleware/container_sync.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_utils.py', 'swift/common/middleware/read_only.py', 'swift/proxy/controllers/info.py', 'test/unit/common/middleware/test_symlink.py', 'swift/common/middleware/tempurl.py', 'test/unit/proxy/test_server.py', 'swift/common/middleware/etag_quoter.py', 'swift/common/middleware/versioned_writes/__init__.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/domain_remap.py', 'test/unit/common/middleware/crypto/test_crypto.py', 'swift/common/middleware/s3api/controllers/bucket.py', 'swift/common/middleware/s3api/controllers/multi_delete.py', 'swift/proxy/server.py', 'test/unit/common/test_registry.py', 'test/unit/common/middleware/test_domain_remap.py', 'swift/common/utils.py', 'test/unit/common/middleware/test_versioned_writes.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/tempauth.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/common/middleware/crypto/__init__.py', 'swift/common/middleware/crossdomain.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/589ac355f3ddf505983925d80b81c20107ceace0', 'message': ""Move *_swift_info functions into a new registry module\n\nThe *_swift_info functions use in module global dicts to provide a\nregistry mechanism for registering and getting swift info.\n\nThis is an abnormal pattern and doesn't quite fit into utils. Further\nwe looking at following this pattern for sensitive info to trim in the\nfuture.\nSo this patch does some house cleaning and moves this registry to a new\nmodule swift.common.registry. And updates all the references to it.\n\nFor backwards compat we still import the *_swift_info methods into utils\nfor any 3rd party tools or middleware.\n\nChange-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421\n""}]",20,825694,589ac355f3ddf505983925d80b81c20107ceace0,32,3,6,7233,,,0,"Move *_swift_info functions into a new registry module

The *_swift_info functions use in module global dicts to provide a
registry mechanism for registering and getting swift info.

This is an abnormal pattern and doesn't quite fit into utils. Further
we looking at following this pattern for sensitive info to trim in the
future.
So this patch does some house cleaning and moves this registry to a new
module swift.common.registry. And updates all the references to it.

For backwards compat we still import the *_swift_info methods into utils
for any 3rd party tools or middleware.

Change-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/825694/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/container_quotas.py', 'swift/common/middleware/s3api/controllers/obj.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/common/middleware/test_cname_lookup.py', 'swift/common/middleware/s3api/controllers/versioning.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/middleware/name_check.py', 'test/unit/common/middleware/test_name_check.py', 'swift/common/middleware/symlink.py', 'swift/common/middleware/bulk.py', 'test/unit/proxy/controllers/test_info.py', 'swift/common/middleware/account_quotas.py', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_bulk.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3request.py', 'swift/common/registry.py', 'swift/common/middleware/container_sync.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_utils.py', 'swift/common/middleware/read_only.py', 'swift/common/middleware/proxy_logging.py', 'swift/proxy/controllers/info.py', 'test/unit/common/middleware/test_symlink.py', 'swift/common/middleware/tempurl.py', 'test/unit/proxy/test_server.py', 'swift/common/middleware/etag_quoter.py', 'swift/common/middleware/versioned_writes/__init__.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/domain_remap.py', 'test/unit/common/middleware/crypto/test_crypto.py', 'swift/common/middleware/s3api/controllers/bucket.py', 'swift/common/middleware/s3api/controllers/multi_delete.py', 'swift/proxy/server.py', 'test/unit/common/test_registry.py', 'test/unit/common/middleware/test_domain_remap.py', 'swift/common/utils.py', 'test/unit/common/middleware/test_versioned_writes.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/tempauth.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/common/middleware/crypto/__init__.py', 'swift/common/middleware/crossdomain.py', 'swift/common/request_helpers.py']",47,361676424a2ec38fdc28e148a974bc90296ae913,sigs-in-logs_1_1_1,," _sensitive_headers = set() _sensitive_params = set() def get_sensitive_headers(): return set(_sensitive_headers) def register_sensitive_header(header): if not isinstance(header, str): raise TypeError _sensitive_headers.add(header) def get_sensitive_params(): return set(_sensitive_params) def register_sensitive_param(query_param): if not isinstance(query_param, str): raise TypeError _sensitive_params.add(query_param)",480,424
openstack%2Fneutron~master~Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9,openstack/neutron,master,Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9,[DNM] Test test_network_v6.TestGettingAddress,ABANDONED,2022-02-03 06:13:11.000000000,2022-02-04 05:34:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 06:13:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f4ddabf715ef50a96f7b98503dfd7ab67e0a8b5', 'message': '[DNM] Test test_network_v6.TestGettingAddress\n\nChange-Id: Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9\n'}]",0,827593,9f4ddabf715ef50a96f7b98503dfd7ab67e0a8b5,4,1,1,13861,,,0,"[DNM] Test test_network_v6.TestGettingAddress

Change-Id: Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/827593/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9f4ddabf715ef50a96f7b98503dfd7ab67e0a8b5,bug/1863577, - neutron-ovn-tempest-slow check-arm64: jobs: []," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-yoga-jobs - openstack-python3-yoga-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py39: # from openstack-python3-yoga-jobs template timeout: 3600 voting: false - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 check-arm64: jobs: - openstack-tox-py38-arm64: # from openstack-python3-yoga-jobs-arm64 template timeout: 4800 - openstack-tox-py39-arm64: # from openstack-python3-yoga-jobs-arm64 template timeout: 4800",2,47
openstack%2Fneutron~master~I8620f8fa637961c09d2a13c1866997548590de1a,openstack/neutron,master,I8620f8fa637961c09d2a13c1866997548590de1a,Set SIGTERM_TIMEOUT to 0 for dhcp/l3 agent unit tests,ABANDONED,2021-12-10 13:53:42.000000000,2022-02-04 05:33:06.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-10 13:53:42.000000000', 'files': ['neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51689cb620b30e793e17bb2b6c0ec0c8c65bbdd9', 'message': 'Set SIGTERM_TIMEOUT to 0 for dhcp/l3 agent unit tests\n\nWithout this tests were taking atleast 5 seconds\nto complete.\n\nChange-Id: I8620f8fa637961c09d2a13c1866997548590de1a\n'}]",2,821403,51689cb620b30e793e17bb2b6c0ec0c8c65bbdd9,10,4,1,13861,,,0,"Set SIGTERM_TIMEOUT to 0 for dhcp/l3 agent unit tests

Without this tests were taking atleast 5 seconds
to complete.

Change-Id: I8620f8fa637961c09d2a13c1866997548590de1a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/821403/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,51689cb620b30e793e17bb2b6c0ec0c8c65bbdd9,neutron-ci-improvements," mock.patch.object(metadata_driver, 'SIGTERM_TIMEOUT', 0).start()",,2,0
openstack%2Fswift~master~I2fbb21cabf72849ce84760a6d2607aa2af67f286,openstack/swift,master,I2fbb21cabf72849ce84760a6d2607aa2af67f286,Get rid of pipeline_property,MERGED,2021-12-15 23:21:56.000000000,2022-02-04 03:48:11.000000000,2022-02-04 01:48:38.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 23:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b11878b7393e09de81dd82dd1fd5b7eb0df4407e', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI application. Note that this reimplements much of paste.deploy's pipeline handling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 2, 'created': '2021-12-18 01:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f95034c949971ab4cfedb70a1dc36bb51d7e3c1a', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 3, 'created': '2021-12-18 01:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e3691b095171021ce031fcecdd1a42ca546b2f44', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 4, 'created': '2022-01-06 19:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/62108a947dd05f6a40a21fa52bab6a5c5b2c0a2b', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 5, 'created': '2022-01-06 20:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f08c5e0e30f3f6b318503d0caed7d4df1993c55f', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 6, 'created': '2022-01-07 21:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/079abc5f71d8932ccd3b10f2c9610597c734f433', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 7, 'created': '2022-01-14 01:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ab8922ff88f1405984c247c3d84f4d3c353fe13a', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 8, 'created': '2022-01-14 22:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1f212810fa307870d620c3e4241d258008021a8e', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 9, 'created': '2022-01-20 02:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55295005fd13a35cc78bba0adcfc85c4daf45d84', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 10, 'created': '2022-01-20 02:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/26c0f31379ba4b47f84fe13c1f7f09a47abdb15a', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 11, 'created': '2022-01-24 22:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff2eee001ea8f90f629f3d84e2de93e10816068f', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 12, 'created': '2022-01-25 05:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f6a1dc1c02b130aab43c7fceb9bbf44ed9c28cc', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 13, 'created': '2022-01-27 17:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f45bd0d502f4e68db03969d60b8fd673443adfb', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}, {'number': 14, 'created': '2022-01-27 22:40:38.000000000', 'files': ['test/unit/obj/test_expirer.py', 'test/unit/common/test_internal_client.py', 'test/unit/proxy/test_server.py', 'test/unit/container/test_reconciler.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'test/unit/common/middleware/helpers.py', 'test/probe/test_container_sync.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9bc1c008a56fbc4a69aafd3d3177d7be368b181d', 'message': ""Get rid of pipeline_property\n\nInstead, ensure every middleware gets a reference to the final WSGI\napplication. Note that this reimplements much of paste.deploy's pipeline\nhandling, but that code hasn't changed in years, anyway.\n\nChange-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286\n""}]",35,821920,9bc1c008a56fbc4a69aafd3d3177d7be368b181d,80,4,14,15343,,,0,"Get rid of pipeline_property

Instead, ensure every middleware gets a reference to the final WSGI
application. Note that this reimplements much of paste.deploy's pipeline
handling, but that code hasn't changed in years, anyway.

Change-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/821920/5 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_reconciler.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'swift/common/internal_client.py']",4,b11878b7393e09de81dd82dd1fd5b7eb0df4407e,bug/1883324,"from swift.common.wsgi import loadappdef pipeline_property(name): def getter(self): return getattr(self.app._pipeline_final_app, name) return property(getter) 'auto_create_account_prefix')","from swift.common.constraints import AUTO_CREATE_ACCOUNT_PREFIXfrom swift.common.wsgi import loadapp, pipeline_property 'auto_create_account_prefix', default=AUTO_CREATE_ACCOUNT_PREFIX)",24,86
openstack%2Ftacker~master~I029d858d730ef8d462a179e9943f003b9445a9c8,openstack/tacker,master,I029d858d730ef8d462a179e9943f003b9445a9c8,[WIP] Remove templates for registering VIM in FT,NEW,2021-10-18 08:24:32.000000000,2022-02-04 03:09:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-18 08:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f492162f306b40e855b5c61ec91b005321c4275c', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 2, 'created': '2021-10-18 16:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/25bea617f3120705f4a8ca3ec90f5108f1f5a17c', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 3, 'created': '2021-10-19 01:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9c02e427b1855629db844d9fa7904aefab6038c3', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 4, 'created': '2021-10-19 07:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c7464a7f35de29b71faf962b620bbd76d1256b32', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 5, 'created': '2021-10-19 15:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d8daf30e83b19ea740f60cf65c39883ce6cc503f', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 6, 'created': '2021-10-20 05:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d5c1828fed1034d231e1002cd43263b54d6bd08a', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 7, 'created': '2021-10-20 16:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/94b9cf7c28b99721a2c95827b905961e9e418884', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 8, 'created': '2021-10-20 16:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5837c123debc56b7b5a1a83761c2db997616633c', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 9, 'created': '2021-10-21 05:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bf63350620aefd7b581c1c6140aef02a8325a08d', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 10, 'created': '2021-10-21 05:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/af84e023add1c736528d929da1cb4893ef9dd2b3', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 11, 'created': '2021-11-17 05:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2c700881b984cb5ee2cdcf2900723f79dd8564b8', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 12, 'created': '2021-11-22 15:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3c02b029bb64e1dd3ab58a85597b532c50220c36', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}, {'number': 13, 'created': '2021-12-22 11:25:50.000000000', 'files': ['roles/setup-default-vim/defaults/main.yaml', 'tools/test-setup-k8s-vim.sh', 'roles/setup-default-vim/tasks/main.yaml', 'tools/test-setup-default-vim.sh'], 'web_link': 'https://opendev.org/openstack/tacker/commit/fdc97bf34dce52bab10fa8797a79597ef1228518', 'message': '[WIP] Remove templates for registering VIM in FT\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I029d858d730ef8d462a179e9943f003b9445a9c8\n'}]",12,814366,fdc97bf34dce52bab10fa8797a79597ef1228518,35,1,13,25701,,,0,"[WIP] Remove templates for registering VIM in FT

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I029d858d730ef8d462a179e9943f003b9445a9c8
",git fetch https://review.opendev.org/openstack/tacker refs/changes/66/814366/12 && git format-patch -1 --stdout FETCH_HEAD,"['roles/setup-default-vim/defaults/main.yaml', 'tools/test-setup-k8s-vim.sh', 'roles/setup-default-vim/tasks/main.yaml', 'tools/test-setup-default-vim.sh']",4,f492162f306b40e855b5c61ec91b005321c4275c,vim_reg_conf,,"#!/bin/bash -xe # This script is used to set up default vim # for functional testing, which cannot be put # in devstack/plugin.sh because new zuul3 CI # cannot keep the devstack plugins order # # Also, this script updates the following # parameter which has been modified # unintentionally by ansible playbook # `roles/setup-default-vim/tasks/main.yaml` # according to the execution environment of # Zuul. # # --os-auth-url # --config-file openstack vim register \ --os-username nfv_user \ --os-project-name nfv \ --os-password devstack \ --os-auth-url http://127.0.0.1/identity \ --os-project-domain-name Default \ --os-user-domain-name Default \ --is-default \ --description ""Default VIM"" \ --config-file /opt/stack/tacker/tacker/tests/etc/samples/local-vim.yaml \ VIM0 ",31,167
openstack%2Fdesignate~master~Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b,openstack/designate,master,Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b,Add non-voting dnspython latest release unit test,MERGED,2022-01-24 23:04:05.000000000,2022-02-04 02:47:23.000000000,2022-02-04 02:37:33.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-01-24 23:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/576ac83227193d340ad2dc631f57fa460b7923ca', 'message': 'Add non-voting dnspython tip-of-tree unit test job\n\nThis patch adds a non-voting job that runs the Designate unit tests\nwith the tip-of-tree version of the dnspython package.\n\nChange-Id: Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b\n'}, {'number': 2, 'created': '2022-01-24 23:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/88727aef5d93d593af70f8d4789f3841293d4949', 'message': 'Add non-voting dnspython tip-of-tree unit test job\n\nThis patch adds a non-voting job that runs the Designate unit tests\nwith the tip-of-tree version of the dnspython package.\n\nChange-Id: Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b\n'}, {'number': 3, 'created': '2022-01-26 00:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d18758a4aa8715bbd6dc869b29deefd6e9967a62', 'message': 'Add non-voting dnspython latest release unit test\n\nThis patch adds a non-voting job that runs the Designate unit tests\nwith the latest release of the dnspython package.\n\nChange-Id: Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b\n'}, {'number': 4, 'created': '2022-02-03 23:40:36.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/07a8a9d693c0674af134c443260ed58c9badcfb0', 'message': 'Add non-voting dnspython latest release unit test\n\nThis patch adds a non-voting job that runs the Designate unit tests\nwith the latest release of the dnspython package.\n\nChange-Id: Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b\n'}]",15,826192,07a8a9d693c0674af134c443260ed58c9badcfb0,34,4,4,11628,,,0,"Add non-voting dnspython latest release unit test

This patch adds a non-voting job that runs the Designate unit tests
with the latest release of the dnspython package.

Change-Id: Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b
",git fetch https://review.opendev.org/openstack/designate refs/changes/92/826192/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,576ac83227193d340ad2dc631f57fa460b7923ca,, [testenv:dnspython-tips] commands = python -m pip install -U 'git+https://github.com/rthalley/dnspython.git#egg=dnspython' {[testenv]commands},,25,10
openstack%2Ftripleo-quickstart-extras~master~I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616,openstack/tripleo-quickstart-extras,master,I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616,Temptest - Use public identity endpoint,ABANDONED,2022-02-03 21:40:53.000000000,2022-02-04 02:27:50.000000000,,"[{'_account_id': 8367}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-03 21:40:53.000000000', 'files': ['roles/validate-tempest/templates/configure-tempest.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/584a51eeb2354596f4a10904dfd1e000b6d4954a', 'message': 'Temptest - Use public identity endpoint\n\nSet [identity]\\v3_endpoint_type = public in temptest.conf.\n\nChange-Id: I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616\nCloses-Bug: 1959930\n'}]",1,827767,584a51eeb2354596f4a10904dfd1e000b6d4954a,6,2,1,24245,,,0,"Temptest - Use public identity endpoint

Set [identity]\v3_endpoint_type = public in temptest.conf.

Change-Id: I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616
Closes-Bug: 1959930
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/827767/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/configure-tempest.sh.j2'],1,584a51eeb2354596f4a10904dfd1e000b6d4954a,bug/1959930, compute_feature_enabled.config_drive True \ identity.v3_endpoint_type public, compute_feature_enabled.config_drive True,2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140,openstack/tripleo-heat-templates,stable/wallaby,Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140,Check that redis is removed prior to FFU,MERGED,2022-01-19 10:11:48.000000000,2022-02-04 02:14:21.000000000,2022-02-04 02:01:37.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-19 10:11:48.000000000', 'files': ['releasenotes/notes/redis_disabled_by_default-9992b2bae9b149cd.yaml', 'environments/docker-ha.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'environments/ha-redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bd96ff045e5a27d3431b6a88a6d4186f0527749', 'message': 'Check that redis is removed prior to FFU\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\n\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker. The pre-check is performed prior to\nos upgrade so that pacemaker is still installed and the cluster\ncan still be inspected.\n\nTested as follows:\n  . FFU with redis-bundle not removed fails as expected\n  . FFU with redis-bundle removed finishes\n  . FFU when redis service is enabled post-FFU always finishes\n  . re-running os-upgrade is idempotent\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n(cherry picked from commit 4236449451d4053fa5944fb4c9c78ea083d4145e)\n'}]",0,825213,9bd96ff045e5a27d3431b6a88a6d4186f0527749,11,6,1,20778,,,0,"Check that redis is removed prior to FFU

We want to disable Redis by default in new deployments, without
impacting upgrade of existing deployments.

Add a pre-check during upgrade and bail out if Redis is not
enabled explicitely during upgrade and if the resource already
exists in pacemaker. The pre-check is performed prior to
os upgrade so that pacemaker is still installed and the cluster
can still be inspected.

Tested as follows:
  . FFU with redis-bundle not removed fails as expected
  . FFU with redis-bundle removed finishes
  . FFU when redis service is enabled post-FFU always finishes
  . re-running os-upgrade is idempotent

Change-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140
Closes-Bug: #1872645
(cherry picked from commit 4236449451d4053fa5944fb4c9c78ea083d4145e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/825213/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redis_disabled_by_default-9992b2bae9b149cd.yaml', 'environments/docker-ha.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'environments/ha-redis.yaml']",4,9bd96ff045e5a27d3431b6a88a6d4186f0527749,precheck-no-redis-stable/wallaby,"# Environment file to deploy the Redis in a pacemaker cluster. # As Redis is no longer deployed by default, this file is only # necessary if you upgrade an existing overcloud or if you implicitely # rely on Redis resource_registry: OS::TripleO::Services::Redis: ../deployment/database/redis-pacemaker-puppet.yaml ",,32,1
openstack%2Frequirements~stable%2Fwallaby~I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e,openstack/requirements,stable/wallaby,I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e,update constraint for ovsdbapp to new release 1.9.1,MERGED,2022-01-24 14:55:45.000000000,2022-02-04 02:12:07.000000000,2022-02-04 02:12:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 14:55:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5e8c9f4b4bc5a537a5c4659e5e96953c9c6ff94e', 'message': 'update constraint for ovsdbapp to new release 1.9.1\n\nmeta: version: 1.9.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e\n'}]",0,826096,5e8c9f4b4bc5a537a5c4659e5e96953c9c6ff94e,16,2,1,11131,,,0,"update constraint for ovsdbapp to new release 1.9.1

meta: version: 1.9.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/826096/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5e8c9f4b4bc5a537a5c4659e5e96953c9c6ff94e,new-release,ovsdbapp===1.9.1,ovsdbapp===1.9.0,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~If4450e8cf1be8231f06033b603dba41dfa65ffbb,openstack/tripleo-ansible,stable/train,If4450e8cf1be8231f06033b603dba41dfa65ffbb,Add the MTU size to ping to catch network issues,MERGED,2021-11-19 01:49:27.000000000,2022-02-04 02:01:34.000000000,2022-02-04 02:01:34.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-19 01:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2e7454b2389e1db8a0c4e844c0c6e4234a37a62', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb\n(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)\n'}, {'number': 2, 'created': '2021-11-19 02:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4963e124cfb39188b76aac9593bb1d59c2dd7cf1', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb\n(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)\n'}, {'number': 3, 'created': '2021-11-19 13:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f9ab618963d80548902988dd95d172b9af9bdbd3', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb\n(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)\n'}, {'number': 4, 'created': '2022-01-25 19:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4583fe1529d0bb81dc2cc5eb964b323da995b74f', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb\n(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)\n'}, {'number': 5, 'created': '2022-01-25 19:49:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce3f30f910303ae1d5b8009a1344039a411d9b5a', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb\n(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)\n'}]",7,818481,ce3f30f910303ae1d5b8009a1344039a411d9b5a,31,4,5,7130,,,0,"Add the MTU size to ping to catch network issues

Many times users hit this issue where nic templates set jumbo
frames properly but switches are not properly configured and this
situation creates random issues hard to troubleshoot ranging from
a CEPH cluster not forming to swift not syncing properly.  Adding
an early test for MTU sizes in the ansible playbooks should fail
early and put us on a path to early solve this issue instead of
spending a week or more trying to figure out why CEPH batch LVM
is not working.

Change-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb
(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/818481/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",2,b2e7454b2389e1db8a0c4e844c0c6e4234a37a62,mtu4-stable/wallaby-stable/ussuri-stable/victoria-stable/ussuri-stable/train, include_tasks: ping.yml," command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -c 1 {{ controller }}"" retries: 10 delay: 60 changed_when: false",46,4
openstack%2Fopenstack-helm~master~I8c4f71bf72994f55001fc0e83d23a43dd1264a44,openstack/openstack-helm,master,I8c4f71bf72994f55001fc0e83d23a43dd1264a44,Correct ssl_minimum_version,MERGED,2022-01-27 18:19:31.000000000,2022-02-04 00:56:35.000000000,2022-02-04 00:54:47.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28664}, {'_account_id': 28719}, {'_account_id': 29974}]","[{'number': 1, 'created': '2022-01-27 18:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1aec29f1219b0465b1989f0b57f09c697c6d14a1', 'message': '[WIP] Correct ssl_minimum_version\n\nChange-Id: I8c4f71bf72994f55001fc0e83d23a43dd1264a44\n'}, {'number': 2, 'created': '2022-02-01 14:52:06.000000000', 'files': ['nova/values_overrides/tls.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dac65cc6f6cd0731a0d2294cf7791b9d38441dc7', 'message': 'Correct ssl_minimum_version\n\nThis setting needs to be in the console ini section:\n\nhttps://docs.openstack.org/nova/latest/configuration/sample-config.html\n\nChange-Id: I8c4f71bf72994f55001fc0e83d23a43dd1264a44\n'}]",0,826760,dac65cc6f6cd0731a0d2294cf7791b9d38441dc7,16,9,2,32190,,,0,"Correct ssl_minimum_version

This setting needs to be in the console ini section:

https://docs.openstack.org/nova/latest/configuration/sample-config.html

Change-Id: I8c4f71bf72994f55001fc0e83d23a43dd1264a44
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/826760/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/tls.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml']",3,1aec29f1219b0465b1989f0b57f09c697c6d14a1,tls_minimum_2,version: 0.2.28,version: 0.2.27,3,2
openstack%2Fbarbican~master~I55660e53496c814116311ecacacfdf1716297761,openstack/barbican,master,I55660e53496c814116311ecacacfdf1716297761,DNF - Testing gate health,ABANDONED,2022-02-03 22:09:57.000000000,2022-02-04 00:43:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 22:09:57.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/040e97276dcf874ff4e12cb27e7a8e9c273f2850', 'message': 'DNF - Testing gate health\n\nChange-Id: I55660e53496c814116311ecacacfdf1716297761\n'}]",0,827771,040e97276dcf874ff4e12cb27e7a8e9c273f2850,3,1,1,7973,,,0,"DNF - Testing gate health

Change-Id: I55660e53496c814116311ecacacfdf1716297761
",git fetch https://review.opendev.org/openstack/barbican refs/changes/71/827771/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,040e97276dcf874ff4e12cb27e7a8e9c273f2850,,Barbican is a Key Management Service (KMS) for OpenStack clouds.,"The current state of key management is atrocious. While Windows does have some decent options through the use of the Data Protection API (DPAPI) and Active Directory, Linux lacks a cohesive story around how to manage keys for application use. Barbican was designed to solve this problem. The system was motivated by internal Rackspace needs, requirements from `OpenStack <http://www.openstack.org/>`_ and a realization that the current state of the art could use some help.",1,10
openstack%2Fopenstack-ansible-os_octavia~master~I7f7e9a5a4a12afff994f548abff2482818a43ccb,openstack/openstack-ansible-os_octavia,master,I7f7e9a5a4a12afff994f548abff2482818a43ccb,Remove legacy db pooling variables,MERGED,2022-02-01 09:20:56.000000000,2022-02-04 00:21:08.000000000,2022-02-04 00:19:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 09:20:56.000000000', 'files': ['releasenotes/notes/db-pooling-old-vars-0fca50f8114ab7bb.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d736c640722c6c3fd419c6da5edf7c698b8fcd3f', 'message': 'Remove legacy db pooling variables\n\nChange-Id: I7f7e9a5a4a12afff994f548abff2482818a43ccb\n'}]",1,827252,d736c640722c6c3fd419c6da5edf7c698b8fcd3f,12,3,1,25023,,,0,"Remove legacy db pooling variables

Change-Id: I7f7e9a5a4a12afff994f548abff2482818a43ccb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/52/827252/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/db-pooling-old-vars-0fca50f8114ab7bb.yaml', 'defaults/main.yml']",2,d736c640722c6c3fd419c6da5edf7c698b8fcd3f,,"octavia_db_max_pool_size: ""{{ openstack_db_max_pool_size | default('5') }}""","# TODO(damiandabrowski): Remove octavia_db_pool_size in Yoga release octavia_db_max_pool_size: ""{{ openstack_db_max_pool_size | default(octavia_db_pool_size | default('5')) }}""",6,2
openstack%2Frequirements~stable%2Fwallaby~Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9,openstack/requirements,stable/wallaby,Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9,update constraint for os-ken to new release 1.4.1,MERGED,2022-01-24 15:03:20.000000000,2022-02-04 00:13:20.000000000,2022-02-04 00:13:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 15:03:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9246471317e2f29cb7e216c0e0a4c0ffff68d83a', 'message': 'update constraint for os-ken to new release 1.4.1\n\nmeta: version: 1.4.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: I8ef64f405d0e9588d49c99e6a955ddd88f39d521\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9\n'}]",0,826098,9246471317e2f29cb7e216c0e0a4c0ffff68d83a,24,3,1,11131,,,0,"update constraint for os-ken to new release 1.4.1

meta: version: 1.4.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I8ef64f405d0e9588d49c99e6a955ddd88f39d521
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/826098/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9246471317e2f29cb7e216c0e0a4c0ffff68d83a,new-release,os-ken===1.4.1,os-ken===1.4.0,1,1
openstack%2Fopenstack-ansible-os_keystone~master~Ia3f22083aab60bca3a64f989f2f94120a95504b9,openstack/openstack-ansible-os_keystone,master,Ia3f22083aab60bca3a64f989f2f94120a95504b9,Remove legacy nginx cleanup tasks,MERGED,2022-02-01 08:53:30.000000000,2022-02-03 23:59:37.000000000,2022-02-03 23:58:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 08:53:30.000000000', 'files': ['tasks/keystone_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/63b5981152ce5686ac302511ab50015dc1595b8d', 'message': 'Remove legacy nginx cleanup tasks\n\nChange-Id: Ia3f22083aab60bca3a64f989f2f94120a95504b9\n'}]",1,827220,63b5981152ce5686ac302511ab50015dc1595b8d,12,3,1,25023,,,0,"Remove legacy nginx cleanup tasks

Change-Id: Ia3f22083aab60bca3a64f989f2f94120a95504b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/20/827220/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_install.yml'],1,63b5981152ce5686ac302511ab50015dc1595b8d,,,"# TODO(noonedeadpunk): Remove nginx-related changes in Y release - name: Remove nginx keystone vhost configuration file: path: ""/etc/nginx/{{ (ansible_facts['os_family'] | lower == 'debian') | ternary('sites-available', 'conf.d') }}/{{ item }}.conf"" state: absent with_items: ""{{ keystone_services.keys() | list }}"" register: nginx_vhosts - name: Remove nginx symlink for vhost configuration file: path: /etc/nginx/sites-enabled/{{ item }}.conf state: absent with_items: ""{{ keystone_services.keys() | list }}"" when: ansible_facts['os_family'] == ""Debian"" - name: Reload nginx if needed service: name: ""nginx"" state: restarted failed_when: false when: nginx_vhosts is changed # If the web server being removed was never installed, this task will fail when trying # to stop/disable it. The task is therefore set to never fail. - name: Remove nginx web server when: ""('repo_all' in groups and inventory_hostname not in groups['repo_all']) or ('repo_all' not in groups)"" block: - name: Ensure nginx web server is not running/enabled service: name: ""nginx"" enabled: no state: stopped failed_when: false - name: Remove nginx server distro packages package: name: ""nginx"" state: absent autoremove: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary('yes', omit) }}"" ",0,40
openstack%2Fopenstack-ansible-os_masakari~master~Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45,openstack/openstack-ansible-os_masakari,master,Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:18:14.000000000,2022-02-03 23:48:46.000000000,2022-02-03 23:47:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:18:14.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/d9d1fc8b94fbc42b37283f2e1065fcbbddd6675e', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45\n'}]",2,827446,d9d1fc8b94fbc42b37283f2e1065fcbbddd6675e,13,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/46/827446/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,d9d1fc8b94fbc42b37283f2e1065fcbbddd6675e,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""{{ masakari_etc_dir }}/policy.json"" state: absent listen: - ""Restart masakari services"" - ""venv changed"" ",0,9
openstack%2Fswift~master~I57430790c9c22bc7902bd9c8f8cbfadb47115bd0,openstack/swift,master,I57430790c9c22bc7902bd9c8f8cbfadb47115bd0,CI: Use xena on CentOS 8 Stream,MERGED,2022-02-03 18:43:30.000000000,2022-02-03 23:18:11.000000000,2022-02-03 21:26:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 18:43:30.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/swift/commit/7f2adb4e8b0f483bb01ff9b71747d76ebb14ef38', 'message': 'CI: Use xena on CentOS 8 Stream\n\nChange-Id: I57430790c9c22bc7902bd9c8f8cbfadb47115bd0\n'}]",1,827754,7f2adb4e8b0f483bb01ff9b71747d76ebb14ef38,8,2,1,15343,,,0,"CI: Use xena on CentOS 8 Stream

Change-Id: I57430790c9c22bc7902bd9c8f8cbfadb47115bd0
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/827754/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,7f2adb4e8b0f483bb01ff9b71747d76ebb14ef38,, sudo dnf install -y centos-release-openstack-xena, sudo dnf install -y centos-release-openstack-ussuri,1,1
openstack%2Fopenstack-helm-infra~master~I005857bd9aa43a20fce3575269b4681cdeb9e12e,openstack/openstack-helm-infra,master,I005857bd9aa43a20fce3575269b4681cdeb9e12e,Syslog Fix,ABANDONED,2022-02-02 17:56:36.000000000,2022-02-03 23:15:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 17:56:36.000000000', 'files': ['ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9db8f5020a917780f74c3948bb85443c642cfe1c', 'message': 'Syslog Fix\n\nLogs are created when kubelet creates a new connection to CSI driver.\nTo stop these logs, prefix must be added\n\nChange-Id: I005857bd9aa43a20fce3575269b4681cdeb9e12e\n'}]",1,827534,9db8f5020a917780f74c3948bb85443c642cfe1c,5,1,1,31660,,,0,"Syslog Fix

Logs are created when kubelet creates a new connection to CSI driver.
To stop these logs, prefix must be added

Change-Id: I005857bd9aa43a20fce3575269b4681cdeb9e12e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/827534/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml'],1,9db8f5020a917780f74c3948bb85443c642cfe1c,," - ""--kubelet-registration-path=passthrough:///var/lib/kubelet/plugins/$(DEPLOYMENT_NAMESPACE).rbd.csi.ceph.com/csi.sock"""," - ""--kubelet-registration-path=/var/lib/kubelet/plugins/$(DEPLOYMENT_NAMESPACE).rbd.csi.ceph.com/csi.sock""",1,1
openstack%2Foctavia~master~I550c7d2563a2d3ada07e2162383f59f104bcbbd5,openstack/octavia,master,I550c7d2563a2d3ada07e2162383f59f104bcbbd5,Restart rsyslog from cloud-init,MERGED,2022-01-27 19:12:29.000000000,2022-02-03 23:14:23.000000000,2022-02-03 23:12:37.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 19:12:29.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'releasenotes/notes/ensure-rsyslog-config-is-reloaded-b4a25a98b661d0f1.yaml', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cbffae6eb684629a19844b5f2f4b7523b77a725e', 'message': ""Restart rsyslog from cloud-init\n\nOctavia uploads a rsyslog configuration file using cloud-init but\ndoesn't ensure that rsyslog is restarted. In some cases (CentOS 9\nStream), rsyslog is started before cloud-init and doesn't use the\nprovided configuration file.\nThis commit ensures that rsyslog is restarted by cloud-init.\n\nChange-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5\n""}]",5,826769,cbffae6eb684629a19844b5f2f4b7523b77a725e,17,3,1,29244,,,0,"Restart rsyslog from cloud-init

Octavia uploads a rsyslog configuration file using cloud-init but
doesn't ensure that rsyslog is restarted. In some cases (CentOS 9
Stream), rsyslog is started before cloud-init and doesn't use the
provided configuration file.
This commit ensures that rsyslog is restarted by cloud-init.

Change-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/826769/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'releasenotes/notes/ensure-rsyslog-config-is-reloaded-b4a25a98b661d0f1.yaml', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py']",5,cbffae6eb684629a19844b5f2f4b7523b77a725e,c9, udtemplater = user_data_jinja_cfg.UserDataJinjaCfg() user_data = udtemplater.build_user_data_config( config_drive_files if user_data_config_drive else {}) if user_data_config_drive:, if user_data_config_drive: udtemplater = user_data_jinja_cfg.UserDataJinjaCfg() user_data = udtemplater.build_user_data_config( config_drive_files),54,22
openstack%2Fcinder~stable%2Fwallaby~Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,openstack/cinder,stable/wallaby,Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,Reject bad img formats for uploaded encrypted vols,MERGED,2022-01-14 21:41:07.000000000,2022-02-03 23:10:47.000000000,2022-02-03 23:08:53.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-01-14 21:41:07.000000000', 'files': ['releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12f7376fe44ea53e6e84dfd12577953bd841d25d', 'message': ""Reject bad img formats for uploaded encrypted vols\n\nCinder only supports uploading volumes of encrypted volume types as\nimages with disk format 'raw' and container format 'bare'.  Screen\nfor this at the REST API layer when the request is made.\n\nThis change is applied directly to the VolumeActionsController in\nthe cinder.api.contrib module, so it affects both the Block Storage\nAPI v2 and v3.\n\nChange-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782\nCloses-bug: #1935688\n(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)\n(cherry picked from commit 78682022d2dcf07c270356d23a27843578466469)\n""}]",2,824801,12f7376fe44ea53e6e84dfd12577953bd841d25d,19,3,1,5314,,,0,"Reject bad img formats for uploaded encrypted vols

Cinder only supports uploading volumes of encrypted volume types as
images with disk format 'raw' and container format 'bare'.  Screen
for this at the REST API layer when the request is made.

This change is applied directly to the VolumeActionsController in
the cinder.api.contrib module, so it affects both the Block Storage
API v2 and v3.

Change-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782
Closes-bug: #1935688
(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)
(cherry picked from commit 78682022d2dcf07c270356d23a27843578466469)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/824801/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_actions.py', 'releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py']",5,12f7376fe44ea53e6e84dfd12577953bd841d25d,img-fmt-wallaby," # encrypted volumes cannot be converted on upload if (image_metadata['disk_format'] != 'raw' or image_metadata['container_format'] != 'bare'): msg = _(""An encrypted volume uploaded as an image must use "" ""'raw' disk_format and 'bare' container_format, "" ""which are the defaults for these options."") raise webob.exc.HTTPBadRequest(explanation=msg) ",,68,2
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic71d947de77377c88b34cf6d588f674ae8a27bf4,openstack/openstack-ansible-openstack_hosts,master,Ic71d947de77377c88b34cf6d588f674ae8a27bf4,Add centos-9 support,MERGED,2022-01-04 18:24:20.000000000,2022-02-03 23:10:01.000000000,2022-02-03 23:08:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-04 18:24:20.000000000', 'files': ['vars/redhat-9.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9979b26d75d0d6c8ad77103e7d847930630db177', 'message': 'Add centos-9 support\n\nChange-Id: Ic71d947de77377c88b34cf6d588f674ae8a27bf4\n'}]",0,823420,9979b26d75d0d6c8ad77103e7d847930630db177,8,3,1,25023,,,0,"Add centos-9 support

Change-Id: Ic71d947de77377c88b34cf6d588f674ae8a27bf4
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/20/823420/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-9.yml', 'tasks/openstack_hosts_configure_dnf.yml']",2,9979b26d75d0d6c8ad77103e7d847930630db177,osa/centos-9," - ansible_facts['distribution_major_version'] == 8 - name: Enable CodeReadyBuilder repository command: dnf config-manager --set-enabled ""crb"" changed_when: false when: - openstack_hosts_power_tool_enable | bool - ansible_facts['distribution_major_version'] == 9",,110,0
openstack%2Fproject-config~master~I9f70506143fc5084ab923c82387b22fe7092313b,openstack/project-config,master,I9f70506143fc5084ab923c82387b22fe7092313b,Add extra operators to #openstack-ansible channel,MERGED,2022-02-03 21:45:59.000000000,2022-02-03 22:58:59.000000000,2022-02-03 22:05:04.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 21:45:59.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ac2014110d467ece0756805a49ad56785bf2b9b', 'message': 'Add extra operators to #openstack-ansible channel\n\nChange-Id: I9f70506143fc5084ab923c82387b22fe7092313b\n'}]",0,827768,8ac2014110d467ece0756805a49ad56785bf2b9b,8,3,1,28619,,,0,"Add extra operators to #openstack-ansible channel

Change-Id: I9f70506143fc5084ab923c82387b22fe7092313b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/827768/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,8ac2014110d467ece0756805a49ad56785bf2b9b,, ops: - noonedeadpunk - jrosser,,3,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I80c48048995d845e63b1d1eb55470a0b9381d711,openstack/openstack-ansible-openstack_hosts,master,I80c48048995d845e63b1d1eb55470a0b9381d711,Simplify generation of osbpo repo name,MERGED,2022-02-02 09:42:32.000000000,2022-02-03 22:42:49.000000000,2022-02-03 22:41:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:42:32.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ab68220a5cbcbc2fe477c7fc4bc670a5bf84d4cb', 'message': 'Simplify generation of osbpo repo name\n\nWe only support one version of Debian so simplify the logic supporting\nolder versions.\n\nChange-Id: I80c48048995d845e63b1d1eb55470a0b9381d711\n'}]",1,827460,ab68220a5cbcbc2fe477c7fc4bc670a5bf84d4cb,12,3,1,25023,,,0,"Simplify generation of osbpo repo name

We only support one version of Debian so simplify the logic supporting
older versions.

Change-Id: I80c48048995d845e63b1d1eb55470a0b9381d711
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/60/827460/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,ab68220a5cbcbc2fe477c7fc4bc670a5bf84d4cb,,"_osbpo_release: ""{{ openstack_distrib_code_name | lower }}""","_osbpo_release: ""{{ hostvars[inventory_hostname]['ansible_facts']['distribution_major_version'] is version('10', '>') | ternary(openstack_distrib_code_name | lower, 'victoria') }}""",1,1
openstack%2Fcinder-specs~master~Ic6040bce9e89f2927a479f5d9b49065961831e26,openstack/cinder-specs,master,Ic6040bce9e89f2927a479f5d9b49065961831e26,Update metadata in setup.cfg,MERGED,2021-12-25 08:14:36.000000000,2022-02-03 22:41:37.000000000,2022-02-03 22:39:34.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-25 08:14:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/f6ac9319d2288f50085620d6cce6a480cc5a110c', 'message': 'Update metadata in setup.cfg\n\nThis is follow-up patch for [1]\n[1]: https://review.opendev.org/c/openstack/cinder-specs/+/819262\n\nChange-Id: Ic6040bce9e89f2927a479f5d9b49065961831e26\n'}]",5,822918,f6ac9319d2288f50085620d6cce6a480cc5a110c,11,7,1,30615,,,0,"Update metadata in setup.cfg

This is follow-up patch for [1]
[1]: https://review.opendev.org/c/openstack/cinder-specs/+/819262

Change-Id: Ic6040bce9e89f2927a479f5d9b49065961831e26
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/18/822918/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f6ac9319d2288f50085620d6cce6a480cc5a110c,,description = Openstack Cinder Project Development Specifications long_description = file: README.rsturl = http://specs.openstack.org/openstack/cinder-specs/ classifiers =,"summary = ""Openstack Cinder Project Development Specifications"" description_file = README.rsthome_page = http://specs.openstack.org/openstack/cinder-specs/ classifier =",4,5
openstack%2Fopenstack-ansible-openstack_hosts~master~I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de,openstack/openstack-ansible-openstack_hosts,master,I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de,Remove ubuntu bionic vars file,MERGED,2022-02-02 09:01:40.000000000,2022-02-03 22:40:29.000000000,2022-02-03 22:37:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:01:40.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e84f92976c2f6397fe22df1fcc4fd2cb571e2004', 'message': 'Remove ubuntu bionic vars file\n\nGeneralise the ubuntu variables into one vars file.\n\nChange-Id: I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de\n'}]",1,827428,e84f92976c2f6397fe22df1fcc4fd2cb571e2004,12,3,1,25023,,,0,"Remove ubuntu bionic vars file

Generalise the ubuntu variables into one vars file.

Change-Id: I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/28/827428/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,e84f92976c2f6397fe22df1fcc4fd2cb571e2004,,," #NOTE: 4.19 kernel merged nf_conntrack_ipv{4,6} into nf_conntrack - name: ""{{ (hostvars[inventory_hostname]['ansible_facts']['kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv4', '') }}"" - name: ""{{ (hostvars[inventory_hostname]['ansible_facts']['kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv6', '') }}"" - name: ""{{ (hostvars[inventory_hostname]['ansible_facts']['kernel'] is version('5.0.0', '<=')) | ternary('nf_nat_ipv4', '') }}""",0,102
openstack%2Fopenstack-ansible-openstack_hosts~master~I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d,openstack/openstack-ansible-openstack_hosts,master,I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d,Remove condtionals for kernel module installation on debian,MERGED,2022-02-02 09:01:40.000000000,2022-02-03 22:39:09.000000000,2022-02-03 22:37:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:01:40.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0838c951a106222dc0519d5aa74c36daaf5334ca', 'message': 'Remove condtionals for kernel module installation on debian\n\nThe supported versions of debian are now on kernel 5.x\n\nChange-Id: I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d\n'}]",1,827427,0838c951a106222dc0519d5aa74c36daaf5334ca,12,3,1,25023,,,0,"Remove condtionals for kernel module installation on debian

The supported versions of debian are now on kernel 5.x

Change-Id: I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/27/827427/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,0838c951a106222dc0519d5aa74c36daaf5334ca,,," # NOTE(mnaser): 4.19 kernel merged nf_conntrack_ipv{4,6} into nf_conntrack - name: ""{{ (hostvars[inventory_hostname]['ansible_facts']['kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv4', '') }}"" - name: ""{{ (hostvars[inventory_hostname]['ansible_facts']['kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv6', '') }}"" # NOTE(mnaser): 5.2 kernel merged nf_nat_ipv4 into nf_nat - name: ""{{ (hostvars[inventory_hostname]['ansible_facts']['kernel'] is version('5.2.0', '<')) | ternary('nf_nat_ipv4', '') }}""",0,5
openstack%2Fopenstack-helm-infra~master~I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9,openstack/openstack-helm-infra,master,I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9,Postgresql: Enhance postgresql backup,MERGED,2022-01-25 21:03:32.000000000,2022-02-03 22:29:50.000000000,2022-02-03 22:28:19.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 33282}]","[{'number': 1, 'created': '2022-01-25 21:03:32.000000000', 'files': ['postgresql/Chart.yaml', 'postgresql/templates/bin/_backup_postgresql.sh.tpl', 'postgresql/templates/cron-job-backup-postgres.yaml', 'postgresql/values.yaml', 'postgresql/templates/secret-backup-restore.yaml', 'releasenotes/notes/postgresql.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25d1eedc59bf4775fb7df4d2b1fde49ad9d0a56d', 'message': 'Postgresql: Enhance postgresql backup\n\nPick up the helm-toolkit DB backup enhancement in postgresql\nto add capability to retry uploading backup to remote server.\n\nChange-Id: I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9\n'}]",1,826367,25d1eedc59bf4775fb7df4d2b1fde49ad9d0a56d,14,9,1,18236,,,0,"Postgresql: Enhance postgresql backup

Pick up the helm-toolkit DB backup enhancement in postgresql
to add capability to retry uploading backup to remote server.

Change-Id: I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/826367/1 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/Chart.yaml', 'postgresql/templates/bin/_backup_postgresql.sh.tpl', 'postgresql/templates/cron-job-backup-postgres.yaml', 'postgresql/values.yaml', 'postgresql/templates/secret-backup-restore.yaml', 'releasenotes/notes/postgresql.yaml']",6,25d1eedc59bf4775fb7df4d2b1fde49ad9d0a56d,, - 0.1.12 Enhance postgresql backup,,18,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf,openstack/python-tripleoclient,stable/wallaby,I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf,Deprecate and unwire enable_nova UC option,MERGED,2022-02-03 14:47:12.000000000,2022-02-03 22:28:21.000000000,2022-02-03 22:26:44.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 14:47:12.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9fd8583f306413f422dd08a731e51e33ad03aff8', 'message': ""Deprecate and unwire enable_nova UC option\n\nSince Wallaby Nova services aren't required in the Undercloud,\ntherefore deprecate the enable_nova flag from the undercloud.conf.\n\nThe undercloud-enable-nova.yaml env file will no longer be added\nto the deployment command, even if enable_nova is set in the config.\n\nRelated-bug: #1959662\nChange-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit a3c8ecf325b3b00c0f3d60398966b8b0d8e68ad0)\n""}]",0,827647,9fd8583f306413f422dd08a731e51e33ad03aff8,8,5,1,26343,,,0,"Deprecate and unwire enable_nova UC option

Since Wallaby Nova services aren't required in the Undercloud,
therefore deprecate the enable_nova flag from the undercloud.conf.

The undercloud-enable-nova.yaml env file will no longer be added
to the deployment command, even if enable_nova is set in the config.

Related-bug: #1959662
Change-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit a3c8ecf325b3b00c0f3d60398966b8b0d8e68ad0)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/827647/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py']",2,9fd8583f306413f422dd08a731e51e33ad03aff8,1959662-stable/wallaby, LOG.warning('Nova has been deprecated and no longer be installed ' 'using the enable_nova. Please remove it from ' 'undercloud.conf.')," deploy_args += [ '-e', os.path.join( tht_templates, 'environments/undercloud-enable-nova.yaml') ]",6,4
openstack%2Fopenstack-ansible-tests~master~Ibc033f79a2ef434e1e57bd44de857c862edfd622,openstack/openstack-ansible-tests,master,Ibc033f79a2ef434e1e57bd44de857c862edfd622,Gather /etc/pki directory,MERGED,2021-06-29 15:42:28.000000000,2022-02-03 22:21:39.000000000,2022-02-03 22:20:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-06-29 15:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2ccf8c3c748642a9101887b4fd8fc89b41180cdd', 'message': 'Gather /etc/pki directory\n\nChange-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622\n'}, {'number': 2, 'created': '2021-06-29 15:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/13e1b4db555b8fd8ff77bf441525f352ef37b95a', 'message': 'Gather /etc/pki directory\n\nChange-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622\n'}, {'number': 3, 'created': '2021-06-29 16:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/de3448fdf4319f4edc65ace4ecc72f05d69f8ee3', 'message': 'Gather /etc/openstack_deploy directory\n\nChange-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622\n'}, {'number': 4, 'created': '2021-06-29 16:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/efe6d954d6885ae8788d0fbc2e983adbc0ae2cd2', 'message': 'Gather /etc/pki directory\n\nChange-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622\n'}, {'number': 5, 'created': '2022-01-04 13:06:11.000000000', 'files': ['test-log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/96b1a0e98ccb2af3c1d0dc89dcfd8f943a794425', 'message': 'Gather /etc/pki directory\n\nChange-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622\n'}]",0,798703,96b1a0e98ccb2af3c1d0dc89dcfd8f943a794425,15,4,5,25023,,,0,"Gather /etc/pki directory

Change-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/03/798703/1 && git format-patch -1 --stdout FETCH_HEAD,['test-log-collect.sh'],1,2ccf8c3c748642a9101887b4fd8fc89b41180cdd,, pki \,,1,0
openstack%2Fansible-hardening~master~If86dd75bbf444eaacf9eb7a890f17fa7593a1099,openstack/ansible-hardening,master,If86dd75bbf444eaacf9eb7a890f17fa7593a1099,Add centos-9 support,MERGED,2022-01-06 14:37:18.000000000,2022-02-03 22:15:43.000000000,2022-02-03 22:14:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-06 14:37:18.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/11ae75f92bb6fe611f307ad4516ab2e50b8a193b', 'message': 'Add centos-9 support\n\nChange-Id: If86dd75bbf444eaacf9eb7a890f17fa7593a1099\n'}]",0,823697,11ae75f92bb6fe611f307ad4516ab2e50b8a193b,9,3,1,25023,,,0,"Add centos-9 support

Change-Id: If86dd75bbf444eaacf9eb7a890f17fa7593a1099
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/97/823697/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,11ae75f92bb6fe611f307ad4516ab2e50b8a193b,osa/centos-9,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## Variables for CentOS 7, Red Hat Enterprise Linux 7 and Fedora 27. # The following variables apply only to CentOS 7, Red Hat Enterprise Linux 7 # and Fedora 27. Deployers should not override these. # # For more details, see 'vars/main.yml'. # Configuration file paths pam_auth_file: /etc/pam.d/system-auth pam_password_file: /etc/pam.d/password-auth pam_postlogin_file: /etc/pam.d/postlogin vsftpd_conf_file: /etc/vsftpd/vsftpd.conf grub_conf_file: /boot/grub2/grub.cfg grub_conf_file_efi: ""/boot/efi/EFI/{{ ansible_facts['distribution'] | lower | replace(' ', '') }}/grub.cfg"" aide_cron_job_path: /etc/cron.d/aide aide_database_file: /var/lib/aide/aide.db.gz aide_database_out_file: /var/lib/aide/aide.db.new.gz chrony_conf_file: /etc/chrony.conf chrony_key_file: /etc/chrony.keys daemon_init_params_file: /etc/init.d/functions pkg_mgr_config: /etc/dnf/dnf.conf # Service names cron_service: crond ssh_service: sshd chrony_service: chronyd clamav_service: 'clamd@scan' # Clamav paparms clamav_service_details: user: clamscan group: virusgroup socket_path: /run/clamd.scan/clamd.sock mode: 0710 # Commands grub_update_cmd: ""/usr/sbin/grub2-mkconfig -o {{ grub_config_file_boot }}"" ssh_keysign_path: /usr/libexec/openssh # Other configuration security_interactive_user_minimum_uid: 1000 # RHEL 7 STIG: Packages to add/remove stig_packages_rhel7: - packages: - audispd-plugins - audit - dracut-fips - dracut-fips-aesni - openssh-clients - openssh-server state: ""{{ security_package_state }}"" enabled: True - packages: - aide state: ""{{ security_package_state }}"" enabled: ""{{ security_rhel7_enable_aide }}"" - packages: - python3-libselinux - policycoreutils-python-utils - selinux-policy - selinux-policy-targeted state: ""{{ security_package_state }}"" enabled: ""{{ security_rhel7_enable_linux_security_module }}"" - packages: - chrony state: ""{{ security_package_state }}"" enabled: ""{{ security_rhel7_enable_chrony }}"" - packages: - clamav - clamav-data - clamav-devel - clamav-filesystem - clamav-lib - clamav-scanner-systemd - clamav-server-systemd - clamav-server - clamav-update state: ""{{ security_package_state }}"" enabled: ""{{ security_enable_virus_scanner }}"" - packages: - firewalld state: ""{{ security_package_state }}"" enabled: ""{{ security_enable_firewalld }}"" - packages: - dnf-automatic state: ""{{ security_package_state }}"" enabled: ""{{ security_rhel7_automatic_package_updates }}"" - packages: - rsh-server state: absent enabled: ""{{ security_rhel7_remove_rsh_server }}"" - packages: - telnet-server state: absent enabled: ""{{ security_rhel7_remove_telnet_server }}"" - packages: - tftp-server state: absent enabled: ""{{ security_rhel7_remove_tftp_server }}"" - packages: - xorg-x11-server-Xorg state: absent enabled: ""{{ security_rhel7_remove_xorg }}"" - packages: - ypserv state: absent enabled: ""{{ security_rhel7_remove_ypserv }}"" rpm_gpgchecks: - regexp: ""^gpgcheck.*"" line: ""gpgcheck={{ security_enable_gpgcheck_packages | bool | ternary('1', 0) }}"" - regexp: ""^localpkg_gpgcheck.*"" line: ""localpkg_gpgcheck={{ security_enable_gpgcheck_packages_local | bool | ternary('1', 0) }}"" - regexp: ""^repo_gpgcheck.*"" line: ""repo_gpgcheck={{ security_enable_gpgcheck_repo | bool | ternary('1', 0) }}"" ",,130,0
openstack%2Frequirements~stable%2Fvictoria~I85c3652bf5b4bbccd17eeed6d1e4445839940f30,openstack/requirements,stable/victoria,I85c3652bf5b4bbccd17eeed6d1e4445839940f30,update constraint for oslo.service to new release 2.4.1,MERGED,2022-01-24 12:10:37.000000000,2022-02-03 22:08:54.000000000,2022-02-03 22:08:54.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 12:10:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/36a1c410a5d81fbdb42b065b1c3b7b8663061f2d', 'message': 'update constraint for oslo.service to new release 2.4.1\n\nmeta: version: 2.4.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Id7665ba8e8904201f322a1102236fb24a55df8db\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I85c3652bf5b4bbccd17eeed6d1e4445839940f30\n'}]",0,826075,36a1c410a5d81fbdb42b065b1c3b7b8663061f2d,17,3,1,11131,,,0,"update constraint for oslo.service to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Id7665ba8e8904201f322a1102236fb24a55df8db
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I85c3652bf5b4bbccd17eeed6d1e4445839940f30
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/826075/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,36a1c410a5d81fbdb42b065b1c3b7b8663061f2d,new-release,oslo.service===2.4.1,oslo.service===2.4.0,1,1
openstack%2Fcinder-specs~master~I233af09553830f0f3c93d30cd313d498f2da4233,openstack/cinder-specs,master,I233af09553830f0f3c93d30cd313d498f2da4233,Update redirects,MERGED,2021-12-22 22:13:16.000000000,2022-02-03 22:08:30.000000000,2022-02-03 22:04:32.000000000,"[{'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-12-22 22:13:16.000000000', 'files': ['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ecd6e34320a43be16a2755444713ed6df81ec0c3', 'message': 'Update redirects\n\nAdd a redirect for change I067d113cacaf and fix some existing\nredirects that were referring incorrectly to the .rst files\ninstead of the generated .html files.\n\nChange-Id: I233af09553830f0f3c93d30cd313d498f2da4233\n'}]",4,822765,ecd6e34320a43be16a2755444713ed6df81ec0c3,10,4,1,5314,,,0,"Update redirects

Add a redirect for change I067d113cacaf and fix some existing
redirects that were referring incorrectly to the .rst files
instead of the generated .html files.

Change-Id: I233af09553830f0f3c93d30cd313d498f2da4233
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/65/822765/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",2,ecd6e34320a43be16a2755444713ed6df81ec0c3,update-redirects,Redirect 301 /openstack/cinder-specs/specs/wallaby/reset-state-robustification.html /openstack/cinder-specs/specs/xena/reset-state-robustification.html Redirect 301 /openstack/cinder-specs/specs/wallaby/sizing-encrypted-volumes.html /openstack/cinder-specs/specs/xena/sizing-encrypted-volumes.html Redirect 301 /openstack/cinder-specs/specs/train/add-volume-re-image-api.html /openstack/cinder-specs/specs/yoga/add-volume-re-image-api.html,Redirect 301 /openstack/cinder-specs/specs/wallaby/reset-state-robustification.rst /openstack/cinder-specs/specs/xena/reset-state-robustification.rst Redirect 301 /openstack/cinder-specs/specs/wallaby/sizing-encrypted-volumes.rst /openstack/cinder-specs/specs/xena/sizing-encrypted-volumes.rst,6,4
openstack%2Ftripleo-upgrade~master~I78cf0220e403add9d88ad457979704693c641f67,openstack/tripleo-upgrade,master,I78cf0220e403add9d88ad457979704693c641f67,Remove stein and ceph3 parameters for T to W.,MERGED,2022-02-02 13:48:42.000000000,2022-02-03 22:08:26.000000000,2022-02-03 22:08:26.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 13:48:42.000000000', 'files': ['tasks/common/configure_uc_containers.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c', 'message': 'Remove stein and ceph3 parameters for T to W.\n\nThe stein and ceph3 parameters are not needed any more in tripleo-upgrade\nto upgrade from T(16.X) to W(17.X). Removing them to avoid issues during\nthe upgrade.\n\nChange-Id: I78cf0220e403add9d88ad457979704693c641f67\n'}]",0,827499,a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c,8,5,1,26343,,,0,"Remove stein and ceph3 parameters for T to W.

The stein and ceph3 parameters are not needed any more in tripleo-upgrade
to upgrade from T(16.X) to W(17.X). Removing them to avoid issues during
the upgrade.

Change-Id: I78cf0220e403add9d88ad457979704693c641f67
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/827499/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/configure_uc_containers.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'defaults/main.yml']",3,a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c,,,"# ceph registry parameters ceph3_registry_params: ceph3_namespace: ""registry.access.redhat.com/rhceph"" ceph3_image: ""rhceph-3-rhel7"" ceph3_tag: ""3-51"" # stein registry parameters stein_registry_params: namespace_stein: ""{{ full_namespace | default('registry.access.redhat.com') }}"" tag_stein: ""20200115.1"" name_prefix_stein: ""rhosp15-openstack-"" ",0,43
openstack%2Fcinder-specs~master~I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f,openstack/cinder-specs,master,I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f,Correct reference list formatting,MERGED,2022-01-25 19:51:51.000000000,2022-02-03 22:03:32.000000000,2022-02-03 22:01:55.000000000,"[{'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 19:51:51.000000000', 'files': ['specs/pike/add-like-filter.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/19a277acdfc37fd325bd48afdec3362a5cc81e7f', 'message': 'Correct reference list formatting\n\nFor the reference style used in this spec, each reference needs\nto separated by a blank line or they are all rendered together in\na single paragraph.  (Alternatively, they could be included in an\nordered or unordered list, according to taste.)\n\nChange-Id: I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f\n'}]",2,826363,19a277acdfc37fd325bd48afdec3362a5cc81e7f,9,3,1,5314,,,0,"Correct reference list formatting

For the reference style used in this spec, each reference needs
to separated by a blank line or they are all rendered together in
a single paragraph.  (Alternatively, they could be included in an
ordered or unordered list, according to taste.)

Change-Id: I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/63/826363/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/add-like-filter.rst'],1,19a277acdfc37fd325bd48afdec3362a5cc81e7f,ref-followup,,,3,0
openstack%2Ftripleo-heat-templates~master~Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51,openstack/tripleo-heat-templates,master,Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51,"Revert ""Use Internal API by default for Keystone admin endpoint""",ABANDONED,2022-02-03 19:56:03.000000000,2022-02-03 21:44:58.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14611}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-03 19:56:03.000000000', 'files': ['releasenotes/notes/change-keystone-admin-network-a29499018c323cea.yaml', 'environments/updates/update-from-keystone-admin-internal-api.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a0ada5f503dc6b58ca0d34243d70bd9884a8252', 'message': 'Revert ""Use Internal API by default for Keystone admin endpoint""\n\nThis reverts commit c2d110257446498821346fd1cd0577eadbb99dad.\n\nReason for revert: This change broke OVB for TripleO\n\nChange-Id: Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51\n'}]",3,827736,3a0ada5f503dc6b58ca0d34243d70bd9884a8252,5,9,1,14611,,,0,"Revert ""Use Internal API by default for Keystone admin endpoint""

This reverts commit c2d110257446498821346fd1cd0577eadbb99dad.

Reason for revert: This change broke OVB for TripleO

Change-Id: Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/827736/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/change-keystone-admin-network-a29499018c323cea.yaml', 'environments/updates/update-from-keystone-admin-internal-api.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",3,3a0ada5f503dc6b58ca0d34243d70bd9884a8252,bug/1959459, KeystoneAdminApiNetwork: ctlplane # allows undercloud to config endpoints," KeystoneAdminApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}",7,5
openstack%2Ftripleo-heat-templates~master~Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a,openstack/tripleo-heat-templates,master,Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a,"Revert ""Nova: Use internal endpoint to access Keystone""",ABANDONED,2022-02-03 19:56:19.000000000,2022-02-03 21:44:45.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14611}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-03 19:56:19.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e134ae20a871e6597c1b21bbb675ca8315854f8', 'message': 'Revert ""Nova: Use internal endpoint to access Keystone""\n\nThis reverts commit c3affa49a33bb62e019263186e446a1a70194970.\n\nReason for revert: This change broke OVB for TripleO\n\nChange-Id: Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a\n'}]",3,827737,9e134ae20a871e6597c1b21bbb675ca8315854f8,5,11,1,14611,,,0,"Revert ""Nova: Use internal endpoint to access Keystone""

This reverts commit c3affa49a33bb62e019263186e446a1a70194970.

Reason for revert: This change broke OVB for TripleO

Change-Id: Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/827737/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-metadata-container-puppet.yaml'],1,9e134ae20a871e6597c1b21bbb675ca8315854f8,bug/1959353," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",1,1
openstack%2Fkolla~master~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,master,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-03 14:53:41.000000000,2022-02-03 21:44:24.000000000,2022-02-03 21:04:10.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 14:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d194cabb1578e222d6340084b6f58a93eb8eb829', 'message': 'Remove missing collectd packages\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\nChange-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502\n'}, {'number': 2, 'created': '2022-02-03 15:13:59.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/405fca90f2c8d3763ac56ce8b925611d136bba6c', 'message': ""Remove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\nChange-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502\n""}]",1,827679,405fca90f2c8d3763ac56ce8b925611d136bba6c,12,4,2,22629,,,0,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/827679/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2']",2,d194cabb1578e222d6340084b6f58a93eb8eb829,,," 'collectd-dpdk_telemetry', 'collectd-libpod-stats', 'collectd-sensubility', 'python3-sqlalchemy-collectd'",0,5
openstack%2Fkolla-ansible~stable%2Fxena~I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,openstack/kolla-ansible,stable/xena,I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,Add OIDCDiscoverURL mod_oidc option,MERGED,2022-02-03 11:25:17.000000000,2022-02-03 21:41:19.000000000,2022-02-03 21:39:01.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 11:25:17.000000000', 'files': ['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'releasenotes/notes/add-oidc-discover-url-83edb9f43f73a97f.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/827656dbbdae866e9c037ad288ad4ed759e5b192', 'message': 'Add OIDCDiscoverURL mod_oidc option\n\nThis gets rid of one of the steps in the authentication flow.\n\nCloses-Bug: 1930055\nChange-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a\n(cherry picked from commit e7455759ad4be5e1212d84e08612a4ff4ece8717)\n'}]",0,827637,827656dbbdae866e9c037ad288ad4ed759e5b192,9,3,1,32657,,,0,"Add OIDCDiscoverURL mod_oidc option

This gets rid of one of the steps in the authentication flow.

Closes-Bug: 1930055
Change-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a
(cherry picked from commit e7455759ad4be5e1212d84e08612a4ff4ece8717)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/827637/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'releasenotes/notes/add-oidc-discover-url-83edb9f43f73a97f.yaml']",2,827656dbbdae866e9c037ad288ad4ed759e5b192,,--- fixes: - | Fixes an issue with an OIDC authentication flow requiring unnecessary action from the user. Redirecting to the target IdP page now happens automatically. `LP#930055 <https://bugs.launchpad.net/kolla-ansible/+bug/1930055>`__ ,,8,0
openstack%2Fopenstack-ansible-specs~master~Iacbe7e87410a9f5bdb674be03735d2a869e1ef10,openstack/openstack-ansible-specs,master,Iacbe7e87410a9f5bdb674be03735d2a869e1ef10,Add zuul CI spec,ABANDONED,2020-07-01 18:26:16.000000000,2022-02-03 21:40:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-01 18:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/91c284b902899c03314eaa52ae53d069fbc86019', 'message': 'Add zuul CI spec\n\nChange-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10\n'}, {'number': 2, 'created': '2020-08-12 12:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/0fd16eacb9dc292d8c19140da0284bf9a529b8f4', 'message': 'Add zuul CI spec\n\nChange-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10\n'}, {'number': 3, 'created': '2020-08-12 15:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/1fb80ce1bdb28887144ca8041be2d8d0e22724ba', 'message': 'Add zuul CI spec\n\nChange-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10\n'}, {'number': 4, 'created': '2020-08-12 15:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/22047525e21a16f2716877227795dfe40fc02124', 'message': 'Add zuul CI spec\n\nChange-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10\n'}, {'number': 5, 'created': '2020-08-13 06:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/af18b70ecc47dd66bce4e90883ff4dd4ca525874', 'message': 'Add zuul CI spec\n\nChange-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10\n'}, {'number': 6, 'created': '2020-10-19 10:49:56.000000000', 'files': ['doc/source/index.rst', 'specs/ussuri/ci-system.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/250ca94197c26ac6d672538b0eb5077a85dbd859', 'message': 'Add zuul CI spec\n\nChange-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10\n'}]",0,738910,250ca94197c26ac6d672538b0eb5077a85dbd859,16,2,6,28619,,,0,"Add zuul CI spec

Change-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/10/738910/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/ussuri/ci-system.rst']",2,91c284b902899c03314eaa52ae53d069fbc86019,738910,"Zuul CI workflow for OpenStack-Ansible ################################# :date: 2020-07-01 20:00 :tags: openstack, zuul, ci Zuul CI provides openstack-ansible with CI/CD functionality. We have pretty difficult workflow and logic of zuul configuration that worth writing a separate spec list. We have several scenarios for our jobs at the moment: * Deploy ** lxc *** source ** metal *** source *** distro * Upgrade ** metal *** source Problem description =================== Deploy ------ How things work at the moment for deploy scenarios: # Zuul clone repos out of required-projects list, provided for the template # During bootstrap-host we symlink cloned by zuul roles into /etc/ansible/roles That way we get all dependencies provided by depends-on statement in commit # As a result we just use zuul provided jobs in our CI The problem here, is that openstack-ansible has it's own bumps for both ansible roles and system services, which we don't use that way. So we don't test any releases (tags) in CI, as zuul clones only top of the branches. From the other side we don't get stuck in circular dependencies, since things apply once they merge, so we're not required to bump SHAs after fixing something or don't end up with broken gates with the next automatical bump. Additional broblem is that we also depend on branchless projects, which means that zuul will get us always master, which may be not suitable for stable branches (ie. we want to use some specific SHA or tag). Upgrade ------- How things work at the moment for upgrade scenarios: # Zuul clone repos out of required-projects list, provided for the job # On pre step, we write down openstack-ansibles SHA and checkout to previous branch. # During bootstrap-host we symlink cloned by zuul roles into /etc/ansible/roles # We run bootstrap-ansible which replaces cloned by zuul roles with ones from stable branch bumps. # We deploy AIO for the first time. We don't run tempest to save up some time. # Once first deployment is finished, we checkout back to saved SHA, and run AIO again # We run run-upgrade.sh script which also includes bootstrap-ansible. At this point we get bumped roles for our current SHA. # Tempest is run at the end of the run-upgrade.sh The problem here is that we drop zuul provided roles during deployment of stable branch. So depends-on do not work for upgrade jobs. Additionaly there's a problem in logic complexity and bad readability of the code. Proposed change =============== The proposed changes would include: Deploy ------ We can make use of zuul.items, which contains the list of projects, that we should depends-on. That way we can symlink only these projects, and use our bumps for others. However, that will make us to use depends-on in case smth is breaking in the middle until the next bump, which may be not so convenient Upgrade ------- * Do not symlink cloned by zuul repos during first iteration * Synlink zuul roles to ANSIBLE_ROLES_PATH for the upgrade iteration * Pass variable for bootstrap-ansible, so that it don't clone roles once we have them symlinked. To cover that there's a patch https://review.opendev.org/710849/ Alternatives ------------ Alternative solution te resolve deploy issue is to replace link for branchless projects from opendev to github. That way, they won't get symlinked but would be cloned and checkout to the correct SHA. However, that way we won't be able to set depends-on for such repos. Implementation ============== Assignee(s) ----------- Primary assignee: Dmitriy Rabotyagov (IRC: noonedeadpunk) References ========== Zuul variables Overview * https://zuul-ci.org/docs/zuul/reference/jobs.html#var-zuul.items ",,129,0
openstack%2Ftripleo-common~stable%2Fwallaby~I7d7c47d32e50dad3d34959e8ce447f84957329ea,openstack/tripleo-common,stable/wallaby,I7d7c47d32e50dad3d34959e8ce447f84957329ea,Don't install openstack-selinux in containers,MERGED,2022-02-03 10:35:58.000000000,2022-02-03 21:38:34.000000000,2022-02-03 21:36:27.000000000,"[{'_account_id': 4978}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-02-03 10:35:58.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/afb6de6a1054e7f1670c35c572e6ac4abacc8714', 'message': ""Don't install openstack-selinux in containers\n\nThere's no use for selinux policies within container, container don't\nmanage selinux, all is on the host side.\n\nDropping this package will also drop container-selinux, and we should\nget a faster build for the base image, since no selinux related task\nshould happen.\n\nChange-Id: I7d7c47d32e50dad3d34959e8ce447f84957329ea\n(cherry picked from commit 01bb19a9a9200e9132225a652966c3a90e1c5b83)\n""}]",1,827635,afb6de6a1054e7f1670c35c572e6ac4abacc8714,10,9,1,28223,,,0,"Don't install openstack-selinux in containers

There's no use for selinux policies within container, container don't
manage selinux, all is on the host side.

Dropping this package will also drop container-selinux, and we should
get a faster build for the base image, since no selinux related task
should happen.

Change-Id: I7d7c47d32e50dad3d34959e8ce447f84957329ea
(cherry picked from commit 01bb19a9a9200e9132225a652966c3a90e1c5b83)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/827635/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,afb6de6a1054e7f1670c35c572e6ac4abacc8714,containers/openstack-selinux-stable/wallaby,, - openstack-selinux,0,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I35b3fe177f08214d06e20334e08be9bfe06f16d1,openstack/tripleo-heat-templates,stable/ussuri,I35b3fe177f08214d06e20334e08be9bfe06f16d1,Update dervice_pci script to handle pci address formats,MERGED,2022-02-02 10:32:26.000000000,2022-02-03 21:38:34.000000000,2022-02-03 21:36:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 10:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90247bf9e478c1256fcda635c8be1e657c65c40c', 'message': 'Update dervice_pci script to handle pci address formats\n\nWhen using nic paritioning feature, the VFs used\nby host has to be excluded from passthrough\nwhitelist. Added support to the derive pci script\nto support pci address as string or dict format.\nSpecifying product_id, vendor_id is also allowed.\nAdded test cases for the derive pci script.\n\nChange-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1\n(cherry picked from commit dde9a258d85964d781962d556bc3221d925fa984)\n'}, {'number': 2, 'created': '2022-02-02 10:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2644bb4f18aa855d9de7d1c6fb0857a5a6c84101', 'message': 'Update dervice_pci script to handle pci address formats\n\nWhen using nic paritioning feature, the VFs used\nby host has to be excluded from passthrough\nwhitelist. Added support to the derive pci script\nto support pci address as string or dict format.\nSpecifying product_id, vendor_id is also allowed.\nAdded test cases for the derive pci script.\n\nChange-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1\n(cherry picked from commit dde9a258d85964d781962d556bc3221d925fa984)\n'}, {'number': 3, 'created': '2022-02-02 16:20:11.000000000', 'files': ['tripleo_heat_templates/tests/test_tht_derivce_pci.py', 'deployment/neutron/derive_pci_passthrough_whitelist.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6586120e8f57a198b8119294111fe1da19d92d0f', 'message': 'Update dervice_pci script to handle pci address formats\n\nWhen using nic paritioning feature, the VFs used\nby host has to be excluded from passthrough\nwhitelist. Added support to the derive pci script\nto support pci address as string or dict format.\nSpecifying product_id, vendor_id is also allowed.\nAdded test cases for the derive pci script.\n\nChange-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1\n(cherry picked from commit dde9a258d85964d781962d556bc3221d925fa984)\n'}]",1,827397,6586120e8f57a198b8119294111fe1da19d92d0f,13,2,3,18904,,,0,"Update dervice_pci script to handle pci address formats

When using nic paritioning feature, the VFs used
by host has to be excluded from passthrough
whitelist. Added support to the derive pci script
to support pci address as string or dict format.
Specifying product_id, vendor_id is also allowed.
Added test cases for the derive pci script.

Change-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1
(cherry picked from commit dde9a258d85964d781962d556bc3221d925fa984)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/827397/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_heat_templates/tests/test_tht_derivce_pci.py', 'deployment/neutron/derive_pci_passthrough_whitelist.py', 'tox.ini']",3,90247bf9e478c1256fcda635c8be1e657c65c40c,nicpart_merged-stable/ussuri, pip install -q bindep fixtures {toxinidir}/tripleo_heat_templates/tests/test_tht_ansible_syntax.py {toxinidir}/tripleo_heat_templates/tests/test_tht_derivce_pci.py, pip install -q bindep {toxinidir}/tripleo_heat_templates/tests/test_tht_ansible_syntax.py,1597,132
openstack%2Fos-net-config~stable%2Fussuri~Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,openstack/os-net-config,stable/ussuri,Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,"For linux bond over VFs, disable spoofcheck by default",MERGED,2022-02-02 06:33:43.000000000,2022-02-03 21:38:26.000000000,2022-02-03 21:36:31.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 06:33:43.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3ebf87b434a77e9d37c7d4324dda804c5418e6bc', 'message': 'For linux bond over VFs, disable spoofcheck by default\n\nIn case of linux bonds using NIC Partitioning, the spoofcheck shall\nbe disabled for it to work well with mellanox cards as well as\nintel cards.\n\nChange-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51\n(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)\n'}]",1,827395,3ebf87b434a77e9d37c7d4324dda804c5418e6bc,12,3,1,18904,,,0,"For linux bond over VFs, disable spoofcheck by default

In case of linux bonds using NIC Partitioning, the spoofcheck shall
be disabled for it to work well with mellanox cards as well as
intel cards.

Change-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51
(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/95/827395/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,3ebf87b434a77e9d37c7d4324dda804c5418e6bc,," # For linux_bond, the default value is false spoofcheck: false spoofcheck: false"," # For linux_bond, the default value is true spoofcheck: true spoofcheck: true",9,9
openstack%2Ftripleo-quickstart~master~I5fdbf511ffafd8e75c10433918fa1c2c64fd7744,openstack/tripleo-quickstart,master,I5fdbf511ffafd8e75c10433918fa1c2c64fd7744,Add subscription-manager to tuned package installation,MERGED,2022-02-03 09:19:15.000000000,2022-02-03 21:38:25.000000000,2022-02-03 21:36:29.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-02-03 09:19:15.000000000', 'files': ['roles/provision/remote/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1157553dcae23fd3f2dfce4caad6bf84720a6944', 'message': ""Add subscription-manager to tuned package installation\n\nAfter [1], subscription-manager has been removed as requirement and that\nhas broken tuned automatic detection. Until there is a fix for that,\nlet's make sure subscription-manager is installed before starting tuned\nservice.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2029405\n\nChange-Id: I5fdbf511ffafd8e75c10433918fa1c2c64fd7744\n""}]",4,827607,1157553dcae23fd3f2dfce4caad6bf84720a6944,15,5,1,16312,,,0,"Add subscription-manager to tuned package installation

After [1], subscription-manager has been removed as requirement and that
has broken tuned automatic detection. Until there is a fix for that,
let's make sure subscription-manager is installed before starting tuned
service.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2029405

Change-Id: I5fdbf511ffafd8e75c10433918fa1c2c64fd7744
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/07/827607/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/provision/remote/tasks/main.yml'],1,1157553dcae23fd3f2dfce4caad6bf84720a6944,, # amoralej - we need to add subscription-manager after bz#2029405 name: - tuned - subscription-manager," name: ""tuned""",4,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96,openstack/tripleo-heat-templates,stable/wallaby,Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96,Start the l3 agent with cgroupns: host,MERGED,2022-02-03 13:09:01.000000000,2022-02-03 21:36:34.000000000,2022-02-03 21:36:34.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-03 13:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce8e3e688121796edff79e01deaad06f0d2198d3', 'message': 'Start the l3 agent with cgroupns: host\n\nSince the l3 agent is spinning containers, it should use the host cgroups\nnamespaces just like we did in nova [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802489/\n\nRelated-Bug: #1936005\nCloses-Bug: #1953738\nChange-Id: Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96\n(cherry picked from commit 157d0c112bf21139b4d9ca076f1121a941a35114)\n'}, {'number': 2, 'created': '2022-02-03 13:09:26.000000000', 'files': ['deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f962b8e14829d896b732867e2a9b862b4323ecb4', 'message': 'Start the l3 agent with cgroupns: host\n\nSince the l3 agent is spinning containers, it should use the host cgroups\nnamespaces just like we did in nova [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802489/\n\nRelated-Bug: #1936005\nCloses-Bug: #1953738\nCloses-Bug: #1959582\nChange-Id: Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96\n(cherry picked from commit 157d0c112bf21139b4d9ca076f1121a941a35114)\n'}]",1,827642,f962b8e14829d896b732867e2a9b862b4323ecb4,9,4,2,11975,,,0,"Start the l3 agent with cgroupns: host

Since the l3 agent is spinning containers, it should use the host cgroups
namespaces just like we did in nova [1]

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802489/

Related-Bug: #1936005
Closes-Bug: #1953738
Closes-Bug: #1959582
Change-Id: Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96
(cherry picked from commit 157d0c112bf21139b4d9ca076f1121a941a35114)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/827642/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-l3-container-puppet.yaml'],1,ce8e3e688121796edff79e01deaad06f0d2198d3,, cgroupns: host,,1,0
openstack%2Fpuppet-tripleo~master~Ibe9e1903945cfa30780bca54e2935bbc023627c7,openstack/puppet-tripleo,master,Ibe9e1903945cfa30780bca54e2935bbc023627c7,Designate: Manage [network_api:neutron] parameters,MERGED,2022-01-17 23:15:21.000000000,2022-02-03 21:36:20.000000000,2022-02-03 21:36:20.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 23:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/993e81c151ca6d850c50f7bf9e726b58fa209eb3', 'message': 'Designate: Manage [network_api:neutron] parameters\n\nDepends-on: https://review.opendev.org/824974\nChange-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7\n'}, {'number': 2, 'created': '2022-02-03 02:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dab17cb8066cfdeac8ae05c4798ecb716f987115', 'message': 'Designate: Manage [network_api:neutron] parameters\n\nDepends-on: https://review.opendev.org/824974\nChange-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7\n'}, {'number': 3, 'created': '2022-02-03 02:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5971212a265292f1654e3a8ee1658ad1a10b64b', 'message': 'Designate: Manage [network_api:neutron] parameters\n\nDepends-on: https://review.opendev.org/824974\nChange-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7\n'}, {'number': 4, 'created': '2022-02-03 02:36:30.000000000', 'files': ['spec/classes/tripleo_profile_base_designate_central_spec.rb', 'manifests/profile/base/designate/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0ba4a7bc23d71e9e20581a2c3ddbeef32bb25846', 'message': 'Designate: Manage [network_api:neutron] parameters\n\nDepends-on: https://review.opendev.org/824974\nChange-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7\n'}]",2,825021,0ba4a7bc23d71e9e20581a2c3ddbeef32bb25846,19,4,4,9816,,,0,"Designate: Manage [network_api:neutron] parameters

Depends-on: https://review.opendev.org/824974
Change-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/825021/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_designate_central_spec.rb', 'manifests/profile/base/designate/central.pp']",2,993e81c151ca6d850c50f7bf9e726b58fa209eb3,, include designate::network_api::neutron,,5,0
openstack%2Fwhitebox-tempest-plugin~master~Iced8698e4de1bcecd3130f68b6017c84dd7f7750,openstack/whitebox-tempest-plugin,master,Iced8698e4de1bcecd3130f68b6017c84dd7f7750,Use admin client for vgpu flavor,MERGED,2022-02-03 18:58:09.000000000,2022-02-03 21:36:07.000000000,2022-02-03 21:36:07.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2022-02-03 18:58:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_vgpu.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f2ea0341054a339ca74f77ae7214846847cceedd', 'message': 'Use admin client for vgpu flavor\n\nNeeded to update the client vGPU was using flavor creation to admin\nafter [1] was commited.\n\n[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805300\n\nChange-Id: Iced8698e4de1bcecd3130f68b6017c84dd7f7750\n'}]",1,827756,f2ea0341054a339ca74f77ae7214846847cceedd,7,4,1,31033,,,0,"Use admin client for vgpu flavor

Needed to update the client vGPU was using flavor creation to admin
after [1] was commited.

[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805300

Change-Id: Iced8698e4de1bcecd3130f68b6017c84dd7f7750
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/56/827756/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_vgpu.py'],1,f2ea0341054a339ca74f77ae7214846847cceedd,vgpu_flavor_client," cls.os_admin.flavors_client.set_flavor_extra_spec( cls.vgpu_flavor['id'], **extra_specs)"," cls.flavors_client.set_flavor_extra_spec(cls.vgpu_flavor['id'], **extra_specs)",3,2
openstack%2Fos-brick~master~Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789,openstack/os-brick,master,Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789,releasenotes: add Lightbits LightOS connector release note,MERGED,2022-02-02 08:30:56.000000000,2022-02-03 21:35:43.000000000,2022-02-03 21:33:38.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 33612}]","[{'number': 1, 'created': '2022-02-02 08:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0516f74071fbd1d67e32d7a2e4eb7171057d312e', 'message': 'releasenotes: add Lightbits LightOS connector release note\n\nSigned-off-by: Muli Ben-Yehuda <muli@lightbitslabs.com>\nChange-Id: Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789\n'}, {'number': 2, 'created': '2022-02-02 08:45:25.000000000', 'files': ['releasenotes/notes/bp-lightbits-lightos-clustered-nvmetcp-connector-fd8dfd73330973e9.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/593870338e48dec94a0fcd1e32edc9b40bafef8c', 'message': 'releasenotes: add Lightbits LightOS connector release note\n\nSigned-Off-By: Muli Ben-Yehuda <muli@lightbitslabs.com>\nChange-Id: Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789\n'}]",2,827423,593870338e48dec94a0fcd1e32edc9b40bafef8c,17,3,2,34459,,,0,"releasenotes: add Lightbits LightOS connector release note

Signed-Off-By: Muli Ben-Yehuda <muli@lightbitslabs.com>
Change-Id: Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/23/827423/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bp-lightbits-lightos-clustered-nvmetcp-connector-fd8dfd73330973e9.yaml'],1,0516f74071fbd1d67e32d7a2e4eb7171057d312e,muli/lightosrelnote1,"--- features: - | Lightbits LightOS connector: new os-brick connector for Lightbits(TM) LightOS(R). Lightbits Labs (https://www.lightbitslabs.com) LightOS is software-defined, cloud native, high-performance, clustered scale-out and redundant NVMe/TCP storage that performs like local NVMe flash. This connector requires the Lightbits discovery-client, available from Lightbits Labs. ",,10,0
openstack%2Frequirements~stable%2Fxena~I88c554503086272a13f4db4a28649bccf8e92a7a,openstack/requirements,stable/xena,I88c554503086272a13f4db4a28649bccf8e92a7a,update constraint for horizon to new release 20.1.1,MERGED,2022-02-03 15:33:14.000000000,2022-02-03 21:26:51.000000000,2022-02-03 21:26:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 15:33:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3cf1c18d715f1f848d0b95956922e255d8b0686', 'message': 'update constraint for horizon to new release 20.1.1\n\nmeta: version: 20.1.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Commit: manchandavishal <manchandavishal143@gmail.com>\nmeta: release:Change-Id: I3308eadb54628e4f9efcd2733c056bac5dd97e95\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I88c554503086272a13f4db4a28649bccf8e92a7a\n'}]",1,827696,f3cf1c18d715f1f848d0b95956922e255d8b0686,10,2,1,11131,,,0,"update constraint for horizon to new release 20.1.1

meta: version: 20.1.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I3308eadb54628e4f9efcd2733c056bac5dd97e95
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I88c554503086272a13f4db4a28649bccf8e92a7a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/827696/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f3cf1c18d715f1f848d0b95956922e255d8b0686,new-release,horizon===20.1.1,horizon===20.1.0,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I1c3396bb166424724ceb2745295dafe81c65e50a,openstack/python-tripleoclient,stable/wallaby,I1c3396bb166424724ceb2745295dafe81c65e50a,Exposes the community validation init command,MERGED,2022-01-20 10:33:56.000000000,2022-02-03 21:25:31.000000000,2022-02-03 21:23:29.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-20 10:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5dfade30f2ffbad6db294c4a13273f2a0c300770', 'message': '[Wallaby-only] Exposing validation init command\n\nThis patch exposes the community validation init command to\nthe openstack cli and modifies the requirements files to retrieve\nproper version of validations-libs.\n\nChange-Id: I1c3396bb166424724ceb2745295dafe81c65e50a\n'}, {'number': 2, 'created': '2022-01-20 15:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46a38345a172a59c0b9ca9f80b7c0bff8a8de5fc', 'message': 'Exposes the community validation init command\n\n[downstream-only]\nThis patch exposes the community validation init command to\nthe openstack cli.\n\nChange-Id: I1c3396bb166424724ceb2745295dafe81c65e50a\n'}, {'number': 3, 'created': '2022-01-20 15:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fdefe3ae2f7ddecb3ec3242d062a1fbf0545e7d', 'message': 'Exposes the community validation init command\n\n[downstream-only]\nThis patch exposes the community validation init command to\nthe openstack cli.\n\nChange-Id: I1c3396bb166424724ceb2745295dafe81c65e50a\n(cherry picked from commit 4ce46dcae1c6619ad9241f8dc7654c474e0ac2c5)\n'}, {'number': 4, 'created': '2022-01-21 07:54:18.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f4652163457bd0d4dd4101cf3fb088a1d92e460d', 'message': 'Exposes the community validation init command\n\n[downstream-only]\nThis patch exposes the community validation init command to\nthe openstack cli.\n\nChange-Id: I1c3396bb166424724ceb2745295dafe81c65e50a\n(cherry picked from commit 4ce46dcae1c6619ad9241f8dc7654c474e0ac2c5)\n'}]",3,825477,f4652163457bd0d4dd4101cf3fb088a1d92e460d,19,8,4,32926,,,0,"Exposes the community validation init command

[downstream-only]
This patch exposes the community validation init command to
the openstack cli.

Change-Id: I1c3396bb166424724ceb2745295dafe81c65e50a
(cherry picked from commit 4ce46dcae1c6619ad9241f8dc7654c474e0ac2c5)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/825477/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py', 'setup.cfg']",5,5dfade30f2ffbad6db294c4a13273f2a0c300770,, tripleo_validator_init = tripleoclient.v1.tripleo_validator:TripleOValidatorCommunityInit,,16,2
openstack%2Ftripleo-validations~stable%2Fwallaby~Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f,openstack/tripleo-validations,stable/wallaby,Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f,Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs,MERGED,2022-02-02 09:43:19.000000000,2022-02-03 21:25:23.000000000,2022-02-03 21:23:31.000000000,"[{'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-02-02 09:43:19.000000000', 'files': ['doc/source/roles/role-check_nfv_ovsdpdk_zero_packet_loss.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0f09550e3be6d1fcd78af1479ca33ee22a7bac58', 'message': 'Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs\n\nThe existing documentation, while technically correct, was\nrendered in a suboptimal way due to the missing empty lines around\nsection titles.\n\nThis patch adds them to resolve the issue.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f\n(cherry picked from commit 9cbe84f641107cce56b4b2d222c650a90e8e659d)\n'}]",0,827461,0f09550e3be6d1fcd78af1479ca33ee22a7bac58,8,5,1,32926,,,0,"Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs

The existing documentation, while technically correct, was
rendered in a suboptimal way due to the missing empty lines around
section titles.

This patch adds them to resolve the issue.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f
(cherry picked from commit 9cbe84f641107cce56b4b2d222c650a90e8e659d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/61/827461/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-check_nfv_ovsdpdk_zero_packet_loss.rst'],1,0f09550e3be6d1fcd78af1479ca33ee22a7bac58,,================== ,=================,12,1
openstack%2Ftripleo-validations~stable%2Ftrain~Ib3ca74caf747c13937a4efa8c20a6fd789ede43b,openstack/tripleo-validations,stable/train,Ib3ca74caf747c13937a4efa8c20a6fd789ede43b,oslo-config-validator: invalidating configs only when necessary,MERGED,2021-10-15 12:14:00.000000000,2022-02-03 21:23:27.000000000,2022-02-03 21:23:27.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-10-15 12:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4e58398064550f2c7424cbb63186ad95f51ba5c5', 'message': 'oslo-config-validator: invalidating configs only when necessary\n\nSome nodes with no settings to invalidate as per their role will have\nan empty config_invalidations list thus breaking the related tasks and\nreturning an error.\n\nSkipping these tasks when config_invalidations is undefined will prevent\nthis false negative and will not block other nodes from runnnig the\ntasks.\n\nAlso, adding some defaults to prevent failures when items are missing\nfrom config.\n\nChange-Id: Ib3ca74caf747c13937a4efa8c20a6fd789ede43b\n(cherry picked from commit 9c62de3d4c5f0c78445b450da917a6183e81f93b)\n(cherry picked from commit 6d8ea31cbcda2cc915350eb3152c6ea9466a925a)\n(cherry picked from commit ea51007651ba0e13c44f97fcf535a9c84c628b34)\n(cherry picked from commit bee63bba7c9ae659eeab07ac5b20b5cc39a24af1)\n'}, {'number': 2, 'created': '2021-10-15 12:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/847be2a40da535345e0ed154956c103196de9601', 'message': 'oslo-config-validator: invalidating configs only when necessary\n\nSome nodes with no settings to invalidate as per their role will have\nan empty config_invalidations list thus breaking the related tasks and\nreturning an error.\n\nSkipping these tasks when config_invalidations is undefined will prevent\nthis false negative and will not block other nodes from runnnig the\ntasks.\n\nAlso, adding some defaults to prevent failures when items are missing\nfrom config.\n\nChange-Id: Ib3ca74caf747c13937a4efa8c20a6fd789ede43b\n(cherry picked from commit 9c62de3d4c5f0c78445b450da917a6183e81f93b)\n(cherry picked from commit 6d8ea31cbcda2cc915350eb3152c6ea9466a925a)\n(cherry picked from commit ea51007651ba0e13c44f97fcf535a9c84c628b34)\n(cherry picked from commit bee63bba7c9ae659eeab07ac5b20b5cc39a24af1)\n'}, {'number': 3, 'created': '2022-02-02 22:20:26.000000000', 'files': ['roles/oslo_config_validator/tasks/validate_config.yml', 'roles/oslo_config_validator/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d9afa02a66a08afee83c4a5b53f956200fc26661', 'message': 'oslo-config-validator: invalidating configs only when necessary\n\nSome nodes with no settings to invalidate as per their role will have\nan empty config_invalidations list thus breaking the related tasks and\nreturning an error.\n\nSkipping these tasks when config_invalidations is undefined will prevent\nthis false negative and will not block other nodes from runnnig the\ntasks.\n\nAlso, adding some defaults to prevent failures when items are missing\nfrom config.\n\nChange-Id: Ib3ca74caf747c13937a4efa8c20a6fd789ede43b\n(cherry picked from commit 9c62de3d4c5f0c78445b450da917a6183e81f93b)\n(cherry picked from commit 6d8ea31cbcda2cc915350eb3152c6ea9466a925a)\n(cherry picked from commit ea51007651ba0e13c44f97fcf535a9c84c628b34)\n(cherry picked from commit bee63bba7c9ae659eeab07ac5b20b5cc39a24af1)\n'}]",0,813947,d9afa02a66a08afee83c4a5b53f956200fc26661,13,6,3,27419,,,0,"oslo-config-validator: invalidating configs only when necessary

Some nodes with no settings to invalidate as per their role will have
an empty config_invalidations list thus breaking the related tasks and
returning an error.

Skipping these tasks when config_invalidations is undefined will prevent
this false negative and will not block other nodes from runnnig the
tasks.

Also, adding some defaults to prevent failures when items are missing
from config.

Change-Id: Ib3ca74caf747c13937a4efa8c20a6fd789ede43b
(cherry picked from commit 9c62de3d4c5f0c78445b450da917a6183e81f93b)
(cherry picked from commit 6d8ea31cbcda2cc915350eb3152c6ea9466a925a)
(cherry picked from commit ea51007651ba0e13c44f97fcf535a9c84c628b34)
(cherry picked from commit bee63bba7c9ae659eeab07ac5b20b5cc39a24af1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/813947/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oslo_config_validator/tasks/validate_config.yml', 'roles/oslo_config_validator/tasks/main.yml']",2,4e58398064550f2c7424cbb63186ad95f51ba5c5,, - config_invalidations is defined,,4,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia6618111be285d6883bd7adfa2ac39d205d9fcc3,openstack/tripleo-heat-templates,stable/train,Ia6618111be285d6883bd7adfa2ac39d205d9fcc3,Fix cloud-init detection rules,MERGED,2022-01-26 14:59:56.000000000,2022-02-03 21:23:25.000000000,2022-02-03 21:23:25.000000000,"[{'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-26 14:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7eda12c90e3288e6ff18382a9fc18212425ee25', 'message': ""Fix cloud-init detection rules\n\nDo not wait for cloud init, when it's disabled via kernel args.\n\nChange-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit cef35a45a9a84fd10bdb1959923449f617fbc3ad)\n""}, {'number': 2, 'created': '2022-02-02 07:02:35.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d5a8985970a4ca6e3e6c04e8d8627cbaf338a05', 'message': ""Fix cloud-init detection rules\n\nDo not wait for cloud init, when it's disabled via kernel args.\n\nChange-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit cef35a45a9a84fd10bdb1959923449f617fbc3ad)\n""}]",5,826384,4d5a8985970a4ca6e3e6c04e8d8627cbaf338a05,21,6,2,6926,,,0,"Fix cloud-init detection rules

Do not wait for cloud init, when it's disabled via kernel args.

Change-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit cef35a45a9a84fd10bdb1959923449f617fbc3ad)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/826384/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,b7eda12c90e3288e6ff18382a9fc18212425ee25,,- name: Check if cloud-init is disabled via kernel args shell: cat /proc/cmdline | grep -q cloud-init=disabled failed_when: false check_mode: false register: cloud_init_vendor_disabled - cloud_init_vendor_disabled.rc is not defined or cloud_init_vendor_disabled.rc != 0,,6,0
openstack%2Fcharm-vault~master~Icb73919f247c60a9e18cc2e563f0fda9c620cb14,openstack/charm-vault,master,Icb73919f247c60a9e18cc2e563f0fda9c620cb14,Update to build using charmcraft,MERGED,2022-02-01 21:10:27.000000000,2022-02-03 21:21:53.000000000,2022-02-03 21:21:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 21:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c0af965872aa163f3850733f3d5f015a382eca70', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Icb73919f247c60a9e18cc2e563f0fda9c620cb14\n'}, {'number': 2, 'created': '2022-02-03 13:58:53.000000000', 'files': ['osci.yaml', 'src/tests/bundles/impish-mysql8.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'requirements.txt', 'src/tests/bundles/jammy-mysql8.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b797fcfcbf2e70c1d5c1ab4f4e2e5c39add04d95', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Icb73919f247c60a9e18cc2e563f0fda9c620cb14\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,827372,b797fcfcbf2e70c1d5c1ab4f4e2e5c39add04d95,11,4,2,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Icb73919f247c60a9e18cc2e563f0fda9c620cb14
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/72/827372/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/impish-mysql8.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'requirements.txt', 'src/tests/bundles/jammy-mysql8.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,c0af965872aa163f3850733f3d5f015a382eca70,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,85,13
openstack%2Fcharm-cinder~master~Ida0ad9ac927de7ed8f9206521014404b38187cd6,openstack/charm-cinder,master,Ida0ad9ac927de7ed8f9206521014404b38187cd6,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 11:40:56.000000000,2022-02-03 21:10:45.000000000,2022-02-03 21:10:45.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-27 11:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/4fc138e60553514bb2f77c20d89ef9cf457c16d0', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Ida0ad9ac927de7ed8f9206521014404b38187cd6\n'}, {'number': 2, 'created': '2022-01-27 19:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/22c6366cec1bfeaeb4992bd24863b306daa6256c', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Ida0ad9ac927de7ed8f9206521014404b38187cd6\n'}, {'number': 3, 'created': '2022-02-01 11:53:10.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'unit_tests/test_cinder_hooks.py', 'tests/bundles/focal-yoga.yaml', 'config.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7c551e4dfa40500cfa77d6a1852c005aac648984', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Ida0ad9ac927de7ed8f9206521014404b38187cd6\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",2,826641,7c551e4dfa40500cfa77d6a1852c005aac648984,17,4,3,20870,,,0,"Migrate charm to charmhub latest/edge track

Change-Id: Ida0ad9ac927de7ed8f9206521014404b38187cd6
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/41/826641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'config.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml']",19,4fc138e60553514bb2f77c20d89ef9cf457c16d0,charmhub-migration-master, charm: ch:mysql-router channel: latest/edge placement-mysql-router: charm: ch:mysql-router channel: latest/edge keystone-mysql-router: charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge neutron-api-mysql-router: charm: ch:mysql-router channel: latest/edge cinder-mysql-router: charm: ch:mysql-router channel: latest/edge charm: ch:mysql-innodb-cluster channel: latest/edge charm: ch:rabbitmq-server channel: latest/edge charm: ch:nova-cloud-controller channel: latest/edge charm: ch:placement channel: latest/edge charm: ch:neutron-api channel: latest/edge charm: ch:keystone channel: latest/edge charm: ch:neutron-gateway channel: latest/edge charm: ch:glance channel: latest/edge charm: ch:neutron-openvswitch channel: latest/edge charm: ch:nova-compute channel: latest/edge, charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router charm: cs:~openstack-charmers-next/mysql-innodb-cluster charm: cs:~openstack-charmers-next/rabbitmq-server charm: cs:~openstack-charmers-next/nova-cloud-controller charm: cs:~openstack-charmers-next/placement charm: cs:~openstack-charmers-next/neutron-api charm: cs:~openstack-charmers-next/keystone charm: cs:~openstack-charmers-next/neutron-gateway charm: cs:~openstack-charmers-next/glance charm: cs:~openstack-charmers-next/neutron-openvswitch charm: cs:~openstack-charmers-next/nova-compute,190,1682
openstack%2Fcharm-aodh~master~Ic5d06e404f307409db960a98538310e1e0e80308,openstack/charm-aodh,master,Ic5d06e404f307409db960a98538310e1e0e80308,Update to build using charmcraft,MERGED,2022-01-31 15:41:08.000000000,2022-02-03 21:10:20.000000000,2022-02-02 13:12:14.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-31 15:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/8a294597c0c582ef0bf076ab76c951f18c83db06', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 2, 'created': '2022-01-31 15:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/84aa7820a4b14a801ad6a9c395d954456dcfc50a', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 3, 'created': '2022-01-31 16:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/bf54287fdc3599a1068050f33e88c25c9487743a', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 4, 'created': '2022-02-01 12:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/5dd188e07eaf91a0f823945c7183aecf4a6b4bf8', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 5, 'created': '2022-02-01 13:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/fbf34cfde7b4cac319b8e08b9a43ab644962cd52', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 6, 'created': '2022-02-01 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/7ba59776403f28e2e59ed83627a8860208c4b7f3', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 7, 'created': '2022-02-01 14:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/3067473566f22cf241f16be86a51528b5fc6ee6e', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 8, 'created': '2022-02-01 15:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/cf5a947565e7177540f409ce6bd8bccd34aad958', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 9, 'created': '2022-02-01 15:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/e2c5b1d7dda1f1dc477c3cd9098fc7840bc70e9a', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}, {'number': 10, 'created': '2022-02-01 17:47:28.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/b44e3bd667bea59b00392c5d341501a467a63531', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ic5d06e404f307409db960a98538310e1e0e80308\n'}]",1,827133,b44e3bd667bea59b00392c5d341501a467a63531,32,5,10,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Ic5d06e404f307409db960a98538310e1e0e80308
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/33/827133/10 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'tox.ini']",8,8a294597c0c582ef0bf076ab76c951f18c83db06,charmhub-migration-master,"allowlist_externals = charmcraft bashdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build bash -c ""mv aodh*.charm aodh.charm"" [testenv:build-reactive] basepython = python3",,38,7
openstack%2Fopenstack-ansible~stable%2Fvictoria~I0e2a037311f216e6bb172e2f36892054968202b9,openstack/openstack-ansible,stable/victoria,I0e2a037311f216e6bb172e2f36892054968202b9,Remove CI jobs for centos-8,MERGED,2022-01-13 14:05:03.000000000,2022-02-03 21:07:13.000000000,2022-02-03 20:58:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-01-13 14:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67bd378393e588c1a2c2294cf4936255fb71c33b', 'message': 'Remove CI jobs for centos-8\n\nCentos-8 is becoming EOL so we remove the CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/824538\n(cherry-picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n\nChange-Id: I0e2a037311f216e6bb172e2f36892054968202b9\n'}, {'number': 2, 'created': '2022-01-21 18:05:06.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/df309d6d312db6a783f3acbea2d331b31abae913', 'message': 'Remove CI jobs for centos-8\n\nCentos-8 is becoming EOL so we remove the CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/824538\n(cherry-picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n\nChange-Id: I0e2a037311f216e6bb172e2f36892054968202b9\n'}]",14,824570,df309d6d312db6a783f3acbea2d331b31abae913,43,4,2,25023,,,0,"Remove CI jobs for centos-8

Centos-8 is becoming EOL so we remove the CI jobs.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/824538
(cherry-picked from commit 81c24da82298f735170e516fe436d6582f527d52)

Change-Id: I0e2a037311f216e6bb172e2f36892054968202b9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/824570/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml']",3,67bd378393e588c1a2c2294cf4936255fb71c33b,osa/remove-centos8,,# centos 8 - job: name: openstack-ansible-deploy-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-deploy-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_telemetry_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_nspawn-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 ,0,90
openstack%2Fkayobe~stable%2Fwallaby~I4b8a42704f2b0a145ee9dec433d91df67628cd9d,openstack/kayobe,stable/wallaby,I4b8a42704f2b0a145ee9dec433d91df67628cd9d,ntp: Fix service mask when service doesn't exist,MERGED,2022-02-02 16:45:19.000000000,2022-02-03 20:52:10.000000000,2022-02-03 19:33:25.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-02-02 16:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dceb5b9524f44cbe4e593913118f628541c45216', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nStory: 2009821\nTask: 44401\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}, {'number': 2, 'created': '2022-02-03 09:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ab3897c30e9e3515d03c23bf827e2641e64b8726', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nNote this patch also disables Horizon deployment to work around disk\nspace issues in CI.\n\nStory: 2009821\nTask: 44401\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}, {'number': 3, 'created': '2022-02-03 11:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/588d838a6b8b836b3c6069274417ea432411a8f8', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nNote this patch also disables Horizon deployment and reduces reserved\nblocks on the root file system to work around disk space issues in CI.\n\nStory: 2009821\nTask: 44401\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}, {'number': 4, 'created': '2022-02-03 14:00:03.000000000', 'files': ['releasenotes/notes/story-2009821-b309165e25e77aea.yaml', 'ansible/roles/ntp/tasks/prepare.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/180fd4ba38061365e790699fff0e87c5ce4a5b98', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nNote this patch also reduces reserved blocks on the root file system to\nwork around disk space issues in CI.\n\nStory: 2009821\nTask: 44401\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}]",7,827403,180fd4ba38061365e790699fff0e87c5ce4a5b98,31,6,4,14826,,,0,"ntp: Fix service mask when service doesn't exist

The ntp role attempts to mask NTP services that may conflict with
chrony. Currently we are seeing the following failure:

    TASK ntp : Mask alternative NTP clients to prevent conflicts
    Could not find the requested service systemd-timesyncd.service: host

The service_facts module shows that the service is not found:

    ""systemd-timesyncd.service"": {
        ""name"": ""systemd-timesyncd.service"",
        ""source"": ""systemd"",
        ""state"": ""stopped"",
        ""status"": ""not-found""
    },

According to the Internet, this can happen if there are After/Before
dependencies in one service on another that does not exist.

This change fixes the handling of these not-found services to avoid the
error.

Note this patch also reduces reserved blocks on the root file system to
work around disk space issues in CI.

Story: 2009821
Task: 44401

Change-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/827403/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/story-2009821-b309165e25e77aea.yaml', 'ansible/roles/ntp/tasks/prepare.yml']",2,dceb5b9524f44cbe4e593913118f628541c45216,," # NOTE(mgoddard): The service_facts module can return services that are not # present, possibly due to After/Before dependencies in other services. # These show up with a status of 'not-found'. service_exists: >- {{ item in ansible_facts.services and ansible_facts.services[item].status != 'not-found' }}"," service_exists: ""{{ item in ansible_facts.services }}""",11,1
openstack%2Fproject-config~master~I5c46c503159ff272f191bea8d4fa1cee7c0bccdb,openstack/project-config,master,I5c46c503159ff272f191bea8d4fa1cee7c0bccdb,Parent OSA roles to openstack-ansible repo,MERGED,2022-02-03 19:16:16.000000000,2022-02-03 20:48:26.000000000,2022-02-03 20:23:39.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 19:16:16.000000000', 'files': ['gerrit/acls/openstack/openstack-ansible-roles.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ca7d1ec9e345bce53ce887872334aa96b3842776', 'message': 'Parent OSA roles to openstack-ansible repo\n\nThis introduces new ACL file that aims only to make repos parented to\nthe integrated repo. With that it should be easier to\nsearch OSA-related changes in gerrit along with building dashboards.\n\nChange-Id: I5c46c503159ff272f191bea8d4fa1cee7c0bccdb\n'}]",1,827757,ca7d1ec9e345bce53ce887872334aa96b3842776,8,3,1,28619,,,0,"Parent OSA roles to openstack-ansible repo

This introduces new ACL file that aims only to make repos parented to
the integrated repo. With that it should be easier to
search OSA-related changes in gerrit along with building dashboards.

Change-Id: I5c46c503159ff272f191bea8d4fa1cee7c0bccdb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/827757/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-ansible-roles.config', 'gerrit/projects.yaml']",2,ca7d1ec9e345bce53ce887872334aa96b3842776,, acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config, acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config acl-config: /home/gerrit2/acls/openstack/openstack-ansible.config,63,61
openstack%2Fmanila~master~Ic5b8a76a225f20f68b32066a296dd50399209d46,openstack/manila,master,Ic5b8a76a225f20f68b32066a296dd50399209d46,Metadata for Share Snapshots Resource,ABANDONED,2022-02-03 16:40:07.000000000,2022-02-03 20:46:06.000000000,,[],"[{'number': 1, 'created': '2022-02-03 16:40:07.000000000', 'files': ['manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/policies/share_snapshot.py', 'manila/api/v1/share_snapshots.py', 'manila/api/v2/share_snapshots.py', 'manila/tests/api/v2/test_share_snapshots.py', 'manila/db/migrations/alembic/versions/bb5938d74b73_add_snapshot_metadata_table.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/volume/cinder.py', 'manila/api/views/share_snapshots.py', 'manila/api/v2/metadata.py', 'manila/api/v2/router.py', 'manila/db/sqlalchemy/models.py', 'manila/policies/shares.py', 'manila/tests/fake_share.py', 'manila/tests/test_exception.py', 'manila/db/api.py', 'manila/tests/db_utils.py', 'manila/share/api.py', 'manila/tests/api/contrib/stubs.py', 'manila/tests/api/v2/test_metadata.py', 'manila/exception.py', 'manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/10920e259e71f07672446b8cba839124a4b16b9b', 'message': 'Metadata for Share Snapshots Resource\n\n    This change adds metadata controller for Snapshots resource\n\n    DocImpact\n    APIImpact\n    Partially-implements: bp/metadata-for-share-resources\n\n    Depends-On: Depends-On: I3e7d3a49cec6af347368757f30d4478841dabeaa\n    Change-Id: I91151792d033a4297557cd5f330053d78895eb78\n\nChange-Id: Ic5b8a76a225f20f68b32066a296dd50399209d46\n'}]",0,827717,10920e259e71f07672446b8cba839124a4b16b9b,3,0,1,32594,,,0,"Metadata for Share Snapshots Resource

    This change adds metadata controller for Snapshots resource

    DocImpact
    APIImpact
    Partially-implements: bp/metadata-for-share-resources

    Depends-On: Depends-On: I3e7d3a49cec6af347368757f30d4478841dabeaa
    Change-Id: I91151792d033a4297557cd5f330053d78895eb78

Change-Id: Ic5b8a76a225f20f68b32066a296dd50399209d46
",git fetch https://review.opendev.org/openstack/manila refs/changes/17/827717/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/policies/share_snapshot.py', 'manila/api/v1/share_snapshots.py', 'manila/api/v2/share_snapshots.py', 'manila/tests/api/v2/test_share_snapshots.py', 'manila/db/migrations/alembic/versions/bb5938d74b73_add_snapshot_metadata_table.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/volume/cinder.py', 'manila/api/views/share_snapshots.py', 'manila/api/v2/metadata.py', 'manila/api/v2/router.py', 'manila/db/sqlalchemy/models.py', 'manila/policies/shares.py', 'manila/tests/fake_share.py', 'manila/tests/test_exception.py', 'manila/db/api.py', 'manila/tests/db_utils.py', 'manila/share/api.py', 'manila/tests/api/contrib/stubs.py', 'manila/tests/api/v2/test_metadata.py', 'manila/exception.py', 'manila/api/v2/shares.py']",24,10920e259e71f07672446b8cba839124a4b16b9b,bp/metadata-for-share-resources,"from manila.api.v2 import metadataclass ShareController(wsgi.Controller, shares.ShareMixin, metadata.MetadataController, # NOTE: (ashrod98) original metadata method and policy overrides @wsgi.Controller.api_version(""2.0"") @wsgi.Controller.authorize(""get_share_metadata"") def index_metadata(self, req, resource_id): """"""Returns the list of metadata for a given share."""""" return self._index_metadata(req, resource_id) @wsgi.Controller.api_version(""2.0"") @wsgi.Controller.authorize(""update_share_metadata"") def create_metadata(self, req, resource_id, body): return self._create_metadata(req, resource_id, body) @wsgi.Controller.api_version(""2.0"") @wsgi.Controller.authorize(""update_share_metadata"") def update_all_metadata(self, req, resource_id, body): return self._update_all_metadata(req, resource_id, body) @wsgi.Controller.api_version(""2.0"") @wsgi.Controller.authorize(""update_share_metadata"") def update_metadata_item(self, req, resource_id, body, key): return self._update_metadata_item(req, resource_id, body, key) @wsgi.Controller.api_version(""2.0"") @wsgi.Controller.authorize(""get_share_metadata"") def show_metadata(self, req, resource_id, key): return self._show_metadata(req, resource_id, key) @wsgi.Controller.api_version(""2.0"") @wsgi.Controller.authorize(""delete_share_metadata"") def delete_metadata(self, req, resource_id, key): return self._delete_metadata(req, resource_id, key) ","class ShareController(shares.ShareMixin, wsgi.Controller,",1089,91
openstack%2Fopenstack-ansible-os_glance~master~Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a,openstack/openstack-ansible-os_glance,master,Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:11:26.000000000,2022-02-03 20:35:41.000000000,2022-02-03 20:33:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:11:26.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/cab9cb90f5d48919388ab3d2bda4ea50f01d1c7f', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a\n'}]",0,827438,cab9cb90f5d48919388ab3d2bda4ea50f01d1c7f,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/38/827438/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,cab9cb90f5d48919388ab3d2bda4ea50f01d1c7f,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""{{ glance_etc_dir }}/policy.json"" state: absent listen: - ""Restart glance services"" - ""venv changed"" ",0,9
openstack%2Fopenstack-ansible~master~I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9,openstack/openstack-ansible,master,I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9,[TEST] Enable Galera SSL by default,ABANDONED,2017-12-14 20:46:57.000000000,2022-02-03 20:34:53.000000000,,"[{'_account_id': 3}, {'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-12-14 20:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/94c82fe0a41ab1d9cd7902bd6757cadb1be4ff5f', 'message': ""[TEST] Enable Galera SSL by default\n\nAdd the 'galera_use_ssl' group var to enable SSL connections to the\ndatabase by default.\n\nCloses-Bug: 1667789\n\nChange-Id: I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9\nDepends-On: I0f8c62412e088ebb9b0ed21f7ce707b14f69d62a\nDepends-On: I10c578f32c54138cac87ad42adc0ab38d62da9a6\nDepends-On: I18e9d47e88e61ff287e5120dead49b02cdf1f8ac\nDepends-On: Ifeda0acb4b70ba313e6572c806125d31ab3eb300\nDepends-On: I9f9a130be3a4920170295b041b94dd435e3781d1\nDepends-On: Id576553bd481ed786ff0ed4948ce79bb74544000\nDepends-On: I8d582a5fe18b33592461f3ea23551c97720b8e7d\nDepends-On: Ie7e0e5f7fc89978126d0d735367d8ecf3e007cfc\nDepends-On: I0d8e3b685faa8d394fd56f8fbfd9b492d2c2cb60\nDepends-On: Ib5a87e9366cd9e5a78ccb774ced46e1791e7691d\nDepends-On: I1c0598a2f83d330014ffbb2612386016347d3425\nDepends-On: I1ac622926542ff6a3dfca7be3703f33ede4013df\nDepends-On: Ia453e842cabbb46e25f9918e88738340ff08f2ab\nDepends-On: Ie39024c99cad0932f464707adc43019bc1062317\nDepends-On: I7a43d313474e17d7e968a5a9510368e3abdf6682\nDepends-On: I9165a04de869197ac05e60be799f59a263e98a7b\nDepends-On: I24f06aeacd92d6eead4100009301e0fb975bc552\n""}, {'number': 2, 'created': '2017-12-18 23:15:08.000000000', 'files': ['inventory/group_vars/all/infra.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a20afc7cc78a63c53a42f3aad63a2d63353ff211', 'message': ""[TEST] Enable Galera SSL by default\n\nAdd the 'galera_use_ssl' group var to enable SSL connections to the\ndatabase by default.\n\nCloses-Bug: 1667789\n\nChange-Id: I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9\nDepends-On: I0f8c62412e088ebb9b0ed21f7ce707b14f69d62a\nDepends-On: I10c578f32c54138cac87ad42adc0ab38d62da9a6\nDepends-On: I18e9d47e88e61ff287e5120dead49b02cdf1f8ac\nDepends-On: Ifeda0acb4b70ba313e6572c806125d31ab3eb300\nDepends-On: I9f9a130be3a4920170295b041b94dd435e3781d1\nDepends-On: Id576553bd481ed786ff0ed4948ce79bb74544000\nDepends-On: I8d582a5fe18b33592461f3ea23551c97720b8e7d\nDepends-On: Ie7e0e5f7fc89978126d0d735367d8ecf3e007cfc\nDepends-On: I0d8e3b685faa8d394fd56f8fbfd9b492d2c2cb60\nDepends-On: Ib5a87e9366cd9e5a78ccb774ced46e1791e7691d\nDepends-On: I1c0598a2f83d330014ffbb2612386016347d3425\nDepends-On: I1ac622926542ff6a3dfca7be3703f33ede4013df\nDepends-On: Ia453e842cabbb46e25f9918e88738340ff08f2ab\nDepends-On: Ie39024c99cad0932f464707adc43019bc1062317\nDepends-On: I7a43d313474e17d7e968a5a9510368e3abdf6682\nDepends-On: I9165a04de869197ac05e60be799f59a263e98a7b\nDepends-On: I24f06aeacd92d6eead4100009301e0fb975bc552\n""}]",0,528079,a20afc7cc78a63c53a42f3aad63a2d63353ff211,17,4,2,14805,,,0,"[TEST] Enable Galera SSL by default

Add the 'galera_use_ssl' group var to enable SSL connections to the
database by default.

Closes-Bug: 1667789

Change-Id: I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9
Depends-On: I0f8c62412e088ebb9b0ed21f7ce707b14f69d62a
Depends-On: I10c578f32c54138cac87ad42adc0ab38d62da9a6
Depends-On: I18e9d47e88e61ff287e5120dead49b02cdf1f8ac
Depends-On: Ifeda0acb4b70ba313e6572c806125d31ab3eb300
Depends-On: I9f9a130be3a4920170295b041b94dd435e3781d1
Depends-On: Id576553bd481ed786ff0ed4948ce79bb74544000
Depends-On: I8d582a5fe18b33592461f3ea23551c97720b8e7d
Depends-On: Ie7e0e5f7fc89978126d0d735367d8ecf3e007cfc
Depends-On: I0d8e3b685faa8d394fd56f8fbfd9b492d2c2cb60
Depends-On: Ib5a87e9366cd9e5a78ccb774ced46e1791e7691d
Depends-On: I1c0598a2f83d330014ffbb2612386016347d3425
Depends-On: I1ac622926542ff6a3dfca7be3703f33ede4013df
Depends-On: Ia453e842cabbb46e25f9918e88738340ff08f2ab
Depends-On: Ie39024c99cad0932f464707adc43019bc1062317
Depends-On: I7a43d313474e17d7e968a5a9510368e3abdf6682
Depends-On: I9165a04de869197ac05e60be799f59a263e98a7b
Depends-On: I24f06aeacd92d6eead4100009301e0fb975bc552
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/528079/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/inventory/group_vars/all/infra.yml'],1,94c82fe0a41ab1d9cd7902bd6757cadb1be4ff5f,bug/1667789,galera_use_ssl: True,,1,0
openstack%2Fproject-config~master~I57ef2c10d2c29142801ba134c8183bb0393771a8,openstack/project-config,master,I57ef2c10d2c29142801ba134c8183bb0393771a8,Allow default-branch in our projects.yaml checking,MERGED,2022-02-03 18:37:28.000000000,2022-02-03 20:32:58.000000000,2022-02-03 20:32:58.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-03 18:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b649f3953947953132e18e5c241aa79618848d36', 'message': ""Allow default-branch in our projects.yaml checking\n\nSome projects may not be created with a master branch and choose to use\na different default-branch value. There is support for this in jeepyb\nand our gitea git repo management role but we don't allow it in linting.\nUpdate our linting to accomodate projects making this change.\n\nChange-Id: I57ef2c10d2c29142801ba134c8183bb0393771a8\n""}, {'number': 2, 'created': '2022-02-03 19:14:20.000000000', 'files': ['tools/check_valid_gerrit_projects.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/81e58b7893078cca3ac4de1bcf8d1ac6252c9bd2', 'message': ""Allow default-branch in our projects.yaml checking\n\nSome projects may not be created with a master branch and choose to use\na different default-branch value. There is support for this in jeepyb\nand our gitea git repo management role but we don't allow it in linting.\nUpdate our linting to accomodate projects making this change.\n\nChange-Id: I57ef2c10d2c29142801ba134c8183bb0393771a8\n""}]",1,827753,81e58b7893078cca3ac4de1bcf8d1ac6252c9bd2,10,4,2,4146,,,0,"Allow default-branch in our projects.yaml checking

Some projects may not be created with a master branch and choose to use
a different default-branch value. There is support for this in jeepyb
and our gitea git repo management role but we don't allow it in linting.
Update our linting to accomodate projects making this change.

Change-Id: I57ef2c10d2c29142801ba134c8183bb0393771a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/827753/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_valid_gerrit_projects.py'],1,b649f3953947953132e18e5c241aa79618848d36,import-cirros,"def check_repo(repo_path, default_branch): if 'origin/%s' % default_branch in branches: print("" %s branch exists."" % default_branch) print("" ERROR: No %s branch exists"" % default_branch) ""upstream"", ""use-storyboard"", ""cgit-alias"", ""default-branch"",] default_branch = p.get('default-branch', 'master') check_repo(openstack_repo, default_branch) found_errors += check_repo(upstream, default_branch)","def check_repo(repo_path): if 'origin/master' in branches: print("" Master branch exists."") print("" ERROR: No master branch exists"") ""upstream"", ""use-storyboard"", ""cgit-alias""] check_repo(openstack_repo) found_errors += check_repo(upstream)",9,7
openstack%2Ftripleo-heat-templates~master~I9322cd2a2f274daba1d02d5bf98e5abbca795df0,openstack/tripleo-heat-templates,master,I9322cd2a2f274daba1d02d5bf98e5abbca795df0,Enable notification from Keystone when Barbican is enabled,MERGED,2022-01-05 00:50:20.000000000,2022-02-03 20:22:58.000000000,2022-02-03 20:20:56.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 00:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8968e2b415b282ea619944d6855916b6508e0568', 'message': 'Enable notification from Keystone when Barbican is enabled\n\nBarbican, especially the barbican-keystone-listener service, consumes\nnotifications from Keystone so that secrets associated with deleted\nusers are purged. This change ensures notification is enabled in\nKeystone when Barbican is enabled to use that feature properly.\n\nChange-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0\nCloses-Bug: #1956400\n'}, {'number': 2, 'created': '2022-01-05 01:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eff2a343200eecc69a8aa534e5d925f8bb268f02', 'message': 'Enable notification from Keystone when Barbican is enabled\n\nBarbican, especially the barbican-keystone-listener service, consumes\nnotifications from Keystone so that secrets associated with deleted\nusers are purged. This change ensures notification is enabled in\nKeystone when Barbican is enabled to use that feature properly.\n\nCloses-Bug: #1956400\nChange-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0\n'}, {'number': 3, 'created': '2022-01-05 08:49:37.000000000', 'files': ['environments/services-baremetal/barbican.yaml', 'environments/services/barbican.yaml', 'releasenotes/notes/keystone-notification-driver-0c71165430eb57ef.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a04690cda3332b539445d07ff2f24f7425796af', 'message': 'Enable notification from Keystone when Barbican is enabled\n\nBarbican, especially the barbican-keystone-listener service, consumes\nnotifications from Keystone so that secrets associated with deleted\nusers are purged. This change ensures notification is enabled in\nKeystone when Barbican is enabled to use that feature properly.\n\nCloses-Bug: #1956400\nChange-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0\n'}]",0,823441,3a04690cda3332b539445d07ff2f24f7425796af,14,4,3,9816,,,0,"Enable notification from Keystone when Barbican is enabled

Barbican, especially the barbican-keystone-listener service, consumes
notifications from Keystone so that secrets associated with deleted
users are purged. This change ensures notification is enabled in
Keystone when Barbican is enabled to use that feature properly.

Closes-Bug: #1956400
Change-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/823441/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/barbican.yaml', 'environments/services/barbican.yaml', 'releasenotes/notes/keystone-notification-driver-0c71165430eb57ef.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",4,8968e2b415b282ea619944d6855916b6508e0568,bug/1956400," KeystoneNotificationDriver: type: comma_delimited_list default: [] description: | Driver or drivers to handle sending notifications. This parameter is specific to Keystone. keystone_notification_driver_set: {not: {equals: [{get_param: KeystoneNotificationDriver, []}]}} keystone::notification_driver: if: - keystone_notification_driver_set - {get_param: KeystoneNotificationDriver} - {get_param: NotificationDriver}", keystone::notification_driver: {get_param: NotificationDriver},25,1
openstack%2Fansible-role-collect-logs~master~Id58b76ffa608654418e41cd8ab4c3d1021102ceb,openstack/ansible-role-collect-logs,master,Id58b76ffa608654418e41cd8ab4c3d1021102ceb,Fix slow timings regex matcher,MERGED,2022-01-27 09:30:41.000000000,2022-02-03 20:20:53.000000000,2022-02-03 20:20:53.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 09:30:41.000000000', 'files': ['roles/collect_logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d8fdd04f9351dc33202c4d01fad8cba299824c03', 'message': 'Fix slow timings regex matcher\n\nChange-Id: Id58b76ffa608654418e41cd8ab4c3d1021102ceb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,826599,d8fdd04f9351dc33202c4d01fad8cba299824c03,7,3,1,6926,,,0,"Fix slow timings regex matcher

Change-Id: Id58b76ffa608654418e41cd8ab4c3d1021102ceb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/99/826599/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/defaults/main.yml'],1,d8fdd04f9351dc33202c4d01fad8cba299824c03,," -exec grep -HE '(time:\s?|held |waited )([3-9][0-9]\.|[0-9]{3,}\.)' {} \;;"," -exec grep -HE '(time:|held |waited )([3-9][0-9]\.|[0-9]{3,}\.)' {} \;;",1,1
openstack%2Ftripleo-heat-templates~master~I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e,openstack/tripleo-heat-templates,master,I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e,Enable clean-up service for novajoin by default,MERGED,2022-02-02 15:30:53.000000000,2022-02-03 20:20:51.000000000,2022-02-03 20:20:51.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 15:30:53.000000000', 'files': ['environments/services/novajoin.yaml', 'environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bb44f26be411bc2e903856b2dc55c82e8029317', 'message': 'Enable clean-up service for novajoin by default\n\nCurrently we include environments/services/novajoin.yaml always in\nundercloud deploy or undercloud upgrade. However this implementation\nis redundant and requires two repositories maintained consistently.\n\nThis change enables the clean-up service by default, so that we no\nlonger need to include an additional environment file in tripleoclient.\n\nChange-Id: I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e\n'}]",0,827517,7bb44f26be411bc2e903856b2dc55c82e8029317,9,4,1,9816,,,0,"Enable clean-up service for novajoin by default

Currently we include environments/services/novajoin.yaml always in
undercloud deploy or undercloud upgrade. However this implementation
is redundant and requires two repositories maintained consistently.

This change enables the clean-up service by default, so that we no
longer need to include an additional environment file in tripleoclient.

Change-Id: I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/827517/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/novajoin.yaml', 'environments/undercloud.yaml']",2,7bb44f26be411bc2e903856b2dc55c82e8029317,novajoin-cleanup-default, # Novajoin was removed from undercloud. Ensure cleanup task is executed. OS::TripleO::Services::UndercloudRemoveNovajoin: ../deployment/tls/undercloud-remove-novajoin.yaml ,,4,0
openstack%2Fansible-role-python_venv_build~master~I8ac4d9e45708d17bf4e3af99249b4cb204da29ea,openstack/ansible-role-python_venv_build,master,I8ac4d9e45708d17bf4e3af99249b4cb204da29ea,Remove legacy comment,MERGED,2022-02-01 09:26:10.000000000,2022-02-03 20:14:19.000000000,2022-02-03 20:12:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 09:26:10.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4c0fe473fc0a8410193083c5d63d612cca58e100', 'message': 'Remove legacy comment\n\nThe repo-build process is removed long ago so this comment is no\nlonger required.\n\nChange-Id: I8ac4d9e45708d17bf4e3af99249b4cb204da29ea\n'}]",0,827253,4c0fe473fc0a8410193083c5d63d612cca58e100,8,3,1,25023,,,0,"Remove legacy comment

The repo-build process is removed long ago so this comment is no
longer required.

Change-Id: I8ac4d9e45708d17bf4e3af99249b4cb204da29ea
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/53/827253/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4c0fe473fc0a8410193083c5d63d612cca58e100,,,"# TODO(odyssey4me): # Once we remove the repo build process, this needs to point # to the location where wheels are served by pypiserver. # For now we use this to ensure that we don't rebuild the wheels # that were already built by the repo build process. It has also # been found that pypiserver hangs when it encounters duplicated # wheels.",0,7
openstack%2Fopenstack-ansible-os_neutron~master~Ie04bea4468c9fe789195857d9d47a02470cda6e3,openstack/openstack-ansible-os_neutron,master,Ie04bea4468c9fe789195857d9d47a02470cda6e3,Remove legacy db pooling variables,MERGED,2022-02-01 09:18:18.000000000,2022-02-03 20:13:18.000000000,2022-02-03 20:10:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5a2e02cdefc532af6eb9bf28b956e551c3438655', 'message': 'Remove legacy db pooling variables\n\nChange-Id: Ie04bea4468c9fe789195857d9d47a02470cda6e3\n'}, {'number': 2, 'created': '2022-02-01 09:21:11.000000000', 'files': ['releasenotes/notes/db-pooling-old-vars-b5dbab9bfb21cc78.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/65016f288325f38e4259a162820160f102904923', 'message': 'Remove legacy db pooling variables\n\nChange-Id: Ie04bea4468c9fe789195857d9d47a02470cda6e3\n'}]",0,827250,65016f288325f38e4259a162820160f102904923,9,3,2,25023,,,0,"Remove legacy db pooling variables

Change-Id: Ie04bea4468c9fe789195857d9d47a02470cda6e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/50/827250/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/db-pooling-old-vars-b5dbab9bfb21cc78.yaml', 'defaults/main.yml']",2,5a2e02cdefc532af6eb9bf28b956e551c3438655,,"neutron_db_max_pool_size: ""{{ openstack_db_max_pool_size | default('5') }}""","# TODO(damiandabrowski): Remove neutron_db_pool_size in Yoga release neutron_db_max_pool_size: ""{{ openstack_db_max_pool_size | default(neutron_db_pool_size) | default('5') }}""",6,2
openstack%2Fopenstack-ansible-os_neutron~master~I4f4e1863d3b1810d47899911828714958cfd3ba3,openstack/openstack-ansible-os_neutron,master,I4f4e1863d3b1810d47899911828714958cfd3ba3,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:20:16.000000000,2022-02-03 19:58:23.000000000,2022-02-03 19:56:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:20:16.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/cf7296023538dcc999405d483c4d92acd323cac6', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: I4f4e1863d3b1810d47899911828714958cfd3ba3\n'}]",0,827449,cf7296023538dcc999405d483c4d92acd323cac6,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: I4f4e1863d3b1810d47899911828714958cfd3ba3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/49/827449/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,cf7296023538dcc999405d483c4d92acd323cac6,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/neutron/policy.json"" state: absent listen: - ""Restart neutron services"" ",0,8
openstack%2Ftripleo-heat-templates~master~Id13a221726af88dd229cf8e12462eabb4027b377,openstack/tripleo-heat-templates,master,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-01-28 01:51:47.000000000,2022-02-03 19:56:19.000000000,2022-02-02 18:18:46.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-28 01:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01209a797e80012552951d8a20682f535aa0ac19', 'message': ""Nova: Use internal endpoint to access Keystone\n\nThe Keystone admin endpoint is deployed on the provisioning network by\ndefault, and usually this network has no redundancy. We generally don't\nexpect outage in provisioning network affects functionality of\novercloud.\n\nThis change ensures that internal endpoint is used instead.\n\nCloses-Bug: #1959353\nChange-Id: Id13a221726af88dd229cf8e12462eabb4027b377\n""}, {'number': 2, 'created': '2022-01-28 01:52:38.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3affa49a33bb62e019263186e446a1a70194970', 'message': ""Nova: Use internal endpoint to access Keystone\n\nThe Keystone admin endpoint is deployed on the provisioning network by\ndefault, and usually this network has no redundancy. We don't expect\noutage in provisioning network affects functionality of overcloud so\nservices should not be rely on connectivity in provisioning network.\n\nThis change ensures that internal endpoint, which is deployed on\ninternal api network, is used instead.\n\nCloses-Bug: #1959353\nChange-Id: Id13a221726af88dd229cf8e12462eabb4027b377\n""}]",1,826793,c3affa49a33bb62e019263186e446a1a70194970,13,9,2,9816,,,0,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/826793/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-metadata-container-puppet.yaml'],1,01209a797e80012552951d8a20682f535aa0ac19,bug/1959353," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}",1,1
openstack%2Ftripleo-heat-templates~master~I931e4c3c8a081adb144d915410e0d38760466561,openstack/tripleo-heat-templates,master,I931e4c3c8a081adb144d915410e0d38760466561,Use Internal API by default for Keystone admin endpoint,MERGED,2022-01-28 22:42:53.000000000,2022-02-03 19:56:03.000000000,2022-02-02 19:07:54.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-28 22:42:53.000000000', 'files': ['releasenotes/notes/change-keystone-admin-network-a29499018c323cea.yaml', 'environments/updates/update-from-keystone-admin-internal-api.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2d110257446498821346fd1cd0577eadbb99dad', 'message': 'Use Internal API by default for Keystone admin endpoint\n\nWe have been using ctlplane network by default for Keystone admin\nendpoint. The intention was to let undercloud talk with the endpoint to\ncreate resources like endpoints, but that requirement is not true,\nsince we use tripleo-ansible, which relies on public endpoint, to\ncreate keystone resources.\n\nThis change updates the default to internal api network. The ctlplane\nnetwork, which is the provisioning network, usually has no redundancy,\nand we should not make any of overcloud functionalities rely on this\nnetwork if there is no actual requirement to do so.\n\nCloses-Bug: #1959459\nChange-Id: I931e4c3c8a081adb144d915410e0d38760466561\n'}]",5,826945,c2d110257446498821346fd1cd0577eadbb99dad,17,7,1,9816,,,0,"Use Internal API by default for Keystone admin endpoint

We have been using ctlplane network by default for Keystone admin
endpoint. The intention was to let undercloud talk with the endpoint to
create resources like endpoints, but that requirement is not true,
since we use tripleo-ansible, which relies on public endpoint, to
create keystone resources.

This change updates the default to internal api network. The ctlplane
network, which is the provisioning network, usually has no redundancy,
and we should not make any of overcloud functionalities rely on this
network if there is no actual requirement to do so.

Closes-Bug: #1959459
Change-Id: I931e4c3c8a081adb144d915410e0d38760466561
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/826945/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/change-keystone-admin-network-a29499018c323cea.yaml', 'environments/updates/update-from-keystone-admin-internal-api.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",3,c2d110257446498821346fd1cd0577eadbb99dad,bug/1959459," KeystoneAdminApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}", KeystoneAdminApiNetwork: ctlplane # allows undercloud to config endpoints,5,7
openstack%2Fopenstack-ansible-os_aodh~master~I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422,openstack/openstack-ansible-os_aodh,master,I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422,Remove legacy apache variables,MERGED,2022-02-02 09:04:43.000000000,2022-02-03 19:54:03.000000000,2022-02-03 19:51:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:04:43.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/2e3e39ab6b28425c7dd6c00ec761673e74f2d3f6', 'message': 'Remove legacy apache variables\n\nChange-Id: I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422\n'}]",0,827431,2e3e39ab6b28425c7dd6c00ec761673e74f2d3f6,8,3,1,25023,,,0,"Remove legacy apache variables

Change-Id: I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/31/827431/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,2e3e39ab6b28425c7dd6c00ec761673e74f2d3f6,,," # NOTE(noonedeadpunk): These variables are left for migration from apache to uwsgi # which was introduced during train release. They can be dropped afterwards. aodh_system_service_name: apache2 aodh_apache_config: - ""/etc/apache2/sites-available/aodh-httpd.conf"" - ""/etc/apache2/sites-enabled/aodh-httpd.conf"" - ""/etc/apache2/sites-enabled/aodh-api.conf"" - ""/etc/apache2/sites-available/aodh-api.conf"" aodh_apache_ports: ""/etc/apache2/ports.conf""",0,16
openstack%2Fopenstack-ansible~master~I28a7cec6e1e0654381f9f8f5fa50b297eab89315,openstack/openstack-ansible,master,I28a7cec6e1e0654381f9f8f5fa50b297eab89315,Bump ansible to 2.12.2,MERGED,2022-02-01 16:00:49.000000000,2022-02-03 19:52:28.000000000,2022-02-03 19:49:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 16:00:49.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e67a07068bdd537157b4ced15129e88e68d9f2f', 'message': 'Bump ansible to 2.12.2\n\nChange-Id: I28a7cec6e1e0654381f9f8f5fa50b297eab89315\n'}]",1,827313,2e67a07068bdd537157b4ced15129e88e68d9f2f,10,3,1,25023,,,0,"Bump ansible to 2.12.2

Change-Id: I28a7cec6e1e0654381f9f8f5fa50b297eab89315
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/827313/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,2e67a07068bdd537157b4ced15129e88e68d9f2f,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.12.2""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.12.1""}",1,1
openstack%2Frequirements~master~I1a52e7de8274a655a6dc89178843396573f43323,openstack/requirements,master,I1a52e7de8274a655a6dc89178843396573f43323,update constraint for oslo.messaging to new release 12.12.0,MERGED,2022-02-03 11:54:45.000000000,2022-02-03 19:50:22.000000000,2022-02-03 19:47:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 11:54:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e3f76297d4d3a12f5c3b24f3694372b463b91d7', 'message': 'update constraint for oslo.messaging to new release 12.12.0\n\nmeta: version: 12.12.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I1a52e7de8274a655a6dc89178843396573f43323\n'}]",1,827652,8e3f76297d4d3a12f5c3b24f3694372b463b91d7,11,2,1,11131,,,0,"update constraint for oslo.messaging to new release 12.12.0

meta: version: 12.12.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I1a52e7de8274a655a6dc89178843396573f43323
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/827652/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8e3f76297d4d3a12f5c3b24f3694372b463b91d7,new-release,oslo.messaging===12.12.0,oslo.messaging===12.11.1,1,1
openstack%2Fopenstack-ansible-galera_server~master~I62fe8a2a828ef2f25608ac507e22b6d051365667,openstack/openstack-ansible-galera_server,master,I62fe8a2a828ef2f25608ac507e22b6d051365667,Remove legacy cleanup tasks,MERGED,2022-02-01 08:30:31.000000000,2022-02-03 19:46:46.000000000,2022-02-03 19:44:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 08:30:31.000000000', 'files': ['tasks/galera_server_upgrade_pre.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/349df7b50c40485442512c3515ed727f1afd6039', 'message': 'Remove legacy cleanup tasks\n\nThese should have been removed in the Pike release.\n\nChange-Id: I62fe8a2a828ef2f25608ac507e22b6d051365667\n'}]",0,827216,349df7b50c40485442512c3515ed727f1afd6039,8,3,1,25023,,,0,"Remove legacy cleanup tasks

These should have been removed in the Pike release.

Change-Id: I62fe8a2a828ef2f25608ac507e22b6d051365667
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/16/827216/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_server_upgrade_pre.yml'],1,349df7b50c40485442512c3515ed727f1afd6039,,,"- name: Remove old apt sources block: # TODO: Remove the following three tasks in Pike # They're only required during upgrades transitioning to a # statically named apt sources file. - name: Find old sources command: > grep -rnil maria /etc/apt/sources.list.d/ --exclude MariaDB.list changed_when: false failed_when: false register: old_sources - name: Remove old sources file: path: ""{{ item }}"" state: absent with_items: ""{{ old_sources.stdout_lines | default([]) }}"" - name: Update apt sources (Forced) apt: update_cache: yes cache_valid_time: 0 register: apt_update until: apt_update is success retries: 5 delay: 2 when: - ansible_facts['pkg_mgr'] == ""apt""",0,28
openstack%2Fkolla~master~I0c8f5d38d84dc189cfa829a624447cc424788b75,openstack/kolla,master,I0c8f5d38d84dc189cfa829a624447cc424788b75,collectd: dpdk telemetry is gone for good,ABANDONED,2022-02-02 15:28:21.000000000,2022-02-03 19:43:30.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-02 15:28:21.000000000', 'files': ['docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/93bf846854d5ae0663d2fda37bd3530be56d9d8c', 'message': 'collectd: dpdk telemetry is gone for good\n\nChange-Id: I0c8f5d38d84dc189cfa829a624447cc424788b75\n'}]",1,827516,93bf846854d5ae0663d2fda37bd3530be56d9d8c,6,3,1,24072,,,0,"collectd: dpdk telemetry is gone for good

Change-Id: I0c8f5d38d84dc189cfa829a624447cc424788b75
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/827516/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,93bf846854d5ae0663d2fda37bd3530be56d9d8c,,," 'collectd-dpdk_telemetry',",0,1
openstack%2Fcinder~stable%2Fwallaby~I1c1420a99e2185116a674c3d8bd23d33e12a253f,openstack/cinder,stable/wallaby,I1c1420a99e2185116a674c3d8bd23d33e12a253f,Doc: Typos in Spectrum Virtulize family user guide,ABANDONED,2022-02-03 14:25:44.000000000,2022-02-03 19:41:50.000000000,,[],"[{'number': 1, 'created': '2022-02-03 14:25:44.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a0f26efabb3654e4721008fa3eaa55f1a96aa25', 'message': 'Doc: Typos in Spectrum Virtulize family user guide\n\nCorrected the missing spaces, typos and removed\nunsupported product (IBM Spectrum Virtualize for Public Cloud)\n\nChange-Id: I1c1420a99e2185116a674c3d8bd23d33e12a253f\n(cherry picked from commit 73d0818a96ecbb22f2243b76b5b8ceb67d332e12)\n'}]",0,827646,3a0f26efabb3654e4721008fa3eaa55f1a96aa25,3,0,1,32036,,,0,"Doc: Typos in Spectrum Virtulize family user guide

Corrected the missing spaces, typos and removed
unsupported product (IBM Spectrum Virtualize for Public Cloud)

Change-Id: I1c1420a99e2185116a674c3d8bd23d33e12a253f
(cherry picked from commit 73d0818a96ecbb22f2243b76b5b8ceb67d332e12)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/827646/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst'],1,3a0f26efabb3654e4721008fa3eaa55f1a96aa25,manoj_docchange_SVF-stable/wallaby,"IBM Spectrum Virtualize family volume driver<<<<<<< HEAD (479b00 Merge ""Delete attachment on remove_export failure"" into stab)======= The volume management driver for Spectrum Virtualize family offers various block storage services. It provides OpenStack Compute instances with access to IBM Spectrum Virtualize family storage products. These products include the IBM SAN Volume Controller and IBM FlashSystem family members built with IBM Spectrum Virtualize (including FlashSystem 5xxx, 7200, 9100, 9200, 9200R). For specific product publications, see `IBM Documentation <www.ibm.com/docs/en>`_. >>>>>>> CHANGE (73d081 Doc: Typos in Spectrum Virtulize family user guide) IBM Spectrum Virtualize family is formerly known as IBM Storwize.The IBM Spectrum Virtualize family volume driver supports the following blockConfigure the Spectrum Virtualize family systemThe Spectrum Virtualize family system must be configured for iSCSI, FibreIf using iSCSI, each Spectrum Virtualize family node should have at least one iSCSI IP address. The Spectrum Virtualize family driver uses an iSCSI IP access to the Spectrum Virtualize family system. If using Fibre Channel (FC), each Spectrum Virtualize family node should the Spectrum Virtualize family system.Virtualize family. The compute nodes use these secrets when creatingThe IBM Spectrum Virtualize family driver can allocate volumes in multipleThe driver requires access to the Spectrum Virtualize family systemSSH. The driver should be provided with the Spectrum Virtualize familyTo allow the driver to communicate with the Spectrum Virtualize family When creating a new user on the Spectrum Virtualize family system, make sureSpectrum Virtualize family system. The driver configuration flags for the userselect the :guilabel:`choose file` option in the Spectrum Virtualize familybe found in the Spectrum Virtualize family documentation. The private keyuploaded to the Spectrum Virtualize family system using the storageConfigure the Spectrum Virtualize family driverEnable the Spectrum Virtualize family driverSet the volume driver to the Spectrum Virtualize family driver by settingSpectrum Virtualize family driver options in cinder.conf IBM Spectrum Virtualize family is formerly known as IBM Storwize. the available options are available in the Spectrum Virtualize familyThe IBM Spectrum Virtualize family exposes capabilities that can be added to concatenation of the name of the Spectrum Virtualize family storage systemfamily driver, which over-ride the default values set in the configurationpassed to the Spectrum Virtualize family driver with the ``drivers`` scope.family driver:The Spectrum Virtualize family driver provides QOS support for storage volumesThere are three ways to set the Spectrum Virtualize family ``IOThrotting``Operational notes for the Spectrum Virtualize family driverthe IBM Spectrum Virtualize family driver enables the storage's virtualizationThe IBM Spectrum Virtualize family driver allows for extending a volume'sThe IBM Spectrum Virtualize family driver enables you to modify volume types. To change the ``iogrp`` property, IBM Spectrum Virtualize family firmware version If the synchronization is not done manually, Spectrum Virtualize family block storageTo support HyperSwap volumes, IBM Spectrum Virtualize family firmware versionVirtualize family storage systems. The WWPNs and IQNs are the connectors used for host mapping in the Spectrum Virtualize family.","IBM Spectrum Virtualize Family volume driver IBM Spectrum Virtualize Family is formerly known as IBM Storwize.The IBM Spectrum Virtualize Family volume driver supports the following blockConfigure the Spectrum Virtualize Family systemThe Spectrum Virtualize Family system must be configured for iSCSI, FibreIf using iSCSI, each Spectrum Virtualize Family node should have at least one iSCSI IP address. The Spectrum Virtualize Family driver uses an iSCSI IP access to the Spectrum Virtualize Family system. If using Fibre Channel (FC), each Spectrum Virtualize Family node should the Spectrum Virtualize Family system.Virtualize Family. The compute nodes use these secrets when creatingThe IBM Spectrum Virtualize Family driver can allocate volumes in multipleThe driver requires access to the Spectrum Virtualize Family systemSSH. The driver should be provided with the Spectrum Virtualize FamilyTo allow the driver to communicate with the Spectrum Virtualize Family When creating a new user on the Spectrum Virtualize Family system, make sureSpectrum Virtualize Family system. The driver configuration flags for the userselect the :guilabel:`choose file` option in the Spectrum Virtualize Familybe found in the Spectrum Virtualize Family documentation. The private keyuploaded to the Spectrum Virtualize Family system using the storageConfigure the Spectrum Virtualize Family driverEnable the Spectrum Virtualize Family driverSet the volume driver to the Spectrum Virtualize Family driver by settingSpectrum Virtualize Family driver options in cinder.conf IBM Spectrum Virtualize Family is formerly known as IBM Storwize. the available options are available in the Spectrum Virtualize FamilyThe IBM Spectrum Virtualize Family exposes capabilities that can be added to concatenation of the name of the Spectrum Virtualize Family storage systemFamily driver, which over-ride the default values set in the configurationpassed to the Spectrum Virtualize Family driver with the ``drivers`` scope.Family driver:The Spectrum Virtualize Family driver provides QOS support for storage volumesThere are three ways to set the Spectrum Virtualize Family ``IOThrotting``Operational notes for the Spectrum Virtualize Family driverthe IBM Spectrum Virtualize Family driver enables the storage's virtualizationThe IBM Spectrum Virtualize Family driver allows for extending a volume'sThe IBM Spectrum Virtualize Family driver enables you to modify volume types. To change the ``iogrp`` property, IBM Spectrum Virtualize Family firmware version If the synchronization is not done manually, Spectrum Virtualize Family block storageTo support HyperSwap volumes, IBM Spectrum Virtualize Family firmware versionVirtualize Family storage systems. The WWPNs and IQNs are the connectors used for host mapping in the Spectrum Virtualize Family.",53,42
openstack%2Fopenstack-ansible-os_aodh~master~I331169ba48ff07d600c257a64db224517a5f36b9,openstack/openstack-ansible-os_aodh,master,I331169ba48ff07d600c257a64db224517a5f36b9,Remove policy.json cleanup handler,MERGED,2022-02-02 09:04:43.000000000,2022-02-03 19:31:59.000000000,2022-02-03 19:29:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:04:43.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/b7ff1830da49baa9322b77d5aa16f97b25028326', 'message': 'Remove policy.json cleanup handler\n\nChange-Id: I331169ba48ff07d600c257a64db224517a5f36b9\n'}]",0,827430,b7ff1830da49baa9322b77d5aa16f97b25028326,8,3,1,25023,,,0,"Remove policy.json cleanup handler

Change-Id: I331169ba48ff07d600c257a64db224517a5f36b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/30/827430/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,b7ff1830da49baa9322b77d5aa16f97b25028326,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/aodh/policy.json"" state: absent listen: - ""Restart aodh services"" - ""venv changed"" ",0,9
openstack%2Fopenstack-ansible-os_ceilometer~master~I566019a0af35436c93d1b25494ed5e89aa081807,openstack/openstack-ansible-os_ceilometer,master,I566019a0af35436c93d1b25494ed5e89aa081807,Remove legacy pipeline cleanup task,MERGED,2022-02-02 09:07:49.000000000,2022-02-03 19:31:50.000000000,2022-02-03 19:29:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:07:49.000000000', 'files': ['tasks/ceilometer_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/0524ffc5dca7d8dd27a8b0c05573eb4ae431c2e1', 'message': 'Remove legacy pipeline cleanup task\n\nChange-Id: I566019a0af35436c93d1b25494ed5e89aa081807\n'}]",0,827434,0524ffc5dca7d8dd27a8b0c05573eb4ae431c2e1,8,3,1,25023,,,0,"Remove legacy pipeline cleanup task

Change-Id: I566019a0af35436c93d1b25494ed5e89aa081807
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/34/827434/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_post_install.yml'],1,0524ffc5dca7d8dd27a8b0c05573eb4ae431c2e1,,,# NOTE(noonedeadpunk): We need to cleanup previously placed pipeline.yml since it will have # precedence over libs where we place it now. We should drop it in W - name: Cleanup pipeline.yml file: path: /etc/ceilometer/pipeline.yaml state: absent ,0,7
openstack%2Fopenstack-ansible-os_tacker~master~I70befc610166e7be23cf8deeec2fc0653ed5ea36,openstack/openstack-ansible-os_tacker,master,I70befc610166e7be23cf8deeec2fc0653ed5ea36,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:23:50.000000000,2022-02-03 19:31:00.000000000,2022-02-03 19:28:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:23:50.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/67eefea7773842e1923cb1a8834eab73cb9ec377', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: I70befc610166e7be23cf8deeec2fc0653ed5ea36\n'}]",0,827454,67eefea7773842e1923cb1a8834eab73cb9ec377,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: I70befc610166e7be23cf8deeec2fc0653ed5ea36
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/54/827454/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,67eefea7773842e1923cb1a8834eab73cb9ec377,,," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""{{ tacker_etc_dir }}/policy.json"" state: absent listen: - ""Restart tacker services"" - ""venv changed""",0,9
openstack%2Fopenstack-ansible-ceph_client~master~I2bfbd657bf7ed5b042c3640586d8ae80c5b85136,openstack/openstack-ansible-ceph_client,master,I2bfbd657bf7ed5b042c3640586d8ae80c5b85136,Simpify selection of the python interpreter.,MERGED,2022-02-02 09:41:29.000000000,2022-02-03 19:30:46.000000000,2022-02-03 19:28:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:41:29.000000000', 'files': ['tasks/ceph_install_python_libs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/1c427078c2cc7a0a655b61d0e089d256d1f57d32', 'message': 'Simpify selection of the python interpreter.\n\nWe only support python3 so remove the logic supporting python2\n\nChange-Id: I2bfbd657bf7ed5b042c3640586d8ae80c5b85136\n'}]",0,827459,1c427078c2cc7a0a655b61d0e089d256d1f57d32,8,3,1,25023,,,0,"Simpify selection of the python interpreter.

We only support python3 so remove the logic supporting python2

Change-Id: I2bfbd657bf7ed5b042c3640586d8ae80c5b85136
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/59/827459/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_install_python_libs.yml'],1,1c427078c2cc7a0a655b61d0e089d256d1f57d32,," ceph_python_interp: ""/usr/bin/python3"""," ceph_python_interp: ""/usr/bin/{{ ((python_venv_details.files[0].path | basename)[:-2] == 'python3') | ternary('python3', 'python2') }}""",1,1
openstack%2Fopenstack-ansible-os_senlin~master~Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7,openstack/openstack-ansible-os_senlin,master,Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:23:16.000000000,2022-02-03 19:27:21.000000000,2022-02-03 19:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:23:16.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/da97f453008ddb95023df7417c6b815f13468f2e', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7\n'}]",0,827453,da97f453008ddb95023df7417c6b815f13468f2e,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/53/827453/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,da97f453008ddb95023df7417c6b815f13468f2e,,," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/senlin/policy.json"" state: absent listen: - ""Restart senlin services"" - ""venv changed""",0,9
openstack%2Fopenstack-ansible-os_keystone~master~I54edc22032950f640d824bb8baf170d3599d0f4b,openstack/openstack-ansible-os_keystone,master,I54edc22032950f640d824bb8baf170d3599d0f4b,Remove legacy db pooling variables,MERGED,2022-02-01 09:13:00.000000000,2022-02-03 19:27:11.000000000,2022-02-03 19:25:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 09:13:00.000000000', 'files': ['releasenotes/notes/db-pooling-old-vars-6ad7284cd8583218.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7424f8f69a7e19fec6a9994a171d21415395760b', 'message': 'Remove legacy db pooling variables\n\nChange-Id: I54edc22032950f640d824bb8baf170d3599d0f4b\n'}]",0,827228,7424f8f69a7e19fec6a9994a171d21415395760b,8,3,1,25023,,,0,"Remove legacy db pooling variables

Change-Id: I54edc22032950f640d824bb8baf170d3599d0f4b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/28/827228/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/db-pooling-old-vars-6ad7284cd8583218.yaml', 'defaults/main.yml']",2,7424f8f69a7e19fec6a9994a171d21415395760b,,"keystone_db_max_pool_size: ""{{ openstack_db_max_pool_size | default('5') }}"" keystone_db_pool_timeout: ""{{ openstack_db_pool_timeout | default('30') }}"" keystone_db_connection_recycle_time: ""{{ openstack_db_connection_recycle_time | default('600') }}""","# TODO(damiandabrowski): Deprecate following variables in Yoga release: keystone_database_max_pool_size, keystone_database_pool_timeout and keystone_database_idle_timeoutkeystone_db_max_pool_size: ""{{ openstack_db_max_pool_size | default(keystone_database_max_pool_size) | default('5') }}"" keystone_db_pool_timeout: ""{{ openstack_db_pool_timeout | default(keystone_database_pool_timeout) | default('30') }}"" keystone_db_connection_recycle_time: ""{{ openstack_db_connection_recycle_time | default(keystone_database_idle_timeout) | default('600') }}""",10,4
openstack%2Fopenstack-ansible-os_trove~master~I0078082f2701f4bec072c0c931996c2ee8c4af76,openstack/openstack-ansible-os_trove,master,I0078082f2701f4bec072c0c931996c2ee8c4af76,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:24:34.000000000,2022-02-03 19:27:11.000000000,2022-02-03 19:25:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:24:34.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/9762f84a3443f8ca45f2e8e5a434da8dde8ee459', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: I0078082f2701f4bec072c0c931996c2ee8c4af76\n'}]",0,827455,9762f84a3443f8ca45f2e8e5a434da8dde8ee459,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: I0078082f2701f4bec072c0c931996c2ee8c4af76
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/55/827455/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,9762f84a3443f8ca45f2e8e5a434da8dde8ee459,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted config files file: path: ""{{ item }}"" state: absent with_items: - /etc/trove/policy.json - /etc/trove/trove-conductor.conf - /etc/trove/trove-taskmanager.conf listen: - ""Restart trove services"" - ""venv changed""",0,12
openstack%2Fopenstack-ansible-os_heat~master~Ic78fa04baba562f20a7e2288e0834fb3eb825503,openstack/openstack-ansible-os_heat,master,Ic78fa04baba562f20a7e2288e0834fb3eb825503,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:13:12.000000000,2022-02-03 19:23:50.000000000,2022-02-03 19:21:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:13:12.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/42fadbc03f3612fd86ef07024e24171c2623926f', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Ic78fa04baba562f20a7e2288e0834fb3eb825503\n'}]",0,827440,42fadbc03f3612fd86ef07024e24171c2623926f,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Ic78fa04baba562f20a7e2288e0834fb3eb825503
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/40/827440/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,42fadbc03f3612fd86ef07024e24171c2623926f,, ," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/heat/policy.json"" state: absent listen: - ""Restart heat services"" - ""venv changed"" ",1,9
openstack%2Fopenstack-ansible-os_nova~master~Ic587e1a55b6f15c66e01176dac7b6acdb0abd240,openstack/openstack-ansible-os_nova,master,Ic587e1a55b6f15c66e01176dac7b6acdb0abd240,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:20:59.000000000,2022-02-03 19:23:49.000000000,2022-02-03 19:19:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:20:59.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3df42220d0b55866d5aaaaf9dbab80557d4b24cc', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Ic587e1a55b6f15c66e01176dac7b6acdb0abd240\n'}]",0,827450,3df42220d0b55866d5aaaaf9dbab80557d4b24cc,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Ic587e1a55b6f15c66e01176dac7b6acdb0abd240
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/50/827450/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,3df42220d0b55866d5aaaaf9dbab80557d4b24cc,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/nova/policy.json"" state: absent listen: - ""Restart nova services"" - ""venv changed"" ",0,9
openstack%2Fopenstack-ansible-os_nova~master~Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,openstack/openstack-ansible-os_nova,master,Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,Fix nova-key tag handling,MERGED,2022-01-13 11:42:40.000000000,2022-02-03 19:22:04.000000000,2022-02-03 19:19:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-13 11:42:40.000000000', 'files': ['tasks/nova_compute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4', 'message': ""Fix nova-key tag handling\n\nIt appears that this tag stopped working recently when switching\nfrom import to include syntax. This patch adds the necessary\n'always' tag to ensure the 'nova-key' tag gets carried through.\n\nChange-Id: Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44\n""}]",0,824551,7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4,10,5,1,31542,,,0,"Fix nova-key tag handling

It appears that this tag stopped working recently when switching
from import to include syntax. This patch adds the necessary
'always' tag to ensure the 'nova-key' tag gets carried through.

Change-Id: Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/51/824551/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_compute.yml'],1,7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4,, tags: - always tags: - always,,4,0
openstack%2Fopenstack-ansible-os_ceilometer~master~Ie71d28d67e10df4923f057484216cf9010f2fd6b,openstack/openstack-ansible-os_ceilometer,master,Ie71d28d67e10df4923f057484216cf9010f2fd6b,Remove py2/py3 compatibility notes,MERGED,2022-02-02 09:07:49.000000000,2022-02-03 19:18:43.000000000,2022-02-03 19:16:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:07:49.000000000', 'files': ['vars/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/ff47557775b6a5b1bce4ad788ef0a50a05791f99', 'message': 'Remove py2/py3 compatibility notes\n\nWe only support python3 now.\n\nChange-Id: Ie71d28d67e10df4923f057484216cf9010f2fd6b\n'}]",0,827433,ff47557775b6a5b1bce4ad788ef0a50a05791f99,8,3,1,25023,,,0,"Remove py2/py3 compatibility notes

We only support python3 now.

Change-Id: Ie71d28d67e10df4923f057484216cf9010f2fd6b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/33/827433/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/source_install.yml'],1,ff47557775b6a5b1bce4ad788ef0a50a05791f99,,," #NOTE(jrosser) for compatibility with py2 and py3 we detect the location of #this dir during the source install and set a fact #ceilometer_lib_dir: ""{{ _ceilometer_bin | dirname }}/lib/python2.7/site-packages""",0,4
openstack%2Fopenstack-ansible-lxc_hosts~master~I57560b416b03afffe7498609490da04d1a851f11,openstack/openstack-ansible-lxc_hosts,master,I57560b416b03afffe7498609490da04d1a851f11,Remove vars files for EOL version of centos-8,MERGED,2022-02-02 08:59:21.000000000,2022-02-03 19:18:04.000000000,2022-02-03 19:13:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 08:59:21.000000000', 'files': ['vars/centos-8.4.yml', 'vars/centos-8.5.yml', 'vars/centos-8.3.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2bb97a64ac5d5ca0a8132003216fedd8ea288322', 'message': 'Remove vars files for EOL version of centos-8\n\nChange-Id: I57560b416b03afffe7498609490da04d1a851f11\n'}]",0,827426,2bb97a64ac5d5ca0a8132003216fedd8ea288322,8,3,1,25023,,,0,"Remove vars files for EOL version of centos-8

Change-Id: I57560b416b03afffe7498609490da04d1a851f11
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/26/827426/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/centos-8.4.yml', 'vars/centos-8.5.yml', 'vars/centos-8.3.yml']",3,2bb97a64ac5d5ca0a8132003216fedd8ea288322,,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # NOTE(jrosser) this file is for temporary support of Centos-8 (NOT stream) during the transition to stream _lxc_hosts_container_build_command: ""dnf --assumeyes --installroot=/var/lib/machines/{{ lxc_container_base_name }} install --setopt=install_weak_deps=False --nodocs rootfiles coreutils dnf centos-linux-repos --releasever=8"" _lxc_cache_map: distro: centos arch: ""{{ lxc_architecture_mapping.get( ansible_facts['architecture'] ) }}"" release: 8 copy_from_host: - /etc/default/locale - /etc/environment - /etc/localtime - /etc/locale.conf - /etc/protocols - /etc/pki/rpm-gpg/ - /etc/yum/pluginconf.d/fastestmirror.conf - /etc/yum.repos.d/ _lxc_cache_prep_template: ""prep-scripts/centos_8_prep.sh.j2"" _lxc_cache_distro_packages: - ca-certificates - iputils - iproute - openssh-server - policycoreutils - procps - python3 - python3-libs - rsync # os_keystone runs serial=1 and uses rsync before the distro packages have been installed on all keystone targets - setup - sudo - systemd - systemd-networkd - systemd-resolvd - systemd-sysv - tzdata ",0,54
openstack%2Fopenstack-ansible-os_barbican~master~I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59,openstack/openstack-ansible-os_barbican,master,I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:05:34.000000000,2022-02-03 19:17:04.000000000,2022-02-03 19:14:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:05:34.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/02fefcce4e955a09dcd727c4e414bd18319058e2', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59\n'}]",0,827432,02fefcce4e955a09dcd727c4e414bd18319058e2,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/32/827432/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,02fefcce4e955a09dcd727c4e414bd18319058e2,,," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file file: path: ""{{ barbican_etc_directory }}/policy.json"" state: absent listen: - Restart barbican services - venv changed",0,9
openstack%2Fopenstack-ansible-lxc_hosts~master~I9567a0319a4763ad3e37e4a8704751d7dfbf8b29,openstack/openstack-ansible-lxc_hosts,master,I9567a0319a4763ad3e37e4a8704751d7dfbf8b29,Remove legacy network scripts cleanup task,MERGED,2022-02-02 08:59:21.000000000,2022-02-03 19:16:19.000000000,2022-02-03 19:13:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 08:59:21.000000000', 'files': ['tasks/lxc_net.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0c99f74c03cc80bb1fcdb19c5586ed8d9983aa90', 'message': 'Remove legacy network scripts cleanup task\n\nChange-Id: I9567a0319a4763ad3e37e4a8704751d7dfbf8b29\n'}]",0,827425,0c99f74c03cc80bb1fcdb19c5586ed8d9983aa90,8,3,1,25023,,,0,"Remove legacy network scripts cleanup task

Change-Id: I9567a0319a4763ad3e37e4a8704751d7dfbf8b29
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/25/827425/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_net.yml'],1,0c99f74c03cc80bb1fcdb19c5586ed8d9983aa90,,,"# NOTE(cloudnull): This task cleans up an old post up script that is no longer # used. Remove this task in ""R"". - name: Remove old post up script file: path: ""/etc/sysconfig/network-scripts/ifup-post-{{ lxc_net_bridge }}"" state: ""absent"" ",0,7
openstack%2Fkolla-ansible~master~Ica304685b043f699799ccee6c9c2fbcf968888db,openstack/kolla-ansible,master,Ica304685b043f699799ccee6c9c2fbcf968888db,CI: enable libvirt TLS in TLS jobs,MERGED,2022-01-21 17:51:09.000000000,2022-02-03 19:16:10.000000000,2022-02-03 19:11:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-21 17:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/043cec2b2fa99aabfbc008f1a26c6b8e04d9abe1', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nAdapt the certificates command to reuse backend certificates for both Libvirt client and server.\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 2, 'created': '2022-01-23 13:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6eae1b5cf1961afa060ef85525b02f0ecde7010a', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nAdapt the certificates command to reuse backend certificates for both\nLibvirt client and server.\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 3, 'created': '2022-01-24 10:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c06a1c4fe9f21970112ffaae9194d3e84286200e', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nAdapt the certificates command to reuse backend certificates for both\nLibvirt client and server.\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 4, 'created': '2022-01-24 11:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0fbb580bc62169a8c9eaebe632f292498bba15c', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nAdapt the certificates command to reuse backend certificates for both\nLibvirt client and server.\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 5, 'created': '2022-01-24 11:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/823d4cdf017085310289fe17b1854a7ff11f272f', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nAdapt the certificates command to reuse backend certificates for both\nLibvirt client and server.\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 6, 'created': '2022-01-27 16:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/165bbf9587bfb3d10ff7cd3c1c13efd026499f7b', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nUses the new functionality of the certificates command to generate\ncertificates for both libvirt client and server (added in\nI1bde9fa018f66037aec82dc74c61ad1f477a7c12).\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 7, 'created': '2022-02-03 12:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1fdfca2ddd2ced7c27c4be082eb008dde8d455ab', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nUses the new functionality of the certificates command to generate\ncertificates for both libvirt client and server (added in\nI1bde9fa018f66037aec82dc74c61ad1f477a7c12).\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}, {'number': 8, 'created': '2022-02-03 14:32:49.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b29298ed2abf53b1ef540c71cb03ce3ea5b95faa', 'message': 'CI: enable libvirt TLS in TLS jobs\n\nEnable libvirt TLS in CI jobs with TLS enabled.\n\nUses the new functionality of the certificates command to generate\ncertificates for both libvirt client and server (added in\nI1bde9fa018f66037aec82dc74c61ad1f477a7c12).\n\nChange-Id: Ica304685b043f699799ccee6c9c2fbcf968888db\n'}]",3,825845,b29298ed2abf53b1ef540c71cb03ce3ea5b95faa,34,3,8,14826,,,0,"CI: enable libvirt TLS in TLS jobs

Enable libvirt TLS in CI jobs with TLS enabled.

Uses the new functionality of the certificates command to generate
certificates for both libvirt client and server (added in
I1bde9fa018f66037aec82dc74c61ad1f477a7c12).

Change-Id: Ica304685b043f699799ccee6c9c2fbcf968888db
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/825845/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/certificates/tasks/generate-backend.yml', 'tests/templates/globals-default.j2']",2,043cec2b2fa99aabfbc008f1a26c6b8e04d9abe1,libvirt-on-host,"libvirt_tls: ""yes""",,20,0
openstack%2Fopenstack-ansible-os_ironic~master~Icacceda4d73caaef54a2efca83a08dd7487bef83,openstack/openstack-ansible-os_ironic,master,Icacceda4d73caaef54a2efca83a08dd7487bef83,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:13:57.000000000,2022-02-03 19:15:18.000000000,2022-02-03 19:13:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:13:57.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/809e2dd185f5fa6a17a1bc7340d1c648498eb737', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Icacceda4d73caaef54a2efca83a08dd7487bef83\n'}]",0,827442,809e2dd185f5fa6a17a1bc7340d1c648498eb737,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Icacceda4d73caaef54a2efca83a08dd7487bef83
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/42/827442/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,809e2dd185f5fa6a17a1bc7340d1c648498eb737,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/ironic/policy.json"" state: absent listen: - ""Restart ironic services"" - ""venv changed"" ",0,9
openstack%2Fkolla-ansible~master~I1bde9fa018f66037aec82dc74c61ad1f477a7c12,openstack/kolla-ansible,master,I1bde9fa018f66037aec82dc74c61ad1f477a7c12,certificates: generate libvirt TLS certificates,MERGED,2022-01-27 16:26:00.000000000,2022-02-03 19:14:10.000000000,2022-02-03 19:11:03.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-27 16:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48431fa7e6cf058259676b07f370aa23f9c89354', 'message': ""certificates: generate libvirt TLS certificates\n\nAdds support to the 'kolla-ansible certificates' command for generating\ncertificates for libvirt TLS, when libvirt_tls is true. The same\ncertificate and key are used for the libvirt client and server.\n\nThe certificates use the same root CA as the other generated\ncertificates, and are written to\n{{ node_custom_config }}/nova/nova-libvirt/, ready to be picked up by\nnova-libvirt and nova-compute.\n\nChange-Id: I1bde9fa018f66037aec82dc74c61ad1f477a7c12\n""}, {'number': 2, 'created': '2022-02-03 12:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bc710fa256b6a82cd0e22ccf89f75d9b355d682', 'message': ""certificates: generate libvirt TLS certificates\n\nAdds support to the 'kolla-ansible certificates' command for generating\ncertificates for libvirt TLS, when libvirt_tls is true. The same\ncertificate and key are used for the libvirt client and server.\n\nThe certificates use the same root CA as the other generated\ncertificates, and are written to\n{{ node_custom_config }}/nova/nova-libvirt/, ready to be picked up by\nnova-libvirt and nova-compute.\n\nChange-Id: I1bde9fa018f66037aec82dc74c61ad1f477a7c12\n""}, {'number': 3, 'created': '2022-02-03 14:32:38.000000000', 'files': ['ansible/roles/certificates/defaults/main.yml', 'ansible/roles/certificates/tasks/main.yml', 'ansible/roles/certificates/tasks/generate-libvirt.yml', 'ansible/roles/certificates/templates/openssl-kolla-libvirt.cnf.j2', 'releasenotes/notes/libvirt-tls-certificates-b4b27b1a6b4a2db7.yaml', 'ansible/certificates.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33e93ab323a570d9140168c967a37c311e0052d6', 'message': ""certificates: generate libvirt TLS certificates\n\nAdds support to the 'kolla-ansible certificates' command for generating\ncertificates for libvirt TLS, when libvirt_tls is true. The same\ncertificate and key are used for the libvirt client and server.\n\nThe certificates use the same root CA as the other generated\ncertificates, and are written to\n{{ node_custom_config }}/nova/nova-libvirt/, ready to be picked up by\nnova-libvirt and nova-compute.\n\nChange-Id: I1bde9fa018f66037aec82dc74c61ad1f477a7c12\n""}]",7,826723,33e93ab323a570d9140168c967a37c311e0052d6,24,3,3,14826,,,0,"certificates: generate libvirt TLS certificates

Adds support to the 'kolla-ansible certificates' command for generating
certificates for libvirt TLS, when libvirt_tls is true. The same
certificate and key are used for the libvirt client and server.

The certificates use the same root CA as the other generated
certificates, and are written to
{{ node_custom_config }}/nova/nova-libvirt/, ready to be picked up by
nova-libvirt and nova-compute.

Change-Id: I1bde9fa018f66037aec82dc74c61ad1f477a7c12
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/826723/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/certificates/defaults/main.yml', 'ansible/roles/certificates/tasks/main.yml', 'ansible/roles/certificates/tasks/generate-libvirt.yml', 'ansible/roles/certificates/templates/openssl-kolla-libvirt.cnf.j2', 'releasenotes/notes/libvirt-tls-certificates-b4b27b1a6b4a2db7.yaml', 'ansible/certificates.yml']",6,48431fa7e6cf058259676b07f370aa23f9c89354,, rabbitmq_enable_tls | default(false) | bool or certificates_generate_libvirt | default(libvirt_tls) | default(false) | bool, rabbitmq_enable_tls | default(false) | bool,122,1
openstack%2Fopenstack-ansible-os_designate~master~Ie2bc614e675de22eb7c7829efd638673f285e626,openstack/openstack-ansible-os_designate,master,Ie2bc614e675de22eb7c7829efd638673f285e626,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:10:33.000000000,2022-02-03 19:12:51.000000000,2022-02-03 19:09:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:10:33.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/4d081680652ef5e35193f13c2363097dd974f249', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Ie2bc614e675de22eb7c7829efd638673f285e626\n'}]",0,827437,4d081680652ef5e35193f13c2363097dd974f249,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Ie2bc614e675de22eb7c7829efd638673f285e626
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/37/827437/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,4d081680652ef5e35193f13c2363097dd974f249,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/designate/policy.json"" state: absent listen: - ""Restart designate services"" - ""venv changed"" ",0,9
openstack%2Fopenstack-ansible-os_octavia~master~Ia37876caa7b627e66d5e703262a8b060c46fa25d,openstack/openstack-ansible-os_octavia,master,Ia37876caa7b627e66d5e703262a8b060c46fa25d,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:21:52.000000000,2022-02-03 19:12:19.000000000,2022-02-03 19:09:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:21:52.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/57400fb6a669ca585dd4a6b6328d06a82af0874f', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Ia37876caa7b627e66d5e703262a8b060c46fa25d\n'}]",0,827451,57400fb6a669ca585dd4a6b6328d06a82af0874f,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Ia37876caa7b627e66d5e703262a8b060c46fa25d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/51/827451/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,57400fb6a669ca585dd4a6b6328d06a82af0874f,,," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/octavia/policy.json"" state: absent listen: - Restart octavia services",0,8
openstack%2Fopenstack-ansible-os_barbican~master~I6b06486328ec0af05a17272be99a14911be9f4f7,openstack/openstack-ansible-os_barbican,master,I6b06486328ec0af05a17272be99a14911be9f4f7,Remove SSL variables which appear to be unused,MERGED,2022-01-10 10:54:31.000000000,2022-02-03 19:11:27.000000000,2022-02-03 19:09:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-10 10:54:31.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/38c39642550f436ba97c99f6175c3f527785bd1c', 'message': ""Remove SSL variables which appear to be unused\n\nWhilst enabling TLS v1.3 in other roles these variables were noted\nwhich don't appear to be used anywhere in the role.\n\nChange-Id: I6b06486328ec0af05a17272be99a14911be9f4f7\n""}]",1,823957,38c39642550f436ba97c99f6175c3f527785bd1c,11,4,1,31542,,,0,"Remove SSL variables which appear to be unused

Whilst enabling TLS v1.3 in other roles these variables were noted
which don't appear to be used anywhere in the role.

Change-Id: I6b06486328ec0af05a17272be99a14911be9f4f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/57/823957/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,38c39642550f436ba97c99f6175c3f527785bd1c,,,"barbican_ssl: false barbican_ssl_cert: /etc/ssl/certs/barbican.pem barbican_ssl_key: /etc/ssl/private/barbican.key barbican_ssl_ca_cert: /etc/ssl/certs/barbican-ca.pem barbican_ssl_protocol: ""{{ ssl_protocol | default('ALL -SSLv2 -SSLv3 -TLSv1.0 -TLSv1.1') }}"" barbican_ssl_cipher_suite: ""{{ ssl_cipher_suite | default('ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!MD5:!DSS') }}"" # if using a self-signed certificate, set this to true to regenerate it barbican_ssl_self_signed_regen: false barbican_ssl_self_signed_subject: ""/C=US/ST=Texas/L=San Antonio/O=IT/CN={{ internal_lb_vip_address }}/subjectAltName=IP.1={{ external_lb_vip_address }}"" # Set these in user_variables to deploy custom certificates #barbican_user_ssl_cert: <path to cert on ansible deployment host> #barbican_user_ssl_key: <path to cert on ansible deployment host> #barbican_user_ssl_ca_cert: <path to cert on ansible deployment host> ",0,16
openstack%2Fopenstack-ansible-lxc_hosts~master~Iafa0ae54538be2690a813c05fadb472c15a01b5a,openstack/openstack-ansible-lxc_hosts,master,Iafa0ae54538be2690a813c05fadb472c15a01b5a,Ansible systemd module can reload units without specifying a service,MERGED,2022-02-01 08:32:08.000000000,2022-02-03 19:10:11.000000000,2022-02-03 19:07:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 08:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/031bf901110ce84c62d698ea60dc7cdd1cbcf92e', 'message': 'Ansible systemd module can reload units without specifying a service\n\nRemove an old workaround for ansible <2.4\n\nChange-Id: Iafa0ae54538be2690a813c05fadb472c15a01b5a\n'}, {'number': 2, 'created': '2022-02-02 08:59:21.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c844e21a6e561770858152a47f62d5ac9b955313', 'message': 'Ansible systemd module can reload units without specifying a service\n\nRemove an old workaround for ansible <2.4\n\nChange-Id: Iafa0ae54538be2690a813c05fadb472c15a01b5a\n'}]",0,827217,c844e21a6e561770858152a47f62d5ac9b955313,10,3,2,25023,,,0,"Ansible systemd module can reload units without specifying a service

Remove an old workaround for ansible <2.4

Change-Id: Iafa0ae54538be2690a813c05fadb472c15a01b5a
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/17/827217/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,031bf901110ce84c62d698ea60dc7cdd1cbcf92e,,, # TODO(hwoarang): We only want to reload the units so the 'name' # parameter can be removed when we move to Ansible 2.4 name: it_does_not_matter,0,3
openstack%2Frequirements~stable%2Fvictoria~I4fa007356bdbb55621dcbe070158c077dc9496aa,openstack/requirements,stable/victoria,I4fa007356bdbb55621dcbe070158c077dc9496aa,update constraint for python-troveclient to new release 5.1.2,MERGED,2022-02-03 15:31:49.000000000,2022-02-03 19:07:26.000000000,2022-02-03 19:07:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-03 15:31:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b887ddf49b599b666f1ff8468ad589c0ba6e3092', 'message': 'update constraint for python-troveclient to new release 5.1.2\n\nmeta: version: 5.1.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: If861dbbe5c411b31e40598f3abe8ea1657d1cf8c\nmeta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I4fa007356bdbb55621dcbe070158c077dc9496aa\n'}]",0,827695,b887ddf49b599b666f1ff8468ad589c0ba6e3092,8,3,1,11131,,,0,"update constraint for python-troveclient to new release 5.1.2

meta: version: 5.1.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: If861dbbe5c411b31e40598f3abe8ea1657d1cf8c
meta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I4fa007356bdbb55621dcbe070158c077dc9496aa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/827695/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b887ddf49b599b666f1ff8468ad589c0ba6e3092,new-release,python-troveclient===5.1.2,python-troveclient===5.1.1,1,1
openstack%2Ftripleo-validations~master~Ia4cca68d185feb6e1370589caccc4e198af098ce,openstack/tripleo-validations,master,Ia4cca68d185feb6e1370589caccc4e198af098ce,[WIP] Introduce check_roles_data role,ABANDONED,2021-03-31 17:17:21.000000000,2022-02-03 19:07:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-31 17:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bda003a62e72eb48b32426277f2e12ce0fba9242', 'message': '[WIP] Introduce check_roles_data role\n\nThis role checks roles_data.yaml. It should not contain any deprecated\nservices.\n\nChange-Id: Ia4cca68d185feb6e1370589caccc4e198af098ce\n'}, {'number': 2, 'created': '2021-04-13 18:52:49.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/check_roles_data/molecule/default/converge.yml', 'roles/check_roles_data/vars/main.yml', 'doc/source/roles/role-check_roles_data.rst', 'playbooks/check-roles-data.yaml', 'roles/check_roles_data/molecule/default/Dockerfile', 'roles/check_roles_data/defaults/main.yml', 'roles/check_roles_data/handlers/main.yml', 'roles/check_roles_data/tasks/main.yml', 'roles/check_roles_data/molecule/default/molecule.yml', 'roles/check_roles_data/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eeb0e1cb5b25d71586c6c95477398982ae5c139e', 'message': '[WIP] Introduce check_roles_data role\n\nThis role checks roles_data.yaml. It should not contain any deprecated\nservices.\n\nChange-Id: Ia4cca68d185feb6e1370589caccc4e198af098ce\n'}]",2,784137,eeb0e1cb5b25d71586c6c95477398982ae5c139e,5,1,2,11090,,,0,"[WIP] Introduce check_roles_data role

This role checks roles_data.yaml. It should not contain any deprecated
services.

Change-Id: Ia4cca68d185feb6e1370589caccc4e198af098ce
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/784137/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'roles/check_roles_data/molecule/default/converge.yml', 'roles/check_roles_data/vars/main.yml', 'doc/source/roles/role-check_roles_data.rst', 'playbooks/check-roles-data.yaml', 'roles/check_roles_data/defaults/main.yml', 'roles/check_roles_data/molecule/default/Dockerfile', 'roles/check_roles_data/handlers/main.yml', 'roles/check_roles_data/tasks/main.yml', 'roles/check_roles_data/molecule/default/molecule.yml', 'roles/check_roles_data/molecule/default/prepare.yml']",11,bda003a62e72eb48b32426277f2e12ce0fba9242,check_roles_data,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all gather_facts: false tasks: - name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - env - name: populate roles_data.yaml copy: dest: ""{{ ansible_env.HOME }}/roles_data.yaml"" content: | - name: controller servicesdefault: - OS::TripleO::Services::Docker ",,298,0
openstack%2Fopenstack-ansible-os_sahara~master~If85dd0ec4105c216047bd05b101e98b95a7eb6c1,openstack/openstack-ansible-os_sahara,master,If85dd0ec4105c216047bd05b101e98b95a7eb6c1,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:22:28.000000000,2022-02-03 19:06:04.000000000,2022-02-03 19:03:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:22:28.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/bcf2711ff0eaf45cd08a955d63f91d2df23e6b53', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: If85dd0ec4105c216047bd05b101e98b95a7eb6c1\n'}]",0,827452,bcf2711ff0eaf45cd08a955d63f91d2df23e6b53,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: If85dd0ec4105c216047bd05b101e98b95a7eb6c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/52/827452/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,bcf2711ff0eaf45cd08a955d63f91d2df23e6b53,,," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/sahara/policy.json"" state: absent listen: - ""Restart sahara services"" - ""venv changed""",0,9
openstack%2Fopenstack-ansible-os_cinder~master~Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd,openstack/openstack-ansible-os_cinder,master,Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:08:46.000000000,2022-02-03 18:55:36.000000000,2022-02-03 18:52:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:08:46.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/a9eec797b7b015dcd6b7646c78ef42ea6bfe7319', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd\n'}]",0,827435,a9eec797b7b015dcd6b7646c78ef42ea6bfe7319,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/35/827435/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,a9eec797b7b015dcd6b7646c78ef42ea6bfe7319,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file file: path: ""/etc/cinder/policy.json"" state: absent listen: - Restart cinder services - venv changed ",0,9
openstack%2Fnova~master~I405d0324abe32b31a434105cf2c104876fe9c127,openstack/nova,master,I405d0324abe32b31a434105cf2c104876fe9c127,Add 'hw:vif_multiqueue_enabled' flavor extra spec,MERGED,2021-05-20 11:25:28.000000000,2022-02-03 18:54:49.000000000,2022-02-03 18:51:08.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 11:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ece7bda9313e796169142f3749a8630521e25dd0', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-05-20 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fef00043b56849ef4ebc1528316deeeb24480195', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-25 16:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d43a7b88737f8633e27f2cc0f6aa3e84b1f1844', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-05-26 13:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0eaf9c5958878318dca586faafbdd1151514822', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-12 14:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6d5d459e66eb70fef49daa758793cb41b342dfc', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-31 12:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea36689e866f8da07f26ce6afa18fcc267b78165', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-09-02 11:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a869f413f0e3feb8749703967825696a9c1ab72e', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-11-16 19:12:49.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/libvirt/vif.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/api/validation/extra_specs/hw.py', 'nova/compute/api.py', 'releasenotes/notes/flavor-based-multiqueue-configuration-41e2cbc4ca024682.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f42fb1241bb70b03b0715412b99257339e6bdc8d', 'message': ""Add 'hw:vif_multiqueue_enabled' flavor extra spec\n\nThis mirrors the 'hw_vif_multiqueue_enabled' image metadata property.\nProviding a way to set this via flavor extra specs allows admins to\nenable this by default and easily enable it for existing instances\nwithout the need to rebuild (a destructive operation).\n\nNote that, in theory at least, the image import workflow provided by\nglance should allows admins to enable this by default, but the legacy\nimage create workflow does not allow this and admins cannot really\ncontrol which API end users use when uploading their own images.\n\nAlso note that we could provide this behavior using a host-level\nconfiguration option. This would be similar to what we do for other\nattributes such as machine type ('hw_machine_type' image meta prop or\n'[libvirt] hw_machine_type' config option) or pointer model\n('hw_pointer_model' image meta prop or '[compute] pointer_model' config\noption) and would be well suited to things that we don't expect to\nchange, such as enabling multiqueue (it's a sensible default). However,\nwe would need to start storing this information in system_metadata, like\nwe do for machine type (since Wallaby) to prevent things changing over\nlive migration. We have also started avoiding host-level config options\nfor things like this since one must ensure that the value configured are\nconsistent across deployments to behavior that varies depending on the\nhost the guest is initially created on.\n\nChange-Id: I405d0324abe32b31a434105cf2c104876fe9c127\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",40,792356,f42fb1241bb70b03b0715412b99257339e6bdc8d,98,7,8,15334,,,0,"Add 'hw:vif_multiqueue_enabled' flavor extra spec

This mirrors the 'hw_vif_multiqueue_enabled' image metadata property.
Providing a way to set this via flavor extra specs allows admins to
enable this by default and easily enable it for existing instances
without the need to rebuild (a destructive operation).

Note that, in theory at least, the image import workflow provided by
glance should allows admins to enable this by default, but the legacy
image create workflow does not allow this and admins cannot really
control which API end users use when uploading their own images.

Also note that we could provide this behavior using a host-level
configuration option. This would be similar to what we do for other
attributes such as machine type ('hw_machine_type' image meta prop or
'[libvirt] hw_machine_type' config option) or pointer model
('hw_pointer_model' image meta prop or '[compute] pointer_model' config
option) and would be well suited to things that we don't expect to
change, such as enabling multiqueue (it's a sensible default). However,
we would need to start storing this information in system_metadata, like
we do for machine type (since Wallaby) to prevent things changing over
live migration. We have also started avoiding host-level config options
for things like this since one must ensure that the value configured are
consistent across deployments to behavior that varies depending on the
host the guest is initially created on.

Change-Id: I405d0324abe32b31a434105cf2c104876fe9c127
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/792356/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/libvirt/vif.py', 'nova/virt/hardware.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/api/validation/extra_specs/hw.py', 'releasenotes/notes/flavor-based-multiqueue-configuration-41e2cbc4ca024682.yaml']",6,ece7bda9313e796169142f3749a8630521e25dd0,bp/multiqueue-flavor-extra-spec,"--- features: - | The ``hw:vif_multiqueue_enabled`` flavor extra spec has been added. This is a boolean option that, when set, can be used to enable or disable multiqueue for virtio-net VIFs. It complements the equivalent image metadata property, ``hw_vif_multiqueue_enabled``. If both values are set, they must be identical or an error will be raised. ",,165,35
openstack%2Fcontributor-guide~master~I1d549944740e2f2cc1ec4b3902ec1da69fec1c56,openstack/contributor-guide,master,I1d549944740e2f2cc1ec4b3902ec1da69fec1c56,Replace memberships.png with latest content,MERGED,2022-01-25 18:29:48.000000000,2022-02-03 18:48:14.000000000,2022-02-03 18:44:45.000000000,"[{'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-25 18:29:48.000000000', 'files': ['doc/source/_assets/account-setup/memberships.png'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/67b4500d6e620eaa24c8e6605646ec371285f3a2', 'message': 'Replace memberships.png with latest content\n\nThe existing screenshot is not what you actually see here:https://docs.openstack.org/contributors/common/accounts.html\nSimply took a new screenshot and replacing the existing one.\n\nChange-Id: I1d549944740e2f2cc1ec4b3902ec1da69fec1c56\n'}]",4,826352,67b4500d6e620eaa24c8e6605646ec371285f3a2,10,4,1,34373,,,0,"Replace memberships.png with latest content

The existing screenshot is not what you actually see here:https://docs.openstack.org/contributors/common/accounts.html
Simply took a new screenshot and replacing the existing one.

Change-Id: I1d549944740e2f2cc1ec4b3902ec1da69fec1c56
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/52/826352/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_assets/account-setup/memberships.png'],1,67b4500d6e620eaa24c8e6605646ec371285f3a2,memberships_screenshot,,,0,0
openstack%2Fnova~master~I518bb5d586b159b4796fb6139351ba423bc19639,openstack/nova,master,I518bb5d586b159b4796fb6139351ba423bc19639,docs: Add new architecture guide,MERGED,2021-10-19 11:52:31.000000000,2022-02-03 18:36:38.000000000,2022-02-03 18:28:02.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 11:52:31.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/admin/architecture.rst', 'doc/source/user/index.rst', 'doc/source/user/architecture.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef4d759e87d11e6d53c22cf57a3b9296fa00c642', 'message': ""docs: Add new architecture guide\n\nAs with the cells v2 docs before this, we have a number of architecture\nfocused documents in tree. The 'user/architecture' guide is relatively\nup-to-date but is quite shallow, while the 'admin/arch' guide is\nin-depth but almost a decade out-of-date, with references to things\nlike nova's in-built block storage service. Replace most of the latter\nwith more up-to-date information and the merge the former into it,\nbefore renaming the file to 'admin/architecture'.\n\nChange-Id: I518bb5d586b159b4796fb6139351ba423bc19639\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",18,814563,ef4d759e87d11e6d53c22cf57a3b9296fa00c642,15,3,1,15334,,,0,"docs: Add new architecture guide

As with the cells v2 docs before this, we have a number of architecture
focused documents in tree. The 'user/architecture' guide is relatively
up-to-date but is quite shallow, while the 'admin/arch' guide is
in-depth but almost a decade out-of-date, with references to things
like nova's in-built block storage service. Replace most of the latter
with more up-to-date information and the merge the former into it,
before renaming the file to 'admin/architecture'.

Change-Id: I518bb5d586b159b4796fb6139351ba423bc19639
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/814563/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/admin/architecture.rst', 'doc/source/user/index.rst', 'doc/source/user/architecture.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",7,ef4d759e87d11e6d53c22cf57a3b9296fa00c642,docs,redirectmatch 301 ^/nova/([^/]+)/architecture.html$ /nova/$1/admin/architecture.htmlredirectmatch 301 ^/nova/([^/]+)/user/architecture.html$ /nova/$1/admin/architecture.htmlredirectmatch 301 ^/nova/([^/]+)/admin/arch.html$ /nova/$1/admin/architecture.htmlredirectmatch 301 ^/nova/([^/]+)/admin/manage-users.html$ /nova/$1/admin/architecture.html,redirectmatch 301 ^/nova/([^/]+)/architecture.html$ /nova/$1/user/architecture.htmlredirectmatch 301 ^/nova/([^/]+)/admin/manage-users.html$ /nova/$1/admin/arch.html,240,274
openstack%2Fplacement~master~I67d1af5b8b6e945c744180358d588e95e13c33f6,openstack/placement,master,I67d1af5b8b6e945c744180358d588e95e13c33f6,Extra tests around required traits,MERGED,2022-01-21 18:21:38.000000000,2022-02-03 18:36:36.000000000,2022-02-03 18:27:56.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 18:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e6be27332726ac0a0bc02d62fdaa6501c6e48f37', 'message': ""Extra tests around required traits\n\nThis patch adds some tests to prove the following for both GET\n/resource_providers and /allocation_candidates API:\n\n* in:trait1,trait2 is not yet supported, this will makes sure we don't\n  leak the support to older microversions\n\n* repeated `required` query params are not supported. Interestingly the\n  current behavior is that one `required` query param will overwrite the\n  rest.\n\nStory: 2005345\nStory: 2005346\n\nChange-Id: I67d1af5b8b6e945c744180358d588e95e13c33f6\n""}, {'number': 2, 'created': '2022-01-31 14:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/38e1eb1ecfd94ce43ea0da315e8791c7d281d063', 'message': ""Extra tests around required traits\n\nThis patch adds some tests to prove the following for both GET\n/resource_providers and /allocation_candidates API the\nin:trait1,trait2 is not yet supported, this will makes sure we don't\nleak the support to older microversions\n\nStory: 2005345\nStory: 2005346\nChange-Id: I67d1af5b8b6e945c744180358d588e95e13c33f6\n""}, {'number': 3, 'created': '2022-01-31 17:28:44.000000000', 'files': ['placement/tests/functional/gabbits/resource-provider-any-traits.yaml', 'placement/tests/functional/gabbits/allocation-candidates-any-traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/396634e07cd7d7e07c27fdb43d06271713f4049a', 'message': ""Extra tests around required traits\n\nThis patch adds some tests to prove the following for both GET\n/resource_providers and /allocation_candidates API:\n\n* in:trait1,trait2 is not yet supported, this will makes sure we don't\n  leak the support to older microversions\n\n* repeated `required` query params are not supported. Interestingly the\n  current behavior is that one `required` query param will overwrite the\n  rest.\n\nStory: 2005345\nStory: 2005346\n\nChange-Id: I67d1af5b8b6e945c744180358d588e95e13c33f6\n""}]",5,825846,396634e07cd7d7e07c27fdb43d06271713f4049a,15,3,3,9708,,,0,"Extra tests around required traits

This patch adds some tests to prove the following for both GET
/resource_providers and /allocation_candidates API:

* in:trait1,trait2 is not yet supported, this will makes sure we don't
  leak the support to older microversions

* repeated `required` query params are not supported. Interestingly the
  current behavior is that one `required` query param will overwrite the
  rest.

Story: 2005345
Story: 2005346

Change-Id: I67d1af5b8b6e945c744180358d588e95e13c33f6
",git fetch https://review.opendev.org/openstack/placement refs/changes/46/825846/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/gabbits/resource-provider-any-traits.yaml', 'placement/tests/functional/gabbits/allocation-candidates-any-traits.yaml']",2,e6be27332726ac0a0bc02d62fdaa6501c6e48f37,any-traits-support,"fixtures: - GranularFixture defaults: request_headers: x-auth-token: admin accept: application/json openstack-api-version: placement latest tests: - name: the 'in:' trait query is not supported yet GET: /allocation_candidates?required=in:CUSTOM_FOO,HW_CPU_X86_MMX&resources=VCPU:1 request_headers: openstack-api-version: placement 1.38 status: 400 response_strings: - ""No such trait(s): in:CUSTOM_FOO"" - name: the 'in:' trait query is not supported yet in named request group GET: /allocation_candidates?requiredX=in:CUSTOM_FOO,HW_CPU_X86_MMX&resourcesX=VCPU:1 request_headers: openstack-api-version: placement 1.38 status: 400 response_strings: - ""No such trait(s): in:CUSTOM_FOO"" - name: the second required field overwrites the first # The fixture has one RP for each trait but no RP for both traits. # As the second 'required' key overwrites the first in <= 1.38 we expect # that one of that RPs will be returned. GET: /allocation_candidates?required=CUSTOM_FOO&required=HW_CPU_X86_MMX&resources=VCPU:1 request_headers: openstack-api-version: placement 1.38 status: 200 response_json_paths: $.allocation_requests.`len`: 1 - name: the second required field overwrites the first in named groups # The fixture has one RP for each trait but no RP for both traits. # As the second 'required' key overwrites the first in <= 1.38 we expect # that one of that RPs will be returned. GET: /allocation_candidates?requiredX=CUSTOM_FOO&requiredX=HW_CPU_X86_MMX&resourcesX=VCPU:1 request_headers: openstack-api-version: placement 1.38 status: 200 response_json_paths: $.allocation_requests.`len`: 1 ",,77,0
openstack%2Frequirements~master~Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a,openstack/requirements,master,Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a,update constraint for oslo.cache to new release 2.10.0,MERGED,2022-02-03 11:49:39.000000000,2022-02-03 18:36:36.000000000,2022-02-03 18:27:53.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-03 11:49:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc9439a8355322899ddf1d7d957da5c3175f9d5f', 'message': 'update constraint for oslo.cache to new release 2.10.0\n\nmeta: version: 2.10.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a\n'}]",0,827650,cc9439a8355322899ddf1d7d957da5c3175f9d5f,9,3,1,11131,,,0,"update constraint for oslo.cache to new release 2.10.0

meta: version: 2.10.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/827650/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cc9439a8355322899ddf1d7d957da5c3175f9d5f,new-release,oslo.cache===2.10.0,oslo.cache===2.9.0,1,1
openstack%2Fneutron-tempest-plugin~master~I73c3d6caeaf578fb032750c34e1aaa1ac041da9a,openstack/neutron-tempest-plugin,master,I73c3d6caeaf578fb032750c34e1aaa1ac041da9a,Re-enable IPv6Test in OVN scenario job,MERGED,2022-02-01 14:44:54.000000000,2022-02-03 18:27:58.000000000,2022-02-03 18:27:58.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 14:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/aea9254083a5555c96b94efbac401029792c4019', 'message': 'Re-enable IPv6Test in OVN scenario job\n\nThe related bug is fixed in ovn with[1], so issue\nshould not be see with ovn-20.03.2+ releases. This\npatch re-enables the test by removing it from blacklist,\nand adding it to ussuri ovn job as that is running with\novn-20.03.0.\n\n[1] https://github.com/ovn-org/ovn/commit/53285ae\n\nRelated-Bug: #1881558\nChange-Id: I73c3d6caeaf578fb032750c34e1aaa1ac041da9a\n'}, {'number': 2, 'created': '2022-02-02 07:11:14.000000000', 'files': ['zuul.d/ussuri_jobs.yaml', 'zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/88fc3fb64e9901ec64b141cbcad1e0fc5325fedf', 'message': 'Re-enable IPv6Test in OVN scenario job\n\nThe related bug is fixed in ovn with[1], so issue\nshould not be see with ovn-20.03.2+ releases. This\npatch re-enables the test by removing it from blacklist,\nand adding it to ussuri ovn job as that is running with\novn-20.03.0.\n\n[1] https://github.com/ovn-org/ovn/commit/53285ae\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/827410/\nRelated-Bug: #1881558\nChange-Id: I73c3d6caeaf578fb032750c34e1aaa1ac041da9a\n'}]",2,827303,88fc3fb64e9901ec64b141cbcad1e0fc5325fedf,11,6,2,13861,,,0,"Re-enable IPv6Test in OVN scenario job

The related bug is fixed in ovn with[1], so issue
should not be see with ovn-20.03.2+ releases. This
patch re-enables the test by removing it from blacklist,
and adding it to ussuri ovn job as that is running with
ovn-20.03.0.

[1] https://github.com/ovn-org/ovn/commit/53285ae

Depends-On: https://review.opendev.org/c/openstack/networking-sfc/+/827410/
Related-Bug: #1881558
Change-Id: I73c3d6caeaf578fb032750c34e1aaa1ac041da9a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/03/827303/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ussuri_jobs.yaml', 'zuul.d/master_jobs.yaml']",2,aea9254083a5555c96b94efbac401029792c4019,bug/1881558,, # TODO(haleyb): Remove IPv6Test from blacklist when # https://bugs.launchpad.net/neutron/+bug/1881558 is fixed. (?:neutron_tempest_plugin.scenario.test_ipv6.IPv6Test)|\,11,3
openstack%2Frequirements~stable%2Fvictoria~I162e7d1dd359ce602f193888fbda0df8595ae31b,openstack/requirements,stable/victoria,I162e7d1dd359ce602f193888fbda0df8595ae31b,update constraint for ironic-lib to new release 4.4.2,MERGED,2022-01-24 12:00:21.000000000,2022-02-03 18:27:49.000000000,2022-02-03 18:27:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 12:00:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/10cea6ad14a418e5625bad5428d4e57aeab9df8e', 'message': 'update constraint for ironic-lib to new release 4.4.2\n\nmeta: version: 4.4.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ic2859b8be6cb19d380948a11e4872c69b035c09c\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I162e7d1dd359ce602f193888fbda0df8595ae31b\n'}]",0,826072,10cea6ad14a418e5625bad5428d4e57aeab9df8e,14,3,1,11131,,,0,"update constraint for ironic-lib to new release 4.4.2

meta: version: 4.4.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ic2859b8be6cb19d380948a11e4872c69b035c09c
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I162e7d1dd359ce602f193888fbda0df8595ae31b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/826072/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,10cea6ad14a418e5625bad5428d4e57aeab9df8e,new-release,ironic-lib===4.4.2,ironic-lib===4.4.1,1,1
openstack%2Frequirements~stable%2Fvictoria~I2cea59558f70680fec4af972dd3dee4c6b0e7050,openstack/requirements,stable/victoria,I2cea59558f70680fec4af972dd3dee4c6b0e7050,update constraint for python-ironicclient to new release 4.4.1,MERGED,2022-01-24 12:00:16.000000000,2022-02-03 18:27:47.000000000,2022-02-03 18:27:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 12:00:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cfb93af68d0bf45317b366ffd5655c93c2096a7b', 'message': 'update constraint for python-ironicclient to new release 4.4.1\n\nmeta: version: 4.4.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ie1fa3096e84253d76ce20c979821c2f7a31bd400\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2cea59558f70680fec4af972dd3dee4c6b0e7050\n'}]",0,826071,cfb93af68d0bf45317b366ffd5655c93c2096a7b,14,3,1,11131,,,0,"update constraint for python-ironicclient to new release 4.4.1

meta: version: 4.4.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ie1fa3096e84253d76ce20c979821c2f7a31bd400
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2cea59558f70680fec4af972dd3dee4c6b0e7050
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/826071/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cfb93af68d0bf45317b366ffd5655c93c2096a7b,new-release,python-ironicclient===4.4.1,python-ironicclient===4.4.0,1,1
openstack%2Frequirements~stable%2Fvictoria~Ie891008b10f90f83332ae65db5c5c95c6a48e663,openstack/requirements,stable/victoria,Ie891008b10f90f83332ae65db5c5c95c6a48e663,update constraint for sushy to new release 3.4.5,MERGED,2022-01-24 11:52:54.000000000,2022-02-03 18:27:44.000000000,2022-02-03 18:27:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 11:52:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/160eb878e1d937e131a9757d6e1523a7cd124c53', 'message': 'update constraint for sushy to new release 3.4.5\n\nmeta: version: 3.4.5\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ib27d51485700555369a9bf51bafbe3f1da9a5b72\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ie891008b10f90f83332ae65db5c5c95c6a48e663\n'}]",0,826049,160eb878e1d937e131a9757d6e1523a7cd124c53,20,3,1,11131,,,0,"update constraint for sushy to new release 3.4.5

meta: version: 3.4.5
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ib27d51485700555369a9bf51bafbe3f1da9a5b72
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie891008b10f90f83332ae65db5c5c95c6a48e663
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/826049/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,160eb878e1d937e131a9757d6e1523a7cd124c53,new-release,sushy===3.4.5,sushy===3.4.4,1,1
openstack%2Frequirements~stable%2Fvictoria~Ifecf3b41b5c323996ab214faf92579da8baeb0e2,openstack/requirements,stable/victoria,Ifecf3b41b5c323996ab214faf92579da8baeb0e2,update constraint for glance_store to new release 2.3.1,MERGED,2022-01-24 11:50:30.000000000,2022-02-03 18:27:41.000000000,2022-02-03 18:27:41.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 11:50:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ef8f6ef61087a122b42aec35faa5e6de3f29f6c4', 'message': 'update constraint for glance_store to new release 2.3.1\n\nmeta: version: 2.3.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Előd Illés <elod.illes@est.tech>\nmeta: release:Commit: Előd Illés <elod.illes@est.tech>\nmeta: release:Change-Id: I2c354abb8b13d31cccbc0129291c5a25df2909dc\nmeta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ifecf3b41b5c323996ab214faf92579da8baeb0e2\n'}]",0,826047,ef8f6ef61087a122b42aec35faa5e6de3f29f6c4,21,4,1,11131,,,0,"update constraint for glance_store to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Előd Illés <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I2c354abb8b13d31cccbc0129291c5a25df2909dc
meta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ifecf3b41b5c323996ab214faf92579da8baeb0e2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/826047/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ef8f6ef61087a122b42aec35faa5e6de3f29f6c4,new-release,glance-store===2.3.1,glance-store===2.3.0,1,1
openstack%2Frequirements~stable%2Fvictoria~Ie5f13c9dfdd3277273752304895ef24259b14ad3,openstack/requirements,stable/victoria,Ie5f13c9dfdd3277273752304895ef24259b14ad3,update constraint for ceilometer to new release 15.1.0,MERGED,2022-01-24 11:47:35.000000000,2022-02-03 18:27:38.000000000,2022-02-03 18:27:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 11:47:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f6ebd639e77180b21fe8a4c1285a1c39edd8e8e5', 'message': 'update constraint for ceilometer to new release 15.1.0\n\nmeta: version: 15.1.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Előd Illés <elod.illes@est.tech>\nmeta: release:Change-Id: I0dd2a898d7b47f118537c31e52ed1ac252cefdc8\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ie5f13c9dfdd3277273752304895ef24259b14ad3\n'}]",0,826046,f6ebd639e77180b21fe8a4c1285a1c39edd8e8e5,20,3,1,11131,,,0,"update constraint for ceilometer to new release 15.1.0

meta: version: 15.1.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I0dd2a898d7b47f118537c31e52ed1ac252cefdc8
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie5f13c9dfdd3277273752304895ef24259b14ad3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/826046/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f6ebd639e77180b21fe8a4c1285a1c39edd8e8e5,new-release,ceilometer===15.1.0,ceilometer===15.0.0,1,1
openstack%2Fcharm-rabbitmq-server~master~I04094f4392ba1057202fa3f4d58720bc9c14048b,openstack/charm-rabbitmq-server,master,I04094f4392ba1057202fa3f4d58720bc9c14048b,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 17:03:46.000000000,2022-02-03 18:23:44.000000000,2022-02-03 18:23:44.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-27 17:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/7f09bc819704dba7427bc6a8ac4ba3c42d41bfdf', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I04094f4392ba1057202fa3f4d58720bc9c14048b\n'}, {'number': 2, 'created': '2022-01-28 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/3d872f184ef04a6d6dc8c619a667e1c76a7071c0', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I04094f4392ba1057202fa3f4d58720bc9c14048b\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 3, 'created': '2022-01-29 17:25:48.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/009ef87594ca50e47750246c78219b429695c696', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I04094f4392ba1057202fa3f4d58720bc9c14048b\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,826741,009ef87594ca50e47750246c78219b429695c696,15,4,3,20870,,,0,"Migrate charm to charmhub latest/edge track

Change-Id: I04094f4392ba1057202fa3f4d58720bc9c14048b
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/41/826741/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml']",18,7f09bc819704dba7427bc6a8ac4ba3c42d41bfdf,charmhub-migration-master, charm: ch:mysql-router channel: latest/edge cinder-mysql-router: charm: ch:mysql-router channel: latest/edge charm: ch:mysql-innodb-cluster channel: latest/edge charm: ch:cinder channel: latest/edge charm: ch:keystone channel: latest/edge, charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router charm: cs:~openstack-charmers-next/mysql-innodb-cluster charm: cs:~openstack-charmers-next/cinder charm: cs:~openstack-charmers-next/keystone,84,723
openstack%2Ftripleo-upgrade~master~Ie018f714d41feec57208501f468e0822604d7784,openstack/tripleo-upgrade,master,Ie018f714d41feec57208501f468e0822604d7784,Remove constraints for sh and molecule,ABANDONED,2021-07-02 14:33:36.000000000,2022-02-03 18:20:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-02 14:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/691b84ec99f8c793f6ad9e929e97ebea8aa294ce', 'message': ""Remove constraints for sh and molecule\n\nSince we don't use CentOS 7 anymore there is no need to stick with sh\nand molecule. This patch removes version constraints for these python\npackages.\n\nChange-Id: Ie018f714d41feec57208501f468e0822604d7784\n""}, {'number': 2, 'created': '2021-11-08 11:18:06.000000000', 'files': ['molecule/molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c0b4d82a1b71f83adb3939966067496801856f48', 'message': ""Remove constraints for sh and molecule\n\nSince we don't use CentOS 7 anymore there is no need to stick with sh\nand molecule. This patch removes version constraints for these python\npackages.\n\nChange-Id: Ie018f714d41feec57208501f468e0822604d7784\n""}]",0,799214,c0b4d82a1b71f83adb3939966067496801856f48,5,1,2,11090,,,0,"Remove constraints for sh and molecule

Since we don't use CentOS 7 anymore there is no need to stick with sh
and molecule. This patch removes version constraints for these python
packages.

Change-Id: Ie018f714d41feec57208501f468e0822604d7784
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/799214/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule/molecule-requirements.txt'],1,691b84ec99f8c793f6ad9e929e97ebea8aa294ce,molecule_bump,sh molecule,"sh>=1.12.14,<1.13 molecule>=2.22rc1,<3",2,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4fa6a5996ac777c6595380dbee39f9462b6cea2a,openstack/tripleo-upgrade,stable/train,I4fa6a5996ac777c6595380dbee39f9462b6cea2a,Change the path according to leapp-0.13,MERGED,2022-01-25 22:08:19.000000000,2022-02-03 18:18:55.000000000,2022-01-26 18:50:14.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-25 22:08:19.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e54d36332e7483a115ddc7f1244d35a42667231f', 'message': 'Change the path according to leapp-0.13\n\nThe path was changed in leapp-0.13. This patch changes it accordingly.\n\nChange-Id: I4fa6a5996ac777c6595380dbee39f9462b6cea2a\n'}]",4,826393,e54d36332e7483a115ddc7f1244d35a42667231f,12,4,1,11090,,,0,"Change the path according to leapp-0.13

The path was changed in leapp-0.13. This patch changes it accordingly.

Change-Id: I4fa6a5996ac777c6595380dbee39f9462b6cea2a
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/93/826393/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,e54d36332e7483a115ddc7f1244d35a42667231f,, path: /usr/share/leapp-repository/repositories/system_upgrade/common/actors/{{ item }}, path: /usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/{{ item }}/actor.py,1,1
openstack%2Frequirements~stable%2Fwallaby~I8e338cefb460ce1618e938e768e829e2375c6841,openstack/requirements,stable/wallaby,I8e338cefb460ce1618e938e768e829e2375c6841,update constraint for python-manilaclient to new release 2.6.2,MERGED,2022-01-26 12:32:16.000000000,2022-02-03 18:17:48.000000000,2022-02-03 18:17:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-26 12:32:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbeb3dbe43d34c3c4c13e5a0219df3aa734cb48e', 'message': 'update constraint for python-manilaclient to new release 2.6.2\n\nmeta: version: 2.6.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Change-Id: I45600e997dcc33dd05ae3d03ebb9289ffb7af344\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Tom Barron <tpb@dyncloud.net>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I8e338cefb460ce1618e938e768e829e2375c6841\n'}]",0,826457,bbeb3dbe43d34c3c4c13e5a0219df3aa734cb48e,13,2,1,11131,,,0,"update constraint for python-manilaclient to new release 2.6.2

meta: version: 2.6.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Change-Id: I45600e997dcc33dd05ae3d03ebb9289ffb7af344
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Tom Barron <tpb@dyncloud.net>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8e338cefb460ce1618e938e768e829e2375c6841
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/826457/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bbeb3dbe43d34c3c4c13e5a0219df3aa734cb48e,new-release,python-manilaclient===2.6.2,python-manilaclient===2.6.1,1,1
openstack%2Frequirements~stable%2Fxena~I048d6e7c257dcd22acc479eed6d56109b8c0e4d6,openstack/requirements,stable/xena,I048d6e7c257dcd22acc479eed6d56109b8c0e4d6,update constraint for python-manilaclient to new release 3.0.1,MERGED,2022-01-26 11:46:05.000000000,2022-02-03 18:17:43.000000000,2022-02-03 18:17:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-26 11:46:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f58ce88ea4b82c276d612ad3f4139c53b20e3af0', 'message': 'update constraint for python-manilaclient to new release 3.0.1\n\nmeta: version: 3.0.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Change-Id: I6a6427b9720a4314de7423b8b8628f9132b2c091\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I048d6e7c257dcd22acc479eed6d56109b8c0e4d6\n'}]",0,826448,f58ce88ea4b82c276d612ad3f4139c53b20e3af0,14,3,1,11131,,,0,"update constraint for python-manilaclient to new release 3.0.1

meta: version: 3.0.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Change-Id: I6a6427b9720a4314de7423b8b8628f9132b2c091
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I048d6e7c257dcd22acc479eed6d56109b8c0e4d6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/826448/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f58ce88ea4b82c276d612ad3f4139c53b20e3af0,new-release,python-manilaclient===3.0.1,python-manilaclient===3.0.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If3570f9f920f0dff0b0a90c2d8629a91abdafdeb,openstack/tripleo-heat-templates,stable/train,If3570f9f920f0dff0b0a90c2d8629a91abdafdeb,[Train-only] Add sleep after docker restart,ABANDONED,2021-11-09 20:21:46.000000000,2022-02-03 18:12:40.000000000,,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-11-09 20:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8b080e07a19bc57ca3979af5f249a26038faecc', 'message': '[Train-only] Simplify docker stop\n\nInstead of comparing containers which leads to issues as -n "" "" is\nalways positive as "" "" is not empty string, we just\n1. Stop docker\n2. Stop all left containers in the loop until they are stopped\n\nChange-Id: If3570f9f920f0dff0b0a90c2d8629a91abdafdeb\n'}, {'number': 2, 'created': '2021-11-09 20:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6bf41fecb346d66e359bda3aeea84bd51f11cb1e', 'message': '[Train-only] Simplify docker stop\n\nInstead of comparing containers which leads to issues as -n "" "" is\nalways positive as "" "" is not empty string, we just\n1. Stop docker\n2. Stop all left containers in the loop until they are stopped\n\nChange-Id: If3570f9f920f0dff0b0a90c2d8629a91abdafdeb\n'}, {'number': 3, 'created': '2021-11-10 14:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dc25439296166172ebd7fcbe4187b5c1112a749', 'message': ""[Train-only] Add sleep after docker restart\n\nContainers don't start immediately after docker restart. It means we\nneed some time. Otherwise RUNNING may be empty in some cases\n\nChange-Id: If3570f9f920f0dff0b0a90c2d8629a91abdafdeb\n""}, {'number': 4, 'created': '2021-11-12 17:34:34.000000000', 'files': ['deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1564f792f09c114b32c9c6521802cc73994027ef', 'message': ""[Train-only] Add sleep after docker restart\n\nContainers don't start immediately after docker restart. It means we\nneed some time. Otherwise RUNNING may be empty in some cases\n\nChange-Id: If3570f9f920f0dff0b0a90c2d8629a91abdafdeb\n""}]",4,817304,1564f792f09c114b32c9c6521802cc73994027ef,17,6,4,11090,,,0,"[Train-only] Add sleep after docker restart

Containers don't start immediately after docker restart. It means we
need some time. Otherwise RUNNING may be empty in some cases

Change-Id: If3570f9f920f0dff0b0a90c2d8629a91abdafdeb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/817304/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml']",2,f8b080e07a19bc57ca3979af5f249a26038faecc,add_sleep_after_docker_restart, # Stop any left containers until [ -z $(docker ps -a -q) ]; do docker stop $(docker ps -a -q); done," set -o pipefail # Get list of running containers RUNNING=""$( docker ps --format '{{ '{{' }}.Names{{ '}}' }}' )"" # Compare running containers now vs before TO_STOP=""$(grep -v -f <(echo ""${RUNNING}"") <(docker ps --format '{{ '{{' }}.Names{{ '}}' }}'))"" # Check if we need to stop anything and stop it if [ -n ""${TO_STOP}"" ]; then echo ""${TO_STOP}"" | xargs -r docker stop fi",4,18
openstack%2Fironic-python-agent~master~I568d7edfe81e928e6d7f09bd4a7933ca72b8813a,openstack/ironic-python-agent,master,I568d7edfe81e928e6d7f09bd4a7933ca72b8813a,Clean up release notes,MERGED,2022-02-03 13:49:53.000000000,2022-02-03 18:08:50.000000000,2022-02-03 18:05:27.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 13:49:53.000000000', 'files': ['releasenotes/notes/move_swraid_to_efibootmgr-d87c1bfde1661fb5.yaml', 'releasenotes/notes/add_burnin_dynamic_network_pairing-33e398255050eb98.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b8b1991bea20bb34075cb9295b16256cf0dabc95', 'message': 'Clean up release notes\n\nChange-Id: I568d7edfe81e928e6d7f09bd4a7933ca72b8813a\n'}]",0,827666,b8b1991bea20bb34075cb9295b16256cf0dabc95,8,3,1,10239,,,0,"Clean up release notes

Change-Id: I568d7edfe81e928e6d7f09bd4a7933ca72b8813a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/66/827666/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/move_swraid_to_efibootmgr-d87c1bfde1661fb5.yaml', 'releasenotes/notes/add_burnin_dynamic_network_pairing-33e398255050eb98.yaml']",2,b8b1991bea20bb34075cb9295b16256cf0dabc95,reno," configuration). This allows burn-in to proceed on a ""first come first served"" basis with the nodes available, rather than a node at least ``agent_burnin_fio_network_pairing_backend_url`` in their ``driver_info`` (the URL for the coordination backend). In order to addition define ``agent_burnin_fio_network_pairing_group_name`` to additional parameter ``agent_burnin_fio_network_pairing_timeout`` allows to"," configuration). This allows burn-in to proceed on a 'first come first served' basis with the nodes available, rather than a node at least 'agent_burnin_fio_network_pairing_backend_url' in their driver-info (the URL for the coordination backend). In order to addition define 'agent_burnin_fio_network_pairing_group_name' to additional 'agent_burnin_fio_network_pairing_timeout' allows to",11,10
openstack%2Fansible-role-qdrouterd~master~I4aef99914e8ea07014c44f1d70ae71b1c82e6a31,openstack/ansible-role-qdrouterd,master,I4aef99914e8ea07014c44f1d70ae71b1c82e6a31,Only support python3 for the qpid bindings,MERGED,2022-02-02 09:44:28.000000000,2022-02-03 17:55:43.000000000,2022-02-03 17:52:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:44:28.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/d9b6cfdced3a03b6d19a617a29708c0c1c1437aa', 'message': 'Only support python3 for the qpid bindings\n\nChange-Id: I4aef99914e8ea07014c44f1d70ae71b1c82e6a31\n'}]",0,827463,d9b6cfdced3a03b6d19a617a29708c0c1c1437aa,8,3,1,25023,,,0,"Only support python3 for the qpid bindings

Change-Id: I4aef99914e8ea07014c44f1d70ae71b1c82e6a31
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/63/827463/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,d9b6cfdced3a03b6d19a617a29708c0c1c1437aa,, - python3-qpid-proton," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-qpid-proton', 'python3-qpid-proton') }}""",1,1
openstack%2Fironic~master~I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,openstack/ironic,master,I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,Fix resource_url in the remaining resources,MERGED,2022-01-24 18:11:01.000000000,2022-02-03 17:33:57.000000000,2022-02-03 17:30:12.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-24 18:11:01.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'releasenotes/notes/api-none-3fdca1ccbb64d9b0.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/55144d3bd262be35c7a034fea083c3ed73fd63d8', 'message': 'Fix resource_url in the remaining resources\n\nNode history was particularly affected: limit was not converted from\nstring to integer, so ""next"" link was never added.\n\nAdd some safeguards to the generic API code.\n\nChange-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb\n'}]",0,826143,55144d3bd262be35c7a034fea083c3ed73fd63d8,12,3,1,10239,,,0,"Fix resource_url in the remaining resources

Node history was particularly affected: limit was not converted from
string to integer, so ""next"" link was never added.

Add some safeguards to the generic API code.

Change-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/826143/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'releasenotes/notes/api-none-3fdca1ccbb64d9b0.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/api/controllers/v1/node.py']",16,55144d3bd262be35c7a034fea083c3ed73fd63d8,api-none,"def node_list_convert_with_links(nodes, limit, url, fields=None, **kwargs): @args.validate(detail=args.boolean, marker=args.uuid, limit=args.integer) def get_all(self, detail=False, marker=None, limit=None): fields = self.detail_fields if detail else self.standard_fields limit = api_utils.validate_limit(limit) url=f'nodes/{self.node_ident}/history', resource_url='nodes', resource_url='nodes/detail',","def node_list_convert_with_links(nodes, limit, url=None, fields=None, **kwargs): @args.validate(details=args.boolean, marker=args.uuid, limit=args.integer) def get_all(self, **kwargs): if kwargs.get('detail'): detail = True fields = self.detail_fields else: detail = False fields = self.standard_fields marker = kwargs.get('marker') limit = kwargs.get('limit') resource_url = 'nodes' resource_url=resource_url, resource_url = '/'.join(['nodes', 'detail']) resource_url=resource_url,",83,52
openstack%2Fironic~master~I4862efa3af452f89f1dc4e15d2c3cc43b857f86d,openstack/ironic,master,I4862efa3af452f89f1dc4e15d2c3cc43b857f86d,Make account prefix of Swift confgurable,MERGED,2022-01-09 13:45:39.000000000,2022-02-03 17:21:34.000000000,2022-02-03 17:17:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-09 13:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd3dd24e12f9f90ac4a3a13bf790a6943a04dc6a', 'message': 'Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to use a different value\nthan the default (AUTH).\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n'}, {'number': 2, 'created': '2022-01-09 13:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b2925cc1d380cd52ad4926f5b92b69b2cf62651', 'message': 'Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to use a different value\nthan the default (AUTH).\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n'}, {'number': 3, 'created': '2022-01-09 14:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4123f4a16b568b202ccb62daa3396e3d505cf990', 'message': 'Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to use a different value\nthan the default (AUTH).\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n'}, {'number': 4, 'created': '2022-01-09 14:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e667c300775dc591ea001c696127ee893ae578d0', 'message': 'Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to use a different value\nthan the default (AUTH).\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n'}, {'number': 5, 'created': '2022-01-09 14:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5313ca93ee2cf24982a803824c7593b45747fe26', 'message': 'Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to customize the prefix\nso that users can customize the prefix consistently.\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n'}, {'number': 6, 'created': '2022-01-26 00:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e966e7756d020f7c8fd7efc2c49e4eec648a64ee', 'message': ""Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to customize the prefix\nso that users can customize the prefix consistently.\n\nTo allow setting the consistent value in Ironic and Swift, the prefix\nvalue is automatically suffixed by '_' like;\n - AUTH  => AUTH_\n - AUTH_ => AUTH_\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n""}, {'number': 7, 'created': '2022-01-26 00:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9610d65e39feb823bcc1ef24cd792ce7ed1621e', 'message': ""Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to customize the prefix\nso that users can customize the prefix consistently.\n\nTo allow setting a consistent value in Ironic and Swift, the prefix\nvalue is automatically suffixed by '_' like;\n - AUTH  => AUTH_\n - AUTH_ => AUTH_\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n""}, {'number': 8, 'created': '2022-01-26 10:28:38.000000000', 'files': ['ironic/common/glance_service/image_service.py', 'ironic/tests/unit/common/test_glance_service.py', 'releasenotes/notes/swift_account_prefix-dbc9e68890bff47c.yaml', 'ironic/conf/glance.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cde42678b9aafdc3475457f716a7f3af17ae6995', 'message': ""Make account prefix of Swift confgurable\n\nAccount prefix is configurable in Swift and can be different. This\nchange introduces a configuration parameter to customize the prefix\nso that users can customize the prefix consistently.\n\nTo allow setting a consistent value in Ironic and Swift, the prefix\nvalue is automatically suffixed by '_' like;\n - AUTH  => AUTH_\n - AUTH_ => AUTH_\n\nStory: 2009778\nTask: 44259\nChange-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d\n""}]",14,823913,cde42678b9aafdc3475457f716a7f3af17ae6995,34,3,8,9816,,,0,"Make account prefix of Swift confgurable

Account prefix is configurable in Swift and can be different. This
change introduces a configuration parameter to customize the prefix
so that users can customize the prefix consistently.

To allow setting a consistent value in Ironic and Swift, the prefix
value is automatically suffixed by '_' like;
 - AUTH  => AUTH_
 - AUTH_ => AUTH_

Story: 2009778
Task: 44259
Change-Id: I4862efa3af452f89f1dc4e15d2c3cc43b857f86d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/823913/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/glance_service/image_service.py', 'releasenotes/notes/swift_account_prefix-dbc9e68890bff47c.yaml', 'ironic/conf/glance.py']",3,cd3dd24e12f9f90ac4a3a13bf790a6943a04dc6a,story/2009778," 'swift_account_prefix', default='AUTH', help=_('The prefix added to the project uuid to determine the swift ' 'account.')), cfg.StrOpt(",,14,2
openstack%2Fpython-tripleoclient~master~I2d8a4b5245a1f5b7e9843e7770c3526627a02144,openstack/python-tripleoclient,master,I2d8a4b5245a1f5b7e9843e7770c3526627a02144,Add --single-host-defaults to 'openstack overcloud ceph deploy',MERGED,2022-01-24 19:54:19.000000000,2022-02-03 17:04:11.000000000,2022-02-03 17:01:06.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-24 19:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e01521d8ef364764342df5319ed6e06a483b1f5', 'message': ""Add --single-host-defaults to 'openstack overcloud ceph deploy'\n\nAdd --single-host-defaults parameter to 'openstack overcloud\nceph deploy' command which calls cephadm bootstrap with the\nsame option.\n\nThe --single-host-defaults parameter adjust configuration\ndefaults to suit a single-host Ceph cluster.\n\nCloses-Bug: 1958884\nDepends-On: I0bf31c945756b29130b1418ef71b8435e2b4f192\nChange-Id: I2d8a4b5245a1f5b7e9843e7770c3526627a02144\n""}, {'number': 2, 'created': '2022-02-02 21:06:37.000000000', 'files': ['tripleoclient/v2/overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/196cba03c17e6609759bad2b61306eaeff2ae33b', 'message': ""Add --single-host-defaults to 'openstack overcloud ceph deploy'\n\nAdd --single-host-defaults parameter to 'openstack overcloud\nceph deploy' command which calls cephadm bootstrap with the\nsame option.\n\nThe --single-host-defaults parameter adjust configuration\ndefaults to suit a single-host Ceph cluster.\n\nCloses-Bug: 1958884\nDepends-On: I0bf31c945756b29130b1418ef71b8435e2b4f192\nChange-Id: I2d8a4b5245a1f5b7e9843e7770c3526627a02144\n""}]",0,826151,196cba03c17e6609759bad2b61306eaeff2ae33b,14,6,2,18002,,,0,"Add --single-host-defaults to 'openstack overcloud ceph deploy'

Add --single-host-defaults parameter to 'openstack overcloud
ceph deploy' command which calls cephadm bootstrap with the
same option.

The --single-host-defaults parameter adjust configuration
defaults to suit a single-host Ceph cluster.

Closes-Bug: 1958884
Depends-On: I0bf31c945756b29130b1418ef71b8435e2b4f192
Change-Id: I2d8a4b5245a1f5b7e9843e7770c3526627a02144
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/51/826151/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/overcloud_ceph.py'],1,0e01521d8ef364764342df5319ed6e06a483b1f5,bug/1958884," parser.add_argument('--single-host-defaults', default=False, action='store_true', help=_(""Adjust configuration defaults to suit "" ""a single-host Ceph cluster."")) if parsed_args.single_host_defaults: extra_vars[""tripleo_cephadm_single_host_defaults""] = True ",,7,0
openstack%2Fos-net-config~stable%2Ftrain~Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,openstack/os-net-config,stable/train,Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,"For linux bond over VFs, disable spoofcheck by default",MERGED,2022-02-02 06:34:21.000000000,2022-02-03 17:04:02.000000000,2022-02-03 17:01:00.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 06:34:21.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/173ef73870df0f5214c093e57adef92aeb44d16d', 'message': 'For linux bond over VFs, disable spoofcheck by default\n\nIn case of linux bonds using NIC Partitioning, the spoofcheck shall\nbe disabled for it to work well with mellanox cards as well as\nintel cards.\n\nChange-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51\n(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)\n'}]",0,827396,173ef73870df0f5214c093e57adef92aeb44d16d,8,3,1,18904,,,0,"For linux bond over VFs, disable spoofcheck by default

In case of linux bonds using NIC Partitioning, the spoofcheck shall
be disabled for it to work well with mellanox cards as well as
intel cards.

Change-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51
(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/96/827396/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,173ef73870df0f5214c093e57adef92aeb44d16d,," # For linux_bond, the default value is false spoofcheck: false spoofcheck: false"," # For linux_bond, the default value is true spoofcheck: true spoofcheck: true",9,9
openstack%2Ftripleo-ci~master~I69b54390dd1c1463d52f872842fe7a64d4e7684f,openstack/tripleo-ci,master,I69b54390dd1c1463d52f872842fe7a64d4e7684f,We actually don't need the whole libvirt,MERGED,2022-01-21 09:12:57.000000000,2022-02-03 17:01:03.000000000,2022-02-03 17:01:03.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-21 09:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f408dbb14c973468c90e7f17b204e64e83483fc8', 'message': ""We actually don't need libvirt for virt-customize\n\nWhile it may take a bit longer, we're not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n""}, {'number': 2, 'created': '2022-01-21 10:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/57f44dfba69b09bcb6276aadc31088ca3b728e54', 'message': 'We actually don\'t need libvirt for virt-customize\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can also remove ""some"" packages, since we only need virt-customize\nbinary. This one comes from the guestfs-tools package.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 3, 'created': '2022-01-21 10:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0104989f7285c8da9b3ae100d3fb4ea5647871ed', 'message': 'We actually don\'t need libvirt for virt-customize\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can also remove ""some"" packages, since we only need virt-customize\nbinary. This one comes from the guestfs-tools package.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 4, 'created': '2022-01-21 11:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28827b66de3e720dd18a302536e218bf55095cc1', 'message': 'We actually don\'t need libvirt for virt-customize\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can also remove ""some"" packages, since we only need virt-customize\nbinary. This one comes from the guestfs-tools package.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 5, 'created': '2022-01-21 12:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/303a4c72db6fbfd01c6b1d6ad22df0d4d63d3cc7', 'message': 'We actually don\'t need libvirt for virt-customize\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can also remove ""some"" packages, since we only need virt-customize\nbinary. This one comes from the guestfs-tools package.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 6, 'created': '2022-01-24 06:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fd64a19a70c5c36cce32071d64ae0735cfa9e4ed', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can also remove ""some"" packages, since we only need virt-customize\nas well as virt-copy-out binaries.\nThose come from libguestfs-tools and libguestfs-tools-c.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 7, 'created': '2022-01-26 12:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/298687fea692e18f1e45fde62afd54ba789f60c6', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can also remove ""some"" packages, since we only need virt-customize\nas well as virt-copy-out binaries.\nThose come from libguestfs-tools and libguestfs-tools-c.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 8, 'created': '2022-01-26 14:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9c3bd9a8791676bf1a2535c465cb68d12dbd9961', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can therefore remove ""some"" packages and keep only the guestfs\nrelated ones.\n\nAlso note that, using the LIBGUESTFS_BACKEND=direct env var, we\'re\nalready bypassing the libvirt daemon anyway.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 9, 'created': '2022-01-27 06:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/496f603d91fae0ad7dfeb5f2b6072ebd2e4b3b71', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can therefore remove ""some"" packages and keep only the guestfs\nrelated ones.\n\nAlso note that, using the LIBGUESTFS_BACKEND=direct env var, we\'re\nalready bypassing the libvirt daemon anyway.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 10, 'created': '2022-01-27 10:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db204456520f7fa3917ee0a807970e3b10b4a1ea', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can therefore remove ""some"" packages and keep only the guestfs\nrelated ones.\n\nAlso note that, using the LIBGUESTFS_BACKEND=direct env var, we\'re\nalready bypassing the libvirt daemon anyway.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 11, 'created': '2022-02-01 07:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a88c0ee68dc0c20acdec5d5dafb4c842c7068bda', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can therefore remove ""some"" packages and keep only the guestfs\nrelated ones.\n\nAlso note that, using the LIBGUESTFS_BACKEND=direct env var, we\'re\nalready bypassing the libvirt daemon anyway.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}, {'number': 12, 'created': '2022-02-01 07:09:57.000000000', 'files': ['roles/oooci-build-images/tasks/image_sanity.yaml', 'roles/oooci-build-images/tasks/remove_redfish.yaml', 'roles/oooci-build-images/tasks/guestfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6cd8303618ff546299d9316c5743f54b5cbbad8e', 'message': 'We actually don\'t need the whole libvirt\n\nWhile it may take a bit longer, we\'re not depending on libvirtd daemon.\nThis means we can run the whole build from within a container, and avoid\na useless service activation.\n\nWe can therefore remove ""some"" packages and keep only the guestfs\nrelated ones.\n\nAlso note that, using the LIBGUESTFS_BACKEND=direct env var, we\'re\nalready bypassing the libvirt daemon anyway.\n\nChange-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f\n'}]",22,825728,6cd8303618ff546299d9316c5743f54b5cbbad8e,53,12,12,28223,,,0,"We actually don't need the whole libvirt

While it may take a bit longer, we're not depending on libvirtd daemon.
This means we can run the whole build from within a container, and avoid
a useless service activation.

We can therefore remove ""some"" packages and keep only the guestfs
related ones.

Also note that, using the LIBGUESTFS_BACKEND=direct env var, we're
already bypassing the libvirt daemon anyway.

Change-Id: I69b54390dd1c1463d52f872842fe7a64d4e7684f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/825728/12 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/remove_redfish.yaml'],1,f408dbb14c973468c90e7f17b204e64e83483fc8,ooci-build-images/no-libvirtd, virt-sysprep -a {{ overcloud_image_customize }} --run-command 'rm -f /usr/lib/modules-load.d/fwupd-redfish.conf',- name: Start libvirtd service service: name: libvirtd state: started enabled: true virt-customize -a {{ overcloud_image_customize }} --run-command 'rm -f /usr/lib/modules-load.d/fwupd-redfish.conf',1,7
openstack%2Fironic~bugfix%2F18.1~Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,openstack/ironic,bugfix/18.1,Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,Remove redfish cache entry upon errors,MERGED,2021-12-06 20:09:12.000000000,2022-02-03 16:55:00.000000000,2022-02-03 16:51:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-06 20:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36cffb20fc1f3abce4e64e7c91665f4584e81cde', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n""}, {'number': 2, 'created': '2021-12-06 21:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3e7deaf48a5315fe10350e8a87b2fcc4e189406', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n""}, {'number': 3, 'created': '2021-12-07 18:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/804f114ee1fba237fb808a356289806d6b912487', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n""}, {'number': 4, 'created': '2022-02-03 14:00:07.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd81020e13a33f392660e1afc38d4e0babf25c94', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n""}]",4,820589,dd81020e13a33f392660e1afc38d4e0babf25c94,34,3,4,11655,,,0,"Remove redfish cache entry upon errors

Some transient errors can ultimately cause the client to need to be
completely restarted due to cached connection data.

Ironic now explicitly removes the cache entry when a sushy
AccessError or python AttributeError is detected originating
from the library. This will now result in the prior cached connection
object to be discarded, and upon the next attempt to interact with
the same node, a new connection will be launched.

This will result in new sessions being created, but in all likelihood
the prior session had already timed out or had been administratively
removed. Sushy's code, as of
https://review.opendev.org/c/openstack/sushy/+/820076
will raise SessionService lookup access errors as AccessErrors.
Prior to that change, they should have been raised as AttributeError
as the previous call sould have returned None to be used as an object.

*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052
squashed into this change, and necessary backport friendly mock of
AccessError which had changed since this release of ironic.

Change-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e
Story: 2009719
Task: 44107
(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)
(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/820589/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py']",3,36cffb20fc1f3abce4e64e7c91665f4584e81cde,," fake_conn = mock.Mock() mock_sushy.return_value = fake_conn @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_access_error_retry(self, mock_sushy): # Sushy access errors HTTP Errors class fake_response(object): status_code = 401 body = None def json(): return {} fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ sushy.exceptions.AccessError( method='GET', url='http://path/to/url', response=fake_response), fake_system, ]) self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('foo') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_with('foo') self.assertEqual(fake_conn.get_system.call_count, 2) @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_attribute_error(self, mock_sushy): fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ AttributeError, fake_system, ]) # We need to check for AttributeError explicitly as # otherwise we break existing tests if we try to catch # it explicitly. self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('bar') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_once_with('bar') self.assertEqual(fake_conn.get_system.call_count, 2)", fake_conn = mock_sushy.return_value,111,1
openstack%2Fopenstack-ansible~master~Iaa94dd804d9073fd82aa5ebdaada633e9b16a27d,openstack/openstack-ansible,master,Iaa94dd804d9073fd82aa5ebdaada633e9b16a27d,Temporary re-add CentOS 8 jobs,ABANDONED,2022-02-03 13:03:20.000000000,2022-02-03 16:41:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 13:03:20.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/01c59cfbbb52ec4ce501b010a267199629542828', 'message': ""Temporary re-add CentOS 8 jobs\n\nWe add CentOS jobs here to unblock their removal from stable branches\n\nSince we have jobs defined, it won't be a blocker for their removal and\nhopefully will be more handy to track process.\n\nThis patch should be reverted immideatelly and we proceed on\ncentos-8 removal.\n\nChange-Id: Iaa94dd804d9073fd82aa5ebdaada633e9b16a27d\n""}]",0,827658,01c59cfbbb52ec4ce501b010a267199629542828,3,1,1,28619,,,0,"Temporary re-add CentOS 8 jobs

We add CentOS jobs here to unblock their removal from stable branches

Since we have jobs defined, it won't be a blocker for their removal and
hopefully will be more handy to track process.

This patch should be reverted immideatelly and we proceed on
centos-8 removal.

Change-Id: Iaa94dd804d9073fd82aa5ebdaada633e9b16a27d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/827658/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,01c59cfbbb52ec4ce501b010a267199629542828,osa/remove-centos8, # centos 8 - job: name: openstack-ansible-deploy-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-deploy-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_telemetry_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_nspawn-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800,,64,0
openstack%2Fnova~master~Ifa8fd40d84e28b52bf3c165c2f29f561729b81f1,openstack/nova,master,Ifa8fd40d84e28b52bf3c165c2f29f561729b81f1,DNM: Testing change to test_tagged_attachment in tempest,NEW,2022-02-02 19:22:30.000000000,2022-02-03 16:40:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 19:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23292f3131dc109a2e7abfadae2cb712cc03f53b', 'message': 'DNM: Testing change to test_tagged_attachment in tempest\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/827548\nChange-Id: Ifa8fd40d84e28b52bf3c165c2f29f561729b81f1\n'}, {'number': 2, 'created': '2022-02-03 12:27:01.000000000', 'files': ['.zuul.yaml', 'goat'], 'web_link': 'https://opendev.org/openstack/nova/commit/3cbb22add40623ddb8c4818fda0c42fb982ab434', 'message': ""DNM: Testing change to test_tagged_attachment in tempest\n\nWith the waiter still in place on the tempest side of things, try\nswitching back from the q35 machine type, to see if it's the pcie\nhotplugging mess all over again.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/827548\nChange-Id: Ifa8fd40d84e28b52bf3c165c2f29f561729b81f1\n""}]",0,827549,3cbb22add40623ddb8c4818fda0c42fb982ab434,20,1,2,8864,,,0,"DNM: Testing change to test_tagged_attachment in tempest

With the waiter still in place on the tempest side of things, try
switching back from the q35 machine type, to see if it's the pcie
hotplugging mess all over again.

Depends-on: https://review.opendev.org/c/openstack/tempest/+/827548
Change-Id: Ifa8fd40d84e28b52bf3c165c2f29f561729b81f1
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/827549/2 && git format-patch -1 --stdout FETCH_HEAD,['goat'],1,23292f3131dc109a2e7abfadae2cb712cc03f53b,bug/1959682,goat ,,1,0
openstack%2Fneutron~master~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,master,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-01-31 17:18:23.000000000,2022-02-03 16:37:51.000000000,2022-02-03 16:31:10.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 17:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9af1e929f526d81229a447c190fd4be7d5ae2ed3', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 2, 'created': '2022-02-02 17:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e54b1d00c4f71c51c7d438396217f011684715db', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 3, 'created': '2022-02-02 17:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f0d12b1c6057eb949dec59b6c1eef3b271a3bd0', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 4, 'created': '2022-02-02 18:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa0ba1de44b548d12aaeca4b0b81411646c71897', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 5, 'created': '2022-02-03 10:14:27.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fcf42d3d524f03c8f49794bdd3730f654c146a1', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}]",4,827158,9fcf42d3d524f03c8f49794bdd3730f654c146a1,28,3,5,34118,,,0,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/827158/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,9af1e929f526d81229a447c190fd4be7d5ae2ed3,ovn_migration_comprovation,- name: Check if neutron trunk subports need cleanup shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | grep 'spi-\|spt-' register: do_cleanup ignore_errors: True when: do_cleanup.rc == 0,,7,0
openstack%2Fopenstack-ansible-os_panko~stable%2Fussuri~Iae032c759c6100eacedbd63b85aaf20a321ddae4,openstack/openstack-ansible-os_panko,stable/ussuri,Iae032c759c6100eacedbd63b85aaf20a321ddae4,Remove legacy centos-8 CI jobs,MERGED,2022-02-03 10:32:19.000000000,2022-02-03 16:36:06.000000000,2022-02-03 16:25:53.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-03 10:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/30ef0925071be06d5bde9f355745c51ce23a9c34', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: Iae032c759c6100eacedbd63b85aaf20a321ddae4\n'}, {'number': 2, 'created': '2022-02-03 11:15:35.000000000', 'files': ['tests/ansible-role-requirements.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/6bb320d39d7259c22e69cebcd218f71e98cc7192', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: Iae032c759c6100eacedbd63b85aaf20a321ddae4\n'}]",0,827622,6bb320d39d7259c22e69cebcd218f71e98cc7192,10,3,2,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: Iae032c759c6100eacedbd63b85aaf20a321ddae4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/22/827622/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,30ef0925071be06d5bde9f355745c51ce23a9c34,osa/remove-centos8,, - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false,0,8
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I5689adecd98927f800a9d196ff6e51b991d628ff,openstack/puppet-openstack-integration,stable/wallaby,I5689adecd98927f800a9d196ff6e51b991d628ff,Ceph: Use centos-8-stream instead of centos-8,ABANDONED,2022-02-03 10:42:58.000000000,2022-02-03 16:22:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 10:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1d4aabe7bd92aac25509552524db7b28d7ea4f02', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\n(To wallaby)\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nBecause Octopus is not currently available, this reverts the following\ncommit to switch to Nautilus. ROD has been using Nautilus for their\nWallaby release and it\'s known to work.\n\na13001fc36b9db0ee00d58eac8b0b07bae0f84a8.\n""Switch to Ceph Octopus from Nautilus""\n\nAlso, Nautilus is not available in ceph mirror so we\'ll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n\nChange-Id: I5689adecd98927f800a9d196ff6e51b991d628ff\n'}, {'number': 2, 'created': '2022-02-03 11:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8db7e7b3088fcee52e9be72e5cc0cafd143db8b4', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\n(To wallaby)\nConflicts:\n\tconfigure_facts.sh\n\nBackport notes:\n- Because Octopus is not currently available, this reverts the commit\n  below to switch to Nautilus. ROD has been using Nautilus for their\n  Wallaby release and it\'s known to work.\n\n    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.\n    ""Switch to Ceph Octopus from Nautilus""\n\n  Also, Nautilus is not available in ceph mirror so we\'ll switch to\n  the mirror repo currently RDO is hosting.\n\n- Fixed puppet-openstack_extras parameter to enforce usage of\n  stream repo. Default was changed during Xena cycle by [1] but that\n  is not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n\nChange-Id: I5689adecd98927f800a9d196ff6e51b991d628ff\n'}, {'number': 3, 'created': '2022-02-03 14:18:04.000000000', 'files': ['run_tests.sh', 'functions', 'manifests/repos.pp', 'zuul.d/litmus.yaml', 'configure_facts.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/729614a63b9a677305b96ed837319245298410ee', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nIn addition, because Octopus is not currently available, this reverts\nthe following commit to switch to Nautilus. ROD has been using Nautilus\nfor their Wallaby release and it\'s known to work.\n\n    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.\n    ""Switch to Ceph Octopus from Nautilus""\n\nFinally, Nautilus is not available in ceph mirror so we\'ll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n\nChange-Id: I5689adecd98927f800a9d196ff6e51b991d628ff\n'}]",0,827623,729614a63b9a677305b96ed837319245298410ee,6,1,3,9816,,,0,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

In addition, because Octopus is not currently available, this reverts
the following commit to switch to Nautilus. ROD has been using Nautilus
for their Wallaby release and it's known to work.

    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.
    ""Switch to Ceph Octopus from Nautilus""

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)

Change-Id: I5689adecd98927f800a9d196ff6e51b991d628ff
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/23/827623/3 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'functions', 'manifests/repos.pp', 'zuul.d/litmus.yaml', 'configure_facts.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml']",7,1d4aabe7bd92aac25509552524db7b28d7ea4f02,, ceph: nautilus ceph: nautilus, ceph: octopus ceph: octopus,20,13
openstack%2Fbifrost~master~I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,openstack/bifrost,master,I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655,Install libvirt-python from source instead of a wheel,MERGED,2021-07-09 12:16:49.000000000,2022-02-03 16:21:56.000000000,2021-07-09 19:25:33.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-07-09 12:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ad02bf22b37359954e75dd38613aee78ce2df973', 'message': 'Install libvirt-python from source instead of a wheel\n\nApparently the binary installation no longer works.\n\nChange-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655\n'}, {'number': 2, 'created': '2021-07-09 12:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/88ea54d5af4d45871316e2436e2ad864b2d835fd', 'message': 'Install libvirt-python from source instead of a wheel\n\nApparently the binary installation no longer works.\n\nChange-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655\n'}, {'number': 3, 'created': '2021-07-09 13:49:50.000000000', 'files': ['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/79c8418ead5ead97494497b998aa6c03e27b87bf', 'message': 'Install libvirt-python from source instead of a wheel\n\nApparently the binary installation no longer works.\n\nChange-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655\n'}]",0,800214,79c8418ead5ead97494497b998aa6c03e27b87bf,12,4,3,10239,,,0,"Install libvirt-python from source instead of a wheel

Apparently the binary installation no longer works.

Change-Id: I4ab7cf8432ccce0c3286b7ac696acfb3d4e64655
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/14/800214/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'],1,ad02bf22b37359954e75dd38613aee78ce2df973,gate,"- name: install libvirt-python include_role: name: bifrost-pip-install vars: package: libvirt-python # FIXME(dtantsur): libvirt-python 7.5.0 cannot be used when installed from # a wheel, force a source installation extra_args: --no-binary ", - libvirt-python,9,1
openstack%2Fpuppet-octavia~master~I4ab78052d276dfb3c52cd13586065037e9b4a38f,openstack/puppet-octavia,master,I4ab78052d276dfb3c52cd13586065037e9b4a38f,Allow wsgi script to be configurable,MERGED,2022-02-03 02:34:17.000000000,2022-02-03 16:11:46.000000000,2022-02-03 16:09:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 02:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ed2e4244182ae5f6728c9f4d5b6fa9f2c6490ce8', 'message': 'Allow wsgi script to be configurable\n\nThis is intended to be analogous to 1c7c146c917c5dbf51db378f8392cc328fe4632b and fa753eafe840ad1582e48442a975629e8694a058 for puppet-aodh.\n\nChange-Id: I4ab78052d276dfb3c52cd13586065037e9b4a38f\n'}, {'number': 2, 'created': '2022-02-03 03:24:18.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/octavia_wsgi_apache_spec.rb', 'releasenotes/notes/add-wsgi-script-args-1129563527a3e618.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/be9130696f6c16b6dd44ae75c5edeb5c29f87cb1', 'message': 'Allow wsgi script to be configurable\n\nThis is intended to be analogous to 1c7c146c917c5dbf51db378f8392cc328fe4632b and fa753eafe840ad1582e48442a975629e8694a058 for puppet-aodh.\n\nChange-Id: I4ab78052d276dfb3c52cd13586065037e9b4a38f\n'}]",4,827582,be9130696f6c16b6dd44ae75c5edeb5c29f87cb1,13,3,2,34532,,,0,"Allow wsgi script to be configurable

This is intended to be analogous to 1c7c146c917c5dbf51db378f8392cc328fe4632b and fa753eafe840ad1582e48442a975629e8694a058 for puppet-aodh.

Change-Id: I4ab78052d276dfb3c52cd13586065037e9b4a38f
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/82/827582/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/octavia_wsgi_apache_spec.rb', 'releasenotes/notes/add-wsgi-script-args-1129563527a3e618.yaml']",3,ed2e4244182ae5f6728c9f4d5b6fa9f2c6490ce8,wsgi_config,--- features: - | It is now possible to specify `octavia::wsgi::apache::wsgi_script_dir` and `octavia::wsgi::apache::wsgi_script_source` to override operating system defaults. ,,23,4
openstack%2Ftripleo-validations~stable%2Fussuri~I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0,openstack/tripleo-validations,stable/ussuri,I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0,Make sure fact is available to find hostname,ABANDONED,2022-02-03 15:39:03.000000000,2022-02-03 16:09:37.000000000,,[],"[{'number': 1, 'created': '2022-02-03 15:39:03.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/754c9bfd5650d35e8017a251a5ad0fec892aeb58', 'message': 'Make sure fact is available to find hostname\n\nThis is related to the fix for BZ# 1988392.  In the fix in\nhttps://review.opendev.org/803147, we changed ansible_hostname to\nuse an ansible fact without making sure the fact was available.\n\nChange-Id: I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0\n(cherry picked from commit 995bf8c4760b4dc0ffa5d2f536c5e218d02bc058)\n'}]",0,827698,754c9bfd5650d35e8017a251a5ad0fec892aeb58,2,0,1,32926,,,0,"Make sure fact is available to find hostname

This is related to the fix for BZ# 1988392.  In the fix in
https://review.opendev.org/803147, we changed ansible_hostname to
use an ansible fact without making sure the fact was available.

Change-Id: I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0
(cherry picked from commit 995bf8c4760b4dc0ffa5d2f536c5e218d02bc058)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/827698/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/tasks/common.yaml'],1,754c9bfd5650d35e8017a251a5ad0fec892aeb58,,- name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - network ,,8,0
openstack%2Fcinder~master~Iee511febfbf7323ca77b8915aa547e5abac69cbd,openstack/cinder,master,Iee511febfbf7323ca77b8915aa547e5abac69cbd,Imported Translations from Zanata,MERGED,2022-02-03 02:15:45.000000000,2022-02-03 16:05:27.000000000,2022-02-03 15:53:09.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 02:15:45.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae5fd170f0a51306cc9ba44ba9d5fe4169fed239', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iee511febfbf7323ca77b8915aa547e5abac69cbd\n'}]",0,827581,ae5fd170f0a51306cc9ba44ba9d5fe4169fed239,28,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iee511febfbf7323ca77b8915aa547e5abac69cbd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/827581/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po']",2,ae5fd170f0a51306cc9ba44ba9d5fe4169fed239,zanata/translations,"""POT-Creation-Date: 2022-02-02 04:20+0000\n""#, python-format msgid ""Method %(method)s is not defined"" msgstr ""方法 %(method)s 未被定义"" ","""POT-Creation-Date: 2021-09-20 18:50+0000\n""",10,2
openstack%2Fpython-aodhclient~stable%2Fxena~I4711617f481c3a5c4462b5efa3fed1a8fb8b0f68,openstack/python-aodhclient,stable/xena,I4711617f481c3a5c4462b5efa3fed1a8fb8b0f68,Update .gitreview for stable/xena,MERGED,2021-09-17 16:43:28.000000000,2022-02-03 16:04:46.000000000,2022-02-03 16:00:03.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-09-17 16:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/e1a03fe9ddb6b9641f6ca3be5bcfba691838b6f2', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I4711617f481c3a5c4462b5efa3fed1a8fb8b0f68\n'}, {'number': 2, 'created': '2021-12-23 00:33:21.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/312aa61e3deacc9ba5d7f99e709a374ee0818136', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I4711617f481c3a5c4462b5efa3fed1a8fb8b0f68\n'}]",2,809848,312aa61e3deacc9ba5d7f99e709a374ee0818136,13,3,2,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I4711617f481c3a5c4462b5efa3fed1a8fb8b0f68
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/48/809848/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e1a03fe9ddb6b9641f6ca3be5bcfba691838b6f2,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fneutron~master~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,master,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-03 09:45:03.000000000,2022-02-03 16:04:30.000000000,2022-02-03 15:53:05.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 09:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f599d3fac41ce61957faa08f40fb8ef3eca2dbfd', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\nChange-Id: Ida0fc8924f94038962d0548d2c305f88f6e056cd\n\nChange-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79\n""}, {'number': 2, 'created': '2022-02-03 12:47:10.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca8b40403f7e1ab1f383da01b4a18b066fd35b93', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nChange-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79\n""}]",3,827615,ca8b40403f7e1ab1f383da01b4a18b066fd35b93,17,7,2,13861,,,0,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/827615/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",6,f599d3fac41ce61957faa08f40fb8ef3eca2dbfd,neutron-ci-improvements, - ^zuul.d/(?!(project)).*\.yaml - ^zuul.d/(?!(project)).*\.yaml,,16,0
openstack%2Fpython-openstackclient~master~Idc1b99492d609eb699d0a6bef6cd760458a774f6,openstack/python-openstackclient,master,Idc1b99492d609eb699d0a6bef6cd760458a774f6,"Add network update quota ""limit_check"" parameter",MERGED,2021-08-25 15:37:45.000000000,2022-02-03 16:03:57.000000000,2022-02-03 15:53:02.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-25 15:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/82ac06cd05dfe6343fcb3c1e3a75c1d92bc4516e', 'message': '[WIP] Add network quota limit check\n\nNOTE: this patch depends on Neutron changes, still not implemented.\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}, {'number': 2, 'created': '2021-08-27 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1ea2fb934784a6672cb645fd4340c3f61ed8d880', 'message': 'Add network update quota ""limit_check"" parameter\n\nThis new parameter commands the Neutron server to first check the\nresource usage before setting the new quota limit. If the resource\nusage is below the new limit, the Neutron server will raise an\nexception.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}, {'number': 3, 'created': '2021-08-27 15:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/eb55bc2998282f1482b79cd47657545cf2353e0f', 'message': 'Add network update quota ""limit_check"" parameter\n\nThis new parameter commands the Neutron server to first check the\nresource usage before setting the new quota limit. If the resource\nusage is below the new limit, the Neutron server will raise an\nexception.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}, {'number': 4, 'created': '2021-08-27 15:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8c9c1485ceaa7ee28e1641d55a4bac2717531c1c', 'message': 'Add network update quota ""limit_check"" parameter\n\nThis new parameter commands the Neutron server to first check the\nresource usage before setting the new quota limit. If the resource\nusage is below the new limit, the Neutron server will raise an\nexception.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}, {'number': 5, 'created': '2021-11-25 17:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/347211a0e0e754beeec8fc5e80e084145c078b58', 'message': 'Add network update quota ""limit_check"" parameter\n\nThis new parameter commands the Neutron server to first check the\nresource usage before setting the new quota limit. If the resource\nusage is below the new limit, the Neutron server will raise an\nexception.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}, {'number': 6, 'created': '2021-12-02 13:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f2afa283bdaca9f4aa28977c88775bc0af7a70a3', 'message': 'Add network update quota ""limit_check"" parameter\n\nThis new parameter commands the Neutron server to first check the\nresource usage before setting the new quota limit. If the resource\nusage is below the new limit, the Neutron server will raise an\nexception.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}, {'number': 7, 'created': '2021-12-07 17:49:38.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'releasenotes/notes/check-limit-quota-cc7f291dd1b537c1.yaml', 'openstackclient/tests/functional/common/test_quota.py', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bef70397a3e1240cc593b3fb34049f2ff6601e68', 'message': 'Add network update quota ""limit_check"" parameter\n\nThis new parameter commands the Neutron server to first check the\nresource usage before setting the new quota limit. If the resource\nusage is below the new limit, the Neutron server will raise an\nexception.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\n\nPartial-Bug: #1936408\nChange-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6\n'}]",22,806016,bef70397a3e1240cc593b3fb34049f2ff6601e68,43,6,7,16688,,,0,"Add network update quota ""limit_check"" parameter

This new parameter commands the Neutron server to first check the
resource usage before setting the new quota limit. If the resource
usage is below the new limit, the Neutron server will raise an
exception.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/806254
Depends-On: https://review.opendev.org/c/openstack/neutron/+/801470

Partial-Bug: #1936408
Change-Id: Idc1b99492d609eb699d0a6bef6cd760458a774f6
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/16/806016/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/common/test_quota.py', 'openstackclient/common/quota.py']",2,82ac06cd05dfe6343fcb3c1e3a75c1d92bc4516e,bug/1936408," parser.add_argument( '--check-limit', action='store_true', help=_('Check quota limit when updating (only supported by ' 'network)') ) if parsed_args.check_limit: network_kwargs['check-limit'] = True ",,31,0
openstack%2Fkolla-ansible~master~Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,openstack/kolla-ansible,master,Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,Deploy Zun with Cinder Ceph support,MERGED,2022-01-14 15:02:03.000000000,2022-02-03 16:00:10.000000000,2022-02-03 15:49:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28295}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-14 15:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86b9cbdc82122c5f154be4f10a5d0da75fbbae6e', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use external\nceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in zun_compute\ncontainer.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 2, 'created': '2022-01-14 15:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40ff9674b535022d6b7426bda0ecf4f58c0249de', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 3, 'created': '2022-01-14 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed2aaf9a1597a4da53856a47a25b9c36ede59181', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 4, 'created': '2022-01-14 15:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73de8dc6fb78db146e390807d09ab6ea27c7b87d', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 5, 'created': '2022-01-14 15:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccf60f4e3dad8cd68f67789f5f110a90acf5e6d3', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 6, 'created': '2022-01-14 16:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/990189798e956e1be9a8317badd56dcfd7d1de89', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 7, 'created': '2022-01-14 16:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26da43d77b0fd182059cf2cdeec263d7e37b0a9c', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 8, 'created': '2022-01-15 13:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0c801d161713b38962558b93be3aa72c66ff883', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 9, 'created': '2022-01-15 14:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/250e29669008aa31ef38e9f9245ee3bed7ea9a1e', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 10, 'created': '2022-01-19 02:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f161fc7227341348e1f18aa91053cc136c810a4c', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 11, 'created': '2022-01-19 02:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b24e97df418822936df022bfeba83f1670e6f80', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 12, 'created': '2022-01-19 03:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a62037dea819a30d6fd574daef4cf31bb1e41309', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 13, 'created': '2022-01-20 19:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9056634d6d8f3f466ae8f8d5d4bc3d36676ac685', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 14, 'created': '2022-01-20 19:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2077868baab9bc47624e1e57e3d6a83ca4e245a0', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 15, 'created': '2022-01-20 19:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58a15f4146faced682af0aec1b862ae1576e98ac', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 16, 'created': '2022-01-21 10:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/179634287088805dd3eb1ac738c150fbb4e8c31d', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 17, 'created': '2022-01-22 19:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2a344b0e381a82ca546047fd42ac8238bb6c7c9', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 18, 'created': '2022-01-22 19:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd05b56f8d174b6159eb48421ccfefbf3d4b8fd8', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 19, 'created': '2022-01-22 20:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c52f65e463bf5ab96a9dd49b7d1fb22b48ab2d9c', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 20, 'created': '2022-01-24 14:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b955603f982238a7216cd227d841e49772ba6b3', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 21, 'created': '2022-01-24 15:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e013ea2b10205248c0feb0f058b4fcddeb43d514', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 22, 'created': '2022-01-24 20:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebbccfe9f23ebbff2647ce3484d0022be32db2a5', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 23, 'created': '2022-01-25 19:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ae9f3427cb85a59b5fc4559fc7077725dd36773', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 24, 'created': '2022-01-26 16:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bba5b9d2054db571b994f674a1e7344de49fbf3f', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 25, 'created': '2022-01-28 05:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/509d4a780e386e89031b45094f7215457f820ee0', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 26, 'created': '2022-01-28 05:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99a525754a150ee61b4c01fcfbe4d3a9be90fef2', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 27, 'created': '2022-01-28 05:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b64e912c09f18563b0ad7ef9f17b21ef6f0c9e3', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 28, 'created': '2022-01-31 00:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76d8c6e5038b356611a34d4503c48b554c474518', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 29, 'created': '2022-01-31 14:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0946d9302a3c753ccf7730e59b04d19e8b3c4c1', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 30, 'created': '2022-01-31 15:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32ce140f77313ad5782bcebab44d22805775142a', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 31, 'created': '2022-02-01 14:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d22f1d063020d71d52c4b018564d4ff083ec544', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}, {'number': 32, 'created': '2022-02-02 19:15:51.000000000', 'files': ['releasenotes/notes/bug-1848934-878a08b490856a53.yaml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/baremetal/tasks/configure-ceph-for-zun.yml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/bootstrap-servers.yml', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb7e0f6fdac86ea9501b98e6e71554b024bffe96', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n'}]",60,824722,eb7e0f6fdac86ea9501b98e6e71554b024bffe96,118,4,32,28295,,,0,"Deploy Zun with Cinder Ceph support

Enables zun to access cinder volumes when cinder is configured to use
external ceph.
Copies ceph config file and ceph cinder keyring to /etc/ceph in
zun_compute container.

Closes-Bug: 1848934
Change-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/824722/30 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/bug-1848934-878a08b490856a53.yaml', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/zun/tasks/config.yml']",5,86b9cbdc82122c5f154be4f10a5d0da75fbbae6e,,- include_tasks: external_ceph.yml when: - cinder_backend_ceph | bool - inventory_hostname in groups['zun-compute'] ,,81,0
openstack%2Fcharm-manila-generic~master~I05dbf9cbfd3132b1970ca9cd9de111d6879f1582,openstack/charm-manila-generic,master,I05dbf9cbfd3132b1970ca9cd9de111d6879f1582,Update to build using charmcraft,MERGED,2022-02-01 20:29:37.000000000,2022-02-03 16:00:05.000000000,2022-02-03 16:00:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:29:37.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/c7aa6e1aeb51b1ec50eb1afad43ac8c721c6d7a9', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I05dbf9cbfd3132b1970ca9cd9de111d6879f1582\n'}]",1,827361,c7aa6e1aeb51b1ec50eb1afad43ac8c721c6d7a9,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I05dbf9cbfd3132b1970ca9cd9de111d6879f1582
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/61/827361/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",9,c7aa6e1aeb51b1ec50eb1afad43ac8c721c6d7a9,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,76,5
openstack%2Fcharm-keystone-saml-mellon~master~Id14cd0d06f6c98c02d1cffb30c2cd4fe73ed5691,openstack/charm-keystone-saml-mellon,master,Id14cd0d06f6c98c02d1cffb30c2cd4fe73ed5691,Update to build using charmcraft,MERGED,2022-02-01 20:14:04.000000000,2022-02-03 15:49:32.000000000,2022-02-03 15:49:32.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:14:04.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/1399f22e66e88080bc01d509ead68ea9a9e67643', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Id14cd0d06f6c98c02d1cffb30c2cd4fe73ed5691\n'}]",1,827351,1399f22e66e88080bc01d509ead68ea9a9e67643,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Id14cd0d06f6c98c02d1cffb30c2cd4fe73ed5691
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/51/827351/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,1399f22e66e88080bc01d509ead68ea9a9e67643,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,92,17
openstack%2Fcharm-magpie~master~I9b6e0b2caaa443027275ff691280b1d6550d762a,openstack/charm-magpie,master,I9b6e0b2caaa443027275ff691280b1d6550d762a,Update to build using charmcraft,MERGED,2022-02-01 20:16:36.000000000,2022-02-03 15:46:58.000000000,2022-02-03 15:46:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:16:36.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'rename.sh', 'src/tests/bundles/bionic.yaml', 'charmcraft.yaml', 'src/tests/bundles/jammy.yaml', 'tox.ini', 'src/tests/bundles/impish.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/8a437a7227c38389699df72da78ea55cf02cdd5a', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I9b6e0b2caaa443027275ff691280b1d6550d762a\n'}]",1,827352,8a437a7227c38389699df72da78ea55cf02cdd5a,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I9b6e0b2caaa443027275ff691280b1d6550d762a
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/52/827352/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'rename.sh', 'src/tests/bundles/bionic.yaml', 'charmcraft.yaml', 'src/tests/bundles/jammy.yaml', 'tox.ini', 'src/tests/bundles/impish.yaml']",12,8a437a7227c38389699df72da78ea55cf02cdd5a,charmhub-migration-master,local_overlay_enabled: False charm: ../../../magpie.charm, charm: magpie,75,12
openstack%2Fnova~master~I37c587575c32f23636b3f7e61ae9b18230b0244c,openstack/nova,master,I37c587575c32f23636b3f7e61ae9b18230b0244c,conf: add [libvirt]/no_compression_image_types = qcow2,NEW,2021-11-15 17:58:55.000000000,2022-02-03 15:44:57.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-15 17:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82c2f30864457c23b90d1e51f9bc397e5904a63c', 'message': 'conf: add [libvirt]/no_compression_image_types = qcow2\n\nThis value was previously hardcoded to disable compression for qcow2.\nIn real world scenario, compressing raw images during migration makes it\nCPU-bound (single core) instead of network-bound, slowing it down.\n\nOperators may prefer to disable compression for raw images.\n\nChange-Id: I37c587575c32f23636b3f7e61ae9b18230b0244c\n'}, {'number': 2, 'created': '2021-11-15 21:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3ff7f80da663e350d46eed8ad9c402c7d0e1589', 'message': 'conf: add [libvirt]/no_compression_image_types = qcow2\n\nThis value was previously hardcoded to disable compression for qcow2.\nIn real world scenario, compressing raw images during migration makes it\nCPU-bound (single core) instead of network-bound, slowing it down.\n\nOperators may prefer to disable compression for raw images.\n\nChange-Id: I37c587575c32f23636b3f7e61ae9b18230b0244c\nblueprint: configurable-no-compression-image-types\n'}, {'number': 3, 'created': '2021-11-15 21:25:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-add-no_compression_image_types-5f04b87dc9eb67e0.yaml', 'nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3660d3d0652f31196b69d66e1e7253b53ae9b0ca', 'message': 'conf: add [libvirt]/no_compression_image_types = qcow2\n\nThis value was previously hardcoded to disable compression for qcow2.\nIn real world scenario, compressing raw images during migration makes it\nCPU-bound (single core) instead of network-bound, slowing it down.\n\nOperators may prefer to disable compression for raw images.\n\nChange-Id: I37c587575c32f23636b3f7e61ae9b18230b0244c\nblueprint: configurable-no-compression-image-types\n'}]",7,817995,3660d3d0652f31196b69d66e1e7253b53ae9b0ca,20,3,3,10338,,,0,"conf: add [libvirt]/no_compression_image_types = qcow2

This value was previously hardcoded to disable compression for qcow2.
In real world scenario, compressing raw images during migration makes it
CPU-bound (single core) instead of network-bound, slowing it down.

Operators may prefer to disable compression for raw images.

Change-Id: I37c587575c32f23636b3f7e61ae9b18230b0244c
blueprint: configurable-no-compression-image-types
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/817995/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-add-no_compression_image_types-5f04b87dc9eb67e0.yaml', 'nova/conf/libvirt.py']",3,82c2f30864457c23b90d1e51f9bc397e5904a63c,config-no_compression_image_types," cfg.ListOpt( 'no_compression_image_types', item_type=types.String( ignore_case=True, ), default=['qcow2'], help="""""" Names of the images types that do not get compressed during migration. This applies to the copying of instance images during cold migration and impacts whether a compression flag is requested from remote filesystem driver. Adding more image types (such as ``raw``) is useful when image migration over the network is CPU-bound instead of network-bound or when the images do not compress well. Keep in mind that available ``remote_filesystem_transport`` drivers usually offer only single-threaded compression, often becoming a bottleneck on fast networks. Related options: * ``remote_filesystem_transport`` """"""),",,35,4
openstack%2Fmagnum~master~I383bdd9e5362a252746dbe185037a888db6dc85a,openstack/magnum,master,I383bdd9e5362a252746dbe185037a888db6dc85a,Update flannel version to 0.15.1,MERGED,2022-01-05 13:29:04.000000000,2022-02-03 15:42:07.000000000,2022-02-03 15:38:45.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-01-05 13:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/974495607976013293c70a6160801363959a9752', 'message': 'Update falnnel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 2, 'created': '2022-01-05 13:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cdb343da01dfe305801d5096e7beddda4a823c65', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 3, 'created': '2022-01-05 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/934eee8c632908647d3992701e438a5ba53403b1', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 4, 'created': '2022-01-05 14:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7b20eba1b88670ecaada02be1f2cd5bdac62f16a', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 5, 'created': '2022-01-18 15:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c4538ada933ad4bc45298765fb7b8e762e3f98a2', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 6, 'created': '2022-01-20 16:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0a4390db1c83b79359a0dff0139bb9c18e84b10c', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 7, 'created': '2022-01-20 19:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fd78adfe2b1c584a59c148200fccd514d0ef8454', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 8, 'created': '2022-01-21 09:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/daa6012ba8526ca44a33d69c2d3a7d25e8c78038', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 9, 'created': '2022-01-21 09:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/37ca081160cca9f3ae16dc5198ff38a53f1c3e1d', 'message': 'Update flannel version to 0.15.1\n\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 10, 'created': '2022-02-03 14:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ae7d44f82b578e28a865947ec2f31505369bf4ab', 'message': 'Update flannel version to 0.15.1\n\nstory: 2007256\ntask: 44417\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}, {'number': 11, 'created': '2022-02-03 14:06:06.000000000', 'files': ['releasenotes/notes/update-flannel-version.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b67ea3d1d8adba2a73881fad64d4dbffd30a9dc6', 'message': 'Update flannel version to 0.15.1\n\nstory: 2007256\ntask: 44417\nChange-Id: I383bdd9e5362a252746dbe185037a888db6dc85a\n'}]",2,823530,b67ea3d1d8adba2a73881fad64d4dbffd30a9dc6,24,3,11,34213,,,0,"Update flannel version to 0.15.1

story: 2007256
task: 44417
Change-Id: I383bdd9e5362a252746dbe185037a888db6dc85a
",git fetch https://review.opendev.org/openstack/magnum refs/changes/30/823530/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'],1,974495607976013293c70a6160801363959a9752,flannel_upgrade, default: v0.15.1, default: v0.12.0-amd64,1,1
openstack%2Fironic~master~I8f9a89d18d22d18a2e695fde894bcd27f18f8954,openstack/ironic,master,I8f9a89d18d22d18a2e695fde894bcd27f18f8954,Fix redfish RAID failed tasks,MERGED,2022-01-04 09:45:51.000000000,2022-02-03 15:37:40.000000000,2022-02-03 15:34:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-04 09:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0353967216a03cf8a06bf22fc53474d96d3d2b78', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n'}, {'number': 2, 'created': '2022-01-05 09:49:51.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/196d8f7fc055667af501ea0569ba5c501a2c6e8d', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n'}]",7,823347,196d8f7fc055667af501ea0569ba5c501a2c6e8d,18,5,2,27909,,,0,"Fix redfish RAID failed tasks

Redfish Tasks do not report failures via HTTP status codes. Instead
have to check TaskState and TaskStatus.

Story: 2009767
Task: 44244

Change-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/823347/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml']",3,0353967216a03cf8a06bf22fc53474d96d3d2b78,redfish-raid,--- fixes: - | Fixes determining failed tasks in hardware type ``redfish`` RAID interface clean and deploy steps. Prior to this fix the tasks that have failed were reported as successful. ,,124,39
openstack%2Fcharm-ceilometer~master~If6ecb9a650054944b89606d4c4117a8aea1af868,openstack/charm-ceilometer,master,If6ecb9a650054944b89606d4c4117a8aea1af868,Migrate charm to charmhub latest/edge track,MERGED,2022-01-25 18:45:21.000000000,2022-02-03 15:37:23.000000000,2022-02-03 15:37:23.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-25 18:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b73d113d15daaf60553f082813c1d4e09670aade', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: If6ecb9a650054944b89606d4c4117a8aea1af868\n'}, {'number': 2, 'created': '2022-01-26 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/493da88bfcfbce77f3c93a77e84f6e1a7786afc3', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: If6ecb9a650054944b89606d4c4117a8aea1af868\n'}, {'number': 3, 'created': '2022-01-26 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/23aad7452b83b7b6e1cb038153009329a27084a6', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: If6ecb9a650054944b89606d4c4117a8aea1af868\n'}, {'number': 4, 'created': '2022-01-27 19:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/dc2da7080cde202358d9c033c7fe8fb410978499', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: If6ecb9a650054944b89606d4c4117a8aea1af868\n'}, {'number': 5, 'created': '2022-01-28 10:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9030a7854f1e12fe362536e1b92f86cea3f52c3e', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: If6ecb9a650054944b89606d4c4117a8aea1af868\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 6, 'created': '2022-01-28 23:23:15.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'config.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'unit_tests/test_ceilometer_hooks.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/074e8085a77bc90f9796da93302631140abf13e2', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: If6ecb9a650054944b89606d4c4117a8aea1af868\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",2,826355,074e8085a77bc90f9796da93302631140abf13e2,26,4,6,20870,,,0,"Migrate charm to charmhub latest/edge track

Change-Id: If6ecb9a650054944b89606d4c4117a8aea1af868
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/55/826355/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'config.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml']",18,b73d113d15daaf60553f082813c1d4e09670aade,charmhub-migration-master, charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge nova-cloud-controller-mysql-router: charm: ch:mysql-router channel: latest/edge placement-mysql-router: charm: ch:mysql-router channel: latest/edge gnocchi-mysql-router: charm: ch:mysql-router channel: latest/edge charm: ch:mysql-innodb-cluster channel: latest/edge charm: ch:rabbitmq-server channel: latest/edge charm: ch:memcached charm: ch:ceph-osd channel: latest/edge charm: ch:ceph-mon channel: latest/edge charm: ch:keystone channel: latest/edge charm: ch:glance channel: latest/edge charm: ch:nova-cloud-controller channel: latest/edge charm: ch:placement channel: latest/edge charm: ch:nova-compute channel: latest/edge charm: ch:gnocchi channel: latest/edge, charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router gnocchi-mysql-router: charm: cs:~openstack-charmers-next/mysql-router charm: cs:~openstack-charmers-next/mysql-innodb-cluster charm: cs:~openstack-charmers-next/rabbitmq-server charm: cs:~memcached-team/memcached charm: cs:~openstack-charmers-next/ceph-osd charm: cs:~openstack-charmers-next/ceph-mon charm: cs:~openstack-charmers-next/keystone charm: cs:~openstack-charmers-next/glance charm: cs:~openstack-charmers-next/nova-cloud-controller charm: cs:~openstack-charmers-next/placement charm: cs:~openstack-charmers-next/nova-compute charm: cs:~openstack-charmers-next/gnocchi,188,1564
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ifc4ef6130affc4b9f5c18ec71b33d2d29a27d110,openstack/ovn-octavia-provider,stable/wallaby,Ifc4ef6130affc4b9f5c18ec71b33d2d29a27d110,Add support for fullypopulated load balancers,ABANDONED,2022-02-03 15:18:59.000000000,2022-02-03 15:27:16.000000000,,[],"[{'number': 1, 'created': '2022-02-03 15:18:59.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b91ceeb2b1a29d0c8ac74a722c3cd542dbe883ad', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\nChange-Id: I07c792c5785f978e7dde238aa3971b87d220a8eb\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nChange-Id: Ifc4ef6130affc4b9f5c18ec71b33d2d29a27d110\n'}]",0,827691,b91ceeb2b1a29d0c8ac74a722c3cd542dbe883ad,2,0,1,34451,,,0,"Add support for fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call. OVN-octavia-provider was not implementing this option
and only the loadbalancer was created, living the listener(s),
pool(s), and member(s) created by the Octavia API as PENDING_CREATE.
This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1958964
Change-Id: I07c792c5785f978e7dde238aa3971b87d220a8eb
(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)

Upstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689
Change-Id: Ifc4ef6130affc4b9f5c18ec71b33d2d29a27d110
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/91/827691/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,b91ceeb2b1a29d0c8ac74a722c3cd542dbe883ad,bug_2042976_stable_wallaby," if not isinstance(loadbalancer.listeners, o_datamodels.UnsetType): for listener in loadbalancer.listeners: self.listener_create(listener) if not isinstance(loadbalancer.pools, o_datamodels.UnsetType): for pool in loadbalancer.pools: self.pool_create(pool) for member in pool.members: if not member.subnet_id: member.subnet_id = loadbalancer.vip_network_id self.member_create(member) ",,87,7
openstack%2Fmagnum~master~I5b5c19e9f025cdf11ad09c01c54c225310c806c8,openstack/magnum,master,I5b5c19e9f025cdf11ad09c01c54c225310c806c8,Fixing filenotfound errors,NEW,2022-02-03 14:37:21.000000000,2022-02-03 15:17:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 14:37:21.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5934ad6bad18897502b28a7fcc3dceccc3ddf461', 'message': 'Fixing filenotfound errors\n\nChange-Id: I5b5c19e9f025cdf11ad09c01c54c225310c806c8\n'}]",0,827677,5934ad6bad18897502b28a7fcc3dceccc3ddf461,2,1,1,34376,,,0,"Fixing filenotfound errors

Change-Id: I5b5c19e9f025cdf11ad09c01c54c225310c806c8
",git fetch https://review.opendev.org/openstack/magnum refs/changes/77/827677/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh']",2,5934ad6bad18897502b28a7fcc3dceccc3ddf461,fix-paths,"ssh_cmd=""ssh -F /srv/magnum/.ssh/config root@localhost"" ${ssh_cmd} systemctl daemon-reload ${ssh_cmd} systemctl enable kube-enable-monitoring.service ${ssh_cmd} systemctl start --no-block kube-enable-monitoring.service", systemctl daemon-reload systemctl enable kube-enable-monitoring.service systemctl start --no-block kube-enable-monitoring.service,7,5
openstack%2Freleases~master~I3308eadb54628e4f9efcd2733c056bac5dd97e95,openstack/releases,master,I3308eadb54628e4f9efcd2733c056bac5dd97e95,Release horizon 20.1.1 (Xena),MERGED,2022-02-03 10:17:42.000000000,2022-02-03 15:14:10.000000000,2022-02-03 15:14:10.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-03 10:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b7cc35227b3bd7cb0cebd8deeb0a45909540637f', 'message': 'Release horizon 20.1.1 (Xena)\n\nThis patch cut a new release of the horizon for stable/xena branch\nso that horizon plugins specifically openstack/senlin-dashboard can\nconsume 27887e3 to fix their doc job.\n\nChange-Id: I3308eadb54628e4f9efcd2733c056bac5dd97e95\n'}, {'number': 2, 'created': '2022-02-03 10:20:34.000000000', 'files': ['deliverables/xena/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/184f97fb86e33d9404bf59ceb080b844382f6c4c', 'message': 'Release horizon 20.1.1 (Xena)\n\nThis patch cut a new release of the horizon for stable/xena branch\nso that horizon plugins specifically openstack/senlin-dashboard can\nconsume 27887e356f to fix their doc job.\n\nChange-Id: I3308eadb54628e4f9efcd2733c056bac5dd97e95\n'}]",1,827619,184f97fb86e33d9404bf59ceb080b844382f6c4c,10,7,2,29313,,,0,"Release horizon 20.1.1 (Xena)

This patch cut a new release of the horizon for stable/xena branch
so that horizon plugins specifically openstack/senlin-dashboard can
consume 27887e356f to fix their doc job.

Change-Id: I3308eadb54628e4f9efcd2733c056bac5dd97e95
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/827619/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/horizon.yaml'],1,b7cc35227b3bd7cb0cebd8deeb0a45909540637f,, - version: 20.1.1 projects: - repo: openstack/horizon hash: 27887e356f4c7a62d20d75b15dc08ac9762a3f0f,,4,0
openstack%2Freleases~master~If861dbbe5c411b31e40598f3abe8ea1657d1cf8c,openstack/releases,master,If861dbbe5c411b31e40598f3abe8ea1657d1cf8c,Release python-troveclient for stable/victoria,MERGED,2022-01-21 15:16:41.000000000,2022-02-03 15:09:41.000000000,2022-02-03 15:09:41.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-21 15:16:41.000000000', 'files': ['deliverables/victoria/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/274994d6815fc1c47b4a1f3330636343d1340ff6', 'message': 'Release python-troveclient for stable/victoria\n\nThis release picks up new commits to python-troveclient since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 5.1.1..41a0555\n41a0555 Do not make extra API call for listing instances\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: If861dbbe5c411b31e40598f3abe8ea1657d1cf8c\n'}]",1,825821,274994d6815fc1c47b4a1f3330636343d1340ff6,10,5,1,17685,,,0,"Release python-troveclient for stable/victoria

This release picks up new commits to python-troveclient since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.1.1..41a0555
41a0555 Do not make extra API call for listing instances

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: If861dbbe5c411b31e40598f3abe8ea1657d1cf8c
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/825821/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-troveclient.yaml'],1,274994d6815fc1c47b4a1f3330636343d1340ff6,victoria-stable, - version: 5.1.2 projects: - repo: openstack/python-troveclient hash: 41a055526987d20ca36d933b29e698f4182a4587,,4,0
openstack%2Freleases~master~I013180c89dad72f52d69c116c6b24ad8a2b44935,openstack/releases,master,I013180c89dad72f52d69c116c6b24ad8a2b44935,Release trove-dashboard for stable/victoria,MERGED,2022-01-21 15:44:21.000000000,2022-02-03 15:07:27.000000000,2022-02-03 15:07:27.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-21 15:44:21.000000000', 'files': ['deliverables/victoria/trove-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c0af247e672ce9f770b57ca04f0b18846d88f8a9', 'message': 'Release trove-dashboard for stable/victoria\n\nThis release picks up new commits to trove-dashboard since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.0..1e9ee5b\n1e9ee5b Fix log actions\ne89a0ab Fix nova client initialization in multi-region cloud\nd99d394 Update TOX_CONSTRAINTS_FILE for stable/victoria\n41650f6 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I013180c89dad72f52d69c116c6b24ad8a2b44935\n'}]",1,825826,c0af247e672ce9f770b57ca04f0b18846d88f8a9,10,5,1,17685,,,0,"Release trove-dashboard for stable/victoria

This release picks up new commits to trove-dashboard since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 15.0.0..1e9ee5b
1e9ee5b Fix log actions
e89a0ab Fix nova client initialization in multi-region cloud
d99d394 Update TOX_CONSTRAINTS_FILE for stable/victoria
41650f6 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I013180c89dad72f52d69c116c6b24ad8a2b44935
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/825826/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/trove-dashboard.yaml'],1,c0af247e672ce9f770b57ca04f0b18846d88f8a9,victoria-stable, - version: 15.0.1 projects: - repo: openstack/trove-dashboard hash: 1e9ee5bc5e5a5a3da563b1b9bb73a374d40944a6,,4,0
openstack%2Fbifrost~master~I2003a9957f9eb71a5d63cd3389ca08b9b27ba925,openstack/bifrost,master,I2003a9957f9eb71a5d63cd3389ca08b9b27ba925,CI: store bifrost.log as a Zuul artifact,MERGED,2022-01-31 09:58:13.000000000,2022-02-03 15:03:39.000000000,2022-02-03 15:01:39.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-31 09:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/950e374fa9c74b7121deb51da6fa159c03b89c9c', 'message': ""CI: store bifrost.log as a Zuul artifact\n\nIt's easier to access it in the Zuul UI this way.\n\nChange-Id: I2003a9957f9eb71a5d63cd3389ca08b9b27ba925\n""}, {'number': 2, 'created': '2022-01-31 10:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9a8e503766ad8418d6bd3b52bed739f615877b8a', 'message': ""CI: store bifrost.log as a Zuul artifact\n\nIt's easier to access it in the Zuul UI this way.\n\nChange-Id: I2003a9957f9eb71a5d63cd3389ca08b9b27ba925\n""}, {'number': 3, 'created': '2022-01-31 11:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7f3ef90b9d3b1c4e41a57a1d8252040386d4d287', 'message': ""CI: store bifrost.log as a Zuul artifact\n\nIt's easier to access it in the Zuul UI this way.\n\nChange-Id: I2003a9957f9eb71a5d63cd3389ca08b9b27ba925\n""}, {'number': 4, 'created': '2022-01-31 12:18:57.000000000', 'files': ['playbooks/ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6a10fcd226b3edbaf8cf7a0db6ef374f844c19ff', 'message': ""CI: store bifrost.log as a Zuul artifact\n\nIt's easier to access it in the Zuul UI this way.\n\nChange-Id: I2003a9957f9eb71a5d63cd3389ca08b9b27ba925\n""}]",1,827009,6a10fcd226b3edbaf8cf7a0db6ef374f844c19ff,12,3,4,10239,,,0,"CI: store bifrost.log as a Zuul artifact

It's easier to access it in the Zuul UI this way.

Change-Id: I2003a9957f9eb71a5d63cd3389ca08b9b27ba925
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/09/827009/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ci/post.yaml'],1,950e374fa9c74b7121deb51da6fa159c03b89c9c,zuul-artifact, - name: Store bifrost log as a Zuul artifact zuul_return: data: zuul: artifacts: - name: Bifrost log url: '{{ zuul.execute.log_root }}/bifrost.log',,8,0
openstack%2Fcharm-magnum-dashboard~master~I140b1f14b154b73344e2bfebbccd93b692c125ca,openstack/charm-magnum-dashboard,master,I140b1f14b154b73344e2bfebbccd93b692c125ca,Update to build using charmcraft,MERGED,2022-02-01 20:21:13.000000000,2022-02-03 14:59:21.000000000,2022-02-03 14:59:21.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:21:13.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/ea998b7d5cd0770c8a4af5cb05233a0f1a900123', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I140b1f14b154b73344e2bfebbccd93b692c125ca\n'}]",1,827354,ea998b7d5cd0770c8a4af5cb05233a0f1a900123,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I140b1f14b154b73344e2bfebbccd93b692c125ca
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/54/827354/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,ea998b7d5cd0770c8a4af5cb05233a0f1a900123,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,77,7
openstack%2Fcharm-gnocchi~master~Ie6e4716482a1043d4936b1343b1050fc88e54403,openstack/charm-gnocchi,master,Ie6e4716482a1043d4936b1343b1050fc88e54403,Update to build using charmcraft,MERGED,2022-02-01 20:01:34.000000000,2022-02-03 14:58:23.000000000,2022-02-03 14:58:23.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:01:34.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-yoga-s3.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/bundles/impish-xena-s3.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-xena-s3.yaml', 'rename.sh', 'src/tests/bundles/jammy-yoga-s3.yaml', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/dbfd1a659735059d6fe0d6d23a7b8656508d9ab0', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ie6e4716482a1043d4936b1343b1050fc88e54403\n'}]",1,827345,dbfd1a659735059d6fe0d6d23a7b8656508d9ab0,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Ie6e4716482a1043d4936b1343b1050fc88e54403
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/45/827345/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-yoga-s3.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/bundles/impish-xena-s3.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-xena-s3.yaml', 'rename.sh', 'src/tests/bundles/jammy-yoga-s3.yaml', 'charmcraft.yaml', 'tox.ini']",16,dbfd1a659735059d6fe0d6d23a7b8656508d9ab0,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,98,15
openstack%2Fcharm-cinder-backup-swift-proxy~master~I7899c4100ebb46b255a699c61d3723441ccf3cfa,openstack/charm-cinder-backup-swift-proxy,master,I7899c4100ebb46b255a699c61d3723441ccf3cfa,Update to build using charmcraft,MERGED,2022-02-01 19:45:03.000000000,2022-02-03 14:54:02.000000000,2022-02-03 14:54:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 19:45:03.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/0262da9c91d6a70380b71d6aa6acdeb16d7461ca', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I7899c4100ebb46b255a699c61d3723441ccf3cfa\n'}]",0,827342,0262da9c91d6a70380b71d6aa6acdeb16d7461ca,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I7899c4100ebb46b255a699c61d3723441ccf3cfa
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/42/827342/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,0262da9c91d6a70380b71d6aa6acdeb16d7461ca,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,83,7
openstack%2Fcharm-keystone-ldap~master~If7fb628e65be3398e7ecb808d564b585fd41fb82,openstack/charm-keystone-ldap,master,If7fb628e65be3398e7ecb808d564b585fd41fb82,Update to build using charmcraft,MERGED,2022-02-01 20:11:23.000000000,2022-02-03 14:53:22.000000000,2022-02-03 14:53:22.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:11:23.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/b688766a5018e01a0ce3e4191c469f386d4677d5', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: If7fb628e65be3398e7ecb808d564b585fd41fb82\n'}]",0,827350,b688766a5018e01a0ce3e4191c469f386d4677d5,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: If7fb628e65be3398e7ecb808d564b585fd41fb82
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/50/827350/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,b688766a5018e01a0ce3e4191c469f386d4677d5,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,83,8
openstack%2Fcharm-keystone-kerberos~master~I591b32bb14c8a8320f32af6d698c8b3b8c0b9810,openstack/charm-keystone-kerberos,master,I591b32bb14c8a8320f32af6d698c8b3b8c0b9810,Update to build using charmcraft,MERGED,2022-02-01 20:08:50.000000000,2022-02-03 14:53:21.000000000,2022-02-03 14:53:21.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:08:50.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/61a9c7546d0c889a74d0d1b7aeea4efd9833148c', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I591b32bb14c8a8320f32af6d698c8b3b8c0b9810\n'}]",0,827349,61a9c7546d0c889a74d0d1b7aeea4efd9833148c,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I591b32bb14c8a8320f32af6d698c8b3b8c0b9810
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/49/827349/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,61a9c7546d0c889a74d0d1b7aeea4efd9833148c,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,79,9
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fxena~I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,openstack/openstack-ansible-openstack_hosts,stable/xena,I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,Add data to disable the advanced-virtualisation repository,MERGED,2022-02-03 09:58:11.000000000,2022-02-03 14:51:39.000000000,2022-02-03 14:42:43.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-03 09:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e728f9b33c54e6a76c73fced32aa2e9028e78590', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}, {'number': 2, 'created': '2022-02-03 10:03:15.000000000', 'files': ['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/3ecdf98aab2a4a4603fdb5732f3cd05676b91702', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}]",1,827633,3ecdf98aab2a4a4603fdb5732f3cd05676b91702,12,3,2,28619,,,0,"Add data to disable the advanced-virtualisation repository

This repo no longer exists as part of the EOL of centos-8.
Disable the repo.

Change-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678
(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/33/827633/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml']",2,e728f9b33c54e6a76c73fced32aa2e9028e78590,osa/remove-centos8," state: ""{{ repo.state | default(omit) }}"" - (item.state|default('present') == 'present')",,5,0
openstack%2Fovn-octavia-provider~master~I07c792c5785f978e7dde238aa3971b87d220a8eb,openstack/ovn-octavia-provider,master,I07c792c5785f978e7dde238aa3971b87d220a8eb,Add support for fullypopulated load balancers,MERGED,2022-01-25 09:19:10.000000000,2022-02-03 14:50:33.000000000,2022-02-03 14:47:29.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}, {'_account_id': 29244}, {'_account_id': 34118}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-01-25 09:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6762a3e7be478bdda223c9e67e7b3a2108d59a14', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\nChange-Id: I07c792c5785f978e7dde238aa3971b87d220a8eb\n'}, {'number': 2, 'created': '2022-01-26 11:43:07.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6cc77f8a22084d610bdc071c8aab36615f0a6a0b', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\nChange-Id: I07c792c5785f978e7dde238aa3971b87d220a8eb\n'}]",4,826257,6cc77f8a22084d610bdc071c8aab36615f0a6a0b,18,9,2,34451,,,0,"Add support for fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call. OVN-octavia-provider was not implementing this option
and only the loadbalancer was created, living the listener(s),
pool(s), and member(s) created by the Octavia API as PENDING_CREATE.
This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1958964
Change-Id: I07c792c5785f978e7dde238aa3971b87d220a8eb
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/57/826257/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,6762a3e7be478bdda223c9e67e7b3a2108d59a14,bug/1958964," if not isinstance(loadbalancer.listeners, o_datamodels.UnsetType): for listener in loadbalancer.listeners: self.listener_create(listener) if not isinstance(loadbalancer.pools, o_datamodels.UnsetType): for pool in loadbalancer.pools: self.pool_create(pool) for member in pool.members: if not member.subnet_id: member.subnet_id = loadbalancer.vip_network_id self.member_create(member) ",,87,7
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Id4e15867b61925fa157c9e81750d8c5f63ad48a5,openstack/ovn-octavia-provider,stable/wallaby,Id4e15867b61925fa157c9e81750d8c5f63ad48a5,Fix race condition retrieving logical router rows,MERGED,2021-09-23 06:56:42.000000000,2022-02-03 14:50:23.000000000,2022-02-03 14:47:27.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2021-09-23 06:56:42.000000000', 'files': ['ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/44db6c64229569a71472255d35b805f0198f68b3', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration).\n\nIn one case we now directly use lookup() as we were\nlooking for a specific logical router.\n\nIn the other two cases we create a new class to do the\noperation in a transaction, making it idempotent, since\nboth need to iterate the returned list.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n(cherry picked from commit fab03e7c6d3f61afab2fb71ef70efa603f393de2)\n'}]",1,810488,44db6c64229569a71472255d35b805f0198f68b3,12,6,1,11082,,,0,"Fix race condition retrieving logical router rows

Using rows.values() via the ovsdbapp API is inherently
racy as if there are multiple threads an add/delete can
interfere, triggering a RuntimeError (dictionary changed
size during iteration).

In one case we now directly use lookup() as we were
looking for a specific logical router.

In the other two cases we create a new class to do the
operation in a transaction, making it idempotent, since
both need to iterate the returned list.

Also changed the IDL notify code to use a frozen row to
similary avoid any possible race condition with there.

Change-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5
Closes-bug: #1936959
(cherry picked from commit fab03e7c6d3f61afab2fb71ef70efa603f393de2)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/88/810488/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,44db6c64229569a71472255d35b805f0198f68b3,bug/1936959-stable/wallaby, self.helper.ovn_nbdb_api.lookup.return_value = self.router (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [lr] (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [lr], (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [self.router] (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [lr] (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [lr],44,15
openstack%2Fcharm-ironic-api~master~I44024c2ab851403199c6cf0349277494e5f42d2e,openstack/charm-ironic-api,master,I44024c2ab851403199c6cf0349277494e5f42d2e,Update to build using charmcraft,MERGED,2022-02-01 20:03:37.000000000,2022-02-03 14:50:10.000000000,2022-02-03 14:50:10.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:03:37.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/88590b8d0f38a16f3ae77ac06d845ce4ec5aa196', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I44024c2ab851403199c6cf0349277494e5f42d2e\n'}]",0,827347,88590b8d0f38a16f3ae77ac06d845ce4ec5aa196,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I44024c2ab851403199c6cf0349277494e5f42d2e
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/47/827347/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,88590b8d0f38a16f3ae77ac06d845ce4ec5aa196,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,79,9
openstack%2Fcharm-ironic-conductor~master~I15b33f4018a8065a4ea8dc98d986f0250aa5cc48,openstack/charm-ironic-conductor,master,I15b33f4018a8065a4ea8dc98d986f0250aa5cc48,Update to build using charmcraft,MERGED,2022-02-01 20:06:11.000000000,2022-02-03 14:47:31.000000000,2022-02-03 14:47:31.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:06:11.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2b64bf3ea8e7289fde573a2c4070777bbffbd512', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I15b33f4018a8065a4ea8dc98d986f0250aa5cc48\n'}]",0,827348,2b64bf3ea8e7289fde573a2c4070777bbffbd512,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I15b33f4018a8065a4ea8dc98d986f0250aa5cc48
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/48/827348/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,2b64bf3ea8e7289fde573a2c4070777bbffbd512,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,77,7
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fwallaby~I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,openstack/openstack-ansible-openstack_hosts,stable/wallaby,I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,Add data to disable the advanced-virtualisation repository,MERGED,2022-02-03 09:57:22.000000000,2022-02-03 14:45:15.000000000,2022-02-03 14:42:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-03 09:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ad652a1d6629ffe2f7b4b54a8a1f1230d46f8a79', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}, {'number': 2, 'created': '2022-02-03 09:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/2d9b485e1eabb8a8dc3d8d666c704844007d5a29', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}, {'number': 3, 'created': '2022-02-03 10:03:25.000000000', 'files': ['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8c314e42cfaabf62b1f421341cafcf74f7d95d5f', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)\n'}]",0,827632,8c314e42cfaabf62b1f421341cafcf74f7d95d5f,12,3,3,28619,,,0,"Add data to disable the advanced-virtualisation repository

This repo no longer exists as part of the EOL of centos-8.
Disable the repo.

Change-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678
(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/32/827632/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml']",2,ad652a1d6629ffe2f7b4b54a8a1f1230d46f8a79,osa/remove-centos8," state: ""{{ repo.state | default(omit) }}"" - (item.state|default('present') == 'present')",,14,0
openstack%2Fcharm-cinder-netapp~master~Id650b157e7f5b92eb778a19469d42cf1c000f119,openstack/charm-cinder-netapp,master,Id650b157e7f5b92eb778a19469d42cf1c000f119,Add yoga bundles and release-tool syncs,ABANDONED,2021-10-29 21:20:03.000000000,2022-02-03 14:20:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-29 21:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/8b88dbaa138a913ece71425ecf5a67e8263ee84a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 2, 'created': '2021-11-01 13:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/3b154ebcd231dfbccac0638950e1f96128135752', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 3, 'created': '2021-11-03 21:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/08f44c4c5df06ac91c47545e9dc5c5d250491046', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 4, 'created': '2021-11-05 17:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/1ca549e28f000c2034548e0c6e498c90e7afabf1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 5, 'created': '2021-11-09 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/e1e29eda57275f6300ab38e5447ffa1f915572bd', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 6, 'created': '2021-11-12 13:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/76e6a11da76aeec3fdb44e7c2315d6833c3a470e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 7, 'created': '2021-11-12 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/dcec7a2514ce1cadc72a929c45f0ef539bb9ebd4', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 8, 'created': '2021-11-12 16:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/6e4f547294956523a78b5ef5ceaef0c8a6f7c4ab', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 9, 'created': '2021-11-17 17:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/5b4dec20b97066387f78cb3c2d80b648c59ad865', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 10, 'created': '2021-11-17 19:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/da6f579812a7dc871abe96f0a8bb6dac7dad2470', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}, {'number': 11, 'created': '2021-11-18 21:10:33.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/ae4c5f648bbca892876e6ee2b8fb0c3aa01ec189', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nDepends-On: https://review.opendev.org/c/openstack/charm-cinder-netapp/+/815130\nChange-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119\n'}]",7,816012,ae4c5f648bbca892876e6ee2b8fb0c3aa01ec189,40,2,11,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* sync from release-tools
* switch to release-specific zosci functional tests
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata/tests
* drop py35 and add py39

Depends-On: https://review.opendev.org/c/openstack/charm-cinder-netapp/+/815130
Change-Id: Id650b157e7f5b92eb778a19469d42cf1c000f119
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/12/816012/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",6,8b88dbaa138a913ece71425ecf5a67e8263ee84a,batch-update, - focal-yoga - jammy-yoga - jammy-yoga,,162,1
openstack%2Fironic~stable%2Fwallaby~I4965d0cc3966c50fa0485b5e194248dd2072f7a8,openstack/ironic,stable/wallaby,I4965d0cc3966c50fa0485b5e194248dd2072f7a8,Add additional ramdisk tests,MERGED,2022-01-26 18:23:33.000000000,2022-02-03 14:20:13.000000000,2022-02-03 14:17:12.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-26 18:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2729a74befb93c065e6603a13072eeb65f6bbb8e', 'message': ""Add additional ramdisk tests\n\nNoticed we're missing some test coverage in regards to booting from\nramdisks when I was investigating an issue which was reported against\nwallaby.\n\nAdds tests which *should* catch the issue I'm chasing in wallaby.\n\nChange-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8\n""}, {'number': 2, 'created': '2022-01-26 19:47:01.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3883cd2774732a1d44f9fff3b3f466a05f761c8', 'message': ""Add additional ramdisk tests\n\nNoticed we're missing some test coverage in regards to booting from\nramdisks when I was investigating an issue which was reported against\nwallaby.\n\nAdds tests which *should* catch the issue I'm chasing in wallaby.\n\nChange-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8\n""}]",0,826508,b3883cd2774732a1d44f9fff3b3f466a05f761c8,14,3,2,11655,,,0,"Add additional ramdisk tests

Noticed we're missing some test coverage in regards to booting from
ramdisks when I was investigating an issue which was reported against
wallaby.

Adds tests which *should* catch the issue I'm chasing in wallaby.

Change-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/826508/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/common/test_pxe_utils.py']",3,2729a74befb93c065e6603a13072eeb65f6bbb8e,," self.ipxe_options_boot_from_ramdisk = self.ipxe_options.copy() self.ipxe_options_boot_from_ramdisk.update({ 'ramdisk_kernel_arguments': 'ramdisk_params' }) def test_default_ipxe_boot_from_ramdisk(self): self.config( pxe_config_template='ironic/drivers/modules/ipxe_config.template', group='pxe' ) self.config(http_url='http://1.2.3.4:1234', group='deploy') pxe_options = self.ipxe_options_boot_from_ramdisk rendered_template = utils.render_template( CONF.pxe.pxe_config_template, {'pxe_options': pxe_options, 'ROOT': '{{ ROOT }}'}, ) templ_file = 'ironic/tests/unit/drivers/' \ 'ipxe_config_boot_from_ramdisk.template' with open(templ_file) as f: expected_template = f.read().rstrip() self.assertEqual(str(expected_template), rendered_template) expected_pxe_params=None, ramdisk_kernel_opt=None): if ramdisk_kernel_opt: expected_options.update({'ramdisk_opts': ramdisk_kernel_opt}) def test_build_pxe_config_options_pxe_opts_ramdisk_opt(self): self.node.instance_info = {'ramdisk_kernel_arguments': 'cat meow'} self._test_build_pxe_config_options_pxe(ramdisk_kernel_opt='cat meow') ", expected_pxe_params=None):,138,1
openstack%2Fironic~stable%2Fxena~I4965d0cc3966c50fa0485b5e194248dd2072f7a8,openstack/ironic,stable/xena,I4965d0cc3966c50fa0485b5e194248dd2072f7a8,Add additional ramdisk tests,MERGED,2022-01-26 18:21:22.000000000,2022-02-03 14:18:14.000000000,2022-02-03 14:15:37.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-26 18:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c80350927dd44da225f30b0cfb514603ce409b8', 'message': ""Add additional ramdisk tests\n\nNoticed we're missing some test coverage in regards to booting from\nramdisks when I was investigating an issue which was reported against\nwallaby.\n\nAdds tests which *should* catch the issue I'm chasing in wallaby.\n\nChange-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8\n""}, {'number': 2, 'created': '2022-01-26 19:46:34.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/998c6213d720d0c9930ccb351507b317a813fed5', 'message': ""Add additional ramdisk tests\n\nNoticed we're missing some test coverage in regards to booting from\nramdisks when I was investigating an issue which was reported against\nwallaby.\n\nAdds tests which *should* catch the issue I'm chasing in wallaby.\n\nChange-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8\n""}]",0,826507,998c6213d720d0c9930ccb351507b317a813fed5,14,3,2,11655,,,0,"Add additional ramdisk tests

Noticed we're missing some test coverage in regards to booting from
ramdisks when I was investigating an issue which was reported against
wallaby.

Adds tests which *should* catch the issue I'm chasing in wallaby.

Change-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/826507/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/common/test_pxe_utils.py']",3,7c80350927dd44da225f30b0cfb514603ce409b8,," self.ipxe_options_boot_from_ramdisk = self.ipxe_options.copy() self.ipxe_options_boot_from_ramdisk.update({ 'ramdisk_kernel_arguments': 'ramdisk_params' }) def test_default_ipxe_boot_from_ramdisk(self): self.config( pxe_config_template='ironic/drivers/modules/ipxe_config.template', group='pxe' ) self.config(http_url='http://1.2.3.4:1234', group='deploy') pxe_options = self.ipxe_options_boot_from_ramdisk rendered_template = utils.render_template( CONF.pxe.pxe_config_template, {'pxe_options': pxe_options, 'ROOT': '{{ ROOT }}'}, ) templ_file = 'ironic/tests/unit/drivers/' \ 'ipxe_config_boot_from_ramdisk.template' with open(templ_file) as f: expected_template = f.read().rstrip() self.assertEqual(str(expected_template), rendered_template) expected_pxe_params=None, ramdisk_kernel_opt=None): if ramdisk_kernel_opt: expected_options.update({'ramdisk_opts': ramdisk_kernel_opt}) def test_build_pxe_config_options_pxe_opts_ramdisk_opt(self): self.node.instance_info = {'ramdisk_kernel_arguments': 'cat meow'} self._test_build_pxe_config_options_pxe(ramdisk_kernel_opt='cat meow') ", expected_pxe_params=None):,138,1
openstack%2Fkuryr-kubernetes~master~I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0,openstack/kuryr-kubernetes,master,I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0,Update Centos version for container images.,MERGED,2022-02-01 13:05:15.000000000,2022-02-03 14:12:56.000000000,2022-02-02 19:55:55.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-02-01 13:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/91274764712c217e9df4e6ec0f4abc81c284f4b9', 'message': 'Update Centos version for container images.\n\nDue to the EOL for Centos 8, we need to go forward, and adopt to the\nStream version of Centos for container images of kuryr CNI and\ncontroller.\n\nThere was applied modification for fixing (hopefully transient) issues\nwith variable usage in yum/dnf, but also for removing certain packages,\nwhich wrongfully pulls some essential system packages like sudo, dnf and\nsystemd.\n\nChange-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0\n'}, {'number': 2, 'created': '2022-02-01 14:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6f5ed6301ab3491e39f81a71bc36d2cc2b69fb2e', 'message': 'Update Centos version for container images.\n\nDue to the EOL for Centos 8, we need to go forward, and adopt to the\nStream version of Centos for container images of kuryr CNI and\ncontroller.\n\nThere was applied modification for fixing (hopefully transient) issues\nwith variable usage in yum/dnf, but also for removing certain packages,\nwhich wrongfully pulls some essential system packages like sudo, dnf and\nsystemd.\n\nAnd finally, there was a switch from yum to dnf.\n\nChange-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0\n'}, {'number': 3, 'created': '2022-02-02 07:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a971f598a11b5c2dbbc5263a97ec42f66d22265f', 'message': 'Update Centos version for container images.\n\nDue to the EOL for Centos 8, we need to go forward, and adopt to the\nStream version of Centos for container images of kuryr CNI and\ncontroller.\n\nThere was applied modification for fixing (hopefully transient) issues\nwith variable usage in yum/dnf, but also for removing certain packages,\nwhich wrongfully pulls some essential system packages like sudo, dnf and\nsystemd.\n\nAnd finally, there was a switch from deprecated yum to dnf.\n\nChange-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0\n'}, {'number': 4, 'created': '2022-02-02 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c3e863b993bc247f9dfe87b859b7142311313bae', 'message': 'Update Centos version for container images.\n\nDue to the EOL for Centos 8, we need to go forward, and adopt to the\nStream version of Centos for container images of kuryr CNI and\ncontroller.\n\nThere was applied modification for fixing (hopefully transient) issues\nwith variable usage in yum/dnf, but also for removing certain packages,\nwhich wrongfully pulls some essential system packages like sudo, dnf and\nsystemd.\n\nAnd finally, there was a switch from deprecated yum to dnf.\n\nChange-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0\n'}, {'number': 5, 'created': '2022-02-02 10:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b2b78bbc9b8a99465ef6c9745f47491d199f9b4', 'message': 'Update Centos version for container images.\n\nDue to the EOL for Centos 8, we need to go forward, and adopt to the\nStream version of Centos for container images of kuryr CNI and\ncontroller.\n\nThere was applied modification for fixing (hopefully transient) issues\nwith variable usage in yum/dnf, so there is a need for replacing those\nmanually.\n\nAnd finally, there was a switch from deprecated yum to dnf.\n\nChange-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0\n'}, {'number': 6, 'created': '2022-02-02 14:56:56.000000000', 'files': ['controller.Dockerfile', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c62488710389040313dfa287c7c746a327a1759c', 'message': 'Update Centos version for container images.\n\nDue to the EOL for Centos 8, we need to go forward, and adopt to the\nStream version of Centos for container images of kuryr CNI and\ncontroller.\n\nThere was applied modification for fixing (hopefully transient) issues\nwith variable usage in yum/dnf, so there is a need for replacing those\nmanually.\n\nAnd finally, there was a switch from deprecated yum to dnf.\n\nChange-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0\n'}]",24,827283,c62488710389040313dfa287c7c746a327a1759c,33,3,6,13692,,,0,"Update Centos version for container images.

Due to the EOL for Centos 8, we need to go forward, and adopt to the
Stream version of Centos for container images of kuryr CNI and
controller.

There was applied modification for fixing (hopefully transient) issues
with variable usage in yum/dnf, so there is a need for replacing those
manually.

And finally, there was a switch from deprecated yum to dnf.

Change-Id: I19c16877e8ba6f401c9d76ed70b2380c4e3cfbe0
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/83/827283/6 && git format-patch -1 --stdout FETCH_HEAD,"['controller.Dockerfile', 'cni.Dockerfile']",2,91274764712c217e9df4e6ec0f4abc81c284f4b9,centos-stream,"FROM quay.io/centos/centos:stream8ARG PKG_YUM_REPO=https://repos.fedorapeople.org/repos/openstack/openstack-xena/rdo-release-xena-1.el8.noarch.rpm RUN yum upgrade -y && yum install -y epel-release $PKG_YUM_REPO # NOTE(gryf): hack to make yum to cooperate - it might be a subject to change # in the future, either when yum starts to respect yum.conf variables, or # mirror location would change. RUN sed -e 's/$releasever/8-stream/' -i /etc/yum.repos.d/messaging.repo RUN sed -e 's/$basearch/x86_64/' -i /etc/yum.repos.d/messaging.repo RUN yum install -y --setopt=tsflags=nodocs python3-pip openvswitch sudo \ iproute libstdc++ pciutils kmod-libs gcc gcc-c++ python3-devel git# Issuing 'yum -y history undo last' command will complain about removing # sudo/systemd/dnf packages && yum remove -y python3-pip openvswitch iproute pciutils gcc gcc-c++ \ python3-devel git \ && dnf clean all \",FROM registry.centos.org/centos:8ARG PKG_YUM_REPO=https://rdoproject.org/repos/openstack-victoria/rdo-release-victoria-2.el8.noarch.rpm RUN yum upgrade -y \ && yum install -y epel-release $PKG_YUM_REPO \ && yum install -y --setopt=tsflags=nodocs python3-pip openvswitch sudo iproute libstdc++ pciutils kmod-libs \ && yum install -y --setopt=tsflags=nodocs gcc gcc-c++ python3-devel git && yum -y history undo last \ && yum clean all \,20,12
openstack%2Fcharm-cinder-purestorage~master~I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9,openstack/charm-cinder-purestorage,master,I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9,Update to build using charmcraft,MERGED,2022-01-27 13:11:15.000000000,2022-02-03 14:12:51.000000000,2022-02-03 14:12:51.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-27 13:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/a381704949005dd605a229b6b757d86e1d479fd8', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9\n'}, {'number': 2, 'created': '2022-01-27 20:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/64874ea4328cb7f77ede76ba82c5ad17e2eefa1d', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9\n'}, {'number': 3, 'created': '2022-01-28 03:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/3ec5723fb9dc08041fb81692512beef044c436e5', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9\n'}, {'number': 4, 'created': '2022-02-01 19:53:10.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/7eae2f1a7c841cc2e8898864ea67914984bf3053', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9\n'}]",6,826657,7eae2f1a7c841cc2e8898864ea67914984bf3053,20,4,4,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I8da1d8c2ac7a8f2ae180bb82eb9d5a4abd9eaeb9
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/57/826657/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",18,a381704949005dd605a229b6b757d86e1d479fd8,charmhub-migration-master,,variables: openstack-origin: &openstack-origin distro series: hirsute comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': relations: - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:storage-backend' - 'cinder-purestorage:storage-backend' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin to: - '4' cinder-purestorage: series: groovy charm: ../../../cinder-purestorage options: # Add config options here driver-source: ppa:openstack-charmers/purestorage-stable protocol: iscsi volume-backend-name: cinder-pure rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '5' ,77,549
openstack%2Fcharm-nova-cloud-controller~master~I891634fc8001597089312801b29a80336543f5f0,openstack/charm-nova-cloud-controller,master,I891634fc8001597089312801b29a80336543f5f0,Remove nrpe check of nova-consoleauth when not needed.,MERGED,2021-12-17 20:50:57.000000000,2022-02-03 14:09:26.000000000,2022-02-03 14:09:26.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-17 20:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/fcb6eeaa9ffe1d2025b9b0de1ea51da1746f2724', 'message': 'Remove nrpe check of nova-consoleauth when not needed.\n\nnova-consoleauth was deprecated for OpenStack >= Train, this change will\nremove the nrpe check associated with it when is_consoleauth_enabled()\nreturns False.\n\nChange-Id: I891634fc8001597089312801b29a80336543f5f0\nCloses-Bug: #1904650\n'}, {'number': 2, 'created': '2022-01-04 12:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/8d3885e700eeea529e500760083ef63219dc35b7', 'message': 'Remove nrpe check of nova-consoleauth when not needed.\n\nnova-consoleauth was deprecated for OpenStack >= Train, this change will\nremove the nrpe check associated with it when is_consoleauth_enabled()\nreturns False.\n\nChange-Id: I891634fc8001597089312801b29a80336543f5f0\nCloses-Bug: #1904650\n'}, {'number': 3, 'created': '2022-01-06 15:05:38.000000000', 'files': ['unit_tests/test_utils.py', 'unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/bebed44c3bace64838500e6438502eec1f9fef85', 'message': 'Remove nrpe check of nova-consoleauth when not needed.\n\nnova-consoleauth was removed for OpenStack >= Train, this change will\nremove the nrpe check associated with it when is_consoleauth_enabled()\nreturns False.\n\nChange-Id: I891634fc8001597089312801b29a80336543f5f0\nCloses-Bug: #1904650\n'}]",8,822201,bebed44c3bace64838500e6438502eec1f9fef85,20,4,3,2424,,,0,"Remove nrpe check of nova-consoleauth when not needed.

nova-consoleauth was removed for OpenStack >= Train, this change will
remove the nrpe check associated with it when is_consoleauth_enabled()
returns False.

Change-Id: I891634fc8001597089312801b29a80336543f5f0
Closes-Bug: #1904650
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/01/822201/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,fcb6eeaa9ffe1d2025b9b0de1ea51da1746f2724,bug/1904650, if not ncc_utils.is_consoleauth_enabled(): nrpe_setup.remove_check(shortname='nova-consoleauth'),,21,0
openstack%2Fironic~bugfix%2F19.0~I4965d0cc3966c50fa0485b5e194248dd2072f7a8,openstack/ironic,bugfix/19.0,I4965d0cc3966c50fa0485b5e194248dd2072f7a8,Add additional ramdisk tests,MERGED,2022-02-01 11:27:59.000000000,2022-02-03 14:08:12.000000000,2022-02-03 14:05:56.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 11:27:59.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef62da6088a10bf211f69bf9c5095416851d8738', 'message': ""Add additional ramdisk tests\n\nNoticed we're missing some test coverage in regards to booting from\nramdisks when I was investigating an issue which was reported against\nwallaby.\n\nAdds tests which *should* catch the issue I'm chasing in wallaby.\n\nChange-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8\n(cherry picked from commit e851d63464597f8825d4c14c0e632d39b82dbc4d)\n""}]",0,827237,ef62da6088a10bf211f69bf9c5095416851d8738,10,3,1,23851,,,0,"Add additional ramdisk tests

Noticed we're missing some test coverage in regards to booting from
ramdisks when I was investigating an issue which was reported against
wallaby.

Adds tests which *should* catch the issue I'm chasing in wallaby.

Change-Id: I4965d0cc3966c50fa0485b5e194248dd2072f7a8
(cherry picked from commit e851d63464597f8825d4c14c0e632d39b82dbc4d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/827237/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/common/test_pxe_utils.py']",3,ef62da6088a10bf211f69bf9c5095416851d8738,new-ramdisk-tests-bugfix/19.0," self.ipxe_options_boot_from_ramdisk = self.ipxe_options.copy() self.ipxe_options_boot_from_ramdisk.update({ 'ramdisk_kernel_arguments': 'ramdisk_params' }) def test_default_ipxe_boot_from_ramdisk(self): self.config( pxe_config_template='ironic/drivers/modules/ipxe_config.template', group='pxe' ) self.config(http_url='http://1.2.3.4:1234', group='deploy') pxe_options = self.ipxe_options_boot_from_ramdisk rendered_template = utils.render_template( CONF.pxe.pxe_config_template, {'pxe_options': pxe_options, 'ROOT': '{{ ROOT }}'}, ) templ_file = 'ironic/tests/unit/drivers/' \ 'ipxe_config_boot_from_ramdisk.template' with open(templ_file) as f: expected_template = f.read().rstrip() self.assertEqual(str(expected_template), rendered_template) expected_pxe_params=None, ramdisk_kernel_opt=None): if ramdisk_kernel_opt: expected_options.update({'ramdisk_opts': ramdisk_kernel_opt}) def test_build_pxe_config_options_pxe_opts_ramdisk_opt(self): self.node.instance_info = {'ramdisk_kernel_arguments': 'cat meow'} self._test_build_pxe_config_options_pxe(ramdisk_kernel_opt='cat meow') ", expected_pxe_params=None):,138,1
openstack%2Fopenstack-ansible-os_nova~master~I96332980798cb56f725b8bdc9a0514ab40c1a0f9,openstack/openstack-ansible-os_nova,master,I96332980798cb56f725b8bdc9a0514ab40c1a0f9,Remove apt pinning task for debian buster,MERGED,2022-01-27 18:17:07.000000000,2022-02-03 13:55:06.000000000,2022-02-03 13:52:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-27 18:17:07.000000000', 'files': ['tasks/nova_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d620d3b06ad580fb206410089cc6d918b05de1af', 'message': 'Remove apt pinning task for debian buster\n\nBuster is no longer supported on recent OSA releases so this task\nis not required.\n\nChange-Id: I96332980798cb56f725b8bdc9a0514ab40c1a0f9\n'}]",0,826759,d620d3b06ad580fb206410089cc6d918b05de1af,8,3,1,25023,,,0,"Remove apt pinning task for debian buster

Buster is no longer supported on recent OSA releases so this task
is not required.

Change-Id: I96332980798cb56f725b8bdc9a0514ab40c1a0f9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/59/826759/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_install.yml', 'meta/main.yml']",2,d620d3b06ad580fb206410089cc6d918b05de1af,,,dependencies: - apt_package_pinning,0,19
openstack%2Fcharm-octavia~master~I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea,openstack/charm-octavia,master,I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea,Add yoga bundles and release-tool syncs,ABANDONED,2021-10-29 21:23:11.000000000,2022-02-03 13:45:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-29 21:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ccd0ad5689ae9c641d3d7fd8e780e8b80698a6bc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 2, 'created': '2021-11-01 13:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/044a39ba7d16b25ffa57a4731261e441a4b9054d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 3, 'created': '2021-11-03 21:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/993547aaf744303d4f43bf03746051f1591971b4', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 4, 'created': '2021-11-05 17:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/132df4a7433d5693e02ba32a7956977c05f9b4e6', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 5, 'created': '2021-11-09 15:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ace153d354b481c5faaa1ac43c1468f176396496', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 6, 'created': '2021-11-12 13:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dfb3893d86d7c21a2be6fdcb6db494748233701a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 7, 'created': '2021-11-12 14:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8a0624e2911fb74337c994a68ce501a1d53c56bb', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 8, 'created': '2021-11-12 16:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/243418ff07f80f93c3ea8b2e0f4a5f924914c3be', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 9, 'created': '2021-11-17 19:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c230c65a13c6314eb9896f03f75ab0a68d616b34', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 10, 'created': '2021-11-17 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c3c7e725342dbd04b8e22db1ca97743d0333234e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 11, 'created': '2021-11-22 17:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/59f7fc5ac1cf7a74d66649eb8cccf82212211699', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 12, 'created': '2021-11-23 17:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7130cc4ca0a3c4e4eb19d7e604616ea95b1cac9e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 13, 'created': '2021-11-24 21:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bfe1be23f3f7a778aed6d111afad1a3e8e352e91', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 14, 'created': '2021-12-17 15:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bca29088866aed52a62c48b81b878d25f9dd47ec', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n* drop ml2/ovs from gate after focal-ussuri to reduce the load\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}, {'number': 15, 'created': '2022-01-03 09:04:10.000000000', 'files': ['src/tests/bundles/focal-yoga-ha-ovn.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga-ha-ovn.yaml', 'requirements.txt', 'src/tests/bundles/focal-yoga-ha.yaml', 'src/tests/bundles/jammy-yoga-ha.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bfdd133ea988a2af58405d3ef8ebab572ed83f42', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n* drop ml2/ovs from gate after focal-ussuri to reduce the load\n\nChange-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea\n'}]",33,816048,bfdd133ea988a2af58405d3ef8ebab572ed83f42,103,2,15,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* sync from release-tools
* switch to release-specific zosci functional tests
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata/tests
* drop py35 and add py39
* drop ml2/ovs from gate after focal-ussuri to reduce the load

Change-Id: I423eec99c9acb1b7e5af8e8f2d4f16f7192330ea
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/48/816048/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga-ha-ovn.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga-ha-ovn.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-yoga-ha.yaml', 'src/tests/bundles/jammy-yoga-ha.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml']",9,ccd0ad5689ae9c641d3d7fd8e780e8b80698a6bc,batch-update,- focal-yoga-ha-ovn- focal-yoga-ha- jammy-yoga-ha-ovn- jammy-yoga-ha - jammy-yoga-ha-ovn - jammy-yoga-ha,,851,0
openstack%2Fcharm-cinder-lvm~master~I5f6f7c7e281202e44d2f13e7478d04b6fcb93016,openstack/charm-cinder-lvm,master,I5f6f7c7e281202e44d2f13e7478d04b6fcb93016,Update to build using charmcraft,MERGED,2022-01-27 13:07:03.000000000,2022-02-03 13:42:48.000000000,2022-02-03 13:42:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-27 13:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/cdbe3f056ce75a539dcf83210bfb8d34f91bd4f0', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I5f6f7c7e281202e44d2f13e7478d04b6fcb93016\n'}, {'number': 2, 'created': '2022-01-27 20:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/c9334c0d5cbe8dee245a9f524f0b5f051bd63f2a', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I5f6f7c7e281202e44d2f13e7478d04b6fcb93016\n'}, {'number': 3, 'created': '2022-02-01 19:48:00.000000000', 'files': ['osci.yaml', 'src/files/.gitkeep', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/caf0b11a4d36491d041fb719b9d90f78ef41fd48', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I5f6f7c7e281202e44d2f13e7478d04b6fcb93016\n'}]",2,826655,caf0b11a4d36491d041fb719b9d90f78ef41fd48,15,4,3,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I5f6f7c7e281202e44d2f13e7478d04b6fcb93016
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/55/826655/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",17,cdbe3f056ce75a539dcf83210bfb8d34f91bd4f0,charmhub-migration-master,,"series: hirsute variables: openstack-origin: &openstack-origin distro comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': constraints: mem=4G root-disk=16G relations: - - keystone:shared-db - keystone-mysql-router:shared-db - - keystone-mysql-router:db-router - mysql-innodb-cluster:db-router - - cinder:shared-db - cinder-mysql-router:shared-db - - cinder-mysql-router:db-router - mysql-innodb-cluster:db-router - - cinder:identity-service - keystone:identity-service - - cinder:amqp - rabbitmq-server:amqp - - cinder:storage-backend - cinder-lvm:storage-backend applications: mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' keystone: charm: cs:~openstack-charmers-next/keystone options: openstack-origin: *openstack-origin num_units: 1 to: - '4' keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder: charm: cs:~openstack-charmers-next/cinder storage: block-devices: '40G' num_units: 1 options: openstack-origin: *openstack-origin block-device: None overwrite: ""true"" to: - '5' cinder-lvm: charm: cinder-lvm options: block-device: '/tmp/vol1|4G' alias: zaza-lvm cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router ",76,544
openstack%2Foslo.utils~stable%2Fussuri~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,stable/ussuri,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2022-01-31 10:24:58.000000000,2022-02-03 13:14:02.000000000,2022-02-03 13:11:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 10:24:58.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/5e9dfa3408a6fac7e870a9b86ee774b5fd71a595', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)\n(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)\n(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)\n(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)\n'}]",5,827041,5e9dfa3408a6fac7e870a9b86ee774b5fd71a595,16,3,1,31245,,,0,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)
(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/41/827041/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py']",3,5e9dfa3408a6fac7e870a9b86ee774b5fd71a595,,"_SANITIZE_PATTERNS_WILDCARD = {}_FORMAT_PATTERNS_WILDCARD = [r'([\'\""][^\""\']*%(key)s[0-9]*[\'\""]\s*:\s*u?[\'\""].*[\'\""])[^\""\']*([\'\""])'] # noqa: E501 _SANITIZE_PATTERNS_WILDCARD[key] = [] for pattern in _FORMAT_PATTERNS_WILDCARD: reg_ex = re.compile(pattern % {'key': key}, re.DOTALL | re.IGNORECASE) _SANITIZE_PATTERNS_WILDCARD[key].append(reg_ex) substitute_wildcard = r'\g<1>' # NOTE(hberaud): Those case are poorly handled by previous # patterns. They are passwords with quotes or double quotes. # They also needs a different way to substitute group this is why # they aren't fix in the pattern 1 or 2. for pattern in _SANITIZE_PATTERNS_WILDCARD[key]: message = re.sub(pattern, substitute_wildcard, message)",,35,1
openstack%2Fneutron~master~I0a3aa536f0216c8a362df2cbfccefe846f72acb1,openstack/neutron,master,I0a3aa536f0216c8a362df2cbfccefe846f72acb1,Block delete_flows until there is a flow to delete,ABANDONED,2022-01-26 12:48:41.000000000,2022-02-03 13:06:17.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-26 12:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c673cf48cc1dcfb8b15fb08cfd1c02a4ba1621e', 'message': 'Block delete_flows until there is a flow to delete\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 adds a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are ressigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nSo we must poll for the flows we want to delete to block delete_flows\nuntil add_flow actually added the flow.\n\nFor a reason I did not understand yet this race condition only broke\ntests in the gate on the stable/victoria branch. However I believe the\nsame race condition is present on newer branches - including master.\n\nChange-Id: I0a3aa536f0216c8a362df2cbfccefe846f72acb1\nRelated-Bug: #1930414\n'}, {'number': 2, 'created': '2022-01-27 10:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae1a4989063c6c6459d8b751439eb20d58c6b03a', 'message': 'Block delete_flows until there is a flow to delete\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 adds a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are ressigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nSo we must poll for the flows we want to delete to block delete_flows\nuntil add_flow actually added the flow.\n\nFor a reason I did not understand yet this race condition only broke\ntests in the gate on the stable/victoria branch. However I believe the\nsame race condition is present on newer branches - including master.\n\nChange-Id: I0a3aa536f0216c8a362df2cbfccefe846f72acb1\nRelated-Bug: #1930414\n'}, {'number': 3, 'created': '2022-01-27 15:10:17.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/functional/agent/test_l2_ovs_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43a8185cb8353aac904953f0ee007f28e0bd5cc2', 'message': 'Block delete_flows until there is a flow to delete\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 adds a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are ressigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nSo we must poll for the flows we want to delete to block delete_flows\nuntil add_flow actually added the flow.\n\nFor a reason I did not understand yet this race condition only broke\ntests in the gate on the stable/victoria branch. However I believe the\nsame race condition is present on newer branches - including master.\n\nChange-Id: I0a3aa536f0216c8a362df2cbfccefe846f72acb1\nRelated-Bug: #1930414\n'}]",35,826460,43a8185cb8353aac904953f0ee007f28e0bd5cc2,46,5,3,15554,,,0,"Block delete_flows until there is a flow to delete

https://review.opendev.org/c/openstack/neutron/+/820897 adds a dead vlan
flow that pushes the dead vlan tag onto frames belonging to dead ports
before these ports are ressigned to their proper vlans. However add_flow
and delete_flows race and delete_flows may run before add_flow, in this
case deleting 0 flows but not giving us a chance to detect this: neither
does it throw an error nor does it return the number of deleted flows.

So we must poll for the flows we want to delete to block delete_flows
until add_flow actually added the flow.

For a reason I did not understand yet this race condition only broke
tests in the gate on the stable/victoria branch. However I believe the
same race condition is present on newer branches - including master.

Change-Id: I0a3aa536f0216c8a362df2cbfccefe846f72acb1
Related-Bug: #1930414
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/826460/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,9c673cf48cc1dcfb8b15fb08cfd1c02a4ba1621e,bug/1930414," def count_dead_vlan_flows(ofport): flows = self.int_br.dump_flows_for( table=constants.LOCAL_SWITCHING, in_port=ofport, ).splitlines() prio = (""priority=%s,"" % (constants.OPENFLOW_MAX_PRIORITY - 1)) return len([f for f in flows if prio in f]) timeout = 5 saw_dead_vlan_flows = False for i in range(timeout): if count_dead_vlan_flows(port.ofport) >= 1: saw_dead_vlan_flows = True break time.sleep(1) if saw_dead_vlan_flows: self.int_br.delete_flows( cookie=ovs_lib.COOKIE_ANY, table=constants.LOCAL_SWITCHING, priority=constants.OPENFLOW_MAX_PRIORITY - 1, in_port=port.ofport, strict=True) else: LOG.warning( 'Expected to find and delete dead vlan flow, ' 'but did not: ofport=%s', port.ofport)"," self.int_br.delete_flows( cookie=ovs_lib.COOKIE_ANY, table=constants.LOCAL_SWITCHING, priority=constants.OPENFLOW_MAX_PRIORITY - 1, in_port=port.ofport, strict=True)",26,6
openstack%2Fopenstack-ansible-tests~master~Ic83faf7f335492adf2d4e04b290907d1bece101b,openstack/openstack-ansible-tests,master,Ic83faf7f335492adf2d4e04b290907d1bece101b,Temporary add CentOS 8 jobs,ABANDONED,2022-02-03 12:58:16.000000000,2022-02-03 13:01:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 12:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e5b0fc847d00c0fe1769fbe383b55d643d6abec2', 'message': ""Temporary add CentOS 9 jobs\n\nWe add CentOS jobs here to unblock their removal from stable branches\n\nSince we have jobs defined, it won't be a blocker for their removal and\nhopefully will be more handy to track process.\n\nThis patch should be reverted immideatelly and we proceed on\ncentos-8 removal.\n\nChange-Id: Ic83faf7f335492adf2d4e04b290907d1bece101b\n""}, {'number': 2, 'created': '2022-02-03 12:58:42.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/12c1134dabfb12e4184188653372919594bbedae', 'message': ""Temporary add CentOS 8 jobs\n\nWe add CentOS jobs here to unblock their removal from stable branches\n\nSince we have jobs defined, it won't be a blocker for their removal and\nhopefully will be more handy to track process.\n\nThis patch should be reverted immideatelly and we proceed on\ncentos-8 removal.\n\nChange-Id: Ic83faf7f335492adf2d4e04b290907d1bece101b\n""}]",0,827657,12c1134dabfb12e4184188653372919594bbedae,4,1,2,28619,,,0,"Temporary add CentOS 8 jobs

We add CentOS jobs here to unblock their removal from stable branches

Since we have jobs defined, it won't be a blocker for their removal and
hopefully will be more handy to track process.

This patch should be reverted immideatelly and we proceed on
centos-8 removal.

Change-Id: Ic83faf7f335492adf2d4e04b290907d1bece101b
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/57/827657/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e5b0fc847d00c0fe1769fbe383b55d643d6abec2,osa/remove-centos8, # centos 8 - job: name: openstack-ansible-deploy-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-deploy-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_telemetry_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_nspawn-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800,,65,0
openstack%2Fos-net-config~stable%2Fvictoria~Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,openstack/os-net-config,stable/victoria,Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,"For linux bond over VFs, disable spoofcheck by default",MERGED,2022-02-02 06:33:24.000000000,2022-02-03 12:47:51.000000000,2022-02-03 12:46:03.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 06:33:24.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/10e3922c2fadeb23e9a78b5e9d80476ddce0f20f', 'message': 'For linux bond over VFs, disable spoofcheck by default\n\nIn case of linux bonds using NIC Partitioning, the spoofcheck shall\nbe disabled for it to work well with mellanox cards as well as\nintel cards.\n\nChange-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51\n(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)\n'}]",0,827394,10e3922c2fadeb23e9a78b5e9d80476ddce0f20f,8,3,1,18904,,,0,"For linux bond over VFs, disable spoofcheck by default

In case of linux bonds using NIC Partitioning, the spoofcheck shall
be disabled for it to work well with mellanox cards as well as
intel cards.

Change-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51
(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/94/827394/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,10e3922c2fadeb23e9a78b5e9d80476ddce0f20f,," # For linux_bond, the default value is false spoofcheck: false spoofcheck: false"," # For linux_bond, the default value is true spoofcheck: true spoofcheck: true",9,9
openstack%2Fopenstack-ansible-openstack_hosts~master~Ibc4f63d84f82ba14b4e432b9c5d78c270071a284,openstack/openstack-ansible-openstack_hosts,master,Ibc4f63d84f82ba14b4e432b9c5d78c270071a284,Add centos_mirror_url variable.,MERGED,2022-02-02 14:40:55.000000000,2022-02-03 12:23:35.000000000,2022-02-03 12:21:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 14:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/16958fcd6db9a8ac7a5a4933bb1c3cee011d6e5f', 'message': 'Add centos_mirror_url variable.\n\nThis variable can define the centos mirror location deploymemnt\nwide rather than need an override per role.\n\nChange-Id: Ibc4f63d84f82ba14b4e432b9c5d78c270071a284\n'}, {'number': 2, 'created': '2022-02-02 15:46:22.000000000', 'files': ['releasenotes/notes/centos-mirror-url-7698160e63aedce6.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/fddc4fa4db58812cf828168f5ab94df872b0e7f9', 'message': 'Add centos_mirror_url variable.\n\nThis variable can define the centos mirror location deploymemnt\nwide rather than need an override per role.\n\nChange-Id: Ibc4f63d84f82ba14b4e432b9c5d78c270071a284\n'}]",0,827510,fddc4fa4db58812cf828168f5ab94df872b0e7f9,9,3,2,25023,,,0,"Add centos_mirror_url variable.

This variable can define the centos mirror location deploymemnt
wide rather than need an override per role.

Change-Id: Ibc4f63d84f82ba14b4e432b9c5d78c270071a284
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/10/827510/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/centos-mirror-url-7698160e63aedce6.yaml', 'defaults/main.yml']",2,16958fcd6db9a8ac7a5a4933bb1c3cee011d6e5f,,"openstack_hosts_centos_mirror_url: ""{{ centos_mirror_url | default('http://mirror.centos.org/centos') }}""",openstack_hosts_centos_mirror_url: 'http://mirror.centos.org/centos',13,1
openstack%2Fopenstack-ansible-os_nova~master~I66e5dba3f7e111f538c30a294f479e613ecd65e4,openstack/openstack-ansible-os_nova,master,I66e5dba3f7e111f538c30a294f479e613ecd65e4,Rebuild venv if missing,ABANDONED,2018-03-24 06:57:37.000000000,2022-02-03 12:18:32.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25262}]","[{'number': 1, 'created': '2018-03-24 06:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/10a8a84399ad4f326c93199978e2f41345aa2b4c', 'message': 'Propagate https://review.openstack.org/#/c/555981/\n\nChange-Id: I66e5dba3f7e111f538c30a294f479e613ecd65e4\n'}, {'number': 2, 'created': '2018-03-24 21:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cbc485e9f78e7c6a66b27cae7fa831dbb1cf6682', 'message': 'Rebuild venv if missing\n\nIf a deployer removes a venv from /openstack/venvs and runs the role\nin an attempt to re-deploy the venv from the same tag, the role will\nfail. This is because the venv archive in /var/cache is still present\nwith the same checksum, so the download and extract process is not\ntriggered.\n\nChange-Id: I66e5dba3f7e111f538c30a294f479e613ecd65e4\n'}, {'number': 3, 'created': '2018-03-24 23:25:23.000000000', 'files': ['tasks/nova_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/72ac3e146ca4e26f9a3f8f329d1927c890be2ba3', 'message': 'Rebuild venv if missing\n\nIf a deployer removes a venv from /openstack/venvs and runs the role\nin an attempt to re-deploy the venv from the same tag, the role will\nfail. This is because the venv archive in /var/cache is still present\nwith the same checksum, so the download and extract process is not\ntriggered.\n\nChange-Id: I66e5dba3f7e111f538c30a294f479e613ecd65e4\n'}]",0,556003,72ac3e146ca4e26f9a3f8f329d1927c890be2ba3,13,3,3,25262,,,0,"Rebuild venv if missing

If a deployer removes a venv from /openstack/venvs and runs the role
in an attempt to re-deploy the venv from the same tag, the role will
fail. This is because the venv archive in /var/cache is still present
with the same checksum, so the download and extract process is not
triggered.

Change-Id: I66e5dba3f7e111f538c30a294f479e613ecd65e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/03/556003/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_install.yml'],1,10a8a84399ad4f326c93199978e2f41345aa2b4c,venv-extract-check,"- name: Check for deployed venv stat: path: ""{{ nova_bin | dirname }}"" register: nova_venv_stat - (nova_get_venv | changed or (nova_get_venv | success and not nova_venv_stat.stat.exists)) - (nova_get_venv | changed or (nova_get_venv | success and not nova_venv_stat.stat.exists)) - (nova_get_venv | changed or (nova_get_venv | success and not nova_venv_stat.stat.exists)) - (nova_get_venv | changed or (nova_get_venv | success and not nova_venv_stat.stat.exists))", - nova_get_venv | changed - nova_get_venv | changed - nova_get_venv | changed - nova_get_venv | changed,17,4
openstack%2Ftrove~master~I382b86c341de2d5c4687fbb4cc9cc48b17a03081,openstack/trove,master,I382b86c341de2d5c4687fbb4cc9cc48b17a03081,Use os-cloud trove creds,MERGED,2022-02-03 08:02:57.000000000,2022-02-03 12:08:50.000000000,2022-02-03 12:07:06.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 08:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/be64b9bdf68b488210927b69e34579be088e13d3', 'message': 'Use os-cloud trove creds\n\nTask: 44414\nStory: 2009826\nChange-Id: I382b86c341de2d5c4687fbb4cc9cc48b17a03081\n'}, {'number': 2, 'created': '2022-02-03 09:00:43.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/f6327f0668b31895f8e27c4e631c60ea20d44b79', 'message': 'Use os-cloud trove creds\n\nTask: 44414\nStory: 2009826\nChange-Id: I382b86c341de2d5c4687fbb4cc9cc48b17a03081\n'}]",0,827597,f6327f0668b31895f8e27c4e631c60ea20d44b79,8,2,2,33125,,,0,"Use os-cloud trove creds

Task: 44414
Story: 2009826
Change-Id: I382b86c341de2d5c4687fbb4cc9cc48b17a03081
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/827597/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,be64b9bdf68b488210927b69e34579be088e13d3,, glance_image_id=$(openstack --os-cloud trove \ openstack --os-cloud trove keypair create --public-key ${SSH_DIR}/id_rsa.pub ${TROVE_MGMT_KEYPAIR_NAME} volume_type=$(openstack --os-cloud volume type list -c Name -f value | awk 'NR==1 {print}') sgid=$(openstack --os-cloud trove security group create ${TROVE_MGMT_SECURITY_GROUP} -f value -c id) openstack --os-cloud trove security group rule create --proto icmp $sgid openstack --os-cloud trove security group rule create --protocol tcp --dst-port 22 $sgid, glance_image_id=$(openstack --os-region-name RegionOne --os-password ${SERVICE_PASSWORD} \ --os-project-name service --os-username trove \ openstack --os-region-name RegionOne --os-password ${SERVICE_PASSWORD} --os-project-name service --os-username trove \ keypair create --public-key ${SSH_DIR}/id_rsa.pub ${TROVE_MGMT_KEYPAIR_NAME} volume_type=$(openstack --os-region-name RegionOne --os-password ${SERVICE_PASSWORD} \ --os-project-name service --os-username trove \ volume type list -c Name -f value | awk 'NR==1 {print}') sgid=$(openstack --os-region-name RegionOne --os-password ${SERVICE_PASSWORD} --os-project-name service --os-username trove security group create ${TROVE_MGMT_SECURITY_GROUP} -f value -c id) openstack --os-region-name RegionOne --os-password ${SERVICE_PASSWORD} --os-project-name service --os-username trove \ security group rule create --proto icmp $sgid openstack --os-region-name RegionOne --os-password ${SERVICE_PASSWORD} --os-project-name service --os-username trove \ security group rule create --protocol tcp --dst-port 22 $sgid,6,12
openstack%2Fpython-openstackclient~master~I709de5e454434b8790a68d9e67ca1432387b21ab,openstack/python-openstackclient,master,I709de5e454434b8790a68d9e67ca1432387b21ab,Don't fail on extlinks warnings for reno build,MERGED,2022-02-02 14:14:54.000000000,2022-02-03 12:06:49.000000000,2022-02-03 12:04:44.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-02-02 14:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/98b407da6bdf53616490c94f8a1037c882eeac53', 'message': 'Don\'t fail on warnings for reno build\n\nWith Sphinx==4.4.0 some ""helpful"" warnings were introduced when an\nexternal link could be replaced by a macro, like for :lpbug:. Sadly we\nhave a very high number of existing release notes that trigger these\nwarnings and no good way to fix them retrospectively, because would mess\nup their mapping to releases. So we no longer treat warnings as errors\nfor now, maybe in a future release sphinx will make these warnings\nconfigurable.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I709de5e454434b8790a68d9e67ca1432387b21ab\n'}, {'number': 2, 'created': '2022-02-02 16:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/70f8b2fd0ee90f07ae0055b668fae5131e7983b6', 'message': 'Don\'t fail on warnings for reno build\n\nWith Sphinx==4.4.0 some ""helpful"" warnings were introduced when an\nexternal link could be replaced by a macro, like for :lpbug:. Sadly we\nhave a very high number of existing release notes that trigger these\nwarnings and no good way to fix them retrospectively, because would mess\nup their mapping to releases. So we no longer treat warnings as errors\nfor now, maybe in a future release sphinx will make these warnings\nconfigurable.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I709de5e454434b8790a68d9e67ca1432387b21ab\n'}, {'number': 3, 'created': '2022-02-03 11:20:33.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/746b91335cd7f1796883e4719e544a8b82958a82', 'message': 'Don\'t fail on extlinks warnings for reno build\n\nWith Sphinx==4.4.0 some ""helpful"" warnings were introduced when an\nexternal link could be replaced by a macro, like for :lpbug:. Sadly we\nhave a very high number of existing release notes that trigger these\nwarnings and no good way to fix them retrospectively, because would mess\nup their mapping to releases. So we change the logging for the\nsphinx.ext.extlinks to ignore these warnings for now.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I709de5e454434b8790a68d9e67ca1432387b21ab\n'}]",2,827504,746b91335cd7f1796883e4719e544a8b82958a82,14,4,3,13252,,,0,"Don't fail on extlinks warnings for reno build

With Sphinx==4.4.0 some ""helpful"" warnings were introduced when an
external link could be replaced by a macro, like for :lpbug:. Sadly we
have a very high number of existing release notes that trigger these
warnings and no good way to fix them retrospectively, because would mess
up their mapping to releases. So we change the logging for the
sphinx.ext.extlinks to ignore these warnings for now.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I709de5e454434b8790a68d9e67ca1432387b21ab
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/827504/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,98b407da6bdf53616490c94f8a1037c882eeac53,fix-reno, sphinx-build -a -E -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html, sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,1,1
openstack%2Fos-net-config~stable%2Fwallaby~Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,openstack/os-net-config,stable/wallaby,Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,"For linux bond over VFs, disable spoofcheck by default",MERGED,2022-02-02 06:33:05.000000000,2022-02-03 12:01:50.000000000,2022-02-03 11:56:56.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 06:33:05.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/eaed448e029d74c28106c4b72b0185deabaee047', 'message': 'For linux bond over VFs, disable spoofcheck by default\n\nIn case of linux bonds using NIC Partitioning, the spoofcheck shall\nbe disabled for it to work well with mellanox cards as well as\nintel cards.\n\nChange-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51\n(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)\n'}]",0,827393,eaed448e029d74c28106c4b72b0185deabaee047,8,3,1,18904,,,0,"For linux bond over VFs, disable spoofcheck by default

In case of linux bonds using NIC Partitioning, the spoofcheck shall
be disabled for it to work well with mellanox cards as well as
intel cards.

Change-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51
(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/93/827393/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,eaed448e029d74c28106c4b72b0185deabaee047,," # For linux_bond, the default value is false spoofcheck: false spoofcheck: false"," # For linux_bond, the default value is true spoofcheck: true spoofcheck: true",9,9
openstack%2Fos-net-config~stable%2Fwallaby~I69b362079905c3957504e4958abfeeb9923cf07f,openstack/os-net-config,stable/wallaby,I69b362079905c3957504e4958abfeeb9923cf07f,Notify the need for overriding the default driver for Mellanox NIC,MERGED,2022-02-02 10:55:17.000000000,2022-02-03 12:00:08.000000000,2022-02-03 11:56:54.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 10:55:17.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/52337a754167f660c107ba1d32343c99270875c5', 'message': 'Notify the need for overriding the default driver for Mellanox NIC\n\nIn case of mellanox cards, the interfaces used for DPDK ports\nshall not be bound with vfio-pci (default) driver. An explicit error\nmessage shall be thrown when the required drivers are not specified\nin the user templates.\n\nChange-Id: I69b362079905c3957504e4958abfeeb9923cf07f\n(cherry picked from commit 3ee0c463ca9c9a65eb6029ed9ac25d2a8b26a87c)\n'}]",0,827401,52337a754167f660c107ba1d32343c99270875c5,8,3,1,18904,,,0,"Notify the need for overriding the default driver for Mellanox NIC

In case of mellanox cards, the interfaces used for DPDK ports
shall not be bound with vfio-pci (default) driver. An explicit error
message shall be thrown when the required drivers are not specified
in the user templates.

Change-Id: I69b362079905c3957504e4958abfeeb9923cf07f
(cherry picked from commit 3ee0c463ca9c9a65eb6029ed9ac25d2a8b26a87c)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/01/827401/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,52337a754167f660c107ba1d32343c99270875c5,," if common.is_mellanox_interface(ifname) and 'vfio-pci' in driver: msg = (""For Mellanox NIC %s, the default driver vfio-pci "" ""needs to be overridden"" % ifname) raise OvsDpdkBindException(msg) if vendor_id == common.MLNX_VENDOR_ID:"," if vendor_id == ""0x15b3"":",6,1
openstack%2Frequirements~master~Ifaa77f0da33d86aa97e77c3f0ae24d2664cd3ce2,openstack/requirements,master,Ifaa77f0da33d86aa97e77c3f0ae24d2664cd3ce2,Remove 'futures' from upper-constraints,ABANDONED,2021-11-10 11:53:12.000000000,2022-02-03 11:47:39.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 11:53:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1ddb3334a36455ad2e6152ed4b92e57126bdf247', 'message': ""Remove 'futures' from upper-constraints\n\nPer the README for this library [1]:\n\n  [futures] is a backport of the concurrent.futures standard library\n  module to Python 2.\n\n  It does not work on Python 3 due to Python 2 syntax being used in the\n  codebase. Python 3 users should not attempt to install it, since the\n  package is already included in the standard library.\n\nAs this is a Python 2-only library, indicating that it should be\ninstalled in Python 3.6 environments in clearly incorrect and in fact\nbreaks things on recent versions of pip/setuptools [2]. I suspect we're\nsimply including it to ensure we can install pypowervm, which specifies\nthis also and therefore also needs to be corrected [3].\n\nRemove this dependency since we no longer have to care about Python 2.\n\n[1] https://github.com/agronholm/pythonfutures/blob/3.3.0/README.rst\n[2] https://github.com/pypa/pip/issues/10650\n[3] https://github.com/powervm/pypowervm/pull/17\n\nChange-Id: Ifaa77f0da33d86aa97e77c3f0ae24d2664cd3ce2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,817389,1ddb3334a36455ad2e6152ed4b92e57126bdf247,7,3,1,15334,,,0,"Remove 'futures' from upper-constraints

Per the README for this library [1]:

  [futures] is a backport of the concurrent.futures standard library
  module to Python 2.

  It does not work on Python 3 due to Python 2 syntax being used in the
  codebase. Python 3 users should not attempt to install it, since the
  package is already included in the standard library.

As this is a Python 2-only library, indicating that it should be
installed in Python 3.6 environments in clearly incorrect and in fact
breaks things on recent versions of pip/setuptools [2]. I suspect we're
simply including it to ensure we can install pypowervm, which specifies
this also and therefore also needs to be corrected [3].

Remove this dependency since we no longer have to care about Python 2.

[1] https://github.com/agronholm/pythonfutures/blob/3.3.0/README.rst
[2] https://github.com/pypa/pip/issues/10650
[3] https://github.com/powervm/pypowervm/pull/17

Change-Id: Ifaa77f0da33d86aa97e77c3f0ae24d2664cd3ce2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/817389/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1ddb3334a36455ad2e6152ed4b92e57126bdf247,remove-futures,,futures===3.0.5;python_version=='3.6',0,1
openstack%2Fmonasca-api~stable%2Fxena~Iec66ee1f2b9a41a3b3be16ffca3239826f7aa183,openstack/monasca-api,stable/xena,Iec66ee1f2b9a41a3b3be16ffca3239826f7aa183,Fix zuul publish docker image job Add tag to docker push command with specific branch name,MERGED,2022-02-03 09:44:21.000000000,2022-02-03 11:41:13.000000000,2022-02-03 11:39:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-02-03 09:44:21.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/44956801556b79c14373aa533df4debbd1da0ad9', 'message': 'Fix zuul publish docker image job\nAdd tag to docker push command with specific branch name\n\nChange-Id: Iec66ee1f2b9a41a3b3be16ffca3239826f7aa183\n'}]",0,827614,44956801556b79c14373aa533df4debbd1da0ad9,7,2,1,28062,,,0,"Fix zuul publish docker image job
Add tag to docker push command with specific branch name

Change-Id: Iec66ee1f2b9a41a3b3be16ffca3239826f7aa183
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/14/827614/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,44956801556b79c14373aa533df4debbd1da0ad9,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-xena'}}"""," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable/xena'}}""",1,1
openstack%2Fopenstack-tempest-skiplist~master~I9f381872c3b7fe90abe45152e509cf0ba78dd25e,openstack/openstack-tempest-skiplist,master,I9f381872c3b7fe90abe45152e509cf0ba78dd25e,Skipping server_cold_migration and server_resize for wallaby C9,MERGED,2022-01-31 18:57:41.000000000,2022-02-03 11:40:58.000000000,2022-02-01 16:55:44.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-31 18:57:41.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cd856bc4b1dd5de8f599b55242970047e0e58003', 'message': 'Skipping server_cold_migration and server_resize for wallaby C9\n\nAdding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-wallaby\njob to the following tests on skiplist:\n- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration\n- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resiz\n\nRelated-Bug: #1956475\nChange-Id: I9f381872c3b7fe90abe45152e509cf0ba78dd25e\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",1,827165,cd856bc4b1dd5de8f599b55242970047e0e58003,10,3,1,30002,,,0,"Skipping server_cold_migration and server_resize for wallaby C9

Adding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-wallaby
job to the following tests on skiplist:
- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration
- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resiz

Related-Bug: #1956475
Change-Id: I9f381872c3b7fe90abe45152e509cf0ba78dd25e
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/65/827165/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,cd856bc4b1dd5de8f599b55242970047e0e58003,cs9-wallaby, # NOTE: centos-9-ovb-1ctlr_2comp-featureset020-master is failing due to #1956475 - name: wallaby reason: Failing on nova cold migration lp: https://bugs.launchpad.net/tripleo/+bug/1956475 - periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-wallaby # NOTE: centos-9-ovb-1ctlr_2comp-featureset020-master is failing due to #1956475 - name: wallaby reason: Failing on nova cold migration lp: https://bugs.launchpad.net/tripleo/+bug/1956475 - periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-wallaby,,10,0
openstack%2Fopenstack-tempest-skiplist~master~Ibb0d22b886c8e2e62978ede82fa37ffbe5c99e6e,openstack/openstack-tempest-skiplist,master,Ibb0d22b886c8e2e62978ede82fa37ffbe5c99e6e,Adding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master to existing neutron tests,MERGED,2022-01-14 08:19:48.000000000,2022-02-03 11:40:21.000000000,2022-01-14 11:27:17.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-14 08:19:48.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/85a70a8691010b82f1a509a313f4aa2bc829bb7d', 'message': 'Adding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master to existing neutron tests\n\nAdding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master to:\n- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration\n- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resize\n- neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1956475\nChange-Id: Ibb0d22b886c8e2e62978ede82fa37ffbe5c99e6e\n'}]",0,824677,85a70a8691010b82f1a509a313f4aa2bc829bb7d,9,3,1,32458,,,0,"Adding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master to existing neutron tests

Adding periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master to:
- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration
- tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resize
- neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1956475
Change-Id: Ibb0d22b886c8e2e62978ede82fa37ffbe5c99e6e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/77/824677/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,85a70a8691010b82f1a509a313f4aa2bc829bb7d,, - periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master - periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master - periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-master,,3,0
openstack%2Foslo.utils~stable%2Ftrain~Ia02154a1eb04434658a21adf82599ae55302e310,openstack/oslo.utils,stable/train,Ia02154a1eb04434658a21adf82599ae55302e310,Dropping lower constraints testing,MERGED,2022-01-26 10:33:51.000000000,2022-02-03 11:34:21.000000000,2022-02-03 11:28:05.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-26 10:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0fd669114c71abc67bf859a53b5aaf095fbd63a4', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit 4cc3a558244769017ed5d8c3a6e4a63429d1e8e9)\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n(cherry picked from commit 125617dcb444739eb19e2d4f3372b65fa49e926a)\n(cherry picked from commit 03ed19655230005ce69faefef993f6fa17773f18)\n'}, {'number': 2, 'created': '2022-01-31 11:03:20.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ed7c5780d3ad598f266a962e750d9b1e364aaba4', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nNOTE(damani): The lower-constraints.txt has been removed and about the\n.zuul.yaml need to adapt the jobs name.\n\nConflicts:\n    tox.ini\n    lower-constraints.txt\n    .zuul.yaml\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit 4cc3a558244769017ed5d8c3a6e4a63429d1e8e9)\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n(cherry picked from commit 125617dcb444739eb19e2d4f3372b65fa49e926a)\n(cherry picked from commit 03ed19655230005ce69faefef993f6fa17773f18)\n'}]",4,826437,ed7c5780d3ad598f266a962e750d9b1e364aaba4,15,3,2,31245,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Contain also the patch[2] to remove the tox environment and the patch[3] to
remove the lower-constraints.txt file.

https://review.opendev.org/c/openstack/oslo.utils/+/787867

NOTE(damani): The lower-constraints.txt has been removed and about the
.zuul.yaml need to adapt the jobs name.

Conflicts:
    tox.ini
    lower-constraints.txt
    .zuul.yaml

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630
[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867

Change-Id: Ia02154a1eb04434658a21adf82599ae55302e310
(cherry picked from commit 4cc3a558244769017ed5d8c3a6e4a63429d1e8e9)
(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)
(cherry picked from commit 125617dcb444739eb19e2d4f3372b65fa49e926a)
(cherry picked from commit 03ed19655230005ce69faefef993f6fa17773f18)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/37/826437/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,0fd669114c71abc67bf859a53b5aaf095fbd63a4,,, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,54
openstack%2Freleases~master~I27c955b47fafcb9db3be70d2a8f508fe9def348b,openstack/releases,master,I27c955b47fafcb9db3be70d2a8f508fe9def348b,[yoga] release oslo projects,MERGED,2022-01-27 07:57:49.000000000,2022-02-03 11:32:14.000000000,2022-02-03 11:32:14.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-27 07:57:49.000000000', 'files': ['deliverables/yoga/oslo.messaging.yaml', 'deliverables/yoga/oslo.context.yaml', 'deliverables/yoga/oslo.cache.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb5a86c97ffd3407a8765a62d3c8932e08e5ec9b', 'message': '[yoga] release oslo projects\n\nChange-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b\n'}]",3,826592,fb5a86c97ffd3407a8765a62d3c8932e08e5ec9b,9,3,1,28522,,,0,"[yoga] release oslo projects

Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/826592/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/oslo.messaging.yaml', 'deliverables/yoga/oslo.context.yaml', 'deliverables/yoga/oslo.cache.yaml']",3,fb5a86c97ffd3407a8765a62d3c8932e08e5ec9b,oslo-yoga, - version: 2.10.0 projects: - repo: openstack/oslo.cache hash: cb118d04cea318df23831d7445f6b33c866cd0c6,,12,0
openstack%2Fkolla-ansible~master~I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,openstack/kolla-ansible,master,I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,Add OIDCDiscoverURL mod_oidc option,MERGED,2021-05-28 16:30:56.000000000,2022-02-03 11:21:48.000000000,2022-02-03 11:19:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 28356}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-05-28 16:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/510508e9fa416801af58c1aedcf24e0bf8e88194', 'message': 'Add OIDCDiscoverURL mod_oidc option\n\nThis gets rid of one of the steps in the authentication flow.\n\nCloses-Bug: 1930055\nChange-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a\n'}, {'number': 2, 'created': '2021-05-28 16:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f3ec4efc020b30b30169a621647457b2e7de300', 'message': 'Add OIDCDiscoverURL mod_oidc option\n\nThis gets rid of one of the steps in the authentication flow.\n\nCloses-Bug: 1930055\nChange-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a\n'}, {'number': 3, 'created': '2022-02-02 14:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bc8c80378b102313872918b37b4a5bab94071e4', 'message': 'Add OIDCDiscoverURL mod_oidc option\n\nThis gets rid of one of the steps in the authentication flow.\n\nCloses-Bug: 1930055\nChange-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a\n'}, {'number': 4, 'created': '2022-02-02 14:41:48.000000000', 'files': ['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'releasenotes/notes/add-oidc-discover-url-83edb9f43f73a97f.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7455759ad4be5e1212d84e08612a4ff4ece8717', 'message': 'Add OIDCDiscoverURL mod_oidc option\n\nThis gets rid of one of the steps in the authentication flow.\n\nCloses-Bug: 1930055\nChange-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a\n'}]",2,793622,e7455759ad4be5e1212d84e08612a4ff4ece8717,25,6,4,28048,,,0,"Add OIDCDiscoverURL mod_oidc option

This gets rid of one of the steps in the authentication flow.

Closes-Bug: 1930055
Change-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/793622/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/wsgi-keystone.conf.j2'],1,510508e9fa416801af58c1aedcf24e0bf8e88194,, OIDCDiscoverURL {{ keystone_public_url }}/redirect_uri?iss={{ item.identifier | urlencode }},,1,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,openstack/ovn-octavia-provider,stable/wallaby,Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,Support creating members without a subnet ID,MERGED,2022-01-31 09:51:17.000000000,2022-02-03 11:17:00.000000000,2022-02-03 11:15:10.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 09:51:17.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/08430b535eb56e3758e63f2a97c7e3a383769bee', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\nChange-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n'}]",0,827011,08430b535eb56e3758e63f2a97c7e3a383769bee,8,3,1,23567,,,0,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

Closes-bug: #1896677
Change-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5
(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/11/827011/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",7,08430b535eb56e3758e63f2a97c7e3a383769bee,bug/1896677-stable/wallaby,"from octavia_lib.api.drivers import data_models def test__get_subnet_from_pool(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_subnet_id=self.vip_subnet_id, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertEqual(found, lb.vip_subnet_id) ",,112,15
openstack%2Fovn-octavia-provider~stable%2Fxena~Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,openstack/ovn-octavia-provider,stable/xena,Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,Support creating members without a subnet ID,MERGED,2022-01-31 09:46:19.000000000,2022-02-03 11:05:46.000000000,2022-02-03 11:03:39.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 09:46:19.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0896d5f4ec77febc939c3e8b33d94f934eddf805', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\nChange-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n'}]",1,827010,0896d5f4ec77febc939c3e8b33d94f934eddf805,8,3,1,23567,,,0,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

Closes-bug: #1896677
Change-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5
(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/10/827010/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",7,0896d5f4ec77febc939c3e8b33d94f934eddf805,bug/1896677-stable/xena,"from octavia_lib.api.drivers import data_models def test__get_subnet_from_pool(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_subnet_id=self.vip_subnet_id, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertEqual(found, lb.vip_subnet_id) ",,112,15
openstack%2Fsolum~master~I83e37396aee03802ec17a824b7550608863852b1,openstack/solum,master,I83e37396aee03802ec17a824b7550608863852b1,Dropping lower constraints testing,NEW,2021-05-03 01:35:41.000000000,2022-02-03 11:01:34.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-03 01:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2e665c520d8f27d693611bc49e57ecdf41db3901', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I83e37396aee03802ec17a824b7550608863852b1\n'}, {'number': 2, 'created': '2022-02-03 10:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/f722bd97cc12e307bb1e8e7dcb808b1c8b092fac', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I83e37396aee03802ec17a824b7550608863852b1\n'}, {'number': 3, 'created': '2022-02-03 10:23:53.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/c227012d31628ce039f728b2af885072efaed2ba', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I83e37396aee03802ec17a824b7550608863852b1\n'}]",0,789117,c227012d31628ce039f728b2af885072efaed2ba,7,3,3,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I83e37396aee03802ec17a824b7550608863852b1
",git fetch https://review.opendev.org/openstack/solum refs/changes/17/789117/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,2e665c520d8f27d693611bc49e57ecdf41db3901,,,[testenv:lower-constraints] skip_install = True commands = python -m pip install --no-deps -U . stestr run {posargs} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,152
openstack%2Foctavia~master~I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91,openstack/octavia,master,I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91,Add fips jobs,MERGED,2021-06-25 19:31:37.000000000,2022-02-03 10:53:03.000000000,2022-02-03 10:46:57.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-25 19:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf9c2436488e1e1bd441a239e32d0c8817148505', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 2, 'created': '2021-06-29 01:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/676bb6faec1c0899b01a3a31bdce7defcc1fc2a7', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 3, 'created': '2021-08-26 21:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dee7ce50b1c20eef0f96f36ab11cea51e18095bd', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806274\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 4, 'created': '2021-08-27 14:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fdc815cb6e3aeeb850f34bd2f12e7f1f07c53f24', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806274\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 5, 'created': '2021-09-05 03:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0fbd667070db6819911ff8535337daa0acc2d06f', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806274\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 6, 'created': '2021-09-05 04:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5638f01d71266b1793b148e3cb4cf8ff36815a63', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nTemporarily add reference to patched paramiko avoid the md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 7, 'created': '2021-09-05 05:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c3c41e03a62c411cd405f16f1e5e5bbe05b642f', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nTemporarily add reference to patched paramiko avoid the md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807470\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 8, 'created': '2021-09-05 05:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/84fa45ffe68f787a34197f3296997e97b7ea33e3', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nTemporarily add reference to patched paramiko avoid the md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 9, 'created': '2021-09-06 15:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/29b89d4b7930f1e4491afa27e65364156eab5138', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nTemporarily add reference to patched paramiko avoid the md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/698450\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 10, 'created': '2021-09-06 20:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/20fc6e74b0b4dde48f029beda905907c7b95c445', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nTemporarily add reference to patched paramiko avoid the md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 11, 'created': '2021-09-14 18:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e8ae4101f55e742bf06e9f7fce171d8d4ffce11c', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.  Added depends-on for new centos 8 stream nodeset.\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nThe relevant calls have been updated.\n\nContinue to test my tempest changes here.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806274\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 12, 'created': '2021-09-15 20:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e18fb16a6d0d2214852e4064379091fb0f76e607', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nAdd reference to new tempest patch to avoid paramiko md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 13, 'created': '2021-10-15 17:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ba288424c8b44701da4f1e6f3a3f8d6734b2d34b', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nAdd reference to new tempest patch to avoid paramiko md5 issues.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 14, 'created': '2021-11-04 20:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ac9f827c6553ff13f8caa83d150d7838ab2c69d', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nOnce again, trying the libssh replacement for paramiko\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806274\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 15, 'created': '2021-11-05 16:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28eaacbcf705435f48735f4e0f45350ae5830b19', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nOnce again, trying an updated patched version of paramiko.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806274\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 16, 'created': '2021-11-05 16:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c3aa160d64ac8be9ef5cf8f7a36d02e397ad12b', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nOnce again, trying an updated patched version of paramiko.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 17, 'created': '2021-11-05 20:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f821df20f1239162916c69a052ffa04c702b899d', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nOnce again, trying an updated patched version of paramiko.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 18, 'created': '2022-01-17 18:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/741c37cc6ff90a04a843afea2863a3f6200159ef', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nOnce again, trying an updated patched version of paramiko.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 19, 'created': '2022-01-17 19:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/45ecd5be26a4fb3ae272842be6bf470c0fee1320', 'message': 'DNM/WIP Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Temporarily removed the other check jobs to speed up\ntesting.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 20, 'created': '2022-01-20 16:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7aefa6edacb8f4219988c84491d93e9f82f1a1e6', 'message': 'Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/807617\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 21, 'created': '2022-01-27 03:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/abcb20c43f54889b46b98669a727305a36425c9e', 'message': 'Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.\n\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 22, 'created': '2022-02-02 21:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/61f5d712bd610eac81081acce2dafa8f4ecfbe1d', 'message': 'Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.\n\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 23, 'created': '2022-02-02 21:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f41d788715248ebac786158df91e9a1ff7b2c560', 'message': 'Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Initially set to non-voting until the job proves to be stable.\n\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}, {'number': 24, 'created': '2022-02-03 05:59:47.000000000', 'files': ['playbooks/enable-fips.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/14f66646fc08584317fd2279836e7a598cfc27cf', 'message': 'Add fips jobs\n\nAdded jobs to test to see if things still work when fips is\nenabled.  Initially set to non-voting until the job proves to be stable.\n\nChange-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91\n'}]",15,798151,14f66646fc08584317fd2279836e7a598cfc27cf,93,5,24,9914,,,0,"Add fips jobs

Added jobs to test to see if things still work when fips is
enabled.  Initially set to non-voting until the job proves to be stable.

Change-Id: I2fd562c3b2ff13be11bdaed126c47b1fb9f5ef91
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/798151/19 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",3,cf9c2436488e1e1bd441a239e32d0c8817148505,fips-compatibility, - job: name: octavia-v2-dsvm-scenario-fips parent: octavia-v2-dsvm-scenario nodeset: octavia-single-node-centos-8-stream description: | Functional testing for a FIPS enabled Centos 8 system pre-run: playbooks/enable-fips.yaml - job: name: octavia-v2-dsvm-tls-barbican-fips parent: octavia-v2-dsvm-tls-barbican nodeset: octavia-single-node-centos-8-stream description: | Functional testing for a FIPS enabled Centos 8 system pre-run: playbooks/enable-fips.yaml,,21,60
openstack%2Fopenstack-ansible-openstack_hosts~master~I66246eeea594af55a6d2f2aff4f5cb33611df1c5,openstack/openstack-ansible-openstack_hosts,master,I66246eeea594af55a6d2f2aff4f5cb33611df1c5,Remove configuration of advanced-virtualisation repo,MERGED,2022-02-02 13:31:12.000000000,2022-02-03 10:43:59.000000000,2022-02-03 10:42:19.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-02 13:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1e03150e1e16a8e1498dd8d3738306ae76ed9a90', 'message': 'Remove configuration of advanced-virtualisation repo\n\nThis is a repo only relevant to EOL centos-8. It is replaced by\nadvancedvirt-common in centos-8-stream and only relevant to nova.\n\nManagement of this repo is moved to the os_nova role from the Yoga\nrelease of openstack-ansible.\n\nChange-Id: I66246eeea594af55a6d2f2aff4f5cb33611df1c5\n'}, {'number': 2, 'created': '2022-02-02 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c3ce7ef687e55018a31c09fcae3b24aa9eb421d3', 'message': 'Remove configuration of advanced-virtualisation repo\n\nThis is a repo only relevant to EOL centos-8. It is replaced by\nadvancedvirt-common in centos-8-stream and only relevant to nova.\n\nManagement of this repo is moved to the os_nova role from the Yoga\nrelease of openstack-ansible.\n\nChange-Id: I66246eeea594af55a6d2f2aff4f5cb33611df1c5\n'}, {'number': 3, 'created': '2022-02-02 15:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/68d7007b20818b914fd6c67c9c1a73f555fe97d0', 'message': 'Remove configuration of advanced-virtualisation repo\n\nThis is a repo only relevant to EOL centos-8. It is replaced by\nadvancedvirt-common in centos-8-stream and only relevant to nova.\n\nManagement of this repo is moved to the os_nova role from the Yoga\nrelease of openstack-ansible.\n\nChange-Id: I66246eeea594af55a6d2f2aff4f5cb33611df1c5\n'}, {'number': 4, 'created': '2022-02-02 16:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/df322db5e3bc42a11f6187e41f3d2b3c4d7a869d', 'message': 'Remove configuration of advanced-virtualisation repo\n\nThis is a repo only relevant to EOL centos-8. It is replaced by\nadvancedvirt-common in centos-8-stream and only relevant to nova.\n\nManagement of this repo is moved to the os_nova role from the Yoga\nrelease of openstack-ansible.\n\nChange-Id: I66246eeea594af55a6d2f2aff4f5cb33611df1c5\n'}, {'number': 5, 'created': '2022-02-02 17:26:39.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1b33f014359228217d6dab8bcbedca39062b58ce', 'message': 'Remove configuration of advanced-virtualisation repo\n\nThis is a repo only relevant to EOL centos-8. It is replaced by\nadvancedvirt-common in centos-8-stream and only relevant to nova.\n\nManagement of this repo is moved to the os_nova role from the Yoga\nrelease of openstack-ansible.\n\nChange-Id: I66246eeea594af55a6d2f2aff4f5cb33611df1c5\n'}]",0,827497,1b33f014359228217d6dab8bcbedca39062b58ce,12,3,5,25023,,,0,"Remove configuration of advanced-virtualisation repo

This is a repo only relevant to EOL centos-8. It is replaced by
advancedvirt-common in centos-8-stream and only relevant to nova.

Management of this repo is moved to the os_nova role from the Yoga
release of openstack-ansible.

Change-Id: I66246eeea594af55a6d2f2aff4f5cb33611df1c5
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/97/827497/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,1e03150e1e16a8e1498dd8d3738306ae76ed9a90,,," # NOTE(jrosser) Remove the advanced-virtualisation repo in the Y cycle # this task disables a legacy (non-stream) centos-8 repo - name: advanced-virtualization file: virt description: Advanced Virtualization mirror baseurl: ""{{ openstack_hosts_centos_mirror_url }}/8/virt/$basearch/advanced-virtualization/"" gpgcheck: no module_hotfixes: yes enabled: false",0,9
openstack%2Ftap-as-a-service~master~I346eaabff3c4869429c827c8955d41b621f82304,openstack/tap-as-a-service,master,I346eaabff3c4869429c827c8955d41b621f82304,Use ovs TUNNEL_ constants from new location,MERGED,2022-02-01 10:51:36.000000000,2022-02-03 10:30:42.000000000,2022-02-03 10:30:42.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 10:51:36.000000000', 'files': ['neutron_taas/services/taas/drivers/linux/ovs_taas.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c919ccd485060ec0511dda559c220f81b790c41c', 'message': 'Use ovs TUNNEL_ constants from new location\n\n[0] rehomed some ovs related constants to separate module, use the new\nlocation in taas as well.\n\n[0]: https://review.opendev.org/c/openstack/neutron-lib/+/822131\n\nChange-Id: I346eaabff3c4869429c827c8955d41b621f82304\n'}]",1,827263,c919ccd485060ec0511dda559c220f81b790c41c,10,5,1,8313,,,0,"Use ovs TUNNEL_ constants from new location

[0] rehomed some ovs related constants to separate module, use the new
location in taas as well.

[0]: https://review.opendev.org/c/openstack/neutron-lib/+/822131

Change-Id: I346eaabff3c4869429c827c8955d41b621f82304
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/63/827263/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/services/taas/drivers/linux/ovs_taas.py'],1,c919ccd485060ec0511dda559c220f81b790c41c,rehome-ovs-constants,"from neutron_lib.plugins.ml2 import ovs_constants as n_ovs_consts for tunnel_type in n_ovs_consts.TUNNEL_NETWORK_TYPES: self.tun_br.add_flow(table=n_ovs_consts.TUN_TABLE[tunnel_type], for tunnel_type in n_ovs_consts.TUNNEL_NETWORK_TYPES: self.tun_br.delete_flows(table=n_ovs_consts.TUN_TABLE[tunnel_type], for tunnel_type in n_ovs_consts.TUNNEL_NETWORK_TYPES: self.tun_br.add_flow(table=n_ovs_consts.TUN_TABLE[tunnel_type],","from neutron_lib import constants as n_consts for tunnel_type in n_consts.TUNNEL_NETWORK_TYPES: self.tun_br.add_flow(table=n_consts.TUN_TABLE[tunnel_type], for tunnel_type in n_consts.TUNNEL_NETWORK_TYPES: self.tun_br.delete_flows(table=n_consts.TUN_TABLE[tunnel_type], for tunnel_type in n_consts.TUNNEL_NETWORK_TYPES: self.tun_br.add_flow(table=n_consts.TUN_TABLE[tunnel_type],",7,7
openstack%2Fsolum~master~Ib80591537eac4579bafc8b3ac1e961216e73f564,openstack/solum,master,Ib80591537eac4579bafc8b3ac1e961216e73f564,Update the minversion parameter.,ABANDONED,2022-02-03 10:26:06.000000000,2022-02-03 10:27:42.000000000,,[],"[{'number': 1, 'created': '2022-02-03 10:26:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/708b1d8885a13df0766f931828ce0ae049c87e63', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this. Remove the useless install_command\nparameter.\n\nChange-Id: Ib80591537eac4579bafc8b3ac1e961216e73f564\n""}]",0,827620,708b1d8885a13df0766f931828ce0ae049c87e63,2,0,1,31245,,,0,"Update the minversion parameter.

Update the minversion parameter to use the python -m pip to install
python packages:

https://tox.readthedocs.io/en/latest/changelog.html#id185

It's recommend to use this. Remove the useless install_command
parameter.

Change-Id: Ib80591537eac4579bafc8b3ac1e961216e73f564
",git fetch https://review.opendev.org/openstack/solum refs/changes/20/827620/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,708b1d8885a13df0766f931828ce0ae049c87e63,update_tox_minversion,minversion = 3.2.0,minversion = 2.0,4,4
openstack%2Fopenstack-ansible-os_manila~stable%2Fvictoria~I390a616611331259e3c20e25b5520a525c92b525,openstack/openstack-ansible-os_manila,stable/victoria,I390a616611331259e3c20e25b5520a525c92b525,Remove legacy centos-8 CI jobs,MERGED,2022-02-02 15:23:39.000000000,2022-02-03 10:12:27.000000000,2022-02-03 10:04:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 15:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/c820956342b7c0874599e28c64d327aa9939168d', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I390a616611331259e3c20e25b5520a525c92b525\n'}, {'number': 2, 'created': '2022-02-03 08:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/67c26f28055a837c499b8e525461451f9273e70b', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I390a616611331259e3c20e25b5520a525c92b525\n'}, {'number': 3, 'created': '2022-02-03 09:16:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0e74d297191ec90dd70351fbf5afc665fde5e0c2', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I390a616611331259e3c20e25b5520a525c92b525\n'}]",0,827515,0e74d297191ec90dd70351fbf5afc665fde5e0c2,13,3,3,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: I390a616611331259e3c20e25b5520a525c92b525
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/15/827515/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c820956342b7c0874599e28c64d327aa9939168d,osa/remove-centos8,, - openstack-ansible-deploy-aio_metal-centos-8 - openstack-ansible-deploy-aio_metal-centos-8,0,2
openstack%2Fmonasca-api~stable%2Fwallaby~Ibeac722420c266b97d2fe06fcb6adf27f6a4025e,openstack/monasca-api,stable/wallaby,Ibeac722420c266b97d2fe06fcb6adf27f6a4025e,Update branch to stable/wallaby for DevStack,ABANDONED,2022-01-31 15:39:26.000000000,2022-02-03 10:09:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 15:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ec0c1b27a1b1bc7b9a7cf1422ad0f5ffe111bad4', 'message': 'Update branch to stable/stein for DevStack\n\nChange-Id: Ibeac722420c266b97d2fe06fcb6adf27f6a4025e\n'}, {'number': 2, 'created': '2022-01-31 15:40:17.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/26ebf73f6bfcea241b2ae9a3656b5942fbc54af5', 'message': 'Update branch to stable/wallaby for DevStack\n\nChange-Id: Ibeac722420c266b97d2fe06fcb6adf27f6a4025e\n'}]",1,827132,26ebf73f6bfcea241b2ae9a3656b5942fbc54af5,6,1,2,28062,,,0,"Update branch to stable/wallaby for DevStack

Change-Id: Ibeac722420c266b97d2fe06fcb6adf27f6a4025e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/32/827132/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,ec0c1b27a1b1bc7b9a7cf1422ad0f5ffe111bad4,,MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-stable/wallaby}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-stable/wallaby}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-stable/wallaby}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-stable/wallaby}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-stable/wallaby}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-stable/wallaby}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-stable/wallaby}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-stable/wallaby}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-stable/wallaby},MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-master}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-master}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-master}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-master}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-master}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-master}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-master}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-master}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-master},9,9
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1,openstack/openstack-ansible-os_keystone,stable/victoria,Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1,Remove legacy centos-8 CI jobs,MERGED,2022-02-02 10:44:43.000000000,2022-02-03 10:06:12.000000000,2022-02-03 10:00:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 10:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ec9d4a2129275be495b3ddb461b121d696e66e59', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1\n'}, {'number': 2, 'created': '2022-02-03 08:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/13126f463c81e3736d4693ffc723fb79da4707d6', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1\n'}, {'number': 3, 'created': '2022-02-03 09:11:28.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/42153ba0b1e462b74ef05820586dc460f419a149', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1\n'}]",2,827400,42153ba0b1e462b74ef05820586dc460f419a149,18,3,3,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/00/827400/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,ec9d4a2129275be495b3ddb461b121d696e66e59,osa/remove-centos8,,- job: name: openstack-ansible-uw_apache-centos-8 parent: openstack-ansible-uw_apache nodeset: centos-8,0,6
openstack%2Fneutron~master~I81d12853be25d1290c49a1d4fec156cbc36c4f35,openstack/neutron,master,I81d12853be25d1290c49a1d4fec156cbc36c4f35,"DNM Revert ""Call enable DHCP only if there are subnets with enabled DHCP in network""",ABANDONED,2022-01-31 12:30:01.000000000,2022-02-03 10:04:21.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8449}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 12:30:01.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/351e6e4a2748f4c97f3cf2841c8c00e70018dba6', 'message': 'DNM Revert ""Call enable DHCP only if there are subnets with enabled DHCP in network""\n\nThis reverts commit 1562f9141ba9c90c69c1c851dd9a50c8108ab15f.\n\nDO NOT MERGE TESTING FOR NOW \n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1958955/comments/11\n\nChange-Id: I81d12853be25d1290c49a1d4fec156cbc36c4f35\n'}]",1,827014,351e6e4a2748f4c97f3cf2841c8c00e70018dba6,8,7,1,8449,,,0,"DNM Revert ""Call enable DHCP only if there are subnets with enabled DHCP in network""

This reverts commit 1562f9141ba9c90c69c1c851dd9a50c8108ab15f.

DO NOT MERGE TESTING FOR NOW 

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1958955/comments/11

Change-Id: I81d12853be25d1290c49a1d4fec156cbc36c4f35
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/827014/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,351e6e4a2748f4c97f3cf2841c8c00e70018dba6,bug/1953478,,"fake_port_subnet_2 = dhcp.DictModel( id='12345678-1234-aaaa-1234567890ab', device_id='dhcp-12345678-1234-aaaa-1234567890ab', device_owner='', allocation_pools=fake_subnet2_allocation_pools, mac_address='aa:bb:cc:dd:ee:ff', network_id=FAKE_NETWORK_UUID, fixed_ips=[fake_fixed_ip_subnet2]) fake_network_no_dhcp_subnets = dhcp.NetModel(id=FAKE_NETWORK_UUID, project_id=FAKE_PROJECT_ID, admin_state_up=True, subnets=[fake_subnet2], ports=[fake_port_subnet_2]) def test_configure_dhcp_for_network(self): dhcp = dhcp_agent.DhcpAgent(HOSTNAME) with mock.patch.object( dhcp, 'update_isolated_metadata_proxy') as ump, \ mock.patch.object( dhcp, 'call_driver', return_value=True): dhcp.configure_dhcp_for_network(fake_network) ump.assert_called_once_with(fake_network) self.assertIn(fake_network.id, dhcp.cache.get_network_ids()) self.assertIn(fake_port1.id, dhcp.dhcp_ready_ports) def test_configure_dhcp_for_network_no_subnets_with_dhcp_enabled(self): dhcp = dhcp_agent.DhcpAgent(HOSTNAME) with mock.patch.object( dhcp, 'update_isolated_metadata_proxy') as ump, \ mock.patch.object( dhcp, 'call_driver', return_value=True) as call_driver_mock: dhcp.configure_dhcp_for_network(fake_network_no_dhcp_subnets) ump.assert_not_called() call_driver_mock.assert_not_called() self.assertNotIn(fake_network_no_dhcp_subnets.id, dhcp.cache.get_network_ids()) self.assertNotIn(fake_port_subnet_2.id, dhcp.dhcp_ready_ports) ",1,43
openstack%2Fopenstack-ansible-openstack_hosts~master~I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,openstack/openstack-ansible-openstack_hosts,master,I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,Add data to disable the advanced-virtualisation repository,MERGED,2022-02-02 13:27:18.000000000,2022-02-03 09:58:06.000000000,2022-02-03 09:56:29.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-02 13:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/db780c7b64c2fbb85b9756af8b38f844513ba0e4', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n'}, {'number': 2, 'created': '2022-02-02 13:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/77b68bcf3286bd9e2fe8c4b003b52810f2814057', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n'}, {'number': 3, 'created': '2022-02-02 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/94513544c7a8a5b76758b41726bd4bd78e3dceae', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n'}, {'number': 4, 'created': '2022-02-02 15:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/218879ed04d756a1e64d3a596aeaa46f2c26a84b', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n'}, {'number': 5, 'created': '2022-02-02 16:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f3b53a0eaaaed65a8630787d4b9852c93ff5c2ff', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n'}, {'number': 6, 'created': '2022-02-02 17:26:06.000000000', 'files': ['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/7152a838952b658b9ce453235a61c79769ae50ed', 'message': 'Add data to disable the advanced-virtualisation repository\n\nThis repo no longer exists as part of the EOL of centos-8-stream.\nDisable the repo.\n\nChange-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678\n'}]",4,827495,7152a838952b658b9ce453235a61c79769ae50ed,18,3,6,25023,,,0,"Add data to disable the advanced-virtualisation repository

This repo no longer exists as part of the EOL of centos-8-stream.
Disable the repo.

Change-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/95/827495/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,db780c7b64c2fbb85b9756af8b38f844513ba0e4,," # NOTE(jrosser) Remove the advanced-virtualisation repo in the Z cycle # this task disables a legacy (non-stream) centos-8 repo - name: advanced-virtualization file: virt description: Advanced Virtualization mirror baseurl: ""{{ openstack_hosts_centos_mirror_url }}/8/virt/$basearch/advanced-virtualization/"" gpgcheck: no module_hotfixes: yes enabled: false",,9,0
openstack%2Fmonasca-ui~stable%2Fxena~I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee,openstack/monasca-ui,stable/xena,I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee,Change policy file format to yaml,MERGED,2021-11-01 08:07:26.000000000,2022-02-03 09:57:50.000000000,2022-02-03 09:57:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-11-01 08:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/97e618ddf11bd5961963595e2f937a62776fe096', 'message': 'Change policy file format to yaml\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}, {'number': 2, 'created': '2022-02-03 07:48:24.000000000', 'files': ['monitoring/conf/monitoring_policy.json', 'README.rst', 'monitoring/conf/monitoring_policy.yaml', 'monitoring/config/local_settings.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/ec3155027a298f9049db1d1c30ec91b94d1a85da', 'message': 'Change policy file format to yaml\n\nhttps://governance.openstack.org/tc/goals/completed/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}]",2,816131,ec3155027a298f9049db1d1c30ec91b94d1a85da,11,3,2,31746,,,0,"Change policy file format to yaml

https://governance.openstack.org/tc/goals/completed/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/31/816131/1 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/conf/monitoring_policy.json', 'monitoring/conf/monitoring_policy.yaml', 'monitoring/config/local_settings.py']",3,97e618ddf11bd5961963595e2f937a62776fe096,,"POLICY_FILES.update({'monitoring': 'monitoring_policy.yaml',}) # noqa","POLICY_FILES.update({'monitoring': 'monitoring_policy.json',}) # noqa",5,9
openstack%2Fmonasca-ui~master~I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee,openstack/monasca-ui,master,I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee,Change policy file format to yaml,MERGED,2021-11-01 07:44:12.000000000,2022-02-03 09:51:08.000000000,2022-02-03 09:51:08.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-11-01 07:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/29f190a52049b6c08330eaf15305617e4c203279', 'message': 'Change policy file format to yaml\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}, {'number': 2, 'created': '2021-11-01 08:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/fb8ac73008c70d7d44b43a7c0f2bc8dbae21c106', 'message': 'Change policy file format to yaml\n\nhttps://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}, {'number': 3, 'created': '2022-02-03 07:33:59.000000000', 'files': ['monitoring/conf/monitoring_policy.json', 'README.rst', 'monitoring/conf/monitoring_policy.yaml', 'monitoring/config/local_settings.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/d062507ef5794fbc8720eeee7d0f9804e23c3136', 'message': 'Change policy file format to yaml\n\nhttps://governance.openstack.org/tc/goals/completed/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}]",5,816125,d062507ef5794fbc8720eeee7d0f9804e23c3136,15,5,3,31746,,,0,"Change policy file format to yaml

https://governance.openstack.org/tc/goals/completed/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/25/816125/3 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/conf/monitoring_policy.json', 'monitoring/conf/monitoring_policy.yaml', 'monitoring/config/local_settings.py']",3,29f190a52049b6c08330eaf15305617e4c203279,,"POLICY_FILES.update({'monitoring': 'monitoring_policy.yaml',}) # noqa","POLICY_FILES.update({'monitoring': 'monitoring_policy.json',}) # noqa",5,9
openstack%2Fmonasca-ui~stable%2Fwallaby~I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee,openstack/monasca-ui,stable/wallaby,I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee,Change policy file format to yaml,MERGED,2021-11-01 08:07:47.000000000,2022-02-03 09:48:22.000000000,2022-02-03 09:48:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-11-01 08:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/9b5f9ea6b1159af4211f1c8a3277f5b0c8a5758d', 'message': 'Change policy file format to yaml\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}, {'number': 2, 'created': '2022-02-03 07:53:46.000000000', 'files': ['monitoring/conf/monitoring_policy.json', 'README.rst', 'monitoring/conf/monitoring_policy.yaml', 'monitoring/config/local_settings.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/8eef491ad5f4e719f190b367d155134bdc32eaf2', 'message': 'Change policy file format to yaml\n\nhttps://governance.openstack.org/tc/goals/completed/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee\n'}]",4,816132,8eef491ad5f4e719f190b367d155134bdc32eaf2,12,3,2,31746,,,0,"Change policy file format to yaml

https://governance.openstack.org/tc/goals/completed/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I487bbe982b83db5e1815a4c8a06d5fd0e203e8ee
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/32/816132/2 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/conf/monitoring_policy.json', 'monitoring/conf/monitoring_policy.yaml', 'monitoring/config/local_settings.py']",3,9b5f9ea6b1159af4211f1c8a3277f5b0c8a5758d,,"POLICY_FILES.update({'monitoring': 'monitoring_policy.yaml',}) # noqa","POLICY_FILES.update({'monitoring': 'monitoring_policy.json',}) # noqa",5,9
openstack%2Fmagnum~master~I2f9651421370ba44e2f0ddc7bb6526745b62ad40,openstack/magnum,master,I2f9651421370ba44e2f0ddc7bb6526745b62ad40,Fix kubelet on FCOS 34,MERGED,2021-07-12 07:39:41.000000000,2022-02-03 09:37:58.000000000,2022-02-03 09:36:32.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-07-12 07:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/70c91a41f850b3ccef40a6692c7b1840dd0b4037', 'message': 'Fix kubelet on FCOS 34\n\nFedora CoreOS 34 has switched from cgroups v1 to\ncgroups v2 by default, which changes the sysfs hierarchy.\n\nTask: 42809\nStory: 2009045\n\nChange-Id: I2f9651421370ba44e2f0ddc7bb6526745b62ad40\n'}, {'number': 2, 'created': '2021-07-12 11:09:43.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/fe75ca3459a5b44b835b4157149d062526953915', 'message': 'Fix kubelet on FCOS 34\n\nFedora CoreOS 34 has switched from cgroups v1 to\ncgroups v2 by default, which changes the sysfs hierarchy.\n\nTask: 42809\nStory: 2009045\n\nChange-Id: I2f9651421370ba44e2f0ddc7bb6526745b62ad40\n'}]",9,800428,fe75ca3459a5b44b835b4157149d062526953915,35,4,2,6484,,,0,"Fix kubelet on FCOS 34

Fedora CoreOS 34 has switched from cgroups v1 to
cgroups v2 by default, which changes the sysfs hierarchy.

Task: 42809
Story: 2009045

Change-Id: I2f9651421370ba44e2f0ddc7bb6526745b62ad40
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/800428/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,70c91a41f850b3ccef40a6692c7b1840dd0b4037,story/2009045-42809-fcos34, --volume /sys/fs/cgroup:/sys/fs/cgroup \\, --volume /sys/fs/cgroup:/sys/fs/cgroup:ro \\ --volume /sys/fs/cgroup/systemd:/sys/fs/cgroup/systemd \\,2,4
openstack%2Fglance~master~I7badeeaca438b0291f4ed86670e7f217e6372c61,openstack/glance,master,I7badeeaca438b0291f4ed86670e7f217e6372c61,Remove six.moves.http_client usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-03 09:17:42.000000000,2022-02-03 09:12:25.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/60f30eaba15950dc7700ba1541120b06fc1cdb6f', 'message': 'Remove six.moves.http_client usage\n\nThis is a rather beefy change due to the number of usages of this\nimport. The changes are trivial though.\n\nChange-Id: I7badeeaca438b0291f4ed86670e7f217e6372c61\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-12-23 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ff2a90a24fac13885afab49b96751b0300f826f3', 'message': 'Remove six.moves.http_client usage\n\nThis is a rather beefy change due to the number of usages of this\nimport. The changes are trivial though.\n\nChange-Id: I7badeeaca438b0291f4ed86670e7f217e6372c61\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/functional/test_healthcheck_middleware.py', 'glance/tests/functional/v2/test_schemas.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/functional/v2/test_metadef_namespaces.py', 'glance/api/v2/image_actions.py', 'glance/tests/functional/test_wsgi.py', 'glance/api/v2/metadef_resource_types.py', 'glance/common/auth.py', 'glance/tests/utils.py', 'glance/tests/unit/test_versions.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/tests/unit/v2/test_image_tags_resource.py', 'glance/tests/functional/test_api.py', 'glance/api/v2/images.py', 'glance/tests/functional/v2/test_metadef_resourcetypes.py', 'glance/tests/functional/v2/test_metadef_objects.py', 'glance/tests/functional/test_reload.py', 'glance/api/v2/tasks.py', 'glance/tests/integration/v2/test_property_quota_violations.py', 'glance/tests/unit/common/test_exception.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/ft_utils.py', 'glance/api/v2/image_tags.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/common/test_client.py', 'glance/api/versions.py', 'glance/api/v2/metadef_namespaces.py', 'glance/tests/functional/v2/test_metadef_properties.py', 'glance/api/v2/metadef_objects.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/api/middleware/cache.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/metadef_properties.py', 'glance/api/v2/metadef_tags.py', 'glance/tests/functional/v2/test_tasks.py', 'glance/tests/functional/test_cache_middleware.py', 'glance/tests/functional/store_utils.py', 'glance/api/v2/image_members.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/cmd/replicator.py', 'glance/common/client.py', 'glance/tests/functional/serial/test_scrubber.py', 'glance/tests/unit/v2/test_image_members_resource.py', 'glance/tests/functional/test_cors_middleware.py', 'glance/tests/functional/v2/test_metadef_tags.py', 'glance/tests/functional/test_logging.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9679ffc46349134082f31b2d67214a567f7e8f32', 'message': 'Remove six.moves.http_client usage\n\nThis is a rather beefy change due to the number of usages of this\nimport. The changes are trivial though.\n\nChange-Id: I7badeeaca438b0291f4ed86670e7f217e6372c61\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",9,822736,9679ffc46349134082f31b2d67214a567f7e8f32,24,4,3,15334,,,0,"Remove six.moves.http_client usage

This is a rather beefy change due to the number of usages of this
import. The changes are trivial though.

Change-Id: I7badeeaca438b0291f4ed86670e7f217e6372c61
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/822736/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/functional/test_healthcheck_middleware.py', 'glance/tests/functional/v2/test_schemas.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/functional/v2/test_metadef_namespaces.py', 'glance/api/v2/image_actions.py', 'glance/tests/functional/test_wsgi.py', 'glance/api/v2/metadef_resource_types.py', 'glance/common/auth.py', 'glance/tests/utils.py', 'glance/tests/unit/test_versions.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/tests/unit/v2/test_image_tags_resource.py', 'glance/tests/functional/test_api.py', 'glance/api/v2/images.py', 'glance/tests/functional/v2/test_metadef_resourcetypes.py', 'glance/tests/functional/v2/test_metadef_objects.py', 'glance/tests/functional/test_reload.py', 'glance/api/v2/tasks.py', 'glance/tests/integration/v2/test_property_quota_violations.py', 'glance/tests/unit/common/test_exception.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/ft_utils.py', 'glance/api/v2/image_tags.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/common/test_client.py', 'glance/api/versions.py', 'glance/api/v2/metadef_namespaces.py', 'glance/tests/functional/v2/test_metadef_properties.py', 'glance/api/v2/metadef_objects.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/api/middleware/cache.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/metadef_properties.py', 'glance/api/v2/metadef_tags.py', 'glance/tests/functional/v2/test_tasks.py', 'glance/tests/functional/test_cache_middleware.py', 'glance/tests/functional/store_utils.py', 'glance/api/v2/image_members.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/cmd/replicator.py', 'glance/common/client.py', 'glance/tests/functional/serial/test_scrubber.py', 'glance/tests/unit/v2/test_image_members_resource.py', 'glance/tests/functional/test_cors_middleware.py', 'glance/tests/functional/v2/test_metadef_tags.py', 'glance/tests/functional/test_logging.py']",50,60f30eaba15950dc7700ba1541120b06fc1cdb6f,remove-six,import http.client as http,from six.moves import http_client as http,193,160
openstack%2Fneutron-tempest-plugin~master~I6ae7891912d9c3dda9349a6e11a1011fd5bc4012,openstack/neutron-tempest-plugin,master,I6ae7891912d9c3dda9349a6e11a1011fd5bc4012,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-03 07:02:52.000000000,2022-02-03 09:12:28.000000000,2022-02-03 09:12:28.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 07:02:52.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/77bfe311d25417a90d9b7761e789d6a08c3f50c4', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nChange-Id: I6ae7891912d9c3dda9349a6e11a1011fd5bc4012\n""}]",4,827594,77bfe311d25417a90d9b7761e789d6a08c3f50c4,10,8,1,13861,,,0,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: I6ae7891912d9c3dda9349a6e11a1011fd5bc4012
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/94/827594/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml']",2,77bfe311d25417a90d9b7761e789d6a08c3f50c4,neutron-ci-improvements, - ^zuul.d/(?!(project)).*\.yaml, - ^zuul.d/(queens|rocky|stein|train|ussuri)_jobs.yaml$ - ^zuul.d/base-nested-switch.yaml$,12,24
openstack%2Fpython-tripleoclient~master~I1dbb3e4864688ec931bb19a8f1891d2822632f5a,openstack/python-tripleoclient,master,I1dbb3e4864688ec931bb19a8f1891d2822632f5a,Move baremetal configure commands from Ansible,MERGED,2022-01-06 12:54:10.000000000,2022-02-03 09:09:44.000000000,2022-02-03 09:07:36.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 12:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/265e44ad7414daa4e039838f23ce8bbfa8bda5a1', 'message': 'Move baremetal configure commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal configure process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a\n'}, {'number': 2, 'created': '2022-01-06 16:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92bbc3c2ddc0bc63937f0f0d78acb6485e939ab2', 'message': 'Move baremetal configure commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal configure process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a\n'}, {'number': 3, 'created': '2022-01-06 16:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5df809cdc33c427a9837517fa765f1879291854d', 'message': 'Move baremetal configure commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal configure process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a\n'}, {'number': 4, 'created': '2022-01-06 16:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/360195aa358f26ce9d4df9c90d7826935c5a0b78', 'message': 'Move baremetal configure commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal configure process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a\n'}, {'number': 5, 'created': '2022-01-07 00:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd071856727fba75678d0a31f5e8e9be7405e8af', 'message': 'Move baremetal configure commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal configure process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a\n'}, {'number': 6, 'created': '2022-01-26 21:30:11.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/workflows/tripleo_baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/134270f240ce224614169a3663733610f96020d8', 'message': 'Move baremetal configure commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal configure process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a\n'}]",2,823685,134270f240ce224614169a3663733610f96020d8,24,5,6,30073,,,0,"Move baremetal configure commands from Ansible

Currently, we leverage Ansible to handle the
baremetal configure process. As part of our efforts
to support work on Tripleo.Next, these Ansible
workflows will need to be migrated to tripleoclient.

This change is consolodating Python methods from
tripleo-ansible into tripleoclient.

Change-Id: I1dbb3e4864688ec931bb19a8f1891d2822632f5a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/823685/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/workflows/tripleo_baremetal.py']",5,265e44ad7414daa4e039838f23ce8bbfa8bda5a1,ooonext_bm_configure,"from oslo_utils import unitsfrom tripleo_common.utils import nodes as node_utils class TripleoConfigure(TripleoBaremetal): """"""TripleoConfigure handles properties for the ironic nodes. We use this class to set the properties for each node such as the kernel, ramdisk, boot device, root_device. :param kernel_name: The name of the kernel image we will deploy :type kernel_name: String :param ramdisk_name: The name of the ramdisk image we will deploy :type ramdisk_name: String :param instance_boot: Should the node boot from local disks or something else :type instance_boot: String :param boot_mode: Is this node using BIOS or UEFI :type boot_mode: String :param: root_device: What is the root device for this node. eg /dev/sda :type root_device: String :param root_device_minimum_size: What is the smallest disk we should consider acceptable for deployment :type root_device: Integer :param overwrite_root_device_hints: Should we overwrite existing root device hints when root_device is used. :type overwrite_root_device_hints: Boolean """""" log = logging.getLogger(__name__) def __init__(self, kernel_name: str = None, ramdisk_name: str = None, instance_boot_option: str = None, boot_mode: str = None, root_device: str = None, verbosity: int = 0, root_device_minimum_size: int = 4, overwrite_root_device_hints: bool = False): super().__init__(verbosity=verbosity) self.kernel_name = kernel_name self.ramdisk_name = ramdisk_name self.instance_boot_option = instance_boot_option self.boot_mode = boot_mode self.root_device = root_device self.root_device_minimum_size = root_device_minimum_size self.overwrite_root_device_hints = overwrite_root_device_hints def _apply_root_device_strategy(self, node_uuid: List, strategy: str, minimum_size: int = 4, overwrite: bool = False): clients = self.conn node = clients.baremetal.find_node(node_uuid) if node.properties.get('root_device') and not overwrite: # This is a correct situation, we still want to allow people to # fine-tune the root device setting for a subset of nodes. # However, issue a warning, so that they know which nodes were not # updated during this run. self.log.warning('Root device hints are already set for node ' '{} and overwriting is not requested,' ' skipping'.format(node.id)) self.log.warning('You may unset them by running $ ironic ' 'node-update {} remove ' 'properties/root_device'.format(node.id)) return inspector_client = self.conn.baremetal_introspection baremetal_client = self.conn.baremetal try: data = inspector_client.get_introspection_data(node.id) except Exception: raise exceptions.RootDeviceDetectionError( f'No introspection data found for node {node.id}, ' 'root device cannot be detected') try: disks = data['inventory']['disks'] except KeyError: raise exceptions.RootDeviceDetectionError( f'Malformed introspection data for node {node.id}: ' 'disks list is missing') minimum_size *= units.Gi disks = [d for d in disks if d.get('size', 0) >= minimum_size] if not disks: raise exceptions.RootDeviceDetectionError( f'No suitable disks found for node {node.id}') if strategy == 'smallest': disks.sort(key=lambda d: d['size']) root_device = disks[0] elif strategy == 'largest': disks.sort(key=lambda d: d['size'], reverse=True) root_device = disks[0] else: disk_names = [x.strip() for x in strategy.split(',')] disks = {d['name']: d for d in disks} for candidate in disk_names: try: root_device = disks['/dev/%s' % candidate] except KeyError: continue else: break else: raise exceptions.RootDeviceDetectionError( f'Cannot find a disk with any of names {strategy} ' f'for node {node.id}') hint = None for hint_name in ('wwn_with_extension', 'wwn', 'serial'): if root_device.get(hint_name): hint = {hint_name: root_device[hint_name]} break if hint is None: # I don't think it might actually happen, but just in case raise exceptions.RootDeviceDetectionError( f""Neither WWN nor serial number are known for device "" f""{root_device['name']} "" f""on node {node.id}; root device hints cannot be used"") # During the introspection process we got local_gb assigned according # to the default strategy. Now we need to update it. new_size = root_device['size'] / units.Gi # This -1 is what we always do to account for partitioning new_size -= 1 baremetal_client.update_node( node.id, [{'op': 'add', 'path': '/properties/root_device', 'value': hint}, {'op': 'add', 'path': '/properties/local_gb', 'value': new_size}]) self.log.info('Updated root device for node %s, new device ' 'is %s, new local_gb is %s', node.id, root_device, new_size ) def _configure_boot(self, node_uuid: List, kernel_name: str = None, ramdisk_name: str = None, instance_boot_option: str = None, boot_mode: str = None): baremetal_client = self.conn.baremetal image_ids = {'kernel': kernel_name, 'ramdisk': ramdisk_name} node = baremetal_client.find_node(node_uuid) capabilities = node.properties.get('capabilities', {}) capabilities = node_utils.capabilities_to_dict(capabilities) if instance_boot_option is not None: capabilities['boot_option'] = instance_boot_option if boot_mode is not None: capabilities['boot_mode'] = boot_mode capabilities = node_utils.dict_to_capabilities(capabilities) baremetal_client.update_node(node.id, [ { 'op': 'add', 'path': '/properties/capabilities', 'value': capabilities, }, { 'op': 'add', 'path': '/driver_info/deploy_ramdisk', 'value': image_ids['ramdisk'], }, { 'op': 'add', 'path': '/driver_info/deploy_kernel', 'value': image_ids['kernel'], }, { 'op': 'add', 'path': '/driver_info/rescue_ramdisk', 'value': image_ids['ramdisk'], }, { 'op': 'add', 'path': '/driver_info/rescue_kernel', 'value': image_ids['kernel'], }, ]) def configure(self, node_uuids: List): """"""Configure Node boot options. :param node_uuids: List of instance UUID(s). :type node_uuids: List """""" for node_uuid in node_uuids: self._configure_boot(node_uuid, self.kernel_name, self.ramdisk_name, self.instance_boot_option, self.boot_mode) if self.root_device: self._apply_root_device_strategy( node_uuid, strategy=self.root_device, minimum_size=self.root_device_minimum_size, overwrite=self.overwrite_root_device_hints) self.log.info('Successfully configured the nodes.') def configure_manageable_nodes(self): self.configure(node_uuids=self.all_manageable_nodes())",,339,137
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4d82e2a467c4250b23cc7de97233f934b3dbbe46,openstack/tripleo-heat-templates,stable/wallaby,I4d82e2a467c4250b23cc7de97233f934b3dbbe46,Defining fs.aio-max-nr for hosts with libvirt service,MERGED,2022-01-28 18:34:57.000000000,2022-02-03 09:09:38.000000000,2022-02-03 09:07:28.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-28 18:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d29019c9715d54b2dd772a095fe6a01078747096', 'message': ""Defining fs.aio-max-nr for hosts with libvirt service\n\nWhen we install libvirt on a host, the system parameter ``fs.aio-max-nr`` is\nto 1048576. Since we containerized libvirtd, we lost this system parameter.\nWe now make sure it's defined by adding it from the nova-libvirt-common\ntemplate.\n\nResolves: rhbz#2036195\nChange-Id: I4d82e2a467c4250b23cc7de97233f934b3dbbe46\n(cherry picked from commit 97c1306b27508d842a108cd6f746cd0f3c607fbe)\n""}, {'number': 2, 'created': '2022-01-28 20:19:37.000000000', 'files': ['roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'releasenotes/notes/fixing-fs.aio-max.nr-on-compute-06447122b8e12c71.yaml', 'roles/ComputeSriovIB.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeVdpa.yaml', 'roles/ComputeRBDEphemeral.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8acb586ddbea402c5c7da096137deeb74de4189', 'message': ""Defining fs.aio-max-nr for hosts with libvirt service\n\nWhen we install libvirt on a host, the system parameter ``fs.aio-max-nr`` is\nto 1048576. Since we containerized libvirtd, we lost this system parameter.\nWe now make sure it's defined by adding it from the nova-libvirt-common\ntemplate.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2036195\nCloses-Bug: 1959449\nChange-Id: I4d82e2a467c4250b23cc7de97233f934b3dbbe46\n(cherry picked from commit 97c1306b27508d842a108cd6f746cd0f3c607fbe)\n""}]",3,826845,e8acb586ddbea402c5c7da096137deeb74de4189,24,7,2,27419,,,0,"Defining fs.aio-max-nr for hosts with libvirt service

When we install libvirt on a host, the system parameter ``fs.aio-max-nr`` is
to 1048576. Since we containerized libvirtd, we lost this system parameter.
We now make sure it's defined by adding it from the nova-libvirt-common
template.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=2036195
Closes-Bug: 1959449
Change-Id: I4d82e2a467c4250b23cc7de97233f934b3dbbe46
(cherry picked from commit 97c1306b27508d842a108cd6f746cd0f3c607fbe)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/826845/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'deployment/kernel/kernel-baremetal-ansible.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'releasenotes/notes/fixing-fs.aio-max.nr-on-compute-06447122b8e12c71.yaml', 'roles/ComputeSriovIB.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeVdpa.yaml', 'roles/ComputeRBDEphemeral.yaml']",27,d29019c9715d54b2dd772a095fe6a01078747096,, FsAioMaxNumber: 1048576,,53,1
openstack%2Ftripleo-quickstart~master~Ia46679c63d8a318b30d987f62ea76fd418916402,openstack/tripleo-quickstart,master,Ia46679c63d8a318b30d987f62ea76fd418916402,Disable use_yum_config_module for wallaby,MERGED,2022-02-02 19:14:50.000000000,2022-02-03 09:09:23.000000000,2022-02-03 09:07:16.000000000,"[{'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-02 19:14:50.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7c4bd2744ef918035c42232120578f25aef55b2', 'message': 'Disable use_yum_config_module for wallaby\n\nDisable use_yum_config_module as it breaks the\nuse of release files in image\nand container builds for wallaby.\n\nRe-enable this later when yum-config without\ncollections merges\n\nChange-Id: Ia46679c63d8a318b30d987f62ea76fd418916402\n'}]",3,827544,a7c4bd2744ef918035c42232120578f25aef55b2,14,4,1,9976,,,0,"Disable use_yum_config_module for wallaby

Disable use_yum_config_module as it breaks the
use of release files in image
and container builds for wallaby.

Re-enable this later when yum-config without
collections merges

Change-Id: Ia46679c63d8a318b30d987f62ea76fd418916402
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/44/827544/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",2,a7c4bd2744ef918035c42232120578f25aef55b2,use_release_file,# TODO (rlandy) re-enable this later use_yum_config_module: false,use_yum_config_module: true,4,2
openstack%2Ftripleo-common~master~I2d9709e057dc1c818afbadebba79889e6447e836,openstack/tripleo-common,master,I2d9709e057dc1c818afbadebba79889e6447e836,Add exception handler for role networks,MERGED,2022-01-17 19:04:27.000000000,2022-02-03 09:08:59.000000000,2022-02-03 09:07:13.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 19:04:27.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fcbe594e923abddc111047346276bd883952456a', 'message': 'Add exception handler for role networks\n\nWhen a role network is undefined, or otherwise unknown, we need to raise\na warning but allow the generation to continue.\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I2d9709e057dc1c818afbadebba79889e6447e836\n'}]",1,825006,fcbe594e923abddc111047346276bd883952456a,11,4,1,7353,,,0,"Add exception handler for role networks

When a role network is undefined, or otherwise unknown, we need to raise
a warning but allow the generation to continue.

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I2d9709e057dc1c818afbadebba79889e6447e836
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/825006/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,fcbe594e923abddc111047346276bd883952456a,," try: ips = net_ip_map[self.host_network] except KeyError: LOG.warning( ""Network key %s not found, check role data for %s"", self.host_network, role_name ) continue ", ips = net_ip_map[self.host_network],10,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/victoria,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:21:45.000000000,2022-02-03 09:07:32.000000000,2022-02-03 09:07:32.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 16:21:45.000000000', 'files': ['deployment/octavia/octavia-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ca0ebbdddeb18d9bedfe2177feed033ddb2c334', 'message': ""Use only internal endpoints in Octavia controller services\n\nOctavia controller services should use internal endpoints instead of the\ndefault public endpoints.\nSome deployment topologies (composable networkers) don't allow\ncommunication between the nodes that run Octavia and the public\nendpoints.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824985\n\nChange-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4\n(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)\n""}]",1,824986,2ca0ebbdddeb18d9bedfe2177feed033ddb2c334,15,4,1,29244,,,0,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824985

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/824986/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-base.yaml'],1,2ca0ebbdddeb18d9bedfe2177feed033ddb2c334,, octavia::nova::endpoint_type: 'internalURL' octavia::neutron::endpoint_type: 'internalURL' octavia::glance::endpoint_type: 'internalURL' octavia::certificates::endpoint_type: 'internalURL',,4,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/wallaby,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:12:38.000000000,2022-02-03 09:07:24.000000000,2022-02-03 09:07:24.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 16:12:38.000000000', 'files': ['deployment/octavia/octavia-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8903513136c84201528a4bfc22425868e405168d', 'message': ""Use only internal endpoints in Octavia controller services\n\nOctavia controller services should use internal endpoints instead of the\ndefault public endpoints.\nSome deployment topologies (composable networkers) don't allow\ncommunication between the nodes that run Octavia and the public\nendpoints.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824983\n\nChange-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4\n(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)\n""}]",2,824984,8903513136c84201528a4bfc22425868e405168d,18,4,1,29244,,,0,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824983

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/824984/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-base.yaml'],1,8903513136c84201528a4bfc22425868e405168d,, octavia::nova::endpoint_type: 'internalURL' octavia::neutron::endpoint_type: 'internalURL' octavia::glance::endpoint_type: 'internalURL' octavia::cinder::endpoint_type: 'internalURL' octavia::certificates::endpoint_type: 'internalURL',,5,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~If11f21c05a795108d76a3d210e2ebf11d7114c50,openstack/tripleo-ansible,stable/victoria,If11f21c05a795108d76a3d210e2ebf11d7114c50,Make template ovn_chassis_mac_map backwards-compatible,MERGED,2022-01-31 16:21:16.000000000,2022-02-03 09:07:21.000000000,2022-02-03 09:07:21.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 16:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec8f4328e47f2b5a525a774de89faed6288c2d8f', 'message': 'Make template ovn_chassis_mac_map backwards-compatible\n\nConflicts:\n  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2\n\nChange-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50\n(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)\n'}, {'number': 2, 'created': '2022-02-02 15:07:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/893a237e61476bc44c3377982f7a748897de62aa', 'message': 'Make template ovn_chassis_mac_map backwards-compatible\n\nConflicts:\n  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2\n\nRelated-Bug: #1881593\nChange-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50\n(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)\n'}]",1,827147,893a237e61476bc44c3377982f7a748897de62aa,10,2,2,6681,,,0,"Make template ovn_chassis_mac_map backwards-compatible

Conflicts:
  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2

Related-Bug: #1881593
Change-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50
(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/827147/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2'],1,ec8f4328e47f2b5a525a774de89faed6288c2d8f,bug/1881593,"{% if ovn_bridge_mac_address_vars is defined %} {{ ovn_bridge_mac_address_vars[inventory_hostname] | default({}) | to_nice_json }} {% else %} {% set ovn_chassis_mac_map_data = {} %} {% set _ = ovn_chassis_mac_map_data.__setitem__('ovn_chassis_mac_map', hostvars[inventory_hostname].get('ovn_chassis_mac_map', {})) %} {{ ovn_chassis_mac_map_data | to_nice_json }} {% endif %}",{{ hostvars[inventory_hostname]['ovn_chassis_mac_map'] | default({}) | to_nice_json }},7,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ib6a3f384f32c6c4fbd577a5bee62db620401f850,openstack/tripleo-ansible,stable/victoria,Ib6a3f384f32c6c4fbd577a5bee62db620401f850,Force NetworkManager to unmanage /etc/resolv.conf,MERGED,2022-01-27 04:29:01.000000000,2022-02-03 09:07:18.000000000,2022-02-03 09:07:18.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 04:29:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9411786d6d0fad51eaed903561c04575ab2c18af', 'message': 'Force NetworkManager to unmanage /etc/resolv.conf\n\nThe patch done via I989e3f1d14fd33e97933032111cf48166dc5f50c was\napparently not enough and we have seen cases where the /etc/resolv.conf\nis still managed by NetworkManager (and DNS config nuked, causing\ndeployment issues).\n\nThis patch will use the `rc-manager` option and set to `unmanaged` which\nwill really force NM to unmanage this file.\n\nCloses-Bug: #1958989\nChange-Id: Ib6a3f384f32c6c4fbd577a5bee62db620401f850\n(cherry picked from commit 9d0da2b383239d296b28ecb3b2458543dc0f0cb4)\n'}]",1,826555,9411786d6d0fad51eaed903561c04575ab2c18af,7,2,1,3153,,,0,"Force NetworkManager to unmanage /etc/resolv.conf

The patch done via I989e3f1d14fd33e97933032111cf48166dc5f50c was
apparently not enough and we have seen cases where the /etc/resolv.conf
is still managed by NetworkManager (and DNS config nuked, causing
deployment issues).

This patch will use the `rc-manager` option and set to `unmanaged` which
will really force NM to unmanage this file.

Closes-Bug: #1958989
Change-Id: Ib6a3f384f32c6c4fbd577a5bee62db620401f850
(cherry picked from commit 9d0da2b383239d296b28ecb3b2458543dc0f0cb4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/826555/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,9411786d6d0fad51eaed903561c04575ab2c18af,lp_1958989-stable/victoria, - name: Set 'rc-manager=unmanaged' in /etc/NetworkManager/NetworkManager.conf ini_file: path: /etc/NetworkManager/NetworkManager.conf state: present no_extra_spaces: true section: main option: rc-manager value: unmanaged backup: true,,9,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Ib6a3f384f32c6c4fbd577a5bee62db620401f850,openstack/tripleo-ansible,stable/ussuri,Ib6a3f384f32c6c4fbd577a5bee62db620401f850,Force NetworkManager to unmanage /etc/resolv.conf,MERGED,2022-01-27 04:29:13.000000000,2022-02-03 09:07:10.000000000,2022-02-03 09:07:10.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 04:29:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57422a1ac557c2a5211a4d421e11484faf27634f', 'message': 'Force NetworkManager to unmanage /etc/resolv.conf\n\nThe patch done via I989e3f1d14fd33e97933032111cf48166dc5f50c was\napparently not enough and we have seen cases where the /etc/resolv.conf\nis still managed by NetworkManager (and DNS config nuked, causing\ndeployment issues).\n\nThis patch will use the `rc-manager` option and set to `unmanaged` which\nwill really force NM to unmanage this file.\n\nCloses-Bug: #1958989\nChange-Id: Ib6a3f384f32c6c4fbd577a5bee62db620401f850\n(cherry picked from commit 9d0da2b383239d296b28ecb3b2458543dc0f0cb4)\n'}]",1,826556,57422a1ac557c2a5211a4d421e11484faf27634f,7,2,1,3153,,,0,"Force NetworkManager to unmanage /etc/resolv.conf

The patch done via I989e3f1d14fd33e97933032111cf48166dc5f50c was
apparently not enough and we have seen cases where the /etc/resolv.conf
is still managed by NetworkManager (and DNS config nuked, causing
deployment issues).

This patch will use the `rc-manager` option and set to `unmanaged` which
will really force NM to unmanage this file.

Closes-Bug: #1958989
Change-Id: Ib6a3f384f32c6c4fbd577a5bee62db620401f850
(cherry picked from commit 9d0da2b383239d296b28ecb3b2458543dc0f0cb4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/826556/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,57422a1ac557c2a5211a4d421e11484faf27634f,lp_1958989-stable/ussuri, - name: Set 'rc-manager=unmanaged' in /etc/NetworkManager/NetworkManager.conf ini_file: path: /etc/NetworkManager/NetworkManager.conf state: present no_extra_spaces: true section: main option: rc-manager value: unmanaged backup: true,,9,1
openstack%2Ftacker~master~Icb7833b10771c04cb9c474dc623d8707f745820c,openstack/tacker,master,Icb7833b10771c04cb9c474dc623d8707f745820c,Handle invalid attrName in v2 API AttributeFilter,MERGED,2022-01-27 01:57:20.000000000,2022-02-03 08:45:23.000000000,2022-02-03 08:43:37.000000000,"[{'_account_id': 4149}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 34226}]","[{'number': 1, 'created': '2022-01-27 01:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a03ee1db1d10703d6cf0b46e7c8a8bfade148ba7', 'message': 'Handle invalid attrName in v2 API AttributeFilter\n\nWhen an invalid attrName was passed to AttributeFilter, it caused\na 500 error.  This commit makes AttributeFilter to return a\nmore-appropriate 400 error.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Icb7833b10771c04cb9c474dc623d8707f745820c\n'}, {'number': 2, 'created': '2022-01-27 08:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/15a275857d1d881d9864a28fc4e276fd695182c0', 'message': 'Handle invalid attrName in v2 API AttributeFilter\n\nWhen an invalid attrName was passed to AttributeFilter, it caused\na 500 error.  This commit makes AttributeFilter to return a\nmore-appropriate 400 error.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Icb7833b10771c04cb9c474dc623d8707f745820c\n'}, {'number': 3, 'created': '2022-01-27 08:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c268c5c9bef567b84345ff3f3cfc9b11d5e38e43', 'message': 'Handle invalid attrName in v2 API AttributeFilter\n\nWhen an invalid attrName was passed to AttributeFilter, it caused\na 500 error.  This commit makes AttributeFilter to return a\nmore-appropriate 400 error.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Icb7833b10771c04cb9c474dc623d8707f745820c\n'}, {'number': 4, 'created': '2022-02-01 09:17:05.000000000', 'files': ['tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_view.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/158f05e4734904872fd7378c1bd5f43fe3aa05d9', 'message': 'Handle invalid attrName in v2 API AttributeFilter\n\nWhen an invalid attrName was passed to AttributeFilter, it caused\na 500 error.  This commit makes AttributeFilter to return a\nmore-appropriate 400 error.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Icb7833b10771c04cb9c474dc623d8707f745820c\n'}]",19,826571,158f05e4734904872fd7378c1bd5f43fe3aa05d9,25,8,4,9200,,,0,"Handle invalid attrName in v2 API AttributeFilter

When an invalid attrName was passed to AttributeFilter, it caused
a 500 error.  This commit makes AttributeFilter to return a
more-appropriate 400 error.

Implements: blueprint support-nfv-solv3-query-vnf-instances
Implements: blueprint support-nfv-solv3-query-operation-occurrences
Change-Id: Icb7833b10771c04cb9c474dc623d8707f745820c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/71/826571/4 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_view.py']",2,a03ee1db1d10703d6cf0b46e7c8a8bfade148ba7,bp/support-nfv-solv3-query-vnf-instances," def test_match_invalid(self): fexp = vnflcm_view.FilterExpr('eq', ['foo', 'bar'], ['abc']) self.assertRaises(sol_ex.InvalidAttributeFilter, fexp.match, {'foo': 1}) self.assertRaises(sol_ex.InvalidAttributeFilter, fexp.match, {'foo': [1, 2, 3]}) ",,11,0
openstack%2Fneutron~master~I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3,openstack/neutron,master,I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3,"""L3AgentExtensionsManager"" check loaded extensions",MERGED,2021-11-19 11:49:05.000000000,2022-02-03 08:24:26.000000000,2022-02-03 08:22:06.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 11:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f374df39f9f5d0e1bc20749401c4731be5a31b3', 'message': '""L3AgentExtensionsManager"" check loaded extensions\n\nNow ""L3AgentExtensionsManager"" lists loaded extension, checking if\nthey inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".\nIf any extension does not, the L3 agent raises an exception and exits.\n\nChange-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3\nCloses-Bug: #1951569\n'}, {'number': 2, 'created': '2021-11-24 09:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af395a03745a92e066182ece77d5b401d1b2bc76', 'message': '""L3AgentExtensionsManager"" check loaded extensions\n\nNow ""L3AgentExtensionsManager"" lists loaded extension, checking if\nthey inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".\nIf any extension does not, the L3 agent raises an exception and exits.\n\nChange-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3\nCloses-Bug: #1951569\n'}, {'number': 3, 'created': '2021-12-22 10:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0215434bb5b1199fe8bdae7b24a464d29b4056ff', 'message': '""L3AgentExtensionsManager"" check loaded extensions\n\nNow ""L3AgentExtensionsManager"" lists loaded extension, checking if\nthey inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".\nIf any extension does not, the L3 agent raises an exception and exits.\n\nChange-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3\nCloses-Bug: #1951569\n'}, {'number': 4, 'created': '2022-01-04 13:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aee1168175789663d707b164c110e3088c45df8e', 'message': '""L3AgentExtensionsManager"" check loaded extensions\n\nNow ""L3AgentExtensionsManager"" lists loaded extension, checking if\nthey inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".\nIf any extension does not, the L3 agent raises an exception and exits.\n\nCloses-Bug: #1951569\nChange-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3\n'}, {'number': 5, 'created': '2022-01-14 11:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4052341ed0139c6f813f2609bff7fe1c39d2cb03', 'message': '""L3AgentExtensionsManager"" check loaded extensions\n\nNow ""L3AgentExtensionsManager"" lists loaded extension, checking if\nthey inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".\nIf any extension does not, the L3 agent raises an exception and exits.\n\nCloses-Bug: #1951569\nChange-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3\n'}, {'number': 6, 'created': '2022-02-02 20:51:40.000000000', 'files': ['releasenotes/notes/l3-extensions-must-inherit-from-L3AgentExtension-12c8f1fe2af26379.yaml', 'neutron/agent/l3/l3_agent_extensions_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebca47365c261b881d0c0e0135821ce03471a336', 'message': '""L3AgentExtensionsManager"" check loaded extensions\n\nNow ""L3AgentExtensionsManager"" lists loaded extension, checking if\nthey inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".\nIf any extension does not, the L3 agent raises an exception and exits.\n\nCloses-Bug: #1951569\nChange-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3\n'}]",13,818540,ebca47365c261b881d0c0e0135821ce03471a336,52,6,6,16688,,,0,"""L3AgentExtensionsManager"" check loaded extensions

Now ""L3AgentExtensionsManager"" lists loaded extension, checking if
they inherit from ""neutron_lib.agent.l3_extension.L3AgentExtension"".
If any extension does not, the L3 agent raises an exception and exits.

Closes-Bug: #1951569
Change-Id: I3ce4858cef9b3a3d7eab005dd1ad2bb3b5ef6ef3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/818540/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/l3_agent_extensions_manager.py'],1,1f374df39f9f5d0e1bc20749401c4731be5a31b3,bug/1951569,"from neutron_lib._i18n import _ from neutron_lib.agent import l3_extension from neutron_lib import exceptions# TODO(ralonsoh): rehome to neutron_lib. class L3ExtensionException(exceptions.NeutronException): message = _('The following L3 agent extensions do not inherit from ' '``neutron_lib.agent.l3_extension.L3AgentExtension``: ' '%(extensions)s.') extensions = [] for extension in self: if not isinstance(extension.obj, (l3_extension.L3AgentExtension,)): extensions.append(extension.attr) if extensions: raise L3ExtensionException(extensions=extensions) extension.obj.add_router(context, data) extension.obj.update_router(context, data) extension.obj.delete_router(context, data) extension.obj.ha_state_change(context, data) LOG.debug('L3 agent extension(s) finished HA state change to ""%s"" ' 'for router %s', data['state'], data['router_id'])"," if hasattr(extension.obj, 'add_router'): extension.obj.add_router(context, data) else: LOG.error( ""Agent Extension '%(name)s' does not "" ""implement method add_router"", {'name': extension.name} ) if hasattr(extension.obj, 'update_router'): extension.obj.update_router(context, data) else: LOG.error( ""Agent Extension '%(name)s' does not "" ""implement method update_router"", {'name': extension.name} ) if hasattr(extension.obj, 'delete_router'): extension.obj.delete_router(context, data) else: LOG.error( ""Agent Extension '%(name)s' does not "" ""implement method delete_router"", {'name': extension.name} ) if hasattr(extension.obj, 'ha_state_change'): extension.obj.ha_state_change(context, data) else: LOG.warning( ""Agent Extension '%(name)s' does not "" ""implement method ha_state_change"", {'name': extension.name} )",22,32
openstack%2Fglance~master~If3aa008522c24e870b7bf13de32b8ed1b27cb519,openstack/glance,master,If3aa008522c24e870b7bf13de32b8ed1b27cb519,Remove six.moves.range usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-03 08:23:58.000000000,2022-02-03 08:22:10.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a22e202bdae745774fecc31ef84e783311d473f6', 'message': ""Remove six.moves.range usage\n\nThis is the same as the 'range' keyword in Python 3\n\nChange-Id: If3aa008522c24e870b7bf13de32b8ed1b27cb519\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/db/base.py', 'glance/tests/unit/common/test_property_utils.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/test_image_cache.py', 'glance/tests/integration/v2/test_property_quota_violations.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/cmd/control.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_quota.py', 'glance/common/client.py', 'glance/tests/unit/test_misc.py', 'glance/tests/functional/serial/test_scrubber.py', 'glance/tests/unit/test_context.py', 'glance/common/crypt.py', 'glance/tests/functional/__init__.py', 'glance/tests/unit/test_scrubber.py', 'glance/common/auth.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/39e667a14527f194a1905f10bf53eac14cf98f5d', 'message': ""Remove six.moves.range usage\n\nThis is the same as the 'range' keyword in Python 3\n\nChange-Id: If3aa008522c24e870b7bf13de32b8ed1b27cb519\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,822735,39e667a14527f194a1905f10bf53eac14cf98f5d,17,5,2,15334,,,0,"Remove six.moves.range usage

This is the same as the 'range' keyword in Python 3

Change-Id: If3aa008522c24e870b7bf13de32b8ed1b27cb519
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/822735/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/db/base.py', 'glance/tests/unit/common/test_property_utils.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/tests/unit/test_image_cache.py', 'glance/tests/integration/v2/test_property_quota_violations.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/cmd/control.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_quota.py', 'glance/common/client.py', 'glance/tests/unit/test_misc.py', 'glance/tests/functional/serial/test_scrubber.py', 'glance/tests/unit/test_context.py', 'glance/common/crypt.py', 'glance/tests/functional/__init__.py', 'glance/tests/unit/test_scrubber.py', 'glance/common/auth.py']",20,a22e202bdae745774fecc31ef84e783311d473f6,remove-six,,"# NOTE(jokke): simplified transition to py3, behaves like py2 xrange from six.moves import range",1,43
openstack%2Fneutron-tempest-plugin~master~I1619935c5a09aeab9608a7b06304efef7fef4ed2,openstack/neutron-tempest-plugin,master,I1619935c5a09aeab9608a7b06304efef7fef4ed2,[DNM] Test job triggers with parent patch,ABANDONED,2022-02-03 07:08:00.000000000,2022-02-03 07:35:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 07:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1f05bdbc57f94b0360bc6fd6b83e035c539622eb', 'message': '[DNM] Test job triggers with parent patch\n\nChange-Id: I1619935c5a09aeab9608a7b06304efef7fef4ed2\n'}, {'number': 2, 'created': '2022-02-03 07:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f24692192d3c97c2ee6fedbd0886f3f0d0fe67fd', 'message': '[DNM] Test job triggers with parent patch\n\nChange-Id: I1619935c5a09aeab9608a7b06304efef7fef4ed2\n'}, {'number': 3, 'created': '2022-02-03 07:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b70f5602acf148ea7997732d11c29b0f7455d4bb', 'message': '[DNM] Test job triggers with parent patch\n\nChange-Id: I1619935c5a09aeab9608a7b06304efef7fef4ed2\n'}, {'number': 4, 'created': '2022-02-03 07:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1c8f2b7ba8e892e82ff70a2ddcf5cefda35d0bf1', 'message': '[DNM] Test job triggers with parent patch\n\nChange-Id: I1619935c5a09aeab9608a7b06304efef7fef4ed2\n'}, {'number': 5, 'created': '2022-02-03 07:31:41.000000000', 'files': ['zuul.d/base-nested-switch.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4a2e6cfa4d95823d02ef7eeb9f1f8d5dbf76f45a', 'message': '[DNM] Test job triggers with parent patch\n\nChange-Id: I1619935c5a09aeab9608a7b06304efef7fef4ed2\n'}]",8,827595,4a2e6cfa4d95823d02ef7eeb9f1f8d5dbf76f45a,12,1,5,13861,,,0,"[DNM] Test job triggers with parent patch

Change-Id: I1619935c5a09aeab9608a7b06304efef7fef4ed2
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/95/827595/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,1f05bdbc57f94b0360bc6fd6b83e035c539622eb,neutron-ci-improvements, local_output_log_base: /tmp/test_log_test.log, local_output_log_base: /tmp/test_log.log,1,1
openstack%2Frequirements~stable%2Fxena~I74d378d20287d78c57e968d744222da345c85596,openstack/requirements,stable/xena,I74d378d20287d78c57e968d744222da345c85596,Add neutron to stable upper-constraints,MERGED,2022-01-25 08:49:28.000000000,2022-02-03 07:31:19.000000000,2022-02-03 07:31:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 08:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/785c543a379422a4fe8530182984137ab2098264', 'message': 'Add neutron to stable upper-constraints\n\nSome projects, notably neutron plugins, are using the neutron service as\na library. There is the neutron-lib package, but progress is slow and\neverything need was not moved there yet.\n\nThis is being added directly in stable branches only. Master needs to\nget the latest version available, so these will need to be added at each\nrelease so the stable branches use the correct version of neutron for\ntheir respective stable release.\n\nTo allower upper capping, this commit also drops neutron from blacklist\n\nChange-Id: I74d378d20287d78c57e968d744222da345c85596\n'}, {'number': 2, 'created': '2022-02-03 05:05:27.000000000', 'files': ['blacklist.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b6344ced106db11dfe8e79aba2f49324eb209707', 'message': 'Add neutron to stable upper-constraints\n\nSome projects, notably neutron plugins, are using the neutron service as\na library. There is the neutron-lib package, but progress is slow and\neverything need was not moved there yet.\n\nThis is being added directly in stable branches only. Master needs to\nget the latest version available, so these will need to be added at each\nrelease so the stable branches use the correct version of neutron for\ntheir respective stable release.\n\nTo allower upper capping, this commit also drops neutron from blacklist\n\nChange-Id: I74d378d20287d78c57e968d744222da345c85596\n'}]",0,826256,b6344ced106db11dfe8e79aba2f49324eb209707,17,2,2,21798,,,0,"Add neutron to stable upper-constraints

Some projects, notably neutron plugins, are using the neutron service as
a library. There is the neutron-lib package, but progress is slow and
everything need was not moved there yet.

This is being added directly in stable branches only. Master needs to
get the latest version available, so these will need to be added at each
release so the stable branches use the correct version of neutron for
their respective stable release.

To allower upper capping, this commit also drops neutron from blacklist

Change-Id: I74d378d20287d78c57e968d744222da345c85596
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/826256/2 && git format-patch -1 --stdout FETCH_HEAD,"['blacklist.txt', 'upper-constraints.txt']",2,785c543a379422a4fe8530182984137ab2098264,xena-neutron-uc,neutron===19.1.0,,1,1
openstack%2Fcharm-guide~master~I8d47bf847ba3070761518cfb17ad64501baa8848,openstack/charm-guide,master,I8d47bf847ba3070761518cfb17ad64501baa8848,Add operation: Restart a partitioned RabbitMQ cluster,MERGED,2022-01-12 21:06:53.000000000,2022-02-03 07:26:39.000000000,2022-02-03 07:25:06.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 21:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7537d0894e5f91b639f4393e7f975da57049ebf9', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}, {'number': 2, 'created': '2022-01-13 20:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3b2ad507425709e6078ae38badb7ce004f75af79', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}, {'number': 3, 'created': '2022-01-13 22:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9f5497b9d95e723d7aef2525b4cf62991f7c6e35', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}, {'number': 4, 'created': '2022-01-14 00:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6f7080bd9341fe147c6185061c0979cb6a61d3b4', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}, {'number': 5, 'created': '2022-01-14 16:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e6eac6d3ed4da7a73a56433df67cf2870e3f3f79', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}, {'number': 6, 'created': '2022-01-26 20:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9259b634af08d3da5f57fda955f1d0053295766a', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}, {'number': 7, 'created': '2022-01-26 20:09:50.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/ops-restart-partitioned-rabbitmq-cluster.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ce8fbe622aec1f83a7cc471b4b0935772042b730', 'message': 'Add operation: Restart a partitioned RabbitMQ cluster\n\nChange-Id: I8d47bf847ba3070761518cfb17ad64501baa8848\n'}]",16,824483,ce8fbe622aec1f83a7cc471b4b0935772042b730,24,3,7,30561,,,0,"Add operation: Restart a partitioned RabbitMQ cluster

Change-Id: I8d47bf847ba3070761518cfb17ad64501baa8848
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/83/824483/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/ops-restart-partitioned-rabbitmq-cluster.rst']",2,7537d0894e5f91b639f4393e7f975da57049ebf9,add-op-restart-partitioned-rabbitmq-cluster,":orphan: ====================================== Restart a partitioned RabbitMQ cluster ====================================== Introduction ~~~~~~~~~~~~ For various reasons (e.g. network instability, message queue load) the RabbitMQ cluster can become partitioned. This typically manifests as Compute services and Neutron agents flapping between up and down states. The way to recover from this, without losing data (queue and user permissions), is by stopping and starting the RabbitMQ nodes in a controlled manner. .. note:: OpenStack services will auto-reconnect to the RabbitMQ cluster once it is in a healthy state, providing that the IP addresses of the nodes have not changed. The default value of option cluster-partition-handling is 'ignore' as it has proven to be the most effective method for dealing with `RabbitMQ network partitions`_. .. code-block:: console App Version Status Scale Charm Store Channel Rev OS Message rabbitmq-server 3.8.2 active 3 rabbitmq-server charmstore stable 117 ubuntu Unit is ready and clustered Unit Workload Agent Machine Public address Ports Message rabbitmq-server/0* active idle 2/lxd/5 10.246.114.56 5672/tcp Unit is ready and clustered rabbitmq-server/1 active idle 0/lxd/6 10.246.114.68 5672/tcp Unit is ready and clustered rabbitmq-server/2 active idle 1/lxd/4 10.246.114.77 5672/tcp Unit is ready and clustered .. code-block:: console App Version Status Scale Charm Store Channel Rev OS Message rabbitmq-server 3.8.2 blocked 3 rabbitmq-server charmstore stable 117 ubuntu RabbitMQ is partitioned Unit Workload Agent Machine Public address Ports Message rabbitmq-server/0* blocked idle 2/lxd/5 10.246.114.56 5672/tcp RabbitMQ is partitioned rabbitmq-server/1 waiting idle 0/lxd/6 10.246.114.68 5672/tcp Unit has peers, but RabbitMQ not clustered rabbitmq-server/2 blocked idle 1/lxd/4 10.246.114.77 5672/tcp RabbitMQ is partitioned Determine node health ~~~~~~~~~~~~~~~~~~~~~ The basic idea is to identify the most healthy node and the least healthy node. In this example, the node represented by unit ``rabbitmq-server/1`` fell off the network. This would be the least healthy node (the ""bad"" node). If there is no particular reason to consider the other nodes compromised then they can be considered as equally healthy. In this example, we'll consider the node represented by unit ``rabbitmq-server/0`` to be the most healthy node (the ""good"" node). Stop the unhealthy nodes ~~~~~~~~~~~~~~~~~~~~~~~~ Stop the nodes in order of least healthy to least unhealthy, but not including the most healthy (the ""good"" node). This will result in a single-node cluster. Here, we will stop these nodes (in the order given): #. ``rabbitmq-server/1`` #. ``rabbitmq-server/2`` For each node, stop the RabbitMQ server but keep the Erlang VM running: .. code-block:: none juju ssh rabbitmq-server/1 sudo rabbitmqctl stop_app juju ssh rabbitmq-server/2 sudo rabbitmqctl stop_app Bring up a single-node cluster ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The single-node cluster should come up on its own if there are no hook errors visible in the :command:`juju status` output for the ""good"" node's unit (``rabbitmq-server/0``). If there are such errors, attempt to resolve them with: .. code-block:: none juju resolve rabbitmq-server/0 .. important:: Let the single-node cluster settle before continuing. Add the remaining nodes ~~~~~~~~~~~~~~~~~~~~~~~ .. LINKS .. _RabbitMQ network partitions: https://www.rabbitmq.com/partitions.html ",,100,0
openstack%2Fdevstack~master~If4633e7a531b797fd2a473d3e6b132c2231c0ad3,openstack/devstack,master,If4633e7a531b797fd2a473d3e6b132c2231c0ad3,Configure swift for glance if multiple stores is enabled,NEW,2020-07-17 14:59:53.000000000,2022-02-03 06:37:29.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 14:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cf1b4b545ab3ad4ddf947c788d289530f180efb7', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 2, 'created': '2020-07-18 07:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/618213c737dcf4a1eae97c60d71497296c44b317', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 3, 'created': '2020-07-18 07:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cb942a95779208b95bca205a807e7b67dcbdb891', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 4, 'created': '2020-10-12 05:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/465604781d3733bc92a54a03aa64239c2ea552eb', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 5, 'created': '2020-12-01 06:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/91c0441e559599cbb610f8ded32aa7897044a983', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 6, 'created': '2020-12-01 06:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b554a508b9626d4e665d3ddeaf6b9154652319c8', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 7, 'created': '2020-12-01 08:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ebff09c633cf3d88d6e2e0352b5cb97c8438e64b', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Victoria cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 8, 'created': '2022-01-21 09:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f15f29ab62a17c74469f61e5fc7ff048eb491cf7', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Wallaby cycle.\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 9, 'created': '2022-01-21 10:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c72e2aa48f83e2a130bca45d88dfe2e1cc8b47e0', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Yoga cycle.\n\nCo-authored-by: Pranali Deore <pdeore@redhat.com>\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}, {'number': 10, 'created': '2022-02-03 04:39:54.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3fd3efca9e465ca60c175475d936cc3ab9dc2179', 'message': ""Configure swift for glance if multiple stores is enabled\n\nGlance has support to configure multiple stores from Stein release. Recently\nsupport for configuring multiple filesystem stores for glance is added. In\nthis patch we are configuring swift if both multiple stores is enabled\nusing 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also\nenabled.\n\nIn order to configure swift with support to multiple stores using devstack\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES = True\nenable_service s-proxy s-object s-container s-account\n\nNOTE: These changes are required as soon glance is set to remove single\nstore support in Z or AA cycle.\n\nCo-authored-by: Pranali Deore <pdeore@redhat.com>\n\nChange-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3\n""}]",22,741654,3fd3efca9e465ca60c175475d936cc3ab9dc2179,37,5,10,9303,,,0,"Configure swift for glance if multiple stores is enabled

Glance has support to configure multiple stores from Stein release. Recently
support for configuring multiple filesystem stores for glance is added. In
this patch we are configuring swift if both multiple stores is enabled
using 'GLANCE_ENABLE_MULTIPLE_STORES = True' and swift service is also
enabled.

In order to configure swift with support to multiple stores using devstack
user need to set below options in local.conf

GLANCE_ENABLE_MULTIPLE_STORES = True
enable_service s-proxy s-object s-container s-account

NOTE: These changes are required as soon glance is set to remove single
store support in Z or AA cycle.

Co-authored-by: Pranali Deore <pdeore@redhat.com>

Change-Id: If4633e7a531b797fd2a473d3e6b132c2231c0ad3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/741654/5 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,cf1b4b545ab3ad4ddf947c788d289530f180efb7,default-glance-multistore," if is_service_enabled s-proxy; then # NOTE (abhishekk): As this is standalone setup there will be only # one swift instance available even if glance multiple store is enabled. # We are assuming the store name as `siwft_store`. Also we will set another # file store 'fast' along with it as old setup also used to configure file # store when swift is enabled. enabled_backends+=""swift_store:swift,"" fi if [[ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""True"" ]]; then # if swift is enabled then set default backend as swift iniset $GLANCE_API_CONF glance_store default_backend ""swift_store"" iniset $GLANCE_API_CONF ""swift_store"" swift_store_create_container_on_put True iniset $GLANCE_API_CONF ""swift_store"" swift_store_config_file $GLANCE_SWIFT_STORE_CONF iniset $GLANCE_API_CONF ""swift_store"" default_swift_reference ref1 else iniset $GLANCE_API_CONF glance_store default_store swift iniset $GLANCE_API_CONF glance_store swift_store_create_container_on_put True iniset $GLANCE_API_CONF glance_store swift_store_config_file $GLANCE_SWIFT_STORE_CONF iniset $GLANCE_API_CONF glance_store default_swift_reference ref1 iniset $GLANCE_API_CONF glance_store stores ""file, http, swift"" if is_service_enabled tls-proxy; then if [[ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""True"" ]]; then iniset $GLANCE_API_CONF ""swift_store"" swift_store_cacert $SSL_BUNDLE_FILE else iniset $GLANCE_API_CONF glance_store swift_store_cacert $SSL_BUNDLE_FILE fi fi "," iniset $GLANCE_API_CONF glance_store default_store swift iniset $GLANCE_API_CONF glance_store swift_store_create_container_on_put True iniset $GLANCE_API_CONF glance_store swift_store_config_file $GLANCE_SWIFT_STORE_CONF iniset $GLANCE_API_CONF glance_store default_swift_reference ref1 iniset $GLANCE_API_CONF glance_store stores ""file, http, swift"" if is_service_enabled tls-proxy; then iniset $GLANCE_API_CONF glance_store swift_store_cacert $SSL_BUNDLE_FILE",33,7
openstack%2Fironic-python-agent~stable%2Ftrain~I7cedd5df1836f6c571b84fc8418bf5608bcebf9d,openstack/ironic-python-agent,stable/train,I7cedd5df1836f6c571b84fc8418bf5608bcebf9d,Remove legacy centos7 build jobs,MERGED,2022-02-01 20:25:35.000000000,2022-02-03 06:31:51.000000000,2022-02-03 06:26:42.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 20:25:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/26e849c7f45de48b2fbaf1999df1a0f7e0fc73e2', 'message': 'Remove legacy centos7 build jobs\n\nChange-Id: I7cedd5df1836f6c571b84fc8418bf5608bcebf9d\n'}]",3,827358,26e849c7f45de48b2fbaf1999df1a0f7e0fc73e2,13,2,1,11655,,,0,"Remove legacy centos7 build jobs

Change-Id: I7cedd5df1836f6c571b84fc8418bf5608bcebf9d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/58/827358/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,26e849c7f45de48b2fbaf1999df1a0f7e0fc73e2,,, - ironic-python-agent-check-image-dib-centos7: voting: false - ironic-python-agent-build-image-dib-centos7,0,3
openstack%2Fneutron~master~I657881c319d425470277885545240d6a8b66a1f6,openstack/neutron,master,I657881c319d425470277885545240d6a8b66a1f6,Remove some scenario jobs from the check and gate queues,MERGED,2021-10-26 10:26:03.000000000,2022-02-03 06:14:50.000000000,2021-11-17 23:20:56.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 10:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c56f06db2925c222a6cd97d44fd8aceb90cd91e0', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 2, 'created': '2021-10-26 15:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7c56e32c9f7bf68bcdbfd56de1a750d5a509c20', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  As neutron-ovn-tempest-slow job was multinode job, this patch also\n  changes neutron-ovn-tempest-ipv6-only job to be multinode job,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 3, 'created': '2021-11-02 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73d0bdc12d49aaad07232b162fb1f934ad0fe219', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  As neutron-ovn-tempest-slow job was multinode job, this patch also\n  changes neutron-ovn-tempest-ipv6-only job to be multinode job,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 4, 'created': '2021-11-08 09:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11a8b70136337a2658c84cf1be99cd647a1a813a', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  As neutron-ovn-tempest-slow job was multinode job, this patch also\n  changes neutron-ovn-tempest-ipv6-only job to be multinode job,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 5, 'created': '2021-11-08 12:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ebe8e48e72483981cc8f2e532b264163b414d00', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  As neutron-ovn-tempest-slow job was multinode job, this patch also\n  changes neutron-ovn-tempest-ipv6-only job to be multinode job,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 6, 'created': '2021-11-08 13:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/914bb65e2d9105da0a96f46ea8ade4fa2fdc0f4d', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  As neutron-ovn-tempest-slow job was multinode job, this patch also\n  changes neutron-ovn-tempest-ipv6-only job to be multinode job,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 7, 'created': '2021-11-08 15:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d45b8d2e7d013b9fee626796cf029c78f6ff2a0f', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  As neutron-ovn-tempest-slow job was multinode job, this patch also\n  changes neutron-ovn-tempest-ipv6-only job to be multinode job,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}, {'number': 8, 'created': '2021-11-17 10:46:34.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5357689002501b22a1027add7b93c59c2a02d54e', 'message': ""Remove some scenario jobs from the check and gate queues\n\nAfter discussing this topic again during the PTG I spent some time\nchecking our scenario jobs which runs in the check and gate queues.\nAfter analysis this patch proposes to:\n\n* remove neutron-ovs-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovs-tempest-multinode-full job,\n* remove neutron-ovn-tempest-slow job from both check and gate queue as\n  slow tests are already run also in the\n  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6\n  instead of IPv4 but I don't really think it's big issue in that case,\n  neutron-ovn-tempest-slow job was multinode job, unfortunately\n  neutron-ovn-tempest-ipv6-only is single node job and for now it isn't\n  possible to make ipv6-only job to be multinode job so we will keep it\n  like single node job and hopefully move to be multinode job when zuul\n  will provide required data in the job's inventory,\n* move neutron-ovn-tempest-ovs-release and\n  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I\n  think that running those tests once per day should be enough.\n\nAdditionally this patch removes definition of the neutron-ovs-tempest-slow\nand neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.\n\nChange-Id: I657881c319d425470277885545240d6a8b66a1f6\n""}]",13,815465,5357689002501b22a1027add7b93c59c2a02d54e,60,5,8,11975,,,0,"Remove some scenario jobs from the check and gate queues

After discussing this topic again during the PTG I spent some time
checking our scenario jobs which runs in the check and gate queues.
After analysis this patch proposes to:

* remove neutron-ovs-tempest-slow job from both check and gate queue as
  slow tests are already run also in the
  neutron-ovs-tempest-multinode-full job,
* remove neutron-ovn-tempest-slow job from both check and gate queue as
  slow tests are already run also in the
  neutron-ovn-tempest-ipv6-only job - of course this job is using IPv6
  instead of IPv4 but I don't really think it's big issue in that case,
  neutron-ovn-tempest-slow job was multinode job, unfortunately
  neutron-ovn-tempest-ipv6-only is single node job and for now it isn't
  possible to make ipv6-only job to be multinode job so we will keep it
  like single node job and hopefully move to be multinode job when zuul
  will provide required data in the job's inventory,
* move neutron-ovn-tempest-ovs-release and
  neutron-ovn-tempest-ovs-release-ipv6-only jobs to periodic queue - I
  think that running those tests once per day should be enough.

Additionally this patch removes definition of the neutron-ovs-tempest-slow
and neutron-ovn-tempest-slow jobs are those jobs aren't used anywhere now.

Change-Id: I657881c319d425470277885545240d6a8b66a1f6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/815465/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",3,c56f06db2925c222a6cd97d44fd8aceb90cd91e0,improve-neutron-ci,," |neutron-ovn-tempest-slow |tempest slow tests | 3.6 | 2 | ovn | ovn | --- | False | False | True | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ovs-release |Various tempest api, scenario | 3.6 | 1 | ovn | ovn | --- | False | False | True | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+",3,96
openstack%2Ftripleo-ansible~stable%2Fvictoria~I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72,openstack/tripleo-ansible,stable/victoria,I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72,Create nova flavor for Octavia,MERGED,2022-01-24 14:08:31.000000000,2022-02-03 05:10:13.000000000,2022-02-03 05:10:13.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 14:08:31.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/flavor.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88c466311bb96ab0cf43921391ab1d768a750a6d', 'message': ""Create nova flavor for Octavia\n\nThe nova flavor for Octavia was previously created from puppet-octavia\nbut it didn't offer a convenient way to select the type of the API\nendpoint (it uses public API endpoint by default while some deployments\ndon't have access to the external network from their controllers).\n\nMoving the creation of the flavor to a tripleo-ansible role helps us to\nuse the existing configuration (the roles use the internal endpoints)\nand centralizes the creation of all the resources required by Octavia in\na single place.\n\nChange-Id: I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72\n(cherry picked from commit a9cdfe2980e7ed6ba79b3c23acea461b57d263e1)\n(cherry picked from commit 1a679e4dd5e48f633da32a25b0b53800ed363f28)\n""}]",3,826089,88c466311bb96ab0cf43921391ab1d768a750a6d,12,2,1,29244,,,0,"Create nova flavor for Octavia

The nova flavor for Octavia was previously created from puppet-octavia
but it didn't offer a convenient way to select the type of the API
endpoint (it uses public API endpoint by default while some deployments
don't have access to the external network from their controllers).

Moving the creation of the flavor to a tripleo-ansible role helps us to
use the existing configuration (the roles use the internal endpoints)
and centralizes the creation of all the resources required by Octavia in
a single place.

Change-Id: I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72
(cherry picked from commit a9cdfe2980e7ed6ba79b3c23acea461b57d263e1)
(cherry picked from commit 1a679e4dd5e48f633da32a25b0b53800ed363f28)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/826089/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/flavor.yml']",2,88c466311bb96ab0cf43921391ab1d768a750a6d,,--- - name: create nova flavor for Octavia shell: | if ! openstack flavor show octavia_{{ octavia_flavor_id }} > /dev/null; then openstack flavor create -vv \ --id {{ octavia_flavor_id }} \ --ram {{ octavia_flavor_properties.ram }} \ --disk {{ octavia_flavor_properties.disk }} \ --vcpus {{ octavia_flavor_properties.vcpus }} \ --private \ octavia_{{ octavia_flavor_id }} fi run_once: true when: octavia_manage_nova_flavor | default(false) | bool ,,17,0
openstack%2Fdevstack~master~I574755671ffce6038b6c3713987cf50f8b36a2e9,openstack/devstack,master,I574755671ffce6038b6c3713987cf50f8b36a2e9,Allow local.conf overrides in g-api config,NEW,2022-02-02 18:02:41.000000000,2022-02-03 04:58:58.000000000,,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 18:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/011822e3864c26f42bacfebb02c313da94824b92', 'message': 'Allow local.conf overrides in g-api config\n\nChange-Id: I574755671ffce6038b6c3713987cf50f8b36a2e9\nNeeded-For: https://review.opendev.org/c/openstack/glance/+/825115\n'}, {'number': 2, 'created': '2022-02-02 19:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4278e6a06958e0196030b598b1eeed645e751275', 'message': 'Allow local.conf overrides in g-api config\n\nThis requires retooling how we generate config filenames for the\nremote worker. I originally made that very dynamic, thinking there\nwould be more ""do this but for the remote worker"" cases than there\nreally were. That makes overriding it more complicated. So, this\nadds GLANCE_REMOTE_DIR and GLANCE_REMOTE_API_CONF variables to\nmirror the standard ones, which default to being based off the latter.\n\nThus, we can merge local.conf changes into the\nglance-remote/glance-api.conf file during setup.\n\nChange-Id: I574755671ffce6038b6c3713987cf50f8b36a2e9\nNeeded-For: https://review.opendev.org/c/openstack/glance/+/825115\n'}, {'number': 3, 'created': '2022-02-02 21:26:55.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ceb8528fe4cc03c21b4a68b5acefcdb25d34714', 'message': 'Allow local.conf overrides in g-api config\n\nThis requires retooling how we generate config filenames for the\nremote worker. I originally made that very dynamic, thinking there\nwould be more ""do this but for the remote worker"" cases than there\nreally were. That makes overriding it more complicated. So, this\nadds GLANCE_REMOTE_DIR and GLANCE_REMOTE_API_CONF variables to\nmirror the standard ones, which default to being based off the latter.\n\nThus, we can merge local.conf changes into the\nglance-remote/glance-api.conf file during setup.\n\nChange-Id: I574755671ffce6038b6c3713987cf50f8b36a2e9\nNeeded-For: https://review.opendev.org/c/openstack/glance/+/825115\n'}]",2,827537,8ceb8528fe4cc03c21b4a68b5acefcdb25d34714,7,3,3,4393,,,0,"Allow local.conf overrides in g-api config

This requires retooling how we generate config filenames for the
remote worker. I originally made that very dynamic, thinking there
would be more ""do this but for the remote worker"" cases than there
really were. That makes overriding it more complicated. So, this
adds GLANCE_REMOTE_DIR and GLANCE_REMOTE_API_CONF variables to
mirror the standard ones, which default to being based off the latter.

Thus, we can merge local.conf changes into the
glance-remote/glance-api.conf file during setup.

Change-Id: I574755671ffce6038b6c3713987cf50f8b36a2e9
Needed-For: https://review.opendev.org/c/openstack/glance/+/825115
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/827537/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,011822e3864c26f42bacfebb02c313da94824b92,bp/cache-api, local glance_remote_api_conf glance_remote_api_conf=$(glance_remote_conf $GLANCE_API_CONF) # Merge local.conf config overrides for the remote worker merge_config_file $TOP_DIR/local.conf post-config '$glance_remote_api_conf' ,,5,0
openstack%2Fneutron~master~Ib5eef501493f6735a47ea085196242a5807c4565,openstack/neutron,master,Ib5eef501493f6735a47ea085196242a5807c4565,Pass host parameter to the get_network_info method,MERGED,2022-01-31 13:58:07.000000000,2022-02-03 04:42:18.000000000,2022-02-03 04:40:10.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-31 13:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf9c90829f2c91f8964e34636969966d6ce366c8', 'message': ""Don't filter subnets based on segments if there is no host given\n\nWhen dhcp agent requests informations about networks, and segments\nplugin is enabled, subnets which belongs to the network are filtered out\nbased on the host passed as argument to the get_network_info() method.\nBut this argument is optional and can not be set, that happens e.g.\nduring the full sync of the DHCP agent, when it requests details about\neach network.\nIn such case we shouldn't filter out subnets based on the host.\n\nRelated-Bug: #1958955\nChange-Id: Ib5eef501493f6735a47ea085196242a5807c4565\n""}, {'number': 2, 'created': '2022-02-01 07:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8be6cdd13604dc10361aae9ce8f0c275077d455', 'message': 'Pass host parameter to the get_network_info method\n\nHost parameter is needed there to filter subnets per segment when\nsegments plugin is enabled.\nWhen dhcp agent requests informations about networks, and segments\nplugin is enabled, subnets which belongs to the network are filtered out\nbased on the host passed as argument to the get_network_info() method.\nBut we never passed host to that method, even when we should e.g.\nduring the full sync of the DHCP agent, when it requests details about\neach network.\nThis patch fixes that issue by passing host parameter to that method.\n\nCloses-Bug: #1958955\nChange-Id: Ib5eef501493f6735a47ea085196242a5807c4565\n'}, {'number': 3, 'created': '2022-02-01 07:32:56.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/tests/unit/api/rpc/handlers/test_dhcp_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fd88fd2239bd19794f2a1cf9480e5aa7d4f5a9b', 'message': 'Pass host parameter to the get_network_info method\n\nHost parameter is needed there to filter subnets per segment when\nsegments plugin is enabled.\nWhen dhcp agent requests informations about networks, and segments\nplugin is enabled, subnets which belongs to the network are filtered out\nbased on the host passed as argument to the get_network_info() method.\nBut we never passed host to that method, even when we should e.g.\nduring the full sync of the DHCP agent, when it requests details about\neach network.\nThis patch fixes that issue by passing host parameter to that method.\n\nCloses-Bug: #1958955\nChange-Id: Ib5eef501493f6735a47ea085196242a5807c4565\n'}]",10,827101,8fd88fd2239bd19794f2a1cf9480e5aa7d4f5a9b,55,5,3,11975,,,0,"Pass host parameter to the get_network_info method

Host parameter is needed there to filter subnets per segment when
segments plugin is enabled.
When dhcp agent requests informations about networks, and segments
plugin is enabled, subnets which belongs to the network are filtered out
based on the host passed as argument to the get_network_info() method.
But we never passed host to that method, even when we should e.g.
during the full sync of the DHCP agent, when it requests details about
each network.
This patch fixes that issue by passing host parameter to that method.

Closes-Bug: #1958955
Change-Id: Ib5eef501493f6735a47ea085196242a5807c4565
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/827101/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/rpc/handlers/dhcp_rpc.py'],1,bf9c90829f2c91f8964e34636969966d6ce366c8,bug/1958955," # If there is no host given, we shouldn't filter subnets based on the # segments if seg_plug and seg_subnets and host:", if seg_plug and seg_subnets:,3,1
openstack%2Fnova~master~Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761,openstack/nova,master,Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761,pci: implement the 'socket' NUMA affinity policy,MERGED,2021-01-27 22:04:47.000000000,2022-02-03 03:53:59.000000000,2021-03-12 18:21:12.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26159}, {'_account_id': 34537}]","[{'number': 1, 'created': '2021-01-27 22:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/109415b0fe044455c9206062be780ff81ee2c8f4', 'message': 'WIP: pci: implement the SOCKET NUMA affinity policy\n\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 2, 'created': '2021-01-28 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/949b5eb6731131b78ef5d1def23574b3df8834ee', 'message': 'WIP: pci: implement the SOCKET NUMA affinity policy\n\nThis patch enabled the SOCKET PCI NUMA affinity policy. The PCI\nmanager gets a new method to imeplement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the SOCKET policy.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 3, 'created': '2021-02-04 19:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64e5b99f7393a823016eb5f723116637e96bbc81', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enabled the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 4, 'created': '2021-02-05 00:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08f0297cddeaa0ecee04680168fee19f63d8414c', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enabled the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 5, 'created': '2021-02-05 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/115de2f1e3a2036456e3dfb99759e7660fc988b8', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enabled the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 6, 'created': '2021-02-06 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05110ed1e92ff86f176cf25f99250ec0126a1771', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enabled the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 7, 'created': '2021-02-09 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/157af3d7310d8054eae25dcbb6f25dd1cd33831c', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enabled the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 8, 'created': '2021-02-17 18:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c03f8a3f3474fe4303cc7e51100cc347851f3b7', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 9, 'created': '2021-02-18 01:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45715674fcec95f5d616fc416ea978f12b1698b8', 'message': 'WIP: pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 10, 'created': '2021-02-18 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00eb2f151d1f6744cfab43c3020b4cef4afbf371', 'message': 'pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 11, 'created': '2021-02-19 15:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bce3dc2b88545c771d8730146123445325e2deb9', 'message': 'pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 12, 'created': '2021-02-19 15:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc22521c82797947f143a99d5789d516833e9dec', 'message': 'pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 13, 'created': '2021-02-21 14:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5af0f96163bf0cff31b841870cd063941813c3e', 'message': 'pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 14, 'created': '2021-02-21 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d7aa86fc70e7b4ea262f972bf4148cf0e7f079', 'message': 'pci: implement the `socket` NUMA affinity policy\n\nThis patch enables the `socket` PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the `socket` policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n'}, {'number': 15, 'created': '2021-02-24 10:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09832bb700b6761980aab7be260ccb3388bfb5ec', 'message': ""pci: implement the 'socket' NUMA affinity policy\n\nThis patch enables the 'socket' PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the 'socket' policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n""}, {'number': 16, 'created': '2021-03-04 16:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10dd97c899e6a7835f78dfa770dbaa7b2c0a1d3d', 'message': ""pci: implement the 'socket' NUMA affinity policy\n\nThis patch enables the 'socket' PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the 'socket' policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n""}, {'number': 17, 'created': '2021-03-08 20:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f97d631f0f271711bf79ad396599e0c1d909ea0b', 'message': ""pci: implement the 'socket' NUMA affinity policy\n\nThis patch enables the 'socket' PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the 'socket' policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n""}, {'number': 18, 'created': '2021-03-10 22:09:04.000000000', 'files': ['nova/tests/unit/pci/test_stats.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'doc/source/user/flavors.rst', 'nova/pci/stats.py', 'releasenotes/notes/socket-pci-numa-affinity-policy-70b95b57b9f8f0c4.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2471dd5780ae4173aeea9229645bbe5116fa817', 'message': ""pci: implement the 'socket' NUMA affinity policy\n\nThis patch enables the 'socket' PCI NUMA affinity policy. The PCI\nmanager gets a new method to implement it, and the libvirt driver\nstarts reporting the necessary trait, enabling it to receive\ninstances with the 'socket' policy.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761\n""}]",49,772779,b2471dd5780ae4173aeea9229645bbe5116fa817,158,7,18,8864,,,0,"pci: implement the 'socket' NUMA affinity policy

This patch enables the 'socket' PCI NUMA affinity policy. The PCI
manager gets a new method to implement it, and the libvirt driver
starts reporting the necessary trait, enabling it to receive
instances with the 'socket' policy.

Implements: blueprint pci-socket-affinity
Change-Id: Ia875c9c3542ef4138d0d7a2c26c0cf49dcca0761
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/772779/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hardware.py', 'nova/pci/stats.py']",2,109415b0fe044455c9206062be780ff81ee2c8f4,bp/port-scoped-sriov-numa-affinity," def _filter_pools_for_numa_cells(cls, pools, request, numa_cells, host_cells): :param host_cells: A list of NUMACell objects representing the host NUMA cells. # For the SOCKET policy we need to do a few things: # 1. For each pool, look up the socket of its host NUMA node, and save # it as the pool socket. for pool in pools: pool['socket'] = None pool_numa_node = pool.get('numa_node', None) if pool_numa_node: for cell in host_cells: if pool['numa_node'] == cell.id: pool['socket'] = cell.socket # 2. Get a list of host sockets that the guest cells are in. Since # guest cell IDs map to host cell IDs, we can just lookup the latter's # socket. socket_ids = [] for guest_cell in numa_cells: for host_cell in host_cells: if guest_cell.id == host_cell.id: socket_ids.append(host_cell.socket) # 3. Filter out pools that are not affined to any guest cell socket. filtered_pools = [ pool for pool in pools if any(utils.pci_device_prop_match( pool, [{'socket': socket}]) for socket in socket_ids)] # 4. Finally, return the filtered pools only if the policy is SOCKET. # We continue processing because the SOCKET policy isn't more strict # than LEGACY, just different, so don't return if we just have enough # devices at this stage. if requested_policy == fields.PCINUMAAffinityPolicy.SOCKET: return filtered_pools def _filter_pools(cls, pools, request, numa_cells, host_cells): # or socket, *assuming* we have devices and care about that, as # determined by policy pools = cls._filter_pools_for_numa_cells(pools, request, numa_cells, host_cells) def support_requests(self, requests, numa_cells=None, host_cells=None): self._filter_pools(self.pools, r, numa_cells, host_cells) for r in requests)"," def _filter_pools_for_numa_cells(cls, pools, request, numa_cells): def _filter_pools(cls, pools, request, numa_cells): # *assuming* we have devices and care about that, as determined by # policy pools = cls._filter_pools_for_numa_cells(pools, request, numa_cells) def support_requests(self, requests, numa_cells=None): self._filter_pools(self.pools, r, numa_cells) for r in requests )",47,9
openstack%2Fcharm-designate-bind~master~I1e798c9267085d50797b8988f50e99ac9184be33,openstack/charm-designate-bind,master,I1e798c9267085d50797b8988f50e99ac9184be33,Update to build using charmcraft,MERGED,2022-02-01 19:57:45.000000000,2022-02-03 03:46:35.000000000,2022-02-03 03:46:35.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 19:57:45.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/e7ada778b998246196e844a012159e93b4d7cd74', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I1e798c9267085d50797b8988f50e99ac9184be33\n'}]",0,827344,e7ada778b998246196e844a012159e93b4d7cd74,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I1e798c9267085d50797b8988f50e99ac9184be33
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/44/827344/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,e7ada778b998246196e844a012159e93b4d7cd74,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,82,7
openstack%2Fcharm-manila-dashboard~master~I7d6a607374b142ee908e10608aebbe0a23686ec3,openstack/charm-manila-dashboard,master,I7d6a607374b142ee908e10608aebbe0a23686ec3,Update to build using charmcraft,MERGED,2022-02-01 20:25:33.000000000,2022-02-03 03:45:33.000000000,2022-02-03 03:45:33.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 20:25:33.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/8224f28c235a88908cc15c2a48b0341174356e07', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I7d6a607374b142ee908e10608aebbe0a23686ec3\n'}]",0,827357,8224f28c235a88908cc15c2a48b0341174356e07,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I7d6a607374b142ee908e10608aebbe0a23686ec3
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/57/827357/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,8224f28c235a88908cc15c2a48b0341174356e07,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,78,8
openstack%2Fcharm-designate~master~I8768cf21899108de80aa9f6cb7da9a91b91cdf9f,openstack/charm-designate,master,I8768cf21899108de80aa9f6cb7da9a91b91cdf9f,Update to build using charmcraft,MERGED,2022-02-01 19:55:43.000000000,2022-02-03 03:43:03.000000000,2022-02-03 03:43:03.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 19:55:43.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/dc2b12cc330775d17fdaf2cab525fa99d1376dce', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I8768cf21899108de80aa9f6cb7da9a91b91cdf9f\n'}]",0,827343,dc2b12cc330775d17fdaf2cab525fa99d1376dce,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I8768cf21899108de80aa9f6cb7da9a91b91cdf9f
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/43/827343/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,dc2b12cc330775d17fdaf2cab525fa99d1376dce,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,83,8
openstack%2Fcharm-neutron-api-plugin-ovn~master~Icad049b5d152306be943c9c7177bbf751b48ddb0,openstack/charm-neutron-api-plugin-ovn,master,Icad049b5d152306be943c9c7177bbf751b48ddb0,Update to build using charmcraft,MERGED,2022-01-27 15:29:39.000000000,2022-02-03 03:38:55.000000000,2022-02-03 03:38:55.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2022-01-27 15:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/3b66847aeaab393a3c36e785daf661e3571d6ee4', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Icad049b5d152306be943c9c7177bbf751b48ddb0\n'}, {'number': 2, 'created': '2022-01-27 21:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/40f880b1d80665753b5b25e049941a96204c2b8a', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Icad049b5d152306be943c9c7177bbf751b48ddb0\n'}, {'number': 3, 'created': '2022-02-01 20:47:20.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/886c2ea713431aa159341e0efd41122a92c141dc', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Icad049b5d152306be943c9c7177bbf751b48ddb0\n'}]",0,826705,886c2ea713431aa159341e0efd41122a92c141dc,14,4,3,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Icad049b5d152306be943c9c7177bbf751b48ddb0
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/05/826705/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",15,3b66847aeaab393a3c36e785daf661e3571d6ee4,charmhub-migration-master,,"variables: openstack-origin: &openstack-origin distro series: &series hirsute applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: constraints: mem=3072M charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin vault: charm: cs:~openstack-charmers-next/vault num_units: 1 ovn-central: charm: cs:~openstack-charmers-next/ovn-central num_units: 3 options: source: *openstack-origin neutron-api-plugin-ovn: charm: ../../../neutron-api-plugin-ovn hacluster-neutron-api: charm: cs:~openstack-charmers-next/hacluster neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 3 options: # NOTE(fnordahl): At current state of upstream Neutron development this # is a requirement. Remove once fixed upstream. enable-ml2-port-security: true flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin ovn-chassis: charm: cs:~openstack-charmers-next/ovn-chassis nova-compute: constraints: ""root-disk=20G mem=4G"" charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: *openstack-origin placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin relations: - - hacluster-neutron-api:ha - neutron-api:ha - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:neutron-api - nova-cloud-controller:neutron-api - - neutron-api:identity-service - keystone:identity-service - - nova-cloud-controller:amqp - rabbitmq-server:amqp - - nova-compute:amqp - rabbitmq-server:amqp - - nova-cloud-controller:identity-service - keystone:identity-service - - nova-cloud-controller:cloud-compute - nova-compute:cloud-compute - - glance:identity-service - keystone:identity-service - - glance:amqp - rabbitmq-server:amqp - - nova-compute:image-service - glance:image-service - - nova-cloud-controller:image-service - glance:image-service - - placement:identity-service - keystone:identity-service - - placement:placement - nova-cloud-controller:placement - - neutron-api-plugin-ovn:neutron-plugin - neutron-api:neutron-plugin-api-subordinate - - ovn-central:certificates - vault:certificates - - ovn-central:ovsdb-cms - neutron-api-plugin-ovn:ovsdb-cms - - neutron-api:certificates - vault:certificates - - ovn-chassis:nova-compute - nova-compute:neutron-plugin - - ovn-chassis:certificates - vault:certificates - - ovn-chassis:ovsdb - ovn-central:ovsdb - - vault:certificates - neutron-api-plugin-ovn:certificates - - vault:certificates - glance:certificates - - vault:certificates - keystone:certificates - - vault:certificates - nova-cloud-controller:certificates - - vault:certificates - placement:certificates - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""glance:shared-db"", ""glance-mysql-router:shared-db""] - [""nova-cloud-controller:shared-db"", ""nova-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""placement:shared-db"", ""placement-mysql-router:shared-db""] - [""vault:shared-db"", ""vault-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""nova-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""glance-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""placement-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""vault-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",197,824
openstack%2Fcharm-placement~master~I2780ed9642105a4491df14dcf35c6be1cd481898,openstack/charm-placement,master,I2780ed9642105a4491df14dcf35c6be1cd481898,Update to build using charmcraft,MERGED,2022-02-01 21:08:38.000000000,2022-02-03 03:38:30.000000000,2022-02-03 03:38:30.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 21:08:38.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/3e6e62a1eaee7b0f178bc7bdef7570ad24596afd', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I2780ed9642105a4491df14dcf35c6be1cd481898\n'}]",2,827371,3e6e62a1eaee7b0f178bc7bdef7570ad24596afd,10,4,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I2780ed9642105a4491df14dcf35c6be1cd481898
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/71/827371/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,3e6e62a1eaee7b0f178bc7bdef7570ad24596afd,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,82,7
openstack%2Fdiskimage-builder~master~If01697e9693ca176193b549256b9bc09df3b7652,openstack/diskimage-builder,master,If01697e9693ca176193b549256b9bc09df3b7652,Make xfs_growfs execution back-compatible,NEW,2022-02-02 21:50:12.000000000,2022-02-03 03:32:26.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 21:50:12.000000000', 'files': ['diskimage_builder/elements/growvols/static/usr/local/sbin/growvols'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d4bfd616de105cc7b06349d92a5186a8301f23ef', 'message': 'Make xfs_growfs execution back-compatible\n\nOlder versions of xfs_growfs (e.g. xfsprogs 4.20) supports only\nmount-point argument.\n\nChange-Id: If01697e9693ca176193b549256b9bc09df3b7652\n'}]",4,827559,d4bfd616de105cc7b06349d92a5186a8301f23ef,5,2,1,34538,,,0,"Make xfs_growfs execution back-compatible

Older versions of xfs_growfs (e.g. xfsprogs 4.20) supports only
mount-point argument.

Change-Id: If01697e9693ca176193b549256b9bc09df3b7652
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/827559/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/growvols/static/usr/local/sbin/growvols'],1,d4bfd616de105cc7b06349d92a5186a8301f23ef,rminishev/growvols," global mnt_path mnt_path = collections.OrderedDict() mnt_path[devname] = size_bytes for devname, size_bytes in mnt_path.items(): devname"," for volume_path, size_bytes in grow_vols.items(): volume_path",6,2
openstack%2Fnova-specs~master~Ib701e3f79185eabad389136e4411b73d04d8fa04,openstack/nova-specs,master,Ib701e3f79185eabad389136e4411b73d04d8fa04,`socket` PCI NUMA-affinity Policy,MERGED,2020-12-04 15:30:55.000000000,2022-02-03 03:12:48.000000000,2021-01-20 11:40:45.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 34537}]","[{'number': 1, 'created': '2020-12-04 15:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8a39acc86ed01140d7464910677f8a516f1edd8c', 'message': ""[WIP] PCI Socket Affnity\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffnity for a NUMA node, or no affinity at all. This is modelled on\nolder processors's layout, and has worked fine until now.\n\nOlder processors package multiple NUMA nodes into a single package,\nwhich is installed into a single physical socket. The internal\nprocessor layout makes it so that PCI devices have affinity to a\nspecific NUMA node, despite all the nodes sharing the same socket.\n\nMore recent processors, in particular from AMD, have a different\ninternal layout. This makes Nova's current NUMA node affinity model\ninsufficient. Second generation AMD EPYC processors have a central IO\nchiplet per socket, with a configurable number of NUMA nodes on top.\nPCI devices are affined to this central chiplet, as opposed to\nindividual NUMA nodes. In other words, Nova needs a way to express PCI\naffinity to a socket. This spec proposes a way to implement that.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}, {'number': 2, 'created': '2021-01-12 21:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9008385debf6339c49068825aa4ad1bbbbe08efc', 'message': ""`socket` PCI NUMA-affinity Policy\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffinity for a NUMA node, or no affinity at all. This makes one of two\nassumptions about the underlying host NUMA topology. Either there is\nonly a single NUMA node per socket, or - for cluster on die topologies\nwith multiple nodes per socket - there are enough CPUs in each NUMA\nnode to fit reasonnably large VMs that require strict PCI NUMA\naffinity. The latter assumption is no longer true, and Nova needs a\nmore nuanced way to express PCI NUMA affinity.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}, {'number': 3, 'created': '2021-01-13 19:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a3b0e415895819f5ea91aa6d2ad0a83805cada42', 'message': ""`socket` PCI NUMA-affinity Policy\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffinity for a NUMA node, or no affinity at all. This makes one of two\nassumptions about the underlying host NUMA topology. Either there is\nonly a single NUMA node per socket, or - for cluster on die topologies\nwith multiple nodes per socket - there are enough CPUs in each NUMA\nnode to fit reasonnably large VMs that require strict PCI NUMA\naffinity. The latter assumption is no longer true, and Nova needs a\nmore nuanced way to express PCI NUMA affinity.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}, {'number': 4, 'created': '2021-01-18 19:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/17c48a8df696dcf78e57bb9e3d7f8268e318f3fb', 'message': ""`socket` PCI NUMA-affinity Policy\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffinity for a NUMA node, or no affinity at all. This makes one of two\nassumptions about the underlying host NUMA topology. Either there is\nonly a single NUMA node per socket, or - for cluster on die topologies\nwith multiple nodes per socket - there are enough CPUs in each NUMA\nnode to fit reasonnably large VMs that require strict PCI NUMA\naffinity. The latter assumption is no longer true, and Nova needs a\nmore nuanced way to express PCI NUMA affinity.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}, {'number': 5, 'created': '2021-01-19 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a475771be07c1e83e2435b0147a9eed879bcd95b', 'message': ""`socket` PCI NUMA-affinity Policy\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffinity for a NUMA node, or no affinity at all. This makes one of two\nassumptions about the underlying host NUMA topology. Either there is\nonly a single NUMA node per socket, or - for cluster on die topologies\nwith multiple nodes per socket - there are enough CPUs in each NUMA\nnode to fit reasonnably large VMs that require strict PCI NUMA\naffinity. The latter assumption is no longer true, and Nova needs a\nmore nuanced way to express PCI NUMA affinity.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}, {'number': 6, 'created': '2021-01-19 14:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d973d5fd8544ebef8a43917503216171746aceba', 'message': ""`socket` PCI NUMA-affinity Policy\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffinity for a NUMA node, or no affinity at all. This makes one of two\nassumptions about the underlying host NUMA topology. Either there is\nonly a single NUMA node per socket, or - for cluster on die topologies\nwith multiple nodes per socket - there are enough CPUs in each NUMA\nnode to fit reasonnably large VMs that require strict PCI NUMA\naffinity. The latter assumption is no longer true, and Nova needs a\nmore nuanced way to express PCI NUMA affinity.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}, {'number': 7, 'created': '2021-01-19 16:05:22.000000000', 'files': ['specs/wallaby/approved/pci-socket-policy.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/da78f4f4edd289d10b3a6011b13e275ae5ad7f0b', 'message': ""`socket` PCI NUMA-affinity Policy\n\nNova's current support for NUMA affinity for PCI devices is limited in\nthe kinds of affinity that it can express. Either a PCI device has\naffinity for a NUMA node, or no affinity at all. This makes one of two\nassumptions about the underlying host NUMA topology. Either there is\nonly a single NUMA node per socket, or - for cluster on die topologies\nwith multiple nodes per socket - there are enough CPUs in each NUMA\nnode to fit reasonnably large VMs that require strict PCI NUMA\naffinity. The latter assumption is no longer true, and Nova needs a\nmore nuanced way to express PCI NUMA affinity.\n\nChange-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04\n""}]",78,765551,da78f4f4edd289d10b3a6011b13e275ae5ad7f0b,37,5,7,8864,,,0,"`socket` PCI NUMA-affinity Policy

Nova's current support for NUMA affinity for PCI devices is limited in
the kinds of affinity that it can express. Either a PCI device has
affinity for a NUMA node, or no affinity at all. This makes one of two
assumptions about the underlying host NUMA topology. Either there is
only a single NUMA node per socket, or - for cluster on die topologies
with multiple nodes per socket - there are enough CPUs in each NUMA
node to fit reasonnably large VMs that require strict PCI NUMA
affinity. The latter assumption is no longer true, and Nova needs a
more nuanced way to express PCI NUMA affinity.

Change-Id: Ib701e3f79185eabad389136e4411b73d04d8fa04
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/51/765551/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/pci-socket-policy.rst'],1,8a39acc86ed01140d7464910677f8a516f1edd8c,bp/pci-socket-affinity,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================= PCI Socket Policy ================= https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity Nova's current support for NUMA affinity for PCI devices is limited in the kinds of affinity that it can express. Either a PCI device has affnity for a NUMA node, or no affinity at all. This is modelled on older processors's layout, and has worked fine until now. Older processors package multiple NUMA nodes into a single package, which is installed into a single physical socket. The internal processor layout makes it so that PCI devices have affinity to a specific NUMA node, despite all the nodes sharing the same socket. More recent processors, in particular from AMD, have a different internal layout. This makes Nova's current NUMA node affinity model insufficient. Second generation AMD EPYC processors have a central IO chiplet per socket, with a configurable number of NUMA nodes on top. PCI devices are affined to this central chiplet, as opposed to individual NUMA nodes. In other words, Nova needs a way to express PCI affinity to a socket. This spec proposes a way to implement that. Problem description =================== A detailed description of the problem. What problem is this blueprint addressing? Use Cases --------- What use cases does this address? What impact on actors does this change have? Ensure you are clear about the actors in each use case: Developer, End User, Deployer etc. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in nova, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Example JSON schema definitions can be found in the Nova tree http://git.openstack.org/cgit/openstack/nova/tree/nova/api/openstack/compute/schemas Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Consider proposing changes to the versioned notifications: * When the feature adds or removes fields to the API responses. For example when the feature adds a new field to the ``GET /servers`` API response consider adding similar information to the payload of the instance action notifications * When the feature adds a new action to the existing API entities. For example adding a new action to the server might mean you want to emit a corresponding new instance action notification * When the feature adds a new resource (noun) to the REST API consider adding new notifications about the creation and deletion of such resource Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-novaclient and openstack client? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Upgrade impact -------------- Describe any potential upgrade impact on the system, such as: * If this change adds a new feature to the compute host that the controller services rely on, the controller services may need to check the minimum compute service version in the deployment before using the new feature. For example, in Ocata, the FilterScheduler did not use the Placement API until all compute services were upgraded to at least Ocata. * While we strive to have feature parity between all virt drivers, it is not uncommon for one virt driver to implement a new feature exposed out of the API before the others. For example, extending the size of an attached volume. Since Nova does not yet have any type of sophisticated *capabilities* API so a user can know what actions can be performed on a given instance, consider adding a new policy rule to at least let operators that cannot support a virt-specific feature disable it in their cloud which is at least presented to the user in an understandable way by getting a ``403 Forbidden`` error. * Nova supports N-1 version *nova-compute* services for rolling upgrades. Does the proposed change need to consider older code running that may impact how the new change functions, for example, by changing or overwriting global state in the database? This is generally most problematic when making changes that involve multiple compute hosts, like move operations such as migrate, resize, unshelve and evacuate. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Feature Liaison --------------- Ideally feature work is sponsored by a member of the `nova core team`_ or other experienced and active nova developer. The purpose of a liaison is to: * Mentor developers through the arcana of nova's development processes. * Advocate for (aka ""care about"") the feature to the rest of the nova team. * Be the initial go-to for reviews. See the :ref:`feature-liaisons` for more details. Feature liaison: <name and/or nick> * Feature liaison is optional. However we suggest to find a liaison for your feature as it will help getting your feature merged. The :ref:`feature-liaisons` has details about how to find a liaison for your work. * If you do not already have agreement from a nova developer to act as your liaison, you may write ""Liaison Needed"" here and/or in your commit message. * If you are a core or experienced nova dev, you need not have a separate liaison; if you wish, you may just assign yourself, or put ""None""/""N/A"". .. _`nova core team`: https://review.opendev.org/#/admin/groups/25,members Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in nova, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Nova (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Nova tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Wallaby - Introduced ",,417,0
openstack%2Ftripleo-docs~master~Ibdd46897274f697438691e976884128cd773a39b,openstack/tripleo-docs,master,Ibdd46897274f697438691e976884128cd773a39b,Updated supported version references,MERGED,2022-01-20 12:50:27.000000000,2022-02-03 02:59:22.000000000,2022-02-03 02:55:54.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 12:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ac8129e9b09cdb68abd9a5303a7a02fd5e438cd5', 'message': 'Updated supported version references\n\nOur docs still mention that TripleO is only supported\non RHEL and CentOS 7 which is outdated. This change\nupdates references in the baremetal.rst to mention\nRHEL8 and CentOS 8 Stream.\n\nChange-Id: Ibdd46897274f697438691e976884128cd773a39b\n'}, {'number': 2, 'created': '2022-01-22 07:56:00.000000000', 'files': ['deploy-guide/source/environments/baremetal.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ef4d0854d7b629d8da8584c8c5832d9fb0a2593a', 'message': 'Updated supported version references\n\nOur docs still mention that TripleO is only supported\non RHEL and CentOS 7 which is outdated. This change\nupdates references in the baremetal.rst to mention\nRHEL8 and CentOS 8 Stream.\n\nChange-Id: Ibdd46897274f697438691e976884128cd773a39b\n'}]",1,825494,ef4d0854d7b629d8da8584c8c5832d9fb0a2593a,11,3,2,30073,,,0,"Updated supported version references

Our docs still mention that TripleO is only supported
on RHEL and CentOS 7 which is outdated. This change
updates references in the baremetal.rst to mention
RHEL8 and CentOS 8 Stream.

Change-Id: Ibdd46897274f697438691e976884128cd773a39b
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/94/825494/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/environments/baremetal.rst'],1,ac8129e9b09cdb68abd9a5303a7a02fd5e438cd5,update_supported_os,* RHEL 8 (x86_64) * CentOS8 Stream (x86_64)#. Install RHEL 8 x86_64 or CentOS 8 Stream x86_64 on this machine. sudo subscription-manager repos \ --enable=rhel-8-for-x86_64-baseos-eus-rpms \ --enable=rhel-8-for-x86_64-appstream-eus-rpms \ --enable=rhel-8-for-x86_64-highavailability-eus-rpms \ --enable=ansible-2.9-for-rhel-8-x86_64-rpms rhel-8-for-x86_64-baseos-eus-rpms rhel-8-for-x86_64-appstream-eus-rpms rhel-8-for-x86_64-highavailability-eus-rpms ansible-2.9-for-rhel-8-x86_64-rpms,* RHEL 7 x86_64 * CentOS 7 x86_64#. Install RHEL 7.1 x86_64 or CentOS 7 x86_64 on this machine. sudo subscription-manager repos --enable=rhel-7-server-rpms \ --enable=rhel-7-server-optional-rpms --enable=rhel-7-server-extras-rpms \ --enable=rhel-7-server-openstack-6.0-rpms rhel-7-server-rpms rhel-7-server-optional-rpms rhel-7-server-extras-rpms rhel-7-server-openstack-6.0-rpms,12,10
openstack%2Frequirements~master~I86cf04e648b74f7205b283b5eb7dcf46ccd7fd4c,openstack/requirements,master,I86cf04e648b74f7205b283b5eb7dcf46ccd7fd4c,Updated from generate-constraints,ABANDONED,2022-02-03 02:42:53.000000000,2022-02-03 02:52:28.000000000,,[],"[{'number': 1, 'created': '2022-02-03 02:42:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5a0b0410dfd11cbb5283b414b7ae5ff5536a7c4e', 'message': 'Updated from generate-constraints\n\nChange-Id: I86cf04e648b74f7205b283b5eb7dcf46ccd7fd4c\n'}]",0,827584,5a0b0410dfd11cbb5283b414b7ae5ff5536a7c4e,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I86cf04e648b74f7205b283b5eb7dcf46ccd7fd4c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/827584/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5a0b0410dfd11cbb5283b414b7ae5ff5536a7c4e,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1google-api-core===2.5.0types-paramiko===2.8.12zeroconf===0.38.3;python_version=='3.8'responses===0.17.0;python_version=='3.6' responses===0.18.0;python_version=='3.8'paramiko===2.9.2pywbem===1.4.1httpcore===0.14.6pkg_resources===0.0.0django-compressor===3.1coverage===6.3.1;python_version=='3.8'boto3===1.20.47s3transfer===0.5.1httplib2===0.20.4botocore===1.23.47Django===3.2.12types-cryptography===3.3.15diskimage-builder===3.17.0rjsmin===1.2.0alembic===1.7.6,rcssmin===1.0.6XStatic-Angular===1.5.8.0google-api-core===2.4.0types-paramiko===2.8.11zeroconf===0.38.1;python_version=='3.8'responses===0.17.0paramiko===2.8.1pywbem===1.4.0httpcore===0.14.5django-compressor===2.4.1coverage===6.3;python_version=='3.8'boto3===1.20.46s3transfer===0.5.0httplib2===0.20.2botocore===1.23.46Django===3.2.11types-cryptography===3.3.14diskimage-builder===3.16.0rjsmin===1.1.0alembic===1.7.5setuptools===59.6.0;python_version=='3.6' setuptools===60.6.0;python_version=='3.8',22,22
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib6a3f384f32c6c4fbd577a5bee62db620401f850,openstack/tripleo-ansible,stable/wallaby,Ib6a3f384f32c6c4fbd577a5bee62db620401f850,Force NetworkManager to unmanage /etc/resolv.conf,MERGED,2022-01-27 04:28:49.000000000,2022-02-03 02:31:46.000000000,2022-02-03 02:31:46.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-27 04:28:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ec777f4a55fa8111d781a73943b6c3f3d3d78c0', 'message': 'Force NetworkManager to unmanage /etc/resolv.conf\n\nThe patch done via I989e3f1d14fd33e97933032111cf48166dc5f50c was\napparently not enough and we have seen cases where the /etc/resolv.conf\nis still managed by NetworkManager (and DNS config nuked, causing\ndeployment issues).\n\nThis patch will use the `rc-manager` option and set to `unmanaged` which\nwill really force NM to unmanage this file.\n\nCloses-Bug: #1958989\nChange-Id: Ib6a3f384f32c6c4fbd577a5bee62db620401f850\n(cherry picked from commit 9d0da2b383239d296b28ecb3b2458543dc0f0cb4)\n'}]",1,826554,8ec777f4a55fa8111d781a73943b6c3f3d3d78c0,9,3,1,3153,,,0,"Force NetworkManager to unmanage /etc/resolv.conf

The patch done via I989e3f1d14fd33e97933032111cf48166dc5f50c was
apparently not enough and we have seen cases where the /etc/resolv.conf
is still managed by NetworkManager (and DNS config nuked, causing
deployment issues).

This patch will use the `rc-manager` option and set to `unmanaged` which
will really force NM to unmanage this file.

Closes-Bug: #1958989
Change-Id: Ib6a3f384f32c6c4fbd577a5bee62db620401f850
(cherry picked from commit 9d0da2b383239d296b28ecb3b2458543dc0f0cb4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/826554/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,8ec777f4a55fa8111d781a73943b6c3f3d3d78c0,lp_1958989-stable/wallaby, - name: Set 'rc-manager=unmanaged' in /etc/NetworkManager/NetworkManager.conf ini_file: path: /etc/NetworkManager/NetworkManager.conf state: present no_extra_spaces: true section: main option: rc-manager value: unmanaged backup: true,,9,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d,openstack/tripleo-heat-templates,stable/train,Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d,Train-only: Disable admin_token,MERGED,2021-12-16 16:31:33.000000000,2022-02-03 02:31:43.000000000,2022-02-03 02:31:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16339}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-16 16:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c07d692e0b38b79b8113d8f383a97d01d653922c', 'message': 'Train-only: Disable admin_token\n\nThe admin_token parameter was deprecated a long ago, but has been\nrequired by puppet-keystone to use its implementation to manage\nkeystone resources like users until Ussuri release when we introduced\nthe boostrap class.\n\nHowever now all keystone resources are managed by tripleo-ansible, and\nthe requirement is not applied to TripleO-managed deployment.\n\nThis change removes the admin_token from keystone.conf because usage\nof admin_token has been discouraged because of security concern.\n\nChange-Id: Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d\n'}, {'number': 2, 'created': '2021-12-16 16:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/269391eff1f1d8a9ed694429db9ec55e0bfc3bb7', 'message': 'Train-only: Disable admin_token\n\nThe admin_token parameter was deprecated a long ago, but has been\nrequired by puppet-keystone to use its implementation to manage\nkeystone resources like users until Ussuri release when we introduced\nthe boostrap class.\n\nHowever now all keystone resources are managed by tripleo-ansible, and\nthe requirement is not applied to TripleO-managed deployment.\n\nThis change removes the admin_token from keystone.conf because usage\nof admin_token has been discouraged because of security concern.\n\nChange-Id: Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d\n'}, {'number': 3, 'created': '2021-12-16 23:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/908b98aefb42ab49a1436846c1eb7ad3359bf73c', 'message': 'Train-only: Disable admin_token\n\nThe admin_token parameter was deprecated a long ago, but has been\nrequired by puppet-keystone to use its implementation to manage\nkeystone resources like users until Ussuri release when we introduced\nthe boostrap class.\n\nHowever now all keystone resources are managed by tripleo-ansible, and\nthe requirement is not applied to TripleO-managed deployment.\n\nThis change removes the admin_token from keystone.conf because usage\nof admin_token has been discouraged because of security concern.\n\nChange-Id: Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d\n'}, {'number': 4, 'created': '2022-01-05 08:50:30.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ab03a18eadbb392b936cdf6e0f93a51c7e79bbb', 'message': 'Train-only: Disable admin_token\n\nThe admin_token parameter was deprecated a long ago, but has been\nrequired by puppet-keystone to use its implementation to manage\nkeystone resources like users until Ussuri release when we introduced\nthe boostrap class.\n\nHowever now all keystone resources are managed by tripleo-ansible, and\nthe requirement is not applied to TripleO-managed deployment.\n\nThis change removes the admin_token from keystone.conf because usage\nof admin_token has been discouraged because of security concern.\n\nChange-Id: Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d\n'}]",2,822001,5ab03a18eadbb392b936cdf6e0f93a51c7e79bbb,23,7,4,9816,,,0,"Train-only: Disable admin_token

The admin_token parameter was deprecated a long ago, but has been
required by puppet-keystone to use its implementation to manage
keystone resources like users until Ussuri release when we introduced
the boostrap class.

However now all keystone resources are managed by tripleo-ansible, and
the requirement is not applied to TripleO-managed deployment.

This change removes the admin_token from keystone.conf because usage
of admin_token has been discouraged because of security concern.

Change-Id: Icb8c60bb99a074ca26955f4473e8d7aeffdcbf3d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/822001/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,c07d692e0b38b79b8113d8f383a97d01d653922c,, keystone::admin_token: '${::os_service_default}', keystone::admin_token: {get_param: AdminToken},1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3309f2a0e39ad115930ecd5c0e895816565819e9,openstack/tripleo-heat-templates,stable/train,I3309f2a0e39ad115930ecd5c0e895816565819e9,Add ping test for all networks gateway IPs,MERGED,2022-01-20 07:57:11.000000000,2022-02-03 02:31:40.000000000,2022-02-03 02:31:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-20 07:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffd8cdf7b4e975c8deae81487e010156cd8263a4', 'message': ""Add ping test for all networks gateway IPs\n\nAdd ping test for gateway IPs on all networks, to ensure\nall gateways are reachable.\n\nThe releated Bugzilla reports an issue where some network\nfabrics fail when using the current node ping test, which\npings the first node in each role. The fabric simply does\nnot forward traffic before the gateway has been pinged.\n\nOne can argue that the fabric in question is broken. However,\nwith the current implementation the first node in each role\nactually ping tests only against it's own address? So adding\nthe test to ping the gateway addresses improves the validation\nin general.\n\nConflicts:\n  common/deploy-steps.j2\n\nRelated RHBZ#1875962\nDepends-On: I93cded61ffb862e99fd8043dbf0def3d16079692\n\nChange-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9\n(cherry picked from commit 5d830980ec842c6093a8fd44ef922014bcadf693)\n""}, {'number': 2, 'created': '2022-01-20 14:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a285f7a9ac1b17bc5d1a7d61358019442dd4c4d', 'message': ""Add ping test for all networks gateway IPs\n\nAdd ping test for gateway IPs on all networks, to ensure\nall gateways are reachable.\n\nThe releated Bugzilla reports an issue where some network\nfabrics fail when using the current node ping test, which\npings the first node in each role. The fabric simply does\nnot forward traffic before the gateway has been pinged.\n\nOne can argue that the fabric in question is broken. However,\nwith the current implementation the first node in each role\nactually ping tests only against it's own address? So adding\nthe test to ping the gateway addresses improves the validation\nin general.\n\nMake PingTestGatewayIPsMap a map of flatten lists\n\nPingTestGatewayIPsMap elements may contain list of lists, causing\nfailures on roles that iterate over them. See [1] and #1950528 for\nmore info.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/817500\n\nConflicts:\n  common/deploy-steps.j2\n\nCloses-bug: #1950528\nRelated RHBZ#1875962\nDepends-On: I93cded61ffb862e99fd8043dbf0def3d16079692\nChange-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9\n(cherry picked from commit 5d830980ec842c6093a8fd44ef922014bcadf693)\n(cherry picked from commit efc328c66898bfc09c5dcb00fe5f584a45b899ff)\n""}, {'number': 3, 'created': '2022-01-28 22:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/937761e05d35b23f73c19559ef6e11f05e238460', 'message': ""Add ping test for all networks gateway IPs\n\nAdd ping test for gateway IPs on all networks, to ensure\nall gateways are reachable.\n\nThe releated Bugzilla reports an issue where some network\nfabrics fail when using the current node ping test, which\npings the first node in each role. The fabric simply does\nnot forward traffic before the gateway has been pinged.\n\nOne can argue that the fabric in question is broken. However,\nwith the current implementation the first node in each role\nactually ping tests only against it's own address? So adding\nthe test to ping the gateway addresses improves the validation\nin general.\n\nMake PingTestGatewayIPsMap a map of flatten lists\n\nPingTestGatewayIPsMap elements may contain list of lists, causing\nfailures on roles that iterate over them. See [1] and #1950528 for\nmore info.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/817500\n\nAdd attr of networks and subnets to Networks resource\n\nIn the Networks resource tempaltes add the full resource\nattributes to net_attributes_map. This is a partial cherry-pick of\ncommit 5b3878580a9768be7c7c39d3062f567eb5e13767.\n\nAlso the parameter {{role.name}}ControlPlaneSubnet is added in\novercloud.yaml.j2, the parameter was previously only used in\npuppet/role.role.j2.yaml. This is a partial cherry-pick of\ncommit 7b8c6b07dad3ddebbf9966fc6c8ba3e8a7b4cd8a.\n\nConflicts:\n  common/deploy-steps.j2\n  network/network.j2\n\nCloses-bug: #1950528\nRelated RHBZ#1875962\nDepends-On: I93cded61ffb862e99fd8043dbf0def3d16079692\nDepends-On: https://review.opendev.org/825676\nChange-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9\n(cherry picked from commit 5d830980ec842c6093a8fd44ef922014bcadf693)\n(cherry picked from commit efc328c66898bfc09c5dcb00fe5f584a45b899ff)\n(cherry picked from commit 720b18fd8cb233aa809dd38ea71d1cf5ae39808f)\n""}, {'number': 4, 'created': '2022-02-01 07:37:29.000000000', 'files': ['network/networks.j2.yaml', 'network/network.j2', 'overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b22453f52d62c6e4e673fb3d26d9dd8a7a9aee7f', 'message': ""Add ping test for all networks gateway IPs\n\nAdd ping test for gateway IPs on all networks, to ensure\nall gateways are reachable.\n\nThe releated Bugzilla reports an issue where some network\nfabrics fail when using the current node ping test, which\npings the first node in each role. The fabric simply does\nnot forward traffic before the gateway has been pinged.\n\nOne can argue that the fabric in question is broken. However,\nwith the current implementation the first node in each role\nactually ping tests only against it's own address? So adding\nthe test to ping the gateway addresses improves the validation\nin general.\n\nMake PingTestGatewayIPsMap a map of flatten lists\n\nPingTestGatewayIPsMap elements may contain list of lists, causing\nfailures on roles that iterate over them. See [1] and #1950528 for\nmore info.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/817500\n\nAdd attr of networks and subnets to Networks resource\n\nIn the Networks resource tempaltes add the full resource\nattributes to net_attributes_map. This is a partial cherry-pick of\ncommit 5b3878580a9768be7c7c39d3062f567eb5e13767.\n\nAlso the parameter {{role.name}}ControlPlaneSubnet is added in\novercloud.yaml.j2, the parameter was previously only used in\npuppet/role.role.j2.yaml. This is a partial cherry-pick of\ncommit 7b8c6b07dad3ddebbf9966fc6c8ba3e8a7b4cd8a.\n\nConflicts:\n  common/deploy-steps.j2\n  network/network.j2\n\nCloses-bug: #1950528\nRelated RHBZ#1875962\nDepends-On: I93cded61ffb862e99fd8043dbf0def3d16079692\nDepends-On: https://review.opendev.org/825676\nChange-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9\n(cherry picked from commit 5d830980ec842c6093a8fd44ef922014bcadf693)\n(cherry picked from commit efc328c66898bfc09c5dcb00fe5f584a45b899ff)\n(cherry picked from commit 720b18fd8cb233aa809dd38ea71d1cf5ae39808f)\n""}]",5,825433,b22453f52d62c6e4e673fb3d26d9dd8a7a9aee7f,26,5,4,24245,,,0,"Add ping test for all networks gateway IPs

Add ping test for gateway IPs on all networks, to ensure
all gateways are reachable.

The releated Bugzilla reports an issue where some network
fabrics fail when using the current node ping test, which
pings the first node in each role. The fabric simply does
not forward traffic before the gateway has been pinged.

One can argue that the fabric in question is broken. However,
with the current implementation the first node in each role
actually ping tests only against it's own address? So adding
the test to ping the gateway addresses improves the validation
in general.

Make PingTestGatewayIPsMap a map of flatten lists

PingTestGatewayIPsMap elements may contain list of lists, causing
failures on roles that iterate over them. See [1] and #1950528 for
more info.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/817500

Add attr of networks and subnets to Networks resource

In the Networks resource tempaltes add the full resource
attributes to net_attributes_map. This is a partial cherry-pick of
commit 5b3878580a9768be7c7c39d3062f567eb5e13767.

Also the parameter {{role.name}}ControlPlaneSubnet is added in
overcloud.yaml.j2, the parameter was previously only used in
puppet/role.role.j2.yaml. This is a partial cherry-pick of
commit 7b8c6b07dad3ddebbf9966fc6c8ba3e8a7b4cd8a.

Conflicts:
  common/deploy-steps.j2
  network/network.j2

Closes-bug: #1950528
Related RHBZ#1875962
Depends-On: I93cded61ffb862e99fd8043dbf0def3d16079692
Depends-On: https://review.opendev.org/825676
Change-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9
(cherry picked from commit 5d830980ec842c6093a8fd44ef922014bcadf693)
(cherry picked from commit efc328c66898bfc09c5dcb00fe5f584a45b899ff)
(cherry picked from commit 720b18fd8cb233aa809dd38ea71d1cf5ae39808f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/825433/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,ffd8cdf7b4e975c8deae81487e010156cd8263a4,RHBZ1875962-stable/train," PingTestGatewayIPsMap: default: {} description: A map of role name to list of gateway IP addresses for each network, used to ping test each gateway. type: json ping_test_gateway_ips: {get_param: PingTestGatewayIPsMap} tripleo_nodes_validation_ping_test_gateway_ips: ""{{ ping_test_gateway_ips.get(tripleo_role_name) }}""",,24,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,stable/wallaby,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,MERGED,2022-01-31 16:10:57.000000000,2022-02-03 02:26:57.000000000,2022-02-03 02:26:57.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-31 16:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f6396404244a5cf2eecaace8fcca46fa3f27c72', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827141\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 2, 'created': '2022-02-02 15:05:49.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc898b9011030e43aaa26358a052e4b6de352275', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nRelated-Bug: #1881593\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827141\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}]",0,827142,fc898b9011030e43aaa26358a052e4b6de352275,10,3,2,6681,,,0,"Add ovn_chassis_mac_map to ExtraConfig role

Related-Bug: #1881593
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827141

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/827142/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,6f6396404244a5cf2eecaace8fcca46fa3f27c72,bug/1881593, - ovn_chassis_mac_map # provided by tripleo_hieradata,,1,0
openstack%2Ftripleo-heat-templates~master~I36367b58d43347ccf0fc18de4665a10891faef10,openstack/tripleo-heat-templates,master,I36367b58d43347ccf0fc18de4665a10891faef10,Drop Nova and NovaJoin services from UC role data,MERGED,2022-02-01 11:39:06.000000000,2022-02-03 02:01:23.000000000,2022-02-03 02:01:23.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26343}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-01 11:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/792e43a77201c1afcec6193cf52472786dd1bbda', 'message': 'Drop Nova and NovaJoin services from UC role data\n\nAs of Wallaby, Nova service no longer in use on Undercloud.\nKeeping these in roles data waste container prepare cycles\nand the registry space for unused container images.\n\nChange-Id: I36367b58d43347ccf0fc18de4665a10891faef10\nRelated-bug: #1959662\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-02-01 14:31:06.000000000', 'files': ['roles_data_undercloud.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17004426aef236da2d79d299523c0a2e0abef03e', 'message': 'Drop Nova and NovaJoin services from UC role data\n\nAs of Wallaby, Nova service no longer in use on Undercloud.\nKeeping these in roles data waste container prepare cycles\nand the registry space for unused container images.\n\nDepends-On: https://review.opendev.org/827257\nChange-Id: I36367b58d43347ccf0fc18de4665a10891faef10\nRelated-bug: #1959662\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,827268,17004426aef236da2d79d299523c0a2e0abef03e,16,9,2,6926,,,0,"Drop Nova and NovaJoin services from UC role data

As of Wallaby, Nova service no longer in use on Undercloud.
Keeping these in roles data waste container prepare cycles
and the registry space for unused container images.

Depends-On: https://review.opendev.org/827257
Change-Id: I36367b58d43347ccf0fc18de4665a10891faef10
Related-bug: #1959662
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/827268/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles_data_undercloud.yaml', 'roles/Undercloud.yaml']",2,792e43a77201c1afcec6193cf52472786dd1bbda,1959662,, - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::Novajoin,0,10
openstack%2Ftripleo-common~master~I7d7c47d32e50dad3d34959e8ce447f84957329ea,openstack/tripleo-common,master,I7d7c47d32e50dad3d34959e8ce447f84957329ea,Don't install openstack-selinux in containers,MERGED,2022-02-02 15:54:04.000000000,2022-02-03 01:54:07.000000000,2022-02-03 01:52:34.000000000,"[{'_account_id': 4978}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 15:54:04.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01bb19a9a9200e9132225a652966c3a90e1c5b83', 'message': ""Don't install openstack-selinux in containers\n\nThere's no use for selinux policies within container, container don't\nmanage selinux, all is on the host side.\n\nDropping this package will also drop container-selinux, and we should\nget a faster build for the base image, since no selinux related task\nshould happen.\n\nChange-Id: I7d7c47d32e50dad3d34959e8ce447f84957329ea\n""}]",1,827523,01bb19a9a9200e9132225a652966c3a90e1c5b83,13,9,1,28223,,,0,"Don't install openstack-selinux in containers

There's no use for selinux policies within container, container don't
manage selinux, all is on the host side.

Dropping this package will also drop container-selinux, and we should
get a faster build for the base image, since no selinux related task
should happen.

Change-Id: I7d7c47d32e50dad3d34959e8ce447f84957329ea
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/827523/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,01bb19a9a9200e9132225a652966c3a90e1c5b83,containers/openstack-selinux,, - openstack-selinux,0,1
openstack%2Fpython-tripleoclient~master~Ib6ab8adc12b3604cc7127e3292a39d57910b08ae,openstack/python-tripleoclient,master,Ib6ab8adc12b3604cc7127e3292a39d57910b08ae,Log deprecation of enable_heat option.,MERGED,2022-01-27 16:35:12.000000000,2022-02-03 01:14:01.000000000,2022-02-03 01:12:23.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-27 16:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3818e9e6987b7cba28fb2ee78b993f684b81c958', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 2, 'created': '2022-01-27 16:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82c1afc78e2c9fb52533abebc3148ec6d14c93bd', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 3, 'created': '2022-01-28 06:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/197078ccb582c1ebad6bf13991ba5e873f245585', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 4, 'created': '2022-01-28 13:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3aab3b23c14212b7b773a7cde81308ab5d970ddc', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 5, 'created': '2022-01-31 13:38:51.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c3d290307993109e4c1169a4919a9cad66f72d2', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827088\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}]",16,826619,1c3d290307993109e4c1169a4919a9cad66f72d2,29,8,5,26343,,,0,"Log deprecation of enable_heat option.

The enable_heat option has been deprecated in [0], so
let's suggest its removal if the parameter is still present
in the undercloud.conf.

[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827088
Change-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/19/826619/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,3818e9e6987b7cba28fb2ee78b993f684b81c958,, if CONF.get('enable_heat'): Log.warning('enable_heat has been deprecated. Ephemeral heat ' 'is now deployed by default. Please remove the ' 'option from undercloud.conf.')," if not CONF.get('enable_heat'): deploy_args += ['-e', os.path.join( tht_templates, ""environments/disable-heat.yaml"")]",4,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib9a31518ee9408d89abff4c4eb18a7cfe243fb58,openstack/tripleo-ansible,stable/wallaby,Ib9a31518ee9408d89abff4c4eb18a7cfe243fb58,Use shell module to generate keys,MERGED,2022-02-01 15:29:21.000000000,2022-02-03 01:12:21.000000000,2022-02-03 01:12:21.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-01 15:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/574d4f6f0aa62e81fabc18d222efd01b0b1fc39f', 'message': 'Use shell module to generate keys\n\nopenssh_keypair ansible module was moved to community.crypto\ncollection from Ansible-Core 2.11, we can\'t use it now.\nFor using it in the product we either need to package and add to\ndeps and maintain the whole community.crypto module, either to\nuse \'shell\' command to generate the keys.\nAdded ""creates"" so keys won\'t be overridden if they exists,\nkeeping the idempotency. [1]\n\n[1] https://github.com/ansible-collections/community.crypto/blob/\n91d98c44137cde53726bfa8f61898f3c28041e20/plugins/module_utils/openssh/backends/common.py#L188\n\nChange-Id: Ib9a31518ee9408d89abff4c4eb18a7cfe243fb58\n(cherry picked from commit d5cdae7897fd2f8ed8de40fc2290b4f5b3908576)\n'}, {'number': 2, 'created': '2022-02-02 12:59:10.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1accb1e4e292de423e81276d863986efc01bce38', 'message': 'Use shell module to generate keys\n\nopenssh_keypair ansible module was moved to community.crypto\ncollection from Ansible-Core 2.11, we can\'t use it now.\nFor using it in the product we either need to package and add to\ndeps and maintain the whole community.crypto module, either to\nuse \'shell\' command to generate the keys.\nAdded ""creates"" so keys won\'t be overridden if they exists,\nkeeping the idempotency. [1]\n\n[1] https://github.com/ansible-collections/community.crypto/blob/\n91d98c44137cde53726bfa8f61898f3c28041e20/plugins/module_utils/openssh/backends/common.py#L188\n\nChange-Id: Ib9a31518ee9408d89abff4c4eb18a7cfe243fb58\n(cherry picked from commit d5cdae7897fd2f8ed8de40fc2290b4f5b3908576)\n'}]",4,827245,1accb1e4e292de423e81276d863986efc01bce38,19,5,2,30002,,,0,"Use shell module to generate keys

openssh_keypair ansible module was moved to community.crypto
collection from Ansible-Core 2.11, we can't use it now.
For using it in the product we either need to package and add to
deps and maintain the whole community.crypto module, either to
use 'shell' command to generate the keys.
Added ""creates"" so keys won't be overridden if they exists,
keeping the idempotency. [1]

[1] https://github.com/ansible-collections/community.crypto/blob/
91d98c44137cde53726bfa8f61898f3c28041e20/plugins/module_utils/openssh/backends/common.py#L188

Change-Id: Ib9a31518ee9408d89abff4c4eb18a7cfe243fb58
(cherry picked from commit d5cdae7897fd2f8ed8de40fc2290b4f5b3908576)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/827245/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml']",2,574d4f6f0aa62e81fabc18d222efd01b0b1fc39f,," shell: ""ssh-keygen -q -t rsa -N '' -f {{ ssh_key_dir }}/octavia_id_rsa"" args: creates: ""{{ ssh_key_dir }}/octavia_id_rsa"""," openssh_keypair: path: ""{{ ssh_key_dir }}/octavia_id_rsa""",15,6
openstack%2Fhorizon~master~If72d49c78a9f83687785a1225151d819b85e88d2,openstack/horizon,master,If72d49c78a9f83687785a1225151d819b85e88d2,Modified the image page to use CSS class,MERGED,2021-07-23 11:52:47.000000000,2022-02-03 01:08:20.000000000,2022-02-03 01:06:29.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 33786}, {'_account_id': 33801}]","[{'number': 1, 'created': '2021-07-23 11:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9084df55e52f0ab5123e9c4a171bac8cada92b06', 'message': 'Modified the image page to use CSS class\n\nPages can not display normal when language is Simplified Chinese(zh-cn),\na row in the table can display only one Chinese character.\n\nRemove references to {$ column.classes $} from the CSS style.\n\nThe page should now display normally.\n\nPartial-Bug: #1936830\nChange-Id: If72d49c78a9f83687785a1225151d819b85e88d2\n'}, {'number': 2, 'created': '2021-09-26 07:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cfd85060047b6d754b0afbaea471d16c5b0dcfc3', 'message': 'Modified the image page to use CSS class\n\nPages can not display normal when language is Simplified Chinese(zh-cn),\na row in the table can display only one Chinese character.\n\nRemove references to {$ column.classes $} from the CSS style.\n\nThe page should now display normally.\n\nPartial-Bug: #1936830\nChange-Id: If72d49c78a9f83687785a1225151d819b85e88d2\n'}, {'number': 3, 'created': '2021-10-08 02:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5e12b1cc0bbc1d88c4b97128385b972ec90cc35f', 'message': 'Modified the image page to use CSS class\n\nPages can not display normal when language is Simplified Chinese(zh-cn),\na row in the table can display only one Chinese character.\n\nRemove ""width: 100%"" rule from the ""word-wrap"" class.\n\nThe page should now display normally.\n\nPartial-Bug: #1936830\nChange-Id: If72d49c78a9f83687785a1225151d819b85e88d2\n'}, {'number': 4, 'created': '2021-10-08 02:20:24.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/_util.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e9ca0016234632f6ad0fbd766c5829c587b6a951', 'message': 'Modified the image page to use CSS class\n\nPages can not display normal when language is Simplified Chinese(zh-cn),\na row in the table can display only one Chinese character.\n\nRemove ""width: 100%"" rule from the ""word-wrap"" class.\n\nThe page should now display normally.\n\nPartial-Bug: #1936830\nChange-Id: If72d49c78a9f83687785a1225151d819b85e88d2\n'}]",4,802013,e9ca0016234632f6ad0fbd766c5829c587b6a951,29,8,4,33787,,,0,"Modified the image page to use CSS class

Pages can not display normal when language is Simplified Chinese(zh-cn),
a row in the table can display only one Chinese character.

Remove ""width: 100%"" rule from the ""word-wrap"" class.

The page should now display normally.

Partial-Bug: #1936830
Change-Id: If72d49c78a9f83687785a1225151d819b85e88d2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/802013/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/framework/widgets/table/hz-dynamic-table.html'],1,9084df55e52f0ab5123e9c4a171bac8cada92b06,bug/1936830," class=""rsp-p{$ column.priority $}"""," class=""rsp-p{$ column.priority $} {$ column.classes $}""",1,1
openstack%2Fmagnum~master~Iccde333b8f2d219de9c5923d4adb822c7d3f19f4,openstack/magnum,master,Iccde333b8f2d219de9c5923d4adb822c7d3f19f4,[k8s] Fix rolling upgrade,NEW,2021-02-15 07:06:49.000000000,2022-02-03 01:07:23.000000000,,"[{'_account_id': 12404}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-15 07:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/277a404bb5318c957d1a53725a191b68f1df471f', 'message': '[WIP] Fix rolling upgrade\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 2, 'created': '2021-02-15 07:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/81aebebd1ee9d73e7d090a6f9985d845e6100bcf', 'message': '[WIP] Fix rolling upgrade\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 3, 'created': '2021-02-16 20:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c85116917f567c8cac6a29b34592a0323fc8fd7a', 'message': '[WIP] Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) source the bashrc to get the kubectl command worked\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 4, 'created': '2021-02-18 05:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d6076ad0c652456dc5ba2cc9992b4ddcddc77c9b', 'message': 'Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) source the bashrc to get the kubectl command worked\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 5, 'created': '2021-02-19 00:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c6e15b6617da856265f80808cf11603e46b3763c', 'message': 'Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) source the bashrc to get the kubectl command worked\n3)\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 6, 'created': '2021-02-19 00:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b7ae361e3b2b160f3969da5dbd97c792916473fd', 'message': 'Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 7, 'created': '2021-02-19 01:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e2453517e41e2922929c899fab50ce80299e1efa', 'message': 'Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 8, 'created': '2021-03-18 06:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1b098943988348599e3adef8d45f5ded98779f53', 'message': 'Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 9, 'created': '2021-04-01 06:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0a6d91362ae4b76d6dc7280765072df7993f6017', 'message': 'Fix rolling upgrade\n\nThere are two changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 10, 'created': '2021-04-06 00:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/66c1f9ec7b2a66cdeb28b982ecbc208afb34bf3d', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 11, 'created': '2021-04-07 03:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/12222ed97ef02b9bef7d555d749dcf9616bec260', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n\nstory: 2008628\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 12, 'created': '2021-04-20 03:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0a92b33b61ec519d1afbbed6217cf225a02927a6', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 13, 'created': '2021-04-27 07:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e7c33dc4f9bb58d7ebb6157847e54e4257dc9969', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 14, 'created': '2021-05-16 23:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b688b2ff95b9c516ed8a598830d7dcb0dec0850a', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 15, 'created': '2021-05-20 23:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/087f51b9faf517388685053b9ba9782cb203bd52', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 16, 'created': '2021-05-21 05:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/06eaaf3a7a017883e16b669d2913b436c00c9d95', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 17, 'created': '2021-05-21 05:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c95ebbc13f0de4879b790fd22970e4295ba88fe1', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 18, 'created': '2021-05-25 07:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/47f1315d4561e667ff5379c7881353cec6820d14', 'message': 'Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 19, 'created': '2021-05-25 07:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/979abfe65852182796ead7d05387e95bb633fc06', 'message': '[k8s] Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 20, 'created': '2021-07-07 01:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dbb66db345b7807f3ef0dc1cc4cc7768b8a91775', 'message': '[k8s] Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}, {'number': 21, 'created': '2021-11-14 20:19:46.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/heat/driver.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a1198bc01841f3bee512cc77234f567b176b1d9d', 'message': '[k8s] Fix rolling upgrade\n\nThere are several changes in this patch:\n\n1) Fix the kube_image_digest for both master and worker nodes\n2) Source the bashrc to get the kubectl command worked\n3) Fix the upgrade scenario if the nodes are based on image instead\n   of volume\n4) Fix the case of upgrade an old cluster created before Magnum\n   dropping the insecure port support.\n\nStory: 2008628\nTask: 41832\n\nChange-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4\n'}]",28,775558,a1198bc01841f3bee512cc77234f567b176b1d9d,69,4,21,6484,,,0,"[k8s] Fix rolling upgrade

There are several changes in this patch:

1) Fix the kube_image_digest for both master and worker nodes
2) Source the bashrc to get the kubectl command worked
3) Fix the upgrade scenario if the nodes are based on image instead
   of volume
4) Fix the case of upgrade an old cluster created before Magnum
   dropping the insecure port support.

Story: 2008628
Task: 41832

Change-Id: Iccde333b8f2d219de9c5923d4adb822c7d3f19f4
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/775558/13 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/driver.py']",2,277a404bb5318c957d1a53725a191b68f1df471f,fix-k8s-rolling-upgrade," kube_image_digest = cluster_template.labels[""kube_image_digest""] ""kube_image_digest"": kube_image_digest, heat_params.update({""master_image"": cluster_template.image_id, ""minion_image"": cluster_template.image_id}) ",,6,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c,openstack/tripleo-ansible,stable/wallaby,Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c,tripleo-transfer: fix molecule test,MERGED,2022-02-02 12:46:16.000000000,2022-02-03 00:27:06.000000000,2022-02-03 00:27:06.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 12:46:16.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52f779b55fda2342978a7cce36a956e74ec490c9', 'message': 'tripleo-transfer: fix molecule test\n\nSince [1] tripleo-transfer allows excluding files from\ndata transfer between hosts. The associated molecule\ntests have a typo which make it fail when the feature\nis not exercised in CI.\n\n[1] I1e88907db0bb26d52c92cb996eb56767e06b3874\n\nChange-Id: Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c\n(cherry picked from commit 26a3a6805ef48b7e8d91b6cf326eb9ad9f3bfc52)\n'}]",2,827402,52f779b55fda2342978a7cce36a956e74ec490c9,8,2,1,30002,,,0,"tripleo-transfer: fix molecule test

Since [1] tripleo-transfer allows excluding files from
data transfer between hosts. The associated molecule
tests have a typo which make it fail when the feature
is not exercised in CI.

[1] I1e88907db0bb26d52c92cb996eb56767e06b3874

Change-Id: Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c
(cherry picked from commit 26a3a6805ef48b7e8d91b6cf326eb9ad9f3bfc52)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/827402/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml'],1,52f779b55fda2342978a7cce36a956e74ec490c9,transfer-molecule-fix-stable/wallaby," test2_excluded_files: ""{{ test2_exclude_src_files | map('regex_replace', '(.*)', test2_dst_dir ~ '/\\1') }}"""," test2_excluded_files: ""{{ test2_excluded_files | map('regex_replace', '(.*)', test2_dst_dir ~ '/\\1') }}""",1,1
openstack%2Fproject-config~master~I6300c4b03ebf92f5e9bb120f34a8f03bd4728caa,openstack/project-config,master,I6300c4b03ebf92f5e9bb120f34a8f03bd4728caa,Switch jeepyb over to building Gerrit 3.4 images,MERGED,2022-02-02 22:03:21.000000000,2022-02-02 23:08:01.000000000,2022-02-02 23:08:01.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 22:03:21.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a146347fa5489fcb3f92c923b746358a37bc7a97', 'message': 'Switch jeepyb over to building Gerrit 3.4 images\n\nThis was missed when we upgraded Gerrit to 3.4 but is necessary before\nwe cleanup our old 3.3 building jobs.\n\nChange-Id: I6300c4b03ebf92f5e9bb120f34a8f03bd4728caa\n'}]",0,827562,a146347fa5489fcb3f92c923b746358a37bc7a97,7,3,1,4146,,,0,"Switch jeepyb over to building Gerrit 3.4 images

This was missed when we upgraded Gerrit to 3.4 but is necessary before
we cleanup our old 3.3 building jobs.

Change-Id: I6300c4b03ebf92f5e9bb120f34a8f03bd4728caa
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/827562/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a146347fa5489fcb3f92c923b746358a37bc7a97,update-jeepyb-gerrit-jobs, - system-config-build-image-gerrit-3.4: - system-config-upload-image-gerrit-3.4: - system-config-promote-image-gerrit-3.4:, - system-config-build-image-gerrit-3.3: - system-config-upload-image-gerrit-3.3: - system-config-promote-image-gerrit-3.3:,3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1e63059e76e56d496d88e88235abbaf2f005edea,openstack/tripleo-heat-templates,stable/wallaby,I1e63059e76e56d496d88e88235abbaf2f005edea,Align services of ControllerSriov role,MERGED,2022-01-20 05:44:36.000000000,2022-02-02 23:03:24.000000000,2022-02-02 23:03:24.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-20 05:44:36.000000000', 'files': ['roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67922eb20c21fee0160000bb4c24f0946aaafd9b', 'message': 'Align services of ControllerSriov role\n\nRemove the unused services from the ControllerSriov\nrole in comparison with Controller role.\n\nChange-Id: I1e63059e76e56d496d88e88235abbaf2f005edea\n(cherry picked from commit 98e9b2983e8e0e36beaa7a4974c4839bf752c384)\n'}]",0,825226,67922eb20c21fee0160000bb4c24f0946aaafd9b,10,3,1,18575,,,0,"Align services of ControllerSriov role

Remove the unused services from the ControllerSriov
role in comparison with Controller role.

Change-Id: I1e63059e76e56d496d88e88235abbaf2f005edea
(cherry picked from commit 98e9b2983e8e0e36beaa7a4974c4839bf752c384)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/825226/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ControllerSriov.yaml'],1,67922eb20c21fee0160000bb4c24f0946aaafd9b,remove_older_svs-stable/wallaby, - OS::TripleO::Services::CinderBackendDellEMCPowerFlex - OS::TripleO::Services::CinderBackendDellEMCPowermax - OS::TripleO::Services::CinderBackendDellEMCPowerStore - OS::TripleO::Services::CinderBackendDellEMCSc - OS::TripleO::Services::CinderBackendDellEMCVxFlexOS - OS::TripleO::Services::CinderBackendDellEMCXtremio, - OS::TripleO::Services::CinderBackendDellPs - OS::TripleO::Services::Docker,6,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~If11f21c05a795108d76a3d210e2ebf11d7114c50,openstack/tripleo-ansible,stable/wallaby,If11f21c05a795108d76a3d210e2ebf11d7114c50,Make template ovn_chassis_mac_map backwards-compatible,MERGED,2022-01-31 16:09:19.000000000,2022-02-02 23:03:21.000000000,2022-02-02 23:03:21.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-31 16:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/444a7137e3c63d46800f4ce85311f2f7bbe85eec', 'message': 'Make template ovn_chassis_mac_map backwards-compatible\n\nChange-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50\n(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)\n'}, {'number': 2, 'created': '2022-02-02 15:04:59.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a1ffcee897dfee925ef5b9a7f9044f9abee984d', 'message': 'Make template ovn_chassis_mac_map backwards-compatible\n\nRelated-Bug: #1881593\nChange-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50\n(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)\n'}]",1,827141,8a1ffcee897dfee925ef5b9a7f9044f9abee984d,11,3,2,6681,,,0,"Make template ovn_chassis_mac_map backwards-compatible

Related-Bug: #1881593
Change-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50
(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/827141/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2'],1,444a7137e3c63d46800f4ce85311f2f7bbe85eec,bug/1881593,"{% set ovn_chassis_mac_map_data = {} %} {% set _ = ovn_chassis_mac_map_data.__setitem__('ovn_chassis_mac_map', hostvars[inventory_hostname].get('ovn_chassis_mac_map', {})) %} {{ ovn_chassis_mac_map_data | to_nice_json }}",{{ hostvars[inventory_hostname]['ovn_chassis_mac_map'] | default({}) | to_nice_json }},3,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/victoria,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-01-28 13:55:58.000000000,2022-02-02 22:52:06.000000000,2022-02-02 22:52:06.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2022-01-28 13:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3442249d15553bbee993a07e13b227579a80078d', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n'}, {'number': 2, 'created': '2022-01-31 10:27:59.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6a27f9b53e18794fb2b345dcfec9138ceef78bc', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n'}]",1,826891,c6a27f9b53e18794fb2b345dcfec9138ceef78bc,11,4,2,32968,,,0,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/826891/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",5,3442249d15553bbee993a07e13b227579a80078d,remove_nfs_variables,"tripleo_backup_and_restore_server: 192.168.24.1 tripleo_backup_and_restore_shared_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24']tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_shared_storage_folder }}/*']tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}""tripleo_backup_and_restore_skip_server_test: false","tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24']tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*']tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}{{ tripleo_backup_and_restore_nfs_storage_folder }}"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}{{ tripleo_backup_and_restore_nfs_storage_folder }}""tripleo_backup_and_restore_skip_nfs_test: false",15,15
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ida652c946f8414b2f6ad35baf6e26d0e068da991,openstack/tripleo-ansible,stable/wallaby,Ida652c946f8414b2f6ad35baf6e26d0e068da991,Fix octavia deployment tasks for FIPS environment,MERGED,2022-01-28 16:16:02.000000000,2022-02-02 22:52:04.000000000,2022-02-02 22:52:04.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-28 16:16:02.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c668da793a7907174aca23c52a42b5d9470f80a4', 'message': 'Fix octavia deployment tasks for FIPS environment\n\nUnder FIPS, creating an md5 hash using ssh-keygen will fail.\nAs nova does not yet provide fingerprints other than md5, download\nand compute the fingerprint locally insted.\n\nAlso fix genrsa, which is deprecated, and will also fail under FIPS\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ida652c946f8414b2f6ad35baf6e26d0e068da991\n(cherry picked from commit 1e87f235b1932b9548b932025bee0420025cda32)\n'}]",0,826913,c668da793a7907174aca23c52a42b5d9470f80a4,7,3,1,32926,,,0,"Fix octavia deployment tasks for FIPS environment

Under FIPS, creating an md5 hash using ssh-keygen will fail.
As nova does not yet provide fingerprints other than md5, download
and compute the fingerprint locally insted.

Also fix genrsa, which is deprecated, and will also fail under FIPS

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ida652c946f8414b2f6ad35baf6e26d0e068da991
(cherry picked from commit 1e87f235b1932b9548b932025bee0420025cda32)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/826913/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml']",2,c668da793a7907174aca23c52a42b5d9470f80a4,, openssl genpkey -algorithm RSA -pass env:CA_PASSPHRASE -aes-256-cbc \ -out {{ openssl_temp_dir }}/private/cakey.pem, openssl genrsa -passout env:CA_PASSPHRASE -aes256 \ -out {{ openssl_temp_dir }}/private/cakey.pem 2048,8,6
openstack%2Ftripleo-ansible~master~I0bf31c945756b29130b1418ef71b8435e2b4f192,openstack/tripleo-ansible,master,I0bf31c945756b29130b1418ef71b8435e2b4f192,Add option to bootstrap cephadm with --single-host-defaults,MERGED,2022-01-24 19:45:00.000000000,2022-02-02 22:52:01.000000000,2022-02-02 22:52:01.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-24 19:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7361838a2252fbf413e2b3be44ac6d3fc37bbe7', 'message': 'Add option to bootstrap cephadm with --single-host-defaults\n\nAdd boolean tripleo_cephadm_single_host_defaults default false.\nWhen true --single-host-defaults is passed to cephadm bootstrap.\n\nRelated-Bug: 1958884\nChange-Id: I0bf31c945756b29130b1418ef71b8435e2b4f192\n'}, {'number': 2, 'created': '2022-01-27 10:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7ea509439cdb92fa85f592e70c09507cb702752', 'message': 'Add option to bootstrap cephadm with --single-host-defaults\n\nAdd boolean tripleo_cephadm_single_host_defaults default false.\nWhen true --single-host-defaults is passed to cephadm bootstrap.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nRelated-Bug: 1958884\nChange-Id: I0bf31c945756b29130b1418ef71b8435e2b4f192\n'}, {'number': 3, 'created': '2022-02-01 22:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e9bd895d5659fcf541eb1cbe71541c0adb967b9', 'message': 'Add option to bootstrap cephadm with --single-host-defaults\n\nAdd boolean tripleo_cephadm_single_host_defaults default false.\nWhen true --single-host-defaults is passed to cephadm bootstrap.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nRelated-Bug: 1958884\nChange-Id: I0bf31c945756b29130b1418ef71b8435e2b4f192\n'}, {'number': 4, 'created': '2022-02-02 13:18:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f219b5ec300944cf4f2291c1a2bc1ee2c8bcc44', 'message': 'Add option to bootstrap cephadm with --single-host-defaults\n\nAdd boolean tripleo_cephadm_single_host_defaults default false.\nWhen true --single-host-defaults is passed to cephadm bootstrap.\n\nRelated-Bug: 1958884\nChange-Id: I0bf31c945756b29130b1418ef71b8435e2b4f192\n'}]",9,826150,1f219b5ec300944cf4f2291c1a2bc1ee2c8bcc44,32,6,4,18002,,,0,"Add option to bootstrap cephadm with --single-host-defaults

Add boolean tripleo_cephadm_single_host_defaults default false.
When true --single-host-defaults is passed to cephadm bootstrap.

Related-Bug: 1958884
Change-Id: I0bf31c945756b29130b1418ef71b8435e2b4f192
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/826150/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml']",2,d7361838a2252fbf413e2b3be44ac6d3fc37bbe7,bug/1958884,tripleo_cephadm_single_host_defaults: false,,2,0
openstack%2Fpuppet-tripleo~master~I51fd6b7b13b33bb0367fe36308f1533530dc6c15,openstack/puppet-tripleo,master,I51fd6b7b13b33bb0367fe36308f1533530dc6c15,Cinder: Manage quota options,MERGED,2022-02-01 07:21:59.000000000,2022-02-02 22:51:57.000000000,2022-02-02 22:51:57.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 07:21:59.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_spec.rb', 'manifests/profile/base/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dcda4ee5b510f4ddb389559bf7bd666bdb37d8ed', 'message': 'Cinder: Manage quota options\n\nThis change enables management of quota parameter using puppet-cinder,\nso that users can use native interface of that module to customize\nsome parameters.\n\nChange-Id: I51fd6b7b13b33bb0367fe36308f1533530dc6c15\n'}]",2,827214,dcda4ee5b510f4ddb389559bf7bd666bdb37d8ed,10,3,1,9816,,,0,"Cinder: Manage quota options

This change enables management of quota parameter using puppet-cinder,
so that users can use native interface of that module to customize
some parameters.

Change-Id: I51fd6b7b13b33bb0367fe36308f1533530dc6c15
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/827214/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_spec.rb', 'manifests/profile/base/cinder.pp']",2,dcda4ee5b510f4ddb389559bf7bd666bdb37d8ed,, include cinder::quota,,7,0
openstack%2Fopenstack-helm~master~Iffc4ab5d659b01babe7b4f9ee35b0a5789dac3ec,openstack/openstack-helm,master,Iffc4ab5d659b01babe7b4f9ee35b0a5789dac3ec,"Revert ""fix(log): reduces chattiness in keystone log""",MERGED,2022-02-02 05:17:08.000000000,2022-02-02 22:46:14.000000000,2022-02-02 22:42:37.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}, {'_account_id': 30777}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-02-02 05:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/122d1c98a54bd621ff26b84ae4b5c96dc41d8961', 'message': 'Revert ""fix(log): reduces chattiness in keystone log""\n\nThis reverts commit 73531436e975e6091df0f501239159c0df69e3e3.\n\nReason for revert: When the keys are rotated, the links become\nbroken and keystone only uses the 0 key.\n\nChange-Id: Iffc4ab5d659b01babe7b4f9ee35b0a5789dac3ec\n'}, {'number': 2, 'created': '2022-02-02 05:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/beb09779f34e9e802cd1eb85102096ff0acdf809', 'message': 'Revert ""fix(log): reduces chattiness in keystone log""\n\nThis reverts commit 73531436e975e6091df0f501239159c0df69e3e3.\n\nReason for revert: When the keys are rotated, the links become\nbroken and keystone only uses the 0 key.\n\nChange-Id: Iffc4ab5d659b01babe7b4f9ee35b0a5789dac3ec\n'}, {'number': 3, 'created': '2022-02-02 05:20:05.000000000', 'files': ['keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/537716e15723e7676f3c41f9bf5e1df4e4c855cf', 'message': 'Revert ""fix(log): reduces chattiness in keystone log""\n\nThis reverts commit 73531436e975e6091df0f501239159c0df69e3e3.\n\nReason for revert: When the keys are rotated, the links become\nbroken and keystone only uses the 0 key.\n\nChange-Id: Iffc4ab5d659b01babe7b4f9ee35b0a5789dac3ec\n'}]",2,827391,537716e15723e7676f3c41f9bf5e1df4e4c855cf,15,6,3,21420,,,0,"Revert ""fix(log): reduces chattiness in keystone log""

This reverts commit 73531436e975e6091df0f501239159c0df69e3e3.

Reason for revert: When the keys are rotated, the links become
broken and keystone only uses the 0 key.

Change-Id: Iffc4ab5d659b01babe7b4f9ee35b0a5789dac3ec
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/827391/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",4,122d1c98a54bd621ff26b84ae4b5c96dc41d8961,keystone-logs,version: 0.2.14,version: 0.2.15,2,28
openstack%2Fhorizon~stable%2Fxena~I2724f07339134b3e06b7ea925939bf7072162106,openstack/horizon,stable/xena,I2724f07339134b3e06b7ea925939bf7072162106,Fix maximum recursion depth error when generating documentation,MERGED,2022-01-27 06:39:45.000000000,2022-02-02 22:44:02.000000000,2022-02-02 22:38:33.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-01-27 06:39:45.000000000', 'files': ['horizon/tables/actions.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/27887e356f4c7a62d20d75b15dc08ac9762a3f0f', 'message': ""Fix maximum recursion depth error when generating documentation\n\nTroubleshooting an issue with Senlin documentation,\n\n> RecursionError: maximum recursion depth exceeded in __instancecheck__\n\nit turns out that attrs['base_options'] creates a recursive reference\nwhen no base classes have 'base_options'.\nThis happens when BaseAction is created.\n\nCloses-Bug: #1955773\nChange-Id: I2724f07339134b3e06b7ea925939bf7072162106\n(cherry picked from commit b8cc0043d46318c7e11952109450587bee9567ab)\n""}]",3,826560,27887e356f4c7a62d20d75b15dc08ac9762a3f0f,16,5,1,29313,,,0,"Fix maximum recursion depth error when generating documentation

Troubleshooting an issue with Senlin documentation,

> RecursionError: maximum recursion depth exceeded in __instancecheck__

it turns out that attrs['base_options'] creates a recursive reference
when no base classes have 'base_options'.
This happens when BaseAction is created.

Closes-Bug: #1955773
Change-Id: I2724f07339134b3e06b7ea925939bf7072162106
(cherry picked from commit b8cc0043d46318c7e11952109450587bee9567ab)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/826560/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/tables/actions.py'],1,27887e356f4c7a62d20d75b15dc08ac9762a3f0f,, # NOTE: It is required to create a new dict object # to avoid a recursive reference when no parent class # has 'base_options' attribute. options = dict(attrs), options = attrs,4,1
openstack%2Ftripleo-quickstart~master~I7dbf5ca284e8bb99faceaf84388ef1cd0d0e5444,openstack/tripleo-quickstart,master,I7dbf5ca284e8bb99faceaf84388ef1cd0d0e5444,Adds forgotten xena cloudsig temp opstools repo,MERGED,2022-02-02 11:13:54.000000000,2022-02-02 22:42:41.000000000,2022-02-02 22:33:21.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-02-02 11:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8578965944e430647f5dc17fae8f0cb5bbf85c7e', 'message': 'Adds forgotten xena cloudsig temp opstools repo\n\nForgotten from [1] seen at [2]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827279\n[2] https://logserver.rdoproject.org/99/38899/1/check/rdoinfo-tripleo-xena-release-centos-8-scenario001-standalone/4121ee1/logs/undercloud/home/zuul/repo_setup.log.txt.gz\n\nChange-Id: I7dbf5ca284e8bb99faceaf84388ef1cd0d0e5444\n'}, {'number': 2, 'created': '2022-02-02 13:13:03.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/cloudsig/xena.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/63acf4f6ebebaab713bab694b87ecb4b8d055908', 'message': 'Adds forgotten xena cloudsig temp opstools repo\n\nForgotten from [1] seen at [2]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827279\n[2] https://logserver.rdoproject.org/99/38899/1/check/rdoinfo-tripleo-xena-release-centos-8-scenario001-standalone/4121ee1/logs/undercloud/home/zuul/repo_setup.log.txt.gz\n\nChange-Id: I7dbf5ca284e8bb99faceaf84388ef1cd0d0e5444\n'}]",3,827476,63acf4f6ebebaab713bab694b87ecb4b8d055908,19,6,2,8449,,,0,"Adds forgotten xena cloudsig temp opstools repo

Forgotten from [1] seen at [2]

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827279
[2] https://logserver.rdoproject.org/99/38899/1/check/rdoinfo-tripleo-xena-release-centos-8-scenario001-standalone/4121ee1/logs/undercloud/home/zuul/repo_setup.log.txt.gz

Change-Id: I7dbf5ca284e8bb99faceaf84388ef1cd0d0e5444
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/76/827476/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/cloudsig/xena.yml'],1,8578965944e430647f5dc17fae8f0cb5bbf85c7e,, baseurl: ${NODEPOOL_RDO_PROXY}/8/opstools/x86_64/collectd-5/, baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/opstools/x86_64/collectd-5/,1,1
openstack%2Ftripleo-ci~master~I84100b5744b5f4638c870ed5e0996fc4255b97d8,openstack/tripleo-ci,master,I84100b5744b5f4638c870ed5e0996fc4255b97d8,Depend centos9 jobs on tox linters,MERGED,2022-01-31 12:21:58.000000000,2022-02-02 22:33:18.000000000,2022-02-02 22:33:18.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-31 12:21:58.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9b670531f4473fb0ad160f46733c3d8d17f768f', 'message': ""Depend centos9 jobs on tox linters\n\nOur CentOS 8 jobs depend on tox linters jobs to pass, otherwise\nthey don't start. Configure the same for CentOS 9 jobs.\n\nChange-Id: I84100b5744b5f4638c870ed5e0996fc4255b97d8\n""}]",5,827064,f9b670531f4473fb0ad160f46733c3d8d17f768f,23,6,1,10969,,,0,"Depend centos9 jobs on tox linters

Our CentOS 8 jobs depend on tox linters jobs to pass, otherwise
they don't start. Configure the same for CentOS 9 jobs.

Change-Id: I84100b5744b5f4638c870ed5e0996fc4255b97d8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/64/827064/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f9b670531f4473fb0ad160f46733c3d8d17f768f,, - tripleo-ci-centos-9-content-provider: dependencies: - openstack-tox-linters,,3,0
openstack%2Ftripleo-ci~master~Ib98332577e985d5740c6e59c7abb21e93176a0ab,openstack/tripleo-ci,master,Ib98332577e985d5740c6e59c7abb21e93176a0ab,Make standalone-on-multinode-ipa voting and gating on cs8,MERGED,2022-01-24 16:25:35.000000000,2022-02-02 22:33:16.000000000,2022-02-02 22:33:16.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-24 16:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8e87011455f9e2aa842397c7378e2c1fdade1d77', 'message': 'Make standalone-on-multinode-ipa voting and in gate\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 2, 'created': '2022-01-24 17:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/041b1c5c7ead016f7fec0a103a7e0a8be9dd7c42', 'message': 'Make standalone-on-multinode-ipa voting and in gate\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 3, 'created': '2022-01-24 19:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1b80c64a3dcb91c72886301cef7f9a3e746f2d95', 'message': 'Make standalone-on-multinode-ipa voting and in gate\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 4, 'created': '2022-01-24 19:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/58dbf4d9b78bd7f2ce28536ec3249a401602dbd0', 'message': 'Make standalone-on-multinode-ipa voting and gating\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state.\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 5, 'created': '2022-01-25 14:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/55ad2fe2ae9353316918c915943943a4e5492bc5', 'message': 'Make standalone-on-multinode-ipa voting and gating\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state.\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 6, 'created': '2022-01-28 16:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2dad0b2afe7f6aab0ae23f7e1f363cf42fb9062e', 'message': 'Make standalone-on-multinode-ipa voting and gating\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state.\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 7, 'created': '2022-02-02 13:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1eb1ffee97757ac968632cc7a0329c56b3739d91', 'message': 'Make standalone-on-multinode-ipa voting and gating on cs8\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state.\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}, {'number': 8, 'created': '2022-02-02 13:32:11.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/98e6157e24bf72286feecc36da7125b9d919ceeb', 'message': 'Make standalone-on-multinode-ipa voting and gating on cs8\n\nThese jobs were previously made non-voting during debug. The jobs are\nnow passing so this patch restores their previous state.\n\nChange-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab\n'}]",20,826124,98e6157e24bf72286feecc36da7125b9d919ceeb,47,8,8,34208,,,0,"Make standalone-on-multinode-ipa voting and gating on cs8

These jobs were previously made non-voting during debug. The jobs are
now passing so this patch restores their previous state.

Change-Id: Ib98332577e985d5740c6e59c7abb21e93176a0ab
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/826124/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,8e87011455f9e2aa842397c7378e2c1fdade1d77,, voting: true gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: *tls_ipa_files vars: *ipa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-standalone-on-multinode-ipa: vars: *ipa_consumer_vars dependencies: - tripleo-ci-centos-9-content-provider , voting: false,17,1
openstack%2Fvalidations-common~master~I3110a6c0ade970f9cfc4579208e135097189a3f8,openstack/validations-common,master,I3110a6c0ade970f9cfc4579208e135097189a3f8,Migrate jobs from CentOS 8 to CentOS 8 Stream,MERGED,2022-01-12 00:52:45.000000000,2022-02-02 22:33:14.000000000,2022-02-02 22:33:14.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-12 00:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1e78974037bfc45b28b3708b4e72bb66885c5bc0', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I3110a6c0ade970f9cfc4579208e135097189a3f8\n'}, {'number': 2, 'created': '2022-01-20 12:29:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f8196855fd73bb2502d50df965869cae6449c5de', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I3110a6c0ade970f9cfc4579208e135097189a3f8\n'}]",1,824263,f8196855fd73bb2502d50df965869cae6449c5de,11,6,2,9816,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: I3110a6c0ade970f9cfc4579208e135097189a3f8
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/824263/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e78974037bfc45b28b3708b4e72bb66885c5bc0,remove-centos-8, nodeset: centos-8-stream nodeset: centos-8-stream nodeset: centos-8-stream, nodeset: centos-8 nodeset: centos-8 nodeset: centos-8,3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912,openstack/tripleo-heat-templates,stable/wallaby,I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912,Implement project personas in custom keystone policy file,MERGED,2021-11-19 20:33:39.000000000,2022-02-02 22:33:11.000000000,2022-02-02 22:33:11.000000000,"[{'_account_id': 5046}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-19 20:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1f1456d4abb9912003b746f1fb08f1be4b55c0e', 'message': 'Implement project personas in custom keystone policy file\n\nThis change implements all project personas (project-admin,\nproject-member, and project-reader) where project-admins are technically\nconsidered system-administrators using policy overrides.\n\nThis file was modified by generating the default sample policy file in\nkeystone:\n\n  $ oslopolicy-sample-generator --namespace keystone\n\nThen, working through the file to remove any system-specific checks\n(e.g., role:admin and system_scope:all). After that, I used the\nconvert_policy_yaml_to_heat_template.py tool to update the existing\nenable-secure-rbac.yaml file, resulting in a diff of the original\ndefaults, hopefully making it easier for reviews to see what exactly is\nchanging.\n\nChange-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912\n(cherry picked from commit 433cc93755214a77abd82fb4a2f97512c2ee9f70)\n'}, {'number': 2, 'created': '2022-01-28 16:14:17.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/750f4f049aa03c3c6d7826b555e7e7da88344714', 'message': 'Implement project personas in custom keystone policy file\n\nThis change implements all project personas (project-admin,\nproject-member, and project-reader) where project-admins are technically\nconsidered system-administrators using policy overrides.\n\nThis file was modified by generating the default sample policy file in\nkeystone:\n\n  $ oslopolicy-sample-generator --namespace keystone\n\nThen, working through the file to remove any system-specific checks\n(e.g., role:admin and system_scope:all). After that, I used the\nconvert_policy_yaml_to_heat_template.py tool to update the existing\nenable-secure-rbac.yaml file, resulting in a diff of the original\ndefaults, hopefully making it easier for reviews to see what exactly is\nchanging.\n\nChange-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912\n(cherry picked from commit 433cc93755214a77abd82fb4a2f97512c2ee9f70)\n'}]",2,818630,750f4f049aa03c3c6d7826b555e7e7da88344714,17,9,2,5046,,,0,"Implement project personas in custom keystone policy file

This change implements all project personas (project-admin,
project-member, and project-reader) where project-admins are technically
considered system-administrators using policy overrides.

This file was modified by generating the default sample policy file in
keystone:

  $ oslopolicy-sample-generator --namespace keystone

Then, working through the file to remove any system-specific checks
(e.g., role:admin and system_scope:all). After that, I used the
convert_policy_yaml_to_heat_template.py tool to update the existing
enable-secure-rbac.yaml file, resulting in a diff of the original
defaults, hopefully making it easier for reviews to see what exactly is
changing.

Change-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912
(cherry picked from commit 433cc93755214a77abd82fb4a2f97512c2ee9f70)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/818630/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,a1f1456d4abb9912003b746f1fb08f1be4b55c0e,secure-rbac," value: ""role:admin"" value: ""rule:admin_required or user_id:%(target.user.id)s"" value: ""rule:admin_required or user_id:%(target.user.id)s"" value: ""rule:admin_required or user_id:%(target.user.id)s"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or token.domain.id:%(target.domain.id)s or token.project.domain.id:%(target.domain.id)s"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or rule:owner"" value: ""rule:admin_required or user_id:%(target.credential.user_id)s"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or ((role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)"" value: ""rule:admin_required or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""rule:admin_required or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(user_id)s"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (domain_id:%(target.limit.domain.id)s or domain_id:%(target.limit.project.domain_id)s) or (project_id:%(target.limit.project_id)s and not None:%(target.limit.project_id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""rule:admin_required or (role:reader and domain_id:%(target.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or (role:reader and domain_id:%(target.domain_id)s)"" value: ""rule:admin_required or (role:reader and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required"" value: ""rule:admin_required or rule:token_subject"" value: ""rule:admin_required or rule:service_role or rule:token_subject"" value: ""rule:admin_required or rule:token_subject"" value: ""rule:admin_required"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s"" value: ""rule:admin_required or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""rule:admin_required or (role:reader and token.domain.id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""rule:admin_required or (role:reader and domain_id:%(target.domain_id)s)"" value: ""rule:admin_required or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""rule:admin_required or (role:admin and token.domain.id:%(target.user.domain_id)s)"""," value: ""role:admin or is_admin:1"" keystone-service_role: key: ""service_role"" value: ""role:service"" keystone-service_or_admin: key: ""service_or_admin"" value: ""rule:admin_required or rule:service_role"" keystone-owner: key: ""owner"" value: ""user_id:%(user_id)s"" keystone-admin_or_owner: key: ""admin_or_owner"" value: ""rule:admin_required or rule:owner"" keystone-token_subject: key: ""token_subject"" value: ""user_id:%(target.token.user_id)s"" keystone-admin_or_token_subject: key: ""admin_or_token_subject"" value: ""rule:admin_required or rule:token_subject"" keystone-service_admin_or_token_subject: key: ""service_admin_or_token_subject"" value: ""rule:service_or_admin or rule:token_subject"" value: ""(role:reader and system_scope:all) or user_id:%(target.user.id)s"" value: ""(role:reader and system_scope:all) or user_id:%(target.user.id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.user.id)s"" value: ""(role:reader and system_scope:all) or rule:owner"" keystone-identity_get_application_credentials: key: ""identity:get_application_credentials"" value: ""rule:identity:get_application_credential"" value: ""(role:reader and system_scope:all) or rule:owner"" value: ""(role:admin and system_scope:all) or rule:owner"" keystone-identity_delete_application_credentials: key: ""identity:delete_application_credentials"" value: ""rule:identity:delete_application_credential"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:reader and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:reader and system_scope:all) or token.domain.id:%(target.domain.id)s or token.project.domain.id:%(target.domain.id)s"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""(role:reader and system_scope:all) or user_id:%(target.credential.user_id)s"" value: ""(role:reader and system_scope:all) or rule:owner"" value: ""(role:admin and system_scope:all) or rule:owner"" keystone-identity_ec2_create_credentials: key: ""identity:ec2_create_credentials"" value: ""rule:identity:ec2_create_credential"" value: ""(role:admin and system_scope:all) or user_id:%(target.credential.user_id)s"" keystone-identity_ec2_delete_credentials: key: ""identity:ec2_delete_credentials"" value: ""rule:identity:ec2_delete_credential"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or ((role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)"" value: ""(role:admin and system_scope:all) or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""(role:admin and system_scope:all) or ((role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.user.domain_id)s and domain_id:%(target.domain.id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.project.domain_id)s) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.domain.id)s)) and (domain_id:%(target.role.domain_id)s or None:%(target.role.domain_id)s)"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(user_id)s"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.group.domain_id)s and domain_id:%(target.user.domain_id)s)"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""(role:reader and system_scope:all) or (domain_id:%(target.limit.domain.id)s or domain_id:%(target.limit.project.domain_id)s) or (project_id:%(target.limit.project_id)s and not None:%(target.limit.project_id)s)"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or project_id:%(target.project.id)s"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.domain_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.project.domain_id)s) or (role:admin and project_id:%(target.project.id)s)"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or rule:token_subject"" value: ""(role:reader and system_scope:all) or rule:service_role or rule:token_subject"" value: ""(role:admin and system_scope:all) or rule:token_subject"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustee_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""role:admin and system_scope:all or user_id:%(target.trust.trustor_user_id)s"" value: ""role:reader and system_scope:all or user_id:%(target.trust.trustor_user_id)s or user_id:%(target.trust.trustee_user_id)s"" value: ""(role:reader and system_scope:all) or (role:reader and token.domain.id:%(target.user.domain_id)s) or user_id:%(target.user.id)s"" value: ""(role:reader and system_scope:all) or (role:reader and domain_id:%(target.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and token.domain.id:%(target.user.domain_id)s)"" value: ""(role:admin and system_scope:all) or (role:admin and token.domain.id:%(target.user.domain_id)s)""",170,203
openstack%2Ftripleo-validations~stable%2Ftrain~I28070098ccd432b4f17ab145c2afc296e5d2bb69,openstack/tripleo-validations,stable/train,I28070098ccd432b4f17ab145c2afc296e5d2bb69,oslo-config-validator: container plugin is replaced with collections,ABANDONED,2021-10-15 12:13:56.000000000,2022-02-02 22:19:35.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-10-15 12:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6c38d7612175da4cd93603c387bb530e07b5aca', 'message': ""oslo-config-validator: container plugin is replaced with collections\n\nAdding collections to meta will prevent failure as well as keeping the\ncode clean and concise.\n\nalso rewriting mock code because it doesn't work with collections.\n\nChange-Id: I28070098ccd432b4f17ab145c2afc296e5d2bb69\n(cherry picked from commit 4828fca86b3d31d690aa0ea483329a3b13784acb)\n(cherry picked from commit add4f3513910bccf1a059391f75ce1a1ad58a406)\n(cherry picked from commit 5b8f9027b2ec4168291fc366eb3d4339e4d98993)\n(cherry picked from commit 554d5c075d3aecf67d7eed3f87ed2fbc8bbae654)\n""}, {'number': 2, 'created': '2021-10-15 12:17:12.000000000', 'files': ['roles/oslo_config_validator/resources/playbooks/converge.yml', 'roles/oslo_config_validator/tasks/container_run.yml', 'roles/oslo_config_validator/molecule/mocked_failure/molecule.yml', 'roles/oslo_config_validator/resources/library/podman', 'roles/oslo_config_validator/resources/playbooks/prepare.yml', 'roles/oslo_config_validator/meta/main.yml', 'roles/oslo_config_validator/molecule/default/molecule.yml', 'roles/oslo_config_validator/resources/library/podman_container.py', 'roles/oslo_config_validator/tasks/build_validation_config.yml', 'roles/oslo_config_validator/resources/library/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8c936de4c7b89013803cfccce809c19b17b3126b', 'message': ""oslo-config-validator: container plugin is replaced with collections\n\nAdding collections to meta will prevent failure as well as keeping the\ncode clean and concise.\n\nalso rewriting mock code because it doesn't work with collections.\n\nChange-Id: I28070098ccd432b4f17ab145c2afc296e5d2bb69\n(cherry picked from commit 4828fca86b3d31d690aa0ea483329a3b13784acb)\n(cherry picked from commit add4f3513910bccf1a059391f75ce1a1ad58a406)\n(cherry picked from commit 5b8f9027b2ec4168291fc366eb3d4339e4d98993)\n(cherry picked from commit 554d5c075d3aecf67d7eed3f87ed2fbc8bbae654)\n""}]",0,813946,8c936de4c7b89013803cfccce809c19b17b3126b,4,7,2,27419,,,0,"oslo-config-validator: container plugin is replaced with collections

Adding collections to meta will prevent failure as well as keeping the
code clean and concise.

also rewriting mock code because it doesn't work with collections.

Change-Id: I28070098ccd432b4f17ab145c2afc296e5d2bb69
(cherry picked from commit 4828fca86b3d31d690aa0ea483329a3b13784acb)
(cherry picked from commit add4f3513910bccf1a059391f75ce1a1ad58a406)
(cherry picked from commit 5b8f9027b2ec4168291fc366eb3d4339e4d98993)
(cherry picked from commit 554d5c075d3aecf67d7eed3f87ed2fbc8bbae654)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/46/813946/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oslo_config_validator/resources/playbooks/converge.yml', 'roles/oslo_config_validator/tasks/container_run.yml', 'roles/oslo_config_validator/molecule/mocked_failure/molecule.yml', 'roles/oslo_config_validator/resources/library/podman', 'roles/oslo_config_validator/resources/playbooks/prepare.yml', 'roles/oslo_config_validator/meta/main.yml', 'roles/oslo_config_validator/molecule/default/molecule.yml', 'roles/oslo_config_validator/resources/library/podman_container.py', 'roles/oslo_config_validator/tasks/build_validation_config.yml', 'roles/oslo_config_validator/resources/library/podman_container_info.py']",10,c6c38d7612175da4cd93603c387bb530e07b5aca,,,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import, division, print_function __metaclass__ = type DOCUMENTATION = r''' module: mocked podman_container_info author: - David Vallee Delisle (@dvd) short_description: Mocking gather facts about containers using podman description: - Mocking gather facts about containers using podman ''' EXAMPLES = r"""""" - name: Gather facts for all containers podman_container_info: """""" RETURN = r"""""" containers: description: Facts from all or specificed containers returned: always type: list elements: dict sample: { ""Id"": ""21d8b432eaec1b4eac2a21a78de524bdbb2f074d4ea43d3605b2b072ffe21878"", ""State"": { ""Status"": ""running"", ""Running"": true, }, ""Image"": ""0ece6dfb3015c221c8ad6d364dea7884ae3e24becd60e94b80d5361f4ed78f47"", ""ImageName"": ""undercloud-0.ctlplane.redhat.local:8787/rh-osbs/rhosp16-openstack-nova-compute:16.1_20210430.1"", ""Name"": ""nova_compute"", ""Mounts"": [], } """""" from ansible.module_utils.basic import AnsibleModule # noqa: F402 from yaml import safe_load as yaml_safe_load def main(): module = AnsibleModule({}, supports_check_mode=True) sample = yaml_safe_load(RETURN)['containers']['sample'] with open('/test.config.yml', 'r') as yaml_config: test_config = yaml_safe_load(yaml_config) config_folder = test_config.get('config_folder') sample['Name'] = test_config.get('service_name') sample['State']['Running'] = bool(test_config.get('service_running', True)) sample['Mounts'].append({'Type': 'bind', 'Source': config_folder}) module.exit_json(**{ ""changed"": False, ""containers"": [sample], }) if __name__ == '__main__': main() ",390,986
openstack%2Ftripleo-docs~master~I65e4f501ef88f933c68d2749aef8c63f7d8e2e5a,openstack/tripleo-docs,master,I65e4f501ef88f933c68d2749aef8c63f7d8e2e5a,Document running playbook to set kernel args,MERGED,2022-01-06 23:10:27.000000000,2022-02-02 22:18:33.000000000,2022-02-02 22:16:24.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-06 23:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6e660df7eba70a88eedde66b21c5c77db4ee372b', 'message': 'Document running playbook to set kernel args\n\nChange-Id: I65e4f501ef88f933c68d2749aef8c63f7d8e2e5a\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/823734\n'}, {'number': 2, 'created': '2022-01-12 22:47:48.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9647cd8ac9a4731f019a0c6d2dd36e40714924d1', 'message': 'Document running playbook to set kernel args\n\nChange-Id: I65e4f501ef88f933c68d2749aef8c63f7d8e2e5a\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/823734\n'}]",3,823735,9647cd8ac9a4731f019a0c6d2dd36e40714924d1,14,4,2,4571,,,0,"Document running playbook to set kernel args

Change-Id: I65e4f501ef88f933c68d2749aef8c63f7d8e2e5a
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/823734
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/35/823735/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,6e660df7eba70a88eedde66b21c5c77db4ee372b,kernelargs-play,"After custom playbooks are run, an in-built playbook is run to grow the LVMSet kernel arguments playbook ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Features such as DPDK require that kernel arguments are set and the node is rebooted before the network configuration is run. A playbook is provided to allow this. Here it is run it with the default variables set: .. code-block:: yaml ansible_playbooks: - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-kernelargs.yaml extra_vars: kernel_args: '' reboot_wait_timeout: 900 tuned_profile: 'throughput-performance' tuned_isolated_cores: '' Here is an example for a specific DPDK deployment: .. code-block:: yaml ansible_playbooks: - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-kernelargs.yaml extra_vars: kernel_args: 'default_hugepagesz=1GB hugepagesz=1G hugepages=64 intel_iommu=on iommu=pt' tuned_isolated_cores: '1-11,13-23'","Before custom playbooks are run, an in-built playbook is run to grow the LVM",27,1
openstack%2Fpython-tripleoclient~master~I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c,openstack/python-tripleoclient,master,I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c,Use task-core for deployments,ABANDONED,2021-12-13 20:54:38.000000000,2022-02-02 22:06:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-13 20:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ead1ff42e0533d49106248b8788855bb329a145b', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}, {'number': 2, 'created': '2021-12-13 21:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/068ddb848b0d2ebb82195eb6d7a1e0c126adb866', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}, {'number': 3, 'created': '2021-12-15 20:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28f50e3f1177502d91d18e733d6ecc017acf02ef', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}, {'number': 4, 'created': '2021-12-20 15:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/deb2199065054231480e6dfae786498a333fd64f', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}, {'number': 5, 'created': '2022-01-10 18:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e979feabc659697ed4b1b411e387ea2ea09a1d59', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}, {'number': 6, 'created': '2022-01-13 16:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7400d04f76882b0f97dadf6ade06ae279341b811', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/824630\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}, {'number': 7, 'created': '2022-01-13 20:48:23.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'requirements.txt', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/518d1e59ad91dd1a7ff2cf173af64374d8c1370f', 'message': 'Use task-core for deployments\n\nThis change adds taskflow and task_core as dependencies for\ntripleoclient.  This change wires up the tripleo deploy and overcloud\ndeploy to leverage task-core for deployments if possible.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/824630\nChange-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c\nBlueprint: unified-orchestration\n'}]",1,821624,518d1e59ad91dd1a7ff2cf173af64374d8c1370f,23,2,7,14985,,,0,"Use task-core for deployments

This change adds taskflow and task_core as dependencies for
tripleoclient.  This change wires up the tripleo deploy and overcloud
deploy to leverage task-core for deployments if possible.

Depends-On: https://review.opendev.org/c/openstack/tripleo-repos/+/824630
Change-Id: I4c57bf540c4d65cc0d6bd6b08c10a151e085e05c
Blueprint: unified-orchestration
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/821624/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'requirements.txt', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",9,ead1ff42e0533d49106248b8788855bb329a145b,bp/unified-orchestration, # task-core add deployer host info into heat params # TODO(mwhahaha): makes ure this is the correct spot for this parameters.update(utils.generate_deployer_host_data()) ,,199,71
openstack%2Fpython-tripleoclient~master~Iccf6dd9364ba35bfc4e54924eb5d88215ba92027,openstack/python-tripleoclient,master,Iccf6dd9364ba35bfc4e54924eb5d88215ba92027,Configure directord components during deploy,ABANDONED,2021-12-15 20:33:49.000000000,2022-02-02 22:05:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-15 20:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66d7cf2ea005317080b6e3b3436af4db92553421', 'message': 'Configure directord components during deploy\n\nDuring setup for deployments, we need to make sure the components are\nconfigured before we run the deployment.\n\nChange-Id: Iccf6dd9364ba35bfc4e54924eb5d88215ba92027\nBlueprint: unified-orchestration\n'}, {'number': 2, 'created': '2021-12-20 15:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72d19ce76ff717217ceb1f6f85aa84ed86224db5', 'message': 'Configure directord components during deploy\n\nDuring setup for deployments, we need to make sure the components are\nconfigured before we run the deployment.\n\nChange-Id: Iccf6dd9364ba35bfc4e54924eb5d88215ba92027\nBlueprint: unified-orchestration\n'}, {'number': 3, 'created': '2022-01-10 18:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3546d0f622957979e4be73762be7bc62ed7b45d9', 'message': 'Configure directord components during deploy\n\nDuring setup for deployments, we need to make sure the components are\nconfigured before we run the deployment.\n\nChange-Id: Iccf6dd9364ba35bfc4e54924eb5d88215ba92027\nBlueprint: unified-orchestration\n'}, {'number': 4, 'created': '2022-01-13 16:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5da3c6abfb46864bb32090b3bf08ce1c22de2ab', 'message': 'Configure directord components during deploy\n\nDuring setup for deployments, we need to make sure the components are\nconfigured before we run the deployment.\n\nChange-Id: Iccf6dd9364ba35bfc4e54924eb5d88215ba92027\nBlueprint: unified-orchestration\n'}, {'number': 5, 'created': '2022-01-13 20:48:23.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/17d07b80bcc31d5b605e0f28bbdbe8e2f52db500', 'message': 'Configure directord components during deploy\n\nDuring setup for deployments, we need to make sure the components are\nconfigured before we run the deployment.\n\nChange-Id: Iccf6dd9364ba35bfc4e54924eb5d88215ba92027\nBlueprint: unified-orchestration\n'}]",0,821876,17d07b80bcc31d5b605e0f28bbdbe8e2f52db500,16,2,5,14985,,,0,"Configure directord components during deploy

During setup for deployments, we need to make sure the components are
configured before we run the deployment.

Change-Id: Iccf6dd9364ba35bfc4e54924eb5d88215ba92027
Blueprint: unified-orchestration
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/821876/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",6,66d7cf2ea005317080b6e3b3436af4db92553421,bp/unified-orchestration," utils.configure_directord(self.log, parsed_args.templates) ",,31,5
openstack%2Ftripleo-heat-templates~master~Ida5b568835651aa0221195e1c1fd85e3f6c0a32e,openstack/tripleo-heat-templates,master,Ida5b568835651aa0221195e1c1fd85e3f6c0a32e,[WIP] Common bootstrap items to task-core,ABANDONED,2021-12-15 19:43:21.000000000,2022-02-02 22:05:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-15 19:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8901cfd16af91335c22a311d35347fab288679b0', 'message': '[WIP] Common bootstrap items to task-core\n\nThis change creates a few tripleo specific modules into directord\nmodules and creates tasks for common container and host setup items that\ncurrently live in the core deployment framework rather than as a\nservice.\n\nChange-Id: Ida5b568835651aa0221195e1c1fd85e3f6c0a32e\nRelated-Blueprint: unified-orchestration\n'}, {'number': 2, 'created': '2021-12-15 21:44:54.000000000', 'files': ['deployment/bootstrap/bootstrap-baremetal-task-core.yaml', 'components/tripleo_container_config_scripts.py', 'components/tripleo_container_startup_config.py', 'components/tripleo_container_configs.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cfadcf2d68a00907af389b150344247e053b92b', 'message': '[WIP] Common bootstrap items to task-core\n\nThis change creates a few tripleo specific modules into directord\nmodules and creates tasks for common container and host setup items that\ncurrently live in the core deployment framework rather than as a\nservice.\n\nRelated: https://review.opendev.org/c/openstack/python-tripleoclient/+/821876\nChange-Id: Ida5b568835651aa0221195e1c1fd85e3f6c0a32e\nRelated-Blueprint: unified-orchestration\n'}]",0,821873,6cfadcf2d68a00907af389b150344247e053b92b,8,2,2,14985,,,0,"[WIP] Common bootstrap items to task-core

This change creates a few tripleo specific modules into directord
modules and creates tasks for common container and host setup items that
currently live in the core deployment framework rather than as a
service.

Related: https://review.opendev.org/c/openstack/python-tripleoclient/+/821876
Change-Id: Ida5b568835651aa0221195e1c1fd85e3f6c0a32e
Related-Blueprint: unified-orchestration
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/821873/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/bootstrap/bootstrap-baremetal-task-core.yaml', 'components/tripleo_container_config_scripts.py', 'components/tripleo_container_startup_config.py', 'components/tripleo_container_configs.py']",4,8901cfd16af91335c22a311d35347fab288679b0,bp/unified-orchestration,"#!/usr/bin/env python3 # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import json import yaml from directord import components from directord.components.lib import cacheargs class Component(components.ComponentBase): def __init__(self): super().__init__(desc=""TripleO container configs processor"") def args(self): super().args() self.parser.add_argument( ""config-data-file"", required=True, help=(""Config data file.""), ) def server(self, exec_array, data, arg_vars): super().server(exec_array=exec_array, data=data, arg_vars=arg_vars) data[""config_data_file""] = self.known_args.config_data_file return data @cacheargs def client(self, cache, job): config_data_file = job['config_data_file'] if not os.path.exists(config_data_file): return (None, None, False, f""{config_data_file} does not exist."") try: with open(config_data_file, encoding=""utf-8"") as f: config_data = yaml.safe_load(f) for path, config in config_data.items(): with open(path, ""wb"") as config_file: config_file.write(json.dumps(config, indent=2).encode('utf-8')) os.chmod(path, 0x600) except Exception as e: return None, None, False, str(e) return job[""config_data_file""], None, True, None ",,426,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6dd96183384c269f77acc3bf3e90e6f2b8bdc7c7,openstack/tripleo-heat-templates,stable/wallaby,I6dd96183384c269f77acc3bf3e90e6f2b8bdc7c7,Update project personas policies in custom neutron policy,MERGED,2021-11-25 06:58:50.000000000,2022-02-02 22:01:02.000000000,2022-02-02 22:01:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7973}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-25 06:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c2315b5508ca353caa008a858ff3ec72779c5cd', 'message': 'Update project personas policies in custom neutron policy\n\nNeutron networks which are confiugred as external (router:external=True)\nare visible for all projects so that attribute ""router:external"" should\nbe also visible for all networks for all users.\nThis patch changes that policy to make it visible always.\n\nCloses-Bug: #1950478\nChange-Id: I6dd96183384c269f77acc3bf3e90e6f2b8bdc7c7\n(cherry picked from commit 1f79df6dabfb00062206e4f723b4460eb3dd58d6)\n'}, {'number': 2, 'created': '2021-11-30 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/393e244c5e7f16e34da697de5f4aaaf90a9cf3a0', 'message': 'Update project personas policies in custom neutron policy\n\nNeutron networks which are confiugred as external (router:external=True)\nare visible for all projects so that attribute ""router:external"" should\nbe also visible for all networks for all users.\nThis patch changes that policy to make it visible always.\n\nCloses-Bug: #1950478\nChange-Id: I6dd96183384c269f77acc3bf3e90e6f2b8bdc7c7\n(cherry picked from commit 1f79df6dabfb00062206e4f723b4460eb3dd58d6)\n'}, {'number': 3, 'created': '2022-01-27 11:42:09.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ffde8d508cbfafb588b8b952fd2a1b859cef1e2', 'message': 'Update project personas policies in custom neutron policy\n\nNeutron networks which are confiugred as external (router:external=True)\nare visible for all projects so that attribute ""router:external"" should\nbe also visible for all networks for all users.\nThis patch changes that policy to make it visible always.\n\nCloses-Bug: #1950478\nChange-Id: I6dd96183384c269f77acc3bf3e90e6f2b8bdc7c7\n(cherry picked from commit 1f79df6dabfb00062206e4f723b4460eb3dd58d6)\n'}]",1,819172,9ffde8d508cbfafb588b8b952fd2a1b859cef1e2,17,5,3,11975,,,0,"Update project personas policies in custom neutron policy

Neutron networks which are confiugred as external (router:external=True)
are visible for all projects so that attribute ""router:external"" should
be also visible for all networks for all users.
This patch changes that policy to make it visible always.

Closes-Bug: #1950478
Change-Id: I6dd96183384c269f77acc3bf3e90e6f2b8bdc7c7
(cherry picked from commit 1f79df6dabfb00062206e4f723b4460eb3dd58d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/819172/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,2c2315b5508ca353caa008a858ff3ec72779c5cd,secure-rbac," value: ""role:reader"""," value: ""rule:admin_api or (role:reader and project_id:%(project_id)s)""",1,1
openstack%2Fglance~master~I007da2ba19b4e18f7c4f64d1503a18815a3f8ce4,openstack/glance,master,I007da2ba19b4e18f7c4f64d1503a18815a3f8ce4,"Replace six.BytesIO, six.StringIO usage",MERGED,2021-12-22 16:14:34.000000000,2022-02-02 21:59:16.000000000,2022-02-02 21:55:08.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/36b9645c9dc8c9252d9fdea46b51dfa5345297c8', 'message': 'Replace six.BytesIO, six.StringIO usage\n\nChange-Id: I007da2ba19b4e18f7c4f64d1503a18815a3f8ce4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/api/test_cmd.py', 'glance/tests/unit/test_image_cache.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/unit/async_/flows/test_import.py', 'glance/tests/unit/test_manage.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/utils.py', 'glance/tests/unit/async_/flows/test_convert.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/67b531b143b0c95a974c37036d7ef457051199ea', 'message': 'Replace six.BytesIO, six.StringIO usage\n\nChange-Id: I007da2ba19b4e18f7c4f64d1503a18815a3f8ce4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,822734,67b531b143b0c95a974c37036d7ef457051199ea,14,4,2,15334,,,0,"Replace six.BytesIO, six.StringIO usage

Change-Id: I007da2ba19b4e18f7c4f64d1503a18815a3f8ce4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/34/822734/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/api/test_cmd.py', 'glance/tests/unit/test_image_cache.py', 'glance/tests/unit/async_/flows/test_import.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/unit/test_manage.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/utils.py', 'glance/tests/unit/async_/flows/test_convert.py']",9,36b9645c9dc8c9252d9fdea46b51dfa5345297c8,remove-six,"import io dmock.return_value = io.BytesIO(b""TEST_IMAGE"")","import six dmock.return_value = six.BytesIO(b""TEST_IMAGE"")",42,39
openstack%2Fglance~master~I2ed464202f8b645aed11490e111c61d3c7423c11,openstack/glance,master,I2ed464202f8b645aed11490e111c61d3c7423c11,"Remove six.text_type, six.binary_type usage",MERGED,2021-12-22 16:14:34.000000000,2022-02-02 21:57:23.000000000,2022-02-02 21:55:05.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fec3f3c438a1ea3ce10e35bdb4dd81e3173f4d10', 'message': 'Remove six.text_type, six.binary_type usage\n\nChange-Id: I2ed464202f8b645aed11490e111c61d3c7423c11\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/common/exception.py', 'glance/api/v2/tasks.py', 'glance/tests/unit/common/test_exception.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/ft_utils.py', 'glance/common/crypt.py', 'glance/async_/flows/base_import.py', 'glance/cmd/manage.py', 'glance/api/v2/metadef_namespaces.py', 'glance/api/v2/metadef_objects.py', 'glance/api/v2/metadef_resource_types.py', 'glance/hacking/checks.py', 'glance/tests/test_hacking.py', 'glance/tests/utils.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/common/scripts/api_image_import/main.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/metadef_properties.py', 'glance/api/v2/metadef_tags.py', 'glance/api/v2/image_members.py', 'glance/common/client.py', 'glance/common/utils.py', 'glance/common/wsgi.py', 'glance/api/v2/images.py', 'glance/tests/gate/test_data_migration_version.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/image_cache/drivers/xattr.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/6bd7c188ee87f65c6ac32aa85f24e50b099e1088', 'message': 'Remove six.text_type, six.binary_type usage\n\nChange-Id: I2ed464202f8b645aed11490e111c61d3c7423c11\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",11,822733,6bd7c188ee87f65c6ac32aa85f24e50b099e1088,16,5,2,15334,,,0,"Remove six.text_type, six.binary_type usage

Change-Id: I2ed464202f8b645aed11490e111c61d3c7423c11
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/822733/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/common/exception.py', 'glance/api/v2/tasks.py', 'glance/tests/unit/common/test_exception.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/ft_utils.py', 'glance/common/crypt.py', 'glance/async_/flows/base_import.py', 'glance/cmd/manage.py', 'glance/api/v2/metadef_namespaces.py', 'glance/api/v2/metadef_objects.py', 'glance/api/v2/metadef_resource_types.py', 'glance/hacking/checks.py', 'glance/tests/test_hacking.py', 'glance/tests/utils.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/common/scripts/api_image_import/main.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/metadef_properties.py', 'glance/api/v2/metadef_tags.py', 'glance/api/v2/image_members.py', 'glance/common/client.py', 'glance/common/utils.py', 'glance/common/wsgi.py', 'glance/api/v2/images.py', 'glance/tests/gate/test_data_migration_version.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/image_cache/drivers/xattr.py', 'tox.ini', 'HACKING.rst']",33,fec3f3c438a1ea3ce10e35bdb4dd81e3173f4d10,remove-six,,"- [G320] For python 3 compatibility, use six.text_type() instead of unicode()",101,164
openstack%2Fpuppet-nova~master~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,master,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-01-28 13:13:47.000000000,2022-02-02 21:36:51.000000000,2022-02-02 21:36:51.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-01-28 13:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3d3299517489d7e9a3621f7a4ea5eaed68f1824c', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 2, 'created': '2022-01-28 13:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d78c687cc000c71dfd550de278fa1ac203f10aff', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 3, 'created': '2022-01-28 13:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/388703716ca813a26fe09bc0e5f36dcc7372c855', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 4, 'created': '2022-01-28 14:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6ac967eb9d771053a9cb9039a3a594416553312f', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 5, 'created': '2022-01-28 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/16f53ae3bd74e6cda88460136247a49f4677b83c', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 6, 'created': '2022-01-28 15:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/924a1b2f40e7ff1e10aea2171533685ffc222e90', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 7, 'created': '2022-01-28 16:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8c80fc849a619b5bcb39f7694f94760f9b59dc28', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 8, 'created': '2022-01-28 16:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0e5a6bbf79de42ba94a7b0bd1845613ba7743de2', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 9, 'created': '2022-01-31 14:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6d9cfad0f85d4b347b5737abc7cfa4c83c9e6379', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 10, 'created': '2022-02-01 11:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/89cc3ec981a6a47ea755ef40704262ad25b18ddc', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 11, 'created': '2022-02-01 12:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bd93569fc60d7876d3cd3313d1059da657cc5657', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 12, 'created': '2022-02-01 12:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/21d13fe188c68c60568713debd159c5a2bfb17e5', 'message': ""Create an empty /etc/sysconfig/libvirtd if it does not exist\n\nLast build of libvirt in CentOS9 has remove a default config file in\n/etc/sysconfig/libvirtd [1]. This is making file_line resource to fail\nas the file doesn't exist.\n\nThis patch is creating an empty config file if it doesn't exist so that\nthis is compatible with centos8 and centos9 (before and after default\nconfig file removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}, {'number': 13, 'created': '2022-02-01 14:10:36.000000000', 'files': ['spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/99830f8a2d5f3f2b56ed4c050b36fd363c8911e6', 'message': ""CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists\n\nLast build of libvirt in CentOS9 has removed default config files in\n/etc/sysconfig . This is making some file_line resources to fail as\nthe original files no longer exist.\n\nThis patch is creating empty files if the target files don't exist, so\nthat this is compatible with centos8 and centos9 (before and after\ndefault config files removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n""}]",10,826889,99830f8a2d5f3f2b56ed4c050b36fd363c8911e6,29,8,13,16312,,,0,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/89/826889/9 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,3d3299517489d7e9a3621f7a4ea5eaed68f1824c,bug/1959601," file { '/etc/sysconfig/libvirtd': path => '/etc/sysconfig/libvirtd', esure => present, } require => File['/etc/sysconfig/libvirtd']",,6,0
openstack%2Fopenstack-ansible-os_manila~master~I2421c32fcc4aaf745d06708360ac8f03cb126df3,openstack/openstack-ansible-os_manila,master,I2421c32fcc4aaf745d06708360ac8f03cb126df3,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:17:29.000000000,2022-02-02 21:27:15.000000000,2022-02-02 21:24:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:17:29.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/b37400e2d0b5c20b535d69806a6acc4def9b509e', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: I2421c32fcc4aaf745d06708360ac8f03cb126df3\n'}]",0,827445,b37400e2d0b5c20b535d69806a6acc4def9b509e,8,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: I2421c32fcc4aaf745d06708360ac8f03cb126df3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/45/827445/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,b37400e2d0b5c20b535d69806a6acc4def9b509e,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/manila/policy.json"" state: absent listen: - ""Restart manila services"" - ""venv changed"" ",0,9
openstack%2Fmonasca-api~stable%2Fwallaby~Id7a874e691f13480653d3a6d74651c96875efa27,openstack/monasca-api,stable/wallaby,Id7a874e691f13480653d3a6d74651c96875efa27,Update branch to stable/wallaby for DevStack,MERGED,2022-02-02 19:31:48.000000000,2022-02-02 21:18:32.000000000,2022-02-02 21:18:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-02-02 19:31:48.000000000', 'files': ['.zuul.yaml', 'docker/build_image.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6a18732f771dd299b9375ad0cf56aacfc0d1d156', 'message': 'Update branch to stable/wallaby for DevStack\n\nAnd fix docker build\nChange-Id: Ibeac722420c266b97d2fe06fcb6adf27f6a4025e\n\nChange-Id: Id7a874e691f13480653d3a6d74651c96875efa27\n'}]",0,827550,6a18732f771dd299b9375ad0cf56aacfc0d1d156,6,2,1,28062,,,0,"Update branch to stable/wallaby for DevStack

And fix docker build
Change-Id: Ibeac722420c266b97d2fe06fcb6adf27f6a4025e

Change-Id: Id7a874e691f13480653d3a6d74651c96875efa27
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/50/827550/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'docker/build_image.sh', 'devstack/settings']",3,6a18732f771dd299b9375ad0cf56aacfc0d1d156,827132,MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-stable/wallaby}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-stable/wallaby}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-stable/wallaby}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-stable/wallaby}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-stable/wallaby}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-stable/wallaby}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-stable/wallaby}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-stable/wallaby}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-stable/wallaby},MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-master}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-master}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-master}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-master}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-master}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-master}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-master}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-master}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-master},10,13
openstack%2Foslo.db~master~Ib2537bae77861ee60d17a48a72c57b88e043553e,openstack/oslo.db,master,Ib2537bae77861ee60d17a48a72c57b88e043553e,Remove use of Session.begin.subtransactions flag,MERGED,2021-07-27 17:30:19.000000000,2022-02-02 21:05:04.000000000,2022-02-02 21:02:51.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/fbc26d5e6b4436d7c483123cf2488a19255e95ba', 'message': 'Remove use of Session.begin.subtransactions flag\n\nResolve the following RemovedIn20Warning warning:\n\n  The Session.begin.subtransactions flag is deprecated and will be\n  removed in SQLAlchemy version 2.0.  See the documentation at\n  session_subtransactions for background on a compatible alternative\n  pattern.\n\nChange-Id: Ib2537bae77861ee60d17a48a72c57b88e043553e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/266210df5dc42e0a732b209d8bdc2719525af2fc', 'message': 'Remove use of Session.begin.subtransactions flag\n\nResolve the following RemovedIn20Warning warning:\n\n  The Session.begin.subtransactions flag is deprecated and will be\n  removed in SQLAlchemy version 2.0.  See the documentation at\n  session_subtransactions for background on a compatible alternative\n  pattern.\n\nChange-Id: Ib2537bae77861ee60d17a48a72c57b88e043553e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/0b2f1c056e42c9a29906d0565d0a91c3b2c65f81', 'message': 'Remove use of Session.begin.subtransactions flag\n\nResolve the following RemovedIn20Warning warning:\n\n  The Session.begin.subtransactions flag is deprecated and will be\n  removed in SQLAlchemy version 2.0.  See the documentation at\n  session_subtransactions for background on a compatible alternative\n  pattern.\n\nChange-Id: Ib2537bae77861ee60d17a48a72c57b88e043553e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/127b50cd7557dbde63c6354262024e4e89929f43', 'message': 'Remove use of Session.begin.subtransactions flag\n\nResolve the following RemovedIn20Warning warning:\n\n  The Session.begin.subtransactions flag is deprecated and will be\n  removed in SQLAlchemy version 2.0.  See the documentation at\n  session_subtransactions for background on a compatible alternative\n  pattern.\n\nChange-Id: Ib2537bae77861ee60d17a48a72c57b88e043553e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/models.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/cd5f697a173a64df0cdb1a90ab871b81f56469d4', 'message': 'Remove use of Session.begin.subtransactions flag\n\nResolve the following RemovedIn20Warning warning:\n\n  The Session.begin.subtransactions flag is deprecated and will be\n  removed in SQLAlchemy version 2.0.  See the documentation at\n  session_subtransactions for background on a compatible alternative\n  pattern.\n\nChange-Id: Ib2537bae77861ee60d17a48a72c57b88e043553e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,802588,cd5f697a173a64df0cdb1a90ab871b81f56469d4,17,3,5,15334,,,0,"Remove use of Session.begin.subtransactions flag

Resolve the following RemovedIn20Warning warning:

  The Session.begin.subtransactions flag is deprecated and will be
  removed in SQLAlchemy version 2.0.  See the documentation at
  session_subtransactions for background on a compatible alternative
  pattern.

Change-Id: Ib2537bae77861ee60d17a48a72c57b88e043553e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/88/802588/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/models.py', 'oslo_db/tests/fixtures.py']",2,fbc26d5e6b4436d7c483123cf2488a19255e95ba,sqlalchemy-20,," message=r'The Session.begin.subtransactions flag is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",2,17
openstack%2Foslo.db~master~Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e,openstack/oslo.db,master,Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e,Don't rely on implicit autocommit,MERGED,2021-07-27 17:30:19.000000000,2022-02-02 21:03:23.000000000,2022-02-02 21:00:32.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/42470a0ce3fb53fd4815d271719944a8471b69e8', 'message': ""Don't rely on implicit autocommit\n\nResolve the following RemovedIn20Warning warning:\n\n  The current statement is being autocommitted using implicit\n  autocommit, which will be removed in SQLAlchemy 2.0. Use the .begin()\n  method of Engine or Connection in order to use an explicit transaction\n  for DML and DDL statements.\n\nChange-Id: Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/502177374ee0a5693337321211ae163371858604', 'message': ""Don't rely on implicit autocommit\n\nResolve the following RemovedIn20Warning warning:\n\n  The current statement is being autocommitted using implicit\n  autocommit, which will be removed in SQLAlchemy 2.0. Use the .begin()\n  method of Engine or Connection in order to use an explicit transaction\n  for DML and DDL statements.\n\nChange-Id: Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/041627f9f8220fd0c2f091a911d91830b39e332b', 'message': ""Don't rely on implicit autocommit\n\nResolve the following RemovedIn20Warning warning:\n\n  The current statement is being autocommitted using implicit\n  autocommit, which will be removed in SQLAlchemy 2.0. Use the .begin()\n  method of Engine or Connection in order to use an explicit transaction\n  for DML and DDL statements.\n\nChange-Id: Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4a8fa58cb454042fb3ecdb010d2ad713a1cbe739', 'message': ""Don't rely on implicit autocommit\n\nResolve the following RemovedIn20Warning warning:\n\n  The current statement is being autocommitted using implicit\n  autocommit, which will be removed in SQLAlchemy 2.0. Use the .begin()\n  method of Engine or Connection in order to use an explicit transaction\n  for DML and DDL statements.\n\nChange-Id: Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b3a56b35640b0cfceeeb97c885318a3aae7f7b22', 'message': ""Don't rely on implicit autocommit\n\nResolve the following RemovedIn20Warning warning:\n\n  The current statement is being autocommitted using implicit\n  autocommit, which will be removed in SQLAlchemy 2.0. Use the .begin()\n  method of Engine or Connection in order to use an explicit transaction\n  for DML and DDL statements.\n\nChange-Id: Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,802587,b3a56b35640b0cfceeeb97c885318a3aae7f7b22,16,3,5,15334,,,0,"Don't rely on implicit autocommit

Resolve the following RemovedIn20Warning warning:

  The current statement is being autocommitted using implicit
  autocommit, which will be removed in SQLAlchemy 2.0. Use the .begin()
  method of Engine or Connection in order to use an explicit transaction
  for DML and DDL statements.

Change-Id: Ib789cd4d11a3d5dd01fcdb99822025b11bbc234e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/87/802587/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",6,42470a0ce3fb53fd4815d271719944a8471b69e8,sqlalchemy-20," 'once', message=r'The current statement is being autocommitted .*', module='migrate', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings("," message=r'The current statement is being autocommitted .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",117,79
openstack%2Fmonasca-api~master~I4f392442b857e67361a6bc5ae84d0c2db5f0e460,openstack/monasca-api,master,I4f392442b857e67361a6bc5ae84d0c2db5f0e460,Fix zuul publish docker image job,MERGED,2022-02-02 19:12:39.000000000,2022-02-02 21:02:06.000000000,2022-02-02 20:59:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-02-02 19:12:39.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/3d753db83b1a75572330666d2a2a06412f0e9d7d', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I4f392442b857e67361a6bc5ae84d0c2db5f0e460\n'}]",0,827543,3d753db83b1a75572330666d2a2a06412f0e9d7d,7,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I4f392442b857e67361a6bc5ae84d0c2db5f0e460
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/43/827543/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,3d753db83b1a75572330666d2a2a06412f0e9d7d,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}"""," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fmonasca-api~stable%2Fxena~I363b74b8b44d21256ab1b800ec7246105f791c28,openstack/monasca-api,stable/xena,I363b74b8b44d21256ab1b800ec7246105f791c28,Fix zuul publish docker image job,MERGED,2022-02-02 19:19:18.000000000,2022-02-02 20:46:56.000000000,2022-02-02 20:43:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-02-02 19:19:18.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/590d3d181705d21a90e5f8617e8026c0e5b7ea7b', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I363b74b8b44d21256ab1b800ec7246105f791c28\n'}]",0,827547,590d3d181705d21a90e5f8617e8026c0e5b7ea7b,7,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I363b74b8b44d21256ab1b800ec7246105f791c28
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/47/827547/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,590d3d181705d21a90e5f8617e8026c0e5b7ea7b,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable/xena'}}"""," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fneutron~master~I380a130d97e8bfe54caa5f3a129877507d1ce2a6,openstack/neutron,master,I380a130d97e8bfe54caa5f3a129877507d1ce2a6,[OVN] Implement floating IP network QoS inheritance,MERGED,2021-11-12 16:08:52.000000000,2022-02-02 20:46:10.000000000,2022-02-02 20:38:26.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-11-12 16:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c61c7676d2c9ef2f7d67ff06f93e7a38cea1399', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 2, 'created': '2021-11-17 17:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6cdd3f608266f20c36c47166b08fe21887f6804', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 3, 'created': '2021-11-18 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84364b09a93b98eac106efc3a81b76066f4c2cbc', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 4, 'created': '2021-11-19 10:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9696144c949e24c5d304f2a775ec456d09b42ef', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 5, 'created': '2021-11-24 09:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/643e6254f54314a16755dc8afc7b4878ddb25541', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 6, 'created': '2021-12-22 10:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91fb9bd22c7b68a97628e4fece8bca3062f8b2c9', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 7, 'created': '2022-01-04 13:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0409f7aa86aa7ac3c542edef156fff56289fd2d', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}, {'number': 8, 'created': '2022-01-28 11:53:44.000000000', 'files': ['releasenotes/notes/qos-fip-network-inheritance-support-in-ovn-1d68b54c42c865da.yaml', 'neutron/objects/qos/binding.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/objects/qos/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dfe5cc95ba8d27ff59f710a34418d46a0d25144', 'message': '[OVN] Implement floating IP network QoS inheritance\n\nFloating IP now have information of the QoS policy of the external\nnetwork. The OVN QoS extension will use this network QoS policy if\nthere is no floating IP QoS policy.\n\nPartial-Bug: #1950454\nChange-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6\n'}]",16,817790,8dfe5cc95ba8d27ff59f710a34418d46a0d25144,71,8,8,16688,,,0,"[OVN] Implement floating IP network QoS inheritance

Floating IP now have information of the QoS policy of the external
network. The OVN QoS extension will use this network QoS policy if
there is no floating IP QoS policy.

Partial-Bug: #1950454
Change-Id: I380a130d97e8bfe54caa5f3a129877507d1ce2a6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/817790/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/qos/binding.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/objects/qos/policy.py']",4,0c61c7676d2c9ef2f7d67ff06f93e7a38cea1399,bug/1950454," return binding.QosPolicyFloatingIPBinding.get_bound_ids( self.obj_context, self.id)"," return binding.QosPolicyFloatingIPBinding.get_objects( self.obj_context, policy_id=self.id)",84,22
openstack%2Fdevstack~stable%2Fussuri~I36751569d92fbc5084b8308d423a75318ae7d406,openstack/devstack,stable/ussuri,I36751569d92fbc5084b8308d423a75318ae7d406,Drop CentOS8 job,MERGED,2022-01-12 02:26:47.000000000,2022-02-02 20:45:21.000000000,2022-02-02 20:38:23.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-12 02:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/53c57717c524fe0728a93b088aeb2c66f5fe78bb', 'message': 'Drop CentOS8 job and nodeset\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack stable/wallaby and onwards has replaced the\ncentOS testing with centOS Stream. For older stable branches\n(<= stable/victoria) we can either replace it with centOS Steam\nor do the removal of CentOS8 and adding CentOS Stream testing\nin two steps 1. drop the centOS8 testing as it cannot\nbe supported in CI 2. add centOS Stream job if possible.\n\nThis commit propose the step 1 as required by opendev image removal.\n\n[Stable only]\n\nChange-Id: I36751569d92fbc5084b8308d423a75318ae7d406\n'}, {'number': 2, 'created': '2022-01-12 02:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b62947beebb104752390ebc636b0ff19d13c572b', 'message': 'Drop CentOS8 job and nodeset\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack stable/wallaby and onwards has replaced the\ncentOS testing with centOS Stream. For older stable branches\n(<= stable/victoria) we can either replace it with centOS Steam\nor do the removal of CentOS8 and adding CentOS Stream testing\nin two steps 1. drop the centOS8 testing as it cannot\nbe supported in CI 2. add centOS Stream job if possible.\n\nThis commit propose the step 1 as required by opendev image removal.\n\n[Stable only]\n\nChange-Id: I36751569d92fbc5084b8308d423a75318ae7d406\n(cherry picked from commit 3602e4349b9dcdea1865465342b192cfae3ca377)\n'}, {'number': 3, 'created': '2022-02-01 20:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2940abf991260a71a760cbf5a88c961b23a03a79', 'message': 'Drop CentOS8 job\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack stable/wallaby and onwards has replaced the\ncentOS testing with centOS Stream. For older stable branches\n(<= stable/victoria) we can either replace it with centOS Steam\nor do the removal of CentOS8 and adding CentOS Stream testing\nin two steps 1. drop the centOS8 testing as it cannot\nbe supported in CI 2. add centOS Stream job if possible.\n\nThis commit propose the step 1 as required by opendev image removal.\n\n[Stable only]\n\nChange-Id: I36751569d92fbc5084b8308d423a75318ae7d406\n(cherry picked from commit 3602e4349b9dcdea1865465342b192cfae3ca377)\n'}, {'number': 4, 'created': '2022-02-02 06:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5fbee79e0a31b7d1225739560f8d7a6595b1ed9b', 'message': 'Drop CentOS8 job\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack stable/wallaby and onwards has replaced the\ncentOS testing with centOS Stream. For older stable branches\n(<= stable/victoria) we can either replace it with centOS Steam\nor do the removal of CentOS8 and adding CentOS Stream testing\nin two steps 1. drop the centOS8 testing as it cannot\nbe supported in CI 2. add centOS Stream job if possible.\n\nThis commit propose the step 1 as required by opendev image removal.\n\n[Stable only]\n\nChange-Id: I36751569d92fbc5084b8308d423a75318ae7d406\n(cherry picked from commit 3602e4349b9dcdea1865465342b192cfae3ca377)\n'}, {'number': 5, 'created': '2022-02-02 11:46:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7d3dd00e628a48fd2e757e22ea2ec3497286027e', 'message': 'Drop CentOS8 job\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack stable/wallaby and onwards has replaced the\ncentOS testing with centOS Stream. For older stable branches\n(<= stable/victoria) we can either replace it with centOS Steam\nor do the removal of CentOS8 and adding CentOS Stream testing\nin two steps 1. drop the centOS8 testing as it cannot\nbe supported in CI 2. add centOS Stream job if possible.\n\nThis commit propose the step 1 as required by opendev image removal.\n\n[Stable only]\n\nChange-Id: I36751569d92fbc5084b8308d423a75318ae7d406\n(cherry picked from commit 3602e4349b9dcdea1865465342b192cfae3ca377)\n'}]",6,824290,7d3dd00e628a48fd2e757e22ea2ec3497286027e,27,3,5,8556,,,0,"Drop CentOS8 job

CentOS8 is going to be EOL soon and opendev
is planning to drop the centOS8 image from CI
- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Devstack stable/wallaby and onwards has replaced the
centOS testing with centOS Stream. For older stable branches
(<= stable/victoria) we can either replace it with centOS Steam
or do the removal of CentOS8 and adding CentOS Stream testing
in two steps 1. drop the centOS8 testing as it cannot
be supported in CI 2. add centOS Stream job if possible.

This commit propose the step 1 as required by opendev image removal.

[Stable only]

Change-Id: I36751569d92fbc5084b8308d423a75318ae7d406
(cherry picked from commit 3602e4349b9dcdea1865465342b192cfae3ca377)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/824290/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53c57717c524fe0728a93b088aeb2c66f5fe78bb,bug/1959600-stable/ussuri,<<<<<<< HEAD (d927b6 nova: Ensure each compute uses a unique iSCSI initiator)======= - devstack-platform-bionic >>>>>>> CHANGE (3602e4 Drop CentOS8 job and nodeset), name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-centos-8 parent: tempest-full-py3 description: Centos 8 platform test nodeset: devstack-single-node-centos-8 voting: false timeout: 9000 - job:,4,18
openstack%2Fdevstack~stable%2Fvictoria~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/victoria,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-02 06:37:39.000000000,2022-02-02 20:45:21.000000000,2022-02-02 20:38:20.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-02 06:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5f5d9000a7bf3e1b4aee78a06816c43588fa03b9', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)\n(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)\n(cherry picked from commit a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730)\n'}, {'number': 2, 'created': '2022-02-02 06:47:48.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c490f394a5fdf1bd883eea22c4eb0f44722a711f', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827415\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)\n(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)\n(cherry picked from commit a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730)\n'}]",2,827414,c490f394a5fdf1bd883eea22c4eb0f44722a711f,17,5,2,13252,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/827415
Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)
(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)
(cherry picked from commit a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/827414/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,5f5d9000a7bf3e1b4aee78a06816c43588fa03b9,bug/1959600-stable/victoria,"PIP_GET_PIP36_URL=${PIP_GET_PIP36_URL:-""https://bootstrap.pypa.io/pip/3.6/get-pip.py""} if [[ ""$PYTHON3_VERSION"" = ""3.6"" ]]; then _pip_url=$PIP_GET_PIP36_URL _local_pip=""$FILES/$(basename $_pip_url)-py36"" else _pip_url=$PIP_GET_PIP_URL _local_pip=""$FILES/$(basename $_pip_url)"" fi if [[ -r $_local_pip ]]; then if ! head -1 $_local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $_local_pip found removing"" rm $_local_pip if [[ ! -r $_local_pip || -r $_local_pip.downloaded ]]; then if [[ -r $_local_pip ]]; then timecond=""-z $_local_pip"" $timecond -o $_local_pip $_pip_url || \ touch $_local_pip.downloaded sudo -H -E python${PYTHON3_VERSION} $_local_pip -c $TOOLS_DIR/cap-pip.txt","LOCAL_PIP=""$FILES/$(basename $PIP_GET_PIP_URL)"" if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",20,11
openstack%2Fdevstack~stable%2Fussuri~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/ussuri,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-02 06:40:53.000000000,2022-02-02 20:24:27.000000000,2022-02-02 20:22:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31245}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-02-02 06:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/311d00da2157e6c1fec957941759658af008b7b4', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nConflicts:\n  tools/install_pip.sh\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)\n(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)\n(cherry picked from commit a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730)\n(cherry picked from commit 5f5d9000a7bf3e1b4aee78a06816c43588fa03b9)\n'}, {'number': 2, 'created': '2022-02-02 11:29:47.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9c43f9fecc662444cc6b1083aa561fc00ffc8509', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nConflicts:\n  tools/install_pip.sh\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827421\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)\n(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)\n(cherry picked from commit a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730)\n(cherry picked from commit 5f5d9000a7bf3e1b4aee78a06816c43588fa03b9)\n'}]",4,827415,9c43f9fecc662444cc6b1083aa561fc00ffc8509,22,5,2,13252,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

Conflicts:
  tools/install_pip.sh

Depends-On: https://review.opendev.org/c/openstack/devstack/+/827421
Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)
(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)
(cherry picked from commit a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730)
(cherry picked from commit 5f5d9000a7bf3e1b4aee78a06816c43588fa03b9)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/827415/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,311d00da2157e6c1fec957941759658af008b7b4,bug/1959600-stable/ussuri,"PIP_GET_PIP36_URL=${PIP_GET_PIP36_URL:-""https://bootstrap.pypa.io/pip/3.6/get-pip.py""} if [[ ""$PYTHON3_VERSION"" = ""3.6"" ]]; then _pip_url=$PIP_GET_PIP36_URL _local_pip=""$FILES/$(basename $_pip_url)-py36"" else _pip_url=$PIP_GET_PIP_URL _local_pip=""$FILES/$(basename $_pip_url)"" fi if [[ -r $_local_pip ]]; then if ! head -1 $_local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $_local_pip found removing"" rm $_local_pip if [[ ! -r $_local_pip || -r $_local_pip.downloaded ]]; then if [[ -r $_local_pip ]]; then timecond=""-z $_local_pip"" $timecond -o $_local_pip $_pip_url || \ touch $_local_pip.downloaded sudo -H -E python${PYTHON3_VERSION} $_local_pip -c $TOOLS_DIR/cap-pip.txt","LOCAL_PIP=""$FILES/$(basename $PIP_GET_PIP_URL)"" if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",20,11
openstack%2Fneutron~stable%2Fwallaby~I26c43c2909b635e8b21306ea1880da3877477a17,openstack/neutron,stable/wallaby,I26c43c2909b635e8b21306ea1880da3877477a17,Ensure subports status is aligned with parent port,MERGED,2022-01-28 16:51:45.000000000,2022-02-02 20:24:22.000000000,2022-02-02 20:22:14.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 16:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d039e6373e693f9a627c04916b66c2e53e787e1', 'message': 'Ensure subports status is aligned with parent port\n\nSubports of a trunk should have the same status as the parent port.\nHowever, with ovn, if the parent port is in DOWN status, the subports\nare transitioned to ACTIVE as soon as they are attached to the trunk.\n\nThis patch ensure the status set on the subports when being attached\nmatches the one on the parent port.\n\nCloses-Bug: #1957161\nChange-Id: I26c43c2909b635e8b21306ea1880da3877477a17\n(cherry picked from commit 15d6cfffc9f3c63a7bac75f8d04beaae82ddc794)\n'}, {'number': 2, 'created': '2022-01-31 14:27:36.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0340d412bef0d52da996ab901b12bf15c3015d9e', 'message': 'Ensure subports status is aligned with parent port\n\nSubports of a trunk should have the same status as the parent port.\nHowever, with ovn, if the parent port is in DOWN status, the subports\nare transitioned to ACTIVE as soon as they are attached to the trunk.\n\nThis patch ensure the status set on the subports when being attached\nmatches the one on the parent port.\n\nConflicts:\n       neutron/services/trunk/drivers/ovn/trunk_driver.py\n\nThe conflict is related to the code added by\nhttps://github.com/openstack/neutron/commit/6ada9124143f42311951a75b5d586bbab4451ce6\n\nCloses-Bug: #1957161\nChange-Id: I26c43c2909b635e8b21306ea1880da3877477a17\n(cherry picked from commit 15d6cfffc9f3c63a7bac75f8d04beaae82ddc794)\n'}]",6,826919,0340d412bef0d52da996ab901b12bf15c3015d9e,30,4,2,23567,,,0,"Ensure subports status is aligned with parent port

Subports of a trunk should have the same status as the parent port.
However, with ovn, if the parent port is in DOWN status, the subports
are transitioned to ACTIVE as soon as they are attached to the trunk.

This patch ensure the status set on the subports when being attached
matches the one on the parent port.

Conflicts:
       neutron/services/trunk/drivers/ovn/trunk_driver.py

The conflict is related to the code added by
https://github.com/openstack/neutron/commit/6ada9124143f42311951a75b5d586bbab4451ce6

Closes-Bug: #1957161
Change-Id: I26c43c2909b635e8b21306ea1880da3877477a17
(cherry picked from commit 15d6cfffc9f3c63a7bac75f8d04beaae82ddc794)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/826919/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py']",2,3d039e6373e693f9a627c04916b66c2e53e787e1,wallaby," db_parent_port = port_obj.Port.get_object(context, id=parent_port) parent_port_status = db_parent_port.status self._set_binding_profile(context, port, parent_port, parent_port_status, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, parent_port_status, ovn_txn): # NOTE(ksambor): When sub-port was created and event was process # without binding profile this port will end forever in DOWN # status so we need to switch it here to the parent port status db_port.status = parent_port_status"," self._set_binding_profile(context, port, parent_port, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, ovn_txn):",15,3
openstack%2Fcinder~stable%2Fwallaby~I442a42b0c098775935a799876ad8efbe141829ad,openstack/cinder,stable/wallaby,I442a42b0c098775935a799876ad8efbe141829ad,Delete attachment on remove_export failure,MERGED,2021-11-23 11:52:30.000000000,2022-02-02 20:05:20.000000000,2022-02-02 19:48:23.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-23 11:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51af88353ebefad5002f44c1c7905ada49e9e9c0', 'message': 'Delete attachment on remove_export failure\n\nWhen deleting an attachment, if the driver\'s remove_export or the\ndetach_volume method call fails in the cinder driver, then the\nattachment status is changed to error_detaching but the REST API call\ndoesn\'t fail.\n\nThe end result is:\n- Volume status is ""available""\n- Volume attach_status is ""detached""\n- There is a volume_attachment record for the volume\n- The volume may still be exported in the backend\n\nThe volume still being exported in the storage array is not a problem,\nsince the next attach-detach cycle will give it another opportunity for\nit to succeed, and we also do the export on volume deletion.\n\nSo in the end leaving the attachment in error_detaching status doesn\'t\nhave any use and creates confusion.\n\nThis patch removes the attachment record when on an attachment delete\nrequest if the error happens on remove_export or detach_volume calls.\n\nThis doesn\'t change how the REST API attachment delete operation\nbehaves, the change is that there will not be a leftover attachment\nrecord with the volume in available and detached status.\n\nCloses-Bug: #1935057\nChange-Id: I442a42b0c098775935a799876ad8efbe141829ad\n(cherry picked from commit 3aa00b087884a278e747e839db0707cf39561382)\nConflicts:\n\tcinder/volume/manager.py\n'}, {'number': 2, 'created': '2022-01-17 16:18:48.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/remove_export_failure_leaves_attachment-24e0c648269b0177.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be7b001290ab56632aaf5d108aeccb367adea55c', 'message': 'Delete attachment on remove_export failure\n\nWhen deleting an attachment, if the driver\'s remove_export or the\ndetach_volume method call fails in the cinder driver, then the\nattachment status is changed to error_detaching but the REST API call\ndoesn\'t fail.\n\nThe end result is:\n- Volume status is ""available""\n- Volume attach_status is ""detached""\n- There is a volume_attachment record for the volume\n- The volume may still be exported in the backend\n\nThe volume still being exported in the storage array is not a problem,\nsince the next attach-detach cycle will give it another opportunity for\nit to succeed, and we also do the export on volume deletion.\n\nSo in the end leaving the attachment in error_detaching status doesn\'t\nhave any use and creates confusion.\n\nThis patch removes the attachment record when on an attachment delete\nrequest if the error happens on remove_export or detach_volume calls.\n\nThis doesn\'t change how the REST API attachment delete operation\nbehaves, the change is that there will not be a leftover attachment\nrecord with the volume in available and detached status.\n\nCloses-Bug: #1935057\nChange-Id: I442a42b0c098775935a799876ad8efbe141829ad\n(cherry picked from commit 3aa00b087884a278e747e839db0707cf39561382)\nConflicts:\n\tcinder/volume/manager.py\n(cherry picked from commit 1328c68a8cc6db0e4bd6b145daa788570908ed36)\n'}]",3,818884,be7b001290ab56632aaf5d108aeccb367adea55c,43,3,2,9535,,,0,"Delete attachment on remove_export failure

When deleting an attachment, if the driver's remove_export or the
detach_volume method call fails in the cinder driver, then the
attachment status is changed to error_detaching but the REST API call
doesn't fail.

The end result is:
- Volume status is ""available""
- Volume attach_status is ""detached""
- There is a volume_attachment record for the volume
- The volume may still be exported in the backend

The volume still being exported in the storage array is not a problem,
since the next attach-detach cycle will give it another opportunity for
it to succeed, and we also do the export on volume deletion.

So in the end leaving the attachment in error_detaching status doesn't
have any use and creates confusion.

This patch removes the attachment record when on an attachment delete
request if the error happens on remove_export or detach_volume calls.

This doesn't change how the REST API attachment delete operation
behaves, the change is that there will not be a leftover attachment
record with the volume in available and detached status.

Closes-Bug: #1935057
Change-Id: I442a42b0c098775935a799876ad8efbe141829ad
(cherry picked from commit 3aa00b087884a278e747e839db0707cf39561382)
Conflicts:
	cinder/volume/manager.py
(cherry picked from commit 1328c68a8cc6db0e4bd6b145daa788570908ed36)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/818884/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/remove_export_failure_leaves_attachment-24e0c648269b0177.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py']",3,51af88353ebefad5002f44c1c7905ada49e9e9c0,detach-vol-status," def test_attachment_delete_remove_export_fail(self): """"""attachment_delete removes attachment on remove_export failure."""""" self.mock_object(self.manager.driver, 'remove_export', side_effect=Exception) # Report that the connection is not shared self.mock_object(self.manager, '_connection_terminate', return_value=False) vref = tests_utils.create_volume(self.context, status='in-use', attach_status='attached') values = {'volume_id': vref.id, 'volume_host': vref.host, 'attach_status': 'reserved', 'instance_uuid': fake.UUID1} attach = db.volume_attach(self.context, values) # Confirm the volume OVO has the attachment before the deletion vref.refresh() self.assertEqual(1, len(vref.volume_attachment)) self.manager.attachment_delete(self.context, attach.id, vref) # Attachment has been removed from the DB self.assertRaises(exception.VolumeAttachmentNotFound, db.volume_attachment_get, self.context, attach.id) # Attachment has been removed from the volume OVO attachment list self.assertEqual(0, len(vref.volume_attachment)) ",,35,10
openstack%2Fcinder~stable%2Fwallaby~I3e77c890c7abca85dab92500eae989b4dff9824d,openstack/cinder,stable/wallaby,I3e77c890c7abca85dab92500eae989b4dff9824d,Fixed copy-on-write mode in GPFS NFS driver,MERGED,2021-11-13 14:45:32.000000000,2022-02-02 19:50:37.000000000,2022-02-02 19:48:19.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-13 14:45:32.000000000', 'files': ['releasenotes/notes/bug-gpfs-fix-nfs-cow.yaml', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e3f03529a4fa45674397cea09e29876a660976c', 'message': 'Fixed copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bug mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947134\nCloses-Bug: #1947123\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n(cherry picked from commit dcc191646985fa0be76ee763935ef37a8456d1e6)\n(cherry picked from commit 6c64d92a7801d12bd44cc3b19fd10e4193b1bad8)\n'}]",4,817833,0e3f03529a4fa45674397cea09e29876a660976c,38,3,1,19904,,,0,"Fixed copy-on-write mode in GPFS NFS driver

IBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature
in all the configuration. Resolving the bug mentioned below will
enable mmclone feature of the IBM Spectrum Scale filesystem to provide
better performance while configured in GPFS NFS mode.

Closes-Bug: #1947134
Closes-Bug: #1947123
Change-Id: I3e77c890c7abca85dab92500eae989b4dff9824d
(cherry picked from commit dcc191646985fa0be76ee763935ef37a8456d1e6)
(cherry picked from commit 6c64d92a7801d12bd44cc3b19fd10e4193b1bad8)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/817833/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-gpfs-fix-nfs-cow.yaml', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py']",3,0e3f03529a4fa45674397cea09e29876a660976c,," def test_same_filesystem_ok(self, mock_exec): # returns filesystem id in hex mock_exec.return_value = ('ef0009600000002\nef0009600000002\n', '') self.assertTrue(self.driver._same_filesystem('/path1', '/path2')) @mock.patch('cinder.utils.execute') def test_same_filesystem_not_ok(self, mock_exec): # returns filesystem id in hex mock_exec.return_value = ('ef0009600000002\n000000000000007\n', '') self.assertFalse(self.driver._same_filesystem('/path1', '/path2')) @mock.patch('cinder.utils.execute') def test_same_filesystem_failed(self, mock_exec): mock_exec.side_effect = processutils.ProcessExecutionError( stdout='test', stderr='test') self.assertRaises(exception.VolumeBackendAPIException, self.driver._same_filesystem, '', '') @mock.patch('cinder.utils.execute') # self._same_filesystem(configuration.gpfs_mount_point_base, with mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_same_filesystem', return_value=False): @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.' '_get_volume_path') mock_get_volume_path, mock_get_volume_path.return_value = self.volumes_path @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSNFSDriver.' '_find_share') def test_local_path(self, mock_find_share, mock_mount_point, mock_find_share.return_value = self.TEST_VOLUME_PATH"," # _same_filesystem(configuration.gpfs_mount_point_base, with mock.patch('cinder.volume.drivers.ibm.gpfs._same_filesystem', return_value=False): @mock.patch('cinder.volume.drivers.ibm.gpfs.GPFSDriver.local_path') mock_local_path, mock_local_path.return_value = self.volumes_path def test_local_path(self, mock_mount_point, volume['provider_location'] = self.TEST_MNT_POINT_BASE",62,18
openstack%2Fmonasca-notification~stable%2Fvictoria~Iaea856c3e718c3ffb315a17e2c4a887ccd02f85c,openstack/monasca-notification,stable/victoria,Iaea856c3e718c3ffb315a17e2c4a887ccd02f85c,Set specific monasca-common base image for Victoria,MERGED,2022-01-31 13:10:45.000000000,2022-02-02 19:48:34.000000000,2022-02-02 19:48:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-01-31 13:10:45.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3a17e34451846a77d8dbca1fa059d59f2cd629b0', 'message': 'Set specific monasca-common base image for Victoria\n\nmonasca-notification Victoria image should use\nmonasca-common Victoria as base image\n\nChange-Id: Iaea856c3e718c3ffb315a17e2c4a887ccd02f85c\n'}]",1,827071,3a17e34451846a77d8dbca1fa059d59f2cd629b0,8,2,1,28062,,,0,"Set specific monasca-common base image for Victoria

monasca-notification Victoria image should use
monasca-common Victoria as base image

Change-Id: Iaea856c3e718c3ffb315a17e2c4a887ccd02f85c
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/71/827071/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,3a17e34451846a77d8dbca1fa059d59f2cd629b0,,ARG BASE_TAG=victoria,ARG BASE_TAG=master,1,1
openstack%2Fmonasca-notification~stable%2Fxena~I6b7232684a7a9cff550aab602b2c1736bd98a64f,openstack/monasca-notification,stable/xena,I6b7232684a7a9cff550aab602b2c1736bd98a64f,Set specific monasca-common base image for Xena,MERGED,2022-01-31 13:15:21.000000000,2022-02-02 19:48:32.000000000,2022-02-02 19:48:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-01-31 13:15:21.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/4b92c325d279afb3b049bea08ae663418b3a0944', 'message': 'Set specific monasca-common base image for Xena\n\nmonasca-notification Xena image should use\nmonasca-common Xena as base image\n\nChange-Id: I6b7232684a7a9cff550aab602b2c1736bd98a64f\n'}]",1,827075,4b92c325d279afb3b049bea08ae663418b3a0944,8,2,1,28062,,,0,"Set specific monasca-common base image for Xena

monasca-notification Xena image should use
monasca-common Xena as base image

Change-Id: I6b7232684a7a9cff550aab602b2c1736bd98a64f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/75/827075/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,4b92c325d279afb3b049bea08ae663418b3a0944,,ARG BASE_TAG=xena,ARG BASE_TAG=master,1,1
openstack%2Fpuppet-nova~master~I2b4ae861ebb7052d38ad2c4431d63bffc1ccc55b,openstack/puppet-nova,master,I2b4ae861ebb7052d38ad2c4431d63bffc1ccc55b,Add socket keepalive options for the pymemcache backend,MERGED,2021-11-04 09:35:52.000000000,2022-02-02 19:38:51.000000000,2022-02-02 19:36:42.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0a0729d5b7e5aaa27ab5539711a06f1ac0c95b46', 'message': 'Add socket keepalive options for the pymemcache backend\n\nThis patch specifies a set of options required to setup the socket\nkeepalive feature of pymemcache (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/803716\n\nDepends-On: https://review.opendev.org/807851\nChange-Id: I2b4ae861ebb7052d38ad2c4431d63bffc1ccc55b\n'}, {'number': 2, 'created': '2022-01-27 11:26:29.000000000', 'files': ['releasenotes/notes/add_keepalive_options-3802510b6d4461e1.yaml', 'spec/classes/nova_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/54c63dc060ee6bca5d4171564c08f7264fd1ed02', 'message': 'Add socket keepalive options for the pymemcache backend\n\nThis patch specifies a set of options required to setup the socket\nkeepalive feature of pymemcache (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/803716\n\nDepends-On: https://review.opendev.org/807851\nChange-Id: I2b4ae861ebb7052d38ad2c4431d63bffc1ccc55b\n'}]",5,816626,54c63dc060ee6bca5d4171564c08f7264fd1ed02,26,6,2,14250,,,0,"Add socket keepalive options for the pymemcache backend

This patch specifies a set of options required to setup the socket
keepalive feature of pymemcache (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/803716

Depends-On: https://review.opendev.org/807851
Change-Id: I2b4ae861ebb7052d38ad2c4431d63bffc1ccc55b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/26/816626/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_keepalive_options-3802510b6d4461e1.yaml', 'spec/classes/nova_cache_spec.rb', 'manifests/cache.pp']",3,0a0729d5b7e5aaa27ab5539711a06f1ac0c95b46,socket-keepalive,"# [*enable_socket_keepalive*] # (Optional) Global toggle for the socket keepalive of dogpile's # pymemcache backend # Defaults to $::os_service_default # # [*socket_keepalive_idle*] # (Optional) The time (in seconds) the connection needs to remain # idle before TCP starts sending keepalive probes. Should # be a positive integer most greater than zero. # Defaults to $::os_service_default # # [*socket_keepalive_intvl*] # (Optional) The time (in seconds) between individual keepalive # probes. Should be a positive integer most greater # than zero. # Defaults to $::os_service_default # # [*socket_keepalive_cnt*] # (Optional) The maximum number of keepalive probes TCP should # send before dropping the connection. Should be a # positive integer most greater than zero. # Defaults to $::os_service_default # $enable_socket_keepalive = $::os_service_default, $socket_keepalive_idle = $::os_service_default, $socket_keepalive_intvl = $::os_service_default, $socket_keepalive_cnt = $::os_service_default, enable_socket_keepalive => $enable_socket_keepalive, socket_keepalive_idle => $socket_keepalive_idle, socket_keepalive_intvl => $socket_keepalive_intvl, socket_keepalive_cnt => $socket_keepalive_cnt,",,44,0
openstack%2Fmonasca-agent~stable%2Fvictoria~I8416b27b3abaf926db8f3a4823bd20b1457f2dd5,openstack/monasca-agent,stable/victoria,I8416b27b3abaf926db8f3a4823bd20b1457f2dd5,Fix zuul publish docker image job,MERGED,2021-03-18 17:07:28.000000000,2022-02-02 19:22:31.000000000,2021-03-24 16:57:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-18 17:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7766e2ad442b0741baadba8753ccfec79e62c2d1', 'message': 'Fix zuul publish docker image job\n\nChange-Id: I8416b27b3abaf926db8f3a4823bd20b1457f2dd5\n'}, {'number': 2, 'created': '2021-03-22 11:16:22.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9db15dd15b3f46243c7447183518625e2df6f188', 'message': 'Fix zuul publish docker image job\n\nChange-Id: I8416b27b3abaf926db8f3a4823bd20b1457f2dd5\n'}]",2,781518,9db15dd15b3f46243c7447183518625e2df6f188,14,2,2,26141,,,0,"Fix zuul publish docker image job

Change-Id: I8416b27b3abaf926db8f3a4823bd20b1457f2dd5
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/18/781518/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,7766e2ad442b0741baadba8753ccfec79e62c2d1,fix-zuul-publish," shell: ""docker push monasca/agent-collector:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria' }}"" shell: ""docker push monasca/agent-forwarder:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria' }}"" shell: ""docker push monasca/statsdi:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria' }}"""," shell: ""docker push monasca/agent-collector"" shell: ""docker push monasca/agent-forwarder"" shell: ""docker push monasca/statsd""",3,3
openstack%2Fopenstack-helm-infra~master~I040dd85b8f0197567e990f9a30e1a3cb1f9aee45,openstack/openstack-helm-infra,master,I040dd85b8f0197567e990f9a30e1a3cb1f9aee45,[ceph-client] Add ceph-client post-apply job to restart Ceph pods,ABANDONED,2022-01-28 22:04:27.000000000,2022-02-02 19:19:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-28 22:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a12feb5125b6a64f52a1cf73fddf0ab717e9dfa8', 'message': ""[ceph-client] Add ceph-client post-apply job to restart Ceph pods\n\nIn some Ceph upgrade cases the current restart order of Ceph daemon\npods is problematic. It's tricky because for new deployments\nceph-mon pods must be deployed prior to ceph-mgr pods, but for\nupgrades ceph-mgr pods must be restarted first.\n\nThe goal of this patch set is to allow the OnDelete pod restart\nstrategy to be used for the Ceph daemon daemonsets/deployments and\nfor a ceph-client post-apply job to accomplish all of the daemon\npod restarts correctly after all of the associated upgrades have\nbeen completed.\n\nChange-Id: I040dd85b8f0197567e990f9a30e1a3cb1f9aee45\n""}, {'number': 2, 'created': '2022-01-31 19:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/883d3a5e6b167c501cfeb44b3264a557e352ca7c', 'message': ""[ceph-client] Add ceph-client post-apply job to restart Ceph pods\n\nIn some Ceph upgrade cases the current restart order of Ceph daemon\npods is problematic. It's tricky because for new deployments\nceph-mon pods must be deployed prior to ceph-mgr pods, but for\nupgrades ceph-mgr pods must be restarted first.\n\nThe goal of this patch set is to allow the OnDelete pod restart\nstrategy to be used for the Ceph daemon daemonsets/deployments and\nfor a ceph-client post-apply job to accomplish all of the daemon\npod restarts correctly after all of the associated upgrades have\nbeen completed.\n\nChange-Id: I040dd85b8f0197567e990f9a30e1a3cb1f9aee45\n""}, {'number': 3, 'created': '2022-01-31 20:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a04596429a33620af021727fe69fad996d35b94b', 'message': ""[ceph-client] Add ceph-client post-apply job to restart Ceph pods\n\nIn some Ceph upgrade cases the current restart order of Ceph daemon\npods is problematic. It's tricky because for new deployments\nceph-mon pods must be deployed prior to ceph-mgr pods, but for\nupgrades ceph-mgr pods must be restarted first.\n\nThe goal of this patch set is to allow the OnDelete pod restart\nstrategy to be used for the Ceph daemon daemonsets/deployments and\nfor a ceph-client post-apply job to accomplish all of the daemon\npod restarts correctly after all of the associated upgrades have\nbeen completed.\n\nChange-Id: I040dd85b8f0197567e990f9a30e1a3cb1f9aee45\n""}, {'number': 4, 'created': '2022-02-01 14:47:32.000000000', 'files': ['ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/job-post-apply.yaml', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/templates/bin/_post-apply.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9f4616d3c4f2cb95d21900eeb4063ac0416b02d', 'message': ""[ceph-client] Add ceph-client post-apply job to restart Ceph pods\n\nIn some Ceph upgrade cases the current restart order of Ceph daemon\npods is problematic. It's tricky because for new deployments\nceph-mon pods must be deployed prior to ceph-mgr pods, but for\nupgrades ceph-mgr pods must be restarted first.\n\nThe goal of this patch set is to allow the OnDelete pod restart\nstrategy to be used for the Ceph daemon daemonsets/deployments and\nfor a ceph-client post-apply job to accomplish all of the daemon\npod restarts correctly after all of the associated upgrades have\nbeen completed.\n\nChange-Id: I040dd85b8f0197567e990f9a30e1a3cb1f9aee45\n""}]",0,826941,c9f4616d3c4f2cb95d21900eeb4063ac0416b02d,10,1,4,29974,,,0,"[ceph-client] Add ceph-client post-apply job to restart Ceph pods

In some Ceph upgrade cases the current restart order of Ceph daemon
pods is problematic. It's tricky because for new deployments
ceph-mon pods must be deployed prior to ceph-mgr pods, but for
upgrades ceph-mgr pods must be restarted first.

The goal of this patch set is to allow the OnDelete pod restart
strategy to be used for the Ceph daemon daemonsets/deployments and
for a ceph-client post-apply job to accomplish all of the daemon
pod restarts correctly after all of the associated upgrades have
been completed.

Change-Id: I040dd85b8f0197567e990f9a30e1a3cb1f9aee45
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/826941/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/_post_apply.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/templates/job-post-apply.yaml', 'ceph-client/templates/configmap-bin.yaml']",5,a12feb5125b6a64f52a1cf73fddf0ab717e9dfa8,," post-apply.sh: | {{ tuple ""bin/_post-apply.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,178,1
openstack%2Ftripleo-docs~master~Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b,openstack/tripleo-docs,master,Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b,Switch standalone scenario to use deployed ceph,MERGED,2022-01-12 22:29:49.000000000,2022-02-02 19:17:25.000000000,2022-02-02 19:15:23.000000000,"[{'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-12 22:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/59de56b5e6345a659868cc9166229f8bfd09ecf8', 'message': 'Switch standalone scenario to use deployed ceph\n\nChange-Id: Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b\n'}, {'number': 2, 'created': '2022-01-13 21:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/673859c5ac531fdf908c897e27134ffcf1c2fe8d', 'message': 'Switch standalone scenario to use deployed ceph\n\nChange-Id: Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b\n'}, {'number': 3, 'created': '2022-01-14 15:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0762ada7c9faa8c938cb3acb49f13c8b3257ba40', 'message': 'Switch standalone scenario to use deployed ceph\n\nDepends-On: Icb785f015ee69d45dd513aef09fac625de421250\nChange-Id: Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b\n'}, {'number': 4, 'created': '2022-01-14 18:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0f5071d953cf35fdb19d91215bc51d810907f517', 'message': 'Switch standalone scenario to use deployed ceph\n\nDepends-On: Icb785f015ee69d45dd513aef09fac625de421250\nChange-Id: Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b\n'}, {'number': 5, 'created': '2022-01-14 18:26:46.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/27b3c1f5997eedad9b8c21db415d5452c785a171', 'message': 'Switch standalone scenario to use deployed ceph\n\nDepends-On: Icb785f015ee69d45dd513aef09fac625de421250\nChange-Id: Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b\n'}]",10,824492,27b3c1f5997eedad9b8c21db415d5452c785a171,30,4,5,18002,,,0,"Switch standalone scenario to use deployed ceph

Depends-On: Icb785f015ee69d45dd513aef09fac625de421250
Change-Id: Ibaf5968b6b92c27d48ea6258c3700f1cbcaf359b
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/92/824492/5 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,59de56b5e6345a659868cc9166229f8bfd09ecf8,ceph_standalone," Establish an IP address on which Ceph will listen. Because the 192.168.24.0/24 network is not configured until `openstack tripleo deploy` is run, we need Ceph to run on a different network if we're going to deploy Ceph before the overcloud as described in :doc:`../features/deployed_ceph.rst`. Any IP on the VM may be used including the default IP, e.g. 192.168.122.252. .. code-block:: bash export CEPH_IP=192.168.122.252 Create an OSD spec file which references the block device with logical volumes created earlier. .. code-block:: bash cat <<EOF > $HOME/osd_spec.yaml data_devices: paths: - /dev/vg2/data-lv2 EOF Use the Ceph IP and OSD spec file to create a Ceph spec file which will describe the Ceph cluster. The `--standalone` option covers a special case for this scenario. .. code-block:: bash sudo openstack overcloud ceph spec \ --standalone \ --mon-ip $CEPH_IP \ --osd-spec osd_spec.yaml \ --output ceph_spec.yaml (to be continued) Create a ceph_parameters file to pass to the overcloud deployment. .. admonition:: Ceph :class: ceph To remove Ceph and its block device run the following. .. code-block:: bash FSID=$(sudo ls /var/lib/ceph) sudo cephadm rm-cluster --force --fsid $FSID sudo systemctl stop ceph-osd-losetup.service sudo systemctl disable ceph-osd-losetup.service sudo lvremove --force /dev/vg2/db-lv2 sudo lvremove --force --force /dev/vg2/data-lv2 sudo vgremove --force --force vg2 sudo pvremove --force --force /dev/loop3 sudo losetup -d /dev/loop3 sudo rm -f /var/lib/ceph-osd.img sudo partprobe"," Create an additional environment file which directs the ceph deployment tool to use the block device with logical volumes created earlier. Set the placement group and replica count to values which fit the number of OSDs being used, e.g. 8 and 1 are used for testing with only one OSD. CephOsdSpec: data_devices: paths: - /dev/vg2/data-lv2 CephConfigOverrides: mon: mon_warn_on_pool_no_redundancy: false CephPoolDefaultPgNum: 8 CephPoolDefaultSize: 1",56,14
openstack%2Fpython-tripleoclient~master~I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf,openstack/python-tripleoclient,master,I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf,Deprecate and unwire enable_nova UC option,MERGED,2022-02-01 09:51:55.000000000,2022-02-02 19:11:31.000000000,2022-02-02 19:07:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26343}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-01 09:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e5f26dcdd7a6f54a2bfc05e1c42645e2280d08b', 'message': ""Deprecate enable_nova UC option\n\nSince Wallaby Nova services aren't required in the Undercloud,\ntherefore deprecate the enable_nova flag from the undercloud.conf.\n\nAlso fix u118n for novajoin deprecation msg.\n\nChange-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-02-01 10:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/efe91297e3594a4eb7cb52f283218ba82f088adb', 'message': ""Deprecate enable_nova UC option.\n\nSince Wallaby Nova services aren't required in the Undercloud,\ntherefore deprecate the enable_nova flag from the undercloud.conf.\n\nThe undercloud-enable-nova.yaml env file will no longer be added\nto the deployment command, even if enable_nova is set in the config.\n\nAlso fix u118n for novajoin deprecation msg.\n\nRelated-bug: #1959662\nChange-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2022-02-01 11:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98fb1d896ecb262291a5c15daeddb15bc7a83797', 'message': ""Deprecate and unwire enable_nova UC option\n\nSince Wallaby Nova services aren't required in the Undercloud,\ntherefore deprecate the enable_nova flag from the undercloud.conf.\n\nThe undercloud-enable-nova.yaml env file will no longer be added\nto the deployment command, even if enable_nova is set in the config.\n\nRelated-bug: #1959662\nChange-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2022-02-01 12:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f58f354a704c816493c491a37d265672a39157c2', 'message': ""Deprecate and unwire enable_nova UC option\n\nSince Wallaby Nova services aren't required in the Undercloud,\ntherefore deprecate the enable_nova flag from the undercloud.conf.\n\nThe undercloud-enable-nova.yaml env file will no longer be added\nto the deployment command, even if enable_nova is set in the config.\n\nRelated-bug: #1959662\nChange-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2022-02-01 15:17:34.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3c8ecf325b3b00c0f3d60398966b8b0d8e68ad0', 'message': ""Deprecate and unwire enable_nova UC option\n\nSince Wallaby Nova services aren't required in the Undercloud,\ntherefore deprecate the enable_nova flag from the undercloud.conf.\n\nThe undercloud-enable-nova.yaml env file will no longer be added\nto the deployment command, even if enable_nova is set in the config.\n\nRelated-bug: #1959662\nChange-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",8,827257,a3c8ecf325b3b00c0f3d60398966b8b0d8e68ad0,22,11,5,6926,,,0,"Deprecate and unwire enable_nova UC option

Since Wallaby Nova services aren't required in the Undercloud,
therefore deprecate the enable_nova flag from the undercloud.conf.

The undercloud-enable-nova.yaml env file will no longer be added
to the deployment command, even if enable_nova is set in the config.

Related-bug: #1959662
Change-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/57/827257/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/standalone.py'],1,3e5f26dcdd7a6f54a2bfc05e1c42645e2280d08b,1959662," deprecated_for_removal=True, deprecated_reason=_('Nova is no longer required for ' 'the undercloud '), deprecated_reason=_('Support for the novajoin ' 'metadata service has been ' 'deprecated.'),"," deprecated_reason=('Support for the novajoin metadata ' 'service has been deprecated.'),",6,2
openstack%2Fpython-tripleoclient~master~I4450814bc2d25424a955150036f4cefc13847837,openstack/python-tripleoclient,master,I4450814bc2d25424a955150036f4cefc13847837,Introduce tripleo --ceph-vip to deployed Ceph,MERGED,2022-01-20 21:24:30.000000000,2022-02-02 19:09:57.000000000,2022-02-02 19:07:48.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-20 21:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8908ac13861c5c0968aaffdc32383f7612549dac', 'message': 'Introduce tripleo ceph vip provision command\n\nThis change introduce a new ceph vip provision cli command that\nhelp setting up the Ceph related VIPs starting from the service/\nnetwork mapping.\n\nDepends-On: I5c2e5caa1579af5cf206633447b92e8fdffdda16\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}, {'number': 2, 'created': '2022-01-26 09:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fc363cb6cbbecb0e02327e834c51ab39f50c4990', 'message': 'Introduce tripleo --ceph-vip to deployed Ceph\n\nThe current status of networkv2 allows to provision 1 vip per network,\nwhich means that using the new Ceph Ingress daemon (that requires 1\nvip per service) can break components that are still using the VIP\nprovisioned on the storage network (or any other network depending on\nthe tripleo-heat-templates override specified) and are managed by\npacemaker.\nOther services, like Redis and ovn, instead, create their own vips\nduring the overcloud deploy which is the same approach of this patch.\nA new option \'--ceph-vip\' for the ""openstack overcloud ceph deploy""\ncommand has been added. This option may be used to reserve VIP(s) for\neach Ceph service specified by the \'service/network\' mapping defined\nas input.\nThis option is required by the ingress daemon because VIPs should be\nreserved in advance.\n\nDepends-On: I5c2e5caa1579af5cf206633447b92e8fdffdda16\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}, {'number': 3, 'created': '2022-01-26 09:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f509125648139d43ca525ba5ee9b71ad2a73f83', 'message': 'Introduce tripleo --ceph-vip to deployed Ceph\n\nThe current status of networkv2 allows to provision 1 vip per network,\nwhich means that using the new Ceph Ingress daemon (that requires 1\nvip per service) can break components that are still using the VIP\nprovisioned on the storage network (or any other network depending on\nthe tripleo-heat-templates override specified) and are managed by\npacemaker.\nOther services, like Redis and ovn, instead, create their own vips\nduring the overcloud deploy which is the same approach of this patch.\nA new option \'--ceph-vip\' for the ""openstack overcloud ceph deploy""\ncommand has been added. This option may be used to reserve VIP(s) for\neach Ceph service specified by the \'service/network\' mapping defined\nas input.\nThis option is required by the ingress daemon because VIPs should be\nreserved in advance.\n\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}, {'number': 4, 'created': '2022-01-26 13:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c6576d3e535cb095f57586c9d0d7258be5979ed5', 'message': 'Introduce tripleo --ceph-vip to deployed Ceph\n\nThe current status of networkv2 allows to provision 1 vip per network,\nwhich means that using the new Ceph Ingress daemon (that requires 1\nvip per service) can break components that are still using the VIP\nprovisioned on the storage network (or any other network depending on\nthe tripleo-heat-templates override specified) and are managed by\npacemaker.\nOther services, like Redis and ovn, instead, create their own vips\nduring the overcloud deploy which is the same approach of this patch.\nA new option \'--ceph-vip\' for the ""openstack overcloud ceph deploy""\ncommand has been added. This option may be used to reserve VIP(s) for\neach Ceph service specified by the \'service/network\' mapping defined\nas input.\nThis option is required by the ingress daemon because VIPs should be\nreserved in advance.\n\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}, {'number': 5, 'created': '2022-02-01 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fbfd882625f3e108765a1b30248405fa0ec4d393', 'message': 'Introduce tripleo --ceph-vip to deployed Ceph\n\nThe current status of networkv2 allows to provision 1 vip per network,\nwhich means that using the new Ceph Ingress daemon (that requires 1\nvip per service) can break components that are still using the VIP\nprovisioned on the storage network (or any other network depending on\nthe tripleo-heat-templates override specified) and are managed by\npacemaker.\nOther services, like Redis and ovn, instead, create their own vips\nduring the overcloud deploy which is the same approach of this patch.\nA new option \'--ceph-vip\' for the ""openstack overcloud ceph deploy""\ncommand has been added. This option may be used to reserve VIP(s) for\neach Ceph service specified by the \'service/network\' mapping defined\nas input.\nThis option is required by the ingress daemon because VIPs should be\nreserved in advance.\n\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}, {'number': 6, 'created': '2022-02-01 15:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/063282a059a53b94705abff2d42128c4977d88dd', 'message': 'Introduce tripleo --ceph-vip to deployed Ceph\n\nThe current status of networkv2 allows to provision 1 vip per network,\nwhich means that using the new Ceph Ingress daemon (that requires 1\nvip per service) can break components that are still using the VIP\nprovisioned on the storage network (or any other network depending on\nthe tripleo-heat-templates override specified) and are managed by\npacemaker.\nOther services, like Redis and ovn, instead, create their own vips\nduring the overcloud deploy which is the same approach of this patch.\nA new option \'--ceph-vip\' for the ""openstack overcloud ceph deploy""\ncommand has been added. This option may be used to reserve VIP(s) for\neach Ceph service specified by the \'service/network\' mapping defined\nas input.\nThis option is required by the ingress daemon because VIPs should be\nreserved in advance.\n\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}, {'number': 7, 'created': '2022-02-01 16:24:28.000000000', 'files': ['tripleoclient/v2/overcloud_ceph.py', 'releasenotes/notes/ceph_vip_provisioning-dcac72d62c70c57c.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f911410b896f68fca038967b1dde0f9df21aeb83', 'message': 'Introduce tripleo --ceph-vip to deployed Ceph\n\nThe current status of networkv2 allows to provision 1 vip per network,\nwhich means that using the new Ceph Ingress daemon (that requires 1\nvip per service) can break components that are still using the VIP\nprovisioned on the storage network (or any other network depending on\nthe tripleo-heat-templates override specified) and are managed by\npacemaker.\nOther services, like Redis and ovn, instead, create their own vips\nduring the overcloud deploy which is the same approach of this patch.\nA new option \'--ceph-vip\' for the ""openstack overcloud ceph deploy""\ncommand has been added. This option may be used to reserve VIP(s) for\neach Ceph service specified by the \'service/network\' mapping defined\nas input.\nThis option is required by the ingress daemon because VIPs should be\nreserved in advance.\n\nChange-Id: I4450814bc2d25424a955150036f4cefc13847837\n'}]",27,825679,f911410b896f68fca038967b1dde0f9df21aeb83,35,7,7,25402,,,0,"Introduce tripleo --ceph-vip to deployed Ceph

The current status of networkv2 allows to provision 1 vip per network,
which means that using the new Ceph Ingress daemon (that requires 1
vip per service) can break components that are still using the VIP
provisioned on the storage network (or any other network depending on
the tripleo-heat-templates override specified) and are managed by
pacemaker.
Other services, like Redis and ovn, instead, create their own vips
during the overcloud deploy which is the same approach of this patch.
A new option '--ceph-vip' for the ""openstack overcloud ceph deploy""
command has been added. This option may be used to reserve VIP(s) for
each Ceph service specified by the 'service/network' mapping defined
as input.
This option is required by the ingress daemon because VIPs should be
reserved in advance.

Change-Id: I4450814bc2d25424a955150036f4cefc13847837
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/825679/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_ceph.py', 'releasenotes/notes/ceph_vip_provisioning_command-dcac72d62c70c57c.yaml', 'setup.cfg', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",4,8908ac13861c5c0968aaffdc32383f7612549dac,ceph_vip_provision," class TestOvercloudCephVipProvision(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudCephVipProvision, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.cmd = overcloud_ceph.OvercloudCephVipProvision(self.app, app_args) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs): arglist = ['--ceph-vip', 'ceph_services_vip.yaml', '--yes', '--stack', 'overcloud', '--output', 'ceph_vip_mapping.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-ceph-vip-provision.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, reproduce_command=False, extra_vars={ 'ceph_services_path': mock.ANY, 'render_path': mock.ANY, } )",,154,0
openstack%2Fpuppet-tripleo~master~I5d085b20c06057515ae48ffdfa3dcb5705a4fd63,openstack/puppet-tripleo,master,I5d085b20c06057515ae48ffdfa3dcb5705a4fd63,logrotate: Remove redundant blank lines,MERGED,2022-02-02 00:25:40.000000000,2022-02-02 19:07:45.000000000,2022-02-02 19:07:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 00:25:40.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/70eb69d46849572b4c0fc66b464cb4cb692e35a1', 'message': 'logrotate: Remove redundant blank lines\n\nCurrent logrotate.conf includes multiple blank lines. This change\nremoves these lines to make the file minimum and more readable.\n\nChange-Id: I5d085b20c06057515ae48ffdfa3dcb5705a4fd63\n'}]",1,827380,70eb69d46849572b4c0fc66b464cb4cb692e35a1,8,4,1,9816,,,0,"logrotate: Remove redundant blank lines

Current logrotate.conf includes multiple blank lines. This change
removes these lines to make the file minimum and more readable.

Change-Id: I5d085b20c06057515ae48ffdfa3dcb5705a4fd63
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/80/827380/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/logrotate/containers_logrotate.conf.erb'],1,70eb69d46849572b4c0fc66b464cb4cb692e35a1,,<%- if @notifempty -%><%- end -%> <%- if @copytruncate -%><%- end -%> <%- if @delaycompress -%><%- end -%> <%- if @compress -%><%- end -%> <%- if @dateext -%><%- if @dateformat -%><%- end -%> <%- if @dateyesterday -%><%- end -%> <%- end -%>,<%- if @notifempty %><%- end %> <%- if @copytruncate %><%- end %> <%- if @delaycompress %><%- end %> <%- if @compress %><%- end %> <%- if @dateext %><%- if @dateformat %><%- end %> <%- if @dateyesterday %><%- end %> <%- end %>,14,14
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/xena,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-02 09:37:06.000000000,2022-02-02 18:53:20.000000000,2022-02-02 18:53:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 09:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/27601b5396650219da41de36e00dd81e777c5521', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n'}, {'number': 2, 'created': '2022-02-02 09:43:45.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n'}]",1,827457,8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0,11,5,2,9816,,,0,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/57/827457/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,27601b5396650219da41de36e00dd81e777c5521,," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}-stream/storage/x86_64/ceph-${CEPH_VERSION}/"""," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}/storage/x86_64/ceph-${CEPH_VERSION}/""",2,2
openstack%2Foslo.cache~stable%2Fxena~I24fc853db4237c08b87871ddff1b3ced27cc7fce,openstack/oslo.cache,stable/xena,I24fc853db4237c08b87871ddff1b3ced27cc7fce,Expose pymemcache's HashClient public params,MERGED,2022-01-27 08:04:57.000000000,2022-02-02 18:21:27.000000000,2022-02-02 18:16:51.000000000,"[{'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-27 08:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/73e6deafed2736bd4e3cf7af905c8516f981316d', 'message': ""Expose pymemcache's HashClient public params\n\nThis patch expose a couple of pymemcache's HashClient public\nparams that can be useful to configure HA and failover for\nclustered memcached servers.\n\nThese options can be used in addition of the previously added\nretrying mechanismes.\n\nThis patch rely on recent changes [1] of dogpile.cache that\naim to expose these options too.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n\nChange-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce\n(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)\n""}, {'number': 2, 'created': '2022-01-31 08:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5dc67192ee18e8be6ce91d578ebb185b832b6d42', 'message': ""Expose pymemcache's HashClient public params\n\nThis patch expose a couple of pymemcache's HashClient public\nparams that can be useful to configure HA and failover for\nclustered memcached servers.\n\nThese options can be used in addition of the previously added\nretrying mechanismes.\n\nThis patch rely on recent changes [1] of dogpile.cache that\naim to expose these options too.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/826995\nChange-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce\n(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)\n""}, {'number': 3, 'created': '2022-01-31 13:37:57.000000000', 'files': ['requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'releasenotes/notes/pymemcache_hashclient_configure-f6f48c5ca38bce47.yaml', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/55cb199f90b27cef203bca8edb9431f9d7ed841c', 'message': ""Expose pymemcache's HashClient public params\n\nThis patch expose a couple of pymemcache's HashClient public\nparams that can be useful to configure HA and failover for\nclustered memcached servers.\n\nThese options can be used in addition of the previously added\nretrying mechanismes.\n\nThis patch rely on recent changes [1] of dogpile.cache that\naim to expose these options too.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n\nPartial-Bug: #1959562\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/826995\nChange-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce\n(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)\n""}]",4,826594,55cb199f90b27cef203bca8edb9431f9d7ed841c,15,4,3,28522,,,0,"Expose pymemcache's HashClient public params

This patch expose a couple of pymemcache's HashClient public
params that can be useful to configure HA and failover for
clustered memcached servers.

These options can be used in addition of the previously added
retrying mechanismes.

This patch rely on recent changes [1] of dogpile.cache that
aim to expose these options too.

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528

Partial-Bug: #1959562
Depends-On: https://review.opendev.org/c/openstack/requirements/+/826995
Change-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce
(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/94/826594/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'releasenotes/notes/pymemcache_hashclient_configure-f6f48c5ca38bce47.yaml', 'oslo_cache/tests/unit/test_cache_basics.py']",5,73e6deafed2736bd4e3cf7af905c8516f981316d,xena," def test_cache_pymemcache_retry_with_extra_opts(self): """"""Validate we build a valid config for the retry client."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_retry_client=True, retry_attempts=42, retry_delay=42, hashclient_retry_attempts=100, hashclient_retry_delay=100, dead_timeout=100) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_retry_client) self.assertEqual( config_dict['test_prefix.arguments.retry_attempts'], 42 ) self.assertEqual( config_dict['test_prefix.arguments.retry_delay'], 42 ) self.assertEqual( config_dict['test_prefix.arguments.hashclient_retry_attempts'], 100 ) self.assertEqual( config_dict['test_prefix.arguments.hashclient_retry_delay'], 100 ) self.assertEqual( config_dict['test_prefix.arguments.dead_timeout'], 100 ) ",,75,1
openstack%2Foslo.cache~stable%2Fxena~I501100e1a48cdd4e094c08046e2150405dcf371e,openstack/oslo.cache,stable/xena,I501100e1a48cdd4e094c08046e2150405dcf371e,Add socket keepalive options to oslo.cache,MERGED,2022-01-27 08:00:57.000000000,2022-02-02 18:19:17.000000000,2022-02-02 18:16:48.000000000,"[{'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-27 08:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e353f3d1607c04593cd7383b0e9e92bb5a2563a6', 'message': ""Add socket keepalive options to oslo.cache\n\nThis patch specifies a set of options required to setup the\nsocket keepalive of the dogpile.cache's pymemcache\nbackend [1][2]. This setup from those options can later on\nbe passed to this backend.\n\nThis patch also sets up the socket keepalive object based on\nthe configuration options passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nDogpile.cache will be used as an interface between oslo.cache and\npymemcache [3].\n\nThis patch is needed to fix a TLS issue on stable branches introduced by pymemcache (since train), where if a cluster node disappear the client will fail without retrying to reconnect or to switch to an other node of the cluster.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/pull/205\n[2]\nhttps://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923\n[3]\nhttps://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive\n\nChange-Id: I501100e1a48cdd4e094c08046e2150405dcf371e\n(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)\n""}, {'number': 2, 'created': '2022-01-27 08:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ac170557938984f136ab5d343a0fe4a1368b38db', 'message': ""Add socket keepalive options to oslo.cache\n\nThis patch specifies a set of options required to setup the\nsocket keepalive of the dogpile.cache's pymemcache\nbackend [1][2]. This setup from those options can later on\nbe passed to this backend.\n\nThis patch also sets up the socket keepalive object based on\nthe configuration options passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nDogpile.cache will be used as an interface between oslo.cache and\npymemcache [3].\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/pull/205\n[2]\nhttps://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923\n[3]\nhttps://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive\n\nChange-Id: I501100e1a48cdd4e094c08046e2150405dcf371e\n(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)\n""}, {'number': 3, 'created': '2022-01-31 13:37:57.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'doc/requirements.txt', 'releasenotes/notes/pymemcache_socket_keepalive-f91c69770961e2b6.yaml', 'setup.cfg', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2ad2d52f4ecb63d9edfe3ae64cd9b7dece5330a0', 'message': ""Add socket keepalive options to oslo.cache\n\nThis patch specifies a set of options required to setup the\nsocket keepalive of the dogpile.cache's pymemcache\nbackend [1][2]. This setup from those options can later on\nbe passed to this backend.\n\nThis patch also sets up the socket keepalive object based on\nthe configuration options passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nDogpile.cache will be used as an interface between oslo.cache and\npymemcache [3].\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/pull/205\n[2]\nhttps://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923\n[3]\nhttps://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive\n\nPartial-Bug: #1959562\nChange-Id: I501100e1a48cdd4e094c08046e2150405dcf371e\n(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)\n""}]",8,826569,2ad2d52f4ecb63d9edfe3ae64cd9b7dece5330a0,17,4,3,28522,,,0,"Add socket keepalive options to oslo.cache

This patch specifies a set of options required to setup the
socket keepalive of the dogpile.cache's pymemcache
backend [1][2]. This setup from those options can later on
be passed to this backend.

This patch also sets up the socket keepalive object based on
the configuration options passed via oslo.config and adds it
as an argument to be passed to the selected oslo.cache backend.

Dogpile.cache will be used as an interface between oslo.cache and
pymemcache [3].

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

[1] https://github.com/sqlalchemy/dogpile.cache/pull/205
[2]
https://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923
[3]
https://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive

Partial-Bug: #1959562
Change-Id: I501100e1a48cdd4e094c08046e2150405dcf371e
(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/69/826569/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'doc/requirements.txt', 'releasenotes/notes/pymemcache_socket_keepalive-f91c69770961e2b6.yaml', 'setup.cfg', 'oslo_cache/tests/unit/test_cache_basics.py']",8,e353f3d1607c04593cd7383b0e9e92bb5a2563a6,xena,"from pymemcache import KeepaliveOpts def test_cache_pymemcache_socket_kalive_enabled_with_wrong_backend(self): """"""Validate we build a config without the retry option when retry is disabled. """""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='oslo_cache.dict', enable_socket_keepalive=True) self.assertRaises( exception.ConfigurationError, cache._build_cache_config, self.config_fixture.conf ) def test_cache_pymemcache_socket_keepalive_disabled(self): """"""Validate we build a dogpile.cache dict config without keepalive."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', socket_keepalive_idle=2, socket_keepalive_interval=2, socket_keepalive_count=2) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertFalse( self.config_fixture.conf.cache.enable_socket_keepalive) self.assertNotIn( 'test_prefix.arguments.socket_keepalive', config_dict) def test_cache_pymemcache_socket_keepalive_enabled(self): """"""Validate we build a dogpile.cache dict config with keepalive."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_socket_keepalive=True) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_socket_keepalive) self.assertIsInstance( config_dict['test_prefix.arguments.socket_keepalive'], KeepaliveOpts ) def test_cache_pymemcache_socket_keepalive_with_config(self): """"""Validate we build a socket keepalive with the right config."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_socket_keepalive=True, socket_keepalive_idle=12, socket_keepalive_interval=38, socket_keepalive_count=42) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_socket_keepalive) self.assertTrue( config_dict['test_prefix.arguments.socket_keepalive'], KeepaliveOpts ) self.assertEqual( 12, config_dict['test_prefix.arguments.socket_keepalive'].idle ) self.assertEqual( 38, config_dict['test_prefix.arguments.socket_keepalive'].intvl ) self.assertEqual( 42, config_dict['test_prefix.arguments.socket_keepalive'].cnt ) ",,144,2
openstack%2Foslo.cache~stable%2Fxena~I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c,openstack/oslo.cache,stable/xena,I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c,Add retry mechanisms to oslo.cache,MERGED,2022-01-27 08:04:57.000000000,2022-02-02 18:16:49.000000000,2022-02-02 18:16:49.000000000,"[{'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 08:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a07444ab7cc5f2ee2d9d2f435a2e2143ea53f34d', 'message': ""Add retry mechanisms to oslo.cache\n\nThis patch specifies a set of options required to setup a retry\ncontext.  The context built from those options can later on be\npassed to any of the oslo.cache backends that supports pymemcache's\nretry mechanisms.\n\nThis patch also sets up the retry mechanisms context based on\nthe configuration option passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\nChange-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c\n(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)\n""}, {'number': 2, 'created': '2022-01-31 13:37:57.000000000', 'files': ['releasenotes/notes/pymemcache_retry_mecchanisms-fa969d1ac6f64096.yaml', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/23e8e9a9f45956ef7ea74d3d443e518f13b43477', 'message': ""Add retry mechanisms to oslo.cache\n\nThis patch specifies a set of options required to setup a retry\ncontext.  The context built from those options can later on be\npassed to any of the oslo.cache backends that supports pymemcache's\nretry mechanisms.\n\nThis patch also sets up the retry mechanisms context based on\nthe configuration option passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\nPartial-Bug: #1959562\nChange-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c\n(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)\n""}]",3,826593,23e8e9a9f45956ef7ea74d3d443e518f13b43477,11,3,2,28522,,,0,"Add retry mechanisms to oslo.cache

This patch specifies a set of options required to setup a retry
context.  The context built from those options can later on be
passed to any of the oslo.cache backends that supports pymemcache's
retry mechanisms.

This patch also sets up the retry mechanisms context based on
the configuration option passed via oslo.config and adds it
as an argument to be passed to the selected oslo.cache backend.

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

Partial-Bug: #1959562
Change-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c
(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/93/826593/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pymemcache_retry_mecchanisms-fa969d1ac6f64096.yaml', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py']",4,a07444ab7cc5f2ee2d9d2f435a2e2143ea53f34d,xena," def test_cache_pymemcache_retry_enabled_with_wrong_backend(self): """"""Validate we build a config without the retry option when retry is disabled. """""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='oslo_cache.dict', enable_retry_client=True, retry_attempts=2, retry_delay=2) self.assertRaises( exception.ConfigurationError, cache._build_cache_config, self.config_fixture.conf ) def test_cache_pymemcache_retry_disabled(self): """"""Validate we build a config without the retry option when retry is disabled. """""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', retry_attempts=2, retry_delay=2) config_dict = cache._build_cache_config(self.config_fixture.conf) opts = ['enable_retry_client', 'retry_attempts', 'retry_delay'] for el in opts: self.assertNotIn('test_prefix.arguments.{}'.format(el), config_dict) def test_cache_pymemcache_retry_enabled(self): """"""Validate we build a dogpile.cache dict config with retry."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_retry_client=True) config_dict = cache._build_cache_config(self.config_fixture.conf) opts = ['enable_retry_client', 'retry_attempts', 'retry_delay'] for el in opts: self.assertIn('test_prefix.arguments.{}'.format(el), config_dict) def test_cache_pymemcache_retry_with_opts(self): """"""Validate we build a valid config for the retry client."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_retry_client=True, retry_attempts=42, retry_delay=42) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_retry_client) self.assertEqual( config_dict['test_prefix.arguments.retry_attempts'], 42 ) self.assertEqual( config_dict['test_prefix.arguments.retry_delay'], 42 ) ",,117,0
openstack%2Fpuppet-ceilometer~master~Idb2fe7e5573103d9e7ef36652fc2b4252418cdc3,openstack/puppet-ceilometer,master,Idb2fe7e5573103d9e7ef36652fc2b4252418cdc3,Add HashClient retry options for the dogpile.cache backend,MERGED,2022-01-31 10:34:06.000000000,2022-02-02 18:13:20.000000000,2022-02-02 18:11:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 10:34:06.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/add_cache_hashclient_retry_options-474e86180db9699f.yaml', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b13732ce19965d663b660abca76ecf617881d03f', 'message': 'Add HashClient retry options for the dogpile.cache backend\n\nThis patch specifies a set of options required to setup the HashClient\nretry feature of dogpile.cache cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/824944\n\nDepends-On: https://review.opendev.org/826870\nChange-Id: Idb2fe7e5573103d9e7ef36652fc2b4252418cdc3\n'}]",2,827044,b13732ce19965d663b660abca76ecf617881d03f,16,4,1,14250,,,0,"Add HashClient retry options for the dogpile.cache backend

This patch specifies a set of options required to setup the HashClient
retry feature of dogpile.cache cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/824944

Depends-On: https://review.opendev.org/826870
Change-Id: Idb2fe7e5573103d9e7ef36652fc2b4252418cdc3
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/44/827044/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/add_cache_hashclient_retry_options-474e86180db9699f.yaml', 'spec/classes/ceilometer_init_spec.rb']",3,b13732ce19965d663b660abca76ecf617881d03f,oslo.cache.2.10.0," :hashclient_retry_attempts => '<SERVICE DEFAULT>', :hashclient_retry_delay => '<SERVICE DEFAULT>', :dead_timeout => '<SERVICE DEFAULT>', :cache_hashclient_retry_attempts => 2, :cache_hashclient_retry_delay => 1, :cache_dead_timeout => 60, :hashclient_retry_attempts => 2, :hashclient_retry_delay => 1, :dead_timeout => 60,",,36,0
openstack%2Fopenstack-helm-images~master~Ieaf35d935381416b0acd93113ed26cf981e7461b,openstack/openstack-helm-images,master,Ieaf35d935381416b0acd93113ed26cf981e7461b,Fix gates,MERGED,2022-02-02 17:13:51.000000000,2022-02-02 18:11:41.000000000,2022-02-02 18:07:01.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2022-02-02 17:13:51.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'mini-mirror/tools/install_aptly.sh', 'ceph-daemon/Dockerfile.ubuntu_bionic', 'ospurge/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c30e92f2018f6149a5f4e19a4a2bbbfa0219a800', 'message': 'Fix gates\n\nFixes get-pip url\nUpdates go to 1.17.6 for mini-mirror\n\nChange-Id: Ieaf35d935381416b0acd93113ed26cf981e7461b\nSigned-off-by: Andrii Ostapenko <aostapenko@microsoft.com>\n'}]",0,827531,c30e92f2018f6149a5f4e19a4a2bbbfa0219a800,8,3,1,8863,,,0,"Fix gates

Fixes get-pip url
Updates go to 1.17.6 for mini-mirror

Change-Id: Ieaf35d935381416b0acd93113ed26cf981e7461b
Signed-off-by: Andrii Ostapenko <aostapenko@microsoft.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/31/827531/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_bionic', 'mini-mirror/tools/install_aptly.sh', 'ceph-daemon/Dockerfile.ubuntu_bionic', 'ospurge/Dockerfile.ubuntu_bionic']",4,c30e92f2018f6149a5f4e19a4a2bbbfa0219a800,, && curl -sSL https://bootstrap.pypa.io/pip/3.6/get-pip.py | python3, && curl -sSL https://bootstrap.pypa.io/get-pip.py | python3,4,4
openstack%2Fpuppet-ceilometer~master~I6ab9dcd40678d98aceed8fe28658b984b41a63cb,openstack/puppet-ceilometer,master,I6ab9dcd40678d98aceed8fe28658b984b41a63cb,Add cache client retry options for the pymemcache backend,MERGED,2022-01-31 09:58:08.000000000,2022-02-02 18:05:11.000000000,2022-02-02 17:59:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 09:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8cdf2182ff1860a3e9bde213fff1c372d09936a2', 'message': 'Add cache client retry options for the pymemcache backend\n\nThis patch specifies a set of options required to setup the retrying\nwrapper feature of pymemcache (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/803747\n\nDepends-On: https://review.opendev.org/826869\nChange-Id: I6ab9dcd40678d98aceed8fe28658b984b41a63cb\n'}, {'number': 2, 'created': '2022-01-31 10:34:06.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/add_cache_retry_options-7c3b07c02f883861.yaml', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f1a4758061798b9380cd43b6bdf09aeba9eea75a', 'message': 'Add cache client retry options for the pymemcache backend\n\nThis patch specifies a set of options required to setup the retrying\nwrapper feature of pymemcache (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/803747\n\nDepends-On: https://review.opendev.org/826869\nChange-Id: I6ab9dcd40678d98aceed8fe28658b984b41a63cb\n'}]",2,827008,f1a4758061798b9380cd43b6bdf09aeba9eea75a,17,4,2,14250,,,0,"Add cache client retry options for the pymemcache backend

This patch specifies a set of options required to setup the retrying
wrapper feature of pymemcache (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/803747

Depends-On: https://review.opendev.org/826869
Change-Id: I6ab9dcd40678d98aceed8fe28658b984b41a63cb
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/08/827008/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/add_cache_retry_options-7c3b07c02f883861.yaml', 'spec/classes/ceilometer_init_spec.rb']",3,8cdf2182ff1860a3e9bde213fff1c372d09936a2,oslo.cache.2.10.0," :enable_retry_client => '<SERVICE DEFAULT>', :retry_attempts => '<SERVICE DEFAULT>', :retry_delay => '<SERVICE DEFAULT>', :cache_enable_retry_client => false, :cache_retry_attempts => 2, :cache_retry_delay => 0, :cache_enable_retry_client => false, :cache_retry_attempts => 2, :cache_retry_delay => 0,",,34,0
openstack%2Fvalidations-libs~master~I55574f92d4b3934a4b4f14bf3dbd575c740d56b2,openstack/validations-libs,master,I55574f92d4b3934a4b4f14bf3dbd575c740d56b2,Migrate jobs from CentOS 8 to CentOS 8 Stream,MERGED,2022-01-12 00:54:10.000000000,2022-02-02 18:00:35.000000000,2022-02-02 18:00:35.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-12 00:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7e8f86ee3e031af3c9bc5ca53073cba817784a22', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I55574f92d4b3934a4b4f14bf3dbd575c740d56b2\n'}, {'number': 2, 'created': '2022-01-18 05:31:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d4f93d4b5dcd0b44b744338fc5e08f6eac3df2d5', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I55574f92d4b3934a4b4f14bf3dbd575c740d56b2\n'}]",0,824264,d4f93d4b5dcd0b44b744338fc5e08f6eac3df2d5,9,4,2,9816,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: I55574f92d4b3934a4b4f14bf3dbd575c740d56b2
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/64/824264/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e8f86ee3e031af3c9bc5ca53073cba817784a22,remove-centos-8, nodeset: centos-8-stream nodeset: centos-8-stream, nodeset: centos-8 nodeset: centos-8,2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1b1ffdd68501d61a03d8153c4fc538b6d26c8344,openstack/tripleo-heat-templates,stable/train,I1b1ffdd68501d61a03d8153c4fc538b6d26c8344,Wallaby and older: Remove heat-dashboard parameters from local_settings,MERGED,2022-01-13 14:48:48.000000000,2022-02-02 18:00:32.000000000,2022-02-02 18:00:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-13 14:48:48.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b437b5eef82e4751f00b2bb6ac2885e492b1c98', 'message': 'Wallaby and older: Remove heat-dashboard parameters from local_settings\n\nThis change ensures the parameters for heat-dashboard are removed\nfrom the base local_settings, because the parameters are now configured\nin the independent setting files.\n\nNote this change is required only in Wallaby and older and since Xena\nthe parameters are no longer included in the base local_settings.\n\nConflicts:\n\tdeployment/horizon/horizon-container-puppet.yaml\n\nDepends-on: https://review.opendev.org/824542\nDepends-on: https://review.opendev.org/816332\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n(cherry picked from commit ff66c15547e6b1dbfe31d79b5852099ba16384ac)\n(cherry picked from commit fdcd81de3e20ba6df2aafb1be64e5cd81136d3ab)\n(cherry picked from commit 2c4fb647de5857db7fa1e25c02355e5421588b25)\n'}]",2,824545,2b437b5eef82e4751f00b2bb6ac2885e492b1c98,15,6,1,9816,,,0,"Wallaby and older: Remove heat-dashboard parameters from local_settings

This change ensures the parameters for heat-dashboard are removed
from the base local_settings, because the parameters are now configured
in the independent setting files.

Note this change is required only in Wallaby and older and since Xena
the parameters are no longer included in the base local_settings.

Conflicts:
	deployment/horizon/horizon-container-puppet.yaml

Depends-on: https://review.opendev.org/824542
Depends-on: https://review.opendev.org/816332
Change-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344
(cherry picked from commit ff66c15547e6b1dbfe31d79b5852099ba16384ac)
(cherry picked from commit fdcd81de3e20ba6df2aafb1be64e5cd81136d3ab)
(cherry picked from commit 2c4fb647de5857db7fa1e25c02355e5421588b25)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/824545/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,2b437b5eef82e4751f00b2bb6ac2885e492b1c98,puppet-horizon-dashboards-stable/train," # NOTE(tkajinam): The heat-dashboard parmaeters are now defined in an independent file, # so should be removed from the base local_settings. horizon::enable_user_pass: 'UNSET'",,3,0
openstack%2Fmonasca-common~stable%2Fxena~I90e7882867f54a49bbf7a8d71bd1389ebb41bceb,openstack/monasca-common,stable/xena,I90e7882867f54a49bbf7a8d71bd1389ebb41bceb,Set specific Alpine repository for libress library,MERGED,2022-01-30 18:48:12.000000000,2022-02-02 17:31:09.000000000,2022-02-02 17:31:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-01-30 18:48:12.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/0762d6234b7946971bff3a0a6dae6a4fe645270f', 'message': ""Set specific Alpine repository for libress library\n\nlibressl3.3 isn't anymore present in edge repository but in\nv3.14\n\nChange-Id: I90e7882867f54a49bbf7a8d71bd1389ebb41bceb\n""}]",4,826971,0762d6234b7946971bff3a0a6dae6a4fe645270f,18,2,1,28062,,,0,"Set specific Alpine repository for libress library

libressl3.3 isn't anymore present in edge repository but in
v3.14

Change-Id: I90e7882867f54a49bbf7a8d71bd1389ebb41bceb
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/71/826971/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,0762d6234b7946971bff3a0a6dae6a4fe645270f,, --repository=http://dl-cdn.alpinelinux.org/alpine/v3.14/main \ --repository=http://dl-cdn.alpinelinux.org/alpine/v3.14/community && \, --repository=http://dl-cdn.alpinelinux.org/alpine/edge/main \ --repository=http://dl-cdn.alpinelinux.org/alpine/edge/community && \,2,2
openstack%2Fnova~master~If39db50fd8b109a5a13dec70f8030f3663555065,openstack/nova,master,If39db50fd8b109a5a13dec70f8030f3663555065,docs: Add a new cells v2 document,MERGED,2021-10-19 11:52:31.000000000,2022-02-02 17:04:21.000000000,2022-02-02 17:01:13.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 11:52:31.000000000', 'files': ['doc/source/admin/upgrades.rst', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/user/cells.rst', 'doc/source/admin/cells.rst', 'doc/test/redirect-tests.txt', 'doc/source/admin/configuration/cross-cell-resize.rst', 'doc/source/index.rst', 'doc/source/user/cellsv2-layout.rst', 'doc/source/admin/configuring-migrations.rst', 'doc/source/admin/troubleshooting/affinity-policy-violated.rst', 'doc/source/user/architecture.rst', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/13b06ebb1cea239f96a3426eb30f1ad42a0ff7ed', 'message': ""docs: Add a new cells v2 document\n\nWe currently have three cells v2 documents in-tree:\n\n- A 'user/cellsv2-layout' document that details the structure or\n  architecture of a cells v2 deployment (which is to say, any modern\n  nova deployment)\n- A 'user/cells' document, which is written from a pre-cells v2\n  viewpoint and details the changes that cells v2 *will* require and the\n  benefits it *would* bring. It also includes steps for upgrading from\n  pre-cells v2 (that is, pre-Pike) deployment or a deployment with cells\n  v1 (which we removed in Train and probably broke long before)\n- An 'admin/cells' document, which doesn't contain much other than some\n  advice for handling down cells\n\nClearly there's a lot of cruft to be cleared out as well as some\ncentralization of information that's possible. As such, we combine all\nof these documents into one document, 'admin/cells'. This is chosen over\n'users/cells' since cells are not an end-user-facing feature. References\nto cells v1 and details on upgrading from pre-cells v2 deployments are\nmostly dropped, as are some duplicated installation/configuration steps.\nFormatting is fixed and Sphinx-isms used to cross reference config\noption where possible. Finally, redirects are added so that people can\ncontinue to find the relevant resources. The result is (hopefully) a\none stop shop for all things cells v2-related that operators can use to\nconfigure and understand their deployments.\n\nChange-Id: If39db50fd8b109a5a13dec70f8030f3663555065\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",29,814562,13b06ebb1cea239f96a3426eb30f1ad42a0ff7ed,13,3,1,15334,,,0,"docs: Add a new cells v2 document

We currently have three cells v2 documents in-tree:

- A 'user/cellsv2-layout' document that details the structure or
  architecture of a cells v2 deployment (which is to say, any modern
  nova deployment)
- A 'user/cells' document, which is written from a pre-cells v2
  viewpoint and details the changes that cells v2 *will* require and the
  benefits it *would* bring. It also includes steps for upgrading from
  pre-cells v2 (that is, pre-Pike) deployment or a deployment with cells
  v1 (which we removed in Train and probably broke long before)
- An 'admin/cells' document, which doesn't contain much other than some
  advice for handling down cells

Clearly there's a lot of cruft to be cleared out as well as some
centralization of information that's possible. As such, we combine all
of these documents into one document, 'admin/cells'. This is chosen over
'users/cells' since cells are not an end-user-facing feature. References
to cells v1 and details on upgrading from pre-cells v2 deployments are
mostly dropped, as are some duplicated installation/configuration steps.
Formatting is fixed and Sphinx-isms used to cross reference config
option where possible. Finally, redirects are added so that people can
continue to find the relevant resources. The result is (hopefully) a
one stop shop for all things cells v2-related that operators can use to
configure and understand their deployments.

Change-Id: If39db50fd8b109a5a13dec70f8030f3663555065
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/814562/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades.rst', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/user/cells.rst', 'doc/source/admin/cells.rst', 'doc/test/redirect-tests.txt', 'doc/source/admin/configuration/cross-cell-resize.rst', 'doc/source/index.rst', 'doc/source/user/cellsv2-layout.rst', 'doc/source/admin/configuring-migrations.rst', 'doc/source/admin/troubleshooting/affinity-policy-violated.rst', 'doc/source/user/architecture.rst', 'doc/source/_extra/.htaccess']",13,13b06ebb1cea239f96a3426eb30f1ad42a0ff7ed,docs,redirectmatch 301 ^/nova/([^/]+)/cells.html$ /nova/$1/admin/cells.htmlredirectmatch 301 ^/nova/([^/]+)/devref/cells.html /nova/$1/admin/cells.htmlredirectmatch 301 ^/nova/([^/]+)/user/cells.html$ /nova/$1/admin/cells.html redirectmatch 301 ^/nova/([^/]+)/user/cellsv2-layout.html$ /nova/$1/admin/cells.html redirectmatch 301 ^/nova/([^/]+)/user/cellsv2_layout.html$ /nova/$1/admin/cells.html,redirectmatch 301 ^/nova/([^/]+)/cells.html$ /nova/$1/user/cells.htmlredirectmatch 301 ^/nova/([^/]+)/devref/cells.html /nova/$1/user/cells.htmlredirectmatch 301 ^/nova/([^/]+)/user/cellsv2_layout.html$ /nova/$1/user/cellsv2-layout.html,1146,1233
openstack%2Fproject-config~master~Ied14dc7188e27e2a4b144d597b696ee85f25721d,openstack/project-config,master,Ied14dc7188e27e2a4b144d597b696ee85f25721d,Add py36 variant of get-pip.py,MERGED,2022-02-02 07:10:13.000000000,2022-02-02 16:58:55.000000000,2022-02-02 16:27:49.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 07:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/df6f7464b39b960aee3a49596dd98906d30f30c7', 'message': ""Add py36 variant of get-pip.py\n\nThe common version of get-pip.py no longer supports python3.6 or older.\nDevstack has amended it's use of this file to use a stable version of\nthe installer for python3.6 [0]. Pre-cache this version in our images,\ntoo, so that it can be consumed in the CI.\n\n[0] https://review.opendev.org/#/q/Iab2c391d5388461fe9e9037cee81884ce8032e72\n\nChange-Id: Ied14dc7188e27e2a4b144d597b696ee85f25721d\n""}, {'number': 2, 'created': '2022-02-02 15:42:28.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-pip'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eebe545182366e74e1075bb5ff55377576881bf6', 'message': ""Add py36 variant of get-pip.py\n\nThe common version of get-pip.py no longer supports python3.6 or older.\nDevstack has amended it's use of this file to use a stable version of\nthe installer for python3.6 [0]. Pre-cache this version in our images,\ntoo, so that it can be consumed in the CI.\n\n[0] https://review.opendev.org/#/q/Iab2c391d5388461fe9e9037cee81884ce8032e72\n\nChange-Id: Ied14dc7188e27e2a4b144d597b696ee85f25721d\n""}]",3,827418,eebe545182366e74e1075bb5ff55377576881bf6,13,5,2,13252,,,0,"Add py36 variant of get-pip.py

The common version of get-pip.py no longer supports python3.6 or older.
Devstack has amended it's use of this file to use a stable version of
the installer for python3.6 [0]. Pre-cache this version in our images,
too, so that it can be consumed in the CI.

[0] https://review.opendev.org/#/q/Iab2c391d5388461fe9e9037cee81884ce8032e72

Change-Id: Ied14dc7188e27e2a4b144d597b696ee85f25721d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/827418/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-pip'],1,df6f7464b39b960aee3a49596dd98906d30f30c7,get-pip-py36,get-pip-py file /opt/cache/files/get-pip.py-py36 https://bootstrap.pypa.io/pip/3.6/get-pip.py,,1,0
openstack%2Fpuppet-openstack-integration~master~Ief51b8a0c6fdf81111466e15562e9f0a6fc04144,openstack/puppet-openstack-integration,master,Ief51b8a0c6fdf81111466e15562e9f0a6fc04144,Add litmus job on CentOS 9,MERGED,2022-01-28 22:24:36.000000000,2022-02-02 16:52:49.000000000,2022-02-02 16:52:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 22:24:36.000000000', 'files': ['zuul.d/litmus.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/18728b98addfa9ed4360aa61b1f47d26fb26188b', 'message': 'Add litmus job on CentOS 9\n\nChange-Id: Ief51b8a0c6fdf81111466e15562e9f0a6fc04144\n'}]",0,826944,18728b98addfa9ed4360aa61b1f47d26fb26188b,7,3,1,9816,,,0,"Add litmus job on CentOS 9

Change-Id: Ief51b8a0c6fdf81111466e15562e9f0a6fc04144
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/44/826944/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/litmus.yaml', 'zuul.d/layout.yaml']",2,18728b98addfa9ed4360aa61b1f47d26fb26188b,, - puppet-openstack-libraries-litmus-7.10-centos-9-stream,,19,0
openstack%2Fnova~stable%2Fvictoria~Ie90fb83662dd06e7188f042fc6340596f93c5ef9,openstack/nova,stable/victoria,Ie90fb83662dd06e7188f042fc6340596f93c5ef9,api: Reject duplicate port IDs in server create,NEW,2022-01-31 15:08:38.000000000,2022-02-02 16:48:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 15:08:38.000000000', 'files': ['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3731d1f5afe28b1cb6d36e88c407b65d1653a6df', 'message': 'api: Reject duplicate port IDs in server create\n\nSpecifying a duplicate port ID is currently ""allowed"" but results in an\nintegrity error when nova attempts to create a duplicate\n\'VirtualInterface\' entry. Start rejecting these requests by checking for\nduplicate IDs and rejecting offending requests. This is arguably an API\nchange because there isn\'t a HTTP 5xx error (server create is an async\noperation), however, users shouldn\'t have to opt in to non-broken\nbehavior and the underlying instance was never actually created\npreviously, meaning automation that relied on this ""feature"" was always\ngoing to fail in a later step. We\'re also silently failing to do what\nthe user asked (per flow chart at [1]).\n\n[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion\n\nChange-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1821088\n(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)\n(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)\n(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)\n'}]",2,827122,3731d1f5afe28b1cb6d36e88c407b65d1653a6df,12,1,1,15334,,,0,"api: Reject duplicate port IDs in server create

Specifying a duplicate port ID is currently ""allowed"" but results in an
integrity error when nova attempts to create a duplicate
'VirtualInterface' entry. Start rejecting these requests by checking for
duplicate IDs and rejecting offending requests. This is arguably an API
change because there isn't a HTTP 5xx error (server create is an async
operation), however, users shouldn't have to opt in to non-broken
behavior and the underlying instance was never actually created
previously, meaning automation that relied on this ""feature"" was always
going to fail in a later step. We're also silently failing to do what
the user asked (per flow chart at [1]).

[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion

Change-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1821088
(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)
(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)
(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/827122/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py']",3,3731d1f5afe28b1cb6d36e88c407b65d1653a6df,bug/1821088," port_uuids = [] if request.port_id in port_uuids: msg = _( ""Port ID '%(port)s' was specified twice: you "" ""cannot attach a port multiple times."" ) % { ""port"": request.port_id, } if request.address is not None: msg = _( ""Specified Fixed IP '%(addr)s' cannot be used "" ""with port '%(port)s': the two cannot be "" ""specified together."" ) % { ""addr"": request.address, ""port"": request.port_id, } raise exc.HTTPBadRequest(explanation=msg) request.network_id = None port_uuids.append(request.port_id)"," request.network_id = None if request.address is not None: msg = _(""Specified Fixed IP '%(addr)s' cannot be used "" ""with port '%(port)s': the two cannot be "" ""specified together."") % { ""addr"": request.address, ""port"": request.port_id}",56,16
openstack%2Fos-brick~master~I0ef2856f66947adc7850648ccbcd4950796f90f6,openstack/os-brick,master,I0ef2856f66947adc7850648ccbcd4950796f90f6,mypy: utils.py,MERGED,2021-04-16 21:15:59.000000000,2022-02-02 16:44:59.000000000,2022-02-02 16:42:31.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 16721}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30092}]","[{'number': 1, 'created': '2021-04-16 21:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a920b973a00bc9a442306d510828edbb1ab50e4c', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}, {'number': 2, 'created': '2021-04-19 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b8eea3ffbc2fde1829ddb9b68c8e39dd34ec97d1', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}, {'number': 3, 'created': '2021-04-19 14:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ee377b5fb116dba4817f47c6d0874b14a8fb9117', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}, {'number': 4, 'created': '2021-05-21 15:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7736a35ed78282c47f39739f7de61c8b05c5ab5d', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}, {'number': 5, 'created': '2021-05-24 16:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ce1411e68fc9815e96e4f5bc7f91c87406a9cf4e', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}, {'number': 6, 'created': '2021-08-24 19:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0ee5b6a7d4d74546d5dee42af6ed97c8647faf57', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}, {'number': 7, 'created': '2021-09-07 18:19:04.000000000', 'files': ['os_brick/utils.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5c623f9fdab5c84bf75568b79549c789e22b491e', 'message': 'mypy: utils.py\n\nChange-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6\n'}]",7,786731,5c623f9fdab5c84bf75568b79549c789e22b491e,92,7,7,4523,,,0,"mypy: utils.py

Change-Id: I0ef2856f66947adc7850648ccbcd4950796f90f6
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/31/786731/7 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/utils.py'],1,a920b973a00bc9a442306d510828edbb1ab50e4c,mypy,"from typing import Callable, Union # noqa: H301def retry(exceptions, interval: int = 1, retries: int = 3, backoff_rate: int = 2) -> Callable:def platform_matches(current_platform: str, connector_platform: str) -> bool:def os_matches(current_os: str, connector_os: str) -> bool:def merge_dict(dict1: dict, dict2: dict) -> dict:def trace(f: Callable) -> Callable:def convert_str(text: Union[bytes, str]) -> str:","def retry(exceptions, interval=1, retries=3, backoff_rate=2):def platform_matches(current_platform, connector_platform):def os_matches(current_os, connector_os):def merge_dict(dict1, dict2):def trace(f):def convert_str(text):",10,6
openstack%2Fplacement~master~I4cf131d3fbf59d2aa90cfcade80e3ed88f28d631,openstack/placement,master,I4cf131d3fbf59d2aa90cfcade80e3ed88f28d631,Reject repeated required[N] param,ABANDONED,2022-01-31 14:44:24.000000000,2022-02-02 16:40:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 14:44:24.000000000', 'files': ['placement/lib.py', 'placement/handlers/resource_provider.py', 'placement/tests/functional/gabbits/bug-story-2009816.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/0d4529249c46b02f822329f5c14c855f532b2602', 'message': 'Reject repeated required[N] param\n\nReject GET /resource_providers and GET /allocation_candidates query if\nthe required or requiredN query parameter has been repeated. Repeating\nsuch parameter never worked so it is better rejecting the query than\nsilently ignoring parts of the query.\n\nLater on a microversion bump can introduce support for repeating the\nquery param properly.\n\nStory: #2009816\nTask: #44387\nChange-Id: I4cf131d3fbf59d2aa90cfcade80e3ed88f28d631\n'}]",2,827115,0d4529249c46b02f822329f5c14c855f532b2602,5,1,1,9708,,,0,"Reject repeated required[N] param

Reject GET /resource_providers and GET /allocation_candidates query if
the required or requiredN query parameter has been repeated. Repeating
such parameter never worked so it is better rejecting the query than
silently ignoring parts of the query.

Later on a microversion bump can introduce support for repeating the
query param properly.

Story: #2009816
Task: #44387
Change-Id: I4cf131d3fbf59d2aa90cfcade80e3ed88f28d631
",git fetch https://review.opendev.org/openstack/placement refs/changes/15/827115/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/handlers/resource_provider.py', 'placement/tests/functional/gabbits/bug-story-2009816.yaml']",3,0d4529249c46b02f822329f5c14c855f532b2602,any-traits-support,# These tests are all shows that the bad behavior described in bug # story/2009816 has been fixed.- name: the second required field does not overwrites the first status: 400 response_strings: - Repeating required parameter is not supported - name: invalid trait detected even if required field is repeated status: 400 response_strings: - Repeating required parameter is not supported - name: invalid trait detected in allocation candidate query even if required field is repeated status: 400 response_strings: - Repeating required parameter is not supported - name: invalid trait detected in allocation candidate query even if requiredX field is repeated status: 400 response_strings: - Repeating requiredX parameter is not supported,# These tests are all shows the bad behavior described in bug story/2009816- name: the second required field overwrites the first # The fixture has one RP for each trait but no RP for both traits. # As the second 'required' key overwrites the first we expect # that one of that RPs will be returned. status: 200 response_json_paths: $.resource_providers.`len`: 1 - name: invalid trait ignored as required field is repeated # The first required query param is ignored so placement does not detect # that NOT_A_TRAIT is not a standard trait status: 200 response_json_paths: $.resource_providers.`len`: 1 - name: invalid trait ignored in allocation candidate query as required field is repeated status: 200 response_json_paths: $.allocation_requests.`len`: 1 - name: invalid trait ignored in allocation candidate query as requiredX field is repeated status: 200 response_json_paths: $.allocation_requests.`len`: 1,28,22
openstack%2Fpython-tripleoclient~master~Icb785f015ee69d45dd513aef09fac625de421250,openstack/python-tripleoclient,master,Icb785f015ee69d45dd513aef09fac625de421250,Add --standalone to overcloud ceph user and deploy,MERGED,2022-01-14 15:20:40.000000000,2022-02-02 16:30:38.000000000,2022-02-02 16:23:10.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-14 15:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a0d001c3241ae90bb46aacef1b3c926b44777b89', 'message': ""Add --standalone to overcloud ceph user and deploy\n\nBoth 'openstack overcloud ceph user enable' and 'openstack\novercloud ceph deploy' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when 'openstack\novercloud node provision' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n""}, {'number': 2, 'created': '2022-01-14 17:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a413d5ae91d944c4756d84a610ff9e50a4f6977c', 'message': ""Add --standalone to overcloud ceph user and deploy\n\nBoth 'openstack overcloud ceph user enable' and 'openstack\novercloud ceph deploy' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when 'openstack\novercloud node provision' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n""}, {'number': 3, 'created': '2022-01-14 18:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7b11aff39bd7c2d0d9a90ce2fe3ff19d89c1ec56', 'message': ""Add --standalone to overcloud ceph user and deploy\n\nBoth 'openstack overcloud ceph user enable' and 'openstack\novercloud ceph deploy' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when 'openstack\novercloud node provision' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n""}, {'number': 4, 'created': '2022-01-14 21:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a02fe55663a9c3f63643ca160b500364f09e1403', 'message': ""Add --standalone to overcloud ceph user and deploy\n\nBoth 'openstack overcloud ceph user enable' and 'openstack\novercloud ceph deploy' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when 'openstack\novercloud node provision' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n""}, {'number': 5, 'created': '2022-01-31 20:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06707ac429e926d12704404d37cf6603ea1f9f96', 'message': ""Add --standalone to overcloud ceph user and deploy\n\nBoth 'openstack overcloud ceph user enable' and 'openstack\novercloud ceph deploy' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when 'openstack\novercloud node provision' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n""}, {'number': 6, 'created': '2022-02-01 18:56:54.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/88ec87caf625f3a28382c484ec93ebdae1fe33b6', 'message': ""Add --standalone to overcloud ceph user and deploy\n\nBoth 'openstack overcloud ceph user enable' and 'openstack\novercloud ceph deploy' currently use Ansible and require an\ninventory with hosts matching those in the Ceph spec. The\ninventory is created in the working directory when 'openstack\novercloud node provision' runs but for a standalone deployment\nthe user would need to create it manually. Abstract this detail\naway by providing a --standalone option for single node deploys\nwhich do not use metalsmith.\n\nDepends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f\nChange-Id: Icb785f015ee69d45dd513aef09fac625de421250\n""}]",8,824725,88ec87caf625f3a28382c484ec93ebdae1fe33b6,24,5,6,18002,,,0,"Add --standalone to overcloud ceph user and deploy

Both 'openstack overcloud ceph user enable' and 'openstack
overcloud ceph deploy' currently use Ansible and require an
inventory with hosts matching those in the Ceph spec. The
inventory is created in the working directory when 'openstack
overcloud node provision' runs but for a standalone deployment
the user would need to create it manually. Abstract this detail
away by providing a --standalone option for single node deploys
which do not use metalsmith.

Depends-On: Idfe4f334f59a3a40363b7127f33ed4996f09362f
Change-Id: Icb785f015ee69d45dd513aef09fac625de421250
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/824725/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py']",2,a0d001c3241ae90bb46aacef1b3c926b44777b89,ceph_standalone," parser.add_argument('--standalone', default=False, action='store_true', help=_(""Use single host Ansible inventory. "" ""Used only for development or testing "" ""environments."")) if parsed_args.standalone: inventory = oooutils.standalone_ceph_inventory(working_dir) else: inventory = os.path.join(working_dir, constants.TRIPLEO_STATIC_INVENTORY) parser.add_argument('--standalone', default=False, action='store_true', help=_(""Use single host Ansible inventory. "" ""Used only for development or testing "" ""environments."")) if parsed_args.standalone: inventory = oooutils.standalone_ceph_inventory(working_dir) else: inventory = os.path.join(working_dir, constants.TRIPLEO_STATIC_INVENTORY) parser.add_argument('--standalone', default=False, action='store_true', help=_(""Use single host Ansible inventory. "" ""Used only for development or testing "" ""environments."")) if parsed_args.standalone: inventory = oooutils.standalone_ceph_inventory(working_dir) else: inventory = os.path.join(working_dir, constants.TRIPLEO_STATIC_INVENTORY)"," inventory = os.path.join(working_dir, constants.TRIPLEO_STATIC_INVENTORY) inventory = os.path.join(working_dir, constants.TRIPLEO_STATIC_INVENTORY) inventory = os.path.join(working_dir, constants.TRIPLEO_STATIC_INVENTORY)",54,6
openstack%2Ftripleo-ci~master~Iabaf5da054ab13988907bc69b9dbd3b5338cbcfd,openstack/tripleo-ci,master,Iabaf5da054ab13988907bc69b9dbd3b5338cbcfd,Add zuul artifacts for SA logs,MERGED,2022-01-31 10:50:30.000000000,2022-02-02 16:23:06.000000000,2022-02-02 16:23:06.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-31 10:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4aa921054a5e1632c345df1e396caa5523532d8', 'message': 'Add zuul artifacts for SA logs\n\nShow link to log files in Zuul Artifacts tab\n\nChange-Id: Iabaf5da054ab13988907bc69b9dbd3b5338cbcfd\n'}, {'number': 2, 'created': '2022-01-31 12:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/59780e067b89e8e7f5e4c307e6470635cc8b40d6', 'message': 'Add zuul artifacts for SA logs\n\nShow link to log files in Zuul Artifacts tab\n\nChange-Id: Iabaf5da054ab13988907bc69b9dbd3b5338cbcfd\n'}, {'number': 3, 'created': '2022-01-31 16:08:28.000000000', 'files': ['playbooks/tripleo-ci/post-artifact-mult.yml', 'zuul.d/base.yaml', 'playbooks/tripleo-ci/post-artifact-sa.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cfbbcc8b365e41602f0cbefa08c9fa2ccf19c477', 'message': 'Add zuul artifacts for SA logs\n\nShow link to log files in Zuul Artifacts tab\n\nChange-Id: Iabaf5da054ab13988907bc69b9dbd3b5338cbcfd\n'}]",10,827047,cfbbcc8b365e41602f0cbefa08c9fa2ccf19c477,29,9,3,10969,,,0,"Add zuul artifacts for SA logs

Show link to log files in Zuul Artifacts tab

Change-Id: Iabaf5da054ab13988907bc69b9dbd3b5338cbcfd
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/827047/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'playbooks/tripleo-ci/post-artifact-sa.yml']",2,d4aa921054a5e1632c345df1e396caa5523532d8,art1,- hosts: primary tasks: - zuul_return: data: zuul: artifacts: - name: Standalone deploy url: logs/undercloud/home/zuul/standalone_deploy.log - name: Tempest results url: /logs/stackviz - name: Extra logs url: logs/undercloud/var/log/extra/index.html ,,13,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idba27572e2da365e2ed2c2dd489a8506a3d87340,openstack/tripleo-heat-templates,stable/train,Idba27572e2da365e2ed2c2dd489a8506a3d87340,[train-only] Increase scope for actor removal.,MERGED,2022-01-31 11:21:29.000000000,2022-02-02 16:23:03.000000000,2022-02-02 16:23:03.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-01-31 11:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2ec41cfd5213d9dadb3c5988bc499d302e724c4', 'message': ""[train-only] Increase scope for actor removal.\n\nLeapp moved actors from el7toel8 to common. As we don't know what actors\nwill be moved to common (as they are used for rhel7>8 and rhel8>9\nupgrade) so this patch increases the scope where to look for actor to\nremove it.\n\nCloses-Bug: rhbz#2046211\n\nChange-Id: Idba27572e2da365e2ed2c2dd489a8506a3d87340\n""}, {'number': 2, 'created': '2022-01-31 11:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5239739344e1109caef4f72dcf29c1b1f7bc9581', 'message': ""[train-only] Increase scope for actor removal.\n\nLeapp moved actors from el7toel8 to common. As we don't know what actors\nwill be moved to common (as they are used for rhel7>8 and rhel8>9\nupgrade) so this patch increases the scope where to look for actor to\nremove it.\n\nCloses-Bug: rhbz#2046211\n\nChange-Id: Idba27572e2da365e2ed2c2dd489a8506a3d87340\n""}, {'number': 3, 'created': '2022-02-01 20:07:36.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2afb43cccf3767d5f15990c30c1dd6db71610649', 'message': ""[train-only] Increase scope for actor removal.\n\nLeapp moved actors from el7toel8 to common. As we don't know what actors\nwill be moved to common (as they are used for rhel7>8 and rhel8>9\nupgrade) so this patch increases the scope where to look for actor to\nremove it.\n\nCloses-Bug: rhbz#2046211\n\nChange-Id: Idba27572e2da365e2ed2c2dd489a8506a3d87340\n""}]",3,827056,2afb43cccf3767d5f15990c30c1dd6db71610649,23,6,3,11090,,,0,"[train-only] Increase scope for actor removal.

Leapp moved actors from el7toel8 to common. As we don't know what actors
will be moved to common (as they are used for rhel7>8 and rhel8>9
upgrade) so this patch increases the scope where to look for actor to
remove it.

Closes-Bug: rhbz#2046211

Change-Id: Idba27572e2da365e2ed2c2dd489a8506a3d87340
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/827056/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,f2ec41cfd5213d9dadb3c5988bc499d302e724c4,fix_actor_removal," command: cmd: sudo find /usr/share/leapp-repository/repositories/ -name {{ item }} -type d -print -exec rm -rf ""{}"" +", file: path: /usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/{{ item }}/actor.py state: absent,2,3
openstack%2Fopenstacksdk~master~I6161182c95171a942e9242ae08aae096abe00588,openstack/openstacksdk,master,I6161182c95171a942e9242ae08aae096abe00588,Improve compute flavor handling,MERGED,2022-01-28 17:35:24.000000000,2022-02-02 16:18:38.000000000,2022-02-02 16:16:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-01-28 17:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/be50404cb207db00cfa5822763b8fdb6072dd320', 'message': 'Improve compute flavor handling\n\nnodepool usage uncovered few issues in latest changes. Fix:\n\n- ensure server.flavor returns flavor.Flavor instance\n- set deafults in the flavor according to nova spec. This was previously\n  done in the normalization part.\n\nChange-Id: I6161182c95171a942e9242ae08aae096abe00588\n'}, {'number': 2, 'created': '2022-01-28 17:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6535c7a9002567caa038285e574e8b78f9b9af3e', 'message': 'Improve compute flavor handling\n\nnodepool usage uncovered few issues in latest changes. Fix:\n\n- ensure server.flavor returns flavor.Flavor instance\n- set defaults in the flavor according to nova spec. This was previously\n  done in the normalization part.\n\nChange-Id: I6161182c95171a942e9242ae08aae096abe00588\n'}, {'number': 3, 'created': '2022-01-29 10:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5c5585965a29286ecee79098b1759ea88d1f5e44', 'message': 'Improve compute flavor handling\n\nnodepool usage uncovered few issues in latest changes. Fix:\n\n- ensure server.flavor returns flavor.Flavor instance\n- set defaults in the flavor according to nova spec. This was previously\n  done in the normalization part.\n\nChange-Id: I6161182c95171a942e9242ae08aae096abe00588\n'}, {'number': 4, 'created': '2022-02-01 16:33:28.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/functional/cloud/test_inventory.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/compute/v2/flavor.py', 'openstack/tests/unit/compute/v2/test_flavor.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bcd5916c20fb181962bbd7f69c179e600ee22580', 'message': 'Improve compute flavor handling\n\nnodepool usage uncovered few issues in latest changes. Fix:\n\n- ensure server.flavor returns flavor.Flavor instance\n- set defaults in the flavor according to nova spec. This was previously\n  done in the normalization part.\n\nChange-Id: I6161182c95171a942e9242ae08aae096abe00588\n'}]",2,826924,bcd5916c20fb181962bbd7f69c179e600ee22580,14,3,4,27900,,,0,"Improve compute flavor handling

nodepool usage uncovered few issues in latest changes. Fix:

- ensure server.flavor returns flavor.Flavor instance
- set defaults in the flavor according to nova spec. This was previously
  done in the normalization part.

Change-Id: I6161182c95171a942e9242ae08aae096abe00588
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/826924/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/compute/v2/flavor.py', 'openstack/tests/unit/compute/v2/test_flavor.py']",4,be50404cb207db00cfa5822763b8fdb6072dd320,,"DEFAULTS_EXAMPLE = { 'id': IDENTIFIER, 'links': '2', 'original_name': '3', 'description': 'Testing flavor', } def test_make_defaults(self): sot = flavor.Flavor(**DEFAULTS_EXAMPLE) self.assertEqual(DEFAULTS_EXAMPLE['original_name'], sot.name) self.assertEqual(0, sot.disk) self.assertEqual(True, sot.is_public) self.assertEqual(0, sot.ram) self.assertEqual(0, sot.vcpus) self.assertEqual(0, sot.swap) self.assertEqual(0, sot.ephemeral) ",,35,10
openstack%2Fpuppet-openstack-integration~master~Ib084db5ab64cb7520c515bd9f17be07b8ffcf9ba,openstack/puppet-openstack-integration,master,Ib084db5ab64cb7520c515bd9f17be07b8ffcf9ba,Use true/false instead of yes/false,ABANDONED,2022-01-30 12:51:55.000000000,2022-02-02 16:14:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-30 12:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1d7cf56d142238d3102e7df2a85a3b30f6718bda', 'message': 'Use true/false instead of yes/false\n\nRecent ansible-lint enforces usage of true/false instead of yes/false\nand this is considered as a best practise.\n\nChange-Id: Ib084db5ab64cb7520c515bd9f17be07b8ffcf9ba\n'}, {'number': 2, 'created': '2022-02-02 16:14:10.000000000', 'files': ['playbooks/run-libraries-litmus-tests.yaml', 'playbooks/run-litmus-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a9cf337f306a8e3377c27fe2362e2e1eff44ecff', 'message': 'Use true/false instead of yes/false\n\nRecent ansible-lint enforces usage of true/false instead of yes/false\nand this is considered as a best practise.\n\nChange-Id: Ib084db5ab64cb7520c515bd9f17be07b8ffcf9ba\n'}]",0,826966,a9cf337f306a8e3377c27fe2362e2e1eff44ecff,4,1,2,9816,,,0,"Use true/false instead of yes/false

Recent ansible-lint enforces usage of true/false instead of yes/false
and this is considered as a best practise.

Change-Id: Ib084db5ab64cb7520c515bd9f17be07b8ffcf9ba
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/66/826966/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-libraries-litmus-tests.yaml', 'playbooks/run-litmus-tests.yaml']",2,1d7cf56d142238d3102e7df2a85a3b30f6718bda,, become: true, become: yes,2,2
openstack%2Fpuppet-openstack-integration~master~Id69c0fc900e6b53b8e6594649735ba1010f7a47b,openstack/puppet-openstack-integration,master,Id69c0fc900e6b53b8e6594649735ba1010f7a47b,CentOS/RHEL: Update all packages while preparing nodes,ABANDONED,2022-01-30 10:38:57.000000000,2022-02-02 16:14:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-30 10:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/07cba59b276936b6c0972be5a577221d0adf235b', 'message': 'CentOS/RHEL: Update all packages\n\nSometimes it take some time until the base image is rebuilt after\nupdated packages are released. When some packages, especially glibc is\nnot updated, installation of additional packages might fail because of\nversion conflicts.\nThis change ensures that all packages are updated, before installing\nany additional packages.\n\nChange-Id: Id69c0fc900e6b53b8e6594649735ba1010f7a47b\n'}, {'number': 2, 'created': '2022-01-30 10:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/14350f18d35033e1256436c88711ad9fde4f2848', 'message': 'CentOS/RHEL: Update all packages while preparing nodes\n\nSometimes it take some time until the base image is rebuilt after\nupdated packages are released. When some core packages like gcc are\nare latest, installation of additional packages might fail because of\nversion conflicts.\n\nThis change ensures that all packages are updated, before installing\nany additional packages.\n\nChange-Id: Id69c0fc900e6b53b8e6594649735ba1010f7a47b\n'}, {'number': 3, 'created': '2022-01-30 12:50:11.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4210b47a14f32aa719d5564a923fd99bfb9fa0c6', 'message': 'CentOS/RHEL: Update all packages while preparing nodes\n\nSometimes it take some time until the base image is rebuilt after\nupdated packages are released. When some core packages like gcc are\nare latest, installation of additional packages might fail because of\nversion conflicts.\n\nThis change ensures that all packages are updated, before installing\nany additional packages.\n\nChange-Id: Id69c0fc900e6b53b8e6594649735ba1010f7a47b\n'}]",0,826963,4210b47a14f32aa719d5564a923fd99bfb9fa0c6,6,1,3,9816,,,0,"CentOS/RHEL: Update all packages while preparing nodes

Sometimes it take some time until the base image is rebuilt after
updated packages are released. When some core packages like gcc are
are latest, installation of additional packages might fail because of
version conflicts.

This change ensures that all packages are updated, before installing
any additional packages.

Change-Id: Id69c0fc900e6b53b8e6594649735ba1010f7a47b
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/63/826963/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,07cba59b276936b6c0972be5a577221d0adf235b,," - name: Update all packages (CentOS/RHEL) dnf: name: ""*"" state: latest become: true ",,6,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~I4c8e6d7b5bac3d3a8fad48973856456d0f6306e9,openstack/openstack-ansible-os_keystone,stable/ussuri,I4c8e6d7b5bac3d3a8fad48973856456d0f6306e9,Remove legacy centos-8 CI jobs,MERGED,2022-02-02 10:45:40.000000000,2022-02-02 16:05:07.000000000,2022-02-02 15:58:32.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 10:45:40.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6888bb65b74409fc9e59c971f5943bf717583037', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I4c8e6d7b5bac3d3a8fad48973856456d0f6306e9\n'}]",0,827475,6888bb65b74409fc9e59c971f5943bf717583037,9,3,1,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: I4c8e6d7b5bac3d3a8fad48973856456d0f6306e9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/75/827475/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,6888bb65b74409fc9e59c971f5943bf717583037,osa/remove-centos8,,- job: name: openstack-ansible-uw_apache-centos-8 parent: openstack-ansible-uw_apache nodeset: centos-8,0,6
openstack%2Fpuppet-openstack-cookiecutter~master~I198635c5d867d80c40cc43a0ba783aa559d28e51,openstack/puppet-openstack-cookiecutter,master,I198635c5d867d80c40cc43a0ba783aa559d28e51,Skip dependency on keystone endpoint if endpoint is not configured,MERGED,2022-02-02 14:24:30.000000000,2022-02-02 15:56:43.000000000,2022-02-02 15:56:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 14:24:30.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/e6891d5f9ba38c5e5adfa1a5cd2fc491e14544b3', 'message': 'Skip dependency on keystone endpoint if endpoint is not configured\n\nChange-Id: I198635c5d867d80c40cc43a0ba783aa559d28e51\n'}]",0,827509,e6891d5f9ba38c5e5adfa1a5cd2fc491e14544b3,7,3,1,9816,,,0,"Skip dependency on keystone endpoint if endpoint is not configured

Change-Id: I198635c5d867d80c40cc43a0ba783aa559d28e51
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/09/827509/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/manifests/keystone/auth.pp'],1,e6891d5f9ba38c5e5adfa1a5cd2fc491e14544b3,," if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] ~> Service <| name == '{{cookiecutter.project_name}}-server' |> }"," Keystone_endpoint[""${region}/${service_name}::${service_type}""] ~> Service <| name == '{{cookiecutter.project_name}}-server' |>",3,1
openstack%2Fpuppet-openstack-cookiecutter~master~I07bf595085fda652f059bfc9dd5d9330d5ed3278,openstack/puppet-openstack-cookiecutter,master,I07bf595085fda652f059bfc9dd5d9330d5ed3278,Add support for [keystone_authtoken] system_scope,MERGED,2022-02-02 14:11:48.000000000,2022-02-02 15:56:41.000000000,2022-02-02 15:56:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 14:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/eb97203928ab3fe2e8e46e1e2cbcce50728d4118', 'message': 'Add support for [keystone_authtoken] system_scope\n\nChange-Id: I07bf595085fda652f059bfc9dd5d9330d5ed3278\n'}, {'number': 2, 'created': '2022-02-02 14:28:34.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_keystone_authtoken_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/dda85763464c387768bcd2c11b0c681fb55aaf71', 'message': 'Add support for [keystone_authtoken] system_scope\n\nChange-Id: I07bf595085fda652f059bfc9dd5d9330d5ed3278\n'}]",0,827503,dda85763464c387768bcd2c11b0c681fb55aaf71,9,3,2,9816,,,0,"Add support for [keystone_authtoken] system_scope

Change-Id: I07bf595085fda652f059bfc9dd5d9330d5ed3278
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/03/827503/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_keystone_authtoken_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp']",2,eb97203928ab3fe2e8e46e1e2cbcce50728d4118,authtoken,"# [*system_scope*] # (Optional) Scope for system operations # Defaults to $::os_service_default # $system_scope = $::os_service_default, system_scope => $system_scope,",,9,0
openstack%2Fpuppet-openstack-cookiecutter~master~I40e362dec19afa61432149d9492404241c1d183a,openstack/puppet-openstack-cookiecutter,master,I40e362dec19afa61432149d9492404241c1d183a,Stop testing details of keystone::resource::authtoken,MERGED,2022-02-02 14:09:56.000000000,2022-02-02 15:56:40.000000000,2022-02-02 15:56:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 14:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/bf5fe0dedc22901183b66790bc61458b4c00c3e9', 'message': 'Stop testing details of keystone::resource::authtoken\n\nChange-Id: I40e362dec19afa61432149d9492404241c1d183a\n'}, {'number': 2, 'created': '2022-02-02 14:28:03.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/2dc431dd0d70218c7383205ca0a2626140902c04', 'message': 'Stop testing details of keystone::resource::authtoken\n\nChange-Id: I40e362dec19afa61432149d9492404241c1d183a\n'}]",0,827502,2dc431dd0d70218c7383205ca0a2626140902c04,9,3,2,9816,,,0,"Stop testing details of keystone::resource::authtoken

Change-Id: I40e362dec19afa61432149d9492404241c1d183a
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/02/827502/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_keystone_authtoken_spec.rb'],1,bf5fe0dedc22901183b66790bc61458b4c00c3e9,authtoken," :password => '{{cookiecutter.project_name}}_password' it 'configures keystone_authtoken' do is_expected.to contain_keystone__resource__authtoken('{{cookiecutter.project_name}}_config').with( :username => '{{cookiecutter.project_name}}', :password => '{{cookiecutter.project_name}}_password', :auth_url => 'http://localhost:5000/', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000/', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :service_type => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) end :auth_url => 'http://127.0.0.1:5000', it 'configure keystone_authtoken' do is_expected.to contain_keystone__resource__authtoken('{{cookiecutter.project_name}}_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', ) end"," :password => 'secrete' it { should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/username').with_value('{{cookiecutter.project_name}}') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/password').with_value('secrete') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/project_name').with_value('services') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/user_domain_name').with_value('Default') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/project_domain_name').with_value('Default') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_type').with_value('password') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/service_type').with_value('<SERVICE DEFAULT>') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') } :auth_url => 'https://127.0.0.1:5000', it { should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/username').with_value(params[:username]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/project_name').with_value(params[:project_name]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/insecure').with_value(params[:insecure]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/cache').with_value(params[:cache]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/cafile').with_value(params[:cafile]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/certfile').with_value(params[:certfile]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/region_name').with_value(params[:region_name]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/service_type').with_value(params[:service_type]) should contain_{{cookiecutter.project_name}}_config('keystone_authtoken/interface').with_value(params[:interface]) } it { should contain_package('python-memcache') }",82,78
openstack%2Fkolla-ansible~stable%2Ftrain~I421b25105252206de01aeb458fa9cefec81c0f90,openstack/kolla-ansible,stable/train,I421b25105252206de01aeb458fa9cefec81c0f90,[CI] Stop testing non-stream CentOS,MERGED,2022-01-07 19:16:20.000000000,2022-02-02 15:50:32.000000000,2022-02-02 15:42:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 19:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17261b7404be783deba33644498dc616c9471a88', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nChange-Id: I421b25105252206de01aeb458fa9cefec81c0f90\n'}, {'number': 2, 'created': '2022-01-18 10:30:02.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03ad4c87726f8d7db45572559104e7c8289f26ff', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nChange-Id: I421b25105252206de01aeb458fa9cefec81c0f90\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/825053\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/825054\n'}]",5,823860,03ad4c87726f8d7db45572559104e7c8289f26ff,18,4,2,30491,,,0,"[CI] Stop testing non-stream CentOS

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Change-Id: I421b25105252206de01aeb458fa9cefec81c0f90
Depends-On: https://review.opendev.org/c/openstack/bifrost/+/825053
Depends-On: https://review.opendev.org/c/openstack/bifrost/+/825054
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/823860/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",3,17261b7404be783deba33644498dc616c9471a88,ci-stop-testing-non-stream-centos,, name: kolla-ansible-centos8-source parent: kolla-ansible-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-mixed-7-8-source parent: kolla-ansible-base nodeset: kolla-ansible-centos-mixed-7-8 voting: false vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-binary parent: kolla-ansible-base nodeset: kolla-ansible-centos8 voting: false vars: base_distro: centos install_type: binary - job: name: kolla-ansible-centos8-source-mariadb parent: kolla-ansible-mariadb-base nodeset: kolla-ansible-centos8-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-source-bifrost parent: kolla-ansible-bifrost-base nodeset: kolla-ansible-centos8 vars: base_distro: centos - job: name: kolla-ansible-centos8-source-zun parent: kolla-ansible-zun-base nodeset: kolla-ansible-centos8-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-source-swift parent: kolla-ansible-swift-base nodeset: kolla-ansible-centos8-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-source-scenario-nfv parent: kolla-ansible-scenario-nfv-base nodeset: kolla-ansible-centos8-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-source-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-binary-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: binary - job: name: kolla-ansible-centos8-source-masakari parent: kolla-ansible-masakari-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos8-source-cells parent: kolla-ansible-base nodeset: kolla-ansible-centos8-multi voting: false vars: base_distro: centos install_type: source scenario: cells - job: name: kolla-ansible-centos8-source-prometheus-efk parent: kolla-ansible-prometheus-efk-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: source - job:,0,166
openstack%2Fpuppet-openstack-cookiecutter~master~I81548709e0b05115720caee45e5537b8275d9d95,openstack/puppet-openstack-cookiecutter,master,I81548709e0b05115720caee45e5537b8275d9d95,Bump puppetlabs-inifile,MERGED,2021-11-02 04:56:09.000000000,2022-02-02 15:50:10.000000000,2022-02-02 15:50:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 04:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/aae6c1922b7759d83eff45349f15e7ef6cb3f4d9', 'message': 'Bump puppetlabs-inifile\n\nDepends-on: https://review.opendev.org/816117\nChange-Id: I81548709e0b05115720caee45e5537b8275d9d95\n'}, {'number': 2, 'created': '2022-02-02 14:03:17.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/609879da594b8cf96b7617e605cc090db6e2dce2', 'message': 'Bump puppetlabs-inifile\n\nDepends-on: https://review.opendev.org/816117\nChange-Id: I81548709e0b05115720caee45e5537b8275d9d95\n'}]",1,816295,609879da594b8cf96b7617e605cc090db6e2dce2,11,3,2,9816,,,0,"Bump puppetlabs-inifile

Depends-on: https://review.opendev.org/816117
Change-Id: I81548709e0b05115720caee45e5537b8275d9d95
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/95/816295/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/metadata.json'],1,aae6c1922b7759d83eff45349f15e7ef6cb3f4d9,puppetlabs-inifile," ""version_requirement"": "">=2.0.0 <6.0.0"""," ""version_requirement"": "">=2.0.0 <3.0.0""",1,1
openstack%2Fpuppet-openstack-cookiecutter~master~I31913176272c1da8260980fcb03deeb0f6a154ab,openstack/puppet-openstack-cookiecutter,master,I31913176272c1da8260980fcb03deeb0f6a154ab,Pin bundler to 2.2.11,MERGED,2022-02-02 13:04:05.000000000,2022-02-02 15:50:08.000000000,2022-02-02 15:50:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 13:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/1a5a41bb6da5a10700e72ba27c7c3d652980f373', 'message': 'Pin bundler to 2.2.11\n\n... as we did for p-o-i[1] and spec_helper[2].\n\n[1] 4d2d86e0df434ee25a508aceb1ea209a0c64f80b\n[2] a75cf9b6b18134cd6b1285740e2941bb228e053b\n\nChange-Id: I31913176272c1da8260980fcb03deeb0f6a154ab\n'}, {'number': 2, 'created': '2022-02-02 13:45:18.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/c74732c3b86f2e88103bee47c96cc8749f451010', 'message': 'Pin bundler to 2.2.11\n\n... as we did for p-o-i[1] and spec_helper[2].\n\n[1] 4d2d86e0df434ee25a508aceb1ea209a0c64f80b\n[2] a75cf9b6b18134cd6b1285740e2941bb228e053b\n\nChange-Id: I31913176272c1da8260980fcb03deeb0f6a154ab\n'}]",0,827490,c74732c3b86f2e88103bee47c96cc8749f451010,9,3,2,9816,,,0,"Pin bundler to 2.2.11

... as we did for p-o-i[1] and spec_helper[2].

[1] 4d2d86e0df434ee25a508aceb1ea209a0c64f80b
[2] a75cf9b6b18134cd6b1285740e2941bb228e053b

Change-Id: I31913176272c1da8260980fcb03deeb0f6a154ab
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/90/827490/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,1a5a41bb6da5a10700e72ba27c7c3d652980f373,,cmd += ' -v 2.2.11',if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end system(cmd),1,4
openstack%2Fopenstack-ansible-openstack_hosts~master~Iab5beacfc3b1189fb0554ac0115eb99236edaf3c,openstack/openstack-ansible-openstack_hosts,master,Iab5beacfc3b1189fb0554ac0115eb99236edaf3c,Use advancedvirt-common repo for redhat-8,ABANDONED,2022-02-02 10:12:00.000000000,2022-02-02 15:47:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-02-02 10:12:00.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/64f8c39c464b7e26f30a1a45c00c90acc85e1aad', 'message': 'Use advancedvirt-common repo for redhat-8\n\nThis is a centos-8-stream replacement for the advanced-virutalisation\nrepo.\n\nChange-Id: Iab5beacfc3b1189fb0554ac0115eb99236edaf3c\n'}]",0,827468,64f8c39c464b7e26f30a1a45c00c90acc85e1aad,5,2,1,25023,,,0,"Use advancedvirt-common repo for redhat-8

This is a centos-8-stream replacement for the advanced-virutalisation
repo.

Change-Id: Iab5beacfc3b1189fb0554ac0115eb99236edaf3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/68/827468/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,64f8c39c464b7e26f30a1a45c00c90acc85e1aad,," - name: advanced-virtualization file: virt description: Advanced Virtualization mirror baseurl: ""{{ openstack_hosts_centos_mirror_url }}/8-stream/virt/$basearch/advancedvirt-common/"" gpgcheck: no module_hotfixes: yes",,6,0
openstack%2Fpuppet-gnocchi~master~I94744b06d37a3a6b28bf8ea09c1096e454676b12,openstack/puppet-gnocchi,master,I94744b06d37a3a6b28bf8ea09c1096e454676b12,gnocchi::db: Do not test behavior of lower libraries,MERGED,2022-02-02 13:24:04.000000000,2022-02-02 15:47:35.000000000,2022-02-02 15:47:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 13:24:04.000000000', 'files': ['spec/classes/gnocchi_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/ea401f3f6f39b79a1e9d657ecbe0daa780040a70', 'message': 'gnocchi::db: Do not test behavior of lower libraries\n\nCurrent unit tests of gnocchi::db tests behavior of puppetlabs-mysql\nand puppetlabs-postgresql but this is not necessary and makes our\nmaintenance difficult because we need to update our tests according\nto changes in lower libraries.\n\nThis makes these unit tests assert only interfaces and stop testing\nbehavior of these classes imported from libraries.\n\nChange-Id: I94744b06d37a3a6b28bf8ea09c1096e454676b12\n'}]",0,827493,ea401f3f6f39b79a1e9d657ecbe0daa780040a70,7,3,1,9816,,,0,"gnocchi::db: Do not test behavior of lower libraries

Current unit tests of gnocchi::db tests behavior of puppetlabs-mysql
and puppetlabs-postgresql but this is not necessary and makes our
maintenance difficult because we need to update our tests according
to changes in lower libraries.

This makes these unit tests assert only interfaces and stop testing
behavior of these classes imported from libraries.

Change-Id: I94744b06d37a3a6b28bf8ea09c1096e454676b12
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/93/827493/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_db_spec.rb'],1,ea401f3f6f39b79a1e9d657ecbe0daa780040a70,, it { should contain_class('postgresql::lib::python') } it { should contain_class('mysql::bindings') } it { should contain_class('mysql::bindings::python') }, it { should contain_package('python-psycopg2').with_ensure('present') } it { should contain_package('python-mysqldb').with_ensure('present') },3,2
openstack%2Fnova~stable%2Fussuri~Ie90fb83662dd06e7188f042fc6340596f93c5ef9,openstack/nova,stable/ussuri,Ie90fb83662dd06e7188f042fc6340596f93c5ef9,api: Reject duplicate port IDs in server create,NEW,2022-01-31 15:09:18.000000000,2022-02-02 15:46:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 15:09:18.000000000', 'files': ['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23e7e6011b9087e25ca14f0da42ebafb0bef653a', 'message': 'api: Reject duplicate port IDs in server create\n\nSpecifying a duplicate port ID is currently ""allowed"" but results in an\nintegrity error when nova attempts to create a duplicate\n\'VirtualInterface\' entry. Start rejecting these requests by checking for\nduplicate IDs and rejecting offending requests. This is arguably an API\nchange because there isn\'t a HTTP 5xx error (server create is an async\noperation), however, users shouldn\'t have to opt in to non-broken\nbehavior and the underlying instance was never actually created\npreviously, meaning automation that relied on this ""feature"" was always\ngoing to fail in a later step. We\'re also silently failing to do what\nthe user asked (per flow chart at [1]).\n\n[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion\n\nChange-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1821088\n(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)\n(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)\n(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)\n(cherry picked from commit 3731d1f5afe28b1cb6d36e88c407b65d1653a6df)\n'}]",1,827123,23e7e6011b9087e25ca14f0da42ebafb0bef653a,6,1,1,15334,,,0,"api: Reject duplicate port IDs in server create

Specifying a duplicate port ID is currently ""allowed"" but results in an
integrity error when nova attempts to create a duplicate
'VirtualInterface' entry. Start rejecting these requests by checking for
duplicate IDs and rejecting offending requests. This is arguably an API
change because there isn't a HTTP 5xx error (server create is an async
operation), however, users shouldn't have to opt in to non-broken
behavior and the underlying instance was never actually created
previously, meaning automation that relied on this ""feature"" was always
going to fail in a later step. We're also silently failing to do what
the user asked (per flow chart at [1]).

[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion

Change-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1821088
(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)
(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)
(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)
(cherry picked from commit 3731d1f5afe28b1cb6d36e88c407b65d1653a6df)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/827123/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",3,23e7e6011b9087e25ca14f0da42ebafb0bef653a,bug/1821088," port_uuids = [] if request.port_id in port_uuids: msg = _( ""Port ID '%(port)s' was specified twice: you "" ""cannot attach a port multiple times."" ) % { ""port"": request.port_id, } if request.address is not None: msg = _( ""Specified Fixed IP '%(addr)s' cannot be used "" ""with port '%(port)s': the two cannot be "" ""specified together."" ) % { ""addr"": request.address, ""port"": request.port_id, } raise exc.HTTPBadRequest(explanation=msg) request.network_id = None port_uuids.append(request.port_id)"," request.network_id = None if request.address is not None: msg = _(""Specified Fixed IP '%(addr)s' cannot be used "" ""with port '%(port)s': the two cannot be "" ""specified together."") % { ""addr"": request.address, ""port"": request.port_id}",56,16
openstack%2Fnova~stable%2Ftrain~Ie90fb83662dd06e7188f042fc6340596f93c5ef9,openstack/nova,stable/train,Ie90fb83662dd06e7188f042fc6340596f93c5ef9,api: Reject duplicate port IDs in server create,NEW,2022-01-31 15:15:40.000000000,2022-02-02 15:39:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 15:15:40.000000000', 'files': ['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3243420b0f8010d779a73ff6160eb50655f940d0', 'message': 'api: Reject duplicate port IDs in server create\n\nSpecifying a duplicate port ID is currently ""allowed"" but results in an\nintegrity error when nova attempts to create a duplicate\n\'VirtualInterface\' entry. Start rejecting these requests by checking for\nduplicate IDs and rejecting offending requests. This is arguably an API\nchange because there isn\'t a HTTP 5xx error (server create is an async\noperation), however, users shouldn\'t have to opt in to non-broken\nbehavior and the underlying instance was never actually created\npreviously, meaning automation that relied on this ""feature"" was always\ngoing to fail in a later step. We\'re also silently failing to do what\nthe user asked (per flow chart at [1]).\n\n[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion\n\nConflicts:\n  nova/api/openstack/compute/servers.py\n  nova/tests/unit/api/openstack/compute/test_serversV21.py\n\nNOTE(stephenfin): Conflicts are due to change\nIfa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final\nreferences to nova-network"") and change\nIbd97a0be22e0a894f3b1fdea052ee6359753457c (""nova-net: Remove unnecessary\n\'neutronv2\' prefixes""), neither of which are backportable.\n\nChange-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1821088\n(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)\n(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)\n(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)\n(cherry picked from commit 3731d1f5afe28b1cb6d36e88c407b65d1653a6df)\n(cherry picked from commit 23e7e6011b9087e25ca14f0da42ebafb0bef653a)\n'}]",1,827126,3243420b0f8010d779a73ff6160eb50655f940d0,6,1,1,15334,,,0,"api: Reject duplicate port IDs in server create

Specifying a duplicate port ID is currently ""allowed"" but results in an
integrity error when nova attempts to create a duplicate
'VirtualInterface' entry. Start rejecting these requests by checking for
duplicate IDs and rejecting offending requests. This is arguably an API
change because there isn't a HTTP 5xx error (server create is an async
operation), however, users shouldn't have to opt in to non-broken
behavior and the underlying instance was never actually created
previously, meaning automation that relied on this ""feature"" was always
going to fail in a later step. We're also silently failing to do what
the user asked (per flow chart at [1]).

[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion

Conflicts:
  nova/api/openstack/compute/servers.py
  nova/tests/unit/api/openstack/compute/test_serversV21.py

NOTE(stephenfin): Conflicts are due to change
Ifa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final
references to nova-network"") and change
Ibd97a0be22e0a894f3b1fdea052ee6359753457c (""nova-net: Remove unnecessary
'neutronv2' prefixes""), neither of which are backportable.

Change-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1821088
(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)
(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)
(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)
(cherry picked from commit 3731d1f5afe28b1cb6d36e88c407b65d1653a6df)
(cherry picked from commit 23e7e6011b9087e25ca14f0da42ebafb0bef653a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/827126/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",3,3243420b0f8010d779a73ff6160eb50655f940d0,bug/1821088," port_uuids = [] if request.port_id in port_uuids: msg = _( ""Port ID '%(port)s' was specified twice: you "" ""cannot attach a port multiple times."" ) % { ""port"": request.port_id, } if request.address is not None: msg = _( ""Specified Fixed IP '%(addr)s' cannot be used "" ""with port '%(port)s': the two cannot be "" ""specified together."" ) % { ""addr"": request.address, ""port"": request.port_id, } raise exc.HTTPBadRequest(explanation=msg) request.network_id = None port_uuids.append(request.port_id)"," request.network_id = None if request.address is not None: msg = _(""Specified Fixed IP '%(addr)s' cannot be used "" ""with port '%(port)s': the two cannot be "" ""specified together."") % { ""addr"": request.address, ""port"": request.port_id}",58,16
openstack%2Fkayobe-config-dev~master~I48a742491c633560f569b99e95cfc423cda3de7b,openstack/kayobe-config-dev,master,I48a742491c633560f569b99e95cfc423cda3de7b,Test control plane deployment using tenks,NEW,2018-11-26 14:25:13.000000000,2022-02-02 15:28:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-26 14:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/c8ac492039cc5b4e16092e1be5db57e316cc9bcc', 'message': 'WIP: Test control plane deployment using tenks\n\n* Set MTU of aio network to 1450\n* Modify network interface name of controller0 to eth0\n\nChange-Id: I48a742491c633560f569b99e95cfc423cda3de7b\nStory: 2004297\nTask: 27853\n'}, {'number': 2, 'created': '2019-12-12 17:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/ceb91ddc1a6b4083b95727abfbcbb13d96febb83', 'message': 'WIP: Test control plane deployment using tenks\n\n* Set MTU of aio network to 1450\n* Modify network interface name of controller0 to eth0\n\nChange-Id: I48a742491c633560f569b99e95cfc423cda3de7b\nStory: 2004297\nTask: 27853\n'}, {'number': 3, 'created': '2022-02-02 14:28:30.000000000', 'files': ['etc/kayobe/inventory/group_vars/controllers/network-interfaces', 'etc/kayobe/networks.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/969cae6656bc00fe1cdd3405df2ed1deef51766a', 'message': 'Test control plane deployment using tenks\n\n* Set MTU of aio network to 1450\n* Modify network interface name of controller0 to eth0\n\nChange-Id: I48a742491c633560f569b99e95cfc423cda3de7b\nStory: 2004297\nTask: 27853\n'}]",0,620071,969cae6656bc00fe1cdd3405df2ed1deef51766a,7,1,3,14826,,,0,"Test control plane deployment using tenks

* Set MTU of aio network to 1450
* Modify network interface name of controller0 to eth0

Change-Id: I48a742491c633560f569b99e95cfc423cda3de7b
Story: 2004297
Task: 27853
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/71/620071/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/inventory/group_vars/controllers/network-interfaces', 'etc/kayobe/networks.yml']",2,c8ac492039cc5b4e16092e1be5db57e316cc9bcc,story/2004297,aio_mtu: 1450,,6,3
openstack%2Fneutron~master~I6591aaacd6367c8ebb40b4641ed31149a8462e47,openstack/neutron,master,I6591aaacd6367c8ebb40b4641ed31149a8462e47,DNM Add some extra logs to debug DHCP issue in TripleO CI,ABANDONED,2022-01-31 08:50:53.000000000,2022-02-02 15:25:24.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 08:50:53.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aee1f690b8b59e8c7f0855970f7258f0f717f9e', 'message': 'DNM Add some extra logs to debug DHCP issue in TripleO CI\n\nRelated-Bug: #1958955\nChange-Id: I6591aaacd6367c8ebb40b4641ed31149a8462e47\n'}]",0,826999,2aee1f690b8b59e8c7f0855970f7258f0f717f9e,7,2,1,11975,,,0,"DNM Add some extra logs to debug DHCP issue in TripleO CI

Related-Bug: #1958955
Change-Id: I6591aaacd6367c8ebb40b4641ed31149a8462e47
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/826999/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,2aee1f690b8b59e8c7f0855970f7258f0f717f9e,bug/1958955," for subnet in network.subnets: LOG.debug(""Checking subnet: %s"", subnet) if subnet.enable_dhcp: LOG.debug(""Enabling dhcp for network: %s"", network) enable_result = self.call_driver('enable', network) LOG.debug(""Enabling dhcp for network: %s; result = %s"", network, enable_result) if enable_result: self.update_isolated_metadata_proxy(network) self.cache.put(network) # After enabling dhcp for network, mark all existing # ports as ready. So that the status of ports which are # created before enabling dhcp can be updated. self.dhcp_ready_ports |= {p.id for p in network.ports} break"," if (any(s for s in network.subnets if s.enable_dhcp) and self.call_driver('enable', network)): self.update_isolated_metadata_proxy(network) self.cache.put(network) # After enabling dhcp for network, mark all existing # ports as ready. So that the status of ports which are # created before enabling dhcp can be updated. self.dhcp_ready_ports |= {p.id for p in network.ports}",15,8
openstack%2Fbifrost~bugfix%2F10.1~I3f5fdc3f63b17b7e5ad6821eb771f62c52924225,openstack/bifrost,bugfix/10.1,I3f5fdc3f63b17b7e5ad6821eb771f62c52924225,[CI] Drop all config,MERGED,2022-01-18 10:28:32.000000000,2022-02-02 15:24:00.000000000,2022-02-02 15:24:00.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 10:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1a3bf62fe4a755a118e02106c444249ce6ab7351', 'message': '[CI] Move Kolla testing to CentOS Stream\n\nRequired by the relevant Kolla Ansible change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823860\nChange-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225\n(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)\n'}, {'number': 2, 'created': '2022-01-26 15:20:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5d681281446bbd415cd27da8746585159b8c70d3', 'message': '[CI] Drop all config\n\nKolla needs to drop reliance on non-stream CentOS 8 but\nbifrost CI in here does not allow merging any patches.\nThus, this patch simply removes all CI config.\n\nRequired by the relevant Kolla Ansible change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823860\nChange-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225\n(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)\n'}]",0,825054,5d681281446bbd415cd27da8746585159b8c70d3,10,3,2,30491,,,0,"[CI] Drop all config

Kolla needs to drop reliance on non-stream CentOS 8 but
bifrost CI in here does not allow merging any patches.
Thus, this patch simply removes all CI config.

Required by the relevant Kolla Ansible change.

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823860
Change-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225
(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/54/825054/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1a3bf62fe4a755a118e02106c444249ce6ab7351,ci-stop-testing-non-stream-centos-bugfix/10.0-bugfix/10.1, - kolla-ansible-centos8s-source-bifrost:, - kolla-ansible-centos8-source-bifrost:,1,1
openstack%2Fbifrost~bugfix%2F10.0~I3f5fdc3f63b17b7e5ad6821eb771f62c52924225,openstack/bifrost,bugfix/10.0,I3f5fdc3f63b17b7e5ad6821eb771f62c52924225,[CI] Drop all config,MERGED,2022-01-18 10:28:03.000000000,2022-02-02 15:23:59.000000000,2022-02-02 15:23:59.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 10:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/46f2c2c5f9b5fe882a88cdb48f5a115589a5c017', 'message': '[CI] Move Kolla testing to CentOS Stream\n\nRequired by the relevant Kolla Ansible change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823555\nChange-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225\n(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)\n'}, {'number': 2, 'created': '2022-01-18 10:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ef7473030f0ad8870fd5655981534a5767eb5623', 'message': '[CI] Move Kolla testing to CentOS Stream\n\nRequired by the relevant Kolla Ansible change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823860\nChange-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225\n(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)\n'}, {'number': 3, 'created': '2022-01-26 15:18:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/008119fd2c6c627d6229a36a7447c49fe62b0509', 'message': '[CI] Drop all config\n\nKolla needs to drop reliance on non-stream CentOS 8 but\nbifrost CI in here does not allow merging any patches.\nThus, this patch simply removes all CI config.\n\nRequired by the relevant Kolla Ansible change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823860\nChange-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225\n(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)\n'}]",3,825053,008119fd2c6c627d6229a36a7447c49fe62b0509,16,3,3,30491,,,0,"[CI] Drop all config

Kolla needs to drop reliance on non-stream CentOS 8 but
bifrost CI in here does not allow merging any patches.
Thus, this patch simply removes all CI config.

Required by the relevant Kolla Ansible change.

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823860
Change-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225
(cherry picked from commit 4d1b0cae867320f8715466e83bcf348cc0e2d3f4)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/825053/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,46f2c2c5f9b5fe882a88cdb48f5a115589a5c017,ci-stop-testing-non-stream-centos-bugfix/10.0, - kolla-ansible-centos8s-source-bifrost:, - kolla-ansible-centos8-source-bifrost:,1,1
openstack%2Fopenstack-ansible-os_manila~stable%2Fussuri~I16eb7804d11fcd18ccfcc461831dfc3714f9b22d,openstack/openstack-ansible-os_manila,stable/ussuri,I16eb7804d11fcd18ccfcc461831dfc3714f9b22d,Remove legacy centos-8 CI jobs.,MERGED,2022-02-02 10:20:30.000000000,2022-02-02 15:22:26.000000000,2022-02-02 15:15:43.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-02 10:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/d0e51b8cc95236ba085da1e7f8a4a347a41fba78', 'message': 'Remove legacy centos-8 CI jobs.\n\nThis distro is EOL and the repositories no longer exist.\n\nChange-Id: I16eb7804d11fcd18ccfcc461831dfc3714f9b22d\n'}, {'number': 2, 'created': '2022-02-02 14:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/c0d9dc35950d379b21d12486adf8a56d6e93fbf9', 'message': 'Remove legacy centos-8 CI jobs.\n\nThis distro is EOL and the repositories no longer exist.\n\nDisable the other failing CI jobs as this branch is now\nin extended maintainance.\n\nChange-Id: I16eb7804d11fcd18ccfcc461831dfc3714f9b22d\n'}, {'number': 3, 'created': '2022-02-02 14:09:07.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/f1198397d859af53ade86f853deefa32a7656abc', 'message': 'Remove legacy centos-8 CI jobs.\n\nThis distro is EOL and the repositories no longer exist.\n\nDisable the other failing CI jobs as this branch is now\nin extended maintainance.\n\nChange-Id: I16eb7804d11fcd18ccfcc461831dfc3714f9b22d\n'}]",0,827470,f1198397d859af53ade86f853deefa32a7656abc,13,3,3,25023,,,0,"Remove legacy centos-8 CI jobs.

This distro is EOL and the repositories no longer exist.

Disable the other failing CI jobs as this branch is now
in extended maintainance.

Change-Id: I16eb7804d11fcd18ccfcc461831dfc3714f9b22d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/70/827470/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d0e51b8cc95236ba085da1e7f8a4a347a41fba78,osa/remove-centos8,, - openstack-ansible-deploy-aio_metal-centos-8 - openstack-ansible-deploy-aio_metal-centos-8,0,2
openstack%2Fmonasca-api~stable%2Fxena~I3bfefe5b9bc601f383e0b9d80046de387e420fd8,openstack/monasca-api,stable/xena,I3bfefe5b9bc601f383e0b9d80046de387e420fd8,Fix problem with  pyparsing.operatorPrecedence method,ABANDONED,2022-02-01 17:59:53.000000000,2022-02-02 15:15:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 17:59:53.000000000', 'files': ['monasca_api/tests/test_alarm_expression.py', 'requirements.txt', 'lower-constraints.txt', 'monasca_api/expression_parser/alarm_expr_parser.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/38b0c79204457564d74e84bc69bcaab2b482ec06', 'message': 'Fix problem with  pyparsing.operatorPrecedence method\n\nPyparsing library was recently updated in golab requiremnts [1].\nSince version 3.0.0 operatorPrecedence method was renamed to infixNotation [2].\n\n[1]https://github.com/openstack/requirements/commit/62f92c01870c2cf007ca65c5f796e819d7ae52e4\n[2]https://github.com/pyparsing/pyparsing/blob/16b766b97c9c144be8c3fad4fec00417728abfa6/CHANGES#L598\n\nChange-Id: I3bfefe5b9bc601f383e0b9d80046de387e420fd8\n(cherry picked from commit 0b63819ff13876f46cf8775947979d2c3d787649)\n'}]",0,827247,38b0c79204457564d74e84bc69bcaab2b482ec06,3,1,1,28062,,,0,"Fix problem with  pyparsing.operatorPrecedence method

Pyparsing library was recently updated in golab requiremnts [1].
Since version 3.0.0 operatorPrecedence method was renamed to infixNotation [2].

[1]https://github.com/openstack/requirements/commit/62f92c01870c2cf007ca65c5f796e819d7ae52e4
[2]https://github.com/pyparsing/pyparsing/blob/16b766b97c9c144be8c3fad4fec00417728abfa6/CHANGES#L598

Change-Id: I3bfefe5b9bc601f383e0b9d80046de387e420fd8
(cherry picked from commit 0b63819ff13876f46cf8775947979d2c3d787649)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/47/827247/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/tests/test_alarm_expression.py', 'requirements.txt', 'lower-constraints.txt', 'monasca_api/expression_parser/alarm_expr_parser.py']",4,38b0c79204457564d74e84bc69bcaab2b482ec06,pyparsing-stable/xena," pyparsing.infixNotation(sub_expression, [(AND, 2, pyparsing.opAssoc.LEFT, AndSubExpr), (OR, 2, pyparsing.opAssoc.LEFT, OrSubExpr)]))"," pyparsing.operatorPrecedence(sub_expression, [(AND, 2, pyparsing.opAssoc.LEFT, AndSubExpr), (OR, 2, pyparsing.opAssoc.LEFT, OrSubExpr)]))",6,6
openstack%2Fkayobe~master~I0665806708d507d9c76f7b5075ceed5837af1597,openstack/kayobe,master,I0665806708d507d9c76f7b5075ceed5837af1597,Test control plane deployment using tenks,NEW,2018-11-26 14:26:47.000000000,2022-02-02 15:11:57.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 14:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ca467a8cd59867c4eae00e2fc0eb6ca363cb8d1f', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 2, 'created': '2018-11-26 16:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/70baca231cb04d27e83a9762be914708db5110f3', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 3, 'created': '2018-11-26 19:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fb1ad87398081f174f9dbb8b8b982994334a04de', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 4, 'created': '2018-11-27 14:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ce4b402cbb66144163678281c0314951ee440436', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 5, 'created': '2018-11-27 15:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0f642e6ab0165d46c904dfd198f5de0482d6f465', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 6, 'created': '2018-11-27 19:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7a2e0a7314ee6a19b560e3fadb532d6a60d5e674', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 7, 'created': '2018-11-28 13:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/10ad4ba11de4f1e9de1f4f1945a70ee756f0e479', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 8, 'created': '2018-11-29 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/134837a7c5b32295f166f31dfc775dadb8000dc5', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 9, 'created': '2018-11-29 17:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/65ce8cc60ef0a64ea341cd70071b62eb4a5d0f4b', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 10, 'created': '2018-11-29 18:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/802e39fec597b1c8bfa8c3b10583d19dc65a106e', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 11, 'created': '2018-12-02 21:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed6462cf79ab1dc9869c36d12e459cf4430b4665', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 12, 'created': '2018-12-02 21:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/636b21a667c3fb085e8c65c44718c214096c4fa9', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 13, 'created': '2018-12-07 14:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/901f9a7676b1b1106b60104e1d82a3efc9df8f8a', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 14, 'created': '2018-12-07 14:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/91eee39f244db799679d2c1e89104724c5f72f79', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 15, 'created': '2018-12-08 15:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1410012e48eac3f72ba2bd933a96f59eb5d860ea', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 16, 'created': '2018-12-08 16:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b26e6f2f29442ef703b70293c57ac7a0873c43f5', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 17, 'created': '2018-12-09 10:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a592cac56bab3da30e78c1b240477064589fe6ac', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 18, 'created': '2018-12-13 10:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fc5e26abd96632ee6c164ce88676c39f939f0e23', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 19, 'created': '2018-12-20 17:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fceb7fd9b9d23171416581fd2acbbb9f5542d1cf', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620052\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 20, 'created': '2018-12-20 17:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3d35413be64693d7611d4ff06b10101c5c44e488', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 21, 'created': '2018-12-20 18:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/52514527a6b7f5b3b0b4532bfad26133cae4c24e', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 22, 'created': '2018-12-20 18:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/289e1f6bb46e0ca9bb6fe6811f5f44ffd4dec420', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 23, 'created': '2018-12-20 19:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/05eeb926a723e1f87b35b49abbaecd2915dc1fd8', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 24, 'created': '2018-12-21 09:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d0b5b2781f3b717a7ab29962434cffd6b154dd27', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 25, 'created': '2019-01-11 10:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1305298635967f0a4e1fdbacbbbb3a97e2f58ee8', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 26, 'created': '2019-01-11 16:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9285beef45a0c3009bedd012f2b26627b1ea871d', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 27, 'created': '2019-01-29 10:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/79a77b4bc8a5445044c240d9d8c53855fff5e872', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 28, 'created': '2019-01-29 12:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/015b73ff452c419b6680e0c290f719a77f527e5c', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/626635\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 29, 'created': '2019-01-31 16:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f05a363b88e34df1b302b198cb9fdcd57ad2a1e', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 30, 'created': '2019-03-29 17:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/499af0e31917cb7dd6b6516274b7bc854fe3a119', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 31, 'created': '2019-03-29 18:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e8e673346398b93d228d561174af05cf5e9ba739', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 32, 'created': '2019-03-30 08:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4082b833c618db6ba8e9b1b1313c31bbd8cb35e1', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 33, 'created': '2019-12-12 17:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b4b84b24faf05ec6af4abf1f4337ffc103749469', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 34, 'created': '2019-12-13 10:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/36368a2abb91684970e206605bd50e2590cfbf89', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 35, 'created': '2019-12-13 11:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6199da7eea3ac05f66e05b94f5a8863c3a8f2084', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 36, 'created': '2019-12-13 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6db9f6def04bd93d9f4d5add4a7629635fc9e52d', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 37, 'created': '2020-01-03 12:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3993b5aed9ff1dfbbf7e0a436428a50c3b6b12d7', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.openstack.org/620071\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 38, 'created': '2020-01-03 15:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8a61408cd3379136af71c74ff878f557079971e4', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.opendev.org/620071\nDepends-On: https://review.opendev.org/701032\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 39, 'created': '2020-01-03 16:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/89eccff39f2c4b5760b6aa34e44d1c3beec6d621', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.opendev.org/620071\nDepends-On: https://review.opendev.org/701032\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 40, 'created': '2021-06-07 13:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/405af3e46683bb8ca4ebbdb270709d459ef04001', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/620071/\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 41, 'created': '2021-06-07 14:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/65f7f04433f6dfabc43631aadc52a547094ed936', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/620071/\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 42, 'created': '2021-06-08 08:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b1a8c3314b8c6a083688eb6f5161ccd173a34e6', 'message': ""WIP: Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/620071/\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}, {'number': 43, 'created': '2022-02-02 14:30:53.000000000', 'files': ['dev/seed-test.sh', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'dev/functions', 'dev/tenks-deploy-config-overcloud.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'zuul.d/project.yaml', 'playbooks/kayobe-seed-base/bifrost-overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4c7a49a3adf28800866e76385a2a7ec00cec107c', 'message': ""Test control plane deployment using tenks\n\nUses the seed to deploy a 'bare metal' control plane.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/620071/\nChange-Id: I0665806708d507d9c76f7b5075ceed5837af1597\nStory: 2004297\nTask: 27853\n""}]",4,620074,4c7a49a3adf28800866e76385a2a7ec00cec107c,107,4,43,14826,,,0,"Test control plane deployment using tenks

Uses the seed to deploy a 'bare metal' control plane.

Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/620071/
Change-Id: I0665806708d507d9c76f7b5075ceed5837af1597
Story: 2004297
Task: 27853
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/74/620074/24 && git format-patch -1 --stdout FETCH_HEAD,"['dev/seed-test.sh', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-seed-base/run.yml', 'dev/tenks-teardown.sh', 'playbooks/kayobe-seed-base/pre.yml', 'ansible/seed-introspection-rules.yml', 'dev/functions', 'dev/tenks-deploy-config-overcloud.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",10,ca467a8cd59867c4eae00e2fc0eb6ca363cb8d1f,kolla-host-vars, - name: openstack/tenks,,200,12
openstack%2Fpuppet-openstack-integration~master~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,master,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-02 08:21:50.000000000,2022-02-02 14:58:57.000000000,2022-02-02 14:58:57.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 08:21:50.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b2fa6c0e7bb6d5e319cd820484c120d043f58ab2', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n'}]",3,827422,b2fa6c0e7bb6d5e319cd820484c120d043f58ab2,11,3,1,9816,,,0,"Ceph: Use centos-8-stream instead of centos-8

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/22/827422/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,b2fa6c0e7bb6d5e319cd820484c120d043f58ab2,," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}-stream/storage/x86_64/ceph-${CEPH_VERSION}/"""," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}/storage/x86_64/ceph-${CEPH_VERSION}/""",2,2
openstack%2Fcinder~stable%2Fxena~I189b556e1ca643635faae5eb5382bd6caa68aa4c,openstack/cinder,stable/xena,I189b556e1ca643635faae5eb5382bd6caa68aa4c,[Pure Storage] Add check for NVMe-FC capable array,MERGED,2021-11-08 20:24:30.000000000,2022-02-02 14:54:59.000000000,2022-02-02 11:58:38.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-08 20:24:30.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-check-nvmefc-ports-cf2aec3952d8192f.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d030128251c6b439255656973b94fcb3f7c3c2fc', 'message': '[Pure Storage] Add check for NVMe-FC capable array\n\nRecent arrays can handle both traditional FC and NVMe-FC ports.\nThe FC (scsi) driver should not be touching NVMe-FC ports because\nthat could create zones through FCZM that cross both FC types,\nso this check makes sure the driver only uses wwns that do not\nhave an associated nqn.\n\nChange-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c\n(cherry picked from commit 25f2e27b21d775709edc1958e2269d4df855dd36)\n'}]",4,817090,d030128251c6b439255656973b94fcb3f7c3c2fc,43,7,1,13425,,,0,"[Pure Storage] Add check for NVMe-FC capable array

Recent arrays can handle both traditional FC and NVMe-FC ports.
The FC (scsi) driver should not be touching NVMe-FC ports because
that could create zones through FCZM that cross both FC types,
so this check makes sure the driver only uses wwns that do not
have an associated nqn.

Change-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c
(cherry picked from commit 25f2e27b21d775709edc1958e2269d4df855dd36)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/817090/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-check-nvmefc-ports-cf2aec3952d8192f.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']",3,d030128251c6b439255656973b94fcb3f7c3c2fc,check_for_nvmefc-stable/xena," ""nqn"": None, ""nqn"": None,",,18,1
openstack%2Fopenstack-ansible~master~I09cb19803ffa9dbad3cf99c4ebaff027a32cbd06,openstack/openstack-ansible,master,I09cb19803ffa9dbad3cf99c4ebaff027a32cbd06,[DOC] A centos deployment host does not need the RDO repo installing,MERGED,2022-02-01 17:01:28.000000000,2022-02-02 14:41:01.000000000,2022-02-02 14:37:28.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 17:01:28.000000000', 'files': ['deploy-guide/source/deploymenthost.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fd74257369199f316eab5fa0860355c017ab070c', 'message': '[DOC] A centos deployment host does not need the RDO repo installing\n\nChange-Id: I09cb19803ffa9dbad3cf99c4ebaff027a32cbd06\n'}]",0,827326,fd74257369199f316eab5fa0860355c017ab070c,9,4,1,25023,,,0,"[DOC] A centos deployment host does not need the RDO repo installing

Change-Id: I09cb19803ffa9dbad3cf99c4ebaff027a32cbd06
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/827326/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deploymenthost.rst'],1,fd74257369199f316eab5fa0860355c017ab070c,,, # dnf install \https://repos.fedorapeople.org/repos/openstack/openstack-|rdo_series|/rdo-release-|rdo_series|.el8.rpm,0,1
openstack%2Fpython-openstackclient~master~Ie1088b14b59ae686254e6b63c4067330f3f5a5dc,openstack/python-openstackclient,master,Ie1088b14b59ae686254e6b63c4067330f3f5a5dc,(wip) dnm test gate,ABANDONED,2022-01-28 20:17:26.000000000,2022-02-02 14:37:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-28 20:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9577edd885e5d27d9bc1638085c1aa69f2d0c3cc', 'message': '(wip) dnm test gate\n\nChange-Id: Ie1088b14b59ae686254e6b63c4067330f3f5a5dc\n'}, {'number': 2, 'created': '2022-01-31 09:29:45.000000000', 'files': ['releasenotes/notes/add-quota-set-for-network-11fcd7b9e08624b5.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2ffba13b6d6b6a545170bd2f2afc6f0cec1929a3', 'message': '(wip) dnm test gate\n\nChange-Id: Ie1088b14b59ae686254e6b63c4067330f3f5a5dc\n'}]",0,826936,2ffba13b6d6b6a545170bd2f2afc6f0cec1929a3,6,1,2,32667,,,0,"(wip) dnm test gate

Change-Id: Ie1088b14b59ae686254e6b63c4067330f3f5a5dc
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/826936/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-quota-set-for-network-11fcd7b9e08624b5.yaml'],1,9577edd885e5d27d9bc1638085c1aa69f2d0c3cc,dnm, [`bug 1489441 <https://bugs.launchpad.net/bugs/1489441>`_], [Bug `1489441 <https://bugs.launchpad.net/bugs/1489441>`_],1,1
openstack%2Fpuppet-cloudkitty~master~I5257fcf172ed8e0e6dee0e466dc6490cf4e41d88,openstack/puppet-cloudkitty,master,I5257fcf172ed8e0e6dee0e466dc6490cf4e41d88,Implements enable_proxy_headers_parsing,ABANDONED,2020-07-15 14:59:32.000000000,2022-02-02 14:36:37.000000000,,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 14:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/10c8efa756d8cceeedf72cc0090cfbf5f28faf80', 'message': ""Implements enable_proxy_headers_parsing\n\nEven though it's in the init.pp comments, the feature to support this\nparamenter wasn't implemented. This patch fixes it.\n\nChange-Id: I5257fcf172ed8e0e6dee0e466dc6490cf4e41d88\n""}, {'number': 2, 'created': '2020-07-20 10:12:09.000000000', 'files': ['spec/classes/cloudkitty_init_spec.rb', 'releasenotes/notes/enable_proxy_headers_parsing-b57fbf7664192fc4.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/387833868ee5f512e1442d870ba15263eca0c354', 'message': ""Implements enable_proxy_headers_parsing\n\nEven though it's in the init.pp comments, the feature to support this\nparamenter wasn't implemented. This patch fixes it.\n\nChange-Id: I5257fcf172ed8e0e6dee0e466dc6490cf4e41d88\n""}]",3,741234,387833868ee5f512e1442d870ba15263eca0c354,8,3,2,6476,,,0,"Implements enable_proxy_headers_parsing

Even though it's in the init.pp comments, the feature to support this
paramenter wasn't implemented. This patch fixes it.

Change-Id: I5257fcf172ed8e0e6dee0e466dc6490cf4e41d88
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/34/741234/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,10c8efa756d8cceeedf72cc0090cfbf5f28faf80,," $enable_proxy_headers_parsing = $::os_service_default, oslo::middleware {'cloudkitty_config': enable_proxy_headers_parsing => $enable_proxy_headers_parsing, } ",,5,0
openstack%2Fpuppet-openstack-integration~master~Ieb6398ea2c559a6789c7f8254509d9100cf8298e,openstack/puppet-openstack-integration,master,Ieb6398ea2c559a6789c7f8254509d9100cf8298e,[DNM] testing increasing inifile version pin,ABANDONED,2020-09-30 22:47:08.000000000,2022-02-02 14:34:25.000000000,,"[{'_account_id': 3031}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-30 22:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/52d82f9cbf4f551c8bd9a7ca8e5a4ff0cf621d75', 'message': '[DNM] testing increasing inifile version pin\n\nChange-Id: Ieb6398ea2c559a6789c7f8254509d9100cf8298e\n'}, {'number': 2, 'created': '2020-10-04 22:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cb0c723221054f2656b7e6d5ec90d9a9bf403569', 'message': '[DNM] testing increasing inifile version pin\n\nDepends-on: https://review.opendev.org/#/c/755403/\n\nChange-Id: Ieb6398ea2c559a6789c7f8254509d9100cf8298e\n'}, {'number': 3, 'created': '2020-10-05 03:14:54.000000000', 'files': ['external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/49453ffb60d6907bb50eec3370d2e3603f2d08c7', 'message': '[DNM] testing increasing inifile version pin\n\nChange-Id: Ieb6398ea2c559a6789c7f8254509d9100cf8298e\n'}]",0,755403,49453ffb60d6907bb50eec3370d2e3603f2d08c7,13,4,3,3031,,,0,"[DNM] testing increasing inifile version pin

Change-Id: Ieb6398ea2c559a6789c7f8254509d9100cf8298e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/03/755403/1 && git format-patch -1 --stdout FETCH_HEAD,['external_modules.txt'],1,52d82f9cbf4f551c8bd9a7ca8e5a4ff0cf621d75,,"puppetlabs/puppetlabs-inifile,4.3.0","puppetlabs/puppetlabs-inifile,2.2.0",1,1
openstack%2Fpuppet-ceph~master~I9d31aacb9b41d7d1e9f017f80e54bda12c58bfd6,openstack/puppet-ceph,master,I9d31aacb9b41d7d1e9f017f80e54bda12c58bfd6,Increase upper version of deps,ABANDONED,2020-09-25 05:01:49.000000000,2022-02-02 14:33:49.000000000,,"[{'_account_id': 3031}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 05:01:49.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/7f2a7d08033069ef2f58873e2ef7dce5e16a288b', 'message': ""Increase upper version of deps\n\nThe dependencies are old and if you are using something like\npuppet-librarian then this module won't install.\n\nLooking at how this module uses these dependencies it should\nbe able to use the newer versions without issue.\n\nChange-Id: I9d31aacb9b41d7d1e9f017f80e54bda12c58bfd6\n""}]",1,754261,7f2a7d08033069ef2f58873e2ef7dce5e16a288b,5,3,1,3031,,,0,"Increase upper version of deps

The dependencies are old and if you are using something like
puppet-librarian then this module won't install.

Looking at how this module uses these dependencies it should
be able to use the newer versions without issue.

Change-Id: I9d31aacb9b41d7d1e9f017f80e54bda12c58bfd6
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/61/754261/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,7f2a7d08033069ef2f58873e2ef7dce5e16a288b,," ""version_requirement"": "">=2.0.0 <8.0.0"" ""version_requirement"": "">=1.2.1 <7.0.0"" ""version_requirement"": "">=2.0.0 <5.0.0"" ""version_requirement"": "">=5.0.0 <7.0.0"""," ""version_requirement"": "">=2.0.0 <3.0.0"" ""version_requirement"": "">=1.2.1 <3.0.0"" ""version_requirement"": "">=2.0.0 <3.0.0"" ""version_requirement"": "">=5.0.0 <6.0.0""",4,4
openstack%2Fdevstack~master~I6929b0f971ea72e5d7b77d85219db069431c48d3,openstack/devstack,master,I6929b0f971ea72e5d7b77d85219db069431c48d3,Do not add links to upper-constraints.txt but filter packages,ABANDONED,2020-12-02 14:39:07.000000000,2022-02-02 14:31:56.000000000,,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-12-02 14:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8be5781eb05b0ddc282d295c1f59de1f9b30cddb', 'message': ""WIP: Do not add links to upper-constraints.txt and filter packages\n\nDuring installation upper-constraints.txt is edited: package names that\nneed to be installed from local source, are replaced with 'local link'.\nWith this editing we avoid to accidentally install a package from pypi,\nthat should be installed from local source, if it is pulled in as\ndependency of any package.\n\nTo be able to use links in constraint files was an undocumented and\nunintentional feature [1], which behavior was removed with the newly\nintroduced resolver of pip, in version 20.3 [2].\n\nSince the packages that are available in local source are installed\nanyway, we can simply filter out these package names from the\nconstraint file.\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://pypi.org/project/pip/20.3/\n\nChange-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3\n""}, {'number': 2, 'created': '2020-12-03 08:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/000544cd0982dd939d447fe537ede269fe7ead28', 'message': ""WIP: Do not add links to upper-constraints.txt and filter packages\n\nDuring installation upper-constraints.txt is edited: package names that\nneed to be installed from local source, are replaced with 'local link'.\nWith this editing we avoid to accidentally install a package from pypi,\nthat should be installed from local source, if it is pulled in as\ndependency of any package.\n\nTo be able to use links in constraint files was an undocumented and\nunintentional feature [1], which behavior was removed with the newly\nintroduced resolver of pip, in version 20.3 [2].\n\nSince the packages that are available in local source are installed\nanyway, we can simply filter out these package names from the\nconstraint file.\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://pypi.org/project/pip/20.3/\n\nDepends-On: https://review.opendev.org/765298\nChange-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3\n""}, {'number': 3, 'created': '2021-01-19 14:37:50.000000000', 'files': ['inc/python', 'tools/install_pip.sh', 'tools/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5e408844a402116b4f500dd6b8c271d258381e4f', 'message': ""Do not add links to upper-constraints.txt but filter packages\n\nDuring installation upper-constraints.txt is edited: package names that\nneed to be installed from local source, are replaced with 'local link'.\nWith this editing we avoid to accidentally install a package from pypi,\nthat should be installed from local source, if it is pulled in as\ndependency of any package.\n\nTo be able to use links in constraint files was an undocumented and\nunintentional feature [1], which behavior was removed with the newly\nintroduced resolver of pip, in version 20.3 [2].\n\nSince the packages that are available in local source are installed\nanyway, we can simply filter out these package names from the\nconstraint file.\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://pypi.org/project/pip/20.3/\n\nCloses-Bug: #1906322\nChange-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3\n""}]",2,765149,5e408844a402116b4f500dd6b8c271d258381e4f,22,6,3,17685,,,0,"Do not add links to upper-constraints.txt but filter packages

During installation upper-constraints.txt is edited: package names that
need to be installed from local source, are replaced with 'local link'.
With this editing we avoid to accidentally install a package from pypi,
that should be installed from local source, if it is pulled in as
dependency of any package.

To be able to use links in constraint files was an undocumented and
unintentional feature [1], which behavior was removed with the newly
introduced resolver of pip, in version 20.3 [2].

Since the packages that are available in local source are installed
anyway, we can simply filter out these package names from the
constraint file.

[1] https://github.com/pypa/pip/issues/8210
[2] https://pypi.org/project/pip/20.3/

Closes-Bug: #1906322
Change-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/765149/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/install_pip.sh', 'tools/cap-pip.txt']",3,8be5781eb05b0ddc282d295c1f59de1f9b30cddb,,,pip<20.3 ,3,4
openstack%2Fopenstack-ansible-tests~stable%2Fwallaby~I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1,openstack/openstack-ansible-tests,stable/wallaby,I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1,Remove legacy centos-8 jobs,MERGED,2022-02-01 11:43:16.000000000,2022-02-02 14:28:22.000000000,2022-02-02 14:21:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 11:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e058ee23f0911273bc36a04540f9918f25bb6d32', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1\n'}, {'number': 2, 'created': '2022-02-01 13:35:16.000000000', 'files': ['test-ansible-env-prep.sh', 'zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c0d491e298533be9499bff5a78c6d1081fb4a112', 'message': 'Remove legacy centos-8 jobs\n\nAlso pin rich version for ansible-lint in the same patch to\nallow linter job to pass.\n\nChange-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1\n'}]",3,827239,c0d491e298533be9499bff5a78c6d1081fb4a112,18,3,2,25023,,,0,"Remove legacy centos-8 jobs

Also pin rich version for ansible-lint in the same patch to
allow linter job to pass.

Change-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/39/827239/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,e058ee23f0911273bc36a04540f9918f25bb6d32,osa/remove-centos8,, name: openstack-ansible-functional-centos-8 parent: openstack-ansible-functional nodeset: centos-8 - job: name: openstack-ansible-upgrade-centos-8 parent: openstack-ansible-upgrade nodeset: centos-8 - job: name: openstack-ansible-functional-distro_install-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: distro_install - job:,2,22
openstack%2Fdevstack~stable%2Fussuri~I6929b0f971ea72e5d7b77d85219db069431c48d3,openstack/devstack,stable/ussuri,I6929b0f971ea72e5d7b77d85219db069431c48d3,WIP: Do not add links to upper-constraints.txt and filter packages,ABANDONED,2020-12-04 15:12:11.000000000,2022-02-02 14:24:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-04 15:12:11.000000000', 'files': ['inc/python', 'tools/install_pip.sh', 'tools/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d5b4a6f7dd416ec612c4c440288d9b0893975257', 'message': ""WIP: Do not add links to upper-constraints.txt and filter packages\n\nDuring installation upper-constraints.txt is edited: package names that\nneed to be installed from local source, are replaced with 'local link'.\nWith this editing we avoid to accidentally install a package from pypi,\nthat should be installed from local source, if it is pulled in as\ndependency of any package.\n\nTo be able to use links in constraint files was an undocumented and\nunintentional feature [1], which behavior was removed with the newly\nintroduced resolver of pip, in version 20.3 [2].\n\nSince the packages that are available in local source are installed\nanyway, we can simply filter out these package names from the\nconstraint file.\n\nConflicts:\n    tools/install_pip.sh\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://pypi.org/project/pip/20.3/\n\nChange-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3\n(cherry picked from commit 8be5781eb05b0ddc282d295c1f59de1f9b30cddb)\n(cherry picked from commit 9b302d6d731a2609c604d8ef219c06537c8b1378)\n""}]",0,765548,d5b4a6f7dd416ec612c4c440288d9b0893975257,5,1,1,17685,,,0,"WIP: Do not add links to upper-constraints.txt and filter packages

During installation upper-constraints.txt is edited: package names that
need to be installed from local source, are replaced with 'local link'.
With this editing we avoid to accidentally install a package from pypi,
that should be installed from local source, if it is pulled in as
dependency of any package.

To be able to use links in constraint files was an undocumented and
unintentional feature [1], which behavior was removed with the newly
introduced resolver of pip, in version 20.3 [2].

Since the packages that are available in local source are installed
anyway, we can simply filter out these package names from the
constraint file.

Conflicts:
    tools/install_pip.sh

[1] https://github.com/pypa/pip/issues/8210
[2] https://pypi.org/project/pip/20.3/

Change-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3
(cherry picked from commit 8be5781eb05b0ddc282d295c1f59de1f9b30cddb)
(cherry picked from commit 9b302d6d731a2609c604d8ef219c06537c8b1378)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/765548/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/install_pip.sh', 'tools/cap-pip.txt']",3,d5b4a6f7dd416ec612c4c440288d9b0893975257,,,pip<20.3 ,4,7
openstack%2Fdevstack~stable%2Fvictoria~I6929b0f971ea72e5d7b77d85219db069431c48d3,openstack/devstack,stable/victoria,I6929b0f971ea72e5d7b77d85219db069431c48d3,WIP: Do not add links to upper-constraints.txt and filter packages,ABANDONED,2020-12-03 08:49:59.000000000,2022-02-02 14:24:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-03 08:49:59.000000000', 'files': ['inc/python', 'tools/install_pip.sh', 'tools/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b302d6d731a2609c604d8ef219c06537c8b1378', 'message': ""WIP: Do not add links to upper-constraints.txt and filter packages\n\nDuring installation upper-constraints.txt is edited: package names that\nneed to be installed from local source, are replaced with 'local link'.\nWith this editing we avoid to accidentally install a package from pypi,\nthat should be installed from local source, if it is pulled in as\ndependency of any package.\n\nTo be able to use links in constraint files was an undocumented and\nunintentional feature [1], which behavior was removed with the newly\nintroduced resolver of pip, in version 20.3 [2].\n\nSince the packages that are available in local source are installed\nanyway, we can simply filter out these package names from the\nconstraint file.\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://pypi.org/project/pip/20.3/\n\nChange-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3\n(cherry picked from commit 8be5781eb05b0ddc282d295c1f59de1f9b30cddb)\n""}]",0,765298,9b302d6d731a2609c604d8ef219c06537c8b1378,3,1,1,17685,,,0,"WIP: Do not add links to upper-constraints.txt and filter packages

During installation upper-constraints.txt is edited: package names that
need to be installed from local source, are replaced with 'local link'.
With this editing we avoid to accidentally install a package from pypi,
that should be installed from local source, if it is pulled in as
dependency of any package.

To be able to use links in constraint files was an undocumented and
unintentional feature [1], which behavior was removed with the newly
introduced resolver of pip, in version 20.3 [2].

Since the packages that are available in local source are installed
anyway, we can simply filter out these package names from the
constraint file.

[1] https://github.com/pypa/pip/issues/8210
[2] https://pypi.org/project/pip/20.3/

Change-Id: I6929b0f971ea72e5d7b77d85219db069431c48d3
(cherry picked from commit 8be5781eb05b0ddc282d295c1f59de1f9b30cddb)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/765298/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/install_pip.sh', 'tools/cap-pip.txt']",3,9b302d6d731a2609c604d8ef219c06537c8b1378,,,pip<20.3 ,3,4
openstack%2Fdevstack~stable%2Fvictoria~I169a0017998054604a63ac6c177d0f43f8a32ba6,openstack/devstack,stable/victoria,I169a0017998054604a63ac6c177d0f43f8a32ba6,openEuler 20.03 LTS SP1 support,ABANDONED,2021-04-08 08:15:42.000000000,2022-02-02 14:23:24.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 08:15:42.000000000', 'files': ['lib/ldap', 'lib/neutron_plugins/ovs_base', 'files/rpms-openeuler/openvswitch', 'lib/nova', 'lib/nova_plugins/functions-libvirt', 'files/rpms-openeuler/keystone', 'files/rpms-openeuler/n-cpu', 'lib/lvm', 'files/rpms-openeuler/horizon', 'files/rpms-openeuler/ldap', 'functions-common', 'files/rpms-openeuler/nova', 'files/rpms-openeuler/q-l3', 'files/rpms-openeuler/cinder', 'files/rpms-openeuler/neutron-l3', 'files/rpms-openeuler/ovn', 'files/rpms-openeuler/q-agt', 'lib/horizon', 'stack.sh', 'lib/databases/mysql', 'lib/cinder', 'lib/nova_plugins/hypervisor-libvirt', 'lib/databases/postgresql', 'files/rpms-openeuler/neutron-agent', 'lib/rpc_backend', 'files/rpms-openeuler/ceph', 'files/rpms-openeuler/dstat', 'files/rpms-openeuler/os-brick', 'inc/python', 'files/rpms-openeuler/neutron-common', 'tools/fixup_stuff.sh', 'tools/install_pip.sh', 'tools/install_prereqs.sh', 'lib/apache', 'files/rpms-openeuler/general', 'files/rpms-openeuler/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5777d79304f5587011a2716ad6f146709a0584ff', 'message': 'openEuler 20.03 LTS SP1 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,785338,5777d79304f5587011a2716ad6f146709a0584ff,4,2,1,22076,,,0,"openEuler 20.03 LTS SP1 support

openEuler is an open-source Linux based operating system. The current
openEuler kernel is based on Linux and supports Kunpeng and other processors
like X86_64. It fully unleashes the potential of computing chips. As an
efficient, stable, and secure open-source OS built by global open-source
contributors, openEuler applies to database, big data, cloud computing,
and artificial intelligence (AI) scenarios. openEuler is using RPM for package
management.

Note:
Currently there is no available package for uwsgi-plugin-python3, so that
openEuler needs manually install it from source.

Website: https://openeuler.org/en/

Change-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6
Co-Authored-By: Wander Way <wanderwayout@gmail.com>
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/785338/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ldap', 'lib/neutron_plugins/ovs_base', 'files/rpms-openeuler/openvswitch', 'lib/nova', 'lib/nova_plugins/functions-libvirt', 'files/rpms-openeuler/keystone', 'files/rpms-openeuler/n-cpu', 'lib/lvm', 'files/rpms-openeuler/horizon', 'files/rpms-openeuler/ldap', 'functions-common', 'files/rpms-openeuler/nova', 'files/rpms-openeuler/q-l3', 'files/rpms-openeuler/cinder', 'files/rpms-openeuler/neutron-l3', 'files/rpms-openeuler/ovn', 'files/rpms-openeuler/q-agt', 'lib/horizon', 'stack.sh', 'lib/databases/mysql', 'lib/cinder', 'lib/nova_plugins/hypervisor-libvirt', 'lib/databases/postgresql', 'files/rpms-openeuler/neutron-agent', 'lib/rpc_backend', 'files/rpms-openeuler/ceph', 'files/rpms-openeuler/dstat', 'files/rpms-openeuler/os-brick', 'inc/python', 'files/rpms-openeuler/neutron-common', 'tools/fixup_stuff.sh', 'tools/install_pip.sh', 'tools/install_prereqs.sh', 'lib/apache', 'files/rpms-openeuler/general', 'files/rpms-openeuler/swift']",36,5777d79304f5587011a2716ad6f146709a0584ff,,curl liberasurecode-devel memcached rsync-daemon sqlite xfsprogs xinetd ,,203,33
openstack%2Fdevstack~stable%2Ftrain~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/train,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-02 08:15:40.000000000,2022-02-02 14:20:16.000000000,2022-02-02 14:17:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 31245}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-02-02 08:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/64a25c1d1c140fbaf6340f5142f50856dea32ff0', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nNOTE: stable/train had its own method to provide support for py3x.\nThis patch uses it instead of pushing the master patch approach.\n\nConflicts:\n  tools/install_pip.sh\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n'}, {'number': 2, 'created': '2022-02-02 09:36:24.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/05a2cebeb4e93377fa88633eef4b2cc0ea584450', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nNOTE: stable/train had its own method to provide support for py3x.\nThis patch uses it instead of pushing the master patch approach.\n\nThis patch is also fixing the py35 pip URL string that should be\nhttps://bootstrap.pypa.io/pip/3.5/get-pip.py.\n\nConflicts:\n  tools/install_pip.sh\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n'}]",2,827421,05a2cebeb4e93377fa88633eef4b2cc0ea584450,14,4,2,16688,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

NOTE: stable/train had its own method to provide support for py3x.
This patch uses it instead of pushing the master patch approach.

This patch is also fixing the py35 pip URL string that should be
https://bootstrap.pypa.io/pip/3.5/get-pip.py.

Conflicts:
  tools/install_pip.sh

Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/827421/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,64a25c1d1c140fbaf6340f5142f50856dea32ff0,bug/1959600," elif [[ ""$PYTHON3_VERSION"" == ""3.6"" ]]; then PIP_GET_PIP_URL=$(dirname $PIP_GET_PIP_URL)/3.6/$(basename $PIP_GET_PIP_URL) LOCAL_PIP=${LOCAL_PIP}-py36",,3,0
openstack%2Fcliff~stable%2Fvictoria~Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,openstack/cliff,stable/victoria,Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,Remove lower-constraints,MERGED,2022-01-28 11:31:53.000000000,2022-02-02 14:18:28.000000000,2022-02-02 14:12:00.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-01-28 11:31:53.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc', 'message': ""Remove lower-constraints\n\nThis is not part of the PTI and is currently broken. While discussions\nare ongoing about removing it from every project, there's a definite\nlean towards doing so. Let's do just that. We can re-add in the future\nif necessary.\n\nWhile we're here, we fix some indentation in 'tox.ini'.\n\nChange-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)\n""}]",0,826874,37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc,8,4,1,32926,,,0,"Remove lower-constraints

This is not part of the PTI and is currently broken. While discussions
are ongoing about removing it from every project, there's a definite
lean towards doing so. Let's do just that. We can re-add in the future
if necessary.

While we're here, we fix some indentation in 'tox.ini'.

Change-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit b04cba81ac966717472ae714b6c65c9cc7535978)
",git fetch https://review.opendev.org/openstack/cliff refs/changes/74/826874/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,37ce807c09fb1dd5770d84b1c8b4d4fd8a2270dc,lower-constraints/removal, VIRTUAL_ENV={envdir} OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 {[testenv]setenv} PYTHON=coverage run --source cliff --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml, VIRTUAL_ENV={envdir} OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt {[testenv]setenv} PYTHON=coverage run --source cliff --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml,10,52
openstack%2Ftripleo-validations~stable%2Fwallaby~I02d70e9eaf112d9d9137a020c8b236c150a12149,openstack/tripleo-validations,stable/wallaby,I02d70e9eaf112d9d9137a020c8b236c150a12149,feat(removal): tox-ansible support,MERGED,2022-01-19 08:33:18.000000000,2022-02-02 13:57:25.000000000,2022-02-02 13:51:41.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 08:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n""}, {'number': 2, 'created': '2022-01-20 20:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3f5bec6416ebf02861d24574b1beb55e5e80ab45', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n""}, {'number': 3, 'created': '2022-02-02 08:01:13.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/408c59d805c48bfbcfa9e58525202aa3856ac2ac', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nResolved conflict in zuul.d/layout.yaml with 8567cade1c53124dd296ca9179f2644111c1abae\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n""}]",1,825265,408c59d805c48bfbcfa9e58525202aa3856ac2ac,15,5,3,11491,,,0,"feat(removal): tox-ansible support

This patch removes the support of tox-ansible from
tripleo-validations. Due to several issues with pip dependencies
management and our requirements files, the installation of this latter
doesn't work.

This patch also removes the `tripleo-linters` anchor and nodeset line
for the `openstack-tox-linters` check job as they are not used or useful
here.

JIRA: #VALFRWK702

Resolved conflict in zuul.d/layout.yaml with 8567cade1c53124dd296ca9179f2644111c1abae

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149
(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/65/825265/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst']",3,fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023,tox-ansible-removal,"* Via the script `scripts/run-local-test`, * or manually by following the procedure described below. Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Role based testing with `molecule`_ can be executed directly from within All tests require `Podman`_ for container based testing. If `Podman`_ is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your `molecule`_ test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh Before running basic `molecule`_ tests, it is recommended to install allNow, it is important to install `validations-common` and `tripleo-ansible` asTo run a basic `molecule`_ test, simply source the `ansible-test-env.rc`When debugging `molecule`_ tests its sometimes useful to use the .. _molecule: https://github.com/ansible-community/molecule .. _podman: https://podman.io/","* with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/moleculeRole based testing with molecule can be executed directly from within All tests require Podman for container based testing. If Podman is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. Before running basic molecule tests, it is recommended to install allNow, it is important to install validations-common and tripleo-ansible asTo run a basic molecule test, simply source the `ansible-test-env.rc`When debugging molecule tests its sometimes useful to use the",39,96
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I5f9054dfeec178d7a5a0ec5914e524ef357591e2,openstack/tripleo-upgrade,stable/wallaby,I5f9054dfeec178d7a5a0ec5914e524ef357591e2,Remove enable_nova config option before UC upgrade.,ABANDONED,2022-02-01 09:09:11.000000000,2022-02-02 13:50:27.000000000,,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 09:09:11.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/71d485c180ca42b2ddd735861009d67068108d01', 'message': ""Remove enable_nova config option before UC upgrade.\n\nSince OSP17 nova services aren't required in the Undercloud,\ntherefore we remove the enable_nova flag from the undercloud.conf\nfile before performing the upgrade.\n\nChange-Id: I5f9054dfeec178d7a5a0ec5914e524ef357591e2\n""}]",1,827235,71d485c180ca42b2ddd735861009d67068108d01,6,3,1,26343,,,0,"Remove enable_nova config option before UC upgrade.

Since OSP17 nova services aren't required in the Undercloud,
therefore we remove the enable_nova flag from the undercloud.conf
file before performing the upgrade.

Change-Id: I5f9054dfeec178d7a5a0ec5914e524ef357591e2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/35/827235/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,71d485c180ca42b2ddd735861009d67068108d01,," # Starting in OSP17 Nova is not required for the undercloud - name: Remove enable_nova if set in {{ undercloud_conf }} ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: enable_nova state: absent",,8,0
openstack%2Ftripleo-upgrade~master~I5f9054dfeec178d7a5a0ec5914e524ef357591e2,openstack/tripleo-upgrade,master,I5f9054dfeec178d7a5a0ec5914e524ef357591e2,Remove enable_nova config option before UC upgrade.,ABANDONED,2022-02-01 09:08:44.000000000,2022-02-02 13:50:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 09:08:44.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/02e98f047f654b699f2bea8c045101ed3208de06', 'message': ""Remove enable_nova config option before UC upgrade.\n\nSince OSP17 nova services aren't required in the Undercloud,\ntherefore we remove the enable_nova flag from the undercloud.conf\nfile before performing the upgrade.\n\nChange-Id: I5f9054dfeec178d7a5a0ec5914e524ef357591e2\n""}]",0,827223,02e98f047f654b699f2bea8c045101ed3208de06,3,1,1,26343,,,0,"Remove enable_nova config option before UC upgrade.

Since OSP17 nova services aren't required in the Undercloud,
therefore we remove the enable_nova flag from the undercloud.conf
file before performing the upgrade.

Change-Id: I5f9054dfeec178d7a5a0ec5914e524ef357591e2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/23/827223/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,02e98f047f654b699f2bea8c045101ed3208de06,," # Starting in OSP17 Nova is not required for the undercloud - name: Remove enable_nova if set in {{ undercloud_conf }} ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: enable_nova state: absent",,8,0
openstack%2Fopenstackclient~master~I23b41355acf5b99b2537a66cc10566325b26c71e,openstack/openstackclient,master,I23b41355acf5b99b2537a66cc10566325b26c71e,Include osc-placement in the plugin check job,NEW,2021-03-15 14:34:26.000000000,2022-02-02 13:28:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-15 14:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/cdbada16fc45bdb459df1c573b63d01c0fb7a533', 'message': 'Include osc-placement in the plugin check job\n\nNow osc-placment is generally used to manage resources in placement\nservice, thus should be tested in the plugin check job.\n\nChange-Id: I23b41355acf5b99b2537a66cc10566325b26c71e\n'}, {'number': 2, 'created': '2022-02-02 13:16:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/fcd598458cefd4b1b5531ffd1427d97e344d91b1', 'message': 'Include osc-placement in the plugin check job\n\nNow osc-placment is generally used to manage resources in placement\nservice, thus should be tested in the plugin check job.\n\nChange-Id: I23b41355acf5b99b2537a66cc10566325b26c71e\n'}]",0,780601,fcd598458cefd4b1b5531ffd1427d97e344d91b1,4,1,2,9816,,,0,"Include osc-placement in the plugin check job

Now osc-placment is generally used to manage resources in placement
service, thus should be tested in the plugin check job.

Change-Id: I23b41355acf5b99b2537a66cc10566325b26c71e
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/01/780601/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cdbada16fc45bdb459df1c573b63d01c0fb7a533,placement-cli-job, - openstack/osc-placement,,1,0
openstack%2Fcharm-ceph-fs~master~I1bbdebb22fcd6cac4ceae74d90d70a8d94f3c769,openstack/charm-ceph-fs,master,I1bbdebb22fcd6cac4ceae74d90d70a8d94f3c769,Update to build using charmcraft,MERGED,2022-02-01 19:35:29.000000000,2022-02-02 13:25:00.000000000,2022-02-02 13:25:00.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 19:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/cecb8c9eb9a65083146cc4c52324f2f03e6c13c2', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I1bbdebb22fcd6cac4ceae74d90d70a8d94f3c769\n'}, {'number': 2, 'created': '2022-02-01 19:41:11.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/62a5f93079861b7f15a9c6f49c0323c0c3c2f9bd', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I1bbdebb22fcd6cac4ceae74d90d70a8d94f3c769\n'}]",1,827341,62a5f93079861b7f15a9c6f49c0323c0c3c2f9bd,8,3,2,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I1bbdebb22fcd6cac4ceae74d90d70a8d94f3c769
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/41/827341/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,cecb8c9eb9a65083146cc4c52324f2f03e6c13c2,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,83,7
openstack%2Fcharm-barbican~master~I826947b1b358c4b04ba18135035292e135cce985,openstack/charm-barbican,master,I826947b1b358c4b04ba18135035292e135cce985,Update to build using charmcraft,MERGED,2022-02-01 18:22:48.000000000,2022-02-02 13:22:46.000000000,2022-02-02 13:22:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 18:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/89225ba3c0955b0e3d1d786dc882da6fdf4bc7dc', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I826947b1b358c4b04ba18135035292e135cce985\n'}, {'number': 2, 'created': '2022-02-01 18:29:19.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/9d5b82ebfb6d82a414f34fa03b05ee52ac8ab7d2', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I826947b1b358c4b04ba18135035292e135cce985\n'}]",0,827333,9d5b82ebfb6d82a414f34fa03b05ee52ac8ab7d2,8,3,2,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I826947b1b358c4b04ba18135035292e135cce985
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/33/827333/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'rename.sh', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml', 'src/test-requirements.txt', 'tox.ini']",11,89225ba3c0955b0e3d1d786dc882da6fdf4bc7dc,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,74,7
openstack%2Fpuppet-cinder~master~I32f6d8b7da5aeacdc05d2fd0089e7f75762a1097,openstack/puppet-cinder,master,I32f6d8b7da5aeacdc05d2fd0089e7f75762a1097,Remove deprecated database parameters,ABANDONED,2021-04-15 09:16:16.000000000,2022-02-02 13:16:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 09:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e8cd656d66016ae5f7295cb8a07eaeddb4edf731', 'message': 'Remove deprecated database parameters\n\nChange-Id: I32f6d8b7da5aeacdc05d2fd0089e7f75762a1097\n'}, {'number': 2, 'created': '2021-04-16 08:38:30.000000000', 'files': ['releasenotes/notes/remove-database-options-f4da3b366a821e2c.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c06ca1d2026f8c3f618b8eb6bb318bac5fdb1209', 'message': 'Remove deprecated database parameters\n\nChange-Id: I32f6d8b7da5aeacdc05d2fd0089e7f75762a1097\n'}]",0,786377,c06ca1d2026f8c3f618b8eb6bb318bac5fdb1209,6,2,2,9816,,,0,"Remove deprecated database parameters

Change-Id: I32f6d8b7da5aeacdc05d2fd0089e7f75762a1097
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/77/786377/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database-options-f4da3b366a821e2c.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,e8cd656d66016ae5f7295cb8a07eaeddb4edf731,database-cleanup,,"# [*database_min_pool_size*] # Minimum number of SQL connections to keep open in a pool. # (Optional) Defaults to undef. # # [*database_connection*] # Url used to connect to database. # (Optional) Defaults to undef. # # [*database_idle_timeout*] # Timeout when db connections should be reaped. # (Optional) Defaults to undef. # # [*database_max_pool_size*] # Maximum number of SQL connections to keep open in a pool. # (Optional) Defaults to undef. # # [*database_max_retries*] # Maximum db connection retries during startup. # Setting -1 implies an infinite retry count. # (Optional) Defaults to undef. # # [*database_retry_interval*] # Interval between retries of opening a sql connection. # (Optional) Defaults to undef. # # [*database_max_overflow*] # If set, use this value for max_overflow with sqlalchemy. # (Optional) Defaults to undef. # $database_min_pool_size = undef, $database_connection = undef, $database_idle_timeout = undef, $database_max_pool_size = undef, $database_max_retries = undef, $database_retry_interval = undef, $database_max_overflow = undef, if $database_connection != undef { warning('The database_connection parameter is deprecated and will be \ removed in a future realse. Use cinder::db::database_connection instead') } if $database_idle_timeout != undef { warning('The database_idle_timeout parameter is deprecated and will be \ removed in a future realse. Use cinder::db::database_connection_recycle_time \ instead') } if $database_max_pool_size != undef { warning('The database_max_pool_size parameter is deprecated and will be \ removed in a future realse. Use cinder::db::database_max_pool_size instead') } if $database_max_retries!= undef { warning('The database_max_retries parameter is deprecated and will be \ removed in a future realse. Use cinder::db::database_max_retries instead') } if $database_retry_interval != undef { warning('The database_retry_interval parameter is deprecated and will be \ removed in a future realse. Use cinder::db::database_retry_interval instead') } if $database_max_overflow != undef { warning('The database_max_overflow parameter is deprecated and will be \ removed in a future realse. Use cinder::db::database_max_overflow instead') } ",20,94
openstack%2Fpuppet-ceilometer~master~Ib1b97c7dfd5566eef780e0ce6eb2a9debba2e29d,openstack/puppet-ceilometer,master,Ib1b97c7dfd5566eef780e0ce6eb2a9debba2e29d,Clean up deprecated parameters for keystone endpoint and service,ABANDONED,2021-04-18 14:12:37.000000000,2022-02-02 13:14:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-18 14:12:37.000000000', 'files': ['releasenotes/notes/cleanup-keystone-endpoints-3e1a15639d939e09.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/d1e17c63ac1628efae7702681e6383fc1b571059', 'message': 'Clean up deprecated parameters for keystone endpoint and service\n\nThis change removes the parameters related to keystone endpoint and\nservice, which were deprecated during the previous cycle[1].\n\n[1] be7a359ad661aa5a3950974e25adf9aa343ee369\n\nChange-Id: Ib1b97c7dfd5566eef780e0ce6eb2a9debba2e29d\n'}]",0,786769,d1e17c63ac1628efae7702681e6383fc1b571059,3,1,1,9816,,,0,"Clean up deprecated parameters for keystone endpoint and service

This change removes the parameters related to keystone endpoint and
service, which were deprecated during the previous cycle[1].

[1] be7a359ad661aa5a3950974e25adf9aa343ee369

Change-Id: Ib1b97c7dfd5566eef780e0ce6eb2a9debba2e29d
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/69/786769/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cleanup-keystone-endpoints-3e1a15639d939e09.yaml', 'manifests/keystone/auth.pp']",2,d1e17c63ac1628efae7702681e6383fc1b571059,keystone-endpoints," $password,","# DEPRECATED PARAMETERS # # [*service_name*] # (Optional) Name of the service. # Defaults to undef # # [*service_type*] # (Optional) Type of service. Optional. # Defaults to undef # # [*service_description*] # (Optional) Description for keystone service. # Defaults to undef # # [*configure_endpoint*] # (Optional) Should Ceilometer endpoint be configured. # Defaults to undef # # [*configure_service*] # (Optional) Whether to create the service. # Default to undef # # [*public_url*] # (Optional) The endpoint's public url. # This url should *not* contain any trailing '/'. # Defaults to undef # # [*admin_url*] # (Optional) The endpoint's admin url. # This url should *not* contain any trailing '/'. # Defaults to undef # # [*internal_url*] # (Optional) The endpoint's internal url. # This url should *not* contain any trailing '/'. # Defaults to undef # $password = false, # DEPRECATED PARAMETERS $service_name = undef, $service_type = undef, $service_description = undef, Optional[Boolean] $configure_service = undef, $configure_endpoint = undef, $public_url = undef, $admin_url = undef, $internal_url = undef, if $service_name != undef or $service_type != undef or $service_description != undef { warning('The parameters for keystone service record have been deprecated and have no effect') } if $configure_endpoint != undef { warning('The configure_endpoint parameter has been deprecated and has no effect') } if $configure_service != undef { warning('The configure_service parameter has been deprecated and has no effect') } if $public_url != undef or $admin_url != undef or $internal_url != undef { warning('The parameters for keystone endpoint record have been deprecated and have no effect') } ",14,63
openstack%2Fneutron~stable%2Fxena~I26c43c2909b635e8b21306ea1880da3877477a17,openstack/neutron,stable/xena,I26c43c2909b635e8b21306ea1880da3877477a17,Ensure subports status is aligned with parent port,MERGED,2022-01-28 16:43:42.000000000,2022-02-02 13:14:34.000000000,2022-02-02 13:12:44.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 16:43:42.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/08a35203dedffdbad62819af21877055205d14d1', 'message': 'Ensure subports status is aligned with parent port\n\nSubports of a trunk should have the same status as the parent port.\nHowever, with ovn, if the parent port is in DOWN status, the subports\nare transitioned to ACTIVE as soon as they are attached to the trunk.\n\nThis patch ensure the status set on the subports when being attached\nmatches the one on the parent port.\n\nCloses-Bug: #1957161\nChange-Id: I26c43c2909b635e8b21306ea1880da3877477a17\n(cherry picked from commit 15d6cfffc9f3c63a7bac75f8d04beaae82ddc794)\n'}]",2,826843,08a35203dedffdbad62819af21877055205d14d1,20,4,1,23567,,,0,"Ensure subports status is aligned with parent port

Subports of a trunk should have the same status as the parent port.
However, with ovn, if the parent port is in DOWN status, the subports
are transitioned to ACTIVE as soon as they are attached to the trunk.

This patch ensure the status set on the subports when being attached
matches the one on the parent port.

Closes-Bug: #1957161
Change-Id: I26c43c2909b635e8b21306ea1880da3877477a17
(cherry picked from commit 15d6cfffc9f3c63a7bac75f8d04beaae82ddc794)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/826843/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py']",2,08a35203dedffdbad62819af21877055205d14d1,bug/1956233-stable/xena," db_parent_port = port_obj.Port.get_object(context, id=parent_port) parent_port_status = db_parent_port.status self._set_binding_profile(context, port, parent_port, parent_port_status, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, parent_port_status, ovn_txn): # status so we need to switch it here to the parent port status db_port.status = parent_port_status","from neutron_lib import constants as n_consts self._set_binding_profile(context, port, parent_port, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, ovn_txn): # status so we need to switch it here db_port.status = n_consts.PORT_STATUS_ACTIVE",13,6
openstack%2Fheat~stable%2Fvictoria~I45a645bb0000098f4b54dd6d3a6dfa5f1f45a839,openstack/heat,stable/victoria,I45a645bb0000098f4b54dd6d3a6dfa5f1f45a839,Use py36 version of get-pip.py,ABANDONED,2022-01-31 13:12:51.000000000,2022-02-02 13:04:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 13:12:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/0baea62043823c2f0d2e82d3e4c499fd2c4250d4', 'message': ""Use py36 version of get-pip.py\n\nWe're seeing issues with Python3.6 and get-pip.py\nduring Grenande jobs. This change adds the:\nPIP_GET_PIP_URL variable and sets it to explicitly\nget: https://bootstrap.pypa.io/pip/3.6/get-pip.py\n\nChange-Id: I45a645bb0000098f4b54dd6d3a6dfa5f1f45a839\n""}]",0,827073,0baea62043823c2f0d2e82d3e4c499fd2c4250d4,4,1,1,30073,,,0,"Use py36 version of get-pip.py

We're seeing issues with Python3.6 and get-pip.py
during Grenande jobs. This change adds the:
PIP_GET_PIP_URL variable and sets it to explicitly
get: https://bootstrap.pypa.io/pip/3.6/get-pip.py

Change-Id: I45a645bb0000098f4b54dd6d3a6dfa5f1f45a839
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/827073/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0baea62043823c2f0d2e82d3e4c499fd2c4250d4,get-pip_py36, devstack_localrc: PIP_GET_PIP_URL: 'https://bootstrap.pypa.io/pip/3.6/get-pip.py',,2,0
openstack%2Fheat~stable%2Fussuri~Iabd0cf20280871905403869c8ea6ca43511d37f1,openstack/heat,stable/ussuri,Iabd0cf20280871905403869c8ea6ca43511d37f1,Use py36 version of get-pip.py,ABANDONED,2022-02-02 00:20:54.000000000,2022-02-02 13:03:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 00:20:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/8c347e528e43bbcf6e718b57504c4e35a394f3b2', 'message': ""Use py36 version of get-pip.py\n\nWe're seeing issues with Python3.6 and get-pip.py\nduring Grenande jobs. This change adds the:\nPIP_GET_PIP_URL variable and sets it to explicitly\nget: https://bootstrap.pypa.io/pip/3.6/get-pip.py\n\nChange-Id: Iabd0cf20280871905403869c8ea6ca43511d37f1\n""}]",1,827377,8c347e528e43bbcf6e718b57504c4e35a394f3b2,5,1,1,30073,,,0,"Use py36 version of get-pip.py

We're seeing issues with Python3.6 and get-pip.py
during Grenande jobs. This change adds the:
PIP_GET_PIP_URL variable and sets it to explicitly
get: https://bootstrap.pypa.io/pip/3.6/get-pip.py

Change-Id: Iabd0cf20280871905403869c8ea6ca43511d37f1
",git fetch https://review.opendev.org/openstack/heat refs/changes/77/827377/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8c347e528e43bbcf6e718b57504c4e35a394f3b2,ussuri-get-pip_py36, devstack_localrc: PIP_GET_PIP_URL: https://bootstrap.pypa.io/pip/3.6/get-pip.py,,2,0
openstack%2Fopenstack-ansible~stable%2Fxena~I5dd0fb758a5b12a8828fa4727e3ff4abd0f113b5,openstack/openstack-ansible,stable/xena,I5dd0fb758a5b12a8828fa4727e3ff4abd0f113b5,requirements: bump zun role version to fix upgrade CI jobs,ABANDONED,2022-02-02 12:46:28.000000000,2022-02-02 12:47:05.000000000,,[],"[{'number': 1, 'created': '2022-02-02 12:46:28.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d60bc543380f22a0859f613f2e2b985d6dd0007a', 'message': 'requirements: bump zun role version to fix upgrade CI jobs\n\nChange-Id: I5dd0fb758a5b12a8828fa4727e3ff4abd0f113b5\n'}]",0,827489,d60bc543380f22a0859f613f2e2b985d6dd0007a,2,0,1,31542,,,0,"requirements: bump zun role version to fix upgrade CI jobs

Change-Id: I5dd0fb758a5b12a8828fa4727e3ff4abd0f113b5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/827489/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,d60bc543380f22a0859f613f2e2b985d6dd0007a,, version: 37edf2b21a7568076427e1af7ce396d1ff2a9f26, version: 1295de6563744947562010792a944a7d4c1f898e,1,1
openstack%2Ftripleo-validations~stable%2Ftrain~I02d70e9eaf112d9d9137a020c8b236c150a12149,openstack/tripleo-validations,stable/train,I02d70e9eaf112d9d9137a020c8b236c150a12149,feat(removal): tox-ansible support,MERGED,2022-01-19 09:14:38.000000000,2022-02-02 12:32:12.000000000,2022-02-02 12:21:53.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e1b4659f3d7d1cdb02c974e11aab28549601a9c9', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n(cherry picked from commit fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023)\n(cherry picked from commit 3ca57dedea9428b747b95ec2d2793789f5c7bf5f)\n(cherry picked from commit e96283d0bc2f4d292063963bda514ab3d1c7d11e)\n""}, {'number': 2, 'created': '2022-01-20 21:08:13.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6fb4633b8ac0e2ee9dd4be6465f757e9a2e2bfe7', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n(cherry picked from commit fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023)\n(cherry picked from commit 3ca57dedea9428b747b95ec2d2793789f5c7bf5f)\n(cherry picked from commit e96283d0bc2f4d292063963bda514ab3d1c7d11e)\n""}]",0,825275,6fb4633b8ac0e2ee9dd4be6465f757e9a2e2bfe7,11,5,2,11491,,,0,"feat(removal): tox-ansible support

This patch removes the support of tox-ansible from
tripleo-validations. Due to several issues with pip dependencies
management and our requirements files, the installation of this latter
doesn't work.

This patch also removes the `tripleo-linters` anchor and nodeset line
for the `openstack-tox-linters` check job as they are not used or useful
here.

JIRA: #VALFRWK702

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149
(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)
(cherry picked from commit fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023)
(cherry picked from commit 3ca57dedea9428b747b95ec2d2793789f5c7bf5f)
(cherry picked from commit e96283d0bc2f4d292063963bda514ab3d1c7d11e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/75/825275/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst']",3,e1b4659f3d7d1cdb02c974e11aab28549601a9c9,tox-ansible-removal,"* Via the script `scripts/run-local-test`, * or manually by following the procedure described below. Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Role based testing with `molecule`_ can be executed directly from within All tests require `Podman`_ for container based testing. If `Podman`_ is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your `molecule`_ test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh Before running basic `molecule`_ tests, it is recommended to install allNow, it is important to install `validations-common` and `tripleo-ansible` asTo run a basic `molecule`_ test, simply source the `ansible-test-env.rc`When debugging `molecule`_ tests its sometimes useful to use the .. _molecule: https://github.com/ansible-community/molecule .. _podman: https://podman.io/","* with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/moleculeRole based testing with molecule can be executed directly from within All tests require Podman for container based testing. If Podman is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. Before running basic molecule tests, it is recommended to install allNow, it is important to install validations-common and tripleo-ansible asTo run a basic molecule test, simply source the `ansible-test-env.rc`When debugging molecule tests its sometimes useful to use the",39,96
openstack%2Ftripleo-validations~stable%2Fussuri~I02d70e9eaf112d9d9137a020c8b236c150a12149,openstack/tripleo-validations,stable/ussuri,I02d70e9eaf112d9d9137a020c8b236c150a12149,feat(removal): tox-ansible support,MERGED,2022-01-19 08:37:55.000000000,2022-02-02 12:32:11.000000000,2022-02-02 12:21:51.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 08:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e96283d0bc2f4d292063963bda514ab3d1c7d11e', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n(cherry picked from commit fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023)\n(cherry picked from commit 3ca57dedea9428b747b95ec2d2793789f5c7bf5f)\n""}, {'number': 2, 'created': '2022-01-20 21:06:24.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7a00e3e5eb57d3d0508a9691b7d89053e86d815e', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)\n(cherry picked from commit fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023)\n(cherry picked from commit 3ca57dedea9428b747b95ec2d2793789f5c7bf5f)\n""}]",1,825268,7a00e3e5eb57d3d0508a9691b7d89053e86d815e,14,5,2,11491,,,0,"feat(removal): tox-ansible support

This patch removes the support of tox-ansible from
tripleo-validations. Due to several issues with pip dependencies
management and our requirements files, the installation of this latter
doesn't work.

This patch also removes the `tripleo-linters` anchor and nodeset line
for the `openstack-tox-linters` check job as they are not used or useful
here.

JIRA: #VALFRWK702

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149
(cherry picked from commit 01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4)
(cherry picked from commit fcb1ed21dfa6d58a15edb9a9418ac835ca5c1023)
(cherry picked from commit 3ca57dedea9428b747b95ec2d2793789f5c7bf5f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/825268/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst']",3,e96283d0bc2f4d292063963bda514ab3d1c7d11e,tox-ansible-removal,"* Via the script `scripts/run-local-test`, * or manually by following the procedure described below. Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Role based testing with `molecule`_ can be executed directly from within All tests require `Podman`_ for container based testing. If `Podman`_ is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your `molecule`_ test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh Before running basic `molecule`_ tests, it is recommended to install allNow, it is important to install `validations-common` and `tripleo-ansible` asTo run a basic `molecule`_ test, simply source the `ansible-test-env.rc`When debugging `molecule`_ tests its sometimes useful to use the .. _molecule: https://github.com/ansible-community/molecule .. _podman: https://podman.io/","* with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/moleculeRole based testing with molecule can be executed directly from within All tests require Podman for container based testing. If Podman is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. Before running basic molecule tests, it is recommended to install allNow, it is important to install validations-common and tripleo-ansible asTo run a basic molecule test, simply source the `ansible-test-env.rc`When debugging molecule tests its sometimes useful to use the",39,96
openstack%2Fcharm-aodh~master~I240e77693b7824afcfec969a790a7a3bc1b73d61,openstack/charm-aodh,master,I240e77693b7824afcfec969a790a7a3bc1b73d61,[WIP] This is a test for functional tests,ABANDONED,2022-01-31 22:41:32.000000000,2022-02-02 12:32:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 22:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a0536a1966f8916fcd59d7c46a8d16db2f1da352', 'message': '[WIP] This is a test for functional tests\n\nThis is to test the functional test builds with a tweak to the\ntox.ini file.\n\nChange-Id: I240e77693b7824afcfec969a790a7a3bc1b73d61\n'}, {'number': 2, 'created': '2022-01-31 23:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9f4680c655d1886b71512597d25867e3f7965929', 'message': '[WIP] This is a test for functional tests\n\nThis is to test the functional test builds with a tweak to the\ntox.ini file.\n\nChange-Id: I240e77693b7824afcfec969a790a7a3bc1b73d61\n'}, {'number': 3, 'created': '2022-01-31 23:53:33.000000000', 'files': ['src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/e4191a2a638f59ae8967960a14d09ad59ae6f4d3', 'message': '[WIP] This is a test for functional tests\n\nThis is to test the functional test builds with a tweak to the\ntox.ini file.\n\nChange-Id: I240e77693b7824afcfec969a790a7a3bc1b73d61\n'}]",1,827190,e4191a2a638f59ae8967960a14d09ad59ae6f4d3,10,2,3,8992,,,0,"[WIP] This is a test for functional tests

This is to test the functional test builds with a tweak to the
tox.ini file.

Change-Id: I240e77693b7824afcfec969a790a7a3bc1b73d61
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/90/827190/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0536a1966f8916fcd59d7c46a8d16db2f1da352,charmhub-migration-master," tox[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox -e func-target {posargs} ",,12,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I21194c728e49289f262e4ca449223cbdc7d2ef0f,openstack/tripleo-ansible,stable/train,I21194c728e49289f262e4ca449223cbdc7d2ef0f,Enable B&R of systems using UEFI bootloader,MERGED,2022-01-28 09:58:27.000000000,2022-02-02 12:21:49.000000000,2022-02-02 12:21:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-28 09:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac17da798a2bb61620d45921645d452f2b51f41d', 'message': 'Enable B&R of systems using UEFI bootloader\n\nReaR supports backing up and restoring UEFI-based systems, but it\nrequires a set of configuration changes. This patch introduces the\ncapability of automatically discovering whether a system uses UEFI and\nconfigures the nodes and ReaR accordingly.\n\nChange-Id: I21194c728e49289f262e4ca449223cbdc7d2ef0f\n(cherry picked from commit 2de313e6fa6beb8877e323f1383a952b8f059021)\n'}, {'number': 2, 'created': '2022-01-28 10:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df69bf6d9d59d1c70044cf8b8e28a49bb1e49e33', 'message': 'Enable B&R of systems using UEFI bootloader\n\nReaR supports backing up and restoring UEFI-based systems, but it\nrequires a set of configuration changes. This patch introduces the\ncapability of automatically discovering whether a system uses UEFI and\nconfigures the nodes and ReaR accordingly.\n\nChange-Id: I21194c728e49289f262e4ca449223cbdc7d2ef0f\n(cherry picked from commit 2de313e6fa6beb8877e323f1383a952b8f059021)\n'}, {'number': 3, 'created': '2022-01-28 10:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f050c0802f09037cd6fafa63bc0cfc4ae0dc08c', 'message': 'Enable B&R of systems using UEFI bootloader\n\nReaR supports backing up and restoring UEFI-based systems, but it\nrequires a set of configuration changes. This patch introduces the\ncapability of automatically discovering whether a system uses UEFI and\nconfigures the nodes and ReaR accordingly.\n\nChange-Id: I21194c728e49289f262e4ca449223cbdc7d2ef0f\n(cherry picked from commit 2de313e6fa6beb8877e323f1383a952b8f059021)\n'}, {'number': 4, 'created': '2022-01-31 10:10:08.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/vars/redhat.yml', 'tripleo_ansible/roles/backup-and-restore/backup/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a941aa92d8abeae8582978e5010624257a1b9fd', 'message': 'Enable B&R of systems using UEFI bootloader\n\nReaR supports backing up and restoring UEFI-based systems, but it\nrequires a set of configuration changes. This patch introduces the\ncapability of automatically discovering whether a system uses UEFI and\nconfigures the nodes and ReaR accordingly.\n\nChange-Id: I21194c728e49289f262e4ca449223cbdc7d2ef0f\n(cherry picked from commit 2de313e6fa6beb8877e323f1383a952b8f059021)\n'}]",3,826839,2a941aa92d8abeae8582978e5010624257a1b9fd,23,4,4,32968,,,0,"Enable B&R of systems using UEFI bootloader

ReaR supports backing up and restoring UEFI-based systems, but it
requires a set of configuration changes. This patch introduces the
capability of automatically discovering whether a system uses UEFI and
configures the nodes and ReaR accordingly.

Change-Id: I21194c728e49289f262e4ca449223cbdc7d2ef0f
(cherry picked from commit 2de313e6fa6beb8877e323f1383a952b8f059021)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/826839/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/vars/redhat.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",4,ac17da798a2bb61620d45921645d452f2b51f41d,change-808040-5-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"<<<<<<< HEAD (271850 Merge ""Create nova flavor for Octavia"" into stable/train) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should be placed in this file. tripleo_backup_and_restore_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}"" tripleo_backup_and_restore_debug: ""{{ ((ansible_verbosity | int) >= 2) | bool }}"" # Set the container command line entry-point tripleo_container_cli: ""{{ container_cli | default('podman') }}"" # Stop and start all running services before backup is ran. tripleo_backup_and_restore_service_manager: true # If this is false, backup of the overcloud is taken by stopping it completely. Enable it to do a # backup stopping only one node at a time, maintaining the controller active during the backup duration. tripleo_backup_and_restore_enable_snapshots: true # Set the name of the mysql container tripleo_backup_and_restore_mysql_container: mysql # Default name for the Undercloud mysql DB backup file tripleo_backup_and_restore_mysql_backup_file: ""openstack-backup-mysql.sql"" # Default name for the Undercloud mysql DB grants file tripleo_backup_and_restore_mysql_grants_file: ""openstack-backup-mysql-grants.sql"" # All variables within this role should have a prefix of ""tripleo_backup_and_restore"" # By default this should be the Undercloud node tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24'] tripleo_backup_and_restore_rear_simulate: false tripleo_backup_and_restore_using_uefi_bootloader: 0 tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*'] tripleo_backup_and_restore_exclude_paths_controller_non_bootstrapnode: false tripleo_backup_and_restore_exclude_paths_controller: ['/var/lib/mysql/*'] tripleo_backup_and_restore_exclude_paths_compute: ['/var/lib/nova/instances/*'] tripleo_backup_and_restore_hiera_config_file: ""/etc/puppet/hiera.yaml"" # This var is a dictionary of the configuration of the /etc/rear/local.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_local_config: ISO_DEFAULT: '""automatic""' OUTPUT: ISO BACKUP: NETFS BACKUP_PROG_COMPRESS_OPTIONS: '( --gzip)' BACKUP_PROG_COMPRESS_SUFFIX: '"".gz""' # This var is a dictionary of the configuration of the /etc/rear/rescue.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_rescue_config: {} tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}{{ tripleo_backup_and_restore_nfs_storage_folder }}"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}{{ tripleo_backup_and_restore_nfs_storage_folder }}"" # Ceph authentication backup file tripleo_backup_and_restore_ceph_auth_file: ""ceph_auth_export.bak"" # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt"" # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true # Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_nfs_test: false # How many seconds do we want to wait fir pcs cluster stop to finish tripleo_backup_and_restore_pcs_timeout: 3600 # Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true # Cron programming, by default, run cron weekly at midnight on Sundays tripleo_backup_and_restore_cron: ""0 0 * * 0"" # The user that will run the backup command. If empty, root will run the backup command tripleo_backup_and_restore_cron_user: ""stack"" # Any extra parameters that will be added to the backup command when it is executed by cron tripleo_backup_and_restore_cron_extra: """" # The role which handles the ceph on the controllers tripleo_backup_and_restore_ceph_mon_role: ""ceph_mon"" # The cephadm path tripleo_backup_and_restore_cephadm_path: ""/usr/sbin/cephadm"" # The partition (/dev/whatever) that contain the /boot and /boot/efi contents # but that are not mounted. These variables should only contain the last part # of the partition (the whatever), i.e: sda2, sda1, vda2, sdb3, sdc1... tripleo_backup_and_restore_boot_mount: replaceme tripleo_backup_and_restore_boot_efi_mount: replaceme >>>>>>> CHANGE (d93715 Enable B&R of systems using UEFI bootloader) ",,510,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0a217b4a457881367de27414faca347e50f2db72,openstack/tripleo-heat-templates,stable/train,I0a217b4a457881367de27414faca347e50f2db72,[train-only] Make principal realms configuratble in certs,MERGED,2021-12-20 12:42:07.000000000,2022-02-02 12:21:46.000000000,2022-02-02 12:21:46.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-20 12:42:07.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/certs/certmonger-user-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34fd20704a0dd366d9f72bed5df29b20052b266c', 'message': ""[train-only] Make principal realms configuratble in certs\n\nThe certificates specs for certmonger are configured in hiera\nas 'service/host_fqdn'. Certmonger automatically happen\na default realm to it to look like 'service/host_fqdn/REALM'.\n\nThis discrepancy makes puppet think certificate resources\ndiffer each time puppet apply is run, so puppet-certmonger\nresubmit the certificates and this causes unecessary service\nrestart, which can be costly (e.g. mariadb).\n\nAll the principal to be configured with a user-defined realm,\nand use uppercased cloud-domain by default (i.e. what\ncertmongers automatically happens by default).\n\nChange-Id: I0a217b4a457881367de27414faca347e50f2db72\nRelated-Bug: #1906505\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/822244\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n""}]",5,822313,34fd20704a0dd366d9f72bed5df29b20052b266c,28,4,1,14250,,,0,"[train-only] Make principal realms configuratble in certs

The certificates specs for certmonger are configured in hiera
as 'service/host_fqdn'. Certmonger automatically happen
a default realm to it to look like 'service/host_fqdn/REALM'.

This discrepancy makes puppet think certificate resources
differ each time puppet apply is run, so puppet-certmonger
resubmit the certificates and this causes unecessary service
restart, which can be costly (e.g. mariadb).

All the principal to be configured with a user-defined realm,
and use uppercased cloud-domain by default (i.e. what
certmongers automatically happens by default).

Change-Id: I0a217b4a457881367de27414faca347e50f2db72
Related-Bug: #1906505
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/822244
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/822313/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/certs/certmonger-user-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",21,34fd20704a0dd366d9f72bed5df29b20052b266c,certmonger-track-keys-stable/train," principal: ""HTTP/%{hiera('fqdn_NETWORK')}@%{hiera('certmonger_krb_realm')}"""," principal: ""HTTP/%{hiera('fqdn_NETWORK')}""",44,25
openstack%2Fcinder~stable%2Fxena~I1c1420a99e2185116a674c3d8bd23d33e12a253f,openstack/cinder,stable/xena,I1c1420a99e2185116a674c3d8bd23d33e12a253f,Doc: Typos in Spectrum Virtulize family user guide,MERGED,2022-01-27 05:55:13.000000000,2022-02-02 12:02:29.000000000,2022-02-02 11:58:44.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-01-27 05:55:13.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a4f3459d282dd8bbe155b8ed794c706c5c9e847', 'message': 'Doc: Typos in Spectrum Virtulize family user guide\n\nCorrected the missing spaces, typos and removed\nunsupported product (IBM Spectrum Virtualize for Public Cloud)\n\nChange-Id: I1c1420a99e2185116a674c3d8bd23d33e12a253f\n(cherry picked from commit 73d0818a96ecbb22f2243b76b5b8ceb67d332e12)\n'}]",1,826559,9a4f3459d282dd8bbe155b8ed794c706c5c9e847,15,3,1,32036,,,0,"Doc: Typos in Spectrum Virtulize family user guide

Corrected the missing spaces, typos and removed
unsupported product (IBM Spectrum Virtualize for Public Cloud)

Change-Id: I1c1420a99e2185116a674c3d8bd23d33e12a253f
(cherry picked from commit 73d0818a96ecbb22f2243b76b5b8ceb67d332e12)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/826559/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst'],1,9a4f3459d282dd8bbe155b8ed794c706c5c9e847,manoj_docchange_SVF-stable/xena,"IBM Spectrum Virtualize family volume driverThe volume management driver for Spectrum Virtualize family offers variousto IBM Spectrum Virtualize family storage products. These products include the IBM SAN Volume Controller and IBM FlashSystem family members built with IBM Spectrum Virtualize (including FlashSystem 5xxx, 7200, 9100, 9200, 9200R). For specific product publications, see `IBM Documentation <www.ibm.com/docs/en>`_. IBM Spectrum Virtualize family is formerly known as IBM Storwize.The IBM Spectrum Virtualize family volume driver supports the following blockConfigure the Spectrum Virtualize family systemThe Spectrum Virtualize family system must be configured for iSCSI, FibreIf using iSCSI, each Spectrum Virtualize family node should have at least one iSCSI IP address. The Spectrum Virtualize family driver uses an iSCSI IP access to the Spectrum Virtualize family system. If using Fibre Channel (FC), each Spectrum Virtualize family node should the Spectrum Virtualize family system.Virtualize family. The compute nodes use these secrets when creatingThe IBM Spectrum Virtualize family driver can allocate volumes in multipleThe driver requires access to the Spectrum Virtualize family systemSSH. The driver should be provided with the Spectrum Virtualize familyTo allow the driver to communicate with the Spectrum Virtualize family When creating a new user on the Spectrum Virtualize family system, make sureSpectrum Virtualize family system. The driver configuration flags for the userselect the :guilabel:`choose file` option in the Spectrum Virtualize familybe found in the Spectrum Virtualize family documentation. The private keyuploaded to the Spectrum Virtualize family system using the storageConfigure the Spectrum Virtualize family driverEnable the Spectrum Virtualize family driverSet the volume driver to the Spectrum Virtualize family driver by settingSpectrum Virtualize family driver options in cinder.conf IBM Spectrum Virtualize family is formerly known as IBM Storwize. the available options are available in the Spectrum Virtualize familyThe IBM Spectrum Virtualize family exposes capabilities that can be added to concatenation of the name of the Spectrum Virtualize family storage systemfamily driver, which over-ride the default values set in the configurationpassed to the Spectrum Virtualize family driver with the ``drivers`` scope.family driver:The Spectrum Virtualize family driver provides QOS support for storage volumesThere are three ways to set the Spectrum Virtualize family ``IOThrotting``Operational notes for the Spectrum Virtualize family driverthe IBM Spectrum Virtualize family driver enables the storage's virtualizationThe IBM Spectrum Virtualize family driver allows for extending a volume'sThe IBM Spectrum Virtualize family driver enables you to modify volume types. To change the ``iogrp`` property, IBM Spectrum Virtualize family firmware version If the synchronization is not done manually, Spectrum Virtualize family block storageTo support HyperSwap volumes, IBM Spectrum Virtualize family firmware versionVirtualize family storage systems. The WWPNs and IQNs are the connectors used for host mapping in the Spectrum Virtualize family.","IBM Spectrum Virtualize Family volume driverThe volume management driver for Spectrum Virtualize Family offers variousto IBM Spectrum Virtualize Family storage products.These products include the IBM SAN Volume Controller, IBM FlashSystem family members built with IBM Spectrum Virtualize (including FlashSystem 5xxx,7200, 9100, 9200, 9200R), and IBM Spectrum Virtualize for Public Cloud. For specific product publications, see IBM Documentation. IBM Spectrum Virtualize Family is formerly known as IBM Storwize.The IBM Spectrum Virtualize Family volume driver supports the following blockConfigure the Spectrum Virtualize Family systemThe Spectrum Virtualize Family system must be configured for iSCSI, FibreIf using iSCSI, each Spectrum Virtualize Family node should have at least one iSCSI IP address. The Spectrum Virtualize Family driver uses an iSCSI IP access to the Spectrum Virtualize Family system. If using Fibre Channel (FC), each Spectrum Virtualize Family node should the Spectrum Virtualize Family system.Virtualize Family. The compute nodes use these secrets when creatingThe IBM Spectrum Virtualize Family driver can allocate volumes in multipleThe driver requires access to the Spectrum Virtualize Family systemSSH. The driver should be provided with the Spectrum Virtualize FamilyTo allow the driver to communicate with the Spectrum Virtualize Family When creating a new user on the Spectrum Virtualize Family system, make sureSpectrum Virtualize Family system. The driver configuration flags for the userselect the :guilabel:`choose file` option in the Spectrum Virtualize Familybe found in the Spectrum Virtualize Family documentation. The private keyuploaded to the Spectrum Virtualize Family system using the storageConfigure the Spectrum Virtualize Family driverEnable the Spectrum Virtualize Family driverSet the volume driver to the Spectrum Virtualize Family driver by settingSpectrum Virtualize Family driver options in cinder.conf IBM Spectrum Virtualize Family is formerly known as IBM Storwize. the available options are available in the Spectrum Virtualize FamilyThe IBM Spectrum Virtualize Family exposes capabilities that can be added to concatenation of the name of the Spectrum Virtualize Family storage systemFamily driver, which over-ride the default values set in the configurationpassed to the Spectrum Virtualize Family driver with the ``drivers`` scope.Family driver:The Spectrum Virtualize Family driver provides QOS support for storage volumesThere are three ways to set the Spectrum Virtualize Family ``IOThrotting``Operational notes for the Spectrum Virtualize Family driverthe IBM Spectrum Virtualize Family driver enables the storage's virtualizationThe IBM Spectrum Virtualize Family driver allows for extending a volume'sThe IBM Spectrum Virtualize Family driver enables you to modify volume types. To change the ``iogrp`` property, IBM Spectrum Virtualize Family firmware version If the synchronization is not done manually, Spectrum Virtualize Family block storageTo support HyperSwap volumes, IBM Spectrum Virtualize Family firmware versionVirtualize Family storage systems. The WWPNs and IQNs are the connectors used for host mapping in the Spectrum Virtualize Family.",48,48
openstack%2Fcinder~stable%2Fxena~I64faccc36b7344ad4a2128bf9d86fe9679a2cbb9,openstack/cinder,stable/xena,I64faccc36b7344ad4a2128bf9d86fe9679a2cbb9,Doc: IBM flashsystem driver update,MERGED,2022-01-27 05:54:59.000000000,2022-02-02 11:58:41.000000000,2022-02-02 11:58:41.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-01-27 05:54:59.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-flashsystem-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8cb212966ba5900aac616fb88769260d23fad6f2', 'message': ""Doc: IBM flashsystem driver update\n\nUpdated the name as 'IBM FlashSystem 840/900 driver'\nto avoid confusion with other flash system models which is\npart of IBM Spectrum Virtualize Family driver.\n\nChange-Id: I64faccc36b7344ad4a2128bf9d86fe9679a2cbb9\n(cherry picked from commit 3143f7cf1593d010a0dee77632e6a58dafd39806)\n""}]",2,826558,8cb212966ba5900aac616fb88769260d23fad6f2,18,3,1,32036,,,0,"Doc: IBM flashsystem driver update

Updated the name as 'IBM FlashSystem 840/900 driver'
to avoid confusion with other flash system models which is
part of IBM Spectrum Virtualize Family driver.

Change-Id: I64faccc36b7344ad4a2128bf9d86fe9679a2cbb9
(cherry picked from commit 3143f7cf1593d010a0dee77632e6a58dafd39806)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/826558/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ibm-flashsystem-volume-driver.rst'],1,8cb212966ba5900aac616fb88769260d23fad6f2,manoj_docchange-stable/xena,"============================== IBM FlashSystem 840/900 driver ==============================This driver is to be used with IBM FlashSystem 840/900 systems only. For any other FlashSystem storage systems (including 5xxx, 7xxx, and 9xxx platforms) see the :doc:`IBM Spectrum Virtualize family volume driver documentation <ibm-storwize-svc-driver>`. ",============================= IBM FlashSystem volume driver =============================,8,3
openstack%2Fhorizon~master~I9ab52927fc6be31d491f010e5e3d9323ddd34e9e,openstack/horizon,master,I9ab52927fc6be31d491f010e5e3d9323ddd34e9e,Follow-up: Drop Django based implementation of launch instance,MERGED,2022-01-25 10:14:44.000000000,2022-02-02 11:37:18.000000000,2022-02-02 11:33:50.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-01-25 10:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f00dceeece2211e2a35f6d58bb396d620535103', 'message': 'Follow-up: Drop Django based implementation of launch instance\n\nThis patch is a follow-up patch addressing the below comments\ngiven on the commit 6ac31e0 :\n* delete unused template files.\n* rename _launch_advanced_help.html -> _resize_advanced_help.html\n* grammer correction in the release note\n\nChange-Id: I9ab52927fc6be31d491f010e5e3d9323ddd34e9e\n'}, {'number': 2, 'created': '2022-01-25 19:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fd2c193eadd9b6eae22e3f352d11d1cf7d1cce0d', 'message': 'Follow-up: Drop Django based implementation of launch instance\n\nThis patch is a follow-up patch addressing the below comments\ngiven on the commit 6ac31e0 :\n* delete unused template files.\n* rename _launch_advanced_help.html -> _resize_advanced_help.html\n* grammer correction in the release note\n\nChange-Id: I9ab52927fc6be31d491f010e5e3d9323ddd34e9e\n'}, {'number': 3, 'created': '2022-01-27 15:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0d26226af349b20509a577e200018195e57ef539', 'message': 'Follow-up: Drop Django based implementation of launch instance\n\nThis patch is a follow-up patch addressing the below comments\ngiven on the commit 6ac31e0 :\n* delete unused template files.\n* rename _launch_advanced_help.html -> _resize_advanced_help.html\n* grammer correction in the release note\n\nChange-Id: I9ab52927fc6be31d491f010e5e3d9323ddd34e9e\n'}, {'number': 4, 'created': '2022-01-31 16:22:49.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_launch_network_help.html', 'releasenotes/notes/drop-django-launch-instance-form-c6543e1d52786b79.yaml', 'openstack_dashboard/dashboards/project/instances/workflows/resize_instance.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/_launch_network_ports_help.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_launch_details_help.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_update_networks.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_launch_volumes_help.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_launch_advanced_help.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b430d5aa438babc0779cd732ab8d2fa9f097be2a', 'message': 'Follow-up: Drop Django based implementation of launch instance\n\nThis patch is a follow-up patch addressing the below comments\ngiven on the commit 6ac31e0 :\n* delete unused template files.\n* Drop ""config_drive"" option and related code from resize instance\n  step because it need to show only for Launch Instance.\n* grammer correction in the release note\n\nChange-Id: I9ab52927fc6be31d491f010e5e3d9323ddd34e9e\n'}]",25,826262,b430d5aa438babc0779cd732ab8d2fa9f097be2a,22,4,4,29313,,,0,"Follow-up: Drop Django based implementation of launch instance

This patch is a follow-up patch addressing the below comments
given on the commit 6ac31e0 :
* delete unused template files.
* Drop ""config_drive"" option and related code from resize instance
  step because it need to show only for Launch Instance.
* grammer correction in the release note

Change-Id: I9ab52927fc6be31d491f010e5e3d9323ddd34e9e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/826262/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-django-launch-instance-form-c6543e1d52786b79.yaml', 'openstack_dashboard/dashboards/project/instances/workflows/resize_instance.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/_launch_network_ports_help.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_launch_details_help.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_update_networks.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_resize_advanced_help.html']",6,4f00dceeece2211e2a35f6d58bb396d620535103,,,,3,53
openstack%2Fcinder~stable%2Fwallaby~Ie48cf55deacd08e7716201dac00ede8d57e6632f,openstack/cinder,stable/wallaby,Ie48cf55deacd08e7716201dac00ede8d57e6632f,Fix detach notification,MERGED,2021-11-23 11:52:30.000000000,2022-02-02 11:04:19.000000000,2022-02-02 11:02:16.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-23 11:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b90caaaa3f83521e5cc9057ee85f1ea25d58c781', 'message': 'Fix detach notification\n\nOur current `attachment_delete` methods in the volume API and the\nmanager are using DB methods directly, which makes the OVOs present in\nthose methods get out of sync with the latest data, which leads to\nnotifications having the wrong data when we send them on volume detach.\n\nThis patch replaces DB method calls with OVO calls and moves the\nnotification call to the end of the method, where we have the final\nstatus on the volume.\n\nIt also adds the missing detach.start notification when deleting an\nattachment in the reserved state.\n\nCloses-Bug: #1916980\nCloses-Bug: #1935011\nChange-Id: Ie48cf55deacd08e7716201dac00ede8d57e6632f\n(cherry picked from commit 68d49445778ef486e3ff656929405ab270a5a65d)\nConflicts:\n\tcinder/volume/api.py\nChanges:\n        cinder/volume/manager.py\n'}, {'number': 2, 'created': '2022-01-17 16:18:48.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/detach-notification-31ae15dafdef36c1.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed06fc7452699d76c22b288e1cc8e8bc2afa1849', 'message': 'Fix detach notification\n\nOur current `attachment_delete` methods in the volume API and the\nmanager are using DB methods directly, which makes the OVOs present in\nthose methods get out of sync with the latest data, which leads to\nnotifications having the wrong data when we send them on volume detach.\n\nThis patch replaces DB method calls with OVO calls and moves the\nnotification call to the end of the method, where we have the final\nstatus on the volume.\n\nIt also adds the missing detach.start notification when deleting an\nattachment in the reserved state.\n\nCloses-Bug: #1916980\nCloses-Bug: #1935011\nChange-Id: Ie48cf55deacd08e7716201dac00ede8d57e6632f\n(cherry picked from commit 68d49445778ef486e3ff656929405ab270a5a65d)\nConflicts:\n\tcinder/volume/api.py\nChanges:\n        cinder/volume/manager.py\n(cherry picked from commit c0197c6f1ad13e3a63615ceb667a53d3bbca2d77)\n'}]",6,818883,ed06fc7452699d76c22b288e1cc8e8bc2afa1849,41,4,2,9535,,,0,"Fix detach notification

Our current `attachment_delete` methods in the volume API and the
manager are using DB methods directly, which makes the OVOs present in
those methods get out of sync with the latest data, which leads to
notifications having the wrong data when we send them on volume detach.

This patch replaces DB method calls with OVO calls and moves the
notification call to the end of the method, where we have the final
status on the volume.

It also adds the missing detach.start notification when deleting an
attachment in the reserved state.

Closes-Bug: #1916980
Closes-Bug: #1935011
Change-Id: Ie48cf55deacd08e7716201dac00ede8d57e6632f
(cherry picked from commit 68d49445778ef486e3ff656929405ab270a5a65d)
Conflicts:
	cinder/volume/api.py
Changes:
        cinder/volume/manager.py
(cherry picked from commit c0197c6f1ad13e3a63615ceb667a53d3bbca2d77)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/818883/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/detach-notification-31ae15dafdef36c1.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/volume/api.py']",4,b90caaaa3f83521e5cc9057ee85f1ea25d58c781,detach-vol-status," if attachment.attach_status == fields.VolumeAttachStatus.RESERVED: volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.start"") volume.finish_detach(attachment.id) do_notify = True do_notify = False if do_notify: volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"")"," if attachment.attach_status == fields.VolumeAttachStatus.RESERVED: self.db.volume_detached(ctxt.elevated(), attachment.volume_id, attachment.get('id')) self.db.volume_admin_metadata_delete(ctxt.elevated(), attachment.volume_id, 'attached_mode') volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"")",28,14
openstack%2Fdevstack~stable%2Fwallaby~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/wallaby,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-02 06:36:40.000000000,2022-02-02 10:41:43.000000000,2022-02-02 10:39:14.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-02-02 06:36:40.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nConflicts:\n  tools/install_pip.sh\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)\n(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)\n'}]",0,827413,a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730,10,5,1,13252,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

Conflicts:
  tools/install_pip.sh

Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)
(cherry picked from commit 13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/827413/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,a4369c8bb7a7e5d9ef445de56af0dfd1cc64b730,bug/1959600-stable/wallaby,"PIP_GET_PIP36_URL=${PIP_GET_PIP36_URL:-""https://bootstrap.pypa.io/pip/3.6/get-pip.py""} if [[ ""$PYTHON3_VERSION"" = ""3.6"" ]]; then _pip_url=$PIP_GET_PIP36_URL _local_pip=""$FILES/$(basename $_pip_url)-py36"" else _pip_url=$PIP_GET_PIP_URL _local_pip=""$FILES/$(basename $_pip_url)"" fi if [[ -r $_local_pip ]]; then if ! head -1 $_local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $_local_pip found removing"" rm $_local_pip if [[ ! -r $_local_pip || -r $_local_pip.downloaded ]]; then if [[ -r $_local_pip ]]; then timecond=""-z $_local_pip"" $timecond -o $_local_pip $_pip_url || \ touch $_local_pip.downloaded sudo -H -E python${PYTHON3_VERSION} $_local_pip -c $TOOLS_DIR/cap-pip.txt","LOCAL_PIP=""$FILES/$(basename $PIP_GET_PIP_URL)"" if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",20,11
openstack%2Fdevstack~stable%2Fxena~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/xena,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-02 06:31:01.000000000,2022-02-02 10:36:52.000000000,2022-02-02 10:34:57.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-02-02 06:31:01.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)\n'}]",1,827392,13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51,9,4,1,13252,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
(cherry picked from commit a756f4b9681d429f2612164eb01d57c800ff2d2a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/827392/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,13da39fc2e8c6e7e30da8f58cad3d48bce4a6e51,bug/1959600-stable/xena,"PIP_GET_PIP36_URL=${PIP_GET_PIP36_URL:-""https://bootstrap.pypa.io/pip/3.6/get-pip.py""} if [[ ""$PYTHON3_VERSION"" = ""3.6"" ]]; then _pip_url=$PIP_GET_PIP36_URL _local_pip=""$FILES/$(basename $_pip_url)-py36"" else _pip_url=$PIP_GET_PIP_URL _local_pip=""$FILES/$(basename $_pip_url)"" fi if [[ -r $_local_pip ]]; then if ! head -1 $_local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $_local_pip found removing"" rm $_local_pip if [[ ! -r $_local_pip || -r $_local_pip.downloaded ]]; then if [[ -r $_local_pip ]]; then timecond=""-z $_local_pip"" $timecond -o $_local_pip $_pip_url || \ touch $_local_pip.downloaded sudo -H -E python${PYTHON3_VERSION} $_local_pip","LOCAL_PIP=""$FILES/$(basename $PIP_GET_PIP_URL)"" if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP",20,11
openstack%2Fneutron~master~Iee7ea14994ab13dbd894893f6902e82f54e1d902,openstack/neutron,master,Iee7ea14994ab13dbd894893f6902e82f54e1d902,Disable voting on neutron-ovs-tempest-multinode-full temporary,ABANDONED,2022-02-02 07:04:47.000000000,2022-02-02 10:34:50.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-02-02 07:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf0b4a6516d017cc9b72fceaf73ece1983d085b1', 'message': 'Disable voting on neutron-ovs-tempest-multinode-full temporary\n\nDue to bug in tempest test, this job is broken now. Lets make it\nnon-voting temporary until patch [1] will be merged and Tempest will be\nfixed.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/827258\n\nRelated-Bug: #1959467\nChange-Id: Iee7ea14994ab13dbd894893f6902e82f54e1d902\n'}, {'number': 2, 'created': '2022-02-02 07:14:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb8337117c696e5bd07bd385bc4a626df9c55fa3', 'message': 'Disable voting on neutron-ovs-tempest-multinode-full temporary\n\nDue to bug in tempest test, this job is broken now. Lets make it\nnon-voting temporary until patch [1] will be merged and Tempest will be\nfixed.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/827258\n\nRelated-Bug: #1959467\nChange-Id: Iee7ea14994ab13dbd894893f6902e82f54e1d902\n'}]",5,827416,bb8337117c696e5bd07bd385bc4a626df9c55fa3,12,3,2,11975,,,0,"Disable voting on neutron-ovs-tempest-multinode-full temporary

Due to bug in tempest test, this job is broken now. Lets make it
non-voting temporary until patch [1] will be merged and Tempest will be
fixed.

[1] https://review.opendev.org/c/openstack/tempest/+/827258

Related-Bug: #1959467
Change-Id: Iee7ea14994ab13dbd894893f6902e82f54e1d902
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/827416/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bf0b4a6516d017cc9b72fceaf73ece1983d085b1,bug/1959467, - neutron-ovs-tempest-multinode-full: # TODO(slaweq): make it voting again when patch # https://review.opendev.org/c/openstack/tempest/+/827258 will be # merged in Tempest voting: false, - neutron-ovs-tempest-multinode-full,5,1
openstack%2Fmonasca-api~stable%2Fxena~I3bf7e912f0f595bb93d21b9b8ac4b6600e80d1d3,openstack/monasca-api,stable/xena,I3bf7e912f0f595bb93d21b9b8ac4b6600e80d1d3,Update branch to stable/xena for DevStack,MERGED,2022-02-01 16:46:38.000000000,2022-02-02 10:25:15.000000000,2022-02-02 10:22:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-02-01 16:46:38.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/49ca6cc35199483faed71ce3065dd1ebdecf3ca1', 'message': 'Update branch to stable/xena for DevStack\n\nChange-Id: I3bf7e912f0f595bb93d21b9b8ac4b6600e80d1d3\n'}]",1,827318,49ca6cc35199483faed71ce3065dd1ebdecf3ca1,11,2,1,28062,,,0,"Update branch to stable/xena for DevStack

Change-Id: I3bf7e912f0f595bb93d21b9b8ac4b6600e80d1d3
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/18/827318/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,49ca6cc35199483faed71ce3065dd1ebdecf3ca1,,MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-stable/xena}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-stable/xena}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-stable/xena}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-stable/xena}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-stable/xena}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-stable/xena}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-stable/xena}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-stable/xena}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-stable/xena},MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-master}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-master}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-master}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-master}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-master}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-master}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-master}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-master}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-master},9,9
openstack%2Fnova~master~I48adf5188d52253a4fbd51c795c020e9241f2ea7,openstack/nova,master,I48adf5188d52253a4fbd51c795c020e9241f2ea7,DNM: Test fix for bug 1959682,ABANDONED,2022-02-01 15:29:12.000000000,2022-02-02 10:24:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 15:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6864fc39f08637c9271155118ecf57e7ed2cd7af', 'message': 'DNM: Test fix for bug 1959682\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/827305\nChange-Id: I48adf5188d52253a4fbd51c795c020e9241f2ea7\n'}, {'number': 2, 'created': '2022-02-01 16:14:02.000000000', 'files': ['goat'], 'web_link': 'https://opendev.org/openstack/nova/commit/b87b65393d025d8ef4759d5e9f3d1934fd7bc8df', 'message': 'DNM: Test fix for bug 1959682\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/827258\nChange-Id: I48adf5188d52253a4fbd51c795c020e9241f2ea7\n'}]",0,827306,b87b65393d025d8ef4759d5e9f3d1934fd7bc8df,11,1,2,8864,,,0,"DNM: Test fix for bug 1959682

Depends-on: https://review.opendev.org/c/openstack/tempest/+/827258
Change-Id: I48adf5188d52253a4fbd51c795c020e9241f2ea7
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/827306/2 && git format-patch -1 --stdout FETCH_HEAD,['goat'],1,6864fc39f08637c9271155118ecf57e7ed2cd7af,bug/1959682,goat ,,1,0
openstack%2Fopenstack-ansible-nspawn_hosts~stable%2Fvictoria~I964afeb2d2112101215a45ae60edbd94a95365c5,openstack/openstack-ansible-nspawn_hosts,stable/victoria,I964afeb2d2112101215a45ae60edbd94a95365c5,Remove openstack-ansible role test jobs.,MERGED,2022-02-01 16:50:47.000000000,2022-02-02 10:16:24.000000000,2022-02-02 10:10:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 16:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/82e81e91c52bda774919ed9e48e53c8e4caaf83c', 'message': 'Remove legacy centos-8 jobs\n\nChange-Id: I964afeb2d2112101215a45ae60edbd94a95365c5\n'}, {'number': 2, 'created': '2022-02-01 19:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/487b472594b772947bc5b5f79c7e5b0c05eba5e5', 'message': 'Remove legacy centos-8 jobs\n\nChange-Id: I964afeb2d2112101215a45ae60edbd94a95365c5\n'}, {'number': 3, 'created': '2022-02-02 05:55:59.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/bac30481b4523356ba636b1e2ce2d68b4a7b6a86', 'message': 'Remove openstack-ansible role test jobs.\n\nThis role is no longer functional and in order to merge the change\nto remove legacy centos-8 jobs we must disable all CI except the\nlinters and documentation.\n\nChange-Id: I964afeb2d2112101215a45ae60edbd94a95365c5\n'}]",2,827319,bac30481b4523356ba636b1e2ce2d68b4a7b6a86,15,4,3,25023,,,0,"Remove openstack-ansible role test jobs.

This role is no longer functional and in order to merge the change
to remove legacy centos-8 jobs we must disable all CI except the
linters and documentation.

Change-Id: I964afeb2d2112101215a45ae60edbd94a95365c5
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/19/827319/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,82e81e91c52bda774919ed9e48e53c8e4caaf83c,osa/remove-centos8,, - openstack-ansible-functional-centos-8: voting: false - openstack-ansible-functional-centos-8: voting: false,0,4
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I563d634edbba2a7ab5a08e47a1f575dc2fba29b0,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I563d634edbba2a7ab5a08e47a1f575dc2fba29b0,Remove legacy centos-8 jobs,MERGED,2022-02-01 11:26:08.000000000,2022-02-02 10:04:43.000000000,2022-02-02 09:59:10.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 11:26:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f4aecaf29e4ee125a35ec1bdab86add2c05fbfef', 'message': 'Remove legacy centos-8 jobs\n\nCentos-8 is EOL so we must remove the jobs as the opendev CI for\ncentos-8 is no longer available.\n\nChange-Id: I563d634edbba2a7ab5a08e47a1f575dc2fba29b0\n'}]",1,827266,f4aecaf29e4ee125a35ec1bdab86add2c05fbfef,11,4,1,25023,,,0,"Remove legacy centos-8 jobs

Centos-8 is EOL so we must remove the jobs as the opendev CI for
centos-8 is no longer available.

Change-Id: I563d634edbba2a7ab5a08e47a1f575dc2fba29b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/66/827266/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f4aecaf29e4ee125a35ec1bdab86add2c05fbfef,osa/remove-centos8,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false,0,8
openstack%2Ftripleo-ci~master~If9053ea64ef6f58294b244143dc62aba4e5b5835,openstack/tripleo-ci,master,If9053ea64ef6f58294b244143dc62aba4e5b5835,Adding VF directories into the log collection list,MERGED,2021-11-10 12:13:14.000000000,2022-02-02 10:02:55.000000000,2021-11-17 02:08:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-11-10 12:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ac126c9435baaae2036eadd171eb453cf1939c9', 'message': 'DNM adding the validations directories into the log collection list\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If9053ea64ef6f58294b244143dc62aba4e5b5835\n'}, {'number': 2, 'created': '2021-11-11 09:17:33.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f78216289493d0a462479b06d5a2c64afb73dabe', 'message': 'Adding VF directories into the log collection list\n\nThe validation framework is now active participant\nwithin the CI, including the component jobs.\nTherefore we need to collect full set of information\nproduced by it, in order to diagnose potential issues if they arise.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If9053ea64ef6f58294b244143dc62aba4e5b5835\n'}]",6,817392,f78216289493d0a462479b06d5a2c64afb73dabe,24,8,2,32926,,,0,"Adding VF directories into the log collection list

The validation framework is now active participant
within the CI, including the component jobs.
Therefore we need to collect full set of information
produced by it, in order to diagnose potential issues if they arise.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If9053ea64ef6f58294b244143dc62aba4e5b5835
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/817392/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,5ac126c9435baaae2036eadd171eb453cf1939c9,collect-logs/extend, - /home/{{ undercloud_user }}/validations/ - /var/log/validations/,,2,0
openstack%2Fopenstack-ansible~master~I77271832a3564947d7070fdea57f8c361d420ea3,openstack/openstack-ansible,master,I77271832a3564947d7070fdea57f8c361d420ea3,Fix tempest plugins versions,MERGED,2022-01-24 17:12:01.000000000,2022-02-02 09:07:15.000000000,2022-02-02 09:05:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-24 17:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/67c181eface6966d384ed512e2d6df79ad6d5ad9', 'message': 'Fix tempest plugins versions\n\nIn order to avoid failures due to tempest plugins upgrade that\nremain unconstrained even on stable branches, we fix plugins versions\nand update them along with other SHA bumps.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/826121\nChange-Id: I77271832a3564947d7070fdea57f8c361d420ea3\n'}, {'number': 2, 'created': '2022-01-28 12:24:08.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/151703441eb9d9a632bf7f99f6d15577a3aad87d', 'message': 'Fix tempest plugins versions\n\nIn order to avoid failures due to tempest plugins upgrade that\nremain unconstrained even on stable branches, we fix plugins versions\nand update them along with other SHA bumps.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/826121\nChange-Id: I77271832a3564947d7070fdea57f8c361d420ea3\n'}]",0,826129,151703441eb9d9a632bf7f99f6d15577a3aad87d,10,3,2,28619,,,0,"Fix tempest plugins versions

In order to avoid failures due to tempest plugins upgrade that
remain unconstrained even on stable branches, we fix plugins versions
and update them along with other SHA bumps.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/826121
Change-Id: I77271832a3564947d7070fdea57f8c361d420ea3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/826129/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_testing.yml'],1,67c181eface6966d384ed512e2d6df79ad6d5ad9,826129,tempest_git_install_branch: eb860bca57b27da4f1b33de06763abd5fb784afb # HEAD as of 24.01.2022 tempest_plugin_barbican_git_repo: https://opendev.org/openstack/barbican-tempest-plugin tempest_plugin_barbican_git_install_branch: 2f208f0eac1f6b2457e7245b028dd3be58143862 # HEAD as of 24.01.2022 tempest_plugin_barbican_git_track_branch: master tempest_plugin_cinder_git_repo: https://opendev.org/openstack/cinder-tempest-plugin tempest_plugin_cinder_git_install_branch: fc98b2866ec894bce8a79fc647ac601e5c39df49 # HEAD as of 24.01.2022 tempest_plugin_cinder_git_track_branch: master tempest_plugin_cloudkitty_git_repo: https://opendev.org/openstack/cloudkitty-tempest-plugin tempest_plugin_cloudkitty_git_install_branch: b1117d5d5930e7128167b69389e85040070903b4 # HEAD as of 24.01.2022 tempest_plugin_cloudkitty_git_track_branch: master tempest_plugin_designate_git_repo: https://opendev.org/openstack/designate-tempest-plugin tempest_plugin_designate_git_install_branch: e97ec918f170391854c986c0ae777c18afc0df77 # HEAD as of 24.01.2022 tempest_plugin_designate_git_track_branch: master tempest_plugin_heat_git_repo: https://opendev.org/openstack/heat-tempest-plugin tempest_plugin_heat_git_install_branch: ba43685c131d6387779ed35f5bf61fc86667a728 # HEAD as of 24.01.2022 tempest_plugin_heat_git_track_branch: master tempest_plugin_ironic_git_repo: https://opendev.org/openstack/ironic-tempest-plugin tempest_plugin_ironic_git_install_branch: 3d2de82b3e08b348732156ab95a492cd40022e17 # HEAD as of 24.01.2022 tempest_plugin_ironic_git_track_branch: master tempest_plugin_keystone_git_repo: https://opendev.org/openstack/keystone-tempest-plugin tempest_plugin_keystone_git_install_branch: f57af91f9a97a822d2deee1fd32857ad4571d210 # HEAD as of 24.01.2022 tempest_plugin_keystone_git_track_branch: master tempest_plugin_magnum_git_repo: https://opendev.org/openstack/magnum-tempest-plugin tempest_plugin_magnum_git_install_branch: 9b9eacfa515db07874b6489a9ce1785965d684fb # HEAD as of 24.01.2022 tempest_plugin_magnum_git_track_branch: master tempest_plugin_manila_git_repo: https://opendev.org/openstack/manila-tempest-plugin tempest_plugin_manila_git_install_branch: 73e0b6fdc450b7539bf6a97349f5774177ffb24a # HEAD as of 24.01.2022 tempest_plugin_manila_git_track_branch: master tempest_plugin_murano_git_repo: https://opendev.org/openstack/murano-tempest-plugin tempest_plugin_murano_git_install_branch: e3ff4504b590a7b170cd0dd5406909afeafd3f55 # HEAD as of 24.01.2022 tempest_plugin_murano_git_track_branch: master tempest_plugin_neutron_git_repo: https://opendev.org/openstack/neutron-tempest-plugin tempest_plugin_neutron_git_install_branch: d48e1d709cef66413f5ec006bab0b15697d5b253 # HEAD as of 24.01.2022 tempest_plugin_neutron_git_track_branch: master tempest_plugin_novajoin_git_repo: https://opendev.org/x/novajoin-tempest-plugin tempest_plugin_novajoin_git_install_branch: b2e548518a8893562ed111fe66f5937603f5ec5d # HEAD as of 24.01.2022 tempest_plugin_novajoin_git_track_branch: master tempest_plugin_octavia_git_repo: https://opendev.org/openstack/octavia-tempest-plugin tempest_plugin_octavia_git_install_branch: 7de0490e79a450a3fabe3188bf7a9af16c554c2d # HEAD as of 24.01.2022 tempest_plugin_octavia_git_track_branch: master tempest_plugin_senlin_git_repo: https://opendev.org/openstack/senlin-tempest-plugin tempest_plugin_senlin_git_install_branch: f300314aa3bc78bd00fbb1a7cb6f38c7372451f4 # HEAD as of 24.01.2022 tempest_plugin_senlin_git_track_branch: master tempest_plugin_sahara_git_repo: https://opendev.org/openstack/sahara-tests tempest_plugin_sahara_git_install_branch: 98063d3fd93ce77cb3ecbbd33868bbe5dd3a6865 # HEAD as of 24.01.2022 tempest_plugin_sahara_git_track_branch: master tempest_plugin_telemetry_git_repo: https://opendev.org/openstack/telemetry-tempest-plugin tempest_plugin_telemetry_git_install_branch: 6cd5f0274d73bb7a1024f99f609fd74907674f65 # HEAD as of 24.01.2022 tempest_plugin_telemetry_git_track_branch: master tempest_plugin_trove_git_repo: https://opendev.org/openstack/trove-tempest-plugin tempest_plugin_trove_git_install_branch: 5de39645ed4c5f12526863d1546769dce74fcb08 # HEAD as of 24.01.2022 tempest_plugin_trove_git_track_branch: master tempest_plugin_zaqar_git_repo: https://opendev.org/openstack/zaqar-tempest-plugin tempest_plugin_zaqar_git_install_branch: 3813c99e501a1f67a9cbde751cf71747a61f6786 # HEAD as of 24.01.2022 tempest_plugin_zaqar_git_track_branch: master tempest_plugin_zun_git_repo: https://opendev.org/openstack/zun-tempest-plugin tempest_plugin_zun_git_install_branch: 6d2529583bc32bcb84e447d5524af1c900cc2845 # HEAD as of 24.01.2022 tempest_plugin_zun_git_track_branch: master,"# TODO(evrardjp): Remove this file from stable branches to allow the latest tempest # release to be used instead, when a PyPI published version of tempest contains # https://github.com/openstack/tempest/commit/7d2b636a30057ed8db8cfd4fe2248f509b3570f1#diff-5c9acbc10dc9d27b47985cd74ab100f6tempest_git_install_branch: 93a902072fd9986f2bb660166552f37d9eb5bdbb # HEAD as of 10.12.2021",77,4
openstack%2Fnetworking-sfc~master~Ibd1e87c76ad3bb6b9bf3a862ff06092695be1c70,openstack/networking-sfc,master,Ibd1e87c76ad3bb6b9bf3a862ff06092695be1c70,Use ovs constants from neutron_lib.plugins.ml2,MERGED,2022-02-02 05:47:50.000000000,2022-02-02 08:56:55.000000000,2022-02-02 08:55:16.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 05:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ad4cf9612334a94e5205bb5f32fea4d82871bc84', 'message': 'Use ovs constants from neutron_lib.plugins.ml2\n\nWith neutron-lib 2.19.0 release[1] ovs constants are\nmoved to seperate module, so now these needs to be used\nfrom the new location.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/822131\n\nChange-Id: Ibd1e87c76ad3bb6b9bf3a862ff06092695be1c70\n'}, {'number': 2, 'created': '2022-02-02 05:49:46.000000000', 'files': ['requirements.txt', 'networking_sfc/tests/unit/services/sfc/agent/extensions/test_sfc.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'lower-constraints.txt', 'networking_sfc/services/sfc/common/ovs_ext_lib.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/26274d2fd4c08dfdc21c09c8effc044241ef17fe', 'message': 'Use ovs constants from neutron_lib.plugins.ml2\n\nWith neutron-lib 2.19.0 release[1] ovs constants are\nmoved to seperate module, so now these needs to be used\nfrom the new location.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/822131\n\nCloses-Bug: #1959741\nChange-Id: Ibd1e87c76ad3bb6b9bf3a862ff06092695be1c70\n'}]",1,827410,26274d2fd4c08dfdc21c09c8effc044241ef17fe,9,4,2,13861,,,0,"Use ovs constants from neutron_lib.plugins.ml2

With neutron-lib 2.19.0 release[1] ovs constants are
moved to seperate module, so now these needs to be used
from the new location.

[1] https://review.opendev.org/c/openstack/neutron-lib/+/822131

Closes-Bug: #1959741
Change-Id: Ibd1e87c76ad3bb6b9bf3a862ff06092695be1c70
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/10/827410/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_sfc/tests/unit/services/sfc/agent/extensions/test_sfc.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'lower-constraints.txt', 'networking_sfc/services/sfc/common/ovs_ext_lib.py']",5,ad4cf9612334a94e5205bb5f32fea4d82871bc84,rehome-ovs-constants,from neutron_lib.plugins.ml2 import ovs_constants as ovs_consts self.bridge.use_at_least_protocol(ovs_consts.OPENFLOW13),from neutron_lib import constants as n_consts self.bridge.use_at_least_protocol(n_consts.OPENFLOW13),9,8
openstack%2Fnova~master~I99ac604293d0acaa873e24ef60d163e9bfda230a,openstack/nova,master,I99ac604293d0acaa873e24ef60d163e9bfda230a,WIP: live-migration: only wait for external events for active VIFs,NEW,2022-02-01 16:03:23.000000000,2022-02-02 08:32:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 16:03:23.000000000', 'files': ['nova/network/model.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6052c7d1057edf72e53e614baca5d8826649813b', 'message': 'WIP: live-migration: only wait for external events for active VIFs\n\nPreviously, Nova would wait for network-vif-plugged external events\nfrom Neutron for any VIF whose backend causes plug-time events. This\nis incorrect in the case of VIFs that are not active. This patch adds\nan ""is active?"" check to this logic.\n\nChange-Id: I99ac604293d0acaa873e24ef60d163e9bfda230a\nCloses-bug: 1951623\n'}]",1,827314,6052c7d1057edf72e53e614baca5d8826649813b,12,1,1,8864,,,0,"WIP: live-migration: only wait for external events for active VIFs

Previously, Nova would wait for network-vif-plugged external events
from Neutron for any VIF whose backend causes plug-time events. This
is incorrect in the case of VIFs that are not active. This patch adds
an ""is active?"" check to this logic.

Change-Id: I99ac604293d0acaa873e24ef60d163e9bfda230a
Closes-bug: 1951623
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/827314/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/model.py'],1,6052c7d1057edf72e53e614baca5d8826649813b,," for vif in self if (vif.has_live_migration_plug_time_event and vif.get('active', True) is True)]", for vif in self if vif.has_live_migration_plug_time_event],2,1
openstack%2Ftripleo-validations~stable%2Ftrain~I68eb2302c59e86429c4e60566c5a70300adb2548,openstack/tripleo-validations,stable/train,I68eb2302c59e86429c4e60566c5a70300adb2548,Migrate jobs from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-02-01 15:38:44.000000000,2022-02-02 08:26:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 15:38:44.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a21e64822d9c056382fe904162f47fdda974aea9', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nConflicts:\n\tzuul.d/base.yaml\n\tzuul.d/layout.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable branches.\n\ncommit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d\nCoverage change job\n\ncommit: a6a8c7004c392863de3f224e511728a6f536f30c\nMultinode and provider jobs\n\nCo-authored-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68eb2302c59e86429c4e60566c5a70300adb2548\n(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)\n(cherry picked from commit 8567cade1c53124dd296ca9179f2644111c1abae)\n(cherry picked from commit 9976937c67886e431dd16e3c20b6f74d5f3d3c81)\n(cherry picked from commit 801e7e79d38f77a1443f1fc22e45d4d4c37ff922)\n'}]",0,827311,a21e64822d9c056382fe904162f47fdda974aea9,3,1,1,32926,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Conflicts:
	zuul.d/base.yaml
	zuul.d/layout.yaml

Resolved conflicts caused by the following two changes which are not
present in stable branches.

commit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d
Coverage change job

commit: a6a8c7004c392863de3f224e511728a6f536f30c
Multinode and provider jobs

Co-authored-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68eb2302c59e86429c4e60566c5a70300adb2548
(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)
(cherry picked from commit 8567cade1c53124dd296ca9179f2644111c1abae)
(cherry picked from commit 9976937c67886e431dd16e3c20b6f74d5f3d3c81)
(cherry picked from commit 801e7e79d38f77a1443f1fc22e45d4d4c37ff922)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/11/827311/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a21e64822d9c056382fe904162f47fdda974aea9,, nodeset: centos-8-stream, nodeset: centos-8,1,1
openstack%2Ftripleo-validations~stable%2Fussuri~I68eb2302c59e86429c4e60566c5a70300adb2548,openstack/tripleo-validations,stable/ussuri,I68eb2302c59e86429c4e60566c5a70300adb2548,Migrate jobs from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-02-01 15:37:41.000000000,2022-02-02 08:26:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 15:37:41.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/801e7e79d38f77a1443f1fc22e45d4d4c37ff922', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nConflicts:\n\tzuul.d/base.yaml\n\tzuul.d/layout.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable branches.\n\ncommit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d\nCoverage change job\n\ncommit: a6a8c7004c392863de3f224e511728a6f536f30c\nMultinode and provider jobs\n\nCo-authored-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68eb2302c59e86429c4e60566c5a70300adb2548\n(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)\n(cherry picked from commit 8567cade1c53124dd296ca9179f2644111c1abae)\n(cherry picked from commit 9976937c67886e431dd16e3c20b6f74d5f3d3c81)\n'}]",0,827310,801e7e79d38f77a1443f1fc22e45d4d4c37ff922,3,1,1,32926,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Conflicts:
	zuul.d/base.yaml
	zuul.d/layout.yaml

Resolved conflicts caused by the following two changes which are not
present in stable branches.

commit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d
Coverage change job

commit: a6a8c7004c392863de3f224e511728a6f536f30c
Multinode and provider jobs

Co-authored-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68eb2302c59e86429c4e60566c5a70300adb2548
(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)
(cherry picked from commit 8567cade1c53124dd296ca9179f2644111c1abae)
(cherry picked from commit 9976937c67886e431dd16e3c20b6f74d5f3d3c81)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/10/827310/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,801e7e79d38f77a1443f1fc22e45d4d4c37ff922,, nodeset: centos-8-stream, nodeset: centos-8,1,1
openstack%2Ftripleo-validations~stable%2Fvictoria~I68eb2302c59e86429c4e60566c5a70300adb2548,openstack/tripleo-validations,stable/victoria,I68eb2302c59e86429c4e60566c5a70300adb2548,Migrate jobs from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-02-01 15:36:46.000000000,2022-02-02 08:26:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 15:36:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9976937c67886e431dd16e3c20b6f74d5f3d3c81', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nConflicts:\n\tzuul.d/base.yaml\n\tzuul.d/layout.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable branches.\n\ncommit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d\nCoverage change job\n\ncommit: a6a8c7004c392863de3f224e511728a6f536f30c\nMultinode and provider jobs\n\nCo-authored-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68eb2302c59e86429c4e60566c5a70300adb2548\n(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)\n(cherry picked from commit 8567cade1c53124dd296ca9179f2644111c1abae)\n'}]",0,827309,9976937c67886e431dd16e3c20b6f74d5f3d3c81,3,1,1,32926,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Conflicts:
	zuul.d/base.yaml
	zuul.d/layout.yaml

Resolved conflicts caused by the following two changes which are not
present in stable branches.

commit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d
Coverage change job

commit: a6a8c7004c392863de3f224e511728a6f536f30c
Multinode and provider jobs

Co-authored-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68eb2302c59e86429c4e60566c5a70300adb2548
(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)
(cherry picked from commit 8567cade1c53124dd296ca9179f2644111c1abae)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/827309/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9976937c67886e431dd16e3c20b6f74d5f3d3c81,, nodeset: centos-8-stream, nodeset: centos-8,1,1
openstack%2Fkeystoneauth~master~Ib1498a3712ec9cfd0abcb282b093f82ba0ee8128,openstack/keystoneauth,master,Ib1498a3712ec9cfd0abcb282b093f82ba0ee8128,Fix docs build,MERGED,2022-01-21 12:15:18.000000000,2022-02-02 08:02:15.000000000,2022-02-02 07:10:34.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 10239}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-01-21 12:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/2dbfc564b3a7eef0892a1ad261fd264be439ae76', 'message': 'Fix docs build\n\nAvoid conflicts between apidoc generated documentation and the source\ncode by adding ""noindex"" to SPHINX_APIDOC_OPTIONS.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib1498a3712ec9cfd0abcb282b093f82ba0ee8128\n'}, {'number': 2, 'created': '2022-01-21 12:28:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7bbce9761cae1af894f4cd70706eed0d5c4f669e', 'message': 'Fix docs build\n\nAvoid conflicts between apidoc generated documentation and the source\ncode by adding ""noindex"" to SPHINX_APIDOC_OPTIONS.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib1498a3712ec9cfd0abcb282b093f82ba0ee8128\n'}]",2,825777,7bbce9761cae1af894f4cd70706eed0d5c4f669e,15,9,2,13252,,,0,"Fix docs build

Avoid conflicts between apidoc generated documentation and the source
code by adding ""noindex"" to SPHINX_APIDOC_OPTIONS.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib1498a3712ec9cfd0abcb282b093f82ba0ee8128
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/77/825777/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2dbfc564b3a7eef0892a1ad261fd264be439ae76,fix-apidoc,"setenv = {[testenv]setenv} SPHINX_APIDOC_OPTIONS=noindex,members,undoc-members,show-inheritance",,3,0
openstack%2Frequirements~master~I1588e69fafce5fe9e8e6590dc1a53a58a2b1048c,openstack/requirements,master,I1588e69fafce5fe9e8e6590dc1a53a58a2b1048c,Cap zeroconf to < 0.38.0 on Python 3.6,MERGED,2022-02-01 18:40:14.000000000,2022-02-02 07:41:00.000000000,2022-02-02 07:38:25.000000000,"[{'_account_id': 11655}, {'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 18:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fcc106e3a0061db1504205aa4dea78d6e7630626', 'message': 'Cap zeroconf to < 0.38.0 on Python 3.6\n\nSee https://github.com/jstasiak/python-zeroconf/pull/1009\n\nChange-Id: I1588e69fafce5fe9e8e6590dc1a53a58a2b1048c\n'}, {'number': 2, 'created': '2022-02-01 18:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad879d7b5d3151b0c42cd2ffdca041aca700499c', 'message': 'Cap zeroconf to < 0.38.0 on Python 3.6\n\nSee https://github.com/jstasiak/python-zeroconf/pull/1009\n\nChange-Id: I1588e69fafce5fe9e8e6590dc1a53a58a2b1048c\n'}, {'number': 3, 'created': '2022-02-01 22:49:03.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/abfab1bb8feca121ec2ad52c8b203dde6fc99a3f', 'message': 'Cap zeroconf to < 0.38.0 on Python 3.6\n\nSee https://github.com/jstasiak/python-zeroconf/pull/1009\n\nChange-Id: I1588e69fafce5fe9e8e6590dc1a53a58a2b1048c\n'}]",0,827338,abfab1bb8feca121ec2ad52c8b203dde6fc99a3f,28,4,3,10239,,,0,"Cap zeroconf to < 0.38.0 on Python 3.6

See https://github.com/jstasiak/python-zeroconf/pull/1009

Change-Id: I1588e69fafce5fe9e8e6590dc1a53a58a2b1048c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/827338/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,fcc106e3a0061db1504205aa4dea78d6e7630626,,zeroconf===0.37.0;python_version=='3.6' zeroconf===0.38.1;python_version=='3.6',zeroconf===0.38.1,5,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I8b4a26e29d37caabed55d33e3c98b88b16ee2052,openstack/tripleo-ansible,stable/wallaby,I8b4a26e29d37caabed55d33e3c98b88b16ee2052,Add support for Octavia AZs for Edge deployments,MERGED,2022-01-28 07:25:12.000000000,2022-02-02 07:40:22.000000000,2022-02-02 07:40:22.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-28 07:25:12.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_dcn_config/defaults/main.yaml', 'tripleo_ansible/roles/octavia_controller_dcn_config/tasks/main.yaml', 'tripleo_ansible/roles/octavia_overcloud_dcn_config/tasks/main.yaml', 'tripleo_ansible/playbooks/octavia-dcn-deployment.yaml', 'tripleo_ansible/roles/octavia_controller_dcn_config/defaults/main.yaml', 'tripleo_ansible/roles/octavia_controller_dcn_config/meta/main.yaml', 'tripleo_ansible/roles/octavia_overcloud_dcn_config/meta/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7af2dac5129d33fa75d176c9fd7fe9f03ca07341', 'message': 'Add support for Octavia AZs for Edge deployments\n\nPlaybook that configures Octavia and its resources for edge deployments,\nthe playbook must be executed after deploying all the sites.\n\nCreate a parameter file with the AZs:\n\n$ cat octavia-parameters.yaml\noctavia_controller_availability_zone: az-central\noctavia_availability_zones:\n  az-central: # no cidr needed, it uses the already existing subnet\n  az-dcn1:\n    lb_mgmt_subnet_cidr: 172.47.0.0/16\n  az-dcn2:\n    lb_mgmt_subnet_cidr: 172.48.0.0/16\noctavia_backbone_tenant_cidr: 172.49.0.0/16\n\nRun the playbook with a tripleo-generated inventory (with all the plans)\n\n$ ansible-playbook -i inventory.yaml \\\n    tripleo_ansible/playbooks/octavia-dcn-deployment.yaml \\\n    -e @octavia-parameters.yaml \\\n    -e stack=<stackname>\n\nwith stackname the central site.\n\nChange-Id: I8b4a26e29d37caabed55d33e3c98b88b16ee2052\n(cherry picked from commit 36be668e3fe5bdce7f7c6400a7f25dc1f6027fb6)\n'}]",4,826812,7af2dac5129d33fa75d176c9fd7fe9f03ca07341,22,4,1,29244,,,0,"Add support for Octavia AZs for Edge deployments

Playbook that configures Octavia and its resources for edge deployments,
the playbook must be executed after deploying all the sites.

Create a parameter file with the AZs:

$ cat octavia-parameters.yaml
octavia_controller_availability_zone: az-central
octavia_availability_zones:
  az-central: # no cidr needed, it uses the already existing subnet
  az-dcn1:
    lb_mgmt_subnet_cidr: 172.47.0.0/16
  az-dcn2:
    lb_mgmt_subnet_cidr: 172.48.0.0/16
octavia_backbone_tenant_cidr: 172.49.0.0/16

Run the playbook with a tripleo-generated inventory (with all the plans)

$ ansible-playbook -i inventory.yaml \
    tripleo_ansible/playbooks/octavia-dcn-deployment.yaml \
    -e @octavia-parameters.yaml \
    -e stack=<stackname>

with stackname the central site.

Change-Id: I8b4a26e29d37caabed55d33e3c98b88b16ee2052
(cherry picked from commit 36be668e3fe5bdce7f7c6400a7f25dc1f6027fb6)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/826812/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_dcn_config/defaults/main.yaml', 'tripleo_ansible/roles/octavia_controller_dcn_config/tasks/main.yaml', 'tripleo_ansible/roles/octavia_overcloud_dcn_config/tasks/main.yaml', 'tripleo_ansible/playbooks/octavia-dcn-deployment.yaml', 'tripleo_ansible/roles/octavia_controller_dcn_config/defaults/main.yaml', 'tripleo_ansible/roles/octavia_controller_dcn_config/meta/main.yaml', 'tripleo_ansible/roles/octavia_overcloud_dcn_config/meta/main.yaml']",7,7af2dac5129d33fa75d176c9fd7fe9f03ca07341,,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. galaxy_info: namespace: openstack author: OpenStack description: TripleO OpenStack Role -- octavia_overcloud_dcn_config company: Red Hat license: Apache-2.0 min_ansible_version: 2.7 # # Provide a list of supported platforms, and for each platform a list of versions. # If you don't wish to enumerate all versions for a particular platform, use 'all'. # To view available platforms and versions (or releases), visit: # https://galaxy.ansible.com/api/v1/platforms/ # platforms: - name: CentOS versions: - 7 - 8 galaxy_tags: - tripleo # List your role dependencies here, one per line. Be sure to remove the '[]' above, # if you add dependencies to this list. dependencies: - octavia_common ",,295,0
openstack%2Fdevstack~master~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,master,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-01-31 16:50:30.000000000,2022-02-02 06:32:00.000000000,2022-02-02 06:30:25.000000000,"[{'_account_id': 8313}, {'_account_id': 9535}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-01-31 16:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ae1a7d483d31c58cf1b67d78d0ddc86179ffd9a5', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n'}, {'number': 2, 'created': '2022-01-31 16:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a73f602a06f8b7e22ec171fc6e9f388cab9be109', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n'}, {'number': 3, 'created': '2022-01-31 17:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/476163dd39161822d94bee4232e8e2e16ea33f71', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n'}, {'number': 4, 'created': '2022-02-01 11:27:05.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a756f4b9681d429f2612164eb01d57c800ff2d2a', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n'}]",21,827155,a756f4b9681d429f2612164eb01d57c800ff2d2a,34,6,4,16688,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/827155/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,ae1a7d483d31c58cf1b67d78d0ddc86179ffd9a5,bug/1959600,"PIP_GET_PIP36_URL=${PIP_GET_PIP36_URL:-""https://bootstrap.pypa.io/pip/3.6/get-pip.py""} if [[ ""$PYTHON3_VERSION"" = ""3.6"" ]]; then _pip_url=$PIP_GET_PIP36_URL else _pip_url=$PIP_GET_PIP_URL _local_pip=""$FILES/$(basename $_pip_url)"" if [[ -r $_local_pip ]]; then if ! head -1 $_local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $_local_pip found removing"" rm $_local_pip if [[ ! -r $_local_pip || -r $_local_pip.downloaded ]]; then if [[ -r $_local_pip ]]; then timecond=""-z $_local_pip"" $timecond -o $_local_pip $_pip_url || \ touch $_local_pip.downloaded sudo -H -E python${PYTHON3_VERSION} $_local_pip","LOCAL_PIP=""$FILES/$(basename $PIP_GET_PIP_URL)"" if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP",17,11
openstack%2Ftripleo-ci~master~I303b32a3081c60739ad650ef5afc90e239a0d46e,openstack/tripleo-ci,master,I303b32a3081c60739ad650ef5afc90e239a0d46e,Adding vars for cert,MERGED,2022-01-26 20:09:27.000000000,2022-02-02 06:01:39.000000000,2022-02-02 06:01:39.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-26 20:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/682df1c5617a2e41483afabb0b9309f55de3b0ee', 'message': 'DNM: Adding vars for cert\n\nIf a cert is needed to access resources,\nit needs to be uploaded to the image\nand mounted to the base container.\n\nThis is DNM as the real solution is\nto add a DIB element to do this work\non images.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 2, 'created': '2022-01-26 20:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/294802ddcaceb40d68e12419586fcf03cdbb12de', 'message': 'DNM: Adding vars for cert\n\nIf a cert is needed to access resources,\nit needs to be uploaded to the image\nand mounted to the base container.\n\nThis is DNM as the real solution is\nto add a DIB element to do this work\non images.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 3, 'created': '2022-01-26 21:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ad14d4b103238b82d3a692ea9dfe87d0ed0b1c16', 'message': 'DNM: Adding vars for cert\n\nIf a cert is needed to access resources,\nit needs to be uploaded to the image\nand mounted to the base container.\n\nThis is DNM as the real solution is\nto add a DIB element to do this work\non images.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 4, 'created': '2022-01-26 21:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb8dbf5a3c72b34c89f1df7f2ea73cb675f725c0', 'message': 'DNM: Adding vars for cert\n\nIf a cert is needed to access resources,\nit needs to be uploaded to the image\nand mounted to the base container.\n\nThis is DNM as the real solution is\nto add a DIB element to do this work\non images.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 5, 'created': '2022-01-26 21:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b896bf296860f6c24e391c222c68bce12aa21206', 'message': 'DNM: Adding vars for cert\n\nIf a cert is needed to access resources,\nit needs to be uploaded to the image\nand mounted to the base container.\n\nThis is DNM as the real solution is\nto add a DIB element to do this work\non images.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 6, 'created': '2022-01-31 09:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/915b32f1d340724f36cf4888791880e21e13517d', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 7, 'created': '2022-01-31 13:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/41c31fec42a436e0d48619c933158db89a450c02', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 8, 'created': '2022-01-31 14:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e2b2bcf787aa953f3b060a92ff6d36339deee461', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 9, 'created': '2022-01-31 15:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/69aec9a7dba1ce0c3974b4c1135e94b14fdd49c3', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 10, 'created': '2022-01-31 15:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/16a2f7cabe3dded2f2abb9be2991d9e95f5b9576', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 11, 'created': '2022-01-31 17:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b10bfd80307f0c5c5d27e4dced7b90aac0b36e56', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 12, 'created': '2022-02-01 02:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cac255c9892494c246d0b2343b9a96942a9eec2d', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 13, 'created': '2022-02-01 10:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/94e861a9a6aa25a9abbdfbecbe1e732693199bf5', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 14, 'created': '2022-02-01 10:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/be768a03a25d2a2a939e4476eadbb4ae27e67f33', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 15, 'created': '2022-02-01 15:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7d2dd9fe249f9d837d6ed58d15e739f3b6d7dc2', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-repos/+/827280\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}, {'number': 16, 'created': '2022-02-01 16:34:18.000000000', 'files': ['roles/build-containers/vars/redhat-9.yml', 'roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/guestfs.yaml', 'roles/build-containers/vars/redhat-8.yml', 'roles/oooci-build-images/tasks/add_cert.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/846e0f0763e8f1b5e5cc6642d522da5d5b1175f5', 'message': 'Adding vars for cert\n\nIf a cert is needed to access resources, it needs to be uploaded to\nthe image and mounted to the base container.\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container and image build is failing because necessary certs\nare not available.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-repos/+/827280\n\nChange-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e\n'}]",15,826521,846e0f0763e8f1b5e5cc6642d522da5d5b1175f5,53,8,16,9976,,,0,"Adding vars for cert

If a cert is needed to access resources, it needs to be uploaded to
the image and mounted to the base container.

This is needed in downstream where after enabling ssl for DLRN
- container and image build is failing because necessary certs
are not available.

Depends-on: https://review.opendev.org/c/openstack/tripleo-repos/+/827280

Change-Id: I303b32a3081c60739ad650ef5afc90e239a0d46e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/826521/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/vars/redhat-9.yml', 'roles/oooci-build-images/add_cert.yaml', 'roles/oooci-build-images/tasks/main.yaml', 'roles/build-containers/vars/redhat-8.yml']",4,682df1c5617a2e41483afabb0b9309f55de3b0ee,osp_trunk_https," volume_mounts: - ""/etc/pki/ca-trust:/etc/pki/ca-trust:z""",,47,0
openstack%2Fopenstack-helm~master~Iea4cf2f714b98be04e4117000ed566223a416d34,openstack/openstack-helm,master,Iea4cf2f714b98be04e4117000ed566223a416d34,"Revert ""fix(log): reduces chattiness in keystone log""",ABANDONED,2022-02-02 05:29:08.000000000,2022-02-02 05:30:09.000000000,,[],"[{'number': 1, 'created': '2022-02-02 05:29:08.000000000', 'files': ['keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0582bf842b0e85cd4a632ed9b59325063ba2c8d', 'message': 'Revert ""fix(log): reduces chattiness in keystone log""\n\nThis reverts commit 73531436e975e6091df0f501239159c0df69e3e3.\n\nThe problem is that since we link the files on the init\ntime of the container, rotations are no longer being used since\nthe link points at a file which doesn\'t exist anymore, this means\nthat there is effectively no rotation happening and no staging\nand bufer keys which means that at rotation time, all tokens\nare invalidated.\n\nChange-Id: Iea4cf2f714b98be04e4117000ed566223a416d34\n'}]",0,827389,c0582bf842b0e85cd4a632ed9b59325063ba2c8d,2,0,1,1004,,,0,"Revert ""fix(log): reduces chattiness in keystone log""

This reverts commit 73531436e975e6091df0f501239159c0df69e3e3.

The problem is that since we link the files on the init
time of the container, rotations are no longer being used since
the link points at a file which doesn't exist anymore, this means
that there is effectively no rotation happening and no staging
and bufer keys which means that at rotation time, all tokens
are invalidated.

Change-Id: Iea4cf2f714b98be04e4117000ed566223a416d34
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/827389/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",4,c0582bf842b0e85cd4a632ed9b59325063ba2c8d,,version: 0.2.19,version: 0.2.18,3,26
openstack%2Fopenstack-helm~master~Id29abe667f5ef0b61da3d3825b5bf795f2d98865,openstack/openstack-helm,master,Id29abe667f5ef0b61da3d3825b5bf795f2d98865,fix(log): reduces chattiness in keystone log,MERGED,2021-10-20 03:27:15.000000000,2022-02-02 05:17:08.000000000,2021-10-21 09:11:33.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-10-20 03:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/930d84f861640f271309520ec98094081a5107ed', 'message': 'WIP: fix(log): reduces chattiness in keystone log\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: Id29abe667f5ef0b61da3d3825b5bf795f2d98865\n'}, {'number': 2, 'created': '2021-10-20 04:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0de8d5b6d02ce7e9864e19e1600828e93bf7d9e7', 'message': 'fix(log): reduces chattiness in keystone log\n\nCurrent implementation of Keystone prints a warning message if the\ndirectory containing the fernet keys is world readable (o+r). As OSH\nuses a volumeMount to handle fernet keys and is by default readonly,\nthere is no meaningful way to make the directory (not the keys) world\nunreadable. Consequently, keystone just keep logging that warning,\nadding no particular value besides flooding the log.\n\nRather than disabling the log message in keystone (as that warning is\nmeaningful from a security standpoint), this patch set changes the way\nwe deal with the secret volume so the directory is no longer world\nreadable, so keystone will stop issuing that warning message.\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: Id29abe667f5ef0b61da3d3825b5bf795f2d98865\n'}, {'number': 3, 'created': '2021-10-20 14:21:56.000000000', 'files': ['keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73531436e975e6091df0f501239159c0df69e3e3', 'message': 'fix(log): reduces chattiness in keystone log\n\nCurrent implementation of Keystone prints a warning message if the\ndirectory containing the fernet keys is world readable (o+r). As OSH\nuses a volumeMount to handle fernet keys and is by default readonly,\nthere is no meaningful way to make the directory (not the keys) world\nunreadable. Consequently, keystone just keep logging that warning,\nadding no particular value besides flooding the log.\n\nRather than disabling the log message in keystone (as that warning is\nmeaningful from a security standpoint), this patch set changes the way\nwe deal with the secret volume so the directory is no longer world\nreadable, so keystone will stop issuing that warning message.\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: Id29abe667f5ef0b61da3d3825b5bf795f2d98865\n'}]",4,814693,73531436e975e6091df0f501239159c0df69e3e3,23,5,3,33519,,,0,"fix(log): reduces chattiness in keystone log

Current implementation of Keystone prints a warning message if the
directory containing the fernet keys is world readable (o+r). As OSH
uses a volumeMount to handle fernet keys and is by default readonly,
there is no meaningful way to make the directory (not the keys) world
unreadable. Consequently, keystone just keep logging that warning,
adding no particular value besides flooding the log.

Rather than disabling the log message in keystone (as that warning is
meaningful from a security standpoint), this patch set changes the way
we deal with the secret volume so the directory is no longer world
readable, so keystone will stop issuing that warning message.

Signed-off-by: Tin Lam <t@lam.wtf>
Change-Id: Id29abe667f5ef0b61da3d3825b5bf795f2d98865
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/814693/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/deployment-api.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",4,930d84f861640f271309520ec98094081a5107ed,chatty-log,version: 0.2.15,version: 0.2.14,29,2
openstack%2Fcinder~master~I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38,openstack/cinder,master,I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38,Lightbits LightOS driver,MERGED,2021-12-13 16:03:06.000000000,2022-02-02 04:03:50.000000000,2022-02-02 04:01:32.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28403}, {'_account_id': 29122}]","[{'number': 1, 'created': '2021-12-13 16:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/183b07b552fc9b3e803367d6aea11b84d464f9b8', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder/nova/os_brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 2, 'created': '2021-12-13 16:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/877cdbb0c879338f1a385ccd631a57baf771731e', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 3, 'created': '2021-12-27 22:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a1e2f18dad06495fa929ea040c69a14da7cd9ed', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 4, 'created': '2022-01-03 08:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e6bc21e8189e44dc9c86ca74a252cfa0be7b693', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 5, 'created': '2022-01-03 14:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70470a117415c5ecd88f8ab0338dfbfe92831d06', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 6, 'created': '2022-01-09 15:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69cb7da4d8965c3e504665f2ebab357f5465a442', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 7, 'created': '2022-01-11 22:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33c07294b11deea2ae6c942eb94fa1bee8b449e8', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 8, 'created': '2022-01-11 22:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf030b58823d5676f160145e89c7265059343e61', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 9, 'created': '2022-01-12 09:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cff822fd8e0f544243efe5f434215d875d672beb', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 10, 'created': '2022-01-12 14:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ffb9d8224f8bcf31d35c132c7a2092e5f74ed62', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 11, 'created': '2022-01-14 09:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67748eb107d066f3e08d2dacb0684215a6d06818', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt it developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 12, 'created': '2022-01-15 09:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a66d1c520ec359c91f9478780f9180b11f60b056', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 13, 'created': '2022-01-17 01:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a66eed3eec94b1ba0b1e5e7c34899d85f4f71ba9', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 14, 'created': '2022-01-18 19:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c22d15bd13fc6b046af9ecb8cbebcc82baa7e5f2', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 15, 'created': '2022-01-19 08:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d458013f6de78d5e6d8defd7e164ba34a369e762', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 16, 'created': '2022-01-19 20:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cc67357c17a72aa5fe42816df4f34d574bf1da8', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 17, 'created': '2022-01-20 14:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bcae81162300ec0b455225ec8343c3b4d945f99', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 18, 'created': '2022-01-20 15:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3e7e6043d4594685b4e3476972390ee971b5840', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 19, 'created': '2022-01-20 20:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/663891e17ce78408939163b048d30c5cf6dca0d6', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 20, 'created': '2022-01-21 13:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/693e126ec29d7997e7ff3e5868bf78ea8a38ea9e', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 21, 'created': '2022-01-23 20:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30832d8d37596a060b5b0532953b2c5cc5c5a6be', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}, {'number': 22, 'created': '2022-01-26 20:18:00.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/volume/drivers/lightos/__init__.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/lightos/test_lightos_storage.py', 'releasenotes/notes/bp-lightbits-lightos-clustered-nvmetcp-driver-d1ef8f83263921f2.yaml', 'cinder/volume/drivers/lightos.py', 'doc/source/configuration/block-storage/drivers/lightbits-lightos-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/beb2879793099a0c574c97bd6683f4128f430b3e', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for cinder.\nLightOS is a software-defined disaggregated clustered storage solution\nrunning on commodity servers with commodity SSDs.\nIt is developed by Lightbits Labs (https://www.lightbitslabs.com)\nand is actively developed and maintained.\nLightOS is proprietary but the openstack drivers are\nlicensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the\n following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple\nof years by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train.\nWe have also tested it with master (19.1 xena) and we are working to\nextend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable,\nto see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\n\nDepends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\nChange-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38\n'}]",593,821602,beb2879793099a0c574c97bd6683f4128f430b3e,605,10,22,33612,,,0,"Lightbits LightOS driver

This commit introduces the LightOS driver for cinder.
LightOS is a software-defined disaggregated clustered storage solution
running on commodity servers with commodity SSDs.
It is developed by Lightbits Labs (https://www.lightbitslabs.com)
and is actively developed and maintained.
LightOS is proprietary but the openstack drivers are
licensed under Apache v2.0.

The Cinder driver for LightOS currently supports the
 following functionality:

Create volume
Delete volume
Attach volume
Detach volume
Create image from volume
create volume from image
Live migration
Volume replication
Thin provisioning
Multi-attach
Extend volume
Create snapshot
Delete snapshot
Create volume from snapshot
Create volume from volume (clone)

This driver has been developed and has been in use for a couple
of years by Lightbits and our clients.
We have tested it extensively internally with multiple openstack
versions, including Queens, Rocky, Stein, and Train.
We have also tested it with master (19.1 xena) and we are working to
extend testing to cover additional openstack releases.

We are glad to join the openstack community and hope to get your
feedback and comments on this driver, and if it is acceptable,
to see it merged into the tree.

Signed-off-by: Yuval Brave  yuval@lightbitslabs.com

Depends-On: I2e86fa84049053b7c75421d33ad1a1af459ef4e0
Change-Id: I8e6eab23419a4e7f092bb49aa85a4aaab5a8ba38
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/821602/22 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lightos.py'],1,183b07b552fc9b3e803367d6aea11b84d464f9b8,821602,"# Copyright (C) 2016-2020 Lightbits Labs Ltd. # Copyright (C) 2020 Intel Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from os_brick import initiator from oslo_config import cfg from oslo_log import log as logging from cinder import coordination from cinder import interface from cinder.volume import driver from cinder.volume import volume_types from cinder.volume import configuration from cinder.i18n import _ from cinder import exception from cinder import utils from cinder.image import image_utils import requests import six import json import munch import random import time import pprint import traceback import urllib3 try: import http.client as httpstatus # ... or fake it till you make it except ImportError: httpstatus = munch.Munch({ 'OK': 200, 'NOT_FOUND': 404, 'INTERNAL_SERVER_ERROR': 500, 'SERVICE_UNAVAILABLE': 503 }) LOG = logging.getLogger(__name__) ENABLE_TRACE = True LIGHTOS_DEFAULT_PROJECT_NAME = ""default"" urllib3.disable_warnings() lightos_opts = [ cfg.StrOpt('lightos_api_address', default=None, help='The IP addresses of the LightOS API servers separated by commas without spaces'), cfg.StrOpt('lightos_api_port', default='443', help='The TCP/IP port at which the LightOS API servers listen.' ' Port 443 is used for HTTPS other values are used for HTTP.'), cfg.StrOpt('lightos_jwt', default=None, help='JWT to be used for volume and snapshot operations with the LightOS cluster.' ' Keep this parameter clear if the cluster is installed with multi-tenancy disabled.'), cfg.StrOpt('lightos_skip_ssl_verify', default=False, help='skip HTTPS SSL verification with LightOS'), cfg.StrOpt('lightos_volname_template', default='vol_%s', help='The template used for constructing LightOS volume names.' ' Within this template, %s is replaced by the cinder' ' volume ID. Changing this parameter will render all' ' previously defined LightOS volumes inaccessible.'), cfg.StrOpt('lightos_snapshotname_prefix', default='openstack_', help='This prefix is used for constructing LightOS snapshot names.' ' Changing this parameter will render all' ' previously defined LightOS snapshots inaccessible.'), cfg.StrOpt('lightos_intermediate_snapshot_name_prefix', default='for_clone_', help='This prefix is used for generating names for LightOS' ' snapshots which are not backed by a cinder LightOS.'), cfg.IntOpt('lightos_default_num_replicas', default=3, help='The default number of replicas to create for each volume. Valid values are 1, 2 and 3.'), cfg.BoolOpt('lightos_default_compression_enabled', default=False, help='The default compression enabled setting for new volumes'), cfg.IntOpt('lightos_api_service_timeout', default=30, help='The default time to wait for an API service response') ] CONF = cfg.CONF CONF.register_opts(lightos_opts) BLOCK_SIZE = 8 class LightOSConnection(object): def __init__(self, conf): self.conf = conf self.access_key = None self.apiservers = dict() self.targets = dict() self.lightos_cluster_uuid = None self.subsystemNQN = None self._stats = {'total_capacity_gb': 0, 'free_capacity_gb': 0} self._cur_api_server_idx = 0 # a single API call must have been answered in this time if the API service/network were up self.api_timeout = self.conf.lightos_api_service_timeout def _generate_lightos_cmd(self, cmd, **kwargs): """"""Generate command to be sent to LightOS API service"""""" def _joined_params(params): param_str = [] for k, v in params.items(): param_str.append(""%s=%s"" % (k, v)) return '&'.join(param_str) # Dictionary of applicable LightOS commands in the following format: # 'command': (method, API_URL, {optional parameters}) # API V2 common commands lightos_commands = { # cluster operations, 'get_cluster_info': ('GET', '/api/v2/clusterinfo', {}), 'get_cluster': ('GET', '/api/v2/cluster', {}), # node operations 'get_node': ('GET', '/api/v2/nodes/%s' % kwargs.get('UUID'), {}), 'get_nodes': ('GET', '/api/v2/nodes', {}), # volume operations 'create_volume' : ('POST', '/api/v2/projects/%s/volumes' % kwargs.get(""project_name""), { 'name': kwargs.get('name'), 'size': kwargs.get('size'), 'replicaCount': kwargs.get('n_replicas'), 'compression': kwargs.get('compression'), 'acl': { 'values': kwargs.get('acl'), }, 'sourceSnapshotUUID': kwargs.get('src_snapshot_uuid'), 'sourceSnapshotName': kwargs.get('src_snapshot_name'), }), 'delete_volume' : ('DELETE', '/api/v2/projects/%s/volumes/%s' % (kwargs.get(""project_name""), kwargs.get(""volume_uuid"")), {}), 'update_volume': ('PUT', '/api/v2/projects/%s/volumes/%s' % (kwargs.get(""project_name""), kwargs.get(""volume_uuid"")), { # Note: ACL argument is not mandatory, fix this # when we will want to update anything else that is # not ACL 'acl': { 'values': kwargs.get('acl'), }, }), 'extend_volume': ('PUT', '/api/v2/projects/%s/volumes/%s' % (kwargs.get(""project_name""), kwargs.get(""volume_uuid"")), { 'UUID': kwargs.get('volume_uuid'), 'size': kwargs.get('size'), }), # snapshots operations 'create_snapshot': ('POST', '/api/v2/projects/%s/snapshots' % kwargs.get(""project_name""), { 'name': kwargs.get('name'), 'sourceVolumeUUID': kwargs.get('src_volume_uuid'), 'sourceVolumeName': kwargs.get('src_volume_name'), }), 'delete_snapshot': ('DELETE', '/api/v2/projects/%s/snapshots/%s' % (kwargs.get(""project_name""), kwargs.get(""snapshot_uuid"")), {}), # get operations 'get_volume': ('GET', '/api/v2/projects/%s/volumes/%s' % (kwargs.get(""project_name""), kwargs.get(""volume_uuid"")), {}), 'get_volume_by_name': ('GET', '/api/v2/projects/%s/volumes/?name=%s' % (kwargs.get(""project_name""), kwargs.get(""volume_name"")), {}), 'list_volumes' : ('GET', '/api/v2/projects/%s/volumes' % kwargs.get(""project_name""), {}), 'get_snapshot': ('GET', '/api/v2/projects/%s/snapshots/%s' % (kwargs.get(""project_name""), kwargs.get(""snapshot_uuid"")), {}), 'get_snapshot_by_name': ('GET', '/api/v2/projects/%s/snapshots/?Name=%s' % (kwargs.get(""project_name""), kwargs.get(""snapshot_name"")), {}) } if cmd not in lightos_commands: raise exception.UnknownCmd(cmd=cmd) else: (method, url, params) = lightos_commands[cmd] if method == 'GET': body = params elif method == 'DELETE': LOG.debug(""DELETE params: %s"" % params) # For DELETE commands add parameters to the URL url += '?' + _joined_params(params) body = '' elif method == 'PUT': # For PUT commands add parameters to the URL body = params elif method == 'POST': body = params else: msg = (_('Method %(method)s is not defined') % {'method': method}) LOG.error(msg) raise AssertionError(msg) return (method, url, body) def pretty_print_req(self, req, timeout): LOG.debug('Req: {} Headers: {} Body: {} Timeout: {}'.format( req.method + ' ' + req.url, ', '.join('""{}: {}""'.format(k, v) for k, v in req.headers.items()), req.body, timeout )) def send_cmd(self, cmd, timeout, **kwargs): """"""Send command to any LightOS REST API server."""""" start_idx = self._cur_api_server_idx stop = time.time() + timeout while time.time() <= stop: server = self.apiservers[self._cur_api_server_idx] host = server['api_address'] port = server['api_port'] (success, status_code, data) = self.__send_cmd(cmd, host, port, self.api_timeout, **kwargs) if success: return (status_code, data) # go on to the next API server wrapping around as needed self._cur_api_server_idx = (self._cur_api_server_idx + 1) % len(self.apiservers) # if we only have a single API server, keep trying it # if we have more than one and we tried all of them, give up if (self._cur_api_server_idx == start_idx and len(self.apiservers) > 1): break raise exception.VolumeDriverException(message=""Could not get a response from any API server"") def __send_cmd(self, cmd, host, port, timeout, **kwargs): """""" Send command to LightOS REST API server. Returns: (success = True/False, munch(data)) """""" ssl_verify = not bool(self.conf.lightos_skip_ssl_verify) (method, url, body) = self._generate_lightos_cmd(cmd, **kwargs) LOG.info('Invoking %(cmd)s using %(method)s url: %(url)s request.body: %(body)s ssl_verify: %(ssl_verify)s', {'cmd': cmd, 'method': method, 'url': url, 'body': body, 'ssl_verify': ssl_verify}) api_url = ""https://%s:%s%s"" % (host, port, url) try: with requests.Session() as session: req = requests.Request(method, api_url, data=json.dumps(body) if body else None) req.headers.update({'Accept': 'application/json'}) # -H 'Expect:' will prevent us to get the 100 Continue response from curl req.headers.update({'Expect': ''}) if method in ('POST', 'PUT'): req.headers.update({'Content-Type': 'application/json'}) if kwargs.get(""etag""): req.headers.update({'If-Match': kwargs['etag']}) if self.conf.lightos_jwt: req.headers.update({'Authorization': 'Bearer %s' % self.conf.lightos_jwt}) prepped = req.prepare() self.pretty_print_req(prepped, timeout) response = session.send(prepped, timeout=timeout, verify=ssl_verify) except Exception as ex: LOG.exception(""REST server not responding at '%s'"", api_url) return (False, None, None) try: resp = response.json() except ValueError: resp = response.text data = munch.munchify(resp) LOG.debug('Resp(%s): code %s data %s', api_url, response.status_code, data) return (True, response.status_code, data) @interface.volumedriver class LightOSVolumeDriver(driver.VolumeDriver): VERSION = '__VERSION_PLACEHOLDER__' def __init__(self, *args, **kwargs): super(LightOSVolumeDriver, self).__init__(*args, **kwargs) self.configuration.append_config_values(lightos_opts) self.connector = initiator.connector.InitiatorConnector.factory( initiator.LIGHTOS, root_helper=utils.get_root_helper(), message_queue=None, device_scan_attempts=self.configuration.num_volume_device_scan_tries) # give 3 API servers a chance + some change self.logical_op_timeout = self.configuration.lightos_api_service_timeout * 3 + 10 def create_cloned_volume(self, volume, src_vref): """"""Creates a clone of the specified volume. If volume_type extra specs includes 'replication: <is> True' the driver needs to create a volume replica (secondary) and setup replication between the newly created volume and the secondary volume. """""" project_name = self._get_lightos_project_name(volume[""volume_type_id""]) # Create an intermediate snapshot snapshot_name = self._interm_snapshotname(volume) src_volume_name = self._lightos_volname(src_vref) try: self._create_snapshot(project_name, snapshot_name, src_volume_name) except Exception as e: LOG.warn(""Failed to create intermediate snapshot %s from source volume %s."", snapshot_name, src_volume_name) raise e # Create a volume from the intermediate snapshot try: self._create_volume(volume, src_snapshot_lightos_name=snapshot_name) except Exception as e: LOG.warn(""Failed to create volume %s from intermediate "" "" snapshot %s. Trying to clean up."", src_volume_name, snapshot_name) raise e # Delete the intermediate snapshot finally: try: self._delete_lightos_snapshot(project_name, snapshot_name) except Exception as e: LOG.warn(""Failed to delete the intermediate snapshot %s for"" "" volume %s. Trying to clean up."", snapshot_name, src_volume_name) raise e def create_export(self, context, volume, vg=None): """"""Irrelevant for lightos volumes. Export created during attachment."""""" pass def ensure_export(self, context, volume): """"""Irrelevant for lightos volumes. Export created during attachment."""""" pass def remove_export(self, context, volume): """"""Irrelevant for lightos volumes. Export removed during detach."""""" pass def connect_volume(self, volume): """"""Connect the local node to a volume and return its local path"""""" hostnqn = self.connector.get_hostnqn() found_dsc = self.connector.find_dsc() LOG.debug('connect_volume: local hostnqn is %s found_dsc %s', hostnqn, found_dsc) if not hostnqn: msg = 'Local connector did not return a hostnqn, aborting' raise exception.VolumeBackendAPIException(message=msg) if not found_dsc: LOG.warn('LIGHTOS: did not find a discovery client, continuing anyway') lightos_volname = self._lightos_volname(volume) project_name = self._get_lightos_project_name(volume[""volume_type_id""]) success = self.add_volume_acl(project_name, volume, hostnqn) if not success or not self._wait_for_volume_acl(project_name, lightos_volname, hostnqn, True): msg = 'Could not add ACL for hostnqn %s LightOS volume %s, aborting' % \ (hostnqn, lightos_volname) raise exception.VolumeBackendAPIException(message=msg) connection_properties = self._get_connection_properties(project_name, volume) device_info = self.connector.connect_volume(connection_properties) return device_info['path'] def disconnect_volume(self, volume): """"""Disconnect the local node from a volume"""""" hostnqn = self.connector.get_hostnqn() LOG.debug('disconnect_volume: local hostnqn is %s', hostnqn) if not hostnqn: msg = 'Local connector did not return a hostnqn, aborting' raise exception.VolumeBackendAPIException(message=msg) lightos_volname = self._lightos_volname(volume) project_name = self._get_lightos_project_name(volume[""volume_type_id""]) success = self.remove_volume_acl(project_name, volume, hostnqn) if not success or not self._wait_for_volume_acl(project_name, lightos_volname, hostnqn, False): LOG.warn('Could not remove ACL for hostnqn %s LightOS volume %s, limping along', hostnqn, lightos_volname) connection_properties = self._get_connection_properties(project_name, volume) self.connector.disconnect_volume(connection_properties, volume) def copy_image_to_volume(self, context, volume, image_service, image_id): """"""Fetch the image from image_service and write it to the volume."""""" LOG.debug(""LightOS copy_image_to_volume volume: %(vol)s image service: "" ""%(service)s image id: %(id)s."", {'vol': volume, 'service': str(image_service), 'id': str(image_id)}) try: image_utils.fetch_to_raw(context, image_service, image_id, self.connect_volume(volume), BLOCK_SIZE, size=volume['size']) finally: self.disconnect_volume(volume) def copy_volume_to_image(self, context, volume, image_service, image_meta): """"""Copy the volume to the specified image."""""" LOG.debug(""LightOS copy_volume_to_image volume: %(vol)s image service: "" ""%(service)s image meta: %(meta)s."", {'vol': volume, 'service': str(image_service), 'meta': str(image_meta)}) try: image_utils.upload_volume(context, image_service, image_meta, self.connect_volume(volume)) finally: self.disconnect_volume(volume) def _get_lightos_volume(self, project_name, timeout, vol_uuid=None, vol_name=None): assert vol_uuid or vol_name, 'LightOS volume name or UUID must be specified' if vol_uuid: return self.cluster.send_cmd(cmd='get_volume', project_name=project_name, timeout=timeout, volume_uuid=vol_uuid) return self.cluster.send_cmd(cmd='get_volume_by_name', project_name=project_name, timeout=timeout, volume_name=vol_name) def _lightos_volname(self, volume): volid = volume['id'] lightos_volname = self.configuration.lightos_volname_template % volid return lightos_volname def _get_lightos_project_name(self, volume_type_id): if volume_type_id is None: return LIGHTOS_DEFAULT_PROJECT_NAME extra_specs = volume_types.get_volume_type_extra_specs(volume_type_id) project_name = extra_specs.get('lightos:project_name', LIGHTOS_DEFAULT_PROJECT_NAME) return project_name def _lightos_snapshotname(self, snapshot_id): prefix = self.configuration.lightos_snapshotname_prefix return '%s%s' % (prefix, snapshot_id) def _interm_snapshotname(self, snapshot): prefix = self.configuration.lightos_intermediate_snapshot_name_prefix id = snapshot['id'] return '%s%s' % (prefix, id) def _get_lightos_snapshot(self, project_name, timeout, snapshot_uuid=None, snapshot_name=None): assert snapshot_uuid or snapshot_name, 'LightOS snapshot name or UUID must be specified' if snapshot_uuid: return self.cluster.send_cmd(cmd='get_snapshot', project_name=project_name, timeout=timeout, snapshot_uuid=snapshot_uuid) return self.cluster.send_cmd(cmd='get_snapshot_by_name', project_name=project_name, timeout=timeout, snapshot_name=snapshot_name) def _wait_for_volume_available(self, project_name, timeout, vol_uuid = None, vol_name = None): """"""Wait until the volume is available."""""" assert vol_uuid or vol_name, 'LightOS volume UUID or name must be supplied' # we can stop on any terminal status # possible states: Unknown, Creating, Available, Deleting, Deleted, Failed, Updating states_to_wait_for = ('Available', 'Deleting', 'Deleted', 'Failed', 'UNKNOWN') return self._wait_for_volume_state(project_name, timeout = timeout, states = states_to_wait_for, vol_uuid = vol_uuid, vol_name = vol_name) def _get_volume_specs(self, volume): compression = 'True' if self.configuration.lightos_default_compression_enabled else 'False' num_replicas = str(self.configuration.lightos_default_num_replicas) if not volume.volume_type: return (compression, num_replicas, LIGHTOS_DEFAULT_PROJECT_NAME) specs = getattr(volume.volume_type, 'extra_specs', {}) compression = 'True' if specs.get('compression', None) else compression num_replicas = str(specs.get('lightos:num_replicas', num_replicas)) project_name = specs.get('lightos:project_name', LIGHTOS_DEFAULT_PROJECT_NAME) return (compression, num_replicas, project_name) def _validate_num_replicas(self, num_replicas): return num_replicas in ['1', '2', '3'] def _create_new_lightos_volume(self, os_volume, project_name, lightos_name, src_snapshot_lightos_name=None): """"""Create a new LightOS volume for this openstack volume."""""" (compression, num_replicas, _) = self._get_volume_specs(os_volume) if not self._validate_num_replicas(num_replicas): msg = 'Cannot create LightOS volume with %s replicas' % (num_replicas) raise exception.VolumeBackendAPIException(message=msg) return self.cluster.send_cmd( cmd='create_volume', project_name=project_name, timeout=self.logical_op_timeout, name=lightos_name, size=str(os_volume['size']) + ' gib', n_replicas=num_replicas, compression=compression, src_snapshot_name=src_snapshot_lightos_name, acl=['ALLOW_NONE'] ) def _get_lightos_uuid(self, project_name, volume): lightos_name = self._lightos_volname(volume) timeout = self.logical_op_timeout (status, data) = self._get_lightos_volume(project_name=project_name, timeout=timeout, vol_name=lightos_name) if status != httpstatus.OK or not data: LOG.error('Failed to get LightOS volume %s project %s status: %s data: %s', lightos_name, project_name, status, str(data)) raise exception.VolumeNotFound(volume_id=volume) lightos_uuid = data.get('UUID') if not lightos_uuid: LOG.error('Failed to get LightOS volume UUID', status, str(data)) raise exception.VolumeNotFound(volume_id=volume) return lightos_uuid def create_volume(self, volume): return self._create_volume(volume, src_snapshot_lightos_name=None) def create_volume_from_snapshot(self, volume, snapshot): snapshotname = self._lightos_snapshotname(snapshot[""id""]) return self._create_volume(volume, src_snapshot_lightos_name=snapshotname) def _create_volume(self, volume, src_snapshot_lightos_name): lightos_name = self._lightos_volname(volume) project_name = self._get_lightos_project_name(volume[""volume_type_id""]) lightos_uuid = '<UNKNOWN>' vol_state = 'UNKNOWN' # first, check if such a volume exists # if it exists, we must have created it earlier in a previous invocation of create volume # since it takes a while for openstack to retry the call, it's highly unlikely that we created # it but it does not show up yet, so assume that if it does not show up, it was never created (status_code, resp) = self._get_lightos_volume(project_name, timeout = self.logical_op_timeout, vol_name = lightos_name) if status_code == httpstatus.NOT_FOUND: (status_code, resp) = self._create_new_lightos_volume( os_volume=volume, project_name=project_name, lightos_name=lightos_name, src_snapshot_lightos_name=src_snapshot_lightos_name) # when we get here, we definitely tried to create it in the past if status_code == httpstatus.OK: lightos_uuid = resp['UUID'] vol_state = self._wait_for_volume_available(project_name, timeout=self.logical_op_timeout, vol_uuid=lightos_uuid) if vol_state == 'Available': LOG.debug(""LIGHTOS created volume name %s lightos_uuid %s project %s"", lightos_name, lightos_uuid, project_name) return # if volume was created in failed state we should clean it up LOG.warn('LightOS volume with UUID %s project %s last_state is %s', lightos_uuid, project_name, vol_state) if vol_state != 'UNKNOWN': LOG.debug('Cleaning up LightOS volume with UUID %s project %s', lightos_uuid, project_name) self._delete_lightos_volume(project_name, lightos_uuid) # wait for openstack to call us again to create it msg = 'Did not succeed creating LightOS volume with UUID %s status_code %s last state %s' % \ (lightos_uuid, status_code, vol_state) raise exception.VolumeBackendAPIException(message=msg) def update_volume(self, volume): LOG.warn('UNIMPLEMENTED: update/n') def _wait_for_volume_state(self, project_name, timeout, states, vol_uuid = None, vol_name = None): """"""Wait until the volume hits a state in states or timeout"""""" assert vol_uuid or vol_name, 'LightOS volume UUID or name must be specified' state = 'UNKNOWN' stop = time.time() + timeout while time.time() <= stop: (status_code, resp) = self._get_lightos_volume(project_name, timeout=self.logical_op_timeout, vol_uuid=vol_uuid, vol_name=vol_name) state = resp.get('state', 'UNKNOWN') if status_code == httpstatus.OK and resp else 'UNKNOWN' if state in states and status_code != httpstatus.NOT_FOUND: break time.sleep(1) return state def _wait_for_snapshot_state(self, project_name, states, timeout=None, snapshot_uuid=None, snapshot_name=None): """"""Wait until the snapshot hits a state in states or timeout"""""" assert snapshot_uuid or snapshot_name, 'LightOS Snapshot UUID or name must be specified' state = 'UNKNOWN' timeout = timeout or self.logical_op_timeout stop = time.time() + timeout while time.time() <= stop: (status_code, resp) = self._get_lightos_snapshot(project_name=project_name, timeout=self.logical_op_timeout, snapshot_uuid=snapshot_uuid, snapshot_name=snapshot_name) state = resp.get('state', 'UNKNOWN') if status_code == httpstatus.OK and resp else 'UNKNOWN' if state in states and status_code != httpstatus.NOT_FOUND: break time.sleep(1) return state def _wait_for_volume_deleted(self, project_name, timeout, vol_uuid): """"""Wait until the volume has been deleted."""""" return self._wait_for_volume_state(project_name, timeout, states = ('Deleted', 'Deleting', 'UNKNOWN'), vol_uuid = vol_uuid) def _delete_lightos_volume(self, project_name, lightos_uuid): end = time.time() + self.logical_op_timeout while (time.time() < end): (status_code, resp) = self.cluster.send_cmd(cmd='delete_volume', project_name=project_name, timeout=self.logical_op_timeout, volume_uuid=lightos_uuid) if status_code == httpstatus.OK: break LOG.info(""delete_volume for volume with LightOS UUID %s failed with status code %s response %s"", lightos_uuid, status_code, resp) time.sleep(1) else: # no break LOG.error(""Failed to delete volume with LightOS UUID %s. Final status code %s response %s"", lightos_uuid, status_code, resp) return False deleted_state = self._wait_for_volume_deleted(project_name, timeout=self.logical_op_timeout, vol_uuid=lightos_uuid) return deleted_state in ('Deleted', 'Deleting', 'UNKNOWN') def delete_volume(self, volume): """"""Delete volume."""""" project_name = self._get_lightos_project_name(volume[""volume_type_id""]) lightos_uuid = self._get_lightos_uuid(project_name, volume) if not self._delete_lightos_volume(project_name, lightos_uuid): msg = 'Failed to delete LightOS volume with UUID %s project %s' % (lightos_uuid, project_name) raise exception.VolumeBackendAPIException(message=msg) def get_vol_by_id(self, volume): LOG.warn('UNIMPLEMENTED: get vol by id') def get_vols(self): LOG.warn('UNIMPLEMENTED: get vols') def check_for_setup_error(self): num_replicas = self.configuration.lightos_default_num_replicas if not self._validate_num_replicas(str(num_replicas)): msg = 'LIGHTOS: Illegal number of replicas in cinder.conf: %d' % num_replicas raise exception.VolumeBackendAPIException(message=msg) subsysnqn = self.cluster.subsystemNQN if not subsysnqn: msg = 'LIGHTOS: Cinder driver requires the LightOS cluster subsysnqn' raise exception.VolumeBackendAPIException(message=msg) hostnqn = self.connector.get_hostnqn() if not hostnqn: msg = 'LIGHTOS: Cinder driver requires a local hostnqn for image_to/from_volume operations' raise exception.VolumeBackendAPIException(message=msg) found_dsc = self.connector.find_dsc() if not found_dsc: LOG.warn('LIGHTOS: did not find a discovery client, continuing anyway') def get_cluster_info(self, context): (status_code, cluster_info) = self.cluster.send_cmd(cmd='get_cluster_info', timeout=self.logical_op_timeout) if status_code != httpstatus.OK: msg = 'LIGHTOS: Could not connect to LightOS cluster' raise exception.VolumeBackendAPIException(message=msg) LOG.info(""Connected to LightOS cluster %s subsysnqn %s"" % (cluster_info.UUID, cluster_info.subsystemNQN)) self.cluster.lightos_cluster_uuid = cluster_info.UUID self.cluster.subsystemNQN = cluster_info.subsystemNQN def get_cluster_stats(self): (status_code, cluster_info) = self.cluster.send_cmd(cmd='get_cluster', timeout=self.logical_op_timeout) if status_code != httpstatus.OK: msg = 'LIGHTOS: Could not connect to LightOS cluster' raise exception.VolumeBackendAPIException(message=msg) return cluster_info['statistics'] def valid_nodes_info(self, nodes_info): if not nodes_info or 'nodes' not in nodes_info: return False return True def wait_for_lightos_cluster(self): cmd = 'get_nodes' end = time.time() + self.logical_op_timeout while (time.time() < end): (status_code, nodes_info) = self.cluster.send_cmd(cmd=cmd, timeout=self.logical_op_timeout) if status_code != httpstatus.OK or not self.valid_nodes_info(nodes_info): time.sleep(1) continue return nodes_info # bail out if we got here, timeout elapsed msg = 'Failed to get nodes, last status was {} nodes_info {}'.format(status_code, nodes_info) raise exception.VolumeBackendAPIException(message=msg) def do_setup(self, context): self.cluster = LightOSConnection(self.configuration) hosts = [host.strip() for host in self.configuration.lightos_api_address.split(',')] ports = [port.strip() for port in self.configuration.lightos_api_port.split(',')] # Need to verify if hosts is real IP lists or not # And verify that port is in range for server_idx, api_address in enumerate(hosts): self.cluster.apiservers[server_idx] = dict() self.cluster.apiservers[server_idx]['api_address'] = api_address self.cluster.apiservers[server_idx]['api_port'] = ports[server_idx] if len(ports) > 1 else ports[0] # start from a random API server self.cluster._cur_api_server_idx = random.randint(0, len(hosts) - 1) cluster_info = self.get_cluster_info(context) nodes_info = self.wait_for_lightos_cluster() self.cluster.targets = dict() node_list = nodes_info['nodes'] for node in node_list: self.cluster.targets[node['UUID']] = node # reduce the logical op timeout if single server LightOS cluster if len(node_list) == 1: self.logical_op_timeout = self.configuration.lightos_api_service_timeout + 10 def extend_volume(self, volume, size): # loop because we might run into concurrent updates to the volume end = time.time() + self.logical_op_timeout while (time.time() < end): try: finished = self._extend_volume(volume, size) if finished: break except Exception as e: # bail out if the time out elapsed... if time.time() >= end: LOG.warn('Timed out extend volume operation') raise e #if we still have more time, just print the exception LOG.warn('caught this in extend_volume() ... will retry: %s', str(e)) time.sleep(1) def _extend_volume(self, volume, size): lightos_volname = self._lightos_volname(volume) project_name = self._get_lightos_project_name(volume[""volume_type_id""]) try: (status, data) = self._get_lightos_volume(project_name, timeout=self.logical_op_timeout, vol_name=lightos_volname) if status != httpstatus.OK or not data: LOG.error('Failed to get LightOS volume status: %s data: %s', status, str(data)) raise exception.VolumeNotFound(volume_id=volume) lightos_uuid = data['UUID'] etag = data.get('ETag', '') except Exception as e: raise exception.VolumeNotFound(raised_exception=e) try: code, message = self.cluster.send_cmd( cmd='extend_volume', project_name=project_name, timeout=self.logical_op_timeout, volume_uuid=lightos_uuid, size=str(size) + ' gib', etag=etag ) if code == httpstatus.OK: LOG.info(""Successfully extended volume %s project %s size:%s"", volume, project_name, size) else: raise exception.ExtendVolumeError(reason=message) except exception.ExtendVolumeError as e: raise e except Exception as e: raise exception.ExtendVolumeError(raised_exception=e) return True @staticmethod def byte_to_gb(bbytes): return int(int(bbytes)/(1024*1024*1024)) def get_volume_stats(self, refresh=False): """"""Retrieve stats info for the volume *service*, not a specific volume."""""" LOG.debug(""getting volume stats (refresh=%s)"", refresh) if not refresh: return self._stats backend_name = self.configuration.safe_get('volume_backend_name') storage_protocol = ('lightos') # as a tenant we dont have access to cluster stats # in the future we might expose this per project via get_project API # currently we remove this stats call. # cluster_stats = self.get_cluster_stats() data = {} data[""volume_backend_name""] = backend_name or self.__class__.__name__ data[""vendor_name""] = 'LightOS Storage' data[""driver_version""] = self.VERSION data[""storage_protocol""] = storage_protocol data['reserved_percentage'] = self.configuration.reserved_percentage data['QoS_support'] = False data['online_extend_support'] = True # data['total_capacity_gb'] = self.byte_to_gb(cluster_stats['effectivePhysicalStorage']) # It would be preferable to return self.byte_to_gb(cluster_stats['freePhysicalStorage']) # here but we return 'infinite' due to the Cinder bug described in # https://lightbitslabs.atlassian.net/browse/LBM1-11767 data['free_capacity_gb'] = 'infinite' data['thin_provisioning_support'] = True data['compression'] = True data['multiattach'] = True self._stats = data return self._stats def _get_connection_properties(self, project_name, volume): server_properties = {} server_properties['lightos_nodes'] = {} server_properties['uuid'] = self._get_lightos_uuid(project_name, volume) server_properties['nqn'] = self.cluster.subsystemNQN lightos_targets = server_properties['lightos_nodes'] for target in self.cluster.targets.values(): properties = dict() (data_address, data_port) = target['nvmeEndpoint'].split(':') properties['target_portal'] = data_address # properties['target_port'] = data_port properties['target_port'] = 8009 properties['transport_type'] = 'tcp' lightos_targets[data_address] = properties return server_properties def set_volume_acl(self, project_name, lightos_uuid, acl, etag): return self.cluster.send_cmd( cmd='update_volume', project_name=project_name, timeout=self.logical_op_timeout, volume_uuid=lightos_uuid, acl=acl, etag=etag ) def __add_volume_acl(self, project_name, lightos_volname, acl_to_add): (status, data) = self._get_lightos_volume(project_name, self.logical_op_timeout, vol_name=lightos_volname) if status != httpstatus.OK or not data: LOG.error('Failed to get LightOS volume %s status %s data %s', lightos_volname, status, data) return False lightos_uuid = data.get('UUID') if not lightos_uuid: LOG.warn('Got LightOS volume without UUID?! data: %s', data) return False acl = data.get('acl') if not acl: LOG.warn('Got LightOS volume without ACL?! data: %s', data) return False acl = acl.get('values', []) # remove ALLOW_NONE and add our acl_to_add if not already there if 'ALLOW_NONE' in acl: acl.remove('ALLOW_NONE') if acl_to_add not in acl: acl.append(acl_to_add) return self.set_volume_acl(project_name, lightos_uuid, acl, etag=data.get('ETag', '')) def add_volume_acl(self, project_name, volume, acl_to_add): LOG.debug('add_volume_acl got volume %s project %s acl %s', volume, project_name, acl_to_add) lightos_volname = self._lightos_volname(volume) return self.update_volume_acl(self.__add_volume_acl, project_name, lightos_volname, acl_to_add) def __remove_volume_acl(self, project_name, lightos_volname, acl_to_remove): (status, data) = self._get_lightos_volume(project_name, self.logical_op_timeout, vol_name=lightos_volname) if not data: LOG.error('Could not get data for LightOS volume %s project %s', lightos_volname, project_name) return False lightos_uuid = data.get('UUID') if not lightos_uuid: LOG.warn('Got LightOS volume without UUID?! data: %s', data) return False acl = data.get('acl') if not acl: LOG.warn('Got LightOS volume without ACL?! data: %s', data) return False acl = acl.get('values') if not acl: LOG.warn('Got LightOS volume without ACL values?! data: %s', data) return False try: acl.remove(acl_to_remove) except ValueError: LOG.warn('Could not remove acl %s from LightOS volume %s project %s with acl %s', acl_to_remove, lightos_volname, project_name, acl) # if the ACL is empty here, put in ALLOW_NONE if not acl: acl.append('ALLOW_NONE') return self.set_volume_acl(project_name, lightos_uuid, acl, etag=data.get('ETag', '')) def remove_volume_acl(self, project_name, volume, acl_to_remove): lightos_volname = self._lightos_volname(volume) LOG.debug('remove_volume_acl volume %s project %s acl %s', volume, project_name, acl_to_remove) return self.update_volume_acl(self.__remove_volume_acl, project_name, lightos_volname, acl_to_remove) def update_volume_acl(self, func, project_name, lightos_volname, acl): # loop because we might run into concurrent updates to the volume end = time.time() + self.logical_op_timeout first_iteration = True while (time.time() < end): if not first_iteration: time.sleep(1) first_iteration = False res = func(project_name, lightos_volname, acl) if not isinstance(res, tuple): LOG.debug('Update_volume: func %s(%s project %s) failed', func, lightos_volname, project_name) continue if len(res) != 2: LOG.debug(""Unexpected number of values to unpack"") continue (status, resp) = res if status != httpstatus.OK: LOG.debug('update_volume: func %s(%s project %s) got http status %s', func, lightos_volname, project_name, status) else: break # bail out if the time out elapsed... if time.time() >= end: LOG.warn('Timed out %s(%s project %s)', func, lightos_volname, project_name) return False # or the call succeeded and we need to wait for the volume to stabilize vol_state = self._wait_for_volume_available(project_name, timeout = end - time.time(), vol_name = lightos_volname) if vol_state != 'Available': LOG.warn('Timed out waiting for volume %s project %s to stabilize, last state %s', lightos_volname, project_name, vol_state) return False return True def _wait_for_volume_acl(self, project_name, lightos_volname, acl, requested_membership): end = time.time() + self.logical_op_timeout while (time.time() < end): (status, resp) = self._get_lightos_volume(project_name, self.logical_op_timeout, vol_name=lightos_volname) if status == httpstatus.OK: if not resp or not resp.get('acl'): LOG.warn('Got LightOS volume %s without ACL?! data: %s', lightos_volname, resp) return False volume_acls = resp.get('acl').get('values', []) membership = acl in volume_acls if membership == requested_membership: return True LOG.debug('ACL did not settle for volume %s project %s, status %s resp %s', lightos_volname, project_name, status, resp) time.sleep(1) LOG.warn('ACL did not settle for volume %s, giving up' % lightos_volname) return False def create_snapshot(self, snapshot): snapshot_name = self._lightos_snapshotname(snapshot[""id""]) src_volume_name = self._lightos_volname(snapshot[""volume""]) project_name = self._get_lightos_project_name(snapshot[""volume_type_id""]) self._create_snapshot(project_name, snapshot_name, src_volume_name) @coordination.synchronized('lightos-create_snapshot-{src_volume_name}') def _create_snapshot(self, project_name, snapshot_name, src_volume_name): (status_code_get, response) = self._get_lightos_snapshot(project_name, self.logical_op_timeout, snapshot_name=snapshot_name) if status_code_get != httpstatus.OK: end = time.time() + self.logical_op_timeout while (time.time() < end): (status_code_create, response) = self.cluster.send_cmd( cmd='create_snapshot', project_name=project_name, timeout=self.logical_op_timeout, name=snapshot_name, src_volume_name=src_volume_name, ) if status_code_create == httpstatus.INTERNAL_SERVER_ERROR: pass else: break time.sleep(1) if status_code_create != httpstatus.OK: msg = 'Did not succeed creating LightOS snapshot %s project %s' \ 'status code %s response %s' % \ (snapshot_name, project_name, status_code_create, response) raise exception.VolumeBackendAPIException(message=msg) states_to_wait_for = ('Available', 'Deleting', 'Deleted', 'Failed', 'UNKNOWN') state = self._wait_for_snapshot_state(project_name, states=states_to_wait_for, snapshot_name=snapshot_name) if state == 'Available': LOG.debug('Successfully created LightOS snapshot %s', snapshot_name) return LOG.error('Failed to create snapshot %s project %s for volume %s. state = %s.', snapshot_name, project_name, src_volume_name, state) try: self._delete_lightos_snapshot(project_name, snapshot_name) except exception.CinderException as ex: LOG.warn(""Error deleting snapshot during cleanup: %s"", ex) msg = 'Did not succeed creating LightOS snapshot %s project %s last state %s' % \ (snapshot_name, project_name, state) raise exception.VolumeBackendAPIException(message=msg) def delete_snapshot(self, snapshot): lightos_snapshot_name = self._lightos_snapshotname(snapshot[""id""]) project_name = self._get_lightos_project_name(snapshot[""volume_type_id""]) self._delete_lightos_snapshot(project_name=project_name, snapshot_name=lightos_snapshot_name) def _get_lightos_snapshot_uuid(self, project_name, lightos_snapshot_name): (status_code, data) = self._get_lightos_snapshot( project_name=project_name, timeout=self.logical_op_timeout, snapshot_name=lightos_snapshot_name) if status_code == httpstatus.OK: uuid = data.get(""UUID"") if uuid: return uuid if status_code == httpstatus.NOT_FOUND: return None msg = 'Unable to fetch UUID of snapshot named %s. status code %s data %s' % \ (lightos_snapshot_name, status_code, data) raise exception.VolumeBackendAPIException(message=msg) def _delete_lightos_snapshot(self, project_name, snapshot_name): snapshot_uuid = self._get_lightos_snapshot_uuid(project_name, snapshot_name) if snapshot_uuid is None: LOG.warn(""Unable to find lightos snapshot %s project %s for deletion"", snapshot_name, project_name) return False (status_code, _) = self.cluster.send_cmd(cmd='delete_snapshot', project_name=project_name, timeout=self.logical_op_timeout, snapshot_uuid=snapshot_uuid) if status_code == httpstatus.OK: accepted_states = ('Deleted', 'Deleting', 'UNKNOWN') state = self._wait_for_snapshot_state(project_name, states=accepted_states, snapshot_uuid=snapshot_uuid) if state in accepted_states: LOG.debug(""Successfully detected that snapshot %s was deleted."", snapshot_name) return True else: LOG.warn(""Snapshot %s was not deleted. It is in state %s."", snapshot_name, state) return False LOG.warn(""Request to delete snapshot %s was rejected with status code %s."", snapshot_name, status_code) return False def initialize_connection(self, volume, connector): hostnqn = connector.get('hostnqn') found_dsc = connector.get('found_dsc') LOG.debug('initialize_connection: connector hostnqn is %s found_dsc %s', hostnqn, found_dsc) if not hostnqn: msg = 'Connector (%s) did not return a hostnqn, aborting' % (connector, ) raise exception.VolumeBackendAPIException(message=msg) if not found_dsc: msg = 'Connector (%s) did not indicate a discovery client, aborting' % (connector, ) raise exception.VolumeBackendAPIException(message=msg) lightos_volname = self._lightos_volname(volume) project_name = self._get_lightos_project_name(volume[""volume_type_id""]) success = self.add_volume_acl(project_name, volume, hostnqn) if not success or not self._wait_for_volume_acl(project_name, lightos_volname, hostnqn, True): msg = 'Could not add ACL for hostnqn %s LightOS volume %s, aborting' % \ (hostnqn, lightos_volname) raise exception.VolumeBackendAPIException(message=msg) props = self._get_connection_properties(project_name, volume) props['hostnqn'] = hostnqn return {'driver_volume_type': ('lightos'), 'data': props} def terminate_connection(self, volume, connector, **kwargs): force = 'force' in kwargs hostnqn = connector.get('hostnqn') if connector else None LOG.debug('terminate_connection: force %s kwargs %s hostnqn %s', force, kwargs, hostnqn) if not hostnqn: if force: LOG.debug('Terminating connection with extreme prejudice for volume %s', volume) return msg = 'Connector (%s) did not return a hostnqn, aborting' % (connector, ) raise exception.VolumeBackendAPIException(message=msg) lightos_volname = self._lightos_volname(volume) project_name = self._get_lightos_project_name(volume[""volume_type_id""]) success = self.remove_volume_acl(project_name, volume, hostnqn) if not success or not self._wait_for_volume_acl(project_name, lightos_volname, hostnqn, False): LOG.warn('Could not remove ACL for hostnqn %s LightOS volume %s, limping along', hostnqn, lightos_volname) def _init_vendor_properties(self): # compression is one of the standard properties, no need to add it here # see the definition of this function in cinder/volume/driver.py properties = {} self._set_property( properties, ""lightos:num_replicas"", ""Number of replicas for LightOS volume"", _(""Specifies the number of replicas to create for the LightOS volume.""), ""integer"", minimum=1, default=3) return properties, 'lightos' def backup_use_temp_snapshot(self): return False def snapshot_revert_use_temp_snapshot(self): """"""Disable the use of a temporary snapshot on revert."""""" return False def snapshot_remote_attachable(self): """"""LightOS does not support 'mount a snapshot'"""""" return False ",,1228,0
openstack%2Frequirements~master~I734d4e47c34f121c89fad633d55e4c1692bd22d0,openstack/requirements,master,I734d4e47c34f121c89fad633d55e4c1692bd22d0,Updated from generate-constraints,ABANDONED,2022-02-02 02:43:10.000000000,2022-02-02 02:52:18.000000000,,[],"[{'number': 1, 'created': '2022-02-02 02:43:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/067b6e34daa82a2b8a5532e782f57e8f9da8bf84', 'message': 'Updated from generate-constraints\n\nChange-Id: I734d4e47c34f121c89fad633d55e4c1692bd22d0\n'}]",0,827386,067b6e34daa82a2b8a5532e782f57e8f9da8bf84,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I734d4e47c34f121c89fad633d55e4c1692bd22d0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/827386/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,067b6e34daa82a2b8a5532e782f57e8f9da8bf84,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1paramiko===2.9.2pywbem===1.4.1httpcore===0.14.6pkg_resources===0.0.0django-compressor===3.1coverage===6.3.1;python_version=='3.8'Django===3.2.12diskimage-builder===3.17.0rjsmin===1.2.0alembic===1.7.6,rcssmin===1.0.6XStatic-Angular===1.5.8.0paramiko===2.8.1pywbem===1.4.0httpcore===0.14.5django-compressor===2.4.1coverage===6.3;python_version=='3.8'Django===3.2.11diskimage-builder===3.16.0rjsmin===1.1.0alembic===1.7.5setuptools===59.6.0;python_version=='3.6' setuptools===60.6.0;python_version=='3.8',12,13
openstack%2Fdiskimage-builder~master~I4f1dd70728b0f2310bd72fde1e66c63e1695fd34,openstack/diskimage-builder,master,I4f1dd70728b0f2310bd72fde1e66c63e1695fd34,Don't install python3-virtualenv on redhat family,ABANDONED,2022-01-18 03:24:43.000000000,2022-02-02 02:36:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-18 03:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f7452d33b3bad071d687236fe71f03b06ac7a621', 'message': 'Don\'t install python3-virtualenv on centos9\n\npython3-virtualenv is not yet packaged at all on 9-stream so any\ninclusion of pip-and-virtualenv will fail, even virtualenv is unused\nbecause the installtype is ""package"".\n\nSource install should still work on 9-stream because virtualenv gets\npip installed in 04-install-pip.\n\nChange-Id: I4f1dd70728b0f2310bd72fde1e66c63e1695fd34\n'}, {'number': 2, 'created': '2022-01-19 01:22:05.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/999241488505a0ceb34835f85ffd00641ac34673', 'message': ""Don't install python3-virtualenv on redhat family\n\nPython3 platforms have the inbuilt venv module which replaces\nvirtualenv, so python3-virtualenv isn't required on redhat family\ndistros for the following reason:\n- python3-virtualenv won't be packaged in centos9-stream since it is\n  considered deprecated (it is in EPEL)\n- installtype is 'package' in this context, so no elements will be\n  creating venvs for source installs\n- any element which does still need to create a venv should be calling\n  $DIB_PYTHON_VIRTUALENV which uses the venv module where appropriate\n- if the image needs venv capability they should always be using the\n  inbuilt venv module.\n\nChange-Id: I4f1dd70728b0f2310bd72fde1e66c63e1695fd34\n""}]",1,825034,999241488505a0ceb34835f85ffd00641ac34673,10,1,2,4571,,,0,"Don't install python3-virtualenv on redhat family

Python3 platforms have the inbuilt venv module which replaces
virtualenv, so python3-virtualenv isn't required on redhat family
distros for the following reason:
- python3-virtualenv won't be packaged in centos9-stream since it is
  considered deprecated (it is in EPEL)
- installtype is 'package' in this context, so no elements will be
  creating venvs for source installs
- any element which does still need to create a venv should be calling
  $DIB_PYTHON_VIRTUALENV which uses the venv module where appropriate
- if the image needs venv capability they should always be using the
  inbuilt venv module.

Change-Id: I4f1dd70728b0f2310bd72fde1e66c63e1695fd34
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/34/825034/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/pkg-map'],1,f7452d33b3bad071d687236fe71f03b06ac7a621,venv," }, ""centos"": { ""9"": { ""python3-virtualenv"": """" }",,5,0
openstack%2Fdiskimage-builder~master~Id0ac599cac7ec0f3cfc6d5bb74576c960cca4dad,openstack/diskimage-builder,master,Id0ac599cac7ec0f3cfc6d5bb74576c960cca4dad,"Never call virtualenv directly, use DIB_PYTHON_VIRTUALENV",ABANDONED,2022-01-19 01:22:05.000000000,2022-02-02 02:36:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-19 01:22:05.000000000', 'files': ['diskimage_builder/elements/python-brickclient/post-install.d/55-brick-client-install', 'diskimage_builder/elements/tpm-emulator/install.d/tpm-emulator-source-install/78-tpm-emulator-install', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip', 'diskimage_builder/elements/keylime-agent/install.d/keylime-agent-source-install/80-keylime-agent-install'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/376a8f6298c7367f464fa6bdee6b4d7af5e74cbb', 'message': 'Never call virtualenv directly, use DIB_PYTHON_VIRTUALENV\n\nThe pip-and-virtualenv element documents[1] to never call the\nvirtualenv script or module directly, and instead use the set\n$DIB_PYTHON_VIRTUALENV. This change does this for existing calls to\nvirtualenv.\n\nOn a python3 environment will use the python3 inbuilt module ""venv"" so\nthe virtualenv package should not be installed at all on python3\nplatforms. Follow-up changes will stop installing virtualenv on\ndistros.\n\n[1] https://docs.openstack.org/diskimage-builder/latest/elements/pip-and-virtualenv/README.html#environment-variables\n\nChange-Id: Id0ac599cac7ec0f3cfc6d5bb74576c960cca4dad\n'}]",1,825204,376a8f6298c7367f464fa6bdee6b4d7af5e74cbb,6,1,1,4571,,,0,"Never call virtualenv directly, use DIB_PYTHON_VIRTUALENV

The pip-and-virtualenv element documents[1] to never call the
virtualenv script or module directly, and instead use the set
$DIB_PYTHON_VIRTUALENV. This change does this for existing calls to
virtualenv.

On a python3 environment will use the python3 inbuilt module ""venv"" so
the virtualenv package should not be installed at all on python3
platforms. Follow-up changes will stop installing virtualenv on
distros.

[1] https://docs.openstack.org/diskimage-builder/latest/elements/pip-and-virtualenv/README.html#environment-variables

Change-Id: Id0ac599cac7ec0f3cfc6d5bb74576c960cca4dad
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/04/825204/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/python-brickclient/post-install.d/55-brick-client-install', 'diskimage_builder/elements/tpm-emulator/install.d/tpm-emulator-source-install/78-tpm-emulator-install', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip', 'diskimage_builder/elements/keylime-agent/install.d/keylime-agent-source-install/80-keylime-agent-install']",4,376a8f6298c7367f464fa6bdee6b4d7af5e74cbb,venv,$DIB_PYTHON_VIRTUALENV $VENVDIR,if [ $DIB_PYTHON_VERSION == 3 ]; then $DIB_PYTHON -m venv $VENVDIR else $DIB_PYTHON -m virtualenv $VENVDIR fi,8,13
openstack%2Fos-brick~master~I2e86fa84049053b7c75421d33ad1a1af459ef4e0,openstack/os-brick,master,I2e86fa84049053b7c75421d33ad1a1af459ef4e0,Lightbits LightOS driver,MERGED,2021-12-13 16:10:22.000000000,2022-02-02 02:22:11.000000000,2022-02-02 02:03:34.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 16:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/efbaa1b0b109c7de6b21fff18de8502a2658ce3c', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 2, 'created': '2021-12-28 11:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4d4e18e9c36519774f0c7c97b53e16fd6062052c', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 3, 'created': '2022-01-05 13:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/81b81898b929d27a27656e661597afd0aa84d7d7', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 4, 'created': '2022-01-11 09:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bae6d11b42a95b7444e973674dad7656d6dcdac2', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 5, 'created': '2022-01-11 20:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7f185f2cf97f3caddd16db9c7ad5e69f5e06bf8a', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 6, 'created': '2022-01-13 13:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ab1b17b2019101e01892f5ff744388364b0d97b8', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 7, 'created': '2022-01-18 19:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/51d51e353f72b795d48513cda1acd16f184b52b3', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 8, 'created': '2022-01-18 21:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e7bc2bd73837b25a479476e81d427aa414d1db83', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 9, 'created': '2022-01-20 08:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fda4bce36b39dbdec222f7304e4f62e09f8224ec', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is a software-defined disaggregated clustered storage solution running on commodity servers with commodity SSDs. It it developed by Lightbits Labs (https://www.lightbitslabs.com) and is actively developed and maintained. LightOS is proprietary but the openstack drivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following functionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of years by Lightbits and our clients. We have tested it extensively internally with multiple openstack versions, including Queens, Rocky, Stein, and Train. We have also tested it with master (19.1 xena) and we are working to extend testing to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your feedback and comments on this driver, and if it is acceptable, to see it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 10, 'created': '2022-01-20 08:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bb01f874f568efff44fcc896ff93b1a7811b214d', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is\na software-defined disaggregated clustered storage solution running\non commodity servers with commodity SSDs. It it developed by Lightbits\nLabs (https://www.lightbitslabs.com) and is actively developed and\nmaintained. LightOS is proprietary but the openstack\ndrivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following\nfunctionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of\nyears by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train. We have\nalso tested it with master (19.1 xena) and we are working to extend\ntesting to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable, to\nsee it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 11, 'created': '2022-01-27 15:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/85ac116d84a3a0e3538953c14058c29b4f15a1b0', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is\na software-defined disaggregated clustered storage solution running\non commodity servers with commodity SSDs. It it developed by Lightbits\nLabs (https://www.lightbitslabs.com) and is actively developed and\nmaintained. LightOS is proprietary but the openstack\ndrivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following\nfunctionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of\nyears by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train. We have\nalso tested it with master (19.1 xena) and we are working to extend\ntesting to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable, to\nsee it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 12, 'created': '2022-01-27 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/73c79c1e638098c3e2316a370f95248e3f813e48', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is\na software-defined disaggregated clustered storage solution running\non commodity servers with commodity SSDs. It it developed by Lightbits\nLabs (https://www.lightbitslabs.com) and is actively developed and\nmaintained. LightOS is proprietary but the openstack\ndrivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following\nfunctionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of\nyears by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train. We have\nalso tested it with master (19.1 xena) and we are working to extend\ntesting to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable, to\nsee it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 13, 'created': '2022-01-27 19:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/db0cd85115b55c1bc6044018f730dafad5188cbe', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is\na software-defined disaggregated clustered storage solution running\non commodity servers with commodity SSDs. It it developed by Lightbits\nLabs (https://www.lightbitslabs.com) and is actively developed and\nmaintained. LightOS is proprietary but the openstack\ndrivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following\nfunctionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of\nyears by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train. We have\nalso tested it with master (19.1 xena) and we are working to extend\ntesting to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable, to\nsee it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 14, 'created': '2022-01-27 19:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/83a7710f5e4b972e8f95ce39bb9c747d6514c367', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is\na software-defined disaggregated clustered storage solution running\non commodity servers with commodity SSDs. It it developed by Lightbits\nLabs (https://www.lightbitslabs.com) and is actively developed and\nmaintained. LightOS is proprietary but the openstack\ndrivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following\nfunctionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of\nyears by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train. We have\nalso tested it with master (19.1 xena) and we are working to extend\ntesting to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable, to\nsee it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}, {'number': 15, 'created': '2022-02-01 16:01:47.000000000', 'files': ['os_brick/initiator/__init__.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/tests/initiator/connectors/test_lightos.py', 'os_brick/initiator/connector.py', 'os_brick/privileged/lightos.py', 'os_brick/initiator/connectors/lightos.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/627da6a40b4679a41245502b12e06b8340f1ca05', 'message': 'Lightbits LightOS driver\n\nThis commit introduces the LightOS driver for os-brick. LightOS is\na software-defined disaggregated clustered storage solution running\non commodity servers with commodity SSDs. It it developed by Lightbits\nLabs (https://www.lightbitslabs.com) and is actively developed and\nmaintained. LightOS is proprietary but the openstack\ndrivers are licensed under Apache v2.0.\n\nThe Cinder driver for LightOS currently supports the following\nfunctionality:\n\nCreate volume\nDelete volume\nAttach volume\nDetach volume\nCreate image from volume\ncreate volume from image\nLive migration\nVolume replication\nThin provisioning\nMulti-attach\nExtend volume\nCreate snapshot\nDelete snapshot\nCreate volume from snapshot\nCreate volume from volume (clone)\n\nThis driver has been developed and has been in use for a couple of\nyears by Lightbits and our clients.\nWe have tested it extensively internally with multiple openstack\nversions, including Queens, Rocky, Stein, and Train. We have\nalso tested it with master (19.1 xena) and we are working to extend\ntesting to cover additional openstack releases.\n\nWe are glad to join the openstack community and hope to get your\nfeedback and comments on this driver, and if it is acceptable, to\nsee it merged into the tree.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0\n'}]",165,821603,627da6a40b4679a41245502b12e06b8340f1ca05,180,5,15,33612,,,0,"Lightbits LightOS driver

This commit introduces the LightOS driver for os-brick. LightOS is
a software-defined disaggregated clustered storage solution running
on commodity servers with commodity SSDs. It it developed by Lightbits
Labs (https://www.lightbitslabs.com) and is actively developed and
maintained. LightOS is proprietary but the openstack
drivers are licensed under Apache v2.0.

The Cinder driver for LightOS currently supports the following
functionality:

Create volume
Delete volume
Attach volume
Detach volume
Create image from volume
create volume from image
Live migration
Volume replication
Thin provisioning
Multi-attach
Extend volume
Create snapshot
Delete snapshot
Create volume from snapshot
Create volume from volume (clone)

This driver has been developed and has been in use for a couple of
years by Lightbits and our clients.
We have tested it extensively internally with multiple openstack
versions, including Queens, Rocky, Stein, and Train. We have
also tested it with master (19.1 xena) and we are working to extend
testing to cover additional openstack releases.

We are glad to join the openstack community and hope to get your
feedback and comments on this driver, and if it is acceptable, to
see it merged into the tree.

Signed-off-by: Yuval Brave  yuval@lightbitslabs.com
Change-Id: I2e86fa84049053b7c75421d33ad1a1af459ef4e0
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/03/821603/9 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/lightos.py']",3,efbaa1b0b109c7de6b21fff18de8502a2658ce3c,yuval/fix_pep8,"# Copyright (C) 2016-2020 Lightbits Labs Ltd. # Copyright (C) 2020 Intel Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import re import time import json import shlex import tempfile import os import glob from oslo_concurrency import lockutils from oslo_concurrency import processutils as putils from oslo_log import log as logging from eventlet import greenthread from os_brick import exception from os_brick import executor from os_brick.i18n import _ from os_brick.initiator.connectors import base from os_brick import utils DEVICE_SCAN_ATTEMPTS_DEFAULT = 5 LOG = logging.getLogger(__name__) synchronized = lockutils.synchronized_with_prefix('os-brick-') nvmec_pattern = "".*nvme[0-9]+[cp][0-9]+.*"" nvmec_match = re.compile(nvmec_pattern) class LightOSConnector(base.BaseLinuxConnector): """"""Connector class to attach/detach LightOS volumes using NVMe/TCP."""""" def __init__(self, root_helper, message_queue = None, device_scan_attempts=DEVICE_SCAN_ATTEMPTS_DEFAULT, driver=None, execute=None, *args, **kwargs): super(LightOSConnector, self).__init__( root_helper, driver=driver, execute=execute, device_scan_attempts=device_scan_attempts, *args, **kwargs) self.message_queue = message_queue self.DISCOVERY_DIR_PATH = '/etc/discovery-client/discovery.d/' @staticmethod def get_connector_properties(root_helper, *args, **kwargs): """"""The LightOS connector properties."""""" props = {} lightos_connector = LightOSConnector(root_helper=root_helper, message_queue=None, execute=kwargs.get('execute')) hostnqn = lightos_connector.get_hostnqn() found_dsc = lightos_connector.find_dsc() if not found_dsc: LOG.debug('LIGHTOS: did not find dsc, continuing anyway.') if hostnqn: LOG.info(""LIGHTOS: finally hostnqn: %s dsc: %s"", hostnqn, found_dsc) props['hostnqn'] = hostnqn props['found_dsc'] = found_dsc else: LOG.warning('LIGHTOS: no hostnqn found.') return props def dsc_file_name(self, uuid): return os.path.join(self.DISCOVERY_DIR_PATH, ""%s.conf"" % uuid) def find_dsc(self): # FIXME some setups may run us and/or the dsc in different containers or PID namespaces # which makes this check less than useful. Needs to be replaced with something that does not # rely on PID lookups cmd = shlex.split('bash -c ""curl -s http://localhost:6060/metrics""') try: out, err = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) except: out = '' return out def dsc_need_connect(self, connection_info): return not os.path.isfile(self.dsc_file_name(connection_info['uuid'])) def dsc_connect_volume(self, connection_info): if self.dsc_need_connect(connection_info): self.dsc_do_connect_volume(connection_info) def dsc_do_connect_volume(self, connection_info): subsysnqn = connection_info['nqn'] uuid = connection_info['uuid'] hostnqn = self.get_hostnqn() with tempfile.NamedTemporaryFile(mode='w', delete=False) as dscfile: dscfile.write('# os_brick connector dsc file for LightOS volume: {}\n'.format(uuid)) for (ip, node) in connection_info['lightos_nodes'].items(): transport = node['transport_type'] host = node['target_portal'] port = node['target_port'] dscfile.write('-t {} -a {} -s {} -q {} -n {}\n'.format( transport, host, port, hostnqn, subsysnqn)) dscfile.flush() try: dest_name = self.dsc_file_name(uuid) cmd = shlex.split('mv {} {}'.format(dscfile.name, dest_name)) (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError as e: LOG.warning(""LIGHTOS: Failed to run command {}"".format(cmd)) raise e def dsc_disconnect_volume(self, connection_info): uuid = connection_info['uuid'] try: cmd = shlex.split('mv -f {} /tmp'.format(self.dsc_file_name(uuid))) (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError as e: LOG.warning(""LIGHTOS: Failed to run command {}"".format(cmd)) raise e def monitor_db(self, lightos_db): for connection_info in lightos_db.values(): self.dsc_connect_volume(connection_info) def monitor_message_queue(self, message_queue, lightos_db): while not message_queue.empty(): msg = message_queue.get() op, connection = msg LOG.debug(""LIGHTOS: queue got op: %s, connection: %s"", op, connection) if op == 'delete': LOG.info(""LIGHTOS: Removing volume: %s from db"", connection['uuid']) if connection['uuid'] in lightos_db: del lightos_db[connection['uuid']] else: LOG.warning(""LIGHTOS: No volume: %s found in db"", connection['uuid']) elif op == 'add': LOG.info(""LIGHTOS: Adding volume: %s to db"", connection['uuid']) lightos_db[connection['uuid']] = connection def lightos_monitor(self, lightos_db, message_queue): first_time = True while True: self.monitor_db(lightos_db) # give us some time before trying to access the MQ for the first time if first_time: time.sleep(5) first_time = False else: time.sleep(1) self.monitor_message_queue(message_queue, lightos_db) # This is part of our abstract interface def get_search_path(self): return '/dev' # This is part of our abstract interface def get_volume_paths(self, connection_properties): path = connection_properties['device_path'] return [path] @utils.trace def _get_device_by_uuid(self, uuid): lnk_path = ""%s%s"" % (""/dev/disk/by-id/nvme-uuid."", uuid) file_path = ""/sys/class/block/*/wwid"" wwid = ""uuid."" + uuid start = time.time() while time.time() < start + 60: try: devname, err = self._execute('readlink', '-eq', lnk_path, run_as_root=True, root_helper=self._root_helper) if devname.startswith(""/dev/nvme""): devname = devname.strip() LOG.info(""LIGHTOS: devpath %s detected for uuid %s"", devname, uuid) return devname except Exception as _: pass # not all kernels support /dev/disk/by-id/nvme-uuid.* for match_path in glob.glob(file_path): try: match_wwid, err = self._execute('cat', match_path, run_as_root=True, root_helper=self._root_helper) except putils.ProcessExecutionError: LOG.warning(""LIGHTOS: Could not find the uuid at %s"", match_path) continue if wwid != match_wwid.strip(): continue # skip slave nvme devices, for example: nvme0c0n1 if nvmec_match.match(match_path.split(""/"")[-2]): continue LOG.info(""LIGHTOS: matching uuid %s was found for device path %s"" % (uuid, match_path)) return os.path.join(""/dev"", match_path.split(""/"")[-2]) time.sleep(1) return None def _get_size_by_uuid(self, uuid): devpath = self._get_device_by_uuid(uuid) devname = devpath.split(""/"")[-1] try: size_path_name = os.path.join(""/sys/class/block/"", devname, ""size"") size_blks, err = self._execute('cat', size_path_name, run_as_root=True, root_helper=self._root_helper) bytesize = int(size_blks) * 512 return bytesize except putils.ProcessExecutionError: LOG.warning(""LIGHTOS: Could not find the size at for uuid %s in %s"", uuid, devpath) return None @utils.trace @synchronized('volume_op') def connect_volume(self, connection_properties): """"""Discover and attach the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. connection_properties must include: nqn - NVMe subsystem name to the volume to be connected target_port - NVMe target port that hosts the nqn sybsystem target_portal - NVMe target ip that hosts the nqn sybsystem :type connection_properties: dict :returns: dict """""" device_info = {'type': 'block'} uuid = connection_properties['uuid'] LOG.info(""LIGHTOS: connect_volume called for volume %s, connection properties: %s"", uuid, connection_properties) self.dsc_connect_volume(connection_properties) device_path = self._get_device_by_uuid(uuid) if not device_path: msg = _(""Device with uuid %s did not show up"" % uuid) raise exception.BrickException(message=msg) device_info['path'] = device_path if self.message_queue: self.message_queue.put(('add', connection_properties)) return device_info @utils.trace @synchronized('volume_op') def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): """"""Disconnect a volume from the local host. The connection_properties are the same as from connect_volume. The device_info is returned from connect_volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :param device_info: historical difference, but same as connection_props :type device_info: dict :param force: Whether to forcefully disconnect even if flush fails. :type force: bool :param ignore_errors: When force is True, this will decide whether to ignore errors or raise an exception once finished the operation. Default is False. :type ignore_errors: bool """""" uuid = connection_properties['uuid'] LOG.debug('LIGHTOS: disconnect_volume called for volume %s', uuid) self.dsc_disconnect_volume(connection_properties) if self.message_queue: self.message_queue.put(('delete', connection_properties)) @utils.trace @synchronized('volume_op') def extend_volume(self, connection_properties): uuid = connection_properties['uuid'] new_size = self._get_size_by_uuid(uuid) return new_size def get_hostnqn(self): """"""Secure helper to read file as root."""""" file_path = '/etc/nvme/hostnqn' try: lines, _err = self._execute('cat', file_path, run_as_root=True, root_helper=self._root_helper) for l in lines.split('\n'): if l.startswith('nqn.'): return l.strip() except putils.ProcessExecutionError: LOG.warning(""LIGHTOS: Could not find the hostnqn at %s"", file_path) return None ",,330,0
openstack%2Fpython-tripleoclient~master~Icd18de08ebc818441e45ff7ce9f348fbc5813253,openstack/python-tripleoclient,master,Icd18de08ebc818441e45ff7ce9f348fbc5813253,"Introduce ""openstack overcloud ceph spec""",MERGED,2021-12-23 14:20:34.000000000,2022-02-02 01:45:32.000000000,2022-02-02 01:44:11.000000000,"[{'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-12-23 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0d182a275557020e8a039bd6860748d7340c6998', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 2, 'created': '2021-12-23 19:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a2f9d8fd7939d072a176b4b161c1463cde71913e', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 3, 'created': '2022-01-04 16:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bcdd81250f966efdce8a4fdba962ee63020dcfe8', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 4, 'created': '2022-01-04 18:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bd823802fb469f88b0e04c8e12b6084c29cb2ee', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 5, 'created': '2022-01-11 17:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1ec3b956b5309008ab3d596293419cba0756004', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 6, 'created': '2022-01-13 15:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1ad142126909d4bcb9f941feb7b81eb2527eca83', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 7, 'created': '2022-01-14 21:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc11bd1573db9ac359e4770cf1bf881bad88671b', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 8, 'created': '2022-01-14 21:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb0bc045cff80a6fc1116a0d09daa57b1b2a54b5', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 9, 'created': '2022-01-18 16:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c1de7fea96a4b375ebd3c981e643f9f860fae90', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}, {'number': 10, 'created': '2022-01-19 13:28:08.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'releasenotes/notes/overcloud_ceph_spec-e1cfd358c4db2b22.yaml', 'requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3701f2ac318373250210c85f3483cd4f1be17dc7', 'message': 'Introduce ""openstack overcloud ceph spec""\n\nThis command may be used to create a cephadm spec file as\na function of the output of metalsmith and a TripleO roles\nfile.\n\nCalls cli-deployed-ceph.yaml with ceph_spec tag so users\nmay create the Ceph spec in a separate step from the Ceph\nDeployment. The Ceph spec file may be then be passed to\n""openstack overcloud ceph deploy"".\n\nAlso, supports a --standalone feature which directly calls\nthe ceph_spec library in tripleo-common in the depends-on\nchain. As Ansible is used less the tripleo-pythonclient can\nuse the ceph_spec library directly for more than just the\n--standalone feature.\n\nDepends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53\nChange-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253\n'}]",11,822835,3701f2ac318373250210c85f3483cd4f1be17dc7,40,4,10,18002,,,0,"Introduce ""openstack overcloud ceph spec""

This command may be used to create a cephadm spec file as
a function of the output of metalsmith and a TripleO roles
file.

Calls cli-deployed-ceph.yaml with ceph_spec tag so users
may create the Ceph spec in a separate step from the Ceph
Deployment. The Ceph spec file may be then be passed to
""openstack overcloud ceph deploy"".

Also, supports a --standalone feature which directly calls
the ceph_spec library in tripleo-common in the depends-on
chain. As Ansible is used less the tripleo-pythonclient can
use the ceph_spec library directly for more than just the
--standalone feature.

Depends-On: Id771a6075b626f6ec853be17384d3bdd7c327c53
Change-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/822835/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/overcloud_ceph_spec-e1cfd358c4db2b22.yaml', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",4,0d182a275557020e8a039bd6860748d7340c6998,ceph_standalone," class TestOvercloudCephSpec(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudCephSpec, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.app.options = fakes.FakeOptions() self.cmd = overcloud_ceph.OvercloudCephSpec(self.app, app_args) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs): arglist = ['deployed-metal.yaml', '--yes', '--stack', 'overcloud', '--roles-data', 'roles_data.yaml', '--mon-ip', '127.0.0.1', '--osd-spec', 'osd_spec.yaml', '--output', 'ceph_spec.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, tags='ceph_spec', reproduce_command=False, extra_vars={ ""baremetal_deployed_path"": mock.ANY, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', 'tripleo_roles_path': mock.ANY, 'osd_spec_path': mock.ANY, 'ceph_spec_path': mock.ANY, } )",,240,0
openstack%2Ftripleo-quickstart~master~I2b8bf49291a8325bb03a0e1884c41a634c3068f0,openstack/tripleo-quickstart,master,I2b8bf49291a8325bb03a0e1884c41a634c3068f0,Fixes nit in train promotion release file extra ),MERGED,2022-01-31 16:16:14.000000000,2022-02-02 01:00:54.000000000,2022-02-02 00:58:07.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-01-31 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c53210d430ad2b20dfc7d576907466ff324fea8a', 'message': 'Fixes nit in train promotion release file extra )\n\nIntroduced with [1] and afaics it only exists in the train\npromotion-testing-hash release file. Issue can be seen at [2][3]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/824555\n[2] https://logserver.rdoproject.org/71/38671/1/check/periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-train/b906c6a/job-output.txt\n[3] https://logserver.rdoproject.org/71/38671/1/check/periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-train/7117a26/job-output.txt\n\nChange-Id: I2b8bf49291a8325bb03a0e1884c41a634c3068f0\n'}, {'number': 2, 'created': '2022-02-01 15:23:15.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cbf5e49546ecdb4e7f60e2f373bb51218d407e1c', 'message': 'Fixes nit in train promotion release file extra )\n\nIntroduced with [1] and afaics it only exists in the train\npromotion-testing-hash release file. Issue can be seen at [2][3]\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/824555\n[2] https://logserver.rdoproject.org/71/38671/1/check/periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-train/b906c6a/job-output.txt\n[3] https://logserver.rdoproject.org/71/38671/1/check/periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-train/7117a26/job-output.txt\n\nChange-Id: I2b8bf49291a8325bb03a0e1884c41a634c3068f0\n'}]",5,827143,cbf5e49546ecdb4e7f60e2f373bb51218d407e1c,27,6,2,8449,,,0,"Fixes nit in train promotion release file extra )

Introduced with [1] and afaics it only exists in the train
promotion-testing-hash release file. Issue can be seen at [2][3]

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/824555
[2] https://logserver.rdoproject.org/71/38671/1/check/periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-train/b906c6a/job-output.txt
[3] https://logserver.rdoproject.org/71/38671/1/check/periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-train/7117a26/job-output.txt

Change-Id: I2b8bf49291a8325bb03a0e1884c41a634c3068f0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/43/827143/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'],1,c53210d430ad2b20dfc7d576907466ff324fea8a,," export NODEPOOL_CENTOS_MIRROR={{ ansible_env['NODEPOOL_CENTOS_MIRROR']|default('http://mirror.centos.org/centos', true) }}"," export NODEPOOL_CENTOS_MIRROR={{ ansible_env['NODEPOOL_CENTOS_MIRROR'])|default('http://mirror.centos.org/centos', true) }}",1,1
openstack%2Ftripleo-quickstart~master~Ic93998421fe80afed81157a7bba547b5beded1dd,openstack/tripleo-quickstart,master,Ic93998421fe80afed81157a7bba547b5beded1dd,Move centos-ceph-nautilus to use rdo deps/storage/nautilus for now,MERGED,2022-02-01 12:49:27.000000000,2022-02-02 00:59:29.000000000,2022-02-02 00:58:04.000000000,"[{'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14611}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-02-01 12:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3b9a153e042ade05ab4995e075ad8fa44c9a9747', 'message': 'Move centos-ceph-nautilus to use rdo deps/storage/nautilus for now\n\nThe 8 repos are now gone 404. Until the proper 8-stream repo is\navailable we can use the rdo temp repo for now to unblock gates.\nAlso includes some updates to the opstools repo for the same issue\nthat were forgetten in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827111\n\nChange-Id: Ic93998421fe80afed81157a7bba547b5beded1dd\n'}, {'number': 2, 'created': '2022-02-01 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/27f99df63bde238008b5c3004ab75b7877239afb', 'message': 'Move centos-ceph-nautilus to use rdo deps/storage/nautilus for now\n\nThe 8 repos are now gone 404. Until the proper 8-stream repo is\navailable we can use the rdo temp repo for now to unblock gates.\nAlso includes some updates to the opstools repo for the same issue\nthat were forgetten in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827111\n\nRelated-Bug: 1959656\nChange-Id: Ic93998421fe80afed81157a7bba547b5beded1dd\n'}, {'number': 3, 'created': '2022-02-01 13:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e4dba0bfcdd1b5adc71a016f678ccc9c0a5d796d', 'message': 'Move centos-ceph-nautilus to use rdo deps/storage/nautilus for now\n\nThe 8 repos are now gone 404. Until the proper 8-stream repo is\navailable we can use the rdo temp repo for now to unblock gates.\nAlso includes some updates to the opstools repo for the same issue\nthat were forgetten in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827111\n\nChange-Id: Ic93998421fe80afed81157a7bba547b5beded1dd\n'}, {'number': 4, 'created': '2022-02-01 13:49:51.000000000', 'files': ['config/release/centosci/wallaby-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/centosci/ussuri-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cd6105db95e5d2e49ce162a3f441d9ad64fbaa9f', 'message': 'Move centos-ceph-nautilus to use rdo deps/storage/nautilus for now\n\nThe 8 repos are now gone 404. Until the proper 8-stream repo is\navailable we can use the rdo temp repo for now to unblock gates.\nAlso includes some updates to the opstools repo for the same issue\nthat were forgetten in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827111\n\nChange-Id: Ic93998421fe80afed81157a7bba547b5beded1dd\n'}]",4,827279,cd6105db95e5d2e49ce162a3f441d9ad64fbaa9f,32,7,4,8449,,,0,"Move centos-ceph-nautilus to use rdo deps/storage/nautilus for now

The 8 repos are now gone 404. Until the proper 8-stream repo is
available we can use the rdo temp repo for now to unblock gates.
Also includes some updates to the opstools repo for the same issue
that were forgetten in [1].

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/827111

Change-Id: Ic93998421fe80afed81157a7bba547b5beded1dd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/79/827279/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/centosci/wallaby-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/centosci/ussuri-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",12,3b9a153e042ade05ab4995e075ad8fa44c9a9747,, baseurl: https://trunk.rdoproject.org/centos8-master/deps/storage/nautilus/ #TODO(marios) change when nautilus available in 8-stream mirrors, baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-nautilus/,36,18
openstack%2Fproject-config~master~I13e8185b7839371a9f9043b715dc39c6baf907d5,openstack/project-config,master,I13e8185b7839371a9f9043b715dc39c6baf907d5,Remove centos-8,MERGED,2022-01-31 21:38:10.000000000,2022-02-02 00:43:32.000000000,2022-02-01 23:25:36.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 21:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/656310b8e2f7842570d5cd5dae087235dc9d8457', 'message': 'Remove centos-8\n\nThis distro release reached its EOL December 31, 2021. We are removing\nit from our CI system as people should really stop testing on it. They\ncan use CentOS 8 Stream or other alternatives instead.\n\nDepends-On: https://review.opendev.org/c/opendev/base-jobs/+/827181\nChange-Id: I13e8185b7839371a9f9043b715dc39c6baf907d5\n'}, {'number': 2, 'created': '2022-02-01 22:48:53.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'nodepool/nb03.opendev.org.yaml', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dce378a6b46ebcbd4a88a0306518d1d69917524f', 'message': 'Remove centos-8\n\nThis distro release reached its EOL December 31, 2021. We are removing\nit from our CI system as people should really stop testing on it. They\ncan use CentOS 8 Stream or other alternatives instead.\n\nDepends-On: https://review.opendev.org/c/opendev/base-jobs/+/827181\nChange-Id: I13e8185b7839371a9f9043b715dc39c6baf907d5\n'}]",1,827184,dce378a6b46ebcbd4a88a0306518d1d69917524f,12,3,2,4146,,,0,"Remove centos-8

This distro release reached its EOL December 31, 2021. We are removing
it from our CI system as people should really stop testing on it. They
can use CentOS 8 Stream or other alternatives instead.

Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/827181
Change-Id: I13e8185b7839371a9f9043b715dc39c6baf907d5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/827184/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'nodepool/nb03.opendev.org.yaml', 'grafana/nodepool-dib.yaml']",8,656310b8e2f7842570d5cd5dae087235dc9d8457,remove-centos-8-nodes,,"# AUTOGENERATED : Centos 8 - title: Centos 8 showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.centos-8.status.rc"" valueFontSize: ""50%"" - title: Last build type: singlestat span: 2 format: dateTimeFromNow targets: - target: ""stats.gauges.nodepool.dib_image_build.centos-8.status.last_build"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-8.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-8.status.duration.mean, 'None'), ""Time"") refId: A# AUTOGENERATED : Centos 8 arm64 - title: Centos 8 arm64 showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.centos-8-arm64.status.rc"" valueFontSize: ""50%"" - title: Last build type: singlestat span: 2 format: dateTimeFromNow targets: - target: ""stats.gauges.nodepool.dib_image_build.centos-8-arm64.status.last_build"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.centos-8-arm64.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.centos-8-arm64.status.duration.mean, 'None'), ""Time"") refId: A",0,239
openstack%2Ftripleo-validations~master~I5b4d45b4223a3bf6434214cdafd258f0dd85096c,openstack/tripleo-validations,master,I5b4d45b4223a3bf6434214cdafd258f0dd85096c,Remove content of TLS-Everywhere molecule.conf,MERGED,2022-01-11 09:09:21.000000000,2022-02-01 22:30:06.000000000,2022-02-01 22:28:27.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-11 09:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/698c60565f5a550789e44262bd87ba7c87919ecd', 'message': 'Remove content of TLS-Everywhere molecule.conf\n\nRemove the content to inherit the behaviour from\ntripleo-validations/.config/molecule/config.yml\n\nChange-Id: I5b4d45b4223a3bf6434214cdafd258f0dd85096c\n'}, {'number': 2, 'created': '2022-01-13 09:19:44.000000000', 'files': ['roles/tls_everywhere/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/12bc0d0e58ae1a9ac11a1dd95e1a12ab2db62188', 'message': 'Remove content of TLS-Everywhere molecule.conf\n\nRemove the content to inherit the behaviour from\ntripleo-validations/.config/molecule/config.yml\n\nChange-Id: I5b4d45b4223a3bf6434214cdafd258f0dd85096c\n'}]",2,824100,12bc0d0e58ae1a9ac11a1dd95e1a12ab2db62188,14,6,2,34120,,,0,"Remove content of TLS-Everywhere molecule.conf

Remove the content to inherit the behaviour from
tripleo-validations/.config/molecule/config.yml

Change-Id: I5b4d45b4223a3bf6434214cdafd258f0dd85096c
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/00/824100/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/molecule/default/molecule.yml'],1,698c60565f5a550789e44262bd87ba7c87919ecd,,," platforms: - name: centos hostname: centos image: centos/centos:stream8 registry: url: quay.io dockerfile: ../../../../.config/molecule/Dockerfile pkg_extras: python*-setuptools python*-pyyaml krb5-workstation volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host",0,17
openstack%2Fglance_store~stable%2Fussuri~If5447c3f5b4f678943273c2bdb2e44cd25d5b226,openstack/glance_store,stable/ussuri,If5447c3f5b4f678943273c2bdb2e44cd25d5b226,Drop snapshot in use log from ERROR to WARN,ABANDONED,2020-08-30 15:14:35.000000000,2022-02-01 22:13:25.000000000,,"[{'_account_id': 1004}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3914372d259857d3622ffb8b63ecc22e7bd45ef3', 'message': ""Drop snapshot in use log from ERROR to WARN\n\nThis message is not actually an error inside the system for most of the\ntime.  The primary reason behind this is that it is possible that there\nare VMs using this image and therefore it can't be deleted, the operator\nhas no actionable thing to do about this.\n\nFor those who are monitoring ERROR level messages and alerting on them,\nthis is noisy and not actionable, drop this error message to warning.\n\nChange-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226\n(cherry picked from commit 5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a)\n""}, {'number': 2, 'created': '2020-08-30 23:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3e6a0c153e6b7d7aa9490001f6dad64d00d82cd9', 'message': ""Drop snapshot in use log from ERROR to WARN\n\nThis message is not actually an error inside the system for most of the\ntime.  The primary reason behind this is that it is possible that there\nare VMs using this image and therefore it can't be deleted, the operator\nhas no actionable thing to do about this.\n\nFor those who are monitoring ERROR level messages and alerting on them,\nthis is noisy and not actionable, drop this error message to warning.\n\nChange-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226\n(cherry picked from commit 5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a)\n""}, {'number': 3, 'created': '2021-11-25 15:33:14.000000000', 'files': ['glance_store/_drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/2b13eb7f623f90da7c6600101d3d0ae939603ddd', 'message': ""Drop snapshot in use log from ERROR to WARN\n\nThis message is not actually an error inside the system for most of the\ntime.  The primary reason behind this is that it is possible that there\nare VMs using this image and therefore it can't be deleted, the operator\nhas no actionable thing to do about this.\n\nFor those who are monitoring ERROR level messages and alerting on them,\nthis is noisy and not actionable, drop this error message to warning.\n\nCloses-Bug: #1897794\n\nChange-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226\n(cherry picked from commit 5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a)\n""}]",5,748877,2b13eb7f623f90da7c6600101d3d0ae939603ddd,17,4,3,1004,,,0,"Drop snapshot in use log from ERROR to WARN

This message is not actually an error inside the system for most of the
time.  The primary reason behind this is that it is possible that there
are VMs using this image and therefore it can't be deleted, the operator
has no actionable thing to do about this.

For those who are monitoring ERROR level messages and alerting on them,
this is noisy and not actionable, drop this error message to warning.

Closes-Bug: #1897794

Change-Id: If5447c3f5b4f678943273c2bdb2e44cd25d5b226
(cherry picked from commit 5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/77/748877/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/rbd.py'],1,3914372d259857d3622ffb8b63ecc22e7bd45ef3,drop-error-level," log_msg = (_LW(""Snap Operating Exception "" LOG.warning(log_msg) log_msg = (_LW(""Remove image %(img_name)s failed. "" LOG.warning(log_msg) log_msg = (_LW(""Remove image %(img_name)s failed. "" LOG.warning(log_msg)"," log_msg = (_LE(""Snap Operating Exception "" LOG.error(log_msg) log_msg = (_LE(""Remove image %(img_name)s failed. "" LOG.error(log_msg) log_msg = (_LE(""Remove image %(img_name)s failed. "" LOG.error(log_msg)",6,6
openstack%2Frequirements~stable%2Fvictoria~I8dcd49d95488ffa36149422654b01e5934201103,openstack/requirements,stable/victoria,I8dcd49d95488ffa36149422654b01e5934201103,update constraint for ovsdbapp to new release 1.6.1,MERGED,2022-01-31 08:36:05.000000000,2022-02-01 21:40:37.000000000,2022-02-01 21:40:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 08:36:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ed35696b8b36fc0f15f11fd2e2a20934318eb73d', 'message': 'update constraint for ovsdbapp to new release 1.6.1\n\nmeta: version: 1.6.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I48dadbeb0c1e18562042701c50ed5bf0caead2f6\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I8dcd49d95488ffa36149422654b01e5934201103\n'}]",0,826996,ed35696b8b36fc0f15f11fd2e2a20934318eb73d,11,3,1,11131,,,0,"update constraint for ovsdbapp to new release 1.6.1

meta: version: 1.6.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I48dadbeb0c1e18562042701c50ed5bf0caead2f6
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I8dcd49d95488ffa36149422654b01e5934201103
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/826996/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ed35696b8b36fc0f15f11fd2e2a20934318eb73d,new-release,ovsdbapp===1.6.1,ovsdbapp===1.6.0,1,1
openstack%2Frequirements~stable%2Fvictoria~I560fa08e8fc3d2b2df1510fb9611eb8732361389,openstack/requirements,stable/victoria,I560fa08e8fc3d2b2df1510fb9611eb8732361389,update constraint for python-manilaclient to new release 2.3.1,MERGED,2022-01-27 10:18:53.000000000,2022-02-01 21:24:20.000000000,2022-02-01 21:24:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-27 10:18:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8c6579c78d27315a4498c7964b56225855e64b07', 'message': 'update constraint for python-manilaclient to new release 2.3.1\n\nmeta: version: 2.3.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I690adeb5d0074c02ecf3b1159e72ae38e05dd673\nmeta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I560fa08e8fc3d2b2df1510fb9611eb8732361389\n'}]",0,826604,8c6579c78d27315a4498c7964b56225855e64b07,11,3,1,11131,,,0,"update constraint for python-manilaclient to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I690adeb5d0074c02ecf3b1159e72ae38e05dd673
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I560fa08e8fc3d2b2df1510fb9611eb8732361389
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/826604/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8c6579c78d27315a4498c7964b56225855e64b07,new-release,python-manilaclient===2.3.1,python-manilaclient===2.3.0,1,1
openstack%2Fvalidations-common~master~I5bcd45b766d94adf4e7c0e8a6e0f83d5d3c23b25,openstack/validations-common,master,I5bcd45b766d94adf4e7c0e8a6e0f83d5d3c23b25,add pre-update and pre-upgrade groups to ntp playbook,MERGED,2022-01-10 16:16:20.000000000,2022-02-01 21:18:10.000000000,2022-02-01 21:16:41.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-01-10 16:16:20.000000000', 'files': ['validations_common/playbooks/ntp.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ec6bfcb7b8fe8203dfd312d616eefa0256c287f4', 'message': ""add pre-update and pre-upgrade groups to ntp playbook\n\nIt's important to add NTP to pre-upgrade and pre-update groups to ensure\nNTP presence and synchronization prior to these important functions.\n\nRecent events have highlighted the necessity of this.\n\nChange-Id: I5bcd45b766d94adf4e7c0e8a6e0f83d5d3c23b25\n""}]",2,824007,ec6bfcb7b8fe8203dfd312d616eefa0256c287f4,15,9,1,27427,,,0,"add pre-update and pre-upgrade groups to ntp playbook

It's important to add NTP to pre-upgrade and pre-update groups to ensure
NTP presence and synchronization prior to these important functions.

Recent events have highlighted the necessity of this.

Change-Id: I5bcd45b766d94adf4e7c0e8a6e0f83d5d3c23b25
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/07/824007/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/playbooks/ntp.yaml'],1,ec6bfcb7b8fe8203dfd312d616eefa0256c287f4,add-ntp-pre-update-pre-upgrade, - pre-update - pre-upgrade,,2,0
openstack%2Ftripleo-ansible~master~Idfe4f334f59a3a40363b7127f33ed4996f09362f,openstack/tripleo-ansible,master,Idfe4f334f59a3a40363b7127f33ed4996f09362f,Add tripleo_cephadm_standalone boolean,MERGED,2022-01-14 17:47:52.000000000,2022-02-01 21:16:39.000000000,2022-02-01 21:16:39.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-14 17:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb092c66e9f9e11fdd13cc0f9a6967822caface6', 'message': 'Add tripleo_cephadm_standalone boolean\n\nIf tripleo_cephadm_standalone is true, then a standalone\ndeployment is being run, which requires the THT variable\nCephSpecFqdn to be true. The python-tripleoclient patch\nwhich dependson this one passes this parameter and always\ncreates Ceph specs with the FQDN set.\n\nChange-Id: Idfe4f334f59a3a40363b7127f33ed4996f09362f\n'}, {'number': 2, 'created': '2022-01-14 18:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/defd3c5d514e781a8aed990419b90d749cd041f7', 'message': 'Add tripleo_cephadm_standalone boolean\n\nIf tripleo_cephadm_standalone is true, then a standalone\ndeployment is being run, which requires the THT variable\nCephSpecFqdn to be true. The python-tripleoclient patch\nwhich dependson this one passes this parameter and always\ncreates Ceph specs with the FQDN set.\n\nChange-Id: Idfe4f334f59a3a40363b7127f33ed4996f09362f\n'}, {'number': 3, 'created': '2022-01-14 18:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cda1ac856435de75591e02bbfc827f5afb5d8672', 'message': 'Add tripleo_cephadm_standalone boolean\n\nIf tripleo_cephadm_standalone is true, then a standalone\ndeployment is being run, which requires the THT variable\nCephSpecFqdn to be true. The python-tripleoclient patch\nwhich depends on this one passes this parameter and always\ncreates Ceph specs with the FQDN set if --standalone is\nused.\n\nChange-Id: Idfe4f334f59a3a40363b7127f33ed4996f09362f\n'}, {'number': 4, 'created': '2022-01-14 21:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e88879d9b45ac74757d194406cbc5730f9a04e16', 'message': 'Add tripleo_cephadm_standalone boolean\n\nIf tripleo_cephadm_standalone is true, then a standalone\ndeployment is being run, which requires the THT variable\nCephSpecFqdn to be true. The python-tripleoclient patch\nwhich depends on this one passes this parameter and always\ncreates Ceph specs with the FQDN set if --standalone is\nused.\n\nChange-Id: Idfe4f334f59a3a40363b7127f33ed4996f09362f\n'}, {'number': 5, 'created': '2022-01-27 11:00:35.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18f4ce78ba6c2547c0a162b23c5b50584b80d82c', 'message': 'Add tripleo_cephadm_standalone boolean\n\nIf tripleo_cephadm_standalone is true, then a standalone\ndeployment is being run, which requires the THT variable\nCephSpecFqdn to be true. The python-tripleoclient patch\nwhich depends on this one passes this parameter and always\ncreates Ceph specs with the FQDN set if --standalone is\nused.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: Idfe4f334f59a3a40363b7127f33ed4996f09362f\n'}]",9,824744,18f4ce78ba6c2547c0a162b23c5b50584b80d82c,30,6,5,18002,,,0,"Add tripleo_cephadm_standalone boolean

If tripleo_cephadm_standalone is true, then a standalone
deployment is being run, which requires the THT variable
CephSpecFqdn to be true. The python-tripleoclient patch
which depends on this one passes this parameter and always
creates Ceph specs with the FQDN set if --standalone is
used.

Depends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7
Change-Id: Idfe4f334f59a3a40363b7127f33ed4996f09362f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/824744/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml']",2,bb092c66e9f9e11fdd13cc0f9a6967822caface6,ceph_standalone,tripleo_cephadm_standalone: false,,2,0
openstack%2Ftripleo-validations~master~I02d70e9eaf112d9d9137a020c8b236c150a12149,openstack/tripleo-validations,master,I02d70e9eaf112d9d9137a020c8b236c150a12149,feat(removal): tox-ansible support,MERGED,2022-01-10 08:24:13.000000000,2022-02-01 21:14:07.000000000,2022-02-01 21:09:25.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-10 08:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c2268530fbfd162d1ff8c80f9822153743e93524', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n""}, {'number': 2, 'created': '2022-01-18 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/201c7523445597c3f75c31c5125cdeae24657ce8', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n""}, {'number': 3, 'created': '2022-01-18 12:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/19f5c21dcc981d1b18b2058abf4f4301b27adb64', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n""}, {'number': 4, 'created': '2022-01-19 06:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6861cd46846a3fbcf1fbe46a659476be65433cc9', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n""}, {'number': 5, 'created': '2022-01-19 06:23:08.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nThis patch also removes the `tripleo-linters` anchor and nodeset line\nfor the `openstack-tox-linters` check job as they are not used or useful\nhere.\n\nJIRA: #VALFRWK702\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149\n""}]",1,823942,01ae2b4ea2a07d702f4fb4e8e6acb367dbc609d4,20,5,5,11491,,,0,"feat(removal): tox-ansible support

This patch removes the support of tox-ansible from
tripleo-validations. Due to several issues with pip dependencies
management and our requirements files, the installation of this latter
doesn't work.

This patch also removes the `tripleo-linters` anchor and nodeset line
for the `openstack-tox-linters` check job as they are not used or useful
here.

JIRA: #VALFRWK702

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I02d70e9eaf112d9d9137a020c8b236c150a12149
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/42/823942/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'doc/source/contributing/developer_guide.rst']",2,c2268530fbfd162d1ff8c80f9822153743e93524,tox-ansible-removal,"* Via the script `scripts/run-local-test`, * or manually by following the procedure described below.Role based testing with `molecule`_ can be executed directly from within All tests require `Podman`_ for container based testing. If `Podman`_ is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. course, when running your `molecule`_ test on your workstation, it is goingBefore running basic `molecule`_ tests, it is recommended to install allNow, it is important to install `validations-common` and `tripleo-ansible` asTo run a basic `molecule`_ test, simply source the `ansible-test-env.rc`When debugging `molecule`_ tests its sometimes useful to use the .. _molecule: https://github.com/ansible-community/molecule .. _podman: https://podman.io/","* with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/moleculeRole based testing with molecule can be executed directly from within All tests require Podman for container based testing. If Podman is not available on the local workstation it will need to be installed prior to executing most molecule based tests. The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. course, when running your molecule test on your workstation, it is goingBefore running basic molecule tests, it is recommended to install allNow, it is important to install validations-common and tripleo-ansible asTo run a basic molecule test, simply source the `ansible-test-env.rc`When debugging molecule tests its sometimes useful to use the",16,92
openstack%2Fcinder~master~I0a373cd130420ebe775e05db538868a4d333db1b,openstack/cinder,master,I0a373cd130420ebe775e05db538868a4d333db1b,[SVf] Add cleanrate in volume-type extra specs,MERGED,2021-09-30 05:46:46.000000000,2022-02-01 20:43:46.000000000,2022-02-01 20:41:08.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 32036}, {'_account_id': 32266}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-09-30 05:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89682a543c56e7c08f0c5702e09a3370cafad65b', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 2, 'created': '2021-10-05 12:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd48e90bd272d5a33093bcb4dd9eed5729325008', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 3, 'created': '2021-10-05 13:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70d5d1287c50497bd14fec79d5f37962ed99158c', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 4, 'created': '2021-12-20 04:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0365f77b2a6bbaf7dbb5b8537046ef6d211b51a', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 5, 'created': '2021-12-24 10:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcfce2a2793bf4a9d0562d6b2a9a7645e8912627', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 6, 'created': '2021-12-27 09:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73daaef7c6018ec9c29b6aa3dac1e43b5e9291af', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 7, 'created': '2022-01-18 18:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21df5508ab65274a77aae433c72b69f0afdd0949', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 8, 'created': '2022-01-24 16:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a167a82716c854ad9b8d0545221272e378b218b', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 9, 'created': '2022-01-24 17:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dd1ca1f36640d128b3a1bb12d94e1e27d419d35', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 10, 'created': '2022-01-28 11:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17a226e6f5f002209a2a4caf79ad6ea217ea72f4', 'message': '[SVF] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize Family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}, {'number': 11, 'created': '2022-01-28 11:17:57.000000000', 'files': ['doc/source/configuration/tables/cinder-storwize.inc', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/ibm-svf-add-cleanrate-support-e246a8f218d2f22e.yaml', 'doc/source/configuration/block-storage/drivers/ibm-storwize-svc-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c3635b61d50cf1d3d9f040822c67c306f117dac', 'message': '[SVf] Add cleanrate in volume-type extra specs\n\n[Spectrum Virtualize family] Added support to pass cleanrate\nparameter in volume-type specs. Cleanrate parameter can now be\npassed as an extra spec in volume-type or fetched from cinder.conf.\nIf these are not provided then it will take the default value.\n\nImplements: blueprint ibm-svf-cleanrate-spec\n\nChange-Id: I0a373cd130420ebe775e05db538868a4d333db1b\n'}]",59,811877,2c3635b61d50cf1d3d9f040822c67c306f117dac,282,10,11,32074,,,0,"[SVf] Add cleanrate in volume-type extra specs

[Spectrum Virtualize family] Added support to pass cleanrate
parameter in volume-type specs. Cleanrate parameter can now be
passed as an extra spec in volume-type or fetched from cinder.conf.
If these are not provided then it will take the default value.

Implements: blueprint ibm-svf-cleanrate-spec

Change-Id: I0a373cd130420ebe775e05db538868a4d333db1b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/811877/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/ibm-svf-add-cleanrate-support-e246a8f218d2f22e.yaml']",3,89682a543c56e7c08f0c5702e09a3370cafad65b,change-811877,--- features: - | IBM Spectrum Virtualize Family driver: Added support for passing cleanrate parameter for volume-types. ,,84,15
openstack%2Frequirements~master~I9b2727f02e514e522b896bfcc708338521bfe482,openstack/requirements,master,I9b2727f02e514e522b896bfcc708338521bfe482,Updated from generate-constraints,MERGED,2022-01-27 02:51:34.000000000,2022-02-01 20:42:59.000000000,2022-02-01 20:41:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 02:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/917db51891efb440bf91a0bcbb6c9cad8e3f2e9f', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\n'}, {'number': 2, 'created': '2022-01-28 02:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/593b3d251234e6841c1605fe47a6357b0ff76cd0', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\n'}, {'number': 3, 'created': '2022-01-29 03:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d820565be48676810a7d276f1ea2a6a6fa435793', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\n'}, {'number': 4, 'created': '2022-01-30 03:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/91152856f96be964872365584c4f9cf35d2bad94', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\n'}, {'number': 5, 'created': '2022-01-31 03:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7eabbb867baca62c7cf7a5a8acdaa4c5003fb74f', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\n'}, {'number': 6, 'created': '2022-02-01 02:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/80381047f8e6433bcdf76163390a9642f3809177', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\n'}, {'number': 7, 'created': '2022-02-01 05:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ceeafaf4e6aa0b4eea62e55fbd0442a736b6af6a', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 8, 'created': '2022-02-01 15:31:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9e3a1a58b3481b6ecd94c7304705a52bf909791e', 'message': 'Updated from generate-constraints\n\nChange-Id: I9b2727f02e514e522b896bfcc708338521bfe482\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,826574,9e3a1a58b3481b6ecd94c7304705a52bf909791e,30,2,8,11131,,,0,"Updated from generate-constraints

Change-Id: I9b2727f02e514e522b896bfcc708338521bfe482
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/826574/6 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,917db51891efb440bf91a0bcbb6c9cad8e3f2e9f,openstack/requirements/constraints/noclob,rcssmin===1.1.0neutron-lib===2.19.0moto===3.0.1XStatic-Angular===1.8.2.1google-auth===2.5.0pyudev===0.23.1paramiko===2.9.2prometheus-client===0.13.0pkg_resources===0.0.0django-compressor===3.1coverage===6.2;python_version=='3.6' coverage===6.3;python_version=='3.8'boto3===1.20.44os-traits===2.7.0python-qpid-proton===0.36.0botocore===1.23.44typed-ast===1.5.2;python_version=='3.6'dulwich===0.20.32cachetools===4.2.4;python_version=='3.6' cachetools===5.0.0;python_version=='3.8'rjsmin===1.2.0httpx===0.22.0,rcssmin===1.0.6neutron-lib===2.18.1moto===3.0.0XStatic-Angular===1.5.8.0google-auth===2.3.3pyudev===0.22.0paramiko===2.8.1prometheus-client===0.12.0django-compressor===2.4.1coverage===6.2boto3===1.20.41os-traits===2.6.0python-qpid-proton===0.35.0botocore===1.23.41typed-ast===1.5.1;python_version=='3.6'dulwich===0.20.31cachetools===4.2.4rjsmin===1.1.0httpx===0.21.3setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',22,21
openstack%2Frequirements~stable%2Fwallaby~Ia57550a30064674503820444e4f476f058efbd9e,openstack/requirements,stable/wallaby,Ia57550a30064674503820444e4f476f058efbd9e,update constraint for neutron-lib to new release 2.10.2,MERGED,2022-02-01 16:56:42.000000000,2022-02-01 20:41:20.000000000,2022-02-01 20:41:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-01 16:56:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/03bb2441311149e8c395d60810255890f8c316f8', 'message': 'update constraint for neutron-lib to new release 2.10.2\n\nmeta: version: 2.10.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: yatinkarel <ykarel@redhat.com>\nmeta: release:Commit: yatinkarel <ykarel@redhat.com>\nmeta: release:Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ia57550a30064674503820444e4f476f058efbd9e\n'}]",0,827323,03bb2441311149e8c395d60810255890f8c316f8,8,3,1,11131,,,0,"update constraint for neutron-lib to new release 2.10.2

meta: version: 2.10.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: yatinkarel <ykarel@redhat.com>
meta: release:Commit: yatinkarel <ykarel@redhat.com>
meta: release:Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ia57550a30064674503820444e4f476f058efbd9e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/827323/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,03bb2441311149e8c395d60810255890f8c316f8,new-release,neutron-lib===2.10.2,neutron-lib===2.10.1,1,1
openstack%2Frequirements~stable%2Fvictoria~I3ba168cd2029c67f6f8a6ed0a0f80fbc8e03be42,openstack/requirements,stable/victoria,I3ba168cd2029c67f6f8a6ed0a0f80fbc8e03be42,update constraint for neutron-lib to new release 2.6.2,MERGED,2022-02-01 16:53:04.000000000,2022-02-01 20:41:17.000000000,2022-02-01 20:41:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-01 16:53:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c12399f495d084ce55e4d1f890436de7dbe0eb8', 'message': 'update constraint for neutron-lib to new release 2.6.2\n\nmeta: version: 2.6.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: yatinkarel <ykarel@redhat.com>\nmeta: release:Commit: yatinkarel <ykarel@redhat.com>\nmeta: release:Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I3ba168cd2029c67f6f8a6ed0a0f80fbc8e03be42\n'}]",0,827320,7c12399f495d084ce55e4d1f890436de7dbe0eb8,8,3,1,11131,,,0,"update constraint for neutron-lib to new release 2.6.2

meta: version: 2.6.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: yatinkarel <ykarel@redhat.com>
meta: release:Commit: yatinkarel <ykarel@redhat.com>
meta: release:Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I3ba168cd2029c67f6f8a6ed0a0f80fbc8e03be42
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/827320/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7c12399f495d084ce55e4d1f890436de7dbe0eb8,new-release,neutron-lib===2.6.2,neutron-lib===2.6.1,1,1
openstack%2Frequirements~stable%2Fxena~I5e0d17476e351fc4b8eb8714a9f25c31d6a74bc7,openstack/requirements,stable/xena,I5e0d17476e351fc4b8eb8714a9f25c31d6a74bc7,update constraint for neutron-lib to new release 2.15.2,MERGED,2022-02-01 16:56:07.000000000,2022-02-01 20:41:14.000000000,2022-02-01 20:41:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-01 16:56:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc552ba7ddeaad57b18d2ceb1cffbc08fbabc223', 'message': 'update constraint for neutron-lib to new release 2.15.2\n\nmeta: version: 2.15.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: yatinkarel <ykarel@redhat.com>\nmeta: release:Commit: yatinkarel <ykarel@redhat.com>\nmeta: release:Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I5e0d17476e351fc4b8eb8714a9f25c31d6a74bc7\n'}]",0,827322,dc552ba7ddeaad57b18d2ceb1cffbc08fbabc223,8,3,1,11131,,,0,"update constraint for neutron-lib to new release 2.15.2

meta: version: 2.15.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: yatinkarel <ykarel@redhat.com>
meta: release:Commit: yatinkarel <ykarel@redhat.com>
meta: release:Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I5e0d17476e351fc4b8eb8714a9f25c31d6a74bc7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/827322/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dc552ba7ddeaad57b18d2ceb1cffbc08fbabc223,new-release,neutron-lib===2.15.2,neutron-lib===2.15.1,1,1
openstack%2Fcinder~master~Icc0ad567d304bf3de1e34873ad8562650ada9383,openstack/cinder,master,Icc0ad567d304bf3de1e34873ad8562650ada9383,LVM: Added NVMe TCP support for the nvmet target,MERGED,2021-05-18 12:05:46.000000000,2022-02-01 20:26:33.000000000,2022-02-01 20:24:26.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-18 12:05:46.000000000', 'files': ['cinder/volume/driver.py', 'releasenotes/notes/lvm-nvmet-tcp-72a41be1a1fe0fbd.yaml', 'cinder/tests/unit/targets/test_nvmet_driver.py', 'cinder/volume/targets/nvmeof.py', 'cinder/volume/targets/nvmet.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb1b23dc6c6bb502444cfe3d7072324827d3686c', 'message': ""LVM: Added NVMe TCP support for the nvmet target\n\nThis patch adds NVMe TCP transport protocol support to the LVM driver's\nnvmet target helper.\n\nConfiguration option is ``target_protocol = nvmet_tcp`` when using\n``nvmet`` as the ``target_helper``.\n\nNVMe TCP has been supported since:\n\n- RHEL 8\n- CentOS 8-Stream\n- Fedora 28\n- Ubuntu 19.04\n- SUSE Linux Enterprise Server 15\n- openSUSE 15.1/15.2\n\nNo changes to OS-Brick are necessary, since the transport type is not\nhardcoded in the connector and uses the value from 'transport_type'\npresent in the connection info dictionary instead.\n\nChange-Id: Icc0ad567d304bf3de1e34873ad8562650ada9383\n""}]",3,791929,eb1b23dc6c6bb502444cfe3d7072324827d3686c,37,5,1,9535,,,0,"LVM: Added NVMe TCP support for the nvmet target

This patch adds NVMe TCP transport protocol support to the LVM driver's
nvmet target helper.

Configuration option is ``target_protocol = nvmet_tcp`` when using
``nvmet`` as the ``target_helper``.

NVMe TCP has been supported since:

- RHEL 8
- CentOS 8-Stream
- Fedora 28
- Ubuntu 19.04
- SUSE Linux Enterprise Server 15
- openSUSE 15.1/15.2

No changes to OS-Brick are necessary, since the transport type is not
hardcoded in the connector and uses the value from 'transport_type'
present in the connection info dictionary instead.

Change-Id: Icc0ad567d304bf3de1e34873ad8562650ada9383
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/791929/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'releasenotes/notes/lvm-nvmet-tcp-72a41be1a1fe0fbd.yaml', 'cinder/tests/unit/targets/test_nvmet_driver.py', 'cinder/volume/targets/nvmeof.py', 'cinder/volume/targets/nvmet.py', 'cinder/volume/drivers/lvm.py']",6,eb1b23dc6c6bb502444cfe3d7072324827d3686c,nvme-tcp," 'nvmet_port_id', 'nvmet_ns_id', # NVMET"," 'nvmet_port_id', # NVMET",28,13
openstack%2Fplacement~master~I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8,openstack/placement,master,I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8,update placement for os-traits 2.7.0 release,MERGED,2022-01-26 14:45:44.000000000,2022-02-01 20:26:12.000000000,2022-02-01 20:24:29.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-26 14:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3b2d449038614e987cdc6e44ac33e8fa762fc830', 'message': 'update placement for os-traits 2.7.0 release\n\nChange-Id: I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8\n'}, {'number': 2, 'created': '2022-01-26 14:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a7e31a15789a7906a5997d519b30d3b397b630c3', 'message': 'update placement for os-traits 2.7.0 release\n\nChange-Id: I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8\n'}, {'number': 3, 'created': '2022-01-26 15:16:55.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/89cc7332f5a0eab488bec752bb6f0442c1c4a0ec', 'message': 'update placement for os-traits 2.7.0 release\n\nThis change re enables checking the standard\ntrait count and updates placement to require\nos-traits 2.7.0\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/826447\nChange-Id: I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8\n'}]",3,826478,89cc7332f5a0eab488bec752bb6f0442c1c4a0ec,12,2,3,11604,,,0,"update placement for os-traits 2.7.0 release

This change re enables checking the standard
trait count and updates placement to require
os-traits 2.7.0

Depends-on: https://review.opendev.org/c/openstack/requirements/+/826447
Change-Id: I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8
",git fetch https://review.opendev.org/openstack/placement refs/changes/78/826478/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/traits.yaml'],1,3b2d449038614e987cdc6e44ac33e8fa762fc830,os-traits-2.7.0, $.traits.`len`: 335 # Number of standard traits, $.traits.`len`: 294 # Number of standard traits,1,1
openstack%2Freleases~master~Ia96f5d7437aa3ada91a12e9f91c5a727b063789c,openstack/releases,master,Ia96f5d7437aa3ada91a12e9f91c5a727b063789c,Release tacker for stable/victoria,MERGED,2022-01-21 15:35:43.000000000,2022-02-01 20:25:28.000000000,2022-02-01 20:25:28.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-21 15:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1890086e065b3eddb52856fec6a47c981d816413', 'message': 'Release tacker for stable/victoria\n\nThis release picks up new commits to tacker since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..66fd77ab\n66fd77ab Drop test for lower constraints\n308ed21a Separate nodes of FT and split FT\ndeb6c2d4 Fix failures and add Update/Scale FT\n91cc4c2d Fix a failure in tox lower-constraints\ne685613b Turn on FT voting for stable/victoria\n4fa0bb88 Temporary deactivate lower-constraints check\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia96f5d7437aa3ada91a12e9f91c5a727b063789c\n'}, {'number': 2, 'created': '2022-01-27 08:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8730393c269b6149f5cb055fb2ac17471926ab90', 'message': 'Release tacker for stable/victoria\n\nThis release picks up new commits to tacker since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..66fd77ab\n66fd77ab Drop test for lower constraints\n308ed21a Separate nodes of FT and split FT\ndeb6c2d4 Fix failures and add Update/Scale FT\n91cc4c2d Fix a failure in tox lower-constraints\ne685613b Turn on FT voting for stable/victoria\n4fa0bb88 Temporary deactivate lower-constraints check\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia96f5d7437aa3ada91a12e9f91c5a727b063789c\n'}, {'number': 3, 'created': '2022-02-01 20:08:37.000000000', 'files': ['deliverables/victoria/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ca0c385efdbad7929ffdc080d158e0fe9fde5266', 'message': 'Release tacker for stable/victoria\n\nThis release picks up new commits to tacker since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..66fd77ab\n66fd77ab Drop test for lower constraints\n308ed21a Separate nodes of FT and split FT\ndeb6c2d4 Fix failures and add Update/Scale FT\n91cc4c2d Fix a failure in tox lower-constraints\ne685613b Turn on FT voting for stable/victoria\n4fa0bb88 Temporary deactivate lower-constraints check\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia96f5d7437aa3ada91a12e9f91c5a727b063789c\n'}]",6,825825,ca0c385efdbad7929ffdc080d158e0fe9fde5266,22,4,3,17685,,,0,"Release tacker for stable/victoria

This release picks up new commits to tacker since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..66fd77ab
66fd77ab Drop test for lower constraints
308ed21a Separate nodes of FT and split FT
deb6c2d4 Fix failures and add Update/Scale FT
91cc4c2d Fix a failure in tox lower-constraints
e685613b Turn on FT voting for stable/victoria
4fa0bb88 Temporary deactivate lower-constraints check

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia96f5d7437aa3ada91a12e9f91c5a727b063789c
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/825825/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/tacker.yaml'],1,1890086e065b3eddb52856fec6a47c981d816413,victoria-stable, - version: 4.0.1 projects: - repo: openstack/tacker hash: 66fd77ab3be8e49f11001603f5ff92d3bf18a24a,,4,0
openstack%2Fopenstack-ansible-os_ironic~master~I54b484c921e131e3d912229610c9dc17cd3efda0,openstack/openstack-ansible-os_ironic,master,I54b484c921e131e3d912229610c9dc17cd3efda0,Remove Unnecessary Test Files,NEW,2022-01-11 16:45:08.000000000,2022-02-01 19:52:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 16:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/43184d0f08dbe681380f5d99d0240d31dfe01d11', 'message': '[DNM] Delete Test Cruft\n\nThis patch aims to remove old test-related files and scripts.\n\nDO NOT MERGE\n\nChange-Id: I54b484c921e131e3d912229610c9dc17cd3efda0\n'}, {'number': 2, 'created': '2022-01-11 22:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/eab2c4b18d348d62a4e016a1e212e48aed3648b0', 'message': '[DNM] Delete Test Cruft\n\nThis patch aims to remove old test-related files and scripts.\n\nDO NOT MERGE\n\nChange-Id: I54b484c921e131e3d912229610c9dc17cd3efda0\n'}, {'number': 3, 'created': '2022-01-13 17:50:43.000000000', 'files': ['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/create_node.json', 'tests/test-rest-api.yml', 'tests/os_ironic-overrides.yml', 'tests/host_vars/infra1.yml', 'tests/local_install.yml', 'manual-test.rc', 'tests/test.yml', 'local_install.sh', 'tests/test-ironic-cli.yml', 'run_tests.sh', 'bindep.txt', 'tests/ansible-role-requirements.yml', 'Vagrantfile', 'tests/test-configure-ironic.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/ironic1.yml', 'tests/host_vars/openstack1.yml', 'tests/host_vars/swift-storage1.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/1b386bb043aa5bf68b04046455fe07492b894e8a', 'message': 'Remove Unnecessary Test Files\n\nThis patchset removes old (unnecessary) test-related files and scripts.\n\nChange-Id: I54b484c921e131e3d912229610c9dc17cd3efda0\n'}]",3,824214,1b386bb043aa5bf68b04046455fe07492b894e8a,10,2,3,16011,,,0,"Remove Unnecessary Test Files

This patchset removes old (unnecessary) test-related files and scripts.

Change-Id: I54b484c921e131e3d912229610c9dc17cd3efda0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/14/824214/3 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/inventory', 'tests/create_node.json', 'tests/test-rest-api.yml', 'tests/local_install.yml', 'tests/test-configure-ironic.yml', 'manual-test.rc', 'tests/test.yml', 'local_install.sh', 'tests/test-ironic-cli.yml']",10,43184d0f08dbe681380f5d99d0240d31dfe01d11,remove-test-cruft,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Test the ironic CLI hosts: hosts user: root become: true gather_facts: false tasks: - name: Run the ironic chassis-list command shell: > . /root/openrc && ironic chassis-list register: chassis_table tags: - skip_ansible_lint - name: Check that the chassis-list command succeeded assert: that: - ""'Description' in chassis_table.stdout"" - name: Run the ironic node-list command shell: > . /root/openrc && ironic node-list register: node_table tags: - skip_ansible_lint - name: Check that the node-list command succeeded assert: that: - ""'UUID' in node_table.stdout"" - name: Run the ironic driver-list command shell: > . /root/openrc && ironic driver-list register: driver_table tags: - skip_ansible_lint - name: Check that the driver-list command succeeded assert: that: - ""'Supported' in driver_table.stdout"" - name: Create a node shell: > . /root/openrc && ironic node-create -d agent_ipmitool -i ipmi_address=1.2.3.4 -i ipmi_password=""TrickyPa55"" -i ipmi_username=""admin"" -i deploy_ramdisk=""http://example.com/ramdisk.qcow"" -i deploy_kernel=""http://example.com/kernel.tgz"" -n happynode register: node_created tags: - skip_ansible_lint - name: Check that the node was created assert: that: - ""'happynode' in node_created.stdout"" - ""'agent_ipmitool' in node_created.stdout"" - ""'1.2.3.4' in node_created.stdout"" - ""'admin' in node_created.stdout"" - ""'http://example.com/ramdisk.qcow' in node_created.stdout"" - ""'http://example.com/kernel.tgz' in node_created.stdout"" - name: Run the node-validate command shell: > . /root/openrc && ironic node-validate happynode register: node_validated tags: - skip_ansible_lint - name: Check that node-validate returned something sensible assert: that: - ""'Reason' in node_validated.stdout"" - name: Create a port shell: > . /root/openrc && ironic port-create -n $(ironic node-list | grep 'happynode' | cut -f 2 -d ""|"") -a de:ad:be:ef:de:ad register: port_created tags: - skip_ansible_lint - name: Check that the port was created assert: that: - ""'de:ad:be:ef:de:ad' in port_created.stdout"" - name: Update a node (in this case, change its name) shell: > . /root/openrc && ironic node-update happynode replace name=cheerynode register: name_changed tags: - skip_ansible_lint - name: Check that the name was changed assert: that: - ""'cheerynode' in name_changed.stdout"" - name: Remove a node shell: > . /root/openrc && ironic node-delete cheerynode register: node_deleted tags: - skip_ansible_lint - name: Check that a node was deleted assert: that: - ""'Deleted' in node_deleted.stdout"" ",0,727
openstack%2Fironic~bugfix%2F19.0~I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3,openstack/ironic,bugfix/19.0,I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3,Avoid non-Stream CentOS,MERGED,2022-02-01 09:09:24.000000000,2022-02-01 19:35:08.000000000,2022-02-01 19:33:13.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 09:09:24.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6095d36fc1f87f594a023fc53103cb1e94e54d92', 'message': ""Avoid non-Stream CentOS\n\nThis is a partial cherry-pick of 720b42d538c406d852651758375e02ef29d82cc5,\nwe don't need to disable the standalone job since it's not broken here.\n\nChange-Id: I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3\n(cherry picked from commit 720b42d538c406d852651758375e02ef29d82cc5)\n""}]",0,827224,6095d36fc1f87f594a023fc53103cb1e94e54d92,11,3,1,10239,,,0,"Avoid non-Stream CentOS

This is a partial cherry-pick of 720b42d538c406d852651758375e02ef29d82cc5,
we don't need to disable the standalone job since it's not broken here.

Change-Id: I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3
(cherry picked from commit 720b42d538c406d852651758375e02ef29d82cc5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/827224/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,6095d36fc1f87f594a023fc53103cb1e94e54d92,, IRONIC_DIB_RAMDISK_RELEASE=8-stream, IRONIC_DIB_RAMDISK_RELEASE=8,1,1
openstack%2Fironic~bugfix%2F18.1~I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3,openstack/ironic,bugfix/18.1,I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3,Avoid non-Stream CentOS,MERGED,2022-02-01 09:09:50.000000000,2022-02-01 19:35:01.000000000,2022-02-01 19:33:16.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 09:09:50.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/69d28d44a399458afbb245d71ad74a9b93cb0d8a', 'message': ""Avoid non-Stream CentOS\n\nThis is a partial cherry-pick of 720b42d538c406d852651758375e02ef29d82cc5,\nwe don't need to disable the standalone job since it's not broken here.\n\nChange-Id: I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3\n(cherry picked from commit 720b42d538c406d852651758375e02ef29d82cc5)\n""}]",0,827225,69d28d44a399458afbb245d71ad74a9b93cb0d8a,11,3,1,10239,,,0,"Avoid non-Stream CentOS

This is a partial cherry-pick of 720b42d538c406d852651758375e02ef29d82cc5,
we don't need to disable the standalone job since it's not broken here.

Change-Id: I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3
(cherry picked from commit 720b42d538c406d852651758375e02ef29d82cc5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/827225/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,69d28d44a399458afbb245d71ad74a9b93cb0d8a,, IRONIC_DIB_RAMDISK_RELEASE=8-stream, IRONIC_DIB_RAMDISK_RELEASE=8,1,1
openstack%2Fironic~stable%2Fxena~I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3,openstack/ironic,stable/xena,I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3,Avoid non-Stream CentOS,MERGED,2022-02-01 09:08:34.000000000,2022-02-01 19:24:39.000000000,2022-02-01 19:22:31.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 09:08:34.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/79a532c7af87e38423bc7353d2b7a176631e22e4', 'message': ""Avoid non-Stream CentOS\n\nThis is a partial cherry-pick of 720b42d538c406d852651758375e02ef29d82cc5,\nwe don't need to disable the standalone job since it's not broken here.\n\nChange-Id: I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3\n(cherry picked from commit 720b42d538c406d852651758375e02ef29d82cc5)\n""}]",2,827222,79a532c7af87e38423bc7353d2b7a176631e22e4,14,3,1,10239,,,0,"Avoid non-Stream CentOS

This is a partial cherry-pick of 720b42d538c406d852651758375e02ef29d82cc5,
we don't need to disable the standalone job since it's not broken here.

Change-Id: I8bd051ea709d328cb5efa2c2cbd5a226bdb4cfd3
(cherry picked from commit 720b42d538c406d852651758375e02ef29d82cc5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/827222/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,79a532c7af87e38423bc7353d2b7a176631e22e4,, IRONIC_DIB_RAMDISK_RELEASE=8-stream, IRONIC_DIB_RAMDISK_RELEASE=8,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Icfa97babeb7034cab623aca883bb83d5a07f7233,openstack/openstack-ansible-lxc_hosts,master,Icfa97babeb7034cab623aca883bb83d5a07f7233,Refactor use of include_vars,MERGED,2022-01-12 08:45:45.000000000,2022-02-01 19:13:42.000000000,2022-02-01 19:12:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/605e688d65a9a6d9774be95cb4cbb6773c2a80ff', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Icfa97babeb7034cab623aca883bb83d5a07f7233\n""}, {'number': 2, 'created': '2022-01-12 11:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ddbe02a01527377b4629038807dfb3c85843dae3', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Icfa97babeb7034cab623aca883bb83d5a07f7233\n""}, {'number': 3, 'created': '2022-01-24 16:43:10.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b9cccb3a8b589c229d920672a4a6af96fc5532bd', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Icfa97babeb7034cab623aca883bb83d5a07f7233\n""}]",8,824345,b9cccb3a8b589c229d920672a4a6af96fc5532bd,27,3,3,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Icfa97babeb7034cab623aca883bb83d5a07f7233
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/45/824345/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,605e688d65a9a6d9774be95cb4cbb6773c2a80ff,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}-host.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}-host.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}-host.yml"" - ""{{ ansible_facts['distribution'] | lower }}-host.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}-host.yml"" - ""{{ ansible_facts['os_family'] | lower }}-host.yml"" paths: - ""{{ role_path }}/vars"" include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}-host.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}-host.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}-host.yml"" - ""{{ ansible_facts['distribution'] | lower }}-host.yml"" - ""{{ ansible_facts['os_family'] | lower }}-host.yml"" include_vars: ""{{ item }}"" with_first_found: - ""{{ lxc_user_defined_container | default([]) }}"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",24,15
openstack%2Fpuppet-tripleo~master~I8efbf29e0d153d48f114d8799ffb67e3c7a8185f,openstack/puppet-tripleo,master,I8efbf29e0d153d48f114d8799ffb67e3c7a8185f,Fix lint failures,MERGED,2022-01-31 15:52:53.000000000,2022-02-01 18:52:25.000000000,2022-02-01 18:52:25.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-31 15:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/123659e463553e57dca7228295c2f5985e5d815c', 'message': 'Fix lint failures\n\nWe started seeing some lint failures which were not caught properly\nbefore. This change fixes all these failures to unblock the lint job.\n\nmanifests/profile/base/designate/backend.pp:40:ERROR:\nsingle quoted string containing a variable found\nmanifests/profile/base/rabbitmq.pp:176:WARNING:\nline has more than 140 characters\nmanifests/profile/pacemaker/database/mysql_bundle.pp:553:WARNING:\nline has more than 140 characters\nmanifests/profile/pacemaker/ovn_dbs_bundle.pp:311:WARNING:\nline has more than 140 characters\nWARNING: lint:ignore:140chars comment on line 394 with no closing\nlint:endignore comment\nmanifests/profile/pacemaker/rabbitmq_bundle.pp:395:WARNING:\nline has more than 140 characters\n\nChange-Id: I8efbf29e0d153d48f114d8799ffb67e3c7a8185f\n'}, {'number': 2, 'created': '2022-01-31 16:25:16.000000000', 'files': ['manifests/profile/base/designate/backend.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/rabbitmq.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eac5caa96cb675969ea55d736b28735eb6e2fa2a', 'message': 'Fix lint failures\n\nWe started seeing some lint failures which were not caught properly\nbefore. This change fixes all these failures to unblock the lint job.\n\nChange-Id: I8efbf29e0d153d48f114d8799ffb67e3c7a8185f\n'}]",2,827138,eac5caa96cb675969ea55d736b28735eb6e2fa2a,13,5,2,9816,,,0,"Fix lint failures

We started seeing some lint failures which were not caught properly
before. This change fixes all these failures to unblock the lint job.

Change-Id: I8efbf29e0d153d48f114d8799ffb67e3c7a8185f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/827138/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/designate/backend.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/rabbitmq.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",5,123659e463553e57dca7228295c2f5985e5d815c,," op_params => ""start timeout=200s stop timeout=200s \ monitor interval=${monitor_interval_master}s role=Master timeout=${dbs_timeout}s \"," op_params => ""start timeout=200s stop timeout=200s monitor interval=${monitor_interval_master}s role=Master timeout=${dbs_timeout}s \",7,3
openstack%2Ftacker-specs~master~I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2,openstack/tacker-specs,master,I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2,Support Multi-tenant for Kubernetes VIM,MERGED,2021-04-16 06:56:48.000000000,2022-02-01 18:44:41.000000000,2022-02-01 18:42:21.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-16 06:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/928c4d51e15eba16ce019f44b874a623b18e9180', 'message': 'Support Multi-tenant for Kubernetes VIM\n\nThis spec enables Users to deploy their CNF on Kubernetes VIM\ntoward target namespace specified in its request.\nAppropriate user accounts with authorization to the namespace\nshould be created in Kubernetes before the operations.\n\nTacker specifies the target namespace from MCIOP as Kubernetes\nresource files provided in VNF Package first, and update it\nwith the one in the request. When no target namespace is provided,\n""default"" is chosen.\n\nChange-Id: I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2\n'}, {'number': 2, 'created': '2022-01-31 09:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6fa6f5bdf557ad2d69215f07d64f632e30e86f34', 'message': 'Support Multi-tenant for Kubernetes VIM\n\nThis spec enables Users to deploy their CNF on Kubernetes VIM\ntoward target namespace specified in its request.\nAppropriate user accounts with authorization to the namespace\nshould be created in Kubernetes before the operations.\n\nTacker specifies the target namespace from MCIOP as Kubernetes\nresource files provided in VNF Package first, and update it\nwith the one in the request. When no target namespace is provided,\n""default"" is chosen.\n\nCo-authored-By: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nImplements: blueprint k8s-namespace\nChange-Id: I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2\n'}, {'number': 3, 'created': '2022-01-31 10:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f84c435785340b49b8e8ece74d785a74932b251d', 'message': 'Support Multi-tenant for Kubernetes VIM\n\nThis spec enables Users to deploy their CNF on Kubernetes VIM\ntoward target namespace specified in its request.\nAppropriate user accounts with authorization to the namespace\nshould be created in Kubernetes before the operations.\n\nTacker specifies the target namespace from MCIOP as Kubernetes\nresource files provided in VNF Package first, and update it\nwith the one in the request. When no target namespace is provided,\n""default"" is chosen.\n\nCo-authored-By: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nImplements: blueprint k8s-namespace\nChange-Id: I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2\n'}, {'number': 4, 'created': '2022-02-01 07:31:05.000000000', 'files': ['specs/yoga/k8s-namespace.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/590d30f3b8417bdb34440bc98866e26c984db4b7', 'message': 'Support Multi-tenant for Kubernetes VIM\n\nThis spec enables Users to deploy their CNF on Kubernetes VIM\ntoward target namespace specified in its request.\nAppropriate user accounts with authorization to the namespace\nshould be created in Kubernetes before the operations.\n\nTacker specifies the target namespace from MCIOP as Kubernetes\nresource files provided in VNF Package first, and update it\nwith the one in the request. When no target namespace is provided,\n""default"" is chosen.\n\nCo-authored-By: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nImplements: blueprint k8s-namespace\nChange-Id: I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2\n'}]",36,786580,590d30f3b8417bdb34440bc98866e26c984db4b7,23,8,4,27880,,,0,"Support Multi-tenant for Kubernetes VIM

This spec enables Users to deploy their CNF on Kubernetes VIM
toward target namespace specified in its request.
Appropriate user accounts with authorization to the namespace
should be created in Kubernetes before the operations.

Tacker specifies the target namespace from MCIOP as Kubernetes
resource files provided in VNF Package first, and update it
with the one in the request. When no target namespace is provided,
""default"" is chosen.

Co-authored-By: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>
Implements: blueprint k8s-namespace
Change-Id: I92cdd45f8bd0ae0db8952e45ad827ffb96fa42f2
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/80/786580/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/k8s-namespace.rst'],1,928c4d51e15eba16ce019f44b874a623b18e9180,bp/k8s-namespace,"======================================= Support Multi-tenant for Kubernetes VIM ======================================= https://blueprints.launchpad.net/tacker/+spec/k8s-namespace Problem description =================== ESTI NFV-SOL003 VNF Lifecycle Management for CNF on Kubernetes VIM is supported in Wallaby release such as Instantiate [#DOC-CNF-DEPLOY]_, Scale [#DOC-CNF-SCALE]_, and Heal [#DOC-CNF-HEAL]_, but its operations with specified namespace are not provided. This specification proposes VNF Lifecycle Management operations for CNF with specified namespace. Users should be a ServiceAccount which is bound to ClusterRoles as admin or to Roles as general users. Proposed Change =============== The Instantiate operation in ESTI NFV-SOL003 VNF Lifecycle Management 2.6.1 [#NFV-SOL003]_ enable Users to specify the target namespace in the InstantiateVnfRequest to deploy CNF on Kubernetes VIM. ``additionalParams`` field provides new parameter ``namespace`` for the target namespace. After the Instantiate operation, it's not required to specify the namespace in requests for Scale or Heal operation because it's already stored in VnfInstance table in Tacker. .. note:: A VNF instance should be located in a single namespace. It's possible to deploy plural Kubernetes resources as a VNF instance, but they should be managed in the same namespace. The following changes are required in Instantiate operation for CNF: #. CNF Instantiate + Add namespace field to ``InstantiateVnfRequest``. + Add logic to use specified namespace in Kubernetes InfraDriver. + Store specified namespace in Tacker DB. .. note:: The specified namespace will be stored in VnfInstance.metadata while VnfResource table has namespace in its resource_name field. Also, VnfInstance.instantiatedVnfInfo.vnfcResourceInfo.metadata stores namespace as metadata fields in Kubernetes resource file. It's under discussion where to store namespace. .. note:: The specified namespace should be described in the response of ``GET /vnf_instances/{vnfInstanceId}/``. #. CNF Scale + Add logic to get stored namespace in ``VnfInstance`` table. .. note:: Need to design how to manage namespace after instantiation. This may not be required. #. CNF Heal + Add logic to get stored namespace in ``VnfInstance`` table. .. note:: Need to design how to manage namespace after instantiation. This may not be required. CNF Instantiate with specified namespace ---------------------------------------- The diagram of CNF Instantiate with specified namespace is shown below: :: +----------+ | | | VNFD | | | +-+--------+ | +----------------+ +--------v-+ +------------------+ | CNF Definition | | | | Instantiation | | File +--> CSAR | | Request with | | | | | | additionalParams | +----------------+ +------+---+ +--+---------------+ | | | | 1. Request | | with namespace +------------------------------+ +-----------------------------+ | CNF | | | | VNFM | | | | +--v--------v----+ | | +----------+ +----------+ | | | TackerServer | | | | Pod | | Pod | | | +------+---------+ | | | | | | | | | | | +----------+ +----------+ | | +---------------------+ | +------------------------------+ | | | | | | | +-v-+----------+ | | +------------------------------+ | | | VnflcmDriver | | | | Kubernetes cluster VNF | | | | | | | | | | | +-+-^----------+ | | | +----------+ +----------+ | | | | | 3. Store | | | | VM | | VM | | 2. Set namespace | | | | namespace | | | | +------+ | | +------+ | | in K8s API call | | --v-+----------+ | | | | |Worker| | | |Master+<-------------------------------+ Kubernetes | | | | | +------+ | | +------+ | | | | | InfraDriver | | | | +----------+ +----------+ | | | +--------------+ | | | | | | | | +------------------------------+ | | Tacker Conductor | | | | | | +------------------------------+ | +---------------------+ | | Hardware Resources | | | +------------------------------+ +-----------------------------+ #. The specified namespace is sent in ``InstantiateVnfRequest``. #. Kubernetes InfraDriver call K8s API with specified namespace. #. VnflcmDriver stores the namespace in Database. Sample input parameters ~~~~~~~~~~~~~~~~~~~~~~~ A new attribute named ``namespace`` is added to ``additionalParams`` parameter in ``InstantiateVnfRequest`` defined in ETSI NFV-SOL003 v2.2.6 [#NFV-SOL003]_. No change is required for the other parameters from existing CNF operation. +------------------+---------------------------------------------------------+ | Attribute name | Parameter description | +==================+=========================================================+ | namespace | Namespace for Kubernetes API call. | | | If absent, the namespace in the resource file is used. | +------------------+---------------------------------------------------------+ Following is a sample: .. code-block:: json { ""flavourId"": ""simple"", ""additionalParams"": { ""lcm-kubernetes-def-files"": [ ""Files/kubernetes/pod.yaml"" ], ""namespace"": ""namespaceA"" }, ""vimConnectionInfo"": [ { ""id"": ""8a3adb69-0784-43c7-833e-aab0b6ab4470"", ""vimId"": ""specified by response of vim list"", ""vimType"": ""kubernetes"" } ] } Sequence of CNF Instantiate with specified namespace ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""KubernetesInfraDriver"" ""Heat"" ""TackerDB"" ""k8s client"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""KubernetesInfraDriver"" [label = ""execute KubernetesInfraDriver""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""get package info""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = ""return package info""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""Save the namespace to the vnf_resources table""] ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"] ""KubernetesInfraDriver"" -> ""k8s client"" [label = ""create Kubernetes resource""] ""KubernetesInfraDriver"" <-- ""k8s client"" [label = """"] ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""save pod information""] ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"] ""VnfLcmDriver"" <-- ""KubernetesInfraDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } The procedure consists of the following steps as illustrated above. #. Client sends instantiate request. #. Same as the steps in `Wallaby` release until the KubernetesInfraDriver is invoked. #. The KubernetesInfraDriver call Kubernetes API with specified namespace: #. The Kubernetes Client send request with the namespace in ``InstantiateVnfRequest.additionalParams``. If namespace is not provided, one in Kubernetes resource file is used. #. KubernetesInfraDriver add the namespace to ""vnf_resources"" table in TackerDB. .. note:: The ``namespace`` stored in the ""vnf_resources"" table is used in the Scale, Heal, and Terminate operations for CNF. Data model impact ----------------- None .. note:: **Discussion**: Discussion is required where to manage namespace. In the existing implementation, some parts of tables have namespace related information. Need to decide where to store the namespace from Kubernetes resource files and from the request parameter. .. note:: The metadata field in ``vnf_instances`` table is defined as JSON. No change is required, but it's worth to note that metadata field is implemented as ``vnf_metadata``. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Other contributors: Tatsuhiro Furuya <tatu.furuya@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Liang Lu <lu.liang@fujitsu.com> Work Items ---------- + Implement to support: + Specify the target namespace to deploy CNF on Kubernetes VIM when CNF instantiate. + Store specified namespace in Tacker DB when CNF instantiate. + Get specified namespace from Tacker DB and Use it when CNF scale and heal. + Add new unit and functional tests. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== User guide will be modified to explain to VNF Lifecycle Management operations for CNF with specified namespace. References ========== .. [#DOC-CNF-DEPLOY] https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html .. [#DOC-CNF-SCALE] https://docs.openstack.org/tacker/latest/user/etsi_cnf_scaling.html .. [#DOC-CNF-HEAL] https://docs.openstack.org/tacker/latest/user/etsi_cnf_healing.html .. [#NFV-SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf ",,347,0
openstack%2Fmagnum~master~Ia80a65bf34c138a96e674661c40eae6cda9e6066,openstack/magnum,master,Ia80a65bf34c138a96e674661c40eae6cda9e6066,Pass kube_dashboard_version label as a Heat param,NEW,2021-07-05 14:09:48.000000000,2022-02-01 18:21:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-05 14:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/230845663db2289fcf7b2bf6eff3211322540d96', 'message': 'Pass kube_dashboard_version label as a Heat param\n\nChange-Id: Ia80a65bf34c138a96e674661c40eae6cda9e6066\n'}, {'number': 2, 'created': '2022-02-01 17:29:39.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5b00bac3045feb3dd8cbaa093f6cfababe18accc', 'message': 'Pass kube_dashboard_version label as a Heat param\n\nChange-Id: Ia80a65bf34c138a96e674661c40eae6cda9e6066\n'}]",1,799505,5b00bac3045feb3dd8cbaa093f6cfababe18accc,6,1,2,819,,,0,"Pass kube_dashboard_version label as a Heat param

Change-Id: Ia80a65bf34c138a96e674661c40eae6cda9e6066
",git fetch https://review.opendev.org/openstack/magnum refs/changes/05/799505/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/k8s_template_def.py'],1,230845663db2289fcf7b2bf6eff3211322540d96,fix-kube-dashboard-version," 'kube_dashboard_version',",,1,0
openstack%2Fpuppet-nova~master~I719e7ef431ee6c7bb8f98bacde229b12805a3a9c,openstack/puppet-nova,master,I719e7ef431ee6c7bb8f98bacde229b12805a3a9c,Remove deprecated parameters related to Glance,MERGED,2022-01-29 07:08:42.000000000,2022-02-01 18:18:12.000000000,2022-02-01 18:14:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-29 07:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c1b8e41d5929c24de1be965ca691eee5993adcd6', 'message': 'Remove deprecated parameters related to Glance\n\nThis change removes the parameters which were deprecated in favor\nof the independent nova::glance class by [1] and [2].\n\n[1] 6b99fa975e5be025ee5813544a19dcfda950ccf6\n[2] 01a829b96388ddecc23a8691133a1dcc3235174d\n\nChange-Id: I719e7ef431ee6c7bb8f98bacde229b12805a3a9c\n'}, {'number': 2, 'created': '2022-01-29 07:16:15.000000000', 'files': ['manifests/glance.pp', 'manifests/compute.pp', 'releasenotes/notes/glance-opts-cleanup-47de15f1bcd3a1b3.yaml', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/396515f611c27dadd55c4c03f3c527bd165c9820', 'message': 'Remove deprecated parameters related to Glance\n\nThis change removes the parameters which were deprecated in favor\nof the independent nova::glance class by [1] and [2].\n\n[1] 6b99fa975e5be025ee5813544a19dcfda950ccf6\n[2] 01a829b96388ddecc23a8691133a1dcc3235174d\n\nChange-Id: I719e7ef431ee6c7bb8f98bacde229b12805a3a9c\n'}]",3,826952,396515f611c27dadd55c4c03f3c527bd165c9820,15,3,2,9816,,,0,"Remove deprecated parameters related to Glance

This change removes the parameters which were deprecated in favor
of the independent nova::glance class by [1] and [2].

[1] 6b99fa975e5be025ee5813544a19dcfda950ccf6
[2] 01a829b96388ddecc23a8691133a1dcc3235174d

Change-Id: I719e7ef431ee6c7bb8f98bacde229b12805a3a9c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/52/826952/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'manifests/compute.pp', 'releasenotes/notes/glance-opts-cleanup-47de15f1bcd3a1b3.yaml', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb']",5,c1b8e41d5929c24de1be965ca691eee5993adcd6,glance-opts-cleanup,," is_expected.to contain_nova_config('glance/endpoint_override').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('glance/num_retries').with_value('<SERVICE DEFAULT>') :glance_endpoint_override => 'http://localhost:9292', :glance_num_retries => 3, it 'configures glance parameters' do is_expected.to contain_nova_config('glance/endpoint_override').with_value('http://localhost:9292') is_expected.to contain_nova_config('glance/num_retries').with_value(3) end ",13,52
openstack%2Ftempest~master~I9928e2be9c749f69eea9a9d4f9e8fe03ef4ef612,openstack/tempest,master,I9928e2be9c749f69eea9a9d4f9e8fe03ef4ef612,Append random int to new flavor name in QoSBandwidthAndPacketRateTests,MERGED,2022-01-29 01:15:01.000000000,2022-02-01 18:16:20.000000000,2022-02-01 02:57:06.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-29 01:15:01.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cae966812a4a5070c3e7f82d16ebe697da57e5c5', 'message': ""Append random int to new flavor name in QoSBandwidthAndPacketRateTests\n\nIn a couple of the tests a new flavor is created by appending the\nstring 'extra' to the existing flavor name. The existing flavor name is\nhowever CONF.compute.flavor_ref, which isn't unique. If two tests that\ncreate the flavor run at the same time, there will be a 409 collision\nand one test will fail.\n\nThis appends a random int to the new flavor name to prevent conflicts.\n\nCloses-Bug: #1959467\n\nChange-Id: I9928e2be9c749f69eea9a9d4f9e8fe03ef4ef612\n""}]",5,826946,cae966812a4a5070c3e7f82d16ebe697da57e5c5,13,3,1,4690,,,0,"Append random int to new flavor name in QoSBandwidthAndPacketRateTests

In a couple of the tests a new flavor is created by appending the
string 'extra' to the existing flavor name. The existing flavor name is
however CONF.compute.flavor_ref, which isn't unique. If two tests that
create the flavor run at the same time, there will be a 409 collision
and one test will fail.

This appends a random int to the new flavor name to prevent conflicts.

Closes-Bug: #1959467

Change-Id: I9928e2be9c749f69eea9a9d4f9e8fe03ef4ef612
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/826946/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_qos_placement.py'],1,cae966812a4a5070c3e7f82d16ebe697da57e5c5,bug/1959467," 'name': old_flavor['name'] + 'extra-' + data_utils.rand_int_id(),"," 'name': old_flavor['name'] + 'extra',",1,1
openstack%2Fpuppet-nova~master~I4b6dc21d4826941fa464241d88c4e17f9f894af7,openstack/puppet-nova,master,I4b6dc21d4826941fa464241d88c4e17f9f894af7,Remove deprecated nova::compute::allow_resize_to_same_host,MERGED,2022-01-29 07:12:17.000000000,2022-02-01 18:16:17.000000000,2022-02-01 18:14:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-29 07:12:17.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/remove-compute-allow_resize_to_same_host-b5c77e6a44aae77f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8e2f100632f332c9274ec4161248cc56b3ff5b34', 'message': 'Remove deprecated nova::compute::allow_resize_to_same_host\n\nThis parameter was deprecated during Victoria cycle by [1], and has\nhad no effect since then.\n\n[1] 577eeab4306f2353bbe8b910ae0c9fc80f1f70cf\n\nChange-Id: I4b6dc21d4826941fa464241d88c4e17f9f894af7\n'}]",3,826953,8e2f100632f332c9274ec4161248cc56b3ff5b34,14,3,1,9816,,,0,"Remove deprecated nova::compute::allow_resize_to_same_host

This parameter was deprecated during Victoria cycle by [1], and has
had no effect since then.

[1] 577eeab4306f2353bbe8b910ae0c9fc80f1f70cf

Change-Id: I4b6dc21d4826941fa464241d88c4e17f9f894af7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/53/826953/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/remove-compute-allow_resize_to_same_host-b5c77e6a44aae77f.yaml']",2,8e2f100632f332c9274ec4161248cc56b3ff5b34,,--- upgrade: - | The ``nova::compute::allow_resize_to_same_host`` parameter has been removed. Use the same parameter of the ``nova::api`` class. ,,5,12
openstack%2Fopenstack-ansible-os_keystone~stable%2Fxena~I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8,openstack/openstack-ansible-os_keystone,stable/xena,I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8,Fix ordering error enabling/disabling Apache modules,MERGED,2022-01-26 21:46:05.000000000,2022-02-01 18:07:37.000000000,2022-02-01 18:05:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-26 21:46:05.000000000', 'files': ['tasks/keystone_apache.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/70f4cd9500aa4fbf5687f0f0cb788e0faef02cb2', 'message': ""Fix ordering error enabling/disabling Apache modules\n\nWhen site configuration already exists, a change to make a module\n'absent' would fail as the module was removed before the\nconfiguration.\n\nThis change ensures modules are enabled first, before site\nconfiguration changes, and finally any required modules are\ndisabled.\n\nChange-Id: I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8\n(cherry picked from commit 236f11c31d6b2d395a9ec8846e240841510825ce)\n""}]",0,826550,70f4cd9500aa4fbf5687f0f0cb788e0faef02cb2,8,3,1,25023,,,0,"Fix ordering error enabling/disabling Apache modules

When site configuration already exists, a change to make a module
'absent' would fail as the module was removed before the
configuration.

This change ensures modules are enabled first, before site
configuration changes, and finally any required modules are
disabled.

Change-Id: I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8
(cherry picked from commit 236f11c31d6b2d395a9ec8846e240841510825ce)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/50/826550/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_apache.yml'],1,70f4cd9500aa4fbf5687f0f0cb788e0faef02cb2,osa_tls13-stable/xena,"## NOTE(cloudnull): ## Module enable/disable process is only functional on Debian - name: Enable apache2 modules apache2_module: name: ""{{ item.name }}"" state: ""{{ item.state }}"" with_items: ""{{ keystone_apache_modules }}"" when: - ansible_facts['pkg_mgr'] == 'apt' - item.state == 'present' notify: - Manage LB - Restart web server - name: Disable apache2 modules - item.state == 'absent'",- name: Enable/disable apache2 modules,16,1
openstack%2Fopenstacksdk~master~Iade9a5d80ad38d7c63315ca1a49666b549561e16,openstack/openstacksdk,master,Iade9a5d80ad38d7c63315ca1a49666b549561e16,Add query parameters to local ip,MERGED,2021-12-20 10:25:15.000000000,2022-02-01 18:05:06.000000000,2022-02-01 18:02:48.000000000,"[{'_account_id': 5948}, {'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-20 10:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4271d883d35d03f6dbfa15a7730d5ff7520131f2', 'message': 'Add query parameters to local ip\n\nAdded additional query parameters according local ip API def [1]\n\n1)https://review.opendev.org/c/openstack/neutron-lib/+/803051\n\nChange-Id: Iade9a5d80ad38d7c63315ca1a49666b549561e16\n'}, {'number': 2, 'created': '2021-12-20 12:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8737abf75f517ac3326d3e85cb66c48cb57e11e3', 'message': 'Add query parameters to local ip\n\nAdded additional query parameters according local ip API def [1]\n\n1)https://review.opendev.org/c/openstack/neutron-lib/+/803051\n\nChange-Id: Iade9a5d80ad38d7c63315ca1a49666b549561e16\n'}, {'number': 3, 'created': '2022-01-24 13:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2503c7eb2902d0e61b2fb2a56b5a0a8f1966f8c2', 'message': 'Add query parameters to local ip\n\nAdded additional query parameters according local ip API def [1]\n\n1)https://review.opendev.org/c/openstack/neutron-lib/+/803051\n\nChange-Id: Iade9a5d80ad38d7c63315ca1a49666b549561e16\n'}, {'number': 4, 'created': '2022-01-26 07:52:32.000000000', 'files': ['openstack/tests/unit/network/v2/test_local_ip.py', 'openstack/network/v2/_proxy.py', 'openstack/network/v2/local_ip.py', 'openstack/network/v2/local_ip_association.py', 'openstack/tests/unit/network/v2/test_local_ip_association.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1f1aa4fae0478a25144aa03a2507ada1d88d796c', 'message': 'Add query parameters to local ip\n\nAdded additional query parameters according local ip API def [1]\n\n1)https://review.opendev.org/c/openstack/neutron-lib/+/803051\n\nChange-Id: Iade9a5d80ad38d7c63315ca1a49666b549561e16\n'}]",8,822305,1f1aa4fae0478a25144aa03a2507ada1d88d796c,21,6,4,32667,,,0,"Add query parameters to local ip

Added additional query parameters according local ip API def [1]

1)https://review.opendev.org/c/openstack/neutron-lib/+/803051

Change-Id: Iade9a5d80ad38d7c63315ca1a49666b549561e16
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/05/822305/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_local_ip.py', 'openstack/network/v2/_proxy.py', 'openstack/network/v2/local_ip.py', 'openstack/network/v2/local_ip_association.py', 'openstack/tests/unit/network/v2/test_local_ip_association.py']",5,4271d883d35d03f6dbfa15a7730d5ff7520131f2,bug/1930200," {'fixed_port_id': 'fixed_port_id', 'host': 'host',"," {'local_ip_address': 'local_ip_address', 'fixed_port_id': 'fixed_port_id',",21,4
openstack%2Frequirements~stable%2Fwallaby~I057ebfde105d34e5f48abcf56f4a4659876b62f2,openstack/requirements,stable/wallaby,I057ebfde105d34e5f48abcf56f4a4659876b62f2,Bump dogpile.cache to 1.1.5,MERGED,2022-02-01 09:37:05.000000000,2022-02-01 18:02:46.000000000,2022-02-01 18:02:46.000000000,"[{'_account_id': 14250}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 09:37:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e44e14b64ea567d9d55f8ca35b17a7c782d73ab7', 'message': ""Bump dogpile.cache to 1.1.5\n\nBumping the version to get new feature [1] need by oslo.cache [2].\n\nI know that we usually avoid to bump requirements on stable branches but\nwithout the changes landed by dogpile.cache 1.1.5 oslo.cache won't be\nable to recover from a connection issue in a Memcached cluster. This a\nproblem for an HA context.\n\nIn other words if the used node of the cluster become down, oslo.cache\nwon't switch to another node and won't recover. That will lead us to\nthis bug https://bugs.launchpad.net/oslo.cache/+bug/1959562\n\nThe changes landed by 1.1.5 are new options passed to pymemcache[3] with\nthe default value given by the pymemcache lib so I won't expect side\neffects introduced by these changes. The goal of the dogpile.cache\nchanges is to allow us to configure manually these already existing\nvalue, that's all.\n\nThis bump is required by oslo.cache:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/826594\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n[2] https://review.opendev.org/c/openstack/oslo.cache/+/824944\n[3] https://github.com/sqlalchemy/dogpile.cache/commit/da490df9edae8c60e7ee3d577ac610efdffc5986\n\nPartial-Bug: #1959562\nChange-Id: I057ebfde105d34e5f48abcf56f4a4659876b62f2\n(cherry picked from commit 247dd4880b3471c16f3e94a5ec51b9747204a819)\n(cherry picked from commit 45de8f8d55c17d6f5fe8523c874f6a66bdbb8111)\n""}]",0,827256,e44e14b64ea567d9d55f8ca35b17a7c782d73ab7,8,3,1,28522,,,0,"Bump dogpile.cache to 1.1.5

Bumping the version to get new feature [1] need by oslo.cache [2].

I know that we usually avoid to bump requirements on stable branches but
without the changes landed by dogpile.cache 1.1.5 oslo.cache won't be
able to recover from a connection issue in a Memcached cluster. This a
problem for an HA context.

In other words if the used node of the cluster become down, oslo.cache
won't switch to another node and won't recover. That will lead us to
this bug https://bugs.launchpad.net/oslo.cache/+bug/1959562

The changes landed by 1.1.5 are new options passed to pymemcache[3] with
the default value given by the pymemcache lib so I won't expect side
effects introduced by these changes. The goal of the dogpile.cache
changes is to allow us to configure manually these already existing
value, that's all.

This bump is required by oslo.cache:
https://review.opendev.org/c/openstack/oslo.cache/+/826594

[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528
[2] https://review.opendev.org/c/openstack/oslo.cache/+/824944
[3] https://github.com/sqlalchemy/dogpile.cache/commit/da490df9edae8c60e7ee3d577ac610efdffc5986

Partial-Bug: #1959562
Change-Id: I057ebfde105d34e5f48abcf56f4a4659876b62f2
(cherry picked from commit 247dd4880b3471c16f3e94a5ec51b9747204a819)
(cherry picked from commit 45de8f8d55c17d6f5fe8523c874f6a66bdbb8111)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/827256/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e44e14b64ea567d9d55f8ca35b17a7c782d73ab7,wallaby,dogpile.cache===1.1.5,dogpile.cache===1.1.2,1,1
openstack%2Frequirements~stable%2Fwallaby~I6859a91125c94f548213cc222f3e495ed6191e85,openstack/requirements,stable/wallaby,I6859a91125c94f548213cc222f3e495ed6191e85,Bump pymemcache to 3.5.0,MERGED,2022-02-01 09:37:05.000000000,2022-02-01 18:02:43.000000000,2022-02-01 18:02:43.000000000,"[{'_account_id': 14250}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 09:37:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6a8428d546505b1bdbe019ca3cdc65ed6c5b9df6', 'message': ""Bump pymemcache to 3.5.0\n\nBumping the version to get new feature and fixes [1][2][3][4] need\nby oslo.cache [5][6] to fix socket deconnection recover of a\nmemcached cluster node.\n\nI know that we usually avoid to bump requirements on stable branches\nbut without the changes landed by dogpile.cache 1.1.5 and\npymemcache 3.5.0 oslo.cache won't be able to recover from a connection\nissue in a Memcached cluster. This a problem for an HA context.\n\nIn other words if the used node of the cluster become down, oslo.cache\nwon't switch to another node and won't recover. That will lead us to\nthis bug https://bugs.launchpad.net/oslo.cache/+bug/1959562\n\nIt will have for side for openstack to break TLS support with\nmemcached.  Indeed we introduced the pymemcache in oslo.cache to\nallow support TLS. This backend was precedently backported up\nto train.\n\nThe changes landed by pymemcache 3.5.0 are new isolated (optional)\nfeatures so I won't expect side effects introduced by these changes.\nThe goal of the pymemcache changes is to allow us to configure\nmanually the retry mechanisms and socket keepalives, that's all.\n\nAlso a bug fix is landed by pymemcache 3.5.0. This fix close\nconnection properly on errors.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/commit/da490df9edae8c60e7ee3d577ac610efdffc5986\n\n[1] https://github.com/pinterest/pymemcache/commit/07b5ecc21ce5d388d4312c943d79f813311e349f\n[2] https://github.com/pinterest/pymemcache/commit/75fe5c81c35d2bcfc8e6a697aef948efbfebe8ba\n[3] https://github.com/pinterest/pymemcache/commit/15c35ef184c09279cbb886ceb4bd2807241d48b1\n[4] https://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923\n[5] https://review.opendev.org/c/openstack/oslo.cache/+/803747\n[6] https://review.opendev.org/c/openstack/oslo.cache/+/803716\n\nPartial-Bug: #1959562\nChange-Id: I6859a91125c94f548213cc222f3e495ed6191e85\n""}]",0,827255,6a8428d546505b1bdbe019ca3cdc65ed6c5b9df6,8,3,1,28522,,,0,"Bump pymemcache to 3.5.0

Bumping the version to get new feature and fixes [1][2][3][4] need
by oslo.cache [5][6] to fix socket deconnection recover of a
memcached cluster node.

I know that we usually avoid to bump requirements on stable branches
but without the changes landed by dogpile.cache 1.1.5 and
pymemcache 3.5.0 oslo.cache won't be able to recover from a connection
issue in a Memcached cluster. This a problem for an HA context.

In other words if the used node of the cluster become down, oslo.cache
won't switch to another node and won't recover. That will lead us to
this bug https://bugs.launchpad.net/oslo.cache/+bug/1959562

It will have for side for openstack to break TLS support with
memcached.  Indeed we introduced the pymemcache in oslo.cache to
allow support TLS. This backend was precedently backported up
to train.

The changes landed by pymemcache 3.5.0 are new isolated (optional)
features so I won't expect side effects introduced by these changes.
The goal of the pymemcache changes is to allow us to configure
manually the retry mechanisms and socket keepalives, that's all.

Also a bug fix is landed by pymemcache 3.5.0. This fix close
connection properly on errors.

[1] https://github.com/sqlalchemy/dogpile.cache/commit/da490df9edae8c60e7ee3d577ac610efdffc5986

[1] https://github.com/pinterest/pymemcache/commit/07b5ecc21ce5d388d4312c943d79f813311e349f
[2] https://github.com/pinterest/pymemcache/commit/75fe5c81c35d2bcfc8e6a697aef948efbfebe8ba
[3] https://github.com/pinterest/pymemcache/commit/15c35ef184c09279cbb886ceb4bd2807241d48b1
[4] https://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923
[5] https://review.opendev.org/c/openstack/oslo.cache/+/803747
[6] https://review.opendev.org/c/openstack/oslo.cache/+/803716

Partial-Bug: #1959562
Change-Id: I6859a91125c94f548213cc222f3e495ed6191e85
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/827255/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6a8428d546505b1bdbe019ca3cdc65ed6c5b9df6,wallaby,pymemcache===3.5.0,pymemcache===3.4.1,1,1
openstack%2Ftripleo-heat-templates~master~I1419c1bb901b3fb7ca038c941c230691aff2ebbd,openstack/tripleo-heat-templates,master,I1419c1bb901b3fb7ca038c941c230691aff2ebbd,Disable heat by default in favor of ephemeral-heat.,MERGED,2022-01-31 13:37:08.000000000,2022-02-01 17:53:36.000000000,2022-02-01 17:53:36.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-31 13:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea8778651bfbc3c2043a53cefd62ac9190bf3c6d', 'message': ""Disable heat by default in favor of ephemeral-heat.\n\nNow that the default way to deploy heat is using the ephemeral-heat\nservice, we are not required to pass a specific environment file to\nensure the service gets disabled for the Undercloud.\n\nThis patch gets rid of the disable-heat.yaml ephemeral environment\nvariable and adds its content into the services default's for the\nundercloud.\n\nChange-Id: I1419c1bb901b3fb7ca038c941c230691aff2ebbd\n""}, {'number': 2, 'created': '2022-01-31 14:57:03.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec33ab40488efacaf98e31852b280947ee73bff8', 'message': ""Disable heat by default in favor of ephemeral-heat.\n\nNow that the default way to deploy heat is using the ephemeral-heat\nservice, we are not required to pass a specific environment file to\nensure the service gets disabled for the Undercloud.\n\nThis patch moves the content from disable-heat.yaml environment file\ninto the services default's for the undercloud with the intention of\nstopping passing it by default when enable_heat is not passed.\n\nChange-Id: I1419c1bb901b3fb7ca038c941c230691aff2ebbd\n""}]",4,827088,ec33ab40488efacaf98e31852b280947ee73bff8,19,4,2,26343,,,0,"Disable heat by default in favor of ephemeral-heat.

Now that the default way to deploy heat is using the ephemeral-heat
service, we are not required to pass a specific environment file to
ensure the service gets disabled for the Undercloud.

This patch moves the content from disable-heat.yaml environment file
into the services default's for the undercloud with the intention of
stopping passing it by default when enable_heat is not passed.

Change-Id: I1419c1bb901b3fb7ca038c941c230691aff2ebbd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/827088/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'environments/disable-heat.yaml']",2,ea8778651bfbc3c2043a53cefd62ac9190bf3c6d,,,resource_registry: OS::TripleO::Services::HeatApi: OS::Heat::None OS::TripleO::Services::HeatApiCfn: OS::Heat::None OS::TripleO::Services::HeatApiCloudwatch: OS::Heat::None OS::TripleO::Services::HeatEngine: OS::Heat::None ,5,5
openstack%2Fmonasca-api~stable%2Fvictoria~Iec1561d5b40776ff874914b326bcccba55972cca,openstack/monasca-api,stable/victoria,Iec1561d5b40776ff874914b326bcccba55972cca,Update branch to stable/victoria for DevStack,NEW,2022-02-01 16:57:58.000000000,2022-02-01 17:53:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 16:57:58.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b61f3fa2a0dd1e0becdb9e5b886df940ec9a21bd', 'message': 'Update branch to stable/victoria for DevStack\n\nChange-Id: Iec1561d5b40776ff874914b326bcccba55972cca\n'}]",0,827325,b61f3fa2a0dd1e0becdb9e5b886df940ec9a21bd,2,1,1,28062,,,0,"Update branch to stable/victoria for DevStack

Change-Id: Iec1561d5b40776ff874914b326bcccba55972cca
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/25/827325/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,b61f3fa2a0dd1e0becdb9e5b886df940ec9a21bd,,MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-stable/victoria}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-stable/victoria}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-stable/victoria}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-stable/victoria}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-stable/victoria}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-stable/victoria}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-stable/victoria}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-stable/victoria}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-stable/victoria},MONASCA_API_BRANCH=${MONASCA_API_BRANCH:-master}MONASCA_PERSISTER_BRANCH=${MONASCA_PERSISTER_BRANCH:-master}MONASCA_NOTIFICATION_BRANCH=${MONASCA_NOTIFICATION_BRANCH:-master}MONASCA_THRESH_BRANCH=${MONASCA_THRESH_BRANCH:-master}MONASCA_CLIENT_BRANCH=${MONASCA_CLIENT_BRANCH:-master}MONASCA_AGENT_BRANCH=${MONASCA_AGENT_BRANCH:-master}MONASCA_UI_BRANCH=${MONASCA_UI_BRANCH:-master}MONASCA_COMMON_BRANCH=${MONASCA_COMMON_BRANCH:-master}MONASCA_STATSD_BRANCH=${MONASCA_STATSD_BRANCH:-master},9,9
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia438ee3b0aa1ba95aff014776e936516b83181ec,openstack/openstack-ansible-rabbitmq_server,master,Ia438ee3b0aa1ba95aff014776e936516b83181ec,Use cloudsmith repo for rabbit and erlang,MERGED,2022-01-26 11:24:22.000000000,2022-02-01 17:52:46.000000000,2022-02-01 17:50:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-26 11:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/fce5ace3ab23183ff34d617f85243d6b23ffc72e', 'message': 'Use cloudsmith repo for rabbit and erlang\n\nSwitch to using cloudsmith repo as a source for rabbitmq and erlang.\n\nThis allows us to be consistent about repository that is\nused across supported distributions along with switching from\nunreliable erlang-solutions that tend to fail periodically.\n\nChange-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec\n'}, {'number': 2, 'created': '2022-01-26 11:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6e3c98aaa5f9d2467660d4b48d90936b0e410bb4', 'message': 'Use cloudsmith repo for rabbit and erlang\n\nSwitch to using cloudsmith repo as a source for rabbitmq and erlang.\n\nThis allows us to be consistent about repository that is\nused across supported distributions along with switching from\nunreliable erlang-solutions that tend to fail periodically.\n\nChange-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec\n'}, {'number': 3, 'created': '2022-01-28 18:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/745dca7159a62cc78615e9edb5a1721027f405f3', 'message': 'Use cloudsmith repo for rabbit and erlang\n\nSwitch to using cloudsmith repo as a source for rabbitmq and erlang.\n\nThis allows us to be consistent about repository that is\nused across supported distributions along with switching from\nunreliable erlang-solutions that tend to fail periodically.\n\nChange-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec\n'}, {'number': 4, 'created': '2022-01-29 07:35:18.000000000', 'files': ['files/gpg/A16A4251', 'tasks/install_yum.yml', 'releasenotes/notes/rabbit_cloudsmith-36ccc2f807688f4f.yaml', 'vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/A14F4FCA', 'tasks/install_apt.yml', 'files/gpg/C072C960', 'files/gpg/0A9AF211'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/4ab856bfefd07ca5fb39d66c93530e9b7ab0fe76', 'message': 'Use cloudsmith repo for rabbit and erlang\n\nSwitch to using cloudsmith repo as a source for rabbitmq and erlang.\n\nThis allows us to be consistent about repository that is\nused across supported distributions along with switching from\nunreliable erlang-solutions that tend to fail periodically.\n\nChange-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec\n'}]",4,826444,4ab856bfefd07ca5fb39d66c93530e9b7ab0fe76,20,3,4,28619,,,0,"Use cloudsmith repo for rabbit and erlang

Switch to using cloudsmith repo as a source for rabbitmq and erlang.

This allows us to be consistent about repository that is
used across supported distributions along with switching from
unreliable erlang-solutions that tend to fail periodically.

Change-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/44/826444/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/gpg/A16A4251', 'vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/A14F4FCA', 'tasks/install_apt.yml', 'files/gpg/C072C960', 'files/gpg/0A9AF211']",8,fce5ace3ab23183ff34d617f85243d6b23ffc72e,,-----BEGIN PGP PUBLIC KEY BLOCK----- xsFNBFc6394BEACzae+l1pU31AMhJrRx4BqYv8ZCVUBOeiS3xIcgme1Oq2HSq/Vt x49VPU9xY9ni4GjOU9c9/J9/esuigbctCN7CdR8bqN/srwqmuIPNIS/MvGhNimjO /EUKcZtmJ5fnFk08bzjkyS/ScEzf3jdJadrercoPpbAKWnzCUblX8AdFDyDJhl65 TlSKS9+Sz0tfSdUIa0LpyJHZmLQ4chCy6KbDUAvchM2xUTIEJwx+sL4n/J6yYkZl L90mVi4QEYl1Cajioeg9zxduoUmXq0SR5gQe6VIaXYrIk2gOEMNQL4P/4CKEn9No 1yvUP1+dSYTyvbmF+1pr16xPyNpw3ydmxDX9VxZAEnzPabB8Uortirtt0Dpopufy TJR99dPcKV+BWJtQF6xD30kj8LaDfhyVeB6Bo+L0hhhvnZYWkps8ZJ1swcoBjir7 RDq8hJVqu8YHrzsiFL5Ut/pRkNhrK83GVOxnTndmj/MNboExD3IR/yjCiWNxC9Zu Iaedv2ux+0KrQVTDU7I97x2GDwyiUMnKL7IKWSOTDR4osv5RlJzAovuv2+lZ8sle ZvCEWOGeEYYM1VLDgXhPQdMwyizJ113oobxbqF+InlWq/T9mWmJDLb4wAiha3KKE XJi8wXkJMdRQ0ftM1zKD8qBMukyVndZ6yNQrx3uHAP/Yl2XKPUbtkq/KVQARAQAB zTBSYWJiaXRNUSBSZWxlYXNlIFNpZ25pbmcgS2V5IDxpbmZvQHJhYmJpdG1xLmNv bT7CwXcEEwEKACEFAlc6394CGwMFCwkIBwMFFQoJCAsFFgIDAQACHgECF4AACgkQ a3OjbmAm38qiJQ/+PkS0I+Be1jQINT2F4f8Mwq4Zxcqm4whbg6DH6zkvvqSqXFNB wg7HVsC3qQ9Uh6OPw3dziBHmsOE50DpeqCGjHGacJ/Az/00PHKUn8eJQ/dIB1rla PcSOBUP2CrMLLh9PbP1ZDm2/6gpInyYIRQox8k7j5PnHSVprYAA6tp/11i351WOQ WkuN54482svVRfUEttt0NPLXtXJQl4V1eBt8+J11ZSh0mq2QSTxg211YBY0ugeVx Q0PBIWvrNmcsnBttj5MJ/4L9nFmuemiSS3M9ONjwDBxaiaWCwxFwKXGensNOWeZy bBfbhQxTpOKSNgyk+MymrG5EyI7fVlbmmHEhuYmV4pJadXmW1a9wvRHap/aLR1Aw akFI29CABbnYD3ZXg+DmNqqE6um5Uem2zYr/9hfSL5KuuwawoyW8HV4gKBe+MgW1 n1lECvECt9Bn2VepjIUCv4gfHBDel5v1CXxZpTnHLt8Hsno1qTf6dGvvBYEPyTA+ cAlUeCmfjhBVNQEapUzgW0D7E8JaWHAbJPtwwp/iIO/xqEps3VGOouG+G4GPiABh CP7hYUceecgVAF5g75gcI2mZeXAfbHVdfffZZXSYA7RjOAA1bLOopjq6UvYyIBhe D72feGzkEPtjTpHtqttDFO9ypBEwnJjTpw2uTcBIbc6E7AThaZeEF/JC84bOwU0E Vzrf3gEQAN4Nor5B6nG+Rrb0yzI7Q1sOVM+OD6CdCN4Ic9E3u+pgsfbtRQKRuSNk 8LyPVOpI5rpsJhqGKEDOUWEtb7uyfZxVJ57QhbhIiJTJsFp50mofC58Kb8+vQ4x6 QKdW9dwNSH3+BzwHi6QN+b+ZFifC4J6Hq/1Ebu1b6q7aWjY7dPh2K+XgKTIq6qio 9HFqUTGdj2QM0eLiQ6FDDKH0cMvVqPGDdwJXAYoG5Br6WeYFyoBiygfaKXMVu72d L9YhyeUfGJtrZkRv6zqrkwnjWL7Xu1Rd5gdYXV1QBz3SyBdZYS3MCbvkMLEkBCXr MG4zvReasrkanMANRQyM/XPMS5joO5dDcvL5FDQeOy7+YlznkM5pAar2SLrJDerj VLBvXdCBX4MjsW05t3OPg6ryMId1rHbYXtPslrCm9abox53dUtd16Gp/FSxs2TT3 Wbos0/zel/zOIyj4kcVR3QjplMchlWOAYLYO5VwM1f49/xvFOEMiyb98ameS0fFf 1pNAstLodEDxgXIdzoelxbybYrRLymgDtp3gkf53mhSN1q5Qu+/CQbSChqbcAsT8 qUSdeGkvzR4qKEzDh+dEo4lheNwi7xPZ/kj2RjaKs6jjxUWw9oyqxdGt9IwbRo+0 TV+gLKUv/uj/lVKO5O3alNN37lobLQbF5fFTrp9oXz2eerqAJFI7ABEBAAHCwV8E GAEKAAkFAlc6394CGwwACgkQa3OjbmAm38pltg//W37vxUm6OMmXaKuLtE/G4GsM 7QHD/OIvXZw+HIzyVClsM8v0+DGolOGUQif9HBRZfrgEWHTVeTDkynq3y7hbA2ek XEGvdKMVTt1JqRWgWPP57dAu8aVaJuR6b4HLS0dfavXxnG1K2zunq3eARoOpynUJ RzdG95JjXaLyYd1FGU6WBfyaVEnaZumpo6evG8VcH8fj/h88vhc3qlU+FdP0B8pb 6QQpkqZGJeeiKP/yVFI/wQEqITIs1/STstzNGzIeUnNITjUCm/O2Hy+VmrYeFqFN Y0SSdRriENnbcxOZN4raQfhBToe5wdgovUXCJaaVTd5WMGJX6Gn3GevMaLjO8YlR fcqnD7rAFUGwTKdGRjgc2NbD0L3fB2MoY6SIAhEFbVWp/IExGhF+RTX0GldX/NgY MGvf6onlCRbY6By24I+OJhluD6lFaogGvyar4hPA2PMw2LUjR5sZGHPGd65LtXvi Rn6E1nAJ8CM9g9s6LD5nA9A7m+FEI0rLLVJf9GjgRbyD6QF53AZanwGUoKUPaF+J p6HhVXNWEyc2xV1GQL+9U2/BX6zyzAZPfVeMPOtWIF9ZPqp7nQw9hhzfYWxJRh4U Z90/ErwzKYzZLYZJcPNMSbScPVB/th/nFfI07vQHGzzlrJi+064X5V6BdvKB25qB q67GbYw88+XcrM6R+Uk= =94II -----END PGP PUBLIC KEY BLOCK----- ,,123,126
openstack%2Ftripleo-repos~master~Ic75b8a6b4bb9172a4e06370380a113df593990fe,openstack/tripleo-repos,master,Ic75b8a6b4bb9172a4e06370380a113df593990fe,Add temp ceph repo for nautilus,MERGED,2022-02-01 12:59:42.000000000,2022-02-01 17:50:24.000000000,2022-02-01 17:50:24.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-01 12:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/084048dff3d33f3486f2fb61ffba3972252cbde7', 'message': 'WIP: Add temp ceph repo for nautilus\n\nChange-Id: Ic75b8a6b4bb9172a4e06370380a113df593990fe\n'}, {'number': 2, 'created': '2022-02-01 14:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/9edb611a3e6e4ff18a6edad5c21c1f8f305d838a', 'message': 'Add temp ceph repo for nautilus\n\nThe 8 repos are now gone 404. Until the proper 8-stream repo is\navailable we can use the rdo temp repo for now to unblock gates.\n\nRelated-Bug: 1959656\nChange-Id: Ic75b8a6b4bb9172a4e06370380a113df593990fe\n'}, {'number': 3, 'created': '2022-02-01 14:57:10.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/87c9879b910085c4cd3b43550c0e1ac3d0f2705a', 'message': 'Add temp ceph repo for nautilus\n\nThe 8 repos are now gone 404. Until the proper 8-stream repo is\navailable we can use the rdo temp repo for now to unblock gates.\n\nRelated-Bug: 1959656\nChange-Id: Ic75b8a6b4bb9172a4e06370380a113df593990fe\n'}]",11,827280,87c9879b910085c4cd3b43550c0e1ac3d0f2705a,17,4,3,9976,,,0,"Add temp ceph repo for nautilus

The 8 repos are now gone 404. Until the proper 8-stream repo is
available we can use the rdo temp repo for now to unblock gates.

Related-Bug: 1959656
Change-Id: Ic75b8a6b4bb9172a4e06370380a113df593990fe
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/80/827280/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,084048dff3d33f3486f2fb61ffba3972252cbde7,ceph-temp,CEPH_RDO_REPO_TEMPLATE = ''' [tripleo-centos-ceph-%(ceph_release)s] name=tripleo-centos-ceph-%(ceph_release)s baseurl=https://trunk.rdoproject.org/%(centos_release)s-master/deps/storage/%(ceph_release)s/ gpgcheck=0 enabled=1 ''' elif args.distro == 'centos8' and release == 'nautilus': centos_release = '8-stream' template = CEPH_RDO_REPO_TEMPLATE elif args.distro == 'centos8': centos_release = '8-stream', elif args.distro == 'centos8': centos_release = '8' if release == 'nautilus' else '8-stream',11,1
openstack%2Fopenstack-ansible-os_keystone~master~I3c4b05cf9d27ad57a8345519ec7b23465acc4185,openstack/openstack-ansible-os_keystone,master,I3c4b05cf9d27ad57a8345519ec7b23465acc4185,Remove bugfix tasks for the Train release,MERGED,2022-01-31 16:02:30.000000000,2022-02-01 17:50:14.000000000,2022-02-01 17:48:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-31 16:02:30.000000000', 'files': ['tasks/keystone_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9e5e81311cc99c39aa893f4a8b83a02c93aaf513', 'message': 'Remove bugfix tasks for the Train release\n\nChange-Id: I3c4b05cf9d27ad57a8345519ec7b23465acc4185\n'}]",0,827140,9e5e81311cc99c39aa893f4a8b83a02c93aaf513,8,3,1,25023,,,0,"Remove bugfix tasks for the Train release

Change-Id: I3c4b05cf9d27ad57a8345519ec7b23465acc4185
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/40/827140/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_pre_install.yml'],1,9e5e81311cc99c39aa893f4a8b83a02c93aaf513,,,"# NOTE(jrosser) this block is to undo symlinking of /etc/keystone into # the keystone venv introduced in change-id I93cb6463ca1eb93ab7f4e7a3970a7de829efaf66. # The smart-sources behaviour of deleting the /etc/keystone directory caused the total # loss of all fernet keys and credential keys during an R->S upgrade using the Stein # release candidate. # Remove this code in the Train release. - name: Source config block block: - name: Stat config directory stat: path: ""/etc/keystone"" register: keystone_conf_dir_stat with_items: - ""{{ ansible_play_hosts }}"" delegate_to: ""{{ item }}"" run_once: yes - name: Remove the config directory symlink, if it exists file: path: ""/etc/keystone"" state: absent with_items: - ""{{ keystone_conf_dir_stat.results }}"" delegate_to: ""{{ item.item }}"" when: - item.stat.islnk is defined and item.stat.islnk run_once: yes when: - keystone_install_method == 'source' ",0,32
openstack%2Fironic~master~Ibd41580d1389c7584639bf000e330fec5ee1b73d,openstack/ironic,master,Ibd41580d1389c7584639bf000e330fec5ee1b73d,Inspector: better error message on DiscoveryFailure,MERGED,2022-01-20 16:22:20.000000000,2022-02-01 17:47:48.000000000,2022-02-01 17:45:34.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-01-20 16:22:20.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/503e3658243bf8d793063734151c4f94e3af1fe4', 'message': ""Inspector: better error message on DiscoveryFailure\n\nThe keystoneauth's error message on connection problems is very\nconfusing:\n\n    Version requested but version discovery document was not found and\n    allow_version_hack was False\n\nWhile I'm trying to improve the situation in [1], it still won't be\nperfect. This patch adds some context to DiscoveryFailure.\n\nWe should probably do the same for other services, but inspector is\nparticularly affected since it can be used standalone.\n\n[1] https://review.opendev.org/c/openstack/keystoneauth/+/825540\n\nChange-Id: Ibd41580d1389c7584639bf000e330fec5ee1b73d\n""}]",1,825544,503e3658243bf8d793063734151c4f94e3af1fe4,18,4,1,10239,,,0,"Inspector: better error message on DiscoveryFailure

The keystoneauth's error message on connection problems is very
confusing:

    Version requested but version discovery document was not found and
    allow_version_hack was False

While I'm trying to improve the situation in [1], it still won't be
perfect. This patch adds some context to DiscoveryFailure.

We should probably do the same for other services, but inspector is
particularly affected since it can be used standalone.

[1] https://review.opendev.org/c/openstack/keystoneauth/+/825540

Change-Id: Ibd41580d1389c7584639bf000e330fec5ee1b73d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/825544/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py']",2,503e3658243bf8d793063734151c4f94e3af1fe4,inspector-error,"from keystoneauth1 import exceptions as ks_exception try: return openstack.connection.Connection( session=session, oslo_conf=conf).baremetal_introspection except ks_exception.DiscoveryFailure as exc: raise exception.ConfigInvalid( _(""Could not contact ironic-inspector for version discovery: %s"") % exc)"," return openstack.connection.Connection( session=session, oslo_conf=conf).baremetal_introspection",21,3
openstack%2Fironic~master~Ieefdfc0ec287b5fed42f7c7d6d213cbd2f8cd927,openstack/ironic,master,Ieefdfc0ec287b5fed42f7c7d6d213cbd2f8cd927,Re-enable the standalone job,MERGED,2022-02-01 13:41:01.000000000,2022-02-01 17:30:09.000000000,2022-02-01 17:23:54.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 13:41:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f389138ff770e1d390a06bae03bb3bbcae8766e', 'message': 'Re-enable the standalone job\n\nChange-Id: Ieefdfc0ec287b5fed42f7c7d6d213cbd2f8cd927\n'}]",0,827287,6f389138ff770e1d390a06bae03bb3bbcae8766e,11,3,1,10239,,,0,"Re-enable the standalone job

Change-Id: Ieefdfc0ec287b5fed42f7c7d6d213cbd2f8cd927
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/827287/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6f389138ff770e1d390a06bae03bb3bbcae8766e,gate, - ironic-standalone - ironic-standalone," # Disabled to un-break the CI, revert ASAP - ironic-standalone: voting: false # Disabled to un-break the CI, revert ASAP # - ironic-standalone",2,5
openstack%2Fopenstack-ansible-os_zun~stable%2Fxena~I60c8de5d7ee0944bab361768c712aad06393a536,openstack/openstack-ansible-os_zun,stable/xena,I60c8de5d7ee0944bab361768c712aad06393a536,kata: fix link to now removed mirror location,MERGED,2022-02-01 07:42:01.000000000,2022-02-01 17:21:01.000000000,2022-02-01 17:18:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 07:42:01.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/37edf2b21a7568076427e1af7ce396d1ff2a9f26', 'message': 'kata: fix link to now removed mirror location\n\nThis is a temporary workaround and in the long term the kata\nsupport either needs removing or refactoring to use a more recent\ndeployment method or installation from source.\n\nChange-Id: I60c8de5d7ee0944bab361768c712aad06393a536\n'}]",1,827230,37edf2b21a7568076427e1af7ce396d1ff2a9f26,10,3,1,28619,,,0,"kata: fix link to now removed mirror location

This is a temporary workaround and in the long term the kata
support either needs removing or refactoring to use a more recent
deployment method or installation from source.

Change-Id: I60c8de5d7ee0944bab361768c712aad06393a536
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/30/827230/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,37edf2b21a7568076427e1af7ce396d1ff2a9f26,," repo: ""https://vault.centos.org/8.5.2111/virt/$basearch/kata-containers"""," repo: ""http://mirror.centos.org/centos/{{ ansible_facts['distribution_major_version'] }}/virt/$basearch/kata-containers""",1,1
openstack%2Ftripleo-validations~master~Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f,openstack/tripleo-validations,master,Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f,Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs,MERGED,2022-01-06 07:55:03.000000000,2022-02-01 17:11:14.000000000,2022-02-01 17:01:52.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-06 07:55:03.000000000', 'files': ['doc/source/roles/role-check_nfv_ovsdpdk_zero_packet_loss.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9cbe84f641107cce56b4b2d222c650a90e8e659d', 'message': 'Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs\n\nThe existing documentation, while technically correct, was\nrendered in a suboptimal way due to the missing empty lines around\nsection titles.\n\nThis patch adds them to resolve the issue.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f\n'}]",0,823634,9cbe84f641107cce56b4b2d222c650a90e8e659d,8,5,1,32926,,,0,"Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs

The existing documentation, while technically correct, was
rendered in a suboptimal way due to the missing empty lines around
section titles.

This patch adds them to resolve the issue.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/34/823634/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-check_nfv_ovsdpdk_zero_packet_loss.rst'],1,9cbe84f641107cce56b4b2d222c650a90e8e659d,docs/nfv,================== ,=================,12,1
openstack%2Ftripleo-validations~master~I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,openstack/tripleo-validations,master,I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,oslo-config-validator: container run task should never fail,MERGED,2021-10-15 14:05:49.000000000,2022-02-01 17:08:37.000000000,2022-02-01 17:01:50.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-10-15 14:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/898906b8e968cdb631eecad27a9c43b3be03312b', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n""}, {'number': 2, 'created': '2022-01-13 21:51:59.000000000', 'files': ['roles/oslo_config_validator/tasks/container_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3043ad836ba18dbf985c913814791741c61ae0e2', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n""}]",3,814173,3043ad836ba18dbf985c913814791741c61ae0e2,14,6,2,27419,,,0,"oslo-config-validator: container run task should never fail

Since it's calling the collection, there's no rc to check against and if
there's no validation error, then it's not an issue.

Change-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/814173/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oslo_config_validator/tasks/container_run.yml'],1,898906b8e968cdb631eecad27a9c43b3be03312b,, - false, - not container_run.stderr_lines | default([]) | count - not container_run.stdout_lines | default([]) | count,1,2
openstack%2Fproject-config~master~Ia9afb5fb4be311cca59d3e1cf3b7bc611184fe15,openstack/project-config,master,Ia9afb5fb4be311cca59d3e1cf3b7bc611184fe15,Remove unsigned tagging permission from projects,MERGED,2022-01-25 17:15:48.000000000,2022-02-01 17:06:33.000000000,2022-02-01 16:46:04.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 17:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c127f598f09917813a747540cb4a5d647649b583', 'message': ""Remove unsigned tagging permission from projects\n\nNow that we have a fix in place for Gerrit's tag signature detection\nregression, remove the unsafe permission for pushing unsigned tags\nto return everything to the state we had prior to the 3.4 upgrade.\n\nChange-Id: Ia9afb5fb4be311cca59d3e1cf3b7bc611184fe15\n""}, {'number': 2, 'created': '2022-01-25 17:43:11.000000000', 'files': ['gerrit/acls/opendev/gerrit.config', 'gerrit/acls/opendev/zone-zuul-ci.org.config', 'gerrit/acls/pyca/project-config.config', 'gerrit/acls/x/valence.config', 'gerrit/acls/opendev/gear.config', 'gerrit/acls/opendev/jeepyb.config', 'gerrit/acls/x/nova-zvm-virt-driver.config', 'gerrit/acls/x/devstack-plugin-libvirt-qemu.config', 'gerrit/acls/opendev/puppet-pip.config', 'gerrit/acls/x/networking-6wind.config', 'gerrit/acls/openstack/nova-powervm.config', 'gerrit/acls/x/networking-dpm.config', 'gerrit/acls/starlingx/vault-armada-app.config', 'gerrit/acls/x/charm-plumgrid.config', 'gerrit/acls/x/git-nit.config', 'gerrit/acls/airship/pegleg.config', 'gerrit/acls/openstack/charm.config', 'gerrit/acls/x/delimiter.config', 'gerrit/acls/airship/treasuremap.config', 'gerrit/acls/openinfra/groups.config', 'gerrit/acls/windmill/ansible-role-elasticsearch.config', 'gerrit/acls/x/gluon.config', 'gerrit/acls/x/devstack-plugin-additional-pkg-repos.config', 'gerrit/acls/x/os-http.config', 'gerrit/acls/openstack/whitebox-tempest-plugin.config', 'gerrit/acls/windmill/windmill-backup.config', 'gerrit/acls/x/solar.config', 'gerrit/acls/windmill/ansible-role-nginx.config', 'gerrit/acls/x/broadview-lib.config', 'gerrit/acls/windmill/ansible-role-carbon.config', 'gerrit/acls/x/charm.config', 'gerrit/acls/x/git-upstream.config', 'gerrit/acls/x/golang-client.config', 'gerrit/acls/starlingx/openstack-armada-app.config', 'gerrit/acls/opendev/elastic-recheck.config', 'gerrit/acls/x/hurricane.config', 'gerrit/acls/x/mors.config', 'gerrit/acls/opendev/storyboard-vue.config', 'gerrit/acls/opendev/puppet-redis.config', 'gerrit/acls/x/group-based-policy.config', 'gerrit/acls/windmill/windmill-logs.config', 'gerrit/acls/x/networking-vsphere.config', 'gerrit/acls/openinfra/openstackweb.config', 'gerrit/acls/x/openstack-resource-agents.config', 'gerrit/acls/opendev/puppet-elastic_recheck.config', 'gerrit/acls/x/rsd-virt-for-nova.config', 'gerrit/acls/x/slogging.config', 'gerrit/acls/openstack/diskimage-builder.config', 'gerrit/acls/x/foxnut.config', 'gerrit/acls/x/kiloeyes.config', 'gerrit/acls/starlingx/snmp-armada-app.config', 'gerrit/acls/opendev/puppet-storyboard.config', 'gerrit/acls/x/collectd-openstack-plugins.config', 'gerrit/acls/x/networking-spp.config', 'gerrit/acls/starlingx/SDO-rv-service.config', 'gerrit/acls/opendev/infra-manual.config', 'gerrit/acls/openinfra/odsreg.config', 'gerrit/acls/opendev/puppet-jeepyb.config', 'gerrit/acls/starlingx/monitoring.config', 'gerrit/acls/openstack/openstack-planet.config', 'gerrit/acls/x/networking-lagopus.config', 'gerrit/acls/x/cursive.config', 'gerrit/acls/airship/drydock.config', 'gerrit/acls/x/networking-gluon.config', 'gerrit/acls/x/networking-cumulus.config', 'gerrit/acls/x/networking-extreme.config', 'gerrit/acls/sardonic/sardonic.config', 'gerrit/acls/x/ansible-role-bindep.config', 'gerrit/acls/pyca/infra.config', 'gerrit/acls/x/networking-l2gw.config', 'gerrit/acls/x/almanach.config', 'gerrit/acls/openstack/reviewday.config', 'gerrit/acls/openstack/python-dracclient.config', 'gerrit/acls/x/charm-6wind-virtual-accelerator.config', 'gerrit/acls/zuul/zuul.config', 'gerrit/acls/starlingx/cert-manager-armada-app.config', 'gerrit/acls/airship/zuul-airship-roles.config', 'gerrit/acls/starlingx/clients.config', 'gerrit/acls/windmill/ansible-role-zookeeper.config', 'gerrit/acls/openstack/devstack-plugin-nfs.config', 'gerrit/acls/opendev/git-restack.config', 'gerrit/acls/opendev/puppet-openafs.config', 'gerrit/acls/x/kingbird.config', 'gerrit/acls/openstack/osops.config', 'gerrit/acls/opendev/puppet-haveged.config', 'gerrit/acls/opendev/puppet-vcsrepo.config', 'gerrit/acls/opendev/puppet-mysql_backup.config', 'gerrit/acls/opendev/storyboard.config', 'gerrit/acls/x/valet.config', 'gerrit/acls/x/swift3.config', 'gerrit/acls/x/coats.config', 'gerrit/acls/x/docker-machine-openstack.config', 'gerrit/acls/x/swiftonhpss.config', 'gerrit/acls/x/os-log-merger.config', 'gerrit/acls/opendev/bindep.config', 'gerrit/acls/x/spectroscope.config', 'gerrit/acls/x/ailuropoda.config', 'gerrit/acls/x/networking-ansible.config', 'gerrit/acls/x/stacktach.config', 'gerrit/acls/x/infra-ansible.config', 'gerrit/acls/airship/charts.config', 'gerrit/acls/opendev/gerritlib.config', 'gerrit/acls/openstack/networking-powervm.config', 'gerrit/acls/windmill/windmill.config', 'gerrit/acls/zuul/nodepool.config', 'gerrit/acls/opendev/puppet-apparmor.config', 'gerrit/acls/x/networking-opencontrail.config', 'gerrit/acls/openinfra/interop.config', 'gerrit/acls/opendev/puppet-ssl_cert_check.config', 'gerrit/acls/opendev/puppet-pgsql_backup.config', 'gerrit/acls/vexxhost/base-jobs.config', 'gerrit/acls/x/networking-brocade.config', 'gerrit/acls/x/swift-ceph-backend.config', 'gerrit/acls/x/networking-hpe.config', 'gerrit/acls/opendev/germqtt.config', 'gerrit/acls/opendev/puppet-asterisk.config', 'gerrit/acls/openstack/charm-vault.config', 'gerrit/acls/x/tap-as-a-service.config', 'gerrit/acls/opendev/git-review.config', 'gerrit/acls/x/devstack-plugin-glusterfs.config', 'gerrit/acls/x/python-don.config', 'gerrit/acls/opendev/puppet-jenkins.config', 'gerrit/acls/x/broadview-collector.config', 'gerrit/acls/x/networking-ovs-dpdk.config', 'gerrit/acls/x/gerrit-dash-creator.config', 'gerrit/acls/x/timmy.config', 'gerrit/acls/opendev/puppet-bup.config', 'gerrit/acls/x/devstack-plugin-tar-installer.config', 'gerrit/acls/airship/hostconfig-operator.config', 'gerrit/acls/opendev/puppet-sudoers.config', 'gerrit/acls/x/downpour.config', 'gerrit/acls/x/vm-bm-wg.config', 'gerrit/acls/x/cognitive.config', 'gerrit/acls/x/bilean.config', 'gerrit/acls/opendev/puppet-project_config.config', 'gerrit/acls/opendev/puppet-translation_checksite.config', 'gerrit/acls/windmill/ansible-role-borgbackup.config', 'gerrit/acls/opendev/puppet-bugdaystats.config', 'gerrit/acls/windmill/ansible-role-grafyaml.config', 'gerrit/acls/opendev/mqtt_statsd.config', 'gerrit/acls/x/networking-ale-omniswitch.config', 'gerrit/acls/x/flame.config', 'gerrit/acls/opendev/puppet-ptgbot.config', 'gerrit/acls/windmill/ansible-role-whisper.config', 'gerrit/acls/openstack/ceilometer-powervm.config', 'gerrit/acls/starlingx/fault.config', 'gerrit/acls/x/osc-summit-counter.config', 'gerrit/acls/x/sushy-oem-idrac.config', 'gerrit/acls/x/networking-plumgrid.config', 'gerrit/acls/opendev/puppet-ciwatch.config', 'gerrit/acls/opendev/puppet-hound.config', 'gerrit/acls/x/bareon-ironic.config', 'gerrit/acls/openinfra/groups-static-pages.config', 'gerrit/acls/x/sqlalchemy-migrate.config', 'gerrit/acls/airship/airshipui.config', 'gerrit/acls/x/certbot-dns-openstack.config', 'gerrit/acls/x/networking-icc.config', 'gerrit/acls/openstack/nose-html-output.config', 'gerrit/acls/starlingx/nfv.config', 'gerrit/acls/performa/os-faults.config', 'gerrit/acls/x/omni.config', 'gerrit/acls/starlingx/root.config', 'gerrit/acls/openstack/rpm-packaging.config', 'gerrit/acls/x/nova-fusioncompute.config', 'gerrit/acls/airship/armada.config', 'gerrit/acls/starlingx/utilities.config', 'gerrit/acls/opendev/puppet-diskimage_builder.config', 'gerrit/acls/x/mitmstack.config', 'gerrit/acls/opendev/zone-opendev.org.config', 'gerrit/acls/x/proliantutils.config', 'gerrit/acls/x/compass.config', 'gerrit/acls/x/os-xenapi.config', 'gerrit/acls/openstack/openstack-zuul-roles.config', 'gerrit/acls/starlingx/compile.config', 'gerrit/acls/x/ekko.config', 'gerrit/acls/x/cloudcafe.config', 'gerrit/acls/starlingx/ha.config', 'gerrit/acls/x/meteos-ui.config', 'gerrit/acls/x/nova-lxd.config', 'gerrit/acls/x/cloudpulse.config', 'gerrit/acls/x/ciwatch.config', 'gerrit/acls/opendev/project-config.config', 'gerrit/acls/opendev/puppet-nodepool.config', 'gerrit/acls/airship/election.config', 'gerrit/acls/opendev/puppet-openstack_infra_spec_helper.config', 'gerrit/acls/x/networking-fujitsu.config', 'gerrit/acls/airship/vino.config', 'gerrit/acls/opendev/puppet-unbound.config', 'gerrit/acls/starlingx/nginx-ingress-controller-armada-app.config', 'gerrit/acls/opendev/puppet-openstackci.config', 'gerrit/acls/opendev/puppet-zuul.config', 'gerrit/acls/x/tripleo-ipa.config', 'gerrit/acls/x/kloudbuster.config', 'gerrit/acls/opendev/puppet-elasticsearch.config', 'gerrit/acls/opendev/puppet-httpd.config', 'gerrit/acls/starlingx/governance.config', 'gerrit/acls/airship/apis.config', 'gerrit/acls/x/terracotta.config', 'gerrit/acls/x/drbd-devstack.config', 'gerrit/acls/airship/deckhand.config', 'gerrit/acls/opendev/ci-sandbox.config', 'gerrit/acls/opendev/python-storyboardclient.config', 'gerrit/acls/openstack/api-sig.config', 'gerrit/acls/x/stacklight-integration-tests.config', 'gerrit/acls/jjb/python-jenkins.config', 'gerrit/acls/x/oaktree.config', 'gerrit/acls/opendev/puppet-zanata.config', 'gerrit/acls/recordsansible/ara.config', 'gerrit/acls/x/wsme.config', 'gerrit/acls/x/golang-commons.config', 'gerrit/acls/ttygroup/boartty.config', 'gerrit/acls/openinfra/transparency-policy.config', 'gerrit/acls/x/ansible-role-fedmsg.config', 'gerrit/acls/opendev/storyboard-webclient.config', 'gerrit/acls/x/bareon.config', 'gerrit/acls/x/flare.config', 'gerrit/acls/windmill/ansible-role-sudoers.config', 'gerrit/acls/windmill/ansible-role-virtualenv.config', 'gerrit/acls/opendev/puppet-graphite.config', 'gerrit/acls/x/scalpels.config', 'gerrit/acls/x/cathead.config', 'gerrit/acls/zuul/project-config.config', 'gerrit/acls/x/gce-api.config', 'gerrit/acls/x/promstat.config', 'gerrit/acls/x/rack.config', 'gerrit/acls/x/tobiko.config', 'gerrit/acls/zuul/zuul-jobs.config', 'gerrit/acls/openstack/ansible-collections-openstack.config', 'gerrit/acls/opendev/puppet-logstash.config', 'gerrit/acls/openstack/bugdaystats.config', 'gerrit/acls/x/networking-mlnx.config', 'gerrit/acls/x/quark.config', 'gerrit/acls/starlingx/platform-armada-app.config', 'gerrit/acls/x/networking-vpp.config', 'gerrit/acls/x/packetary.config', 'gerrit/acls/x/networking-edge-vpn.config', 'gerrit/acls/openstack/project-config.config', 'gerrit/acls/x/networking-lenovo.config', 'gerrit/acls/x/shovel.config', 'gerrit/acls/airship/spyglass.config', 'gerrit/acls/x/nfv-filters.config', 'gerrit/acls/x/ranger.config', 'gerrit/acls/starlingx/audit-armada-app.config', 'gerrit/acls/x/nova-mksproxy.config', 'gerrit/acls/x/python-opentsdbclient.config', 'gerrit/acls/x/intel-nfv-ci-tests.config', 'gerrit/acls/x/nemesis.config', 'gerrit/acls/opendev/puppet-lodgeit.config', 'gerrit/acls/airship/images.config', 'gerrit/acls/opendev/puppet-mqtt_statsd.config', 'gerrit/acls/opendev/puppet-puppet.config', 'gerrit/acls/x/nerd-reviewer.config', 'gerrit/acls/performa/shaker.config', 'gerrit/acls/opendev/netlify-sandbox.config', 'gerrit/acls/x/python-redfish.config', 'gerrit/acls/x/surveil.config', 'gerrit/acls/opendev/puppet-lpmqtt.config', 'gerrit/acls/x/os-dpm.config', 'gerrit/acls/x/poppy.config', 'gerrit/acls/airship/porthole.config', 'gerrit/acls/starlingx/rook-ceph.config', 'gerrit/acls/openstack/openstack-nose.config', 'gerrit/acls/windmill/ansible-role-openstacksdk.config', 'gerrit/acls/starlingx/kernel.config', 'gerrit/acls/openstack/instack.config', 'gerrit/acls/openstack/liberasurecode.config', 'gerrit/acls/x/ovn-bgp-agent.config', 'gerrit/acls/x/git-os-job.config', 'gerrit/acls/windmill/windmill-config.config', 'gerrit/acls/x/cloudbase-init.config', 'gerrit/acls/opendev/puppet-meetbot.config', 'gerrit/acls/starlingx/ansible-playbooks.config', 'gerrit/acls/x/puppet-n1k-vsm.config', 'gerrit/acls/x/gozer.config', 'gerrit/acls/opendev/system-config.config', 'gerrit/acls/opendev/puppet-kerberos.config', 'gerrit/acls/opendev/puppet-germqtt.config', 'gerrit/acls/opendev/puppet-user.config', 'gerrit/acls/airship/gerrit-to-github-bot.config', 'gerrit/acls/opendev/puppet-grafyaml.config', 'gerrit/acls/x/python-scciclient.config', 'gerrit/acls/windmill/ansible-role-borgmatic.config', 'gerrit/acls/opendev/lpmqtt.config', 'gerrit/acls/airship/sip.config', 'gerrit/acls/x/alexandria.config', 'gerrit/acls/opendev/puppet-ssh.config', 'gerrit/acls/x/powervc-driver.config', 'gerrit/acls/x/shovel-horizon.config', 'gerrit/acls/opendev/base-jobs.config', 'gerrit/acls/opendev/puppet-ulimit.config', 'gerrit/acls/x/swiftonfile.config', 'gerrit/acls/opendev/puppet-mosquitto.config', 'gerrit/acls/starlingx/update.config', 'gerrit/acls/opendev/puppet-refstack.config', 'gerrit/acls/x/entropy.config', 'gerrit/acls/windmill/ansible-role-diskimage-builder.config', 'gerrit/acls/windmill/ansible-role-ssh.config', 'gerrit/acls/x/synergy.config', 'gerrit/acls/x/openstack-spaceport.config', 'gerrit/acls/x/python-hnvclient.config', 'gerrit/acls/opendev/ansible-role-cloud-launcher.config', 'gerrit/acls/opendev/glean.config', 'gerrit/acls/x/vahana.config', 'gerrit/acls/x/vmtp.config', 'gerrit/acls/x/glare.config', 'gerrit/acls/x/mixmatch.config', 'gerrit/acls/opendev/meetbot.config', 'gerrit/acls/x/python-oneviewclient.config', 'gerrit/acls/starlingx/containers.config', 'gerrit/acls/x/compass-install.config', 'gerrit/acls/x/ansible-role-shade.config', 'gerrit/acls/starlingx/integ.config', 'gerrit/acls/x/gyan.config', 'gerrit/acls/x/networking-cisco.config', 'gerrit/acls/x/packstack.config', 'gerrit/acls/x/python-k8sclient.config', 'gerrit/acls/x/devstack-plugin-mariadb.config', 'gerrit/acls/x/radar.config', 'gerrit/acls/starlingx/portieris-armada-app.config', 'gerrit/acls/x/gitdm.config', 'gerrit/acls/starlingx/config.config', 'gerrit/acls/x/rsd.config', 'gerrit/acls/ttygroup/gertty.config', 'gerrit/acls/starlingx/tis-repo.config', 'gerrit/acls/x/stackube.config', 'gerrit/acls/opendev/puppet-mediawiki.config', 'gerrit/acls/x/networking-arista.config', 'gerrit/acls/x/ansible-role-jenkins-plugins.config', 'gerrit/acls/openstack/service-types-authority.config', 'gerrit/acls/opendev/engagement.config', 'gerrit/acls/x/broadview-ui.config', 'gerrit/acls/openstack/openstack-chef.config', 'gerrit/acls/opendev/puppet-mailman.config', 'gerrit/acls/x/networking-fortinet.config', 'gerrit/acls/airship/promenade.config', 'gerrit/acls/starlingx/metal.config', 'gerrit/acls/opendev/yaml2ical.config', 'gerrit/acls/x/networking-peregrine.config', 'gerrit/acls/x/spanner.config', 'gerrit/acls/x/marshal.config', 'gerrit/acls/starlingx/stx-puppet.config', 'gerrit/acls/x/vmware-vspc.config', 'gerrit/acls/airship/shipyard.config', 'gerrit/acls/pypa/project-config.config', 'gerrit/acls/airship/go-redfish.config', 'gerrit/acls/x/meghdwar.config', 'gerrit/acls/x/k8s-cloud-provider.config', 'gerrit/acls/starlingx/meta-starlingx.config', 'gerrit/acls/x/networking-bigswitch.config', 'gerrit/acls/opendev/puppet-subunit2sql.config', 'gerrit/acls/airship/kubernetes-entrypoint.config', 'gerrit/acls/opendev/publications.config', 'gerrit/acls/openstack/devstack-gate.config', 'gerrit/acls/opendev/afsmon.config', 'gerrit/acls/recordsansible/ansible-role-ara.config', 'gerrit/acls/x/conveyor.config', 'gerrit/acls/opendev/puppet-openstack_health.config', 'gerrit/acls/opendev/statusbot.config', 'gerrit/acls/opendev/puppet-unattended_upgrades.config', 'gerrit/acls/starlingx/test.config', 'gerrit/acls/airship/tempest-plugin.config', 'gerrit/acls/x/nova-solver-scheduler.config', 'gerrit/acls/x/cinder-fusioncompute.config', 'gerrit/acls/zuul/zuul-website.config', 'gerrit/acls/openstack/governance.config', 'gerrit/acls/x/git-repo-manifests.config', 'gerrit/acls/x/driverlog.config', 'gerrit/acls/opendev/puppet-kibana.config', 'gerrit/acls/x/pyghmi.config', 'gerrit/acls/x/puppet-midonet.config', 'gerrit/acls/opendev/puppet-askbot.config', 'gerrit/acls/starlingx/monitor-armada-app.config', 'gerrit/acls/x/neutron-interconnection.config', 'gerrit/acls/opendev/lodgeit.config', 'tools/normalize_acl.py', 'gerrit/acls/inaugust/inaugust.config', 'gerrit/acls/starlingx/zuul-jobs.config', 'gerrit/acls/x/openstack-mentoring-scripts.config', 'gerrit/acls/starlingx/upstream.config', 'gerrit/acls/vexxhost/vexxhost.config', 'gerrit/acls/openstack/logstash-filters.config', 'gerrit/acls/x/networking-huawei.config', 'gerrit/acls/airship/divingbell.config', 'gerrit/acls/x/ooi.config', 'gerrit/acls/starlingx/metrics-server-armada-app.config', 'gerrit/acls/opendev/dstat_graph.config', 'gerrit/acls/windmill/ansible-role-ansible.config', 'gerrit/acls/x/cisco-ironic-contrib.config', 'gerrit/acls/openstack/reviewstats.config', 'gerrit/acls/x/xenapi-os-testing.config', 'gerrit/acls/x/murano-plugin-networking-sfc.config', 'gerrit/acls/jjb/jenkins-job-builder.config', 'gerrit/acls/opendev/puppet-tmpreaper.config', 'gerrit/acls/x/siss.config', 'gerrit/acls/starlingx/manifest.config', 'gerrit/acls/x/k8s-docker-suite-app-murano.config', 'gerrit/acls/x/merlin.config', 'gerrit/acls/x/trio2o.config', 'gerrit/acls/x/horizon-mellanox.config', 'gerrit/acls/opendev/ansible-role-puppet.config', 'gerrit/acls/opendev/puppet-planet.config', 'gerrit/acls/windmill/ansible-role-nodepool.config', 'gerrit/acls/x/giftwrap.config', 'gerrit/acls/x/gabbi-tempest.config', 'gerrit/acls/openstack/publiccloud-sig.config', 'gerrit/acls/x/daisycloud-core.config', 'gerrit/acls/starlingx/config-files.config', 'gerrit/acls/starlingx/distcloud-client.config', 'gerrit/acls/x/nova-dpm.config', 'gerrit/acls/x/ansible-role-jenkins.config', 'gerrit/acls/x/tatu.config', 'gerrit/acls/opendev/puppet-log_processor.config', 'gerrit/acls/starlingx/helm-charts.config', 'gerrit/acls/windmill/ansible-role-gear.config', 'gerrit/acls/opendev/puppet-simpleproxy.config', 'gerrit/acls/starlingx/docs.config', 'gerrit/acls/starlingx/tools.config', 'gerrit/acls/openstack/requestsexceptions.config', 'gerrit/acls/x/networking-zte.config', 'gerrit/acls/x/inception.config', 'gerrit/acls/opendev/puppet-statusbot.config', 'gerrit/acls/x/networking-infoblox.config', 'gerrit/acls/x/steth.config', 'gerrit/acls/opendev/askbot-theme.config', 'gerrit/acls/x/novajoin.config', 'gerrit/acls/openstack/openstack-zuul-jobs.config', 'gerrit/acls/x/iotronic.config', 'gerrit/acls/x/jacket.config', 'gerrit/acls/starlingx/oidc-auth-armada-app.config', 'gerrit/acls/opendev/log_processor.config', 'gerrit/acls/x/networking-h3c.config', 'gerrit/acls/openinfra/refstack.config', 'gerrit/acls/x/meteos.config', 'gerrit/acls/opendev/puppet-bandersnatch.config', 'gerrit/acls/x/ironic-staging-drivers.config', 'gerrit/acls/x/devstack-plugin-hdfs.config', 'gerrit/acls/x/openstack-service-broker.config', 'gerrit/acls/windmill/ansible-role-boto3.config', 'gerrit/acls/openstack/meta-config.config', 'gerrit/acls/x/osel.config', 'gerrit/acls/starlingx/ptp-notification-armada-app.config', 'gerrit/acls/x/gos-brick.config', 'gerrit/acls/x/mogan.config', 'gerrit/acls/opendev/grafyaml.config', 'gerrit/acls/x/doc8.config', 'gerrit/acls/x/namos.config', 'gerrit/acls/airship/governance.config', 'gerrit/acls/windmill/ansible-role-zuul-registry.config', 'gerrit/acls/opendev/puppet-logrotate.config', 'gerrit/acls/starlingx/distcloud.config', 'gerrit/acls/x/apmec.config', 'gerrit/acls/x/turbo-hipster.config', 'gerrit/acls/opendev/gerritbot.config', 'gerrit/acls/windmill/windmill-ops.config', 'gerrit/acls/airship/docs.config', 'gerrit/acls/opendev/puppet-reviewday.config', 'gerrit/acls/openstack/project-team-guide.config', 'gerrit/acls/x/virtualpdu.config', 'gerrit/acls/windmill/ansible-role-zuul.config', 'gerrit/acls/x/ansible-role-jenkins-job-builder.config', 'gerrit/acls/starlingx/shared.config', 'gerrit/acls/x/performa.config', 'gerrit/acls/x/pandaman.config', 'gerrit/acls/windmill/ansible-role-logrotate.config', 'gerrit/acls/x/coupler.config', 'gerrit/acls/x/stackalytics.config', 'gerrit/acls/zuul/zuul-base-jobs.config', 'gerrit/acls/opendev/sandbox.config', 'gerrit/acls/openstack/upstream-institute-virtual-environment.config', 'gerrit/acls/windmill/ansible-role-statsd.config', 'gerrit/acls/x/networking-nec.config', 'gerrit/acls/x/vmware-nsx.config', 'gerrit/acls/x/distil.config', 'gerrit/acls/x/ospurge.config', 'gerrit/acls/opendev/irc-meetings.config', 'gerrit/acls/starlingx/gui.config', 'gerrit/acls/x/browbeat.config', 'gerrit/acls/airship/airshipctl.config', 'gerrit/acls/opendev/subunit2sql.config', 'gerrit/acls/opendev/puppet-ethercalc.config', 'gerrit/acls/x/networking-avaya.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0d066f954d951b511d11aea7986eab2d538694e6', 'message': ""Remove unsigned tagging permission from projects\n\nNow that we have a fix in place for Gerrit's tag signature detection\nregression, remove the unsafe permission for pushing unsigned tags\nto return everything to the state we had prior to the 3.4 upgrade.\n\nChange-Id: Ia9afb5fb4be311cca59d3e1cf3b7bc611184fe15\n""}]",0,826335,0d066f954d951b511d11aea7986eab2d538694e6,13,4,2,5263,,,0,"Remove unsigned tagging permission from projects

Now that we have a fix in place for Gerrit's tag signature detection
regression, remove the unsafe permission for pushing unsigned tags
to return everything to the state we had prior to the 3.4 upgrade.

Change-Id: Ia9afb5fb4be311cca59d3e1cf3b7bc611184fe15
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/826335/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/opendev/gerrit.config', 'gerrit/acls/opendev/zone-zuul-ci.org.config', 'gerrit/acls/pyca/project-config.config', 'gerrit/acls/x/valence.config', 'gerrit/acls/opendev/gear.config', 'gerrit/acls/opendev/jeepyb.config', 'gerrit/acls/x/nova-zvm-virt-driver.config', 'gerrit/acls/x/devstack-plugin-libvirt-qemu.config', 'gerrit/acls/opendev/puppet-pip.config', 'gerrit/acls/x/networking-6wind.config', 'gerrit/acls/openstack/nova-powervm.config', 'gerrit/acls/x/networking-dpm.config', 'gerrit/acls/starlingx/vault-armada-app.config', 'gerrit/acls/x/charm-plumgrid.config', 'gerrit/acls/x/git-nit.config', 'gerrit/acls/airship/pegleg.config', 'gerrit/acls/openstack/charm.config', 'gerrit/acls/x/delimiter.config', 'gerrit/acls/airship/treasuremap.config', 'gerrit/acls/openinfra/groups.config', 'gerrit/acls/windmill/ansible-role-elasticsearch.config', 'gerrit/acls/x/gluon.config', 'gerrit/acls/x/devstack-plugin-additional-pkg-repos.config', 'gerrit/acls/x/os-http.config', 'gerrit/acls/openstack/whitebox-tempest-plugin.config', 'gerrit/acls/windmill/windmill-backup.config', 'gerrit/acls/x/solar.config', 'gerrit/acls/windmill/ansible-role-nginx.config', 'gerrit/acls/x/broadview-lib.config', 'gerrit/acls/windmill/ansible-role-carbon.config', 'gerrit/acls/x/charm.config', 'gerrit/acls/x/git-upstream.config', 'gerrit/acls/x/golang-client.config', 'gerrit/acls/starlingx/openstack-armada-app.config', 'gerrit/acls/opendev/elastic-recheck.config', 'gerrit/acls/x/hurricane.config', 'gerrit/acls/x/mors.config', 'gerrit/acls/opendev/storyboard-vue.config', 'gerrit/acls/opendev/puppet-redis.config', 'gerrit/acls/x/group-based-policy.config', 'gerrit/acls/windmill/windmill-logs.config', 'gerrit/acls/x/networking-vsphere.config', 'gerrit/acls/openinfra/openstackweb.config', 'gerrit/acls/x/openstack-resource-agents.config', 'gerrit/acls/opendev/puppet-elastic_recheck.config', 'gerrit/acls/x/rsd-virt-for-nova.config', 'gerrit/acls/x/slogging.config', 'gerrit/acls/openstack/diskimage-builder.config', 'gerrit/acls/x/foxnut.config', 'gerrit/acls/x/kiloeyes.config', 'gerrit/acls/starlingx/snmp-armada-app.config', 'gerrit/acls/opendev/puppet-storyboard.config', 'gerrit/acls/x/collectd-openstack-plugins.config', 'gerrit/acls/x/networking-spp.config', 'gerrit/acls/starlingx/SDO-rv-service.config', 'gerrit/acls/opendev/infra-manual.config', 'gerrit/acls/openinfra/odsreg.config', 'gerrit/acls/opendev/puppet-jeepyb.config', 'gerrit/acls/starlingx/monitoring.config', 'gerrit/acls/openstack/openstack-planet.config', 'gerrit/acls/x/networking-lagopus.config', 'gerrit/acls/x/cursive.config', 'gerrit/acls/airship/drydock.config', 'gerrit/acls/x/networking-gluon.config', 'gerrit/acls/x/networking-cumulus.config', 'gerrit/acls/x/networking-extreme.config', 'gerrit/acls/sardonic/sardonic.config', 'gerrit/acls/x/ansible-role-bindep.config', 'gerrit/acls/pyca/infra.config', 'gerrit/acls/x/networking-l2gw.config', 'gerrit/acls/x/almanach.config', 'gerrit/acls/openstack/reviewday.config', 'gerrit/acls/openstack/python-dracclient.config', 'gerrit/acls/x/charm-6wind-virtual-accelerator.config', 'gerrit/acls/zuul/zuul.config', 'gerrit/acls/starlingx/cert-manager-armada-app.config', 'gerrit/acls/airship/zuul-airship-roles.config', 'gerrit/acls/starlingx/clients.config', 'gerrit/acls/windmill/ansible-role-zookeeper.config', 'gerrit/acls/openstack/devstack-plugin-nfs.config', 'gerrit/acls/opendev/git-restack.config', 'gerrit/acls/opendev/puppet-openafs.config', 'gerrit/acls/x/kingbird.config', 'gerrit/acls/openstack/osops.config', 'gerrit/acls/opendev/puppet-haveged.config', 'gerrit/acls/opendev/puppet-vcsrepo.config', 'gerrit/acls/opendev/puppet-mysql_backup.config', 'gerrit/acls/opendev/storyboard.config', 'gerrit/acls/x/valet.config', 'gerrit/acls/x/swift3.config', 'gerrit/acls/x/coats.config', 'gerrit/acls/x/docker-machine-openstack.config', 'gerrit/acls/x/swiftonhpss.config', 'gerrit/acls/x/os-log-merger.config', 'gerrit/acls/opendev/bindep.config', 'gerrit/acls/x/spectroscope.config', 'gerrit/acls/x/ailuropoda.config', 'gerrit/acls/x/networking-ansible.config', 'gerrit/acls/x/stacktach.config', 'gerrit/acls/x/infra-ansible.config', 'gerrit/acls/airship/charts.config', 'gerrit/acls/opendev/gerritlib.config', 'gerrit/acls/openstack/networking-powervm.config', 'gerrit/acls/windmill/windmill.config', 'gerrit/acls/zuul/nodepool.config', 'gerrit/acls/opendev/puppet-apparmor.config', 'gerrit/acls/x/networking-opencontrail.config', 'gerrit/acls/openinfra/interop.config', 'gerrit/acls/opendev/puppet-ssl_cert_check.config', 'gerrit/acls/opendev/puppet-pgsql_backup.config', 'gerrit/acls/vexxhost/base-jobs.config', 'gerrit/acls/x/networking-brocade.config', 'gerrit/acls/x/swift-ceph-backend.config', 'gerrit/acls/x/networking-hpe.config', 'gerrit/acls/opendev/germqtt.config', 'gerrit/acls/opendev/puppet-asterisk.config', 'gerrit/acls/openstack/charm-vault.config', 'gerrit/acls/x/tap-as-a-service.config', 'gerrit/acls/opendev/git-review.config', 'gerrit/acls/x/devstack-plugin-glusterfs.config', 'gerrit/acls/x/python-don.config', 'gerrit/acls/opendev/puppet-jenkins.config', 'gerrit/acls/x/broadview-collector.config', 'gerrit/acls/x/networking-ovs-dpdk.config', 'gerrit/acls/x/gerrit-dash-creator.config', 'gerrit/acls/x/timmy.config', 'gerrit/acls/opendev/puppet-bup.config', 'gerrit/acls/x/devstack-plugin-tar-installer.config', 'gerrit/acls/airship/hostconfig-operator.config', 'gerrit/acls/opendev/puppet-sudoers.config', 'gerrit/acls/x/downpour.config', 'gerrit/acls/x/vm-bm-wg.config', 'gerrit/acls/x/cognitive.config', 'gerrit/acls/x/bilean.config', 'gerrit/acls/opendev/puppet-project_config.config', 'gerrit/acls/opendev/puppet-translation_checksite.config', 'gerrit/acls/windmill/ansible-role-borgbackup.config', 'gerrit/acls/opendev/puppet-bugdaystats.config', 'gerrit/acls/windmill/ansible-role-grafyaml.config', 'gerrit/acls/opendev/mqtt_statsd.config', 'gerrit/acls/x/networking-ale-omniswitch.config', 'gerrit/acls/x/flame.config', 'gerrit/acls/opendev/puppet-ptgbot.config', 'gerrit/acls/windmill/ansible-role-whisper.config', 'gerrit/acls/openstack/ceilometer-powervm.config', 'gerrit/acls/starlingx/fault.config', 'gerrit/acls/x/osc-summit-counter.config', 'gerrit/acls/x/sushy-oem-idrac.config', 'gerrit/acls/x/networking-plumgrid.config', 'gerrit/acls/opendev/puppet-ciwatch.config', 'gerrit/acls/opendev/puppet-hound.config', 'gerrit/acls/x/bareon-ironic.config', 'gerrit/acls/openinfra/groups-static-pages.config', 'gerrit/acls/x/sqlalchemy-migrate.config', 'gerrit/acls/airship/airshipui.config', 'gerrit/acls/x/certbot-dns-openstack.config', 'gerrit/acls/x/networking-icc.config', 'gerrit/acls/openstack/nose-html-output.config', 'gerrit/acls/starlingx/nfv.config', 'gerrit/acls/performa/os-faults.config', 'gerrit/acls/x/omni.config', 'gerrit/acls/starlingx/root.config', 'gerrit/acls/openstack/rpm-packaging.config', 'gerrit/acls/x/nova-fusioncompute.config', 'gerrit/acls/airship/armada.config', 'gerrit/acls/starlingx/utilities.config', 'gerrit/acls/opendev/puppet-diskimage_builder.config', 'gerrit/acls/x/mitmstack.config', 'gerrit/acls/opendev/zone-opendev.org.config', 'gerrit/acls/x/proliantutils.config', 'gerrit/acls/x/compass.config', 'gerrit/acls/x/os-xenapi.config', 'gerrit/acls/openstack/openstack-zuul-roles.config', 'gerrit/acls/starlingx/compile.config', 'gerrit/acls/x/ekko.config', 'gerrit/acls/x/cloudcafe.config', 'gerrit/acls/starlingx/ha.config', 'gerrit/acls/x/meteos-ui.config', 'gerrit/acls/x/nova-lxd.config', 'gerrit/acls/x/cloudpulse.config', 'gerrit/acls/x/ciwatch.config', 'gerrit/acls/opendev/project-config.config', 'gerrit/acls/opendev/puppet-nodepool.config', 'gerrit/acls/airship/election.config', 'gerrit/acls/opendev/puppet-openstack_infra_spec_helper.config', 'gerrit/acls/x/networking-fujitsu.config', 'gerrit/acls/airship/vino.config', 'gerrit/acls/opendev/puppet-unbound.config', 'gerrit/acls/starlingx/nginx-ingress-controller-armada-app.config', 'gerrit/acls/opendev/puppet-openstackci.config', 'gerrit/acls/opendev/puppet-zuul.config', 'gerrit/acls/x/tripleo-ipa.config', 'gerrit/acls/x/kloudbuster.config', 'gerrit/acls/opendev/puppet-elasticsearch.config', 'gerrit/acls/opendev/puppet-httpd.config', 'gerrit/acls/starlingx/governance.config', 'gerrit/acls/airship/apis.config', 'gerrit/acls/x/terracotta.config', 'gerrit/acls/x/drbd-devstack.config', 'gerrit/acls/airship/deckhand.config', 'gerrit/acls/opendev/ci-sandbox.config', 'gerrit/acls/opendev/python-storyboardclient.config', 'gerrit/acls/openstack/api-sig.config', 'gerrit/acls/x/stacklight-integration-tests.config', 'gerrit/acls/jjb/python-jenkins.config', 'gerrit/acls/x/oaktree.config', 'gerrit/acls/opendev/puppet-zanata.config', 'gerrit/acls/recordsansible/ara.config', 'gerrit/acls/x/wsme.config', 'gerrit/acls/x/golang-commons.config', 'gerrit/acls/ttygroup/boartty.config', 'gerrit/acls/openinfra/transparency-policy.config', 'gerrit/acls/x/ansible-role-fedmsg.config', 'gerrit/acls/opendev/storyboard-webclient.config', 'gerrit/acls/x/bareon.config', 'gerrit/acls/x/flare.config', 'gerrit/acls/windmill/ansible-role-sudoers.config', 'gerrit/acls/windmill/ansible-role-virtualenv.config', 'gerrit/acls/opendev/puppet-graphite.config', 'gerrit/acls/x/scalpels.config', 'gerrit/acls/x/cathead.config', 'gerrit/acls/zuul/project-config.config', 'gerrit/acls/x/gce-api.config', 'gerrit/acls/x/promstat.config', 'gerrit/acls/x/rack.config', 'gerrit/acls/x/tobiko.config', 'gerrit/acls/zuul/zuul-jobs.config', 'gerrit/acls/openstack/ansible-collections-openstack.config', 'gerrit/acls/opendev/puppet-logstash.config', 'gerrit/acls/openstack/bugdaystats.config', 'gerrit/acls/x/networking-mlnx.config', 'gerrit/acls/x/quark.config', 'gerrit/acls/starlingx/platform-armada-app.config', 'gerrit/acls/x/networking-vpp.config', 'gerrit/acls/x/packetary.config', 'gerrit/acls/x/networking-edge-vpn.config', 'gerrit/acls/openstack/project-config.config', 'gerrit/acls/x/networking-lenovo.config', 'gerrit/acls/x/shovel.config', 'gerrit/acls/airship/spyglass.config', 'gerrit/acls/x/nfv-filters.config', 'gerrit/acls/x/ranger.config', 'gerrit/acls/starlingx/audit-armada-app.config', 'gerrit/acls/x/nova-mksproxy.config', 'gerrit/acls/x/python-opentsdbclient.config', 'gerrit/acls/x/intel-nfv-ci-tests.config', 'gerrit/acls/x/nemesis.config', 'gerrit/acls/opendev/puppet-lodgeit.config', 'gerrit/acls/airship/images.config', 'gerrit/acls/opendev/puppet-mqtt_statsd.config', 'gerrit/acls/opendev/puppet-puppet.config', 'gerrit/acls/x/nerd-reviewer.config', 'gerrit/acls/performa/shaker.config', 'gerrit/acls/opendev/netlify-sandbox.config', 'gerrit/acls/x/python-redfish.config', 'gerrit/acls/x/surveil.config', 'gerrit/acls/opendev/puppet-lpmqtt.config', 'gerrit/acls/x/os-dpm.config', 'gerrit/acls/x/poppy.config', 'gerrit/acls/airship/porthole.config', 'gerrit/acls/starlingx/rook-ceph.config', 'gerrit/acls/openstack/openstack-nose.config', 'gerrit/acls/windmill/ansible-role-openstacksdk.config', 'gerrit/acls/starlingx/kernel.config', 'gerrit/acls/openstack/instack.config', 'gerrit/acls/openstack/liberasurecode.config', 'gerrit/acls/x/ovn-bgp-agent.config', 'gerrit/acls/x/git-os-job.config', 'gerrit/acls/windmill/windmill-config.config', 'gerrit/acls/x/cloudbase-init.config', 'gerrit/acls/opendev/puppet-meetbot.config', 'gerrit/acls/starlingx/ansible-playbooks.config', 'gerrit/acls/x/puppet-n1k-vsm.config', 'gerrit/acls/x/gozer.config', 'gerrit/acls/opendev/system-config.config', 'gerrit/acls/opendev/puppet-kerberos.config', 'gerrit/acls/opendev/puppet-germqtt.config', 'gerrit/acls/opendev/puppet-user.config', 'gerrit/acls/airship/gerrit-to-github-bot.config', 'gerrit/acls/opendev/puppet-grafyaml.config', 'gerrit/acls/x/python-scciclient.config', 'gerrit/acls/windmill/ansible-role-borgmatic.config', 'gerrit/acls/opendev/lpmqtt.config', 'gerrit/acls/airship/sip.config', 'gerrit/acls/x/alexandria.config', 'gerrit/acls/opendev/puppet-ssh.config', 'gerrit/acls/x/powervc-driver.config', 'gerrit/acls/x/shovel-horizon.config', 'gerrit/acls/opendev/base-jobs.config', 'gerrit/acls/opendev/puppet-ulimit.config', 'gerrit/acls/x/swiftonfile.config', 'gerrit/acls/opendev/puppet-mosquitto.config', 'gerrit/acls/starlingx/update.config', 'gerrit/acls/opendev/puppet-refstack.config', 'gerrit/acls/x/entropy.config', 'gerrit/acls/windmill/ansible-role-diskimage-builder.config', 'gerrit/acls/windmill/ansible-role-ssh.config', 'gerrit/acls/x/synergy.config', 'gerrit/acls/x/openstack-spaceport.config', 'gerrit/acls/x/python-hnvclient.config', 'gerrit/acls/opendev/ansible-role-cloud-launcher.config', 'gerrit/acls/opendev/glean.config', 'gerrit/acls/x/vahana.config', 'gerrit/acls/x/vmtp.config', 'gerrit/acls/x/glare.config', 'gerrit/acls/x/mixmatch.config', 'gerrit/acls/opendev/meetbot.config', 'gerrit/acls/x/python-oneviewclient.config', 'gerrit/acls/starlingx/containers.config', 'gerrit/acls/x/compass-install.config', 'gerrit/acls/x/ansible-role-shade.config', 'gerrit/acls/starlingx/integ.config', 'gerrit/acls/x/gyan.config', 'gerrit/acls/x/networking-cisco.config', 'gerrit/acls/x/packstack.config', 'gerrit/acls/x/python-k8sclient.config', 'gerrit/acls/x/devstack-plugin-mariadb.config', 'gerrit/acls/x/radar.config', 'gerrit/acls/starlingx/portieris-armada-app.config', 'gerrit/acls/x/gitdm.config', 'gerrit/acls/starlingx/config.config', 'gerrit/acls/x/rsd.config', 'gerrit/acls/ttygroup/gertty.config', 'gerrit/acls/starlingx/tis-repo.config', 'gerrit/acls/x/stackube.config', 'gerrit/acls/opendev/puppet-mediawiki.config', 'gerrit/acls/x/networking-arista.config', 'gerrit/acls/x/ansible-role-jenkins-plugins.config', 'gerrit/acls/openstack/service-types-authority.config', 'gerrit/acls/opendev/engagement.config', 'gerrit/acls/x/broadview-ui.config', 'gerrit/acls/openstack/openstack-chef.config', 'gerrit/acls/opendev/puppet-mailman.config', 'gerrit/acls/x/networking-fortinet.config', 'gerrit/acls/airship/promenade.config', 'gerrit/acls/starlingx/metal.config', 'gerrit/acls/opendev/yaml2ical.config', 'gerrit/acls/x/networking-peregrine.config', 'gerrit/acls/x/spanner.config', 'gerrit/acls/x/marshal.config', 'gerrit/acls/starlingx/stx-puppet.config', 'gerrit/acls/x/vmware-vspc.config', 'gerrit/acls/airship/shipyard.config', 'gerrit/acls/pypa/project-config.config', 'gerrit/acls/airship/go-redfish.config', 'gerrit/acls/x/meghdwar.config', 'gerrit/acls/x/k8s-cloud-provider.config', 'gerrit/acls/starlingx/meta-starlingx.config', 'gerrit/acls/x/networking-bigswitch.config', 'gerrit/acls/opendev/puppet-subunit2sql.config', 'gerrit/acls/airship/kubernetes-entrypoint.config', 'gerrit/acls/opendev/publications.config', 'gerrit/acls/openstack/devstack-gate.config', 'gerrit/acls/opendev/afsmon.config', 'gerrit/acls/recordsansible/ansible-role-ara.config', 'gerrit/acls/x/conveyor.config', 'gerrit/acls/opendev/puppet-openstack_health.config', 'gerrit/acls/opendev/statusbot.config', 'gerrit/acls/opendev/puppet-unattended_upgrades.config', 'gerrit/acls/starlingx/test.config', 'gerrit/acls/airship/tempest-plugin.config', 'gerrit/acls/x/nova-solver-scheduler.config', 'gerrit/acls/x/cinder-fusioncompute.config', 'gerrit/acls/zuul/zuul-website.config', 'gerrit/acls/openstack/governance.config', 'gerrit/acls/x/git-repo-manifests.config', 'gerrit/acls/x/driverlog.config', 'gerrit/acls/opendev/puppet-kibana.config', 'gerrit/acls/x/pyghmi.config', 'gerrit/acls/x/puppet-midonet.config', 'gerrit/acls/opendev/puppet-askbot.config', 'gerrit/acls/starlingx/monitor-armada-app.config', 'gerrit/acls/x/neutron-interconnection.config', 'gerrit/acls/opendev/lodgeit.config', 'tools/normalize_acl.py', 'gerrit/acls/inaugust/inaugust.config', 'gerrit/acls/starlingx/zuul-jobs.config', 'gerrit/acls/x/openstack-mentoring-scripts.config', 'gerrit/acls/starlingx/upstream.config', 'gerrit/acls/vexxhost/vexxhost.config', 'gerrit/acls/openstack/logstash-filters.config', 'gerrit/acls/x/networking-huawei.config', 'gerrit/acls/airship/divingbell.config', 'gerrit/acls/x/ooi.config', 'gerrit/acls/starlingx/metrics-server-armada-app.config', 'gerrit/acls/opendev/dstat_graph.config', 'gerrit/acls/windmill/ansible-role-ansible.config', 'gerrit/acls/x/cisco-ironic-contrib.config', 'gerrit/acls/openstack/reviewstats.config', 'gerrit/acls/x/xenapi-os-testing.config', 'gerrit/acls/x/murano-plugin-networking-sfc.config', 'gerrit/acls/jjb/jenkins-job-builder.config', 'gerrit/acls/opendev/puppet-tmpreaper.config', 'gerrit/acls/x/siss.config', 'gerrit/acls/starlingx/manifest.config', 'gerrit/acls/x/k8s-docker-suite-app-murano.config', 'gerrit/acls/x/merlin.config', 'gerrit/acls/x/trio2o.config', 'gerrit/acls/x/horizon-mellanox.config', 'gerrit/acls/opendev/ansible-role-puppet.config', 'gerrit/acls/opendev/puppet-planet.config', 'gerrit/acls/windmill/ansible-role-nodepool.config', 'gerrit/acls/x/giftwrap.config', 'gerrit/acls/x/gabbi-tempest.config', 'gerrit/acls/openstack/publiccloud-sig.config', 'gerrit/acls/x/daisycloud-core.config', 'gerrit/acls/starlingx/config-files.config', 'gerrit/acls/starlingx/distcloud-client.config', 'gerrit/acls/x/nova-dpm.config', 'gerrit/acls/x/ansible-role-jenkins.config', 'gerrit/acls/x/tatu.config', 'gerrit/acls/opendev/puppet-log_processor.config', 'gerrit/acls/starlingx/helm-charts.config', 'gerrit/acls/windmill/ansible-role-gear.config', 'gerrit/acls/opendev/puppet-simpleproxy.config', 'gerrit/acls/starlingx/docs.config', 'gerrit/acls/starlingx/tools.config', 'gerrit/acls/openstack/requestsexceptions.config', 'gerrit/acls/x/networking-zte.config', 'gerrit/acls/x/inception.config', 'gerrit/acls/opendev/puppet-statusbot.config', 'gerrit/acls/x/networking-infoblox.config', 'gerrit/acls/x/steth.config', 'gerrit/acls/opendev/askbot-theme.config', 'gerrit/acls/x/novajoin.config', 'gerrit/acls/openstack/openstack-zuul-jobs.config', 'gerrit/acls/x/iotronic.config', 'gerrit/acls/x/jacket.config', 'gerrit/acls/starlingx/oidc-auth-armada-app.config', 'gerrit/acls/opendev/log_processor.config', 'gerrit/acls/x/networking-h3c.config', 'gerrit/acls/openinfra/refstack.config', 'gerrit/acls/x/meteos.config', 'gerrit/acls/opendev/puppet-bandersnatch.config', 'gerrit/acls/x/ironic-staging-drivers.config', 'gerrit/acls/x/devstack-plugin-hdfs.config', 'gerrit/acls/x/openstack-service-broker.config', 'gerrit/acls/windmill/ansible-role-boto3.config', 'gerrit/acls/openstack/meta-config.config', 'gerrit/acls/x/osel.config', 'gerrit/acls/starlingx/ptp-notification-armada-app.config', 'gerrit/acls/x/gos-brick.config', 'gerrit/acls/x/mogan.config', 'gerrit/acls/opendev/grafyaml.config', 'gerrit/acls/x/doc8.config', 'gerrit/acls/x/namos.config', 'gerrit/acls/airship/governance.config', 'gerrit/acls/windmill/ansible-role-zuul-registry.config', 'gerrit/acls/opendev/puppet-logrotate.config', 'gerrit/acls/starlingx/distcloud.config', 'gerrit/acls/x/apmec.config', 'gerrit/acls/x/turbo-hipster.config', 'gerrit/acls/opendev/gerritbot.config', 'gerrit/acls/windmill/windmill-ops.config', 'gerrit/acls/airship/docs.config', 'gerrit/acls/opendev/puppet-reviewday.config', 'gerrit/acls/openstack/project-team-guide.config', 'gerrit/acls/x/virtualpdu.config', 'gerrit/acls/windmill/ansible-role-zuul.config', 'gerrit/acls/x/ansible-role-jenkins-job-builder.config', 'gerrit/acls/starlingx/shared.config', 'gerrit/acls/x/performa.config', 'gerrit/acls/x/pandaman.config', 'gerrit/acls/windmill/ansible-role-logrotate.config', 'gerrit/acls/x/coupler.config', 'gerrit/acls/x/stackalytics.config', 'gerrit/acls/zuul/zuul-base-jobs.config', 'gerrit/acls/opendev/sandbox.config', 'gerrit/acls/openstack/upstream-institute-virtual-environment.config', 'gerrit/acls/windmill/ansible-role-statsd.config', 'gerrit/acls/x/networking-nec.config', 'gerrit/acls/x/vmware-nsx.config', 'gerrit/acls/x/distil.config', 'gerrit/acls/x/ospurge.config', 'gerrit/acls/opendev/irc-meetings.config', 'gerrit/acls/starlingx/gui.config', 'gerrit/acls/x/browbeat.config', 'gerrit/acls/airship/airshipctl.config', 'gerrit/acls/opendev/subunit2sql.config', 'gerrit/acls/opendev/puppet-ethercalc.config', 'gerrit/acls/x/networking-avaya.config']",481,c127f598f09917813a747540cb4a5d647649b583,release-acls,,createTag = group networking-avaya-release,0,481
openstack%2Ftripleo-validations~stable%2Fwallaby~I68eb2302c59e86429c4e60566c5a70300adb2548,openstack/tripleo-validations,stable/wallaby,I68eb2302c59e86429c4e60566c5a70300adb2548,Migrate jobs from CentOS 8 to CentOS 8 Stream,MERGED,2022-01-31 11:10:58.000000000,2022-02-01 17:01:59.000000000,2022-02-01 17:01:59.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-31 11:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/11a8398c885b4f3ead42cc50c8c0986e9afa8101', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I68eb2302c59e86429c4e60566c5a70300adb2548\n(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)\n'}, {'number': 2, 'created': '2022-01-31 12:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/552547a09d7aa926891365e25d4d3664ed219fec', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nConflicting change in zuul.d/base.yaml caused by job unique to master was eliminated.\n\nCo-authored-by: Jiri Podivin <jpodivin@redhat.com>\n\nChange-Id: I68eb2302c59e86429c4e60566c5a70300adb2548\n(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)\n'}, {'number': 3, 'created': '2022-01-31 12:28:00.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8567cade1c53124dd296ca9179f2644111c1abae', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nConflicts:\n\tzuul.d/base.yaml\n\tzuul.d/layout.yaml\n\nResolved conflicts caused by the following two changes which are not\npresent in stable/wallaby.\n\ncommit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d\nCoverage change job\n\ncommit: a6a8c7004c392863de3f224e511728a6f536f30c\nMultinode and provider jobs\n\nCo-authored-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68eb2302c59e86429c4e60566c5a70300adb2548\n(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)\n'}]",6,827054,8567cade1c53124dd296ca9179f2644111c1abae,17,4,3,32926,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Conflicts:
	zuul.d/base.yaml
	zuul.d/layout.yaml

Resolved conflicts caused by the following two changes which are not
present in stable/wallaby.

commit: 9ae4bd61f6c41ccaf05622feea2f3f774447cc7d
Coverage change job

commit: a6a8c7004c392863de3f224e511728a6f536f30c
Multinode and provider jobs

Co-authored-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68eb2302c59e86429c4e60566c5a70300adb2548
(cherry picked from commit 7c591cb49795b5162e4f2550435dd6260fdf69df)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/54/827054/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,11a8398c885b4f3ead42cc50c8c0986e9afa8101,remove-centos-8, nodeset: centos-8-stream - openstack-tox-py36 - openstack-tox-py39, nodeset: centos-8 - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^groups.yaml - ^molecule-requirements.txt - ^requirements.txt - ^README.rst,3,8
openstack%2Fvalidations-common~master~I6355c888a75ecb32206c4cb5c24e3806ab0a1d73,openstack/validations-common,master,I6355c888a75ecb32206c4cb5c24e3806ab0a1d73,feat(removal): tox-ansible support,MERGED,2022-01-19 14:29:46.000000000,2022-02-01 17:01:57.000000000,2022-02-01 17:01:57.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 14:29:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/88d23450511e6d1cef5fac380397e00c01b31e16', 'message': ""feat(removal): tox-ansible support\n\nThis patch removes the support of tox-ansible from\ntripleo-validations. Due to several issues with pip dependencies\nmanagement and our requirements files, the installation of this latter\ndoesn't work.\n\nChange-Id: I6355c888a75ecb32206c4cb5c24e3806ab0a1d73\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,825320,88d23450511e6d1cef5fac380397e00c01b31e16,8,5,1,11491,,,0,"feat(removal): tox-ansible support

This patch removes the support of tox-ansible from
tripleo-validations. Due to several issues with pip dependencies
management and our requirements files, the installation of this latter
doesn't work.

Change-Id: I6355c888a75ecb32206c4cb5c24e3806ab0a1d73
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/20/825320/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,88d23450511e6d1cef5fac380397e00c01b31e16,molecule-centos8,,requires = tox-ansible >= 1.4.0 [ansible] description = Used as base for all tox-ansible environments scenario_format = $parent-$nondefault_name deps = -c {env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt molecule_opts = --debug,0,12
openstack%2Fvalidations-common~master~Ia5ba005874a5cff3bdd94338f31a424f626e22e3,openstack/validations-common,master,Ia5ba005874a5cff3bdd94338f31a424f626e22e3,fix(molecule): Add ability to run molecule on Fedora,MERGED,2022-01-19 14:29:46.000000000,2022-02-01 17:01:56.000000000,2022-02-01 17:01:56.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 14:29:46.000000000', 'files': ['bindep.txt', 'ansible-collections-requirements.yml', 'README.rst', 'scripts/run-local-test'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3cfc3bf6fedf6a3feb1acc2a41988248f690acad', 'message': 'fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the README file to point\nout the developer to the molecule testing procedure hosted in\ntripleo-validations.\n\nChange-Id: Ia5ba005874a5cff3bdd94338f31a424f626e22e3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,825319,3cfc3bf6fedf6a3feb1acc2a41988248f690acad,8,5,1,11491,,,0,"fix(molecule): Add ability to run molecule on Fedora

This patch adds the support for running the molecule tests on Fedora through
the molecule command. This patch also updates the README file to point
out the developer to the molecule testing procedure hosted in
tripleo-validations.

Change-Id: Ia5ba005874a5cff3bdd94338f31a424f626e22e3
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/19/825319/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'ansible-collections-requirements.yml', 'README.rst', 'scripts/run-local-test']",4,3cfc3bf6fedf6a3feb1acc2a41988248f690acad,molecule-centos8,"ansible-galaxy install -fr ""${PROJECT_DIR}/ansible-collections-requirements.yml""",,21,17
openstack%2Fvalidations-common~master~Iebe2dbd45a82c9d3cc75c2f2c1c1ae0277dc4802,openstack/validations-common,master,Iebe2dbd45a82c9d3cc75c2f2c1c1ae0277dc4802,fix(ci): Install python3 package first,MERGED,2022-01-19 14:29:46.000000000,2022-02-01 17:01:54.000000000,2022-02-01 17:01:54.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 14:29:46.000000000', 'files': ['scripts/run-local-test'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/05cf32acc2c34d67e73b4833d884cfd25820effc', 'message': 'fix(ci): Install python3 package first\n\nThe run-local-test script is intended to be executed on a CentOS 8\nmachine. In case of a minimal installation, only the internal Python\ninterpreter is installed (/usr/libexec/platform-python). This patch\nmakes sure that the Python 3 package is installed first.\n\nChange-Id: Iebe2dbd45a82c9d3cc75c2f2c1c1ae0277dc4802\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,825318,05cf32acc2c34d67e73b4833d884cfd25820effc,8,5,1,11491,,,0,"fix(ci): Install python3 package first

The run-local-test script is intended to be executed on a CentOS 8
machine. In case of a minimal installation, only the internal Python
interpreter is installed (/usr/libexec/platform-python). This patch
makes sure that the Python 3 package is installed first.

Change-Id: Iebe2dbd45a82c9d3cc75c2f2c1c1ae0277dc4802
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/18/825318/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-local-test'],1,05cf32acc2c34d67e73b4833d884cfd25820effc,molecule-centos8," sudo ""${RHT_PKG_MGR}"" install -y python3 python*-virtualenv# Get Python Executable PYTHON_EXEC=$(command -v python3 || command -v python) ","PYTHON_EXEC=$(command -v python3 || command -v python) sudo ""${RHT_PKG_MGR}"" install -y python*-virtualenv",4,2
openstack%2Freleases~master~I021bd7bfb84e57f3538307cfe754cbfc67a7b5bf,openstack/releases,master,I021bd7bfb84e57f3538307cfe754cbfc67a7b5bf,Release kayobe for stable/victoria,MERGED,2022-01-21 13:07:21.000000000,2022-02-01 16:57:56.000000000,2022-02-01 16:57:56.000000000,"[{'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-21 13:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ea765798512b17f7ee8afe23ec351a1ea2bc4f5b', 'message': 'Release kayobe for stable/victoria\n\nThis release picks up new commits to kayobe since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 9.2.0..a91434f5\ne2605a2f Pin rich to <11 due to breaking ansible-lint in kayobe-tox-molecule\n07fd6259 Build neutron-sriov-agent image when enabled\n0cd50e8c [CI] Stop testing non-stream CentOS\n5e444b8a CI: Use correct TD agent repository version\nbe1d6adb Document that extra kernel parameters are important for inspection\nd4717fe1 Add support for Ironic inspection through DHCP-relay\nc048c257 Limit ip-routing and snat to seed hosts only\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I021bd7bfb84e57f3538307cfe754cbfc67a7b5bf\n'}, {'number': 2, 'created': '2022-01-24 10:45:03.000000000', 'files': ['deliverables/victoria/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb6c21eafbe8d40c528800c071b06e095ac1ea13', 'message': 'Release kayobe for stable/victoria\n\nThis release picks up new commits to kayobe since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 9.2.0..a91434f5\ne2605a2f Pin rich to <11 due to breaking ansible-lint in kayobe-tox-molecule\n07fd6259 Build neutron-sriov-agent image when enabled\n0cd50e8c [CI] Stop testing non-stream CentOS\n5e444b8a CI: Use correct TD agent repository version\nbe1d6adb Document that extra kernel parameters are important for inspection\nd4717fe1 Add support for Ironic inspection through DHCP-relay\nc048c257 Limit ip-routing and snat to seed hosts only\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I021bd7bfb84e57f3538307cfe754cbfc67a7b5bf\n'}]",3,825787,cb6c21eafbe8d40c528800c071b06e095ac1ea13,15,5,2,17685,,,0,"Release kayobe for stable/victoria

This release picks up new commits to kayobe since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 9.2.0..a91434f5
e2605a2f Pin rich to <11 due to breaking ansible-lint in kayobe-tox-molecule
07fd6259 Build neutron-sriov-agent image when enabled
0cd50e8c [CI] Stop testing non-stream CentOS
5e444b8a CI: Use correct TD agent repository version
be1d6adb Document that extra kernel parameters are important for inspection
d4717fe1 Add support for Ironic inspection through DHCP-relay
c048c257 Limit ip-routing and snat to seed hosts only

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I021bd7bfb84e57f3538307cfe754cbfc67a7b5bf
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/825787/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/kayobe.yaml'],1,ea765798512b17f7ee8afe23ec351a1ea2bc4f5b,victoria-stable, - version: 9.2.1 projects: - repo: openstack/kayobe hash: a91434f5595199c0d3a4a9f0aadd3e3e24c9889a - repo: openstack/kayobe-config-dev hash: 18cd3ed7a137195f9d1d35c1b13459e101854f8e,,6,0
openstack%2Ftripleo-validations~master~Icd22f6f010971a27d92d1b5210643e99f6cb7e08,openstack/tripleo-validations,master,Icd22f6f010971a27d92d1b5210643e99f6cb7e08,Interface xpath attribute read issue,MERGED,2022-01-06 08:53:23.000000000,2022-02-01 16:43:35.000000000,2022-02-01 16:41:12.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-06 08:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a4bee9e6782bf1697ff108f1cc8626aaf709202e', 'message': ""Interface xpath attribute 'type' missing issue\n\nThis interface xpath '/domain/devices/interface' attribute 'type'\nmay be missing in instance xml data and fails NFV zero packet loss\ncheck.\n\nCloses-Bug: #1953511\nChange-Id: Icd22f6f010971a27d92d1b5210643e99f6cb7e08\n""}, {'number': 2, 'created': '2022-01-06 09:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc5ffad4e05403741fcdd859098fe2b73f1799c1', 'message': ""Interface xpath attribute 'type' missing issue\n\nThis interface xpath '/domain/devices/interface' attribute 'type'\nmay be missing in instance xml data and fails NFV zero packet loss\ncheck.\n\nCloses-Bug: #1953511\nChange-Id: Icd22f6f010971a27d92d1b5210643e99f6cb7e08\n""}, {'number': 3, 'created': '2022-01-06 10:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c660c8942984180d3cadb060c93b5baf96bb1992', 'message': ""Interface xpath attribute 'type' read issue\n\nInterface xpath '/domain/devices/interface' attribute 'type'\nmay be missing in instance xml data, also reading attribute value\nerror due to module community.general.xml and fails NFV zero\npacket loss check.\n\nCloses-Bug: #1953511\nChange-Id: Icd22f6f010971a27d92d1b5210643e99f6cb7e08\n""}, {'number': 4, 'created': '2022-01-06 10:49:37.000000000', 'files': ['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/check_nfv_instances.yml', 'roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/validate_instance.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c9ae486d977b0305b8efc469d871bdba9b51624', 'message': ""Interface xpath attribute read issue\n\nInterface xpath '/domain/devices/interface' attribute 'type'\nmay be missing in instance xml data, also reading attribute value\nerrors due to module community.general.xml and fails NFV zero\npacket loss check.\n\nCloses-Bug: #1953511\nChange-Id: Icd22f6f010971a27d92d1b5210643e99f6cb7e08\n""}]",0,823639,7c9ae486d977b0305b8efc469d871bdba9b51624,11,6,4,22865,,,0,"Interface xpath attribute read issue

Interface xpath '/domain/devices/interface' attribute 'type'
may be missing in instance xml data, also reading attribute value
errors due to module community.general.xml and fails NFV zero
packet loss check.

Closes-Bug: #1953511
Change-Id: Icd22f6f010971a27d92d1b5210643e99f6cb7e08
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/39/823639/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/check_nfv_instances.yml'],1,a4bee9e6782bf1697ff108f1cc8626aaf709202e,interface_xpath_issue, ignore_errors: true,,1,0
openstack%2Freleases~master~I89288a464d9f937fe60631be07e805707c4d4e51,openstack/releases,master,I89288a464d9f937fe60631be07e805707c4d4e51,Release ovn-octavia-provider for stable/victoria,MERGED,2022-01-21 14:13:13.000000000,2022-02-01 16:42:41.000000000,2022-02-01 16:42:41.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-21 14:13:13.000000000', 'files': ['deliverables/victoria/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/57f7e9665bf38af52e75afa0dab5340aa100916d', 'message': 'Release ovn-octavia-provider for stable/victoria\n\nThis release picks up new commits to ovn-octavia-provider since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 0.4.0..62891fa\n62891fa Ensure that load balancer is added to logical switch\nf11eb74 Add log for request_handler events\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I89288a464d9f937fe60631be07e805707c4d4e51\n'}]",1,825809,57f7e9665bf38af52e75afa0dab5340aa100916d,9,8,1,17685,,,0,"Release ovn-octavia-provider for stable/victoria

This release picks up new commits to ovn-octavia-provider since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 0.4.0..62891fa
62891fa Ensure that load balancer is added to logical switch
f11eb74 Add log for request_handler events

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I89288a464d9f937fe60631be07e805707c4d4e51
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/825809/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ovn-octavia-provider.yaml'],1,57f7e9665bf38af52e75afa0dab5340aa100916d,victoria-stable, - version: 0.4.1 projects: - repo: openstack/ovn-octavia-provider hash: 62891fa3c29f1e2748250f65108f4383c6cce7fb,,4,0
openstack%2Freleases~master~I7ad7baccc1d092d6938e9231f68862e06c3e00ed,openstack/releases,master,I7ad7baccc1d092d6938e9231f68862e06c3e00ed,New neutron-lib release for victoria/wallaby/xena,MERGED,2022-02-01 07:06:51.000000000,2022-02-01 16:39:45.000000000,2022-02-01 16:39:45.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-01 07:06:51.000000000', 'files': ['deliverables/wallaby/neutron-lib.yaml', 'deliverables/xena/neutron-lib.yaml', 'deliverables/victoria/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/38ca2f881d32d97396a6458afebe62fcc92b02e6', 'message': ""New neutron-lib release for victoria/wallaby/xena\n\nIt's a bug fix release containing only two commits,\none fixes CI and other #1957175.\n\nChange-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed\n""}]",2,827212,38ca2f881d32d97396a6458afebe62fcc92b02e6,9,7,1,13861,,,0,"New neutron-lib release for victoria/wallaby/xena

It's a bug fix release containing only two commits,
one fixes CI and other #1957175.

Change-Id: I7ad7baccc1d092d6938e9231f68862e06c3e00ed
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/827212/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/neutron-lib.yaml', 'deliverables/xena/neutron-lib.yaml', 'deliverables/victoria/neutron-lib.yaml']",3,38ca2f881d32d97396a6458afebe62fcc92b02e6,new-neutron-lib-release, - version: 2.6.2 projects: - repo: openstack/neutron-lib hash: 0b9d8e399f845999668a9d7ceaa3a638fd1c399f,,12,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~I43af570860762269185f6d569d55c78e902dcc31,openstack/ovn-octavia-provider,stable/ussuri,I43af570860762269185f6d569d55c78e902dcc31,Return UnsupportedOptionError() on loadbalancer failover,ABANDONED,2022-02-01 16:21:01.000000000,2022-02-01 16:30:30.000000000,,[],"[{'number': 1, 'created': '2022-02-01 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/789e9bd70c8f66c35dc4e5432f20d01d42170ad7', 'message': ""Return UnsupportedOptionError() on loadbalancer failover\n\nThe core OVN code for Loadbalancers does not support a\nmanual failover from one gateway node to another. But\nrunning the command with the OVN provider driver seems\nto succeed:\n\n$ openstack loadbalancer failover $ID\n(no output)\n\nThe code actually does nothing and just returns the\nprovisioning status as ACTIVE.\n\nSince it's unsupported by the underlying technology,\nhave the provider driver return an UnsupportedOptionError().\n\nChange-Id: I6b41b59919494cb428e7429dea8160b4c958fa76\nCloses-bug: #1901936\n(manually cherry picked from commit a238fafcbf4e9466b93151f6c23821d5fdc21dcc)\n\nChange-Id: I43af570860762269185f6d569d55c78e902dcc31\n""}, {'number': 2, 'created': '2022-02-01 16:22:20.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8a76af7063ec10201fb967d30c3e73b37ecf5e7f', 'message': ""Return UnsupportedOptionError() on loadbalancer failover\n\nThe core OVN code for Loadbalancers does not support a\nmanual failover from one gateway node to another. But\nrunning the command with the OVN provider driver seems\nto succeed:\n\n$ openstack loadbalancer failover $ID\n(no output)\n\nThe code actually does nothing and just returns the\nprovisioning status as ACTIVE.\n\nSince it's unsupported by the underlying technology,\nhave the provider driver return an UnsupportedOptionError().\n\nCloses-bug: #1901936\n(manually cherry picked from commit a238fafcbf4e9466b93151f6c23821d5fdc21dcc)\n\nChange-Id: I43af570860762269185f6d569d55c78e902dcc31\n""}]",0,827317,8a76af7063ec10201fb967d30c3e73b37ecf5e7f,3,0,2,34451,,,0,"Return UnsupportedOptionError() on loadbalancer failover

The core OVN code for Loadbalancers does not support a
manual failover from one gateway node to another. But
running the command with the OVN provider driver seems
to succeed:

$ openstack loadbalancer failover $ID
(no output)

The code actually does nothing and just returns the
provisioning status as ACTIVE.

Since it's unsupported by the underlying technology,
have the provider driver return an UnsupportedOptionError().

Closes-bug: #1901936
(manually cherry picked from commit a238fafcbf4e9466b93151f6c23821d5fdc21dcc)

Change-Id: I43af570860762269185f6d569d55c78e902dcc31
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/827317/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,789e9bd70c8f66c35dc4e5432f20d01d42170ad7,stableussuri," pool_listeners = [] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = [] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status msg = _('OVN provider does not support loadbalancer failover') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)","REQ_TYPE_LB_FAILOVER = 'lb_failover' REQ_TYPE_LB_FAILOVER: self.lb_failover, def lb_failover(self, loadbalancer): status = { 'loadbalancers': [{'id': loadbalancer['id'], 'provisioning_status': constants.ACTIVE}]} return status try: listener_id = None listener_id = key.split('_')[1] if listener_id: status['listeners'] = [{ 'id': listener_id, 'provisioning_status': constants.ACTIVE}] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {'id': listener, 'provisioning_status': constants.ACTIVE}) status['listeners'] = listener_status request_info = {'id': loadbalancer_id} request = {'type': REQ_TYPE_LB_FAILOVER, 'info': request_info} self._ovn_helper.add_request(request)",54,61
openstack%2Ftempest~master~I30ff257dd5fc7c7c164508205266865619bf06f0,openstack/tempest,master,I30ff257dd5fc7c7c164508205266865619bf06f0,Convert rand_int_id() result to str correctly,ABANDONED,2022-02-01 15:28:14.000000000,2022-02-01 16:08:39.000000000,,[{'_account_id': 9708}],"[{'number': 1, 'created': '2022-02-01 15:28:14.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5b0f8beaefb31f2dab2857b87d100a0e4a1c5f5', 'message': 'Convert rand_int_id() result to str correctly\n\nIn cae966812, for certain resize tests, we started adding a numeric ID\nto the new flavor name to avoid collisions. This was incorrectly done\nas a string + int concatenation, which is raising a `TypeError: can\nonly concatenate str (not ""int"") to str`. Start doing string\ninterpolation instead.\n\nChange-Id: I30ff257dd5fc7c7c164508205266865619bf06f0\nCloses-bug: 1959682\n'}]",1,827305,c5b0f8beaefb31f2dab2857b87d100a0e4a1c5f5,4,1,1,8864,,,0,"Convert rand_int_id() result to str correctly

In cae966812, for certain resize tests, we started adding a numeric ID
to the new flavor name to avoid collisions. This was incorrectly done
as a string + int concatenation, which is raising a `TypeError: can
only concatenate str (not ""int"") to str`. Start doing string
interpolation instead.

Change-Id: I30ff257dd5fc7c7c164508205266865619bf06f0
Closes-bug: 1959682
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/827305/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_qos_placement.py'],1,c5b0f8beaefb31f2dab2857b87d100a0e4a1c5f5,," 'name': '%sextra-%s' % (old_flavor['name'], data_utils.rand_int_id())"," 'name': old_flavor['name'] + 'extra-' + data_utils.rand_int_id(),",2,1
openstack%2Fvalidations-libs~master~Ia492b53f170d65f712a182a545ef09217449648c,openstack/validations-libs,master,Ia492b53f170d65f712a182a545ef09217449648c,Fix community init to respect cfg paths,MERGED,2022-01-19 17:08:36.000000000,2022-02-01 16:01:51.000000000,2022-02-01 15:59:14.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 17:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3d5c3f5910937c527cab9aa70fce0c2405b28998', 'message': 'Fix communitity init to respect cfg paths\n\nThe validation init did not respect the paths set on the\nconfig file. Now it does.\n\nResolves: rhbz#2031069\n\nChange-Id: Ia492b53f170d65f712a182a545ef09217449648c\n'}, {'number': 2, 'created': '2022-01-19 21:55:49.000000000', 'files': ['validations_libs/cli/community.py', 'validations_libs/community/init_validation.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1c89a4d7cec71d943ba4f0fdc7bfa307342297ba', 'message': 'Fix community init to respect cfg paths\n\nThe validation init did not respect the paths set on the\nconfig file. Now it does.\n\nResolves: rhbz#2031069\n\nChange-Id: Ia492b53f170d65f712a182a545ef09217449648c\n'}]",6,825348,1c89a4d7cec71d943ba4f0fdc7bfa307342297ba,15,5,2,15895,,,0,"Fix community init to respect cfg paths

The validation init did not respect the paths set on the
config file. Now it does.

Resolves: rhbz#2031069

Change-Id: Ia492b53f170d65f712a182a545ef09217449648c
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/48/825348/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/community.py', 'validations_libs/community/init_validation.py']",2,3d5c3f5910937c527cab9aa70fce0c2405b28998,fix_init_paths," def __init__( self, validation_name, validation_dir=constants.ANSIBLE_VALIDATION_DIR, ansible_base_dir=constants.DEFAULT_VALIDATIONS_BASEDIR): self.validation_dir = validation_dir self.ansible_base_dir = ansible_base_dir roles_dir = ""{}roles/"".format(self.ansible_base_dir) if Path(roles_dir).exists(): for x in Path(roles_dir).iterdir() if Path(self.validation_dir).exists(): for x in Path(self.validation_dir).iterdir()"," def __init__(self, validation_name): if Path(constants.ANSIBLE_ROLES_DIR).exists(): for x in Path(constants.ANSIBLE_ROLES_DIR).iterdir() if Path(constants.ANSIBLE_VALIDATION_DIR).exists(): for x in Path(constants.ANSIBLE_VALIDATION_DIR).iterdir()",29,9
openstack%2Ftripleo-docs~master~Ic8680b3e3f57a9421e003d05f083a139e562d748,openstack/tripleo-docs,master,Ic8680b3e3f57a9421e003d05f083a139e562d748,Remove 'subnet' from net-iso bm-deploy example,MERGED,2022-02-01 08:35:59.000000000,2022-02-01 16:01:20.000000000,2022-02-01 15:58:24.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 08:35:59.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3ec1e0a3171a4cfb87b2b708c5f45fd91d9fc4f0', 'message': ""Remove 'subnet' from net-iso bm-deploy example\n\nDue to a limitation in metalsmith it is not possible\nto specify both a network and a subnet for vif: true\nports in baremetal_deployment.yaml. See:\nhttps://storyboard.openstack.org/#!/story/2009732\n\nRemove the `subnet` key from the doc example.\n\nChange-Id: Ic8680b3e3f57a9421e003d05f083a139e562d748\n""}]",1,827218,3ec1e0a3171a4cfb87b2b708c5f45fd91d9fc4f0,9,4,1,24245,,,0,"Remove 'subnet' from net-iso bm-deploy example

Due to a limitation in metalsmith it is not possible
to specify both a network and a subnet for vif: true
ports in baremetal_deployment.yaml. See:
https://storyboard.openstack.org/#!/story/2009732

Remove the `subnet` key from the doc example.

Change-Id: Ic8680b3e3f57a9421e003d05f083a139e562d748
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/18/827218/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,3ec1e0a3171a4cfb87b2b708c5f45fd91d9fc4f0,fix-ctlplane-example-cannot-have-both-subnet-and-network,, subnet: ctlplane-subnet subnet: ctlplane-subnet,0,2
openstack%2Fnova-specs~master~Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d,openstack/nova-specs,master,Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d,add per process healthcheck spec,MERGED,2021-12-09 19:28:56.000000000,2022-02-01 16:00:58.000000000,2022-01-13 15:50:44.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-09 19:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/201fa69c2a49f9b84433d5b9da3de79bac4f5403', 'message': 'add per process healthcheck spec\n\nChange-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d\n'}, {'number': 2, 'created': '2021-12-14 00:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/53a435c851486d2b09314148e18cbf8fd14b4372', 'message': 'add per process healthcheck spec\n\nChange-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d\n'}, {'number': 3, 'created': '2021-12-17 17:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8682a4b4d9a966b7e2757c1ac0482602ff366d04', 'message': 'add per process healthcheck spec\n\nChange-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d\n'}, {'number': 4, 'created': '2022-01-12 23:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bfd019cc059f578a2632869d2f180ec078d6f109', 'message': 'add per process healthcheck spec\n\nChange-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d\n'}, {'number': 5, 'created': '2022-01-13 12:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/53d7a81be56be491b39d9146bc412354c58dffea', 'message': 'add per process healthcheck spec\n\nChange-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d\n'}, {'number': 6, 'created': '2022-01-13 15:08:45.000000000', 'files': ['specs/yoga/approved/per-process-healthchecks.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/51c3a1560893a830f428b8e4b7aebe8536678b66', 'message': 'add per process healthcheck spec\n\nChange-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d\n'}]",196,821279,51c3a1560893a830f428b8e4b7aebe8536678b66,40,5,6,11604,,,0,"add per process healthcheck spec

Change-Id: Ie3d4013ac78dd9daf5e42998aea2a8bed257a71d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/79/821279/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/per-process-healthchecks.rst'],1,201fa69c2a49f9b84433d5b9da3de79bac4f5403,per-process-healthchecks,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Per Process Healthcheck endpoints ================================= https://blueprints.launchpad.net/nova/+spec/per-process-healthchecks In many modern deployment frameworks there is an expectation that an application can expose a health-check endpoint so that the binary status can be monitored. Nova currently does not provide a way to inspect the health of its binary which complicates cloud monitoring and maintenance. This blueprint seeks to expose a local health-check endpoint to address this feature gap. Problem description =================== To monitor the health of a nova service today requires experience to develop and implement a series of external heuristics to infer the state of the service binaries. This can be as simple as check the service status for those with heartbeats or can comprise monitoring log output via a watch dog and restarting the service if no output is detected after a protracted period of time. processing the logs of know error messages and executing a remediation script or other methods that are easy to do incorrectly are also common. This is also quite unfriendly to new nova user who have not gained enough experience with operating nova to know what warning signs they should look for such as inability to connect to the message bus. Nova developer however do know what some of the important health indicators are and can expose those as a local healthcare endpoint which operators can use instead. Use Cases --------- As a operator i want a simple health-check i can consume to know if a nova process is OK, Degraded or Faulty. As an operator i want this health-check to not impact performance of the service so it can be queried frequently at short intervals. As a deployment tool implementer i want the health check to be local with no dependencies on other hosts or services to function so i can integrate it with service managers such as systemd or container runtime like docker As a packager i would like health-check to not require special client or packages consume them. CURL, socat or netcat should be all that is required to connect to the health check and retrieve the service status. As an operator i would like to be able to use health-check of the nova api and metadata services to manage the membership of endpoints in my load-balancer or reverse proxy automatically. Proposed change =============== A new top level nova.healthcheck module will be created to encapsulate the common code and data stucture required to implemente this feature. A new healthcheck manager class will be intoduced which will maintain the healt-check state and all fucntion related to retriving, updating and summerising that state. The healtcheck manager will be reposible for creating the health-check endpoint when it is enabled in the nova.conf and exposing the healthcheck over http. The initial implementation will support http over tcp with optional support for unix domain sockets as a more secure alternative to be added later. The http endpoint in both cases will be unauthenticated and the response will be in json format. The http web server will be provide by the eventlet using https://eventlet.net/doc/modules/wsgi.html#eventlet.wsgi.server A new HealthcheckStausItem dataclass will be intoduced to store and indivugal healthcheck datapoint. The HealtcheckSTatusItem will contain the name of the healthcheck, its status as a bool, the time it was recorded, a time to live and an optional details string that should be populated if the status is False. Alternatives ------------ Instead of maintaining the sate of the process in a data structure and returning the cached sate we could implement the health-check as a series of active probes such as checking the DB schema version to ensure we can access it or making a ping RPC call to the cell conductor or to our own services RPC endpoint. While this approach has some advantages it will have a negative performance impact if the health-check is queried frequently or in large deployment where infrequent queries may still degrade the DB and message bus performance due to the scale of the deployment. Data model impact ----------------- The nova context object will be extended to store a reference to the healtcheck manager REST API impact --------------- None While this change will expose a new rest api endpoint it will not be part of the existing nova api. The /healthcheck route will not initially be used to allow those that already enable the oslo middleware to continue to do so. In a future release nova reserves the right to add a /healtcheck endpoint that may or may not correspond to the responce format defined in oslo. A translation between the oslo response format and the healthcheck module may be provided in the future but it is out of scope of this spec. Security impact --------------- The new healthcheck endpoint will be disabled by default. when enabled it will not provide any authentication or explicit access control. The documentation will detail that when enabled the tcp endpoint should be bound to ``localhost`` and that file system permission should be used to secure the unix socket. The tcp configuration option will not prevent you form binding it to a routeable ip if the operator chooses to do so. The intent is that the data contained in the endpoint will be non privileged however it may contain Hostnames/FQDNs or other infrastructure information such as service UUIDs so it should not be accessible from the internet. Notifications impact -------------------- None While the healtchecks may use the ability to send notrication as an input to the health of the system it will not impact the Notification subsystem in nova. Other end user impact --------------------- None At present it is not planned to extned nova client or the unified client to query the new endpoint. CURL, SOCAT or any other unix socket or http client can be used to invoke the endpoint. Performance Impact ------------------ None We expect there to be little or no performance impact as we will be taking a minimally invasive approach to adding health indicators to key functions which will be cached in memory. while this will slightly increase memory usage there is no expected impact to system performance. Other deployer impact --------------------- A single new config option uri will be added to a new healtcheck section in the nova.conf. The config option will be a sting opt that supports a comma separated list of URIs with the following format uri=<protocol>://[host:port|path],<protocol>://[host:port|path] e.g. [healthcheck] uri=tcp://localhost:424242 [healthcheck] uri=unix:///run/nova/nova-compute.sock [healthcheck] uri=tcp://localhost:424242,unix:///run/nova/nova-compute.sock the uri should be limited to the following charterers ``[a-zA-Z0-9_-]`` ``,`` is reserved as a seperation charterer, ``.`` may only be used in ipv4 addresses ``:`` is reserved for port seperation unless the address is an ipv6 address. ipv6 addresses must be enclosed in ``[`` and ``]``. ``/`` may be used with the unix protocol however relative paths are not supported. Developer impact ---------------- Developers should be aware of the new decorator and consider if it should be added to more functions if that function is an indicator of the system health. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: sean-k-mooney Other contributors: None Feature Liaison --------------- Feature liaison: sean-k-mooney Work Items ---------- * add new module * intoduce decorator * extend context object to store reference to healtcheck manager. * add config option * expose tcp endpoint * expose unix socket endpoint supprot * add docs Dependencies ============ None Testing ======= This can be tested entirely with unit and functional tests however devstack can be extended to expose the endpoint and a simple post action could be added to a job if desired. Documentation Impact ==================== The config option will be documented in the config reference and a release note will be added for the feature. References ========== * yoga ptg topic: https://etherpad.opendev.org/p/r.e70aa851abf8644c29c8abe4bce32b81#L415 History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced ",,284,0
openstack%2Fcharm-openstack-dashboard~master~I0862a628e8fd93aecb7eb2ac54594b34b028cbe1,openstack/charm-openstack-dashboard,master,I0862a628e8fd93aecb7eb2ac54594b34b028cbe1,Streamline the custom theme steps in README.md,MERGED,2022-01-31 07:24:05.000000000,2022-02-01 15:59:27.000000000,2022-02-01 15:59:27.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-01-31 07:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/95a131a93da622d198f5db4e7dae6bd901b388f6', 'message': 'Streamline the custom theme steps in README.md\n\n""default-theme"" is nothing to do with adding the custom theme into\navailable themes.\n\nChange-Id: I0862a628e8fd93aecb7eb2ac54594b34b028cbe1\n'}, {'number': 2, 'created': '2022-01-31 12:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/0696f6722cb80fb3fd753e81c732f7967d226d7a', 'message': 'Streamline the custom theme steps in README.md\n\n""default-theme"" is nothing to do with adding the custom theme into\navailable themes.\n\nChange-Id: I0862a628e8fd93aecb7eb2ac54594b34b028cbe1\n'}, {'number': 3, 'created': '2022-02-01 10:15:20.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/82897f8f5fde0ef2c639b18a2499d2f033ce37c5', 'message': 'Streamline the custom theme steps in README.md\n\n""default-theme"" is nothing to do with adding the custom theme into\navailable themes.\n\nChange-Id: I0862a628e8fd93aecb7eb2ac54594b34b028cbe1\n'}]",1,826992,82897f8f5fde0ef2c639b18a2499d2f033ce37c5,13,3,3,8108,,,0,"Streamline the custom theme steps in README.md

""default-theme"" is nothing to do with adding the custom theme into
available themes.

Change-Id: I0862a628e8fd93aecb7eb2ac54594b34b028cbe1
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/92/826992/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,95a131a93da622d198f5db4e7dae6bd901b388f6,,"'ubuntu-theme' must be turned off and the option 'custom-theme' turned on. juju config openstack-dashboard ubuntu-theme=no juju config openstack-dashboard custom-theme=trueOptionally, the uploaded custom theme can be set as the default theme. juju config openstack-dashboard default-theme='custom' ",'ubuntu-theme' and 'default-theme' must both be turned off and the option 'custom-theme' turned on.,8,2
openstack%2Fironic-python-agent~master~I2446afeaca866ffc3131b5e9f266526f35fc5ed7,openstack/ironic-python-agent,master,I2446afeaca866ffc3131b5e9f266526f35fc5ed7,Make the standalone job voting again,MERGED,2022-02-01 09:15:10.000000000,2022-02-01 15:41:09.000000000,2022-02-01 15:32:37.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 09:15:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b921b761679df06afe19ac6f570f66fa1fdcf371', 'message': ""Make the standalone job voting again\n\nWe forgot to revert it. This job covers software RAID and manual\ncleaning, so it's very important to avoid regressions, even if it costs\nus some rechecks from time to time.\n\nChange-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7\n""}]",0,827229,b921b761679df06afe19ac6f570f66fa1fdcf371,8,3,1,10239,,,0,"Make the standalone job voting again

We forgot to revert it. This job covers software RAID and manual
cleaning, so it's very important to avoid regressions, even if it costs
us some rechecks from time to time.

Change-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/29/827229/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b921b761679df06afe19ac6f570f66fa1fdcf371,gate, - ironic-standalone-ipa-src - ironic-standalone-ipa-src," # NOTE(TheJulia): The cleaning tests run in standalone job has a # high failure rate due to possible race during long running steps # like deployment with raid setup. While we're working on a fix, # we also need to fix IPA and Ironic itself, so this is as a result # temporary. - ironic-standalone-ipa-src: voting: false",2,7
openstack%2Fansible-role-pki~master~I862b5fc0f9c1a9e0599cdfe3171b09071134d384,openstack/ansible-role-pki,master,I862b5fc0f9c1a9e0599cdfe3171b09071134d384,WIP - Initial code to create SSH keypairs and certificates,ABANDONED,2022-01-13 16:51:52.000000000,2022-02-01 15:32:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-13 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/3f5647561e1fdbc722feb640d327d6602566e467', 'message': 'WIP - Initial code to create SSH keypairs and certificates\n\nChange-Id: I862b5fc0f9c1a9e0599cdfe3171b09071134d384\n'}, {'number': 2, 'created': '2022-01-13 17:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/ac85dda00251d795195987fb5e6215123c6c80d5', 'message': 'WIP - Initial code to create SSH keypairs and certificates\n\nChange-Id: I862b5fc0f9c1a9e0599cdfe3171b09071134d384\n'}, {'number': 3, 'created': '2022-01-13 17:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/249b99686a0acf4235c1dfd4ad092c1763951530', 'message': 'WIP - Initial code to create SSH keypairs and certificates\n\nChange-Id: I862b5fc0f9c1a9e0599cdfe3171b09071134d384\n'}, {'number': 4, 'created': '2022-01-13 17:59:19.000000000', 'files': ['tasks/main_keypairs.yml', 'vars/standalone_keypair.yml', 'defaults/main.yml', 'tasks/standalone/create_keypair.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/d9d2c9180b88e518dc70fd6a0af034bedb27f081', 'message': 'WIP - Initial code to create SSH keypairs and certificates\n\nChange-Id: I862b5fc0f9c1a9e0599cdfe3171b09071134d384\n'}]",1,824609,d9d2c9180b88e518dc70fd6a0af034bedb27f081,7,1,4,25023,,,0,"WIP - Initial code to create SSH keypairs and certificates

Change-Id: I862b5fc0f9c1a9e0599cdfe3171b09071134d384
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/09/824609/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main_keypairs.yml', 'vars/standalone_keypair.yml', 'tasks/standalone/create_keypair.yml']",3,3f5647561e1fdbc722feb640d327d6602566e467,,"--- # Copyright 2022, BBC # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create keypair {{ kp.name }} vars: ansible_python_interpreter: ""{{ pki_setup_host_python_interpreter }}"" _ca_file: ""{{ pki_dir ~ '/roots/' ~ kp.signed_by ~ '/private/' ~ kp.signed_by ~ '.key.pem' }}"" delegate_to: ""{{ pki_setup_host }}"" block: - name: Generate key pair for {{ kp['name'] }} community.crypto.openssh_keypair: path: ""{{ kp_dir ~ '/' ~ kp['name'] }}"" register: kp_keys - name: Generate an OpenSSH user certificate that is valid forever and for all users community.crypto.openssh_cert: type: user signing_key: ""{{ _ca_file }}"" public_key: ""{{ kp_keys.filename ~ '.pub' }}"" path: ""{{ kp_keys.filename ~ '-cert.pub' }}"" valid_from: always valid_to: forever",,92,0
openstack%2Fcharm-deployment-guide~master~Ibfee80a051f349154f4753689f28280f510a7162,openstack/charm-deployment-guide,master,Ibfee80a051f349154f4753689f28280f510a7162,Replace Percona XtraDB with MySQL InnoDB Cluster,MERGED,2022-01-31 13:19:23.000000000,2022-02-01 15:30:02.000000000,2022-02-01 15:27:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30534}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-31 13:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3e78317e5fece46f3424ada9830edde17734aab6', 'message': 'Replace Percona XtraDB with MySQL InnoDB Cluster\n\nStarting from Ubuntu 20.04 LTS (Focal) percona-cluster charm is no\nlonger supported. Deployments have been using mysql-innodb-cluster\ncharm instead. This update addresses corresponding documentation\nchanges.\n\nCloses-Bug: #1949240\nChange-Id: Ibfee80a051f349154f4753689f28280f510a7162\n'}, {'number': 2, 'created': '2022-02-01 13:06:15.000000000', 'files': ['deploy-guide/source/nova-cells.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/296535ad2f04fd749120cbd69d4f72592bb16597', 'message': 'Replace Percona XtraDB with MySQL InnoDB Cluster\n\nStarting from Ubuntu 20.04 LTS (Focal) percona-cluster charm is no\nlonger supported. Deployments have been using mysql-innodb-cluster\ncharm instead. This update addresses corresponding documentation\nchanges.\n\nAlso aligned all `code` and `note` blocks according to the guidelines.\n\nCloses-Bug: #1949240\nChange-Id: Ibfee80a051f349154f4753689f28280f510a7162\n'}]",8,827081,296535ad2f04fd749120cbd69d4f72592bb16597,13,4,2,30534,,,0,"Replace Percona XtraDB with MySQL InnoDB Cluster

Starting from Ubuntu 20.04 LTS (Focal) percona-cluster charm is no
longer supported. Deployments have been using mysql-innodb-cluster
charm instead. This update addresses corresponding documentation
changes.

Also aligned all `code` and `note` blocks according to the guidelines.

Closes-Bug: #1949240
Change-Id: Ibfee80a051f349154f4753689f28280f510a7162
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/81/827081/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/nova-cells.rst'],1,3e78317e5fece46f3424ada9830edde17734aab6,bug/1949240,* mysql-innodb-cluster.. note:: Prior to Ubuntu 20.04 LTS (Focal) percona-cluster charm should be used as a database provider instead of mysql-innodb-cluster charm (see :doc:`percona-cluster charm: series upgrade to focal <percona-series-upgrade-to-focal>`). juju deploy -n 3 ch:mysql-innodb-cluster mysql-innodb-cluster-cell2 juju deploy ch:mysql-router nova-cell-controller-cell2-mysql-router juju deploy ch:rabbitmq-server rabbitmq-server-nova-cell2 juju deploy ch:nova-compute nova-compute-cell2 juju deploy ch:nova-cell-controller --config cell-name='cell2' nova-cell-controller-cell2 .. note:: mysql-innodb-cluster charm deploys HA MySQL database cluster therefore it requires at least three units. juju add-relation nova-cell-controller-cell2:shared-db nova-cell-controller-cell2-mysql-router:shared-db juju add-relation nova-cell-controller-cell2-mysql-router:db-router mysql-innodb-cluster-cell2:db-router juju add-relation nova-cloud-controller:shared-db-cell nova-cell-controller-cell2-mysql-router:shared-db juju add-relation nova-cell-controller-cell2:identity-credentials keystone:identity-credentials mysql-innodb-cluster-cell2: charm: ch:mysql-innodb-cluster num_units: 3 nova-cell-controller-cell2-mysql-router: charm: ch:mysql-router num_units: 1 options: base-port: 3316 nova-cell-controller-cell2: charm: ch:nova-cell-controller charm: ch:nova-compute charm: ch:rabbitmq-server - - nova-compute-cell2:image-service - glance:image-service - - nova-compute-cell2:cloud-credentials - keystone:identity-credentials - - nova-cell-controller-cell2:identity-credentials - keystone:identity-credentials - nova-cell-controller-cell2-mysql-router:shared-db - nova-cell-controller-cell2-mysql-router:shared-db - - nova-cell-controller-cell2-mysql-router:db-router - mysql-innodb-cluster-cell2:db-router - - nova-cell-controller-cell2:cloud-compute - nova-compute-cell2:cloud-compute - - ceilometer:amqp-listener - rabbitmq-server-nova-cell2::amqp - - ceilometer-agent:nova-ceilometer - nova-compute-cell2::nova-ceilometer,* percona-cluster juju deploy cs:percona-cluster mysql-cell2 juju deploy cs:rabbitmq-server rabbitmq-server-nova-cell2 juju deploy cs:nova-compute nova-compute-cell2 juju deploy cs:nova-cell-controller --config cell-name='cell2' nova-cell-controller-cell2 juju add-relation nova-cell-controller-cell2:shared-db mysql-cell2:shared-db juju add-relation nova-cloud-controller:shared-db-cell mysql-cell2:shared-db mysql-cell2: charm: cs:percona-cluster series: bionic num_units: 1 nova-cell-controller-cell2: charm: cs:nova-cell-controller series: bionic charm: cs:nova-compute series: bionic charm: cs:rabbitmq-server - - ceilometer:amqp-listener - rabbitmq-server-nova-cell2 - - ceilometer-agent - nova-compute-cell2 - mysql-cell2:shared-db - - nova-cloud-controller:amqp-cell - rabbitmq-server-nova-cell2:amqp - - nova-cell-controller-cell2:cloud-compute - nova-compute-cell2:cloud-compute - - nova-compute-cell2:image-service - glance:image-service - mysql-cell2:shared-db - - nova-compute-cell2:cloud-credentials - keystone:identity-credentials,48,31
openstack%2Fpython-openstackclient~master~Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28,openstack/python-openstackclient,master,Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28,openstack image create: honor protection/visibility flags,MERGED,2021-05-04 23:37:39.000000000,2022-02-01 15:27:01.000000000,2021-08-26 08:02:34.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-04 23:37:39.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3918622968073738e8fa17eec8bf5512ed609af9', 'message': 'openstack image create: honor protection/visibility flags\n\nThe --protected, --unprotected, --public, --shared, --community,\n--private flags were ignored when using --volume.\n\nChange-Id: Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28\nStory: 2008882\n'}]",1,789649,3918622968073738e8fa17eec8bf5512ed609af9,15,2,1,8122,,,0,"openstack image create: honor protection/visibility flags

The --protected, --unprotected, --public, --shared, --community,
--private flags were ignored when using --volume.

Change-Id: Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28
Story: 2008882
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/789649/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,3918622968073738e8fa17eec8bf5512ed609af9,story/2008882," visibility=kwargs.get('visibility', 'private'), protected=True if parsed_args.protected else False",,2,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I2192d3481d790c11b110bf10082b3efeade75463,openstack/kolla-ansible,stable/wallaby,I2192d3481d790c11b110bf10082b3efeade75463,prometheus: add tls_connect blackbox module,MERGED,2022-01-28 13:41:53.000000000,2022-02-01 15:24:41.000000000,2022-02-01 15:21:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-28 13:41:53.000000000', 'files': ['releasenotes/notes/blackbox-tls-connect-517cd8ebdf87f16e.yaml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25b00b5cfea924ca81b55c25cf2e4335993e8e79', 'message': 'prometheus: add tls_connect blackbox module\n\nThis allows checking of TLS servers. It can be useful to check\nRabbitMQ TLS, including certificate expiry.\n\nChange-Id: I2192d3481d790c11b110bf10082b3efeade75463\n(cherry picked from commit 94c6b8e220ad2d7ecf4664e566eb08f8f7592f69)\n'}]",0,826841,25b00b5cfea924ca81b55c25cf2e4335993e8e79,9,3,1,14826,,,0,"prometheus: add tls_connect blackbox module

This allows checking of TLS servers. It can be useful to check
RabbitMQ TLS, including certificate expiry.

Change-Id: I2192d3481d790c11b110bf10082b3efeade75463
(cherry picked from commit 94c6b8e220ad2d7ecf4664e566eb08f8f7592f69)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/826841/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/blackbox-tls-connect-517cd8ebdf87f16e.yaml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.yml.j2']",2,25b00b5cfea924ca81b55c25cf2e4335993e8e79,, tls_connect: prober: tcp tcp: tls: true,,9,0
openstack%2Fopenstack-ansible~master~Ic75d7c2f652baf1fa5b77a7b0a797b767a663931,openstack/openstack-ansible,master,Ic75d7c2f652baf1fa5b77a7b0a797b767a663931,Increase default ansible forks from 5 to 20,NEW,2020-06-22 06:56:20.000000000,2022-02-01 15:24:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-22 06:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/be221d6a39155e270b73c5d38947e86e97044c84', 'message': 'Increase default ansible forks from 5 to 20\n\nThis reduces the runtime of playbooks/lxc-container-create.yml from\n5m23s to 4m18s for a re-run on an already deployed AIO.\n\nDepends-On: https://review.opendev.org/737220\nChange-Id: Ic75d7c2f652baf1fa5b77a7b0a797b767a663931\n'}, {'number': 2, 'created': '2020-06-22 07:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a5346a83b89418ed1a11ea3cd5ccc9b913ad19c', 'message': 'Increase default ansible forks from 5 to 20\n\nThis reduces the runtime of playbooks/lxc-container-create.yml from\n5m23s to 4m18s for a re-run on an already deployed AIO.\n\nThe scripts library code is simplified to remove a max limit of 10\non the number of forks, as tests/bootstrap-aio.yml is incresing the\nssh MaxSessions to 100.\n\nDepends-On: https://review.opendev.org/737220\nChange-Id: Ic75d7c2f652baf1fa5b77a7b0a797b767a663931\n'}, {'number': 3, 'created': '2020-10-15 08:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/280fd8f7f6a43e7397a3ab82930fb4feab1884f5', 'message': 'Increase default ansible forks from 5 to 20\n\nThis reduces the runtime of playbooks/lxc-container-create.yml from\n5m23s to 4m18s for a re-run on an already deployed AIO.\n\nThe scripts library code is simplified to remove a max limit of 10\non the number of forks, as tests/bootstrap-aio.yml is incresing the\nssh MaxSessions to 100.\n\nDepends-On: https://review.opendev.org/758364/\nChange-Id: Ic75d7c2f652baf1fa5b77a7b0a797b767a663931\n'}, {'number': 4, 'created': '2020-10-15 08:30:56.000000000', 'files': ['scripts/scripts-library.sh', 'scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/92e05e0a5f2adf8af2941df6bc65947b02c550c1', 'message': 'Increase default ansible forks from 5 to 20\n\nThis reduces the runtime of playbooks/lxc-container-create.yml from\n5m23s to 4m18s for a re-run on an already deployed AIO.\n\nThe scripts library code is simplified to remove a max limit of 10\non the number of forks, as tests/bootstrap-aio.yml is incresing the\nssh MaxSessions to 100.\n\nDepends-On: https://review.opendev.org/758364/\nChange-Id: Ic75d7c2f652baf1fa5b77a7b0a797b767a663931\n'}]",0,737221,92e05e0a5f2adf8af2941df6bc65947b02c550c1,16,3,4,25023,,,0,"Increase default ansible forks from 5 to 20

This reduces the runtime of playbooks/lxc-container-create.yml from
5m23s to 4m18s for a re-run on an already deployed AIO.

The scripts library code is simplified to remove a max limit of 10
on the number of forks, as tests/bootstrap-aio.yml is incresing the
ssh MaxSessions to 100.

Depends-On: https://review.opendev.org/758364/
Change-Id: Ic75d7c2f652baf1fa5b77a7b0a797b767a663931
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/737221/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,be221d6a39155e270b73c5d38947e86e97044c84,,"export ANSIBLE_FORKS:=""${ANSIBLE_FORKS:-20}""",,1,0
openstack%2Fkolla-ansible~stable%2Fxena~I2192d3481d790c11b110bf10082b3efeade75463,openstack/kolla-ansible,stable/xena,I2192d3481d790c11b110bf10082b3efeade75463,prometheus: add tls_connect blackbox module,MERGED,2022-01-28 13:38:33.000000000,2022-02-01 15:24:34.000000000,2022-02-01 15:21:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-28 13:38:33.000000000', 'files': ['releasenotes/notes/blackbox-tls-connect-517cd8ebdf87f16e.yaml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1423e9b6750c269bab7759ac36f7442cb202d10', 'message': 'prometheus: add tls_connect blackbox module\n\nThis allows checking of TLS servers. It can be useful to check\nRabbitMQ TLS, including certificate expiry.\n\nChange-Id: I2192d3481d790c11b110bf10082b3efeade75463\n(cherry picked from commit 94c6b8e220ad2d7ecf4664e566eb08f8f7592f69)\n'}]",0,826840,e1423e9b6750c269bab7759ac36f7442cb202d10,9,3,1,14826,,,0,"prometheus: add tls_connect blackbox module

This allows checking of TLS servers. It can be useful to check
RabbitMQ TLS, including certificate expiry.

Change-Id: I2192d3481d790c11b110bf10082b3efeade75463
(cherry picked from commit 94c6b8e220ad2d7ecf4664e566eb08f8f7592f69)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/826840/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/blackbox-tls-connect-517cd8ebdf87f16e.yaml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.yml.j2']",2,e1423e9b6750c269bab7759ac36f7442cb202d10,, tls_connect: prober: tcp tcp: tls: true,,9,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I2192d3481d790c11b110bf10082b3efeade75463,openstack/kolla-ansible,stable/victoria,I2192d3481d790c11b110bf10082b3efeade75463,prometheus: add tls_connect blackbox module,MERGED,2022-01-28 13:42:01.000000000,2022-02-01 15:24:25.000000000,2022-02-01 15:21:55.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-28 13:42:01.000000000', 'files': ['releasenotes/notes/blackbox-tls-connect-517cd8ebdf87f16e.yaml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d69b7008a8d26c31adbe222780bd225c908c1e24', 'message': 'prometheus: add tls_connect blackbox module\n\nThis allows checking of TLS servers. It can be useful to check\nRabbitMQ TLS, including certificate expiry.\n\nChange-Id: I2192d3481d790c11b110bf10082b3efeade75463\n(cherry picked from commit 94c6b8e220ad2d7ecf4664e566eb08f8f7592f69)\n'}]",0,826842,d69b7008a8d26c31adbe222780bd225c908c1e24,9,3,1,14826,,,0,"prometheus: add tls_connect blackbox module

This allows checking of TLS servers. It can be useful to check
RabbitMQ TLS, including certificate expiry.

Change-Id: I2192d3481d790c11b110bf10082b3efeade75463
(cherry picked from commit 94c6b8e220ad2d7ecf4664e566eb08f8f7592f69)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/826842/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/blackbox-tls-connect-517cd8ebdf87f16e.yaml', 'ansible/roles/prometheus/templates/prometheus-blackbox-exporter.yml.j2']",2,d69b7008a8d26c31adbe222780bd225c908c1e24,, tls_connect: prober: tcp tcp: tls: true,,9,0
openstack%2Fkayobe-config-dev~master~I472177aa4d750cd5b83cde4d2629fe3c449e1373,openstack/kayobe-config-dev,master,I472177aa4d750cd5b83cde4d2629fe3c449e1373,Configure Ironic to use bios boot mode,MERGED,2021-12-10 04:56:21.000000000,2022-02-01 15:09:08.000000000,2021-12-10 10:53:31.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-10 04:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/1657c51916e921e8424d09b27b945b49126a2295', 'message': 'Configure Ironic to use bios boot mode\n\nIn Yoga, Ironic changed its default boot mode to UEFI. Tenks does not\nsupport it yet, so this is breaking overcloud baremetal testing.\n\nChange-Id: I472177aa4d750cd5b83cde4d2629fe3c449e1373\n'}, {'number': 2, 'created': '2021-12-10 04:57:13.000000000', 'files': ['etc/kayobe/kolla/config/ironic.conf'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/da6623c0849bf5572ff2574103195d38d72158ae', 'message': 'Configure Ironic to use bios boot mode\n\nIn Yoga, Ironic changed its default boot mode to UEFI [1]. Tenks does\nnot support it yet, so this is breaking overcloud baremetal testing.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/810249\n\nChange-Id: I472177aa4d750cd5b83cde4d2629fe3c449e1373\n'}]",0,821367,da6623c0849bf5572ff2574103195d38d72158ae,11,5,2,15197,,,0,"Configure Ironic to use bios boot mode

In Yoga, Ironic changed its default boot mode to UEFI [1]. Tenks does
not support it yet, so this is breaking overcloud baremetal testing.

[1] https://review.opendev.org/c/openstack/ironic/+/810249

Change-Id: I472177aa4d750cd5b83cde4d2629fe3c449e1373
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/67/821367/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/config/ironic.conf'],1,1657c51916e921e8424d09b27b945b49126a2295,, [deploy] # Use bios boot mode until Tenks supports UEFI default_boot_mode = bios,,4,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9,openstack/kolla-ansible,stable/wallaby,Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9,Fix usage of Subject Alternative Name for TLS,MERGED,2022-01-28 09:28:06.000000000,2022-02-01 15:08:30.000000000,2022-02-01 15:05:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-28 09:28:06.000000000', 'files': ['ansible/roles/certificates/tasks/generate-backend.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0299a3d22ef3fb9c23aa44d95e9fc0ca17e95b2f', 'message': ""Fix usage of Subject Alternative Name for TLS\n\nAll TLS certificates are incorrectly generated in the 'certificates'\nrole. The generated certificates don't contain both the 'X509v3\nextensions' and 'X509v3 Subject Alternative Name' blocks at all.\n\nThis change fixes the 'openssl x509' commands used to generate all the\ncertificates to include the 'Subject Alternative Name'.\n\nAlso, this change fixes both internal and external templates to\nconstantly use alternative names as described in the RFCs [1] [2].\nWe use DNS Name in SAN extension only when 'kolla_internal_fqdn' or\n'kolla_external_fqdn' is set.\n\n1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6\n2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2\n\nCloses-Bug: #1935978\nChange-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)\n""}]",0,826834,0299a3d22ef3fb9c23aa44d95e9fc0ca17e95b2f,9,3,1,14826,,,0,"Fix usage of Subject Alternative Name for TLS

All TLS certificates are incorrectly generated in the 'certificates'
role. The generated certificates don't contain both the 'X509v3
extensions' and 'X509v3 Subject Alternative Name' blocks at all.

This change fixes the 'openssl x509' commands used to generate all the
certificates to include the 'Subject Alternative Name'.

Also, this change fixes both internal and external templates to
constantly use alternative names as described in the RFCs [1] [2].
We use DNS Name in SAN extension only when 'kolla_internal_fqdn' or
'kolla_external_fqdn' is set.

1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6
2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2

Closes-Bug: #1935978
Change-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/826834/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/certificates/tasks/generate-backend.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2']",4,0299a3d22ef3fb9c23aa44d95e9fc0ca17e95b2f,tls-altnames-stable/wallaby,IP.1 = {{ kolla_external_vip_address }},commonName = {{ kolla_external_fqdn }}{% else %} IP.1 = {{ kolla_external_fqdn }},8,6
openstack%2Fkolla-ansible~stable%2Fvictoria~Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9,openstack/kolla-ansible,stable/victoria,Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9,Fix usage of Subject Alternative Name for TLS,MERGED,2022-01-28 09:28:18.000000000,2022-02-01 15:08:07.000000000,2022-02-01 15:05:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-28 09:28:18.000000000', 'files': ['ansible/roles/certificates/tasks/generate-backend.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a967556daeab32354ca7779d2d1180fb366be334', 'message': ""Fix usage of Subject Alternative Name for TLS\n\nAll TLS certificates are incorrectly generated in the 'certificates'\nrole. The generated certificates don't contain both the 'X509v3\nextensions' and 'X509v3 Subject Alternative Name' blocks at all.\n\nThis change fixes the 'openssl x509' commands used to generate all the\ncertificates to include the 'Subject Alternative Name'.\n\nAlso, this change fixes both internal and external templates to\nconstantly use alternative names as described in the RFCs [1] [2].\nWe use DNS Name in SAN extension only when 'kolla_internal_fqdn' or\n'kolla_external_fqdn' is set.\n\n1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6\n2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2\n\nCloses-Bug: #1935978\nChange-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)\n""}]",0,826835,a967556daeab32354ca7779d2d1180fb366be334,9,3,1,14826,,,0,"Fix usage of Subject Alternative Name for TLS

All TLS certificates are incorrectly generated in the 'certificates'
role. The generated certificates don't contain both the 'X509v3
extensions' and 'X509v3 Subject Alternative Name' blocks at all.

This change fixes the 'openssl x509' commands used to generate all the
certificates to include the 'Subject Alternative Name'.

Also, this change fixes both internal and external templates to
constantly use alternative names as described in the RFCs [1] [2].
We use DNS Name in SAN extension only when 'kolla_internal_fqdn' or
'kolla_external_fqdn' is set.

1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6
2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2

Closes-Bug: #1935978
Change-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/826835/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/certificates/tasks/generate-backend.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2']",4,a967556daeab32354ca7779d2d1180fb366be334,tls-altnames-stable/victoria,IP.1 = {{ kolla_external_vip_address }},commonName = {{ kolla_external_fqdn }}{% else %} IP.1 = {{ kolla_external_fqdn }},8,6
openstack%2Fkolla-ansible~stable%2Fxena~Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9,openstack/kolla-ansible,stable/xena,Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9,Fix usage of Subject Alternative Name for TLS,MERGED,2022-01-27 16:56:14.000000000,2022-02-01 15:08:06.000000000,2022-02-01 15:05:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-27 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22f3d6e1c06aa2fae21695141fd0efb24e7d8595', 'message': ""Fix usage of Subject Alternative Name for TLS\n\nAll TLS certificates are incorrectly generated in the 'certificates'\nrole. The generated certificates don't contain both the 'X509v3\nextensions' and 'X509v3 Subject Alternative Name' blocks at all.\n\nThis change fixes the 'openssl x509' commands used to generate all the\ncertificates to include the 'Subject Alternative Name'.\n\nAlso, this change fixes both internal and external templates to\nconstantly use alternative names as described in the RFCs [1] [2].\nWe use DNS Name in SAN extension only when 'kolla_internal_fqdn' or\n'kolla_external_fqdn' is set.\n\n1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6\n2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2\n\nCloses-Bug: #1935978\nChange-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)\n""}, {'number': 2, 'created': '2022-01-28 09:27:44.000000000', 'files': ['ansible/roles/certificates/tasks/generate-backend.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6562c6d8e26cd553b9abc64334a163332ab19016', 'message': ""Fix usage of Subject Alternative Name for TLS\n\nAll TLS certificates are incorrectly generated in the 'certificates'\nrole. The generated certificates don't contain both the 'X509v3\nextensions' and 'X509v3 Subject Alternative Name' blocks at all.\n\nThis change fixes the 'openssl x509' commands used to generate all the\ncertificates to include the 'Subject Alternative Name'.\n\nAlso, this change fixes both internal and external templates to\nconstantly use alternative names as described in the RFCs [1] [2].\nWe use DNS Name in SAN extension only when 'kolla_internal_fqdn' or\n'kolla_external_fqdn' is set.\n\n1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6\n2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2\n\nCloses-Bug: #1935978\nChange-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)\n""}]",0,826736,6562c6d8e26cd553b9abc64334a163332ab19016,12,4,2,14200,,,0,"Fix usage of Subject Alternative Name for TLS

All TLS certificates are incorrectly generated in the 'certificates'
role. The generated certificates don't contain both the 'X509v3
extensions' and 'X509v3 Subject Alternative Name' blocks at all.

This change fixes the 'openssl x509' commands used to generate all the
certificates to include the 'Subject Alternative Name'.

Also, this change fixes both internal and external templates to
constantly use alternative names as described in the RFCs [1] [2].
We use DNS Name in SAN extension only when 'kolla_internal_fqdn' or
'kolla_external_fqdn' is set.

1. https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.6
2. https://datatracker.ietf.org/doc/html/rfc6125#appendix-B.2

Closes-Bug: #1935978
Change-Id: Ie5d82a2e4575bd74674ac38a042df49cfe7f74c9
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 6409d62650193b217faa0d18885b37cb1ec247a2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/826736/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/certificates/tasks/generate-backend.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2']",4,22f3d6e1c06aa2fae21695141fd0efb24e7d8595,tls-altnames-stable/xena,IP.1 = {{ kolla_external_vip_address }},commonName = {{ kolla_external_fqdn }}{% else %} IP.1 = {{ kolla_external_fqdn }},8,6
openstack%2Fopenstack-ansible-tests~stable%2Fxena~I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1,openstack/openstack-ansible-tests,stable/xena,I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1,Remove legacy centos-8 CI jobs,MERGED,2022-02-01 11:42:44.000000000,2022-02-01 15:01:12.000000000,2022-02-01 14:52:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 11:42:44.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9f51291510f1d12144b8c9530f9fa1b8f2c3f7a8', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1\n'}]",0,827269,9f51291510f1d12144b8c9530f9fa1b8f2c3f7a8,9,3,1,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/69/827269/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,9f51291510f1d12144b8c9530f9fa1b8f2c3f7a8,osa/remove-centos8,, name: openstack-ansible-functional-centos-8 parent: openstack-ansible-functional nodeset: centos-8 - job: name: openstack-ansible-upgrade-centos-8 parent: openstack-ansible-upgrade nodeset: centos-8 - job: name: openstack-ansible-functional-distro_install-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: distro_install - job:,2,22
openstack%2Fopenstack-ansible-tests~stable%2Fvictoria~I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1,openstack/openstack-ansible-tests,stable/victoria,I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1,Remove legacy centos-8 CI jobs,MERGED,2022-02-01 11:44:59.000000000,2022-02-01 15:01:12.000000000,2022-02-01 14:52:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 11:44:59.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4f3a096ba622fd4575cdac0d37082167cd0ae351', 'message': 'Remove legacy centos-8 CI jobs\n\nChange-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1\n'}]",0,827270,4f3a096ba622fd4575cdac0d37082167cd0ae351,9,3,1,25023,,,0,"Remove legacy centos-8 CI jobs

Change-Id: I56e1e60bd39732e0b44fdaae43592d5bbe67cfe1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/70/827270/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,4f3a096ba622fd4575cdac0d37082167cd0ae351,osa/remove-centos8,, name: openstack-ansible-functional-centos-8 parent: openstack-ansible-functional nodeset: centos-8 - job: name: openstack-ansible-upgrade-centos-8 parent: openstack-ansible-upgrade nodeset: centos-8 - job: name: openstack-ansible-functional-distro_install-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: distro_install - job:,2,22
