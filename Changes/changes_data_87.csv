id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Faodh~master~Ib0e57cb8ca66ddbc1a2926136574cb337765898d,openstack/aodh,master,Ib0e57cb8ca66ddbc1a2926136574cb337765898d,Imported Translations from Zanata,MERGED,2022-05-26 02:11:11.000000000,2022-06-07 16:15:16.000000000,2022-06-07 16:13:42.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:11:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/0cbe18224f8f507e79da96699ead212ec9183bcb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib0e57cb8ca66ddbc1a2926136574cb337765898d\n'}]",0,843359,0cbe18224f8f507e79da96699ead212ec9183bcb,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib0e57cb8ca66ddbc1a2926136574cb337765898d
",git fetch https://review.opendev.org/openstack/aodh refs/changes/59/843359/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,0cbe18224f8f507e79da96699ead212ec9183bcb,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-04-20 19:04+0000\n""""PO-Revision-Date: 2022-05-25 08:32+0000\n""msgid ""13.0.0"" msgstr ""13.0.0"" msgid ""14.0.0"" msgstr ""14.0.0""""Aodh now supports generation of Guru Meditation Reports using oslo.reports "" ""library. Each service prints a report output when it receives SIGUSR1."" msgstr """" ""Aodh now supports the generation of Guru Meditation Reports using oslo."" ""reports library. Each service prints a report output when it receives "" ""SIGUSR1."" msgid """"msgid """" ""Now the ``aodh-api`` service look for the paste config file (a.k.a. ``api-"" ""paste.ini`` from configruation directories like ``/etc/aodh``. If the file "" ""is not found in the configuration directories, it uses the default file. To "" ""use only a specific file, use a full file path for the ``[api] "" ""paste_confing`` parameter"" msgstr """" ""Now the ``aodh-api`` service look for the paste config file (a.k.a. ``api-"" ""paste.ini`` from configruation directories like ``/etc/aodh``. If the file "" ""is not found in the configuration directories, it uses the default file. To "" ""use only a specific file, use a full file path for the ``[api] "" ""paste_confing`` parameter"" ""The ``[coordination] heartbeat`` parameter has been renamed to the "" ""``[coordination] heartbeat_interval``. The old ``[coordination] heartbeat`` "" ""parameter is deprecated and will be removed in a future release."" msgstr """" ""The ``[coordination] heartbeat`` parameter has been renamed to the "" ""``[coordination] heartbeat_interval``. The old ``[coordination] heartbeat`` "" ""parameter is deprecated and will be removed in a future release."" msgid """"msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" ","""POT-Creation-Date: 2021-09-15 16:29+0000\n""""PO-Revision-Date: 2021-09-18 07:30+0000\n""msgid ""13.0.0.0rc1"" msgstr ""13.0.0.0rc1""",41,4
openstack%2Fceilometer~master~I7b3d2e9accd5711dc94a30cb67be2eacf0b3dff5,openstack/ceilometer,master,I7b3d2e9accd5711dc94a30cb67be2eacf0b3dff5,Imported Translations from Zanata,MERGED,2022-05-26 02:15:24.000000000,2022-06-07 16:12:14.000000000,2022-06-07 16:10:52.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 02:15:24.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bc4f15aeedce533c91c6cb465b07442a13e9864c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b3d2e9accd5711dc94a30cb67be2eacf0b3dff5\n'}]",0,843363,bc4f15aeedce533c91c6cb465b07442a13e9864c,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7b3d2e9accd5711dc94a30cb67be2eacf0b3dff5
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/63/843363/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,bc4f15aeedce533c91c6cb465b07442a13e9864c,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-04-19 08:45+0000\n""""PO-Revision-Date: 2022-05-25 08:38+0000\n""msgid ""15.1.0"" msgstr ""15.1.0""msgid ""16.0.1"" msgstr ""16.0.1"" msgid ""17.0.0"" msgstr ""17.0.0"" msgid ""18.0.0"" msgstr ""18.0.0""""OpenStack Dynamic pollsters metadata enrichment with other OpenStack API's "" ""data."" msgstr """" ""OpenStack Dynamic pollsters metadata enrichment with other OpenStack API's "" ""data."" msgid """"""Support for Neutron FWaaS has been officially deprecated. The feature has "" ""been useless since the Neutron FWaaS project was retired."" msgstr """" ""Support for Neutron FWaaS has been officially deprecated. The feature has "" ""been useless since the Neutron FWaaS project was retired."" msgid """" ""Support for Neutron LBaaS has been officially deprecated. The feature has "" ""been useless since the Neutron LBaaS project was retired."" msgstr """" ""Support for Neutron LBaaS has been officially deprecated. The feature has "" ""been useless since the Neutron LBaaS project was retired."" msgid """"""The ``NodesDiscoveryTripleO`` discovery plugin has been deprecated and will "" ""be removed in a future release. This plugin is designed for TripleO "" ""deployment but no longer used since Telemetry services were removed from "" ""undercloud."" msgstr """" ""The ``NodesDiscoveryTripleO`` discovery plugin has been deprecated and will "" ""be removed in a future release. This plugin is designed for TripleO "" ""deployment but is no longer used since Telemetry services were removed from "" ""undercloud."" msgid """"msgid """" ""The ``[notification] batch_size`` parameter now takes effect to enable batch "" ""processing of notifications. The ``[notification] batch_timeout`` parameter "" ""has been restored at the same time to determine how much and how long "" ""notifications are kept."" msgstr """" ""The ``[notification] batch_size`` parameter now takes effect to enable batch "" ""processing of notifications. The ``[notification] batch_timeout`` parameter "" ""has been restored at the same time to determine how much and how long "" ""notifications are kept."" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" ""``GenericHardwareDeclarativePollster`` has been deprecated and will be "" ""removed in a future release. This pollster was designed to be used in "" ""TripleO deployment to gather hardware metrics from overcloud nodes but "" ""Telemetry services are no longer deployed in undercloud in current TripleO."" msgstr """" ""``GenericHardwareDeclarativePollster`` has been deprecated and will be "" ""removed in a future release. This pollster was designed to be used in "" ""TripleO deployment to gather hardware metrics from overcloud nodes but "" ""Telemetry services are no longer deployed in undercloud in the current "" ""TripleO."" msgid """"","""POT-Creation-Date: 2021-09-16 14:17+0000\n""""PO-Revision-Date: 2021-09-18 07:33+0000\n""msgid ""15.0.0-8"" msgstr ""15.0.0-8""msgid ""16.0.0-7"" msgstr ""16.0.0-7"" msgid ""17.0.0.0rc1"" msgstr ""17.0.0.0rc1""",70,8
openstack%2Fswift~master~I6e6fa76671c860191a2ce921cb6caddc859b1066,openstack/swift,master,I6e6fa76671c860191a2ce921cb6caddc859b1066,tempurl: Deprecate sha1 signatures,MERGED,2017-12-05 21:55:13.000000000,2022-06-07 15:57:02.000000000,2022-06-01 15:54:25.000000000,"[{'_account_id': 597}, {'_account_id': 6968}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-05 21:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a4ce6bd5031ccf3f06216c2866e9783d843b996', 'message': ""tempurl: Deprecate sha1 signatures\n\nWe've known this would eventually be necessary for a while [1], and\nearlier this year we've seen SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n""}, {'number': 2, 'created': '2017-12-28 04:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/927ada3711974091c9a8aa4dd1270a5653f28b34', 'message': ""tempurl: Deprecate sha1 signatures\n\nWe've known this would eventually be necessary for a while [1], and\nearlier this year we've seen SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n""}, {'number': 3, 'created': '2017-12-28 19:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/47c713ba1be2835f4ca1d3027cbf40de6fb54e14', 'message': ""tempurl: Deprecate sha1 signatures\n\nWe've known this would eventually be necessary for a while [1], and\nearlier this year we've seen SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n""}, {'number': 4, 'created': '2021-10-30 06:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/25af5096506186c02516393d9c81735422e0e91e', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 5, 'created': '2022-03-08 16:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ec5ac084cc6983981b2b4ec70c64141f6546794', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 6, 'created': '2022-03-09 09:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2bed4cda37061432bf64260e7da2c29f5e7846d2', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\n\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 7, 'created': '2022-03-09 16:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/246aeb3f49fec6fd1cefdb2a3e64eae344e51a1d', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 8, 'created': '2022-03-16 05:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1fc91f4f4fa2a7518f72e713f8da07afa14dca8', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 9, 'created': '2022-03-24 04:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b76bd41b4ee8cbf17823fcdbed5e114e903987fc', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 10, 'created': '2022-03-24 20:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a8fd79aa14318f9f2a859a478debb08bec0a5660', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 11, 'created': '2022-03-28 21:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2d5981e4046a41914681b272f873e0f4c5daf0e3', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 12, 'created': '2022-03-30 23:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c8aad9b87a60dfff701f31cdee74748172a06669', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}, {'number': 13, 'created': '2022-04-22 10:43:32.000000000', 'files': ['test/functional/test_symlink.py', 'swift/common/utils.py', 'swift/common/middleware/tempurl.py', 'doc/source/api/temporary_url_middleware.rst', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_tempurl.py', 'test/functional/test_tempurl.py', 'test/functional/test_object_versioning.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/118cf2ba8af97dbbd78271126e22cb80f18f9adc', 'message': 'tempurl: Deprecate sha1 signatures\n\nWe\'ve known this would eventually be necessary for a while [1], and\nway back in 2017 we started seeing SHA-1 collisions [2].\n\n[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html\n[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html\n\nUpgradeImpact:\n==============\n""sha1"" has been removed from the default set of `allowed_digests` in the\ntempurl middleware config. If your cluster still has clients requiring\nthe use of SHA-1,\n\n- explicitly configure `allowed_digests` to include ""sha1"" and\n- encourage your clients to move to more-secure algorithms.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/832771\nChange-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCloses-Bug: #1733634\n'}]",43,525771,118cf2ba8af97dbbd78271126e22cb80f18f9adc,71,6,13,15343,,,0,"tempurl: Deprecate sha1 signatures

We've known this would eventually be necessary for a while [1], and
way back in 2017 we started seeing SHA-1 collisions [2].

[1] https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html
[2] https://security.googleblog.com/2017/02/announcing-first-sha1-collision.html

UpgradeImpact:
==============
""sha1"" has been removed from the default set of `allowed_digests` in the
tempurl middleware config. If your cluster still has clients requiring
the use of SHA-1,

- explicitly configure `allowed_digests` to include ""sha1"" and
- encourage your clients to move to more-secure algorithms.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/832771
Change-Id: I6e6fa76671c860191a2ce921cb6caddc859b1066
Related-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046
Closes-Bug: #1733634
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/525771/13 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/tempurl.py', 'doc/source/api/temporary_url_middleware.rst', 'test/unit/common/middleware/test_tempurl.py']",3,2a4ce6bd5031ccf3f06216c2866e9783d843b996,bug/1733634," sig1 = hmac.new(key1, hmac_body, hashlib.sha256).hexdigest() sig2 = hmac.new(key2, hmac_body, hashlib.sha256).hexdigest() sig1 = hmac.new(key1, hmac_body, hashlib.sha256).hexdigest() sig2 = hmac.new(key2, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() get_sig = hmac.new(key, get_hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new('account-key', hmac_body, hashlib.sha256).hexdigest() sig = hmac.new('container-key', hmac_body, hashlib.sha256).hexdigest() sig = hmac.new('shared-key', hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha256).hexdigest() [('431834cf8bceb0b95e4dd5256e16c1b9' [('431834cf8bceb0b95e4dd5256e16c1b9' self.assertEqual(info['allowed_digests'], ['sha256', 'sha512']) 'allowed_digests': 'sha1 sha512 md5 not-a-valid-digest', self.assertEqual(info['allowed_digests'], ['sha1', 'sha512'])"," sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() self.assert_valid_sig(expires, path, [key], sig) sig1 = hmac.new(key1, hmac_body, hashlib.sha1).hexdigest() sig2 = hmac.new(key2, hmac_body, hashlib.sha1).hexdigest() sig1 = hmac.new(key1, hmac_body, hashlib.sha1).hexdigest() sig2 = hmac.new(key2, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() get_sig = hmac.new(key, get_hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new('account-key', hmac_body, hashlib.sha1).hexdigest() sig = hmac.new('container-key', hmac_body, hashlib.sha1).hexdigest() sig = hmac.new('shared-key', hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() sig = hmac.new(key, hmac_body, hashlib.sha1).hexdigest() [('026d7f7cc25256450423c7ad03fc9f5ffc1dab6d', 'account'), ('431834cf8bceb0b95e4dd5256e16c1b9' [('026d7f7cc25256450423c7ad03fc9f5ffc1dab6d', 'account'), ('431834cf8bceb0b95e4dd5256e16c1b9' self.assertEqual(info['allowed_digests'], ['sha1', 'sha256', 'sha512']) 'allowed_digests': 'sha512 md5 not-a-valid-digest', self.assertEqual(info['allowed_digests'], ['sha512'])",101,97
openstack%2Fkeystonemiddleware~master~Id43f253899b5af1f40a41d7fff1f78c316b31367,openstack/keystonemiddleware,master,Id43f253899b5af1f40a41d7fff1f78c316b31367,setup.cfg: Replace dashes by underscores,MERGED,2022-02-05 16:49:40.000000000,2022-06-07 15:27:39.000000000,2022-06-07 15:25:50.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 16:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0da647ec2f19d5e473a6334d22fb788418d1f6a0', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id43f253899b5af1f40a41d7fff1f78c316b31367\n""}, {'number': 2, 'created': '2022-05-06 16:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/adeeadd3b59715587217c12c172a65bc86d6c39f', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id43f253899b5af1f40a41d7fff1f78c316b31367\n""}, {'number': 3, 'created': '2022-06-01 11:18:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bad107ef7995fb5a120ca097315e15038819708c', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id43f253899b5af1f40a41d7fff1f78c316b31367\n""}]",3,827994,bad107ef7995fb5a120ca097315e15038819708c,21,6,3,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id43f253899b5af1f40a41d7fff1f78c316b31367
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/94/827994/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0da647ec2f19d5e473a6334d22fb788418d1f6a0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/keystonemiddleware/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/keystonemiddleware/latest/,3,3
openstack%2Fkeystonemiddleware~master~I0b6a6b22ce7e9e2de4cf7eadd87699d7b26cdda6,openstack/keystonemiddleware,master,I0b6a6b22ce7e9e2de4cf7eadd87699d7b26cdda6,Update python testing as per zed cycle teting runtime,MERGED,2022-05-27 16:12:29.000000000,2022-06-07 15:26:39.000000000,2022-06-07 15:25:25.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 16:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/adec9c3622ac150045715294d15cea5c5224243c', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: I0b6a6b22ce7e9e2de4cf7eadd87699d7b26cdda6\n'}, {'number': 2, 'created': '2022-05-27 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/783fd72a0aefb14d923fdd596db76aeec377d581', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: I0b6a6b22ce7e9e2de4cf7eadd87699d7b26cdda6\n'}, {'number': 3, 'created': '2022-05-27 16:20:16.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-c407d5898c5eafec.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9e827f77818e32c75a2f3dc185204ff26f239913', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: I0b6a6b22ce7e9e2de4cf7eadd87699d7b26cdda6\n'}]",3,843651,9e827f77818e32c75a2f3dc185204ff26f239913,15,7,3,9816,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: I0b6a6b22ce7e9e2de4cf7eadd87699d7b26cdda6
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/51/843651/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-c407d5898c5eafec.yaml', 'setup.cfg']",2,adec9c3622ac150045715294d15cea5c5224243c,drop-py3-6-7,python_requires>=3.8 Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,8,2
openstack%2Fdesignate~stable%2Fxena~If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4,openstack/designate,stable/xena,If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4,Clarifies the zone import error message,MERGED,2022-06-01 00:37:02.000000000,2022-06-07 15:23:26.000000000,2022-06-07 15:22:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-01 00:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4ef6c581c2ee1ff4b0aad920ca1846a4467cc6bf', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}, {'number': 2, 'created': '2022-06-01 16:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d9a6f0cbf49967e05a1eee8e89a3b03f955f3806', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}, {'number': 3, 'created': '2022-06-01 19:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bfbe67ae47cbc827c9870b4930aff7dfea1548ab', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}, {'number': 4, 'created': '2022-06-03 19:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/22fd28f328cc4cfda41dd93e0271acbb1478eba6', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}, {'number': 5, 'created': '2022-06-04 20:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cd603baea4bdaf2948c0c061078ecb76ef4bf637', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}, {'number': 6, 'created': '2022-06-07 04:44:55.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2862a55057411037c45d065cd59d091ac24d2dc6', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}]",5,844152,2862a55057411037c45d065cd59d091ac24d2dc6,27,3,6,5572,,,0,"Clarifies the zone import error message

This patch defines the situation where the import_zone exception handler
produces the message 'An undefined error occurred' to the exception during
the zone import where an underlying exception occurred from the rpc
dispatcher at the same time as a duplicate zone exception. Kiall Mac Innes
explains this in
https://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b
the problem here is in the way the _import_zone was written where
https://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85
was written with threading.local, so it only works if it stays within the same
thread. Since _import_zone is created on a separate thread, the necessity to add
the decorator @rpc_expected_exceptions() at the top.

Closes-bug: #1950118
Closes-bug: #1964323
Change-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4
(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/844152/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_central/test_service.py']",2,4ef6c581c2ee1ff4b0aad920ca1846a4467cc6bf,bug/1950118,"<<<<<<< HEAD (26f1f8 Merge ""Checks for invalid denylist regex patterns"" into stab) ======= def test_create_zone_import_duplicate_threading(self): context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) self.wait_for_import(zone_import.id) def create_zone_import(): context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) return self.wait_for_import(zone_import.id, error_is_ok=True) with futurist.GreenThreadPoolExecutor() as executor: results = [] for fixture in [0, 2, 3, 4, 5]: results.append(executor.submit(create_zone_import,)) for future in futures.as_completed(results): result = future.result() self.assertEqual('Duplicate zone.', result.message) @mock.patch('dns.zone.from_text') @mock.patch('designate.central.service.Service.update_zone_import') def test_create_zone_import_from_text_exceptions( self, mock_update_zone_import, mock_dnszone_from_text): # the second set of exceptions for the create_zone context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() values = { 'status': 'PENDING', 'message': None, 'zone_id': None, 'tenant_id': context.project_id, 'task_type': 'IMPORT' } zone_import = objects.ZoneImport(**values) mock_dnszone_from_text.side_effect = [exceptions.BadRequest(), Exception('boom')] LOG.debug(""Testing zone import exceptions: BadRequest"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) self.assertEqual('An SOA record is required.', zone_import.message) LOG.debug(""Testing zone import exceptions: Undefined"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) self.assertEqual('An undefined error occurred. boom', zone_import.message) @mock.patch('designate.central.service.Service.create_zone') @mock.patch('designate.central.service.Service.update_zone_import') def test_create_zone_import_create_import_exceptions( self, mock_update_zone_import, mock_create_zone): # setup to test the create_zone exceptions from _import_zone method context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() values = { 'status': 'PENDING', 'message': None, 'zone_id': None, 'tenant_id': context.project_id, 'task_type': 'IMPORT' } zone_import = objects.ZoneImport(**values) mock_create_zone.side_effect = [mock.DEFAULT, exceptions.DuplicateZone(), exceptions.InvalidTTL(), exceptions.OverQuota(), Exception('boom')] LOG.debug(""Testing zone import exceptions: No exception case"") self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('COMPLETE', zone_import.status) self.assertIn('imported', zone_import.message) LOG.debug(""Testing zone import exceptions: DuplicateZone"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('Duplicate zone.', zone_import.message) LOG.debug(""Testing zone import exceptions: InvalidTTL"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) LOG.debug(""Testing zone import exceptions: OverQuota"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('Quota exceeded during zone import.', zone_import.message) LOG.debug(""Testing zone import exceptions: Undefined"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('An undefined error occurred. boom', zone_import.message) def test_create_zone_import_overquota(self): self.config( quota_zone_records=5, quota_zone_recordsets=5, ) # Create a Zone Import context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) # Ensure all values have been set correctly self.assertIsNotNone(zone_import['id']) self.assertEqual('PENDING', zone_import.status) self.assertIsNone(zone_import.message) self.assertIsNone(zone_import.zone_id) zone_import = self.wait_for_import(zone_import.id, error_is_ok=True) self.assertEqual('Quota exceeded during zone import.', zone_import.message) self.assertEqual('ERROR', zone_import.status) >>>>>>> CHANGE (349760 Clarifies the zone import error message)",,139,0
openstack%2Fopenstack-helm~master~I572eb34d89b33988aa717ec76ae4334a48c78ee3,openstack/openstack-helm,master,I572eb34d89b33988aa717ec76ae4334a48c78ee3,Testing apparmor,ABANDONED,2022-06-06 15:05:32.000000000,2022-06-07 15:16:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 15:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff187f07aca1de71fbf9d74404a88e244fec3d34', 'message': 'Testing apparmor\n\nChange-Id: I572eb34d89b33988aa717ec76ae4334a48c78ee3\n'}, {'number': 2, 'created': '2022-06-06 15:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f95a3bacd2d5030d304134e67914562a89bf9fdc', 'message': 'Testing apparmor\n\nChange-Id: I572eb34d89b33988aa717ec76ae4334a48c78ee3\n'}, {'number': 3, 'created': '2022-06-07 14:47:14.000000000', 'files': ['zuul.d/project.yaml', 'keystone/values_overrides/apparmor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ebd7c2027411eda1503b435c60f66b167c5b7ee', 'message': 'Testing apparmor\n\nChange-Id: I572eb34d89b33988aa717ec76ae4334a48c78ee3\n'}]",0,844854,3ebd7c2027411eda1503b435c60f66b167c5b7ee,7,1,3,21420,,,0,"Testing apparmor

Change-Id: I572eb34d89b33988aa717ec76ae4334a48c78ee3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/844854/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'keystone/values_overrides/apparmor.yaml']",2,ff187f07aca1de71fbf9d74404a88e244fec3d34,apparmor, keystone-api: undefined keystone-credential-setup: keystone-credential-setup: undefined keystone-fernet-setup: keystone-fernet-setup: undefined keystone-credential-cleanup: keystone-credential-cleanup: undefined keystone-domain-manage: keystone-domain-manage: undefined keystone-domain-manage-init: undefined keystone-test: init: undefined keystone-test: undefined keystone-test-ks-user: undefined, keystone-api: runtime/default keystone-credential-setup: keystone-credential-setup: runtime/default keystone-fernet-setup: keystone-fernet-setup: runtime/default keystone-credential-cleanup: keystone-credential-cleanup: runtime/default keystone-domain-manage: keystone-domain-manage: runtime/default keystone-domain-manage-init: runtime/default keystone-test: init: runtime/default keystone-test: runtime/default keystone-test-ks-user: runtime/default,10,20
openstack%2Fcharm-openstack-dashboard~stable%2Fussuri~I0a010b93d0a5d512e6911f09d8ceb3140a19b600,openstack/charm-openstack-dashboard,stable/ussuri,I0a010b93d0a5d512e6911f09d8ceb3140a19b600,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:06:13.000000000,2022-06-07 14:26:36.000000000,2022-06-07 14:26:36.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/363ed3ffc12d0577de9c40eb183b26be700aec5c', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600\n'}, {'number': 2, 'created': '2022-05-31 11:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/085473c0223718d352de9dbf92de413f0a256223', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600\n'}, {'number': 3, 'created': '2022-05-31 14:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/abff12cccfe78f65fa7b76d098b86696814b0602', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600\n'}, {'number': 4, 'created': '2022-05-31 15:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/76c4d2b60941a3588af7664a51ddda433e6e1c16', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600\n'}, {'number': 5, 'created': '2022-06-06 16:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/c8e999e6dc8cb79c17a8b8f3d70111a4e1f9b2a4', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600\n'}, {'number': 6, 'created': '2022-06-06 20:31:30.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-train-cmr-vault.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/overlays/bionic-train-cmr-vault.yaml.j2', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/608acec372c9347e543083e303d6a6c28e24b7b0', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n- Disable gr tests due to LP: #1951644\n\nChange-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600\n'}]",4,842792,608acec372c9347e543083e303d6a6c28e24b7b0,26,3,6,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Disable gr tests due to LP: #1951644

Change-Id: I0a010b93d0a5d512e6911f09d8ceb3140a19b600
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/92/842792/6 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-train-cmr-vault.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/overlays/bionic-train-cmr-vault.yaml.j2', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,363ed3ffc12d0577de9c40eb183b26be700aec5c,charmhub-migration,,variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' - 'virt-type=kvm is workaround while awaiting new release of python-libjuju' machines: '0': constraints: virt-type=kvm mem=3072M '1': constraints: virt-type=kvm mem=3072M '2': constraints: virt-type=kvm mem=3072M '3': constraints: virt-type=kvm '4': constraints: virt-type=kvm mem=3072M applications: keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router openstack-dashboard-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' openstack-dashboard: charm: ../../../openstack-dashboard num_units: 1 options: openstack-origin: *openstack-origin to: - '4' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'openstack-dashboard:shared-db' - 'openstack-dashboard-mysql-router:shared-db' - - 'openstack-dashboard-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' ,145,685
openstack%2Fkeystone-specs~master~Iddc30b9521b61d9083c2b1f6e8a6707196ea0a57,openstack/keystone-specs,master,Iddc30b9521b61d9083c2b1f6e8a6707196ea0a57,Disable auto-discovery for setuptools and update python testing,MERGED,2022-04-29 11:57:37.000000000,2022-06-07 14:04:48.000000000,2022-06-07 14:02:01.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 13478}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 33455}]","[{'number': 1, 'created': '2022-04-29 11:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/bee7a65573666a154fc42639fdc736e12676a6e5', 'message': ""Disable auto-discovery for setuptools\n\nWith setuptools release 61.0.0 docs build started to fail:\nerror: Multiple top-level packages discovered in a flat-layout:\n['specs', 'attic', 'superseded'].\n\nThis bug is mentioned in setuptools issue 3197 [0], and the suggested\nworkaround is to disable auto-discovery by adding 'py_modules=[]' in\nsetup.py.\n\n[0] https://github.com/pypa/setuptools/issues/3197\n\nChange-Id: Iddc30b9521b61d9083c2b1f6e8a6707196ea0a57\n""}, {'number': 2, 'created': '2022-05-31 17:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e517646709f671148f331aae928d2b2ac2aed126', 'message': ""Disable auto-discovery for setuptools\n\nWith setuptools release 61.0.0 docs build started to fail:\nerror: Multiple top-level packages discovered in a flat-layout:\n['specs', 'attic', 'superseded'].\n\nThis bug is mentioned in setuptools issue 3197 [0], and the suggested\nworkaround is to disable auto-discovery by adding 'py_modules=[]' in\nsetup.py.\n\n[0] https://github.com/pypa/setuptools/issues/3197\n\nChange-Id: Iddc30b9521b61d9083c2b1f6e8a6707196ea0a57\n""}, {'number': 3, 'created': '2022-06-07 10:19:00.000000000', 'files': ['.zuul.yaml', 'setup.py'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6df4f46055c64e877ce555123b5be7ab395429cc', 'message': ""Disable auto-discovery for setuptools and update python testing\n\nWith setuptools release 61.0.0 docs build started to fail:\nerror: Multiple top-level packages discovered in a flat-layout:\n['specs', 'attic', 'superseded'].\n\nThis bug is mentioned in setuptools issue 3197 [0], and the suggested\nworkaround is to disable auto-discovery by adding 'py_modules=[]' in\nsetup.py.\n\nAlso use recent python versions because the old ones are no longer available.\n\nThese 2 unrelated changes need to be merged together in order to unblock\nthe gate.\n\n[0] https://github.com/pypa/setuptools/issues/3197\n\nChange-Id: Iddc30b9521b61d9083c2b1f6e8a6707196ea0a57\n""}]",2,839909,6df4f46055c64e877ce555123b5be7ab395429cc,14,8,3,13252,,,0,"Disable auto-discovery for setuptools and update python testing

With setuptools release 61.0.0 docs build started to fail:
error: Multiple top-level packages discovered in a flat-layout:
['specs', 'attic', 'superseded'].

This bug is mentioned in setuptools issue 3197 [0], and the suggested
workaround is to disable auto-discovery by adding 'py_modules=[]' in
setup.py.

Also use recent python versions because the old ones are no longer available.

These 2 unrelated changes need to be merged together in order to unblock
the gate.

[0] https://github.com/pypa/setuptools/issues/3197

Change-Id: Iddc30b9521b61d9083c2b1f6e8a6707196ea0a57
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/09/839909/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,bee7a65573666a154fc42639fdc736e12676a6e5,setuptools-issue-3197," pbr=True, py_modules=[])", pbr=True),2,1
openstack%2Fcharm-openstack-dashboard~stable%2Fwallaby~I22f95926e952f97b7497a34c1cb2bd15617fbc9d,openstack/charm-openstack-dashboard,stable/wallaby,I22f95926e952f97b7497a34c1cb2bd15617fbc9d,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:19:27.000000000,2022-06-07 14:00:49.000000000,2022-06-07 14:00:49.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5b898a28dd018f3208295429537fbdeedbc8288b', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I22f95926e952f97b7497a34c1cb2bd15617fbc9d\n'}, {'number': 2, 'created': '2022-06-06 19:04:40.000000000', 'files': ['osci.yaml', 'tests/bundles/bionic-queens-cmr-vault.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/dcd3f988f719d1bbb7c98c4f185cb361ef10c210', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n- Pin tempest for python<3.8\n\nChange-Id: I22f95926e952f97b7497a34c1cb2bd15617fbc9d\n'}]",3,842210,dcd3f988f719d1bbb7c98c4f185cb361ef10c210,17,4,2,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Pin tempest for python<3.8

Change-Id: I22f95926e952f97b7497a34c1cb2bd15617fbc9d
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/10/842210/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'tests/bundles/bionic-queens-cmr-vault.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",28,5b898a28dd018f3208295429537fbdeedbc8288b,charmhub-migration,,variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' - 'virt-type=kvm is workaround while awaiting new release of python-libjuju' machines: '0': constraints: virt-type=kvm mem=3072M '1': constraints: virt-type=kvm mem=3072M '2': constraints: virt-type=kvm mem=3072M '3': constraints: virt-type=kvm '4': constraints: virt-type=kvm mem=3072M applications: keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router openstack-dashboard-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' openstack-dashboard: charm: ../../../openstack-dashboard num_units: 1 options: openstack-origin: *openstack-origin to: - '4' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'openstack-dashboard:shared-db' - 'openstack-dashboard-mysql-router:shared-db' - - 'openstack-dashboard-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' ,115,759
openstack%2Fcharm-openstack-dashboard~stable%2Fvictoria~Icafb620026f92017d18b0447a7ad0de3f7763f2c,openstack/charm-openstack-dashboard,stable/victoria,Icafb620026f92017d18b0447a7ad0de3f7763f2c,Pin tempest for python<3.8,MERGED,2022-06-06 16:26:41.000000000,2022-06-07 13:56:02.000000000,2022-06-07 13:56:02.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 16:26:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/c38b39dfb72e062062c7a7835f55874589c8efd8', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c\n(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)\n'}]",0,844863,c38b39dfb72e062062c7a7835f55874589c8efd8,9,4,1,2424,,,0,"Pin tempest for python<3.8

Change-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c
(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/63/844863/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c38b39dfb72e062062c7a7835f55874589c8efd8,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fcharm-openstack-dashboard~stable%2Fxena~Icafb620026f92017d18b0447a7ad0de3f7763f2c,openstack/charm-openstack-dashboard,stable/xena,Icafb620026f92017d18b0447a7ad0de3f7763f2c,Pin tempest for python<3.8,MERGED,2022-06-06 16:26:12.000000000,2022-06-07 13:56:00.000000000,2022-06-07 13:56:00.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 16:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/cf5d69a1bcccc89196ad244405f3062c90438f52', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c\n(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)\n'}, {'number': 2, 'created': '2022-06-06 16:26:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e65a3704af707f385386ea2641692bad5d664308', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c\n(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)\n'}]",0,844861,e65a3704af707f385386ea2641692bad5d664308,10,4,2,2424,,,0,"Pin tempest for python<3.8

Change-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c
(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/61/844861/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cf5d69a1bcccc89196ad244405f3062c90438f52,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fcharm-openstack-dashboard~stable%2Fyoga~Icafb620026f92017d18b0447a7ad0de3f7763f2c,openstack/charm-openstack-dashboard,stable/yoga,Icafb620026f92017d18b0447a7ad0de3f7763f2c,Pin tempest for python<3.8,MERGED,2022-06-06 18:55:50.000000000,2022-06-07 13:50:47.000000000,2022-06-07 13:50:47.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 18:55:50.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/02bdaea8fbb3eee54d09d21b6ee40055f8e14c7e', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c\n(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)\n'}]",2,844875,02bdaea8fbb3eee54d09d21b6ee40055f8e14c7e,13,4,1,2424,,,0,"Pin tempest for python<3.8

Change-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c
(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/75/844875/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,02bdaea8fbb3eee54d09d21b6ee40055f8e14c7e,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fironic-python-agent~bugfix%2F8.1~I953c936cbf8fad889108cbf4e50b1a15f511b38c,openstack/ironic-python-agent,bugfix/8.1,I953c936cbf8fad889108cbf4e50b1a15f511b38c,Create fstab entry with appropriate label,MERGED,2022-06-07 09:04:48.000000000,2022-06-07 13:18:03.000000000,2022-06-07 13:16:41.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 09:04:48.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/handle-partuuid-for-fstab-e0aadea20a056982.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a73fe97cea7cd9c42d081cc5ec6c6b36a79eb22e', 'message': ""Create fstab entry with appropriate label\n\nDepending on the how the stars align with partition images\nbeing written to a remote system, we *may* end up with\n*either* a Partition UUID value, or a Partition's UUID value.\n\nWhich are distinctly different.\n\nThis is becasue the value, when collected as a result of writing\nan image to disk *falls* back and passes the value to enable\npartition discovery and matching.\n\nLater on, when we realized we ought to create an fstab entry,\nwe blindly re-used the value thinking it was, indeed, always\na Partition's UUID and not the Partition UUID. Obviously,\nthe label type is quite explicit, either UUID or PARTUUID\nrespectively, when initial ramdisk utilities such as dracut\nare searching and mounting filesystems.\n\nAdds capability to identify the correct label to utilize\nbased upon the current state of the block devices on disk.\n\nGranted, we are likely only exposed to this because of IO\nrace conditions under high concurrecy load operations.\nNormally this would only be seen on test VMs, but\nsystems being backed by a Storage Area Network *can*\nexibit the same IO race conditions as virtual machines.\n\nChange-Id: I953c936cbf8fad889108cbf4e50b1a15f511b38c\nResolves: rhbz#2058717\nStory: #2009881\nTask: 44623\n(cherry picked from commit 99ca1086dbfc7b6e41cf800b0bd899565e2e8922)\n(cherry picked from commit c69ea032fe8ab81e459fb44f846f440e7a2c8922)\n""}]",0,844808,a73fe97cea7cd9c42d081cc5ec6c6b36a79eb22e,8,2,1,23851,,,0,"Create fstab entry with appropriate label

Depending on the how the stars align with partition images
being written to a remote system, we *may* end up with
*either* a Partition UUID value, or a Partition's UUID value.

Which are distinctly different.

This is becasue the value, when collected as a result of writing
an image to disk *falls* back and passes the value to enable
partition discovery and matching.

Later on, when we realized we ought to create an fstab entry,
we blindly re-used the value thinking it was, indeed, always
a Partition's UUID and not the Partition UUID. Obviously,
the label type is quite explicit, either UUID or PARTUUID
respectively, when initial ramdisk utilities such as dracut
are searching and mounting filesystems.

Adds capability to identify the correct label to utilize
based upon the current state of the block devices on disk.

Granted, we are likely only exposed to this because of IO
race conditions under high concurrecy load operations.
Normally this would only be seen on test VMs, but
systems being backed by a Storage Area Network *can*
exibit the same IO race conditions as virtual machines.

Change-Id: I953c936cbf8fad889108cbf4e50b1a15f511b38c
Resolves: rhbz#2058717
Story: #2009881
Task: 44623
(cherry picked from commit 99ca1086dbfc7b6e41cf800b0bd899565e2e8922)
(cherry picked from commit c69ea032fe8ab81e459fb44f846f440e7a2c8922)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/08/844808/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/handle-partuuid-for-fstab-e0aadea20a056982.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",6,a73fe97cea7cd9c42d081cc5ec6c6b36a79eb22e,,"PARTUUID_DEVICE_TEMPLATE = ( 'KNAME=""sda"" MODEL=""DRIVE 0"" SIZE=""1765517033472"" ' 'ROTA=""1"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sda1"" MODEL=""DRIVE 0"" SIZE=""107373133824"" ' 'ROTA=""1"" TYPE=""part"" UUID=""987654-3210"" PARTUUID=""1234-5678""\n' ) ",,135,10
openstack%2Fpython-swiftclient~master~I842fd6c1eb5c0e14d85f8eec6078d735fbd506b8,openstack/python-swiftclient,master,I842fd6c1eb5c0e14d85f8eec6078d735fbd506b8,doc: Comment out language option,MERGED,2022-06-06 15:36:13.000000000,2022-06-07 13:17:27.000000000,2022-06-07 13:16:05.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 15:36:13.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1dc635a32c30d4e6c823b8367247f4554365c456', 'message': ""doc: Comment out language option\n\n... because explicit language=None causes the below warning since\nSphinx 5.0.0.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid language code. Falling back to 'en' (English).\n\nChange-Id: I842fd6c1eb5c0e14d85f8eec6078d735fbd506b8\n""}]",0,844857,1dc635a32c30d4e6c823b8367247f4554365c456,7,2,1,9816,,,0,"doc: Comment out language option

... because explicit language=None causes the below warning since
Sphinx 5.0.0.

Invalid configuration value found: 'language = None'. Update your
configuration to a valid language code. Falling back to 'en' (English).

Change-Id: I842fd6c1eb5c0e14d85f8eec6078d735fbd506b8
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/57/844857/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,1dc635a32c30d4e6c823b8367247f4554365c456,doc-lang,# language = None,language = None,1,1
openstack%2Fswift~master~I052dc77c4d7f4304cc163864dd000beccf708a2a,openstack/swift,master,I052dc77c4d7f4304cc163864dd000beccf708a2a,doc: Comment out language option,MERGED,2022-06-06 15:37:06.000000000,2022-06-07 13:17:10.000000000,2022-06-07 13:15:47.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 15:37:06.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/24648528a4870a2e9866ecffbd36206160f3c00f', 'message': ""doc: Comment out language option\n\n... because explicit language=None causes the below warning since\nSphinx 5.0.0.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid language code. Falling back to 'en' (English).\n\nChange-Id: I052dc77c4d7f4304cc163864dd000beccf708a2a\n""}]",1,844858,24648528a4870a2e9866ecffbd36206160f3c00f,7,2,1,9816,,,0,"doc: Comment out language option

... because explicit language=None causes the below warning since
Sphinx 5.0.0.

Invalid configuration value found: 'language = None'. Update your
configuration to a valid language code. Falling back to 'en' (English).

Change-Id: I052dc77c4d7f4304cc163864dd000beccf708a2a
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/844858/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,24648528a4870a2e9866ecffbd36206160f3c00f,doc-lang,# language = None,language = None,1,1
openstack%2Ftripleo-ci~master~I3b4d22dfad0cd7afe862b33f2999238d555dace0,openstack/tripleo-ci,master,I3b4d22dfad0cd7afe862b33f2999238d555dace0,"Revert ""Changing container registry in testenv to quay""",ABANDONED,2022-06-07 11:52:05.000000000,2022-06-07 12:52:36.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-06-07 11:52:05.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode-psi.yml', 'toci-quickstart/config/testenv/ovb-psi.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/68a9156663fda173b0157fd38604ff3d831f02cf', 'message': 'Revert ""Changing container registry in testenv to quay""\n\nThis reverts commit f04acdafa1eef5a0fb9e7bc0ce3db5153d5250e1.\n\nReason for revert: till https://review.opendev.org/c/openstack/tripleo-quickstart/+/843007 gets addressed and merged together.\n\nChange-Id: I3b4d22dfad0cd7afe862b33f2999238d555dace0\n'}]",2,844936,68a9156663fda173b0157fd38604ff3d831f02cf,5,5,1,12393,,,0,"Revert ""Changing container registry in testenv to quay""

This reverts commit f04acdafa1eef5a0fb9e7bc0ce3db5153d5250e1.

Reason for revert: till https://review.opendev.org/c/openstack/tripleo-quickstart/+/843007 gets addressed and merged together.

Change-Id: I3b4d22dfad0cd7afe862b33f2999238d555dace0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/844936/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode-psi.yml', 'toci-quickstart/config/testenv/ovb-psi.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",6,68a9156663fda173b0157fd38604ff3d831f02cf,move-to-quay," {%- if release in [""master""] -%}"," {%- if (release not in [""victoria""] and ansible_distribution|lower in [""centos""]) -%}",6,6
openstack%2Fkuryr-kubernetes~master~Id3a1e9c145e30814aae4998b43e253ccd15decf7,openstack/kuryr-kubernetes,master,Id3a1e9c145e30814aae4998b43e253ccd15decf7,[WIP] Add docs about how to support kube-proxy,NEW,2022-06-04 07:32:05.000000000,2022-06-07 12:44:50.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-04 07:32:05.000000000', 'files': ['doc/source/installation/kube_proxy_support.rst', 'doc/source/installation/index.rst', 'releasenotes/notes/suport-kube-proxy-for-baremetal-fe16d35e4d23268b.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a5d391a075f12b1cb2ea0749c7fe11baf97709ed', 'message': '[WIP] Add docs about how to support kube-proxy\n\nImplements: blueprint support-kube-proxy\nChange-Id: Id3a1e9c145e30814aae4998b43e253ccd15decf7\n'}]",1,844683,a5d391a075f12b1cb2ea0749c7fe11baf97709ed,3,2,1,28329,,,0,"[WIP] Add docs about how to support kube-proxy

Implements: blueprint support-kube-proxy
Change-Id: Id3a1e9c145e30814aae4998b43e253ccd15decf7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/83/844683/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/kube_proxy_support.rst', 'doc/source/installation/index.rst', 'releasenotes/notes/suport-kube-proxy-for-baremetal-fe16d35e4d23268b.yaml']",3,a5d391a075f12b1cb2ea0749c7fe11baf97709ed,bp/support-kube-proxy,"--- features: - | Support use kube-proxy to provision `ClusterIP` and `NodePort` k8s service for baremetal use case. We add a `node` handler to watch the baremetal host node's change and plug a tap device for each host node, by these tap devices we can bridge the network traffic between host nodes and k8s pods. ",,58,0
openstack%2Frequirements~master~I9bd77d804f99ba3b9187b68d5f5421b0e97ee49a,openstack/requirements,master,I9bd77d804f99ba3b9187b68d5f5421b0e97ee49a,Don't track importlib-metadata in u-c,ABANDONED,2022-05-31 11:53:18.000000000,2022-06-07 12:40:25.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 11:53:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1d7fc68d641282ce650aa7f856c4f8ba39ac0e6b', 'message': ""Don't track importlib-metadata in u-c\n\nLet users manage their versions of this independently.\n\nChange-Id: I9bd77d804f99ba3b9187b68d5f5421b0e97ee49a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,844042,1d7fc68d641282ce650aa7f856c4f8ba39ac0e6b,5,2,1,15334,,,0,"Don't track importlib-metadata in u-c

Let users manage their versions of this independently.

Change-Id: I9bd77d804f99ba3b9187b68d5f5421b0e97ee49a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/844042/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1d7fc68d641282ce650aa7f856c4f8ba39ac0e6b,uncap-importlib-metadata,,importlib-metadata===4.11.4,0,1
openstack%2Ftripleo-quickstart~master~If7539e163eee1b6969ccdadac96c0b8e1af2d505,openstack/tripleo-quickstart,master,If7539e163eee1b6969ccdadac96c0b8e1af2d505,Migrate Ansible roles to use FQCN,NEW,2022-06-07 11:01:36.000000000,2022-06-07 12:24:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-07 11:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b205f1f2789e78e7337e08d95debfaeac08fd061', 'message': 'Migrate Ansible roles to use FQCN\n\nWith Ansible moving to the collections [1]\nstructure, we will need to conform to the FQCN\nformat rather than naming modules like we\npreviously did eg:\n\nWe need to use:\n`ansible.builtin.shell:`\n\ninstead of just:\n`shell:`\n\n[1] https://docs.ansible.com/ansible/latest/dev_guide/style_guide/index.html#adding-links-to-modules-and-plugins\n\nChange-Id: If7539e163eee1b6969ccdadac96c0b8e1af2d505\n'}, {'number': 2, 'created': '2022-06-07 11:06:55.000000000', 'files': ['roles/convert-image/tasks/main.yml', 'roles/fetch-images/tasks/main.yml', 'roles/libvirt/setup/common/tasks/main.yml', 'roles/fetch-images/tasks/fetch.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/94ecd0d5d9e41b7375d3db90a98ffa0c23efcbe5', 'message': 'Migrate Ansible roles to use FQCN\n\nWith Ansible moving to the collections [1]\nstructure, we will need to conform to the FQCN\nformat rather than naming modules like we\npreviously did eg:\n\nWe need to use:\n`ansible.builtin.shell:`\n\ninstead of just:\n`shell:`\n\n[1] https://docs.ansible.com/ansible/latest/dev_guide/style_guide/index.html#adding-links-to-modules-and-plugins\n\nChange-Id: If7539e163eee1b6969ccdadac96c0b8e1af2d505\n'}]",0,844957,94ecd0d5d9e41b7375d3db90a98ffa0c23efcbe5,9,2,2,30073,,,0,"Migrate Ansible roles to use FQCN

With Ansible moving to the collections [1]
structure, we will need to conform to the FQCN
format rather than naming modules like we
previously did eg:

We need to use:
`ansible.builtin.shell:`

instead of just:
`shell:`

[1] https://docs.ansible.com/ansible/latest/dev_guide/style_guide/index.html#adding-links-to-modules-and-plugins

Change-Id: If7539e163eee1b6969ccdadac96c0b8e1af2d505
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/57/844957/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/convert-image/tasks/main.yml'],1,b205f1f2789e78e7337e08d95debfaeac08fd061,ansible-fqcn, ansible.builtin.template: ansible.builtin.stat: ansible.builtin.command: > ansible.builtin.command: > ansible.builtin.command: > ansible.builtin.command: > ansible.builtin.shell: >, template: stat: command: > command: > command: > command: > shell: >,7,7
openstack%2Fcinder~master~I95cdc8b6eec37503c266e131f22d29f809623a92,openstack/cinder,master,I95cdc8b6eec37503c266e131f22d29f809623a92,"db: Migrate ""driver initiator data"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-07 12:24:00.000000000,2022-06-07 12:02:15.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/43c1f3107ed99732cecdb7a448edee16749722c9', 'message': 'db: Migrate ""driver initiator data"" APIs to enginefacade\n\nMigrate driver initiator data-related APIs from the legacy enginefacade\nto the modern context-based enginefacade.\n\nChange-Id: I95cdc8b6eec37503c266e131f22d29f809623a92\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",8,837534,43c1f3107ed99732cecdb7a448edee16749722c9,38,5,1,15334,,,0,"db: Migrate ""driver initiator data"" APIs to enginefacade

Migrate driver initiator data-related APIs from the legacy enginefacade
to the modern context-based enginefacade.

Change-Id: I95cdc8b6eec37503c266e131f22d29f809623a92
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/837534/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,43c1f3107ed99732cecdb7a448edee16749722c9,remove-legacyfacade,"@main_context_manager.writer def driver_initiator_data_insert_by_key( context, initiator, namespace, key, value, ): try: with main_context_manager.writer.savepoint.using(context): data.save(context.session) return True@main_context_manager.reader def driver_initiator_data_get(context, initiator, namespace): return ( context.session.query(models.DriverInitiatorData) .filter_by(initiator=initiator) .filter_by(namespace=namespace) .all() )","def driver_initiator_data_insert_by_key(context, initiator, namespace, key, value): session = get_session() try: with session.begin(): session.add(data) return Truedef driver_initiator_data_get(context, initiator, namespace): session = get_session() with session.begin(): return session.query(models.DriverInitiatorData).\ filter_by(initiator=initiator).\ filter_by(namespace=namespace).\ all()",18,12
openstack%2Fcinder~master~I4a2fad1129f542665eae031eb330298687320f45,openstack/cinder,master,I4a2fad1129f542665eae031eb330298687320f45,"db: Migrate ""worker"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-07 12:10:44.000000000,2022-06-07 12:07:58.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c65f4b6c29b2f33f0cfc0e93cb1295cd4a5d177', 'message': 'db: Migrate ""worker"" APIs to enginefacade\n\nMigrate worker-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I4a2fad1129f542665eae031eb330298687320f45\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,837536,8c65f4b6c29b2f33f0cfc0e93cb1295cd4a5d177,33,4,1,15334,,,0,"db: Migrate ""worker"" APIs to enginefacade

Migrate worker-related APIs from the legacy enginefacade to the modern
context-based enginefacade.

Change-Id: I4a2fad1129f542665eae031eb330298687320f45
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/837536/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,8c65f4b6c29b2f33f0cfc0e93cb1295cd4a5d177,remove-legacyfacade,"def _worker_query( context, until=None, db_filters=None, ignore_sentinel=True, **filters, ): query = model_query(context, models.Worker)@require_context@main_context_manager.writer try: worker.save(context.session) except db_exc.DBDuplicateEntry: raise exception.WorkerExists( type=values.get('resource_type'), id=values.get('resource_id'), )@require_context @main_context_manager.reader@require_context @main_context_manager.reader@require_context@main_context_manager.writer@require_context@main_context_manager.writer values = { 'service_id': claimer_id, 'race_preventer': orm_worker.race_preventer + 1, 'updated_at': timeutils.utcnow(), } query = _worker_query( context, status=orm_worker.status, service_id=orm_worker.service_id, race_preventer=orm_worker.race_preventer, until=orm_worker.updated_at, id=orm_worker.id, )@require_context @main_context_manager.writer","def _worker_query(context, session=None, until=None, db_filters=None, ignore_sentinel=True, **filters): query = model_query(context, models.Worker, session=session) session = get_session() try: with session.begin(): worker.save(session) except db_exc.DBDuplicateEntry: raise exception.WorkerExists(type=values.get('resource_type'), id=values.get('resource_id')) values = {'service_id': claimer_id, 'race_preventer': orm_worker.race_preventer + 1, 'updated_at': timeutils.utcnow()} query = _worker_query(context, status=orm_worker.status, service_id=orm_worker.service_id, race_preventer=orm_worker.race_preventer, until=orm_worker.updated_at, id=orm_worker.id)",38,17
openstack%2Fcinder~master~I3e7cfd553a824758fca04bdf4677771f36495911,openstack/cinder,master,I3e7cfd553a824758fca04bdf4677771f36495911,"db: Migrate ""image volume cache"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-07 12:09:32.000000000,2022-06-07 12:07:54.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a3c29160dd22a9c02d5b8d146858962c7ddb303', 'message': 'db: Migrate ""image volume cache"" APIs to enginefacade\n\nMigrate image volume cache-related APIs from the legacy enginefacade to\nthe modern context-based enginefacade.\n\nChange-Id: I3e7cfd553a824758fca04bdf4677771f36495911\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,837535,3a3c29160dd22a9c02d5b8d146858962c7ddb303,35,4,1,15334,,,0,"db: Migrate ""image volume cache"" APIs to enginefacade

Migrate image volume cache-related APIs from the legacy enginefacade to
the modern context-based enginefacade.

Change-Id: I3e7cfd553a824758fca04bdf4677771f36495911
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/837535/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,3a3c29160dd22a9c02d5b8d146858962c7ddb303,remove-legacyfacade,"@main_context_manager.writer def image_volume_cache_create( context, host, cluster_name, image_id, image_updated_at, volume_id, size, ): cache_entry = models.ImageVolumeCacheEntry() cache_entry.host = host cache_entry.cluster_name = cluster_name cache_entry.image_id = image_id cache_entry.image_updated_at = image_updated_at cache_entry.volume_id = volume_id cache_entry.size = size context.session.add(cache_entry) return cache_entry@main_context_manager.writer def image_volume_cache_delete(context, volume_id): context.session.query( models.ImageVolumeCacheEntry, ).filter_by(volume_id=volume_id).delete()@main_context_manager.writer entry = ( context.session.query(models.ImageVolumeCacheEntry) .filter_by(image_id=image_id) .filter_by(**filters) .order_by(desc(models.ImageVolumeCacheEntry.last_used)) .first() ) if entry: entry.last_used = timeutils.utcnow() entry.save(context.session) return entry@main_context_manager.reader def image_volume_cache_get_by_volume_id(context, volume_id): return ( context.session.query(models.ImageVolumeCacheEntry) .filter_by(volume_id=volume_id) .first() )@main_context_manager.reader return ( context.session.query(models.ImageVolumeCacheEntry) .filter_by(**filters) .order_by(desc(models.ImageVolumeCacheEntry.last_used)) .all() )@main_context_manager.writer def image_volume_cache_include_in_cluster( context, cluster, partial_rename=True, **filters, ): return _include_in_cluster( context, cluster, models.ImageVolumeCacheEntry, partial_rename, filters, )","def image_volume_cache_create(context, host, cluster_name, image_id, image_updated_at, volume_id, size): session = get_session() with session.begin(): cache_entry = models.ImageVolumeCacheEntry() cache_entry.host = host cache_entry.cluster_name = cluster_name cache_entry.image_id = image_id cache_entry.image_updated_at = image_updated_at cache_entry.volume_id = volume_id cache_entry.size = size session.add(cache_entry) return cache_entrydef image_volume_cache_delete(context, volume_id): session = get_session() with session.begin(): session.query(models.ImageVolumeCacheEntry).\ filter_by(volume_id=volume_id).\ delete() session = get_session() with session.begin(): entry = session.query(models.ImageVolumeCacheEntry).\ filter_by(image_id=image_id).\ filter_by(**filters).\ order_by(desc(models.ImageVolumeCacheEntry.last_used)).\ first() if entry: entry.last_used = timeutils.utcnow() entry.save(session=session) return entrydef image_volume_cache_get_by_volume_id(context, volume_id): session = get_session() with session.begin(): return session.query(models.ImageVolumeCacheEntry).\ filter_by(volume_id=volume_id).\ first() session = get_session() with session.begin(): return session.query(models.ImageVolumeCacheEntry).\ filter_by(**filters).\ order_by(desc(models.ImageVolumeCacheEntry.last_used)).\ all()def image_volume_cache_include_in_cluster(context, cluster, partial_rename=True, **filters): return _include_in_cluster(context, cluster, models.ImageVolumeCacheEntry, partial_rename, filters)",62,44
openstack%2Ftripleo-docs~stable%2Fwallaby~I99617f858d1fa02bb38084790114f9141cfbf459,openstack/tripleo-docs,stable/wallaby,I99617f858d1fa02bb38084790114f9141cfbf459,Document Ceph Network Change,MERGED,2022-05-27 17:29:32.000000000,2022-06-07 11:59:41.000000000,2022-06-07 11:58:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-27 17:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d51462e0b9746e53f43bf77a60229b9bd6dea83d', 'message': ""Document Ceph Network Change\n\nHow network data is handled when commands like 'openstack\novercloud ceph deploy --config ... --network-data' are run\nhas been imporved via the Depends-On patch. This docs patch\nexplains how these two options interact.\n\nChange-Id: I99617f858d1fa02bb38084790114f9141cfbf459\n(cherry picked from commit 16e104ee4c461294e0d920286dd633d302b5ba34)\n""}, {'number': 2, 'created': '2022-05-27 17:38:55.000000000', 'files': ['deploy-guide/source/features/deployed_ceph.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/826d9301d5ef258289cdecf100ffee2fde824ed5', 'message': ""Document Ceph Network Change\n\nHow network data is handled when commands like 'openstack\novercloud ceph deploy --config ... --network-data' are run\nhas been imporved via the Depends-On patch. This docs patch\nexplains how these two options interact.\n\nChange-Id: I99617f858d1fa02bb38084790114f9141cfbf459\n(cherry picked from commit 16e104ee4c461294e0d920286dd633d302b5ba34)\n""}]",0,843636,826d9301d5ef258289cdecf100ffee2fde824ed5,9,2,2,18002,,,0,"Document Ceph Network Change

How network data is handled when commands like 'openstack
overcloud ceph deploy --config ... --network-data' are run
has been imporved via the Depends-On patch. This docs patch
explains how these two options interact.

Change-Id: I99617f858d1fa02bb38084790114f9141cfbf459
(cherry picked from commit 16e104ee4c461294e0d920286dd633d302b5ba34)
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/36/843636/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_ceph.rst'],1,d51462e0b9746e53f43bf77a60229b9bd6dea83d,ceph_apply_net_conf-stable/wallaby,"<<<<<<< HEAD (39a692 Add warning to ceph-ansible integration docuemtnation)======= openstack overcloud ceph spec \ --stack overcloud \ --roles-data custom_roles.yaml \ --output ceph_spec.yaml \ deployed_metal.yaml In the above example the `--stack` is used in order to find the working directory containing the Ansible inventory which was created when `openstack overcloud node provision` was run. Network Options --------------- The storage networks defined in the network_data.yaml file as described in :doc:`custom_networks` determine which networks Ceph is configured to use. When using network isolation, the standard is for TripleO to deploy two storage networks which map to the two Ceph networks in the following way: * ``storage`` - Storage traffic, the Ceph ``public_network``, e.g. Nova compute nodes use this network for RBD traffic to the Ceph cluster. * ``storage_mgmt`` - Storage management traffic (such as replication traffic between storage nodes), the Ceph ``cluster_network``, e.g. Ceph OSDs use this network to replicate data. ``openstack overcloud ceph deploy`` will use the network_data.yaml file specified by the ``--network-data`` option to determine which networks should be used for the ``public_network`` and ``cluster_network``. It assumes these networks are named ``storage`` and ``storage_mgmt`` in the network_data.yaml file unless a different name should be used as indicated by the ``--public-network-name`` and ``--cluster-network-name`` options. It is necessary to use the ``--network-data`` option when deploying with network isolation. Otherwise the default network, i.e. the ctlplane network on the undercloud (192.168.24.0/24), will be used for both the ``public_network`` and ``cluster_network``. Example: Multiple subnets with custom network names ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ If network_data.yaml contains the following:: - name: StorageMgmtCloud0 name_lower: storage_mgmt_cloud_0 service_net_map_replace: storage_mgmt subnets: storage_mgmt_cloud_0_subnet12: ip_subnet: '172.16.12.0/24' storage_mgmt_cloud_0_subnet13: ip_subnet: '172.16.13.0/24' - name: StorageCloud0 name_lower: storage_cloud_0 service_net_map_replace: storage subnets: storage_cloud_0_subnet14: ip_subnet: '172.16.14.0/24' storage_cloud_0_subnet15: ip_subnet: '172.16.15.0/24' Then the Ceph cluster will have the following parameters set:: [global] public_network = '172.16.14.0/24,172.16.15.0/24' cluster_network = '172.16.12.0/24,172.16.13.0/24' ms_bind_ipv4 = True ms_bind_ipv6 = False This is because the TripleO client will see that though the ``name_lower`` value does not match ``storage`` or ``storage_mgmt`` (they match the custom names ``storage_cloud_0`` and ``storage_mgmt_cloud_0`` instead), those names do match the ``service_net_map_replace`` values. If ``service_net_map_replace`` is in the network_data.yaml, then it is not necessary to use the ``--public-network-name`` and ``--cluster-network-name`` options. Alternatively the ``service_net_map_replace`` key could have been left out and the ``--public-network-name`` and ``--cluster-network-name`` options could have been used instead. Also, because multiple subnets are used they are concatenated and it is assumed that there is routing between the subnets. If there was no ``subnets`` key, in the network_data.yaml file, then the client would have looked instead for the single ``ip_subnet`` key for each network. By default the Ceph global `ms_bind_ipv4` is set `true` and `ms_bind_ipv6` is set `false`. Example: IPv6 ^^^^^^^^^^^^^ If network_data.yaml contains the following:: - name: Storage ipv6: true ipv6_subnet: fd00:fd00:fd00:3000::/64 name_lower: storage - name: StorageMgmt ipv6: true ipv6_subnet: fd00:fd00:fd00:4000::/64 name_lower: storage_mgmt Then the Ceph cluster will have the following parameters set:: [global] public_network = fd00:fd00:fd00:3000::/64 cluster_network = fd00:fd00:fd00:4000::/64 ms_bind_ipv4 = False ms_bind_ipv6 = True Because the storage networks in network_data.yaml contain `ipv6: true`, the ipv6_subet values are extracted and the Ceph globals `ms_bind_ipv4` is set `false` and `ms_bind_ipv6` is set `true`. It is not supported to have the ``public_network`` use IPv4 and the ``cluster_network`` use IPv6 or vice versa. Example: Directly setting network and ms_bind options ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ If the examples above are not sufficient for your Ceph network needs, then it's possible to create an initial-ceph.conf with the four parameters ``public_network``, ``cluster_network``, ``ms_bind_ipv4``, and ``ms_bind_ipv6`` options set to whatever values are desired. When using the ``--config`` option it is still important to ensure the TripleO ``storage`` and ``storage_mgmt`` network names map to the correct ``public_network`` and ``cluster_network`` so that the rest of the deployment is consistent. The four parameters, ``public_network``, ``cluster_network``, ``ms_bind_ipv4``, and ``ms_bind_ipv6``, are always set in the Ceph cluster (with `ceph config set global`) from the ``--network-data`` file unless those parameters are explicitly set in the ``--config`` file. In that case the values in the ``--network-data`` file are not set directly in the Ceph cluster though other aspects of the overcloud deployment treat the ``--network-data`` file as authoritative (e.g. when Ceph RGW is set) so both sources should be consistent if the ``--config`` file has any of these four parameters. An example of setting the four parameters in the initial Ceph configuration is below:: $ cat <<EOF > initial-ceph.conf [global] public_network = 'fd00:fd00:fd00:3000::/64,172.16.14.0/24' cluster_network = 'fd00:fd00:fd00:4000::/64,172.16.12.0/24' ms_bind_ipv4 = true ms_bind_ipv6 = true EOF $ openstack overcloud ceph deploy \ --config initial-ceph.conf --network-data network_data.yaml The above assumes that network_data.yaml contains the following:: - name: Storage ipv6_subnet: fd00:fd00:fd00:3000::/64 ip_subnet: 172.16.14.0/24 name_lower: storage - name: StorageMgmt ipv6_subnet: fd00:fd00:fd00:4000::/64 ip_subnet: 172.16.12.0/24 name_lower: storage_mgmt The above settings, which mix IPv4 and IPv6, are experimental and untested. SSH User Options ---------------- Cephadm must use SSH to connect to all remote Ceph hosts that it manages. The ""Deployed Ceph"" feature creates an account and SSH key pair on all Ceph nodes in the overcloud and passes this information to cephadm so that it uses this account instead of creating its own. The `openstack overcloud ceph deploy` command will automatically create this user and distribute their SSH keys. It's also possible to create this user and distribute the associated keys in a separate step by running `openstack overcloud ceph user enable` and then when calling `openstack overcloud ceph deploy` with the `--skip-user-create` option. By default the user is called `ceph-admin` though both commands support the `--cephadm-ssh-user` option to set a different name. If this option is used though, it must be used consistently for every `openstack overcloud ceph` call. The `openstack overcloud ceph user disable --fsid <FSID>` command may be run after `openstack overcloud ceph deploy` has been run to disable cephadm so that it may not be used to administer the Ceph cluster and no `ceph orch ...` CLI commands will function. This will also prevent Ceph node overcloud scale operations though the Ceph cluster will still be able to read and write data. This same command will also remove the public and private SSH keys of the cephadm SSH user on overclouds which host Ceph. The ""ceph user enable"" option may then be used to re-distribute the public and private SSH keys of the cephadm SSH user and re-enable the cephadm mgr module. `openstack overcloud ceph user enable` will only re-enable the cephadm mgr module if it is passed the FSID with the `--fsid <FSID>` option. The FSID may be found in the deployed_ceph.yaml Heat environment file which is generated by the `openstack overcloud ceph deploy -o deployed_ceph.yaml` command. .. warning:: Disabling cephadm will disable all Ceph management features described in this document. The `openstack overcloud ceph user disable` command is not recommended unless you have a good reason to disable cephadm. Both the `openstack overcloud ceph user enable` and `openstack overcloud ceph user disable` commands require the path to an existing Ceph spec file to be passed as an argument. This is necessary in order to determine which hosts require the cephadm SSH user and which of those hosts require the private SSH key. Only hosts with the _admin label get the private SSH since they need to be able to SSH into other Ceph hosts. In the average deployment with three monitor nodes this is three hosts. All other Ceph hosts only get the public key added to the users authorized_keys file. See the ""Ceph Spec Options"" options of this document for where to find this file or how to automatically generate one before Ceph deployment if you plan to call `openstack overcloud ceph user enable` before calling `openstack overcloud ceph deploy`. See `openstack overcloud ceph user enable --help` and `openstack overcloud ceph user disable --help` for more information. Creating Pools and CephX keys before overcloud deployment (Optional) -------------------------------------------------------------------- By default `openstack overcloud ceph deploy` does not create Ceph pools or cephx keys to access those pools. Later during overcloud deployment the pools and cephx keys are created based on which Heat environment files are passed. For most cases only pools for Cinder (volumes), Nova (vms), and Glance (images) are created but if the Heat environment file to configure additional services are passed, e.g. cinder-backup, then the required pools are created. It is not necessary to create pools and cephx keys before overcloud deployment but it is possible. The Ceph pools can be created when `openstack overcloud ceph deploy` is run by using the option --ansible-extra-vars to set the tripleo_cephadm_pools variable used by tripleo-ansible's tripleo_cephadm role. Create an Ansible extra vars file defining the desired pools:: cat <<EOF > tripleo_cephadm_ansible_extra_vars.yaml --- tripleo_cephadm_pools: - name: vms pg_autoscale_mode: True target_size_ratio: 0.3 application: rbd - name: volumes pg_autoscale_mode: True target_size_ratio: 0.5 application: rbd - name: images target_size_ratio: 0.2 pg_autoscale_mode: True application: rbd tripleo_ceph_client_vars: /home/stack/overcloud-deploy/overcloud/cephadm/ceph_client.yml EOF The pool names 'vms', 'volumes', and 'images' used above are recommended since those are the default names that the overcloud deployment will use when ""openstack overcloud deploy"" is run, unless the Heat parameters NovaRbdPoolName, CinderRbdPoolName, and GlanceRbdPoolName are overridden respectively. In the above example, tripleo_ceph_client_vars is used to direct Ansible to save the generated ceph_client.yml file in a cephadm subdirectory of the working directory. The tripleo_cephadm role will ensure this directory exists before creating the file. If `openstack overcloud export ceph` is going to be used, it will expect the Ceph client file to be in this location, based on the stack name (e.g. overcloud). Deploy the Ceph cluster with Ansible extra vars:: openstack overcloud ceph deploy \ deployed-metal-overcloud.yaml \ -y -o deployed-ceph-overcloud.yaml \ --force \ --ansible-extra-vars tripleo_cephadm_ansible_extra_vars.yaml After Ceph is deployed, the pools should be created and an openstack cephx key will also be created to access all of those pools. The contents of deployed-ceph-overcloud.yaml will also have the pool and cephx key Heat environment parameters set so the overcloud will use the same values. When the tripleo_cephadm_pools variable is set, the Tripleo client will create a tripleo_cephadm_keys tripleo-ansible variable structure with the client name ""openstack"" and a generated cephx key like the following:: tripleo_cephadm_keys: - name: client.openstack key: AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw== mode: '0600' caps: mgr: allow * mon: profile rbd osd: profile rbd pool=vms, profile rbd pool=volumes, profile rbd pool=images It is not recommended to define tripleo_cephadm_keys in the Ansible extra vars file. If you prefer to set the key username to something other than ""openstack"" or prefer to pass your own cephx client key (e.g. AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw==), then use following parameters:: --ceph-client-username (default: openstack) --ceph-client-key (default: auto generates a valid cephx key) Both of the above parameters are ignored unless tripleo_cephadm_pools is set via --ansible-extra-vars. If tripleo_cephadm_pools is set then a cephx key to access all of the pools will always be created unless --skip-cephx-keys is used. If you wish to re-run 'openstack overcloud ceph deploy' for any reason and have created-cephx keys in previous runs, then you may use the --ceph-client-key parameter from the previous run to prevent a new key from being generated. The key value can be found in the file which is output from he previous run (e.g. --output <deployed_ceph.yaml>). If any of the above parameters are used, then the generated deployed Ceph output file (e.g. --output <deployed_ceph.yaml>) will contain the values of the above variables mapped to their TripleO Heat template environment variables to ensure a consistent overcloud deployment:: CephPools: {{ tripleo_cephadm_pools }} CephClientConfigVars: {{ tripleo_ceph_client_vars }} CephClientKey: {{ ceph_client_username }} CephClientUserName: {{ ceph_client_key }} The CephPools Heat parameter above has always supported idempotent updates. It will be pre-populated with the pools from tripleo_cephadm_pools after Ceph is deployed. The deployed_ceph.yaml which is output can also be updated so that additional pools can be created when the overcloud is deployed. >>>>>>> CHANGE (16e104 Document Ceph Network Change)",,336,0
openstack%2Freleases~master~I5d62b139ea98d8830c2af94024c7f946e7371deb,openstack/releases,master,I5d62b139ea98d8830c2af94024c7f946e7371deb,Add releasenotes link for Tempest 31.0.0,MERGED,2022-06-06 22:30:01.000000000,2022-06-07 11:56:18.000000000,2022-06-07 11:56:18.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-06 22:30:01.000000000', 'files': ['deliverables/zed/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aecd5d1d2796654b0f4f79335243f0cf7198ac8a', 'message': 'Add releasenotes link for Tempest 31.0.0\n\nThis commit adds the release notes link\nfor Tempest 31.0.0 release.\n\nChange-Id: I5d62b139ea98d8830c2af94024c7f946e7371deb\n'}]",1,844890,aecd5d1d2796654b0f4f79335243f0cf7198ac8a,8,4,1,8556,,,0,"Add releasenotes link for Tempest 31.0.0

This commit adds the release notes link
for Tempest 31.0.0 release.

Change-Id: I5d62b139ea98d8830c2af94024c7f946e7371deb
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/844890/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/tempest.yaml'],1,aecd5d1d2796654b0f4f79335243f0cf7198ac8a,,release-notes: https://docs.openstack.org/releasenotes/tempest/v31.0.0.html,,1,0
openstack%2Ftripleo-ci~master~Iaa1b172335e662457fb94410093d20892df7327b,openstack/tripleo-ci,master,Iaa1b172335e662457fb94410093d20892df7327b,Changing container registry in testenv to quay,MERGED,2022-05-19 14:46:53.000000000,2022-06-07 11:52:05.000000000,2022-06-06 13:47:46.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-19 14:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e91dddceb14e548bcb97852ba4fe832653f47278', 'message': '[wip] Changing container registry in testenv to quay\n\nChanging container registry in testenv to quay so that periodic and check/gate jobs pull from quay instead of trunk.registry.rdoproject\nWe are doing this only for master, wallaby c9, wallabyc8 and train c8 at the moment\n\ntestproj: tbd\nChange-Id: Iaa1b172335e662457fb94410093d20892df7327b\n'}, {'number': 2, 'created': '2022-05-19 15:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/91f4f8c7230b45f354cc6d6fe8fcf38aa4278f2a', 'message': '[wip] Changing container registry in testenv to quay\n\nChanging container registry in testenv to quay so that periodic and check/gate jobs pull from quay instead of trunk.registry.rdoproject\nWe are doing this only for master, wallaby c9, wallabyc8 and train c8 at the moment\n\ntestproj: tbd\nChange-Id: Iaa1b172335e662457fb94410093d20892df7327b\n'}, {'number': 3, 'created': '2022-05-19 15:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ec5e51a1c613cbb233beb06d13f520d1c96df34d', 'message': '[wip] Changing container registry in testenv to quay\n\nChanging container registry in testenv to quay so that periodic and check/gate jobs pull from quay instead of trunk.registry.rdoproject\nWe are doing this only for master, wallaby c9, wallabyc8 and train c8 at the moment\n\ntestproj: tbd\nChange-Id: Iaa1b172335e662457fb94410093d20892df7327b\n'}, {'number': 4, 'created': '2022-05-19 15:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28c59bf80566350962015e37cb5e86cfe648b33e', 'message': 'Changing container registry in testenv to quay\n\nChanging container registry in testenv to quay so that periodic and check/gate jobs pull from quay instead of trunk.registry.rdoproject\nWe are doing this only for master, wallaby c9, wallabyc8 and train c8 at the moment\n\ntestproj: tbd\nChange-Id: Iaa1b172335e662457fb94410093d20892df7327b\n'}, {'number': 5, 'created': '2022-05-23 17:19:58.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode-psi.yml', 'toci-quickstart/config/testenv/ovb-psi.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f04acdafa1eef5a0fb9e7bc0ce3db5153d5250e1', 'message': 'Changing container registry in testenv to quay\n\nChanging container registry in testenv to quay so that periodic and check/gate jobs pull from quay instead of trunk.registry.rdoproject\nWe are doing this only for master, wallaby c9, wallabyc8 and train c8 at the moment\n\ntestproj: https://review.rdoproject.org/r/c/testproject/+/42265\nChange-Id: Iaa1b172335e662457fb94410093d20892df7327b\n'}]",6,842551,f04acdafa1eef5a0fb9e7bc0ce3db5153d5250e1,21,4,5,32458,,,0,"Changing container registry in testenv to quay

Changing container registry in testenv to quay so that periodic and check/gate jobs pull from quay instead of trunk.registry.rdoproject
We are doing this only for master, wallaby c9, wallabyc8 and train c8 at the moment

testproj: https://review.rdoproject.org/r/c/testproject/+/42265
Change-Id: Iaa1b172335e662457fb94410093d20892df7327b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/842551/5 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode-psi.yml'],1,e91dddceb14e548bcb97852ba4fe832653f47278,move-to-quay," {%- if release in [""master"", ""wallaby""] or (release in [""train""] and ansible_distribution | lower in [""centos""] and ansible_distribution_major_version == ""8"") -%}"," {%- if release in [""master""] -%}",1,1
openstack%2Fvalidations-common~master~I513ec696fd769f6fbef3004095898189dbe1721d,openstack/validations-common,master,I513ec696fd769f6fbef3004095898189dbe1721d,Python 3.6 support removal,MERGED,2022-06-03 07:28:07.000000000,2022-06-07 11:33:26.000000000,2022-06-07 11:33:26.000000000,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-03 07:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3d29dd90563c5ffe990140d69341eb3ec2c2c0c8', 'message': 'Remove py36 support to py38\n\nChange-Id: I513ec696fd769f6fbef3004095898189dbe1721d\n'}, {'number': 2, 'created': '2022-06-03 07:43:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/64f1e011e6e73bc524716d077d0c94015a3465e6', 'message': 'Python 3.6 support removal\n\nThe lowest version of python supported will be Python 3.8,\nto keep up with some of the adjacent components and CI jobs.\n\nReleated-Bug: #1974244\n\nChange-Id: I513ec696fd769f6fbef3004095898189dbe1721d\n'}]",0,844555,64f1e011e6e73bc524716d077d0c94015a3465e6,8,4,2,16515,,,0,"Python 3.6 support removal

The lowest version of python supported will be Python 3.8,
to keep up with some of the adjacent components and CI jobs.

Releated-Bug: #1974244

Change-Id: I513ec696fd769f6fbef3004095898189dbe1721d
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/55/844555/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3d29dd90563c5ffe990140d69341eb3ec2c2c0c8,remove/py36,python_requires = >=3.8, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7python_requires = >=3.6,1,3
openstack%2Fpuppet-tripleo~master~I6d387f6df0e9b85896b25b414ae2cf8bfea4152c,openstack/puppet-tripleo,master,I6d387f6df0e9b85896b25b414ae2cf8bfea4152c,Support configuring multiple NFS cinder backends,MERGED,2022-05-18 15:39:51.000000000,2022-06-07 11:33:24.000000000,2022-06-07 11:33:24.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 15:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb3edfc8aed98e8e08fcc468b41177d82c6e1d82', 'message': 'Support configuring multiple NFS cinder backends\n\nAdd support for configuring multiple NFS cinder backends.\n\nChange-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\n'}, {'number': 2, 'created': '2022-05-19 14:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9e49a709cab62b68ea32c1d76c5e753dc6152734', 'message': 'Support configuring multiple NFS cinder backends\n\nAdd support for configuring multiple NFS cinder backends.\n\nChange-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\n'}, {'number': 3, 'created': '2022-05-19 17:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/720520fdc14cbd53a61fb42a7cd941c66dc648d5', 'message': 'Support configuring multiple NFS cinder backends\n\nAdd support for configuring multiple NFS cinder backends.\n\nChange-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\n'}, {'number': 4, 'created': '2022-05-25 10:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/10d86c8d1534384126591e1256c4561838bc2df5', 'message': 'Support configuring multiple NFS cinder backends\n\nAdd support for configuring multiple NFS cinder backends.\n\nChange-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\n'}, {'number': 5, 'created': '2022-05-30 07:13:50.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_volume_nfs_spec.rb', 'spec/fixtures/hieradata/step5.yaml', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/cinder/volume/nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b6d00bc4ac5eee9609a8582c2d24b27f249476c', 'message': 'Support configuring multiple NFS cinder backends\n\nAdd support for configuring multiple NFS cinder backends.\n\nChange-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\n'}]",37,842380,0b6d00bc4ac5eee9609a8582c2d24b27f249476c,35,3,5,34598,,,0,"Support configuring multiple NFS cinder backends

Add support for configuring multiple NFS cinder backends.

Change-Id: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/80/842380/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_volume_nfs_spec.rb', 'spec/fixtures/hieradata/step5.yaml', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/cinder/volume/nfs.pp']",5,bb3edfc8aed98e8e08fcc468b41177d82c6e1d82,cinder-nfs-multiconfig,"# [*cinder_nfs_shares_config*] # NFS shares configuration file ## (Optional) List of names given to the Cinder backend stanza.# [*multi_config*] # (Optional) A config hash when multiple backends are used. # Defaults to {} # $cinder_nfs_shares_config, $backend_name = lookup('cinder::backend::nfs::volume_backend_name', undef, undef, ['tripleo_nfs']), $multi_config = {}, $backend_defaults = { 'CinderNfsAvailabilityZone' => $backend_availability_zone, 'CinderNfsServers' => $cinder_nfs_servers, 'CinderNfsMountOptions' => $cinder_nfs_mount_options, 'CinderNfsSharesConfig' => $cinder_nfs_shares_config, 'CinderNfsSnapshotSupport' => $cinder_nfs_snapshot_support, 'CinderNasSecureFileOperations' => $cinder_nas_secure_file_operations, 'CinderNasSecureFilePermissions' => $cinder_nas_secure_file_permissions, } any2array($backend_name).each |String $backend| { $backend_config = merge($backend_defaults, pick($multi_config[$backend], {})) create_resources('cinder::backend::nfs', { $backend => delete_undef_values({ 'backend_availability_zone' => $backend_config['CinderNfsAvailabilityZone'], 'nfs_servers' => $backend_config['CinderNfsServers'], 'nfs_mount_options' => $backend_config['CinderNfsMountOptions'], 'nfs_shares_config' => $backend_config['CinderNfsSharesConfig'], 'nfs_snapshot_support' => $backend_config['CinderNfsSnapshotSupport'], 'nas_secure_file_operations' => $backend_config['CinderNasSecureFileOperations'], 'nas_secure_file_permissions' => $backend_config['CinderNasSecureFilePermissions'], Package['nfs-utils'] -> Cinder::Backend::Nfs[$backend] }","# (Optional) Name given to the Cinder backend stanza $backend_name = lookup('cinder::backend::nfs::volume_backend_name', undef, undef, 'tripleo_nfs'), create_resources('cinder::backend::nfs', { $backend_name => delete_undef_values({ 'backend_availability_zone' => $backend_availability_zone, 'nfs_servers' => $cinder_nfs_servers, 'nfs_mount_options' => $cinder_nfs_mount_options, 'nfs_shares_config' => '/etc/cinder/shares-nfs.conf', 'nfs_snapshot_support' => $cinder_nfs_snapshot_support, 'nas_secure_file_operations' => $cinder_nas_secure_file_operations, 'nas_secure_file_permissions' => $cinder_nas_secure_file_permissions, Package['nfs-utils'] -> Cinder::Backend::Nfs[$backend_name] ",74,15
openstack%2Fneutron~master~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,master,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-01 21:22:41.000000000,2022-06-07 11:18:48.000000000,2022-06-07 11:17:16.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22865}]","[{'number': 1, 'created': '2022-06-01 21:22:41.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543', 'message': 'migration: Delete also SGRs for IPv6\n\nIPv4 and IPv6 have different utility in iptables. This patch adds use of\nip6tables the same way as previously used iptables.\n\nChange-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",0,844341,d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543,11,6,1,8655,,,0,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/844341/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543,migration, {{ iptables_exec }}-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | {{ iptables_exec }}-restore with_items: - iptables - ip6tables loop_control: loop_var: iptables_exec, iptables-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | iptables-restore,7,2
openstack%2Frpm-packaging~master~I3c5cdb273beb6cdf61baabd333cd8352675d3d4b,openstack/rpm-packaging,master,I3c5cdb273beb6cdf61baabd333cd8352675d3d4b,stevedore: update to 3.5.0,MERGED,2022-06-07 10:49:36.000000000,2022-06-07 11:03:46.000000000,2022-06-07 11:03:46.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-07 10:49:36.000000000', 'files': ['openstack/stevedore/stevedore.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/18629770ab697fb000cf336dd12ed2901bcae419', 'message': 'stevedore: update to 3.5.0\n\nChange-Id: I3c5cdb273beb6cdf61baabd333cd8352675d3d4b\n'}]",0,844955,18629770ab697fb000cf336dd12ed2901bcae419,8,4,1,6593,,,0,"stevedore: update to 3.5.0

Change-Id: I3c5cdb273beb6cdf61baabd333cd8352675d3d4b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/55/844955/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/stevedore/stevedore.spec.j2'],1,18629770ab697fb000cf336dd12ed2901bcae419,,{% set upstream_version = upstream_version('3.5.0') %},{% set upstream_version = upstream_version('3.4.0') %},1,1
openstack%2Freleases~master~I5a6b76a7a2d7b097245190c3add6ac50ac036373,openstack/releases,master,I5a6b76a7a2d7b097245190c3add6ac50ac036373,Tag monthly kolla stable releases,MERGED,2022-06-02 12:31:03.000000000,2022-06-07 10:54:09.000000000,2022-06-07 10:54:09.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 12:31:03.000000000', 'files': ['deliverables/yoga/kayobe.yaml', 'deliverables/xena/kolla.yaml', 'deliverables/yoga/kolla.yaml', 'deliverables/wallaby/kolla.yaml', 'deliverables/yoga/kolla-ansible.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/xena/kayobe.yaml', 'deliverables/xena/kolla-ansible.yaml', 'deliverables/wallaby/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/be033efc0d5658113342deb9ccfcdc18279f797b', 'message': 'Tag monthly kolla stable releases\n\nChange-Id: I5a6b76a7a2d7b097245190c3add6ac50ac036373\n'}]",2,844438,be033efc0d5658113342deb9ccfcdc18279f797b,13,7,1,13252,,,0,"Tag monthly kolla stable releases

Change-Id: I5a6b76a7a2d7b097245190c3add6ac50ac036373
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/844438/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/kolla.yaml', 'deliverables/yoga/kayobe.yaml', 'deliverables/yoga/kolla.yaml', 'deliverables/wallaby/kolla.yaml', 'deliverables/yoga/kolla-ansible.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/xena/kayobe.yaml', 'deliverables/xena/kolla-ansible.yaml', 'deliverables/wallaby/kolla-ansible.yaml']",9,be033efc0d5658113342deb9ccfcdc18279f797b,kolla-stable-monthly, - version: 12.4.0 projects: - repo: openstack/kolla-ansible hash: bbbebc524802993777f4af423d165852c2fc62f6,,44,0
openstack%2Fironic-python-agent~bugfix%2F8.1~Ie8cd4a6b45cb386cf023a31143a3bb355dd65e82,openstack/ironic-python-agent,bugfix/8.1,Ie8cd4a6b45cb386cf023a31143a3bb355dd65e82,DNM - Testing CI in bugfix/8.1,ABANDONED,2022-06-07 07:34:49.000000000,2022-06-07 10:29:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-07 07:34:49.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4cf1c1224d69f46e9903dfdf5364f3bf81c94df7', 'message': 'DNM - Testing CI in bugfix/8.1\n\nChange-Id: Ie8cd4a6b45cb386cf023a31143a3bb355dd65e82\n'}]",0,844917,4cf1c1224d69f46e9903dfdf5364f3bf81c94df7,3,1,1,15519,,,0,"DNM - Testing CI in bugfix/8.1

Change-Id: Ie8cd4a6b45cb386cf023a31143a3bb355dd65e82
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/844917/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,4cf1c1224d69f46e9903dfdf5364f3bf81c94df7,test_ci,# DNM,,1,0
openstack%2Ftrove~master~Id3234081fd3114e6536358cbdbf94b8280c8bc41,openstack/trove,master,Id3234081fd3114e6536358cbdbf94b8280c8bc41,Don't check task_status when creating a cluster,MERGED,2022-04-20 18:23:08.000000000,2022-06-07 10:14:02.000000000,2022-06-06 14:16:43.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-04-20 18:23:08.000000000', 'files': ['trove/instance/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/47835cf92b78bad9b762687ecfa722e3db1a1e5a', 'message': ""Don't check task_status when creating a cluster\n\nThis PR allows load_simple_instance_addresse to get the ipaddr of an\ninstance from neutron when creating a instance belongs to a cluster by\nskipping checking the task_status.\n\nload_simple_instance_addresses, which is a helper function to load ip\naddr information to Instance instances, currently checks task_status\nbefore getting the information from neutron. However, this logic is\nunnecessary and causes a logic error when instances belong to a\ncluster because the task_status of creating a cluster is determined\nafter initializing a cluster, which happens in the next phase of\nload_simple_instance_addresses.\n\nThe original reason of this code change is that the task status of a\nmariadb cluster hasn't change from BUILDING to NONE even after\nsuccessfully creating instances belong to the cluster.\n\nTask: 45110\nStory: 2009982\nChange-Id: Id3234081fd3114e6536358cbdbf94b8280c8bc41\n""}]",5,838770,47835cf92b78bad9b762687ecfa722e3db1a1e5a,11,2,1,31737,,,0,"Don't check task_status when creating a cluster

This PR allows load_simple_instance_addresse to get the ipaddr of an
instance from neutron when creating a instance belongs to a cluster by
skipping checking the task_status.

load_simple_instance_addresses, which is a helper function to load ip
addr information to Instance instances, currently checks task_status
before getting the information from neutron. However, this logic is
unnecessary and causes a logic error when instances belong to a
cluster because the task_status of creating a cluster is determined
after initializing a cluster, which happens in the next phase of
load_simple_instance_addresses.

The original reason of this code change is that the task status of a
mariadb cluster hasn't change from BUILDING to NONE even after
successfully creating instances belong to the cluster.

Task: 45110
Story: 2009982
Change-Id: Id3234081fd3114e6536358cbdbf94b8280c8bc41
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/838770/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/models.py'],1,47835cf92b78bad9b762687ecfa722e3db1a1e5a,story/2009982-45110, if 'BUILDING' == db_info.task_status.action and not db_info.cluster_id:, if 'BUILDING' == db_info.task_status.action:,1,1
openstack%2Fetcd3gw~master~I43aa0f2a571f5a4f2bb31c58a3e287b519dd48bf,openstack/etcd3gw,master,I43aa0f2a571f5a4f2bb31c58a3e287b519dd48bf,Drop python3.6/3.7 support in testing runtime,MERGED,2022-05-05 09:53:00.000000000,2022-06-07 10:11:13.000000000,2022-06-07 10:09:00.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/f597ab5c64f1b7032985d040b19be27031be087b', 'message': 'Drop python3.6 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6 support, project started adding python 3.8 as minimum,\n\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I43aa0f2a571f5a4f2bb31c58a3e287b519dd48bf\n'}, {'number': 2, 'created': '2022-05-05 13:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/407acc3b16c57139a1c4b263bd4741b334d26420', 'message': ""Drop python3.6/3.7 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6/3.7 support, project started adding python 3.8 as minimum,\n\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nAlso moving zuul's job to zed\n\nChange-Id: I43aa0f2a571f5a4f2bb31c58a3e287b519dd48bf\n""}, {'number': 3, 'created': '2022-05-23 09:53:37.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/0ed09452759dc021c5c1a5aa9d460eacd5a5ae70', 'message': ""Drop python3.6/3.7 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6/3.7 support, project started adding python 3.8 as minimum,\n\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nAlso moving zuul's job to zed\n\nChange-Id: I43aa0f2a571f5a4f2bb31c58a3e287b519dd48bf\n""}]",4,840619,0ed09452759dc021c5c1a5aa9d460eacd5a5ae70,14,4,3,28522,,,0,"Drop python3.6/3.7 support in testing runtime

In Zed cycle testing runtime, we are targetting to drop the
python 3.6/3.7 support, project started adding python 3.8 as minimum,

example nova:
- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13

Also moving zuul's job to zed

Change-Id: I43aa0f2a571f5a4f2bb31c58a3e287b519dd48bf
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/19/840619/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f597ab5c64f1b7032985d040b19be27031be087b,drop-py36,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Ftripleo-ansible~master~Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817,openstack/tripleo-ansible,master,Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817,Get all of the INPUT rules in a dedicated chain,ABANDONED,2022-04-25 08:58:53.000000000,2022-06-07 09:36:45.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-04-25 08:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7621178133bd9e539f5bdf2d07be4e80e730f223', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 2, 'created': '2022-04-25 14:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/04ff5250420b3bb3330189591fb58abcc9f10007', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the goto(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 3, 'created': '2022-04-26 11:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba09477e9b873b2bff6a6e7e5b562d436177ee95', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the goto(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/839364\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 4, 'created': '2022-04-26 12:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a62710e8d61f6e1fbe2aafa5683e9fe070bf61a', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the goto(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 5, 'created': '2022-04-26 14:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ecec6b74a15ed83e2deb36ec39191170646ce4f1', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the jump(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 6, 'created': '2022-04-29 12:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5dd212dade8e93610685c6ab93a0822a362f958', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the jump(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 7, 'created': '2022-05-10 12:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5707df82e8b6977a9b422312696834afa9f569a9', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the jump(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841259\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 8, 'created': '2022-05-23 18:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2e7c3fe91071ab8840fb081361477a3cc495710', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the jump(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841259\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 9, 'created': '2022-05-24 07:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e8d2f457c56224ced4b27cf4066712b11981945', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the jump(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}, {'number': 10, 'created': '2022-05-24 08:29:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/tasks/iptables.yaml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9676002d252e8c1c5fdd9207e80e253121a831d4', 'message': 'Get all of the INPUT rules in a dedicated chain\n\nDoing so, we\'ll get a cleaner firewall management. This will allow in a\nnear future the possibility to drop unmanaged rules (as a follow-up),\nwhile ensure we won\'t hit any issue such as [1].\n\nIn addition, we\'re moving to a chain policy, applied to INPUT, instead\nof a generic ""drop-all"" rule. This will ensure we won\'t have anything\nlike ""append a new rule"" that will then be after the drop-all.\n\nWhile, currently, we only insert rules, if anyone switches the ""action""\nto ""append"", they won\'t see their rule applied in case of an\nupdate/addition. Note that, currently, it\'s ""inserting"" by default.\n\nFinally, this dedicated chain makes things easier to debug, since we\'d\nbe able to call `iptables -vnL TRIPLEO_INPUT\' to get ""our"" rules only.\n\nAnd it will be easier to see what rules are being added in the INPUT by\n3rd parties.\n\nNote: the jump(TRIPLEO_INPUT) has a fixed rule number in order to\nprevent ordering issue such as [2] in CI.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1969158\n[2] https://bugs.launchpad.net/tripleo/+bug/1970211\n\nChange-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817\nRelated-Bug: #1969158\n'}]",27,839163,9676002d252e8c1c5fdd9207e80e253121a831d4,62,10,10,28223,,,0,"Get all of the INPUT rules in a dedicated chain

Doing so, we'll get a cleaner firewall management. This will allow in a
near future the possibility to drop unmanaged rules (as a follow-up),
while ensure we won't hit any issue such as [1].

In addition, we're moving to a chain policy, applied to INPUT, instead
of a generic ""drop-all"" rule. This will ensure we won't have anything
like ""append a new rule"" that will then be after the drop-all.

While, currently, we only insert rules, if anyone switches the ""action""
to ""append"", they won't see their rule applied in case of an
update/addition. Note that, currently, it's ""inserting"" by default.

Finally, this dedicated chain makes things easier to debug, since we'd
be able to call `iptables -vnL TRIPLEO_INPUT' to get ""our"" rules only.

And it will be easier to see what rules are being added in the INPUT by
3rd parties.

Note: the jump(TRIPLEO_INPUT) has a fixed rule number in order to
prevent ordering issue such as [2] in CI.

[1] https://bugs.launchpad.net/tripleo/+bug/1969158
[2] https://bugs.launchpad.net/tripleo/+bug/1970211

Change-Id: Iaa24f58ef9d6a6cf295ed8f37dfd5d9be817c817
Related-Bug: #1969158
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/839163/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/ansible_plugins/action/tripleo_iptables.py']",3,7621178133bd9e539f5bdf2d07be4e80e730f223,firewall/dedicated-chain," # Instead of using the default INPUT, let's push everything # in a dedicated chain. That will allow a cleaner management # of the rules, while ensuring we're able to inject precise things # in INPUT, such as an anti-lockout rule, without impacting # the TRIPLEO_INPUT chain. if rule_data['chain'] == 'INPUT': rule_data['chain'] = 'TRIPLEO_INPUT' ",,41,2
openstack%2Ftripleo-ansible~master~Ia05b2c263d73342736a3e0c86b9012f8bac03d0a,openstack/tripleo-ansible,master,Ia05b2c263d73342736a3e0c86b9012f8bac03d0a,DNM - testing some more firewall things,ABANDONED,2022-05-06 14:21:32.000000000,2022-06-07 09:36:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-06 14:21:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f99b6a6984325092a85c76b96f39030434cbdce3', 'message': 'DNM - testing some more firewall things\n\nChange-Id: Ia05b2c263d73342736a3e0c86b9012f8bac03d0a\n'}]",1,840907,f99b6a6984325092a85c76b96f39030434cbdce3,5,3,1,28223,,,0,"DNM - testing some more firewall things

Change-Id: Ia05b2c263d73342736a3e0c86b9012f8bac03d0a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/840907/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_firewall/tasks/main.yml'],1,f99b6a6984325092a85c76b96f39030434cbdce3,DNM/testing-firewall-policies, - name: Inject anti-lockout rule in INPUT ansible.builtin.iptables: chain: 'INPUT' comment: 'anti-lockout rule' action: 'insert' # make sure it's the first rule protocol: 'tcp' destination_port: '22' jump: 'ACCEPT' - name: Set INPUT policy to DROP ansible.builtin.iptables: chain: 'INPUT' policy: 'DROP' ,,14,0
openstack%2Fkeystoneauth~master~Ic7671ad666ebc0614686e068b9d4c0824e384fb3,openstack/keystoneauth,master,Ic7671ad666ebc0614686e068b9d4c0824e384fb3,Update python testing as per zed cycle teting runtime,MERGED,2022-06-03 15:56:17.000000000,2022-06-07 09:32:43.000000000,2022-06-07 09:30:28.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 15:56:17.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-c407d5898c5eafec.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/2445a5df78d808a773ea820505c7af5215c573cf', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: Ic7671ad666ebc0614686e068b9d4c0824e384fb3\n'}]",1,844616,2445a5df78d808a773ea820505c7af5215c573cf,12,3,1,14250,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: Ic7671ad666ebc0614686e068b9d4c0824e384fb3
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/16/844616/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-c407d5898c5eafec.yaml', 'setup.cfg', 'tox.ini']",4,2445a5df78d808a773ea820505c7af5215c573cf,,"envlist = py39,pep8,releasenotes","envlist = py38,pep8,releasenotes",9,5
openstack%2Fos-brick~master~I66e866700728eee7160f48455258c3974ada55bf,openstack/os-brick,master,I66e866700728eee7160f48455258c3974ada55bf,Avoid volume extension errors caused by multipath-tools version,MERGED,2020-11-16 06:23:57.000000000,2022-06-07 09:16:07.000000000,2022-06-07 09:14:30.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}, {'_account_id': 30696}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-11-16 06:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d309a3ace2fcbb3979509ae64661e6b509129b4a', 'message': ""Make sure extend_volume succeed despite multipath-tools version\n\nThe `multipathd reconfigure` has became a asynchronous command\nsince the 0.6.1 version of multipath-tools. That leads to fail\nto extend in-use fibre channel volume, because `multipathd resize\nmap` will output 'timeout' before `multipathd reconfigure` command\nfinishes when `multipathd resize map` command will be executed as\nsoon as `multipathd reconfigure` command is executed.\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n""}, {'number': 2, 'created': '2022-03-31 15:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9378a479fc92a85a445671406b4fe8dc41ba015f', 'message': ""Make sure extend_volume succeed despite multipath-tools version\n\nThe `multipathd reconfigure` has became a asynchronous command\nsince the 0.6.1 version of multipath-tools. That leads to fail\nto extend in-use fibre channel volume, because `multipathd resize\nmap` will output 'timeout' before `multipathd reconfigure` command\nfinishes when `multipathd resize map` command will be executed as\nsoon as `multipathd reconfigure` command is executed.\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n""}, {'number': 3, 'created': '2022-03-31 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/75579922e5aa2a0349d03b60a8ab0a4df35ec44a', 'message': ""Make sure extend_volume succeed despite multipath-tools version\n\nThe `multipathd reconfigure` has became a asynchronous command\nsince the 0.6.1 version of multipath-tools. That leads to fail\nto extend in-use fibre channel volume, because `multipathd resize\nmap` will output 'timeout' before `multipathd reconfigure` command\nfinishes when `multipathd resize map` command will be executed as\nsoon as `multipathd reconfigure` command is executed.\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n""}, {'number': 4, 'created': '2022-04-08 10:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4f00068d73d427c8bdf8dd19a51555feb7eb5795', 'message': ""Make sure extend_volume succeed despite multipath-tools version\n\nThe `multipathd reconfigure` has became a asynchronous command\nsince the 0.6.1 version of multipath-tools. That leads to fail\nto extend in-use fibre channel volume, because `multipathd resize\nmap` will output 'timeout' before `multipathd reconfigure` command\nfinishes when `multipathd resize map` command will be executed as\nsoon as `multipathd reconfigure` command is executed.\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n""}, {'number': 5, 'created': '2022-04-08 10:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a35e9f9eadb799dc03398e400897ac171c9eb267', 'message': ""Make sure extend_volume succeed despite multipath-tools version\n\nThe `multipathd reconfigure` has became a asynchronous command\nsince the 0.6.1 version of multipath-tools. That leads to fail\nto extend in-use fibre channel volume, because `multipathd resize\nmap` will output 'timeout' before `multipathd reconfigure` command\nfinishes when `multipathd resize map` command will be executed as\nsoon as `multipathd reconfigure` command is executed.\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n""}, {'number': 6, 'created': '2022-05-12 07:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8c13de493db134ed8fab160f3ff1d061a245441b', 'message': 'Avoid volume extension errors caused by multipath-tools version\n\n`multipathd reconfigure` is an asynchronous command as of\nmultipath-tools 0.6.1 [1][2], potentially even before that [3].\n\nExtending in-use iSCSI or FC volumes can fail because of that\nas `multipathd resize map` will output ""timeout"" while the\n""multipathd reconfigure"" operation is still in progress.\n\nThis commit will ensure that multipathd errors are handled\naccordingly, retrying in case of timeouts for up to 2 minutes.\n\n[1] https://github.com/openSUSE/multipath-tools/blob/0.6.0/multipathd/main.c#L997\n[2] https://github.com/openSUSE/multipath-tools/blob/0.6.1/multipathd/main.c#L1135\n[3] https://github.com/opensvc/multipath-tools/blob/b21c567961f518810a1ac3b209c8db45f6dbac2c/multipathd/cli_handlers.c#L847-L851\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n'}, {'number': 7, 'created': '2022-05-27 07:48:03.000000000', 'files': ['releasenotes/notes/bug-1888675-mpath-resize-6013ce39fa2b8401.yaml', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/557f38677a07386807b8d284a20b0ecaa61490f9', 'message': 'Avoid volume extension errors caused by multipath-tools version\n\n`multipathd reconfigure` is an asynchronous command as of\nmultipath-tools 0.6.1 [1][2], potentially even before that [3].\n\nExtending in-use iSCSI or FC volumes can fail because of that\nas `multipathd resize map` will output ""timeout"" while the\n""multipathd reconfigure"" operation is still in progress.\n\nThis commit will ensure that multipathd errors are handled\naccordingly, retrying in case of timeouts for up to 2 minutes.\n\n[1] https://github.com/openSUSE/multipath-tools/blob/0.6.0/multipathd/main.c#L997\n[2] https://github.com/openSUSE/multipath-tools/blob/0.6.1/multipathd/main.c#L1135\n[3] https://github.com/opensvc/multipath-tools/blob/b21c567961f518810a1ac3b209c8db45f6dbac2c/multipathd/cli_handlers.c#L847-L851\n\nChange-Id: I66e866700728eee7160f48455258c3974ada55bf\nCloses-Bug: #1888675\n'}]",52,762776,557f38677a07386807b8d284a20b0ecaa61490f9,95,14,7,30696,,,0,"Avoid volume extension errors caused by multipath-tools version

`multipathd reconfigure` is an asynchronous command as of
multipath-tools 0.6.1 [1][2], potentially even before that [3].

Extending in-use iSCSI or FC volumes can fail because of that
as `multipathd resize map` will output ""timeout"" while the
""multipathd reconfigure"" operation is still in progress.

This commit will ensure that multipathd errors are handled
accordingly, retrying in case of timeouts for up to 2 minutes.

[1] https://github.com/openSUSE/multipath-tools/blob/0.6.0/multipathd/main.c#L997
[2] https://github.com/openSUSE/multipath-tools/blob/0.6.1/multipathd/main.c#L1135
[3] https://github.com/opensvc/multipath-tools/blob/b21c567961f518810a1ac3b209c8db45f6dbac2c/multipathd/cli_handlers.c#L847-L851

Change-Id: I66e866700728eee7160f48455258c3974ada55bf
Closes-Bug: #1888675
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/76/762776/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/linuxscsi.py'],1,d309a3ace2fcbb3979509ae64661e6b509129b4a,multipathd_resize, while True: result = self.multipath_resize_map(scsi_wwn) if 'timeout' not in result: break, result = self.multipath_resize_map(scsi_wwn),4,1
openstack%2Fironic-python-agent~stable%2Fxena~Id7b557419d513375816d73901e2ab6f139d765ad,openstack/ironic-python-agent,stable/xena,Id7b557419d513375816d73901e2ab6f139d765ad,Refactor efi_utils for easier maintaining and debugging,ABANDONED,2022-06-07 09:01:45.000000000,2022-06-07 09:02:57.000000000,,[],"[{'number': 1, 'created': '2022-06-07 09:01:45.000000000', 'files': ['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/45c55ad5172962b732ada29cfcc23e151eead200', 'message': 'Refactor efi_utils for easier maintaining and debugging\n\n* Move irrelevant code from inside the giant try..except block\n* Do not bother removing the (empty) temporary mountpoint\n* Fix log messages according to the actual code\n* Fix some code duplication\n* Add missing unit tests for failure case\n\nChange-Id: Id7b557419d513375816d73901e2ab6f139d765ad\n(cherry picked from commit 3d3df17e5ac2f7446ba447ebf9b30047ce0d35e5)\n'}]",0,844807,45c55ad5172962b732ada29cfcc23e151eead200,2,0,1,23851,,,0,"Refactor efi_utils for easier maintaining and debugging

* Move irrelevant code from inside the giant try..except block
* Do not bother removing the (empty) temporary mountpoint
* Fix log messages according to the actual code
* Fix some code duplication
* Add missing unit tests for failure case

Change-Id: Id7b557419d513375816d73901e2ab6f139d765ad
(cherry picked from commit 3d3df17e5ac2f7446ba447ebf9b30047ce0d35e5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/07/844807/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py']",2,45c55ad5172962b732ada29cfcc23e151eead200,efi-utils-stable/xena,"<<<<<<< HEAD (3aa592 Merge ""Use a pre-defined partition UUID to detect configdriv) ======= # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import re import sys import tempfile from ironic_lib import disk_utils from oslo_concurrency import processutils from oslo_log import log from ironic_python_agent import errors from ironic_python_agent.extensions import image from ironic_python_agent import hardware from ironic_python_agent import partition_utils from ironic_python_agent import utils LOG = log.getLogger(__name__) def manage_uefi(device, efi_system_part_uuid=None): """"""Manage the device looking for valid efi bootloaders to update the nvram. This method checks for valid efi bootloaders in the device, if they exists it updates the nvram using the efibootmgr. :param device: the device to be checked. :param efi_system_part_uuid: efi partition uuid. :raises: DeviceNotFound if the efi partition cannot be found. :return: True - if it founds any efi bootloader and the nvram was updated using the efibootmgr. False - if no efi bootloader is found. """""" efi_partition_mount_point = None efi_mounted = False LOG.debug('Attempting UEFI loader autodetection and NVRAM record setup.') # Force UEFI to rescan the device. utils.rescan_device(device) # Trust the contents on the disk in the event of a whole disk image. efi_partition = disk_utils.find_efi_partition(device) if efi_partition: efi_partition = efi_partition['number'] if not efi_partition and efi_system_part_uuid: # _get_partition returns <device>+<partition> and we only need the # partition number partition = partition_utils.get_partition( device, uuid=efi_system_part_uuid) try: efi_partition = int(partition.replace(device, """")) except ValueError: # NVMe Devices get a partitioning scheme that is different from # traditional block devices like SCSI/SATA efi_partition = int(partition.replace(device + 'p', """")) if not efi_partition: # NOTE(dtantsur): we cannot have a valid EFI deployment without an # EFI partition at all. This code path is easily hit when using an # image that is not UEFI compatible (which sadly applies to most # cloud images out there, with a nice exception of Ubuntu). raise errors.DeviceNotFound( ""No EFI partition could be detected on device %s and "" ""EFI partition UUID has not been recorded during deployment "" ""(which is often the case for whole disk images). "" ""Are you using a UEFI-compatible image?"" % device) local_path = tempfile.mkdtemp() efi_partition_mount_point = os.path.join(local_path, ""boot/efi"") if not os.path.exists(efi_partition_mount_point): os.makedirs(efi_partition_mount_point) # The mount needs the device with the partition, in case the # device ends with a digit we add a `p` and the partition number we # found, otherwise we just join the device and the partition number if device[-1].isdigit(): efi_device_part = '{}p{}'.format(device, efi_partition) else: efi_device_part = '{}{}'.format(device, efi_partition) try: utils.execute('mount', efi_device_part, efi_partition_mount_point) efi_mounted = True valid_efi_bootloaders = _get_efi_bootloaders(efi_partition_mount_point) if not valid_efi_bootloaders: # NOTE(dtantsur): if we have an empty EFI partition, try to use # grub-install to populate it. LOG.warning('Empty EFI partition detected.') return False if not hardware.is_md_device(device): efi_devices = [device] efi_partition_numbers = [efi_partition] efi_label_suffix = '' else: # umount to allow for signature removal (to avoid confusion about # which ESP to mount once the instance is deployed) utils.execute('umount', efi_partition_mount_point, attempts=3, delay_on_retry=True) efi_mounted = False holders = hardware.get_holder_disks(device) efi_md_device = image.prepare_boot_partitions_for_softraid( device, holders, efi_device_part, target_boot_mode='uefi' ) efi_devices = hardware.get_component_devices(efi_md_device) efi_partition_numbers = [] _PARTITION_NUMBER = re.compile(r'(\d+)$') for dev in efi_devices: match = _PARTITION_NUMBER.search(dev) if match: partition_number = match.group(1) efi_partition_numbers.append(partition_number) else: raise errors.DeviceNotFound( ""Could not extract the partition number "" ""from %s!"" % dev) efi_label_suffix = ""(RAID, part%s)"" # remount for _run_efibootmgr utils.execute('mount', efi_device_part, efi_partition_mount_point) efi_mounted = True efi_dev_part = zip(efi_devices, efi_partition_numbers) for i, (efi_dev, efi_part) in enumerate(efi_dev_part): LOG.debug(""Calling efibootmgr with dev %s part %s"", efi_dev, efi_part) if efi_label_suffix: # NOTE (arne_wiebalck): uniqify the labels to prevent # unintentional boot entry cleanup _run_efibootmgr(valid_efi_bootloaders, efi_dev, efi_part, efi_partition_mount_point, efi_label_suffix % i) else: _run_efibootmgr(valid_efi_bootloaders, efi_dev, efi_part, efi_partition_mount_point) return True except processutils.ProcessExecutionError as e: error_msg = ('Could not configure UEFI boot on device %(dev)s: %(err)s' % {'dev': device, 'err': e}) LOG.exception(error_msg) raise errors.CommandExecutionError(error_msg) finally: if efi_mounted: try: utils.execute('umount', efi_partition_mount_point, attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: error_msg = ('Umounting efi system partition failed. ' 'Attempted 3 times. Error: %s' % e) LOG.error(error_msg) # Do not mask the actual failure, if any if sys.exc_info()[0] is None: raise errors.CommandExecutionError(error_msg) else: try: utils.execute('sync') except processutils.ProcessExecutionError as e: LOG.warning('Unable to sync the local disks: %s', e) # NOTE(TheJulia): Do not add bootia32.csv to this list. That is 32bit # EFI booting and never really became popular. BOOTLOADERS_EFI = [ 'bootx64.csv', # Used by GRUB2 shim loader (Ubuntu, Red Hat) 'boot.csv', # Used by rEFInd, Centos7 Grub2 'bootia32.efi', 'bootx64.efi', # x86_64 Default 'bootia64.efi', 'bootarm.efi', 'bootaa64.efi', # Arm64 Default 'bootriscv32.efi', 'bootriscv64.efi', 'bootriscv128.efi', 'grubaa64.efi', 'winload.efi' ] def _get_efi_bootloaders(location): """"""Get all valid efi bootloaders in a given location :param location: the location where it should start looking for the efi files. :return: a list of relative paths to valid efi bootloaders or reference files. """""" # Let's find all files with .efi or .EFI extension LOG.debug('Looking for all efi files on %s', location) valid_bootloaders = [] for root, dirs, files in os.walk(location): efi_files = [f for f in files if f.lower() in BOOTLOADERS_EFI] LOG.debug('efi files found in %(location)s : %(efi_files)s', {'location': location, 'efi_files': str(efi_files)}) for name in efi_files: efi_f = os.path.join(root, name) LOG.debug('Checking if %s is executable', efi_f) if os.access(efi_f, os.X_OK): v_bl = efi_f.split(location)[-1][1:] LOG.debug('%s is a valid bootloader', v_bl) valid_bootloaders.append(v_bl) if 'csv' in efi_f.lower(): v_bl = efi_f.split(location)[-1][1:] LOG.debug('%s is a pointer to a bootloader', v_bl) # The CSV files are intended to be authortative as # to the bootloader and the label to be used. Since # we found one, we're going to point directly to it. # centos7 did ship with 2, but with the same contents. # TODO(TheJulia): Perhaps we extend this to make a list # of CSVs instead and only return those?! But then the # question is which is right/first/preferred. return [v_bl] return valid_bootloaders # NOTE(TheJulia): regex used to identify entries in the efibootmgr # output on stdout. _ENTRY_LABEL = re.compile(r'Boot([0-9a-f-A-F]+)\*?\s(.*).*$') def get_boot_records(): """"""Executes efibootmgr and returns boot records. :return: an iterator yielding pairs (boot number, boot record). """""" efi_output = utils.execute('efibootmgr', '-v') for line in efi_output[0].split('\n'): match = _ENTRY_LABEL.match(line) if match is not None: yield (match[1], match[2]) def add_boot_record(device, efi_partition, loader, label): """"""Add an EFI boot record with efibootmgr. :param device: the device to be used :param efi_partition: the number of the EFI partition on the device :param loader: path to the EFI boot loader :param label: the record label """""" # https://linux.die.net/man/8/efibootmgr utils.execute('efibootmgr', '-v', '-c', '-d', device, '-p', efi_partition, '-w', '-L', label, '-l', loader) def remove_boot_record(boot_num): """"""Remove an EFI boot record with efibootmgr. :param boot_num: the number of the boot record """""" utils.execute('efibootmgr', '-b', boot_num, '-B') def _run_efibootmgr(valid_efi_bootloaders, device, efi_partition, mount_point, label_suffix=None): """"""Executes efibootmgr and removes duplicate entries. :param valid_efi_bootloaders: the list of valid efi bootloaders :param device: the device to be used :param efi_partition: the efi partition on the device :param mount_point: The mountpoint for the EFI partition so we can read contents of files if necessary to perform proper bootloader injection operations. :param label_suffix: a string to be appended to the EFI label, mainly used in the case of software to uniqify the entries for the md components. """""" # Before updating let's get information about the bootorder LOG.debug(""Getting information about boot order."") boot_records = list(get_boot_records()) label_id = 1 for v_bl in valid_efi_bootloaders: if 'csv' in v_bl.lower(): LOG.debug('A CSV file has been identified as a bootloader hint. ' 'File: %s', v_bl) # These files are always UTF-16 encoded, sometimes have a header. # Positive bonus is python silently drops the FEFF header. with open(mount_point + '/' + v_bl, 'r', encoding='utf-16') as csv: contents = str(csv.read()) csv_contents = contents.split(',', maxsplit=3) csv_filename = v_bl.split('/')[-1] v_efi_bl_path = v_bl.replace(csv_filename, str(csv_contents[0])) v_efi_bl_path = '\\' + v_efi_bl_path.replace('/', '\\') label = csv_contents[1] if label_suffix: label = label + "" "" + str(label_suffix) else: v_efi_bl_path = '\\' + v_bl.replace('/', '\\') label = 'ironic' + str(label_id) if label_suffix: label = label + "" "" + str(label_suffix) # Iterate through standard out, and look for duplicates for boot_num, boot_rec in boot_records: # Look for the base label in the string if a line match # occurs, so we can identify if we need to eliminate the # entry. if label in boot_rec: LOG.debug(""Found bootnum %s matching label"", boot_num) remove_boot_record(boot_num) LOG.info(""Adding loader %(path)s on partition %(part)s of device "" "" %(dev)s with label %(label)s"", {'path': v_efi_bl_path, 'part': efi_partition, 'dev': device, 'label': label}) # Update the nvram using efibootmgr add_boot_record(device, efi_partition, v_efi_bl_path, label) # Increment the ID in case the loop runs again. label_id += 1 >>>>>>> CHANGE (3d3df1 Refactor efi_utils for easier maintaining and debugging) ",,804,0
openstack%2Fironic-python-agent~bugfix%2F8.6~I953c936cbf8fad889108cbf4e50b1a15f511b38c,openstack/ironic-python-agent,bugfix/8.6,I953c936cbf8fad889108cbf4e50b1a15f511b38c,Create fstab entry with appropriate label,ABANDONED,2022-06-07 08:50:17.000000000,2022-06-07 08:56:39.000000000,,[],"[{'number': 1, 'created': '2022-06-07 08:50:17.000000000', 'files': ['ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3983b6e27b156b4341d375ee1bceaee7f006b2ad', 'message': ""Create fstab entry with appropriate label\n\nDepending on the how the stars align with partition images\nbeing written to a remote system, we *may* end up with\n*either* a Partition UUID value, or a Partition's UUID value.\n\nWhich are distinctly different.\n\nThis is becasue the value, when collected as a result of writing\nan image to disk *falls* back and passes the value to enable\npartition discovery and matching.\n\nLater on, when we realized we ought to create an fstab entry,\nwe blindly re-used the value thinking it was, indeed, always\na Partition's UUID and not the Partition UUID. Obviously,\nthe label type is quite explicit, either UUID or PARTUUID\nrespectively, when initial ramdisk utilities such as dracut\nare searching and mounting filesystems.\n\nAdds capability to identify the correct label to utilize\nbased upon the current state of the block devices on disk.\n\nGranted, we are likely only exposed to this because of IO\nrace conditions under high concurrecy load operations.\nNormally this would only be seen on test VMs, but\nsystems being backed by a Storage Area Network *can*\nexibit the same IO race conditions as virtual machines.\n\nChange-Id: I953c936cbf8fad889108cbf4e50b1a15f511b38c\nResolves: rhbz#2058717\nStory: #2009881\nTask: 44623\n(cherry picked from commit 99ca1086dbfc7b6e41cf800b0bd899565e2e8922)\n""}]",0,844806,3983b6e27b156b4341d375ee1bceaee7f006b2ad,2,0,1,23851,,,0,"Create fstab entry with appropriate label

Depending on the how the stars align with partition images
being written to a remote system, we *may* end up with
*either* a Partition UUID value, or a Partition's UUID value.

Which are distinctly different.

This is becasue the value, when collected as a result of writing
an image to disk *falls* back and passes the value to enable
partition discovery and matching.

Later on, when we realized we ought to create an fstab entry,
we blindly re-used the value thinking it was, indeed, always
a Partition's UUID and not the Partition UUID. Obviously,
the label type is quite explicit, either UUID or PARTUUID
respectively, when initial ramdisk utilities such as dracut
are searching and mounting filesystems.

Adds capability to identify the correct label to utilize
based upon the current state of the block devices on disk.

Granted, we are likely only exposed to this because of IO
race conditions under high concurrecy load operations.
Normally this would only be seen on test VMs, but
systems being backed by a Storage Area Network *can*
exibit the same IO race conditions as virtual machines.

Change-Id: I953c936cbf8fad889108cbf4e50b1a15f511b38c
Resolves: rhbz#2058717
Story: #2009881
Task: 44623
(cherry picked from commit 99ca1086dbfc7b6e41cf800b0bd899565e2e8922)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/844806/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",2,3983b6e27b156b4341d375ee1bceaee7f006b2ad,,<<<<<<< HEAD (d25f5b Multipath Hardware path handling)======= >>>>>>> CHANGE (99ca10 Create fstab entry with appropriate label),,25,0
openstack%2Fcinder~master~I07d74078dbb102490dd722029e32c74cec3aa44c,openstack/cinder,master,I07d74078dbb102490dd722029e32c74cec3aa44c,Fix reported storage_protocol,MERGED,2022-03-31 19:00:45.000000000,2022-06-07 08:32:23.000000000,2022-04-29 19:50:29.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-03-31 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5b71106e6466bde4e0772de6c374fdcc6ba72af', 'message': ""Fix reported storage_protocol\n\nCinder has multiple drivers reporting the same storage_protocol in their\nstats but with different strings:\n\nFor example we have:\n- nfs and NFS\n- nveof, NVMe-oF, NVMeOF\n\nThis patch documents that the right values are NFS and NVMe-oF and adds\ncompatibility code for drivers that were reporting it wrong so that they\nare reporting the incorrect old value as well as the new one.\n\nThe reason for providing the backward compatible value is that a\ndeployment could be using it for volume types.\n\nNFS and LVM drivers were both assuming that the storage_protocol\nreported in the stats and the volume_driver_type returned in\ninitialize_connection were the same thing, but they aren't.  For those 2\ndrivers a bit of additional code was necessary to make this distinction.\n\nThis change will facilitate identifying NVMe-oF drivers (for bug\n1961102) for the purpose of reporting the shared_targets key.\n\nCloses-Bug: #1966103\nRelated-Bug: #1961102\nChange-Id: I07d74078dbb102490dd722029e32c74cec3aa44c\n""}, {'number': 2, 'created': '2022-04-22 13:56:52.000000000', 'files': ['doc/source/contributor/drivers.rst', 'cinder/scheduler/weights/goodness.py', 'releasenotes/notes/fix-storage_protocol-6baf55e13249463c.yaml', 'cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/api/views/capabilities.py', 'cinder/api/views/scheduler_stats.py', 'cinder/scheduler/filters/driver_filter.py', 'cinder/interface/volume_driver.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/39e518456c0fcde8a2111d583e52c5dfe6fa515d', 'message': 'Fix reported storage_protocol\n\nCinder has multiple drivers reporting the same storage_protocol in their\nstats but with different strings:\n\nFor example we have the following variants:\n- nfs and NFS\n- nveof, NVMe-oF, NVMeOF\n- iSCSI, iscsi\n- FC, fc, fibre_channel\n\nThis patch documents the right values (to use existing constants) and\nmakes the scheduler treat all variants as if they were equal.\n\nThis is done by changing the storage_protocol into a list in the\nscheduler upon reception of the stats from the volume.  Most of the code\nin the scheduler is already able to handle this, the only changes\nnecessary are on the filter and goodness function code, which will now\nrun the respective functions for all the different protocol alternatives\nand select the right one, but only when the function actually uses the\nstorage_protocol.\n\nThe API will now report the preferred protocol name in operations like\n""cinder get-pools --detail"".\n\nCloses-Bug: #1966103\nChange-Id: I07d74078dbb102490dd722029e32c74cec3aa44c\n'}]",19,836069,39e518456c0fcde8a2111d583e52c5dfe6fa515d,77,5,2,9535,,,0,"Fix reported storage_protocol

Cinder has multiple drivers reporting the same storage_protocol in their
stats but with different strings:

For example we have the following variants:
- nfs and NFS
- nveof, NVMe-oF, NVMeOF
- iSCSI, iscsi
- FC, fc, fibre_channel

This patch documents the right values (to use existing constants) and
makes the scheduler treat all variants as if they were equal.

This is done by changing the storage_protocol into a list in the
scheduler upon reception of the stats from the volume.  Most of the code
in the scheduler is already able to handle this, the only changes
necessary are on the filter and goodness function code, which will now
run the respective functions for all the different protocol alternatives
and select the right one, but only when the function actually uses the
storage_protocol.

The API will now report the preferred protocol name in operations like
""cinder get-pools --detail"".

Closes-Bug: #1966103
Change-Id: I07d74078dbb102490dd722029e32c74cec3aa44c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/836069/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/rsd.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/targets/driver.py', 'cinder/tests/unit/volume/drivers/test_kioxia.py', 'cinder/tests/unit/volume/drivers/test_rsd.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/nfs.py', 'cinder/interface/volume_driver.py', 'doc/source/contributor/drivers.rst', 'cinder/volume/drivers/kioxia/kumoscale.py', 'releasenotes/notes/storage_protocol-726b3fd5cf8e1fc1.yaml', 'cinder/volume/targets/nvmeof.py', 'cinder/volume/drivers/remotefs.py', 'cinder/volume/drivers/lvm.py']",15,c5b71106e6466bde4e0772de6c374fdcc6ba72af,lvm-nvmet-shared, self.protocol = (self.target_driver.storage_protocol or self.target_driver.protocol), self.protocol = self.target_driver.protocol,54,11
openstack%2Fzaqar~master~Ia7d398c7fc719aedbfb0534ec1de25138c1510fc,openstack/zaqar,master,Ia7d398c7fc719aedbfb0534ec1de25138c1510fc,Replace job template for Yoga cycle,ABANDONED,2022-02-08 14:21:17.000000000,2022-06-07 08:31:52.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 14:21:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/03d096d2c7d9d5ccf6cd40d6a7d77747f8d1f072', 'message': 'Replace job template for Yoga cycle\n\nIt seems job template has not been updated since Victoria. This change\nfirst fixes the template used in master for upcoming Yoga cycle.\nStable branches will be fixed separately.\n\nChange-Id: Ia7d398c7fc719aedbfb0534ec1de25138c1510fc\n'}]",1,828347,03d096d2c7d9d5ccf6cd40d6a7d77747f8d1f072,4,2,1,9816,,,0,"Replace job template for Yoga cycle

It seems job template has not been updated since Victoria. This change
first fixes the template used in master for upcoming Yoga cycle.
Stable branches will be fixed separately.

Change-Id: Ia7d398c7fc719aedbfb0534ec1de25138c1510fc
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/47/828347/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03d096d2c7d9d5ccf6cd40d6a7d77747f8d1f072,job-template, - openstack-python3-yoga-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fci-log-processing~master~Iced777c2435c73ab155a6d650c22e78107190810,openstack/ci-log-processing,master,Iced777c2435c73ab155a6d650c22e78107190810,Add option to skip DEBUG messages,MERGED,2022-05-30 14:20:42.000000000,2022-06-07 07:52:30.000000000,2022-06-07 07:51:18.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 34460}]","[{'number': 1, 'created': '2022-05-30 14:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/e8322686d97b9bec3f05538f98cba3bc76616a12', 'message': 'Add option to skip DEBUG messages\n\nThe DEBUG messages can take a lot of space which can be skipped\nwhen Opensearch cluster is out of space.\n\nChange-Id: Iced777c2435c73ab155a6d650c22e78107190810\n'}, {'number': 2, 'created': '2022-05-31 06:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/5e4c38f8726f0195ee8d3b2c3cbde5541e6e3290', 'message': 'Add option to skip DEBUG messages\n\nThe DEBUG messages can take a lot of space which can be skipped\nwhen Opensearch cluster is out of space.\n\nChange-Id: Iced777c2435c73ab155a6d650c22e78107190810\n'}, {'number': 3, 'created': '2022-06-02 13:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/58db989faafbb248aea1c1eb72f28a0dd835d28a', 'message': 'Add option to skip DEBUG messages\n\nThe DEBUG messages can take a lot of space which can be skipped\nwhen Opensearch cluster is out of space.\n\nChange-Id: Iced777c2435c73ab155a6d650c22e78107190810\n'}, {'number': 4, 'created': '2022-06-07 06:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/e6491cc3d48e9b7a1763c7d1b807ff08f235dd8e', 'message': 'Add option to skip DEBUG messages\n\nThe DEBUG messages can take a lot of space which can be skipped\nwhen Opensearch cluster is out of space.\n\nChange-Id: Iced777c2435c73ab155a6d650c22e78107190810\n'}, {'number': 5, 'created': '2022-06-07 07:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/66f9bb6077a78e09322de0a827f4b9c4053bcfa8', 'message': 'Add option to skip DEBUG messages\n\nThe DEBUG messages can take a lot of space which can be skipped\nwhen Opensearch cluster is out of space.\n\nChange-Id: Iced777c2435c73ab155a6d650c22e78107190810\n'}, {'number': 6, 'created': '2022-06-07 07:19:20.000000000', 'files': ['ansible/roles/logsender/templates/logsender.sh.j2', 'logscraper/tests/test_logsender.py', 'ansible/playbooks/deploy-services.yml', 'logscraper/logsender.py', 'ansible/roles/logsender/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/c37cf6ea87bb5aa5ef5094a34f55b76d97ca2580', 'message': 'Add option to skip DEBUG messages\n\nThe DEBUG messages can take a lot of space which can be skipped\nwhen Opensearch cluster is out of space.\n\nChange-Id: Iced777c2435c73ab155a6d650c22e78107190810\n'}]",8,843929,c37cf6ea87bb5aa5ef5094a34f55b76d97ca2580,27,7,6,20676,,,0,"Add option to skip DEBUG messages

The DEBUG messages can take a lot of space which can be skipped
when Opensearch cluster is out of space.

Change-Id: Iced777c2435c73ab155a6d650c22e78107190810
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/29/843929/6 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/tests/test_logsender.py', 'logscraper/logsender.py']",2,e8322686d97b9bec3f05538f98cba3bc76616a12,," parser.add_argument(""--skip-debug"", help=""Skip messages that contain: "" ""DEBUG word"", action=""store_true"")def doc_iter(inner, index, es_fields, doc_type, skip_debug): if not message or (skip_debug and 'DEBUG' in message):def send_to_es(build_file, es_fields, es_client, index, chunk_size, doc_type, skip_debug): docs = doc_iter(json_iter(build_file), index, es_fields, doc_type, skip_debug) docs = doc_iter(logline_iter(build_file), index, es_fields, doc_type, skip_debug) args.doc_type, args.skip_debug)","def doc_iter(inner, index, es_fields, doc_type): if not message:def send_to_es(build_file, es_fields, es_client, index, chunk_size, doc_type): docs = doc_iter(json_iter(build_file), index, es_fields, doc_type) docs = doc_iter(logline_iter(build_file), index, es_fields, doc_type) args.doc_type)",75,15
openstack%2Fblazar~master~I01abce1ddee907ce8f0bb1ed9340e5508ac173f3,openstack/blazar,master,I01abce1ddee907ce8f0bb1ed9340e5508ac173f3,Update IRC meeting information,MERGED,2022-06-07 07:15:58.000000000,2022-06-07 07:51:07.000000000,2022-06-07 07:50:01.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 07:15:58.000000000', 'files': ['doc/source/contributor/contribution.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/ac06f1f9f62205875c4fda48b6d6be79c49a1fa9', 'message': 'Update IRC meeting information\n\nChange-Id: I01abce1ddee907ce8f0bb1ed9340e5508ac173f3\n'}]",0,844915,ac06f1f9f62205875c4fda48b6d6be79c49a1fa9,7,2,1,15197,,,0,"Update IRC meeting information

Change-Id: I01abce1ddee907ce8f0bb1ed9340e5508ac173f3
",git fetch https://review.opendev.org/openstack/blazar refs/changes/15/844915/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contribution.rst'],1,ac06f1f9f62205875c4fda48b6d6be79c49a1fa9,irc-meeting,* We also have bi-weekly meetings on #openstack-blazar. Please check `meeting details <https://wiki.openstack.org/wiki/Meetings/Blazar>`_.,* We also have weekly meetings on #openstack-meeting-alt. Please check `meeting details <https://wiki.openstack.org/wiki/Meetings/Blazar>`_.,2,2
openstack%2Fpython-tripleoclient~master~I01a2f577a0e4dd32a898d3d459a950aef2d54f2f,openstack/python-tripleoclient,master,I01a2f577a0e4dd32a898d3d459a950aef2d54f2f,Remove upgrade converge,MERGED,2021-11-09 01:41:05.000000000,2022-06-07 06:49:13.000000000,2022-06-07 06:47:26.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-11-09 01:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd1aafc6a013cdf194aa1582fa2f0e6da19ceb10', 'message': 'Remove upgrade converge\n\nWith Emphemeral Heat, there is no Heat stack\nto update in the converge step. This change\nremoves upgrade converge in-line with changes\nthat have also been made to update converge.\n\nChange-Id: I01a2f577a0e4dd32a898d3d459a950aef2d54f2f\n'}, {'number': 2, 'created': '2022-03-08 04:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e61bfac85ba951efbadc5e35bed89ce8fab5cec', 'message': 'Remove upgrade converge\n\nWith Emphemeral Heat, there is no Heat stack\nto update in the converge step. This change\nremoves upgrade converge in-line with changes\nthat have also been made to update converge.\n\nChange-Id: I01a2f577a0e4dd32a898d3d459a950aef2d54f2f\n'}, {'number': 3, 'created': '2022-04-26 23:45:47.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_update/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8511e8e2ea889c3314a52dbe925c219f02751990', 'message': 'Remove upgrade converge\n\nWith Emphemeral Heat, there is no Heat stack\nto update in the converge step. This change\nremoves upgrade converge in-line with changes\nthat have also been made to update converge.\n\nChange-Id: I01a2f577a0e4dd32a898d3d459a950aef2d54f2f\n'}]",3,817127,8511e8e2ea889c3314a52dbe925c219f02751990,15,4,3,30073,,,0,"Remove upgrade converge

With Emphemeral Heat, there is no Heat stack
to update in the converge step. This change
removes upgrade converge in-line with changes
that have also been made to update converge.

Change-Id: I01a2f577a0e4dd32a898d3d459a950aef2d54f2f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/817127/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_update/fakes.py']",4,dd1aafc6a013cdf194aa1582fa2f0e6da19ceb10,remove_upgrade_converge,," class TestOvercloudUpdateConverge(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudUpdateConverge, self).setUp()",0,42
openstack%2Ftripleo-common~stable%2Ftrain~I5049e88872bfe3aa8072804cb67e8f7178951d9d,openstack/tripleo-common,stable/train,I5049e88872bfe3aa8072804cb67e8f7178951d9d,Fix reference to undefined variables when heat-config times out,MERGED,2022-02-14 11:49:08.000000000,2022-06-07 06:35:48.000000000,2022-06-07 06:34:40.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-14 11:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c1428c2be5ad9a1c1e10c71d37ace7e60b3c0d8', 'message': ""Fix reference to undefined variables when heat-config times out\n\nWhen an async task times out, it doesn't register its result and\nthe subsequent task which refers to the result can't look up details\nlike stderr output or return code.\n\nThis change defines the default values to fix reference to unefined\nvariables.\n\nCloses-Bug: #1958471\nChange-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d\n(cherry picked from commit 2cd1fbd87bfde7ec318356178d1ca4c68859e916)\n(cherry picked from commit 64e0dc7fdf69bb4363764efcf4536f938803c76e)\n(cherry picked from commit f105287f17242ef7570a34b6817af3032edc912a)\n(cherry picked from commit 5f000e26ad392282c63dc328ac9a3f9cfbb63c7e)\n""}, {'number': 2, 'created': '2022-04-12 15:10:23.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f8e854a6737dee0663d6e6e732e209a317a9dfa0', 'message': ""Fix reference to undefined variables when heat-config times out\n\nWhen an async task times out, it doesn't register its result and\nthe subsequent task which refers to the result can't look up details\nlike stderr output or return code.\n\nThis change defines the default values to fix reference to unefined\nvariables.\n\nCloses-Bug: #1958471\nChange-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d\n(cherry picked from commit 2cd1fbd87bfde7ec318356178d1ca4c68859e916)\n(cherry picked from commit 64e0dc7fdf69bb4363764efcf4536f938803c76e)\n(cherry picked from commit f105287f17242ef7570a34b6817af3032edc912a)\n""}]",1,829030,f8e854a6737dee0663d6e6e732e209a317a9dfa0,16,5,2,9816,,,0,"Fix reference to undefined variables when heat-config times out

When an async task times out, it doesn't register its result and
the subsequent task which refers to the result can't look up details
like stderr output or return code.

This change defines the default values to fix reference to unefined
variables.

Closes-Bug: #1958471
Change-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d
(cherry picked from commit 2cd1fbd87bfde7ec318356178d1ca4c68859e916)
(cherry picked from commit 64e0dc7fdf69bb4363764efcf4536f938803c76e)
(cherry picked from commit f105287f17242ef7570a34b6817af3032edc912a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/829030/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,9c1428c2be5ad9a1c1e10c71d37ace7e60b3c0d8,bug/1958471," - stderr: ""{{ deployment_async_result.stderr_lines | default(['Timed out']) }}"" - status_code: ""{{ deployment_async_result.rc | default(-1) }}"" failed_when: deployment_async_result.rc | default(-1) != 0"," - stderr: ""{{ deployment_async_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_async_result.rc }}"" failed_when: deployment_async_result.rc != 0",3,3
openstack%2Fpuppet-tripleo~master~I20c2aee6af03af96a4a2022681eabba75a6acf00,openstack/puppet-tripleo,master,I20c2aee6af03af96a4a2022681eabba75a6acf00,Horizon: Support Strict-Transport-Security header,MERGED,2022-05-10 02:38:16.000000000,2022-06-07 06:34:43.000000000,2022-06-07 06:34:43.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-10 02:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/57c6e5edd8f585c146f6865f96081081ddc76ddd', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n'}, {'number': 2, 'created': '2022-05-10 11:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3f63686354a802b478af522ae9c6774bff15a1f4', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n'}, {'number': 3, 'created': '2022-05-27 05:59:02.000000000', 'files': ['manifests/haproxy/horizon_endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/837abea1f385851aa9d67848867f63ae820f3b5c', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n'}]",2,841194,837abea1f385851aa9d67848867f63ae820f3b5c,21,6,3,9816,,,0,"Horizon: Support Strict-Transport-Security header

This allows operators to enable HTTP Strict-Transport-Security (HSTS)
for Horizon endpoint, to enforce usage of SSL.

Change-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/841194/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/horizon_endpoint.pp'],1,57c6e5edd8f585c146f6865f96081081ddc76ddd,tripleo-horizon-hsts,"# [*hsts_header_value*] # (optional) Adds the HTTP Strict Transport Securiy (HSTS) header to # response. This takes effect only when public_certificate is set. # Defaults to undef # $hsts_header_value = undef, if $hsts_header_value != undef { $hsts_header_value_real = join(any2array($hsts_header_value), '; ') $hsts_response = ""set-header Strict-Transport-Security \""${hsts_header_value};\"""" } else { $hsts_response = undef } $horizon_frontend_options = { 'http-response' => delete_undef_values([ 'replace-header Location http://(.*) https://\\1', $hsts_response]),"," $horizon_frontend_options = { 'http-response' => 'replace-header Location http://(.*) https://\\1',",17,1
openstack%2Fci-log-processing~master~Ib5a0dc819d3042ab5739c08733e86bc59b37c19b,openstack/ci-log-processing,master,Ib5a0dc819d3042ab5739c08733e86bc59b37c19b,Switch to async multiprocessing,MERGED,2022-06-02 12:47:27.000000000,2022-06-07 06:32:58.000000000,2022-06-07 06:31:25.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 12:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/ae529ee6669619391ca603fb5899941525806f27', 'message': 'Switch to async multiprocessing\n\nThe logscraper and logsender tool should not care for order, that\nthe data is send to the Opensearch, because the Opensearch service\nwill ""sort"" the data.\n\nChange-Id: Ib5a0dc819d3042ab5739c08733e86bc59b37c19b\n'}, {'number': 2, 'created': '2022-06-02 13:03:36.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'logscraper/tests/test_logsender.py', 'logscraper/logsender.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/ce64b594c6711ee3b8f9d0d32dee49972514760e', 'message': 'Switch to async multiprocessing\n\nThe logscraper and logsender tool should not care for order, that\nthe data is send to the Opensearch, because the Opensearch service\nwill ""sort"" the data.\n\nChange-Id: Ib5a0dc819d3042ab5739c08733e86bc59b37c19b\n'}]",0,844443,ce64b594c6711ee3b8f9d0d32dee49972514760e,10,5,2,20676,,,0,"Switch to async multiprocessing

The logscraper and logsender tool should not care for order, that
the data is send to the Opensearch, because the Opensearch service
will ""sort"" the data.

Change-Id: Ib5a0dc819d3042ab5739c08733e86bc59b37c19b
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/43/844443/1 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/logsender.py', 'logscraper/logscraper.py']",2,ae529ee6669619391ca603fb5899941525806f27,," r = pool.map_async(run_build, builds) r.wait()"," pool.map(run_build, builds)",4,3
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,openstack/puppet-openstack-integration,stable/wallaby,I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,CentOS: Re-enable ml2+linux bridge,MERGED,2022-06-06 23:24:13.000000000,2022-06-07 05:56:11.000000000,2022-06-07 05:56:11.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 23:24:13.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5171c319ae4b2ca1d6211068036090ed3d3a9dca', 'message': 'CentOS: Re-enable ml2+linux bridge\n\nChange-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99\n(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)\n(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)\n(cherry picked from commit 2d4c99c3dd35d9a9f4a4c84776359425ae57401b)\n'}]",1,844802,5171c319ae4b2ca1d6211068036090ed3d3a9dca,8,2,1,9816,,,0,"CentOS: Re-enable ml2+linux bridge

Change-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99
(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)
(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)
(cherry picked from commit 2d4c99c3dd35d9a9f4a4c84776359425ae57401b)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/02/844802/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,5171c319ae4b2ca1d6211068036090ed3d3a9dca,," driver => 'linuxbridge',","# RHEL8 has an issue with linuxbridge driver https://bugzilla.redhat.com/show_bug.cgi?id=1720637 if ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $neutron_driver = undef } else { $neutron_driver = 'linuxbridge' } driver => $neutron_driver,",1,7
openstack%2Fkayobe~master~Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a,openstack/kayobe,master,Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a,Add support for configuring proxy settings,MERGED,2021-10-14 18:44:29.000000000,2022-06-07 04:45:47.000000000,2022-01-04 17:22:48.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-10-14 18:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aa644b75b93d9cde1adc0bb345ac58d5183f8e1c', 'message': 'Add support for configuring proxy settings\n\nChange-Id: Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a\n'}, {'number': 2, 'created': '2021-10-15 08:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8968d5109713f1f7aee60b88c309a07f2bcf3e69', 'message': 'Add support for configuring proxy settings\n\nChange-Id: Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a\n'}, {'number': 3, 'created': '2021-10-15 08:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/27ab1fa3dd7e79a0c0ffeab070a4a7092bf341d1', 'message': 'Add support for configuring proxy settings\n\nChange-Id: Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a\n'}, {'number': 4, 'created': '2021-10-19 09:05:56.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'releasenotes/notes/proxy-settings-32911948a517b35b.yaml', 'ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/group_vars/all/kolla', 'ansible/proxy.yml', 'etc/kayobe/kolla.yml', 'kayobe/cli/commands.py', 'ansible/group_vars/all/proxy', 'etc/kayobe/proxy.yml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e48960ecf20c696b2a623bdfbfa7fa4637ff4588', 'message': 'Add support for configuring proxy settings\n\nChange-Id: Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a\n'}]",8,814046,e48960ecf20c696b2a623bdfbfa7fa4637ff4588,16,3,4,15197,,,0,"Add support for configuring proxy settings

Change-Id: Ic5130a7512d4a26354bd292b0ab51ab4a9279f0a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/814046/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'kayobe/tests/unit/cli/test_commands.py', 'releasenotes/notes/proxy-settings-32911948a517b35b.yaml', 'ansible/proxy.yml', 'kayobe/cli/commands.py', 'ansible/group_vars/all/proxy', 'etc/kayobe/proxy.yml']",7,aa644b75b93d9cde1adc0bb345ac58d5183f8e1c,proxy,"--- ############################################################################### # Configuration of HTTP(S) proxies. # HTTP proxy URL (format: http(s)://[user:password@]proxy_name:port). By # default no proxy is used. #http_proxy: # HTTPS proxy URL (format: http(s)://[user:password@]proxy_name:port). By # default no proxy is used. #https_proxy: # List of domains, hostnames, IP addresses and networks for which no proxy # should be used. Defaults to [""127.0.0.1"", ""localhost"", {{ docker_registry }}, # {{ kolla_internal_vip_address }}]. This is configured only if either # http_proxy or https_proxy is set. #no_proxy: ",,120,4
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,openstack/puppet-openstack-integration,stable/xena,I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,CentOS: Re-enable ml2+linux bridge,MERGED,2022-06-06 23:23:54.000000000,2022-06-07 04:28:18.000000000,2022-06-07 04:28:18.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 23:23:54.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2d4c99c3dd35d9a9f4a4c84776359425ae57401b', 'message': 'CentOS: Re-enable ml2+linux bridge\n\nChange-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99\n(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)\n(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)\n'}]",1,844801,2d4c99c3dd35d9a9f4a4c84776359425ae57401b,8,2,1,9816,,,0,"CentOS: Re-enable ml2+linux bridge

Change-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99
(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)
(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/844801/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,2d4c99c3dd35d9a9f4a4c84776359425ae57401b,," driver => 'linuxbridge',","# RHEL8 has an issue with linuxbridge driver https://bugzilla.redhat.com/show_bug.cgi?id=1720637 if ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $neutron_driver = undef } else { $neutron_driver = 'linuxbridge' } driver => $neutron_driver,",1,7
openstack%2Fdesignate~stable%2Fwallaby~I94324104a7ed89e757d48bb250d8b1132026ce46,openstack/designate,stable/wallaby,I94324104a7ed89e757d48bb250d8b1132026ce46,Update zuul queue configuration,MERGED,2022-05-27 19:22:27.000000000,2022-06-07 03:37:08.000000000,2022-06-07 03:34:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-27 19:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0f316cce11207f82adeec0f0a2aa2fc52f99c707', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I94324104a7ed89e757d48bb250d8b1132026ce46\n(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)\n'}, {'number': 2, 'created': '2022-06-07 00:12:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/abe17707a17a1c69bc63d31313b69164c647dfbf', 'message': 'Update zuul queue configuration\n\nZuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.\n\n[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I94324104a7ed89e757d48bb250d8b1132026ce46\n(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)\n'}]",2,843681,abe17707a17a1c69bc63d31313b69164c647dfbf,14,3,2,11628,,,0,"Update zuul queue configuration

Zuul is changing how queues are declared[1]. This patch updates Designate for the new way to define the queue.

[1] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I94324104a7ed89e757d48bb250d8b1132026ce46
(cherry picked from commit fe9fb45c21a7be2f88600e1f29fd37f56244cc1a)
",git fetch https://review.opendev.org/openstack/designate refs/changes/81/843681/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0f316cce11207f82adeec0f0a2aa2fc52f99c707,, queue: designate gate: queue: designate, gate: queue: designate gate: queue: designate,2,4
openstack%2Fdesignate~master~Ib49944c4463aeff4b9f904525b6527c6d6950366,openstack/designate,master,Ib49944c4463aeff4b9f904525b6527c6d6950366,Update neutron integration link.,MERGED,2022-06-06 21:46:54.000000000,2022-06-07 03:36:55.000000000,2022-06-07 03:34:20.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-06 21:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9385b8e0b8ce55d07528f9f9578366a23f7c4bb1', 'message': 'Update neutron integration link.\n\nChange-Id: Ib49944c4463aeff4b9f904525b6527c6d6950366\n'}, {'number': 2, 'created': '2022-06-06 22:03:02.000000000', 'files': ['doc/source/contributor/integrations.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/e8fdabfc38a1fc0a946cc9f4efa2bafb036d1df2', 'message': 'Update neutron integration link.\n\nChange-Id: Ib49944c4463aeff4b9f904525b6527c6d6950366\n'}]",3,844888,e8fdabfc38a1fc0a946cc9f4efa2bafb036d1df2,12,3,2,21778,,,0,"Update neutron integration link.

Change-Id: Ib49944c4463aeff4b9f904525b6527c6d6950366
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/844888/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/integrations.rst'],1,9385b8e0b8ce55d07528f9f9578366a23f7c4bb1,,The configuration for this is in the `Networking Guide <https://docs.openstack.org/neutron/latest/admin/config-dns-int-ext-serv.html>`_,The configuration for this is in the `Networking Guide <https://docs.openstack.org/ocata/networking-guide/config-dns-int.html>`_,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,openstack/puppet-openstack-integration,stable/yoga,I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,CentOS: Re-enable ml2+linux bridge,MERGED,2022-06-06 23:22:22.000000000,2022-06-07 02:38:40.000000000,2022-06-07 02:38:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 23:22:22.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c54d97d95d45b6051bb47e5f527ebfc054cda6bc', 'message': 'CentOS: Re-enable ml2+linux bridge\n\nChange-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99\n(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)\n'}]",0,844800,c54d97d95d45b6051bb47e5f527ebfc054cda6bc,6,2,1,9816,,,0,"CentOS: Re-enable ml2+linux bridge

Change-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99
(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/00/844800/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,c54d97d95d45b6051bb47e5f527ebfc054cda6bc,," driver => 'linuxbridge',","# RHEL8 has an issue with linuxbridge driver https://bugzilla.redhat.com/show_bug.cgi?id=1720637 if ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $neutron_driver = undef } else { $neutron_driver = 'linuxbridge' } driver => $neutron_driver,",1,7
openstack%2Fskyline-console~master~I195f843796614a1fbd20d8e569d3ff826d9bbcfc,openstack/skyline-console,master,I195f843796614a1fbd20d8e569d3ff826d9bbcfc,feat: adjust resources directory by diffrent service,ABANDONED,2022-04-22 10:52:24.000000000,2022-06-07 02:32:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-22 10:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5eee7b0af40d75e19617ca32985657af50fef60d', 'message': 'feat: adjust resources directory by diffrent service\n\nAdjust resources directory by diffrent service\n\nIssue: 130886\nChange-Id: I195f843796614a1fbd20d8e569d3ff826d9bbcfc\n'}, {'number': 2, 'created': '2022-04-22 10:54:23.000000000', 'files': ['src/pages/configuration/containers/SystemInfo/ComputeService/index.jsx', 'src/pages/user-center/containers/Credentials/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/storage/containers/Backup/actions/Restore.jsx', 'src/pages/storage/containers/Container/Detail/actions/Rename.jsx', 'src/pages/heat/containers/Stack/actions/Create/index.jsx', 'src/stores/root.js', 'src/pages/storage/containers/Volume/actions/CreateBackup.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageQos.jsx', 'src/resources/glance/image.jsx', 'src/resources/neutron/vpn.js', 'src/components/Layout/GlobalHeader/OpenRc.jsx', 'src/pages/network/containers/Router/Port/index.jsx', 'src/pages/storage/containers/Volume/actions/Edit.jsx', 'src/pages/configuration/containers/SystemInfo/CinderService/index.jsx', 'src/pages/configuration/containers/SystemInfo/HeatService.jsx', 'src/resources/cinder/cinder-pool.jsx', 'src/pages/storage/containers/Volume/actions/CreateSnapshot.jsx', 'src/stores/nova/instance-volume.js', 'src/stores/cinder/volume.js', 'src/components/Layout/GlobalHeader/Token.jsx', 'src/resources/nova/server-group.js', 'src/pages/storage/containers/Backup/actions/Create.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Router/actions/Add.jsx', 'src/pages/storage/containers/Container/Detail/actions/Delete.jsx', 'src/pages/compute/containers/Flavor/X86/index.jsx', 'src/pages/network/containers/Router/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/BaseDetail/index.jsx', 'src/pages/compute/containers/Flavor/Arm/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/index.jsx', 'src/pages/network/containers/VPN/IKEPolicy/actions/Create.js', 'src/pages/network/containers/VPN/VPNGateway/index.jsx', 'src/resources/neutron/qos-policy.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/pages/network/containers/VirtualAdapter/actions/ManageSecurityGroup.jsx', 'src/resources/manila/share-type.js', 'src/pages/storage/containers/Volume/actions/CreateImage.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/Delete.jsx', 'src/core/index.jsx', 'src/pages/network/containers/Router/Port/Detail/BaseDetail.jsx', 'src/pages/identity/containers/Role/Detail/BaseDetail.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Create.jsx', 'src/resources/nova/hypervisor.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/index.jsx', 'src/pages/compute/containers/HostAggregate/Aggregate/actions/ManageHost.jsx', 'src/resources/cinder/pool.js', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/resources/neutron/service.js', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx', 'src/pages/compute/containers/Flavor/Detail/index.jsx', 'src/pages/storage/containers/Container/Detail/actions/PasteFile.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/index.jsx', 'src/pages/storage/containers/Container/Detail/actions/UploadFile.jsx', 'src/resources/neutron/security-group.jsx', 'src/resources/nova/flavor.js', 'src/pages/storage/containers/Volume/actions/Detach.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageAccess.jsx', 'src/pages/share/containers/ShareType/actions/ManageAccess.jsx', 'src/resources/neutron/floatingip.js', 'src/pages/network/containers/Router/Port/Detail/index.jsx', 'src/pages/storage/containers/Container/actions/Create.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditHealthMonitor.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx', 'src/resources/neutron/neutron.js', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/network/containers/Network/actions/CreateSubnet.jsx', 'src/pages/storage/containers/Container/Detail/actions/CutFile.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/components/FormItem/VolumeSelectTable/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/pages/storage/containers/Container/Detail/actions/CopyFile.jsx', 'src/pages/compute/containers/Hypervisors/ComputeHost/index.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/network/containers/FloatingIp/Detail/index.jsx', 'src/pages/compute/containers/ServerGroup/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/network/containers/FloatingIp/actions/CreateDNAT.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/AccessTypeSetting.jsx', 'src/resources/cinder/volume.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx', 'src/containers/List/index.jsx', 'src/pages/storage/containers/Volume/actions/CreateTransfer.jsx', 'src/pages/network/containers/VPN/VPNGateway/actions/Delete.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/storage/containers/Container/actions/Delete.jsx', 'src/pages/storage/containers/Container/index.jsx', 'src/pages/compute/containers/Image/actions/CreateIronic.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/index.jsx', 'src/pages/storage/containers/Storage/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/Detail/BaseDetail.jsx', 'src/pages/network/containers/VPN/IPsecPolicy/actions/Delete.jsx', 'src/pages/storage/containers/Container/Detail/actions/Edit.jsx', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/CreateInstance.jsx', 'src/pages/network/containers/Network/actions/Edit.jsx', 'src/pages/network/containers/VPN/IKEPolicy/actions/Delete.jsx', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/resources/cinder/volume-type.js', 'src/pages/share/containers/ShareType/actions/Create.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/AssociateFIP.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Create.jsx', 'src/pages/network/containers/VPN/IPsecPolicy/actions/Create.js', 'src/resources/prometheus/metricDict.js', 'src/pages/heat/containers/Stack/Detail/index.jsx', 'src/layouts/Base/index.jsx', 'src/components/Tables/Base/Action/index.jsx', 'src/pages/storage/containers/Volume/Detail/index.jsx', 'src/resources/keystone/role.js', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/index.jsx', 'src/pages/network/containers/VPN/EndpointGroup/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/share/containers/ShareGroupType/actions/Create.jsx', 'src/pages/user-center/containers/Credentials/actions/Create.jsx', 'src/resources/neutron/lb.js', 'src/resources/neutron/network.jsx', 'src/pages/storage/containers/Volume/actions/CloneVolume.jsx', 'src/pages/compute/containers/ServerGroup/actions/Create.jsx', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'src/pages/share/containers/ShareGroupType/actions/ManageAccess.jsx', 'src/pages/network/containers/QoSPolicy/QoSPolicy.js', 'src/resources/cinder/backup.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/heat/containers/Stack/Detail/Event.jsx', 'src/pages/heat/containers/Stack/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/Attach.jsx', 'src/pages/storage/containers/Volume/actions/ChangeType.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/index.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/Detail/index.jsx', 'src/pages/network/containers/VirtualAdapter/actions/AssociateFIP.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Router/index.jsx', 'src/pages/network/containers/FloatingIp/actions/Associate.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/actions/Delete.jsx', 'src/pages/compute/containers/Flavor/Other/index.jsx', 'src/pages/compute/containers/Flavor/Heterogeneous/index.jsx', 'src/pages/storage/containers/Container/actions/Access.jsx', 'src/pages/storage/containers/Volume/index.jsx', 'src/resources/nova/instance.jsx', 'src/pages/network/containers/VirtualAdapter/actions/ModifyQoS.jsx', 'src/pages/network/containers/Network/actions/Delete.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'src/stores/glance/image.js', 'src/resources/keystone/project.js', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Edit.jsx', 'src/resources/neutron/policy.js', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/resources/heat/stack.js', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditPoolInfo.jsx', 'src/pages/storage/containers/Container/Detail/actions/Download.jsx', 'src/pages/configuration/containers/Setting/actions/View.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/Detail/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/Template.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/ServerGroup/Detail/index.jsx', 'src/resources/ironic/port.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/storage/containers/Container/Detail/actions/CreateFolder.jsx', 'src/resources/neutron/security-group-rule.jsx', 'src/pages/heat/containers/Stack/Detail/Resource.jsx', 'src/pages/network/containers/VPN/IPsecPolicy/index.jsx', 'src/pages/network/containers/FloatingIp/actions/Allocate.jsx', 'src/pages/compute/containers/Flavor/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/Parameter.jsx', 'src/pages/network/containers/VPN/IKEPolicy/index.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/network/containers/LoadBalancers/StepCreateComponents/PoolStep/index.jsx', 'src/resources/ironic/ironic.js', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/compute/containers/Flavor/actions/ManageAccess.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreatePool.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/heat/containers/Stack/index.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/configuration/containers/Setting/index.jsx', 'src/pages/network/containers/VPN/VPNGateway/actions/Create.js', 'src/pages/compute/containers/Image/actions/Edit.jsx', 'src/pages/network/containers/Router/Detail/index.jsx', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/resources/neutron/router.jsx', 'src/pages/storage/containers/Snapshot/Detail/index.jsx', 'src/pages/storage/containers/Container/Detail/index.jsx', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/compute/containers/Flavor/BareMetal/index.jsx', 'src/pages/compute/containers/Image/actions/CreateInstance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1eda898307026c97fd1d7657b4a5dd5d5b22ddac', 'message': 'feat: adjust resources directory by diffrent service\n\nAdjust resources directory by diffrent service\n\nChange-Id: I195f843796614a1fbd20d8e569d3ff826d9bbcfc\n'}]",0,839042,1eda898307026c97fd1d7657b4a5dd5d5b22ddac,4,1,2,34589,,,0,"feat: adjust resources directory by diffrent service

Adjust resources directory by diffrent service

Change-Id: I195f843796614a1fbd20d8e569d3ff826d9bbcfc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/42/839042/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/configuration/containers/SystemInfo/ComputeService/index.jsx', 'src/pages/user-center/containers/Credentials/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/storage/containers/Backup/actions/Restore.jsx', 'src/pages/storage/containers/Container/Detail/actions/Rename.jsx', 'src/pages/heat/containers/Stack/actions/Create/index.jsx', 'src/stores/root.js', 'src/pages/storage/containers/Volume/actions/CreateBackup.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageQos.jsx', 'src/resources/glance/image.jsx', 'src/resources/neutron/vpn.js', 'src/components/Layout/GlobalHeader/OpenRc.jsx', 'src/pages/network/containers/Router/Port/index.jsx', 'src/pages/storage/containers/Volume/actions/Edit.jsx', 'src/pages/configuration/containers/SystemInfo/CinderService/index.jsx', 'src/pages/configuration/containers/SystemInfo/HeatService.jsx', 'src/resources/cinder/cinder-pool.jsx', 'src/pages/storage/containers/Volume/actions/CreateSnapshot.jsx', 'src/stores/nova/instance-volume.js', 'src/stores/cinder/volume.js', 'src/components/Layout/GlobalHeader/Token.jsx', 'src/resources/nova/server-group.js', 'src/pages/storage/containers/Backup/actions/Create.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Router/actions/Add.jsx', 'src/pages/storage/containers/Container/Detail/actions/Delete.jsx', 'src/pages/compute/containers/Flavor/X86/index.jsx', 'src/pages/network/containers/Router/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/BaseDetail/index.jsx', 'src/pages/compute/containers/Flavor/Arm/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/index.jsx', 'src/pages/network/containers/VPN/IKEPolicy/actions/Create.js', 'src/pages/network/containers/VPN/VPNGateway/index.jsx', 'src/resources/neutron/qos-policy.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/pages/network/containers/VirtualAdapter/actions/ManageSecurityGroup.jsx', 'src/resources/manila/share-type.js', 'src/pages/storage/containers/Volume/actions/CreateImage.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/Delete.jsx', 'src/core/index.jsx', 'src/pages/network/containers/Router/Port/Detail/BaseDetail.jsx', 'src/pages/identity/containers/Role/Detail/BaseDetail.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Create.jsx', 'src/resources/nova/hypervisor.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/index.jsx', 'src/pages/compute/containers/HostAggregate/Aggregate/actions/ManageHost.jsx', 'src/resources/cinder/pool.js', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/resources/neutron/service.js', 'src/pages/storage/containers/Volume/actions/ExtendVolume.jsx', 'src/pages/compute/containers/Flavor/Detail/index.jsx', 'src/pages/storage/containers/Container/Detail/actions/PasteFile.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/index.jsx', 'src/pages/storage/containers/Container/Detail/actions/UploadFile.jsx', 'src/resources/neutron/security-group.jsx', 'src/resources/nova/flavor.js', 'src/pages/storage/containers/Volume/actions/Detach.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageAccess.jsx', 'src/pages/share/containers/ShareType/actions/ManageAccess.jsx', 'src/resources/neutron/floatingip.js', 'src/pages/network/containers/Router/Port/Detail/index.jsx', 'src/pages/storage/containers/Container/actions/Create.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditHealthMonitor.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx', 'src/resources/neutron/neutron.js', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/network/containers/Network/actions/CreateSubnet.jsx', 'src/pages/storage/containers/Container/Detail/actions/CutFile.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/components/FormItem/VolumeSelectTable/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/pages/storage/containers/Container/Detail/actions/CopyFile.jsx', 'src/pages/compute/containers/Hypervisors/ComputeHost/index.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/network/containers/FloatingIp/Detail/index.jsx', 'src/pages/compute/containers/ServerGroup/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/network/containers/FloatingIp/actions/CreateDNAT.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/AccessTypeSetting.jsx', 'src/resources/cinder/volume.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx', 'src/containers/List/index.jsx', 'src/pages/storage/containers/Volume/actions/CreateTransfer.jsx', 'src/pages/network/containers/VPN/VPNGateway/actions/Delete.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/storage/containers/Container/actions/Delete.jsx', 'src/pages/storage/containers/Container/index.jsx', 'src/pages/compute/containers/Image/actions/CreateIronic.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/index.jsx', 'src/pages/storage/containers/Storage/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/Detail/BaseDetail.jsx', 'src/pages/network/containers/VPN/IPsecPolicy/actions/Delete.jsx', 'src/pages/storage/containers/Container/Detail/actions/Edit.jsx', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/CreateInstance.jsx', 'src/pages/network/containers/Network/actions/Edit.jsx', 'src/pages/network/containers/VPN/IKEPolicy/actions/Delete.jsx', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/resources/cinder/volume-type.js', 'src/pages/share/containers/ShareType/actions/Create.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/AssociateFIP.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Create.jsx', 'src/pages/network/containers/VPN/IPsecPolicy/actions/Create.js', 'src/resources/prometheus/metricDict.js', 'src/pages/heat/containers/Stack/Detail/index.jsx', 'src/layouts/Base/index.jsx', 'src/components/Tables/Base/Action/index.jsx', 'src/pages/storage/containers/Volume/Detail/index.jsx', 'src/resources/keystone/role.js', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/index.jsx', 'src/pages/network/containers/VPN/EndpointGroup/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/share/containers/ShareGroupType/actions/Create.jsx', 'src/pages/user-center/containers/Credentials/actions/Create.jsx', 'src/resources/neutron/lb.js', 'src/resources/neutron/network.jsx', 'src/pages/storage/containers/Volume/actions/CloneVolume.jsx', 'src/pages/compute/containers/ServerGroup/actions/Create.jsx', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'src/pages/share/containers/ShareGroupType/actions/ManageAccess.jsx', 'src/pages/network/containers/QoSPolicy/QoSPolicy.js', 'src/resources/cinder/backup.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/heat/containers/Stack/Detail/Event.jsx', 'src/pages/heat/containers/Stack/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/Attach.jsx', 'src/pages/storage/containers/Volume/actions/ChangeType.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/index.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/Detail/index.jsx', 'src/pages/network/containers/VirtualAdapter/actions/AssociateFIP.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/Router/index.jsx', 'src/pages/network/containers/FloatingIp/actions/Associate.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/actions/Delete.jsx', 'src/pages/compute/containers/Flavor/Other/index.jsx', 'src/pages/compute/containers/Flavor/Heterogeneous/index.jsx', 'src/pages/storage/containers/Container/actions/Access.jsx', 'src/pages/storage/containers/Volume/index.jsx', 'src/resources/nova/instance.jsx', 'src/pages/network/containers/VirtualAdapter/actions/ModifyQoS.jsx', 'src/pages/network/containers/Network/actions/Delete.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'src/stores/glance/image.js', 'src/resources/keystone/project.js', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Edit.jsx', 'src/resources/neutron/policy.js', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/resources/heat/stack.js', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditPoolInfo.jsx', 'src/pages/storage/containers/Container/Detail/actions/Download.jsx', 'src/pages/configuration/containers/Setting/actions/View.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/Detail/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/Template.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/ServerGroup/Detail/index.jsx', 'src/resources/ironic/port.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/storage/containers/Container/Detail/actions/CreateFolder.jsx', 'src/resources/neutron/security-group-rule.jsx', 'src/pages/heat/containers/Stack/Detail/Resource.jsx', 'src/pages/network/containers/VPN/IPsecPolicy/index.jsx', 'src/pages/network/containers/FloatingIp/actions/Allocate.jsx', 'src/pages/compute/containers/Flavor/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/Parameter.jsx', 'src/pages/network/containers/VPN/IKEPolicy/index.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/network/containers/LoadBalancers/StepCreateComponents/PoolStep/index.jsx', 'src/resources/ironic/ironic.js', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/compute/containers/Flavor/actions/ManageAccess.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreatePool.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/heat/containers/Stack/index.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/configuration/containers/Setting/index.jsx', 'src/pages/network/containers/VPN/VPNGateway/actions/Create.js', 'src/pages/compute/containers/Image/actions/Edit.jsx', 'src/pages/network/containers/Router/Detail/index.jsx', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/resources/neutron/router.jsx', 'src/pages/storage/containers/Snapshot/Detail/index.jsx', 'src/pages/storage/containers/Container/Detail/index.jsx', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/compute/containers/Flavor/BareMetal/index.jsx', 'src/pages/compute/containers/Image/actions/CreateInstance.jsx']",198,5eee7b0af40d75e19617ca32985657af50fef60d,,import { canImageCreateInstance } from 'resources/glance/image';,import { canImageCreateInstance } from 'resources/image';,200,200
openstack%2Fpuppet-tripleo~master~I00ddcc53b77d8af6e89449ed56bd58a7540d90be,openstack/puppet-tripleo,master,I00ddcc53b77d8af6e89449ed56bd58a7540d90be,dnm: testing ...,ABANDONED,2022-06-07 01:12:07.000000000,2022-06-07 02:23:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-07 01:12:07.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dc733f25fa53a5429429e8b8045ba6feaf451237', 'message': 'dnm: testing ...\n\nChange-Id: I00ddcc53b77d8af6e89449ed56bd58a7540d90be\n'}]",0,844896,dc733f25fa53a5429429e8b8045ba6feaf451237,3,1,1,9816,,,0,"dnm: testing ...

Change-Id: I00ddcc53b77d8af6e89449ed56bd58a7540d90be
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/96/844896/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb'],1,dc733f25fa53a5429429e8b8045ba6feaf451237,neutron-resolver-integration, shared_examples_for 'tripleo::profile::base::neutron::dhcp' do," shared_examples_for 'tripleo::profile::base::neutron::dhcp pre config steps' do end shared_examples_for 'tripleo::profile::base::neutron::dhcp' do before :each do facts.merge!({ :step => params[:step] }) end let(:pre_condition) do <<-eos class { 'tripleo::profile::base::neutron' : oslomsg_rpc_hosts => [ 'localhost' ], oslomsg_rpc_username => 'neutron', oslomsg_rpc_password => 'foo', dhcp_agents_per_network => 3, } eos end it_behaves_like 'tripleo::profile::base::neutron::dhcp pre config steps'",1,21
openstack%2Fdesignate-tempest-plugin~master~I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2,openstack/designate-tempest-plugin,master,I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2,Expand Designate RBAC testing - zones import,MERGED,2022-04-08 22:29:57.000000000,2022-06-07 02:17:31.000000000,2022-06-07 02:05:47.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-08 22:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8d6a98b03918a86647f1cf6beeced216c3841e17', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}, {'number': 2, 'created': '2022-04-11 23:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5ea3876c9f80896a6f60be3354ed59552fb1740c', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}, {'number': 3, 'created': '2022-05-18 21:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/57a6c577bd59a70a5e472ac569bf01179ee00137', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}, {'number': 4, 'created': '2022-05-24 22:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5125197619665b2b414124d852064a697f741734', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}, {'number': 5, 'created': '2022-05-24 23:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/63d8ef05e3c9c090b19c1429f5a2b69ce7ed3d22', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}, {'number': 6, 'created': '2022-05-25 22:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4596a79f4e44590c7c3e991e84260e957de24556', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}, {'number': 7, 'created': '2022-05-27 19:25:51.000000000', 'files': ['designate_tempest_plugin/services/dns/v2/json/zone_imports_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cd0f76ead3b430babf459fb1070403c57021dd2c', 'message': 'Expand Designate RBAC testing - zones import\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones import API.\n\nChange-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2\n'}]",3,837180,cd0f76ead3b430babf459fb1070403c57021dd2c,24,4,7,11628,,,0,"Expand Designate RBAC testing - zones import

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
zones import API.

Change-Id: I3b7f7eb00a31da5d9f26e71f961ca5300ec17bd2
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/80/837180/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/v2/json/zone_imports_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py']",2,8d6a98b03918a86647f1cf6beeced216c3841e17,designate-rbac," credentials = [""primary"", ""admin"", ""system_admin"", ""system_reader"", ""alt"", ""project_member"", ""project_reader""] # Test with no extra header overrides (sudo-project-id) expected_allowed = ['os_admin', 'os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') expected_allowed.append('os_project_member') self.check_CUD_RBAC_enforcement( 'ZoneImportsClient', 'create_zone_import', expected_allowed, False) # TODO(johnsom) Test reader roles once this bug is fixed. # https://bugs.launchpad.net/tempest/+bug/1964509 # Test with no extra header overrides (all_projects, sudo-project-id) expected_allowed = ['os_primary'] self.check_list_show_RBAC_enforcement( 'ZoneImportsClient', 'show_zone_import', expected_allowed, True, zone_import['id']) # Test with x-auth-all-projects if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_show_RBAC_enforcement( 'ZoneImportsClient', 'show_zone_import', expected_allowed, False, zone_import['id'], headers=self.all_projects_header) # Test RBAC expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'ZoneImportsClient', 'delete_zone_import', expected_allowed, True, zone_import['id']) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'ZoneImportsClient', 'delete_zone_import', expected_allowed, False, zone_import['id'], headers=self.all_projects_header) self.check_CUD_RBAC_enforcement( 'ZoneImportsClient', 'delete_zone_import', expected_allowed, False, zone_import['id'], headers={'x-auth-sudo-project-id': self.client.project_id}) # TODO(johnsom) Test reader role once this bug is fixed: # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC - Users that are allowed to call list, but should get # zero zones. if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader', 'os_admin', 'os_project_member', 'os_project_reader'] else: expected_allowed = ['os_alt'] self.check_list_RBAC_enforcement_count( 'ZoneImportsClient', 'list_zone_imports', expected_allowed, 0) # Test that users who should see the zone, can see it. expected_allowed = ['os_primary'] self.check_list_IDs_RBAC_enforcement( 'ZoneImportsClient', 'list_zone_imports', expected_allowed, [zone_import['id']]) # Test RBAC with x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'ZoneImportsClient', 'list_zone_imports', expected_allowed, [zone_import['id']], headers={'x-auth-sudo-project-id': self.client.project_id}) # Test with x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_show_RBAC_enforcement( 'ZoneImportsClient', 'show_zone_import', expected_allowed, False, zone_import['id'], headers={'x-auth-sudo-project-id': self.client.project_id}) # Test RBAC with x-auth-all-projects if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'ZoneImportsClient', 'list_zone_imports', expected_allowed, [zone_import['id']], headers=self.all_projects_header)"," credentials = [""primary"", ""admin"", ""system_admin"", ""alt""]",108,3
openstack%2Fdesignate-tempest-plugin~master~I9d31013070fe7a400720973e739d88e428f4b583,openstack/designate-tempest-plugin,master,I9d31013070fe7a400720973e739d88e428f4b583,Expand Designate RBAC testing - recordset,MERGED,2022-03-30 22:54:05.000000000,2022-06-07 02:16:00.000000000,2022-06-07 02:05:37.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-03-30 22:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4b5501cbea826f7e3aeceb8a0205c6d444fdf6a0', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}, {'number': 2, 'created': '2022-04-11 23:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/be18c6281434936cd4bb6cac611ed71c022ca7e1', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}, {'number': 3, 'created': '2022-05-18 21:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fae4fc1bbbe94002574085e04ac5138736c890f1', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}, {'number': 4, 'created': '2022-05-24 22:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/57d58fb6cb75a617f6516608aaab43155a3891ed', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}, {'number': 5, 'created': '2022-05-24 23:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3184f66d3ad854770aadede892d6e6b619a99705', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}, {'number': 6, 'created': '2022-05-25 22:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/65790c0892462f5da8f799e300c8dd7e6158949f', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}, {'number': 7, 'created': '2022-05-27 00:16:33.000000000', 'files': ['designate_tempest_plugin/services/dns/v2/json/recordset_client.py', 'designate_tempest_plugin/services/dns/json/base.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5f95d7cc4373bda2c2fe6dc4de1d07e6e5237d76', 'message': 'Expand Designate RBAC testing - recordset\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nrecordset API.\n\nChange-Id: I9d31013070fe7a400720973e739d88e428f4b583\n'}]",9,835914,5f95d7cc4373bda2c2fe6dc4de1d07e6e5237d76,26,4,7,11628,,,0,"Expand Designate RBAC testing - recordset

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
recordset API.

Change-Id: I9d31013070fe7a400720973e739d88e428f4b583
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/14/835914/7 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/v2/json/recordset_client.py', 'designate_tempest_plugin/services/dns/json/base.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py']",3,4b5501cbea826f7e3aeceb8a0205c6d444fdf6a0,designate-rbac," credentials = [""admin"", ""system_admin"", ""system_reader"", ""primary"", ""alt"", ""project_member"", ""project_reader""] # Test RBAC expected_allowed = ['os_admin', 'os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') expected_allowed.append('os_project_member') self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'create_recordset', expected_allowed, True, self.zone['id'], recordset_data) recordset_id = body['id'] self.zone['id'], recordset_id) # TODO(johnsom) Test reader role once this bug is fixed: # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC expected_allowed = ['os_primary'] self.check_list_show_RBAC_enforcement( 'RecordsetClient', 'list_recordset', expected_allowed, True, self.zone['id']) # Test that users who should see the zone, can see it. expected_allowed = ['os_primary'] self.check_list_IDs_RBAC_enforcement( 'RecordsetClient', 'list_recordset', expected_allowed, [recordset_id], self.zone['id']) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'RecordsetClient', 'list_recordset', expected_allowed, [recordset_id], self.zone['id'], headers=self.all_projects_header) self.check_list_IDs_RBAC_enforcement( 'RecordsetClient', 'list_recordset', expected_allowed, [recordset_id], self.zone['id'], headers={'x-auth-sudo-project-id': self.client.project_id}) recordset_id = body['id'] self.zone['id'], recordset_id) _, record = self.client.show_recordset(self.zone['id'], recordset_id) # TODO(johnsom) Test reader role once this bug is fixed: # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC expected_allowed = ['os_primary'] self.check_list_show_RBAC_enforcement( 'RecordsetClient', 'show_recordset', expected_allowed, True, self.zone['id'], recordset_id) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_show_RBAC_enforcement( 'RecordsetClient', 'show_recordset', expected_allowed, True, self.zone['id'], recordset_id, headers=self.all_projects_header) self.check_list_show_RBAC_enforcement( 'RecordsetClient', 'show_recordset', expected_allowed, True, self.zone['id'], recordset_id, headers={'x-auth-sudo-project-id': self.client.project_id}) recordset_id = record['id'] self.zone['id'], recordset_id) # Test RBAC expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'delete_recordset', expected_allowed, True, self.zone['id'], recordset_id) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'delete_recordset', expected_allowed, False, self.zone['id'], recordset_id, headers=self.all_projects_header) self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'delete_recordset', expected_allowed, False, self.zone['id'], recordset_id, headers={'x-auth-sudo-project-id': self.client.project_id}) _, body = self.client.delete_recordset(self.zone['id'], recordset_id) lambda: self.client.show_recordset(self.zone['id'], recordset_id)) recordset_id = record['id'] self.zone['id'], recordset_id) recordset_id, recordset_data) # Test RBAC expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'update_recordset', expected_allowed, True, self.zone['id'], recordset_id, recordset_data) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'update_recordset', expected_allowed, False, self.zone['id'], recordset_id, recordset_data, headers=self.all_projects_header) self.check_CUD_RBAC_enforcement( 'RecordsetClient', 'update_recordset', expected_allowed, False, self.zone['id'], recordset_id, recordset_data, headers={'x-auth-sudo-project-id': self.client.project_id}) "," credentials = [""admin"", ""system_admin"", ""primary"", ""alt""] self.zone['id'], body['id']) self.zone['id'], body['id']) _, record = self.client.show_recordset(self.zone['id'], body['id']) self.zone['id'], record['id']) _, body = self.client.delete_recordset(self.zone['id'], record['id']) lambda: self.client.show_recordset(self.zone['id'], record['id'])) self.zone['id'], record['id']) record['id'], recordset_data)",134,15
openstack%2Fdesignate-tempest-plugin~master~Ia3effe23eac22b56bab20314750c5b3bbace27c8,openstack/designate-tempest-plugin,master,Ia3effe23eac22b56bab20314750c5b3bbace27c8,Expand Designate RBAC testing - zone export,MERGED,2022-04-08 21:15:28.000000000,2022-06-07 02:05:45.000000000,2022-06-07 02:05:45.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-08 21:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/17de7ace36c4925dfdb324705b52a937c28e430f', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 2, 'created': '2022-04-11 23:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/aff32b51161d8afb02ecd53e597017b93fb4f8f2', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 3, 'created': '2022-05-18 21:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0789c3b34f0416f3e24c5c68b6c26be9fbebea4d', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 4, 'created': '2022-05-24 22:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a7dd97dcf21a77102b21cdfaa33447c79365a76f', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 5, 'created': '2022-05-24 23:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/793bc7e852143be832a7f6342bcdc13142491b89', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 6, 'created': '2022-05-25 22:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d077198e0e6cffe289eef1c939de51fe0a794e36', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 7, 'created': '2022-05-26 20:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7ce39454785ed213842540e12977cc7771da79d2', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}, {'number': 8, 'created': '2022-05-27 19:25:10.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/services/dns/v2/json/zone_exports_client.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0b820929368747fe4c6922f2e2214a8934a537e0', 'message': 'Expand Designate RBAC testing - zone export\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone export API.\n\nChange-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8\n'}]",4,837177,0b820929368747fe4c6922f2e2214a8934a537e0,26,4,8,11628,,,0,"Expand Designate RBAC testing - zone export

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
zone export API.

Change-Id: Ia3effe23eac22b56bab20314750c5b3bbace27c8
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/77/837177/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/services/dns/v2/json/zone_exports_client.py']",2,17de7ace36c4925dfdb324705b52a937c28e430f,designate-rbac," def delete_zone_export(self, uuid, params=None, headers=None): :param headers (dict): The headers to use for the request. 'zones/tasks/exports', uuid, params=params, headers=headers)"," def delete_zone_export(self, uuid, params=None): 'zones/tasks/exports', uuid, params=params)",110,3
openstack%2Fdesignate-tempest-plugin~master~I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db,openstack/designate-tempest-plugin,master,I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db,Expand Designate RBAC testing - zone transfer acc,MERGED,2022-04-07 21:29:20.000000000,2022-06-07 02:05:43.000000000,2022-06-07 02:05:43.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-07 21:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5808926da21c020f87288375f04a13065a165666', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}, {'number': 2, 'created': '2022-04-11 23:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/599d06752a71b9510e40f68c0262d95391deff88', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}, {'number': 3, 'created': '2022-05-18 21:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7ac27844d4b78865c1686f9db365dace8c242e9c', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}, {'number': 4, 'created': '2022-05-24 22:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8925154c5578065f895b22666fdf478ce7d0a79f', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}, {'number': 5, 'created': '2022-05-24 23:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/2362f62204c4d626b8a98acec54c069a14bf0f7f', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}, {'number': 6, 'created': '2022-05-25 22:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3a40ece1a03c27e83903c21abdde80c76032412e', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}, {'number': 7, 'created': '2022-05-27 19:24:30.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/services/dns/v2/json/transfer_accepts_client.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cc3fb1e1d5204266a5451f7debc47be444793dc7', 'message': 'Expand Designate RBAC testing - zone transfer acc\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer accept API.\n\nThis patch also updates the list_transfer_accept service client to\nreturn results consistent with the other ""list"" service clients.\n\nChange-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db\n'}]",3,837034,cc3fb1e1d5204266a5451f7debc47be444793dc7,22,4,7,11628,,,0,"Expand Designate RBAC testing - zone transfer acc

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
zone transfer accept API.

This patch also updates the list_transfer_accept service client to
return results consistent with the other ""list"" service clients.

Change-Id: I0a6145e8b348fdbe68dd5518dc7b6720fbaae8db
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/34/837034/5 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/services/dns/v2/json/transfer_accepts_client.py']",2,5808926da21c020f87288375f04a13065a165666,designate-rbac," 'zones/tasks/transfer_accepts', params=params, headers=headers)"," 'zones/tasks/transfer_accepts', params=params, headers=headers)[1]['transfer_accepts']",77,6
openstack%2Fdesignate-tempest-plugin~master~I7699e44ced5462267fe45cac78b1ee148f6603f6,openstack/designate-tempest-plugin,master,I7699e44ced5462267fe45cac78b1ee148f6603f6,Expand Designate RBAC testing - zone transfer req,MERGED,2022-04-01 23:09:57.000000000,2022-06-07 02:05:41.000000000,2022-06-07 02:05:41.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-01 23:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b38bc3cd7eba48b0b3e35d4e118365e0dbf7ee10', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 2, 'created': '2022-04-06 22:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/2cd7d1071939e594ed7f4ec5f0552cc70841c6e7', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 3, 'created': '2022-04-11 23:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/090574e07b0e7cb26989071f49bcb2c49098d61a', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 4, 'created': '2022-05-18 21:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1629d784efcb8200ccbad25dd8fb160a81c3a21f', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 5, 'created': '2022-05-24 22:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/63d78bcffa5d199c3c1de19ec0241d814a75020a', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 6, 'created': '2022-05-24 23:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7afe53655645d396d37cb37b552116c520a6f8e9', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 7, 'created': '2022-05-25 22:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/10cb9446751fe3151be8bf4c8319619ff112fad0', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}, {'number': 8, 'created': '2022-05-27 15:03:45.000000000', 'files': ['designate_tempest_plugin/services/dns/v2/json/transfer_request_client.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/568dc60a27517622f06b96b16d2bfff313635898', 'message': 'Expand Designate RBAC testing - zone transfer req\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone transfer request API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/836217\nChange-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6\n'}]",3,836218,568dc60a27517622f06b96b16d2bfff313635898,25,4,8,11628,,,0,"Expand Designate RBAC testing - zone transfer req

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
zone transfer request API.

Depends-On: https://review.opendev.org/c/openstack/designate/+/836217
Change-Id: I7699e44ced5462267fe45cac78b1ee148f6603f6
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/18/836218/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/v2/json/transfer_request_client.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py']",2,b38bc3cd7eba48b0b3e35d4e118365e0dbf7ee10,designate-rbac," credentials = [""primary"", ""alt"", ""admin"", ""system_admin"", ""system_reader"", ""project_member"", ""project_reader""] # Test RBAC expected_allowed = ['os_admin', 'os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') expected_allowed.append('os_project_member') self.check_CUD_RBAC_enforcement( 'TransferRequestClient', 'create_transfer_request', expected_allowed, True, zone['id']) # TODO(johnsom) Test reader role once this bug is fixed: # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC # Note: The create service client does not define a target project # ID, so everyone should be able to see it. expected_allowed = ['os_admin', 'os_primary', 'os_alt', 'os_system_admin', 'os_system_reader', 'os_project_member', 'os_project_reader'] self.check_list_show_RBAC_enforcement( 'TransferRequestClient', 'show_transfer_request', expected_allowed, True, transfer_request['id']) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_show_RBAC_enforcement( 'TransferRequestClient', 'show_transfer_request', expected_allowed, True, transfer_request['id'], headers=self.all_projects_header) self.check_list_show_RBAC_enforcement( 'TransferRequestClient', 'show_transfer_request', expected_allowed, True, transfer_request['id'], headers={'x-auth-sudo-project-id': self.client.project_id}) # TODO(johnsom) Test reader role once this bug is fixed: # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC when a transfer target project is specified. expected_allowed = ['os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') else: expected_allowed.append('os_admin') self.check_list_show_RBAC_enforcement( 'TransferRequestClient', 'show_transfer_request', expected_allowed, True, transfer_request['id']) # Test RBAC expected_allowed = ['os_admin', 'os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') expected_allowed.append('os_project_member') self.check_CUD_RBAC_enforcement( 'TransferRequestClient', 'delete_transfer_request', expected_allowed, True, transfer_request['id']) # TODO(johnsom) Test reader role once this bug is fixed: # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC - Users that are allowed to call list, but should get # zero zones. if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader', 'os_admin', 'os_project_member', 'os_project_reader'] else: expected_allowed = ['os_alt'] self.check_list_RBAC_enforcement_count( 'TransferRequestClient', 'list_transfer_requests', expected_allowed, 0) # Test that users who should see the zone, can see it. expected_allowed = ['os_primary'] self.check_list_IDs_RBAC_enforcement( 'TransferRequestClient', 'list_transfer_requests', expected_allowed, [transfer_request['id']]) # Test RBAC with x-auth-all-projects if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'TransferRequestClient', 'list_transfer_requests', expected_allowed, [primary_transfer_request['id']], headers=self.all_projects_header) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'TransferRequestClient', 'list_transfer_requests', expected_allowed, [primary_transfer_request['id']], headers={'x-auth-sudo-project-id': self.client.project_id}) # Test RBAC expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'TransferRequestClient', 'update_transfer_request', expected_allowed, True, transfer_request['id'], transfer_request_data=data) # Test RBAC with x-auth-all-projects and x-auth-sudo-project-id header expected_allowed = ['os_admin', 'os_primary'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'TransferRequestClient', 'update_transfer_request', expected_allowed, False, transfer_request['id'], transfer_request_data=data, headers=self.all_projects_header) self.check_CUD_RBAC_enforcement( 'TransferRequestClient', 'update_transfer_request', expected_allowed, False, transfer_request['id'], transfer_request_data=data, headers={'x-auth-sudo-project-id': self.client.project_id}) "," credentials = [""primary"", ""alt"", ""admin"", ""system_admin""]",136,3
openstack%2Fdesignate-tempest-plugin~master~I93973c5dddae13dbb453591f1cb6a9a5a41f9b49,openstack/designate-tempest-plugin,master,I93973c5dddae13dbb453591f1cb6a9a5a41f9b49,Expand Designate RBAC testing - tsigkeys,MERGED,2022-03-31 22:36:23.000000000,2022-06-07 02:05:39.000000000,2022-06-07 02:05:39.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-31 22:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/54055f54e762c3ec7eb9b69caaff17df1f032a87', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 2, 'created': '2022-04-11 23:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/162c5878509721a671d9954ebe63399babb2fda7', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 3, 'created': '2022-05-18 21:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/23a2be11039cb05b8b18366aa5389692d084f7ab', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 4, 'created': '2022-05-24 22:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9ce58ad60cef8c812c978f3350fd970a38e1e4ae', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 5, 'created': '2022-05-24 23:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c4c577e4b3685a4979251140a7342b80df16dfd5', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 6, 'created': '2022-05-25 22:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/bdff53ef3d9630cbf30874d22f77e624f7b308c5', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 7, 'created': '2022-05-26 20:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/bb292d24c729f54196a404cfa9be8aeb188b04f5', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}, {'number': 8, 'created': '2022-05-27 00:16:51.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_tsigkey.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/62c46b9ff6a449fff8ae5c07231e921f37b6d81a', 'message': 'Expand Designate RBAC testing - tsigkeys\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntsigkeys API.\n\nChange-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49\n'}]",4,836102,62c46b9ff6a449fff8ae5c07231e921f37b6d81a,25,5,8,11628,,,0,"Expand Designate RBAC testing - tsigkeys

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
tsigkeys API.

Change-Id: I93973c5dddae13dbb453591f1cb6a9a5a41f9b49
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/02/836102/4 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_tsigkey.py'],1,54055f54e762c3ec7eb9b69caaff17df1f032a87,designate-rbac," credentials = [""primary"", ""admin"", ""system_admin"", ""system_reader"", ""project_member"", ""project_reader"", ""alt""] # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'TsigkeyClient', 'create_tsigkey', expected_allowed, False, tsigkey_data['resource_id'], tsigkey_data['name'], tsigkey_data['algorithm'], tsigkey_data['secret'], tsigkey_data['scope']) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader'] self.check_list_IDs_RBAC_enforcement( 'TsigkeyClient', 'list_tsigkeys', expected_allowed, [tsigkey['id']]) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader'] self.check_list_show_RBAC_enforcement( 'TsigkeyClient', 'show_tsigkey', expected_allowed, True, tsigkey['id']) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'TsigkeyClient', 'update_tsigkey', expected_allowed, False, tsigkey['id'], name=tsigkey_data['name'], secret=tsigkey_data['secret'], scope=tsigkey_data['scope']) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'TsigkeyClient', 'delete_tsigkey', expected_allowed, False, tsigkey['id']) "," credentials = [""primary"", ""admin"", ""system_admin""]",49,1
openstack%2Fdesignate-tempest-plugin~master~If65926433b64316adba5fb29ec945b84de77951f,openstack/designate-tempest-plugin,master,If65926433b64316adba5fb29ec945b84de77951f,Expand Designate RBAC testing - Quotas,MERGED,2022-03-23 23:31:12.000000000,2022-06-07 01:55:24.000000000,2022-06-07 01:54:05.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-23 23:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1b43465c48e86696e088dc43d281c10f37dabcb9', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 2, 'created': '2022-03-23 23:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/27e22c2ca2930ae3a9195f6df79025e1388ec387', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 3, 'created': '2022-04-11 23:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/13c49e8cbd2d496748bade627ea823a07cf42bc1', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 4, 'created': '2022-05-18 21:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0edd6530279ea2e2ed9a5a4a41180d4714c7a652', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 5, 'created': '2022-05-24 22:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8501f5f6a8cce26273d40f51f9e1feaa6c143d34', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 6, 'created': '2022-05-24 23:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/dfffe5e27ef98ee225df5a439a2990de7e1fa5f5', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 7, 'created': '2022-05-25 22:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/967a0a19ba1bb27f45e73cf90514f37d42940e2c', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}, {'number': 8, 'created': '2022-05-26 20:24:14.000000000', 'files': ['designate_tempest_plugin/tests/rbac_utils.py', 'designate_tempest_plugin/tests/api/v2/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1eb2c4f7c235084229834f57d2a0896da525516c', 'message': 'Expand Designate RBAC testing - Quotas\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nquotas API.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/834975\nChange-Id: If65926433b64316adba5fb29ec945b84de77951f\n'}]",11,834981,1eb2c4f7c235084229834f57d2a0896da525516c,34,5,8,11628,,,0,"Expand Designate RBAC testing - Quotas

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
quotas API.

Depends-On: https://review.opendev.org/c/openstack/designate/+/834975
Change-Id: If65926433b64316adba5fb29ec945b84de77951f
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/81/834981/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/rbac_utils.py', 'designate_tempest_plugin/tests/api/v2/test_quotas.py']",2,1b43465c48e86696e088dc43d281c10f37dabcb9,designate-rbac," credentials = [""primary"", ""admin"", ""system_admin"", ""system_reader"", ""alt"", ""project_member"", ""project_reader""] expected_allowed = ['os_admin', 'os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.extend(['os_system_admin', 'os_system_reader', 'os_project_member', 'os_project_reader']) self.check_list_show_with_ID_RBAC_enforcement( 'QuotasClient', 'show_quotas', expected_allowed, False) expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.extend(['os_system_admin']) self.check_CUD_RBAC_enforcement( 'QuotasClient', 'delete_quotas', expected_allowed, False, project_id=self.quotas_client.project_id) self._store_quotas(project_id=self.quotas_client.project_id) project_id=self.quotas_client.project_id, **quotas, headers=self.all_projects_header) expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.extend(['os_system_admin']) self.check_CUD_RBAC_enforcement( 'QuotasClient', 'update_quotas', expected_allowed, False, project_id=self.quotas_client.project_id, **quotas, headers=self.all_projects_header)"," credentials = [""primary"", ""admin"", ""system_admin"", ""alt""] if CONF.enforce_scope.designate: raise self.skipException( ""System scoped tokens do not have a project_id."") self._store_quotas(project_id=self.admin_client.project_id) project_id=self.admin_client.project_id, **quotas)",119,18
openstack%2Fdesignate-tempest-plugin~master~I0f7609b45bb21890a86144f74315f1d2f02a6e7d,openstack/designate-tempest-plugin,master,I0f7609b45bb21890a86144f74315f1d2f02a6e7d,Expand Designate RBAC testing,MERGED,2021-08-27 00:06:49.000000000,2022-06-07 01:54:30.000000000,2022-06-07 01:52:59.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2021-08-27 00:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/80333ca917d433d02038184604fc3828997acfb1', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 2, 'created': '2021-08-27 00:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/2be1f53e795189857f4a2c593a7a6678d0163750', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 3, 'created': '2021-08-27 00:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b1911538ee85faf3eeaa7947ff3a6fc9737fb048', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/800727\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 4, 'created': '2021-08-31 00:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/33f0ae66de6c57cb9c2f8eb337c4830453a6b17f', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/800727\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 5, 'created': '2021-09-02 21:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/91ba0d5fc29bedfe16a7e61248ac2e07ea62fa4a', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/800727\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 6, 'created': '2021-09-23 21:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/74df0dc60ff62d7feb9f42fc562fa3b957e57a81', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/800727\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 7, 'created': '2021-11-17 00:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/61fa6bff696cca0ff5d69f4167a4db87753253be', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/800727\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 8, 'created': '2021-11-17 16:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/45ee37764e90aa5dcedacb61cdb8c74b652a2eab', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/800727\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 9, 'created': '2022-02-23 00:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1a71b6a4443ea48cb6193a002258799c3e1ca5f2', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 10, 'created': '2022-04-11 22:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d07f3baaf89a3b71d9ea488558b82236827b6156', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 11, 'created': '2022-05-18 20:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0be98bd5cba239596a328421d32b40cc1648200c', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}, {'number': 12, 'created': '2022-05-24 22:19:35.000000000', 'files': ['designate_tempest_plugin/tests/rbac_utils.py', 'designate_tempest_plugin/tests/api/v2/test_blacklists.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/bf2379bb971437e36b983e48b5435aa326bb1926', 'message': 'Expand Designate RBAC testing\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\n\nChange-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d\n'}]",15,806291,bf2379bb971437e36b983e48b5435aa326bb1926,41,5,12,11628,,,0,"Expand Designate RBAC testing

This patch adds RBAC testing for allowed and disallowed credentials.

Change-Id: I0f7609b45bb21890a86144f74315f1d2f02a6e7d
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/91/806291/12 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/rbac_utils.py', 'designate_tempest_plugin/tests/api/v2/test_blacklists.py', '.zuul.yaml', 'designate_tempest_plugin/tests/base.py']",4,80333ca917d433d02038184604fc3828997acfb1,designate-rbac,"from designate_tempest_plugin.tests import rbac_utilsclass BaseDnsTest(rbac_utils.RBACTestsMixin, test.BaseTestCase): # NOTE(johnsom) We will allocate most credentials here so that each test # can test for allowed and disallowed RBAC policies. credentials = ['admin', 'primary'] if CONF.dns_feature_enabled.enforce_new_defaults: credentials.extend(['system_admin', 'system_reader', 'project_reader']) # A tuple of credentials that will be allocated by tempest using the # 'credentials' list above. These are used to build RBAC test lists. allocated_creds = [] for cred in credentials: if isinstance(cred, list): allocated_creds.append('os_roles_' + cred[0]) else: allocated_creds.append('os_' + cred) # Tests shall not mess with the list of allocated credentials allocated_credentials = tuple(allocated_creds)","class BaseDnsTest(test.BaseTestCase): # NOTE(kiall) We should default to only primary, and request additional # credentials in the tests that require them. credentials = ['primary']",503,15
openstack%2Fdesignate-tempest-plugin~master~Id9d421f34922044b40e1e79b06ff99b4a6e0f549,openstack/designate-tempest-plugin,master,Id9d421f34922044b40e1e79b06ff99b4a6e0f549,Expand Designate RBAC testing - Designate Limits,MERGED,2022-03-15 22:10:19.000000000,2022-06-07 01:54:03.000000000,2022-06-07 01:54:03.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-15 22:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/125fd0c6c61ac22ca674c730e09a548f9162a72e', 'message': 'Expand Designate RBAC testing - Designate Limits\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nlimits API.\n\nChange-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549\n'}, {'number': 2, 'created': '2022-04-11 23:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5edb847732a0faf7f41a2de9eb55a084f5fe52d6', 'message': 'Expand Designate RBAC testing - Designate Limits\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nlimits API.\n\nChange-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549\n'}, {'number': 3, 'created': '2022-05-18 21:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1e0e801c3f16499e29e92a327583e6c07e404deb', 'message': 'Expand Designate RBAC testing - Designate Limits\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nlimits API.\n\nChange-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549\n'}, {'number': 4, 'created': '2022-05-24 22:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4871aecf81fffd1cf6d4607a95273231f9856d35', 'message': 'Expand Designate RBAC testing - Designate Limits\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nlimits API.\n\nChange-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549\n'}, {'number': 5, 'created': '2022-05-24 23:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fcc5db4e6a360289cc1a564a41833af94a4d4488', 'message': 'Expand Designate RBAC testing - Designate Limits\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nlimits API.\n\nChange-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549\n'}, {'number': 6, 'created': '2022-05-25 22:29:29.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_designate_limits.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b0c55aa99633c428130dcbdea36f677516c12349', 'message': 'Expand Designate RBAC testing - Designate Limits\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nlimits API.\n\nChange-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549\n'}]",3,833932,b0c55aa99633c428130dcbdea36f677516c12349,20,5,6,11628,,,0,"Expand Designate RBAC testing - Designate Limits

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
limits API.

Change-Id: Id9d421f34922044b40e1e79b06ff99b4a6e0f549
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/32/833932/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_designate_limits.py'],1,125fd0c6c61ac22ca674c730e09a548f9162a72e,designate-rbac," credentials = [""admin"", ""system_admin"", ""system_reader"", ""primary"", ""alt"", ""project_member"", ""project_reader""] @decorators.idempotent_id('fc57fa6b-5280-4186-9be9-ff4da0961db0') def test_list_designate_limits_RBAC(self): expected_allowed = ['os_admin', 'os_primary', 'os_alt'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.extend(['os_system_admin', 'os_system_reader', 'os_project_member', 'os_project_reader']) self.check_list_show_RBAC_enforcement( 'DesignateLimitClient', 'list_designate_limits', expected_allowed, False)"," credentials = [""admin"", ""system_admin"", ""primary"", ""alt""]",13,1
openstack%2Fdesignate-tempest-plugin~master~I4bb760480de050fd68b38da805a8fc0f350db2c5,openstack/designate-tempest-plugin,master,I4bb760480de050fd68b38da805a8fc0f350db2c5,Expand Designate RBAC testing - Pools,MERGED,2022-03-14 23:35:31.000000000,2022-06-07 01:54:01.000000000,2022-06-07 01:54:01.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-14 23:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9ebd77a1dce6d3f7fe8584f23ab3fcd446e90c33', 'message': 'Expand Designate RBAC testing - Pools\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\npools API.\n\nChange-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5\n'}, {'number': 2, 'created': '2022-04-11 23:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/92808f3ae09e9d230d0a52f55bb4479e7e489abc', 'message': 'Expand Designate RBAC testing - Pools\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\npools API.\n\nChange-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5\n'}, {'number': 3, 'created': '2022-05-18 21:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/6de091a3a4a5bfcc3327261de6f98c4e2cb6d12f', 'message': 'Expand Designate RBAC testing - Pools\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\npools API.\n\nChange-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5\n'}, {'number': 4, 'created': '2022-05-24 22:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/91e13b555630aa6728d7168d5e658f8f6692c918', 'message': 'Expand Designate RBAC testing - Pools\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\npools API.\n\nChange-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5\n'}, {'number': 5, 'created': '2022-05-24 23:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/44ade16dd24c1eba727be4dab2f9a26d93a935a8', 'message': 'Expand Designate RBAC testing - Pools\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\npools API.\n\nChange-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5\n'}, {'number': 6, 'created': '2022-05-25 22:28:09.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/37a442c7cf734ddcf025058e900b63f059968f8b', 'message': 'Expand Designate RBAC testing - Pools\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\npools API.\n\nChange-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5\n'}]",3,833694,37a442c7cf734ddcf025058e900b63f059968f8b,20,5,6,11628,,,0,"Expand Designate RBAC testing - Pools

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
pools API.

Change-Id: I4bb760480de050fd68b38da805a8fc0f350db2c5
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/94/833694/5 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_pool.py'],1,9ebd77a1dce6d3f7fe8584f23ab3fcd446e90c33,designate-rbac," credentials = [""admin"", ""primary"", ""system_admin"", ""system_reader"", ""project_member"", ""project_reader"", ""alt""] # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'PoolClient', 'create_pool', expected_allowed, False, pool_name=pool_data[""name""], ns_records=pool_data[""ns_records""], project_id=pool_data[""project_id""]) # TODO(johnsom) Test reader roles once this bug is fixed. # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] # TODO(johnsom) The pools API seems inconsistent with the requirement # of the all-projects header. self.check_list_show_RBAC_enforcement( 'PoolClient', 'show_pool', expected_allowed, True, pool['id'], headers=self.all_projects_header) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'PoolClient', 'delete_pool', expected_allowed, False, pool['id']) # TODO(johnsom) Test reader roles once this bug is fixed. # https://bugs.launchpad.net/tempest/+bug/1964509 # Test RBAC if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'PoolClient', 'list_pools', expected_allowed, [pool['id']], headers=self.all_projects_header) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'PoolClient', 'update_pool', expected_allowed, True, pool['id'], pool_name=""test-name"") "," credentials = [""admin"", ""system_admin""]",55,1
openstack%2Fpuppet-tempest~master~Icfee09ae791cf3c9bf3aa7748237cd9f928cd477,openstack/puppet-tempest,master,Icfee09ae791cf3c9bf3aa7748237cd9f928cd477,Do not set deprecated [service_available] aodh_plugin,MERGED,2022-06-03 05:46:01.000000000,2022-06-07 01:53:36.000000000,2022-06-07 01:53:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 05:46:01.000000000', 'files': ['manifests/init.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/6b9b452e67832cc1d2a19bebdc107f53b7c07721', 'message': 'Do not set deprecated [service_available] aodh_plugin\n\n... because the parameter was already deprecated[1].\n\n[1] 8bccc06c2bc71798f532f4ba6bc873c5e5dbb896\n\nChange-Id: Icfee09ae791cf3c9bf3aa7748237cd9f928cd477\n'}]",1,844544,6b9b452e67832cc1d2a19bebdc107f53b7c07721,11,3,1,9816,,,0,"Do not set deprecated [service_available] aodh_plugin

... because the parameter was already deprecated[1].

[1] 8bccc06c2bc71798f532f4ba6bc873c5e5dbb896

Change-Id: Icfee09ae791cf3c9bf3aa7748237cd9f928cd477
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/44/844544/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/tempest_init_spec.rb']",2,6b9b452e67832cc1d2a19bebdc107f53b7c07721,, is_expected.to contain_tempest_config('service_available/aodh_plugin').with(:value => '<SERVICE DEFAULT>'), is_expected.to contain_tempest_config('service_available/aodh_plugin').with(:value => false),3,3
openstack%2Fdesignate-tempest-plugin~master~Ic4822155a1402cc8585da4d12e8b2465bea75dad,openstack/designate-tempest-plugin,master,Ic4822155a1402cc8585da4d12e8b2465bea75dad,Expand Designate RBAC testing - Zone Abandon,MERGED,2022-03-12 00:33:57.000000000,2022-06-07 01:53:09.000000000,2022-06-07 01:53:09.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-12 00:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cc0de58fc54adbbd7b45b2e1e9110b696bc9c8a6', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}, {'number': 2, 'created': '2022-03-12 00:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8a448d73406b66752edb8db878d47fb33dfc3b6d', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}, {'number': 3, 'created': '2022-04-11 23:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5afb0567469066cc76908fd47eb2305d76664775', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}, {'number': 4, 'created': '2022-05-18 21:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ede173d4cc0a66c258c775b3a9015c14352d9967', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}, {'number': 5, 'created': '2022-05-24 22:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ef47a3e364c207a6686cf015db7df70abe72dcbd', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}, {'number': 6, 'created': '2022-05-24 23:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ec377d25b76b41aca5abc65dc56fd366da93f0c1', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}, {'number': 7, 'created': '2022-05-25 22:27:59.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zone_tasks.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fdb7b51799feefcfc830929fab1cf28f7c8204a8', 'message': 'Expand Designate RBAC testing - Zone Abandon\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzone abandon API.\n\nChange-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad\n'}]",3,833483,fdb7b51799feefcfc830929fab1cf28f7c8204a8,21,5,7,11628,,,0,"Expand Designate RBAC testing - Zone Abandon

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
zone abandon API.

Change-Id: Ic4822155a1402cc8585da4d12e8b2465bea75dad
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/83/833483/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_zone_tasks.py'],1,cc0de58fc54adbbd7b45b2e1e9110b696bc9c8a6,designate-rbac," credentials = [""primary"", ""alt"", ""admin"", ""system_admin"", ""system_reader"", ""project_member"", ""project_reader""] # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'ZonesClient', 'abandon_zone', expected_allowed, False, pr_zone['id'], headers={'x-auth-sudo-project-id': pr_zone['project_id']}) # Test abandoning the zone"," credentials = [""primary"", ""alt"", ""admin"", ""system_admin""]",13,2
openstack%2Fdesignate-tempest-plugin~master~Ia9c474edb7e936a507b20cc4692fe72141997798,openstack/designate-tempest-plugin,master,Ia9c474edb7e936a507b20cc4692fe72141997798,Expand Designate RBAC testing - Service Statuses,MERGED,2022-03-11 23:33:19.000000000,2022-06-07 01:53:05.000000000,2022-06-07 01:53:05.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-11 23:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3ada91323af2e9fa6852da5ca0f69ed51987a318', 'message': 'Expand Designate RBAC testing - Service Statuses\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nservice statuses API.\n\nChange-Id: Ia9c474edb7e936a507b20cc4692fe72141997798\n'}, {'number': 2, 'created': '2022-04-11 23:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3a5e024772d75e28df7c4427055e955f19c11ff5', 'message': 'Expand Designate RBAC testing - Service Statuses\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nservice statuses API.\n\nChange-Id: Ia9c474edb7e936a507b20cc4692fe72141997798\n'}, {'number': 3, 'created': '2022-05-18 21:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5a142cdc3c4c862ce23afec4458722fc13f3c187', 'message': 'Expand Designate RBAC testing - Service Statuses\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nservice statuses API.\n\nChange-Id: Ia9c474edb7e936a507b20cc4692fe72141997798\n'}, {'number': 4, 'created': '2022-05-24 22:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/28098da22c10780da5d0c06d7d092c51a1d7c2fd', 'message': 'Expand Designate RBAC testing - Service Statuses\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nservice statuses API.\n\nChange-Id: Ia9c474edb7e936a507b20cc4692fe72141997798\n'}, {'number': 5, 'created': '2022-05-24 23:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/dff53c7a90b46ef781a7a5a4d0b7ec504dda1d8e', 'message': 'Expand Designate RBAC testing - Service Statuses\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nservice statuses API.\n\nChange-Id: Ia9c474edb7e936a507b20cc4692fe72141997798\n'}, {'number': 6, 'created': '2022-05-25 22:27:42.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_service_statuses.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ef021cb82e78cd3c1d84a1d58d60e73224ab2a5e', 'message': 'Expand Designate RBAC testing - Service Statuses\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nservice statuses API.\n\nChange-Id: Ia9c474edb7e936a507b20cc4692fe72141997798\n'}]",7,833479,ef021cb82e78cd3c1d84a1d58d60e73224ab2a5e,27,5,6,11628,,,0,"Expand Designate RBAC testing - Service Statuses

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
service statuses API.

Change-Id: Ia9c474edb7e936a507b20cc4692fe72141997798
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/79/833479/3 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_service_statuses.py'],1,3ada91323af2e9fa6852da5ca0f69ed51987a318,designate-rbac," credentials = [""primary"", ""admin"", ""system_admin"", ""system_reader"", ""alt"", ""project_reader"", ""project_member""] # Test RBAC if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader'] else: expected_allowed = ['os_admin'] self.check_list_show_RBAC_enforcement( 'ServiceClient', 'list_statuses', expected_allowed, False) "," credentials = [""primary"", ""admin"", ""system_admin"", ""alt""]",11,1
openstack%2Fdesignate-tempest-plugin~master~I85d1f7013f1596c4998486bb6539725fb20770ef,openstack/designate-tempest-plugin,master,I85d1f7013f1596c4998486bb6539725fb20770ef,Expand Designate RBAC testing - TLDs,MERGED,2022-03-11 23:25:55.000000000,2022-06-07 01:53:03.000000000,2022-06-07 01:53:03.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-03-11 23:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b1f2940631f1e474069134c6b89b71b1eba940fb', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}, {'number': 2, 'created': '2022-04-11 23:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9092aad3c49d2c67cd0e0e65139c23a0f1d21256', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}, {'number': 3, 'created': '2022-05-18 20:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c5a738173c9d958018f024355d80716ca66f11f0', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}, {'number': 4, 'created': '2022-05-24 22:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8daad41091ede00770ab8fa8960fa4e665d2701b', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}, {'number': 5, 'created': '2022-05-24 23:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8e6d70efd30de40ee2a3047a5fcca005a157aeb4', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}, {'number': 6, 'created': '2022-05-25 17:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/71d4699d3495d3a91b84420684da50bade943d01', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}, {'number': 7, 'created': '2022-05-25 19:32:49.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_tld.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0fbbccdfd4d004e49aa41e5f2d3ebb2b710e03f9', 'message': 'Expand Designate RBAC testing - TLDs\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\ntld API.\n\nChange-Id: I85d1f7013f1596c4998486bb6539725fb20770ef\n'}]",6,833477,0fbbccdfd4d004e49aa41e5f2d3ebb2b710e03f9,25,5,7,11628,,,0,"Expand Designate RBAC testing - TLDs

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
tld API.

Change-Id: I85d1f7013f1596c4998486bb6539725fb20770ef
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/77/833477/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_tld.py'],1,b1f2940631f1e474069134c6b89b71b1eba940fb,designate-rbac," credentials = [""admin"", ""system_admin"", ""system_reader"", ""primary"", ""alt"", ""project_reader"", ""project_member""] # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement('TldClient', 'create_tld', expected_allowed, False) # Test RBAC if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader'] else: expected_allowed = ['os_admin'] self.check_list_show_RBAC_enforcement( 'TldClient', 'show_tld', expected_allowed, False, tld['id']) self.assertRaises(lib_exc.NotFound, self.admin_client.show_tld, tld['id']) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement('TldClient', 'delete_tld', expected_allowed, False, tld['id']) # Test RBAC if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader'] else: expected_allowed = ['os_admin'] self.check_list_IDs_RBAC_enforcement( 'TldClient', 'list_tlds', expected_allowed, [self.tld[1]['id']]) # Test RBAC expected_allowed = ['os_admin'] if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed.append('os_system_admin') self.check_CUD_RBAC_enforcement( 'TldClient', 'update_tld', expected_allowed, False, tld['id'], tld_data['name'], tld_data['description']) "," credentials = [""admin"", ""system_admin"", ""primary""] self.assertRaises(lib_exc.NotFound, lambda: self.admin_client.show_tld(tld['id']))",47,3
openstack%2Fdesignate-tempest-plugin~master~I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d,openstack/designate-tempest-plugin,master,I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d,Expand Designate RBAC testing - zones,MERGED,2021-09-03 20:18:47.000000000,2022-06-07 01:53:01.000000000,2022-06-07 01:53:01.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2021-09-03 20:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/04dd09c50527591b2c4c378ab1738cbfbaf263cc', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 2, 'created': '2021-09-23 21:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/18d228fc3041115f93395a8457da3e606af8ca57', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 3, 'created': '2021-10-19 20:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1f4c605eab6f62ac9039d3e0dad6f24dd8918d84', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 4, 'created': '2022-02-01 00:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cf30967c89069d9269711f33490c16b6e30f1259', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 5, 'created': '2022-02-23 00:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ee07a59c71304dafe1e13282fa34e821c25cf2a8', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 6, 'created': '2022-02-24 23:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/eed864db742272b7f52d99372a0aebab814587e9', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 7, 'created': '2022-03-10 22:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a3ac57e0448639f7bacc793c3fca70267aa702a7', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 8, 'created': '2022-04-11 23:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4099d2f06b86277c6417585968a454cc57085164', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 9, 'created': '2022-04-11 23:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/81dba843fc6c8df5e97d6cc0b28592f719a20b20', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 10, 'created': '2022-05-18 20:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8004f883620b3c0d167f7f567b06c0996869d856', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}, {'number': 11, 'created': '2022-05-24 22:23:00.000000000', 'files': ['designate_tempest_plugin/tests/rbac_utils.py', 'designate_tempest_plugin/tests/api/v2/test_blacklists.py', 'designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3ff84af052f366927045a79cc2762e0cfa45b980', 'message': 'Expand Designate RBAC testing - zones\n\nThis patch adds RBAC testing for allowed and disallowed credentials.\nThis is one of a series of patches adding testing. This patch covers the\nzones API.\n\nChange-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d\n'}]",15,807400,3ff84af052f366927045a79cc2762e0cfa45b980,48,5,11,11628,,,0,"Expand Designate RBAC testing - zones

This patch adds RBAC testing for allowed and disallowed credentials.
This is one of a series of patches adding testing. This patch covers the
zones API.

Change-Id: I2312e0e4293b60d9644f8c0d3a41e0b5f330c20d
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/00/807400/7 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/rbac_utils.py', 'designate_tempest_plugin/tests/api/v2/test_blacklists.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py']",3,04dd09c50527591b2c4c378ab1738cbfbaf263cc,designate-rbac," # Test with no extra header overrides (sudo-project-id) if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_admin', 'os_primary'] else: expected_allowed = ['os_admin', 'os_primary'] self.check_create_RBAC_enforcement('ZonesClient', 'create_zone', expected_allowed) # Test with x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_admin'] else: expected_allowed = ['os_admin'] self.check_create_RBAC_enforcement( 'ZonesClient', 'create_zone', expected_allowed, project_id=self.client.project_id) # Test with no extra header overrides (all_projects, sudo-project-id) if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin', 'os_system_reader', 'os_admin', 'os_primary', 'os_project_reader'] else: expected_allowed = ['os_admin', 'os_primary'] self.check_show_RBAC_enforcement('ZonesClient', 'show_zone', expected_allowed, True, zone['id']) # Test with x-auth-all-projects header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_show_RBAC_enforcement( 'ZonesClient', 'show_zone', expected_allowed, False, zone['id'], headers={'x-auth-all-projects': True}) # Test with x-auth-sudo-project-id header if CONF.dns_feature_enabled.enforce_new_defaults: expected_allowed = ['os_system_admin'] else: expected_allowed = ['os_admin'] self.check_show_RBAC_enforcement( 'ZonesClient', 'show_zone', expected_allowed, False, zone['id'], headers={'x-auth-sudo-project-id': self.client.project_id}) "," credentials = [""admin"", ""system_admin"", ""primary""]",69,10
openstack%2Fpython-tripleoclient~master~I21558ce226f845022d82fff58c179449f154cc92,openstack/python-tripleoclient,master,I21558ce226f845022d82fff58c179449f154cc92,Undercloud: Deprecate options for removed services,MERGED,2022-05-10 05:57:14.000000000,2022-06-07 01:38:06.000000000,2022-06-07 01:36:13.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-10 05:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d064a7e0b9b52411974943f062fe0532f9aa61d', 'message': 'Undercloud: Deprecate options for removed services\n\nCinder, Swift, Telemetry and FRR were removed from Undercloud.\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}, {'number': 2, 'created': '2022-05-10 08:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/416c213266968a06f5eeccaa5784b84822295bf4', 'message': 'Undercloud: Deprecate options for removed services\n\nCinder, Swift and Telemetry were removed from Undercloud.\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}, {'number': 3, 'created': '2022-05-10 11:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a8837f2edbef71a4c094aedd0e5a84e2856eb035', 'message': 'Undercloud: Deprecate options for removed services\n\nCinder, Swift and Telemetry were removed from Undercloud.\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}, {'number': 4, 'created': '2022-05-10 15:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7fbb401eaffec030aa6efcc74dd4cee5e1933195', 'message': 'Undercloud: Deprecate options for removed services\n\nCinder, Swift and Telemetry were removed from Undercloud.\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}, {'number': 5, 'created': '2022-05-27 06:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9762181ba27d54b62f8382a3db4550ff02e2ecc4', 'message': 'Undercloud: Deprecate options for removed services\n\nCinder, Swift and Telemetry were removed from Undercloud.\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/843473\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}, {'number': 6, 'created': '2022-05-27 06:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3c5e40e0a11db2017d43ecbde6444ea7b4f55e44', 'message': 'Undercloud: Deprecate options for removed services\n\nThe following four services were removed from Undercloud.\n - Cinder\n - Keystone\n - Swift\n - Telemetry\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/843473\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}, {'number': 7, 'created': '2022-05-27 06:15:13.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/uc-unused-services-4270d05503ec2eba.yaml', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a769aa7649c5043f5940a7e019a26dbf55f1217b', 'message': 'Undercloud: Deprecate options for removed services\n\nThe following four services were removed from Undercloud.\n - Cinder\n - Keystone\n - Swift\n - Telemetry\n\nThis change deprecates the options for these services so that we can\nremove these in a future release.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/843473\nChange-Id: I21558ce226f845022d82fff58c179449f154cc92\n'}]",7,841205,a769aa7649c5043f5940a7e019a26dbf55f1217b,32,5,7,9816,,,0,"Undercloud: Deprecate options for removed services

The following four services were removed from Undercloud.
 - Cinder
 - Keystone
 - Swift
 - Telemetry

This change deprecates the options for these services so that we can
remove these in a future release.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827277
Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841235
Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/843473
Change-Id: I21558ce226f845022d82fff58c179449f154cc92
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/841205/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/uc-unused-services-4270d05503ec2eba.yaml', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",4,8d064a7e0b9b52411974943f062fe0532f9aa61d,,," # TODO(cjeanner) drop once we have proper oslo.privsep @mock.patch('os.geteuid', return_value=1001) @mock.patch('getpass.getuser', return_value='stack') @mock.patch('shutil.copy') @mock.patch('os.mkdir') @mock.patch('tripleoclient.utils.write_env_file', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_undercloud_install_with_swift_encryption(self, mock_subprocess, mock_wr, mock_os, mock_copy, mock_user, mock_getuid): arglist = ['--no-validations'] verifylist = [] self.conf.set_default('enable_swift_encryption', True) parsed_args = self.check_parser(self.cmd, arglist, verifylist) # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) mock_subprocess.assert_called_with( ['sudo', '--preserve-env', 'openstack', 'tripleo', 'deploy', '--standalone-role', 'Undercloud', '--stack', 'undercloud', '--local-domain=localdomain', '--local-ip=192.168.24.1/24', '--templates=/usr/share/openstack-tripleo-heat-templates/', '--networks-file=/usr/share/openstack-tripleo-heat-templates/' 'network_data_undercloud.yaml', '--heat-native', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'undercloud.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'use-dns-for-vips.yaml', '-e', '/home/stack/foo.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/ironic.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/ironic-inspector.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/barbican.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'barbican-backend-simple-crypto.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'public-tls-undercloud.yaml', '--public-virtual-ip', '192.168.24.2', '--control-virtual-ip', '192.168.24.3', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'ssl/tls-endpoints-public-ip.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-haproxy.yaml', '--deployment-user', 'stack', '--output-dir=/home/stack', '--cleanup', '-e', '/home/stack/tripleo-config-generated-env-files/' 'undercloud_parameters.yaml', '--log-file=install-undercloud.log', '-e', '/usr/share/openstack-tripleo-heat-templates/' 'undercloud-stack-vstate-dropin.yaml']) ",34,76
openstack%2Ftripleo-heat-templates~master~I5575d344190537571ace16596e3635aeddccfe23,openstack/tripleo-heat-templates,master,I5575d344190537571ace16596e3635aeddccfe23,Remove Docker support,MERGED,2022-05-30 02:24:03.000000000,2022-06-07 01:37:07.000000000,2022-06-07 01:35:55.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 02:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8eb753b8b2ed40df1237c7a3c07b9d77cfed3a7a', 'message': 'Remove Docker support\n\nDocker support was deprecated when we switched to CentOS 8 and has not\nbeen tested since then.\n\nChange-Id: I5575d344190537571ace16596e3635aeddccfe23\n'}, {'number': 2, 'created': '2022-05-30 02:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d99370affd239a75c3ca88ec85d28749442c040f', 'message': 'Remove Docker support\n\nDocker support was deprecated when we switched to CentOS 8 and has not\nbeen tested since then.\n\nChange-Id: I5575d344190537571ace16596e3635aeddccfe23\n'}, {'number': 3, 'created': '2022-05-30 02:38:03.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'releasenotes/notes/remove-docker-ef1f16744ff03979.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'environments/docker-ha.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/tests/test-container-volume.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'environments/podman-ha.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f53e0ce5c951f0ea8af53e914369847fd132a56', 'message': 'Remove Docker support\n\nDocker support was deprecated when we switched to CentOS 8 and has not\nbeen tested since then.\n\nChange-Id: I5575d344190537571ace16596e3635aeddccfe23\n'}]",2,843755,9f53e0ce5c951f0ea8af53e914369847fd132a56,12,6,3,9816,,,0,"Remove Docker support

Docker support was deprecated when we switched to CentOS 8 and has not
been tested since then.

Change-Id: I5575d344190537571ace16596e3635aeddccfe23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/843755/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'releasenotes/notes/remove-docker-ef1f16744ff03979.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/tests/test-container-volume.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",32,8eb753b8b2ed40df1237c7a3c07b9d77cfed3a7a,remove-docker, - allowed_values: ['podman']," - allowed_values: ['docker', 'podman']",27,88
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I751fc605cb09ad9fcf169b3e2eab0532feb379a5,openstack/python-tripleoclient,stable/wallaby,I751fc605cb09ad9fcf169b3e2eab0532feb379a5,Unmount heat-all tmpfs dir when done,MERGED,2022-06-02 11:09:46.000000000,2022-06-07 01:37:00.000000000,2022-06-07 01:35:50.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-02 11:09:46.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f3e7fb83b410512cefcec29e8c00745dc1cdce27', 'message': ""Unmount heat-all tmpfs dir when done\n\nAdds a step to unmount the tmpfs dir used by the HeatNativeLauncher\n(heat-all aio process) when the process is stopped. Previously, the\nmount was kept and would hang around until the next reboot.\n\nAs part of this change, the following is also included:\n\n- The tmpfs mount dir is also changed to be at the generated temporary\n  directory within the heat launcher dir (heat_dir), instead of one level\n  higher up. This provides a location to backup the files before\n  unmounting.\n- The default value for the heat_dir directory is also changed from\n  /var/log/heat_launcher to ~/tripleo-deploy/<stack>/heat_launcher, so\n  that the artifacts are saved in the generated tarball.\n- heat-all is started as the deployment user ($SUDO_USER, e.g. stack)\n  instead of heat. There is no reason to run heat-all as heat. This\n  enables keeping the generated files within the home directory of the\n  deployment user\n- The heat_dir directory, owned by root, has it's mode changed from 700\n  to 755. This is safe as the directory is now in the deployment user\n  home directory.  This is necessary so that the deployment user can\n  read the directory.\n- A step to backup the heat-all files is added such that the files are\n  not lost when the unmount is done, and they are saved as part of the\n  deployment artifacts.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I751fc605cb09ad9fcf169b3e2eab0532feb379a5\n(cherry picked from commit 6a0adcbbf6daa941a264fc0f1b575cb5dbb68678)\n""}]",2,844417,f3e7fb83b410512cefcec29e8c00745dc1cdce27,12,4,1,31245,,,0,"Unmount heat-all tmpfs dir when done

Adds a step to unmount the tmpfs dir used by the HeatNativeLauncher
(heat-all aio process) when the process is stopped. Previously, the
mount was kept and would hang around until the next reboot.

As part of this change, the following is also included:

- The tmpfs mount dir is also changed to be at the generated temporary
  directory within the heat launcher dir (heat_dir), instead of one level
  higher up. This provides a location to backup the files before
  unmounting.
- The default value for the heat_dir directory is also changed from
  /var/log/heat_launcher to ~/tripleo-deploy/<stack>/heat_launcher, so
  that the artifacts are saved in the generated tarball.
- heat-all is started as the deployment user ($SUDO_USER, e.g. stack)
  instead of heat. There is no reason to run heat-all as heat. This
  enables keeping the generated files within the home directory of the
  deployment user
- The heat_dir directory, owned by root, has it's mode changed from 700
  to 755. This is safe as the directory is now in the deployment user
  home directory.  This is necessary so that the deployment user can
  read the directory.
- A step to backup the heat-all files is added such that the files are
  not lost when the unmount is done, and they are saved as part of the
  deployment artifacts.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I751fc605cb09ad9fcf169b3e2eab0532feb379a5
(cherry picked from commit 6a0adcbbf6daa941a264fc0f1b575cb5dbb68678)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/844417/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",5,f3e7fb83b410512cefcec29e8c00745dc1cdce27,," mock_launchheat.assert_called_with(parsed_args, self.cmd.output_dir) mock_launchheat.assert_called_with(parsed_args, self.cmd.output_dir) mock_launchheat.assert_called_with(parsed_args, self.cmd.output_dir)", mock_launchheat.assert_called_with(parsed_args) mock_launchheat.assert_called_with(parsed_args) mock_launchheat.assert_called_with(parsed_args),70,47
openstack%2Ftripleo-ansible~stable%2Fwallaby~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/wallaby,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,MERGED,2022-05-27 19:43:17.000000000,2022-06-07 01:36:15.000000000,2022-06-07 01:36:15.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-27 19:43:17.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f84847a8d734158588972e32ce58ec5ec2846f9', 'message': 'Ensure ceph_ansible_playbook_verbosity is an integer\n\nThis patch is going directly into stable/wallaby because\nthis role was deprecated in that release and removed in\nthe next release.\n\nChange-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb\nCloses-Bug: #1976122\n'}]",5,843683,4f84847a8d734158588972e32ce58ec5ec2846f9,24,3,1,18002,,,0,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/843683/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'],1,4f84847a8d734158588972e32ce58ec5ec2846f9,bug/1976122," - '-{%- for number in range(0, ceph_ansible_playbook_verbosity|int) -%}v{% endfor %}'"," - '-{%- for number in range(0, ceph_ansible_playbook_verbosity) -%}v{% endfor %}'",1,1
openstack%2Ftripleo-heat-templates~master~Ic9f05fe50f3a17deaa23acbba4ceab567626de8b,openstack/tripleo-heat-templates,master,Ic9f05fe50f3a17deaa23acbba4ceab567626de8b,Remove implementation for Nuage integration,MERGED,2022-04-10 23:40:17.000000000,2022-06-07 01:36:09.000000000,2022-06-07 01:36:09.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-10 23:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/103017bd71230a2d260ccbd829ba1b91f331021a', 'message': 'Remove implementation for Nuage integration\n\nNuage integration is currently quite outdated. These templates still\nexpect services run on host, instead of in containers. The latest\nimplementation is maintained in their own repo and has not been\nproposed to upstream\n\nConsidering the above situation, this change removes the outdated\nand unmaintained implementation from this repo.\n\n[1] https://github.com/nuagenetworks/nuage-ospdirector\n\nChange-Id: Ic9f05fe50f3a17deaa23acbba4ceab567626de8b\n'}, {'number': 2, 'created': '2022-05-11 01:54:51.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'environments/disable-neutron.yaml', 'environments/neutron-nuage-config.yaml', 'environments/neutron-bgpvpn.yaml', 'environments/nova-nuage-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eae3c2543dd29bdb4b7c2d95864e97c576fc3677', 'message': 'Remove implementation for Nuage integration\n\nNuage integration is currently quite outdated. These templates still\nexpect services run on host, instead of in containers. The latest\nimplementation is maintained in their own repo and has not been\nproposed to upstream\n\nConsidering the above situation, this change removes the outdated\nand unmaintained implementation from this repo.\n\n[1] https://github.com/nuagenetworks/nuage-ospdirector\n\nChange-Id: Ic9f05fe50f3a17deaa23acbba4ceab567626de8b\n'}]",1,837238,eae3c2543dd29bdb4b7c2d95864e97c576fc3677,15,5,2,9816,,,0,"Remove implementation for Nuage integration

Nuage integration is currently quite outdated. These templates still
expect services run on host, instead of in containers. The latest
implementation is maintained in their own repo and has not been
proposed to upstream

Considering the above situation, this change removes the outdated
and unmaintained implementation from this repo.

[1] https://github.com/nuagenetworks/nuage-ospdirector

Change-Id: Ic9f05fe50f3a17deaa23acbba4ceab567626de8b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/837238/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-plugin-ml2-nuage.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/neutron/neutron-controller-plugin-nuage.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'environments/disable-neutron.yaml', 'environments/neutron-nuage-config.yaml', 'environments/neutron-bgpvpn.yaml', 'environments/nova-nuage-config.yaml']",9,103017bd71230a2d260ccbd829ba1b91f331021a,remove-nuage,,"# A Heat environment file which can be used to enable # Nuage backend on the compute, configured via puppet resource_registry: OS::TripleO::Services::ComputeNeutronCorePlugin: OS::TripleO::Services::ComputeNeutronCorePluginNuage parameter_defaults: NuageActiveController: '0.0.0.0' NuageStandbyController: '0.0.0.0' NovaOVSBridge: 'default_bridge' NovaComputeLibvirtType: 'default_type' NuageMetadataProxySharedSecret: 'default' NuageNovaApiEndpoint: 'default_endpoint' ",0,349
openstack%2Fpuppet-tripleo~master~Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5,openstack/puppet-tripleo,master,Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5,sshd: Remove unused implementation to restrict ssh access,MERGED,2022-05-22 12:55:54.000000000,2022-06-07 01:36:07.000000000,2022-06-07 01:36:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2022-05-22 12:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/52288490c8f6e13b36e4d346940503c2a9af14ca', 'message': ""Nova: Remova unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 2, 'created': '2022-05-22 12:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7ff9c8788b3a8768829b10fe7e9b7b840aa4bb55', 'message': ""Nova: Remova unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 3, 'created': '2022-05-22 14:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eade763c24cafc670a639029e7e51ba77b5f2e8c', 'message': ""Nova: Remova unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 4, 'created': '2022-05-22 14:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/701a429c5a3134d67cef6a7a688538667e4926ea', 'message': ""Nova: Remova unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 5, 'created': '2022-05-22 14:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/50d53b319da259e337b5464a0158606f70b97df3', 'message': ""Nova: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 6, 'created': '2022-05-22 15:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/161a99ae4f472a4b5e8172db8ebec94585524e46', 'message': ""Nova: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 7, 'created': '2022-05-22 23:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5e4f1937867052da6a8076e1f6b99a293414fd4e', 'message': ""Nova: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 8, 'created': '2022-05-22 23:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be3d3ab078a63cc042bd722cc5aeeed7258c2bc5', 'message': ""Nova: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 9, 'created': '2022-05-23 01:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/552752c85706fe3ae107ec8acdda638a3d257dfb', 'message': ""Nova: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks to which the migration target sshd\nservice listens, so we don't need to implement additional restriction\nin the sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 10, 'created': '2022-05-23 01:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c4020a2c9bd5e92a56cf740c357c59392a189300', 'message': ""sshd: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks used by the migration target sshd\nservice, so we don't need to implement additional restriction in\nthe sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 11, 'created': '2022-05-23 07:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c96a29d32f222a9d8008f4884624e7350114768c', 'message': ""sshd: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks used by the migration target sshd\nservice, so we don't need to implement additional restriction in\nthe sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}, {'number': 12, 'created': '2022-05-24 07:14:42.000000000', 'files': ['manifests/profile/base/nova/migration/target.pp', 'spec/classes/tripleo_profile_base_nova_migration_target_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/330d2b5e60676b770014a6de565b8afcf702a24e', 'message': ""sshd: Remove unused implementation to restrict ssh access\n\nNow we strictly manage the networks used by the migration target sshd\nservice, so we don't need to implement additional restriction in\nthe sshd daemon.\n\nDepends-on: https://review.opendev.org/842860\nChange-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5\n""}]",0,842861,330d2b5e60676b770014a6de565b8afcf702a24e,36,6,12,9816,,,0,"sshd: Remove unused implementation to restrict ssh access

Now we strictly manage the networks used by the migration target sshd
service, so we don't need to implement additional restriction in
the sshd daemon.

Depends-on: https://review.opendev.org/842860
Change-Id: Ie6d8e59f3622546b07546cb2e03f43fdc16e83c5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/842861/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/migration/target.pp', 'spec/classes/tripleo_profile_base_nova_migration_target_spec.rb']",2,52288490c8f6e13b36e4d346940503c2a9af14ca,sshd-refactor,," is_expected.to_not contain_ssh__server__match_block('nova_migration deny') context 'with step 4 with ssh_localaddrs' do let(:pre_condition) { <<-eos class { 'tripleo::profile::base::nova::migration': step => #{params[:step]} } class { 'ssh': storeconfigs_enabled => false, server_options => {} } eos } let(:params) { { :step => 4, :ssh_authorized_keys => ['ssh-rsa bar', 'ssh-rsa baz'], :ssh_localaddrs => ['127.0.0.1', '127.0.0.2'] } } it { is_expected.to contain_class('tripleo::profile::base::nova::migration') is_expected.to contain_ssh__server__match_block('nova_migration allow').with( :type => 'LocalAddress 127.0.0.1,127.0.0.2 User', :name => 'nova_migration', :options => { 'AllowUsers' => 'nova_migration', 'ForceCommand' => '/bin/nova-migration-wrapper', 'PasswordAuthentication' => 'no', 'AllowTcpForwarding' => 'no', 'X11Forwarding' => 'no', 'AuthorizedKeysFile' => '/etc/nova/migration/authorized_keys' } ) is_expected.to contain_ssh__server__match_block('nova_migration deny').with( :type => 'LocalAddress', :name => '!127.0.0.1,!127.0.0.2', :options => { 'DenyUsers' => 'nova_migration' } ) is_expected.to contain_file('/etc/nova/migration/authorized_keys').with( :content => 'ssh-rsa bar\nssh-rsa baz', :mode => '0640', :owner => 'root', :group => 'nova_migration', ) is_expected.to contain_user('nova_migration').with( :shell => '/bin/bash' ) } end context 'with step 4 with duplicate ssh_localaddrs' do let(:pre_condition) { <<-eos class { 'tripleo::profile::base::nova::migration': step => #{params[:step]} } class { 'ssh': storeconfigs_enabled => false, server_options => {} } eos } let(:params) { { :step => 4, :ssh_authorized_keys => ['ssh-rsa bar', 'ssh-rsa baz'], :ssh_localaddrs => ['127.0.0.1', '127.0.0.1'] } } it { is_expected.to contain_class('tripleo::profile::base::nova::migration') is_expected.to contain_ssh__server__match_block('nova_migration allow').with( :type => 'LocalAddress 127.0.0.1 User', :name => 'nova_migration', :options => { 'AllowUsers' => 'nova_migration', 'ForceCommand' => '/bin/nova-migration-wrapper', 'PasswordAuthentication' => 'no', 'AllowTcpForwarding' => 'no', 'X11Forwarding' => 'no', 'AuthorizedKeysFile' => '/etc/nova/migration/authorized_keys' } ) is_expected.to contain_ssh__server__match_block('nova_migration deny').with( :type => 'LocalAddress', :name => '!127.0.0.1', :options => { 'DenyUsers' => 'nova_migration' } ) is_expected.to contain_file('/etc/nova/migration/authorized_keys').with( :content => 'ssh-rsa bar\nssh-rsa baz', :mode => '0640', :owner => 'root', :group => 'nova_migration', ) is_expected.to contain_user('nova_migration').with( :shell => '/bin/bash' ) } end context 'with step 4 with invalid ssh_localaddrs' do let(:pre_condition) { <<-eos class { 'tripleo::profile::base::nova::migration': step => #{params[:step]} } class { 'ssh': storeconfigs_enabled => false, server_options => {} } eos } let(:params) { { :step => 4, :ssh_authorized_keys => ['ssh-rsa bar', 'ssh-rsa baz'], :ssh_localaddrs => ['127.0.0.1', ''] } } it { is_expected.to_not compile } end is_expected.to_not contain_ssh__server__match_block('nova_migration deny')",1,160
openstack%2Ftripleo-heat-templates~master~I506b157c0de7232181a2a9c22bcf632fa67a8d0d,openstack/tripleo-heat-templates,master,I506b157c0de7232181a2a9c22bcf632fa67a8d0d,Restrict networks used by nova migration target,MERGED,2022-05-22 12:49:55.000000000,2022-06-07 01:36:03.000000000,2022-06-07 01:36:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-22 12:49:55.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1da46d9c8f548dbbc387d1cb3585e3758c3d697b', 'message': 'Restrict networks used by nova migration target\n\nCurrently the sshd service for nova migration target listens to all\nnetworks and the match block is used to restrict the networks allowed\nfor the nova_migration user.\n\nThis was required when the host sshd service was used, but now the nova\nmigration target service is independent from the host sshd and we can\njust restrict the networks used by the services.\n\nDepends-on: https://review.opendev.org/842858\nChange-Id: I506b157c0de7232181a2a9c22bcf632fa67a8d0d\n'}]",10,842860,1da46d9c8f548dbbc387d1cb3585e3758c3d697b,27,5,1,9816,,,0,"Restrict networks used by nova migration target

Currently the sshd service for nova migration target listens to all
networks and the match block is used to restrict the networks allowed
for the nova_migration user.

This was required when the host sshd service was used, but now the nova
migration target service is independent from the host sshd and we can
just restrict the networks used by the services.

Depends-on: https://review.opendev.org/842858
Change-Id: I506b157c0de7232181a2a9c22bcf632fa67a8d0d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/842860/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,1da46d9c8f548dbbc387d1cb3585e3758c3d697b,sshd-refactor, tripleo::profile::base::sshd::listen:, tripleo::profile::base::nova::migration::target::ssh_localaddrs:,1,1
openstack%2Fpuppet-tripleo~master~I7ca0d5b40d1459005c412db042047306ccc8ae43,openstack/puppet-tripleo,master,I7ca0d5b40d1459005c412db042047306ccc8ae43,Heat: Manage [clients] options,MERGED,2022-05-12 23:55:48.000000000,2022-06-07 01:35:59.000000000,2022-06-07 01:35:59.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-12 23:55:48.000000000', 'files': ['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aa7dee4d0b03cedf7f3e942a0115b6d109f46c7d', 'message': 'Heat: Manage [clients] options\n\nChange-Id: I7ca0d5b40d1459005c412db042047306ccc8ae43\n'}]",0,841654,aa7dee4d0b03cedf7f3e942a0115b6d109f46c7d,8,5,1,9816,,,0,"Heat: Manage [clients] options

Change-Id: I7ca0d5b40d1459005c412db042047306ccc8ae43
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/841654/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb']",2,aa7dee4d0b03cedf7f3e942a0115b6d109f46c7d,, is_expected.to_not contain_class('heat::clients') is_expected.to contain_class('heat::clients') is_expected.to contain_class('heat::clients') is_expected.to contain_class('heat::clients'),,5,0
openstack%2Fpuppet-tripleo~master~I50ccae2b97382d2631f4a0a3cb3dbea0e7f23958,openstack/puppet-tripleo,master,I50ccae2b97382d2631f4a0a3cb3dbea0e7f23958,nova-conductor: Fix wrong bootstrap node hieradata used,MERGED,2022-05-26 05:36:08.000000000,2022-06-07 01:35:52.000000000,2022-06-07 01:35:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-26 05:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2e44c5b4d24386a059d8894456dd8958eccaa8d1', 'message': 'nova-conductor: Fix wrong bootstrap node hieradata used\n\nIt should use nova-conductor bootstrap node instead of nova-api\nbootstrap node, because nova-conductor and nova-api might be deployed\nin different nodes.\n\nThis also adds a few unit test cases to validate the behavior to\ninclude the nova::db::sync class.\n\nChange-Id: I50ccae2b97382d2631f4a0a3cb3dbea0e7f23958\n'}, {'number': 2, 'created': '2022-05-27 15:58:36.000000000', 'files': ['manifests/profile/base/nova/conductor.pp', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_nova_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e51bf81f33485e25403bba1fd0a3496ed3de534b', 'message': 'nova-conductor: Fix wrong bootstrap node hieradata used\n\nIt should use nova-conductor bootstrap node instead of nova-api\nbootstrap node, because nova-conductor and nova-api might be deployed\nin different nodes.\n\nThis also adds a few unit test cases to validate the behavior to\ninclude the nova::db::sync class.\n\nChange-Id: I50ccae2b97382d2631f4a0a3cb3dbea0e7f23958\n'}]",1,843383,e51bf81f33485e25403bba1fd0a3496ed3de534b,15,4,2,9816,,,0,"nova-conductor: Fix wrong bootstrap node hieradata used

It should use nova-conductor bootstrap node instead of nova-api
bootstrap node, because nova-conductor and nova-api might be deployed
in different nodes.

This also adds a few unit test cases to validate the behavior to
include the nova::db::sync class.

Change-Id: I50ccae2b97382d2631f4a0a3cb3dbea0e7f23958
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/843383/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/conductor.pp', 'spec/classes/tripleo_profile_base_nova_conductor_spec.rb', 'spec/fixtures/hieradata/default.yaml']",3,2e44c5b4d24386a059d8894456dd8958eccaa8d1,nova-conductor-bootstrap,nova_conductor_short_bootstrap_node_name: node,,58,7
openstack%2Fbarbican~stable%2Ftrain~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/train,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 16:02:54.000000000,2022-06-07 01:23:47.000000000,2022-06-07 01:22:32.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 16:02:54.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/053549ee9db57ee345fccb41b14f729fae4da059', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",0,843634,053549ee9db57ee345fccb41b14f729fae4da059,7,2,1,9914,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/34/843634/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py']",2,053549ee9db57ee345fccb41b14f729fae4da059,," check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read)', check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read)', 'rule:container_project_creator or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read)', 'rule:container_project_creator or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read)',"," check_str='rule:secret_project_admin or rule:secret_project_creator', check_str='rule:secret_project_admin or rule:secret_project_creator', 'rule:container_project_creator', 'rule:container_project_creator',",24,16
openstack%2Ftripleo-ansible~master~Id88ecf26b1da060f70db25db84c0cf505ce64fa0,openstack/tripleo-ansible,master,Id88ecf26b1da060f70db25db84c0cf505ce64fa0,support-collect-logs: Enable container profile,MERGED,2022-06-02 01:29:59.000000000,2022-06-07 01:02:32.000000000,2022-06-07 01:02:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-02 01:29:59.000000000', 'files': ['tripleo_ansible/playbooks/cli-support-collect-logs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23bca2b6e994be44275bb412d1c47add3029fb90', 'message': 'support-collect-logs: Enable container profile\n\n... so that information related to docker/podman is captured by\nsosreport.\n\nChange-Id: Id88ecf26b1da060f70db25db84c0cf505ce64fa0\n'}]",0,844349,23bca2b6e994be44275bb412d1c47add3029fb90,8,5,1,9816,,,0,"support-collect-logs: Enable container profile

... so that information related to docker/podman is captured by
sosreport.

Change-Id: Id88ecf26b1da060f70db25db84c0cf505ce64fa0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/844349/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-support-collect-logs.yaml'],1,23bca2b6e994be44275bb412d1c47add3029fb90,, - container,,1,0
openstack%2Ftripleo-heat-templates~master~Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b,openstack/tripleo-heat-templates,master,Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b,Fix service dependency on libvirt daemons,MERGED,2022-04-26 07:50:32.000000000,2022-06-07 01:02:29.000000000,2022-06-07 01:02:29.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 07:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3af243e86d45ed134b63ec5b144ba96332781471', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n'}, {'number': 2, 'created': '2022-05-26 16:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81a5b9f8c214490afafd6c38674557a790436fa2', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n'}, {'number': 3, 'created': '2022-05-30 13:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11fbf75dd2021be1f73b47cb7d1b9b90108be0f3', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n'}, {'number': 4, 'created': '2022-05-31 11:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab3005d8e18dce8ae40e73589543d46d84eb8584', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n'}, {'number': 5, 'created': '2022-05-31 11:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d9a930d8c8ecbb3fe3a2401fad49e9fd90f69f8', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n'}, {'number': 6, 'created': '2022-06-01 11:28:16.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9', 'message': 'Fix service dependency on libvirt daemons\n\nSince commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,\nTripleO deploys modular libvirt daemons instead of monolithic one.\n\nWhen modular libvirt daemons are used, the nova_libvirt container is\nno longer used and service dependency should rely on individual daemons\nlike nova_virtqemud.\n\nThis change introduces the new tripleo_nova_libvirt.target systemd unit\nso that we can define service dependencies more easily and consisently.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1967021\nChange-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b\n'}]",7,839311,d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9,32,5,6,9816,,,0,"Fix service dependency on libvirt daemons

Since commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,
TripleO deploys modular libvirt daemons instead of monolithic one.

When modular libvirt daemons are used, the nova_libvirt container is
no longer used and service dependency should rely on individual daemons
like nova_virtqemud.

This change introduces the new tripleo_nova_libvirt.target systemd unit
so that we can define service dependencies more easily and consisently.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Closes-Bug: #1967021
Change-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/839311/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml']",3,3af243e86d45ed134b63ec5b144ba96332781471,bug/1967021, - - name: Set up systemd target for libvirt services when: step|int == 4 block: - name: Create systemd file copy: target: /etc/systemd/system/tripleo_nova_libvirt.target mode: '0644' owner: root group: root content: | [Unit] Wants=tripleo_nova_virtsecretd.service Wants=tripleo_nova_virtnodedevd.service Wants=tripleo_nova_virtstoraged.service Wants=tripleo_nova_virtproxyd.service Wants=tripleo_nova_virtqemud.service After=tripleo_nova_virtsecretd.service After=tripleo_nova_virtnodedevd.service After=tripleo_nova_virtstoraged.service After=tripleo_nova_virtproxyd.service After=tripleo_nova_virtqemud.service become: true register: libvirt_target_result - name: Reload systemd systemd: name: tripleo_nova_libvirt.target enabled: true state: restarted daemon_reload: true become: true when: libvirtd_target_result.changed,,56,2
openstack%2Fbarbican~stable%2Fussuri~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/ussuri,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 16:02:34.000000000,2022-06-07 00:50:56.000000000,2022-06-07 00:47:44.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/77a54ddc861e4e4caed3308acee926e9ad6111d3', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 2, 'created': '2022-06-06 19:35:45.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b5dab85f9fc965e4ec7c0e125f9d1814ab68c92b', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",2,843633,b5dab85f9fc965e4ec7c0e125f9d1814ab68c92b,13,2,2,9914,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/33/843633/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py']",2,77a54ddc861e4e4caed3308acee926e9ad6111d3,," check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read)', check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read)', 'rule:container_project_creator or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read)', 'rule:container_project_creator or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read)',"," check_str='rule:secret_project_admin or rule:secret_project_creator', check_str='rule:secret_project_admin or rule:secret_project_creator', 'rule:container_project_creator', 'rule:container_project_creator',",24,16
openstack%2Fbarbican~stable%2Fussuri~Iad22f5b674fdbe663fad154b1bc7a8bb3ec5af93,openstack/barbican,stable/ussuri,Iad22f5b674fdbe663fad154b1bc7a8bb3ec5af93,Drop octavia-v2-dsvm-tls-barbican-stable-ussuri,MERGED,2022-06-06 19:34:33.000000000,2022-06-07 00:49:55.000000000,2022-06-07 00:47:42.000000000,"[{'_account_id': 7973}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-06 19:34:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b64bd8e479d988ad40bde37e8319341f5d493d2c', 'message': 'Drop octavia-v2-dsvm-tls-barbican-stable-ussuri\n\nThis patch removes the octavia-v2-dsvm-tls-barbican-stable-ussuri\njob from the gate.\n\nChange-Id: Iad22f5b674fdbe663fad154b1bc7a8bb3ec5af93\n'}]",1,844878,b64bd8e479d988ad40bde37e8319341f5d493d2c,9,4,1,7973,,,0,"Drop octavia-v2-dsvm-tls-barbican-stable-ussuri

This patch removes the octavia-v2-dsvm-tls-barbican-stable-ussuri
job from the gate.

Change-Id: Iad22f5b674fdbe663fad154b1bc7a8bb3ec5af93
",git fetch https://review.opendev.org/openstack/barbican refs/changes/78/844878/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b64bd8e479d988ad40bde37e8319341f5d493d2c,,, - octavia-v2-dsvm-tls-barbican-stable-ussuri,0,1
openstack%2Foctavia~stable%2Fvictoria~Id81ac8dfdd969c7b250d231123d392eff4a86269,openstack/octavia,stable/victoria,Id81ac8dfdd969c7b250d231123d392eff4a86269,Fix compile_amphora_details when using UDP listeners,MERGED,2022-04-29 06:17:10.000000000,2022-06-06 23:42:13.000000000,2022-06-06 23:40:51.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:17:10.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c362bacfe1d123467d4a3a1b987c03bf14dbb37c', 'message': ""Fix compile_amphora_details when using UDP listeners\n\nWhen requesting the amphora details of a LB that has a UDP listener, it\nfails with an exception:\n\n  AttributeError: 'KeepalivedLvs' object has no attribute\n    'is_listener_running'\n\nThere's a typo in the _count_lvs_listener_processes function which calls\nan inexisting method.\n\nConflicts:\n\toctavia/amphorae/backends/agent/api_server/amphora_info.py\n\toctavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py\n\nChange-Id: Id81ac8dfdd969c7b250d231123d392eff4a86269\n(cherry picked from commit 655fdf8c1b5786c3aa24c926dd95537a51a7c0cc)\n(cherry picked from commit c44c831649f970d3259bad95d2d2213f9b8167f6)\n(cherry picked from commit 5997304d878d63adf495b470993674f0e0fbcc9a)\n(cherry picked from commit 2b2494d7c737843c759ca5aaeb8edf17eab05d01)\n""}]",0,839851,c362bacfe1d123467d4a3a1b987c03bf14dbb37c,8,3,1,29244,,,0,"Fix compile_amphora_details when using UDP listeners

When requesting the amphora details of a LB that has a UDP listener, it
fails with an exception:

  AttributeError: 'KeepalivedLvs' object has no attribute
    'is_listener_running'

There's a typo in the _count_lvs_listener_processes function which calls
an inexisting method.

Conflicts:
	octavia/amphorae/backends/agent/api_server/amphora_info.py
	octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py

Change-Id: Id81ac8dfdd969c7b250d231123d392eff4a86269
(cherry picked from commit 655fdf8c1b5786c3aa24c926dd95537a51a7c0cc)
(cherry picked from commit c44c831649f970d3259bad95d2d2213f9b8167f6)
(cherry picked from commit 5997304d878d63adf495b470993674f0e0fbcc9a)
(cherry picked from commit 2b2494d7c737843c759ca5aaeb8edf17eab05d01)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/839851/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,c362bacfe1d123467d4a3a1b987c03bf14dbb37c,, if util.is_udp_listener_running(listener_id):, if udp_driver.is_listener_running(listener_id):,10,5
openstack%2Foctavia~stable%2Fxena~Id81ac8dfdd969c7b250d231123d392eff4a86269,openstack/octavia,stable/xena,Id81ac8dfdd969c7b250d231123d392eff4a86269,Fix compile_amphora_details when using UDP listeners,MERGED,2022-04-29 06:07:59.000000000,2022-06-06 23:31:59.000000000,2022-06-06 23:30:39.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:07:59.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5997304d878d63adf495b470993674f0e0fbcc9a', 'message': ""Fix compile_amphora_details when using UDP listeners\n\nWhen requesting the amphora details of a LB that has a UDP listener, it\nfails with an exception:\n\n  AttributeError: 'KeepalivedLvs' object has no attribute\n    'is_listener_running'\n\nThere's a typo in the _count_lvs_listener_processes function which calls\nan inexisting method.\n\nChange-Id: Id81ac8dfdd969c7b250d231123d392eff4a86269\n(cherry picked from commit 655fdf8c1b5786c3aa24c926dd95537a51a7c0cc)\n(cherry picked from commit c44c831649f970d3259bad95d2d2213f9b8167f6)\n""}]",0,839849,5997304d878d63adf495b470993674f0e0fbcc9a,8,3,1,29244,,,0,"Fix compile_amphora_details when using UDP listeners

When requesting the amphora details of a LB that has a UDP listener, it
fails with an exception:

  AttributeError: 'KeepalivedLvs' object has no attribute
    'is_listener_running'

There's a typo in the _count_lvs_listener_processes function which calls
an inexisting method.

Change-Id: Id81ac8dfdd969c7b250d231123d392eff4a86269
(cherry picked from commit 655fdf8c1b5786c3aa24c926dd95537a51a7c0cc)
(cherry picked from commit c44c831649f970d3259bad95d2d2213f9b8167f6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/839849/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,5997304d878d63adf495b470993674f0e0fbcc9a,, if util.is_lvs_listener_running(listener_id):, if lvs_driver.is_listener_running(listener_id):,10,5
openstack%2Fdiskimage-builder~master~Ibdbcf459608711ac64e7fefb1707f6708d68e750,openstack/diskimage-builder,master,Ibdbcf459608711ac64e7fefb1707f6708d68e750,Remove py 3.6 support and update jobs,MERGED,2022-04-02 11:24:57.000000000,2022-06-06 23:20:26.000000000,2022-06-06 23:18:20.000000000,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-02 11:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9ece53b16cf64a7d1e13733251d1e5d22daee482', 'message': 'Use current openstack-python3 job template\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\n'}, {'number': 2, 'created': '2022-06-02 17:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2df1463d22f752509ece6ace1d72d1b626e99403', 'message': 'Use current openstack-python3 job template\n\nManually re-adds py36 job since DIB still supports python 3.6.\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n'}, {'number': 3, 'created': '2022-06-02 18:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05a681beb80f7ebcb0a1113263467cb375f589ef', 'message': 'Use current openstack-python3 job template\n\nManually re-adds py36 job since DIB still supports python 3.6.\nAdapt bindep filters for Ubuntu Jammy.\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n'}, {'number': 4, 'created': '2022-06-03 00:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5422c27ada8230e55c97ee6cf9ed65fffb465cea', 'message': 'Use current openstack-python3 job template\n\nManually re-adds py36 job since DIB still supports python 3.6.\nAdapt bindep filters for Ubuntu Jammy.\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/844534\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n'}, {'number': 5, 'created': '2022-06-03 00:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fcf05363847ce0f8646279a8f015b2c52bd14d76', 'message': 'Use current openstack-python3 job template\n\nManually re-adds py36 job since DIB still supports python 3.6.\nAdapt bindep filters for Ubuntu Jammy.\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/844534\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n'}, {'number': 6, 'created': '2022-06-03 07:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ae582252eddc9f03cf07cc147e1ef6a26818b058', 'message': 'Use current openstack-python3 job template\n\nAdapt bindep filters for Ubuntu Jammy.\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\n'}, {'number': 7, 'created': '2022-06-03 15:50:09.000000000', 'files': ['releasenotes/notes/python-3.8-b401ad4f2bbbc99f.yaml', 'bindep.txt', '.zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fe0e5324d4248d114660ec35111ae9601e05b95b', 'message': ""Remove py 3.6 support and update jobs\n\nAlthough we're not on the OpenStack release schedule as such, Zed\ncycle is dropping 3.6/3.7 support.  This means it seems like as good a\ntime as any to also update ourselves to this regime.  One important\ndependency to think about is nodepool, but that is already >3.8 only\nso we will be in sync there.\n\nThis also changes dib jobs to run using the zed template and adapts\nthe bindep file to handle Ubuntu Jammy.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nCo-Authored-By: Jens Harbott <frickler@offenerstapel.de>\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\n""}]",6,836229,fe0e5324d4248d114660ec35111ae9601e05b95b,41,6,7,13252,,,0,"Remove py 3.6 support and update jobs

Although we're not on the OpenStack release schedule as such, Zed
cycle is dropping 3.6/3.7 support.  This means it seems like as good a
time as any to also update ourselves to this regime.  One important
dependency to think about is nodepool, but that is already >3.8 only
so we will be in sync there.

This also changes dib jobs to run using the zed template and adapts
the bindep file to handle Ubuntu Jammy.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ibdbcf459608711ac64e7fefb1707f6708d68e750
Co-Authored-By: Jay Faulkner <jay@jvf.cc>
Co-Authored-By: Jens Harbott <frickler@offenerstapel.de>
Co-Authored-By: Ian Wienand <iwienand@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/29/836229/7 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,9ece53b16cf64a7d1e13733251d1e5d22daee482,drop-python3.6, - openstack-python3-zed-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Foctavia~stable%2Fwallaby~Id81ac8dfdd969c7b250d231123d392eff4a86269,openstack/octavia,stable/wallaby,Id81ac8dfdd969c7b250d231123d392eff4a86269,Fix compile_amphora_details when using UDP listeners,MERGED,2022-04-29 06:08:21.000000000,2022-06-06 23:08:09.000000000,2022-06-06 23:06:29.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 06:08:21.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2b2494d7c737843c759ca5aaeb8edf17eab05d01', 'message': ""Fix compile_amphora_details when using UDP listeners\n\nWhen requesting the amphora details of a LB that has a UDP listener, it\nfails with an exception:\n\n  AttributeError: 'KeepalivedLvs' object has no attribute\n    'is_listener_running'\n\nThere's a typo in the _count_lvs_listener_processes function which calls\nan inexisting method.\n\nChange-Id: Id81ac8dfdd969c7b250d231123d392eff4a86269\n(cherry picked from commit 655fdf8c1b5786c3aa24c926dd95537a51a7c0cc)\n(cherry picked from commit c44c831649f970d3259bad95d2d2213f9b8167f6)\n(cherry picked from commit 5997304d878d63adf495b470993674f0e0fbcc9a)\n""}]",0,839850,2b2494d7c737843c759ca5aaeb8edf17eab05d01,8,3,1,29244,,,0,"Fix compile_amphora_details when using UDP listeners

When requesting the amphora details of a LB that has a UDP listener, it
fails with an exception:

  AttributeError: 'KeepalivedLvs' object has no attribute
    'is_listener_running'

There's a typo in the _count_lvs_listener_processes function which calls
an inexisting method.

Change-Id: Id81ac8dfdd969c7b250d231123d392eff4a86269
(cherry picked from commit 655fdf8c1b5786c3aa24c926dd95537a51a7c0cc)
(cherry picked from commit c44c831649f970d3259bad95d2d2213f9b8167f6)
(cherry picked from commit 5997304d878d63adf495b470993674f0e0fbcc9a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/839850/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,2b2494d7c737843c759ca5aaeb8edf17eab05d01,, if util.is_lvs_listener_running(listener_id):, if lvs_driver.is_listener_running(listener_id):,10,5
openstack%2Fdesignate~stable%2Fxena~I7876b4c1e2c800b654ca750211ee2e58f3ea4309,openstack/designate,stable/xena,I7876b4c1e2c800b654ca750211ee2e58f3ea4309,Minimum TTL value allowed is zero,MERGED,2022-05-31 23:03:47.000000000,2022-06-06 22:41:53.000000000,2022-06-06 22:40:41.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 23:03:47.000000000', 'files': ['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/264ac571d5ccb484e8071d2bec575992296dfb2a', 'message': 'Minimum TTL value allowed is zero\n\nAccording to ITEF https://tools.ietf.org/html/rfc2181#section-8\nthe definition of the ttl value is unsigned integer and can have a\nminimum value of 0. This patch changes the minimum value of 1 to allow\nfor 0. Unit test have also been modified accordingly.\n\nCloses-Bug: #1926429\nChange-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309\n(cherry picked from commit 6ac659d241c65c245d8a090768ac7559c32a13f1)\n'}]",1,844088,264ac571d5ccb484e8071d2bec575992296dfb2a,8,3,1,5572,,,0,"Minimum TTL value allowed is zero

According to ITEF https://tools.ietf.org/html/rfc2181#section-8
the definition of the ttl value is unsigned integer and can have a
minimum value of 0. This patch changes the minimum value of 1 to allow
for 0. Unit test have also been modified accordingly.

Closes-Bug: #1926429
Change-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309
(cherry picked from commit 6ac659d241c65c245d8a090768ac7559c32a13f1)
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/844088/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py']",4,264ac571d5ccb484e8071d2bec575992296dfb2a,bug/1926429-stable/yoga-stable/xena," context = self.get_context(project_id=1) values['ttl'] = 5 with testtools.ExpectedException(exceptions.InvalidTTL): self.config(min_ttl=0,"," context = self.get_context() values['ttl'] = 0 with testtools.ExpectedException(ValueError): self.config(min_ttl=1,",15,7
openstack%2Fneutron~master~I88fe0d33803b325a05780ed118fe0407844a42af,openstack/neutron,master,I88fe0d33803b325a05780ed118fe0407844a42af,Documentation about transaction contexts,MERGED,2022-06-01 15:02:35.000000000,2022-06-06 22:14:10.000000000,2022-06-06 22:12:34.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 15:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cb581482d6f984b42e6adc0046a08501176509d', 'message': 'Documentation about transaction contexts\n\nAdded new documentation about database transaction contexts, usage\nexamples and retry decorators.\n\nChange-Id: I88fe0d33803b325a05780ed118fe0407844a42af\n'}, {'number': 2, 'created': '2022-06-01 15:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbc100a686220266148acf631e6e9c5b722b6a3e', 'message': 'Documentation about transaction contexts\n\nAdded new documentation about database transaction contexts, usage\nexamples and retry decorators.\n\nChange-Id: I88fe0d33803b325a05780ed118fe0407844a42af\n'}, {'number': 3, 'created': '2022-06-03 14:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7533f062cacf74945decb3cd92527cd15af633bb', 'message': 'Documentation about transaction contexts\n\nAdded new documentation about database transaction contexts, usage\nexamples and retry decorators.\n\nChange-Id: I88fe0d33803b325a05780ed118fe0407844a42af\n'}, {'number': 4, 'created': '2022-06-06 11:51:55.000000000', 'files': ['doc/source/contributor/internals/db_layer.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c9244ad1514279b3c901fd5d96cb3cf7ebfa726', 'message': 'Documentation about transaction contexts\n\nAdded new documentation about database transaction contexts, usage\nexamples and retry decorators.\n\nChange-Id: I88fe0d33803b325a05780ed118fe0407844a42af\n'}]",35,844310,7c9244ad1514279b3c901fd5d96cb3cf7ebfa726,22,7,4,16688,,,0,"Documentation about transaction contexts

Added new documentation about database transaction contexts, usage
examples and retry decorators.

Change-Id: I88fe0d33803b325a05780ed118fe0407844a42af
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/844310/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/db_layer.rst'],1,5cb581482d6f984b42e6adc0046a08501176509d,doc_db_transactions_contexts_and_decorators,"developers that need to do some database changes and how to execute queries using the oslo.db API. Session handling ---------------- The main information reference is in `Usage <https://opendev.org/openstack/oslo.db/src/branch/master/doc/source/user/usage.rst>`_, that provides a initial picture of how to use oslo.db in Neutron. Any request call to the Neutron server API must have a ""neutron_context"" parameter, that is an instance of `Context <https://opendev.org/openstack/neutron-lib/src/tag/2.21.0/neutron_lib/context.py#L142>`_. This context holds a `sqlalchemy.orm.session.Session` instance that ""manages persistence operations for ORM-mapped objects"" (from SQLAlchemy documentation). A `Session` establishes all conversations with the database and represents a ""holding zone"" for all loaded or associated objects during its lifespan. A `Session` instance establishes a transaction to the database using the defined `Engine`. This transaction represents a SQL transaction that is ""a logical unit of work that contains one or more SQL statements"". Despite of how many statements this transaction have, the execution is atomic; if the transaction fails, any previous SQL statament already executed that implies a change in the database is undone (rollback). Database transactions --------------------- Any Neutron database operation, regardless of the type and the amount of them, should be executed inside a transaction. There are two type of transactions: * Reader: for reading operations. * Writer: for any operation that implies a change in the database, like a register creation, modification or deletion. The neutron-lib library provides an API wrapper for the oslo.db operations. The `CONTEXT_READER` and `CONTEXT_WRITER` context managers can be used both as decorators or context managers. E.g.: .. code-block:: python from neutron_lib.db import api as db_api from neutron.db import models_v2 def get_ports(context, network_id): with db_api.CONTEXT_READER.using(context): query = context.session.query(models_v2.Port) query.filter(models_v2.Port.network_id == network_id) return query.all() @db_api.CONTEXT_WRITER def delete_port(context, port_id) query = context.session.query(models_v2.Port) query.filter(models_v2.Port.id == port_id) query.delete() The transaction contexts can be nested. For example, if inside a context a decorated method is called, the current transaction is preserved. There is only one exception on this rule: a reader context cannot be upgraded to writer. That means inside a reader context is not possible to start a write context. The following exception will be raised: .. code-block:: python TypeError: Can't upgrade a READER transaction to a WRITER mid-transaction Another consideration that must be taken when implementing/reviewing new code is that, as commented before, a transaction is an atomic operation on the database. If the database layer (SQLAlchemy, oslo.db) returns a database exception, the current active transaction should end. In other words, we can catch, if needed, the exception raised and retry any needed operation, but any further database command should be executed in a new context. This is needed to allow the context wrapper (writer, reader) to properly finish the operation, for example rolling back the already executed commands. Check the patch `<https://review.opendev.org/c/openstack/neutron/+/843263>`_ as an example of how handle database exceptions. Retry decorators ---------------- This is an appendix for :doc:`/contributor/internals/retry` This is also related to the previous section. The neutron-lib library provides a decorator called `retry_if_session_inactive` that could be used to retry any method if the context session is not active; in other words, there is no active transaction when the method is called. The session is retrieved from the ""context"" parameter passed into the method (it is a must to have this parameter in the method signature). This retry decorator can be used along with a transaction decorator but the retry decorator must be declared before the context one. In the other way around, the retry context would be always called from inside an active transaction making it useless. E.g.: .. code-block:: python @db_api.retry_if_session_inactive() @db_api.CONTEXT_READER def get_ports_count(self, context, filters=None): return self._get_ports_query(context, filters).count()",developers that need to do some db changes.,104,1
openstack%2Fkayobe~stable%2Fwallaby~I0658c0059867468d6032cb1bfa3d05ae0d01c422,openstack/kayobe,stable/wallaby,I0658c0059867468d6032cb1bfa3d05ae0d01c422,Add missing declaration of kolla_enable_hacluster,MERGED,2022-06-06 12:24:42.000000000,2022-06-06 22:06:16.000000000,2022-06-06 22:05:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 12:24:42.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/98fbc2f2d3bb089785f22538b270402044be34a5', 'message': 'Add missing declaration of kolla_enable_hacluster\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n(cherry picked from commit b77033970a79587b3be5c04a5b81e8b88e21dadf)\n'}]",2,844796,98fbc2f2d3bb089785f22538b270402044be34a5,12,3,1,34940,,,0,"Add missing declaration of kolla_enable_hacluster

Story: 2010069
Task: 45540
Change-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422
(cherry picked from commit b77033970a79587b3be5c04a5b81e8b88e21dadf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/844796/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml']",2,98fbc2f2d3bb089785f22538b270402044be34a5,,--- fixes: - | Fixes an issue with undefined kolla_enable_hacluster variable. ,,5,0
openstack%2Fdesignate~stable%2Fyoga~I7876b4c1e2c800b654ca750211ee2e58f3ea4309,openstack/designate,stable/yoga,I7876b4c1e2c800b654ca750211ee2e58f3ea4309,Minimum TTL value allowed is zero,MERGED,2022-05-31 21:50:07.000000000,2022-06-06 22:05:02.000000000,2022-06-06 22:03:51.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 21:50:07.000000000', 'files': ['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1ba0f1a1155c15935b58fda4e672b5f7e96c10c8', 'message': 'Minimum TTL value allowed is zero\n\nAccording to ITEF https://tools.ietf.org/html/rfc2181#section-8\nthe definition of the ttl value is unsigned integer and can have a\nminimum value of 0. This patch changes the minimum value of 1 to allow\nfor 0. Unit test have also been modified accordingly.\n\nCloses-Bug: #1926429\nChange-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309\n(cherry picked from commit 6ac659d241c65c245d8a090768ac7559c32a13f1)\n'}]",1,844082,1ba0f1a1155c15935b58fda4e672b5f7e96c10c8,8,3,1,5572,,,0,"Minimum TTL value allowed is zero

According to ITEF https://tools.ietf.org/html/rfc2181#section-8
the definition of the ttl value is unsigned integer and can have a
minimum value of 0. This patch changes the minimum value of 1 to allow
for 0. Unit test have also been modified accordingly.

Closes-Bug: #1926429
Change-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309
(cherry picked from commit 6ac659d241c65c245d8a090768ac7559c32a13f1)
",git fetch https://review.opendev.org/openstack/designate refs/changes/82/844082/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py']",4,1ba0f1a1155c15935b58fda4e672b5f7e96c10c8,bug/1926429-stable/yoga," context = self.get_context(project_id=1) values['ttl'] = 5 with testtools.ExpectedException(exceptions.InvalidTTL): self.config(min_ttl=0,"," context = self.get_context() values['ttl'] = 0 with testtools.ExpectedException(ValueError): self.config(min_ttl=1,",15,7
openstack%2Fcharm-guide~master~I495a2c34472ff7a519e663d2c74fb418ead7a660,openstack/charm-guide,master,I495a2c34472ff7a519e663d2c74fb418ead7a660,Re-arrange spelling files and fix broken links,MERGED,2022-06-06 21:25:23.000000000,2022-06-06 21:49:23.000000000,2022-06-06 21:48:14.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 21:25:23.000000000', 'files': ['doc/source/_spelling/spelling_initial_seeding.txt', 'doc/source/admin/ha.rst', 'doc/source/conf.py', 'doc/source/_spelling/spelling_words.txt', 'doc/source/admin/compute/nova-cells.rst', 'doc/source/_spelling/dubious_words.txt'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e924145724257c3f8279c5df3802261136c4c353', 'message': 'Re-arrange spelling files and fix broken links\n\nRe-arrange spelling files so that they reside within\nthe same directory. Preceed the directory name with an\nunderscore to reflect non-rendered files.\n\nFix some broken links that the spelling tox target\nunearthed.\n\nChange-Id: I495a2c34472ff7a519e663d2c74fb418ead7a660\n'}]",1,844887,e924145724257c3f8279c5df3802261136c4c353,7,2,1,30561,,,0,"Re-arrange spelling files and fix broken links

Re-arrange spelling files so that they reside within
the same directory. Preceed the directory name with an
underscore to reflect non-rendered files.

Fix some broken links that the spelling tox target
unearthed.

Change-Id: I495a2c34472ff7a519e663d2c74fb418ead7a660
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/87/844887/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_spelling/spelling_initial_seeding.txt', 'doc/source/admin/ha.rst', 'doc/source/conf.py', 'doc/source/_spelling/spelling_words.txt', 'doc/source/admin/compute/nova-cells.rst', 'doc/source/_spelling/dubious_words.txt']",6,e924145724257c3f8279c5df3802261136c4c353,rearrange-spelling-files,,,7,9
openstack%2Fdesignate~stable%2Fwallaby~I7876b4c1e2c800b654ca750211ee2e58f3ea4309,openstack/designate,stable/wallaby,I7876b4c1e2c800b654ca750211ee2e58f3ea4309,Minimum TTL value allowed is zero,MERGED,2022-06-01 00:07:18.000000000,2022-06-06 21:34:09.000000000,2022-06-06 21:32:55.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-01 00:07:18.000000000', 'files': ['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/3e7535543923a1129a7a81ea38c8db75da86c713', 'message': 'Minimum TTL value allowed is zero\n\nAccording to ITEF https://tools.ietf.org/html/rfc2181#section-8\nthe definition of the ttl value is unsigned integer and can have a\nminimum value of 0. This patch changes the minimum value of 1 to allow\nfor 0. Unit test have also been modified accordingly.\n\nCloses-Bug: #1926429\nChange-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309\n(cherry picked from commit 6ac659d241c65c245d8a090768ac7559c32a13f1)\n'}]",2,844151,3e7535543923a1129a7a81ea38c8db75da86c713,11,3,1,5572,,,0,"Minimum TTL value allowed is zero

According to ITEF https://tools.ietf.org/html/rfc2181#section-8
the definition of the ttl value is unsigned integer and can have a
minimum value of 0. This patch changes the minimum value of 1 to allow
for 0. Unit test have also been modified accordingly.

Closes-Bug: #1926429
Change-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309
(cherry picked from commit 6ac659d241c65c245d8a090768ac7559c32a13f1)
",git fetch https://review.opendev.org/openstack/designate refs/changes/51/844151/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py']",4,3e7535543923a1129a7a81ea38c8db75da86c713,bug/1926429-stable/yoga-stable/xena-stable/wallaby," context = self.get_context(project_id=1) values['ttl'] = 5 with testtools.ExpectedException(exceptions.InvalidTTL): self.config(min_ttl=0,"," context = self.get_context() values['ttl'] = 0 with testtools.ExpectedException(ValueError): self.config(min_ttl=1,",15,7
openstack%2Fpuppet-openstack-integration~master~I72917d6b9d15296fcb01c32255b606fa04bf0855,openstack/puppet-openstack-integration,master,I72917d6b9d15296fcb01c32255b606fa04bf0855,Remove unused puppet-ipaclient,MERGED,2022-06-03 06:27:48.000000000,2022-06-06 21:18:13.000000000,2022-06-06 21:18:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 06:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/85f90dc5f114a27fb4b0465fd0e1ad0f444e6aa3', 'message': 'Remove unused puppet-ipaclient\n\nDepends-on: https://review.opendev.org/840802\nChange-Id: I72917d6b9d15296fcb01c32255b606fa04bf0855\n'}, {'number': 2, 'created': '2022-06-03 06:30:31.000000000', 'files': ['Puppetfile', 'external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b7a07bc8bd3224291e87f03f59f84f4037af16c8', 'message': 'Remove unused puppet-ipaclient\n\nDepends-on: https://review.opendev.org/840802\nChange-Id: I72917d6b9d15296fcb01c32255b606fa04bf0855\n'}]",0,844548,b7a07bc8bd3224291e87f03f59f84f4037af16c8,9,3,2,9816,,,0,"Remove unused puppet-ipaclient

Depends-on: https://review.opendev.org/840802
Change-Id: I72917d6b9d15296fcb01c32255b606fa04bf0855
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/48/844548/2 && git format-patch -1 --stdout FETCH_HEAD,['external_modules.txt'],1,85f90dc5f114a27fb4b0465fd0e1ad0f444e6aa3,remove-novajoin,,joshuabaird/puppet-ipaclient,0,1
openstack%2Fpuppet-openstack-integration~master~I88564a09a782a31d3934b71fdf20224bcd3efd40,openstack/puppet-openstack-integration,master,I88564a09a782a31d3934b71fdf20224bcd3efd40,Capture list of api extensions enabled,MERGED,2022-06-03 04:07:26.000000000,2022-06-06 21:13:34.000000000,2022-06-06 21:13:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 04:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3f02b0238ebdf3c48917581d3c55d04437493a75', 'message': 'Capture list of api extensions enabled\n\nChange-Id: I88564a09a782a31d3934b71fdf20224bcd3efd40\n'}, {'number': 2, 'created': '2022-06-06 00:33:41.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/528479f0f53d747adbfd049fe889dfa87f3a4e0b', 'message': 'Capture list of api extensions enabled\n\nChange-Id: I88564a09a782a31d3934b71fdf20224bcd3efd40\n'}]",0,844538,528479f0f53d747adbfd049fe889dfa87f3a4e0b,9,3,2,9816,,,0,"Capture list of api extensions enabled

Change-Id: I88564a09a782a31d3934b71fdf20224bcd3efd40
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/844538/2 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,3f02b0238ebdf3c48917581d3c55d04437493a75,,extension list --identityextension list --computeextension list --volumeextension list --network,,4,0
openstack%2Fpuppet-openstack-integration~master~I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,openstack/puppet-openstack-integration,master,I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,CentOS: Re-enable ml2+linux bridge,MERGED,2022-06-03 05:34:42.000000000,2022-06-06 21:13:32.000000000,2022-06-06 21:13:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 05:34:42.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/85b8e3a4bdd3f2be071afcc25d583e6147114cb1', 'message': 'CentOS: Re-enable ml2+linux bridge\n\nChange-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99\n'}]",0,844541,85b8e3a4bdd3f2be071afcc25d583e6147114cb1,7,3,1,9816,,,0,"CentOS: Re-enable ml2+linux bridge

Change-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/844541/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,85b8e3a4bdd3f2be071afcc25d583e6147114cb1,," driver => 'linuxbridge',","# RHEL8 has an issue with linuxbridge driver https://bugzilla.redhat.com/show_bug.cgi?id=1720637 if ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $neutron_driver = undef } else { $neutron_driver = 'linuxbridge' } driver => $neutron_driver,",1,7
openstack%2Fpuppet-openstack-integration~master~I2061d1f51bc3a1673f334024d4d3ed4b2ad04fcb,openstack/puppet-openstack-integration,master,I2061d1f51bc3a1673f334024d4d3ed4b2ad04fcb,Updated from Puppet OpenStack modules constraints,MERGED,2022-06-01 02:23:02.000000000,2022-06-06 21:11:21.000000000,2022-06-06 21:11:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 02:23:02.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/756db13cc50d32d208e657f0eaea0c51cf5d39d7', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I2061d1f51bc3a1673f334024d4d3ed4b2ad04fcb\n'}]",0,844176,756db13cc50d32d208e657f0eaea0c51cf5d39d7,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I2061d1f51bc3a1673f334024d4d3ed4b2ad04fcb
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/76/844176/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,756db13cc50d32d208e657f0eaea0c51cf5d39d7,openstack/puppet/constraints, :ref => 'v8.4.0', :ref => 'v8.3.0',1,1
openstack%2Fswift~master~I1c9bb8086994f7930acd8cda8f56e766938c2218,openstack/swift,master,I1c9bb8086994f7930acd8cda8f56e766938c2218,Add ring_ip option to object services,MERGED,2022-05-03 20:00:15.000000000,2022-06-06 21:06:22.000000000,2022-06-06 21:04:48.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/86bb1939c8e4a0a117ab2386e03e09e4ade2af7a', 'message': 'Allow servers-per-port to override bind_ip\n\n... when looking up the ports in the ring.\n\nThis allows a container to set the bind_ip to 0.0.0.0 inside the\ncontainer, but still find the ports to bind to using the host ip in the\nring.\n\nChange-Id: I1c9bb8086994f7930acd8cda8f56e766938c2218\n'}, {'number': 2, 'created': '2022-05-20 15:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2c02ec0a34f78c1e71b559f05e2060a1ee59892', 'message': 'Allow servers-per-port to override bind_ip\n\n... when looking up the ports in the ring.\n\nThis allows a container to set the bind_ip to 0.0.0.0 inside the\ncontainer, but still find the ports to bind to using the host ip in the\nring.\n\nChange-Id: I1c9bb8086994f7930acd8cda8f56e766938c2218\n'}, {'number': 3, 'created': '2022-06-01 20:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/56f0479a90b5b70207721704fe27da71b7aa57c0', 'message': 'Add ring_ip option to object services\n\nThis will be used when finding their own devices in rings, defaulting to\nthe bind_ip.\n\nNotably, this allows services to be containerized while servers_per_port\nis enabled:\n\n* For the object-server, the ring_ip should be set to the host ip and\n  will be used to discover which ports need binding. Sockets will still\n  be bound to the bind_ip (likely 0.0.0.0), with the assumption that the\n  host will publish ports 1:1.\n\n* For the replicator and reconstructor, the ring_ip will be used to\n  discover which devices should be replicated. While bind_ip could\n  previously be used for this, it would have required a separate config\n  from the object-server.\n\nChange-Id: I1c9bb8086994f7930acd8cda8f56e766938c2218\n'}, {'number': 4, 'created': '2022-06-02 17:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/508ba13d71ffa4a3d3f295b8400f4598b5217547', 'message': ""Add ring_ip option to object services\n\nThis will be used when finding their own devices in rings, defaulting to\nthe bind_ip.\n\nNotably, this allows services to be containerized while servers_per_port\nis enabled:\n\n* For the object-server, the ring_ip should be set to the host ip and\n  will be used to discover which ports need binding. Sockets will still\n  be bound to the bind_ip (likely 0.0.0.0), with the assumption that the\n  host will publish ports 1:1.\n\n* For the replicator and reconstructor, the ring_ip will be used to\n  discover which devices should be replicated. While bind_ip could\n  previously be used for this, it would have required a separate config\n  from the object-server.\n\nAlso rename object deamon's bind_ip attribute to ring_ip so that it's\nmore obvious wherever we're using the IP for ring lookups instead of\nsocket binding.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I1c9bb8086994f7930acd8cda8f56e766938c2218\n""}, {'number': 5, 'created': '2022-06-02 21:31:59.000000000', 'files': ['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'swift/common/utils.py', 'test/unit/obj/test_replicator.py', 'swift/common/storage_policy.py', 'swift/container/sharder.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/12bc79bf01e7619e4dc6ad549566702a289af62b', 'message': ""Add ring_ip option to object services\n\nThis will be used when finding their own devices in rings, defaulting to\nthe bind_ip.\n\nNotably, this allows services to be containerized while servers_per_port\nis enabled:\n\n* For the object-server, the ring_ip should be set to the host ip and\n  will be used to discover which ports need binding. Sockets will still\n  be bound to the bind_ip (likely 0.0.0.0), with the assumption that the\n  host will publish ports 1:1.\n\n* For the replicator and reconstructor, the ring_ip will be used to\n  discover which devices should be replicated. While bind_ip could\n  previously be used for this, it would have required a separate config\n  from the object-server.\n\nAlso rename object deamon's bind_ip attribute to ring_ip so that it's\nmore obvious wherever we're using the IP for ring lookups instead of\nsocket binding.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I1c9bb8086994f7930acd8cda8f56e766938c2218\n""}]",19,840372,12bc79bf01e7619e4dc6ad549566702a289af62b,26,3,5,1179,,,0,"Add ring_ip option to object services

This will be used when finding their own devices in rings, defaulting to
the bind_ip.

Notably, this allows services to be containerized while servers_per_port
is enabled:

* For the object-server, the ring_ip should be set to the host ip and
  will be used to discover which ports need binding. Sockets will still
  be bound to the bind_ip (likely 0.0.0.0), with the assumption that the
  host will publish ports 1:1.

* For the replicator and reconstructor, the ring_ip will be used to
  discover which devices should be replicated. While bind_ip could
  previously be used for this, it would have required a separate config
  from the object-server.

Also rename object deamon's bind_ip attribute to ring_ip so that it's
more obvious wherever we're using the IP for ring lookups instead of
socket binding.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Change-Id: I1c9bb8086994f7930acd8cda8f56e766938c2218
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/840372/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'etc/object-server.conf-sample']",3,86bb1939c8e4a0a117ab2386e03e09e4ade2af7a,ring-ip,"# If running in a container, servers_per_port may not be able to use the # bind_ip to lookup the ports in the ring. You may instead override the port # lookup in the ring using the ring_ip. Any devices/ports associted with the # ring_ip will be used when listening on the configured bind_ip address. # ring_ip = <bind_ip> #",,36,2
openstack%2Fpuppet-tempest~master~I51c5910bc13bc64bc1170d2d6df27f181ae66730,openstack/puppet-tempest,master,I51c5910bc13bc64bc1170d2d6df27f181ae66730,Accept a string value for [auth] tempest_roles,MERGED,2022-06-03 05:42:21.000000000,2022-06-06 21:01:58.000000000,2022-06-06 21:01:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 05:42:21.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/786b5edace9774083cbe556ba124b1fcaa2cfb65', 'message': 'Accept a string value for [auth] tempest_roles\n\n... in addition to an array value. A string value is sometimes useful\nfor example when only a single value is required.\n\nChange-Id: I51c5910bc13bc64bc1170d2d6df27f181ae66730\n'}]",0,844543,786b5edace9774083cbe556ba124b1fcaa2cfb65,7,3,1,9816,,,0,"Accept a string value for [auth] tempest_roles

... in addition to an array value. A string value is sometimes useful
for example when only a single value is required.

Change-Id: I51c5910bc13bc64bc1170d2d6df27f181ae66730
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/43/844543/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,786b5edace9774083cbe556ba124b1fcaa2cfb65,," 'auth/tempest_roles': value => join(any2array($tempest_roles), ',');"," if !is_service_default($tempest_roles) and !empty($tempest_roles){ validate_legacy(Array, 'validate_array', $tempest_roles) $tempest_roles_real = join($tempest_roles, ',') } else { $tempest_roles_real = $::os_service_default } 'auth/tempest_roles': value => $tempest_roles_real;",1,8
openstack%2Fpython-tripleoclient~master~I56464eefd3d1a638204403320523fab4a35adc2d,openstack/python-tripleoclient,master,I56464eefd3d1a638204403320523fab4a35adc2d,Add GlobalConfig to saved stack outputs,MERGED,2022-05-26 20:23:46.000000000,2022-06-06 20:56:06.000000000,2022-06-06 20:54:45.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 20:23:46.000000000', 'files': ['tripleoclient/constants.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/56003d306b4408a754d1ec0beff65bc05dd30109', 'message': ""Add GlobalConfig to saved stack outputs\n\nThe GlobalConfig stack output needs to be saved as it's needed by stack\nexport for multi-stack.\n\nChange-Id: I56464eefd3d1a638204403320523fab4a35adc2d\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",1,843545,56003d306b4408a754d1ec0beff65bc05dd30109,9,3,1,7144,,,0,"Add GlobalConfig to saved stack outputs

The GlobalConfig stack output needs to be saved as it's needed by stack
export for multi-stack.

Change-Id: I56464eefd3d1a638204403320523fab4a35adc2d
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/45/843545/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,56003d306b4408a754d1ec0beff65bc05dd30109,," 'AdminPassword', 'GlobalConfig']", 'AdminPassword'],2,1
openstack%2Fvalidations-libs~master~I1dda9fc3ab1425403e501ce59211e3828373ee90,openstack/validations-libs,master,I1dda9fc3ab1425403e501ce59211e3828373ee90,Python 3.6 support removal,MERGED,2022-06-03 07:29:04.000000000,2022-06-06 20:54:49.000000000,2022-06-06 20:54:49.000000000,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-06-03 07:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/39a62d2865524ca18b01dac96780bfca93ec7771', 'message': 'Remove py36 support to py38\n\nChange-Id: I1dda9fc3ab1425403e501ce59211e3828373ee90\n'}, {'number': 2, 'created': '2022-06-03 07:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5a8e99b3986f0c05a4ce5644daec76a5895db0e1', 'message': 'Python 3.6 support removal\n\nThe lowest version of python supported will be Python 3.8,\nto keep up with some of the adjacent components and CI jobs.\n\nChange-Id: I1dda9fc3ab1425403e501ce59211e3828373ee90\n'}, {'number': 3, 'created': '2022-06-03 07:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5fd37f7a8f80e6eff57197ff6eb0291af4f0d1e8', 'message': 'Python 3.6 support removal\n\nThe lowest version of python supported will be Python 3.8,\nto keep up with some of the adjacent components and CI jobs.\n\nReleated-Bug: #1974244\n\nChange-Id: I1dda9fc3ab1425403e501ce59211e3828373ee90\n'}, {'number': 4, 'created': '2022-06-06 06:22:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9047bbb317229a83b6855a22d4c943b6f9aaeada', 'message': 'Python 3.6 support removal\n\nThe lowest version of python supported will be Python 3.8,\nto keep up with some of the adjacent components and CI jobs.\n\nReleated-Bug: #1974244\n\nChange-Id: I1dda9fc3ab1425403e501ce59211e3828373ee90\n'}]",2,844556,9047bbb317229a83b6855a22d4c943b6f9aaeada,18,5,4,16515,,,0,"Python 3.6 support removal

The lowest version of python supported will be Python 3.8,
to keep up with some of the adjacent components and CI jobs.

Releated-Bug: #1974244

Change-Id: I1dda9fc3ab1425403e501ce59211e3828373ee90
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/56/844556/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,39a62d2865524ca18b01dac96780bfca93ec7771,remove/py36,python_requires = >=3.8, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7python_requires = >=3.6,1,3
openstack%2Fvalidations-common~master~Ia7c0fb0da2346c975b39a7c2a30c1083d6c190c6,openstack/validations-common,master,Ia7c0fb0da2346c975b39a7c2a30c1083d6c190c6,Restoring variables lost in merge commit,MERGED,2022-06-06 10:05:47.000000000,2022-06-06 20:54:47.000000000,2022-06-06 20:54:47.000000000,"[{'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-06 10:05:47.000000000', 'files': ['roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e8a183e34a21dfe1a1ad6b1639194a0675a72195', 'message': 'Restoring variables lost in merge commit\n\nCloses-Bug: #1977716\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia7c0fb0da2346c975b39a7c2a30c1083d6c190c6\n'}]",3,844823,e8a183e34a21dfe1a1ad6b1639194a0675a72195,9,8,1,32926,,,0,"Restoring variables lost in merge commit

Closes-Bug: #1977716

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia7c0fb0da2346c975b39a7c2a30c1083d6c190c6
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/23/844823/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,e8a183e34a21dfe1a1ad6b1639194a0675a72195,," extra_args: """" extra_env_args: ""{{ extra_env_vars | default('') }}""",,2,0
openstack%2Fcharm-guide~master~I534fb4a61d054f4e5e532cf5e63150ac55f5595c,openstack/charm-guide,master,I534fb4a61d054f4e5e532cf5e63150ac55f5595c,Fix internal links,MERGED,2022-06-06 20:22:07.000000000,2022-06-06 20:43:41.000000000,2022-06-06 20:42:22.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 20:22:07.000000000', 'files': ['doc/source/admin/storage/cinder-replication-overlay.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/storage/cinder-replication-dr.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5d528f29ecfd45a9be871f7f6398ca3051473456', 'message': 'Fix internal links\n\nSome internal links got broken in master. This PR\nfixes them.\n\nChange-Id: I534fb4a61d054f4e5e532cf5e63150ac55f5595c\n'}]",0,844884,5d528f29ecfd45a9be871f7f6398ca3051473456,7,2,1,30561,,,0,"Fix internal links

Some internal links got broken in master. This PR
fixes them.

Change-Id: I534fb4a61d054f4e5e532cf5e63150ac55f5595c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/84/844884/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/storage/cinder-replication-overlay.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/storage/cinder-replication-dr.rst']",3,5d528f29ecfd45a9be871f7f6398ca3051473456,fix-links-in-master,replication <cinder-replication>` page.,replication <cinder-volume-replication>` page.,4,4
openstack%2Fgovernance~master~I7fe371b5844f1524d02bb911763957658e9afedd,openstack/governance,master,I7fe371b5844f1524d02bb911763957658e9afedd,Add community infrastructure contributor in upstream investment,MERGED,2022-05-29 15:58:21.000000000,2022-06-06 20:12:18.000000000,2022-06-06 20:10:59.000000000,"[{'_account_id': 2033}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-29 15:58:21.000000000', 'files': ['reference/upstream-investment-opportunities/2022/community-infrastructure-sysadmins.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/74e34a6372f38c1d71fd49fe01a8916e4aa76333', 'message': 'Add community infrastructure contributor in upstream investment\n\nAdding infra contributors opportunities in upstream investment\n(copy from previous year) which still need help.\n\nChange-Id: I7fe371b5844f1524d02bb911763957658e9afedd\n'}]",3,843749,74e34a6372f38c1d71fd49fe01a8916e4aa76333,13,8,1,8556,,,0,"Add community infrastructure contributor in upstream investment

Adding infra contributors opportunities in upstream investment
(copy from previous year) which still need help.

Change-Id: I7fe371b5844f1524d02bb911763957658e9afedd
",git fetch https://review.opendev.org/openstack/governance refs/changes/49/843749/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/upstream-investment-opportunities/2022/community-infrastructure-sysadmins.rst'],1,74e34a6372f38c1d71fd49fe01a8916e4aa76333,formal-vote,"================================== Community Infrastructure Sysadmins ================================== Summary ------- The OpenStack community is seeking developers and system administrators with a background in maintaining Unix/Linux servers and free software to join the TACT SIG Infrastructure team. This team is responsible for designing, building and maintaining the systems that are used in the day to day operation of the OpenStack project as a whole. Attrition due to shifts in employment or availability of personal time impacts the team's ability to support the community effectively, and so there is a constant need for new contributors who can commit to investing sufficient effort to overcome the steep learning curve associated with these varied technologies. There is a particular need for infrastructure team members from APAC and EMEA. Business Case ------------- Sponsorship of a team member is a way to visibly help build and maintain the development, collaboration, and testing tools used by the third most active open source project in the world without having to donate hardware. Team members interact with contributors across all the OpenStack projects as well as with the OpenStack service providers who supply resources for OpenStack CI systems. Sponsors of infrastructure team members have a ""seat at the table"" as decisions are made about how to improve and scale OpenStack infrastructure going forwards. Sponsors gain in-house expertise and experience building large-scale, adaptive software development infrastructure with open-source tools and public configuration management. There is no better way to gain exposure to and expertise with leading-edge CI/CD in advance of potential deployment at home than to place someone on the team deploying one of the world's most scaled out instances of the `Zuul project`_. The software developed, skills involved, and open community practices learned can have high value downstream in a sponsors own enterprises and software products. .. _`Zuul project`: https://zuul-ci.org Technical Details ----------------- The infrastructure team is responsible for designing, building and maintaining the systems that are used in the day to day operation of the OpenStack project as a whole; this includes development, testing, and collaboration tools. All of the software it runs is open source, and under public configuration management so that everyone in the community has the opportunity to participate. One very effective way to get involved in OpenStack and gain a deep understanding and visibility within the community is by helping operate this infrastructure. In particular, the team seeks developers and systems administrators with a background both in maintaining Unix/Linux servers and free software, and places heavy emphasis on systems automation and configuration management (primarily Ansible and Puppet at the moment). Everything possible goes through code review, and gets extensively documented and communicated with the rest of the community over IRC and mailing lists. Server resources are donated by companies operating OpenStack services so there is substantial opportunity both for people who have experience in those technologies as well as anyone wishing to gain more familiarity with them. Value ~~~~~ The infrastructure team leverages resources donated from companies operating OpenStack services. The community uses the software it produces as a tool for testing it. Every day, contributors submit thousands of patches for review. Infrastructure tools deploy each patch and test it against thousands of tests and scenarios. This volume provides an opportunity to improve the software we write by giving us first-hand experience with issues at scale. The benefit of fixing these issues for the OpenStack CI system is two-fold: 1. It makes the test platform more stable and robust 2. Products or services benefits from the fix being applied upstream Don't Repeat Yourself or Your Testing (DRY) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The culture built around extensive testing in OpenStack makes it easier for us to trust patches proposed for review. We've integrated this culture into our review process. Duplicating a social and technical CI system of this size takes incredible amounts of time, people, and patience. Bolstering the CI system we already have in place allows you to focus on testing that is specific to your product or service. Immediate Feedback ~~~~~~~~~~~~~~~~~~~ The OpenStack CI system is the backbone of feedback for contributors and operators. Users get this feedback early, ideally before the patch lands. Ensuring early feedback through a robust CI system and testing means fewer surprises down the road when you attempt to integrate your product into a new release or deploy a new version of a service. Contact ------- Join the OpenStack Infra or TC IRC channel (``openstack-infra`` on `OFTC <https://www.oftc.net/>`_) or (``openstack-tc`` on `OFTC <https://www.oftc.net/>`_). You can also reach out through the openstack-discuss mail list at list.openstack.org if you would like to get involved. ",,113,0
openstack%2Fkayobe~stable%2Fxena~I0658c0059867468d6032cb1bfa3d05ae0d01c422,openstack/kayobe,stable/xena,I0658c0059867468d6032cb1bfa3d05ae0d01c422,Add missing declaration of kolla_enable_hacluster,MERGED,2022-06-06 12:22:15.000000000,2022-06-06 20:03:30.000000000,2022-06-06 20:02:17.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 12:22:15.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/582f05020b382cab693d4eff58ecfdeeeb104397', 'message': 'Add missing declaration of kolla_enable_hacluster\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n(cherry picked from commit b77033970a79587b3be5c04a5b81e8b88e21dadf)\n'}]",1,844795,582f05020b382cab693d4eff58ecfdeeeb104397,10,3,1,34940,,,0,"Add missing declaration of kolla_enable_hacluster

Story: 2010069
Task: 45540
Change-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422
(cherry picked from commit b77033970a79587b3be5c04a5b81e8b88e21dadf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/844795/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml']",2,582f05020b382cab693d4eff58ecfdeeeb104397,,--- fixes: - | Fixes an issue with undefined kolla_enable_hacluster variable. ,,5,0
openstack%2Fvalidations-common~stable%2F1.6~I0fd4485e98235b9da8840d658e29dbcb64036e9b,openstack/validations-common,stable/1.6,I0fd4485e98235b9da8840d658e29dbcb64036e9b,[Stable-Only] Refactoring validations-common stable branch CI pipeliene,MERGED,2022-05-17 07:43:47.000000000,2022-06-06 19:34:54.000000000,2022-06-06 19:32:56.000000000,"[{'_account_id': 8833}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-17 07:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/67175ae53cada64e42e4c92d8772c62b1eb5e9c7', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 2, 'created': '2022-05-17 07:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7a720f8ead6f20b8c34a151df1d9982342c491fd', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 3, 'created': '2022-05-17 08:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bfc9b6139c3635a2dea8b0f0341fb74a070a1d4e', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 4, 'created': '2022-05-17 09:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0d10904934259220a310688c678915e6dd79e08f', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 5, 'created': '2022-05-17 09:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9180e0f77449308160bc75fff835b2ea253eb129', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 6, 'created': '2022-05-17 09:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/edfcc90839dd7330f8e0c64c7d61606a306f54ef', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 7, 'created': '2022-05-17 10:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/66109d5173dc949e0c89ba1828a19c8ee910bd4d', 'message': 'Refactoring validations-common stable branch CI pipeliene\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 8, 'created': '2022-05-17 11:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/03a90a6f769705e5c22262b024b4bd7df4c61da8', 'message': '[Stable-Only]Refactoring validations-common stable branch CI pipeliene\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 9, 'created': '2022-05-17 14:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a54963416aa189fdd683d65c113ef63b8f45238b', 'message': '[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 10, 'created': '2022-05-18 07:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e3eaef39314c89c51cab1f4ca79dc52b0bf9a55a', 'message': '[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 11, 'created': '2022-05-18 11:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c2c00c7dc7716f1fdd5151685464b81821fa4c8e', 'message': 'DNM [Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 12, 'created': '2022-05-18 13:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/32db1f4a0487bb570c73c68198aab83e935c94f6', 'message': 'DNM [Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 13, 'created': '2022-05-18 15:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1dffb3814fdfa80b87c3b52fc73ce94d29c1fd11', 'message': 'DNM [Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n'}, {'number': 14, 'created': '2022-05-19 14:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ccf64a667543a5daa04fcc8db3c6ca688aa565f6', 'message': ""[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n""}, {'number': 15, 'created': '2022-05-19 14:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9c65432e81709b4b99c075f60b8a7635d29dce62', 'message': ""[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n""}, {'number': 16, 'created': '2022-05-19 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3a8f4b4f9dd5a9da98f99c036ebd1ffe8caf7baa', 'message': ""[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n""}, {'number': 17, 'created': '2022-05-19 14:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6bbe107fbdd90c74452442d596894de83932d27f', 'message': ""[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n""}, {'number': 18, 'created': '2022-05-23 06:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d6a49357b34d588193b15b8e4b1f2364fa5b2569', 'message': ""[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n""}, {'number': 19, 'created': '2022-05-23 09:06:23.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ede7f7c67f5e9d05c77813f0f36a0516b947c8e9', 'message': ""[Stable-Only] Refactoring validations-common stable branch CI pipeliene\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b\n""}]",8,842048,ede7f7c67f5e9d05c77813f0f36a0516b947c8e9,51,5,19,32926,,,0,"[Stable-Only] Refactoring validations-common stable branch CI pipeliene

CI pipeline was refactored to allow for proper testing of the stable/1.6 branch.
New jobs were introduced to build and test package against 'train' release of the openstack project.
The constraints were updated to respect Openstack train dependencies.
Excess lines in the zuul configuration file were replaced with anchors.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0fd4485e98235b9da8840d658e29dbcb64036e9b
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/48/842048/19 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,67175ae53cada64e42e4c92d8772c62b1eb5e9c7,vf/stable-branch/ci, name: validations-common-functional-stable parent: validations-common-functional branches: stable/1.6 override-checkout: stable/train required-projects: - name: openstack/requirements override-checkout: stable/train override-checkout: stable/train override-checkout: stable/train override-checkout: stable/train name: tripleo-ci-centos-8-standalone-validation-common-stable parent: tripleo-ci-centos-8-standalone-validation-common description: | Standalone job created and intended solely for the stable/1.6 branch of the openstack/validations-common project. Checks out stable/train branches of relevant openstack repos in order to test mutual compatibility of validations-common-1.6.* and Train release of Openstack project. This job should not be used for any other purpose. final: true branches: stable/1.6 override-checkout: stable/train required-projects: name: openstack/tripleo-ci override-checkout: master - openstack-tox-linters: &tox_override_checkout override-checkout: stable/train - openstack-tox-cover: *tox_override_checkout - openstack-tox-py36: *tox_override_checkout - openstack-tox-py37: *tox_override_checkout - validations-common-functional-stable - tripleo-ci-centos-8-standalone-validation-common-stable: - validations-common-functional-stable - openstack-tox-linters: *tox_override_checkout - openstack-tox-py36: *tox_override_checkout - openstack-tox-py37: *tox_override_checkout - validations-common-functional-stable - tripleo-ci-centos-8-standalone-validation-common-stable: - validations-common-functional-stable, name: validations-common-functional parent: devstack run: playbooks/validations-common-functional.yaml post-run: playbooks/post.yaml timeout: 7200 required-projects: override-checkout: master override-checkout: master vars: devstack_localrc: USE_PYTHON3: true run_validation: true irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ name: tripleo-ci-centos-8-standalone-validation-common parent: tripleo-ci-centos-8-standalone vars: featureset: '052' validate_services: true enable_validation: true validation_component: validation - openstack-tox-linters - openstack-tox-cover - openstack-tox-py36 - openstack-tox-py39 - validations-common-functional - tripleo-ci-centos-8-standalone-validation-common: - validations-common-functional - openstack-tox-linters - openstack-tox-py36 - openstack-tox-py39 - validations-common-functional - tripleo-ci-centos-8-standalone-validation-common: - validations-common-functional,37,35
openstack%2Ftripleo-docs~master~I4dfe91b3a487c637f98ad18ea36de49dde4a86cd,openstack/tripleo-docs,master,I4dfe91b3a487c637f98ad18ea36de49dde4a86cd,Ephemral Heat: Ensure OS_CLOUD is cleared,MERGED,2022-05-23 05:17:57.000000000,2022-06-06 19:32:48.000000000,2022-06-06 19:31:32.000000000,"[{'_account_id': 7144}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 05:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5736006ea5391c2069f5c39a1053bab79c0642c9', 'message': 'Use OS_CLOUD to access ephemeral heat\n\nThe described steps does not work since stackrc was updated to use\nOS_CLOUD.\n\nChange-Id: I4dfe91b3a487c637f98ad18ea36de49dde4a86cd\n'}, {'number': 2, 'created': '2022-05-26 14:51:34.000000000', 'files': ['deploy-guide/source/deployment/ephemeral_heat.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/40110ef4f820649a5a9245a9da37e1a838c1f62f', 'message': 'Ephemral Heat: Ensure OS_CLOUD is cleared\n\nRecent stackrc uses OS_CLOUD instead of the other OS_* environments and\nit should be cleared to use the other OS_* environments.\n\nThis also documents usage of OS_CLOUD which would be easier.\n\nChange-Id: I4dfe91b3a487c637f98ad18ea36de49dde4a86cd\n'}]",2,842910,40110ef4f820649a5a9245a9da37e1a838c1f62f,12,3,2,9816,,,0,"Ephemral Heat: Ensure OS_CLOUD is cleared

Recent stackrc uses OS_CLOUD instead of the other OS_* environments and
it should be cleared to use the other OS_* environments.

This also documents usage of OS_CLOUD which would be easier.

Change-Id: I4dfe91b3a487c637f98ad18ea36de49dde4a86cd
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/10/842910/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/ephemeral_heat.rst'],1,5736006ea5391c2069f5c39a1053bab79c0642c9,,configuration must set up access to the Heat API:: export OS_CLOUD=heat,"configuration must be set in order to disable authentication:: unset OS_PROJECT_NAME unset OS_PROJECT_DOMAIN_NAME unset OS_USER_DOMAIN_NAME OS_AUTH_TYPE=none IP=`cat /etc/hosts | grep ""undercloud.localdomain undercloud$"" | awk '{print $1}'` OS_ENDPOINT=http://$IP:8006/v1/admin",2,7
openstack%2Fproject-config~master~Ibef198eaebe2bb5b0f58f016ee1917e4fcd46eb0,openstack/project-config,master,Ibef198eaebe2bb5b0f58f016ee1917e4fcd46eb0,grafana ceph: add nova stable/(xena|yoga) branches,MERGED,2022-03-28 20:31:33.000000000,2022-06-06 18:59:25.000000000,2022-06-06 18:54:10.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-28 20:31:33.000000000', 'files': ['grafana/ceph.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b3abdb411d5fab13269ef8c18d89af4d8b4aabd', 'message': 'grafana ceph: add nova stable/(xena|yoga) branches\n\nChange-Id: Ibef198eaebe2bb5b0f58f016ee1917e4fcd46eb0\n'}]",0,835514,7b3abdb411d5fab13269ef8c18d89af4d8b4aabd,8,3,1,4690,,,0,"grafana ceph: add nova stable/(xena|yoga) branches

Change-Id: Ibef198eaebe2bb5b0f58f016ee1917e4fcd46eb0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/835514/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/ceph.yaml'],1,7b3abdb411d5fab13269ef8c18d89af4d8b4aabd,ceph-grafana-stable-xena-yoga," - title: Nova Tempest Full Failure Rates (Check queue) stable/yoga span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_yoga.job.tempest-integrated-compute.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_yoga.job.tempest-integrated-compute.{SUCCESS,FAILURE})),'24hours'), 'tempest-integrated-compute') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_yoga.job.nova-ceph-multistore.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_yoga.job.nova-ceph-multistore.{SUCCESS,FAILURE})),'24hours'), 'nova-ceph-multistore') type: graph - title: Nova Tempest Full Failure Rates (Check queue) stable/xena span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_xena.job.tempest-integrated-compute.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_xena.job.tempest-integrated-compute.{SUCCESS,FAILURE})),'24hours'), 'tempest-integrated-compute') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_xena.job.nova-ceph-multistore.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_xena.job.nova-ceph-multistore.{SUCCESS,FAILURE})),'24hours'), 'nova-ceph-multistore') type: graph - title: Nova Tempest Full Failure Rates (Check queue) stable/victoria", - title: Nova Tempest Full Failure Rates (Check queue) stable/victora,13,1
openstack%2Ftacker~master~I9a99aa5a720360cbc765322033ecb256ed983fb3,openstack/tacker,master,I9a99aa5a720360cbc765322033ecb256ed983fb3,Compliance Test Code Improvement,NEW,2022-04-08 05:46:08.000000000,2022-06-06 18:45:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-04-08 05:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3286f9c754569f25040bf127bdded4e8318c7482', 'message': '[WIP] Compliance Test Code Improvement\n\nWe provide improvements to the test code of Compliance Test:\n\n* Improved getting of OpOcc ID for Scale Test cases causing different\nOpOcc ID to be returned.\n* Returned copy.deepcopy() function for INSTANTIATION_BODY so that\nthe original copy of INSTANTIATION_BODY is retained in the next\ntest cases.\n* Resolved the issue of random race condition occurrences when\ngetting OpOcc ID.\n\nChange-Id: I9a99aa5a720360cbc765322033ecb256ed983fb3\n'}, {'number': 2, 'created': '2022-04-11 08:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d89c00640011bcc38b47406fcb29494c421ebe81', 'message': 'Compliance Test Code Improvement\n\nWe provide improvements to the test code of Compliance Test:\n\n* Improved getting of OpOcc ID for Scale Test cases causing different\nOpOcc ID to be returned.\n* Returned copy.deepcopy() function for INSTANTIATION_BODY so that\nthe original copy of INSTANTIATION_BODY is retained in the next\ntest cases.\n* Resolved the issue of random race condition occurrences when\ngetting OpOcc ID.\n\nChange-Id: I9a99aa5a720360cbc765322033ecb256ed983fb3\n'}, {'number': 3, 'created': '2022-04-27 00:07:03.000000000', 'files': ['tacker/tests/compliance/sol002/test_vnflcm.py', 'tacker/tests/compliance/base.py', 'tacker/tests/compliance/sol003/test_vnflcm.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c869af7df788f0895be841860684c8416f31a88a', 'message': 'Compliance Test Code Improvement\n\nWe provide improvements to the test code of Compliance Test:\n\n* Improved getting of OpOcc ID for Scale Test cases causing different\nOpOcc ID to be returned.\n* Returned copy.deepcopy() function for INSTANTIATION_BODY so that\nthe original copy of INSTANTIATION_BODY is retained in the next\ntest cases.\n* Resolved the issue of random race condition occurrences when\ngetting OpOcc ID.\n\nChange-Id: I9a99aa5a720360cbc765322033ecb256ed983fb3\n'}]",18,837084,c869af7df788f0895be841860684c8416f31a88a,10,3,3,32219,,,0,"Compliance Test Code Improvement

We provide improvements to the test code of Compliance Test:

* Improved getting of OpOcc ID for Scale Test cases causing different
OpOcc ID to be returned.
* Returned copy.deepcopy() function for INSTANTIATION_BODY so that
the original copy of INSTANTIATION_BODY is retained in the next
test cases.
* Resolved the issue of random race condition occurrences when
getting OpOcc ID.

Change-Id: I9a99aa5a720360cbc765322033ecb256ed983fb3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/84/837084/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/compliance/sol002/test_vnflcm.py', 'tacker/tests/compliance/base.py', 'tacker/tests/compliance/sol003/test_vnflcm.py']",3,3286f9c754569f25040bf127bdded4e8318c7482,bp/use-robot-api-tests,"import copy import time self._instantiate_vnf_instance(vnf['id']) lcmid = None while(lcmid is None): lcmid = self._get_lcm_op_occs_id(vnf['id'], lcm='MODIFY_INFO') time.sleep(5) res = self._wait_lcm_status(lcmid) self._terminate_vnf_instance(vnf['id']) self._delete_vnf_instance(vnf['id']) self.assertEqual(0, res) body = copy.deepcopy(rootbase.INSTANTIATION_BODY) scale_type = 'SCALE_OUT' # Post-Conditions: lcmid = None while(lcmid is None): lcmid = self._get_lcm_op_occs_id_for_scale(vnf['id'], scale_type, lcm='SCALE') time.sleep(5) vnf_id = self._get_vnf_instance_id_for_scalein() scale_type = 'SCALE_IN' # Post-Conditions: lcmid = None while(lcmid is None): lcmid = self._get_lcm_op_occs_id_for_scale(vnf_id, scale_type, lcm='SCALE') time.sleep(5) self.assertEqual(0, res) lcmid = None while(lcmid is None): lcmid = self._get_lcm_op_occs_id(vnf['id'], lcm='HEAL') time.sleep(5) self.assertEqual(0, res) lcmid = None while(lcmid is None): lcmid = self._get_lcm_op_occs_id(vnf['id'], lcm='CHANGE_EXT_CONN') time.sleep(5) self.assertEqual(0, res) lcmid = None while(lcmid is None): lcmid = self._get_lcm_op_occs_id(vnf['id']) time.sleep(5) self._rollback_instance(lcmid) self.assertEqual(0, res) self.assertEqual(0, res)"," self._delete_vnf_instance(vnfid) body = rootbase.INSTANTIATION_BODY res = self._get_responses_from_output(output) # Post-Conditions: lcmid = self._get_lcm_op_occs_id(vnf['id'], lcm='SCALE') vnf_id = self._get_vnf_instance_id() res = self._get_responses_from_output(output) # Post-Conditions: lcmid = self._get_lcm_op_occs_id(vnf_id, lcm='SCALE') self.assertEqual(0, res) lcmid = self._get_lcm_op_occs_id(vnf['id'], lcm='HEAL') self.assertEqual(0, res) lcmid = self._get_lcm_op_occs_id(vnf['id'], lcm='CHANGE_EXT_CONN') self.assertEqual(0, res) lcmid = self._get_lcm_op_occs_id(vnf['id']) self.assertEqual(0, res) self._terminate_vnf_instance(vnf['id']) self.assertEqual(0, res) self._terminate_vnf_instance(vnf['id'])",150,55
openstack%2Fpython-blazarclient~master~Iffcc27894844c0f281d1fcafc25fed583542e634,openstack/python-blazarclient,master,Iffcc27894844c0f281d1fcafc25fed583542e634,Update configuration for compatibility with Sphinx 5,MERGED,2022-06-06 18:10:41.000000000,2022-06-06 18:29:42.000000000,2022-06-06 18:28:36.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 18:10:41.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/dc240878576ee783ea701719acd09503a0d44ce3', 'message': 'Update configuration for compatibility with Sphinx 5\n\nChange-Id: Iffcc27894844c0f281d1fcafc25fed583542e634\n'}]",0,844871,dc240878576ee783ea701719acd09503a0d44ce3,7,2,1,15197,,,0,"Update configuration for compatibility with Sphinx 5

Change-Id: Iffcc27894844c0f281d1fcafc25fed583542e634
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/71/844871/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,dc240878576ee783ea701719acd09503a0d44ce3,,# language = None,language = None,1,1
openstack%2Fopenstack-helm-infra~master~Ic368517f893c5016793ce5d65b882a43fb2381ec,openstack/openstack-helm-infra,master,Ic368517f893c5016793ce5d65b882a43fb2381ec,Uplift Mariadb-ingress image to v1.2.0,MERGED,2022-06-06 13:15:22.000000000,2022-06-06 17:42:38.000000000,2022-06-06 17:41:35.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2022-06-06 13:15:22.000000000', 'files': ['mariadb/templates/deployment-ingress.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_mariadb-ingress-controller.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fce7ca38ae76f5248c172c572c5f14d615d124cf', 'message': 'Uplift Mariadb-ingress image to v1.2.0\n\nChange-Id: Ic368517f893c5016793ce5d65b882a43fb2381ec\n'}]",0,844838,fce7ca38ae76f5248c172c572c5f14d615d124cf,8,3,1,34821,,,0,"Uplift Mariadb-ingress image to v1.2.0

Change-Id: Ic368517f893c5016793ce5d65b882a43fb2381ec
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/844838/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/deployment-ingress.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_mariadb-ingress-controller.sh.tpl']",5,fce7ca38ae76f5248c172c572c5f14d615d124cf,,,"#!/bin/bash {{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex COMMAND=""${@:-start}"" function start () { find /tmp -maxdepth 1 \! -path /tmp -perm /222 -exec rm -rfv {} \; exec /usr/bin/dumb-init \ /nginx-ingress-controller \ --watch-namespace ${POD_NAMESPACE} \ --election-id=${RELEASE_NAME} \ --ingress-class=${INGRESS_CLASS} \ --default-backend-service=${POD_NAMESPACE}/${ERROR_PAGE_SERVICE} \ --configmap=${POD_NAMESPACE}/mariadb-ingress-conf \ --enable-ssl-chain-completion=false \ --tcp-services-configmap=${POD_NAMESPACE}/mariadb-services-tcp } function stop () { kill -TERM 1 } $COMMAND ",11,57
openstack%2Fneutron-tempest-plugin~master~I71621b95c87e7c10e86d8341173967235912053d,openstack/neutron-tempest-plugin,master,I71621b95c87e7c10e86d8341173967235912053d,Remove unicode literal from code,MERGED,2022-06-06 11:37:30.000000000,2022-06-06 17:06:29.000000000,2022-06-06 17:05:21.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 11:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/40b284b7aae9aabecdec29e71e4ca6b02d010f03', 'message': 'Remove unicode literal from code\n\nChange-Id: I71621b95c87e7c10e86d8341173967235912053d\n'}, {'number': 2, 'created': '2022-06-06 11:37:59.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8ad510e60b2b45d875b7de13f8fb10612f2230fc', 'message': ""Remove unicode literal from code\n\nAll strings are considered as unicode literal string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I71621b95c87e7c10e86d8341173967235912053d\n""}]",0,844831,8ad510e60b2b45d875b7de13f8fb10612f2230fc,9,3,2,33881,,,0,"Remove unicode literal from code

All strings are considered as unicode literal string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I71621b95c87e7c10e86d8341173967235912053d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/31/844831/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,40b284b7aae9aabecdec29e71e4ca6b02d010f03,,"copyright = '2017, Neutron Tempest Plugin Developers' 'Neutron Tempest Plugin Release Notes Documentation', 'Neutron Tempest Plugin Developers', 'manual'), 'Neutron Tempest Plugin Release Notes Documentation', ['Neutron Tempest Plugin Developers'], 1) 'Neutron Tempest Plugin Release Notes Documentation', 'Neutron Tempest Plugin Developers',","copyright = u'2017, Neutron Tempest Plugin Developers' u'Neutron Tempest Plugin Release Notes Documentation', u'Neutron Tempest Plugin Developers', 'manual'), u'Neutron Tempest Plugin Release Notes Documentation', [u'Neutron Tempest Plugin Developers'], 1) u'Neutron Tempest Plugin Release Notes Documentation', u'Neutron Tempest Plugin Developers',",10,10
openstack%2Fwhitebox-tempest-plugin~master~I0432704a651bf8927354cabd0d8c3e42b8e8525f,openstack/whitebox-tempest-plugin,master,I0432704a651bf8927354cabd0d8c3e42b8e8525f,Update vgpu flavor ram size as a param,MERGED,2022-05-27 18:04:00.000000000,2022-06-06 16:43:38.000000000,2022-06-06 16:43:38.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 18:04:00.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_vgpu.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/793a4dde91c5ebbcb4103850432972e40b6d8fc8', 'message': 'Update vgpu flavor ram size as a param\n\nThis is a continuation of [1], leaving RAM as 64MB for vGPU tests while\nusing cirros 0.5.0+ will result in a kernel panic. Updating flavor to\ntake the RAM size provided by tempest config.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/159f57d395b2720a51e028b0b529706e0380d27c\n\nChange-Id: I0432704a651bf8927354cabd0d8c3e42b8e8525f\n'}]",2,843668,793a4dde91c5ebbcb4103850432972e40b6d8fc8,8,2,1,31033,,,0,"Update vgpu flavor ram size as a param

This is a continuation of [1], leaving RAM as 64MB for vGPU tests while
using cirros 0.5.0+ will result in a kernel panic. Updating flavor to
take the RAM size provided by tempest config.

[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/159f57d395b2720a51e028b0b529706e0380d27c

Change-Id: I0432704a651bf8927354cabd0d8c3e42b8e8525f
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/68/843668/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_vgpu.py'],1,793a4dde91c5ebbcb4103850432972e40b6d8fc8,param_ram_size_vgpu," ram=CONF.whitebox.flavor_ram_size,"," ram=64,",1,1
openstack%2Fcharm-openstack-dashboard~stable%2F21.10~Icafb620026f92017d18b0447a7ad0de3f7763f2c,openstack/charm-openstack-dashboard,stable/21.10,Icafb620026f92017d18b0447a7ad0de3f7763f2c,Pin tempest for python<3.8,ABANDONED,2022-06-06 16:26:35.000000000,2022-06-06 16:30:04.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2022-06-06 16:26:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a1fe9db4fab122b5863ec64c048847f23ec27db7', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c\n(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)\n'}]",0,844862,a1fe9db4fab122b5863ec64c048847f23ec27db7,3,1,1,2424,,,0,"Pin tempest for python<3.8

Change-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c
(cherry picked from commit a4ee714eb7335868b97f347afb8472a8810577f6)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/62/844862/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a1fe9db4fab122b5863ec64c048847f23ec27db7,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fkayobe~stable%2Fyoga~I0658c0059867468d6032cb1bfa3d05ae0d01c422,openstack/kayobe,stable/yoga,I0658c0059867468d6032cb1bfa3d05ae0d01c422,Add missing declaration of kolla_enable_hacluster,MERGED,2022-06-06 12:25:02.000000000,2022-06-06 16:21:01.000000000,2022-06-06 16:19:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 12:25:02.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18b0d0ceed15ad4f74b2c074ce45190e629bc621', 'message': 'Add missing declaration of kolla_enable_hacluster\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n(cherry picked from commit b77033970a79587b3be5c04a5b81e8b88e21dadf)\n'}]",0,844797,18b0d0ceed15ad4f74b2c074ce45190e629bc621,8,3,1,34940,,,0,"Add missing declaration of kolla_enable_hacluster

Story: 2010069
Task: 45540
Change-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422
(cherry picked from commit b77033970a79587b3be5c04a5b81e8b88e21dadf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/97/844797/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml']",2,18b0d0ceed15ad4f74b2c074ce45190e629bc621,,--- fixes: - | Fixes an issue with undefined kolla_enable_hacluster variable. ,,5,0
openstack%2Fheat~master~Ia544d7d82c0569c453f7cb75885b903d2e3cf83f,openstack/heat,master,Ia544d7d82c0569c453f7cb75885b903d2e3cf83f,Disable auto discovery,MERGED,2022-03-28 15:16:13.000000000,2022-06-06 15:58:56.000000000,2022-06-06 15:57:40.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-28 15:16:13.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b388bdb14c77e314d2bbf5516fa1e5180fcc80d7', 'message': ""Disable auto discovery\n\nChange in setuptools after latest release of setuptools 61.0\nwith breaking changes which are not backwork compatible,\ndetails in related bug and [1].\n\nUsers that don't set ``packages``, ``py_modules``, or ``configuration`` are\nstill likely to observe the auto-discovery behavior, which may halt the\nbuild if the project contains multiple directories and/or multiple Python\nfiles directly under the project root.\n\nTo disable auto discovery, one can do below in setup.py\n\n~~~\nsetuptools.setup(..,packages=[],..)\n~~~\n\nor\n\n~~~\nsetuptools.setup(..,py_modules=[],..)\n~~~\n\n[1] https://github.com/pypa/setuptools/issues/3197\n\nChange-Id: Ia544d7d82c0569c453f7cb75885b903d2e3cf83f\n""}]",3,835473,b388bdb14c77e314d2bbf5516fa1e5180fcc80d7,16,2,1,30073,,,0,"Disable auto discovery

Change in setuptools after latest release of setuptools 61.0
with breaking changes which are not backwork compatible,
details in related bug and [1].

Users that don't set ``packages``, ``py_modules``, or ``configuration`` are
still likely to observe the auto-discovery behavior, which may halt the
build if the project contains multiple directories and/or multiple Python
files directly under the project root.

To disable auto discovery, one can do below in setup.py

~~~
setuptools.setup(..,packages=[],..)
~~~

or

~~~
setuptools.setup(..,py_modules=[],..)
~~~

[1] https://github.com/pypa/setuptools/issues/3197

Change-Id: Ia544d7d82c0569c453f7cb75885b903d2e3cf83f
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/835473/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b388bdb14c77e314d2bbf5516fa1e5180fcc80d7,setuptools_py_modules," py_modules=[],",,1,0
openstack%2Ftripleo-heat-templates~master~Ia257e1b5eabd822cb054332ae098c3d7c0834607,openstack/tripleo-heat-templates,master,Ia257e1b5eabd822cb054332ae098c3d7c0834607,DNM TESTING tripleo-ci/+/842973,NEW,2022-06-06 12:08:09.000000000,2022-06-06 15:13:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-06 12:08:09.000000000', 'files': ['ci/environments/scenario012-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d12922a28cb4a3e8e2481a776b736969b1da5230', 'message': 'DNM TESTING tripleo-ci/+/842973\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/842973\nChange-Id: Ia257e1b5eabd822cb054332ae098c3d7c0834607\n'}]",0,844833,d12922a28cb4a3e8e2481a776b736969b1da5230,3,2,1,20182,,,0,"DNM TESTING tripleo-ci/+/842973

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/842973
Change-Id: Ia257e1b5eabd822cb054332ae098c3d7c0834607
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/844833/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario012-standalone.yaml'],1,d12922a28cb4a3e8e2481a776b736969b1da5230,test-sc012,,,1,0
openstack%2Fglance~master~Ia6fa125587cc4eacb4008dbe9ca95a6c11cd7f39,openstack/glance,master,Ia6fa125587cc4eacb4008dbe9ca95a6c11cd7f39,Correction in zed milestone 1 releasenotes,MERGED,2022-05-19 05:03:22.000000000,2022-06-06 15:06:11.000000000,2022-06-06 15:04:26.000000000,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-19 05:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d69c100409e95028aea81b6d6aaf22f102ba69c7', 'message': 'Correction in zed milestone 1 relesenotes\n\nChange-Id: Ia6fa125587cc4eacb4008dbe9ca95a6c11cd7f39\n'}, {'number': 2, 'created': '2022-05-19 06:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b199ad86f4931fd5c0602ea78ecf47d2d0e4eba3', 'message': 'Correction in zed milestone 1 relesenotes\n\nChange-Id: Ia6fa125587cc4eacb4008dbe9ca95a6c11cd7f39\n'}, {'number': 3, 'created': '2022-05-19 13:26:37.000000000', 'files': ['releasenotes/notes/zed-milestone-1-592415040e67924e.yaml', 'releasenotes/notes/add-cli-and-cache-opts-902f28d65c8fb827.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8ad53ffbde268c566ae681db69f32ee4a034b0e3', 'message': 'Correction in zed milestone 1 releasenotes\n\nChange-Id: Ia6fa125587cc4eacb4008dbe9ca95a6c11cd7f39\n'}]",9,842457,8ad53ffbde268c566ae681db69f32ee4a034b0e3,17,5,3,19138,,,0,"Correction in zed milestone 1 releasenotes

Change-Id: Ia6fa125587cc4eacb4008dbe9ca95a6c11cd7f39
",git fetch https://review.opendev.org/openstack/glance refs/changes/57/842457/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/zed-milestone-1-592415040e67924e.yaml'],1,d69c100409e95028aea81b6d6aaf22f102ba69c7,zed-m1-releasenotes, Correction of API response code for PUT /v2/cache/{image_id} from HTTP 200 to HTTP 202. Bug <https://code.launchpad.net/bugs/1971521>, * Correction of API response code for PUT /v2/cache/{image_id} from HTTP 200 to HTTP 202. Bug <https://code.launchpad.net/bugs/1971521>,3,3
openstack%2Fneutron-tempest-plugin~master~I0fc0c2ac7a545b8250e05586f48226953f3595df,openstack/neutron-tempest-plugin,master,I0fc0c2ac7a545b8250e05586f48226953f3595df,"Remove ""distutils"" library",MERGED,2022-05-17 14:59:20.000000000,2022-06-06 15:04:23.000000000,2022-06-06 15:04:23.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 14:59:20.000000000', 'files': ['requirements.txt', 'neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/13546b825e7e9aa39359d533bd41af4a13804ffc', 'message': 'Remove ""distutils"" library\n\nLibrary ""distutils"" will be marked as deprecated in Python 3.10:\nhttps://peps.python.org/pep-0386/\n\nThis patch does the following replacements, that provide the same\nfunctionality and API:\n- distutils.version.StrictVersion -> packaging.version.Version\n\nChange-Id: I0fc0c2ac7a545b8250e05586f48226953f3595df\nCloses-Bug: #1973780\n'}]",12,842135,13546b825e7e9aa39359d533bd41af4a13804ffc,36,4,1,16688,,,0,"Remove ""distutils"" library

Library ""distutils"" will be marked as deprecated in Python 3.10:
https://peps.python.org/pep-0386/

This patch does the following replacements, that provide the same
functionality and API:
- distutils.version.StrictVersion -> packaging.version.Version

Change-Id: I0fc0c2ac7a545b8250e05586f48226953f3595df
Closes-Bug: #1973780
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/35/842135/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron_tempest_plugin/scenario/base.py']",2,13546b825e7e9aa39359d533bd41af4a13804ffc,bug/1973780,from packaging import version as packaging_version return packaging_version.Version(m.group(1) if m else '7.60') if ncat_version > packaging_version.Version('7.60'):,import distutils return distutils.version.StrictVersion(m.group(1) if m else '7.60') if ncat_version > distutils.version.StrictVersion('7.60'):,5,3
openstack%2Fstorlets~master~I30e525b04091615ac16d819202e9df591398d6e9,openstack/storlets,master,I30e525b04091615ac16d819202e9df591398d6e9,doc: Comment out language option,MERGED,2022-06-06 14:38:21.000000000,2022-06-06 15:01:53.000000000,2022-06-06 14:59:37.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 14:38:21.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/3d90bb9cea12a8df169ba4ea1a0b55b9197243ee', 'message': ""doc: Comment out language option\n\n... because explicit language=None causes the below warning since\nSphinx 5.0.0.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid langauge code. Falling back to 'en' (English).\n\nChange-Id: I30e525b04091615ac16d819202e9df591398d6e9\n""}]",0,844852,3d90bb9cea12a8df169ba4ea1a0b55b9197243ee,7,2,1,9816,,,0,"doc: Comment out language option

... because explicit language=None causes the below warning since
Sphinx 5.0.0.

Invalid configuration value found: 'language = None'. Update your
configuration to a valid langauge code. Falling back to 'en' (English).

Change-Id: I30e525b04091615ac16d819202e9df591398d6e9
",git fetch https://review.opendev.org/openstack/storlets refs/changes/52/844852/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,3d90bb9cea12a8df169ba4ea1a0b55b9197243ee,,# language = None,language = None,1,1
openstack%2Fos-brick~master~I3af33c5e43cfb104e436fb785b08fb28b50a031a,openstack/os-brick,master,I3af33c5e43cfb104e436fb785b08fb28b50a031a,Add NVMeoF Multipathing support Phase 1 (Native) implementation of NVMeoF Multipathing.,MERGED,2022-02-24 10:19:30.000000000,2022-06-06 14:58:03.000000000,2022-06-06 14:56:38.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30092}, {'_account_id': 34550}]","[{'number': 1, 'created': '2022-02-24 10:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4ea6307e2c2b4ed2014b12ac4b4ba6384c5622b6', 'message': 'Add NVMeoF Multipathing support\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 2, 'created': '2022-02-24 12:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/65f8c27fbbd2591ff285e2c93bc9351186547399', 'message': 'Add NVMeoF Multipathing support\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 3, 'created': '2022-02-27 09:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b66932466d0f2de38ce186b93290f0f17b2bec65', 'message': 'Add NVMeoF Multipathing support\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 4, 'created': '2022-02-27 10:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b60ae38a479a7e5f384c5b9ed3d5fc11d9dd5382', 'message': 'Add NVMeoF Multipathing support\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n'}, {'number': 5, 'created': '2022-02-27 10:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3d0a31f8b9b20258cdaa02c30db322fe538c8276', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 6, 'created': '2022-03-21 10:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2e3c625c57b7b6d7d6d0c8c175cac81ab55b2c16', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 7, 'created': '2022-03-21 11:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a49ab19d54d5661f544d931e649655193cbf6044', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 8, 'created': '2022-04-26 12:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/caacb00192d72ef5a6f0299a2d49d57bb5ae5333', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 9, 'created': '2022-04-27 06:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/159604827022411764ef885a3d51188b8a07257e', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 10, 'created': '2022-04-27 06:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e303b9a091aa80c2125bcc962a888da69c8b337f', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 11, 'created': '2022-05-10 10:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2a2a0f4b2d2bcd852a7870c856a39e435207f40f', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 12, 'created': '2022-05-12 06:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ad2bc618fae467af1655e5e73765a4e859bb3bee', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 13, 'created': '2022-05-25 07:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6dbe632bcbda4f1b08893404f7ecbaf1fdb708a6', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 14, 'created': '2022-05-25 09:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/03a5af79fe4e6a23190c4796ccb2359e804ec03a', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 15, 'created': '2022-05-25 11:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a970e52d34a788377df3fce82013b9dd2a31e99c', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 16, 'created': '2022-05-25 14:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f9633f271e87c53a5828d72239e1e852b729e2a4', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 17, 'created': '2022-06-02 13:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f99006a7c4949f0ca15cdf0a0cc4a30d7be86cd3', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 18, 'created': '2022-06-02 18:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/73206c455d412fea0169d743964d3939632e6061', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 19, 'created': '2022-06-06 06:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cab0205069cb4e998f0a164b29f6faec18d63d6c', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}, {'number': 20, 'created': '2022-06-06 06:14:10.000000000', 'files': ['releasenotes/notes/multipath-nvme-f77a53eb2717a44c.yaml', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connectors/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4d0103dddbd12f1901f8eff7e5ddff59e399a2a6', 'message': 'Add NVMeoF Multipathing support\nPhase 1 (Native) implementation of NVMeoF Multipathing.\n\nChange-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a\n'}]",89,830800,4d0103dddbd12f1901f8eff7e5ddff59e399a2a6,141,8,20,34173,,,0,"Add NVMeoF Multipathing support
Phase 1 (Native) implementation of NVMeoF Multipathing.

Change-Id: I3af33c5e43cfb104e436fb785b08fb28b50a031a
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/00/830800/20 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connectors/nvmeof.py']",3,4ea6307e2c2b4ed2014b12ac4b4ba6384c5622b6,multipath_nvme," nvme_native_multipath = nvmf._is_native_multipath_supported() g_host = kwargs.get('host', None) if nvme_native_multipath: ret['nvme_native_multipath'] = True def _is_native_multipath_supported(self): try: out, err = self._execute( 'cat', '/sys/module/nvme_core/parameters/multipath', root_helper=self._root_helper, run_as_root=True) if out.strip() == 'Y': return True except putils.ProcessExecutionError as e: LOG.exception(e) return False NVMeOFConnector.get_nvme_controllers(self, target_nqn) if not NVMeOFConnector.connect_to_portals(self, target_nqn, portals): dev_path = NVMeOFConnector.get_nvme_device_path(self, target_nqn, vol_uuid) native_multipath_supported = executor._is_native_multipath_supported() if not executor.use_multipath \ or not native_multipath_supported: break def get_nvme_controllers(executor, target_nqn): nvme_controllers = [] nvme_controllers.append(ctrl[ctrl.rfind('/') + 1:]) if len(nvme_controllers) > 0: return nvme_controllers nvme_ctrls = NVMeOFConnector.get_nvme_controllers(executor, target_nqn) LOG.debug(""[!] nvme_ctrl: %s"", nvme_ctrls) for nvme_ctrl in nvme_ctrls: uuid_paths = glob.glob('/sys/class/block/' + nvme_ctrl + 'n*/uuid') for uuid_path in uuid_paths: try: uuid_lines, _err = executor._execute( 'cat', uuid_path, run_as_root=True, root_helper=executor._root_helper) if uuid_lines.split('\n')[0] == vol_uuid: ignore = len('/uuid') ns_ind = uuid_path.rfind('/', 0, -ignore) nvme_device = uuid_path[ns_ind + 1: -ignore] return '/dev/' + nvme_device except putils.ProcessExecutionError as e: LOG.exception(e) # sometimes under load, md is not created right away, so we wait nvme_ctrls = NVMeOFConnector.get_nvme_controllers(executor, target_nqn) for nvme_ctrl in nvme_ctrls: ctr_device = (NVMeOFConnector.get_search_path() + nvme_ctrl) nvme_command = ('ns-rescan', ctr_device) try: NVMeOFConnector.run_nvme_cli(executor, nvme_command) except Exception as e: raise exception.CommandExecutionFailed(e, cmd=nvme_command)"," NVMeOFConnector._get_nvme_controller(self, target_nqn) if not NVMeOFConnector.connect_to_portals( self, target_nqn, portals): dev_path = NVMeOFConnector.get_nvme_device_path( self, target_nqn, vol_uuid) break def _get_nvme_controller(executor, target_nqn): return ctrl[ctrl.rfind('/') + 1:] nvme_ctrl = NVMeOFConnector._get_nvme_controller(executor, target_nqn) uuid_paths = glob.glob('/sys/class/block/' + nvme_ctrl + 'n*/uuid') for uuid_path in uuid_paths: try: uuid_lines, _err = executor._execute( 'cat', uuid_path, run_as_root=True, root_helper=executor._root_helper) if uuid_lines.split('\n')[0] == vol_uuid: ignore = len('/uuid') return '/dev/' + uuid_path[ uuid_path.rfind('/', 0, -ignore) + 1: -ignore] except putils.ProcessExecutionError as e: LOG.exception(e) # sometimes under load, md is not created right away so we wait ctr_device = ( NVMeOFConnector.get_search_path() + NVMeOFConnector._get_nvme_controller(executor, target_nqn)) nvme_command = ('ns-rescan', ctr_device) try: NVMeOFConnector.run_nvme_cli(executor, nvme_command) except Exception as e: raise exception.CommandExecutionFailed(e, cmd=nvme_command)",97,59
openstack%2Fheat~master~I7c7cc54ba96cde68d9765b154be34f9818c5d764,openstack/heat,master,I7c7cc54ba96cde68d9765b154be34f9818c5d764,Refactor pipeline definition,ABANDONED,2021-07-25 06:40:57.000000000,2022-06-06 14:48:50.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 06:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b828d92d11e76180e00b25ba567b8ae927cf9179', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: I7c7cc54ba96cde68d9765b154be34f9818c5d764\n'}, {'number': 2, 'created': '2021-08-07 06:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3c1ed1850cdc33b6f168d53caddb6d39f3050007', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: I7c7cc54ba96cde68d9765b154be34f9818c5d764\n'}, {'number': 3, 'created': '2021-08-07 10:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/67b890a7e853a71583415b010247e12e1a1114bb', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: I7c7cc54ba96cde68d9765b154be34f9818c5d764\n'}, {'number': 4, 'created': '2021-08-07 15:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/84c63fb9ea74d83e2a5a14917f4cf1d27f89a918', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: I7c7cc54ba96cde68d9765b154be34f9818c5d764\n'}, {'number': 5, 'created': '2022-06-06 14:44:24.000000000', 'files': ['heat/api/__init__.py', 'etc/heat/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/e6b55abd4bd50783ec0ef59a59f8d14784ae6333', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: I7c7cc54ba96cde68d9765b154be34f9818c5d764\n'}]",4,802181,e6b55abd4bd50783ec0ef59a59f8d14784ae6333,19,2,5,9816,,,0,"Refactor pipeline definition

This introduces a new pipeline_factory so that we can use a single
entry to define pipeline for each deployment flavor.

Change-Id: I7c7cc54ba96cde68d9765b154be34f9818c5d764
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/802181/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/api/__init__.py', 'etc/heat/api-paste.ini']",2,b828d92d11e76180e00b25ba567b8ae927cf9179,story/2009071,[composite:api] paste.composite_factory = heat.api:pipeline_factory default = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authtoken context osprofiler apiv1app standalone = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authpassword context apiv1app custombackend = cors request_id context faultwrap versionnegotiation custombackendauth apiv1app noauth = cors request_id faultwrap noauth context http_proxy_to_wsgi versionnegotiation apiv1app cfn = cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken authtoken context osprofiler apicfnv1app cfn-standalone = cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken context apicfnv1app,[pipeline:api] pipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authtoken context osprofiler apiv1app [pipeline:api-standalone] pipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authpassword context apiv1app [pipeline:api-custombackend] pipeline = cors request_id context faultwrap versionnegotiation custombackendauth apiv1app [pipeline:api-noauth] pipeline = cors request_id faultwrap noauth context http_proxy_to_wsgi versionnegotiation apiv1app [pipeline:api-cfn] pipeline = cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken authtoken context osprofiler apicfnv1app [pipeline:api-cfn-standalone] pipeline = cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken context apicfnv1app,23,17
openstack%2Fbarbican~stable%2Ftrain~Ie3e3adc1ee02d770de050f5cfa8110774bb1f661,openstack/barbican,stable/train,Ie3e3adc1ee02d770de050f5cfa8110774bb1f661,"Allow secret delete by users with ""creator"" role",MERGED,2022-03-14 17:50:29.000000000,2022-06-06 14:43:36.000000000,2022-06-06 14:42:22.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-14 17:50:29.000000000', 'files': ['functionaltests/api/v1/functional/test_secrets_rbac.py', 'barbican/tests/api/test_resources_policy.py', 'doc/source/admin/access_control.rst', 'api-guide/source/acls.rst', 'releasenotes/notes/fix-story-2009791-allow-creator-delete-06dd3eb670d0e624.yaml', 'barbican/common/policies/secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5ff765384ac2a732f53e8d29350d5fcd1753bb38', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nThis change does not affect the policy for delting private secrets\n(i.e. secrets with the ""project-access"" flag set to ""false"").\n\nStory: 2009791\nTask: 44329\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n(cherry picked from commit 2620d14c5fae378a5e8d7d550d5ae8efb263d63a)\n(cherry picked from commit 811a846a508a9e6d2a2e309bf7f6895ae9b6db03)\n(cherry picked from commit 0b4532125a6ab133fd547cb38c76487a492f2127)\n(cherry picked from commit bdb53f47621c0eb4b49b28e976041781bca6b1ff)\n(cherry picked from commit 71ace78f88302956a6c39af98c8138ef6f02c200)\n'}]",6,833563,5ff765384ac2a732f53e8d29350d5fcd1753bb38,19,3,1,7973,,,0,"Allow secret delete by users with ""creator"" role

Users with the ""creator"" role on a project can now delete secrets owned
by the project even if the user is different than the user that
originally created the secret.  Previous to this fix a user with the
""creator"" role was only allowed to delete a secret owned by the project
if they were also the same user that originally created, which was
inconsistent with the way that deletes are handled by other OpenStack
projects that integrate with Barbican.

This change does not affect the policy for delting private secrets
(i.e. secrets with the ""project-access"" flag set to ""false"").

Story: 2009791
Task: 44329
Change-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661
(cherry picked from commit 2620d14c5fae378a5e8d7d550d5ae8efb263d63a)
(cherry picked from commit 811a846a508a9e6d2a2e309bf7f6895ae9b6db03)
(cherry picked from commit 0b4532125a6ab133fd547cb38c76487a492f2127)
(cherry picked from commit bdb53f47621c0eb4b49b28e976041781bca6b1ff)
(cherry picked from commit 71ace78f88302956a6c39af98c8138ef6f02c200)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/63/833563/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/api/v1/functional/test_secrets_rbac.py', 'barbican/tests/api/test_resources_policy.py', 'doc/source/admin/access_control.rst', 'api-guide/source/acls.rst', 'releasenotes/notes/fix-story-2009791-allow-creator-delete-06dd3eb670d0e624.yaml', 'barbican/common/policies/secrets.py']",6,5ff765384ac2a732f53e8d29350d5fcd1753bb38,story/2009791-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," 'rule:secret_project_creator or ' + '(rule:secret_project_creator_role and ' + 'not rule:secret_private_read)',"," 'rule:secret_project_creator',",42,14
openstack%2Fheat-cfntools~master~I7913a765dfb2dba94ea5ca743bd0df5cb7443eb4,openstack/heat-cfntools,master,I7913a765dfb2dba94ea5ca743bd0df5cb7443eb4,dnm: testing doc build without upper-constraints,ABANDONED,2022-06-06 14:18:10.000000000,2022-06-06 14:32:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 14:18:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/818b170737917d59982dfed297d353e4096e86a3', 'message': 'dnm: testing doc build without upper-constraints\n\nChange-Id: I7913a765dfb2dba94ea5ca743bd0df5cb7443eb4\n'}]",0,844846,818b170737917d59982dfed297d353e4096e86a3,3,1,1,9816,,,0,"dnm: testing doc build without upper-constraints

Change-Id: I7913a765dfb2dba94ea5ca743bd0df5cb7443eb4
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/46/844846/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,818b170737917d59982dfed297d353e4096e86a3,doc-lang,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},0,1
openstack%2Fheat~master~Ib57919faebbd4eb6aa13857e242eb5f3dc448a02,openstack/heat,master,Ib57919faebbd4eb6aa13857e242eb5f3dc448a02,Validate limit query parameter for List Software Config API,MERGED,2022-05-25 02:08:11.000000000,2022-06-06 14:07:06.000000000,2022-06-06 14:05:40.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-25 02:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/111851535a010c9d9bc23b9513d10fc9ca15e15d', 'message': 'Validate limit query parameter for List Software Config API\n\nThis change adds validation of the limit query parameter in List\nSoftware Config API, as was implemented for List Stack API, to avoid\ninternal error at database query.\n\nstory: 2009707\ntask: 44054\nChange-Id: Ib57919faebbd4eb6aa13857e242eb5f3dc448a02\n'}, {'number': 2, 'created': '2022-05-25 04:09:30.000000000', 'files': ['heat/tests/api/openstack_v1/test_stacks.py', 'heat/tests/api/openstack_v1/test_software_configs.py', 'heat/api/openstack/v1/software_configs.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ef67b861ddf7664b548f5fb26062884225b4ff60', 'message': 'Validate limit query parameter for List Software Config API\n\nThis change adds validation of the limit query parameter in List\nSoftware Config API, as was implemented for List Stack API, to avoid\ninternal error at database query.\n\nstory: 2009707\ntask: 44054\nChange-Id: Ib57919faebbd4eb6aa13857e242eb5f3dc448a02\n'}]",2,843227,ef67b861ddf7664b548f5fb26062884225b4ff60,12,3,2,9816,,,0,"Validate limit query parameter for List Software Config API

This change adds validation of the limit query parameter in List
Software Config API, as was implemented for List Stack API, to avoid
internal error at database query.

story: 2009707
task: 44054
Change-Id: Ib57919faebbd4eb6aa13857e242eb5f3dc448a02
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/843227/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/api/openstack_v1/test_stacks.py', 'heat/tests/api/openstack_v1/test_software_configs.py', 'heat/api/openstack/v1/software_configs.py']",3,111851535a010c9d9bc23b9513d10fc9ca15e15d,story/2009707," def _extract_int_param(self, name, value, allow_zero=True, allow_negative=False): try: return param_utils.extract_int(name, value, allow_zero, allow_negative) except ValueError as e: raise exc.HTTPBadRequest(str(e)) key = rpc_api.PARAM_LIMIT if key in params: params[key] = self._extract_int_param(key, params[key]) ",,72,0
openstack%2Fcinder~master~I38fe7675928c9fbfaeb832dab2923a0fce923cc1,openstack/cinder,master,I38fe7675928c9fbfaeb832dab2923a0fce923cc1,Add info about code coverage job,MERGED,2022-04-07 11:06:32.000000000,2022-06-06 13:50:59.000000000,2022-06-06 13:49:33.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 11:06:32.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/71a2b4fc2e7fad8e3c39e6e18d9c86317bedcecb', 'message': 'Add info about code coverage job\n\nExplicitly state how to generate the code coverage report locally and\nwhere to find it in Gerrit.\n\nChange-Id: I38fe7675928c9fbfaeb832dab2923a0fce923cc1\n'}]",3,836930,71a2b4fc2e7fad8e3c39e6e18d9c86317bedcecb,34,5,1,5314,,,0,"Add info about code coverage job

Explicitly state how to generate the code coverage report locally and
where to find it in Gerrit.

Change-Id: I38fe7675928c9fbfaeb832dab2923a0fce923cc1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/836930/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,71a2b4fc2e7fad8e3c39e6e18d9c86317bedcecb,code-coverage,"There's a tox environment defined that will run code coverage tests for you:: tox -e cover It will create an HTML code coverage report that you can use a web browser to read locally from the location ``./cover/index.html`` (relative to the location of your ``tox.ini`` file). If you are reviewing someone else's patch in Gerrit, we have ``cinder-code-coverage`` job that generates a coverage report that you can read. From the review page, follow: ""Zuul Summary"" tab -> ""cinder-code-coverage"" link -> ""Logs"" tab. The ""raw"" link next to ""cover"" will take you to the index page of the report. ",,12,0
openstack%2Fopenstack-helm-infra~master~I1d50f68f183213b030096767d6b3e5fe374b647b,openstack/openstack-helm-infra,master,I1d50f68f183213b030096767d6b3e5fe374b647b,Upgrade Ingress Controller Images to 1.2.0,ABANDONED,2022-06-03 19:30:23.000000000,2022-06-06 12:59:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-03 19:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90d6b09ddd09dfbb10723c6fed70566d0ffadcd5', 'message': 'Upgrade Ingress Controller Images to 1.2.0\n\nChange-Id: I1d50f68f183213b030096767d6b3e5fe374b647b\n'}, {'number': 2, 'created': '2022-06-03 19:34:35.000000000', 'files': ['ingress/Chart.yaml', 'mariadb/templates/deployment-ingress.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml', 'ingress/values.yaml', 'releasenotes/notes/ingress.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1d5095da703236dd65b57cc2c8873089fe9d0fe', 'message': 'Upgrade Ingress Controller Images to 1.2.0\n\nChange-Id: I1d50f68f183213b030096767d6b3e5fe374b647b\n'}]",0,844640,b1d5095da703236dd65b57cc2c8873089fe9d0fe,4,1,2,34821,,,0,"Upgrade Ingress Controller Images to 1.2.0

Change-Id: I1d50f68f183213b030096767d6b3e5fe374b647b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/844640/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/deployment-ingress.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml']",4,90d6b09ddd09dfbb10723c6fed70566d0ffadcd5,, ingress: k8s.gcr.io/ingress-nginx/controller:v1.2.0, ingress: k8s.gcr.io/ingress-nginx/controller:v1.1.3,12,18
openstack%2Fci-log-processing~master~I42ec18abb46a974ac05ccedce9161f1e33acd0d4,openstack/ci-log-processing,master,I42ec18abb46a974ac05ccedce9161f1e33acd0d4,Change new log processing workflow diagram rendering; fix template,MERGED,2022-06-06 12:10:12.000000000,2022-06-06 12:39:46.000000000,2022-06-06 12:38:44.000000000,"[{'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 12:10:12.000000000', 'files': ['ansible/roles/logsender/templates/logsender.sh.j2', 'README.rst', 'ansible/roles/logscraper/templates/logscraper.sh.j2'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/981be51a428d1dd4a80c536ea23aca2a9f806952', 'message': 'Change new log processing workflow diagram rendering; fix template\n\nThe diagram does not look right as html site.\nAlso changed custom_ca_crt variable call in the template.\n\nChange-Id: I42ec18abb46a974ac05ccedce9161f1e33acd0d4\n'}]",0,844834,981be51a428d1dd4a80c536ea23aca2a9f806952,7,2,1,20676,,,0,"Change new log processing workflow diagram rendering; fix template

The diagram does not look right as html site.
Also changed custom_ca_crt variable call in the template.

Change-Id: I42ec18abb46a974ac05ccedce9161f1e33acd0d4
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/34/844834/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/logsender/templates/logsender.sh.j2', 'README.rst', 'ansible/roles/logscraper/templates/logscraper.sh.j2']",3,981be51a428d1dd4a80c536ea23aca2a9f806952,, --volume {{ item['custom_ca_crt'] }}:{{ item['custom_ca_crt'] }}:z \, --volume {{ custom_ca_crt }}:{{ custom_ca_crt}}:z \,10,8
openstack%2Fkayobe~master~I0658c0059867468d6032cb1bfa3d05ae0d01c422,openstack/kayobe,master,I0658c0059867468d6032cb1bfa3d05ae0d01c422,Add missing declaration of kolla_enable_hacluster,MERGED,2022-06-03 13:34:41.000000000,2022-06-06 12:19:17.000000000,2022-06-06 12:17:43.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}, {'_account_id': 34940}]","[{'number': 1, 'created': '2022-06-03 13:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d48507221dea1598f0ffbf39fe3280a99c8b37f9', 'message': 'defined kolla_enable_hacluster with default ""no"" in ansible/group_vars/all/kolla\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n'}, {'number': 2, 'created': '2022-06-06 08:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8169e36f096e806cc9aa8e9399dcd7ce616765d7', 'message': 'Add missing declaration of kolla_enable_hacluster\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n'}, {'number': 3, 'created': '2022-06-06 08:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ca9726d54293d95486cfc974d55f4e104560a9c2', 'message': 'Add missing declaration of kolla_enable_hacluster\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n'}, {'number': 4, 'created': '2022-06-06 08:28:42.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/fix-hacluster-variable-48d1370651a11cda.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b77033970a79587b3be5c04a5b81e8b88e21dadf', 'message': 'Add missing declaration of kolla_enable_hacluster\n\nStory: 2010069\nTask: 45540\nChange-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422\n'}]",4,844591,b77033970a79587b3be5c04a5b81e8b88e21dadf,19,5,4,34940,,,0,"Add missing declaration of kolla_enable_hacluster

Story: 2010069
Task: 45540
Change-Id: I0658c0059867468d6032cb1bfa3d05ae0d01c422
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/844591/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,d48507221dea1598f0ffbf39fe3280a99c8b37f9,,"kolla_enable_hacluster: ""no""",,1,0
openstack%2Fcloudkitty-tempest-plugin~master~I1b44ff35b07b341cb246a1360cdceb2153b2a2bf,openstack/cloudkitty-tempest-plugin,master,I1b44ff35b07b341cb246a1360cdceb2153b2a2bf,[CI] Move queue setting to project level,MERGED,2022-05-20 08:39:58.000000000,2022-06-06 11:51:54.000000000,2022-06-06 11:51:54.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-05-20 08:39:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/4d3a188a522b67c7e8b5e939e25ba0a38d97f16e', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I1b44ff35b07b341cb246a1360cdceb2153b2a2bf\n'}]",0,842692,4d3a188a522b67c7e8b5e939e25ba0a38d97f16e,8,4,1,15197,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I1b44ff35b07b341cb246a1360cdceb2153b2a2bf
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/92/842692/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4d3a188a522b67c7e8b5e939e25ba0a38d97f16e,zuul-queue, queue: cloudkitty, queue: cloudkitty,1,1
openstack%2Fci-log-processing~master~I827883574fbecaee9af72ee12e78426487cb8461,openstack/ci-log-processing,master,I827883574fbecaee9af72ee12e78426487cb8461,Fix custom_ca_crt template rendering,MERGED,2022-06-06 11:19:01.000000000,2022-06-06 11:43:13.000000000,2022-06-06 11:42:09.000000000,"[{'_account_id': 6889}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 11:19:01.000000000', 'files': ['ansible/roles/logsender/templates/logsender.sh.j2', 'ansible/roles/logscraper/templates/logscraper.sh.j2'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/54155148f48b3de8436f23b7698c71c04fde3b68', 'message': 'Fix custom_ca_crt template rendering\n\nThe logscraper and logsender script was not rendered correctly.\n\nChange-Id: I827883574fbecaee9af72ee12e78426487cb8461\n'}]",0,844829,54155148f48b3de8436f23b7698c71c04fde3b68,8,3,1,20676,,,0,"Fix custom_ca_crt template rendering

The logscraper and logsender script was not rendered correctly.

Change-Id: I827883574fbecaee9af72ee12e78426487cb8461
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/29/844829/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/logsender/templates/logsender.sh.j2', 'ansible/roles/logscraper/templates/logscraper.sh.j2']",2,54155148f48b3de8436f23b7698c71c04fde3b68,, --ca-file {{ item['custom_ca_crt'] }} \, --ca-file {{ custom_ca_crt }} \,2,2
openstack%2Fopenstack-ansible-os_neutron~master~If4915c184f693060cfea5ac548716963d7a56a7f,openstack/openstack-ansible-os_neutron,master,If4915c184f693060cfea5ac548716963d7a56a7f,custom configuration for vpnaas,ABANDONED,2022-06-01 13:50:46.000000000,2022-06-06 11:20:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-01 13:50:46.000000000', 'files': ['releasenotes/notes/neutron-vpnaas-custom-config-ad991bb02b9ed655.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/673e5436cb1d428fb083a6619e2f4b9dd3402029', 'message': 'custom configuration for vpnaas\n\nChange-Id: If4915c184f693060cfea5ac548716963d7a56a7f\n'}]",2,844293,673e5436cb1d428fb083a6619e2f4b9dd3402029,6,3,1,34933,,,0,"custom configuration for vpnaas

Change-Id: If4915c184f693060cfea5ac548716963d7a56a7f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/93/844293/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/neutron-vpnaas-custom-config-ad991bb02b9ed655.yaml'],1,673e5436cb1d428fb083a6619e2f4b9dd3402029,844041, - | Neutron VPN as a Service (VPNaaS) with customized configuration files Example Example, - Neutron VPN as a Service (VPNaaS) with customized configuration files Example: Example:,4,3
openstack%2Fkayobe~stable%2Ftrain~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,stable/train,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,ABANDONED,2022-04-29 10:02:15.000000000,2022-06-06 11:19:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 10:02:15.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d4f8bf0428e68c68aa591db3f23611a2bbaab478', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)\n'}]",0,839749,d4f8bf0428e68c68aa591db3f23611a2bbaab478,3,1,1,15197,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/49/839749/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,d4f8bf0428e68c68aa591db3f23611a2bbaab478,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fkayobe~stable%2Fussuri~I3f499d63d19ba7f7372b401bd2da23ce627f18e5,openstack/kayobe,stable/ussuri,I3f499d63d19ba7f7372b401bd2da23ce627f18e5,kolla_passwords: add no_log for password overrides,ABANDONED,2022-04-29 10:02:07.000000000,2022-06-06 11:19:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 10:02:07.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18a15055c1ad4c973b1c5a7095b70b5d93273d2d', 'message': 'kolla_passwords: add no_log for password overrides\n\nThe kolla_passwords module overrides parameter may contain sensitive\ndata, including passwords and SSH keys. It should be protected via\nno_log. Without this, the parameter value may be exposed in Ansible\nlogs, or if level 3 verbosity is used, Ansible output.\n\nThis change adds no_log to the parameter.\n\nChange-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5\n(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)\n'}]",0,839748,18a15055c1ad4c973b1c5a7095b70b5d93273d2d,3,1,1,15197,,,0,"kolla_passwords: add no_log for password overrides

The kolla_passwords module overrides parameter may contain sensitive
data, including passwords and SSH keys. It should be protected via
no_log. Without this, the parameter value may be exposed in Ansible
logs, or if level 3 verbosity is used, Ansible output.

This change adds no_log to the parameter.

Change-Id: I3f499d63d19ba7f7372b401bd2da23ce627f18e5
(cherry picked from commit 51a57394bee0aa98365d1fc9f441a505bdd72b27)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/48/839748/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'releasenotes/notes/kolla-passwords-overrides-no-log-57054ce64fae8143.yaml']",2,18a15055c1ad4c973b1c5a7095b70b5d93273d2d,,"--- security: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. fixes: - | Fixes an issue where any passwords in ``kolla_ansible_custom_passwords`` were exposed in Ansible logs. When using verbosity level 3 (``-vvv``), they were also exposed in Ansible output. ",,12,1
openstack%2Fkayobe~stable%2Fwallaby~I16d721539e5956f0d86503dd5b01ea608b129873,openstack/kayobe,stable/wallaby,I16d721539e5956f0d86503dd5b01ea608b129873,Use net_mask filter instead of ansible's ipaddr,MERGED,2022-06-02 13:12:09.000000000,2022-06-06 11:05:36.000000000,2022-06-06 11:04:12.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 13:12:09.000000000', 'files': ['ansible/kolla-bifrost-hostvars.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9a093b59d23ea882ee6caa8e072abebe5a326cc8', 'message': ""Use net_mask filter instead of ansible's ipaddr\n\nFor a long time [1] we have net_mask filter, so no need to use ugly\ncombination of the net_cidr filter together with ansible's ipaddr\nfilter.\n\n1. https://opendev.org/openstack/kayobe/commit/dc45036c92cb28fd4e9f2d9c84a03438bf7ad26f\n\nTrivialFix\n\nChange-Id: I16d721539e5956f0d86503dd5b01ea608b129873\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 0751a316f4ef093221ae3bab2d6514689cd980de)\n""}]",3,844387,9a093b59d23ea882ee6caa8e072abebe5a326cc8,15,4,1,15197,,,0,"Use net_mask filter instead of ansible's ipaddr

For a long time [1] we have net_mask filter, so no need to use ugly
combination of the net_cidr filter together with ansible's ipaddr
filter.

1. https://opendev.org/openstack/kayobe/commit/dc45036c92cb28fd4e9f2d9c84a03438bf7ad26f

TrivialFix

Change-Id: I16d721539e5956f0d86503dd5b01ea608b129873
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 0751a316f4ef093221ae3bab2d6514689cd980de)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/87/844387/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-bifrost-hostvars.yml'],1,9a093b59d23ea882ee6caa8e072abebe5a326cc8,bifrost-netmask-filter-stable/wallaby," ipv4_subnet_mask: ""{{ admin_oc_net_name | net_mask }}"""," ipv4_subnet_mask: ""{{ admin_oc_net_name | net_cidr | ipaddr('netmask') }}""",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~If196dfcd0fd2cec3b7784394e86c4addbfbf039d,openstack/tripleo-ansible,stable/wallaby,If196dfcd0fd2cec3b7784394e86c4addbfbf039d,Do not set Ceph network options in assimilate_ceph.conf,MERGED,2022-05-27 17:26:24.000000000,2022-06-06 11:00:11.000000000,2022-06-06 11:00:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32704}]","[{'number': 1, 'created': '2022-05-27 17:26:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/network_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55a1b0dc0a90a6db0e1b172df7b7df31bd252616', 'message': ""Do not set Ceph network options in assimilate_ceph.conf\n\nConfigure the four paramters (public_network, cluster_network,\nms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks\nfile instead of in ceph.conf.j2 template.\n\nIf a user overrides the tripleo_cephadm_assimilate_conf file\nto provide their own initial Ceph configuration file without\nany network configuration, then we don't want to loose the\nnetwork configuration that would have been set from the\nceph.conf.j2 template. Thus, we'll ensure the correct network\nconfiguration can happen even if the ceph.conf.j2 template is\nnot used.\n\nIf the tripleo_cephadm_assimilate_conf file contains any of\nthe four parameters, then those parameters will not be set\nvia cephadm_config_set.yaml tasks. This allows users to\nstill override the four parameters via the --config option.\n\nThe cephadm_config_set.yaml tasks are always called by the\napply_spec.yaml tasks before the spec is applied. Thus, we'll\nknow the correct networks are set before any other daemons are\nadded with the exception of the first bootstrapped mon/mgr\ndaemons. The public_network for them is set implicitly via the\n--mon-ip option.\n\nChange-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d\n(cherry picked from commit 1c84f6a5ff90cf9789c42d77488c4d9deb35c90d)\n""}]",0,843635,55a1b0dc0a90a6db0e1b172df7b7df31bd252616,8,4,1,18002,,,0,"Do not set Ceph network options in assimilate_ceph.conf

Configure the four paramters (public_network, cluster_network,
ms_bind_ipv4 and ms_bind_ipv6) in cephadm_config_set.yaml tasks
file instead of in ceph.conf.j2 template.

If a user overrides the tripleo_cephadm_assimilate_conf file
to provide their own initial Ceph configuration file without
any network configuration, then we don't want to loose the
network configuration that would have been set from the
ceph.conf.j2 template. Thus, we'll ensure the correct network
configuration can happen even if the ceph.conf.j2 template is
not used.

If the tripleo_cephadm_assimilate_conf file contains any of
the four parameters, then those parameters will not be set
via cephadm_config_set.yaml tasks. This allows users to
still override the four parameters via the --config option.

The cephadm_config_set.yaml tasks are always called by the
apply_spec.yaml tasks before the spec is applied. Thus, we'll
know the correct networks are set before any other daemons are
added with the exception of the first bootstrapped mon/mgr
daemons. The public_network for them is set implicitly via the
--mon-ip option.

Change-Id: If196dfcd0fd2cec3b7784394e86c4addbfbf039d
(cherry picked from commit 1c84f6a5ff90cf9789c42d77488c4d9deb35c90d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/843635/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/network_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph.conf.j2']",4,55a1b0dc0a90a6db0e1b172df7b7df31bd252616,ceph_apply_net_conf-stable/wallaby,,"{% if public_network is defined %} public network = {{ public_network | regex_replace(' ', '') }} {% endif %} {% if cluster_network is defined %} cluster network = {{ cluster_network | regex_replace(' ', '') }} {% endif %} {% if ms_bind_ipv4 is defined %} ms_bind_ipv4 = {{ ms_bind_ipv4 }} {% endif %} {% if ms_bind_ipv6 is defined %} ms_bind_ipv6 = {{ ms_bind_ipv6 }} {% endif %}",52,13
openstack%2Fkolla~stable%2Fyoga~I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,openstack/kolla,stable/yoga,I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,Allow to provide own repos.yaml file,MERGED,2022-06-02 13:29:17.000000000,2022-06-06 10:39:16.000000000,2022-06-06 10:37:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 13:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/61f22b89e3ecd5b50b6e566fa5b93c1f18a21ec8', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)\n'}, {'number': 2, 'created': '2022-06-02 14:16:13.000000000', 'files': ['kolla/template/methods.py', 'kolla/image/build.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca511dd747e766b60372d23d774962f7d0a84224', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)\n'}]",2,844455,ca511dd747e766b60372d23d774962f7d0a84224,13,4,2,14200,,,0,"Allow to provide own repos.yaml file

Several people use Kolla behind firewall/proxy. Internal mirrors are
often in use then. We do not provide a way to replace repos.yaml file in
an easy way which may lead to complicated solutions or template
overrides.

This patch adds a way to provide own copy of repos.yaml file.

Change-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121
(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/844455/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/methods.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py']",4,61f22b89e3ecd5b50b6e566fa5b93c1f18a21ec8,," cfg.StrOpt('repos-yaml', default='', help='Path to alternative repos.yaml file'),",,15,1
openstack%2Fkolla~stable%2Fwallaby~I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,openstack/kolla,stable/wallaby,I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,Allow to provide own repos.yaml file,MERGED,2022-06-02 13:30:30.000000000,2022-06-06 10:39:12.000000000,2022-06-06 10:37:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 13:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/46ccf61353e5820904ca2f3f468d101524c08c7b', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)\n'}, {'number': 2, 'created': '2022-06-02 14:17:34.000000000', 'files': ['kolla/template/methods.py', 'kolla/image/build.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/47fdc545adfb16c3a8de026d1d27f51f16b2c840', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)\n'}]",1,844457,47fdc545adfb16c3a8de026d1d27f51f16b2c840,11,4,2,14200,,,0,"Allow to provide own repos.yaml file

Several people use Kolla behind firewall/proxy. Internal mirrors are
often in use then. We do not provide a way to replace repos.yaml file in
an easy way which may lead to complicated solutions or template
overrides.

This patch adds a way to provide own copy of repos.yaml file.

Change-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121
(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/844457/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/methods.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py']",4,46ccf61353e5820904ca2f3f468d101524c08c7b,," cfg.StrOpt('repos-yaml', default='', help='Path to alternative repos.yaml file'),",,15,1
openstack%2Fkolla~stable%2Fxena~I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,openstack/kolla,stable/xena,I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,Allow to provide own repos.yaml file,MERGED,2022-06-02 13:30:04.000000000,2022-06-06 10:39:04.000000000,2022-06-06 10:37:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4541a9e02f393c6a22578c594a7593b7bdb5f17', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)\n'}, {'number': 2, 'created': '2022-06-02 14:18:56.000000000', 'files': ['kolla/template/methods.py', 'kolla/image/build.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e90786ab9affe99e3c6986f54a580844f1598e39', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)\n'}]",1,844456,e90786ab9affe99e3c6986f54a580844f1598e39,12,4,2,14200,,,0,"Allow to provide own repos.yaml file

Several people use Kolla behind firewall/proxy. Internal mirrors are
often in use then. We do not provide a way to replace repos.yaml file in
an easy way which may lead to complicated solutions or template
overrides.

This patch adds a way to provide own copy of repos.yaml file.

Change-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121
(cherry picked from commit 213190ae030e9971225ea3f103b4be0a7f2532d4)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/844456/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/methods.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py']",4,b4541a9e02f393c6a22578c594a7593b7bdb5f17,," cfg.StrOpt('repos-yaml', default='', help='Path to alternative repos.yaml file'),",,15,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Id05122cb564f3e7475b2b76da8c111e2c72601b8,openstack/kolla-ansible,stable/wallaby,Id05122cb564f3e7475b2b76da8c111e2c72601b8,Improve MariaDB restore procedure,MERGED,2022-06-01 10:11:35.000000000,2022-06-06 10:16:01.000000000,2022-06-06 10:14:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-01 10:11:35.000000000', 'files': ['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c06aad0af74280b512237cb6f81c8d95386029b', 'message': 'Improve MariaDB restore procedure\n\nChange-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8\n(cherry picked from commit 377b6b4251834519c47aff71afa1ba2b7951c92c)\n'}]",0,844199,9c06aad0af74280b512237cb6f81c8d95386029b,9,3,1,14826,,,0,"Improve MariaDB restore procedure

Change-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8
(cherry picked from commit 377b6b4251834519c47aff71afa1ba2b7951c92c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/844199/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml']",3,9c06aad0af74280b512237cb6f81c8d95386029b,, create: yes,,24,5
openstack%2Fkolla-ansible~stable%2Fxena~Id05122cb564f3e7475b2b76da8c111e2c72601b8,openstack/kolla-ansible,stable/xena,Id05122cb564f3e7475b2b76da8c111e2c72601b8,Improve MariaDB restore procedure,MERGED,2022-06-01 10:11:26.000000000,2022-06-06 10:15:42.000000000,2022-06-06 10:14:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-01 10:11:26.000000000', 'files': ['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efe71d551457189e5a45cc19dda1e80035f0d015', 'message': 'Improve MariaDB restore procedure\n\nChange-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8\n(cherry picked from commit 377b6b4251834519c47aff71afa1ba2b7951c92c)\n'}]",0,844198,efe71d551457189e5a45cc19dda1e80035f0d015,9,3,1,14826,,,0,"Improve MariaDB restore procedure

Change-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8
(cherry picked from commit 377b6b4251834519c47aff71afa1ba2b7951c92c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/844198/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml']",3,efe71d551457189e5a45cc19dda1e80035f0d015,, create: yes,,24,5
openstack%2Fkayobe~stable%2Fvictoria~I16d721539e5956f0d86503dd5b01ea608b129873,openstack/kayobe,stable/victoria,I16d721539e5956f0d86503dd5b01ea608b129873,Use net_mask filter instead of ansible's ipaddr,MERGED,2022-06-02 13:12:22.000000000,2022-06-06 10:12:15.000000000,2022-06-06 10:11:03.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 13:12:22.000000000', 'files': ['ansible/kolla-bifrost-hostvars.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7faade5db6e715b03f45382e706fca09b175e51b', 'message': ""Use net_mask filter instead of ansible's ipaddr\n\nFor a long time [1] we have net_mask filter, so no need to use ugly\ncombination of the net_cidr filter together with ansible's ipaddr\nfilter.\n\n1. https://opendev.org/openstack/kayobe/commit/dc45036c92cb28fd4e9f2d9c84a03438bf7ad26f\n\nTrivialFix\n\nChange-Id: I16d721539e5956f0d86503dd5b01ea608b129873\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 0751a316f4ef093221ae3bab2d6514689cd980de)\n""}]",1,844388,7faade5db6e715b03f45382e706fca09b175e51b,11,4,1,15197,,,0,"Use net_mask filter instead of ansible's ipaddr

For a long time [1] we have net_mask filter, so no need to use ugly
combination of the net_cidr filter together with ansible's ipaddr
filter.

1. https://opendev.org/openstack/kayobe/commit/dc45036c92cb28fd4e9f2d9c84a03438bf7ad26f

TrivialFix

Change-Id: I16d721539e5956f0d86503dd5b01ea608b129873
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 0751a316f4ef093221ae3bab2d6514689cd980de)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/88/844388/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-bifrost-hostvars.yml'],1,7faade5db6e715b03f45382e706fca09b175e51b,bifrost-netmask-filter-stable/victoria," ipv4_subnet_mask: ""{{ admin_oc_net_name | net_mask }}"""," ipv4_subnet_mask: ""{{ admin_oc_net_name | net_cidr | ipaddr('netmask') }}""",1,1
openstack%2Fkolla-ansible~stable%2Fyoga~Id05122cb564f3e7475b2b76da8c111e2c72601b8,openstack/kolla-ansible,stable/yoga,Id05122cb564f3e7475b2b76da8c111e2c72601b8,Improve MariaDB restore procedure,MERGED,2022-06-01 10:11:17.000000000,2022-06-06 10:02:41.000000000,2022-06-06 10:01:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-01 10:11:17.000000000', 'files': ['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c952b311a6e816f16dd01a58316fe58357883fff', 'message': 'Improve MariaDB restore procedure\n\nChange-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8\n(cherry picked from commit 377b6b4251834519c47aff71afa1ba2b7951c92c)\n'}]",0,844197,c952b311a6e816f16dd01a58316fe58357883fff,9,3,1,14826,,,0,"Improve MariaDB restore procedure

Change-Id: Id05122cb564f3e7475b2b76da8c111e2c72601b8
(cherry picked from commit 377b6b4251834519c47aff71afa1ba2b7951c92c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/844197/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/create-grastate-mariabackup-58ae93adf32d2bcb.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/roles/mariadb/tasks/recover_cluster.yml']",3,c952b311a6e816f16dd01a58316fe58357883fff,, create: yes,,24,5
openstack%2Fironic-python-agent~bugfix%2F8.3~I0fd6356f036d5ff17510fb838eaf418164cdfc92,openstack/ironic-python-agent,bugfix/8.3,I0fd6356f036d5ff17510fb838eaf418164cdfc92,Multipath Hardware path handling,MERGED,2022-06-05 18:03:51.000000000,2022-06-06 09:57:12.000000000,2022-06-06 09:54:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-05 18:03:51.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3c9b1131320fb97e81af38fc7471f5dbc968ca12', 'message': 'Multipath Hardware path handling\n\nRemoves multipath base devices from consideration by\ndefault, and instead allows the device-mapper device\nmanaged by multipath to be picked up and utilized\ninstead.\n\nIn effect, allowing us to ignore standby paths *and*\nleverage multiple concurrent IO paths if so offered\nvia ALUA.\n\nIn reality, anyone who has previously built IPA with\nmultipath tooling might not have encountered issues\npreviously because they used Active/Active SAN storage\nenvironments. They would have worked because the IO lock\nwould have been exchanged between controllers and paths.\nHowever, Active/Passive environments will block passive\npaths from access, ultimately preventing new locks from\nbeing established without proper negotiation. Ultimately\nrequiring multipathing *and* the agent to be smart enough\nto know to disqualify underlying paths to backend storage\nvolumes.\n\nAn additional benefit of this is active/active MPIO devices\nwill, as long as ``multipath`` is present inside the ramdisk,\nno longer possibly result in duplicate IO wipes occuring\naccross numerous devices.\n\nStory: #2010003\nTask: #45108\nResolves: rhbz#2076622\nResolves: rhbz#2070519\nChange-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92\n(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)\n(cherry picked from commit 2c95ee45339dc910a6b29cb5e0f24a1f48898165)\n'}]",0,844749,3c9b1131320fb97e81af38fc7471f5dbc968ca12,8,2,1,15519,,,0,"Multipath Hardware path handling

Removes multipath base devices from consideration by
default, and instead allows the device-mapper device
managed by multipath to be picked up and utilized
instead.

In effect, allowing us to ignore standby paths *and*
leverage multiple concurrent IO paths if so offered
via ALUA.

In reality, anyone who has previously built IPA with
multipath tooling might not have encountered issues
previously because they used Active/Active SAN storage
environments. They would have worked because the IO lock
would have been exchanged between controllers and paths.
However, Active/Passive environments will block passive
paths from access, ultimately preventing new locks from
being established without proper negotiation. Ultimately
requiring multipathing *and* the agent to be smart enough
to know to disqualify underlying paths to backend storage
volumes.

An additional benefit of this is active/active MPIO devices
will, as long as ``multipath`` is present inside the ramdisk,
no longer possibly result in duplicate IO wipes occuring
accross numerous devices.

Story: #2010003
Task: #45108
Resolves: rhbz#2076622
Resolves: rhbz#2070519
Change-Id: I0fd6356f036d5ff17510fb838eaf418164cdfc92
(cherry picked from commit 014d37743a3b5694e0e2a3cabfafe885417172d5)
(cherry picked from commit 2c95ee45339dc910a6b29cb5e0f24a1f48898165)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/49/844749/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/multipath-handling-00a5b412d2cf2e4e.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",8,3c9b1131320fb97e81af38fc7471f5dbc968ca12,multipath," 'PARTUUID=""""\n' 'KNAME=""dm-0"" MODEL=""NWD-BLP4-1600 "" SIZE=""1765517033472"" ' ' ROTA=""0"" TYPE=""mpath"" UUID="""" PARTUUID=""""\n' MULTIPATH_BLK_DEVICE_TEMPLATE = ( 'KNAME=""sda"" MODEL=""INTEL_SSDSC2CT060A3"" SIZE=""60022480896"" ROTA=""0"" ' 'TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sda2"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sda3"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""sda1"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""dm-0"" MODEL="""" SIZE=""60022480896"" ROTA=""0"" TYPE=""mpath"" ' 'UUID="""" PARTUUID=""""\n' 'KNAME=""dm-4"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""dm-2"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""dm-3"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sdb"" MODEL=""INTEL_SSDSC2CT060A3"" SIZE=""60022480896"" ' 'ROTA=""0"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sdb2"" MODEL="""" SIZE=""59162722304"" ROTA=""0"" TYPE=""part"" ' 'UUID=""f8b55d59-96c3-3982-b129-1b6b2ee8da86"" ' 'PARTUUID=""c97c8aac-7796-4433-b1fc-9b5fac43edf3""\n' 'KNAME=""sdb3"" MODEL="""" SIZE=""650002432"" ROTA=""0"" TYPE=""part"" ' 'UUID=""b3b03565-5f13-3c93-b2a6-6d90e25be926"" ' 'PARTUUID=""6c85beff-b2bd-4a1c-91b7-8abb5256459d""\n' 'KNAME=""sdb1"" MODEL="""" SIZE=""209715200"" ROTA=""0"" TYPE=""part"" ' 'UUID=""0a83355d-7500-3f5f-9abd-66f6fd03714c"" ' 'PARTUUID=""eba28b26-b76a-402c-94dd-0b66a523a485""\n' 'KNAME=""sdc"" MODEL=""ST1000DM003-1CH162"" SIZE=""1000204886016"" ' 'ROTA=""1"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sdc1"" MODEL="""" SIZE=""899999072256"" ROTA=""1"" TYPE=""part"" ' 'UUID=""457f7d3c-9376-4997-89bd-d1a7c8b04060"" ' 'PARTUUID=""c9433d2e-3bbc-47b4-92bf-43c1d80f06e0""\n' 'KNAME=""dm-1"" MODEL="""" SIZE=""1000204886016"" ROTA=""0"" TYPE=""mpath"" ' 'UUID="""" PARTUUID=""""\n' ) MULTIPATH_VALID_PATH = '%s is a valid multipath device path' MULTIPATH_INVALID_PATH = '%s is not a valid multipath device path' MULTIPATH_LINKS_DM = ( 'SUPER_FRIENDLY_NAME %s ATA,INTEL SSDSC2CT06\n' 'size=56G features=\'1 retain_attached_hw_handler\' hwhandler=\'0\' wp=rw\n' # noqa ' `-+- policy=\'service-time 0\' prio=1 status=active\n' ' `- 0:0:0:0 device s 8:0 active ready running\n' )"," 'PARTUUID=""""'",732,57
openstack%2Fironic-python-agent~bugfix%2F8.3~I953c936cbf8fad889108cbf4e50b1a15f511b38c,openstack/ironic-python-agent,bugfix/8.3,I953c936cbf8fad889108cbf4e50b1a15f511b38c,Create fstab entry with appropriate label,MERGED,2022-06-05 15:48:04.000000000,2022-06-06 09:55:47.000000000,2022-06-06 09:54:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-05 15:48:04.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/handle-partuuid-for-fstab-e0aadea20a056982.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/88fbdcf0b089b2514a7e5a3b7f581d91868050de', 'message': ""Create fstab entry with appropriate label\n\nDepending on the how the stars align with partition images\nbeing written to a remote system, we *may* end up with\n*either* a Partition UUID value, or a Partition's UUID value.\n\nWhich are distinctly different.\n\nThis is becasue the value, when collected as a result of writing\nan image to disk *falls* back and passes the value to enable\npartition discovery and matching.\n\nLater on, when we realized we ought to create an fstab entry,\nwe blindly re-used the value thinking it was, indeed, always\na Partition's UUID and not the Partition UUID. Obviously,\nthe label type is quite explicit, either UUID or PARTUUID\nrespectively, when initial ramdisk utilities such as dracut\nare searching and mounting filesystems.\n\nAdds capability to identify the correct label to utilize\nbased upon the current state of the block devices on disk.\n\nGranted, we are likely only exposed to this because of IO\nrace conditions under high concurrecy load operations.\nNormally this would only be seen on test VMs, but\nsystems being backed by a Storage Area Network *can*\nexibit the same IO race conditions as virtual machines.\n\nChange-Id: I953c936cbf8fad889108cbf4e50b1a15f511b38c\nResolves: rhbz#2058717\nStory: #2009881\nTask: 44623\n(cherry picked from commit 99ca1086dbfc7b6e41cf800b0bd899565e2e8922)\n""}]",0,844486,88fbdcf0b089b2514a7e5a3b7f581d91868050de,8,2,1,15519,,,0,"Create fstab entry with appropriate label

Depending on the how the stars align with partition images
being written to a remote system, we *may* end up with
*either* a Partition UUID value, or a Partition's UUID value.

Which are distinctly different.

This is becasue the value, when collected as a result of writing
an image to disk *falls* back and passes the value to enable
partition discovery and matching.

Later on, when we realized we ought to create an fstab entry,
we blindly re-used the value thinking it was, indeed, always
a Partition's UUID and not the Partition UUID. Obviously,
the label type is quite explicit, either UUID or PARTUUID
respectively, when initial ramdisk utilities such as dracut
are searching and mounting filesystems.

Adds capability to identify the correct label to utilize
based upon the current state of the block devices on disk.

Granted, we are likely only exposed to this because of IO
race conditions under high concurrecy load operations.
Normally this would only be seen on test VMs, but
systems being backed by a Storage Area Network *can*
exibit the same IO race conditions as virtual machines.

Change-Id: I953c936cbf8fad889108cbf4e50b1a15f511b38c
Resolves: rhbz#2058717
Story: #2009881
Task: 44623
(cherry picked from commit 99ca1086dbfc7b6e41cf800b0bd899565e2e8922)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/86/844486/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/handle-partuuid-for-fstab-e0aadea20a056982.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",6,88fbdcf0b089b2514a7e5a3b7f581d91868050de,,"PARTUUID_DEVICE_TEMPLATE = ( 'KNAME=""sda"" MODEL=""DRIVE 0"" SIZE=""1765517033472"" ' 'ROTA=""1"" TYPE=""disk"" UUID="""" PARTUUID=""""\n' 'KNAME=""sda1"" MODEL=""DRIVE 0"" SIZE=""107373133824"" ' 'ROTA=""1"" TYPE=""part"" UUID=""987654-3210"" PARTUUID=""1234-5678""\n' ) ",,135,10
openstack%2Fironic-python-agent~bugfix%2F8.3~I1c759552220291890704d0002a62ea3f51701691,openstack/ironic-python-agent,bugfix/8.3,I1c759552220291890704d0002a62ea3f51701691,Add `mount` and `parted -l` to the collected commands,MERGED,2022-06-05 18:02:41.000000000,2022-06-06 09:54:26.000000000,2022-06-06 09:54:26.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-05 18:02:41.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/54cbfa1f3fe0b8935e39044baee8c4996b2a3ced', 'message': 'Add `mount` and `parted -l` to the collected commands\n\nConflicts:\n      ironic_python_agent/tests/unit/test_utils.py\n\nChange-Id: I1c759552220291890704d0002a62ea3f51701691\n(cherry picked from commit f1ee454a0ee9a8f18fbfd504d081ce3aeeb0ffa3)\n'}]",0,844748,54cbfa1f3fe0b8935e39044baee8c4996b2a3ced,7,2,1,15519,,,0,"Add `mount` and `parted -l` to the collected commands

Conflicts:
      ironic_python_agent/tests/unit/test_utils.py

Change-Id: I1c759552220291890704d0002a62ea3f51701691
(cherry picked from commit f1ee454a0ee9a8f18fbfd504d081ce3aeeb0ffa3)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/48/844748/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",2,54cbfa1f3fe0b8935e39044baee8c4996b2a3ced,commands," 'mount': ['mount'], 'parted': ['parted', '-l'],",,22,4
openstack%2Fironic-python-agent~bugfix%2F8.3~Ib27843524421944ee93de975d275e93276a5597a,openstack/ironic-python-agent,bugfix/8.3,Ib27843524421944ee93de975d275e93276a5597a,Collect a full lsblk output in the ramdisk logs,MERGED,2022-06-05 18:01:24.000000000,2022-06-06 09:54:23.000000000,2022-06-06 09:54:23.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-05 18:01:24.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/lsblk-all-956c1df808a169bf.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c674e567fc3fbf0976b1310763be88ad5a11f7e4', 'message': 'Collect a full lsblk output in the ramdisk logs\n\nThe existing lsblk call is very handy for an overview, but there a lot\nmore useful pairs to collect. Collect them in a machine-readable format\nto be able to use in debugging and further development.\n\nChange-Id: Ib27843524421944ee93de975d275e93276a5597a\n(cherry picked from commit 424e649bed3db5d1129b18b7ea4dfba88d552537)\n(cherry picked from commit bc74df8bfe89f703880f8a545ce939e9b1cd8651)\n'}]",0,844747,c674e567fc3fbf0976b1310763be88ad5a11f7e4,7,2,1,15519,,,0,"Collect a full lsblk output in the ramdisk logs

The existing lsblk call is very handy for an overview, but there a lot
more useful pairs to collect. Collect them in a machine-readable format
to be able to use in debugging and further development.

Change-Id: Ib27843524421944ee93de975d275e93276a5597a
(cherry picked from commit 424e649bed3db5d1129b18b7ea4dfba88d552537)
(cherry picked from commit bc74df8bfe89f703880f8a545ce939e9b1cd8651)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/47/844747/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'releasenotes/notes/lsblk-all-956c1df808a169bf.yaml']",3,c674e567fc3fbf0976b1310763be88ad5a11f7e4,lsblk-full,--- other: - | The ramdisk logs now contain an ``lsblk`` output with all pairs in the new ``lsblk-full`` file. ,,10,12
openstack%2Ftripleo-ansible~stable%2Fwallaby~I756365162e4bf435adbb2cc32b1dc7a31a7e950d,openstack/tripleo-ansible,stable/wallaby,I756365162e4bf435adbb2cc32b1dc7a31a7e950d,[tripleo_podman] Add network_backend section in containers.conf,MERGED,2022-06-03 15:05:52.000000000,2022-06-06 09:51:14.000000000,2022-06-06 06:24:08.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-03 15:05:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3391b82822e39bdabddd7a45cc180582d839e311', 'message': '[tripleo_podman] Add network_backend section in containers.conf\n\nhttps://github.com/containers/common/commit/c599369842c204eadf9191554f9781ebfa0ad70f#diff-553c14d0ba1ded3ba9cc0026de8bcba3df444cde5212d8438932fa58246901fbR281\nprovides a way to use cni or netavark as a network backend\nwith podman.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes it\nconfigurable.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I756365162e4bf435adbb2cc32b1dc7a31a7e950d\n'}]",5,844478,3391b82822e39bdabddd7a45cc180582d839e311,16,4,1,12393,,,0,"[tripleo_podman] Add network_backend section in containers.conf

https://github.com/containers/common/commit/c599369842c204eadf9191554f9781ebfa0ad70f#diff-553c14d0ba1ded3ba9cc0026de8bcba3df444cde5212d8438932fa58246901fbR281
provides a way to use cni or netavark as a network backend
with podman.

With podman-4.0 in RHEL-9, netavark is used. This changes makes it
configurable.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I756365162e4bf435adbb2cc32b1dc7a31a7e950d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/844478/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",3,3391b82822e39bdabddd7a45cc180582d839e311,network_backend-stable/wallaby," - section: network option: network_backend value: ""\""{{ tripleo_container_default_network_backend }}\""""",,5,0
openstack%2Fkolla~master~I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,openstack/kolla,master,I0b07da22fea27e0ff4e90aaad19e50d84ff9a121,Allow to provide own repos.yaml file,MERGED,2022-06-01 15:19:35.000000000,2022-06-06 09:02:35.000000000,2022-06-02 12:45:17.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-01 15:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7dbab755048497471faa6335e98361f4c2c31b10', 'message': 'Allow to overwrite repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n'}, {'number': 2, 'created': '2022-06-02 09:47:15.000000000', 'files': ['kolla/template/methods.py', 'kolla/image/build.py', 'releasenotes/notes/user-provided-repos.yaml-d6e8583e9d9d01ef.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/213190ae030e9971225ea3f103b4be0a7f2532d4', 'message': 'Allow to provide own repos.yaml file\n\nSeveral people use Kolla behind firewall/proxy. Internal mirrors are\noften in use then. We do not provide a way to replace repos.yaml file in\nan easy way which may lead to complicated solutions or template\noverrides.\n\nThis patch adds a way to provide own copy of repos.yaml file.\n\nChange-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121\n'}]",27,844311,213190ae030e9971225ea3f103b4be0a7f2532d4,39,5,2,24072,,,0,"Allow to provide own repos.yaml file

Several people use Kolla behind firewall/proxy. Internal mirrors are
often in use then. We do not provide a way to replace repos.yaml file in
an easy way which may lead to complicated solutions or template
overrides.

This patch adds a way to provide own copy of repos.yaml file.

Change-Id: I0b07da22fea27e0ff4e90aaad19e50d84ff9a121
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/844311/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/methods.py', 'kolla/common/config.py']",3,7dbab755048497471faa6335e98361f4c2c31b10,," cfg.StrOpt('repos-yaml', default='', help='Path to alternative repos.yaml file'),",,9,1
openstack%2Ftripleo-quickstart-extras~master~Ied6589162ecd063ba8c82831c214b03ba8a6f184,openstack/tripleo-quickstart-extras,master,Ied6589162ecd063ba8c82831c214b03ba8a6f184,setup.cfg: Replace dashes with underscores,MERGED,2022-06-05 02:37:43.000000000,2022-06-06 08:46:25.000000000,2022-06-06 08:46:25.000000000,"[{'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-05 02:37:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8de2c51407c0709b90ec1d4e5437b72db06869d5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: Ief3bbde25244433c7a1df64cbe735d333d8d7662\n\nChange-Id: Ied6589162ecd063ba8c82831c214b03ba8a6f184\n""}]",1,844729,8de2c51407c0709b90ec1d4e5437b72db06869d5,9,4,1,33950,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: Ief3bbde25244433c7a1df64cbe735d333d8d7662

Change-Id: Ied6589162ecd063ba8c82831c214b03ba8a6f184
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/29/844729/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8de2c51407c0709b90ec1d4e5437b72db06869d5,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://docs.openstack.org/developer/tripleo-quickstart/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://docs.openstack.org/developer/tripleo-quickstart/,3,3
openstack%2Fci-log-processing~master~If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37,openstack/ci-log-processing,master,If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37,Add possibility to provide custom CA certificate,MERGED,2022-06-03 12:06:28.000000000,2022-06-06 08:44:43.000000000,2022-06-06 08:43:08.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 12:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/122ef98873fc9db3317ee409138338c0e201e8b8', 'message': 'Add possibility to provide custom CA certificate\n\nWith this commit, if custom_ca_crt variable is set in\ntenant_builds for the tenant, the certificate will be mounted\ninside the service container, so the --insecure parameter will be not\nneeded.\n\nChange-Id: If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37\n'}, {'number': 2, 'created': '2022-06-03 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/ccf1644923c898b4188e2b19b1d3ab5f2747cc33', 'message': 'Add possibility to provide custom CA certificate\n\nWith this commit, if custom_ca_crt variable is set in\ntenant_builds for the tenant, the certificate will be mounted\ninside the service container, so the --insecure parameter will be not\nneeded.\n\nChange-Id: If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37\n'}, {'number': 3, 'created': '2022-06-03 13:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/f3759a796a34d4c9dbcd2876acea9e8edb1357a3', 'message': 'Add possibility to provide custom CA certificate\n\nWith this commit, if custom_ca_crt variable is set in\ntenant_builds for the tenant, the certificate will be mounted\ninside the service container, so the --insecure parameter will be not\nneeded.\n\nChange-Id: If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37\n'}, {'number': 4, 'created': '2022-06-03 13:35:57.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'ansible/roles/logsender/templates/logsender.sh.j2', 'logscraper/logsender.py', 'logscraper/logscraper.py', 'ansible/roles/logscraper/templates/logscraper.sh.j2', 'ansible/roles/logsender/defaults/main.yml', 'ansible/roles/logscraper/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/9f5fe86cb8ec6829fc650785053f600169acc2d9', 'message': 'Add possibility to provide custom CA certificate\n\nWith this commit, if custom_ca_crt variable is set in\ntenant_builds for the tenant, the certificate will be mounted\ninside the service container, so the --insecure parameter will be not\nneeded.\n\nChange-Id: If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37\n'}]",0,844576,9f5fe86cb8ec6829fc650785053f600169acc2d9,14,5,4,20676,,,0,"Add possibility to provide custom CA certificate

With this commit, if custom_ca_crt variable is set in
tenant_builds for the tenant, the certificate will be mounted
inside the service container, so the --insecure parameter will be not
needed.

Change-Id: If6e28ecf9b5fcf178d1ab2f974cc574ef0866e37
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/76/844576/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/logsender/templates/logsender.sh.j2', 'ansible/roles/logscraper/templates/logscraper.sh.j2', 'ansible/roles/logsender/defaults/main.yml', 'ansible/roles/logscraper/defaults/main.yml']",4,122ef98873fc9db3317ee409138338c0e201e8b8,,"# custom_ca_crt: """"",,10,0
openstack%2Fansible-hardening~master~I140606f7e724fbe2a4f0b03f6a0501da7bdd5964,openstack/ansible-hardening,master,I140606f7e724fbe2a4f0b03f6a0501da7bdd5964,Clean out SSH options we managing,MERGED,2022-05-13 11:04:32.000000000,2022-06-06 08:20:02.000000000,2022-06-06 08:18:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-13 11:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/cf287f19ca01ce75339fec9d268f14279b1da4fb', 'message': ""Clean out SSH options we managing\n\nWith current behaviour we duplicate SSH options and don't care if same\nthing is defined anywhere down the line.\nWith that change we change how options are defined - instead of the\ntemplate we use a list of mappings. With that\nwe can select and remove options that playbook supposed to manage.\n\nWith that we also keep playbook idempotency. As side effect we still\ncan have options duplicated but only if they have exact same value.\n\nChange-Id: I140606f7e724fbe2a4f0b03f6a0501da7bdd5964\nCloses-Bug: #1958649\n""}, {'number': 2, 'created': '2022-05-20 07:53:05.000000000', 'files': ['templates/sshd_config_block.j2', 'tasks/rhel7stig/sshd.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/aa1feb45271c8fbe8eba7d555ded9d41a70eff64', 'message': ""Clean out SSH options we managing\n\nWith current behaviour we duplicate SSH options and don't care if same\nthing is defined anywhere down the line.\nWith that change we change how options are defined - instead of the\ntemplate we use a list of mappings. With that\nwe can select and remove options that playbook supposed to manage.\n\nWith that we also keep playbook idempotency. As side effect we still\ncan have options duplicated but only if they have exact same value.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/840353\nChange-Id: I140606f7e724fbe2a4f0b03f6a0501da7bdd5964\nCloses-Bug: #1958649\n""}]",4,841716,aa1feb45271c8fbe8eba7d555ded9d41a70eff64,14,3,2,28619,,,0,"Clean out SSH options we managing

With current behaviour we duplicate SSH options and don't care if same
thing is defined anywhere down the line.
With that change we change how options are defined - instead of the
template we use a list of mappings. With that
we can select and remove options that playbook supposed to manage.

With that we also keep playbook idempotency. As side effect we still
can have options duplicated but only if they have exact same value.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/840353
Change-Id: I140606f7e724fbe2a4f0b03f6a0501da7bdd5964
Closes-Bug: #1958649
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/16/841716/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/sshd_config_block.j2', 'tasks/rhel7stig/sshd.yml', 'vars/main.yml']",3,cf287f19ca01ce75339fec9d268f14279b1da4fb,bug/1958649," sshd_settings_rhel7: - name: PermitEmptyPasswords value: ""no"" enabled: ""{{ security_sshd_disallow_empty_password | bool }}"" stig_id: V-71939 / RHEL-07-010440 - name: PermitUserEnvironment value: ""no"" enabled: ""{{ security_sshd_disallow_environment_override | bool }}"" stig_id: V-71957 - name: HostbasedAuthentication value: ""no"" enabled: ""{{ security_sshd_disallow_host_based_auth | bool }}"" stig_id: V-71959 - name: Ciphers value: ""{{ security_sshd_cipher_list }}"" enabled: True stig_id: V-72221 - name: ClientAliveInterval value: ""{{ security_sshd_client_alive_interval }}"" enabled: True stig_id: V-72237 - name: ClientAliveCountMax value: ""{{ security_sshd_client_alive_count_max }}"" enabled: True stig_id: V-72241 - name: PrintLastLog value: ""yes"" enabled: ""{{ security_sshd_print_last_log | bool }}"" stig_id: V-72245 # NOTE(noonedeadpunk): We leave else/endif on same string not to deal with stripping of '\n' later on - name: PermitRootLogin value: |- {% if security_sshd_permit_root_login | string in ['False', 'True'] %} {{ (security_sshd_permit_root_login | bool) | ternary('yes', 'no') }}{% else %} {{ security_sshd_permit_root_login }}{% endif %} enabled: True stig_id: V-72247 - name: IgnoreUserKnownHosts value: ""yes"" enabled: ""{{ security_sshd_disallow_known_hosts_auth | bool }}"" stig_id: V-72249 / V-72239 - name: IgnoreRhosts value: ""yes"" enabled: ""{{ security_sshd_disallow_rhosts_auth | bool }}"" stig_id: V-72243 - name: X11Forwarding value: ""yes"" enabled: ""{{ security_sshd_enable_x11_forwarding | bool }}"" stig_id: V-72303 - name: Protocol value: ""{{ security_sshd_protocol }}"" enabled: yes stig_id: V-72251 - name: MACs value: ""{{security_sshd_allowed_macs }}"" enabled: yes stig_id: V-72253 - name: UsePrivilegeSeparation value: sandbox enabled: ""{{ security_sshd_enable_privilege_separation | bool }}"" stig_id: V-72265 - name: Compression value: ""{{ security_sshd_compression }}"" enabled: yes stig_id: V-72267 - name: KerberosAuthentication value: ""no"" enabled: ""{{ security_sshd_disable_kerberos_auth | bool }}"" stig_id: V-72261 - name: StrictModes value: ""yes"" enabled: ""{{ security_sshd_enable_strict_modes | bool }}"" stig_id: V-72263",,112,62
openstack%2Fhorizon~master~I983c7d60ab6db017c2adb3d63b6c2e16080a126e,openstack/horizon,master,I983c7d60ab6db017c2adb3d63b6c2e16080a126e,Update python testing as per zed cycle testing runtime,ABANDONED,2022-06-05 06:31:42.000000000,2022-06-06 08:11:22.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-05 06:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/de4681496776f058bce9749c1723713ebfde9919', 'message': 'Update python testing as per zed cycle testing runtime\n\nChange-Id: I983c7d60ab6db017c2adb3d63b6c2e16080a126e\n'}, {'number': 2, 'created': '2022-06-05 06:32:42.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-0234ba2b79528dd3.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0559d7ecac8c21e3d6870f636c14f0fef3880d67', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I983c7d60ab6db017c2adb3d63b6c2e16080a126e\n'}]",2,844737,0559d7ecac8c21e3d6870f636c14f0fef3880d67,6,2,2,33161,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I983c7d60ab6db017c2adb3d63b6c2e16080a126e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/844737/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-0234ba2b79528dd3.yaml', 'setup.cfg', 'tox.ini']",3,de4681496776f058bce9749c1723713ebfde9919,,"envlist = pep8,py39,releasenotes,npm,py3-dj32","envlist = pep8,py36,py39,releasenotes,npm,py3-dj32",6,3
openstack%2Fironic-python-agent~master~I6d0ae63d0a54c71150b3a8a7d59f46f5afe28173,openstack/ironic-python-agent,master,I6d0ae63d0a54c71150b3a8a7d59f46f5afe28173,Update python testing as per zed cycle testing runtime,ABANDONED,2022-06-05 06:44:10.000000000,2022-06-06 08:09:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-05 06:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b015c26c9f76a951b4b613df75b5ca7efd54a7db', 'message': 'Update python testing as per zed cycle testing runtime\n\nChange-Id: I6d0ae63d0a54c71150b3a8a7d59f46f5afe28173\n'}, {'number': 2, 'created': '2022-06-05 06:44:41.000000000', 'files': ['setup.cfg', 'releasenotes/notes/drop-python-3-6-and-3-7-9040c34e73739537.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5359fa144ddf2d9521fee43fcff4db7e0d093e84', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I6d0ae63d0a54c71150b3a8a7d59f46f5afe28173\n'}]",1,844738,5359fa144ddf2d9521fee43fcff4db7e0d093e84,5,2,2,33161,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I6d0ae63d0a54c71150b3a8a7d59f46f5afe28173
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/38/844738/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'releasenotes/notes/drop-python-3-6-and-3-7-9040c34e73739537.yaml']",2,b015c26c9f76a951b4b613df75b5ca7efd54a7db,,--- upgrade: - | Python 3.6 & 3.7 support has been dropped. The minimum version of Python now supported is Python 3.8. ,,6,3
openstack%2Frpm-packaging~master~I1115666db658d4b63d05d10721ddcf407a4b78fc,openstack/rpm-packaging,master,I1115666db658d4b63d05d10721ddcf407a4b78fc,Update to latest versions,MERGED,2022-06-04 15:06:36.000000000,2022-06-06 07:56:41.000000000,2022-06-04 15:17:33.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-04 15:06:36.000000000', 'files': ['openstack/debtcollector/debtcollector.spec.j2', 'openstack/openstack-doc-tools/openstack-doc-tools.spec.j2', 'openstack/virtualbmc/virtualbmc.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/oslo.versionedobjects/oslo.versionedobjects.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/os-ken/os-ken.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2', 'openstack/os-win/os-win.spec.j2', 'openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/os-refresh-config/os-refresh-config.spec.j2', 'openstack/os-vif/os-vif.spec.j2', 'openstack/aodhclient/aodhclient.spec.j2', 'openstack/metalsmith/metalsmith.spec.j2', 'openstack/os-collect-config/os-collect-config.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/ceilometermiddleware/ceilometermiddleware.spec.j2', 'openstack/automaton/automaton.spec.j2', 'openstack/os-traits/os-traits.spec.j2', 'openstack/tooz/tooz.spec.j2', 'openstack/pbr/pbr.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/23b20cfe0d368fe226ce8a1c78c401e5d310e40f', 'message': 'Update to latest versions\n\nChange-Id: I1115666db658d4b63d05d10721ddcf407a4b78fc\n'}]",1,844703,23b20cfe0d368fe226ce8a1c78c401e5d310e40f,8,4,1,6593,,,0,"Update to latest versions

Change-Id: I1115666db658d4b63d05d10721ddcf407a4b78fc
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/03/844703/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/debtcollector/debtcollector.spec.j2', 'openstack/openstack-doc-tools/openstack-doc-tools.spec.j2', 'openstack/virtualbmc/virtualbmc.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/oslo.versionedobjects/oslo.versionedobjects.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/os-ken/os-ken.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2', 'openstack/os-win/os-win.spec.j2', 'openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/os-refresh-config/os-refresh-config.spec.j2', 'openstack/os-vif/os-vif.spec.j2', 'openstack/aodhclient/aodhclient.spec.j2', 'openstack/metalsmith/metalsmith.spec.j2', 'openstack/os-collect-config/os-collect-config.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/ceilometermiddleware/ceilometermiddleware.spec.j2', 'openstack/automaton/automaton.spec.j2', 'openstack/os-traits/os-traits.spec.j2', 'openstack/tooz/tooz.spec.j2', 'openstack/pbr/pbr.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2']",23,23b20cfe0d368fe226ce8a1c78c401e5d310e40f,,{% set upstream_version = upstream_version('1.16.1') %},{% set upstream_version = upstream_version('1.16.0') %},23,23
openstack%2Fpython-ironicclient~master~Ie41d3930fbeaa44565e354ff2eef81bb4c201991,openstack/python-ironicclient,master,Ie41d3930fbeaa44565e354ff2eef81bb4c201991,"Remove ""distutils"" library",NEW,2022-06-04 06:16:06.000000000,2022-06-06 07:55:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-04 06:16:06.000000000', 'files': ['requirements.txt', 'ironicclient/common/http.py', 'ironicclient/tests/unit/common/test_http.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6824f8e41b108f527a22e978e39c316f38b98b26', 'message': 'Remove ""distutils"" library\n\nLibrary ""distutils"" will be marked as deprecated in Python 3.10:\nhttps://peps.python.org/pep-0386/\n\nThis patch does the following replacements, that provide the same\nfunctionality and API:\n- distutils.version.StrictVersion -> packaging.version.Version\n\nChange-Id: Ie41d3930fbeaa44565e354ff2eef81bb4c201991\n'}]",4,844671,6824f8e41b108f527a22e978e39c316f38b98b26,3,2,1,23360,,,0,"Remove ""distutils"" library

Library ""distutils"" will be marked as deprecated in Python 3.10:
https://peps.python.org/pep-0386/

This patch does the following replacements, that provide the same
functionality and API:
- distutils.version.StrictVersion -> packaging.version.Version

Change-Id: Ie41d3930fbeaa44565e354ff2eef81bb4c201991
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/71/844671/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironicclient/common/http.py', 'ironicclient/tests/unit/common/test_http.py']",3,6824f8e41b108f527a22e978e39c316f38b98b26,, # Test version comparison with packaging.version.Version, # Test version comparison with StrictVersion,9,8
openstack%2Fglance~stable%2Fwallaby~I5149df76943c1c19f3204b904c0e2d3ef846bdf7,openstack/glance,stable/wallaby,I5149df76943c1c19f3204b904c0e2d3ef846bdf7,Fix set_property_atomic() boolean type casting,MERGED,2022-05-17 18:05:13.000000000,2022-06-06 07:38:36.000000000,2022-06-06 07:37:27.000000000,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:05:13.000000000', 'files': ['glance/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/677c89c23631e9083261a1a18ed438d8966e0de2', 'message': 'Fix set_property_atomic() boolean type casting\n\nIn set_property_atomic() we pass an integer query filter for the\ndeleted field, since most projects use an integer for this column.\nHowever, in glance the column is a boolean, which trips up postgres\nsince the types are different (mysql and sqlite work fine). This\nminor change to use False instead of 0 should fix that for postgres\nusers.\n\nChange-Id: I5149df76943c1c19f3204b904c0e2d3ef846bdf7\nCloses-Bug: #1953063\n(cherry picked from commit 753c74c343ab4ef32879a3dd95c3a956af77f869)\n(cherry picked from commit 316ce9659acdec0bc45f8a33825ae3b076199b24)\n'}]",3,842163,677c89c23631e9083261a1a18ed438d8966e0de2,14,4,1,32755,,,0,"Fix set_property_atomic() boolean type casting

In set_property_atomic() we pass an integer query filter for the
deleted field, since most projects use an integer for this column.
However, in glance the column is a boolean, which trips up postgres
since the types are different (mysql and sqlite work fine). This
minor change to use False instead of 0 should fix that for postgres
users.

Change-Id: I5149df76943c1c19f3204b904c0e2d3ef846bdf7
Closes-Bug: #1953063
(cherry picked from commit 753c74c343ab4ef32879a3dd95c3a956af77f869)
(cherry picked from commit 316ce9659acdec0bc45f8a33825ae3b076199b24)
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/842163/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/sqlalchemy/api.py'],1,677c89c23631e9083261a1a18ed438d8966e0de2,," # UPDATE image_properties SET value=$value, deleted=False # WHERE name=$name AND deleted!=False table.c.deleted != False)).values( value=value, deleted=False)) table.c.deleted == False)))"," # UPDATE image_properties SET value=$value, deleted=0 # WHERE name=$name AND deleted!=0 table.c.deleted != 0)).values( value=value, deleted=0)) table.c.deleted == 0)))",5,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0cedb257d37c602baaaabb6b42dd3863a6586f11,openstack/tripleo-heat-templates,stable/wallaby,I0cedb257d37c602baaaabb6b42dd3863a6586f11,[DNM] check no dvr,ABANDONED,2022-04-14 15:58:02.000000000,2022-06-06 06:53:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-14 15:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b52b8f339e08526996f089eef8693abb5ce63cc0', 'message': '[DNM] check no dvr\n\nChange-Id: I0cedb257d37c602baaaabb6b42dd3863a6586f11\n'}, {'number': 2, 'created': '2022-04-18 03:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/632d55bbd5bda067b00a43ce6ae5ff737ac7ac31', 'message': '[DNM] check no dvr\n\nChange-Id: I0cedb257d37c602baaaabb6b42dd3863a6586f11\n'}, {'number': 3, 'created': '2022-04-18 03:20:22.000000000', 'files': ['zuul.d/layout.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/185320513f005903167576c55c408ec75ac8bdaa', 'message': '[DNM] check no dvr\n\nChange-Id: I0cedb257d37c602baaaabb6b42dd3863a6586f11\n'}]",0,837900,185320513f005903167576c55c408ec75ac8bdaa,7,2,3,13861,,,0,"[DNM] check no dvr

Change-Id: I0cedb257d37c602baaaabb6b42dd3863a6586f11
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/837900/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml']",2,b52b8f339e08526996f089eef8693abb5ce63cc0,dnm, - neutron::plugins::ml2::ovn::dvr_enabled: false, - neutron::plugins::ml2::ovn::dvr_enabled: true,2,37
openstack%2Fcyborg~master~If75f96f7daa6ec38596db302e05148109a256df8,openstack/cyborg,master,If75f96f7daa6ec38596db302e05148109a256df8,Using project* instead of tenant*,MERGED,2022-03-14 08:48:03.000000000,2022-06-06 06:38:12.000000000,2022-06-06 06:36:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-03-14 08:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/39198628db4dcf428b5da521ced45e31adf2a290', 'message': 'wip: Using project* instead of tenant*\n\nImplements: blueprint remove-tenant\n\nChange-Id: If75f96f7daa6ec38596db302e05148109a256df8\n'}, {'number': 2, 'created': '2022-05-05 12:13:13.000000000', 'files': ['cyborg/db/sqlalchemy/api.py', 'cyborg/tests/unit/api/base.py', 'cyborg/api/hooks.py', 'cyborg/quota.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d3e26b50dadaf067d472d6a51800dc016b7cf562', 'message': 'Using project* instead of tenant*\n\nImplements: blueprint remove-tenant\n\nChange-Id: If75f96f7daa6ec38596db302e05148109a256df8\n'}]",2,833537,d3e26b50dadaf067d472d6a51800dc016b7cf562,13,3,2,26458,,,0,"Using project* instead of tenant*

Implements: blueprint remove-tenant

Change-Id: If75f96f7daa6ec38596db302e05148109a256df8
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/37/833537/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/db/sqlalchemy/api.py', 'cyborg/tests/unit/api/base.py', 'cyborg/api/hooks.py', 'cyborg/quota.py']",4,39198628db4dcf428b5da521ced45e31adf2a290,bp/remove-tenant, common user's project. common user's project. common user's project., common user's tenant. common user's tenant. common user's tenant.,8,8
openstack%2Fdevstack~stable%2Fxena~Iae8625dd800d30061ea3dbed9eb0dfbe16f21572,openstack/devstack,stable/xena,Iae8625dd800d30061ea3dbed9eb0dfbe16f21572,Install OVS from source when it was configured like that,ABANDONED,2022-04-11 11:19:23.000000000,2022-06-06 06:34:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 11:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d1c5015b4c8cfdf8a4d5818fc8daef7b459cb340', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n(cherry picked from commit 418535883763cb31e54ab3882ee3eacc42afd4f3)\n'}, {'number': 2, 'created': '2022-06-06 05:03:07.000000000', 'files': ['lib/neutron_plugins/ovs_base', 'lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source'], 'web_link': 'https://opendev.org/openstack/devstack/commit/518023d2e2619cf35869528c548c1a4bd9774346', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n(cherry picked from commit 418535883763cb31e54ab3882ee3eacc42afd4f3)\n'}]",2,837310,518023d2e2619cf35869528c548c1a4bd9774346,7,1,2,13861,,,0,"Install OVS from source when it was configured like that

Function _neutron_ovs_base_install_agent_packages always tried to
install openvswitch from packages and start it using systemd units.
That was failing when ovs was expected to be installed from source.
This patch fixes that.

Change-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572
(cherry picked from commit 418535883763cb31e54ab3882ee3eacc42afd4f3)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/837310/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovs_base', 'lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source']",3,d1c5015b4c8cfdf8a4d5818fc8daef7b459cb340,neutron-fips-compliance-stable/xena,Q_BUILD_OVS_FROM_GIT=$(trueorfalse False Q_BUILD_OVS_FROM_GIT),,35,28
openstack%2Ftripleo-ansible~master~Ic381cd8504b4b20d28a424fe9a0be4307783d041,openstack/tripleo-ansible,master,Ic381cd8504b4b20d28a424fe9a0be4307783d041,Migrate tripleo_ovn host_prep_tasks to tripleo-ansible,MERGED,2022-05-17 06:25:56.000000000,2022-06-06 06:31:15.000000000,2022-05-19 18:18:19.000000000,"[{'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32114}]","[{'number': 1, 'created': '2022-05-17 06:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a2802bfc2f614e67b58e634e47030c65d8ca758', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the host_prep_tasks from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nChange-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041\n'}, {'number': 2, 'created': '2022-05-17 06:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1604a9876e1ef853489a130ba30360f2357920cd', 'message': 'Migrate tripleo_ovn host_prep_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041\n'}, {'number': 3, 'created': '2022-05-17 07:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbd9617bb1d934135fb214b01531f7da7ec86899', 'message': 'Use tripleo_ovn standalone role for host_prep_tasks\n\nUse the host_prep_tasks from the tripleo-ovn standalone role in\ntripleo-heat-templates.\n\nCo-Authored-By: Brendan Shephard <bshephar@redhat.com>\nChange-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041\n'}, {'number': 4, 'created': '2022-05-17 12:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52db95944f31457da3dba23af0e9f3aa1e81efc9', 'message': 'Migrate tripleo_ovn host_prep_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041\n'}, {'number': 5, 'created': '2022-05-17 14:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/755ebe8343b04ae4bd135175b925369f6e51dd01', 'message': 'Migrate tripleo_ovn host_prep_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041\n'}, {'number': 6, 'created': '2022-05-18 05:06:36.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn/files/neutron-cleanup', 'tripleo_ansible/roles/tripleo_ovn/meta/main.yml', 'tripleo_ansible/roles/tripleo_ovn/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovn/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovn/files/neutron-cleanup.service', 'tripleo_ansible/roles/tripleo_ovn/tasks/hostprep.yml', 'tripleo_ansible/roles/tripleo_ovn/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84252f4e260f10ac32a4d0cacde3eb712693813a', 'message': 'Migrate tripleo_ovn host_prep_tasks to tripleo-ansible\n\nMigrate the tripleo-heat-template ansible tasks into the tripleo_ovn\nstandalone ansible role.\n\nChange-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041\n'}]",7,842041,84252f4e260f10ac32a4d0cacde3eb712693813a,26,5,6,32114,,,0,"Migrate tripleo_ovn host_prep_tasks to tripleo-ansible

Migrate the tripleo-heat-template ansible tasks into the tripleo_ovn
standalone ansible role.

Change-Id: Ic381cd8504b4b20d28a424fe9a0be4307783d041
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/842041/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovn/files/neutron-cleanup', 'tripleo_ansible/roles/tripleo_ovn/meta/main.yml', 'tripleo_ansible/roles/tripleo_ovn/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovn/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ovn/files/neutron-cleanup.service', 'tripleo_ansible/roles/tripleo_ovn/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ovn/tasks/hostprep.yml']",9,4a2802bfc2f614e67b58e634e47030c65d8ca758,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: create persistent directories ansible.builtin.file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" loop: - { 'path': /var/log/containers/openvswitch, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/openvswitch/ovn, 'setype': container_file_t } - name: enable virt_sandbox_use_netlink for healthcheck ansible.builtin.seboolean: name: virt_sandbox_use_netlink persistent: true state: true when: - ansible_facts.selinux is defined - ansible_facts.selinux.status == ""enabled"" - name: Copy in cleanup script ansible.builtin.copy: content: neutron-cleanup dest: '/usr/libexec/neutron-cleanup' force: true mode: '0755' - name: Copy in cleanup service ansible.builtin.copy: content: neutron-cleanup.service dest: '/usr/lib/systemd/system/neutron-cleanup.service' force: true - name: Enabling the cleanup service ansible.builtin.service: name: neutron-cleanup enabled: true",,226,0
openstack%2Fheat~master~I2de594258231e3f1c217904afce88a83a8f94df3,openstack/heat,master,I2de594258231e3f1c217904afce88a83a8f94df3,Make grenade job voting again,MERGED,2022-06-03 07:37:00.000000000,2022-06-06 05:42:49.000000000,2022-06-06 05:40:23.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-03 07:37:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/fee8c40c23fb160a4fe64e95a71f827528287690', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n'}]",0,844557,fee8c40c23fb160a4fe64e95a71f827528287690,8,4,1,9816,,,0,"Make grenade job voting again

Because change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported
to the previous stable branch.

Change-Id: I2de594258231e3f1c217904afce88a83a8f94df3
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/844557/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fee8c40c23fb160a4fe64e95a71f827528287690,,, voting: false,0,1
openstack%2Fheat-cfntools~master~I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1,openstack/heat-cfntools,master,I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:58.000000000,2022-06-06 05:25:51.000000000,2022-06-06 05:24:04.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 20:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/5d2b957d850125dd05acaf156960e15eac7b39bb', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1\n'}, {'number': 2, 'created': '2022-06-06 02:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/96100aca3ff33f06775f34dc882dc976ee10ef12', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nThis also switches the python3 job template to unversioned one because\nthe heat-cfntools project follows an independent release model.\n\nChange-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1\n'}, {'number': 3, 'created': '2022-06-06 03:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/c408090ce54e8e2e1a98e2964c01440730cbca31', 'message': ""Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nThis also makes the following change to fix the broken jobs.\n\n- Switch the python3 job template to unversioned one because\n  the heat-cfntools project follows an independent release model.\n\n- Fix language setting to avoid the doc job failure caused by\n  the following warning.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid langauge code. Falling back to 'en' (English).\n\nChange-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1\n""}, {'number': 4, 'created': '2022-06-06 04:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/3b0edbcd93d218c0aa91f1c1cb1991a75cdfaae7', 'message': ""Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nThis also makes the following change to fix the broken jobs.\n\n- Switch the python3 job template to unversioned one because\n  the heat-cfntools project follows an independent release model.\n\n- Fix language setting to avoid the doc job failure caused by\n  the following warning.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid langauge code. Falling back to 'en' (English).\n\nChange-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1\n""}, {'number': 5, 'created': '2022-06-06 04:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/7cf57dcb6ed0833e28ca1ebd6dc618ebec6d9dc6', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nThis also switches the python3 job template to unversioned one because\nthe heat-cfntools project follows an independent release model.\n\nChange-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1\n'}, {'number': 6, 'created': '2022-06-06 04:46:45.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/8f784480a30570a46f0fbea18ce4368da353aa83', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nThis also makes the following two changes to fix the broken CI.\n\n- Switch the python3 job template to unversioned one because\n  the heat-cfntools project follows an independent release model.\n  This effectively removes py36 tests.\n\n- Use upper-constraints.txt to build documentation, to avoid pulling\n  the latest Sphinx which includes a breaking change.\n\nChange-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1\n'}]",2,840050,8f784480a30570a46f0fbea18ce4368da353aa83,24,3,6,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

This also makes the following two changes to fix the broken CI.

- Switch the python3 job template to unversioned one because
  the heat-cfntools project follows an independent release model.
  This effectively removes py36 tests.

- Use upper-constraints.txt to build documentation, to avoid pulling
  the latest Sphinx which includes a breaking change.

Change-Id: I3c41ed7cd54e8c8d3fad05ea7ac86fc35b9fa4d1
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/50/840050/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,5d2b957d850125dd05acaf156960e15eac7b39bb,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,13
openstack%2Fdevstack~stable%2Fxena~I5daaa5f265795961808da2c6ce51f9f1f624a0e8,openstack/devstack,stable/xena,I5daaa5f265795961808da2c6ce51f9f1f624a0e8,[DNM] Test ovn grenade tick-tick,ABANDONED,2022-04-11 12:46:19.000000000,2022-06-06 05:12:51.000000000,,[],"[{'number': 1, 'created': '2022-04-11 12:46:19.000000000', 'files': ['.zuul.yaml', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/51fefb8435c6412497171d5d464dd8857d66d61d', 'message': '[DNM] Test ovn grenade tick-tick\n\nChange-Id: I5daaa5f265795961808da2c6ce51f9f1f624a0e8\n'}]",0,837304,51fefb8435c6412497171d5d464dd8857d66d61d,2,0,1,13861,,,0,"[DNM] Test ovn grenade tick-tick

Change-Id: I5daaa5f265795961808da2c6ce51f9f1f624a0e8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/837304/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lib/neutron-legacy']",2,51fefb8435c6412497171d5d464dd8857d66d61d,dnm,"# if [[ $Q_AGENT == ""ovn"" ]]; then # stop_ovn # fi"," if [[ $Q_AGENT == ""ovn"" ]]; then stop_ovn fi",4,138
openstack%2Fdevstack~stable%2Fyoga~Ibc288da5ee25d505568850047f7621154b764974,openstack/devstack,stable/yoga,Ibc288da5ee25d505568850047f7621154b764974,[DNM] test ovn grenade job,ABANDONED,2022-04-01 14:38:38.000000000,2022-06-06 05:12:27.000000000,,[],"[{'number': 1, 'created': '2022-04-01 14:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c8bca86f94f089384aceb5a5b083026f159d7279', 'message': '[DNM] test ovn grenade job\n\nChange-Id: Ibc288da5ee25d505568850047f7621154b764974\n'}, {'number': 2, 'created': '2022-04-11 07:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/03bdc255d9b888c43ab5cb327bc667ae02936c7c', 'message': '[DNM] test ovn grenade job\n\nChange-Id: Ibc288da5ee25d505568850047f7621154b764974\n'}, {'number': 3, 'created': '2022-04-11 11:04:53.000000000', 'files': ['lib/neutron_plugins/ovn_agent', '.zuul.yaml', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c19720d4a6923f2ea76f83ba7f0620ee480bbc4f', 'message': '[DNM] test ovn grenade job\n\nChange-Id: Ibc288da5ee25d505568850047f7621154b764974\n'}]",0,836191,c19720d4a6923f2ea76f83ba7f0620ee480bbc4f,4,0,3,13861,,,0,"[DNM] test ovn grenade job

Change-Id: Ibc288da5ee25d505568850047f7621154b764974
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/836191/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lib/neutron-legacy']",2,c8bca86f94f089384aceb5a5b083026f159d7279,dnm,"# if [[ $Q_AGENT == ""ovn"" ]]; then # stop_ovn # fi"," if [[ $Q_AGENT == ""ovn"" ]]; then stop_ovn fi",4,143
openstack%2Fheat-cfntools~master~If8ea17b0ade8fb997dcf7081be49d2b493ea7635,openstack/heat-cfntools,master,If8ea17b0ade8fb997dcf7081be49d2b493ea7635,doc: Set the default language explicitly,ABANDONED,2022-06-06 04:02:53.000000000,2022-06-06 04:46:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 04:02:53.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/1f8caced14908497aa31c3f480fa2605b98e8fa3', 'message': ""doc: Set the default language explicitly\n\nSince Sphinx 5.0.0, the following warning is raised unless the language\noption is properly set and this warning causes the doc job to fail.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid langauge code. Falling back to 'en' (English).\n\nThis change hard-codes the language to the default 'en' to avoid that\nwarning.\n\nChange-Id: If8ea17b0ade8fb997dcf7081be49d2b493ea7635\n""}]",0,844766,1f8caced14908497aa31c3f480fa2605b98e8fa3,3,1,1,9816,,,0,"doc: Set the default language explicitly

Since Sphinx 5.0.0, the following warning is raised unless the language
option is properly set and this warning causes the doc job to fail.

Invalid configuration value found: 'language = None'. Update your
configuration to a valid langauge code. Falling back to 'en' (English).

This change hard-codes the language to the default 'en' to avoid that
warning.

Change-Id: If8ea17b0ade8fb997dcf7081be49d2b493ea7635
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/66/844766/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1f8caced14908497aa31c3f480fa2605b98e8fa3,sphinx-v5,language = 'en',language = None,1,1
openstack%2Fglance~master~Ic31daf499f51bb596a1103f1f052708c47fd854e,openstack/glance,master,Ic31daf499f51bb596a1103f1f052708c47fd854e,Use upper-constraints to build docs and release notes,ABANDONED,2022-06-06 04:27:04.000000000,2022-06-06 04:43:19.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2022-06-06 04:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e35cde93ed77b520349f93203036865489d059d', 'message': 'Use upper-constraints for doc build\n\n... to avoid pulling the latest packages which would include breaking\nchange.\n\nChange-Id: Ic31daf499f51bb596a1103f1f052708c47fd854e\n'}, {'number': 2, 'created': '2022-06-06 04:33:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/525b9eff3bad560f579776ab51780ad15063c510', 'message': 'Use upper-constraints to build docs and release notes\n\n... to avoid pulling the latest packages which would include breaking\nchange.\n\nChange-Id: Ic31daf499f51bb596a1103f1f052708c47fd854e\n'}]",0,844767,525b9eff3bad560f579776ab51780ad15063c510,5,1,2,9816,,,0,"Use upper-constraints to build docs and release notes

... to avoid pulling the latest packages which would include breaking
change.

Change-Id: Ic31daf499f51bb596a1103f1f052708c47fd854e
",git fetch https://review.opendev.org/openstack/glance refs/changes/67/844767/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4e35cde93ed77b520349f93203036865489d059d,doc-u-c, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},,1,0
openstack%2Fglance~master~Id992ad31defc988980077f3d6f3ba27022b77d51,openstack/glance,master,Id992ad31defc988980077f3d6f3ba27022b77d51,DNM: Testing doc job,ABANDONED,2022-06-06 04:39:58.000000000,2022-06-06 04:43:05.000000000,,[],"[{'number': 1, 'created': '2022-06-06 04:39:58.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/07c2c3609defe2e82f99b94ee86d93e95b6ce272', 'message': 'DNM: Testing doc job\n\nChange-Id: Id992ad31defc988980077f3d6f3ba27022b77d51\n'}]",0,844770,07c2c3609defe2e82f99b94ee86d93e95b6ce272,2,0,1,9816,,,0,"DNM: Testing doc job

Change-Id: Id992ad31defc988980077f3d6f3ba27022b77d51
",git fetch https://review.opendev.org/openstack/glance refs/changes/70/844770/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,07c2c3609defe2e82f99b94ee86d93e95b6ce272,dnm, Copyright 2011 OpenStack Foundation, Copyright 2010 OpenStack Foundation,1,1
openstack%2Fheat~master~I4758bf677716cba761217b34d68a4fb50ef3de65,openstack/heat,master,I4758bf677716cba761217b34d68a4fb50ef3de65,DNM: Testing release note,ABANDONED,2022-06-06 04:31:31.000000000,2022-06-06 04:41:21.000000000,,[],"[{'number': 1, 'created': '2022-06-06 04:31:31.000000000', 'files': ['releasenotes/notes/foo-1a001864ed8ba0d9.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/3ea096c4e66d3a92ad5e8d024b73ddb16d8a9a2e', 'message': 'DNM: Testing release note\n\nChange-Id: I4758bf677716cba761217b34d68a4fb50ef3de65\n'}]",0,844769,3ea096c4e66d3a92ad5e8d024b73ddb16d8a9a2e,2,0,1,9816,,,0,"DNM: Testing release note

Change-Id: I4758bf677716cba761217b34d68a4fb50ef3de65
",git fetch https://review.opendev.org/openstack/heat refs/changes/69/844769/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/foo-1a001864ed8ba0d9.yaml'],1,3ea096c4e66d3a92ad5e8d024b73ddb16d8a9a2e,dnm,"--- prelude: > Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. features: - | List new features here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. issues: - | List known issues here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. upgrade: - | List upgrade notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. deprecations: - | List deprecations notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. critical: - | Add critical notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. security: - | Add security notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. fixes: - | Add normal bug fixes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. other: - | Add other notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. ",,65,0
openstack%2Fheat~master~I62539e58e0de0dec1b92ed946c286fcb36a71e4e,openstack/heat,master,I62539e58e0de0dec1b92ed946c286fcb36a71e4e,dnm: testing doc job ...,ABANDONED,2022-06-06 03:55:28.000000000,2022-06-06 04:34:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 03:55:28.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/25e4dbadbf97e76f7a17495eb83eea0716eb8938', 'message': 'dnm: testing doc job ...\n\nChange-Id: I62539e58e0de0dec1b92ed946c286fcb36a71e4e\n'}]",0,844764,25e4dbadbf97e76f7a17495eb83eea0716eb8938,3,1,1,9816,,,0,"dnm: testing doc job ...

Change-Id: I62539e58e0de0dec1b92ed946c286fcb36a71e4e
",git fetch https://review.opendev.org/openstack/heat refs/changes/64/844764/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,25e4dbadbf97e76f7a17495eb83eea0716eb8938,,,,0,1
openstack%2Fheat~master~I04b458c19f9cdff7d8b5b5e72d6c7a320231d853,openstack/heat,master,I04b458c19f9cdff7d8b5b5e72d6c7a320231d853,Use upper-constraints.txt to build release notes,ABANDONED,2022-06-06 04:30:35.000000000,2022-06-06 04:31:39.000000000,,[],"[{'number': 1, 'created': '2022-06-06 04:30:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/734f6d70e1749ab54463ed6c6d4476c6c8f21c68', 'message': 'Use upper-constraints.txt to build release notes\n\nChange-Id: I04b458c19f9cdff7d8b5b5e72d6c7a320231d853\n'}]",0,844768,734f6d70e1749ab54463ed6c6d4476c6c8f21c68,2,0,1,9816,,,0,"Use upper-constraints.txt to build release notes

Change-Id: I04b458c19f9cdff7d8b5b5e72d6c7a320231d853
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/844768/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,734f6d70e1749ab54463ed6c6d4476c6c8f21c68,doc-uc,deps = {[testenv:docs]deps},deps = -r{toxinidir}/doc/requirements.txt,1,1
openstack%2Fdiskimage-builder~master~Ibc3d461531d7221f398eb60599febe84ddd44151,openstack/diskimage-builder,master,Ibc3d461531d7221f398eb60599febe84ddd44151,Drop Python 3.6 support,ABANDONED,2022-06-03 00:39:24.000000000,2022-06-06 04:03:03.000000000,,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-03 00:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bc4e5779514ad86c62c449ee5aaaab748c9add8d', 'message': ""Drop Python 3.6 support\n\nAlthough we're not on the OpenStack release schedule as such, Zed\ncycle is dropping 3.6/3.7 support.  This means it seems like as good a\ntime as any to also update ourselves to this regime.  One important\ndependency to think about is nodepool, but that is already >3.8 only\nso we will be in sync there.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ibc3d461531d7221f398eb60599febe84ddd44151\n""}, {'number': 2, 'created': '2022-06-03 07:06:10.000000000', 'files': ['releasenotes/notes/python-3.8-b401ad4f2bbbc99f.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/52edae2b85f93a5c0154c454c42c81cb02a2db68', 'message': ""Drop Python 3.6 support\n\nAlthough we're not on the OpenStack release schedule as such, Zed\ncycle is dropping 3.6/3.7 support.  This means it seems like as good a\ntime as any to also update ourselves to this regime.  One important\ndependency to think about is nodepool, but that is already >3.8 only\nso we will be in sync there.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ibc3d461531d7221f398eb60599febe84ddd44151\n""}]",2,844534,52edae2b85f93a5c0154c454c42c81cb02a2db68,12,4,2,7118,,,0,"Drop Python 3.6 support

Although we're not on the OpenStack release schedule as such, Zed
cycle is dropping 3.6/3.7 support.  This means it seems like as good a
time as any to also update ourselves to this regime.  One important
dependency to think about is nodepool, but that is already >3.8 only
so we will be in sync there.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ibc3d461531d7221f398eb60599febe84ddd44151
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/34/844534/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/python-3.8-b401ad4f2bbbc99f.yaml', 'setup.cfg']",2,bc4e5779514ad86c62c449ee5aaaab748c9add8d,drop-python3.6,python_requires = >=3.8, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7python_requires = >=3.6,4,3
openstack%2Fheat-agents~master~I3f7906e6333a58f433666dab6f89ced6202f0030,openstack/heat-agents,master,I3f7906e6333a58f433666dab6f89ced6202f0030,Add Python3 zed unit tests,MERGED,2022-03-08 11:37:24.000000000,2022-06-06 03:49:23.000000000,2022-06-06 03:47:15.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-08 11:37:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/c86e3a2d56811304961442853951862bbbd3521e', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3f7906e6333a58f433666dab6f89ced6202f0030\n'}]",0,832527,c86e3a2d56811304961442853951862bbbd3521e,7,2,1,22816,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3f7906e6333a58f433666dab6f89ced6202f0030
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/27/832527/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c86e3a2d56811304961442853951862bbbd3521e,add-zed-python-jobtemplates, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fswift~master~Iebde15499cce24f8e82ed1f4068cb0b5f71c05de,openstack/swift,master,Iebde15499cce24f8e82ed1f4068cb0b5f71c05de,more tests for canned acls,MERGED,2022-06-03 20:53:20.000000000,2022-06-06 03:25:54.000000000,2022-06-06 03:23:05.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 20:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a16de9de48c13f4fa3f0bd8b717f4cd1f7291bc5', 'message': 'more tests for canned acls\n\nChange-Id: Iebde15499cce24f8e82ed1f4068cb0b5f71c05de\n'}, {'number': 2, 'created': '2022-06-06 00:53:46.000000000', 'files': ['test/unit/common/middleware/s3api/test_acl_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/de13220c6ccf8c49b2300a78e30fe91635361e05', 'message': 'more tests for canned acls\n\nChange-Id: Iebde15499cce24f8e82ed1f4068cb0b5f71c05de\n'}]",8,844643,de13220c6ccf8c49b2300a78e30fe91635361e05,12,2,2,1179,,,0,"more tests for canned acls

Change-Id: Iebde15499cce24f8e82ed1f4068cb0b5f71c05de
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/844643/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/s3api/test_acl_utils.py'],1,a16de9de48c13f4fa3f0bd8b717f4cd1f7291bc5,s3-canned-acls,"from swift.common.middleware.s3api import s3response def check_generated_acl_header(self, acl, expected): req = Request.blank('/bucket', headers={'X-Amz-Acl': acl}) try: except s3response.ErrorResponse as e: if isinstance(e, expected): self.assertEqual(expected._status, e._status) else: raise else: for target in expected: def test_canned_acl_header(self): # https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html#canned-acl self.check_generated_acl_header('private', [('X-Container-Read', '.'), ('X-Container-Write', '.')]) self.check_generated_acl_header('public-read', [('X-Container-Read', '.r:*,.rlistings')]) self.check_generated_acl_header('public-read-write', [('X-Container-Read', '.r:*,.rlistings'), ('X-Container-Write', '.r:*')]) self.check_generated_acl_header('aws-exec-read', s3response.InvalidArgument) self.check_generated_acl_header('authenticated-read', s3response.S3NotImplemented) self.check_generated_acl_header('bucket-owner-read', [('X-Container-Read', '.'), ('X-Container-Write', '.')]) self.check_generated_acl_header('bucket-owner-full-control', [('X-Container-Read', '.'), ('X-Container-Write', '.')]) self.check_generated_acl_header('log-delivery-write', s3response.S3NotImplemented) # the 400 response is the catch all self.check_generated_acl_header('some-non-sense', s3response.InvalidArgument)"," def test_handle_acl_header(self): def check_generated_acl_header(acl, targets): req = Request.blank('/bucket', headers={'X-Amz-Acl': acl}) for target in targets: check_generated_acl_header('public-read', [('X-Container-Read', '.r:*,.rlistings')]) check_generated_acl_header('public-read-write', [('X-Container-Read', '.r:*,.rlistings'), ('X-Container-Write', '.r:*')]) check_generated_acl_header('private', [('X-Container-Read', '.'), ('X-Container-Write', '.')]) check_generated_acl_header('bucket-owner-full-control', [('X-Container-Read', '.'), ('X-Container-Write', '.')]) check_generated_acl_header('bucket-owner-read', [('X-Container-Read', '.'), ('X-Container-Write', '.')])",34,19
openstack%2Fswift~master~I79761b0f1f5f90f2602005e3e0428d201b5c813e,openstack/swift,master,I79761b0f1f5f90f2602005e3e0428d201b5c813e,s3api: Add best-effort support for more canned ACLs,MERGED,2022-05-31 17:01:31.000000000,2022-06-06 03:24:30.000000000,2022-06-06 03:23:02.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 17:01:31.000000000', 'files': ['swift/common/middleware/s3api/acl_utils.py', 'test/unit/common/middleware/s3api/test_acl_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c33b3d860fd81db8e835df69914fc36b902dcbda', 'message': 's3api: Add best-effort support for more canned ACLs\n\nUsing pure Swift ACLs, there is no real difference between private,\nbucket-owner-full-control, and bucket-owner-read.\n\nDrive-By: Return NotImplemented on log-delivery-write, just like we do\nfor authenticated-read.\n\nChange-Id: I79761b0f1f5f90f2602005e3e0428d201b5c813e\n'}]",1,844113,c33b3d860fd81db8e835df69914fc36b902dcbda,9,3,1,15343,,,0,"s3api: Add best-effort support for more canned ACLs

Using pure Swift ACLs, there is no real difference between private,
bucket-owner-full-control, and bucket-owner-read.

Drive-By: Return NotImplemented on log-delivery-write, just like we do
for authenticated-read.

Change-Id: I79761b0f1f5f90f2602005e3e0428d201b5c813e
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/844113/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/acl_utils.py', 'test/unit/common/middleware/s3api/test_acl_utils.py']",2,c33b3d860fd81db8e835df69914fc36b902dcbda,s3-canned-acls," check_generated_acl_header('bucket-owner-full-control', [('X-Container-Read', '.'), ('X-Container-Write', '.')]) check_generated_acl_header('bucket-owner-read', [('X-Container-Read', '.'), ('X-Container-Write', '.')])",,12,1
openstack%2Fheat-agents~master~I30d41852b04f0aa52cd60c9e7a084fcd2c1de3a4,openstack/heat-agents,master,I30d41852b04f0aa52cd60c9e7a084fcd2c1de3a4,Update master for stable/yoga,MERGED,2022-03-08 11:37:23.000000000,2022-06-06 03:14:18.000000000,2022-06-06 03:12:49.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-03-08 11:37:23.000000000', 'files': ['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/7481ec2505fd517243d59bb42af6753e09a0d8df', 'message': 'Update master for stable/yoga\n\nAdd file to the reno documentation build to show release notes for\nstable/yoga.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/yoga.\n\nSem-Ver: feature\nChange-Id: I30d41852b04f0aa52cd60c9e7a084fcd2c1de3a4\n'}]",1,832526,7481ec2505fd517243d59bb42af6753e09a0d8df,8,3,1,22816,,,0,"Update master for stable/yoga

Add file to the reno documentation build to show release notes for
stable/yoga.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/yoga.

Sem-Ver: feature
Change-Id: I30d41852b04f0aa52cd60c9e7a084fcd2c1de3a4
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/26/832526/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst']",2,7481ec2505fd517243d59bb42af6753e09a0d8df,reno-yoga, yoga,,7,0
openstack%2Fsahara-extra~master~Ic3aa01bb97007b62a61c430fe1659c69d6979aab,openstack/sahara-extra,master,Ic3aa01bb97007b62a61c430fe1659c69d6979aab,Add Python3 zed unit tests,NEW,2022-06-06 02:17:56.000000000,2022-06-06 03:03:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 02:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/e90cf26dc84d68a78060ace7338c0f683033dc7a', 'message': 'Add Python3 zed unit tests\n\nChange-Id: Ic3aa01bb97007b62a61c430fe1659c69d6979aab\n'}, {'number': 2, 'created': '2022-06-06 02:39:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/e7fe4ffe67edf38458b0c09e9ce7a9a29a6abb86', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic3aa01bb97007b62a61c430fe1659c69d6979aab\n'}]",0,844758,e7fe4ffe67edf38458b0c09e9ce7a9a29a6abb86,4,1,2,33881,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ic3aa01bb97007b62a61c430fe1659c69d6979aab
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/58/844758/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e90cf26dc84d68a78060ace7338c0f683033dc7a,, - openstack-python3-zed-jobs,,1,0
openstack%2Fpuppet-tripleo~master~Ice39a02d29d6f83701c5489533a1f66920739e7b,openstack/puppet-tripleo,master,Ice39a02d29d6f83701c5489533a1f66920739e7b,Support configuring multiple Dell EMC VNX cinder backends,MERGED,2022-06-02 12:39:17.000000000,2022-06-06 02:56:34.000000000,2022-06-06 02:56:34.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 12:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7de3a0dd47d7a42e4a1579ad31b7736e790a43e2', 'message': 'Support configuring multiple Dell EMC VNX cinder backends\n\nAdd support for configuring multiple Dell EMC VNX cinder backends\n\nChange-Id: Ice39a02d29d6f83701c5489533a1f66920739e7b\n'}, {'number': 2, 'created': '2022-06-03 00:08:06.000000000', 'files': ['spec/fixtures/hieradata/step4.yaml', 'spec/fixtures/hieradata/step5.yaml', 'manifests/profile/base/cinder/volume/dellemc_vnx.pp', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_cinder_vnx_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ac67b462375abce3d67a0adbd8830db3aecd577a', 'message': 'Support configuring multiple Dell EMC VNX cinder backends\n\nAdd support for configuring multiple Dell EMC VNX cinder backends\n\nChange-Id: Ice39a02d29d6f83701c5489533a1f66920739e7b\n'}]",7,844441,ac67b462375abce3d67a0adbd8830db3aecd577a,11,3,2,34598,,,0,"Support configuring multiple Dell EMC VNX cinder backends

Add support for configuring multiple Dell EMC VNX cinder backends

Change-Id: Ice39a02d29d6f83701c5489533a1f66920739e7b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/844441/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/fixtures/hieradata/step5.yaml', 'manifests/profile/base/cinder/volume/dellemc_vnx.pp', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'spec/classes/tripleo_profile_base_cinder_vnx_spec.rb']",4,7de3a0dd47d7a42e4a1579ad31b7736e790a43e2,cinder-dellemc_vnx-multiconfig," context 'with multiple backends' do let(:params) { { :backend_name => ['tripleo_dellemc_vnx_1', 'tripleo_dellemc_vnx_2'], :multi_config => { 'tripleo_dellemc_vnx_2' => { 'CinderDellEMCVNXStorageProtocol' => 'FC' }}, :step => 4, } } it 'should configure each backend' do is_expected.to contain_cinder__backend__emc_vnx('tripleo_dellemc_vnx_1') is_expected.to contain_cinder_config('tripleo_dellemc_vnx_1/volume_driver') .with_value('cinder.volume.drivers.dell_emc.vnx.driver.VNXDriver') is_expected.to contain_cinder_config('tripleo_dellemc_vnx_1/storage_protocol') .with_value('iscsi') is_expected.to contain_cinder__backend__emc_vnx('tripleo_dellemc_vnx_2') is_expected.to contain_cinder_config('tripleo_dellemc_vnx_2/storage_protocol') .with_value('FC') end end",,88,21
openstack%2Fheat-cfntools~master~I14211c410b90e59b406b0ffec40a158789607978,openstack/heat-cfntools,master,I14211c410b90e59b406b0ffec40a158789607978,Use unversioned openstack-python3-jobs,ABANDONED,2022-05-25 12:30:09.000000000,2022-06-06 02:41:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 12:30:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/211ec1f976e280b930a7e0173e90e455b6c46e8c', 'message': 'Use unversioned openstack-python3-jobs\n\nThe heat-cfntools project follows an independent release model.\nThis change switches the python3 job template to unversioned one which\nwas recently added. This allows us to avoid updating job template\nmanually.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/833286/\nChange-Id: I14211c410b90e59b406b0ffec40a158789607978\n'}]",0,843272,211ec1f976e280b930a7e0173e90e455b6c46e8c,5,1,1,9816,,,0,"Use unversioned openstack-python3-jobs

The heat-cfntools project follows an independent release model.
This change switches the python3 job template to unversioned one which
was recently added. This allows us to avoid updating job template
manually.

Depends-on: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/833286/
Change-Id: I14211c410b90e59b406b0ffec40a158789607978
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/72/843272/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,211ec1f976e280b930a7e0173e90e455b6c46e8c,add-python3-unversioned-jobs, - openstack-python3-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fdesignate~stable%2Fwallaby~If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4,openstack/designate,stable/wallaby,If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4,Clarifies the zone import error message,MERGED,2022-06-04 20:54:05.000000000,2022-06-06 02:20:41.000000000,2022-06-06 02:17:59.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-04 20:54:05.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/eacd478e0560c26a0bcdde04d7855f83fb8ff890', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}]",1,844485,eacd478e0560c26a0bcdde04d7855f83fb8ff890,9,3,1,11628,,,0,"Clarifies the zone import error message

This patch defines the situation where the import_zone exception handler
produces the message 'An undefined error occurred' to the exception during
the zone import where an underlying exception occurred from the rpc
dispatcher at the same time as a duplicate zone exception. Kiall Mac Innes
explains this in
https://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b
the problem here is in the way the _import_zone was written where
https://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85
was written with threading.local, so it only works if it stays within the same
thread. Since _import_zone is created on a separate thread, the necessity to add
the decorator @rpc_expected_exceptions() at the top.

Closes-bug: #1950118
Closes-bug: #1964323
Change-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4
(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)
",git fetch https://review.opendev.org/openstack/designate refs/changes/85/844485/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_central/test_service.py']",2,eacd478e0560c26a0bcdde04d7855f83fb8ff890,bug/1950118-stable/wallaby," def test_create_zone_import_duplicate_threading(self): context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) self.wait_for_import(zone_import.id) def create_zone_import(): context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) return self.wait_for_import(zone_import.id, error_is_ok=True) with futurist.GreenThreadPoolExecutor() as executor: results = [] for fixture in [0, 2, 3, 4, 5]: results.append(executor.submit(create_zone_import,)) for future in futures.as_completed(results): result = future.result() self.assertEqual('Duplicate zone.', result.message) @mock.patch('dns.zone.from_text') @mock.patch('designate.central.service.Service.update_zone_import') def test_create_zone_import_from_text_exceptions( self, mock_update_zone_import, mock_dnszone_from_text): # the second set of exceptions for the create_zone context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() values = { 'status': 'PENDING', 'message': None, 'zone_id': None, 'tenant_id': context.project_id, 'task_type': 'IMPORT' } zone_import = objects.ZoneImport(**values) mock_dnszone_from_text.side_effect = [exceptions.BadRequest(), Exception('boom')] LOG.debug(""Testing zone import exceptions: BadRequest"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) self.assertEqual('An SOA record is required.', zone_import.message) LOG.debug(""Testing zone import exceptions: Undefined"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) self.assertEqual('An undefined error occurred. boom', zone_import.message) @mock.patch('designate.central.service.Service.create_zone') @mock.patch('designate.central.service.Service.update_zone_import') def test_create_zone_import_create_import_exceptions( self, mock_update_zone_import, mock_create_zone): # setup to test the create_zone exceptions from _import_zone method context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() values = { 'status': 'PENDING', 'message': None, 'zone_id': None, 'tenant_id': context.project_id, 'task_type': 'IMPORT' } zone_import = objects.ZoneImport(**values) mock_create_zone.side_effect = [mock.DEFAULT, exceptions.DuplicateZone(), exceptions.InvalidTTL(), exceptions.OverQuota(), Exception('boom')] LOG.debug(""Testing zone import exceptions: No exception case"") self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('COMPLETE', zone_import.status) self.assertIn('imported', zone_import.message) LOG.debug(""Testing zone import exceptions: DuplicateZone"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('Duplicate zone.', zone_import.message) LOG.debug(""Testing zone import exceptions: InvalidTTL"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) LOG.debug(""Testing zone import exceptions: OverQuota"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('Quota exceeded during zone import.', zone_import.message) LOG.debug(""Testing zone import exceptions: Undefined"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('An undefined error occurred. boom', zone_import.message) ",,112,0
openstack%2Fosc-placement~master~I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe,openstack/osc-placement,master,I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe,Change minversion of tox to 3.18.0,MERGED,2021-05-18 13:48:34.000000000,2022-06-06 01:46:35.000000000,2022-06-06 01:45:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 13:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e8d24ab5d2cfa047da6db6caf0bdf20adbbd2c82', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 2, 'created': '2021-05-18 14:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ac34c614019f79b157d499b5999aa5c7c0150ac9', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 3, 'created': '2021-06-06 16:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e158f6e3d02fd758b78432ce77b4cb986738ae8b', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 4, 'created': '2021-09-04 02:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/4676a2a6b625882b90d48dbdebac8937e5d368f6', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 5, 'created': '2022-03-29 02:36:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/d4ef2a949472b9b96a705302cdadcfa6494af07c', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",2,791972,d4ef2a949472b9b96a705302cdadcfa6494af07c,19,2,5,7634,,,0,"Change minversion of tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace whitelist_externals with allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I004d9563d006a1cce1e2fe7fbcd11fbf41e023fe
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/72/791972/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e8d24ab5d2cfa047da6db6caf0bdf20adbbd2c82,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fvenus-dashboard~master~Ide08eb8c438b5fc30ad3e41ea1d72a149feda531,openstack/venus-dashboard,master,Ide08eb8c438b5fc30ad3e41ea1d72a149feda531,Add log search slog index view,MERGED,2022-06-02 11:19:12.000000000,2022-06-06 01:13:41.000000000,2022-06-06 01:13:41.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}]","[{'number': 1, 'created': '2022-06-02 11:19:12.000000000', 'files': ['venus_dashboard/log_search/urls.py', 'venus_dashboard/log_search_slog/panel.py', 'venus_dashboard/log_search_slog/__init__.py', 'venus_dashboard/enabled/_4061_admin_add_log_search_slog_panel.py', 'venus_dashboard/log_search_slog/views.py', 'venus_dashboard/log_search_slog/tests.py', 'venus_dashboard/log_search/panel.py', 'venus_dashboard/log_search_slog/urls.py', 'venus_dashboard/log_search_slog/templates/log_search_slog/index.html', 'venus_dashboard/log_search/views.py'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/0ea27a424444f32a9d25cd2391457e1820df0594', 'message': 'Add log search slog index view\n\nChange-Id: Ide08eb8c438b5fc30ad3e41ea1d72a149feda531\n'}]",2,844419,0ea27a424444f32a9d25cd2391457e1820df0594,7,3,1,30562,,,0,"Add log search slog index view

Change-Id: Ide08eb8c438b5fc30ad3e41ea1d72a149feda531
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/19/844419/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus_dashboard/log_search/urls.py', 'venus_dashboard/log_search_slog/panel.py', 'venus_dashboard/log_search_slog/__init__.py', 'venus_dashboard/enabled/_4061_admin_add_log_search_slog_panel.py', 'venus_dashboard/log_search_slog/views.py', 'venus_dashboard/log_search_slog/tests.py', 'venus_dashboard/log_search/panel.py', 'venus_dashboard/log_search_slog/urls.py', 'venus_dashboard/log_search_slog/templates/log_search_slog/index.html', 'venus_dashboard/log_search/views.py']",10,0ea27a424444f32a9d25cd2391457e1820df0594,add-charts,class IndexView(views.APIView):,class LogSearch(views.APIView):,421,4
openstack%2Fopenstack-helm-images~master~Icb1254ff3a8958adb92b30870a99583121345b8a,openstack/openstack-helm-images,master,Icb1254ff3a8958adb92b30870a99583121345b8a,Remove mini-mirror image building,MERGED,2022-06-02 18:24:36.000000000,2022-06-06 00:23:38.000000000,2022-06-06 00:21:55.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2022-06-02 18:24:36.000000000', 'files': ['mini-mirror/mini-mirror-sources.yaml', 'mini-mirror/etc/aptly.conf', 'mini-mirror/tools/install_aptly.sh', 'zuul.d/mini-mirror.yaml', 'mini-mirror/tools/publish_snapshots.sh', 'mini-mirror/build.sh', 'mini-mirror/README.rst', 'mini-mirror/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0a388d5fe24099e99f11b187b60c46222b063209', 'message': 'Remove mini-mirror image building\n\nAs part of the effort to retire the osh-addons repo, this change\nremoves the image building for mini mirror.\n\nChange-Id: Icb1254ff3a8958adb92b30870a99583121345b8a\n'}]",0,844513,0a388d5fe24099e99f11b187b60c46222b063209,9,3,1,21420,,,0,"Remove mini-mirror image building

As part of the effort to retire the osh-addons repo, this change
removes the image building for mini mirror.

Change-Id: Icb1254ff3a8958adb92b30870a99583121345b8a
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/13/844513/1 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/etc/aptly.conf', 'mini-mirror/mini-mirror-sources.yaml', 'mini-mirror/tools/install_aptly.sh', 'zuul.d/mini-mirror.yaml', 'mini-mirror/tools/publish_snapshots.sh', 'mini-mirror/README.rst', 'mini-mirror/build.sh', 'mini-mirror/Dockerfile.ubuntu_bionic']",8,0a388d5fe24099e99f11b187b60c46222b063209,remove-mini-mirror,,"# Copyright 2019, AT&T Intellectual Property # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ARG BUILD_FROM=ubuntu:18.04 ARG FROM=nginx FROM ${BUILD_FROM} as aptly ARG APTLY_CONFIG_PATH=etc/aptly.conf ARG MIRROR_SOURCE_FILE=mini-mirror-sources.yaml ARG RELEASE_SIGN_KEY_PATH=etc ARG RELEASE_SIGN_KEY_PASSPHRASE RUN apt-get update RUN apt-get install -y gnupg wget jq python-pip RUN pip install yq COPY ""${APTLY_CONFIG_PATH}"" /etc/aptly.conf COPY tools/install_aptly.sh /opt/install_aptly.sh ARG APTLY_INSTALL_FROM=source ARG APTLY_REPO=https://github.com/smstone/aptly.git ARG APTLY_REFSPEC=allow-custom-codename RUN /opt/install_aptly.sh COPY ""${MIRROR_SOURCE_FILE}"" /opt/mini-mirror-sources.yaml COPY ""${RELEASE_SIGN_KEY_PATH}"" /opt/release.gpg COPY tools/publish_snapshots.sh /opt/publish_snapshots.sh RUN /opt/publish_snapshots.sh ""${RELEASE_SIGN_KEY_PASSPHRASE}"" FROM ${FROM} ARG APTLY_SNAPSHOT_DIR=/srv # NOTE(drewwalters96): This must match the location provided in the NGINX # config file. COPY --from=aptly /opt/.aptly/public ""${APTLY_SNAPSHOT_DIR}"" ",0,564
openstack%2Frequirements~master~I5febaed02e95ff27accd946abc32f3bcbb1a5ead,openstack/requirements,master,I5febaed02e95ff27accd946abc32f3bcbb1a5ead,Don't limit use of importlib-metadata to Python < 3.8,MERGED,2022-05-25 16:26:08.000000000,2022-06-05 20:33:00.000000000,2022-06-05 20:31:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 16:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9017ffebf7af69e99dbb49d796694f5bf186cfd7', 'message': ""Don't limit use of importlib-metadata to Python < 3.8\n\nimportlib-metadata is a rolling backport of importlib.metadata from\nstdlib. Some people might want to use it to take advantage of new\nfunctionality [1]. We shouldn't prevent them doing so. This is very\nsimilar to what lifeless for the mock library - itself a rolling\nbackport - in change Iff09ab8c5ee4c2f0cf88596f084d6b5b340be8d8.\n\n[1] https://pypi.org/project/importlib-metadata/#compatibility\n\nChange-Id: I5febaed02e95ff27accd946abc32f3bcbb1a5ead\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-05-31 11:53:18.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5fab5913b5225e5b96c424f7975bd76003662fd7', 'message': ""Don't limit use of importlib-metadata to Python < 3.8\n\nimportlib-metadata is a rolling backport of importlib.metadata from\nstdlib. Some people might want to use it to take advantage of new\nfunctionality [1]. We shouldn't prevent them doing so. This is very\nsimilar to what lifeless for the mock library - itself a rolling\nbackport - in change Iff09ab8c5ee4c2f0cf88596f084d6b5b340be8d8.\n\n[1] https://pypi.org/project/importlib-metadata/#compatibility\n\nChange-Id: I5febaed02e95ff27accd946abc32f3bcbb1a5ead\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",7,843315,5fab5913b5225e5b96c424f7975bd76003662fd7,18,2,2,15334,,,0,"Don't limit use of importlib-metadata to Python < 3.8

importlib-metadata is a rolling backport of importlib.metadata from
stdlib. Some people might want to use it to take advantage of new
functionality [1]. We shouldn't prevent them doing so. This is very
similar to what lifeless for the mock library - itself a rolling
backport - in change Iff09ab8c5ee4c2f0cf88596f084d6b5b340be8d8.

[1] https://pypi.org/project/importlib-metadata/#compatibility

Change-Id: I5febaed02e95ff27accd946abc32f3bcbb1a5ead
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/843315/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,9017ffebf7af69e99dbb49d796694f5bf186cfd7,uncap-importlib-metadata,# Do not make importlib-metadata conditional on Python version: we depend on # newer code than in [most] releases of the Python std library. importlib-metadata # Apache-2.0,importlib-metadata;python_version<'3.8' # Apache-2.0,3,1
openstack%2Fopenstacksdk~master~Ie97ed490557ce4f2d04fa138111e6a3665790beb,openstack/openstacksdk,master,Ie97ed490557ce4f2d04fa138111e6a3665790beb,compute: Correct some docstrings,MERGED,2022-05-26 12:23:59.000000000,2022-06-05 20:10:43.000000000,2022-06-05 20:09:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-26 12:23:59.000000000', 'files': ['openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0876a2486abc7def60917e95279655a7eda93cd4', 'message': 'compute: Correct some docstrings\n\nFix some copy-paste mistakes.\n\nChange-Id: Ie97ed490557ce4f2d04fa138111e6a3665790beb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,843448,0876a2486abc7def60917e95279655a7eda93cd4,12,3,1,15334,,,0,"compute: Correct some docstrings

Fix some copy-paste mistakes.

Change-Id: Ie97ed490557ce4f2d04fa138111e6a3665790beb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/48/843448/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/_proxy.py'],1,0876a2486abc7def60917e95279655a7eda93cd4,compute-gaps, :param flavor: Either the ID of a flavor or a :param attrs: The attributes to update on the flavor represented :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :param attrs: The attributes to update on the aggregate represented :param attrs: The attributes to update on the server represented :param service: Either the ID of a service or a :param attrs: The attributes to update on the service represented :params attrs: The attributes to update on the QuotaSet represented, :param server: Either the ID of a flavot or a :attrs kwargs: The attributes to update on the flavor represented :class:`~openstack.compute.v2.aggregate.Aggregate` instance. :attrs kwargs: The attributes to update on the aggregate represented :attrs kwargs: The attributes to update on the server represented :param server: Either the ID of a service or a :attrs kwargs: The attributes to update on the service represented :attrs kwargs: The attributes to update on the QuotaSet represented,8,9
openstack%2Fopenstacksdk~master~I5f2f287e44771e29f3658bb2da141aa45cecf4d6,openstack/openstacksdk,master,I5f2f287e44771e29f3658bb2da141aa45cecf4d6,Remove unused normalization helpers,MERGED,2022-05-26 12:00:04.000000000,2022-06-05 20:07:08.000000000,2022-06-05 20:05:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-26 12:00:04.000000000', 'files': ['openstack/cloud/_utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/041a66a2e775d6a28b0e88ca1345b79f5bdde863', 'message': 'Remove unused normalization helpers\n\nThese should have been removed in the following changes:\n\n- Ic856855f8040f88e618926bf0fdf14b0daa589d9 (""Switch identity.service in\n  cloud layer to proxy"")\n- Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901 (""Switch identity groups and\n  users in cloud layer"")\n- I23e0ce374c5f854f9ff797616b02eb31f4593a7a (""Switch identity.domains in\n  cloud layer"")\n- Ia6c24590d6f12258be6c27fcf45c944a771083fc (""Get rid of normalization\n  in identity CL"")\n- I987161bfdedf837298dfa56173bfdd07d066cbbf (""Get rid of normalization\n  in compute CL"")\n\nRemove them now.\n\nChange-Id: I5f2f287e44771e29f3658bb2da141aa45cecf4d6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,843434,041a66a2e775d6a28b0e88ca1345b79f5bdde863,9,2,1,15334,,,0,"Remove unused normalization helpers

These should have been removed in the following changes:

- Ic856855f8040f88e618926bf0fdf14b0daa589d9 (""Switch identity.service in
  cloud layer to proxy"")
- Iae7c798df8780d8aa70ed54dc4b9eebd9c52b901 (""Switch identity groups and
  users in cloud layer"")
- I23e0ce374c5f854f9ff797616b02eb31f4593a7a (""Switch identity.domains in
  cloud layer"")
- Ia6c24590d6f12258be6c27fcf45c944a771083fc (""Get rid of normalization
  in identity CL"")
- I987161bfdedf837298dfa56173bfdd07d066cbbf (""Get rid of normalization
  in compute CL"")

Remove them now.

Change-Id: I5f2f287e44771e29f3658bb2da141aa45cecf4d6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/34/843434/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_utils.py'],1,041a66a2e775d6a28b0e88ca1345b79f5bdde863,remove-munch,,"import munchfrom openstack.cloud import metadef normalize_keystone_services(services): """"""Normalize the structure of keystone services In keystone v2, there is a field called ""service_type"". In v3, it's ""type"". Just make the returned dict have both. :param list services: A list of keystone service dicts :returns: A list of normalized dicts. """""" ret = [] for service in services: service_type = service.get('type', service.get('service_type')) new_service = { 'id': service['id'], 'name': service['name'], 'description': service.get('description', None), 'type': service_type, 'service_type': service_type, 'enabled': service['enabled'] } ret.append(new_service) return meta.obj_list_to_munch(ret) def normalize_users(users): ret = [ dict( id=user.get('id'), email=user.get('email'), name=user.get('name'), username=user.get('username'), default_project_id=user.get('default_project_id', user.get('tenantId')), domain_id=user.get('domain_id'), enabled=user.get('enabled'), description=user.get('description') ) for user in users ] return meta.obj_list_to_munch(ret) def normalize_domains(domains): ret = [ dict( id=domain.get('id'), name=domain.get('name'), description=domain.get('description'), enabled=domain.get('enabled'), ) for domain in domains ] return meta.obj_list_to_munch(ret) def normalize_groups(domains): """"""Normalize Identity groups."""""" ret = [ dict( id=domain.get('id'), name=domain.get('name'), description=domain.get('description'), domain_id=domain.get('domain_id'), ) for domain in domains ] return meta.obj_list_to_munch(ret) def normalize_role_assignments(assignments): """"""Put role_assignments into a form that works with search/get interface. Role assignments have the structure:: [ { ""role"": { ""id"": ""--role-id--"" }, ""scope"": { ""domain"": { ""id"": ""--domain-id--"" } }, ""user"": { ""id"": ""--user-id--"" } }, ] Which is hard to work with in the rest of our interface. Map this to be:: [ { ""id"": ""--role-id--"", ""domain"": ""--domain-id--"", ""user"": ""--user-id--"", } ] Scope can be ""domain"" or ""project"" and ""user"" can also be ""group"". :param list assignments: A list of dictionaries of role assignments. :returns: A list of flattened/normalized role assignment dicts. """""" new_assignments = [] for assignment in assignments: new_val = munch.Munch({'id': assignment['role']['id']}) for scope in ('project', 'domain'): if scope in assignment['scope']: new_val[scope] = assignment['scope'][scope]['id'] for assignee in ('user', 'group'): if assignment[assignee]: new_val[assignee] = assignment[assignee]['id'] new_assignments.append(new_val) return new_assignments def normalize_flavor_accesses(flavor_accesses): """"""Normalize Flavor access list."""""" return [munch.Munch( dict( flavor_id=acl.get('flavor_id'), project_id=acl.get('project_id') or acl.get('tenant_id'), ) ) for acl in flavor_accesses ] ",0,130
openstack%2Ftripleo-heat-templates~master~Iffa17383d7e34ef0a911b8d6013f5b76bab059a9,openstack/tripleo-heat-templates,master,Iffa17383d7e34ef0a911b8d6013f5b76bab059a9,Remove redundant *_migration_ssh_inbound_addr,MERGED,2022-05-22 12:45:23.000000000,2022-06-05 19:42:54.000000000,2022-06-05 19:42:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2022-05-22 12:45:23.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de96a96f4b4d2739e054bace714521903a555246', 'message': 'Remove redundant *_migration_ssh_inbound_addr\n\nThe cold/live_migration_ssh_inbound_addr parameter in hieradata is used\nonly in the same template file. This change replaces the reference\nto the hieradata keys by passing the values directly.\n\nChange-Id: Iffa17383d7e34ef0a911b8d6013f5b76bab059a9\n'}]",4,842859,de96a96f4b4d2739e054bace714521903a555246,24,6,1,9816,,,0,"Remove redundant *_migration_ssh_inbound_addr

The cold/live_migration_ssh_inbound_addr parameter in hieradata is used
only in the same template file. This change replaces the reference
to the hieradata keys by passing the values directly.

Change-Id: Iffa17383d7e34ef0a911b8d6013f5b76bab059a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/842859/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,de96a96f4b4d2739e054bace714521903a555246,sshd-refactor," - str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, NovaApiNetwork]} - str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, NovaLibvirtNetwork]}"," - ""%{lookup('cold_migration_ssh_inbound_addr')}"" - ""%{lookup('live_migration_ssh_inbound_addr')}"" live_migration_ssh_inbound_addr: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, NovaLibvirtNetwork]} cold_migration_ssh_inbound_addr: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, NovaApiNetwork]}",10,14
openstack%2Frequirements~master~If9dbbb0e681d6f1c7dca61fe892b10f81f0abb1c,openstack/requirements,master,If9dbbb0e681d6f1c7dca61fe892b10f81f0abb1c,Update upper-constraints for amqp to 5.1.0,ABANDONED,2022-03-07 18:57:48.000000000,2022-06-05 19:10:40.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-07 18:57:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a67d2e78cad98ca7551e5671ef9d8c1e73326e67', 'message': 'Update upper-constraints for amqp to 5.1.0\n\namqp v5.1.0 solved a performance issue of the previous version[1].\n\n[1] https://github.com/celery/py-amqp/pull/385\n\nChange-Id: If9dbbb0e681d6f1c7dca61fe892b10f81f0abb1c\n'}]",0,832304,a67d2e78cad98ca7551e5671ef9d8c1e73326e67,5,2,1,28159,,,0,"Update upper-constraints for amqp to 5.1.0

amqp v5.1.0 solved a performance issue of the previous version[1].

[1] https://github.com/celery/py-amqp/pull/385

Change-Id: If9dbbb0e681d6f1c7dca61fe892b10f81f0abb1c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/832304/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a67d2e78cad98ca7551e5671ef9d8c1e73326e67,bump-amqp,amqp===5.1.0,amqp===5.0.9,1,1
openstack%2Frequirements~master~I4943a15cc7da4d32262c96e0e7b4e3b2cac6abd7,openstack/requirements,master,I4943a15cc7da4d32262c96e0e7b4e3b2cac6abd7,Remove zipp cap,ABANDONED,2022-05-25 16:26:08.000000000,2022-06-05 19:04:16.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 16:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/99f1453fcd7664cb79de94474bdef61ba662cdff', 'message': ""Remove zipp cap\n\nWe no longer care about Python 3.5 (and haven't for some time).\n\nChange-Id: I4943a15cc7da4d32262c96e0e7b4e3b2cac6abd7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-05-31 11:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/739ea7c5ce4989bba26cf6c7eeccf46426a0acb0', 'message': ""Remove zipp cap\n\nWe no longer care about Python 3.5 (and haven't for some time).\n\nChange-Id: I4943a15cc7da4d32262c96e0e7b4e3b2cac6abd7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,843316,739ea7c5ce4989bba26cf6c7eeccf46426a0acb0,10,2,2,15334,,,0,"Remove zipp cap

We no longer care about Python 3.5 (and haven't for some time).

Change-Id: I4943a15cc7da4d32262c96e0e7b4e3b2cac6abd7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/843316/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,99f1453fcd7664cb79de94474bdef61ba662cdff,uncap-importlib-metadata,zipp # MIT,"# NOTE(yoctozepto): To avoid repeated breakage (this is a dep of deps) # (gmann): Few branchless tools like hacking, stackviz, OpenStackSDK, and # Keystoneauth keeping the support of py3.5 so we need to have zipp cap for # < py3.6. We need to keep it until we completely drop py3.5 from OpenStack. # https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html#projects-keeping-py3-5-support zipp<2;python_version<'3.6' # MIT zipp;python_version>='3.6' # MIT",1,7
openstack%2Fopenstacksdk~master~I44d61136387acabb9fa8fee5009be637fa8fbaee,openstack/openstacksdk,master,I44d61136387acabb9fa8fee5009be637fa8fbaee,Fix object upload for RAX,MERGED,2022-06-02 10:20:05.000000000,2022-06-05 18:47:29.000000000,2022-06-05 18:45:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-02 10:20:05.000000000', 'files': ['openstack/object_store/v1/obj.py', 'openstack/tests/unit/cloud/test_object.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/db84b7559cb50d734842c95fcd8f283c897cc780', 'message': 'Fix object upload for RAX\n\nIn Rackspace Swift it is required to set access-control-allow-origin\nheader instead of x-object-meta-access-control-allow-origin. Since with\nswitch to the proxy layer we now do more validation it is being simply\nignored and that hurts when Zuul uploads logs to rax. Fix this by\nregistering this header with explicit test.\n\nChange-Id: I44d61136387acabb9fa8fee5009be637fa8fbaee\n'}]",1,844414,db84b7559cb50d734842c95fcd8f283c897cc780,9,2,1,27900,,,0,"Fix object upload for RAX

In Rackspace Swift it is required to set access-control-allow-origin
header instead of x-object-meta-access-control-allow-origin. Since with
switch to the proxy layer we now do more validation it is being simply
ignored and that hurts when Zuul uploads logs to rax. Fix this by
registering this header with explicit test.

Change-Id: I44d61136387acabb9fa8fee5009be637fa8fbaee
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/844414/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/object_store/v1/obj.py', 'openstack/tests/unit/cloud/test_object.py']",2,db84b7559cb50d734842c95fcd8f283c897cc780,," def test_update_container_cors(self): headers = { 'X-Container-Meta-Web-Index': 'index.html', 'X-Container-Meta-Access-Control-Allow-Origin': '*' } self.register_uris([ dict(method='POST', uri=self.container_endpoint, status_code=204, validate=dict(headers=headers))]) self.cloud.update_container(self.container, headers=headers) self.assert_calls() def test_create_object_index_rax(self): self.register_uris([ dict(method='PUT', uri='{endpoint}/{container}/{object}'.format( endpoint=self.endpoint, container=self.container, object='index.html'), status_code=201, validate=dict( headers={ 'access-control-allow-origin': '*', 'content-type': 'text/html' })) ]) headers = { 'access-control-allow-origin': '*', 'content-type': 'text/html' } self.cloud.create_object( self.container, name='index.html', data='', **headers) self.assert_calls() ",,46,2
openstack%2Fopenstacksdk~master~I3a613c44230d9c6ac39980ce44196acec14fa31d,openstack/openstacksdk,master,I3a613c44230d9c6ac39980ce44196acec14fa31d,Do not log to stdout by default,MERGED,2022-05-23 12:22:18.000000000,2022-06-05 18:46:33.000000000,2022-06-05 18:45:14.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-23 12:22:18.000000000', 'files': ['openstack/_log.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f088362797b93951c5b583d14678d9cf077bbc9c', 'message': 'Do not log to stdout by default\n\nStdout is for program output, not for logging. By sending log messages\nto stdout, openstacksdk breaks CLI output.\n\nChange-Id: I3a613c44230d9c6ac39980ce44196acec14fa31d\n'}]",2,842967,f088362797b93951c5b583d14678d9cf077bbc9c,12,2,1,10239,,,0,"Do not log to stdout by default

Stdout is for program output, not for logging. By sending log messages
to stdout, openstacksdk breaks CLI output.

Change-Id: I3a613c44230d9c6ac39980ce44196acec14fa31d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/67/842967/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/_log.py'],1,f088362797b93951c5b583d14678d9cf077bbc9c,stderr, stream = sys.stderr, stream = sys.stdout,1,1
openstack%2Fopenstack-ansible-os_swift~stable%2Fwallaby~If0e686352e08379027508c2939fae00db6ae6cb8,openstack/openstack-ansible-os_swift,stable/wallaby,If0e686352e08379027508c2939fae00db6ae6cb8,Sync rings to all swift hosts to build_files,MERGED,2022-06-04 11:43:05.000000000,2022-06-05 18:23:28.000000000,2022-06-05 18:22:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-04 11:43:05.000000000', 'files': ['tasks/swift_rings_distribute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/164ddfdff48e8a87f62290150439f59530acaa60', 'message': ""Sync rings to all swift hosts to build_files\n\nIn previous patch [1] I wrongly assumed that there's no reason to have\n/etc/swift/ring_build_files/\non all hosts. However, there's another logic in the role, that assumes\nhaving these files and verifying md5sum of them.\n\nAs an easy bugfix, we're returning sync to ring_build_files until we\nchange logic. It's also easily backportable.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/765354\n\nChange-Id: If0e686352e08379027508c2939fae00db6ae6cb8\nCloses-Bug: #1973045\n(cherry picked from commit 7b02afd3ce1ddff3be8e62e88dd7528541cbebca)\n""}]",0,844483,164ddfdff48e8a87f62290150439f59530acaa60,8,3,1,28619,,,0,"Sync rings to all swift hosts to build_files

In previous patch [1] I wrongly assumed that there's no reason to have
/etc/swift/ring_build_files/
on all hosts. However, there's another logic in the role, that assumes
having these files and verifying md5sum of them.

As an easy bugfix, we're returning sync to ring_build_files until we
change logic. It's also easily backportable.

[1] https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/765354

Change-Id: If0e686352e08379027508c2939fae00db6ae6cb8
Closes-Bug: #1973045
(cherry picked from commit 7b02afd3ce1ddff3be8e62e88dd7528541cbebca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/83/844483/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_rings_distribute.yml'],1,164ddfdff48e8a87f62290150439f59530acaa60,bug/1973045-stable/wallaby," dest: ""{{ item }}"" with_items: - /etc/swift/ - /etc/swift/ring_build_files/", dest: /etc/swift/,4,1
openstack%2Fopenstack-ansible-os_swift~stable%2Fxena~If0e686352e08379027508c2939fae00db6ae6cb8,openstack/openstack-ansible-os_swift,stable/xena,If0e686352e08379027508c2939fae00db6ae6cb8,Sync rings to all swift hosts to build_files,MERGED,2022-06-04 11:42:53.000000000,2022-06-05 18:23:19.000000000,2022-06-05 18:22:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-04 11:42:53.000000000', 'files': ['tasks/swift_rings_distribute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/00ff0ab35df9875ef439b648514892a85671e312', 'message': ""Sync rings to all swift hosts to build_files\n\nIn previous patch [1] I wrongly assumed that there's no reason to have\n/etc/swift/ring_build_files/\non all hosts. However, there's another logic in the role, that assumes\nhaving these files and verifying md5sum of them.\n\nAs an easy bugfix, we're returning sync to ring_build_files until we\nchange logic. It's also easily backportable.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/765354\n\nChange-Id: If0e686352e08379027508c2939fae00db6ae6cb8\nCloses-Bug: #1973045\n(cherry picked from commit 7b02afd3ce1ddff3be8e62e88dd7528541cbebca)\n""}]",0,844482,00ff0ab35df9875ef439b648514892a85671e312,8,3,1,28619,,,0,"Sync rings to all swift hosts to build_files

In previous patch [1] I wrongly assumed that there's no reason to have
/etc/swift/ring_build_files/
on all hosts. However, there's another logic in the role, that assumes
having these files and verifying md5sum of them.

As an easy bugfix, we're returning sync to ring_build_files until we
change logic. It's also easily backportable.

[1] https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/765354

Change-Id: If0e686352e08379027508c2939fae00db6ae6cb8
Closes-Bug: #1973045
(cherry picked from commit 7b02afd3ce1ddff3be8e62e88dd7528541cbebca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/82/844482/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_rings_distribute.yml'],1,00ff0ab35df9875ef439b648514892a85671e312,bug/1973045-stable/xena," dest: ""{{ item }}"" with_items: - /etc/swift/ - /etc/swift/ring_build_files/", dest: /etc/swift/,4,1
openstack%2Fopenstacksdk~feature%2Fr1~I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed,openstack/openstacksdk,feature/r1,I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed,Rework caching,ABANDONED,2021-08-24 13:31:17.000000000,2022-06-05 17:16:13.000000000,,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/15b381ce328f7c619876d992cd6c013e55c2dc26', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 2, 'created': '2021-08-24 15:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e2e80bd83a64be6ec3e8db3fd0614aeac0d2a2df', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 3, 'created': '2021-08-25 09:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8a015e631d88d7b5435f6a99e2b998765cd9f770', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 4, 'created': '2021-08-25 16:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e0bf415aa4c39f3b7c16a32d46393702fa37c79', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 5, 'created': '2021-08-26 07:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8196cd25c26be714973514bdd64b9c7bb4033319', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 6, 'created': '2021-08-26 13:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e54df34f05b1b895f8fbbe80dd05d24236673801', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 7, 'created': '2021-11-03 17:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b214e7069c00e8e8550b56dc0c1f1129b95450bb', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 8, 'created': '2021-12-31 14:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/299bec8f480772835a24121d96a9d3b63c817ba5', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 9, 'created': '2021-12-31 15:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/68b75f0ac176e6e5d6fef5886ff493c717c28ddd', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 10, 'created': '2022-04-13 11:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2098176f9ba7f534f776a0f8c2fa14ad595c39a0', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}, {'number': 11, 'created': '2022-04-13 14:33:16.000000000', 'files': ['openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/common/test_quota_set.py', 'openstack/proxy.py', 'openstack/tests/unit/test_proxy.py', 'releasenotes/notes/basic-api-cache-4ad8cf2754b004d1.yaml', 'openstack/resource.py', 'openstack/tests/unit/message/v2/test_queue.py', 'openstack/message/v2/subscription.py', 'openstack/tests/unit/key_manager/v1/test_secret.py', 'doc/source/user/config/configuration.rst', 'openstack/cloud/openstackcloud.py', 'openstack/orchestration/v1/stack.py', 'openstack/object_store/v1/info.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/message/v2/test_claim.py', 'openstack/message/v2/queue.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/tests/unit/message/v2/test_message.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/compute/v2/limits.py', 'openstack/tests/unit/message/v2/test_subscription.py', 'openstack/tests/unit/test_resource.py', 'openstack/key_manager/v1/secret.py', 'openstack/message/v2/claim.py', 'openstack/message/v2/message.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3124f6f62c7138ffd681cdb08e63a9116294bda2', 'message': 'Rework caching\n\nReplace caching solution:\n- cache on the proxy layer (API communication)\n- support caching all GET calls\n- add possibility to bypass cache (important for _wait_for_ operations)\n\nChange-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed\n'}]",25,805851,3124f6f62c7138ffd681cdb08e63a9116294bda2,32,3,11,27900,,,0,"Rework caching

Replace caching solution:
- cache on the proxy layer (API communication)
- support caching all GET calls
- add possibility to bypass cache (important for _wait_for_ operations)

Change-Id: I2c8ae2c59d15c750ea8ebd3031ffdd2ced2421ed
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/805851/10 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/openstackcloud.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/resource.py', 'openstack/proxy.py', 'openstack/connection.py', 'openstack/cloud/_block_storage.py']",6,15b381ce328f7c619876d992cd6c013e55c2dc26,sdk_r1, # @ _utils.cache_on_arguments(should_cache_fn=_no_pending_volumes) # self.list_volumes.invalidate(self) # self.list_volumes.invalidate(self) # self.list_volumes.invalidate(self), @_utils.cache_on_arguments(should_cache_fn=_no_pending_volumes) self.list_volumes.invalidate(self) self.list_volumes.invalidate(self) self.list_volumes.invalidate(self),129,51
openstack%2Fhacking~master~Ia17d6978f4d7db776d986b75c3879cb9dc672e08,openstack/hacking,master,Ia17d6978f4d7db776d986b75c3879cb9dc672e08,Add support for flake8 4.x,MERGED,2021-11-04 11:56:41.000000000,2022-06-05 16:54:31.000000000,2022-06-05 16:52:51.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-04 11:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/4cc40fed7d8437f12a844fb171410441f549a5b2', 'message': 'Add support for flake8 4.x\n\nChange-Id: Ia17d6978f4d7db776d986b75c3879cb9dc672e08\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-06-03 07:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/322460fb67c374d3beefffe2660b63d07ac1c22c', 'message': 'Add support for flake8 4.x\n\nChange-Id: Ia17d6978f4d7db776d986b75c3879cb9dc672e08\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-06-03 07:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/b9b95fd86ec223a004040db53480ae9b18a4ca22', 'message': 'Add support for flake8 4.x\n\nChange-Id: Ia17d6978f4d7db776d986b75c3879cb9dc672e08\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2022-06-03 09:42:18.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/hacking/commit/a6b9aabca57c03ade8e26a3f765f1381a37a6d8b', 'message': 'Add support for flake8 4.x\n\nflake 4 dropped support for py35 so this patch drops py35 support from\nhacking too\n\nChange-Id: Ia17d6978f4d7db776d986b75c3879cb9dc672e08\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",4,816676,a6b9aabca57c03ade8e26a3f765f1381a37a6d8b,17,5,4,15334,,,0,"Add support for flake8 4.x

flake 4 dropped support for py35 so this patch drops py35 support from
hacking too

Change-Id: Ia17d6978f4d7db776d986b75c3879cb9dc672e08
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/hacking refs/changes/76/816676/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4cc40fed7d8437f12a844fb171410441f549a5b2,trivial,flake8~=4.0.2 # MIT,"flake8<3.9.0,>=3.8.0 # MIT",1,1
openstack%2Fironic-python-agent~bugfix%2F8.3~I9a445e847d282c50adfa4bad5e7136776861005d,openstack/ironic-python-agent,bugfix/8.3,I9a445e847d282c50adfa4bad5e7136776861005d,Do not try to guess EFI partition path by its number,MERGED,2022-05-19 16:18:40.000000000,2022-06-05 06:40:00.000000000,2022-06-05 06:38:26.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-19 16:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/abec0451f23e8da85f44cd995c6b8d7db4000a01', 'message': 'Do not try to guess EFI partition path by its number\n\nThe logic of adding a partition number to the device path does not work\nfor devicemapper devices (e.g. a multipath storage device).\n\nConflicts: ironic_python_agent/efi_utils.py\n\nChange-Id: I9a445e847d282c50adfa4bad5e7136776861005d\n(cherry picked from commit f09f6c9f1a09c7062d0450b3e0a4d3164fd53f7f)\n(cherry picked from commit 0ab9abd449c0438bfead7bece150df871c5ed95a)\n'}, {'number': 2, 'created': '2022-06-04 06:00:10.000000000', 'files': ['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/efi-partuuid-5fe933a462eeede1.yaml', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c8adc47f4885ceb1b7442df44813b425f4d279f8', 'message': 'Do not try to guess EFI partition path by its number\n\nThe logic of adding a partition number to the device path does not work\nfor devicemapper devices (e.g. a multipath storage device).\n\nConflicts: ironic_python_agent/efi_utils.py\n\nChange-Id: I9a445e847d282c50adfa4bad5e7136776861005d\n(cherry picked from commit f09f6c9f1a09c7062d0450b3e0a4d3164fd53f7f)\n(cherry picked from commit 0ab9abd449c0438bfead7bece150df871c5ed95a)\n'}]",1,842563,c8adc47f4885ceb1b7442df44813b425f4d279f8,17,4,2,15519,,,0,"Do not try to guess EFI partition path by its number

The logic of adding a partition number to the device path does not work
for devicemapper devices (e.g. a multipath storage device).

Conflicts: ironic_python_agent/efi_utils.py

Change-Id: I9a445e847d282c50adfa4bad5e7136776861005d
(cherry picked from commit f09f6c9f1a09c7062d0450b3e0a4d3164fd53f7f)
(cherry picked from commit 0ab9abd449c0438bfead7bece150df871c5ed95a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/63/842563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/efi-partuuid-5fe933a462eeede1.yaml', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",5,abec0451f23e8da85f44cd995c6b8d7db4000a01,efi," SGDISK_INFO_TEMPLATE = ("""""" Partition GUID code: C12A7328-F81F-11D2-BA4B-00A0C93EC93B (EFI system partition) Partition unique GUID: FAED7408-6D92-4FC6-883B-9069E2274ECA First sector: 2048 (at 1024.0 KiB) Last sector: 1050623 (at 513.0 MiB) Partition size: 1048576 sectors (512.0 MiB) Attribute flags: 0000000000000000 Partition name: 'EFI System Partition' """""") # noqa",,142,58
openstack%2Fvenus~master~Ib16c6ffbffa6dde7e0a14b8a583d072f14e965a0,openstack/venus,master,Ib16c6ffbffa6dde7e0a14b8a583d072f14e965a0,The Python 3.6 and Python 3.7 Support has been dropped since zed,MERGED,2022-06-05 01:00:39.000000000,2022-06-05 06:03:50.000000000,2022-06-05 06:02:43.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-06-05 01:00:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/35d013d1f58d5b7e3a0d81b7db015ffddcf6073d', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since zed\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ib16c6ffbffa6dde7e0a14b8a583d072f14e965a0\n'}]",1,844708,35d013d1f58d5b7e3a0d81b7db015ffddcf6073d,7,2,1,31827,,,0,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ib16c6ffbffa6dde7e0a14b8a583d072f14e965a0
",git fetch https://review.opendev.org/openstack/venus refs/changes/08/844708/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,35d013d1f58d5b7e3a0d81b7db015ffddcf6073d,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fnova~master~I6bb57a98382aa761e448abe5ebbbbc6173b177d0,openstack/nova,master,I6bb57a98382aa761e448abe5ebbbbc6173b177d0,Reset the instance's task_state to None when the status is error,NEW,2022-04-22 07:32:47.000000000,2022-06-05 03:30:43.000000000,,"[{'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-04-22 07:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a60ea67167f41dacf4fddd5a3818983cd493870a', 'message': ""Reset the instance's task_state to None when the status is error\n\nThis will be more reasonable to reset the task_state to be None,\nwhen the instance's action cause the instance status to be error.\n\nChange-Id: I6bb57a98382aa761e448abe5ebbbbc6173b177d0\n""}, {'number': 2, 'created': '2022-04-22 09:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a9d88591c5f2484a0f4d66a170cbbd676bddbf8', 'message': ""Reset the instance's task_state to None when the status is error\n\nThis will be more reasonable to reset the task_state to be None,\nwhen the instance's action cause the instance status to be error.\n\nChange-Id: I6bb57a98382aa761e448abe5ebbbbc6173b177d0\n""}, {'number': 3, 'created': '2022-04-26 01:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65c104f80b0aeae9c3bc17ef93118d5661e0d693', 'message': ""Reset the instance's task_state to None when the status is error\n\nThis will be more reasonable to reset the task_state to be None,\nwhen the instance's action cause the instance status to be error.\n\nChange-Id: I6bb57a98382aa761e448abe5ebbbbc6173b177d0\n""}, {'number': 4, 'created': '2022-06-05 01:05:21.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'releasenotes/notes/rm_clean_task_state-a26c38cbda44a55f.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62a94e7d58197f820e0f204fe823285f7d85034d', 'message': ""Reset the instance's task_state to None when the status is error\n\nThis will be more reasonable to reset the task_state to be None,\nwhen the instance's action cause the instance status to be error.\n\nChange-Id: I6bb57a98382aa761e448abe5ebbbbc6173b177d0\n""}]",3,838991,62a94e7d58197f820e0f204fe823285f7d85034d,36,6,4,31827,,,0,"Reset the instance's task_state to None when the status is error

This will be more reasonable to reset the task_state to be None,
when the instance's action cause the instance status to be error.

Change-Id: I6bb57a98382aa761e448abe5ebbbbc6173b177d0
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/838991/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,a60ea67167f41dacf4fddd5a3818983cd493870a,," def _set_instance_obj_error_state(self, instance): instance.task_state = None self._set_instance_obj_error_state(instance) self._set_instance_obj_error_state(instance) self._set_instance_obj_error_state(instance) self._set_instance_obj_error_state(instance) self._set_instance_obj_error_state(instance) self._set_instance_obj_error_state(instance)"," def _set_instance_obj_error_state(self, instance, clean_task_state=False): if clean_task_state: instance.task_state = None self._set_instance_obj_error_state(instance, clean_task_state=True) self._set_instance_obj_error_state(instance, clean_task_state=True) self._set_instance_obj_error_state( instance, clean_task_state=True) self._set_instance_obj_error_state(instance, clean_task_state=True) self._set_instance_obj_error_state(instance, clean_task_state=True) self._set_instance_obj_error_state(instance, clean_task_state=True)",13,27
openstack%2Ffreezer-tempest-plugin~master~I101a3fea0bdfb29694f06ced33cbac6cc6c72bdd,openstack/freezer-tempest-plugin,master,I101a3fea0bdfb29694f06ced33cbac6cc6c72bdd,remove unicode literal from code,NEW,2022-06-05 02:52:16.000000000,2022-06-05 02:58:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-05 02:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/c8780331aea841cbe6802f2180bb2ebaa203b964', 'message': 'All strings are considered as unicode literal string from Python 3.\n\nChange-Id: I101a3fea0bdfb29694f06ced33cbac6cc6c72bdd\n'}, {'number': 2, 'created': '2022-06-05 02:53:40.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/daae3c4b162d60692812c63071d37f407b0e234e', 'message': ""remove unicode literal from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I101a3fea0bdfb29694f06ced33cbac6cc6c72bdd\n""}]",0,844731,daae3c4b162d60692812c63071d37f407b0e234e,3,1,2,33881,,,0,"remove unicode literal from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I101a3fea0bdfb29694f06ced33cbac6cc6c72bdd
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/31/844731/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,c8780331aea841cbe6802f2180bb2ebaa203b964,,"project = 'freezer Release Notes' copyright = '2016, OpenStack Foundation' ('index', 'GlanceReleaseNotes.tex', 'Glance Release Notes Documentation', 'Glance Developers', 'manual'), ('index', 'glancereleasenotes', 'Glance Release Notes Documentation', ['Glance Developers'], 1) ('index', 'GlanceReleaseNotes', 'Glance Release Notes Documentation', 'Glance Developers', 'GlanceReleaseNotes',","project = u'freezer Release Notes' copyright = u'2016, OpenStack Foundation' ('index', 'GlanceReleaseNotes.tex', u'Glance Release Notes Documentation', u'Glance Developers', 'manual'), ('index', 'glancereleasenotes', u'Glance Release Notes Documentation', [u'Glance Developers'], 1) ('index', 'GlanceReleaseNotes', u'Glance Release Notes Documentation', u'Glance Developers', 'GlanceReleaseNotes',",12,12
openstack%2Fdesignate~master~Ie4f224372b946197e13052d2f0cb6a5cf1f4208c,openstack/designate,master,Ie4f224372b946197e13052d2f0cb6a5cf1f4208c,Update python testing as per zed cycle testing runtime,ABANDONED,2022-06-04 09:17:11.000000000,2022-06-05 02:45:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 09:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9a6d8a14c546a3bf5c52d3a188e91b3bed34caa4', 'message': 'Update python testing as per zed cycle testing runtime\n\nChange-Id: Ie4f224372b946197e13052d2f0cb6a5cf1f4208c\n'}, {'number': 2, 'created': '2022-06-04 09:17:51.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-5fcf0656c242f698.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/3a8d55ede139c2e94e466d9a3b8db47431c60ee3', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ie4f224372b946197e13052d2f0cb6a5cf1f4208c\n'}]",0,844698,3a8d55ede139c2e94e466d9a3b8db47431c60ee3,4,1,2,33161,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ie4f224372b946197e13052d2f0cb6a5cf1f4208c
",git fetch https://review.opendev.org/openstack/designate refs/changes/98/844698/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-5fcf0656c242f698.yaml', 'setup.cfg']",2,9a6d8a14c546a3bf5c52d3a188e91b3bed34caa4,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,6,3
openstack%2Fadjutant~master~I0db0dc0a790a42ca3364192364f4292804277943,openstack/adjutant,master,I0db0dc0a790a42ca3364192364f4292804277943,setup.cfg: Replace dashes with underscores,ABANDONED,2022-06-05 02:01:06.000000000,2022-06-05 02:38:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-05 02:01:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6dad04fbed90945c7b6c132987e1adbd55d896e9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: Ib5cda21bf2bf02d048f8c33ae987557477c44775\n\nChange-Id: I0db0dc0a790a42ca3364192364f4292804277943\n""}]",0,844718,6dad04fbed90945c7b6c132987e1adbd55d896e9,3,1,1,33950,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: Ib5cda21bf2bf02d048f8c33ae987557477c44775

Change-Id: I0db0dc0a790a42ca3364192364f4292804277943
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/18/844718/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6dad04fbed90945c7b6c132987e1adbd55d896e9,,author_email = openstack-discuss@lists.openstack.orgdescription_file = package_readme.rst description_content_type = text/x-rst; charset=UTF-8 home_page = https://opendev.org/openstack/adjutant,author-email = openstack-discuss@lists.openstack.orgdescription-file = package_readme.rst description-content-type = text/x-rst; charset=UTF-8 home-page = https://opendev.org/openstack/adjutant,4,4
openstack%2Fxstatic-mdi~master~I96d479fede636cce9e10082b9830e37e89773bdf,openstack/xstatic-mdi,master,I96d479fede636cce9e10082b9830e37e89773bdf,setup.cfg: Replace dashes with underscores,NEW,2022-06-05 02:25:39.000000000,2022-06-05 02:36:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-05 02:25:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/xstatic-mdi/commit/4150452fc9de23795fe6246cee2a38da26a0efa3', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: Ief41b14b4efb66d22a655d6822498620ff0478be\n\nChange-Id: I96d479fede636cce9e10082b9830e37e89773bdf\n""}]",0,844728,4150452fc9de23795fe6246cee2a38da26a0efa3,2,1,1,33950,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: Ief41b14b4efb66d22a655d6822498620ff0478be

Change-Id: I96d479fede636cce9e10082b9830e37e89773bdf
",git fetch https://review.opendev.org/openstack/xstatic-mdi refs/changes/28/844728/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4150452fc9de23795fe6246cee2a38da26a0efa3,,description_file = README.rstmaintainer_email = robert.cresswell@outlook.com home_page = http://materialdesignicons.com,description-file = README.rstmaintainer-email = robert.cresswell@outlook.com home-page = http://materialdesignicons.com,3,3
openstack%2Fxstatic-roboto-fontface~master~Id3612ebd6340cfdfcb5b0d3990c6877ccc97a333,openstack/xstatic-roboto-fontface,master,Id3612ebd6340cfdfcb5b0d3990c6877ccc97a333,setup.cfg: Replace dashes with underscores,NEW,2022-06-05 02:22:31.000000000,2022-06-05 02:30:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-05 02:22:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/xstatic-roboto-fontface/commit/ce74c4c756e87e6b7adba63d0f21c7d0d8910225', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I1b4b1cdbc9624b0a4f460858bd6ecca114028c76\n\nChange-Id: Id3612ebd6340cfdfcb5b0d3990c6877ccc97a333\n""}]",0,844727,ce74c4c756e87e6b7adba63d0f21c7d0d8910225,2,1,1,33950,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I1b4b1cdbc9624b0a4f460858bd6ecca114028c76

Change-Id: Id3612ebd6340cfdfcb5b0d3990c6877ccc97a333
",git fetch https://review.opendev.org/openstack/xstatic-roboto-fontface refs/changes/27/844727/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ce74c4c756e87e6b7adba63d0f21c7d0d8910225,,description_file = README.rstmaintainer_email = robert.cresswell@outlook.com home_page = https://github.com/choffmeister/roboto-fontface-bower,description-file = README.rstmaintainer-email = robert.cresswell@outlook.com home-page = https://github.com/choffmeister/roboto-fontface-bower,3,3
openstack%2Fzaqar-specs~master~I4ce5eccdf3eac7ec5a8aaa9c60091577d446e22c,openstack/zaqar-specs,master,I4ce5eccdf3eac7ec5a8aaa9c60091577d446e22c,setup.cfg: Replace dashes with underscores,NEW,2022-06-05 02:13:17.000000000,2022-06-05 02:27:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-05 02:13:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/855c83bb0720f33d6f0fe6d43993f0315c21babf', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I85d48a565bc05da698683873b75cffe7a8b0289b\n\nChange-Id: I4ce5eccdf3eac7ec5a8aaa9c60091577d446e22c\n""}]",0,844723,855c83bb0720f33d6f0fe6d43993f0315c21babf,2,1,1,33950,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I85d48a565bc05da698683873b75cffe7a8b0289b

Change-Id: I4ce5eccdf3eac7ec5a8aaa9c60091577d446e22c
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/23/844723/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,855c83bb0720f33d6f0fe6d43993f0315c21babf,,description_file =author_email = openstack-dev@lists.openstack.org home_page = https://specs.openstack.org/openstack/zaqar-specs/,description-file =author-email = openstack-dev@lists.openstack.org home-page = https://specs.openstack.org/openstack/zaqar-specs/,3,3
openstack%2Fperformance-docs~master~Ifdfae1376274ef15ab195789852e6f589dbfcda9,openstack/performance-docs,master,Ifdfae1376274ef15ab195789852e6f589dbfcda9,setup.cfg: Replace dashes with underscores,NEW,2022-06-05 01:55:40.000000000,2022-06-05 02:16:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-05 01:55:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/af78980154de088247eb09894602f7d1a0df9962', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ifdfae1376274ef15ab195789852e6f589dbfcda9\n""}]",0,844717,af78980154de088247eb09894602f7d1a0df9962,2,1,1,33950,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ifdfae1376274ef15ab195789852e6f589dbfcda9
",git fetch https://review.opendev.org/openstack/performance-docs refs/changes/17/844717/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,af78980154de088247eb09894602f7d1a0df9962,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/performance-docs/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/performance-docs/latest/,3,3
openstack%2Fnova~master~I60892e6cba3b467f8c684d82e7998ce5ffe77ef3,openstack/nova,master,I60892e6cba3b467f8c684d82e7998ce5ffe77ef3,filter host by switch,NEW,2022-06-04 23:36:31.000000000,2022-06-05 02:03:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 23:36:31.000000000', 'files': ['nova/objects/instance_group.py', 'nova/scheduler/filters/affinity_filter.py', 'nova/tests/unit/scheduler/filters/test_affinity_filters.py', 'nova/tests/unit/scheduler/fakes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56c76704b5c0abdcc90272f452d886fa759faa34', 'message': 'filter host by switch\n\nChange-Id: I60892e6cba3b467f8c684d82e7998ce5ffe77ef3\n'}]",0,844706,56c76704b5c0abdcc90272f452d886fa759faa34,5,1,1,31412,,,0,"filter host by switch

Change-Id: I60892e6cba3b467f8c684d82e7998ce5ffe77ef3
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/844706/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_group.py', 'nova/scheduler/filters/affinity_filter.py', 'nova/tests/unit/scheduler/filters/test_affinity_filters.py', 'nova/tests/unit/scheduler/fakes.py']",4,56c76704b5c0abdcc90272f452d886fa759faa34,," def __init__(self, host, node, attribute_dict, instances=None, switch=None): self.switch = switch if switch else None"," def __init__(self, host, node, attribute_dict, instances=None):",31,8
openstack%2Fcyborg~master~Ie67d2717464b8944b05c06a2ffa39452dba396e8,openstack/cyborg,master,Ie67d2717464b8944b05c06a2ffa39452dba396e8,add pep8 check to zuul check and gate job,MERGED,2022-06-04 07:38:46.000000000,2022-06-05 01:32:21.000000000,2022-06-05 01:28:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-04 07:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/66a07296545228a68a78a21ed1c95ac1df53974d', 'message': 'add pep8 check to zuul check and gate job\n\nChange-Id: Ie67d2717464b8944b05c06a2ffa39452dba396e8\n'}, {'number': 2, 'created': '2022-06-04 09:44:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8cd846a16c2da04c2f204b02b90db814e32acd63', 'message': 'add pep8 check to zuul check and gate job\n\nChange-Id: Ie67d2717464b8944b05c06a2ffa39452dba396e8\n'}]",0,844685,8cd846a16c2da04c2f204b02b90db814e32acd63,10,3,2,26458,,,0,"add pep8 check to zuul check and gate job

Change-Id: Ie67d2717464b8944b05c06a2ffa39452dba396e8
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/85/844685/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,66a07296545228a68a78a21ed1c95ac1df53974d,bug/1977636, - openstack-tox-pep8 - openstack-tox-pep8,,2,0
openstack%2Fcyborg~master~Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd,openstack/cyborg,master,Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd,Drop py3.6 and py3.7 from Cyborg,MERGED,2022-06-04 06:15:55.000000000,2022-06-05 01:31:22.000000000,2022-06-05 01:28:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-04 06:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/fff1db09872b63cc51c1923a837ae85d6c61b44f', 'message': 'Drop py3.6 and py3.7 from Tempest\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, we disscussed in cyborg\nteam, and we will remove the py3.6 and py3.7 support too.\n\nCloses-Bug: #1977636\nChange-Id: Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd\n'}, {'number': 2, 'created': '2022-06-04 06:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e55cb978ec2bb9708acbaef27c978b54c2cba3d0', 'message': 'Drop py3.6 and py3.7 from Cyborg\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, we disscussed in cyborg\nteam, and we will remove the py3.6 and py3.7 support too.\n\nCloses-Bug: #1977636\nChange-Id: Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd\n'}, {'number': 3, 'created': '2022-06-04 06:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f2601c86a823efdd7223314d0c2f55b6d3b1a1b9', 'message': 'Drop py3.6 and py3.7 from Cyborg\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, we disscussed in cyborg\nteam, and we will remove the py3.6 and py3.7 support too.\n\nCloses-Bug: #1977636\nChange-Id: Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd\n'}, {'number': 4, 'created': '2022-06-04 06:52:52.000000000', 'files': ['releasenotes/notes/drop-py-3-6-and-3-7--37951d4a79dffdbd.yaml', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/68c558645c922dbef8f8b0f08fb950f9f11e6228', 'message': 'Drop py3.6 and py3.7 from Cyborg\n\nIn zed cycle, OpenStack projects and oslo lib\nhas dropped the py3.6 and py3.7 support\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith oslo not supporting the py3.6 and py3.7, we disscussed in cyborg\nteam, and we will remove the py3.6 and py3.7 support too.\n\nCloses-Bug: #1977636\nChange-Id: Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd\n'}]",0,844670,68c558645c922dbef8f8b0f08fb950f9f11e6228,11,3,4,26458,,,0,"Drop py3.6 and py3.7 from Cyborg

In zed cycle, OpenStack projects and oslo lib
has dropped the py3.6 and py3.7 support

- https://governance.openstack.org/tc/reference/runtimes/zed.html

With oslo not supporting the py3.6 and py3.7, we disscussed in cyborg
team, and we will remove the py3.6 and py3.7 support too.

Closes-Bug: #1977636
Change-Id: Ib934e50ee6e89cb1e2b4cbf8390eee2baa30effd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/70/844670/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-3-6-and-3-7--37951d4a79dffdbd.yaml', 'setup.cfg']",2,fff1db09872b63cc51c1923a837ae85d6c61b44f,bug/1977636,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,10,3
openstack%2Fcyborg~master~I216da5b653983740a85b698821efa2012981c54b,openstack/cyborg,master,I216da5b653983740a85b698821efa2012981c54b,Bump oslo.log>=5.0.0,MERGED,2022-06-04 06:24:46.000000000,2022-06-05 01:28:54.000000000,2022-06-05 01:28:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-04 06:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b65d08a87743ccf75695a8b70f714d31aaa42516', 'message': 'Bump oslo.log version for py36/py37/py38\n\nChange-Id: I216da5b653983740a85b698821efa2012981c54b\n'}, {'number': 2, 'created': '2022-06-04 07:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/84c3526951d3ff300e622673f850f447a6d027ed', 'message': 'Bump oslo.log version for py36/py37/py38\n\nChange-Id: I216da5b653983740a85b698821efa2012981c54b\n'}, {'number': 3, 'created': '2022-06-04 09:44:31.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8f234fd54a018590e9a6deebe321ceb1a2b2194a', 'message': 'Bump oslo.log>=5.0.0\n\nChange-Id: I216da5b653983740a85b698821efa2012981c54b\n'}]",0,844672,8f234fd54a018590e9a6deebe321ceb1a2b2194a,10,3,3,26458,,,0,"Bump oslo.log>=5.0.0

Change-Id: I216da5b653983740a85b698821efa2012981c54b
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/72/844672/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b65d08a87743ccf75695a8b70f714d31aaa42516,bug/1977636,oslo.log>=4.2.1;python_version=='3.6' oslo.log>=4.2.1;python_version=='3.7' oslo.log>=5.0.0;python_version=='3.8',oslo.log>=1.14.0 # Apache-2.0,3,1
openstack%2Fpuppet-tripleo~master~Iaef89f096e8d51e4250b18541de613cfd404ed0d,openstack/puppet-tripleo,master,Iaef89f096e8d51e4250b18541de613cfd404ed0d,Remove leftover of firewall management by puppet,MERGED,2022-06-02 14:48:01.000000000,2022-06-04 22:13:09.000000000,2022-06-04 22:13:09.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-02 14:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fc68ad02356759365d6e646a8974dcefa9b36813', 'message': 'Remove leftover of firewall management by puppet\n\nThis removes leftover of 373dee4156a628384c774abdbd65e890901d678c ,\nwhich removed all implementations related to firewall management by\npuppet.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: Iaef89f096e8d51e4250b18541de613cfd404ed0d\n'}, {'number': 2, 'created': '2022-06-02 14:52:59.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e6c8502f76865765d9e45fe0f8ad49387985f59a', 'message': 'Remove leftover of firewall management by puppet\n\nThis removes leftover of 373dee4156a628384c774abdbd65e890901d678c ,\nwhich removed all implementations related to firewall management by\npuppet.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: Iaef89f096e8d51e4250b18541de613cfd404ed0d\n'}]",2,844469,e6c8502f76865765d9e45fe0f8ad49387985f59a,14,4,2,9816,,,0,"Remove leftover of firewall management by puppet

This removes leftover of 373dee4156a628384c774abdbd65e890901d678c ,
which removed all implementations related to firewall management by
puppet.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: Iaef89f096e8d51e4250b18541de613cfd404ed0d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/844469/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,fc68ad02356759365d6e646a8974dcefa9b36813,,, # (bandini) We want to make sure that any rule that opens up services takes place # before we invoke pcs commands (see LP#1866209) Firewall<|tag == 'tripleo-firewall-rule'|> -> Exec <|tag == 'pacemaker-auth'|> ,0,4
openstack%2Fdesignate~stable%2Fwallaby~I2b69025fc11125bb73a4e0f8c0dedad951399cbf,openstack/designate,stable/wallaby,I2b69025fc11125bb73a4e0f8c0dedad951399cbf,Checks for invalid denylist regex patterns,MERGED,2022-02-01 18:49:40.000000000,2022-06-04 21:28:49.000000000,2022-06-04 21:27:15.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-02-01 18:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b8fa0a6f356fa5ff7335debbe82c6bb064989f0f', 'message': 'Checks for invalid denylist regex patterns\n\nAdds new field check method DenyListFields to validate\nthe pattern string. in addition, check for a zero\nlength string as well.\n\nCloses-Bug: #1934252\nChange-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf\n'}, {'number': 2, 'created': '2022-06-02 04:34:44.000000000', 'files': ['releasenotes/notes/Fix-to-address-denylist-invalid-patterns-not-being-checked-ec1f1316ccc6cb1d.yaml', 'designate/objects/blacklist.py', 'designate/objects/fields.py', 'designate/tests/test_api/test_v2/test_blacklists.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/a2ff328cd7c47dd53d02bcecf3e16473bdb8ba67', 'message': 'Checks for invalid denylist regex patterns\n\nAdds new field check method DenyListFields to validate\nthe pattern string. in addition, check for a zero\nlength string as well.\n\nCloses-Bug: #1934252\nChange-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf\n'}]",2,827248,a2ff328cd7c47dd53d02bcecf3e16473bdb8ba67,16,4,2,5572,,,0,"Checks for invalid denylist regex patterns

Adds new field check method DenyListFields to validate
the pattern string. in addition, check for a zero
length string as well.

Closes-Bug: #1934252
Change-Id: I2b69025fc11125bb73a4e0f8c0dedad951399cbf
",git fetch https://review.opendev.org/openstack/designate refs/changes/48/827248/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-to-address-denylist-invalid-patterns-not-being-checked-ec1f1316ccc6cb1d.yaml', 'designate/objects/blacklist.py', 'designate/objects/fields.py', 'designate/tests/test_api/test_v2/test_blacklists.py']",4,b8fa0a6f356fa5ff7335debbe82c6bb064989f0f,bug/1934252-stable/xena-stable/wallaby," def test_create_invalid_denylist_pattern(self): self.policy({'create_blacklist': '@'}) body = { 'description': u'This is the description.' } url = '/blacklists/' # doing each pattern individually so upon error one can trace # back to the exact line number body['pattern'] = '' self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) body['pattern'] = '#(*&^%$%$#@$' self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) body['pattern'] = 'a' * 1000 self._assert_exception( 'invalid_object', 400, self.client.post_json, url, body) def test_update_invalid_denylist_pattern(self): blacklist = self.create_blacklist(fixture=0) self.policy({'update_blacklist': '@'}) url = ('/blacklists/%s' % blacklist['id']) # doing each pattern individually so upon error one can trace # back to the exact line number body = {'pattern': ''} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400) body = {'pattern': '#(*&^%$%$#@$'} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400) body = {'pattern': 'a' * 1000} self._assert_exception( 'invalid_object', 400, self.client.patch_json, url, body, status=400)",,85,2
openstack%2Fcinder~stable%2Fwallaby~I078a54a47e43b1cc83b4fb1a8063b41ab35358a1,openstack/cinder,stable/wallaby,I078a54a47e43b1cc83b4fb1a8063b41ab35358a1,Fix: nfs format info limitation,MERGED,2022-05-27 10:03:42.000000000,2022-06-04 16:43:12.000000000,2022-06-04 16:24:43.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 10:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5033b8a3dc47125a86a66b8ef0efab89c0456a81', 'message': 'Fix: nfs format info limitation\n\nFormat info support was added to the nfs driver with change[1]\nand due to a issue with groups, it was restricted for volumes\nwith groups with change[2].\nThis was a problem with OVO handling of consistency groups/volume\ngroups and is fixed in this patch thereby also removing the\nlimitation on nfs driver.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n[2] https://review.opendev.org/c/openstack/cinder/+/780700\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\n\nConflicts:\n    cinder/objects/volume.py\n\nChange-Id: I078a54a47e43b1cc83b4fb1a8063b41ab35358a1\n(cherry picked from commit c69e564c6f6e523ca8b5e6065a0cf015c102bc4d)\n(cherry picked from commit 960aa59621044510df0fb0e779a3e2d0462b88d3)\n'}, {'number': 2, 'created': '2022-05-27 10:18:03.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a473fdf0cba847352d9c8e3f9907638ec9409c5', 'message': 'Fix: nfs format info limitation\n\nFormat info support was added to the nfs driver with change[1]\nand due to a issue with groups, it was restricted for volumes\nwith groups with change[2].\nThis was a problem with OVO handling of consistency groups/volume\ngroups and is fixed in this patch thereby also removing the\nlimitation on nfs driver.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/761152\n[2] https://review.opendev.org/c/openstack/cinder/+/780700\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\n\nConflicts:\n    cinder/objects/volume.py\n\nChange-Id: I078a54a47e43b1cc83b4fb1a8063b41ab35358a1\n(cherry picked from commit c69e564c6f6e523ca8b5e6065a0cf015c102bc4d)\n(cherry picked from commit 960aa59621044510df0fb0e779a3e2d0462b88d3)\n'}]",5,843593,9a473fdf0cba847352d9c8e3f9907638ec9409c5,43,3,2,27615,,,0,"Fix: nfs format info limitation

Format info support was added to the nfs driver with change[1]
and due to a issue with groups, it was restricted for volumes
with groups with change[2].
This was a problem with OVO handling of consistency groups/volume
groups and is fixed in this patch thereby also removing the
limitation on nfs driver.

[1] https://review.opendev.org/c/openstack/cinder/+/761152
[2] https://review.opendev.org/c/openstack/cinder/+/780700

Co-Authored-By: Gorka Eguileor <geguileo@redhat.com>

Conflicts:
    cinder/objects/volume.py

Change-Id: I078a54a47e43b1cc83b4fb1a8063b41ab35358a1
(cherry picked from commit c69e564c6f6e523ca8b5e6065a0cf015c102bc4d)
(cherry picked from commit 960aa59621044510df0fb0e779a3e2d0462b88d3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/843593/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/volume/drivers/remotefs.py']",4,5033b8a3dc47125a86a66b8ef0efab89c0456a81,," volume.admin_metadata['format'] = self.format # This is done here because when creating a volume from image, # while encountering other volume.save() method fails for # non-admins with volume.obj_as_admin(): volume.save()"," if not volume.consistencygroup_id and not volume.group_id: volume.admin_metadata['format'] = self.format # This is done here because when creating a volume from image, # while encountering other volume.save() method fails for # non-admins with volume.obj_as_admin(): volume.save()",69,16
openstack%2Fdevstack-plugin-ceph~stable%2Ftrain~Id11527b17458a77fd0b871279fe7fd099a186242,openstack/devstack-plugin-ceph,stable/train,Id11527b17458a77fd0b871279fe7fd099a186242,[stable-only] Pin cinder-tempest-plugin version for stable/train,MERGED,2022-06-04 05:12:04.000000000,2022-06-04 16:35:40.000000000,2022-06-04 16:34:06.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-04 05:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/062ee94464cea3884d59b7f8b09e9956308a506e', 'message': ""[stable-only] Pin cinder-tempest-plugin version for stable/train\n\nCurrently the devstack-plugin-ceph-tempest job is failing with the\nfollowing errors:\n\n  * AttributeError: 'SnapshotDataIntegrityTests' object has no attribute\n    'create_security_group'\n  * AttributeError: 'TestEncryptedCinderVolumes' object has no\n    attribute 'create_security_group'\n\nThese tests reside in the cinder-tempest-plugin, which is branchless.\nOn stable/train, tempest is pinned to version 26.1.0 [1] and in that\nversion there is not a create_security_group method in\ntempest/scenario/manager.py.\n\nThis pins cinder-tempest-plugin to version 1.3.0 which is compatible\nwith tempest 26.1.0.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/822380\n\nChange-Id: Id11527b17458a77fd0b871279fe7fd099a186242\n""}, {'number': 2, 'created': '2022-06-04 05:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ddbc5e8bf0efd80d36a57a054c9281f90a5eded9', 'message': ""[stable-only] Pin cinder-tempest-plugin version for stable/train\n\nCurrently the devstack-plugin-ceph-tempest job is failing with the\nfollowing errors:\n\n  * AttributeError: 'SnapshotDataIntegrityTests' object has no attribute\n    'create_security_group'\n  * AttributeError: 'TestEncryptedCinderVolumes' object has no\n    attribute 'create_security_group'\n\nThese tests reside in the cinder-tempest-plugin, which is branchless.\nOn stable/train, tempest is pinned to version 26.1.0 [1] and in that\nversion there is not a create_security_group method in\ntempest/scenario/manager.py.\n\nThis pins cinder-tempest-plugin to version 1.3.0 which is compatible\nwith tempest 26.1.0.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/822380\n\nChange-Id: Id11527b17458a77fd0b871279fe7fd099a186242\n""}, {'number': 3, 'created': '2022-06-04 05:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1ccab38f0e11610c3adb04100badef3418276927', 'message': ""[stable-only] Pin cinder-tempest-plugin version for stable/train\n\nCurrently the devstack-plugin-ceph-tempest job is failing with the\nfollowing errors:\n\n  * AttributeError: 'SnapshotDataIntegrityTests' object has no attribute\n    'create_security_group'\n  * AttributeError: 'TestEncryptedCinderVolumes' object has no\n    attribute 'create_security_group'\n\nThese tests reside in the cinder-tempest-plugin, which is branchless.\nOn stable/train, tempest is pinned to version 26.1.0 [1] and in that\nversion there is not a create_security_group method in\ntempest/scenario/manager.py.\n\nThis pins cinder-tempest-plugin to version 1.3.0 which is compatible\nwith tempest 26.1.0.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/822380\n\nChange-Id: Id11527b17458a77fd0b871279fe7fd099a186242\n""}, {'number': 4, 'created': '2022-06-04 06:50:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/921f64aa09193a7224e429950169db5b77fab3d2', 'message': ""[stable-only] Pin cinder-tempest-plugin version for stable/train\n\nCurrently the devstack-plugin-ceph-tempest(-py3) jobs are failing with\nthe following errors:\n\n  * AttributeError: 'SnapshotDataIntegrityTests' object has no attribute\n    'create_security_group'\n  * AttributeError: 'TestEncryptedCinderVolumes' object has no\n    attribute 'create_security_group'\n\nThese tests reside in the cinder-tempest-plugin, which is branchless.\nOn stable/train, tempest is pinned to version 26.1.0 [1] and in that\nversion there is not a create_security_group method in\ntempest/scenario/manager.py.\n\nThis pins cinder-tempest-plugin to version 1.3.0 which is compatible\nwith tempest 26.1.0.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/822380\n\nChange-Id: Id11527b17458a77fd0b871279fe7fd099a186242\n""}]",2,844669,921f64aa09193a7224e429950169db5b77fab3d2,14,3,4,4690,,,0,"[stable-only] Pin cinder-tempest-plugin version for stable/train

Currently the devstack-plugin-ceph-tempest(-py3) jobs are failing with
the following errors:

  * AttributeError: 'SnapshotDataIntegrityTests' object has no attribute
    'create_security_group'
  * AttributeError: 'TestEncryptedCinderVolumes' object has no
    attribute 'create_security_group'

These tests reside in the cinder-tempest-plugin, which is branchless.
On stable/train, tempest is pinned to version 26.1.0 [1] and in that
version there is not a create_security_group method in
tempest/scenario/manager.py.

This pins cinder-tempest-plugin to version 1.3.0 which is compatible
with tempest 26.1.0.

[1] https://review.opendev.org/c/openstack/devstack/+/822380

Change-Id: Id11527b17458a77fd0b871279fe7fd099a186242
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/69/844669/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,062ee94464cea3884d59b7f8b09e9956308a506e,pin-cinder-tempest-plugin, override-checkout: 1.3.0,,1,0
openstack%2Fneutron~stable%2Fwallaby~Icf92685579409282bad0a80ba42531c93738e0b1,openstack/neutron,stable/wallaby,Icf92685579409282bad0a80ba42531c93738e0b1,[OVN] Protect the AgentCache iteration by copying the local cache,MERGED,2022-06-03 07:14:27.000000000,2022-06-04 16:23:16.000000000,2022-06-03 16:53:42.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 07:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29b934482884dc1505d259c4f1d2d2f64945b655', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)\n(cherry picked from commit 19f856034ffb9520f48db230d9e3c96078b3929f)\n'}, {'number': 2, 'created': '2022-06-03 07:22:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9182712672f05d1b2849957c7632d703180c5e0f', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)\n(cherry picked from commit eb562b60a3f128fc45c9a90e1a849efbd6a62c57)\n'}]",2,844552,9182712672f05d1b2849957c7632d703180c5e0f,19,3,2,16688,,,0,"[OVN] Protect the AgentCache iteration by copying the local cache

During the execution of ``AgentCache.__iter__``, the content of
""self.agents"" can change; the Neutron server can attend to an event
to add or delete an OVN agent. If that happens, the iteration will
fail with the error:
  ""RuntimeError: dictionary changed size during iteration""

To avoid this, before iterating the list of agents, the cache
singleton creates a copy of the local cache. The aim of making this
copy is to avoid using locks between threads.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py

Closes-Bug: #1976292
Change-Id: Icf92685579409282bad0a80ba42531c93738e0b1
(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)
(cherry picked from commit eb562b60a3f128fc45c9a90e1a849efbd6a62c57)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/844552/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py']",3,29b934482884dc1505d259c4f1d2d2f64945b655,bug/1976292,"# Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock import eventlet from neutron.common.ovn import constants as ovn_const from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent from neutron.tests import base from neutron.tests.unit import fake_resources as fakes class AgentCacheTestCase(base.BaseTestCase): def setUp(self): super().setUp() self.agent_cache = neutron_agent.AgentCache(driver=mock.ANY) self.addCleanup(self._clean_agent_cache) self.names_ref = [] for i in range(10): # Add 10 agents. chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis' + str(i)}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) self.names_ref.append('chassis' + str(i)) def _clean_agent_cache(self): self.agent_cache.agents = {} def _list_agents(self): self.names_read = [] for idx, agent in enumerate(self.agent_cache): self.names_read.append(agent.agent_id) if idx == 5: # Swap to ""_add_and_delete_agents"" thread. eventlet.sleep(0) def _add_and_delete_agents(self): del self.agent_cache['chassis8'] chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis10'}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) def test_update_while_iterating_agents(self): pool = eventlet.GreenPool(2) pool.spawn(self._list_agents) pool.spawn(self._add_and_delete_agents) pool.waitall() self.assertEqual(self.names_ref, self.names_read) def test_agents_by_chassis_private(self): chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis5'}) agents = self.agent_cache.agents_by_chassis_private(chassis_private) agents = list(agents) self.assertEqual(1, len(agents)) self.assertEqual('chassis5', agents[0].agent_id) ",,79,2
openstack%2Fkeystone~master~I77ed200d1a222659abd1e2f00b9984647b310c43,openstack/keystone,master,I77ed200d1a222659abd1e2f00b9984647b310c43,Do not filter domain list via projects api with domain-scoped token,NEW,2022-06-03 18:53:47.000000000,2022-06-04 12:22:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-03 18:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87803a26b547e33ca88b6d1d2b53b43d1bedaafa', 'message': 'Do not filter domain list via projects api with domain-scoped token\n\nIf project list is requested via /v3/projects with domain-scoped\ntoken, only the project in the domain are being returned. It makes no\nsense when is_domain filter is used, because domains are top-level the\nrequest always returned an empty list.\n\nReturn domain list the same way as if /v3/domains is being used and do\nnot filter out anything. Note: the policies still need to be adjusted by\nthe operators if they wish to allow this kind of request.\n\nCloses-Bug: 1950325\nChange-Id: I77ed200d1a222659abd1e2f00b9984647b310c43\n'}, {'number': 2, 'created': '2022-06-04 10:51:25.000000000', 'files': ['keystone/tests/unit/test_v3_resource.py', 'keystone/api/projects.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/341b0560053afa7a552200098f60ff52774e7998', 'message': 'Do not filter domain list via projects api with domain-scoped token\n\nIf project list is requested via /v3/projects with domain-scoped\ntoken, only the project in the domain are being returned. It makes no\nsense when is_domain filter is used, because domains are top-level the\nrequest always returned an empty list.\n\nReturn domain list the same way as if /v3/domains is being used and do\nnot filter out anything. Note: the policies still need to be adjusted by\nthe operators if they wish to allow this kind of request.\n\nCloses-Bug: 1950325\nChange-Id: I77ed200d1a222659abd1e2f00b9984647b310c43\n'}]",1,844637,341b0560053afa7a552200098f60ff52774e7998,6,1,2,13478,,,0,"Do not filter domain list via projects api with domain-scoped token

If project list is requested via /v3/projects with domain-scoped
token, only the project in the domain are being returned. It makes no
sense when is_domain filter is used, because domains are top-level the
request always returned an empty list.

Return domain list the same way as if /v3/domains is being used and do
not filter out anything. Note: the policies still need to be adjusted by
the operators if they wish to allow this kind of request.

Closes-Bug: 1950325
Change-Id: I77ed200d1a222659abd1e2f00b9984647b310c43
",git fetch https://review.opendev.org/openstack/keystone refs/changes/37/844637/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_resource.py', 'keystone/api/projects.py']",2,87803a26b547e33ca88b6d1d2b53b43d1bedaafa,bug/1950325,from keystone.common import utils # the entries should not be filtered by domain_id if domain list was # requested; otherwise all domains are getting filtered out try: is_domain_requested = utils.attr_as_boolean( flask.request.args['is_domain']) except KeyError: is_domain_requested = False if self.oslo_context.domain_id and not is_domain_requested:, if self.oslo_context.domain_id:,45,1
openstack%2Fironic-python-agent~bugfix%2F8.3~Id7b557419d513375816d73901e2ab6f139d765ad,openstack/ironic-python-agent,bugfix/8.3,Id7b557419d513375816d73901e2ab6f139d765ad,Refactor efi_utils for easier maintaining and debugging,MERGED,2022-05-19 14:49:57.000000000,2022-06-04 12:17:16.000000000,2022-06-04 12:16:14.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-19 14:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1c4c4d58c184bf1595707770c3a31bf038da3316', 'message': 'Refactor efi_utils for easier maintaining and debugging\n\n* Move irrelevant code from inside the giant try..except block\n* Do not bother removing the (empty) temporary mountpoint\n* Fix log messages according to the actual code\n* Fix some code duplication\n* Add missing unit tests for failure case\n\nChange-Id: Id7b557419d513375816d73901e2ab6f139d765ad\n(cherry picked from commit 3d3df17e5ac2f7446ba447ebf9b30047ce0d35e5)\n'}, {'number': 2, 'created': '2022-06-02 02:41:26.000000000', 'files': ['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cf4b756b2a22ca9a8e7314dcbee46e835ea3a52a', 'message': 'Refactor efi_utils for easier maintaining and debugging\n\n* Move irrelevant code from inside the giant try..except block\n* Do not bother removing the (empty) temporary mountpoint\n* Fix log messages according to the actual code\n* Fix some code duplication\n* Add missing unit tests for failure case\n\nChange-Id: Id7b557419d513375816d73901e2ab6f139d765ad\n(cherry picked from commit 3d3df17e5ac2f7446ba447ebf9b30047ce0d35e5)\n'}]",3,842403,cf4b756b2a22ca9a8e7314dcbee46e835ea3a52a,22,4,2,15519,,,0,"Refactor efi_utils for easier maintaining and debugging

* Move irrelevant code from inside the giant try..except block
* Do not bother removing the (empty) temporary mountpoint
* Fix log messages according to the actual code
* Fix some code duplication
* Add missing unit tests for failure case

Change-Id: Id7b557419d513375816d73901e2ab6f139d765ad
(cherry picked from commit 3d3df17e5ac2f7446ba447ebf9b30047ce0d35e5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/03/842403/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py']",2,1c4c4d58c184bf1595707770c3a31bf038da3316,efi-utils-bugfix/8.3,"import sys # Force UEFI to rescan the device. utils.rescan_device(device) # Trust the contents on the disk in the event of a whole disk image. efi_partition = disk_utils.find_efi_partition(device) if efi_partition: efi_partition = efi_partition['number'] if not efi_partition and efi_system_part_uuid: # _get_partition returns <device>+<partition> and we only need the # partition number partition = partition_utils.get_partition( device, uuid=efi_system_part_uuid) try: efi_partition = int(partition.replace(device, """")) except ValueError: # NVMe Devices get a partitioning scheme that is different from # traditional block devices like SCSI/SATA efi_partition = int(partition.replace(device + 'p', """")) if not efi_partition: # NOTE(dtantsur): we cannot have a valid EFI deployment without an # EFI partition at all. This code path is easily hit when using an # image that is not UEFI compatible (which sadly applies to most # cloud images out there, with a nice exception of Ubuntu). raise errors.DeviceNotFound( ""No EFI partition could be detected on device %s and "" ""EFI partition UUID has not been recorded during deployment "" ""(which is often the case for whole disk images). "" ""Are you using a UEFI-compatible image?"" % device) local_path = tempfile.mkdtemp() efi_partition_mount_point = os.path.join(local_path, ""boot/efi"") if not os.path.exists(efi_partition_mount_point): os.makedirs(efi_partition_mount_point) # The mount needs the device with the partition, in case the # device ends with a digit we add a `p` and the partition number we # found, otherwise we just join the device and the partition number if device[-1].isdigit(): efi_device_part = '{}p{}'.format(device, efi_partition) else: efi_device_part = '{}{}'.format(device, efi_partition) try: utils.execute('mount', efi_device_part, efi_partition_mount_point) error_msg = ('Could not configure UEFI boot on device %(dev)s: %(err)s' % {'dev': device, 'err': e}) LOG.exception(error_msg) if efi_mounted: try: except processutils.ProcessExecutionError as e: error_msg = ('Umounting efi system partition failed. ' 'Attempted 3 times. Error: %s' % e) LOG.error(error_msg) # Do not mask the actual failure, if any if sys.exc_info()[0] is None: raise errors.CommandExecutionError(error_msg) else: try: utils.execute('sync') except processutils.ProcessExecutionError as e: LOG.warning('Unable to sync the local disks: %s', e)","import shutil try: # Force UEFI to rescan the device. utils.rescan_device(device) local_path = tempfile.mkdtemp() # Trust the contents on the disk in the event of a whole disk image. efi_partition = disk_utils.find_efi_partition(device) if efi_partition: efi_partition = efi_partition['number'] if not efi_partition and efi_system_part_uuid: # _get_partition returns <device>+<partition> and we only need the # partition number partition = partition_utils.get_partition( device, uuid=efi_system_part_uuid) try: efi_partition = int(partition.replace(device, """")) except ValueError: # NVMe Devices get a partitioning scheme that is different from # traditional block devices like SCSI/SATA efi_partition = int(partition.replace(device + 'p', """")) if not efi_partition: # NOTE(dtantsur): we cannot have a valid EFI deployment without an # EFI partition at all. This code path is easily hit when using an # image that is not UEFI compatible (which sadly applies to most # cloud images out there, with a nice exception of Ubuntu). raise errors.DeviceNotFound( ""No EFI partition could be detected on device %s and "" ""EFI partition UUID has not been recorded during deployment "" ""(which is often the case for whole disk images). "" ""Are you using a UEFI-compatible image?"" % device) efi_partition_mount_point = os.path.join(local_path, ""boot/efi"") if not os.path.exists(efi_partition_mount_point): os.makedirs(efi_partition_mount_point) # The mount needs the device with the partition, in case the # device ends with a digit we add a `p` and the partition number we # found, otherwise we just join the device and the partition number if device[-1].isdigit(): efi_device_part = '{}p{}'.format(device, efi_partition) utils.execute('mount', efi_device_part, efi_partition_mount_point) else: efi_device_part = '{}{}'.format(device, efi_partition) utils.execute('mount', efi_device_part, efi_partition_mount_point) error_msg = ('Could not verify uefi on device %(dev)s, ' 'failed with %(err)s.' % {'dev': device, 'err': e}) LOG.error(error_msg) LOG.debug('Executing _manage_uefi clean-up.') umount_warn_msg = ""Unable to umount %(local_path)s. Error: %(error)s"" try: if efi_mounted: except processutils.ProcessExecutionError as e: error_msg = ('Umounting efi system partition failed. ' 'Attempted 3 times. Error: %s' % e) LOG.error(error_msg) raise errors.CommandExecutionError(error_msg) else: # If umounting the binds succeed then we can try to delete it try: utils.execute('sync') except processutils.ProcessExecutionError as e: LOG.warning(umount_warn_msg, {'path': local_path, 'error': e}) else: # After everything is umounted we can then remove the # temporary directory shutil.rmtree(local_path)",161,68
openstack%2Fhorizon~stable%2Fussuri~Ied6fd4ad69b38a721b23700c98344e0edf14771b,openstack/horizon,stable/ussuri,Ied6fd4ad69b38a721b23700c98344e0edf14771b,Fix Project Limits for resize instance dialog,MERGED,2022-02-28 20:28:33.000000000,2022-06-04 12:13:46.000000000,2022-06-04 12:12:14.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-28 20:28:33.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_flavors_and_quotas.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f219a6421a5c56ddd37665270ea83921c5c0b959', 'message': 'Fix Project Limits for resize instance dialog\n\nResize instance dialog should use proper calls for quota and usage.\nThis patch fixes that.\n\nChange-Id: Ied6fd4ad69b38a721b23700c98344e0edf14771b\n(cherry picked from commit e2bb7d833526e3ea6117cb2a5d58cbf90548c6da)\n'}]",4,831258,f219a6421a5c56ddd37665270ea83921c5c0b959,17,5,1,6914,,,0,"Fix Project Limits for resize instance dialog

Resize instance dialog should use proper calls for quota and usage.
This patch fixes that.

Change-Id: Ied6fd4ad69b38a721b23700c98344e0edf14771b
(cherry picked from commit e2bb7d833526e3ea6117cb2a5d58cbf90548c6da)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/831258/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/templates/instances/_flavors_and_quotas.html'],1,f219a6421a5c56ddd37665270ea83921c5c0b959,project_limits-stable/ussuri," {% blocktrans trimmed with used=usages.totalInstancesUsed|intcomma quota=usages.maxTotalInstances|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalInstances }}"" data-quota-used=""{{ usages.totalInstancesUsed }}""> {% widthratio usages.totalInstancesUsed usages.maxTotalInstances 100 as instance_percent %} {% blocktrans trimmed with used=usages.totalCoresUsed|intcomma quota=usages.maxTotalCores|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalCores }}"" data-quota-used=""{{ usages.totalCoresUsed }}""> {% widthratio usages.totalCoresUsed usages.maxTotalCores 100 as vcpu_percent %} {% blocktrans trimmed with used=usages.totalRAMUsed|intcomma quota=usages.maxTotalRAMSize|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalRAMSize }}"" data-quota-used=""{{ usages.totalRAMUsed }}""> {% widthratio usages.totalRAMUsed usages.maxTotalRAMSize 100 as vcpu_percent %} {% blocktrans with used=usages.totalVolumesUsed|intcomma quota=usages.maxTotalVolumes|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalVolumes }}"" data-quota-used=""{{ usages.totalVolumesUsed }}""> {% widthratio usages.totalVolumesUsed usages.maxTotalVolumes 100 as volume_percent %} {% blocktrans with used=usages.totalGigabytesUsed|intcomma quota=usages.maxTotalVolumeGigabytes|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalVolumeGigabytes }}"" data-quota-used=""{{ usages.totalGigabytesUsed }}""> {% widthratio usages.totalGigabytesUsed usages.maxTotalVolumeGigabytes 100 as volume_storage_percent %}"," {% blocktrans trimmed with used=usages.instances.used|intcomma quota=usages.instances.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.instances.quota }}"" data-quota-used=""{{ usages.instances.used }}""> {% widthratio usages.instances.used usages.instances.quota 100 as instance_percent %} {% blocktrans trimmed with used=usages.cores.used|intcomma quota=usages.cores.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.cores.quota }}"" data-quota-used=""{{ usages.cores.used }}""> {% widthratio usages.cores.used usages.cores.quota 100 as vcpu_percent %} {% blocktrans trimmed with used=usages.ram.used|intcomma quota=usages.ram.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.ram.quota }}"" data-quota-used=""{{ usages.ram.used }}""> {% widthratio usages.ram.used usages.ram.quota 100 as vcpu_percent %} {% blocktrans with used=usages.volumes.used|intcomma quota=usages.volumes.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.volumes.quota }}"" data-quota-used=""{{ usages.volumes.used }}""> {% widthratio usages.volumes.used usages.volumes.quota 100 as volume_percent %} {% blocktrans with used=usages.gigabytes.used|intcomma quota=usages.gigabytes.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.gigabytes.quota }}"" data-quota-used=""{{ usages.gigabytes.used }}""> {% widthratio usages.gigabytes.used usages.gigabytes.quota 100 as volume_storage_percent %}",20,20
openstack%2Fopenstack-ansible-os_swift~master~If0e686352e08379027508c2939fae00db6ae6cb8,openstack/openstack-ansible-os_swift,master,If0e686352e08379027508c2939fae00db6ae6cb8,Sync rings to all swift hosts to build_files,MERGED,2022-05-25 14:04:50.000000000,2022-06-04 11:02:50.000000000,2022-06-04 11:01:41.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-25 14:04:50.000000000', 'files': ['tasks/swift_rings_distribute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/7b02afd3ce1ddff3be8e62e88dd7528541cbebca', 'message': ""Sync rings to all swift hosts to build_files\n\nIn previous patch [1] I wrongly assumed that there's no reason to have\n/etc/swift/ring_build_files/\non all hosts. However, there's another logic in the role, that assumes\nhaving these files and verifying md5sum of them.\n\nAs an easy bugfix, we're returning sync to ring_build_files until we\nchange logic. It's also easily backportable.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/765354\n\nChange-Id: If0e686352e08379027508c2939fae00db6ae6cb8\nCloses-Bug: #1973045\n""}]",5,843289,7b02afd3ce1ddff3be8e62e88dd7528541cbebca,19,4,1,28619,,,0,"Sync rings to all swift hosts to build_files

In previous patch [1] I wrongly assumed that there's no reason to have
/etc/swift/ring_build_files/
on all hosts. However, there's another logic in the role, that assumes
having these files and verifying md5sum of them.

As an easy bugfix, we're returning sync to ring_build_files until we
change logic. It's also easily backportable.

[1] https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/765354

Change-Id: If0e686352e08379027508c2939fae00db6ae6cb8
Closes-Bug: #1973045
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/89/843289/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_rings_distribute.yml'],1,7b02afd3ce1ddff3be8e62e88dd7528541cbebca,bug/1973045," dest: ""{{ item }}"" with_items: - /etc/swift/ - /etc/swift/ring_build_files/", dest: /etc/swift/,4,1
openstack%2Fswift~master~I9eef2f4e842112b647b2ea3c5ccdb856ee9bae6a,openstack/swift,master,I9eef2f4e842112b647b2ea3c5ccdb856ee9bae6a,Update python testing as per zed cycle teting runtime,NEW,2022-06-04 08:10:00.000000000,2022-06-04 09:30:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 08:10:00.000000000', 'files': ['releasenotes/notes/drop-python-3-7-b9e3be9d40228aee.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/e337042949cc3a552db68ab1016604bdec4fc032', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.7[1] testing\nand its support. Removing the py37 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I9eef2f4e842112b647b2ea3c5ccdb856ee9bae6a\n'}]",0,844693,e337042949cc3a552db68ab1016604bdec4fc032,3,1,1,27190,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.7[1] testing
and its support. Removing the py37 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I9eef2f4e842112b647b2ea3c5ccdb856ee9bae6a
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/844693/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-7-b9e3be9d40228aee.yaml', 'setup.cfg', 'tox.ini']",3,e337042949cc3a552db68ab1016604bdec4fc032,,"envlist = py38,py27,pep8[testenv:py38]","envlist = py37,py27,pep8[testenv:py37]",7,4
openstack%2Fironic-python-agent~bugfix%2F8.3~Ie04f530be434c4b1561e75f387b9da679e4607e0,openstack/ironic-python-agent,bugfix/8.3,Ie04f530be434c4b1561e75f387b9da679e4607e0,Use canonical device name for RAID device for ESP,MERGED,2022-06-02 14:54:05.000000000,2022-06-04 09:26:04.000000000,2022-06-04 09:24:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-02 14:54:05.000000000', 'files': ['ironic_python_agent/tests/unit/test_raid_utils.py', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8569b7b83051e802b2b248570ae9d720a2c4d1b5', 'message': 'Use canonical device name for RAID device for ESP\n\nIt seems like tinyIPA silently replaces /dev/md/esp with /dev/md127.\nFind the next free /dev/md device and use it instead.\n\nAlso rescan the resulting device before copying files.\n\nChange-Id: Ie04f530be434c4b1561e75f387b9da679e4607e0\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/827129/\n(cherry picked from commit 6ebf0417044d7266cdd8a6c7458f094bc29023fb)\n'}]",1,844472,8569b7b83051e802b2b248570ae9d720a2c4d1b5,8,2,1,15519,,,0,"Use canonical device name for RAID device for ESP

It seems like tinyIPA silently replaces /dev/md/esp with /dev/md127.
Find the next free /dev/md device and use it instead.

Also rescan the resulting device before copying files.

Change-Id: Ie04f530be434c4b1561e75f387b9da679e4607e0
Depends-On: https://review.opendev.org/c/openstack/ironic/+/827129/
(cherry picked from commit 6ebf0417044d7266cdd8a6c7458f094bc29023fb)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/72/844472/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_raid_utils.py', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",4,8569b7b83051e802b2b248570ae9d720a2c4d1b5,md-efi-bugfix/8.3," md_device = raid_utils.get_next_free_raid_device() '--name', 'esp', '--raid-devices', len(efi_partitions), disk_utils.trigger_device_rescan(md_device) "," md_device = '/dev/md/esp' '--raid-devices', len(efi_partitions),",71,17
openstack%2Fhorizon~master~I764aa5491df8c8d39f4f168241f91d19ce7fed26,openstack/horizon,master,I764aa5491df8c8d39f4f168241f91d19ce7fed26,Update pyScss to 1.4.0,MERGED,2022-02-23 14:03:30.000000000,2022-06-04 09:22:24.000000000,2022-06-04 09:21:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-23 14:03:30.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e6d46b218c04c4486988f2c1a422e7e00b14c2df', 'message': ""Update pyScss to 1.4.0\n\npyscss v1.3.7 doesn't work with python 3.10. So this patch bump\npyscss version to latest i.e. v1.4.0 so it can support python 3.10\nand consume other fixes included in pyscss v1.4.0.\n\nCloses-Bug: #1960204\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/830615\nChange-Id: I764aa5491df8c8d39f4f168241f91d19ce7fed26\n""}]",19,830618,e6d46b218c04c4486988f2c1a422e7e00b14c2df,43,8,1,29313,,,0,"Update pyScss to 1.4.0

pyscss v1.3.7 doesn't work with python 3.10. So this patch bump
pyscss version to latest i.e. v1.4.0 so it can support python 3.10
and consume other fixes included in pyscss v1.4.0.

Closes-Bug: #1960204
Depends-On: https://review.opendev.org/c/openstack/requirements/+/830615
Change-Id: I764aa5491df8c8d39f4f168241f91d19ce7fed26
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/830618/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,e6d46b218c04c4486988f2c1a422e7e00b14c2df,,pyScss==1.4.0,pyScss==1.3.7,2,2
openstack%2Fvenus~master~Id96899b3f029a06b9e5a8157e258ff37c46a8cb3,openstack/venus,master,Id96899b3f029a06b9e5a8157e258ff37c46a8cb3,Bump oslo.log version for py36/py37/py38,MERGED,2022-06-04 06:27:27.000000000,2022-06-04 09:20:52.000000000,2022-06-04 09:19:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 27565}, {'_account_id': 30455}, {'_account_id': 30562}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-04 06:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/c512fb3504e7c806a860418dbfa180515caaa934', 'message': 'Bump oslo.log version for py36/py37/py38\n\nChange-Id: Id96899b3f029a06b9e5a8157e258ff37c46a8cb3\n'}, {'number': 2, 'created': '2022-06-04 06:42:56.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/venus/commit/6d5280c655da7e5da4c6bd4b8d8916668af39cff', 'message': 'Bump oslo.log version for py36/py37/py38\n\nChange-Id: Id96899b3f029a06b9e5a8157e258ff37c46a8cb3\n'}]",1,844674,6d5280c655da7e5da4c6bd4b8d8916668af39cff,9,6,2,26458,,,0,"Bump oslo.log version for py36/py37/py38

Change-Id: Id96899b3f029a06b9e5a8157e258ff37c46a8cb3
",git fetch https://review.opendev.org/openstack/venus refs/changes/74/844674/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c512fb3504e7c806a860418dbfa180515caaa934,,oslo.log>=4.2.1;python_version=='3.6' oslo.log>=4.2.1;python_version=='3.7' oslo.log>=5.0.0;python_version=='3.8',oslo.log>=4.6.0,3,1
openstack%2Fnova~stable%2Fwallaby~I260c1fded79a85d4899e94df4d9036a1ee437f02,openstack/nova,stable/wallaby,I260c1fded79a85d4899e94df4d9036a1ee437f02,Prevent deletion of a compute node belonging to another host,MERGED,2021-09-29 23:51:11.000000000,2022-06-04 08:21:40.000000000,2022-06-04 08:19:57.000000000,"[{'_account_id': 2033}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 23:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da4e0b3daaf1814ec61b49bddeb2e6431e73b4c2', 'message': ""Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n\nNOTE(melwitt): The conflict is because change\nI9f414cf831316b624132d9e06192f1ecbbd3dd78 (db: Copy docs from\n'nova.db.*' to 'nova.db.sqlalchemy.*') is not in Wallaby.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n""}, {'number': 2, 'created': '2021-09-30 01:10:18.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbbca58504275f194ec55eeb89dad4a496d98060', 'message': ""Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n\nNOTE(melwitt): The conflict is because change\nI9f414cf831316b624132d9e06192f1ecbbd3dd78 (db: Copy docs from\n'nova.db.*' to 'nova.db.sqlalchemy.*') is not in Wallaby.\n\nNOTE(melwitt): Differences from the cherry picked change from calling\nnova.db.api => nova.db.sqlalchemy.api directly are due to the alembic\nmigration in Xena which looks to have made the nova.db.api interface\nobsolete.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n""}]",9,811808,cbbca58504275f194ec55eeb89dad4a496d98060,54,6,2,4690,,,0,"Prevent deletion of a compute node belonging to another host

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The main race condition involved is in update_available_resources in
the compute manager. When the list of compute nodes is queried, there is
a compute node belonging to the host that it does not expect to be
managing, i.e. it is an orphan. Between that time and deleting the
orphan, the real owner of the compute node takes ownership of it ( in
the resource tracker). However, the node is still deleted as the first
host is unaware of the ownership change.

This change prevents this from occurring by filtering on the host when
deleting a compute node. If another compute host has taken ownership of
a node, it will have updated the host field and this will prevent
deletion from occurring. The first host sees this has happened via the
ComputeHostNotFound exception, and avoids deleting its resource
provider.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/db/sqlalchemy/api.py

NOTE(melwitt): The conflict is because change
I9f414cf831316b624132d9e06192f1ecbbd3dd78 (db: Copy docs from
'nova.db.*' to 'nova.db.sqlalchemy.*') is not in Wallaby.

NOTE(melwitt): Differences from the cherry picked change from calling
nova.db.api => nova.db.sqlalchemy.api directly are due to the alembic
migration in Xena which looks to have made the nova.db.api interface
obsolete.

Closes-Bug: #1853009
Related-Bug: #1841481

Change-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02
(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/811808/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",9,da4e0b3daaf1814ec61b49bddeb2e6431e73b4c2,bug/1853009," # Verify that the node was almost deleted, but was saved by the host # check self.assertIn( 'Ignoring failure to delete orphan compute node %s on ' 'hypervisor host fake-node' % cn.id, self.stdlog.logger.output) self._assert_hypervisor_api(self.nodename, 'host_b') self.assertEqual(1, len(rps), rps) self.assertEqual(self.nodename, rps[0]['name']) # Simulate deletion of an orphan by host_a. It shouldn't happen # anymore, but let's assume it already did. cn = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', self.nodename) cn.destroy() host_a.manager.rt.remove_node(cn.hypervisor_hostname) host_a.manager.reportclient.delete_resource_provider( self.ctxt, cn, cascade=True)"," # FIXME(mgoddard): Ideally host_a would not delete a node that does not # belong to it. See https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was deleted. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) self.assertEqual(0, len(rps), rps)",124,25
openstack%2Fneutron-fwaas-dashboard~master~I36e907e58c76f9c4fefb8c91bc750967ef1f08f3,openstack/neutron-fwaas-dashboard,master,I36e907e58c76f9c4fefb8c91bc750967ef1f08f3,"Cleanup py27 support This repo is now testing only with Python 3, so let's make a few cleanups: - Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.",ABANDONED,2022-06-04 04:32:28.000000000,2022-06-04 07:29:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-06-04 04:32:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/769f14c373810defb1f33656f807e08821602403', 'message': ""Cleanup py27 support\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.\n\nChange-Id: I36e907e58c76f9c4fefb8c91bc750967ef1f08f3\n""}]",1,844668,769f14c373810defb1f33656f807e08821602403,4,2,1,32020,,,0,"Cleanup py27 support
This repo is now testing only with Python 3, so let's make
a few cleanups:
- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.

Change-Id: I36e907e58c76f9c4fefb8c91bc750967ef1f08f3
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/68/844668/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,769f14c373810defb1f33656f807e08821602403,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fhorizon~master~I965f9dbdd5e78b52a788f73b359c1c6fbc18637e,openstack/horizon,master,I965f9dbdd5e78b52a788f73b359c1c6fbc18637e,"Deprecate Django based Panel for Images, Keypair, and roles",MERGED,2022-04-18 18:04:19.000000000,2022-06-04 07:26:56.000000000,2022-06-04 07:25:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-04-18 18:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6037ec29d3094ca32df42e3ba489e32f670e80f6', 'message': ""Deprecate Django based Panel for Images, Keypair, and roles\n\nAs discussed in the horizon meetings or in horizon PTG sessions,\nhorizon team agreed to deprecate django version of Images, Keypair\nand Roles panel as we think that feature gaps between the two\nimplementations have been closed. Let's mark the Django version as\ndeprecated for all these panels and gather more attention\nfrom operators.\n\nChange-Id: I965f9dbdd5e78b52a788f73b359c1c6fbc18637e\n""}, {'number': 2, 'created': '2022-04-19 12:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d19b6919150232cff290b94b55f2da517df668f6', 'message': ""Deprecate Django based Panel for Images, Keypair, and roles\n\nAs discussed in the horizon meetings or in horizon PTG sessions,\nhorizon team agreed to deprecate django version of Images, Keypair\nand Roles panel as we think that feature gaps between the two\nimplementations have been closed. Let's mark the Django version as\ndeprecated for all these panels and gather more attention\nfrom operators.\n\nChange-Id: I965f9dbdd5e78b52a788f73b359c1c6fbc18637e\n""}, {'number': 3, 'created': '2022-05-09 20:28:56.000000000', 'files': ['releasenotes/notes/deprecate-django-panels-for-images-keyspairs-roles-36b9c234eef71b51.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/dashboards/project/images/views.py', 'openstack_dashboard/dashboards/project/key_pairs/views.py', 'openstack_dashboard/dashboards/identity/roles/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/65d748fb252aaa8b0946100bfa8a59bddaf8f720', 'message': ""Deprecate Django based Panel for Images, Keypair, and roles\n\nAs discussed in the horizon meetings or in horizon PTG sessions,\nhorizon team agreed to deprecate django version of Images, Keypair\nand Roles panel as we think that feature gaps between the two\nimplementations have been closed. Let's mark the Django version as\ndeprecated for all these panels and gather more attention\nfrom operators.\n\nChange-Id: I965f9dbdd5e78b52a788f73b359c1c6fbc18637e\n""}]",27,838333,65d748fb252aaa8b0946100bfa8a59bddaf8f720,32,6,3,29313,,,0,"Deprecate Django based Panel for Images, Keypair, and roles

As discussed in the horizon meetings or in horizon PTG sessions,
horizon team agreed to deprecate django version of Images, Keypair
and Roles panel as we think that feature gaps between the two
implementations have been closed. Let's mark the Django version as
deprecated for all these panels and gather more attention
from operators.

Change-Id: I965f9dbdd5e78b52a788f73b359c1c6fbc18637e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/838333/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-django-panels-for-images-keyspairs-roles-36b9c234eef71b51.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/dashboards/project/images/views.py', 'openstack_dashboard/dashboards/project/key_pairs/views.py', 'openstack_dashboard/dashboards/identity/roles/views.py']",5,6037ec29d3094ca32df42e3ba489e32f670e80f6,,"import logging LOG = logging.getLogger(__name__) def __init__(self): super().__init__() LOG.warning('Django version of the Role panel is deprecated since ' 'Zed release. Switch to the AngularJS version by setting ' 'ANGULAR_FEATURES = {""roles_panel""} to True Otherwise ' 'Python version will be used if set to False.') ",,50,0
openstack%2Fvitrage~master~If558502c54c8f090ecaaf6fe4949e86cac2fedad,openstack/vitrage,master,If558502c54c8f090ecaaf6fe4949e86cac2fedad,Update python testing as per zed cycle teting runtime,MERGED,2022-06-04 03:28:49.000000000,2022-06-04 07:02:18.000000000,2022-06-04 07:01:09.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-04 03:28:49.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-ca06b475787d017d.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9a9710558b34b15eee7f67e94ad04c8fc022d2e8', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\nChange-Id: Ib31f65192581861a28f0bdeffc7a524f6bec2c86\n\nChange-Id: If558502c54c8f090ecaaf6fe4949e86cac2fedad\n'}]",0,844663,9a9710558b34b15eee7f67e94ad04c8fc022d2e8,7,2,1,33436,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html
Change-Id: Ib31f65192581861a28f0bdeffc7a524f6bec2c86

Change-Id: If558502c54c8f090ecaaf6fe4949e86cac2fedad
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/63/844663/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-ca06b475787d017d.yaml', 'setup.cfg']",2,9a9710558b34b15eee7f67e94ad04c8fc022d2e8,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,6,3
openstack%2Fvenus~master~I809ecebc0733f682c08984b2ff7e3aeffae9e0fd,openstack/venus,master,I809ecebc0733f682c08984b2ff7e3aeffae9e0fd,Update python testing as per zed cycle teting runtime,MERGED,2022-05-13 07:14:35.000000000,2022-06-04 06:37:12.000000000,2022-06-04 06:35:51.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-05-13 07:14:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/8362e3a3661e2a46c3faa423b2e5a3ea2890f8b6', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I809ecebc0733f682c08984b2ff7e3aeffae9e0fd\n'}]",1,841684,8362e3a3661e2a46c3faa423b2e5a3ea2890f8b6,9,2,1,31412,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I809ecebc0733f682c08984b2ff7e3aeffae9e0fd
",git fetch https://review.opendev.org/openstack/venus refs/changes/84/841684/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8362e3a3661e2a46c3faa423b2e5a3ea2890f8b6,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Frequirements~master~Id2490fbdd375c4f4af564139387f04fd743088df,openstack/requirements,master,Id2490fbdd375c4f4af564139387f04fd743088df,Updated from generate-constraints,MERGED,2022-06-02 11:44:45.000000000,2022-06-04 06:11:06.000000000,2022-06-04 06:10:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 11:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c0d27d0551afd33272976c2ce690a5ab59d0dfe5', 'message': 'Updated from generate-constraints\n\nChange-Id: Id2490fbdd375c4f4af564139387f04fd743088df\n'}, {'number': 2, 'created': '2022-06-03 17:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/71b5b4749f491a8410d65ddff951d23e6e594c70', 'message': 'Updated from generate-constraints\n\nChange-Id: Id2490fbdd375c4f4af564139387f04fd743088df\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-06-04 02:02:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5be4ba97ba590ccf3843c0cf65b43d1279a6b2b8', 'message': 'Updated from generate-constraints\n\nChange-Id: Id2490fbdd375c4f4af564139387f04fd743088df\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,844424,5be4ba97ba590ccf3843c0cf65b43d1279a6b2b8,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Id2490fbdd375c4f4af564139387f04fd743088df
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/844424/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c0d27d0551afd33272976c2ce690a5ab59d0dfe5,openstack/requirements/constraints/noclob,lxml===4.9.0rcssmin===1.1.0fixtures===4.0.0waitress===2.1.2moto===3.1.11XStatic-Angular===1.8.2.2SQLAlchemy===1.4.37paramiko===2.11.0cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0 libvirt-python===8.4.0coverage===6.4.1boto3===1.24.1s3transfer===0.6.0elementpath===2.5.3Sphinx===5.0.0botocore===1.27.1redis===4.3.2cachetools===5.2.0rjsmin===1.2.0alembic===1.8.0filelock===3.7.1,lxml===4.8.0rcssmin===1.0.6fixtures===3.0.0waitress===2.1.1moto===3.1.10XStatic-Angular===1.5.8.0SQLAlchemy===1.4.36paramiko===2.8.1cryptography===36.0.2django-compressor===2.4.1 libvirt-python===8.3.0coverage===6.4boto3===1.23.9s3transfer===0.5.2elementpath===2.5.2Sphinx===4.5.0botocore===1.26.10redis===4.3.1cachetools===5.1.0rjsmin===1.1.0alembic===1.7.7filelock===3.7.0setuptools===62.3.2;python_version=='3.8',23,23
openstack%2Fdesignate~stable%2Fwallaby~Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745,openstack/designate,stable/wallaby,Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745,Fix duplicate zone when creating ptr records,MERGED,2022-06-03 18:48:47.000000000,2022-06-04 05:29:51.000000000,2022-06-04 05:28:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-03 18:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/85c59efeaab4de9a9a3c280e4afd8c1ea0d11419', 'message': 'Fix duplicate zone when creating ptr records\n\nThis fixes a race-condition when creating multiple PTR records\nunder the same zone. There is a brief window when creating two\nidentical zones can cause an error. This adds a fallback that\nshould prevent the error.\n\nI also added a threaded test that caught multiple additional\nbugs in this code.\n- Wrong find_recordset used caused the wrong exception to be thrown.\n- The transaction workflow would break error handling.\n\nChange-Id: Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745\n(cherry picked from commit 0c7d218ba103e8260322e40f76a49a8c92556bfe)\n'}, {'number': 2, 'created': '2022-06-03 20:17:54.000000000', 'files': ['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/8af89be21c5f5490af8acb36f6e50b4893c9573e', 'message': 'Fix duplicate zone when creating ptr records\n\nThis fixes a race-condition when creating multiple PTR records\nunder the same zone. There is a brief window when creating two\nidentical zones can cause an error. This adds a fallback that\nshould prevent the error.\n\nI also added a threaded test that caught multiple additional\nbugs in this code.\n- Wrong find_recordset used caused the wrong exception to be thrown.\n- The transaction workflow would break error handling.\n\nChange-Id: Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745\n(cherry picked from commit 0c7d218ba103e8260322e40f76a49a8c92556bfe)\n'}]",3,844480,8af89be21c5f5490af8acb36f6e50b4893c9573e,16,3,2,11628,,,0,"Fix duplicate zone when creating ptr records

This fixes a race-condition when creating multiple PTR records
under the same zone. There is a brief window when creating two
identical zones can cause an error. This adds a fallback that
should prevent the error.

I also added a threaded test that caught multiple additional
bugs in this code.
- Wrong find_recordset used caused the wrong exception to be thrown.
- The transaction workflow would break error handling.

Change-Id: Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745
(cherry picked from commit 0c7d218ba103e8260322e40f76a49a8c92556bfe)
",git fetch https://review.opendev.org/openstack/designate refs/changes/80/844480/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_central/test_service.py']",3,85c59efeaab4de9a9a3c280e4afd8c1ea0d11419,,"from collections import namedtuple from concurrent import futuresimport datetime import futurist def test_set_floatingip_multiple_requests(self): context = self.get_context() def update_floatingip(fixture): fip = self.network_api.fake.allocate_floatingip(context.project_id) return self.central_service.update_floatingip( context, fip['region'], fip['id'], fixture ) with futurist.GreenThreadPoolExecutor() as executor: results = [] for fixture in [0, 2, 3, 4, 5]: results.append(executor.submit( update_floatingip, fixture=self.get_ptr_fixture(fixture) )) for future in futures.as_completed(results): self.assertTrue(future.result()) fips = self.central_service.list_floatingips(context) self.assertEqual(5, len(fips)) ",import datetime,56,17
openstack%2Fdevstack~stable%2Fwallaby~Ib9ba52147199a9d6d0293182d5db50c4a567d677,openstack/devstack,stable/wallaby,Ib9ba52147199a9d6d0293182d5db50c4a567d677,"Revert ""Workaround for new pip 20.3 behavior""",MERGED,2021-08-19 02:31:46.000000000,2022-06-04 04:30:44.000000000,2022-06-04 04:29:38.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 02:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/923a22b3a3df086e3f068645d23a09b7f769e5bc', 'message': 'Revert ""Workaround for new pip 20.3 behavior""\n\nThis reverts commit 7a3a7ce876a37376fe0dca7278e41a4f46867daa and\nbcd0acf6c0b5d6501e91133c3a937b3fc40f7122 and part of\nf1ed7c77c50ac28cb58c9f7ed885c6a3e0a75403 which all cap our pip\ninstalls.\n\nGiven the pip ecosystem can often incorporate major changes, tracking\nupstream at least generally gives us one problem at a time to solve\nrather than trying to handle version jumps when LTS distros update.\n\nThe new dependency resolver included some changes that disallow\nsetting URL\'s like ""file:///path/to/project#egg=project"" in\nconstraints.  Apparently the fact it used to work was an accident of\nthe requires/constraints mechanism; it does make some sense as the URL\ndoesn\'t really have a version-number that the resolver can put in an\nordering graph.\n\nThe _setup_package_with_constraints_edit function comment highlights\nwhat this is trying to do\n\n # Updates the constraints from REQUIREMENTS_DIR to reflect the\n # future installed state of this package. This ensures when we\n # install this package we get the from source version.\n\nIn other words; if constraints has ""foo==1.2.3"" and Zuul has checked\nout ""foo"" for testing, we have to make sure pip doesn\'t choose version\n1.2.3 from pypi.\n\nIt seems like removing the entry from upper-requirements.txt is the\nimportant part; adding the URL path to the on-disk version was just\nsomething that seemed to work at the time, but isn\'t really necessary.\nWe will install the package in question which will be the latest\nversion (from Zuul checkout) and without the package in\nupper-requirements.txt nothing will try and downgrade it.\n\nTherefore the solution proposed here is to remove the adding of the\nURL parts.\n\nThis allows us to uncap pip and restore testing with the new\ndependency resolver.\n\nCloses-Bug: #1906322\nChange-Id: Ib9ba52147199a9d6d0293182d5db50c4a567d677\n(cherry picked from commit 6b9a5646225a766f6240e2a1a93a92b82e088aa0)\n'}, {'number': 2, 'created': '2022-06-02 19:08:41.000000000', 'files': ['inc/python', 'tools/fixup_stuff.sh', 'tools/install_pip.sh', 'lib/tempest', 'tools/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e2bed1b72fcac3b689951372e4ac33784736c9aa', 'message': 'Revert ""Workaround for new pip 20.3 behavior""\n\nThis reverts commit 7a3a7ce876a37376fe0dca7278e41a4f46867daa and\nbcd0acf6c0b5d6501e91133c3a937b3fc40f7122 and part of\nf1ed7c77c50ac28cb58c9f7ed885c6a3e0a75403 which all cap our pip\ninstalls.\n\nGiven the pip ecosystem can often incorporate major changes, tracking\nupstream at least generally gives us one problem at a time to solve\nrather than trying to handle version jumps when LTS distros update.\n\nThe new dependency resolver included some changes that disallow\nsetting URL\'s like ""file:///path/to/project#egg=project"" in\nconstraints.  Apparently the fact it used to work was an accident of\nthe requires/constraints mechanism; it does make some sense as the URL\ndoesn\'t really have a version-number that the resolver can put in an\nordering graph.\n\nThe _setup_package_with_constraints_edit function comment highlights\nwhat this is trying to do\n\n # Updates the constraints from REQUIREMENTS_DIR to reflect the\n # future installed state of this package. This ensures when we\n # install this package we get the from source version.\n\nIn other words; if constraints has ""foo==1.2.3"" and Zuul has checked\nout ""foo"" for testing, we have to make sure pip doesn\'t choose version\n1.2.3 from pypi.\n\nIt seems like removing the entry from upper-requirements.txt is the\nimportant part; adding the URL path to the on-disk version was just\nsomething that seemed to work at the time, but isn\'t really necessary.\nWe will install the package in question which will be the latest\nversion (from Zuul checkout) and without the package in\nupper-requirements.txt nothing will try and downgrade it.\n\nTherefore the solution proposed here is to remove the adding of the\nURL parts.\n\nThis allows us to uncap pip and restore testing with the new\ndependency resolver.\n\nCloses-Bug: #1906322\nChange-Id: Ib9ba52147199a9d6d0293182d5db50c4a567d677\n(cherry picked from commit 6b9a5646225a766f6240e2a1a93a92b82e088aa0)\n'}]",9,805008,e2bed1b72fcac3b689951372e4ac33784736c9aa,49,3,2,8833,,,0,"Revert ""Workaround for new pip 20.3 behavior""

This reverts commit 7a3a7ce876a37376fe0dca7278e41a4f46867daa and
bcd0acf6c0b5d6501e91133c3a937b3fc40f7122 and part of
f1ed7c77c50ac28cb58c9f7ed885c6a3e0a75403 which all cap our pip
installs.

Given the pip ecosystem can often incorporate major changes, tracking
upstream at least generally gives us one problem at a time to solve
rather than trying to handle version jumps when LTS distros update.

The new dependency resolver included some changes that disallow
setting URL's like ""file:///path/to/project#egg=project"" in
constraints.  Apparently the fact it used to work was an accident of
the requires/constraints mechanism; it does make some sense as the URL
doesn't really have a version-number that the resolver can put in an
ordering graph.

The _setup_package_with_constraints_edit function comment highlights
what this is trying to do

 # Updates the constraints from REQUIREMENTS_DIR to reflect the
 # future installed state of this package. This ensures when we
 # install this package we get the from source version.

In other words; if constraints has ""foo==1.2.3"" and Zuul has checked
out ""foo"" for testing, we have to make sure pip doesn't choose version
1.2.3 from pypi.

It seems like removing the entry from upper-requirements.txt is the
important part; adding the URL path to the on-disk version was just
something that seemed to work at the time, but isn't really necessary.
We will install the package in question which will be the latest
version (from Zuul checkout) and without the package in
upper-requirements.txt nothing will try and downgrade it.

Therefore the solution proposed here is to remove the adding of the
URL parts.

This allows us to uncap pip and restore testing with the new
dependency resolver.

Closes-Bug: #1906322
Change-Id: Ib9ba52147199a9d6d0293182d5db50c4a567d677
(cherry picked from commit 6b9a5646225a766f6240e2a1a93a92b82e088aa0)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/805008/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/fixup_stuff.sh', 'tools/install_pip.sh', 'lib/tempest', 'tools/cap-pip.txt']",5,923a22b3a3df086e3f068645d23a09b7f769e5bc,bug/1906322,,pip<20.3 ,19,15
openstack%2Fshade~master~I00af3a98df42c446d453a8ef9a277133d712a6ee,openstack/shade,master,I00af3a98df42c446d453a8ef9a277133d712a6ee,setup.cfg: Replace dashes with underscores,NEW,2022-06-04 03:33:20.000000000,2022-06-04 04:19:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 03:33:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/shade/commit/a523f50ae83c73dcb38205cb5bb9f03a88722f11', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I00af3a98df42c446d453a8ef9a277133d712a6ee\n""}]",0,844664,a523f50ae83c73dcb38205cb5bb9f03a88722f11,2,1,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I00af3a98df42c446d453a8ef9a277133d712a6ee
",git fetch https://review.opendev.org/openstack/shade refs/changes/64/844664/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a523f50ae83c73dcb38205cb5bb9f03a88722f11,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://docs.openstack.org/shade/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://docs.openstack.org/shade/latest,3,3
openstack%2Fdesignate~stable%2Fxena~Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745,openstack/designate,stable/xena,Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745,Fix duplicate zone when creating ptr records,MERGED,2022-06-03 18:48:28.000000000,2022-06-04 04:05:53.000000000,2022-06-04 04:04:46.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-03 18:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a2df95d81c58208cdf5cc35b6dc1f646f5b64bed', 'message': 'Fix duplicate zone when creating ptr records\n\nThis fixes a race-condition when creating multiple PTR records\nunder the same zone. There is a brief window when creating two\nidentical zones can cause an error. This adds a fallback that\nshould prevent the error.\n\nI also added a threaded test that caught multiple additional\nbugs in this code.\n- Wrong find_recordset used caused the wrong exception to be thrown.\n- The transaction workflow would break error handling.\n\nChange-Id: Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745\n(cherry picked from commit 0c7d218ba103e8260322e40f76a49a8c92556bfe)\n'}, {'number': 2, 'created': '2022-06-03 20:18:59.000000000', 'files': ['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/8fea6838634b106f883a72d203c2745654d809bc', 'message': 'Fix duplicate zone when creating ptr records\n\nThis fixes a race-condition when creating multiple PTR records\nunder the same zone. There is a brief window when creating two\nidentical zones can cause an error. This adds a fallback that\nshould prevent the error.\n\nI also added a threaded test that caught multiple additional\nbugs in this code.\n- Wrong find_recordset used caused the wrong exception to be thrown.\n- The transaction workflow would break error handling.\n\nChange-Id: Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745\n(cherry picked from commit 0c7d218ba103e8260322e40f76a49a8c92556bfe)\n'}]",2,844635,8fea6838634b106f883a72d203c2745654d809bc,12,3,2,11628,,,0,"Fix duplicate zone when creating ptr records

This fixes a race-condition when creating multiple PTR records
under the same zone. There is a brief window when creating two
identical zones can cause an error. This adds a fallback that
should prevent the error.

I also added a threaded test that caught multiple additional
bugs in this code.
- Wrong find_recordset used caused the wrong exception to be thrown.
- The transaction workflow would break error handling.

Change-Id: Ia1194ab838c52d5d91cb1d26c4556c73b4f3a745
(cherry picked from commit 0c7d218ba103e8260322e40f76a49a8c92556bfe)
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/844635/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_central/test_service.py']",3,a2df95d81c58208cdf5cc35b6dc1f646f5b64bed,,"from collections import namedtuple from concurrent import futuresimport datetime import futurist def test_set_floatingip_multiple_requests(self): context = self.get_context() def update_floatingip(fixture): fip = self.network_api.fake.allocate_floatingip(context.project_id) return self.central_service.update_floatingip( context, fip['region'], fip['id'], fixture ) with futurist.GreenThreadPoolExecutor() as executor: results = [] for fixture in [0, 2, 3, 4, 5]: results.append(executor.submit( update_floatingip, fixture=self.get_ptr_fixture(fixture) )) for future in futures.as_completed(results): self.assertTrue(future.result()) fips = self.central_service.list_floatingips(context) self.assertEqual(5, len(fips)) ",import datetime,56,17
openstack%2Fdesignate~stable%2Fwallaby~Ib91e49081855e5f4ec9f46a060d1587dcfeaac29,openstack/designate,stable/wallaby,Ib91e49081855e5f4ec9f46a060d1587dcfeaac29,Fixed incorrect message when zone import failed due to quota,MERGED,2022-06-02 03:12:34.000000000,2022-06-04 04:04:24.000000000,2022-06-04 04:02:11.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/83412c904ca35f83e103462a1262a8f8aa398b6d', 'message': 'Fixed incorrect message when zone import failed due to quota\n\nCloses-Bug: #1960764\nChange-Id: Ib91e49081855e5f4ec9f46a060d1587dcfeaac29\n(cherry picked from commit 7e543c2d22516254cbaab111e9dad87a408ab80d)\n'}, {'number': 2, 'created': '2022-06-03 17:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8819d8eb4ba8637c108fd59acc8df46799e73a7f', 'message': 'Fixed incorrect message when zone import failed due to quota\n\nCloses-Bug: #1960764\nChange-Id: Ib91e49081855e5f4ec9f46a060d1587dcfeaac29\n(cherry picked from commit 7e543c2d22516254cbaab111e9dad87a408ab80d)\n'}, {'number': 3, 'created': '2022-06-03 17:55:36.000000000', 'files': ['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_api/test_v2/test_import_export.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/29a8069ef54758cd0613a6b43e6ce186a65190e9', 'message': 'Fixed incorrect message when zone import failed due to quota\n\nCloses-Bug: #1960764\nChange-Id: Ib91e49081855e5f4ec9f46a060d1587dcfeaac29\n(cherry picked from commit 7e543c2d22516254cbaab111e9dad87a408ab80d)\n'}]",4,844353,29a8069ef54758cd0613a6b43e6ce186a65190e9,18,3,3,11628,,,0,"Fixed incorrect message when zone import failed due to quota

Closes-Bug: #1960764
Change-Id: Ib91e49081855e5f4ec9f46a060d1587dcfeaac29
(cherry picked from commit 7e543c2d22516254cbaab111e9dad87a408ab80d)
",git fetch https://review.opendev.org/openstack/designate refs/changes/53/844353/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_api/test_v2/test_import_export.py', 'designate/tests/test_central/test_service.py']",4,83412c904ca35f83e103462a1262a8f8aa398b6d,bug/1960764," def test_create_zone_import_overquota(self): self.config( quota_zone_records=5, quota_zone_recordsets=5, ) # Create a Zone Import context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) # Ensure all values have been set correctly self.assertIsNotNone(zone_import['id']) self.assertEqual('PENDING', zone_import.status) self.assertIsNone(zone_import.message) self.assertIsNone(zone_import.zone_id) zone_import = self.wait_for_import(zone_import.id, error_is_ok=True) self.assertEqual('Quota exceeded during zone import.', zone_import.message) self.assertEqual('ERROR', zone_import.status) ",,45,16
openstack%2Fdesignate~stable%2Fwallaby~I93cede3371f1ec650adf3b00bf8250457a38f96c,openstack/designate,stable/wallaby,I93cede3371f1ec650adf3b00bf8250457a38f96c,Cleanup scheduler,MERGED,2022-06-03 18:44:44.000000000,2022-06-04 04:03:20.000000000,2022-06-04 04:02:09.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-03 18:44:44.000000000', 'files': ['designate/tests/unit/scheduler/test_filters.py', 'designate/scheduler/base.py', 'designate/scheduler/filters/fallback_filter.py', 'designate/scheduler/filters/random_filter.py', 'designate/tests/unit/scheduler/test_basic.py', 'designate/scheduler/filters/attribute_filter.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1dd3b9de02a58cd678b69b91e5317942845c9582', 'message': 'Cleanup scheduler\n\nThis patch is not changing any functionality, but instead it is\naimed at cleaning up the scheduler code. It also removes the use\nof reserved keywords in the scheduler code.\n\nChange-Id: I93cede3371f1ec650adf3b00bf8250457a38f96c\n(cherry picked from commit 44383504519d94730fe712e7d8e300bbc5e21892)\n'}]",3,844634,1dd3b9de02a58cd678b69b91e5317942845c9582,12,3,1,11628,,,0,"Cleanup scheduler

This patch is not changing any functionality, but instead it is
aimed at cleaning up the scheduler code. It also removes the use
of reserved keywords in the scheduler code.

Change-Id: I93cede3371f1ec650adf3b00bf8250457a38f96c
(cherry picked from commit 44383504519d94730fe712e7d8e300bbc5e21892)
",git fetch https://review.opendev.org/openstack/designate refs/changes/34/844634/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/scheduler/test_filters.py', 'designate/scheduler/base.py', 'designate/scheduler/filters/fallback_filter.py', 'designate/scheduler/filters/random_filter.py', 'designate/tests/unit/scheduler/test_basic.py', 'designate/scheduler/filters/attribute_filter.py']",6,1dd3b9de02a58cd678b69b91e5317942845c9582,," if not pool_attributes: '%(pool)s did not match list of requested attribute ' 'keys - removing from list. Requested: %(r_key)s. Pool:' '%(p_key)s', for key in zone_attributes.keys(): LOG.debug('Checking value of %s for %s', key, pool) '%(pool)s did not match requested value of %(key)s. ' 'Requested: %(r_val)s. Pool: %(p_val)s',"," if pool_attributes == {}: msg = ""%(pool)s did not match list of requested attribute ""\ ""keys - removing from list. Requested: %(r_key)s. Pool:""\ ""%(p_key)s"" msg, for key in six.iterkeys(zone_attributes): LOG.debug(""Checking value of %s for %s"", key, pool) ""%(pool)s did not match requested value of %(key)s. "" ""Requested: %(r_val)s. Pool: %(p_val)s"",",54,55
openstack%2Fsolum~master~Ia123a2c96ffa956ada3f6692cbb3fe77a6cb97f2,openstack/solum,master,Ia123a2c96ffa956ada3f6692cbb3fe77a6cb97f2,setup.cfg: Replace dashes with underscores,NEW,2022-06-04 03:21:16.000000000,2022-06-04 03:31:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 03:21:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/solum/commit/a32a66e99d4543bbfb4d00e24fabaa68f71e72ff', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ia123a2c96ffa956ada3f6692cbb3fe77a6cb97f2\n""}]",0,844661,a32a66e99d4543bbfb4d00e24fabaa68f71e72ff,2,1,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ia123a2c96ffa956ada3f6692cbb3fe77a6cb97f2
",git fetch https://review.opendev.org/openstack/solum refs/changes/61/844661/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a32a66e99d4543bbfb4d00e24fabaa68f71e72ff,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/solum/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/solum/latest/ python-requires = >=3.6,4,4
openstack%2Fos-brick~master~Ic0d5ab0c9c8c327b10ed54a4edd608b9e686cc45,openstack/os-brick,master,Ic0d5ab0c9c8c327b10ed54a4edd608b9e686cc45,test,ABANDONED,2022-06-04 03:05:13.000000000,2022-06-04 03:30:43.000000000,,[],"[{'number': 1, 'created': '2022-06-04 03:05:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/12b965aeb20324ba0eb00c8aa302cb26b5a452ef', 'message': 'test\n\nChange-Id: Ic0d5ab0c9c8c327b10ed54a4edd608b9e686cc45\n'}]",0,844656,12b965aeb20324ba0eb00c8aa302cb26b5a452ef,2,0,1,33161,,,0,"test

Change-Id: Ic0d5ab0c9c8c327b10ed54a4edd608b9e686cc45
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/56/844656/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,12b965aeb20324ba0eb00c8aa302cb26b5a452ef,,description-file =,description_file =,1,1
openstack%2Fsolum-specs~master~I95551b948b7b1706975bbb9e4daef4d1bce959c0,openstack/solum-specs,master,I95551b948b7b1706975bbb9e4daef4d1bce959c0,setup.cfg: Replace dashes with underscores,NEW,2022-06-04 03:16:39.000000000,2022-06-04 03:24:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 03:16:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/solum-specs/commit/eb35399db422c33e8c674f1c4ca8b5864bac5257', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I95551b948b7b1706975bbb9e4daef4d1bce959c0\n""}]",0,844659,eb35399db422c33e8c674f1c4ca8b5864bac5257,2,1,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I95551b948b7b1706975bbb9e4daef4d1bce959c0
",git fetch https://review.opendev.org/openstack/solum-specs refs/changes/59/844659/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eb35399db422c33e8c674f1c4ca8b5864bac5257,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/solum-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/solum-specs/,3,3
openstack%2Ftrove-specs~master~I38334e735f4e2f67ac56735b8ee516fe9a589014,openstack/trove-specs,master,I38334e735f4e2f67ac56735b8ee516fe9a589014,setup.cfg: Replace dashes with underscores,NEW,2022-06-04 03:08:10.000000000,2022-06-04 03:13:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 03:08:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/795e2c9d0229685b528b159a27394b639abe6eca', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I38334e735f4e2f67ac56735b8ee516fe9a589014\n""}]",0,844657,795e2c9d0229685b528b159a27394b639abe6eca,2,1,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I38334e735f4e2f67ac56735b8ee516fe9a589014
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/57/844657/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,795e2c9d0229685b528b159a27394b639abe6eca,,description_file =author_email = openstack-dev@lists.openstack.org home_page = http://specs.openstack.org/openstack/trove-specs/,description-file =author-email = openstack-dev@lists.openstack.org home-page = http://specs.openstack.org/openstack/trove-specs/,3,3
openstack%2Fdesignate~stable%2Fwallaby~I53c2a0faf93be19eca259100fe6c3961ef4e7938,openstack/designate,stable/wallaby,I53c2a0faf93be19eca259100fe6c3961ef4e7938,Fix incorrect 404 error on floating IP create,MERGED,2022-06-03 23:08:25.000000000,2022-06-04 03:01:25.000000000,2022-06-04 02:58:03.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-03 23:08:25.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/790f096364cc7eb1171feee1e17f75d39f8c1d25', 'message': 'Fix incorrect 404 error on floating IP create\n\nThere is a case when creating a floating IP could return a 404 error instead of the expected floating IP payload.\nThis fix is extracted from a non-backportable fix that was applied on yoga a newer branches[1].\n\n[1] https://review.opendev.org/c/openstack/designate/+/830549\n\nChange-Id: I53c2a0faf93be19eca259100fe6c3961ef4e7938\n(cherry picked from commit 5237ce97da7b4c71723155c2276afdfe6af7dc9e)\n'}]",1,844481,790f096364cc7eb1171feee1e17f75d39f8c1d25,8,3,1,11628,,,0,"Fix incorrect 404 error on floating IP create

There is a case when creating a floating IP could return a 404 error instead of the expected floating IP payload.
This fix is extracted from a non-backportable fix that was applied on yoga a newer branches[1].

[1] https://review.opendev.org/c/openstack/designate/+/830549

Change-Id: I53c2a0faf93be19eca259100fe6c3961ef4e7938
(cherry picked from commit 5237ce97da7b4c71723155c2276afdfe6af7dc9e)
",git fetch https://review.opendev.org/openstack/designate refs/changes/81/844481/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,790f096364cc7eb1171feee1e17f75d39f8c1d25,," try: recordset = self.storage.get_recordset( elevated_context, record.recordset_id) except exceptions.RecordSetNotFound: LOG.debug('No recordset found for %s', fip['id']) return fip_ptr"," recordset = self.storage.get_recordset( elevated_context, record.recordset_id)",6,2
openstack%2Fdesignate~stable%2Fwallaby~I55ca76ef7c2cbeb5fdae1aed1dcbe58b7acddc34,openstack/designate,stable/wallaby,I55ca76ef7c2cbeb5fdae1aed1dcbe58b7acddc34,Fix set-quotas for non-project scoped tokens,MERGED,2022-04-01 22:27:30.000000000,2022-06-04 03:00:08.000000000,2022-06-04 02:58:00.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-04-01 22:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/11c2a8af1855af4c63bc14ffd8b65664e257f0dd', 'message': 'Fix set-quotas for non-project scoped tokens\n\nPreviously, if set-quotas was called with a non-project scoped token and the all-projects flag was not set, the quotas would be updated but the result returned\nwould always be the default quota values.\nThis patch changes the API to require the all-projects flag when set-quota is called and the token is not project scoped.\n\nCloses-Bug: #1966128\nChange-Id: I55ca76ef7c2cbeb5fdae1aed1dcbe58b7acddc34\n(cherry picked from commit 158e017be489eea5402ef258ea260183067bf1ca)\n'}, {'number': 2, 'created': '2022-05-31 22:36:52.000000000', 'files': ['designate/api/v2/controllers/quotas.py', 'releasenotes/notes/Require-all-projects-for-set-quotas-with-non-project-scoped-tokens-ffe3082db3dbb55b.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/ea85d917a174f44269cf2d4b72ef57e14e785670', 'message': 'Fix set-quotas for non-project scoped tokens\n\nPreviously, if set-quotas was called with a non-project scoped token and the all-projects flag was not set, the quotas would be updated but the result returned\nwould always be the default quota values.\nThis patch changes the API to require the all-projects flag when set-quota is called and the token is not project scoped.\n\nCloses-Bug: #1966128\nChange-Id: I55ca76ef7c2cbeb5fdae1aed1dcbe58b7acddc34\n(cherry picked from commit 158e017be489eea5402ef258ea260183067bf1ca)\n'}]",7,836158,ea85d917a174f44269cf2d4b72ef57e14e785670,22,4,2,11628,,,0,"Fix set-quotas for non-project scoped tokens

Previously, if set-quotas was called with a non-project scoped token and the all-projects flag was not set, the quotas would be updated but the result returned
would always be the default quota values.
This patch changes the API to require the all-projects flag when set-quota is called and the token is not project scoped.

Closes-Bug: #1966128
Change-Id: I55ca76ef7c2cbeb5fdae1aed1dcbe58b7acddc34
(cherry picked from commit 158e017be489eea5402ef258ea260183067bf1ca)
",git fetch https://review.opendev.org/openstack/designate refs/changes/58/836158/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/api/v2/controllers/quotas.py', 'releasenotes/notes/Require-all-projects-for-set-quotas-with-non-project-scoped-tokens-ffe3082db3dbb55b.yaml']",2,11c2a8af1855af4c63bc14ffd8b65664e257f0dd,bug/1966128-stable/yoga-stable/xena-stable/wallaby,--- fixes: - | Fixed an issue where set-quotas will always return the default quotas if it was called with a non-project scoped token and the all-projects flag was not set. ,,16,0
openstack%2Fgrenade~master~I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca,openstack/grenade,master,I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca,Skip stop of ovn services,MERGED,2022-04-26 16:09:18.000000000,2022-06-04 00:52:57.000000000,2022-06-04 00:51:54.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-26 16:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/c06e2396bf895e5aa29184a7454c6eede55e21cd', 'message': 'Start ovn services if enabled\n\nChange-Id: I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca\n'}, {'number': 2, 'created': '2022-04-27 05:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/6466c9dd798edccac91ff0bd243406d42fdd80a3', 'message': 'Start ovn services if enabled\n\nChange-Id: I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca\n'}, {'number': 3, 'created': '2022-04-27 06:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/cee5407bc6a7c2c2217535352dac59b3aec5be8c', 'message': 'Start ovn services if enabled\n\nChange-Id: I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca\n'}, {'number': 4, 'created': '2022-05-31 07:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/a92c4205de0c13a4a09e8a334194f167e1eed560', 'message': 'Skip stop of ovn services\n\nChange-Id: I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca\n'}, {'number': 5, 'created': '2022-06-02 04:41:30.000000000', 'files': ['projects/50_neutron/shutdown.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/b4c6851ceba78dc5f0ba46d28c355cc3c16037e0', 'message': 'Skip stop of ovn services\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn\'t stop these services along with other\nneutron services. This patch sets ""SKIP_STOP_OVN"" to True\nto skip stop of ovn services.\n\nThis fixes ovn grenade jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839362\nChange-Id: I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca\n'}]",5,839407,b4c6851ceba78dc5f0ba46d28c355cc3c16037e0,22,8,5,13861,,,0,"Skip stop of ovn services

Grenade jobs stop services, check fip connectivity
for a nova server and then upgrade to next release.

But since ovn data plane and db services are stopped along
with other services, fip connectivity fails as a result.

We shouldn't stop these services along with other
neutron services. This patch sets ""SKIP_STOP_OVN"" to True
to skip stop of ovn services.

This fixes ovn grenade jobs.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/839362
Change-Id: I2bd3f7e5f0af9a6532db7a1cdb4bc45a963042ca
",git fetch https://review.opendev.org/openstack/grenade refs/changes/07/839407/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/50_neutron/upgrade.sh'],1,c06e2396bf895e5aa29184a7454c6eede55e21cd,ovn-grenade-fixes,"# Start OVN services if [ ""$Q_AGENT"" == ""ovn"" ]; then start_ovn_services fi ",,5,0
openstack%2Fopenstack-ansible-repo_server~master~I941359b1b42aa4a874230a32b438dcefddfb2acb,openstack/openstack-ansible-repo_server,master,I941359b1b42aa4a874230a32b438dcefddfb2acb,Restart nginx after removing old repo content,MERGED,2022-05-30 15:13:37.000000000,2022-06-04 00:05:51.000000000,2022-06-04 00:04:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-30 15:13:37.000000000', 'files': ['tasks/repo_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a9ecec103d0f823123baf429a4c9dd1361003096', 'message': 'Restart nginx after removing old repo content\n\nThe version of nginx on centos-8 appears to keep file handles open,\npossibly the old /var/www/repo directory persistently. Once the old\ncontent is removed and the new shared filesystem mount is created at\nthe web root, ensure that nginx is restarted to close any file handles\nwhich are now stale.\n\nChange-Id: I941359b1b42aa4a874230a32b438dcefddfb2acb\n'}]",6,843931,a9ecec103d0f823123baf429a4c9dd1361003096,24,3,1,25023,,,0,"Restart nginx after removing old repo content

The version of nginx on centos-8 appears to keep file handles open,
possibly the old /var/www/repo directory persistently. Once the old
content is removed and the new shared filesystem mount is created at
the web root, ensure that nginx is restarted to close any file handles
which are now stale.

Change-Id: I941359b1b42aa4a874230a32b438dcefddfb2acb
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/31/843931/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_pre_install.yml'],1,a9ecec103d0f823123baf429a4c9dd1361003096,, notify: - reload nginx,,2,0
openstack%2Fopenstack-chef~stable%2Ftrain~Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2,openstack/openstack-chef,stable/train,Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2,Full coverage openstackclient integration testing,NEW,2022-06-03 23:10:47.000000000,2022-06-03 23:57:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-03 23:10:47.000000000', 'files': ['test/integration/openstackclient/inspec/openstackclient_spec.rb', 'test/cookbooks/openstack_test/recipes/openstackclient.rb', 'kitchen.yml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/768f5107539daa17c9da0d1f8a88f32f064e7936', 'message': 'Full coverage openstackclient integration testing\n\nThis provides full coverage of openstackclient cookbook integration testing.\nAlso enable multiple_converge when using kitchen to try and catch additional\nidempotency issues.\n\nChange-Id: Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,844645,768f5107539daa17c9da0d1f8a88f32f064e7936,2,1,1,21961,,,0,"Full coverage openstackclient integration testing

This provides full coverage of openstackclient cookbook integration testing.
Also enable multiple_converge when using kitchen to try and catch additional
idempotency issues.

Change-Id: Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/45/844645/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/integration/openstackclient/inspec/openstackclient_spec.rb', 'test/cookbooks/openstack_test/recipes/openstackclient.rb', 'kitchen.yml']",3,768f5107539daa17c9da0d1f8a88f32f064e7936,, multiple_converge: 2 - recipe[openstack_test::openstackclient],,260,0
openstack%2Fcookbook-openstackclient~stable%2Ftrain~I33601eb5595c794a9a025417ed3bc88cfa6cfaf0,openstack/cookbook-openstackclient,stable/train,I33601eb5595c794a9a025417ed3bc88cfa6cfaf0,Migrate to using converge_by and fix idempotency issues,NEW,2022-06-03 23:12:51.000000000,2022-06-03 23:41:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-03 23:12:51.000000000', 'files': ['spec/cookbooks/openstackclient_test/recipes/project.rb', 'spec/project_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/service.rb', 'libraries/openstack_base.rb', 'libraries/openstack_service.rb', 'spec/endpoint_spec.rb', 'libraries/openstack_role.rb', 'spec/cookbooks/openstackclient_test/recipes/endpoint.rb', 'spec/cookbooks/openstackclient_test/recipes/role.rb', 'spec/cookbooks/openstackclient_test/recipes/user.rb', 'spec/role_spec.rb', 'libraries/openstack_domain.rb', 'libraries/openstack_project.rb', 'spec/domain_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/domain.rb', 'libraries/openstack_user.rb', 'spec/spec_helper.rb', 'Rakefile', 'libraries/openstack_endpoint.rb', 'spec/service_spec.rb', 'spec/user_spec.rb', 'spec/cookbooks/openstackclient_test/metadata.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/191c9f421a652de2fcd202d8649b1da457649dd9', 'message': 'Migrate to using converge_by and fix idempotency issues\n\n- Migrate away from using the log resource to using converge_by. This finally\n  fixes idempotency issues we were having with all of these resources\n- Fix :delete action in openstack_domain by disabling the domain prior to\n  destroying it\n- Add missing references to new_resource parameters\n- Fix :delete action in openstack_endpoint resource\n- Add domain_name property in openstack_project resource. This is required and\n  would throw a deprecation warning in the backend system.\n- Fix logic around user grant/revoke actions\n- Cookstyle fixes\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/844645\nChange-Id: I33601eb5595c794a9a025417ed3bc88cfa6cfaf0\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,844646,191c9f421a652de2fcd202d8649b1da457649dd9,2,1,1,21961,,,0,"Migrate to using converge_by and fix idempotency issues

- Migrate away from using the log resource to using converge_by. This finally
  fixes idempotency issues we were having with all of these resources
- Fix :delete action in openstack_domain by disabling the domain prior to
  destroying it
- Add missing references to new_resource parameters
- Fix :delete action in openstack_endpoint resource
- Add domain_name property in openstack_project resource. This is required and
  would throw a deprecation warning in the backend system.
- Fix logic around user grant/revoke actions
- Cookstyle fixes

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/844645
Change-Id: I33601eb5595c794a9a025417ed3bc88cfa6cfaf0
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/46/844646/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/cookbooks/openstackclient_test/recipes/project.rb', 'spec/project_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/service.rb', 'libraries/openstack_base.rb', 'libraries/openstack_service.rb', 'spec/endpoint_spec.rb', 'libraries/openstack_role.rb', 'spec/cookbooks/openstackclient_test/recipes/endpoint.rb', 'spec/cookbooks/openstackclient_test/recipes/role.rb', 'spec/cookbooks/openstackclient_test/recipes/user.rb', 'spec/role_spec.rb', 'libraries/openstack_domain.rb', 'libraries/openstack_project.rb', 'spec/domain_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/domain.rb', 'libraries/openstack_user.rb', 'spec/spec_helper.rb', 'Rakefile', 'libraries/openstack_endpoint.rb', 'spec/service_spec.rb', 'spec/user_spec.rb', 'spec/cookbooks/openstackclient_test/metadata.rb', 'metadata.rb']",23,191c9f421a652de2fcd202d8649b1da457649dd9,,version '20.1.0',version '20.0.0',216,258
openstack%2Fdesignate~stable%2Fxena~I53c2a0faf93be19eca259100fe6c3961ef4e7938,openstack/designate,stable/xena,I53c2a0faf93be19eca259100fe6c3961ef4e7938,Fix incorrect 404 error on floating IP create,MERGED,2022-06-03 18:38:59.000000000,2022-06-03 23:09:10.000000000,2022-06-03 23:08:03.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-03 18:38:59.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5237ce97da7b4c71723155c2276afdfe6af7dc9e', 'message': 'Fix incorrect 404 error on floating IP create\n\nThere is a case when creating a floating IP could return a 404 error instead of the expected floating IP payload.\nThis fix is extracted from a non-backportable fix that was applied on yoga a newer branches[1].\n\n[1] https://review.opendev.org/c/openstack/designate/+/830549\n\nChange-Id: I53c2a0faf93be19eca259100fe6c3961ef4e7938\n'}]",3,844633,5237ce97da7b4c71723155c2276afdfe6af7dc9e,13,3,1,11628,,,0,"Fix incorrect 404 error on floating IP create

There is a case when creating a floating IP could return a 404 error instead of the expected floating IP payload.
This fix is extracted from a non-backportable fix that was applied on yoga a newer branches[1].

[1] https://review.opendev.org/c/openstack/designate/+/830549

Change-Id: I53c2a0faf93be19eca259100fe6c3961ef4e7938
",git fetch https://review.opendev.org/openstack/designate refs/changes/33/844633/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,5237ce97da7b4c71723155c2276afdfe6af7dc9e,," try: recordset = self.storage.get_recordset( elevated_context, record.recordset_id) except exceptions.RecordSetNotFound: LOG.debug('No recordset found for %s', fip['id']) return fip_ptr"," recordset = self.storage.get_recordset( elevated_context, record.recordset_id)",6,2
openstack%2Fopenstack-chef~master~Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2,openstack/openstack-chef,master,Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2,Full coverage openstackclient integration testing,MERGED,2022-04-18 23:55:18.000000000,2022-06-03 23:04:28.000000000,2022-06-03 23:03:25.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 23:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/7f0656529f5a02fc56dfd0c25b3bfa225792f82d', 'message': 'Full coverage openstackclient integration testing\n\nThis provides full coverage of openstackclient cookbook integration testing.\nAlso enable multiple_converge when using kitchen to try and catch additional\nidempotency issues.\n\nChange-Id: Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2022-06-03 20:53:29.000000000', 'files': ['test/integration/openstackclient/inspec/openstackclient_spec.rb', 'test/cookbooks/openstack_test/recipes/openstackclient.rb', 'kitchen.yml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/763b9b5e1874ee90c21758c2158a3f9f16b17392', 'message': 'Full coverage openstackclient integration testing\n\nThis provides full coverage of openstackclient cookbook integration testing.\nAlso enable multiple_converge when using kitchen to try and catch additional\nidempotency issues.\n\nChange-Id: Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,838415,763b9b5e1874ee90c21758c2158a3f9f16b17392,9,2,2,21961,,,0,"Full coverage openstackclient integration testing

This provides full coverage of openstackclient cookbook integration testing.
Also enable multiple_converge when using kitchen to try and catch additional
idempotency issues.

Change-Id: Iaaf06bcbb8206f99c02bd6e89ecf8b8c2bf384e2
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/15/838415/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/integration/openstackclient/inspec/openstackclient_spec.rb', 'test/cookbooks/openstack_test/recipes/openstackclient.rb', 'kitchen.yml']",3,7f0656529f5a02fc56dfd0c25b3bfa225792f82d,openstackclient-idempotency, multiple_converge: 2 - recipe[openstack_test::openstackclient],,260,0
openstack%2Fcookbook-openstackclient~master~I33601eb5595c794a9a025417ed3bc88cfa6cfaf0,openstack/cookbook-openstackclient,master,I33601eb5595c794a9a025417ed3bc88cfa6cfaf0,Migrate to using converge_by and fix idempotency issues,MERGED,2022-04-18 23:55:53.000000000,2022-06-03 23:03:27.000000000,2022-06-03 23:03:27.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 23:55:53.000000000', 'files': ['spec/cookbooks/openstackclient_test/recipes/project.rb', 'spec/project_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/service.rb', 'libraries/openstack_base.rb', 'libraries/openstack_service.rb', 'spec/endpoint_spec.rb', 'libraries/openstack_role.rb', 'spec/cookbooks/openstackclient_test/recipes/endpoint.rb', 'spec/cookbooks/openstackclient_test/recipes/role.rb', 'spec/cookbooks/openstackclient_test/recipes/user.rb', 'spec/role_spec.rb', 'libraries/openstack_domain.rb', 'libraries/openstack_project.rb', 'spec/domain_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/domain.rb', 'libraries/openstack_user.rb', 'spec/spec_helper.rb', 'Rakefile', 'libraries/openstack_endpoint.rb', 'spec/service_spec.rb', 'spec/user_spec.rb', 'spec/cookbooks/openstackclient_test/metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/2402afd6709b54a4b8e7d39bd6f08aeba1ed8504', 'message': 'Migrate to using converge_by and fix idempotency issues\n\n- Migrate away from using the log resource to using converge_by. This finally\n  fixes idempotency issues we were having with all of these resources\n- Fix :delete action in openstack_domain by disabling the domain prior to\n  destroying it\n- Add missing references to new_resource parameters\n- Fix :delete action in openstack_endpoint resource\n- Add domain_name property in openstack_project resource. This is required and\n  would throw a deprecation warning in the backend system.\n- Fix logic around user grant/revoke actions\n- Cookstyle fixes\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/838415\nChange-Id: I33601eb5595c794a9a025417ed3bc88cfa6cfaf0\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,838416,2402afd6709b54a4b8e7d39bd6f08aeba1ed8504,6,2,1,21961,,,0,"Migrate to using converge_by and fix idempotency issues

- Migrate away from using the log resource to using converge_by. This finally
  fixes idempotency issues we were having with all of these resources
- Fix :delete action in openstack_domain by disabling the domain prior to
  destroying it
- Add missing references to new_resource parameters
- Fix :delete action in openstack_endpoint resource
- Add domain_name property in openstack_project resource. This is required and
  would throw a deprecation warning in the backend system.
- Fix logic around user grant/revoke actions
- Cookstyle fixes

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/838415
Change-Id: I33601eb5595c794a9a025417ed3bc88cfa6cfaf0
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/16/838416/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/cookbooks/openstackclient_test/recipes/project.rb', 'spec/project_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/service.rb', 'libraries/openstack_base.rb', 'libraries/openstack_service.rb', 'spec/endpoint_spec.rb', 'libraries/openstack_role.rb', 'spec/cookbooks/openstackclient_test/recipes/endpoint.rb', 'spec/cookbooks/openstackclient_test/recipes/role.rb', 'spec/cookbooks/openstackclient_test/recipes/user.rb', 'spec/role_spec.rb', 'libraries/openstack_domain.rb', 'libraries/openstack_project.rb', 'spec/domain_spec.rb', 'spec/cookbooks/openstackclient_test/recipes/domain.rb', 'libraries/openstack_user.rb', 'spec/spec_helper.rb', 'Rakefile', 'libraries/openstack_endpoint.rb', 'spec/service_spec.rb', 'spec/user_spec.rb', 'spec/cookbooks/openstackclient_test/metadata.rb']",22,2402afd6709b54a4b8e7d39bd6f08aeba1ed8504,openstackclient-idempotency,"# Copyright:: 2016-2022, cloudbau GmbH","# Copyright:: 2016-2021, cloudbau GmbH",215,257
openstack%2Fcharm-openstack-dashboard~master~Ia741bf3d8298f66b4f1e2324159d4ab851634efb,openstack/charm-openstack-dashboard,master,Ia741bf3d8298f66b4f1e2324159d4ab851634efb,Set customization_module in local_settings.py,MERGED,2022-06-03 18:58:45.000000000,2022-06-03 22:46:31.000000000,2022-06-03 22:46:31.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 18:58:45.000000000', 'files': ['templates/newton/local_settings.py', 'templates/stein/local_settings.py', 'templates/ocata/local_settings.py', 'templates/queens/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/15c0d3421129641a14f90a5ac10f3b591b4b7730', 'message': 'Set customization_module in local_settings.py\n\nThe configuration key customization-module is expected to set\nHORIZON_CONFIG[""customization_module""] in local_settings.py although\nthis was missing from the template for releases >= newton.\n\nChange-Id: Ia741bf3d8298f66b4f1e2324159d4ab851634efb\nCloses-Bug: #1977494\n'}]",0,844638,15c0d3421129641a14f90a5ac10f3b591b4b7730,7,3,1,2424,,,0,"Set customization_module in local_settings.py

The configuration key customization-module is expected to set
HORIZON_CONFIG[""customization_module""] in local_settings.py although
this was missing from the template for releases >= newton.

Change-Id: Ia741bf3d8298f66b4f1e2324159d4ab851634efb
Closes-Bug: #1977494
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/38/844638/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/newton/local_settings.py', 'templates/stein/local_settings.py', 'templates/ocata/local_settings.py', 'templates/queens/local_settings.py']",4,15c0d3421129641a14f90a5ac10f3b591b4b7730,bug/1977494,"HORIZON_CONFIG[""customization_module""] = ""{{ customization_module }}""",,5,0
openstack%2Ftripleo-ansible~master~I756365162e4bf435adbb2cc32b1dc7a31a7e950d,openstack/tripleo-ansible,master,I756365162e4bf435adbb2cc32b1dc7a31a7e950d,[tripleo_podman] Add network_backend section in containers.conf,MERGED,2022-06-03 13:40:58.000000000,2022-06-03 22:31:09.000000000,2022-06-03 22:31:09.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-06-03 13:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7654db9d00bad03eaa5e96ff5370599da3fb9704', 'message': '[tripleo_podman] Add network_backend section in containers.conf\n\nhttps://github.com/containers/common/commit/c599369842c204eadf9191554f9781ebfa0ad70f#diff-553c14d0ba1ded3ba9cc0026de8bcba3df444cde5212d8438932fa58246901fbR281\nprovides a way to use cni or netavark as a network backend\nwith podman.\n\nWith podman-4.0 netavark is used. This changes makes it\nconfigurable.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I756365162e4bf435adbb2cc32b1dc7a31a7e950d\n'}, {'number': 2, 'created': '2022-06-03 13:42:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1ae9a33e1a8d1bb83f6eefe1e8210d83443df8cc', 'message': '[tripleo_podman] Add network_backend section in containers.conf\n\nhttps://github.com/containers/common/commit/c599369842c204eadf9191554f9781ebfa0ad70f#diff-553c14d0ba1ded3ba9cc0026de8bcba3df444cde5212d8438932fa58246901fbR281\nprovides a way to use cni or netavark as a network backend\nwith podman.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes it\nconfigurable.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I756365162e4bf435adbb2cc32b1dc7a31a7e950d\n'}]",3,844593,1ae9a33e1a8d1bb83f6eefe1e8210d83443df8cc,11,9,2,12393,,,0,"[tripleo_podman] Add network_backend section in containers.conf

https://github.com/containers/common/commit/c599369842c204eadf9191554f9781ebfa0ad70f#diff-553c14d0ba1ded3ba9cc0026de8bcba3df444cde5212d8438932fa58246901fbR281
provides a way to use cni or netavark as a network backend
with podman.

With podman-4.0 in RHEL-9, netavark is used. This changes makes it
configurable.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I756365162e4bf435adbb2cc32b1dc7a31a7e950d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/844593/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",3,7654db9d00bad03eaa5e96ff5370599da3fb9704,network_backend," - section: network option: network_backend value: ""\""{{ tripleo_container_default_network_backend }}\""""",,5,0
openstack%2Ftripleo-heat-templates~master~Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388,openstack/tripleo-heat-templates,master,Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388,Remove deprecated memcached::listen_ip,MERGED,2022-05-30 06:14:35.000000000,2022-06-03 22:25:11.000000000,2022-06-03 22:25:11.000000000,"[{'_account_id': 6926}, {'_account_id': 14250}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-05-30 06:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fa9fa54006350ba8b4817bdf24bfa2026634ed0', 'message': 'Replace deprecated memcache::listen_ip\n\nThe parameter is deprecated in favor of the new listen parameter since\npuppet-memcached 6.0.0[1].\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51\n\nChange-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388\n'}, {'number': 2, 'created': '2022-05-30 06:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b2b8c3cb5cebda8d8ce0ef4e201a7990afdc41d', 'message': 'Replace deprecated memcached::listen_ip\n\nThe parameter is deprecated in favor of the new listen parameter since\npuppet-memcached 6.0.0[1].\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51\n\nChange-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388\n'}, {'number': 3, 'created': '2022-05-30 06:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f24120320ac45c4275b7b317c9405a93c50dd38a', 'message': 'Replace deprecated memcached::listen_ip\n\nThe parameter is deprecated in favor of the new listen parameter since\npuppet-memcached 6.0.0[1].\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51\n\nChange-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388\n'}, {'number': 4, 'created': '2022-05-30 06:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56b0f421d161d2f5c6e6ac91a19accdba7f2fbb7', 'message': 'Replace deprecated memcached::listen_ip\n\nThe parameter is deprecated in favor of the new listen parameter since\npuppet-memcached 6.0.0[1].\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51\n\nChange-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388\n'}, {'number': 5, 'created': '2022-06-02 14:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2cf1c9ecbab9990ea8cafbf02724fa47be71140', 'message': 'Replace deprecated memcached::listen_ip\n\nThe parameter is deprecated in favor of the new listen parameter since\npuppet-memcached 6.0.0[1].\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51\n\nChange-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388\n'}, {'number': 6, 'created': '2022-06-02 14:20:28.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f86aab78ca652f5b0c1304f190f91645d4776ed', 'message': 'Remove deprecated memcached::listen_ip\n\nThe parameter is deprecated in favor of the new listen parameter since\npuppet-memcached 6.0.0[1].\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51\n\nChange-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388\n'}]",0,843775,0f86aab78ca652f5b0c1304f190f91645d4776ed,16,6,6,9816,,,0,"Remove deprecated memcached::listen_ip

The parameter is deprecated in favor of the new listen parameter since
puppet-memcached 6.0.0[1].

[1] https://github.com/saz/puppet-memcached/commit/0e99f8572d94ea694e38d32406d3cd9e930f2a51

Change-Id: Id1fb220c7a41eb03c7f0e5fca9eda5d3834d0388
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/843775/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,6fa9fa54006350ba8b4817bdf24bfa2026634ed0,, memcached::listen: &memcache_listen, # NOTE(xek): the IP addresses are configured with: # memcached::listen - the new way # memcached::listen_ip - will be deprecated # see: https://github.com/saz/puppet-memcached/pull/127 memcached::listen_ip: &memcache_listen,1,5
openstack%2Ftripleo-heat-templates~master~I57dc45ba87a09a65cca4c735c7900bfe554be67d,openstack/tripleo-heat-templates,master,I57dc45ba87a09a65cca4c735c7900bfe554be67d,"Revert ""Revert ""Use tripleo_keystone role""""",MERGED,2022-05-18 21:48:40.000000000,2022-06-03 22:25:07.000000000,2022-06-03 22:25:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-18 21:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16f9a786a7031d19e2f2e622f83fc153da4e777d', 'message': 'Revert ""Revert ""Use tripleo_keystone role""""\n\nThis revert to re-enable using tripleo_keystone depends on the patch to\ntripleo_keystone and tripleo_container_standalone that fixes the\nconcatenation of volumes when internal tls is enabled.\n\nThis reverts commit aa1ad7a5df4c7b1ccf7f43eecb59c09ede652536.\nRelated-Bug: #1973863\nDepends-On: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nChange-Id: I57dc45ba87a09a65cca4c735c7900bfe554be67d\n'}, {'number': 2, 'created': '2022-05-18 22:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3e97793d96e6f41ae4e0a81d926dbe78de7a7b9', 'message': 'Revert ""Revert ""Use tripleo_keystone role""""\n\nThis revert to re-enable using tripleo_keystone depends on the patch to\ntripleo_keystone and tripleo_container_standalone that fixes the\nconcatenation of volumes when internal tls is enabled.\n\nThis reverts commit aa1ad7a5df4c7b1ccf7f43eecb59c09ede652536.\nRelated-Bug: #1973863\nDepends-On: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nChange-Id: I57dc45ba87a09a65cca4c735c7900bfe554be67d\n'}, {'number': 3, 'created': '2022-05-31 20:26:52.000000000', 'files': ['deployment/logging/files/keystone.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5139180f3f009cd6ee6e86e308b1875174fd17bc', 'message': 'Revert ""Revert ""Use tripleo_keystone role""""\n\nThis revert to re-enable using tripleo_keystone depends on the patch to\ntripleo_keystone and tripleo_container_standalone that fixes the\nconcatenation of volumes when internal tls is enabled.\n\nThis reverts commit aa1ad7a5df4c7b1ccf7f43eecb59c09ede652536.\nRelated-Bug: #1973863\nDepends-On: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nChange-Id: I57dc45ba87a09a65cca4c735c7900bfe554be67d\n'}]",4,842438,5139180f3f009cd6ee6e86e308b1875174fd17bc,17,5,3,7144,,,0,"Revert ""Revert ""Use tripleo_keystone role""""

This revert to re-enable using tripleo_keystone depends on the patch to
tripleo_keystone and tripleo_container_standalone that fixes the
concatenation of volumes when internal tls is enabled.

This reverts commit aa1ad7a5df4c7b1ccf7f43eecb59c09ede652536.
Related-Bug: #1973863
Depends-On: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47
Change-Id: I57dc45ba87a09a65cca4c735c7900bfe554be67d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/842438/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/files/keystone.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",2,16f9a786a7031d19e2f2e622f83fc153da4e777d,standalone-roles," ansible_group_vars: tripleo_keystone_image: &keystone_image {get_attr: [RoleParametersValue, value, ContainerKeystoneImage]} tripleo_keystone_volumes: - /etc/openldap:/etc/openldap:ro - /var/lib/kolla/config_files/keystone.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone:/var/lib/kolla/config_files/src:ro tripleo_keystone_common_volumes: {get_attr: [ContainersCommon, volumes]} tripleo_keystone_logging_volumes: {get_attr: [KeystoneLogging, volumes]} tripleo_keystone_enable_internal_tls: {get_param: EnableInternalTLS} tripleo_keystone_internal_tls_volumes: - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro tripleo_keystone_environment: KOLLA_BOOTSTRAP: true KOLLA_CONFIG_STRATEGY: COPY_ALWAYS TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} tripleo_keystone_logging_environment: {get_attr: [KeystoneLogging, environment]} - name: Keystone DB sync include_role: name: tripleo_keystone tasks_from: keystone-db-sync.yaml when: - step|int == 3 - name: Keystone containers import_role: name: tripleo_keystone tasks_from: keystone.yaml when: - step|int == 3 - name: Keystone bootstrap containers import_role: name: tripleo_keystone tasks_from: keystone-bootstrap.yaml when: - step|int == 3 vars: tripleo_keystone_admin_password: {get_param: AdminPassword} tripleo_keystone_admin_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]} tripleo_keystone_public_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} tripleo_keystone_internal_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} tripleo_keystone_region: {get_param: KeystoneRegion} - - include_role: name: tripleo_keystone tasks_from: keystone-install.yaml"," kolla_config: /var/lib/kolla/config_files/keystone.json: command: /usr/sbin/httpd config_files: - source: ""/var/lib/kolla/config_files/src/etc/keystone/fernet-keys"" dest: ""/etc/keystone/fernet-keys"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.d"" dest: ""/etc/httpd/conf.d"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.modules.d"" dest: ""/etc/httpd/conf.modules.d"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true /var/lib/kolla/config_files/keystone_cron.json: # FIXME(dprince): this is unused ATM because Kolla hardcodes the # args for the keystone container to -DFOREGROUND command: /usr/sbin/crond -n config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true step_3: keystone_db_sync: image: &keystone_image {get_attr: [RoleParametersValue, value, ContainerKeystoneImage]} net: host user: root privileged: false detach: false volumes: &keystone_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /etc/openldap:/etc/openldap:ro - /var/lib/kolla/config_files/keystone.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro environment: map_merge: - {get_attr: [KeystoneLogging, environment]} - KOLLA_BOOTSTRAP: true KOLLA_CONFIG_STRATEGY: COPY_ALWAYS TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} command: ['/usr/bin/bootstrap_host_exec', 'keystone', '/usr/local/bin/kolla_start'] keystone: start_order: 2 image: *keystone_image net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: *keystone_volumes environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS keystone_bootstrap: start_order: 3 action: exec user: root command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap' ] environment: KOLLA_BOOTSTRAP: true OS_BOOTSTRAP_PASSWORD: {get_param: AdminPassword} OS_BOOTSTRAP_USERNAME: 'admin' OS_BOOTSTRAP_PROJECT_NAME: 'admin' OS_BOOTSTRAP_ROLE_NAME: 'admin' OS_BOOTSTRAP_SERVICE_NAME: 'keystone' OS_BOOTSTRAP_ADMIN_URL: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]} OS_BOOTSTRAP_PUBLIC_URL: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} OS_BOOTSTRAP_INTERNAL_URL: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} OS_BOOTSTRAP_REGION_ID: {get_param: KeystoneRegion} keystone_cron: start_order: 4 image: *keystone_image user: root net: host privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron keystone' command: ['/bin/bash', '-c', '/usr/local/bin/kolla_set_configs && /usr/sbin/crond -n'] volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /var/lib/kolla/config_files/keystone_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone:/var/lib/kolla/config_files/src:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - - name: Check if file certs_valid exist stat: path: ""/etc/openldap/certs/certs_valid"" register: certs_valid_stat - name: Check if file cert9.db exist stat: path: ""/etc/openldap/certs/cert9.db"" register: cert9_stat when: not certs_valid_stat.stat.exists - name: Check if file key4.db exist stat: path: ""/etc/openldap/certs/key4.db"" register: key4_stat when: not certs_valid_stat.stat.exists - fail: msg: > Keys and/or certificates were found in /etc/openldap/certs but these conflicts with keystone python LDAP calls. If you know those certificates are valid and not causing any conflicts, you can touch /etc/openldap/certs/certs_valid in order to skip this failure and retry or you can delete the files located in /etc/openldap/certs and retry. when: >- ( cert9_stat.stat.exists or key4_stat.stat.exists ) and not certs_valid_stat.stat.exists",49,134
openstack%2Fhorizon~master~Ie256118c0a84a8868393018b25b0aa049582a17d,openstack/horizon,master,Ie256118c0a84a8868393018b25b0aa049582a17d,Speed up integration tests,MERGED,2022-05-13 13:38:09.000000000,2022-06-03 21:55:49.000000000,2022-06-03 21:54:10.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-13 13:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ef5f206974f16481a0b00312900d7816b16c0be9', 'message': 'Speed up integration tests\n\nIt takes 10 seconds to throw NoSuchElementException.\n\nChange-Id: Ie256118c0a84a8868393018b25b0aa049582a17d\n'}, {'number': 2, 'created': '2022-05-17 11:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c15ca6ffe8570d62e7c0d9a63eabed4c537b0443', 'message': ""Speed up integration tests\n\nWe have a place in the form-handling code where we look for the\nblue form submit button, and if it's not found, we look for the\nred form submit button. It looks correct at first glance, however\nit takes 10 seconds to throw NoSuchElementException, because there\nis a delay that makes sure that the page loads fully before raising\nthat exception. Replacing this with a selector that find both the\nblue and the red buttons in one query speeds the whole integration\ntests suite by half an hour, because there is no more waiting on\nevery delete confirmation dialog.\n\nChange-Id: Ie256118c0a84a8868393018b25b0aa049582a17d\n""}, {'number': 3, 'created': '2022-05-17 11:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/037b7ce82dae0aa8042d3b0bb623a4d8f1e907af', 'message': ""Speed up integration tests\n\nWe have a place in the form-handling code where we look for the\nblue form submit button, and if it's not found, we look for the\nred form submit button. It looks correct at first glance, however\nit takes 10 seconds to throw NoSuchElementException, because there\nis a delay that makes sure that the page loads fully before raising\nthat exception. Replacing this with a selector that finds both the\nblue and the red buttons in one query speeds the whole integration\ntests suite by half an hour, because there is no more waiting on\nevery delete confirmation dialog.\n\nChange-Id: Ie256118c0a84a8868393018b25b0aa049582a17d\n""}, {'number': 4, 'created': '2022-05-31 07:33:19.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2e6eca294718deb7e82f50c071d332377c35085f', 'message': ""Speed up integration tests\n\nWe have a place in the form-handling code where we look for the\nblue form submit button, and if it's not found, we look for the\nred form submit button. It looks correct at first glance, however\nit takes 10 seconds to throw NoSuchElementException, because there\nis a delay that makes sure that the page loads fully before raising\nthat exception. Replacing this with a selector that finds both the\nblue and the red buttons in one query speeds the whole integration\ntests suite by half an hour, because there is no more waiting on\nevery delete confirmation dialog.\n\nChange-Id: Ie256118c0a84a8868393018b25b0aa049582a17d\n""}]",12,841763,2e6eca294718deb7e82f50c071d332377c35085f,43,7,4,8648,,,0,"Speed up integration tests

We have a place in the form-handling code where we look for the
blue form submit button, and if it's not found, we look for the
red form submit button. It looks correct at first glance, however
it takes 10 seconds to throw NoSuchElementException, because there
is a delay that makes sure that the page loads fully before raising
that exception. Replacing this with a selector that finds both the
blue and the red buttons in one query speeds the whole integration
tests suite by half an hour, because there is no more waiting on
every delete confirmation dialog.

Change-Id: Ie256118c0a84a8868393018b25b0aa049582a17d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/841763/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/regions/forms.py'],1,ef5f206974f16481a0b00312900d7816b16c0be9,integration-speedup," _submit_locator = (by.By.CSS_SELECTOR, '*.btn.btn-primary,*.btn.btn-danger') submit_element = self._get_element(*self._submit_locator)"," _submit_locator = (by.By.CSS_SELECTOR, '*.btn.btn-primary') _submit_danger_locator = (by.By.CSS_SELECTOR, '*.btn.btn-danger') try: submit_element = self._get_element(*self._submit_locator) except exceptions.NoSuchElementException: submit_element = self._get_element(*self._submit_danger_locator)",2,6
openstack%2Ftripleo-heat-templates~master~I2e460c9f3e71c22c94ccb722db63ed31af73f450,openstack/tripleo-heat-templates,master,I2e460c9f3e71c22c94ccb722db63ed31af73f450,Deprecate SshServerOptionsOverrides,MERGED,2022-05-31 11:34:02.000000000,2022-06-03 21:47:52.000000000,2022-06-03 21:46:42.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-31 11:34:02.000000000', 'files': ['releasenotes/notes/deprecate-SshServerOptionsOverrides-parameter-40820bd943e20018.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e174fd82cf11d65cfd02ca428774ee14548822c7', 'message': ""Deprecate SshServerOptionsOverrides\n\nIt's very confusing to provide one parameter with a default and\nthen add another to override it. This would allow merging of the\nSshServerOptions as expected.\n\nChange-Id: I2e460c9f3e71c22c94ccb722db63ed31af73f450\n""}]",6,844039,e174fd82cf11d65cfd02ca428774ee14548822c7,16,8,1,8833,,,0,"Deprecate SshServerOptionsOverrides

It's very confusing to provide one parameter with a default and
then add another to override it. This would allow merging of the
SshServerOptions as expected.

Change-Id: I2e460c9f3e71c22c94ccb722db63ed31af73f450
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/844039/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-SshServerOptionsOverrides-parameter-40820bd943e20018.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml']",3,e174fd82cf11d65cfd02ca428774ee14548822c7,," description: Mapping of sshd_config values # DEPRECATED: the following options are deprecated and are currently maintained # for backwards compatibility. SshServerOptionsOverrides: default: {} description: Mapping of sshd_config values to override definitions in SshServerOptions type: json parameter_groups: - label: deprecated description: | The following parameters are deprecated and will be removed. They should not be relied on for new deployments. If you have concerns regarding deprecated parameters, please contact the TripleO development team on IRC or the OpenStack mailing list. parameters: - SshServerOptionsOverrides", default: HostKey: - '/etc/ssh/ssh_host_rsa_key' - '/etc/ssh/ssh_host_ecdsa_key' - '/etc/ssh/ssh_host_ed25519_key' SyslogFacility: 'AUTHPRIV' AuthorizedKeysFile: '.ssh/authorized_keys' ChallengeResponseAuthentication: 'no' GSSAPIAuthentication: 'no' GSSAPICleanupCredentials: 'no' UsePAM: 'yes' UseDNS: 'no' X11Forwarding: 'yes' AcceptEnv: - 'LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES' - 'LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT' - 'LC_IDENTIFICATION LC_ALL LANGUAGE' - 'XMODIFIERS' Subsystem: 'sftp /usr/libexec/openssh/sftp-server' description: Mapping of sshd_config values type: json SshServerOptionsOverrides: description: Mapping of sshd_config values to override definitions in SshServerOptions,43,24
openstack%2Ftripleo-heat-templates~master~Ifa80bee358edf1e8c07ed4ac62bcf676d65ab925,openstack/tripleo-heat-templates,master,Ifa80bee358edf1e8c07ed4ac62bcf676d65ab925,Remove Keystone and Memcache from Undercloud,MERGED,2022-05-26 14:34:33.000000000,2022-06-03 21:46:51.000000000,2022-06-03 21:46:51.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-26 14:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4a0ec3396989375c9f26a133f724611c9ac0f62', 'message': 'Remove Keystone and Memcache from Undercloud\n\nKeystone is no longer used in undercloud since we replaced it by basic\nauth mechanism[1].\n\n[1] c293dfc7b1f4aed4d2f92c7f9aa38c06fe0d9841\n\nChange-Id: Ifa80bee358edf1e8c07ed4ac62bcf676d65ab925\n'}, {'number': 2, 'created': '2022-05-26 14:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bd3104fa105c5012d0ccee11d8a2d498099bba8', 'message': 'Remove Keystone and Memcache from Undercloud\n\nKeystone is no longer used in undercloud since we replaced it by basic\nauth mechanism[1].\n\nAlso, memcached was used by caching(Keystone, Nova and Heat) and\nthe authtoken middleware but all of these are no longer used in\nundercloud. (Ephemeral Heat does not use caching with memcached.)\n\n[1] c293dfc7b1f4aed4d2f92c7f9aa38c06fe0d9841\n\nChange-Id: Ifa80bee358edf1e8c07ed4ac62bcf676d65ab925\n'}, {'number': 3, 'created': '2022-05-26 15:52:04.000000000', 'files': ['environments/undercloud.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7d34e2994ce26fd4886cf4cb45b32b819e85dde', 'message': 'Remove Keystone and Memcache from Undercloud\n\nKeystone is no longer used in undercloud since we replaced it by basic\nauth mechanism[1].\n\nAlso, memcached was used by caching(Keystone, Nova and Heat) and\nthe authtoken middleware but all of these are no longer used in\nundercloud. (Ephemeral Heat does not use caching with memcached.)\n\n[1] c293dfc7b1f4aed4d2f92c7f9aa38c06fe0d9841\n\nChange-Id: Ifa80bee358edf1e8c07ed4ac62bcf676d65ab925\n'}]",0,843473,b7d34e2994ce26fd4886cf4cb45b32b819e85dde,11,5,3,9816,,,0,"Remove Keystone and Memcache from Undercloud

Keystone is no longer used in undercloud since we replaced it by basic
auth mechanism[1].

Also, memcached was used by caching(Keystone, Nova and Heat) and
the authtoken middleware but all of these are no longer used in
undercloud. (Ephemeral Heat does not use caching with memcached.)

[1] c293dfc7b1f4aed4d2f92c7f9aa38c06fe0d9841

Change-Id: Ifa80bee358edf1e8c07ed4ac62bcf676d65ab925
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/843473/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'roles_data_undercloud.yaml']",2,a4a0ec3396989375c9f26a133f724611c9ac0f62,,, - OS::TripleO::Services::Keystone - OS::TripleO::Services::Memcached,0,5
openstack%2Fvalidations-common~master~Ia1aaf3bf507145977b2065efad2550c6c0f07885,openstack/validations-common,master,Ia1aaf3bf507145977b2065efad2550c6c0f07885,Bumping flake8-typing-imports to version 1.12.0,MERGED,2022-06-03 10:27:17.000000000,2022-06-03 21:46:48.000000000,2022-06-03 21:46:48.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-06-03 10:27:17.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fd47e7f4ea46690771d1fd94906daa0d34570e79', 'message': 'Bumping flake8-typing-imports to version 1.12.0\n\nMoving to version 1.12.0 will allow the library to handle the newest version\nof our code intended for python runtimes >= 3.8\n\nCloses-Bug: #1977495\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia1aaf3bf507145977b2065efad2550c6c0f07885\n'}]",0,844569,fd47e7f4ea46690771d1fd94906daa0d34570e79,8,4,1,32926,,,0,"Bumping flake8-typing-imports to version 1.12.0

Moving to version 1.12.0 will allow the library to handle the newest version
of our code intended for python runtimes >= 3.8

Closes-Bug: #1977495

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia1aaf3bf507145977b2065efad2550c6c0f07885
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/69/844569/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,fd47e7f4ea46690771d1fd94906daa0d34570e79,vf/flake8-typing-1.12.0, additional_dependencies: [flake8-typing-imports==1.12.0], additional_dependencies: [flake8-typing-imports==1.6.0],1,1
openstack%2Fvalidations-libs~master~Ieb3d9b34048a624da0aca8d9cd095e5a06942d30,openstack/validations-libs,master,Ieb3d9b34048a624da0aca8d9cd095e5a06942d30,Bumping flake8-typing-imports to version 1.12.0,MERGED,2022-06-03 09:50:42.000000000,2022-06-03 21:46:47.000000000,2022-06-03 21:46:47.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-06-03 09:50:42.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/134f49e1cc5aa0da54eae32c4fdcffb45b67fddf', 'message': 'Bumping flake8-typing-imports to version 1.12.0\n\nMoving to version 1.12.0 will allow the library to handle the newest version\nof our code intended for python runtimes >= 3.8\n\nCloses-Bug: #1977495\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ieb3d9b34048a624da0aca8d9cd095e5a06942d30\n'}]",0,844566,134f49e1cc5aa0da54eae32c4fdcffb45b67fddf,9,4,1,32926,,,0,"Bumping flake8-typing-imports to version 1.12.0

Moving to version 1.12.0 will allow the library to handle the newest version
of our code intended for python runtimes >= 3.8

Closes-Bug: #1977495

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ieb3d9b34048a624da0aca8d9cd095e5a06942d30
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/66/844566/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,134f49e1cc5aa0da54eae32c4fdcffb45b67fddf,vf/flake8-typing-1.12.0, additional_dependencies: [flake8-typing-imports==1.12.0], additional_dependencies: [flake8-typing-imports==1.6.0],1,1
openstack%2Ftripleo-validations~master~Ife38d8fa5f132d0c8829c5405c635316823beca4,openstack/tripleo-validations,master,Ife38d8fa5f132d0c8829c5405c635316823beca4,Bumping flake8-typing-imports to version 1.12.0,MERGED,2022-06-03 10:24:34.000000000,2022-06-03 21:46:45.000000000,2022-06-03 21:46:45.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-06-03 10:24:34.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6ad39a9e423ef821ab46da5797dbda855e42fc7', 'message': 'Bumping flake8-typing-imports to version 1.12.0\n\nMoving to version 1.12.0 will allow the library to handle the newest version\nof our code intended for python runtimes >= 3.8\n\nCloses-Bug: #1977495\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife38d8fa5f132d0c8829c5405c635316823beca4\n'}]",0,844568,c6ad39a9e423ef821ab46da5797dbda855e42fc7,9,4,1,32926,,,0,"Bumping flake8-typing-imports to version 1.12.0

Moving to version 1.12.0 will allow the library to handle the newest version
of our code intended for python runtimes >= 3.8

Closes-Bug: #1977495

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ife38d8fa5f132d0c8829c5405c635316823beca4
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/844568/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,c6ad39a9e423ef821ab46da5797dbda855e42fc7,vf/flake8-typing-1.12.0, additional_dependencies: [flake8-typing-imports==1.12.0], additional_dependencies: [flake8-typing-imports==1.6.0],1,1
openstack%2Fcharm-openstack-dashboard~master~I6afe116c0cd1e04b5c37413c7daf556a9b05dee4,openstack/charm-openstack-dashboard,master,I6afe116c0cd1e04b5c37413c7daf556a9b05dee4,Fix warning messages related to enforce-ssl,MERGED,2022-05-31 22:54:19.000000000,2022-06-03 21:33:07.000000000,2022-06-03 21:33:07.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 22:54:19.000000000', 'files': ['hooks/horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/85423b1f735f7e162cdb4111f5fe8cc0caafa1a9', 'message': 'Fix warning messages related to enforce-ssl\n\nWhen enforce-ssl is set to false, a warning message comes up saying it is\nset to true. This should stop the message from coming up when\nenforce-ssl is false.\n\nRelated-Bug: #1818636\nChange-Id: I6afe116c0cd1e04b5c37413c7daf556a9b05dee4\n'}]",4,844146,85423b1f735f7e162cdb4111f5fe8cc0caafa1a9,15,3,1,34584,,,0,"Fix warning messages related to enforce-ssl

When enforce-ssl is set to false, a warning message comes up saying it is
set to true. This should stop the message from coming up when
enforce-ssl is false.

Related-Bug: #1818636
Change-Id: I6afe116c0cd1e04b5c37413c7daf556a9b05dee4
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/46/844146/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_contexts.py'],1,85423b1f735f7e162cdb4111f5fe8cc0caafa1a9,fix-enforce-ssl-check," if config('enforce-ssl'): if https(): ctxt['enforce_ssl'] = True else: log(""Enforce ssl redirect requested but ssl not configured - "" ""skipping redirect"", level=WARNING)"," if config('enforce-ssl') and https(): ctxt['enforce_ssl'] = True else: log(""Enforce ssl redirect requested but ssl not configured - "" ""skipping redirect"", level=WARNING)",6,5
openstack%2Fopenstack-helm-images~master~I87152fbf743ba444c72d0b65245e194bd9faa9b0,openstack/openstack-helm-images,master,I87152fbf743ba444c72d0b65245e194bd9faa9b0,Libvirt: Add Bullseye and remove SUSE dockerfiles,MERGED,2022-06-03 05:14:39.000000000,2022-06-03 21:21:21.000000000,2022-06-03 21:19:09.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2022-06-03 05:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0a6a337973ca3f3f7b21f674f87bf5419c6aab3a', 'message': 'Libvirt: Add Jammy and remove older dockerfiles\n\nChange-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0\n'}, {'number': 2, 'created': '2022-06-03 05:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/149fda4ddf03869191fb4c68c9c00946ab4a1a52', 'message': 'Libvirt: Add Jammy and remove older dockerfiles\n\nChange-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0\n'}, {'number': 3, 'created': '2022-06-03 15:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7868fdbe4eb3ab550c5e90ae3e5bac7f6826707f', 'message': 'Libvirt: Add Jammy and remove older dockerfiles\n\nChange-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0\n'}, {'number': 4, 'created': '2022-06-03 16:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a199370411b5862b14a2b8d4d4ebb6f45448b6fc', 'message': 'Libvirt: Add Jammy and remove older dockerfiles\n\nChange-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0\n'}, {'number': 5, 'created': '2022-06-03 16:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5e7a593eb3cdbb01a835dfc05a1b86691cc71894', 'message': 'Libvirt: Add Jammy and remove older dockerfiles\n\nChange-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0\n'}, {'number': 6, 'created': '2022-06-03 18:00:50.000000000', 'files': ['libvirt/suse_sle15_ceph_repo.key', 'libvirt/suse_leap15_virtualization_repo.key', 'zuul.d/libvirt.yaml', 'libvirt/Dockerfile.suse_15', 'libvirt/Dockerfile.debian_bullseye'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f30a6377bd74d5bc025cce1312270d410344c621', 'message': 'Libvirt: Add Bullseye and remove SUSE dockerfiles\n\nThis change adds a dockerfile for debian bullseye to\nbuild a libvirt image. Currently ceph does not have\na release file for ubuntu jammy.\n\nAlso removed the libvirt dockerfiles for SUSE since\nthey have not been maintained.\n\nChange-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0\n'}]",0,844540,f30a6377bd74d5bc025cce1312270d410344c621,18,3,6,21420,,,0,"Libvirt: Add Bullseye and remove SUSE dockerfiles

This change adds a dockerfile for debian bullseye to
build a libvirt image. Currently ceph does not have
a release file for ubuntu jammy.

Also removed the libvirt dockerfiles for SUSE since
they have not been maintained.

Change-Id: I87152fbf743ba444c72d0b65245e194bd9faa9b0
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/40/844540/4 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/suse_sle15_ceph_repo.key', 'libvirt/Dockerfile.ubuntu_jammy', 'libvirt/suse_leap15_virtualization_repo.key', 'libvirt/Dockerfile.suse_15']",4,0a6a337973ca3f3f7b21f674f87bf5419c6aab3a,libvirt,,"ARG FROM=opensuse/leap:15.1 FROM ${FROM} LABEL maintainer=""containers@suse.com"" ARG PROJECT=nova ARG UID=42424 ARG GID=42424 COPY suse_leap15_virtualization_repo.key /tmp/ RUN rpm --import /tmp/suse_leap15_virtualization_repo.key RUN set -ex ;\ zypper -n install \ ceph-common \ systemd \ dmidecode \ ebtables \ iproute2 \ libvirt \ python2-libvirt-python \ qemu \ qemu-block-rbd \ qemu-kvm \ openvswitch ;\ zypper ar ""http://download.opensuse.org/repositories/Virtualization/openSUSE_Leap_15.1"" Virtualization;\ zypper refresh ;\ zypper -n install \ libcgroup1 \ libcgroup-tools; \ zypper rr Virtualization; \ groupadd -g ${GID} ${PROJECT} ;\ useradd -u ${UID} -g ${PROJECT} -M -d /var/lib/${PROJECT} -s /usr/sbin/nologin -c ""${PROJECT} user"" ${PROJECT} ;\ mkdir -p /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ;\ chown ${PROJECT}:${PROJECT} /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ;\ usermod -a -G kvm ${PROJECT} ;\ zypper clean -a ;\ rm -rf \ /var/log/* \ /tmp/* \ /var/tmp/* ",24,89
openstack%2Fansible-hardening~master~Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf,openstack/ansible-hardening,master,Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf,Updated from OpenStack Ansible Tests,MERGED,2022-03-29 17:20:07.000000000,2022-06-03 21:12:53.000000000,2022-06-03 21:11:27.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-03-29 17:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/7502ea2e70f22ddfaa8e4380ced16760c671797c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf\n'}, {'number': 2, 'created': '2022-04-04 09:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/3ef87d4315ae6fcbb01c2a9e605f209d81e618ef', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf\n'}, {'number': 3, 'created': '2022-05-03 16:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/338f5018ffc5f031ac5160cd8428abeec26724fc', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://github.com/openstack/openstack-ansible-openstack_hosts\n\nChange-Id: Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf\n'}, {'number': 4, 'created': '2022-05-03 16:17:14.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/da6ffd7d65ad84299cce00faba3466ab2f5e8bf3', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/840353\n\nChange-Id: Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf\n'}]",3,835733,da6ffd7d65ad84299cce00faba3466ab2f5e8bf3,23,4,4,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/840353

Change-Id: Id5e2ba2e6d4b5970be4ae3115bfb090652b500bf
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/33/835733/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,7502ea2e70f22ddfaa8e4380ced16760c671797c,openstack/openstack-ansible-tests/sync-tests," centos|rhel|fedora|rocky) pkg_mgr_cmd=""dnf install -y"" ;;"," centos|rhel|fedora) pkg_mgr_cmd=""dnf install -y"" ;;",1,1
openstack%2Fcharm-deployment-guide~master~I36442bfc8ff9267786cce87b32dfff2348c30f57,openstack/charm-deployment-guide,master,I36442bfc8ff9267786cce87b32dfff2348c30f57,Add intersphinx Sphinx extension,MERGED,2022-06-02 17:38:05.000000000,2022-06-03 21:10:17.000000000,2022-06-03 21:09:04.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 17:38:05.000000000', 'files': ['deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5920c9ffab2c73e07c9515951a1dff60c2c739d9', 'message': 'Add intersphinx Sphinx extension\n\nAdd the intersphinx Sphinx extension to enable seamless\nlinking from the charm-guide.\n\nThis is already enabled for the charm-guide - for seamless\nlinking from this guide (deploy-guide).\n\nChange-Id: I36442bfc8ff9267786cce87b32dfff2348c30f57\n'}]",0,844508,5920c9ffab2c73e07c9515951a1dff60c2c739d9,7,2,1,30561,,,0,"Add intersphinx Sphinx extension

Add the intersphinx Sphinx extension to enable seamless
linking from the charm-guide.

This is already enabled for the charm-guide - for seamless
linking from this guide (deploy-guide).

Change-Id: I36442bfc8ff9267786cce87b32dfff2348c30f57
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/08/844508/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/conf.py'],1,5920c9ffab2c73e07c9515951a1dff60c2c739d9,add-intersphinx-extension,"extensions = [ 'openstackdocstheme', 'sphinx.ext.intersphinx' ] intersphinx_mapping = { 'cg': ('https://docs.openstack.org/charm-guide/latest', None) }",extensions = ['openstackdocstheme'],8,1
openstack%2Fopenstack-helm-infra~master~I251ced47224f2c1d369cb6acf68784cf3351ade0,openstack/openstack-helm-infra,master,I251ced47224f2c1d369cb6acf68784cf3351ade0,follow redirects when downloading calico manifests,MERGED,2022-06-03 17:06:20.000000000,2022-06-03 21:01:03.000000000,2022-06-03 20:59:50.000000000,"[{'_account_id': 1131}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 31728}]","[{'number': 1, 'created': '2022-06-03 17:06:20.000000000', 'files': ['tools/gate/deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6aa283d60dfdca6c7ac10e33af5d9887a4fcaf93', 'message': 'follow redirects when downloading calico manifests\n\nWhen attempting to use Calico v3.23, docs.projectcalico.org is\nredirected to projectcalico.docs.tigera.io.\n\nCalico v3.20 does not exist at the new URL, so following redirects\nto handle both cases.\n\nChange-Id: I251ced47224f2c1d369cb6acf68784cf3351ade0\n'}]",1,844622,6aa283d60dfdca6c7ac10e33af5d9887a4fcaf93,11,6,1,28701,,,0,"follow redirects when downloading calico manifests

When attempting to use Calico v3.23, docs.projectcalico.org is
redirected to projectcalico.docs.tigera.io.

Calico v3.20 does not exist at the new URL, so following redirects
to handle both cases.

Change-Id: I251ced47224f2c1d369cb6acf68784cf3351ade0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/22/844622/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/deploy-k8s.sh'],1,6aa283d60dfdca6c7ac10e33af5d9887a4fcaf93,,"curl -L https://docs.projectcalico.org/""${CALICO_VERSION}""/manifests/calico.yaml -o /tmp/calico.yaml","curl https://docs.projectcalico.org/""${CALICO_VERSION}""/manifests/calico.yaml -o /tmp/calico.yaml",1,1
openstack%2Fdevstack~master~I94818a19f19973779cb2e11753d2881d54dfa3bc,openstack/devstack,master,I94818a19f19973779cb2e11753d2881d54dfa3bc,Allow to skip stop of ovn services,MERGED,2022-04-26 11:28:03.000000000,2022-06-03 20:41:27.000000000,2022-06-03 20:40:15.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-26 11:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a37ce3e0436947b605562b73811c009cd52707a3', 'message': ""Seperate out ovn data plane and db services stop\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn't stop these services along with other\novn control plane services when calling stop_ovn function.\nThis will also fix the ovn grenade jobs.\n\nStopping of these services have been moved to different\nfunction and that is called during unstack to stop\nthese services.\n\nChange-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc\n""}, {'number': 2, 'created': '2022-04-26 13:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/11c69366a55c0276fa4933e8b9f55a99d627cf95', 'message': ""Seperate out ovn data plane and db services stop\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn't stop these services along with other\novn control plane services when calling stop_ovn function.\nThis will also fix the ovn grenade jobs.\n\nStopping of these services have been moved to different\nfunction and that is called during unstack to stop\nthese services.\n\nAlso source fixup_stuff.sh so function fixup_ovn_centos\nis available. It's already sourced in stack.sh but\nthat's not used in grenade run.\n\nChange-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc\n""}, {'number': 3, 'created': '2022-05-31 07:30:11.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6dd896feface3d0413437221a63e508b359ed615', 'message': 'Allow to skip stop of ovn services\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn\'t stop these services along with other\nneutron services. This patch adds a new variable\n""SKIP_STOP_OVN"" which can be used by grenade jobs\nto skip stop of ovn services.\n\nThis will also fix the ovn grenade jobs.\n\nAlso source fixup_stuff.sh so function fixup_ovn_centos\nis available. It\'s already sourced in stack.sh but\nthat\'s not used in grenade run.\n\nChange-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc\n'}]",7,839362,6dd896feface3d0413437221a63e508b359ed615,24,8,3,13861,,,0,"Allow to skip stop of ovn services

Grenade jobs stop services, check fip connectivity
for a nova server and then upgrade to next release.

But since ovn data plane and db services are stopped along
with other services, fip connectivity fails as a result.

We shouldn't stop these services along with other
neutron services. This patch adds a new variable
""SKIP_STOP_OVN"" which can be used by grenade jobs
to skip stop of ovn services.

This will also fix the ovn grenade jobs.

Also source fixup_stuff.sh so function fixup_ovn_centos
is available. It's already sourced in stack.sh but
that's not used in grenade run.

Change-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/839362/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', 'unstack.sh']",2,a37ce3e0436947b605562b73811c009cd52707a3,ovn-grenade-fixes," if [[ $Q_AGENT == ""ovn"" ]]; then stop_ovn_dp fi ",,6,0
openstack%2Fdesignate~stable%2Fyoga~If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4,openstack/designate,stable/yoga,If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4,Clarifies the zone import error message,MERGED,2022-05-31 21:46:13.000000000,2022-06-03 19:48:22.000000000,2022-06-03 19:47:12.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 21:46:13.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/34976032887c53429a961a88a325dd5c33a1f372', 'message': ""Clarifies the zone import error message\n\nThis patch defines the situation where the import_zone exception handler\nproduces the message 'An undefined error occurred' to the exception during\nthe zone import where an underlying exception occurred from the rpc\ndispatcher at the same time as a duplicate zone exception. Kiall Mac Innes\nexplains this in\nhttps://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b\nthe problem here is in the way the _import_zone was written where\nhttps://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85\nwas written with threading.local, so it only works if it stays within the same\nthread. Since _import_zone is created on a separate thread, the necessity to add\nthe decorator @rpc_expected_exceptions() at the top.\n\nCloses-bug: #1950118\nCloses-bug: #1964323\nChange-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4\n(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)\n""}]",2,844081,34976032887c53429a961a88a325dd5c33a1f372,12,3,1,5572,,,0,"Clarifies the zone import error message

This patch defines the situation where the import_zone exception handler
produces the message 'An undefined error occurred' to the exception during
the zone import where an underlying exception occurred from the rpc
dispatcher at the same time as a duplicate zone exception. Kiall Mac Innes
explains this in
https://opendev.org/openstack/designate/commit/2c9460505d07d0e46765a552b637e5a3296b667b
the problem here is in the way the _import_zone was written where
https://github.com/openstack/designate/commit/9b809a11b3068552274340606eb76d2217411b85
was written with threading.local, so it only works if it stays within the same
thread. Since _import_zone is created on a separate thread, the necessity to add
the decorator @rpc_expected_exceptions() at the top.

Closes-bug: #1950118
Closes-bug: #1964323
Change-Id: If7d50cbd4fa0ce86e0ddf03068da36acd7d72cb4
(cherry picked from commit d705c5d6b861f319096afdd3ad50a2100651b064)
",git fetch https://review.opendev.org/openstack/designate refs/changes/81/844081/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_central/test_service.py']",2,34976032887c53429a961a88a325dd5c33a1f372,bug/1950118-stable/yoga," def test_create_zone_import_duplicate_threading(self): context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) self.wait_for_import(zone_import.id) def create_zone_import(): context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) return self.wait_for_import(zone_import.id, error_is_ok=True) with futurist.GreenThreadPoolExecutor() as executor: results = [] for fixture in [0, 2, 3, 4, 5]: results.append(executor.submit(create_zone_import,)) for future in futures.as_completed(results): result = future.result() self.assertEqual('Duplicate zone.', result.message) @mock.patch('dns.zone.from_text') @mock.patch('designate.central.service.Service.update_zone_import') def test_create_zone_import_from_text_exceptions( self, mock_update_zone_import, mock_dnszone_from_text): # the second set of exceptions for the create_zone context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() values = { 'status': 'PENDING', 'message': None, 'zone_id': None, 'tenant_id': context.project_id, 'task_type': 'IMPORT' } zone_import = objects.ZoneImport(**values) mock_dnszone_from_text.side_effect = [exceptions.BadRequest(), Exception('boom')] LOG.debug(""Testing zone import exceptions: BadRequest"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) self.assertEqual('An SOA record is required.', zone_import.message) LOG.debug(""Testing zone import exceptions: Undefined"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) self.assertEqual('An undefined error occurred. boom', zone_import.message) @mock.patch('designate.central.service.Service.create_zone') @mock.patch('designate.central.service.Service.update_zone_import') def test_create_zone_import_create_import_exceptions( self, mock_update_zone_import, mock_create_zone): # setup to test the create_zone exceptions from _import_zone method context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() values = { 'status': 'PENDING', 'message': None, 'zone_id': None, 'tenant_id': context.project_id, 'task_type': 'IMPORT' } zone_import = objects.ZoneImport(**values) mock_create_zone.side_effect = [mock.DEFAULT, exceptions.DuplicateZone(), exceptions.InvalidTTL(), exceptions.OverQuota(), Exception('boom')] LOG.debug(""Testing zone import exceptions: No exception case"") self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('COMPLETE', zone_import.status) self.assertIn('imported', zone_import.message) LOG.debug(""Testing zone import exceptions: DuplicateZone"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('Duplicate zone.', zone_import.message) LOG.debug(""Testing zone import exceptions: InvalidTTL"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertIsNotNone(zone_import.message) LOG.debug(""Testing zone import exceptions: OverQuota"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('Quota exceeded during zone import.', zone_import.message) LOG.debug(""Testing zone import exceptions: Undefined"") zone_import = objects.ZoneImport(**values) self.central_service._import_zone(context, zone_import, request_body) self.assertEqual('ERROR', zone_import.status) self.assertEqual('An undefined error occurred. boom', zone_import.message) ",,112,0
openstack%2Fpython-cinderclient~master~Ibf6e542a31905cc9daeeb9d40479763ec5090295,openstack/python-cinderclient,master,Ibf6e542a31905cc9daeeb9d40479763ec5090295,WIP: Use rich library,NEW,2022-06-03 18:24:54.000000000,2022-06-03 19:43:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-03 18:24:54.000000000', 'files': ['cinderclient/v3/shell.py', 'requirements.txt', 'cinderclient/api_versions.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2c4e2557c576656ad72655be2947dcf36191f79c', 'message': ""WIP: Use rich library\n\nThis is a test patch to play around with rendering the command line\nshell output with the python rich library's table formatting.\n\nhttps: //github.com/Textualize/rich\nChange-Id: Ibf6e542a31905cc9daeeb9d40479763ec5090295\n""}]",2,844631,2c4e2557c576656ad72655be2947dcf36191f79c,2,1,1,5997,,,0,"WIP: Use rich library

This is a test patch to play around with rendering the command line
shell output with the python rich library's table formatting.

https: //github.com/Textualize/rich
Change-Id: Ibf6e542a31905cc9daeeb9d40479763ec5090295
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/31/844631/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'requirements.txt', 'cinderclient/api_versions.py', 'cinderclient/utils.py']",4,2c4e2557c576656ad72655be2947dcf36191f79c,rich_library,"from rich.console import Console from rich.table import Table console = Console() data = str(o[field]) data = str(getattr(o, field_name, '')) data = str(data.replace(""\r"", "" "")) if objs: table_title = type(objs[0]).__name__ else: table_title = None table = Table(title=table_title, show_lines=False, safe_box=True) for f in fields: table.add_column(f) if order_by: # we have to sort the entire list by order_by column rows.sort(key=lambda x: x[sortby_index]) for row in rows: table.add_row(*row) console.print(table) # pt = prettytable.PrettyTable((f for f in fields), caching=False) # pt.align = 'l' # for row in rows: # count = 0 # # Converts unicode values in dictionary to string # for part in row: # count = count + 1 # if isinstance(part, dict): # row[count - 1] = part # pt.add_row(row) # # if sortby_index is None: # order_by = None # else: # order_by = fields[sortby_index] # _print(pt, order_by)def print_dict(d, property=""Property"", formatters=None): console = Console() if 'name' in d: table_title = f""[bold green]{d['name']}[/]"" else: table_title = None table = Table(title=table_title, show_lines=False, safe_box=True) table.add_column(property) table.add_column(""Value"") for key in d: if type(d[key]) is dict: value = Table(show_lines=False, box=False) value.add_column(property) value.add_column(""Value"") if d[key]: for subkey in d[key]: value.add_row(subkey, str(d[key][subkey])) else: value = 'None' else: if key == ""name"": value = f""[bold green]{d[key]}[/]"" else: value = str(d[key]) table.add_row(key, value) console.print(table) def print_dict_old(d, property=""Property"", formatters=None):"," data = o[field] data = getattr(o, field_name, '') data = data.replace(""\r"", "" "") pt = prettytable.PrettyTable((f for f in fields), caching=False) pt.align = 'l' for row in rows: count = 0 # Converts unicode values in dictionary to string for part in row: count = count + 1 if isinstance(part, dict): row[count - 1] = part pt.add_row(row) _print(pt, order_by) def print_dict(d, property=""Property"", formatters=None):",127,18
openstack%2Fnova~stable%2Fyoga~Ice5a2c7aca77f47ea6328a10d835854d9aff408e,openstack/nova,stable/yoga,Ice5a2c7aca77f47ea6328a10d835854d9aff408e,Add missing condition,MERGED,2022-05-30 17:24:06.000000000,2022-06-03 19:16:06.000000000,2022-06-03 19:14:45.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 17:24:06.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dfa05d62da441eeaf144e312cf33ba0e029452f0', 'message': ""Add missing condition\n\nChange [1] added new fields 'src|dst_supports_numa_live_migration'\nto LibvirtLiveMigrateData object, but missed if condition for\ndst_supports_numa_live_migration field in obj_make_compatible\nmethod.\n\nThis change adds the if condition as well as fix typo in unit test\nbecause of which this wasn't catched earlier.\n\nCloses-Bug: #1975891\nChange-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e\n(cherry picked from commit 3aa77a3999a7dcabbd4c0141d4c56b07a4624128)\n""}]",2,843820,dfa05d62da441eeaf144e312cf33ba0e029452f0,14,5,1,20733,,,0,"Add missing condition

Change [1] added new fields 'src|dst_supports_numa_live_migration'
to LibvirtLiveMigrateData object, but missed if condition for
dst_supports_numa_live_migration field in obj_make_compatible
method.

This change adds the if condition as well as fix typo in unit test
because of which this wasn't catched earlier.

Closes-Bug: #1975891
Change-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e
(cherry picked from commit 3aa77a3999a7dcabbd4c0141d4c56b07a4624128)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/843820/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py']",2,dfa05d62da441eeaf144e312cf33ba0e029452f0,bz_1975891," src_supports_numa_live_migration=True, dst_supports_numa_live_migration=True,"," src_supports_numa_live_migraton=True, dst_supports_numa_live_migraton=True,",5,2
openstack%2Fkeystonemiddleware~master~I50b3b5feef4b5e78e9f920bc20bbaf75db70b787,openstack/keystonemiddleware,master,I50b3b5feef4b5e78e9f920bc20bbaf75db70b787,Remove translation sections from setup.cfg,MERGED,2020-05-14 10:08:08.000000000,2022-06-03 19:03:39.000000000,2022-06-03 19:02:24.000000000,"[{'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-05-14 10:08:08.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2f614b46413f074dfc49f914a4e5242a6ea9ad62', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I50b3b5feef4b5e78e9f920bc20bbaf75db70b787\n'}]",1,728008,2f614b46413f074dfc49f914a4e5242a6ea9ad62,17,7,1,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I50b3b5feef4b5e78e9f920bc20bbaf75db70b787
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/08/728008/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,2f614b46413f074dfc49f914a4e5242a6ea9ad62,,, [compile_catalog] directory = keystonemiddleware/locale domain = keystonemiddleware [update_catalog] domain = keystonemiddleware output_dir = keystonemiddleware/locale input_file = keystonemiddleware/locale/keystonemiddleware.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = keystonemiddleware/locale/keystonemiddleware.pot ,0,18
openstack%2Fdevstack~master~Ic6daef5b4df50ce43c6782542cb54c1958e54655,openstack/devstack,master,Ic6daef5b4df50ce43c6782542cb54c1958e54655,Add apache2 to the services we collect for memory,MERGED,2022-05-26 15:22:01.000000000,2022-06-03 18:45:18.000000000,2022-06-03 18:44:10.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:22:01.000000000', 'files': ['tools/get-stats.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e85c68e60ff460f0e16eefd5f084862628a3c54d', 'message': 'Add apache2 to the services we collect for memory\n\nChange-Id: Ic6daef5b4df50ce43c6782542cb54c1958e54655\n'}]",2,843491,e85c68e60ff460f0e16eefd5f084862628a3c54d,11,4,1,4393,,,0,"Add apache2 to the services we collect for memory

Change-Id: Ic6daef5b4df50ce43c6782542cb54c1958e54655
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/843491/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/get-stats.py'],1,e85c68e60ff460f0e16eefd5f084862628a3c54d,collect-apache, glob.glob('/etc/systemd/system/devstack@*.service')] + \ ['apache2.service'], glob.glob('/etc/systemd/system/devstack@*.service')],2,1
openstack%2Fdesignate~stable%2Fwallaby~I38efa22bb8b0de6fd9a70339e8044fea70080004,openstack/designate,stable/wallaby,I38efa22bb8b0de6fd9a70339e8044fea70080004,Fixed incorrect quota exception message,MERGED,2022-05-31 21:57:11.000000000,2022-06-03 18:08:18.000000000,2022-06-03 18:07:09.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 21:57:11.000000000', 'files': ['designate/quota/base.py', 'designate/quota/impl_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/643f4cdeb08960fa8d61958f04d0e426aef4fb6c', 'message': 'Fixed incorrect quota exception message\n\nChange-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004\n(cherry picked from commit 291558c380232b726be0253fdee1f88902522beb)\n'}]",1,844085,643f4cdeb08960fa8d61958f04d0e426aef4fb6c,9,3,1,11628,,,0,"Fixed incorrect quota exception message

Change-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004
(cherry picked from commit 291558c380232b726be0253fdee1f88902522beb)
",git fetch https://review.opendev.org/openstack/designate refs/changes/85/844085/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/quota/base.py', 'designate/quota/impl_storage.py']",2,643f4cdeb08960fa8d61958f04d0e426aef4fb6c,," ""resource"" % resource)"," ""resource"", resource)",2,2
openstack%2Fcharm-openstack-dashboard~master~Icafb620026f92017d18b0447a7ad0de3f7763f2c,openstack/charm-openstack-dashboard,master,Icafb620026f92017d18b0447a7ad0de3f7763f2c,Pin tempest for python<3.8,MERGED,2022-06-03 15:49:11.000000000,2022-06-03 17:40:12.000000000,2022-06-03 17:40:12.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 15:49:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a4ee714eb7335868b97f347afb8472a8810577f6', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c\n'}]",0,844612,a4ee714eb7335868b97f347afb8472a8810577f6,7,3,1,2424,,,0,"Pin tempest for python<3.8

Change-Id: Icafb620026f92017d18b0447a7ad0de3f7763f2c
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/12/844612/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a4ee714eb7335868b97f347afb8472a8810577f6,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fdesignate~stable%2Fwallaby~I06cf5b5cbe5544327e30971115f3bf98214293f6,openstack/designate,stable/wallaby,I06cf5b5cbe5544327e30971115f3bf98214293f6,Fix a typo in the tsigkey policy file,MERGED,2022-01-05 22:43:27.000000000,2022-06-03 17:38:19.000000000,2022-06-03 17:36:43.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 22:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c0db43b34db63b81409205375e702328bc3e52c8', 'message': 'Fix a typo in the tsigkey policy file\n\nThis patch fixes a typo in the deprecated reason string variable\nname.\n\nChange-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6\n'}, {'number': 2, 'created': '2022-01-06 00:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/204200e452225df663f51e6666b9da2ee02d4423', 'message': 'Fix a typo in the tsigkey policy file\n\nThis patch fixes a typo in the deprecated reason string variable\nname.\n\nChange-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6\n'}, {'number': 3, 'created': '2022-05-31 23:04:27.000000000', 'files': ['designate/common/policies/tsigkey.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7217ce4e09f2a54a455d20f9d5e967a7950bda01', 'message': 'Fix a typo in the tsigkey policy file\n\nThis patch fixes a typo in the deprecated reason string variable\nname.\n\nChange-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6\n'}]",3,823590,7217ce4e09f2a54a455d20f9d5e967a7950bda01,15,3,3,11628,,,0,"Fix a typo in the tsigkey policy file

This patch fixes a typo in the deprecated reason string variable
name.

Change-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6
",git fetch https://review.opendev.org/openstack/designate refs/changes/90/823590/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/common/policies/tsigkey.py'],1,c0db43b34db63b81409205375e702328bc3e52c8,,"DEPRECATED_REASON = """""" deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON,","DEPERCATED_REASON = """""" deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON,",6,6
openstack%2Fdesignate~stable%2Fxena~Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0,openstack/designate,stable/xena,Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0,Allow email subadresses to be used within mail url of CAA records,MERGED,2022-06-02 03:55:48.000000000,2022-06-03 17:35:04.000000000,2022-06-03 17:33:44.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:55:48.000000000', 'files': ['releasenotes/notes/bug-1958533-allow-caa-mail-subaddr-d02cdc46bbb118ad.yaml', 'designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/0b818283fd5a676fda6c42a0a1d37723fb170e34', 'message': 'Allow email subadresses to be used within mail url of CAA records\n\nThis patch allows for +subaddress to be used for the local part of mail urls\nused for CAA records. While there are more characters allowed in email\naddresses, using subadresses for incoming email to role accounts is quite\ncommon.\n\nCloses-Bug: 1958533\nChange-Id: Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0\n(cherry picked from commit 1cef20edbc462fab75a919fc0de796c2d6edb30b)\n'}]",3,844373,0b818283fd5a676fda6c42a0a1d37723fb170e34,14,3,1,11628,,,0,"Allow email subadresses to be used within mail url of CAA records

This patch allows for +subaddress to be used for the local part of mail urls
used for CAA records. While there are more characters allowed in email
addresses, using subadresses for incoming email to role accounts is quite
common.

Closes-Bug: 1958533
Change-Id: Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0
(cherry picked from commit 1cef20edbc462fab75a919fc0de796c2d6edb30b)
",git fetch https://review.opendev.org/openstack/designate refs/changes/73/844373/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1958533-allow-caa-mail-subaddr-d02cdc46bbb118ad.yaml', 'designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py']",3,0b818283fd5a676fda6c42a0a1d37723fb170e34,caaemailsubaddr-stable/xena, RE_URL_MAIL = r'^mailto:[A-Za-z0-9_\-]+(\+[A-Za-z0-9_\-]+)?@.*', RE_URL_MAIL = r'^mailto:[A-Za-z0-9_\-]+@.*',18,1
openstack%2Fpython-keystoneclient~master~I5aa8d079fc8e132cd90293b889ed53cb7d46da19,openstack/python-keystoneclient,master,I5aa8d079fc8e132cd90293b889ed53cb7d46da19,Bump tox minversion to 3.18.0,MERGED,2022-05-22 13:26:16.000000000,2022-06-03 17:32:30.000000000,2022-06-03 17:31:16.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-22 13:26:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5753fcd120ccc221685eef66bbf1a8aa4dc8d31e', 'message': 'Bump tox minversion to 3.18.0\n\nSince tox 3.18.0, the whitelist_externals option has been deprecated in\nfavor of the new allow_list_externals option[1].\n\nThis change bumps the minversion of tox so that we can replace\nthe deprecated option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I5aa8d079fc8e132cd90293b889ed53cb7d46da19\n'}]",0,842868,5753fcd120ccc221685eef66bbf1a8aa4dc8d31e,10,4,1,9816,,,0,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5aa8d079fc8e132cd90293b889ed53cb7d46da19
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/68/842868/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5753fcd120ccc221685eef66bbf1a8aa4dc8d31e,update-min-tox,minversion = 3.18.0allowlist_externals = findallowlist_externals =,minversion = 3.2.0whitelist_externals = findwhitelist_externals =,3,3
openstack%2Fgovernance~master~I02db146cd141ad3a83e0b012fbb776304ef35a5f,openstack/governance,master,I02db146cd141ad3a83e0b012fbb776304ef35a5f,Add resolution for OpenStack release identification schema,MERGED,2022-05-24 21:22:10.000000000,2022-06-03 17:31:05.000000000,2022-06-03 17:29:19.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32863}]","[{'number': 1, 'created': '2022-05-24 21:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f7a2e06d26c80902e4c94461297be283d06d5dbe', 'message': 'Add resolution for OpenStack release identification schema\n\nChange-Id: I02db146cd141ad3a83e0b012fbb776304ef35a5f\n'}, {'number': 2, 'created': '2022-05-25 21:51:26.000000000', 'files': ['resolutions/20220524-release-identification-process.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/36ff562d3172ad9492c0722640fe8ebc61ff6d29', 'message': 'Add resolution for OpenStack release identification schema\n\nChange-Id: I02db146cd141ad3a83e0b012fbb776304ef35a5f\n'}]",12,843214,36ff562d3172ad9492c0722640fe8ebc61ff6d29,16,8,2,8556,,,0,"Add resolution for OpenStack release identification schema

Change-Id: I02db146cd141ad3a83e0b012fbb776304ef35a5f
",git fetch https://review.opendev.org/openstack/governance refs/changes/14/843214/1 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20220524-release-identification-process.rst'],1,f7a2e06d26c80902e4c94461297be283d06d5dbe,formal-vote,"=================================================== 2022-05-24 OpenStack Release identification process =================================================== After the Zed cycle, the OpenStack release naming process has been changed. We introduced the release number as an identification code to release but will still have the release name especially to use for marketing usage. * Each OpenStack release will have an identification code: “year”.”release count within the year”. Example: ""OpenStack 2023.1"" * OpenStack release names selection criteria and the process will be handled by the staff of the OpenInfra Foundation. Foundation staff will make sure that it satisfies the OpenStack release team tooling requirements. The OpenStack release team PTL +1 is needed on naming criteria defined by the Foundation staff. * The OpenStack Technical Committee will not be involved in the process, the release team can directly coordinate with the foundation staff. * The release number will be used as the primary identifier in the development cycle but the release name will also be used in some places. we will use release number in the stable branch (Example: stable/2023.1), spec repo or any other directory structure, testing tools etc. The release team can choose either to continue using the release name or use number for release tooling and milestone name. All the changes mentioned in this resolution will be applied immediately after the Zed release cycle. Reference ========= * `The Technical Committee meeting Etherpad <https://etherpad.opendev.org/p/openstack-release-identification-schema>`__ * Mailing list discussion threads from `April 2022 <http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028354.html>`__ and `May 2022 <http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028539.html>`__ ",,39,0
openstack%2Fgovernance~master~I84c3a4898a74c26746fd66d046a80b8936a608e9,openstack/governance,master,I84c3a4898a74c26746fd66d046a80b8936a608e9,Add project stats check tool,MERGED,2021-09-20 15:30:42.000000000,2022-06-03 17:29:41.000000000,2022-06-03 17:28:30.000000000,"[{'_account_id': 4393}, {'_account_id': 5263}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-20 15:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e4158b04a90197e5def2f3ecabb9e28976546b3b', 'message': 'Add project health check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project health check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_health_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_health_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 2, 'created': '2021-09-21 04:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1102ae8f3d9dc965545260b825ba6efe690f04ab', 'message': 'Add project health check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project health check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_health_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_health_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 3, 'created': '2021-09-21 06:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/96986260df180a0ccdd3fe17228ae2d8f3af09b8', 'message': 'Add project health check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project health check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_health_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_health_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 4, 'created': '2021-09-23 01:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bea4a903ccc99beef195bfd90b5e09b0257e2dcc', 'message': 'Add project health check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project health check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_health_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_health_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 5, 'created': '2021-09-23 15:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/573b945852c5463a51ab4901927d7b32188b2d5f', 'message': 'Add project health check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project health check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_health_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_health_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 6, 'created': '2021-12-02 15:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/da4fe65aaf9ae0cdf41f36966b0645fb41b15c3c', 'message': 'Add project health check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project health check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_health_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_health_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 7, 'created': '2022-04-19 18:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/079ad70109d59de634f4860d1a22862811630c9b', 'message': 'Add project stats check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project stats check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_stats_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_stats_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 8, 'created': '2022-04-19 21:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d0326c042f15db4b18c325de5483c2d9e8ed39f5', 'message': 'Add project stats check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project stats check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_stats_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_stats_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 9, 'created': '2022-05-06 08:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e8e7ce994ac85132c3f9fa0302c8aab2a9dea9d7', 'message': 'Add project stats check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project stats check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_stats_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_stats_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 10, 'created': '2022-05-06 09:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ef160a10b90df849f82319830e90b04598791b98', 'message': 'Add project stats check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project stats check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_stats_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_stats_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 11, 'created': '2022-05-26 14:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/201610b82b0d762763096fbb99668cb5358d0945', 'message': 'Add project stats check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project stats check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_stats_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_stats_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}, {'number': 12, 'created': '2022-05-27 13:11:31.000000000', 'files': ['tools/project_stats_check.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/14e078a7a3dbb4d12406cddaf9eb8c22719c7a46', 'message': 'Add project stats check tool\n\nValidate on Zuul builds and Gerrit.\nThis is needed for project stats check. Please check etherpad for more\ndetail discussion or output example [1].\n\nRun project_stats_check.py with no arguments will run on all projects\ndefined in `reference/projects.yaml`.\n\nIf you wish to run for specific project or branch. Run like:\n`project_stats_check.py -p heat,sahara -b master,stable/xena`\n\n[1] https://etherpad.opendev.org/p/health_check\n\nChange-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9\n'}]",60,810037,14e078a7a3dbb4d12406cddaf9eb8c22719c7a46,58,9,12,12404,,,0,"Add project stats check tool

Validate on Zuul builds and Gerrit.
This is needed for project stats check. Please check etherpad for more
detail discussion or output example [1].

Run project_stats_check.py with no arguments will run on all projects
defined in `reference/projects.yaml`.

If you wish to run for specific project or branch. Run like:
`project_stats_check.py -p heat,sahara -b master,stable/xena`

[1] https://etherpad.opendev.org/p/health_check

Change-Id: I84c3a4898a74c26746fd66d046a80b8936a608e9
",git fetch https://review.opendev.org/openstack/governance refs/changes/37/810037/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/project_health_check.py'],1,e4158b04a90197e5def2f3ecabb9e28976546b3b,code-change,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse from urllib import request import yaml class BaseQuery: def __init__(self, base_url, query_separator='&'): self.query_separator = query_separator if base_url.endswith('/'): self.base_url = base_url else: self.base_url = '/' + base_url def query(self, api, conditions=None): url = self.base_url + api if conditions: url += '?' + (self.query_separator.join(conditions)) result = request.urlopen(url) return yaml.safe_load(result.read()) class Zuul(BaseQuery): def get_project_builds(self, repos, fetch_size, branch='master'): results = {} for repo in repos: results[repo] = self.get_project_builds_for_repo( repo, fetch_size=fetch_size, branch=branch) return results def get_project_builds_for_repo(self, repo, fetch_size, branch='master'): # ?project={repo}&pipeline=gate&limit=100&branch=master conditions = ['project=' + repo, 'pipeline=gate', 'limit='+str(fetch_size), 'branch=' + branch] return self.query(api='api/builds', conditions=conditions) def fetch_all_repos_success_rate(self, builds): success_rates = {} for key in builds: success_rates[key] = self.fetch_repo_jobs_success_rate(builds[key]) return success_rates def fetch_repo_jobs_success_rate(self, builds): success = {} not_success = {} for build in builds: if type(build) != dict: continue job_name = build['job_name'] result = build['result'] if result == 'SUCCESS': if job_name in success: success[job_name] += 1 else: success[job_name] = 1 else: if job_name in not_success: not_success[job_name] += 1 else: not_success[job_name] = 1 success_rates = {} all_jobs = set(success).union(set(not_success)) for key in all_jobs: success_rates[key] = format( success.get(key, 0)/( success.get(key, 0) + not_success.get(key, 0) )*100, '.0f') + '%' return success_rates class Gerrit(BaseQuery): def query(self, api, conditions=None): url = self.base_url + api if conditions: # Set no-limit=1 to fetch larger amount of patchs url += '?no-limit=1&q=' + (self.query_separator.join(conditions)) result = request.urlopen(url) # The first line contains random chars like `'b\')]}\\\'` # Consider it as a bug and directly access second line from result return yaml.safe_load(result.readlines()[1]) def get_project_query_list(self, repos): projects = [] repoSize = len(repos) for i in range(repoSize): repo = repos[i] if i == 0: projects += ['(project:' + repo, 'OR'] elif i == repoSize - 1: projects.append('project:' + repo + ')') else: projects += ['project:' + repo, 'OR'] return projects def get_total_valid(self, repos, within, branch='master'): # q=(status:open+OR+status:merged)+project:{repo}+ # NOT+label:Workflo<=-1+label:Verified>=1+NOT+age:{within}day conditions = ['(status:open', 'OR', 'status:merged)', 'NOT', 'label:Workflo<=-1', 'label:Verified>=1', 'branch:' + branch, 'NOT', 'age:' + str(within) + 'day'] conditions += self.get_project_query_list(repos) return self.query(api='changes/', conditions=conditions) def get_total_not_review(self, repos, within, branch='master'): # q=status:open+project:{repos}+label:Code-Review=0+ # NOT+label:Workflow<=-1+label:Verified>=1+NOT+age:{within}day conditions = ['status:open', 'NOT', 'label:Workflo<=-1', 'label:Verified>=1', 'label:Core-Review=0', 'branch:' + branch, 'NOT', 'age:' + str(within) + 'day'] conditions += self.get_project_query_list(repos) return self.query(api='changes/', conditions=conditions) def get_total_merged(self, repos, within, branch='master'): # q=status:merged+project:{repos}+NOT+age:{within}day conditions = ['status:merged', 'branch:' + branch, 'NOT', 'age:' + str(within) + 'day'] conditions += self.get_project_query_list(repos) return self.query(api='changes/', conditions=conditions) def count_owners(self, patchs, limit=-1): owners = {} patchCount = len(patchs) for p in patchs: owner = p.get('owner', {}).get('_account_id', 0) if owner in owners: owners[owner] += 1 else: owners[owner] = 1 sorted_owners = sorted( owners.items(), reverse=True, key=lambda item: item[1]) if limit == -1: return dict(sorted_owners) results = {} for owner, count in sorted_owners: owner =self.get_account_name(owner) if len(results) < limit: results[owner] = format((count/patchCount)*100, '.2f')+ '%' else: return results return results def get_account_name(self, account_id): # Profile will looks like: {""_account_id"":22816, # ""name"":""OpenStack Release Bot"", # ""email"":""infra-root@openstack.org"",""username"":""release""} profile = self.query(api=('accounts/%s' % account_id)) return profile.get('name', account_id) def main(): parser = argparse.ArgumentParser() parser.add_argument( '-f', '--file', default='./reference/projects.yaml', help='projects.yaml file path (%(default)s)', ) parser.add_argument( '-p', '--projects', help='projects to analysis. Seperate with comma', ) parser.add_argument( '-d', '--days', default='180', help='Days to count gerrit patchs generated since (%(default)s)', ) parser.add_argument( '-b', '--branchs', default='master', help='branchs to analysis (%(default)s)', ) parser.add_argument( '-z', '--skip-zuul', action='store_true', help='Show Zuul analysis (%(default)s)', ) parser.add_argument( '-g', '--skip-gerrit', action='store_true', help='Show Gerrit analysis (%(default)s)', ) args = parser.parse_args() with open(args.file, 'r', encoding='utf-8') as f: projects = yaml.safe_load(f.read()) TOP_X_OWNER = 10 # Zuul builds fetch size per query BUILD_FETCH_SIZE = 100 project_scope = args.projects.split(',') if ( args.projects is not None) else list(projects.keys())[:1] count_days = args.days def get_repos(project): '''Get repositories in project''' repos = [] defn = projects.get(project, {}) deliverables = defn.get('deliverables', {}) for key, deliverable in deliverables.items(): repos += deliverable.get('repos', '') return repos gerrit = Gerrit( base_url='https://review.opendev.org/', query_separator='+') zuul = Zuul(base_url='https://zuul.openstack.org/') branchs = args.branchs.split(',') for branch in branchs: if not (branch.startswith('master') or branch.startswith('stable/')): print('Invalid branch %s' % branch) return for project in project_scope: print('*'*50) print(""Start Project %s analysis..."" % project) repos = get_repos(project) print("" Includes repositories: %s"" % repos) for branch in branchs: print("" Start analysis branch %s..."" % branch) if not args.skip_gerrit: print("" Validating Gerrit..."") not_reviewed_patchs = gerrit.get_total_not_review( repos, within=count_days, branch=branch) total_valid_patchs = gerrit.get_total_valid( repos, within=count_days, branch=branch) merged_patchs = gerrit.get_total_merged( repos, within=count_days, branch=branch) unreview_rate = ( len(not_reviewed_patchs)/len(total_valid_patchs))*100//1 merged_rate = ( len(merged_patchs)/len(total_valid_patchs))*100//1 owners_rates = gerrit.count_owners( patchs=total_valid_patchs, limit=10) print("" *"", ""There are %s ready for"" % len(total_valid_patchs), ""review patches generated within %s days"" % count_days) print("" *"", ""There are %s not reviewed"" % len(not_reviewed_patchs), ""patches generated within %s days"" % count_days) print("" *"", ""There are %s merged"" % len(merged_patchs), ""patches generated within %s days"" % count_days) print("" *"", ""Unreview patch rate for patches generated within"", ""%s days is %s"" % (count_days, unreview_rate), '%') print("" *"", ""Merged patch rate for patches generated within"", ""%s days is %s"" % (count_days, merged_rate), '%') print("" * "", ""Here's top %s owner for patchs"" % TOP_X_OWNER, ""generated within"", ""%s days (Name/Account_ID: Percentage):"" % count_days) for owner, rate in owners_rates.items(): print (' - ', owner, ': ', rate) if not args.skip_zuul: print("" Validate Zuul..."") print("" Set builds fetch size to %s"" % BUILD_FETCH_SIZE) gate_builds = zuul.get_project_builds( repos, fetch_size=BUILD_FETCH_SIZE, branch=branch) jobs_success_rates = zuul.fetch_all_repos_success_rate(gate_builds) for repo in jobs_success_rates: if len(jobs_success_rates[repo]) != 0: print(""* Repo: %s jobs success rates"" % repo) for job, rate in jobs_success_rates[repo].items(): print("" Job: %s: "" % job, rate, 'success rate') else: print(""* Repo: %s jobs not recently builded"" % repo) print('*'*50) if __name__ == '__main__': main() ",,292,0
openstack%2Fhorizon~master~I52da9dcd7fb6b1ac46852718f285795628121e26,openstack/horizon,master,I52da9dcd7fb6b1ac46852718f285795628121e26,Pass client IP to keystoneauth1 session,MERGED,2022-04-25 08:34:52.000000000,2022-06-03 17:28:54.000000000,2022-06-03 17:27:42.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-25 08:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ad8ac88ffc8c5895bda0f4b1d393778e993f89f1', 'message': ""Pass client IP to keystoneauth1 session\n\nThis passes the client IP to the keystoneauth1 Session's\noriginal_ip parameter.\n\nThis sets the Forwarder HTTP header so that when the request\nlands in Keystone the request can actually be interpreted who\nmade the request and not only that it was proxied by Horizon.\n\n  Forwarded: for=100.64.10.1;by=openstack_auth keystoneauth1/4.4.0 python-requests/2.25.1 CPython/3.6.8\n\nIn the above example header the 100.64.10.1 is the client IP\nthat is sent from a load balancer in the X-Forwarded-For header\nwhile the actual REMOTE_ADDR in the HTTP request is the load balancers\nIP address.\n\nChange-Id: I52da9dcd7fb6b1ac46852718f285795628121e26\n""}, {'number': 2, 'created': '2022-04-27 16:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ddcace9182749afeee1507af693541e1ba5807e', 'message': ""Pass client IP to keystoneauth1 session\n\nThis passes the client IP to the keystoneauth1 Session's\noriginal_ip parameter.\n\nThis sets the Forwarder HTTP header so that when the request\nlands in Keystone the request can actually be interpreted who\nmade the request and not only that it was proxied by Horizon.\n\n  Forwarded: for=100.64.10.1;by=openstack_auth keystoneauth1/4.4.0 python-requests/2.25.1 CPython/3.6.8\n\nIn the above example header the 100.64.10.1 is the client IP\nthat is sent from a load balancer in the X-Forwarded-For header\nwhile the actual REMOTE_ADDR in the HTTP request is the load balancers\nIP address.\n\nChange-Id: I52da9dcd7fb6b1ac46852718f285795628121e26\n""}, {'number': 3, 'created': '2022-05-24 10:38:08.000000000', 'files': ['openstack_auth/plugin/base.py', 'openstack_auth/views.py', 'openstack_auth/backend.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a3fa87cde3a1a273c49d515d8139df14a69cf9a', 'message': ""Pass client IP to keystoneauth1 session\n\nThis passes the client IP to the keystoneauth1 Session's\noriginal_ip parameter.\n\nThis sets the Forwarder HTTP header so that when the request\nlands in Keystone the request can actually be interpreted who\nmade the request and not only that it was proxied by Horizon.\n\n  Forwarded: for=100.64.10.1;by=openstack_auth keystoneauth1/4.4.0 python-requests/2.25.1 CPython/3.6.8\n\nIn the above example header the 100.64.10.1 is the client IP\nthat is sent from a load balancer in the X-Forwarded-For header\nwhile the actual REMOTE_ADDR in the HTTP request is the load balancers\nIP address.\n\nChange-Id: I52da9dcd7fb6b1ac46852718f285795628121e26\n""}]",18,839161,6a3fa87cde3a1a273c49d515d8139df14a69cf9a,35,6,3,16137,,,0,"Pass client IP to keystoneauth1 session

This passes the client IP to the keystoneauth1 Session's
original_ip parameter.

This sets the Forwarder HTTP header so that when the request
lands in Keystone the request can actually be interpreted who
made the request and not only that it was proxied by Horizon.

  Forwarded: for=100.64.10.1;by=openstack_auth keystoneauth1/4.4.0 python-requests/2.25.1 CPython/3.6.8

In the above example header the 100.64.10.1 is the client IP
that is sent from a load balancer in the X-Forwarded-For header
while the actual REMOTE_ADDR in the HTTP request is the load balancers
IP address.

Change-Id: I52da9dcd7fb6b1ac46852718f285795628121e26
",git fetch https://review.opendev.org/openstack/horizon refs/changes/61/839161/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/plugin/base.py', 'openstack_auth/views.py', 'openstack_auth/backend.py']",3,ad8ac88ffc8c5895bda0f4b1d393778e993f89f1,horizon-keystoneauth-original_ip," client_ip = utils.get_client_ip(request) session = utils.get_session(original_ip=client_ip) unscoped_auth_ref = plugin.get_access_info(unscoped_auth, session=session) unscoped_auth, unscoped_auth_ref, domain_name, session=session) unscoped_auth, unscoped_auth_ref, recent_project=recent_project, session=session)"," unscoped_auth_ref = plugin.get_access_info(unscoped_auth) unscoped_auth, unscoped_auth_ref, domain_name) unscoped_auth, unscoped_auth_ref, recent_project=recent_project) session = utils.get_session()",28,19
openstack%2Fdesignate~stable%2Fxena~I4522796ac056630c63798830e8f8d92628f14a37,openstack/designate,stable/xena,I4522796ac056630c63798830e8f8d92628f14a37,Fix delete zone transfer request with scoped token,MERGED,2022-06-01 22:22:31.000000000,2022-06-03 17:23:06.000000000,2022-06-03 17:21:36.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-01 22:22:31.000000000', 'files': ['releasenotes/notes/fix-zone-transfer-request-scoped-token-fc9d3be407e1a50a.yaml', 'designate/storage/impl_sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/63bc0c1db93899273627462cb177c1481502e9fc', 'message': 'Fix delete zone transfer request with scoped token\n\nThis patch fixes an issue were deleting a zone transfer request with a scoped\ntoken may fail.\n\nChange-Id: I4522796ac056630c63798830e8f8d92628f14a37\n(cherry picked from commit 6f847aeb5a309eb6e70dee58057fef01886573f6)\n(cherry picked from commit 276a9fbe89f84dd43ed0495a5445eb9fd4cc56ef)\n'}]",5,844208,63bc0c1db93899273627462cb177c1481502e9fc,19,3,1,11628,,,0,"Fix delete zone transfer request with scoped token

This patch fixes an issue were deleting a zone transfer request with a scoped
token may fail.

Change-Id: I4522796ac056630c63798830e8f8d92628f14a37
(cherry picked from commit 6f847aeb5a309eb6e70dee58057fef01886573f6)
(cherry picked from commit 276a9fbe89f84dd43ed0495a5445eb9fd4cc56ef)
",git fetch https://review.opendev.org/openstack/designate refs/changes/08/844208/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-zone-transfer-request-scoped-token-fc9d3be407e1a50a.yaml', 'designate/storage/impl_sqlalchemy/__init__.py']",2,63bc0c1db93899273627462cb177c1481502e9fc,, if one: return objects.ZoneTransferRequest(),,7,0
openstack%2Fdesignate~stable%2Fwallaby~If00b37e72dabd1bc66a78d9a832c3847c12f6692,openstack/designate,stable/wallaby,If00b37e72dabd1bc66a78d9a832c3847c12f6692,Simplify create zone import implementation,MERGED,2022-06-02 03:33:16.000000000,2022-06-03 17:14:35.000000000,2022-06-03 17:13:02.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a0183d3e6e00d165f8b7df0e52643c470eebdaf7', 'message': 'Simplify create zone import implementation\n\nRemoved unnecessarily complex threading code.\n\nChange-Id: If00b37e72dabd1bc66a78d9a832c3847c12f6692\n(cherry picked from commit eed5042c41f8cd557dd3b53b28e17d520178af64)\n'}, {'number': 2, 'created': '2022-06-02 19:37:47.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e6dbc1fb281dbfa8497c13232044138126bd95cb', 'message': 'Simplify create zone import implementation\n\nRemoved unnecessarily complex threading code.\n\nChange-Id: If00b37e72dabd1bc66a78d9a832c3847c12f6692\n(cherry picked from commit eed5042c41f8cd557dd3b53b28e17d520178af64)\n'}]",2,844356,e6dbc1fb281dbfa8497c13232044138126bd95cb,13,3,2,11628,,,0,"Simplify create zone import implementation

Removed unnecessarily complex threading code.

Change-Id: If00b37e72dabd1bc66a78d9a832c3847c12f6692
(cherry picked from commit eed5042c41f8cd557dd3b53b28e17d520178af64)
",git fetch https://review.opendev.org/openstack/designate refs/changes/56/844356/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,a0183d3e6e00d165f8b7df0e52643c470eebdaf7,,"from dns import zone as dnszone zone_import) request_body)<<<<<<< HEAD======= zone = None try: dnspython_zone = dnszone.from_text( request_body, # Don't relativize, or we end up with '@' record names. relativize=False, # Don't check origin, we allow missing NS records # (missing SOA records are taken care of in _create_zone). check_origin=False) zone = dnsutils.from_dnspython_zone(dnspython_zone) zone.type = 'PRIMARY' for rrset in list(zone.recordsets): if rrset.type == 'SOA': zone.recordsets.remove(rrset) # subdomain NS records should be kept elif rrset.type == 'NS' and rrset.name == zone.name: zone.recordsets.remove(rrset) except dnszone.UnknownOrigin: zone_import.message = ( 'The $ORIGIN statement is required and must be the first ' 'statement in the zonefile.' ) zone_import.status = 'ERROR' except dnsexception.SyntaxError: zone_import.message = 'Malformed zonefile.' zone_import.status = 'ERROR' except exceptions.BadRequest: zone_import.message = 'An SOA record is required.' zone_import.status = 'ERROR' except Exception as e: LOG.exception('An undefined error occurred during zone import') zone_import.message = ( 'An undefined error occurred. %s' % str(e)[:130] ) zone_import.status = 'ERROR' >>>>>>> e6922d74... Simplify create zone import implementation zone_import.message = ( '%(name)s imported' % {'name': zone.name} )<<<<<<< HEAD======= LOG.exception( 'An undefined error occurred during zone import creation' ) zone_import.message = ( 'An undefined error occurred. %s' % str(e)[:130] ) >>>>>>> e6922d74... Simplify create zone import implementation limit=None, sort_key=None, sort_dir=None):","from dns import zone as dnszone zone_import) request_body) zone_import.message = '%(name)s imported' % {'name': zone.name} limit=None, sort_key=None, sort_dir=None):",54,7
openstack%2Fdesignate~stable%2Fxena~I06cf5b5cbe5544327e30971115f3bf98214293f6,openstack/designate,stable/xena,I06cf5b5cbe5544327e30971115f3bf98214293f6,Fix a typo in the tsigkey policy file,MERGED,2022-01-05 22:42:50.000000000,2022-06-03 17:14:15.000000000,2022-06-03 17:13:00.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 22:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ba6a7e552325e4545e26cd8bbf172df59b42b074', 'message': 'Fix a typo in the tsigkey policy file\n\nThis patch fixes a typo in the deprecated reason string variable\nname.\n\nChange-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6\n'}, {'number': 2, 'created': '2022-04-05 00:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a20db46396500d38d6222a135638e3e66f5e3551', 'message': 'Fix a typo in the tsigkey policy file\n\nThis patch fixes a typo in the deprecated reason string variable\nname.\n\nChange-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6\n'}, {'number': 3, 'created': '2022-05-31 23:02:27.000000000', 'files': ['designate/common/policies/tsigkey.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/f4396df723a701a5b38027ceb2375fde0837b89b', 'message': 'Fix a typo in the tsigkey policy file\n\nThis patch fixes a typo in the deprecated reason string variable\nname.\n\nChange-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6\n'}]",2,823469,f4396df723a701a5b38027ceb2375fde0837b89b,12,3,3,11628,,,0,"Fix a typo in the tsigkey policy file

This patch fixes a typo in the deprecated reason string variable
name.

Change-Id: I06cf5b5cbe5544327e30971115f3bf98214293f6
",git fetch https://review.opendev.org/openstack/designate refs/changes/69/823469/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/common/policies/tsigkey.py'],1,ba6a7e552325e4545e26cd8bbf172df59b42b074,,"DEPRECATED_REASON = """""" deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON, deprecated_reason=DEPRECATED_REASON,","DEPERCATED_REASON = """""" deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON, deprecated_reason=DEPERCATED_REASON,",6,6
openstack%2Fdesignate~stable%2Fxena~I38efa22bb8b0de6fd9a70339e8044fea70080004,openstack/designate,stable/xena,I38efa22bb8b0de6fd9a70339e8044fea70080004,Fixed incorrect quota exception message,MERGED,2022-05-31 21:56:51.000000000,2022-06-03 17:00:35.000000000,2022-06-03 16:59:22.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 21:56:51.000000000', 'files': ['designate/quota/base.py', 'designate/quota/impl_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fc0c6b37c5d95c764ad636ca6848bfa21adf8050', 'message': 'Fixed incorrect quota exception message\n\nChange-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004\n(cherry picked from commit 291558c380232b726be0253fdee1f88902522beb)\n'}]",1,844084,fc0c6b37c5d95c764ad636ca6848bfa21adf8050,8,3,1,11628,,,0,"Fixed incorrect quota exception message

Change-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004
(cherry picked from commit 291558c380232b726be0253fdee1f88902522beb)
",git fetch https://review.opendev.org/openstack/designate refs/changes/84/844084/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/quota/base.py', 'designate/quota/impl_storage.py']",2,fc0c6b37c5d95c764ad636ca6848bfa21adf8050,," ""resource"" % resource)"," ""resource"", resource)",2,2
openstack%2Fkeystone~master~I92a8cfaef350bb61330d9ef02c0fd9e6f6c5854a,openstack/keystone,master,I92a8cfaef350bb61330d9ef02c0fd9e6f6c5854a,Fix typo in documentation,MERGED,2022-05-16 10:53:22.000000000,2022-06-03 16:56:09.000000000,2022-06-03 16:53:38.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 11805}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-16 10:53:22.000000000', 'files': ['doc/source/contributor/services.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fc62bbc06a32b5846e81e405c3c08a3df2006259', 'message': 'Fix typo in documentation\n\nChange-Id: I92a8cfaef350bb61330d9ef02c0fd9e6f6c5854a\n'}]",2,841867,fc62bbc06a32b5846e81e405c3c08a3df2006259,14,7,1,34861,,,0,"Fix typo in documentation

Change-Id: I92a8cfaef350bb61330d9ef02c0fd9e6f6c5854a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/841867/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/services.rst'],1,fc62bbc06a32b5846e81e405c3c08a3df2006259,, the existence of the *default* domain., the existance of the *default* domain.,1,1
openstack%2Fkeystone~master~Iab6f7759de5cc0b5f52a6e5aa2069f5640d06e34,openstack/keystone,master,Iab6f7759de5cc0b5f52a6e5aa2069f5640d06e34,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 01:56:34.000000000,2022-06-03 16:55:02.000000000,2022-06-03 16:53:34.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-05-31 01:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3be4cd41c6370a59023fd41fbd39203aa73b2156', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iab6f7759de5cc0b5f52a6e5aa2069f5640d06e34\n""}, {'number': 2, 'created': '2022-05-22 13:39:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/921f57b01b4376cbeb0731f4f91c77ab47e4e3bc', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iab6f7759de5cc0b5f52a6e5aa2069f5640d06e34\n""}]",0,793710,921f57b01b4376cbeb0731f4f91c77ab47e4e3bc,19,6,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iab6f7759de5cc0b5f52a6e5aa2069f5640d06e34
",git fetch https://review.opendev.org/openstack/keystone refs/changes/10/793710/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3be4cd41c6370a59023fd41fbd39203aa73b2156,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.2.0whitelist_externals =whitelist_externals =,3,3
openstack%2Fneutron~master~Ibd690781f7e7bc923523471d741d6427f9af3656,openstack/neutron,master,Ibd690781f7e7bc923523471d741d6427f9af3656,[db-sync] Avoid loosing fip info on db-sync,ABANDONED,2022-06-03 14:32:39.000000000,2022-06-03 16:34:09.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 14:32:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3bc66662f66b7253d6148dbe163c953242b8ce2', 'message': '[db-sync] Avoid loosing fip info on db-sync\n\nIf you delete a logical_switch_port entry on the NB DB which has\na FIP associated, once you run the db-sync the FIP info will be\ndeleted. This patch fixes it.\n\nChange-Id: Ibd690781f7e7bc923523471d741d6427f9af3656\n'}]",0,844600,e3bc66662f66b7253d6148dbe163c953242b8ce2,5,2,1,34118,,,0,"[db-sync] Avoid loosing fip info on db-sync

If you delete a logical_switch_port entry on the NB DB which has
a FIP associated, once you run the db-sync the FIP info will be
deleted. This patch fixes it.

Change-Id: Ibd690781f7e7bc923523471d741d6427f9af3656
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/844600/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,e3bc66662f66b7253d6148dbe163c953242b8ce2,," # Check if the port has already a FIP associated nats = self._nb_idl.db_find_rows( 'NAT', ('logical_port', '=', port['id']) ).execute(check_error=True) if nats: for nat in nats: external_ids[ovn_const.OVN_PORT_FIP_EXT_ID_KEY] = \ nat.external_ip ",,11,0
openstack%2Fironic-python-agent~bugfix%2F8.3~Ia1bbd6ac2ac2246c0f49f9404772666207881f5f,openstack/ironic-python-agent,bugfix/8.3,Ia1bbd6ac2ac2246c0f49f9404772666207881f5f,Fix CI,MERGED,2022-06-02 11:38:11.000000000,2022-06-03 16:30:31.000000000,2022-06-03 16:28:02.000000000,"[{'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 11:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/171b0218ec33229574a78af628f06cb1b85415fa', 'message': '[DNM] Testing CI\n\nChange-Id: Ia1bbd6ac2ac2246c0f49f9404772666207881f5f\n'}, {'number': 2, 'created': '2022-06-02 16:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0ea4293e00181f2e47e4d4a9972a98c6b61e8ef0', 'message': '[DNM] Testing CI\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/844473\nChange-Id: Ia1bbd6ac2ac2246c0f49f9404772666207881f5f\n'}, {'number': 3, 'created': '2022-06-03 08:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fa31bc28211d2c667673ae4543f94b5166ecd483', 'message': '[DNM] Testing CI\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/844473\nChange-Id: Ia1bbd6ac2ac2246c0f49f9404772666207881f5f\n'}, {'number': 4, 'created': '2022-06-03 12:20:27.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e7149ebe7195504bd470f26e8a5880e187cf6360', 'message': 'Fix CI\n\nSince bugfix/8.3 is based on stable/yoga pinning swift to that branch to\nmake it compatible again.\n\nChange-Id: Ia1bbd6ac2ac2246c0f49f9404772666207881f5f\n'}]",1,844423,e7149ebe7195504bd470f26e8a5880e187cf6360,14,3,4,15519,,,0,"Fix CI

Since bugfix/8.3 is based on stable/yoga pinning swift to that branch to
make it compatible again.

Change-Id: Ia1bbd6ac2ac2246c0f49f9404772666207881f5f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/23/844423/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,171b0218ec33229574a78af628f06cb1b85415fa,test,# test,,1,0
openstack%2Fdevstack~master~I68dfc472ce901058b6a7d691c98ed1641d431e54,openstack/devstack,master,I68dfc472ce901058b6a7d691c98ed1641d431e54,[ironic][swift]Temporary add sha1 to allowed_digests,MERGED,2022-06-03 04:41:28.000000000,2022-06-03 16:29:13.000000000,2022-06-03 16:27:35.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-03 04:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/17fb9f6ac336c9d53a53089a81c6b1cf2e89d6d3', 'message': '[DNM] Check tinyipa issue\n\nChange-Id: I68dfc472ce901058b6a7d691c98ed1641d431e54\n'}, {'number': 2, 'created': '2022-06-03 06:23:01.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/35fb53423a68f8d156693ae79c1c6950538a33b7', 'message': ""[ironic][swift]Temporary add sha1 to allowed_digests\n\nSwift removed sha1 from supported digests with [1] and\nthat broked ironic tinyipa job. Temorary add sha1 to\nallowed_digests until it's fixed in ironic.\n\n[1] https://review.opendev.org/c/openstack/swift/+/525771\n\nStory: 2010068\nTask: 45539\nChange-Id: I68dfc472ce901058b6a7d691c98ed1641d431e54\n""}]",2,844539,35fb53423a68f8d156693ae79c1c6950538a33b7,12,7,2,13861,,,0,"[ironic][swift]Temporary add sha1 to allowed_digests

Swift removed sha1 from supported digests with [1] and
that broked ironic tinyipa job. Temorary add sha1 to
allowed_digests until it's fixed in ironic.

[1] https://review.opendev.org/c/openstack/swift/+/525771

Story: 2010068
Task: 45539
Change-Id: I68dfc472ce901058b6a7d691c98ed1641d431e54
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/844539/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/swift', '.zuul.yaml']",2,17fb9f6ac336c9d53a53089a81c6b1cf2e89d6d3,,, templates: - integrated-gate-py3 - publish-openstack-docs-pti - devstack - devstack-ipv6 - devstack-enforce-scope - devstack-platform-fedora-latest - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-ubuntu-jammy - devstack-platform-ubuntu-jammy-ovn-source - devstack-platform-ubuntu-jammy-ovs - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,3,50
openstack%2Fopenstack-ansible-tests~master~Ib5ca8c7d3300f4e8efd81f87612c821594bebfac,openstack/openstack-ansible-tests,master,Ib5ca8c7d3300f4e8efd81f87612c821594bebfac,Add SERVICES_BRANCH variable for better control,MERGED,2022-05-24 12:51:00.000000000,2022-06-03 16:26:44.000000000,2022-06-03 16:24:21.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-05-24 12:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5cc5965bfa7283eaec70090300cb1cf13fdcd37c', 'message': 'Add SERVICES_BRANCH variable for better control\n\nCurrently TESTING_BRANCH serving 2 purposes - it controls over OSA\nbranch to use and services branch.\nAt the same time we need to have these separated from time to time, as\nOSA is trailing.\n\nChange-Id: Ib5ca8c7d3300f4e8efd81f87612c821594bebfac\n'}, {'number': 2, 'created': '2022-05-31 15:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6b49965e44125811ea8b979eae60f8a58c2ba514', 'message': 'Add SERVICES_BRANCH variable for better control\n\nCurrently TESTING_BRANCH serving 2 purposes - it controls over OSA\nbranch to use and services branch.\nAt the same time we need to have these separated from time to time, as\nOSA is trailing.\n\nChange-Id: Ib5ca8c7d3300f4e8efd81f87612c821594bebfac\n'}, {'number': 3, 'created': '2022-05-31 15:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/57cb07c2af304be5cf41a091e25133a2da03a0b2', 'message': 'Add SERVICES_BRANCH variable for better control\n\nCurrently TESTING_BRANCH serving 2 purposes - it controls over OSA\nbranch to use and services branch.\nAt the same time we need to have these separated from time to time, as\nOSA is trailing.\n\nChange-Id: Ib5ca8c7d3300f4e8efd81f87612c821594bebfac\n'}, {'number': 4, 'created': '2022-05-31 16:00:01.000000000', 'files': ['test-ansible-env-prep.sh', 'zuul.d/project-templates.yaml', 'test-vars.yml', 'zuul.d/playbooks/run.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2ebc57082cf9d5f140ea1e3f217701d0e385cda8', 'message': 'Add SERVICES_BRANCH variable for better control\n\nCurrently TESTING_BRANCH serving 2 purposes - it controls over OSA\nbranch to use and services branch.\nAt the same time we need to have these separated from time to time, as\nOSA is trailing.\n\nChange-Id: Ib5ca8c7d3300f4e8efd81f87612c821594bebfac\n'}]",2,843140,2ebc57082cf9d5f140ea1e3f217701d0e385cda8,15,4,4,28619,,,0,"Add SERVICES_BRANCH variable for better control

Currently TESTING_BRANCH serving 2 purposes - it controls over OSA
branch to use and services branch.
At the same time we need to have these separated from time to time, as
OSA is trailing.

Change-Id: Ib5ca8c7d3300f4e8efd81f87612c821594bebfac
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/40/843140/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-env-prep.sh', 'zuul.d/project-templates.yaml', 'test-vars.yml', 'zuul.d/playbooks/run.yml', 'zuul.d/jobs.yaml']",5,5cc5965bfa7283eaec70090300cb1cf13fdcd37c,843108, services_branch: stable/yoga, testing_branch: stable/yoga,8,5
openstack%2Fdesignate~stable%2Fwallaby~Ibd01f6ad3046ca29eec02032e9115183f89a6a4b,openstack/designate,stable/wallaby,Ibd01f6ad3046ca29eec02032e9115183f89a6a4b,Add proper quota error messages,MERGED,2022-06-01 22:43:20.000000000,2022-06-03 16:22:11.000000000,2022-06-03 16:20:58.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-01 22:43:20.000000000', 'files': ['designate/tests/test_quota/test_quota.py', 'designate/quota/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/0f041e37749afb9563f9e40f561c4100628860c7', 'message': 'Add proper quota error messages\n\nThis patch adds a message to OverQuota containing information\non the actual quota reached and fixes a minor visual bug\nwith QuotaResourceUnknown.\n\nChange-Id: Ibd01f6ad3046ca29eec02032e9115183f89a6a4b\n(cherry picked from commit 907a029625a7f95369ca5a2f5173efefdb04d28f)\n'}]",2,844209,0f041e37749afb9563f9e40f561c4100628860c7,10,3,1,11628,,,0,"Add proper quota error messages

This patch adds a message to OverQuota containing information
on the actual quota reached and fixes a minor visual bug
with QuotaResourceUnknown.

Change-Id: Ibd01f6ad3046ca29eec02032e9115183f89a6a4b
(cherry picked from commit 907a029625a7f95369ca5a2f5173efefdb04d28f)
",git fetch https://review.opendev.org/openstack/designate refs/changes/09/844209/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_quota/test_quota.py', 'designate/quota/base.py']",2,0f041e37749afb9563f9e40f561c4100628860c7,," resources_exceeded = [] resources_exceeded.append(resource) else: raise exceptions.QuotaResourceUnknown( ""'%s' is not a valid quota resource."" % resource ) if resources_exceeded: resources_exceeded.sort(key=len) raise exceptions.OverQuota( 'Quota exceeded for %s.' % ', '.join(resources_exceeded) )"," raise exceptions.OverQuota() else: raise exceptions.QuotaResourceUnknown(""%s is not a valid quota"" "" resource"", resource)",110,53
openstack%2Ftripleo-heat-templates~master~Ib01ab12401a71ae3e52ff7ae5511694613340842,openstack/tripleo-heat-templates,master,Ib01ab12401a71ae3e52ff7ae5511694613340842,Remove deprecated parameter,MERGED,2022-05-30 13:31:29.000000000,2022-06-03 16:15:41.000000000,2022-06-03 16:14:25.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 13:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f15884294406e944a1c3291b1352c8a044ff9803', 'message': ""Remove deprecated parameter\n\nThis change removes deprecated parameter 'InotifyIntancesMax'.\n\nChange-Id: Ib01ab12401a71ae3e52ff7ae5511694613340842\n""}, {'number': 2, 'created': '2022-06-02 14:03:25.000000000', 'files': ['deployment/kernel/kernel-baremetal-ansible.yaml', 'releasenotes/notes/remove-misspelt-param-eeeea6fab711932e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2b9b630d5d628863eb4588ef3830db99321f871', 'message': ""Remove deprecated parameter\n\nThis change removes deprecated parameter 'InotifyIntancesMax'.\n\nChange-Id: Ib01ab12401a71ae3e52ff7ae5511694613340842\n""}]",7,843864,e2b9b630d5d628863eb4588ef3830db99321f871,21,8,2,20733,,,0,"Remove deprecated parameter

This change removes deprecated parameter 'InotifyIntancesMax'.

Change-Id: Ib01ab12401a71ae3e52ff7ae5511694613340842
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/843864/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-ansible.yaml'],1,f15884294406e944a1c3291b1352c8a044ff9803,remove-deprecated, value: {get_param: InotifyInstancesMax}," # DEPRECATED: the following options are deprecated and are currently maintained # for backwards compatibility. They will be removed in future release. InotifyIntancesMax: default: 1024 description: Configures sysctl fs.inotify.max_user_instances key type: number parameter_groups: - label: deprecated description: Do not use deprecated params, they will be removed. parameters: - InotifyIntancesMax # TODO: remove when misseplt/deprecated parameter InotifyIntancesMax is removed. is_inotify_intances_max_default: {equals: [{get_param: InotifyIntancesMax}, 1024]} value: if: - is_inotify_intances_max_default - {get_param: InotifyInstancesMax} - {get_param: InotifyIntancesMax}",1,19
openstack%2Fbarbican~stable%2Fvictoria~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/victoria,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 15:46:58.000000000,2022-06-03 15:55:38.000000000,2022-06-03 15:54:04.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 15:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7627d34799a67f718638a739ebace0f6e00fa54b', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 2, 'created': '2022-05-27 16:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cf935da42578bc4160c897d29c676393942249cb', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 3, 'created': '2022-05-27 16:01:39.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6b7fb6631eaf515cd5c5f3d261c50cb33499d1db', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",0,843632,6b7fb6631eaf515cd5c5f3d261c50cb33499d1db,10,2,3,9914,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/32/843632/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py']",2,7627d34799a67f718638a739ebace0f6e00fa54b,,"<<<<<<< HEAD (bdb53f Allow secret delete by users with ""creator"" role)======= check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + f""{_SECRET_IS_NOT_PRIVATE})) or {_SECRET_ADMIN}"", scope_types=['project'], >>>>>>> CHANGE (f83c89 Allow users with ""creator"" role to edit ACLs)<<<<<<< HEAD (bdb53f Allow secret delete by users with ""creator"" role)======= check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + f""{_SECRET_IS_NOT_PRIVATE})) or {_SECRET_ADMIN}"", scope_types=['project'], >>>>>>> CHANGE (f83c89 Allow users with ""creator"" role to edit ACLs)<<<<<<< HEAD (bdb53f Allow secret delete by users with ""creator"" role)======= 'rule:container_project_creator or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' + f""({_CONTAINER_MEMBER} and ({_CONTAINER_CREATOR} or "" + f""{_CONTAINER_IS_NOT_PRIVATE})) or {_CONTAINER_ADMIN}"", scope_types=['project'], >>>>>>> CHANGE (f83c89 Allow users with ""creator"" role to edit ACLs)<<<<<<< HEAD (bdb53f Allow secret delete by users with ""creator"" role)======= 'rule:container_project_creator or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' + f""({_CONTAINER_MEMBER} and ({_CONTAINER_CREATOR} or "" + f""{_CONTAINER_IS_NOT_PRIVATE})) or {_CONTAINER_ADMIN}"", scope_types=['project'], >>>>>>> CHANGE (f83c89 Allow users with ""creator"" role to edit ACLs)",,48,12
openstack%2Fneutron~master~I41679cd7e39b0f7d64f99f509605ac9bc760ac5d,openstack/neutron,master,I41679cd7e39b0f7d64f99f509605ac9bc760ac5d,Add some logging to test_good_address_allocation,MERGED,2022-05-26 07:09:54.000000000,2022-06-03 15:53:24.000000000,2022-06-03 15:51:33.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-26 07:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1fc1fef0e3b0d47a92b80e977e72d1045797f59', 'message': 'DNM: Debug test_good_address_allocation\n\nCannot reproduce locally, the bug is probably happening only\non loaded test environments. Trying to reproduce with some\nlogging added.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n'}, {'number': 2, 'created': '2022-05-26 08:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79e98906448709f3213f3f9c497e495103a6689b', 'message': 'DNM: Debug test_good_address_allocation\n\nCannot reproduce locally, the bug is probably happening only\non loaded test environments. Trying to reproduce with some\nlogging added.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n'}, {'number': 3, 'created': '2022-05-26 09:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/305bf714812f88a142ebe1d338fa00cfe5d7f596', 'message': 'DNM: Debug test_good_address_allocation\n\nCannot reproduce locally, the bug is probably happening only\non loaded test environments. Trying to reproduce with some\nlogging added.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n'}, {'number': 4, 'created': '2022-05-26 13:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9b1d4923e76cedfad98967903d3d444a6cb9d20', 'message': 'Functional test: wait for dhclient in test_good_address_allocation\n\nForce test to wait for dhclient before checking IP address assigned\non port. Not sure it will completely fix the bug but it seems quite\nlogical.\nThis patch also adds some logging to make it easier to debug if still\nhappens.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n'}, {'number': 5, 'created': '2022-05-26 15:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/217dde0ca680fa73a716a7b201ce7b0931b26462', 'message': 'Functional test: wait for dhclient in test_good_address_allocation\n\nForce test to wait for dhclient before checking IP address assigned\non port. Not sure it will completely fix the bug but it seems quite\nlogical.\nThis patch also adds some logging to make it easier to debug if still\nhappens.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n'}, {'number': 6, 'created': '2022-05-27 07:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cd006066312322e49019583b34d978a89e8444a', 'message': 'Functional test: wait for dhclient in test_good_address_allocation\n\nForce test to wait for dhclient before checking IP address assigned\non port. Not sure it will completely fix the bug but it seems quite\nlogical.\nThis patch also adds some logging to make it easier to debug if still\nhappens.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n'}, {'number': 7, 'created': '2022-05-30 06:52:41.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/763d8af1a3c17ab123f4f4d05f5c15a7ed169283', 'message': ""Add some logging to test_good_address_allocation\n\nLet's see how many times the test asks for IP addr list\nduring 10 sec timeout pediod. Probably sporadic failures\nare caused by waiting for GIL for too long.\n\nRelated-Bug: #1966035\nChange-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d\n""}]",8,843389,763d8af1a3c17ab123f4f4d05f5c15a7ed169283,44,8,7,5948,,,0,"Add some logging to test_good_address_allocation

Let's see how many times the test asks for IP addr list
during 10 sec timeout pediod. Probably sporadic failures
are caused by waiting for GIL for too long.

Related-Bug: #1966035
Change-Id: I41679cd7e39b0f7d64f99f509605ac9bc760ac5d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/843389/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_dhcp_agent.py'],1,b1fc1fef0e3b0d47a92b80e977e72d1045797f59,bug/1966035,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) res = ip_device.addr.list(ip_version=lib_const.IP_VERSION_4) LOG.info(""IP addr list of %s: %s"", vif_name, res) return res proc = self._run_dhclient(vif_name, network) try: common_utils.wait_until_true(predicate, 10) except common_utils.WaitTimeout as e: LOG.warning(""dhclient is still running: %s"", proc.is_running) raise return proc"," return ip_device.addr.list(ip_version=lib_const.IP_VERSION_4) self._run_dhclient(vif_name, network) common_utils.wait_until_true(predicate, 10)",13,3
openstack%2Fcinder~master~Ic481d68639d9460d1fd14225bc17a0d8287d5fd9,openstack/cinder,master,Ic481d68639d9460d1fd14225bc17a0d8287d5fd9,Add image_conversion_disable config,MERGED,2022-04-28 16:36:27.000000000,2022-06-03 15:53:11.000000000,2022-06-03 15:51:29.000000000,"[{'_account_id': 1004}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-28 16:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/193dca2dd3ff9a9026ed298d674578e893bfccd6', 'message': ""Add allow_image_conversion config\n\nAdd new config option `allow_image_conversion`, when it's setted off,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`allow_image_conversion` config is bool option, default to `True`.\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 2, 'created': '2022-04-29 05:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff26fea833278bb5ba335da40c884a1c22614919', 'message': ""Add allow_image_conversion config\n\nAdd new config option `allow_image_conversion`, when it's setted off,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`allow_image_conversion` config is bool option, default to `True`.\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 3, 'created': '2022-04-29 05:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbf4194ee5f4261c9e231fa3c35e55743b67c65d', 'message': ""Add allow_image_conversion config\n\nAdd new config option `allow_image_conversion`, when it's setted off,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`allow_image_conversion` config is bool option, default to `True`.\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 4, 'created': '2022-04-29 06:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44e4484b42e81d8094e825e784b31d276a392b83', 'message': ""Add allow_image_conversion config\n\nAdd new config option `allow_image_conversion`, when it's setted off,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`allow_image_conversion` config is bool option, default to `True`.\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 5, 'created': '2022-04-29 16:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc270ceb0deced44a625a057a23476e4baf19920', 'message': ""Add allow_image_conversion config\n\nAdd new config option `allow_image_conversion`, when it's set to `False`,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`allow_image_conversion` config is bool option, default to `True`.\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 6, 'created': '2022-05-04 04:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/883d85305ea14f2be9626f22596f61bea0771cdf', 'message': ""Add disable_image_conversion config\n\nAdd new config option `disable_image_conversion`, when it's set to `True`,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`disable_image_conversion` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of volumes\ncan cause a tremendous amount of conversions that will kill cinder-volume.\nIt may be undesirable to have this, so a cloud operator can opt to disallow\nconversions and enforce that the user uploads the correct image type if they\nwant to have volumes (aka raw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 7, 'created': '2022-05-04 16:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/445ee8494452b79618d3886e5ae44081a60f64f6', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to `True`,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of volumes\ncan cause a tremendous amount of conversions that will kill cinder-volume.\nIt may be undesirable to have this, so a cloud operator can opt to disallow\nconversions and enforce that the user uploads the correct image type if they\nwant to have volumes (aka raw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 8, 'created': '2022-05-04 16:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f52e124d8728f8b096aba2985731d6a22413fb81', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to `True`,\nimage disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of volumes\ncan cause a tremendous amount of conversions that will kill cinder-volume.\nIt may be undesirable to have this, so a cloud operator can opt to disallow\nconversions and enforce that the user uploads the correct image type if they\nwant to have volumes (aka raw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 9, 'created': '2022-05-05 03:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecd10f97dca1872774da7e4c62e0d3dc24fb7c0a', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 10, 'created': '2022-05-12 16:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/893543dad6e64d1638dba28f705ef9510dfebc1c', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 11, 'created': '2022-05-13 17:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cf28dd9a97d9c589439fed155986ee5181b2dcc', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 12, 'created': '2022-05-27 18:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b42f8902f92713f2c65fbb8fef966b56caaeef9c', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 13, 'created': '2022-05-30 11:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a3d1710509abe7c3af15df871b6b4d108c030ef', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 14, 'created': '2022-05-31 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41104531bace557cab2c92a40f3aef1ae66ffe49', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 15, 'created': '2022-05-31 17:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3af7e3926cef7e4c810544c6ec19df1577b6b6f3', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}, {'number': 16, 'created': '2022-05-31 19:56:15.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_image.py', 'releasenotes/notes/allow_disable_image_conversion-ebf33ce9d5edf724.yaml', 'cinder/tests/unit/volume/test_volume_reimage.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/message/message_field.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/image/image_utils.py', 'cinder/exception.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a719525c1c5aa0d08af881dc1ee72f56cb5b7deb', 'message': ""Add image_conversion_disable config\n\nAdd new config option `image_conversion_disable`, when it's set to\n`True`, image disk_format and volume format must be the same format.\nOtherwise will raise ImageUnacceptable exception.\n`image_conversion_disable` config is bool option, default to `False`.\n\nThe idea behind this was that in certain high scale environments,\nit is possible that a cloud allows both qcow2 and raw image uploads.\n\nHowever, uploading a qcow2 image and creating a large number of\nvolumes can cause a tremendous amount of conversions that will kill\ncinder-volume. It may be undesirable to have this, so a cloud\noperator can opt to disallow conversions and enforce that the user\nuploads the correct image type if they want to have volumes (aka\nraw in rbd case).\n\nCloses-Bug: #1970115\nChange-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9\n""}]",135,839793,a719525c1c5aa0d08af881dc1ee72f56cb5b7deb,397,7,16,12404,,,0,"Add image_conversion_disable config

Add new config option `image_conversion_disable`, when it's set to
`True`, image disk_format and volume format must be the same format.
Otherwise will raise ImageUnacceptable exception.
`image_conversion_disable` config is bool option, default to `False`.

The idea behind this was that in certain high scale environments,
it is possible that a cloud allows both qcow2 and raw image uploads.

However, uploading a qcow2 image and creating a large number of
volumes can cause a tremendous amount of conversions that will kill
cinder-volume. It may be undesirable to have this, so a cloud
operator can opt to disallow conversions and enforce that the user
uploads the correct image type if they want to have volumes (aka
raw in rbd case).

Closes-Bug: #1970115
Change-Id: Ic481d68639d9460d1fd14225bc17a0d8287d5fd9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/839793/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allow_disable_image_conversion-ebf33ce9d5edf724.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",3,193dca2dd3ff9a9026ed298d674578e893bfccd6,bug/1970115,"from oslo_config import cfgCONF = cfg.CONF def test_check_allow_image_conversion(self): CONF.set_override('allow_image_conversion', True) self.assertIsNone(image_utils.check_allow_image_conversion( 'foo', 'bar', fake.IMAGE_ID)) def test_check_not_allow_image_conversion(self): CONF.set_override('allow_image_conversion', False) self.assertRaises( exception.ImageUnacceptable, image_utils.check_allow_image_conversion, 'foo', 'bar', fake.IMAGE_ID) ",,43,0
openstack%2Fvalidations-libs~master~I0be22a80afbe9f16191384466fe2ba496a7ef63e,openstack/validations-libs,master,I0be22a80afbe9f16191384466fe2ba496a7ef63e,Remove six,MERGED,2022-05-09 16:11:38.000000000,2022-06-03 15:32:49.000000000,2022-06-03 15:31:35.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-05-09 16:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/67940818b4ae55593f6c8b1f4d48b6796eb80bbc', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nThis change also upates setup.cfg to enforce usage of Python 3.\n\nChange-Id: I0be22a80afbe9f16191384466fe2ba496a7ef63e\n'}, {'number': 2, 'created': '2022-05-31 12:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ae720fc1f0dc290464f046329f4d20cd89f13d72', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nThis change also upates setup.cfg to enforce usage of Python 3.\n\nChange-Id: I0be22a80afbe9f16191384466fe2ba496a7ef63e\n'}, {'number': 3, 'created': '2022-06-01 04:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/07d720211c7e2607bd5a814ab6f930e42cd8dc4e', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nThis change also upates setup.cfg to enforce usage of Python 3.\n\nChange-Id: I0be22a80afbe9f16191384466fe2ba496a7ef63e\n'}, {'number': 4, 'created': '2022-06-03 08:11:00.000000000', 'files': ['validations_libs/tests/cli/test_show.py', 'validations_libs/ansible.py', 'validations_libs/tests/cli/test_common.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/test_validation_logs.py', 'validations_libs/tests/test_group.py', 'validations_libs/tests/test_ansible.py', 'validations_libs/tests/test_utils.py', 'validations_libs/tests/test_validation.py', 'setup.cfg', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c8fb5bfa2ec76eeb1e2c6dd3a87b275a3eac72fb', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nThis change also upates setup.cfg to enforce usage of Python 3.\n\nChange-Id: I0be22a80afbe9f16191384466fe2ba496a7ef63e\n'}]",12,841141,c8fb5bfa2ec76eeb1e2c6dd3a87b275a3eac72fb,26,5,4,9816,,,0,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

This change also upates setup.cfg to enforce usage of Python 3.

Change-Id: I0be22a80afbe9f16191384466fe2ba496a7ef63e
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/41/841141/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/cli/test_show.py', 'validations_libs/ansible.py', 'validations_libs/tests/cli/test_common.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/test_validation_logs.py', 'validations_libs/tests/test_group.py', 'validations_libs/tests/test_ansible.py', 'validations_libs/tests/test_utils.py', 'validations_libs/tests/test_validation.py', 'setup.cfg', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py']",13,67940818b4ae55593f6c8b1f4d48b6796eb80bbc,remove-six, @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open'), @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open'),140,140
openstack%2Fkolla-ansible~master~Ib54b26428b79d5c4f554928b8634a0bb4e884a90,openstack/kolla-ansible,master,Ib54b26428b79d5c4f554928b8634a0bb4e884a90,Remove nova related config from placement,MERGED,2022-06-02 11:26:00.000000000,2022-06-03 15:14:20.000000000,2022-06-03 15:13:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 11:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3e409ccf87ca7bdb280d65a1120555659decb61', 'message': 'Remove nova related config from placement\n\nThis patch is removing nova configuration\noptions, this was probably caused by migration\nfrom nova-placement to placement.\n\nChange-Id: Ib54b26428b79d5c4f554928b8634a0bb4e884a90\n'}, {'number': 2, 'created': '2022-06-02 14:36:22.000000000', 'files': ['ansible/roles/placement/templates/placement.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe1a8a346cc36ed4cf6e4fff2a52bdf3718f0c30', 'message': 'Remove nova related config from placement\n\nThis patch is removing nova configuration\noptions, this was probably caused by migration\nfrom nova-placement to placement.\n\nChange-Id: Ib54b26428b79d5c4f554928b8634a0bb4e884a90\n'}]",2,844420,fe1a8a346cc36ed4cf6e4fff2a52bdf3718f0c30,23,4,2,27339,,,0,"Remove nova related config from placement

This patch is removing nova configuration
options, this was probably caused by migration
from nova-placement to placement.

Change-Id: Ib54b26428b79d5c4f554928b8634a0bb4e884a90
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/844420/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/placement/templates/placement.conf.j2'],1,f3e409ccf87ca7bdb280d65a1120555659decb61,remove-nova-from-placement,,"osapi_compute_listen = {{ api_interface_address }} # Though my_ip is not used directly, lots of other variables use $my_ip my_ip = {{ api_interface_address }} transport_url = {{ rpc_transport_url }} [api] use_forwarded_for = true ",0,10
openstack%2Ftripleo-quickstart-extras~master~I3c6a8612de60b201b9f4ac1070f52d4debe37eb5,openstack/tripleo-quickstart-extras,master,I3c6a8612de60b201b9f4ac1070f52d4debe37eb5,Propagating branch_override variable into DLRN build role,MERGED,2022-05-18 07:38:11.000000000,2022-06-03 15:10:42.000000000,2022-06-03 15:10:42.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-05-18 07:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2b4027eef03af50452cbe7aec62f138fa480cee8', 'message': 'Removing validations-* from the branchless list\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n'}, {'number': 2, 'created': '2022-05-18 09:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f81fe176e4f4a20940284ee5cba0cda35b0e09b', 'message': 'Removing validations-* from the branchless list\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n'}, {'number': 3, 'created': '2022-05-18 10:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/87437a5abf139a21df5205bfadd5cc9590c10a0c', 'message': 'Removing validations-* from the branchless list\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n'}, {'number': 4, 'created': '2022-05-18 11:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/88467a9f70802d9cb442084b02d4bf8d602aa3d6', 'message': 'Removing validations-* from the branchless list\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n'}, {'number': 5, 'created': '2022-05-18 15:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/48665df06fcb7472d613d7aae9005d9746632986', 'message': 'Removing validations-* from the branchless list\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n'}, {'number': 6, 'created': '2022-05-19 08:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ebdec4f591cd15450b1ad75edaeca5f5f03ee8fc', 'message': 'DNM Adjusting DRLN builds for alternative branch names\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n'}, {'number': 7, 'created': '2022-05-19 14:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38329095dffc947d81f46e4793db5cece44b9706', 'message': ""Propagating branch_override variable into DLRN build role\n\nThe role was previously set to handle only branch names directly recieved from\nZuul or preset default. This could lead to role checking out incorrect distgit\nrepos in cases when the name of the branch in upstream repo differed significantly\nfrom that in the distgit repo.\n\nThis change will allow per job override of the behavior, using the 'branch_override' var.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n""}, {'number': 8, 'created': '2022-05-25 06:34:25.000000000', 'files': ['roles/build-test-packages/tasks/dlrn-build.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b95f8023c00d6cbd61a804d26b01c8f7e9f590e5', 'message': ""Propagating branch_override variable into DLRN build role\n\nThe role was previously set to handle only branch names directly received from\nZuul or preset default. This could lead to role checking out incorrect distgit\nrepos in cases when the name of the branch in upstream repo differs significantly\nfrom that in the distgit repo.\n\nThis change will allow per job override of the behavior, using the 'branch_override' var.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5\n""}]",13,842273,b95f8023c00d6cbd61a804d26b01c8f7e9f590e5,61,9,8,32926,,,0,"Propagating branch_override variable into DLRN build role

The role was previously set to handle only branch names directly received from
Zuul or preset default. This could lead to role checking out incorrect distgit
repos in cases when the name of the branch in upstream repo differs significantly
from that in the distgit repo.

This change will allow per job override of the behavior, using the 'branch_override' var.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I3c6a8612de60b201b9f4ac1070f52d4debe37eb5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/842273/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,2b4027eef03af50452cbe7aec62f138fa480cee8,,, - openstack/validations-common - openstack/validations-libs,0,2
openstack%2Fcharm-ceph-fs~master~If2bdd5c0f2afa1843e686cf69570a50901c85875,openstack/charm-ceph-fs,master,If2bdd5c0f2afa1843e686cf69570a50901c85875,Enable charm to configure mds cache options.,MERGED,2022-05-19 15:48:23.000000000,2022-06-03 14:28:45.000000000,2022-06-03 14:28:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-05-19 15:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/84e014bfeab5923d15ef2b16456b2565c9f5a8c5', 'message': 'Enable charm to configure mds cache options.\n\nCloses-Bug: #1891409\nChange-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875\n'}, {'number': 2, 'created': '2022-05-19 16:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/771d2a509e3c45084973c766aa51961667856014', 'message': 'Enable charm to configure mds cache options.\n\nCloses-Bug: #1891409\nChange-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875\n'}, {'number': 3, 'created': '2022-05-26 19:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/8b2ff785e40d41fd3341eec2850bec28a3e83173', 'message': 'Enable charm to configure mds cache options.\n\nCloses-Bug: #1891409\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/774\nChange-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875\n'}, {'number': 4, 'created': '2022-05-27 19:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/1a9b98064368ac37315ab473095d3212e203a451', 'message': 'Enable charm to configure mds cache options.\n\nCloses-Bug: #1891409\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/774\nChange-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875\n'}, {'number': 5, 'created': '2022-05-31 22:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/b4ededc75c2ab61d05955f59f0f8b5d419862d8c', 'message': 'Enable charm to configure mds cache options.\n\nCloses-Bug: #1891409\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/774\nChange-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875\n'}, {'number': 6, 'created': '2022-06-02 14:06:26.000000000', 'files': ['src/templates/ceph.conf', 'src/config.yaml', 'unit_tests/test_lib_charm_openstack_ceph_fs.py', 'src/lib/charm/openstack/ceph_fs.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/8f31a33a0fd032b079f76abb20f68c4e71e3f50c', 'message': 'Enable charm to configure mds cache options.\n\nCloses-Bug: #1891409\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/774\nChange-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875\n'}]",32,842555,8f31a33a0fd032b079f76abb20f68c4e71e3f50c,60,4,6,34781,,,0,"Enable charm to configure mds cache options.

Closes-Bug: #1891409
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/774
Change-Id: If2bdd5c0f2afa1843e686cf69570a50901c85875
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/55/842555/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/ceph.conf', 'unit_tests/test_lib_charm_openstack_ceph_fs.py', 'src/lib/charm/openstack/ceph_fs.py']",4,84e014bfeab5923d15ef2b16456b2565c9f5a8c5,1891409, def mds_cache(self): return self.charm_instance.get_mds_cache() @property def get_mds_cache(self): self.options = {} self.options['mds-cache-memory-limit'] = \ config('mds-cache-memory-limit') self.options['mds-cache-reservation'] = \ config('mds-cache-reservation') self.options['mds-health-cache-threshold'] = \ config('mds-health-cache-threshold') return self.options ,,47,0
openstack%2Fcinder~master~I100b47697afa9241dad856baef613c687428d6d1,openstack/cinder,master,I100b47697afa9241dad856baef613c687428d6d1,Remove use of mock CONF object,MERGED,2022-05-04 16:32:03.000000000,2022-06-03 14:15:59.000000000,2022-06-03 14:14:11.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-04 16:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8b6a44f710ab4884828d3d11bbf7a0b9c0bdbcf', 'message': ""Remove use of mock CONF object\n\nWe shouldn't be using a mock CONF object in tests, instead we\nshould be using the 'flags' method of the cinder.tests.unit.test.\nTestCase class.\n\nSee https://review.opendev.org/c/openstack/cinder/+/839793/6 if\nyou're not sure why.\n\nChange-Id: I100b47697afa9241dad856baef613c687428d6d1\n""}, {'number': 2, 'created': '2022-05-30 11:20:17.000000000', 'files': ['cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/405173d477fed32c7aa2c2597a616b939911ef6a', 'message': ""Remove use of mock CONF object\n\nWe shouldn't be using a mock CONF object in tests, instead we\nshould be using the 'flags' method of the cinder.tests.unit.test.\nTestCase class.\n\nSee https://review.opendev.org/c/openstack/cinder/+/839793/6 if\nyou're not sure why.\n\nChange-Id: I100b47697afa9241dad856baef613c687428d6d1\n""}]",7,840512,405173d477fed32c7aa2c2597a616b939911ef6a,51,7,2,5314,,,0,"Remove use of mock CONF object

We shouldn't be using a mock CONF object in tests, instead we
should be using the 'flags' method of the cinder.tests.unit.test.
TestCase class.

See https://review.opendev.org/c/openstack/cinder/+/839793/6 if
you're not sure why.

Change-Id: I100b47697afa9241dad856baef613c687428d6d1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/840512/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_image_utils.py'],1,c8b6a44f710ab4884828d3d11bbf7a0b9c0bdbcf,bug/1970115," mock_odirect): self.flags(image_conversion_dir='fakedir') dest = ['fakedir'] def test_conv_dir_exists(self, mock_tempdir, mock_make): self.flags(image_conversion_dir='fake_conv_dir') mock_tempdir.assert_called_once_with(dir='fake_conv_dir') def test_create_conv_dir(self, mock_tempdir, mock_make): self.flags(image_conversion_dir='fake_conv_dir') mock_make.assert_called_once_with('fake_conv_dir') mock_tempdir.assert_called_once_with(dir='fake_conv_dir') def test_no_conv_dir(self, mock_tempdir, mock_make): self.flags(image_conversion_dir=None) mock_info, mock_open, mock_proxy): mock_open, mock_chown, mock_proxy): mock_info, mock_open, self.flags(allow_compression_on_image_upload=True) mock_info, mock_open, mock_chown, mock_open, self.flags(allow_compression_on_image_upload=True) def test_convert_error(self, mock_os, mock_temp, mock_convert, mock_info): mock_open, mock_chown, mock_proxy): def test_defaults(self, mock_temp, mock_info, mock_fetch, def test_kwargs(self, mock_temp, mock_info, mock_fetch, def test_convert_from_vhd(self, mock_temp, mock_info, def test_convert_from_iso(self, mock_temp, mock_info, def test_temporary_images(self, mock_temp, mock_info, def test_no_qemu_img_and_is_raw(self, mock_temp, mock_info, def test_no_qemu_img_not_raw(self, mock_temp, mock_info, def test_no_qemu_img_no_metadata(self, mock_temp, mock_info, def test_size_error(self, mock_temp, mock_info, mock_fetch, def test_qemu_img_parse_error(self, mock_temp, mock_info, def test_backing_file_error(self, mock_temp, mock_info, def test_xenserver_to_vhd(self, mock_temp, mock_info, def test_no_qemu_img_fetch_verify_image(self, def test_get_qemu_data_returns_none(self, mock_temp, mock_info): def test_get_qemu_data_with_image_meta_exception(self, def test_get_qemu_data_without_image_meta_except(self, # FIXME: what 'defaults' are we talking about here? By default # compression is not enabled! def test_defaults_compressed(self, mock_temp, mock_info, self.flags(allow_compression_on_image_upload=True) mock_close): self.flags(image_conversion_dir=None) mock_close): conv_dir = 'fake_conv_dir' self.flags(image_conversion_dir=conv_dir) mock_close): conv_dir = 'fake_conv_dir' self.flags(image_conversion_dir=conv_dir) def test_cleanup_temporary_file(self, mock_path, mock_listdir, conv_dir = 'fake_conv_dir' self.flags(image_conversion_dir=conv_dir) conv_dir = 'fake_conv_dir' self.flags(image_conversion_dir=conv_dir) mock_listdir, conv_dir = 'fake_conv_dir' self.flags(image_conversion_dir=conv_dir)"," @mock.patch('cinder.image.image_utils.CONF') mock_odirect, mock_conf): mock_conf.image_conversion_dir = 'fakedir' dest = [mock_conf.image_conversion_dir] @mock.patch('cinder.image.image_utils.CONF') def test_conv_dir_exists(self, mock_tempdir, mock_make, mock_conf): mock_conf.image_conversion_dir = mock.sentinel.conv_dir mock_tempdir.assert_called_once_with(dir=mock.sentinel.conv_dir) @mock.patch('cinder.image.image_utils.CONF') def test_create_conv_dir(self, mock_tempdir, mock_make, mock_conf): mock_conf.image_conversion_dir = mock.sentinel.conv_dir mock_make.assert_called_once_with(mock.sentinel.conv_dir) mock_tempdir.assert_called_once_with(dir=mock.sentinel.conv_dir) @mock.patch('cinder.image.image_utils.CONF') def test_no_conv_dir(self, mock_tempdir, mock_make, mock_conf): mock_conf.image_conversion_dir = None @mock.patch('cinder.image.image_utils.CONF') mock_info, mock_open, mock_conf, mock_proxy): @mock.patch('cinder.image.image_utils.CONF') mock_open, mock_conf, mock_chown, mock_proxy): @mock.patch('cinder.image.image_utils.CONF') mock_info, mock_open, mock_conf, mock_conf.allow_compression_on_image_upload = True @mock.patch('cinder.image.image_utils.CONF') mock_info, mock_open, mock_conf, mock_chown, @mock.patch('cinder.image.image_utils.CONF') mock_open, mock_conf, mock_conf.allow_compression_on_image_upload = True @mock.patch('cinder.image.image_utils.CONF') def test_convert_error(self, mock_os, mock_temp, mock_convert, mock_info, mock_conf): @mock.patch('cinder.image.image_utils.CONF') mock_open, mock_conf, mock_chown, mock_proxy): @mock.patch('cinder.image.image_utils.CONF') def test_defaults(self, mock_conf, mock_temp, mock_info, mock_fetch, @mock.patch('cinder.image.image_utils.CONF') def test_kwargs(self, mock_conf, mock_temp, mock_info, mock_fetch, @mock.patch('cinder.image.image_utils.CONF') def test_convert_from_vhd(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_convert_from_iso(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_temporary_images(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_no_qemu_img_and_is_raw(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_no_qemu_img_not_raw(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_no_qemu_img_no_metadata(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_size_error(self, mock_conf, mock_temp, mock_info, mock_fetch, @mock.patch('cinder.image.image_utils.CONF') def test_qemu_img_parse_error(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_backing_file_error(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_xenserver_to_vhd(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') def test_no_qemu_img_fetch_verify_image(self, mock_conf, @mock.patch('cinder.image.image_utils.CONF') def test_get_qemu_data_returns_none(self, mock_conf, mock_temp, mock_info): @mock.patch('cinder.image.image_utils.CONF') def test_get_qemu_data_with_image_meta_exception(self, mock_conf, @mock.patch('cinder.image.image_utils.CONF') def test_get_qemu_data_without_image_meta_except(self, mock_conf, @mock.patch('cinder.image.image_utils.CONF') def test_defaults_compressed(self, mock_conf, mock_temp, mock_info, @mock.patch('cinder.image.image_utils.CONF') mock_conf, mock_close): mock_conf.image_conversion_dir = None @mock.patch('cinder.image.image_utils.CONF') mock_conf, mock_close): conv_dir = mock.sentinel.image_conversion_dir mock_conf.image_conversion_dir = conv_dir @mock.patch('cinder.image.image_utils.CONF') mock_conf, mock_close): conv_dir = mock.sentinel.image_conversion_dir mock_conf.image_conversion_dir = conv_dir @mock.patch('cinder.image.image_utils.CONF') def test_cleanup_temporary_file(self, mock_path, mock_listdir, mock_conf, conv_dir = mock.sentinel.image_conversion_dir mock_conf.image_conversion_dir = conv_dir @mock.patch('cinder.image.image_utils.CONF') mock_conf, conv_dir = mock.sentinel.image_conversion_dir mock_conf.image_conversion_dir = conv_dir @mock.patch('cinder.image.image_utils.CONF') mock_listdir, mock_conf, conv_dir = mock.sentinel.image_conversion_dir mock_conf.image_conversion_dir = conv_dir",58,94
openstack%2Fneutron~stable%2Fyoga~Icf92685579409282bad0a80ba42531c93738e0b1,openstack/neutron,stable/yoga,Icf92685579409282bad0a80ba42531c93738e0b1,[OVN] Protect the AgentCache iteration by copying the local cache,MERGED,2022-06-02 15:47:41.000000000,2022-06-03 14:15:49.000000000,2022-06-03 14:14:08.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 15:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cddf717eb573deb278a727e7f284e23d1cf77bc9', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)\n'}, {'number': 2, 'created': '2022-06-03 11:29:31.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbacaf7becd8c25824cadcd7c1f4080d8daf50b7', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)\n'}]",1,844493,fbacaf7becd8c25824cadcd7c1f4080d8daf50b7,14,3,2,16688,,,0,"[OVN] Protect the AgentCache iteration by copying the local cache

During the execution of ``AgentCache.__iter__``, the content of
""self.agents"" can change; the Neutron server can attend to an event
to add or delete an OVN agent. If that happens, the iteration will
fail with the error:
  ""RuntimeError: dictionary changed size during iteration""

To avoid this, before iterating the list of agents, the cache
singleton creates a copy of the local cache. The aim of making this
copy is to avoid using locks between threads.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py

Closes-Bug: #1976292
Change-Id: Icf92685579409282bad0a80ba42531c93738e0b1
(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/844493/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py']",3,cddf717eb573deb278a727e7f284e23d1cf77bc9,bug/1976292,"# Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock import eventlet from neutron.common.ovn import constants as ovn_const from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent from neutron.tests import base from neutron.tests.unit import fake_resources as fakes class AgentCacheTestCase(base.BaseTestCase): def setUp(self): super().setUp() self.agent_cache = neutron_agent.AgentCache(driver=mock.ANY) self.addCleanup(self._clean_agent_cache) self.names_ref = [] for i in range(10): # Add 10 agents. chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis' + str(i)}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) self.names_ref.append('chassis' + str(i)) def _clean_agent_cache(self): self.agent_cache.agents = {} def _list_agents(self): self.names_read = [] for idx, agent in enumerate(self.agent_cache): self.names_read.append(agent.agent_id) if idx == 5: # Swap to ""_add_and_delete_agents"" thread. eventlet.sleep(0) def _add_and_delete_agents(self): del self.agent_cache['chassis8'] chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis10'}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) def test_update_while_iterating_agents(self): pool = eventlet.GreenPool(2) pool.spawn(self._list_agents) pool.spawn(self._add_and_delete_agents) pool.waitall() self.assertEqual(self.names_ref, self.names_read) def test_agents_by_chassis_private(self): chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis5'}) agents = self.agent_cache.agents_by_chassis_private(chassis_private) agents = list(agents) self.assertEqual(1, len(agents)) self.assertEqual('chassis5', agents[0].agent_id) ",,75,2
openstack%2Fdiskimage-builder~master~I97a904df9bb016ad83ecd4ff149776f051cbfa45,openstack/diskimage-builder,master,I97a904df9bb016ad83ecd4ff149776f051cbfa45,Always Use linuxefi with DIB_BLOCK_DEVICE=efi,NEW,2022-02-24 10:20:57.000000000,2022-06-03 13:58:09.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 2889}, {'_account_id': 3068}, {'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 6449}, {'_account_id': 6469}, {'_account_id': 6488}, {'_account_id': 7118}, {'_account_id': 9369}, {'_account_id': 10035}, {'_account_id': 11655}, {'_account_id': 12459}, {'_account_id': 13252}, {'_account_id': 21741}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-24 10:20:57.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cf6c48b398152c9e2d26795549ac910cb11d5958', 'message': 'Always Use linuxefi with DIB_BLOCK_DEVICE=efi\n\nOn centos 7 built with DIB_BLOCK_DEVICE=efi I am seeing:\n\n  error: cant\'t find command linux\n  error: cant\'t find command initrd\n\nAt the grub prompt.\n\nWe seem to force linux and initrd here:\n\nhttps://github.com/openstack/diskimage-builder/blob/4a2b63e7f98aefbe9514a5dd710a05cb4b7e7a7c/diskimage_builder/elements/bootloader/finalise.d/50-bootloader#L185\n\nAlternative solutions:\n\n- Set GRUB_USE_LINUXEFI in /etc/default grub\n- Install grub with the linux module i.e --modules=""$modules linux""\n\nChange-Id: I97a904df9bb016ad83ecd4ff149776f051cbfa45\n'}]",1,830801,cf6c48b398152c9e2d26795549ac910cb11d5958,5,18,1,28048,,,0,"Always Use linuxefi with DIB_BLOCK_DEVICE=efi

On centos 7 built with DIB_BLOCK_DEVICE=efi I am seeing:

  error: cant't find command linux
  error: cant't find command initrd

At the grub prompt.

We seem to force linux and initrd here:

https://github.com/openstack/diskimage-builder/blob/4a2b63e7f98aefbe9514a5dd710a05cb4b7e7a7c/diskimage_builder/elements/bootloader/finalise.d/50-bootloader#L185

Alternative solutions:

- Set GRUB_USE_LINUXEFI in /etc/default grub
- Install grub with the linux module i.e --modules=""$modules linux""

Change-Id: I97a904df9bb016ad83ecd4ff149776f051cbfa45
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/01/830801/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'],1,cf6c48b398152c9e2d26795549ac910cb11d5958,," sed -i 's%\(linux\|initrd\)\(16\)\{0,1\} /boot%\1efi /boot%g' $GRUB_CFG", sed -i 's%\(linux\|initrd\)16 /boot%\1efi /boot%g' $GRUB_CFG,1,1
openstack%2Ftempest~master~I0fd61028322572cd38c9cb1bd0ba3770e4ba9f0c,openstack/tempest,master,I0fd61028322572cd38c9cb1bd0ba3770e4ba9f0c,Make test_live_block_migration_with_attached_volume wait for SSHABLE,ABANDONED,2022-05-30 18:22:12.000000000,2022-06-03 13:31:53.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 18:22:12.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8907d77ac7728ba19309daf2ee2975eb27907672', 'message': ""Make test_live_block_migration_with_attached_volume wait for SSHABLE\n\nThe test attaches a volume to a running instance before live-migrating\nit. We're seeing ocasional failures to detach the volume during\ncleanup. Start waiting to SSHABLE before attaching.\n\nChange-Id: I0fd61028322572cd38c9cb1bd0ba3770e4ba9f0c\n""}]",2,843946,8907d77ac7728ba19309daf2ee2975eb27907672,5,2,1,8864,,,0,"Make test_live_block_migration_with_attached_volume wait for SSHABLE

The test attaches a volume to a running instance before live-migrating
it. We're seeing ocasional failures to detach the volume during
cleanup. Start waiting to SSHABLE before attaching.

Change-Id: I0fd61028322572cd38c9cb1bd0ba3770e4ba9f0c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/843946/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,8907d77ac7728ba19309daf2ee2975eb27907672,wait_until_sshable_pingable," server = self.create_test_server(wait_until=""SSHABLE"")"," server = self.create_test_server(wait_until=""ACTIVE"")",1,1
openstack%2Fneutron~stable%2Fxena~Icf92685579409282bad0a80ba42531c93738e0b1,openstack/neutron,stable/xena,Icf92685579409282bad0a80ba42531c93738e0b1,[OVN] Protect the AgentCache iteration by copying the local cache,MERGED,2022-06-03 06:41:36.000000000,2022-06-03 13:12:02.000000000,2022-06-03 13:10:33.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 06:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19f856034ffb9520f48db230d9e3c96078b3929f', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)\n'}, {'number': 2, 'created': '2022-06-03 07:20:21.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb562b60a3f128fc45c9a90e1a849efbd6a62c57', 'message': '[OVN] Protect the AgentCache iteration by copying the local cache\n\nDuring the execution of ``AgentCache.__iter__``, the content of\n""self.agents"" can change; the Neutron server can attend to an event\nto add or delete an OVN agent. If that happens, the iteration will\nfail with the error:\n  ""RuntimeError: dictionary changed size during iteration""\n\nTo avoid this, before iterating the list of agents, the cache\nsingleton creates a copy of the local cache. The aim of making this\ncopy is to avoid using locks between threads.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py\n\nCloses-Bug: #1976292\nChange-Id: Icf92685579409282bad0a80ba42531c93738e0b1\n(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)\n'}]",16,844549,eb562b60a3f128fc45c9a90e1a849efbd6a62c57,13,3,2,16688,,,0,"[OVN] Protect the AgentCache iteration by copying the local cache

During the execution of ``AgentCache.__iter__``, the content of
""self.agents"" can change; the Neutron server can attend to an event
to add or delete an OVN agent. If that happens, the iteration will
fail with the error:
  ""RuntimeError: dictionary changed size during iteration""

To avoid this, before iterating the list of agents, the cache
singleton creates a copy of the local cache. The aim of making this
copy is to avoid using locks between threads.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py

Closes-Bug: #1976292
Change-Id: Icf92685579409282bad0a80ba42531c93738e0b1
(cherry picked from commit a71fe45d9628f0dc67ccd12d94a51a7b801ec9d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/844549/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/__init__.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py']",3,19f856034ffb9520f48db230d9e3c96078b3929f,bug/1976292,"# Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock import eventlet from neutron.common.ovn import constants as ovn_const from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent from neutron.tests import base from neutron.tests.unit import fake_resources as fakes class AgentCacheTestCase(base.BaseTestCase): def setUp(self): super().setUp() self.agent_cache = neutron_agent.AgentCache(driver=mock.ANY) self.addCleanup(self._clean_agent_cache) self.names_ref = [] for i in range(10): # Add 10 agents. chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis' + str(i)}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) self.names_ref.append('chassis' + str(i)) def _clean_agent_cache(self): self.agent_cache.agents = {} def _list_agents(self): self.names_read = [] for idx, agent in enumerate(self.agent_cache): self.names_read.append(agent.agent_id) if idx == 5: # Swap to ""_add_and_delete_agents"" thread. eventlet.sleep(0) def _add_and_delete_agents(self): del self.agent_cache['chassis8'] chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis10'}) self.agent_cache.update(ovn_const.OVN_CONTROLLER_AGENT, chassis_private) def test_update_while_iterating_agents(self): pool = eventlet.GreenPool(2) pool.spawn(self._list_agents) pool.spawn(self._add_and_delete_agents) pool.waitall() self.assertEqual(self.names_ref, self.names_read) def test_agents_by_chassis_private(self): chassis_private = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'chassis5'}) agents = self.agent_cache.agents_by_chassis_private(chassis_private) agents = list(agents) self.assertEqual(1, len(agents)) self.assertEqual('chassis5', agents[0].agent_id) ",,79,2
openstack%2Fgovernance-sigs~master~Iecd4fc0fc8288c9572f08f03663452a0525716d1,openstack/governance-sigs,master,Iecd4fc0fc8288c9572f08f03663452a0525716d1,Security SIG chair rotation,MERGED,2022-06-02 13:05:46.000000000,2022-06-03 12:54:52.000000000,2022-06-02 19:29:29.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 13:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/3246f5e3f5f2e0f200471bd677e9402780ff0022', 'message': ""Security SIG chair rotation\n\nJeremy is volunteering to lead the Security SIG for the foreseeable\nfuture, given Gage's reduced availability, but is also open to\nadditional co-chairs if anyone is interested.\n\nChange-Id: Iecd4fc0fc8288c9572f08f03663452a0525716d1\n""}, {'number': 2, 'created': '2022-06-02 13:11:11.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/54f6cf0f563d871583ce57273c0d7f5b43604e03', 'message': ""Security SIG chair rotation\n\nJeremy is volunteering to lead the Security SIG for the foreseeable\nfuture, given Gage's reduced availability, but is also open to\nadditional co-chairs if anyone is interested.\n\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-April/028251.html\n\nChange-Id: Iecd4fc0fc8288c9572f08f03663452a0525716d1\n""}]",2,844446,54f6cf0f563d871583ce57273c0d7f5b43604e03,13,5,2,5263,,,0,"Security SIG chair rotation

Jeremy is volunteering to lead the Security SIG for the foreseeable
future, given Gage's reduced availability, but is also open to
additional co-chairs if anyone is interested.

https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028251.html

Change-Id: Iecd4fc0fc8288c9572f08f03663452a0525716d1
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/46/844446/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,3246f5e3f5f2e0f200471bd677e9402780ff0022,security-chair, - name: Jeremy Stanley irc: fungi email: fungi@yuggoth.org, - name: Gage Hugo irc: gagehugo email: gagehugo@gmail.com,3,3
openstack%2Fgovernance~master~I1d59c3534d9982c97f451cfc8ee711a44e71a6ef,openstack/governance,master,I1d59c3534d9982c97f451cfc8ee711a44e71a6ef,Remove security-analysis repo from Security SIG,MERGED,2022-06-02 14:31:08.000000000,2022-06-03 12:54:07.000000000,2022-06-02 19:31:25.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 14:31:08.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/9c65ea328b4cb897d3c55c0d9b9c5dbcf1bd4894', 'message': 'Remove security-analysis repo from Security SIG\n\nThe security-analysis repo is slated for retirement by the Security\nSIG. This change removes the security-analysis repository from the\nlist that is currently maintained by the Security SIG.\n\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-June/028816.html\n\nChange-Id: I1d59c3534d9982c97f451cfc8ee711a44e71a6ef\n'}]",1,844463,9c65ea328b4cb897d3c55c0d9b9c5dbcf1bd4894,11,5,1,5263,,,0,"Remove security-analysis repo from Security SIG

The security-analysis repo is slated for retirement by the Security
SIG. This change removes the security-analysis repository from the
list that is currently maintained by the Security SIG.

https://lists.openstack.org/pipermail/openstack-discuss/2022-June/028816.html

Change-Id: I1d59c3534d9982c97f451cfc8ee711a44e71a6ef
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/844463/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,9c65ea328b4cb897d3c55c0d9b9c5dbcf1bd4894,project-update,, - repo: openstack/security-analysis,0,1
openstack%2Fglance~stable%2Fyoga~I0cf35ed7e21497826cd581e59aa58774f030b9f6,openstack/glance,stable/yoga,I0cf35ed7e21497826cd581e59aa58774f030b9f6,Bump Image API version to 2.16,MERGED,2022-05-25 15:55:35.000000000,2022-06-03 12:52:39.000000000,2022-06-03 12:51:21.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-25 15:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c088c8b71f4b8e9e32681888e1333a1708d4339b', 'message': ""Bump Image API version to 2.16\n\nThis API version increment is due to change I6a875a38bef5, which\ncorrected the response code for the admin-only API call:\n    PUT /v2/cache/{image_id}\nThe call now returns 202 upon success (it had been returning 200).\n\nThe intent of this version bump is to get the attention of operators\nto take note of this change; from now on, the call always returns 202\nupon success regardless of what API version you request.\n\nAdditionally, cleaned up some version tests that had gotten out of\ndate and were not thoroughly testing version negotiation.\n\nAlso, corrected the version negotiation code around the v2.13 API.\nThe versions response had been modified by change I6882fd2381e6 to\nonly include v2.13 when the 'enabled_backends' config option had a\nvalue, but the versions negotiation code was not updated to reflect\nthat.\n\nChange-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6\nRelated-bug: #1971521\n(cherry picked from commit 11989a18f4ede07026a435abb3d695a075ae7004)\n""}, {'number': 2, 'created': '2022-05-25 19:38:45.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'releasenotes/notes/api-2.16-8417b1e23322fedb.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/55c000ee1d7bb415491071abbc4001b4b715d380', 'message': ""Bump Image API version to 2.16\n\nThis API version increment is due to change I6a875a38bef5, which\ncorrected the response code for the admin-only API call:\n    PUT /v2/cache/{image_id}\nThe call now returns 202 upon success (it had been returning 200).\n\nThe intent of this version bump is to get the attention of operators\nto take note of this change; from now on, the call always returns 202\nupon success regardless of what API version you request.\n\nAdditionally, cleaned up some version tests that had gotten out of\ndate and were not thoroughly testing version negotiation.\n\nAlso, corrected the version negotiation code around the v2.13 API.\nThe versions response had been modified by change I6882fd2381e6 to\nonly include v2.13 when the 'enabled_backends' config option had a\nvalue, but the versions negotiation code was not updated to reflect\nthat.\n\nChange-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6\nRelated-bug: #1971521\n(cherry picked from commit 11989a18f4ede07026a435abb3d695a075ae7004)\n""}]",8,843208,55c000ee1d7bb415491071abbc4001b4b715d380,21,5,2,5314,,,0,"Bump Image API version to 2.16

This API version increment is due to change I6a875a38bef5, which
corrected the response code for the admin-only API call:
    PUT /v2/cache/{image_id}
The call now returns 202 upon success (it had been returning 200).

The intent of this version bump is to get the attention of operators
to take note of this change; from now on, the call always returns 202
upon success regardless of what API version you request.

Additionally, cleaned up some version tests that had gotten out of
date and were not thoroughly testing version negotiation.

Also, corrected the version negotiation code around the v2.13 API.
The versions response had been modified by change I6882fd2381e6 to
only include v2.13 when the 'enabled_backends' config option had a
value, but the versions negotiation code was not updated to reflect
that.

Change-Id: I0cf35ed7e21497826cd581e59aa58774f030b9f6
Related-bug: #1971521
(cherry picked from commit 11989a18f4ede07026a435abb3d695a075ae7004)
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/843208/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'releasenotes/notes/api-2.16-8417b1e23322fedb.yaml']",4,c088c8b71f4b8e9e32681888e1333a1708d4339b,bug/1971521-stable/yoga,"--- features: - | When the Glance image cache is being used, the CURRENT version of the Image service API, as indicated in the ``GET /versions`` response, is 2.16. upgrade: - | The Image service API call ``PUT /v2/cache/{image_id}`` now returns a 202 (Accepted) response code to indicate success. In glance 24.0.0 (the initial Yoga release), it had mistakenly returned a 200. fixes: - | Bug `1971521 <https://bugs.launchpad.net/glance/+bug/1971521>`_: Fixed the success response code of the REST API call ``PUT /v2/cache/{image_id}`` to be 202 (Accepted), following the original design of the feature. ",,92,26
openstack%2Fneutron~stable%2Fvictoria~Ied5ef53882d4249e0ceaa731239befdc3ba67d03,openstack/neutron,stable/victoria,Ied5ef53882d4249e0ceaa731239befdc3ba67d03,[Trunk] Check if parent port belongs to OVN to activate,MERGED,2022-05-31 09:20:15.000000000,2022-06-03 12:32:35.000000000,2022-06-03 12:31:07.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:20:15.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69e101901a1b1a2764380300e8757ec75237e442', 'message': '[Trunk] Check if parent port belongs to OVN to activate\n\nIn Trunk service, the OVN was setting always the trunk to ""ACTIVE""\nanytime the trunk was created or updated. This patch changes this\nbehaviour: only when the trunk parent port belongs to OVN (that\nmeans, there is a related logical switch port to this Neutron port),\nthe methods will set the trunk to ""ACTIVE"".\n\nCloses-Bug: #1974183\nChange-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03\n(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)\n'}]",2,844019,69e101901a1b1a2764380300e8757ec75237e442,17,3,1,16688,,,0,"[Trunk] Check if parent port belongs to OVN to activate

In Trunk service, the OVN was setting always the trunk to ""ACTIVE""
anytime the trunk was created or updated. This patch changes this
behaviour: only when the trunk parent port belongs to OVN (that
means, there is a related logical switch port to this Neutron port),
the methods will set the trunk to ""ACTIVE"".

Closes-Bug: #1974183
Change-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03
(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/844019/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,69e101901a1b1a2764380300e8757ec75237e442,bug/1974183," # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return",,12,0
openstack%2Fpython-tripleoclient~master~I975dada7dc559f708f4b9b0cba6328c87befb5bd,openstack/python-tripleoclient,master,I975dada7dc559f708f4b9b0cba6328c87befb5bd,Enable snapshots on the CLI,MERGED,2022-05-12 11:05:36.000000000,2022-06-03 12:19:05.000000000,2022-06-03 12:17:34.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-05-12 11:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3122aaed5b163527f2046b2c3a28d92e49aa0ef7', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 2, 'created': '2022-05-12 11:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8838cce988f282b0284013f382e7c322858ad1e', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 3, 'created': '2022-05-12 11:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c5cbbc0763666d241e75131a6692be76b1c33e74', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 4, 'created': '2022-05-12 11:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/189d3f5679bba9adec9ea013d943f69067faf647', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 5, 'created': '2022-05-12 11:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46f1c48e672e53ab550da9f3d338aa91ea028675', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 6, 'created': '2022-05-13 07:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7651fb3128cd81a0cb77814ac64529d8970bcf14', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 7, 'created': '2022-05-16 09:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61e46eeb0f4f4e8f426274fcd3463c9e96ffad7b', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 8, 'created': '2022-05-16 11:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14101c19a8601a7ceb79ff4bd91e72880ef71c06', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 9, 'created': '2022-05-16 11:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0a07ab12d98e63e1a2f1e3e4636bad5504f59bbd', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 10, 'created': '2022-05-16 13:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7af6b2fb7390605af1831f3e73be8e0ec2db2e30', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 11, 'created': '2022-05-24 08:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb038608738125ae3e50a206efb8a0178edd2559', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 12, 'created': '2022-05-24 08:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c22022eac24852a69e53a3682a5a4c590e71533', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup command\nwith the --snapshot parameter\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 13, 'created': '2022-05-24 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2270f9330aa6bde3f6c4b8ac3b6c797b77d6a581', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup\nsnapshot command.\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}, {'number': 14, 'created': '2022-05-26 09:43:06.000000000', 'files': ['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/80290ad9b8f1fbebfa0ab2fd76c744e5061cc1da', 'message': 'Enable snapshots on the CLI\n\nThere is a new feature for Backup and Restore that replaces the ReaR\noperations with a simple and fast LVM snapshot. This change enables the\noperator to take snapshots using the openstack overcloud backup\nsnapshot command.\n\nChange-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd\n'}]",42,841573,80290ad9b8f1fbebfa0ab2fd76c744e5061cc1da,35,5,14,32968,,,0,"Enable snapshots on the CLI

There is a new feature for Backup and Restore that replaces the ReaR
operations with a simple and fast LVM snapshot. This change enables the
operator to take snapshots using the openstack overcloud backup
snapshot command.

Change-Id: I975dada7dc559f708f4b9b0cba6328c87befb5bd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/73/841573/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_backup.py'],1,3122aaed5b163527f2046b2c3a28d92e49aa0ef7,snapshots," parser.add_argument( '--snapshot', default=None, help=_(""Takes an LVM snapshot instead of a ReaR "" ""backup, ignoring all the rest of the parameters "" ""passed. To be able to take a snapshot, the "" ""following conditions must be met: "" "" - The disk must be configured to use LVM "" "" - There must be an lv called lv_snapshot "" "" - lv_snapshot must be 8GB or more "" ""The snapshot will destroy the lv_snapshot volume "" ""and replace it with snapshots of the disks."") ) if parsed_args.snapshot: self._run_ansible_playbook( playbook='cli-overcloud-snapshot.yaml', inventory=parsed_args.inventory, extra_vars=extra_vars ) ",,21,0
openstack%2Fovn-octavia-provider~stable%2Fyoga~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/ovn-octavia-provider,stable/yoga,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-31 13:37:40.000000000,2022-06-03 12:10:10.000000000,2022-06-03 12:09:02.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 13:37:40.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4d86a7151c24b5be3c5b6e149b517f3a24c83814', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n'}]",1,844055,4d86a7151c24b5be3c5b6e149b517f3a24c83814,12,3,1,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/55/844055/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,4d86a7151c24b5be3c5b6e149b517f3a24c83814,," def test_lb_create_neutron_client_exception(self, net_cli): net_cli.return_value.list_ports.return_value = self.ports net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client')",,49,17
openstack%2Fnetworking-ovn~stable%2Ftrain~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/networking-ovn,stable/train,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-31 16:14:39.000000000,2022-06-03 11:05:09.000000000,2022-06-03 11:03:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 16:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/16c78149f0c9deb16ccf5909b39646b3fba331b7', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 2, 'created': '2022-06-01 08:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/51148c25d1602e5c08c83a5c3266020b0ea95cbd', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 3, 'created': '2022-06-01 08:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cdeb0b489446a2dad8d438d3716abe50a15fb7dd', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 4, 'created': '2022-06-01 09:05:38.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5b97ba771a4356e324cd255fa24a7d26c21b82ae', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}]",1,844103,5b97ba771a4356e324cd255fa24a7d26c21b82ae,12,3,4,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052
(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/03/844103/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,16c78149f0c9deb16ccf5909b39646b3fba331b7,," def test_lb_create_neutron_client_exception(self, net_dr): net_dr.return_value.list_ports.return_value = self.ports net_dr.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver')",,48,18
openstack%2Fkolla-ansible~master~Id8dffc425ff057b1e45103eb53734543bca8be80,openstack/kolla-ansible,master,Id8dffc425ff057b1e45103eb53734543bca8be80,Increase openstack-exporter timeout to 45 seconds,MERGED,2022-06-02 13:55:07.000000000,2022-06-03 10:58:56.000000000,2022-06-03 10:57:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 13:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38246f6e38462625c84c7d7473a046f970bbea19', 'message': 'Increase openstack-exporter timeout to 45 seconds\n\nEven on moderately sized clouds, openstack-exporter can easily take more\nthan 10 seconds to return, causing Prometheus to fail to scrape data.\n\nSince the default scrape internal is 60 seconds, we can increase the\ndefault timeout to 45 seconds.\n\nChange-Id: Id8dffc425ff057b1e45103eb53734543bca8be80\n'}, {'number': 2, 'created': '2022-06-02 13:57:00.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/increase-prometheus-openstack-exporter-timeout-652eebff6a42d198.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9653ebe102985e9ce0184d63a51e27152311e9cf', 'message': 'Increase openstack-exporter timeout to 45 seconds\n\nEven on moderately sized clouds, openstack-exporter can easily take more\nthan 10 seconds to return, causing Prometheus to fail to scrape data.\n\nSince the default scrape internal is 60 seconds, we can increase the\ndefault timeout to 45 seconds.\n\nChange-Id: Id8dffc425ff057b1e45103eb53734543bca8be80\nCloses-Bug: #1976629\n'}]",0,844459,9653ebe102985e9ce0184d63a51e27152311e9cf,10,3,2,15197,,,0,"Increase openstack-exporter timeout to 45 seconds

Even on moderately sized clouds, openstack-exporter can easily take more
than 10 seconds to return, causing Prometheus to fail to scrape data.

Since the default scrape internal is 60 seconds, we can increase the
default timeout to 45 seconds.

Change-Id: Id8dffc425ff057b1e45103eb53734543bca8be80
Closes-Bug: #1976629
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/844459/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/increase-prometheus-openstack-exporter-timeout-652eebff6a42d198.yaml']",2,38246f6e38462625c84c7d7473a046f970bbea19,openstack-exporter-timeout,--- fixes: - | Increases ``prometheus_openstack_exporter_timeout`` to 45 seconds to reduce the odds of scrape failures on deployments with large number of OpenStack resources. ,,7,1
openstack%2Fopenstack-ansible-galera_server~master~I2ca7817108709211d8246310482216a255fd9752,openstack/openstack-ansible-galera_server,master,I2ca7817108709211d8246310482216a255fd9752,Add lost+found to list of ignored db dirs,MERGED,2022-05-23 10:03:54.000000000,2022-06-03 10:25:18.000000000,2022-06-03 10:23:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-23 10:03:54.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/001e26963bb509f4113a268bbfd59ee92bd84665', 'message': ""Add lost+found to list of ignored db dirs\n\nIn case an ext filesystem is used for the datadir a directory\n`lost+found` exists and is recreated on every mount. It's sensible\nto ignore this directory as mysql otherwise expects this to be yet\nanother db.\n\nChange-Id: I2ca7817108709211d8246310482216a255fd9752\n""}]",4,842957,001e26963bb509f4113a268bbfd59ee92bd84665,18,3,1,32755,,,0,"Add lost+found to list of ignored db dirs

In case an ext filesystem is used for the datadir a directory
`lost+found` exists and is recreated on every mount. It's sensible
to ignore this directory as mysql otherwise expects this to be yet
another db.

Change-Id: I2ca7817108709211d8246310482216a255fd9752
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/57/842957/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,001e26963bb509f4113a268bbfd59ee92bd84665,ignorelostfound," - ""lost+found""",,1,0
openstack%2Ftripleo-common~master~Id85fbb39453f7d601258ed0b5ca60489bd264ec6,openstack/tripleo-common,master,Id85fbb39453f7d601258ed0b5ca60489bd264ec6,Remove unused libraries from requirements,MERGED,2022-05-27 03:43:11.000000000,2022-06-03 10:23:50.000000000,2022-06-03 10:22:37.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-27 03:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06781fd179ea19663c63b901251e425a3f50f4a2', 'message': 'Remove unused libraries from requirements\n\n- python-glanceclient and python-novaclinent are no longer used since\n  Glance and Nova were removed from Undercloud.\n\n- netifaces, netaddr and jsonschema were used by baremetal actions,\n  which were replaced by ansible tasks maintained in tripleo-ansible.\n\nChange-Id: Id85fbb39453f7d601258ed0b5ca60489bd264ec6\n'}, {'number': 2, 'created': '2022-05-27 03:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/77cd400a1dbb2978057e024f12f641644200a8fa', 'message': 'Remove unused libraries from requirements\n\n- python-glanceclient and python-novaclinent are no longer used since\n  Glance and Nova were removed from Undercloud.\n\n- python-keystoneclient and keystoneauth were used by Mistral actions\n  which were all replaced by tripleo-ansible.\n\n- netifaces, netaddr and jsonschema were used by baremetal actions in\n  Mistral, which were replaced by tripleo-ansible.\n\nChange-Id: Id85fbb39453f7d601258ed0b5ca60489bd264ec6\n'}, {'number': 3, 'created': '2022-05-27 03:58:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/486deab3f2d64b2583691e80632dbdfb9c887a46', 'message': 'Remove unused libraries from requirements\n\n- python-glanceclient and python-novaclinent are no longer used since\n  Glance and Nova were removed from Undercloud.\n\n- python-keystoneclient and keystoneauth were used by Mistral actions\n  which were all replaced by tripleo-ansible.\n\n- netifaces, netaddr and jsonschema were used by baremetal actions in\n  Mistral, which were replaced by tripleo-ansible.\n\nChange-Id: Id85fbb39453f7d601258ed0b5ca60489bd264ec6\n'}]",3,843562,486deab3f2d64b2583691e80632dbdfb9c887a46,20,4,3,9816,,,0,"Remove unused libraries from requirements

- python-glanceclient and python-novaclinent are no longer used since
  Glance and Nova were removed from Undercloud.

- python-keystoneclient and keystoneauth were used by Mistral actions
  which were all replaced by tripleo-ansible.

- netifaces, netaddr and jsonschema were used by baremetal actions in
  Mistral, which were replaced by tripleo-ansible.

Change-Id: Id85fbb39453f7d601258ed0b5ca60489bd264ec6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/843562/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,06781fd179ea19663c63b901251e425a3f50f4a2,requirements-cleanup,,python-glanceclient>=2.8.0 # Apache-2.0python-novaclient>=9.1.0 # Apache-2.0netifaces>=0.10.4 # MITnetaddr>=0.7.18 # BSDjsonschema>=3.2.0 # MIT,0,5
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I5f5225a94a9a8401d350d2fda987bf68869def22,openstack/ovn-octavia-provider,stable/wallaby,I5f5225a94a9a8401d350d2fda987bf68869def22,Fix way of calculate LB status after HM event,MERGED,2022-06-01 08:37:11.000000000,2022-06-03 10:20:23.000000000,2022-06-03 10:17:49.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 08:37:11.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1d7353352db5a890c9418e9620a690341b0d9add', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/844014\n\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n(cherry picked from commit c478567b4efb669dfb429fb4f3e3bbdb41c622f7)\n'}]",1,844262,1d7353352db5a890c9418e9620a690341b0d9add,9,3,1,34451,,,0,"Fix way of calculate LB status after HM event

Function _get_new_operating_statuses was calculating the
LB status based on the received event together with
current operating_status of the members, those values
were not being stored and therefore were not available
for the calculation.

Now those member status are stored in the external_ids
field related to the LB under the neutron:member_status tag,
where the uuid of the member and its current status are
stored.

This way we can calculate the real-time status of the whole
LB hierarchy by looking at the values stored there, which
are updated when HM events are received.

Partial-Bug: #1965772

Depends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/844014

Change-Id: I5f5225a94a9a8401d350d2fda987bf68869def22
(cherry picked from commit c478567b4efb669dfb429fb4f3e3bbdb41c622f7)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/62/844262/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,1d7353352db5a890c9418e9620a690341b0d9add,,"from oslo_serialization import jsonutils 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{}'} def test__update_member_status(self): self.helper._update_member_status( self.ovn_lb, self.member_id, constants.NO_MONITOR) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def test__update_member_status_delete(self): self.helper._update_member_status( self.ovn_lb, self.member_id, None, True) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', ovn_const.OVN_MEMBER_STATUS_KEY) def test__update_member_status_delete_not_found(self): self.helper._update_member_status( self.ovn_lb, 'fool', None, True) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def test__find_member_status(self): status = self.helper._find_member_status(self.ovn_lb, self.member_id) self.assertEqual(status, constants.NO_MONITOR) status = self.helper._find_member_status( self.ovn_hm_lb, self.member_id) self.assertEqual(status, constants.NO_MONITOR) def test__find_member_status_exception(self): status = self.helper._find_member_status(self.ovn_hm_lb, 'foo') self.assertEqual(status, constants.NO_MONITOR) 'listener_%s' % self.listener_id: '80:', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)})) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) constants.NO_MONITOR) constants.NO_MONITOR) def _test_hm_update_status(self, member_id, ip, port, member_status): self._update_member_status(self.ovn_hm_lb, member_id, member_status) def _update_member_status(self, lb, member_id, member_status): status = constants.ONLINE if member_status == 'offline': status = constants.ERROR try: existing_member_status = lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member_id] = status lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) existing_member_status = self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] try: member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member['id']] = constants.ONLINE self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) member_status = '{""%s"": ""%s""}' % (member['id'], constants.ONLINE) self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = member_status status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') constants.ERROR) constants.ERROR) status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member_1['id'], ip_1, '8080', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s"", ""%s"": ""%s""}' % (member_1['id'], constants.ONLINE, member_2['id'], constants.ERROR,)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_hm_lb.uuid, ('external_ids', member_status)) status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'online')"," 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:'}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) self.helper.ovn_nbdb_api.db_set.assert_not_called() constants.ONLINE) constants.ONLINE) def _test_hm_update_status(self, ip, port, member_status, lb_status=constants.ONLINE, pool_status=constants.ONLINE): fake_lb = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_lb', ext_ids={}) fake_pool = fakes.FakePool( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_pool') fake_lb.operating_status = lb_status fake_pool.operating_status = pool_status self.octavia_driver_lib.get_pool.return_value = fake_pool self.octavia_driver_lib.get_loadbalancer.return_value = fake_lb status = self._test_hm_update_status(member['address'], '8080', 'offline') status = self._test_hm_update_status(member['address'], '8080', 'offline', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) constants.OFFLINE) constants.OFFLINE) status = self._test_hm_update_status(member['address'], '8080', 'online') status = self._test_hm_update_status(member['address'], '8080', 'online', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) status = self._test_hm_update_status(ip_1, '8081', 'offline') status = self._test_hm_update_status(ip_1, '8081', 'offline') ip_1 = member_1['address'] fake_member.operating_status = constants.ERROR self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'online') status = self._test_hm_update_status(ip_1, '8081', 'online')",320,141
openstack%2Fovn-octavia-provider~stable%2Fxena~I5f5225a94a9a8401d350d2fda987bf68869def22,openstack/ovn-octavia-provider,stable/xena,I5f5225a94a9a8401d350d2fda987bf68869def22,Fix way of calculate LB status after HM event,MERGED,2022-06-01 08:36:32.000000000,2022-06-03 10:20:07.000000000,2022-06-03 10:17:48.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 08:36:32.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b2c2651ecb747af0b6e31adb847c6a590d690f41', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/844013\n\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n(cherry picked from commit c478567b4efb669dfb429fb4f3e3bbdb41c622f7)\n'}]",1,844261,b2c2651ecb747af0b6e31adb847c6a590d690f41,8,3,1,34451,,,0,"Fix way of calculate LB status after HM event

Function _get_new_operating_statuses was calculating the
LB status based on the received event together with
current operating_status of the members, those values
were not being stored and therefore were not available
for the calculation.

Now those member status are stored in the external_ids
field related to the LB under the neutron:member_status tag,
where the uuid of the member and its current status are
stored.

This way we can calculate the real-time status of the whole
LB hierarchy by looking at the values stored there, which
are updated when HM events are received.

Partial-Bug: #1965772

Depends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/844013

Change-Id: I5f5225a94a9a8401d350d2fda987bf68869def22
(cherry picked from commit c478567b4efb669dfb429fb4f3e3bbdb41c622f7)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/61/844261/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,b2c2651ecb747af0b6e31adb847c6a590d690f41,,"from oslo_serialization import jsonutils 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{}'} def test__update_member_status(self): self.helper._update_member_status( self.ovn_lb, self.member_id, constants.NO_MONITOR) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def test__update_member_status_delete(self): self.helper._update_member_status( self.ovn_lb, self.member_id, None, True) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', ovn_const.OVN_MEMBER_STATUS_KEY) def test__update_member_status_delete_not_found(self): self.helper._update_member_status( self.ovn_lb, 'fool', None, True) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def test__find_member_status(self): status = self.helper._find_member_status(self.ovn_lb, self.member_id) self.assertEqual(status, constants.NO_MONITOR) status = self.helper._find_member_status( self.ovn_hm_lb, self.member_id) self.assertEqual(status, constants.NO_MONITOR) def test__find_member_status_exception(self): status = self.helper._find_member_status(self.ovn_hm_lb, 'foo') self.assertEqual(status, constants.NO_MONITOR) 'listener_%s' % self.listener_id: '80:', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)})) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) constants.NO_MONITOR) constants.NO_MONITOR) def _test_hm_update_status(self, member_id, ip, port, member_status): self._update_member_status(self.ovn_hm_lb, member_id, member_status) def _update_member_status(self, lb, member_id, member_status): status = constants.ONLINE if member_status == 'offline': status = constants.ERROR try: existing_member_status = lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member_id] = status lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) existing_member_status = self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] try: member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member['id']] = constants.ONLINE self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) member_status = '{""%s"": ""%s""}' % (member['id'], constants.ONLINE) self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = member_status status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') constants.ERROR) constants.ERROR) status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member_1['id'], ip_1, '8080', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s"", ""%s"": ""%s""}' % (member_1['id'], constants.ONLINE, member_2['id'], constants.ERROR,)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_hm_lb.uuid, ('external_ids', member_status)) status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'online')"," 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:'}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) self.helper.ovn_nbdb_api.db_set.assert_not_called() constants.ONLINE) constants.ONLINE) def _test_hm_update_status(self, ip, port, member_status, lb_status=constants.ONLINE, pool_status=constants.ONLINE): fake_lb = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_lb', ext_ids={}) fake_pool = fakes.FakePool( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_pool') fake_lb.operating_status = lb_status fake_pool.operating_status = pool_status self.octavia_driver_lib.get_pool.return_value = fake_pool self.octavia_driver_lib.get_loadbalancer.return_value = fake_lb status = self._test_hm_update_status(member['address'], '8080', 'offline') status = self._test_hm_update_status(member['address'], '8080', 'offline', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) constants.OFFLINE) constants.OFFLINE) status = self._test_hm_update_status(member['address'], '8080', 'online') status = self._test_hm_update_status(member['address'], '8080', 'online', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) status = self._test_hm_update_status(ip_1, '8081', 'offline') status = self._test_hm_update_status(ip_1, '8081', 'offline') ip_1 = member_1['address'] fake_member.operating_status = constants.ERROR self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'online') status = self._test_hm_update_status(ip_1, '8081', 'online')",320,141
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I1348704a7a0538f570237e9687f5d770159c1392,openstack/ovn-octavia-provider,stable/wallaby,I1348704a7a0538f570237e9687f5d770159c1392,Fix request to OVN NB DB API,MERGED,2022-05-31 09:09:47.000000000,2022-06-03 10:19:12.000000000,2022-06-03 10:17:45.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:09:47.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a32db16cf53cde9498f9b73c874f49ac7a2a63a3', 'message': 'Fix request to OVN NB DB API\n\nPatch [1] introduces HM to OVN Octavia provider, by error it\nmakes an wrong request to OVN NB DB API when a health_monitor\nevent is received, in order to search the Load Balancer related\nwith the event received. The request is done call using data from\nmembers related and the protocol (it is an array).\n\nThis patch fix that request to be well formed.\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890\n\nPartial-Bug: #1965772\n\nChange-Id: I1348704a7a0538f570237e9687f5d770159c1392\n(cherry picked from commit 61a56dc37754ac8daf8be33547b5774728020994)\n'}]",1,844014,a32db16cf53cde9498f9b73c874f49ac7a2a63a3,9,3,1,34451,,,0,"Fix request to OVN NB DB API

Patch [1] introduces HM to OVN Octavia provider, by error it
makes an wrong request to OVN NB DB API when a health_monitor
event is received, in order to search the Load Balancer related
with the event received. The request is done call using data from
members related and the protocol (it is an array).

This patch fix that request to be well formed.

[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890

Partial-Bug: #1965772

Change-Id: I1348704a7a0538f570237e9687f5d770159c1392
(cherry picked from commit 61a56dc37754ac8daf8be33547b5774728020994)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/14/844014/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,a32db16cf53cde9498f9b73c874f49ac7a2a63a3,," ('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol[0]))"," (('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol)))",5,5
openstack%2Fovn-octavia-provider~stable%2Fyoga~I5f5225a94a9a8401d350d2fda987bf68869def22,openstack/ovn-octavia-provider,stable/yoga,I5f5225a94a9a8401d350d2fda987bf68869def22,Fix way of calculate LB status after HM event,MERGED,2022-06-01 08:35:52.000000000,2022-06-03 10:19:03.000000000,2022-06-03 10:17:51.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 08:35:52.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1a9196b38b5d8527b76b9c85b1e6736b8156e2b1', 'message': 'Fix way of calculate LB status after HM event\n\nFunction _get_new_operating_statuses was calculating the\nLB status based on the received event together with\ncurrent operating_status of the members, those values\nwere not being stored and therefore were not available\nfor the calculation.\n\nNow those member status are stored in the external_ids\nfield related to the LB under the neutron:member_status tag,\nwhere the uuid of the member and its current status are\nstored.\n\nThis way we can calculate the real-time status of the whole\nLB hierarchy by looking at the values stored there, which\nare updated when HM events are received.\n\nPartial-Bug: #1965772\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/844012\n\nChange-Id: I5f5225a94a9a8401d350d2fda987bf68869def22\n(cherry picked from commit c478567b4efb669dfb429fb4f3e3bbdb41c622f7)\n'}]",1,844260,1a9196b38b5d8527b76b9c85b1e6736b8156e2b1,9,3,1,34451,,,0,"Fix way of calculate LB status after HM event

Function _get_new_operating_statuses was calculating the
LB status based on the received event together with
current operating_status of the members, those values
were not being stored and therefore were not available
for the calculation.

Now those member status are stored in the external_ids
field related to the LB under the neutron:member_status tag,
where the uuid of the member and its current status are
stored.

This way we can calculate the real-time status of the whole
LB hierarchy by looking at the values stored there, which
are updated when HM events are received.

Partial-Bug: #1965772

Depends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/844012

Change-Id: I5f5225a94a9a8401d350d2fda987bf68869def22
(cherry picked from commit c478567b4efb669dfb429fb4f3e3bbdb41c622f7)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/60/844260/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,1a9196b38b5d8527b76b9c85b1e6736b8156e2b1,,"from oslo_serialization import jsonutils 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id, ovn_const.OVN_MEMBER_STATUS_KEY: '{}'} def test__update_member_status(self): self.helper._update_member_status( self.ovn_lb, self.member_id, constants.NO_MONITOR) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def test__update_member_status_delete(self): self.helper._update_member_status( self.ovn_lb, self.member_id, None, True) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', ovn_const.OVN_MEMBER_STATUS_KEY) def test__update_member_status_delete_not_found(self): self.helper._update_member_status( self.ovn_lb, 'fool', None, True) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) def test__find_member_status(self): status = self.helper._find_member_status(self.ovn_lb, self.member_id) self.assertEqual(status, constants.NO_MONITOR) status = self.helper._find_member_status( self.ovn_hm_lb, self.member_id) self.assertEqual(status, constants.NO_MONITOR) def test__find_member_status_exception(self): status = self.helper._find_member_status(self.ovn_hm_lb, 'foo') self.assertEqual(status, constants.NO_MONITOR) 'listener_%s' % self.listener_id: '80:', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)})) member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s""}' % (self.member_id, constants.NO_MONITOR)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', member_status)) constants.NO_MONITOR) constants.NO_MONITOR) def _test_hm_update_status(self, member_id, ip, port, member_status): self._update_member_status(self.ovn_hm_lb, member_id, member_status) def _update_member_status(self, lb, member_id, member_status): status = constants.ONLINE if member_status == 'offline': status = constants.ERROR try: existing_member_status = lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member_id] = status lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) existing_member_status = self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] try: member_statuses = jsonutils.loads(existing_member_status) except Exception: member_statuses = {} member_statuses[member['id']] = constants.ONLINE self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = jsonutils.dumps( member_statuses) member_status = '{""%s"": ""%s""}' % (member['id'], constants.ONLINE) self.ovn_hm_lb.external_ids[ ovn_const.OVN_MEMBER_STATUS_KEY] = member_status status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'offline') constants.ERROR) constants.ERROR) status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member['id'], member['address'], '8080', 'online') status = self._test_hm_update_status( member_1['id'], ip_1, '8080', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'offline') member_status = { ovn_const.OVN_MEMBER_STATUS_KEY: '{""%s"": ""%s"", ""%s"": ""%s""}' % (member_1['id'], constants.ONLINE, member_2['id'], constants.ERROR,)} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_hm_lb.uuid, ('external_ids', member_status)) status = self._test_hm_update_status( member_2['id'], ip_2, '8081', 'online')"," 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} 'listener_%s' % self.listener_id: '80:'}))] ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) self.helper.ovn_nbdb_api.db_set.assert_not_called() constants.ONLINE) constants.ONLINE) def _test_hm_update_status(self, ip, port, member_status, lb_status=constants.ONLINE, pool_status=constants.ONLINE): fake_lb = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_lb', ext_ids={}) fake_pool = fakes.FakePool( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_pool') fake_lb.operating_status = lb_status fake_pool.operating_status = pool_status self.octavia_driver_lib.get_pool.return_value = fake_pool self.octavia_driver_lib.get_loadbalancer.return_value = fake_lb status = self._test_hm_update_status(member['address'], '8080', 'offline') status = self._test_hm_update_status(member['address'], '8080', 'offline', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) constants.OFFLINE) constants.OFFLINE) status = self._test_hm_update_status(member['address'], '8080', 'online') status = self._test_hm_update_status(member['address'], '8080', 'online', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) status = self._test_hm_update_status(ip_1, '8081', 'offline') status = self._test_hm_update_status(ip_1, '8081', 'offline') ip_1 = member_1['address'] fake_member.operating_status = constants.ERROR self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'online') status = self._test_hm_update_status(ip_1, '8081', 'online')",320,141
openstack%2Fovn-octavia-provider~stable%2Fxena~I1348704a7a0538f570237e9687f5d770159c1392,openstack/ovn-octavia-provider,stable/xena,I1348704a7a0538f570237e9687f5d770159c1392,Fix request to OVN NB DB API,MERGED,2022-05-31 09:07:33.000000000,2022-06-03 10:18:55.000000000,2022-06-03 10:17:46.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:07:33.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/620662d3d3dfff3eed22bf96dd634e62fe0a543d', 'message': 'Fix request to OVN NB DB API\n\nPatch [1] introduces HM to OVN Octavia provider, by error it\nmakes an wrong request to OVN NB DB API when a health_monitor\nevent is received, in order to search the Load Balancer related\nwith the event received. The request is done call using data from\nmembers related and the protocol (it is an array).\n\nThis patch fix that request to be well formed.\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890\n\nPartial-Bug: #1965772\n\nChange-Id: I1348704a7a0538f570237e9687f5d770159c1392\n(cherry picked from commit 61a56dc37754ac8daf8be33547b5774728020994)\n'}]",1,844013,620662d3d3dfff3eed22bf96dd634e62fe0a543d,9,4,1,34451,,,0,"Fix request to OVN NB DB API

Patch [1] introduces HM to OVN Octavia provider, by error it
makes an wrong request to OVN NB DB API when a health_monitor
event is received, in order to search the Load Balancer related
with the event received. The request is done call using data from
members related and the protocol (it is an array).

This patch fix that request to be well formed.

[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890

Partial-Bug: #1965772

Change-Id: I1348704a7a0538f570237e9687f5d770159c1392
(cherry picked from commit 61a56dc37754ac8daf8be33547b5774728020994)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/13/844013/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,620662d3d3dfff3eed22bf96dd634e62fe0a543d,," ('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol[0]))"," (('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol)))",5,5
openstack%2Fneutron~stable%2Fwallaby~Ied5ef53882d4249e0ceaa731239befdc3ba67d03,openstack/neutron,stable/wallaby,Ied5ef53882d4249e0ceaa731239befdc3ba67d03,[Trunk] Check if parent port belongs to OVN to activate,MERGED,2022-05-31 09:19:50.000000000,2022-06-03 10:06:47.000000000,2022-06-03 10:05:26.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:19:50.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc637d8d1026aa25925f63be573422f13db2052a', 'message': '[Trunk] Check if parent port belongs to OVN to activate\n\nIn Trunk service, the OVN was setting always the trunk to ""ACTIVE""\nanytime the trunk was created or updated. This patch changes this\nbehaviour: only when the trunk parent port belongs to OVN (that\nmeans, there is a related logical switch port to this Neutron port),\nthe methods will set the trunk to ""ACTIVE"".\n\nCloses-Bug: #1974183\nChange-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03\n(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)\n'}]",1,844018,cc637d8d1026aa25925f63be573422f13db2052a,18,3,1,16688,,,0,"[Trunk] Check if parent port belongs to OVN to activate

In Trunk service, the OVN was setting always the trunk to ""ACTIVE""
anytime the trunk was created or updated. This patch changes this
behaviour: only when the trunk parent port belongs to OVN (that
means, there is a related logical switch port to this Neutron port),
the methods will set the trunk to ""ACTIVE"".

Closes-Bug: #1974183
Change-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03
(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/844018/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,cc637d8d1026aa25925f63be573422f13db2052a,bug/1974183," # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return",,12,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/ovn-octavia-provider,stable/ussuri,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-31 13:45:36.000000000,2022-06-03 10:06:32.000000000,2022-06-03 10:05:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 13:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f4480c47f907025f3e63a41adde32e418689a483', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}, {'number': 2, 'created': '2022-05-31 14:37:02.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1b162af1adfd18b14d16d941543e166084d8c185', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n'}]",3,844059,1b162af1adfd18b14d16d941543e166084d8c185,10,3,2,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052
(manually cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/59/844059/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,f4480c47f907025f3e63a41adde32e418689a483,," try: neutron_client = get_neutron_client() if loadbalancer.get('vip_port_id'): # In case we don't have vip_network_id port = neutron_client.show_port( loadbalancer['vip_port_id'])['port'] for ip in port['fixed_ips']: if ip['ip_address'] == loadbalancer[constants.VIP_ADDRESS]: elif (loadbalancer.get('vip_network_id') and loadbalancer.get('vip_address')): ports = neutron_client.list_ports( network_id=loadbalancer['vip_network_id']) for p in ports['ports']: for ip in p['fixed_ips']: if ip['ip_address'] == loadbalancer['vip_address']: port = p subnet = neutron_client.show_subnet( ip['subnet_id'])['subnet'] break except Exception: LOG.error('Cannot get info from neutron client') LOG.exception(ovn_const.EXCEPTION_MSG, ""creation of loadbalancer"") # Any Exception set the status to ERROR if isinstance(port, dict): try: self.delete_vip_port(port.get('id')) LOG.warning(""Deleting the VIP port %s since LB went into "" ""ERROR state"", str(port.get('id'))) except Exception: LOG.exception(""Error deleting the VIP port %s upon "" ""loadbalancer %s creation failure"", str(port.get('id')), str(loadbalancer[constants.ID])) status = { constants.LOADBALANCERS: [ {constants.ID: loadbalancer[constants.ID], constants.PROVISIONING_STATUS: constants.ERROR, constants.OPERATING_STATUS: constants.ERROR}]} return status", neutron_client = get_neutron_client() if loadbalancer.get('vip_port_id'): # In case we don't have vip_network_id port = neutron_client.show_port( loadbalancer['vip_port_id'])['port'] for ip in port['fixed_ips']: if ip['ip_address'] == loadbalancer[constants.VIP_ADDRESS]: subnet = neutron_client.show_subnet( ip['subnet_id'])['subnet'] break elif (loadbalancer.get('vip_network_id') and loadbalancer.get('vip_address')): ports = neutron_client.list_ports( network_id=loadbalancer['vip_network_id']) for p in ports['ports']: for ip in p['fixed_ips']: if ip['ip_address'] == loadbalancer['vip_address']: port = p,49,18
openstack%2Fovn-octavia-provider~stable%2Fyoga~I1348704a7a0538f570237e9687f5d770159c1392,openstack/ovn-octavia-provider,stable/yoga,I1348704a7a0538f570237e9687f5d770159c1392,Fix request to OVN NB DB API,MERGED,2022-05-31 09:06:11.000000000,2022-06-03 10:06:31.000000000,2022-06-03 10:05:20.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:06:11.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e9733c73f6200150b1a6ffdb9fc63d65ea578f62', 'message': 'Fix request to OVN NB DB API\n\nPatch [1] introduces HM to OVN Octavia provider, by error it\nmakes an wrong request to OVN NB DB API when a health_monitor\nevent is received, in order to search the Load Balancer related\nwith the event received. The request is done call using data from\nmembers related and the protocol (it is an array).\n\nThis patch fix that request to be well formed.\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890\n\nPartial-Bug: #1965772\n\nChange-Id: I1348704a7a0538f570237e9687f5d770159c1392\n(cherry picked from commit 61a56dc37754ac8daf8be33547b5774728020994)\n'}]",2,844012,e9733c73f6200150b1a6ffdb9fc63d65ea578f62,10,3,1,34451,,,0,"Fix request to OVN NB DB API

Patch [1] introduces HM to OVN Octavia provider, by error it
makes an wrong request to OVN NB DB API when a health_monitor
event is received, in order to search the Load Balancer related
with the event received. The request is done call using data from
members related and the protocol (it is an array).

This patch fix that request to be well formed.

[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/801890

Partial-Bug: #1965772

Change-Id: I1348704a7a0538f570237e9687f5d770159c1392
(cherry picked from commit 61a56dc37754ac8daf8be33547b5774728020994)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/844012/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,e9733c73f6200150b1a6ffdb9fc63d65ea578f62,," ('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol[0]))"," (('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol)))",5,5
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/ovn-octavia-provider,stable/victoria,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-31 13:39:03.000000000,2022-06-03 10:06:30.000000000,2022-06-03 10:05:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 13:39:03.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/abc1a24475c7d583f87f7b0035c1af40a3247d51', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n'}]",0,844058,abc1a24475c7d583f87f7b0035c1af40a3247d51,8,3,1,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/58/844058/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,abc1a24475c7d583f87f7b0035c1af40a3247d51,," def test_lb_create_neutron_client_exception(self, net_cli): net_cli.return_value.list_ports.return_value = self.ports net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client')",,49,17
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/ovn-octavia-provider,stable/wallaby,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-31 13:38:31.000000000,2022-06-03 10:06:29.000000000,2022-06-03 10:05:14.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 13:38:31.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1aa4be5bd11c231a5fac5bb14d7c9347ae504c4a', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n'}]",3,844057,1aa4be5bd11c231a5fac5bb14d7c9347ae504c4a,14,3,1,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/57/844057/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,1aa4be5bd11c231a5fac5bb14d7c9347ae504c4a,," def test_lb_create_neutron_client_exception(self, net_cli): net_cli.return_value.list_ports.return_value = self.ports net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client')",,49,17
openstack%2Fopenstackdocstheme~master~I9da6ecf8c18546a9314b62b49058399f63de343a,openstack/openstackdocstheme,master,I9da6ecf8c18546a9314b62b49058399f63de343a,Fix broken link for Marketplace in header,MERGED,2022-04-22 15:23:26.000000000,2022-06-03 10:05:49.000000000,2022-06-03 10:04:35.000000000,"[{'_account_id': 2424}, {'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 15:23:26.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/header.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/5f71db161b4eb5f7bea95f9377d9f68b75808c57', 'message': 'Fix broken link for Marketplace in header\n\nThe top level MARKETPLACE link in many projects is broken.\nIt currently shows as: https://www.openstack.orgmarketplace/\nThis PR adds the missing forward slash.\n\nChange-Id: I9da6ecf8c18546a9314b62b49058399f63de343a\n'}]",1,839076,5f71db161b4eb5f7bea95f9377d9f68b75808c57,10,4,1,30561,,,0,"Fix broken link for Marketplace in header

The top level MARKETPLACE link in many projects is broken.
It currently shows as: https://www.openstack.orgmarketplace/
This PR adds the missing forward slash.

Change-Id: I9da6ecf8c18546a9314b62b49058399f63de343a
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/76/839076/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/openstackdocs/header.html'],1,5f71db161b4eb5f7bea95f9377d9f68b75808c57,fix-broken-link-marketplace," <a href=""{{osf_base_url}}/marketplace/"" class=""drop"" id=""dropdownMenuLearn"">Marketplace <i class=""fa fa-caret-down""></i></a>"," <a href=""{{osf_base_url}}marketplace/"" class=""drop"" id=""dropdownMenuLearn"">Marketplace <i class=""fa fa-caret-down""></i></a>",1,1
openstack%2Fovn-octavia-provider~stable%2Fxena~I04edbbd631f63b79c10916ce2391bb0cb95c1c19,openstack/ovn-octavia-provider,stable/xena,I04edbbd631f63b79c10916ce2391bb0cb95c1c19,Fix Load balancer remains on PENDING_CREATE,MERGED,2022-05-31 13:38:07.000000000,2022-06-03 09:48:31.000000000,2022-06-03 09:47:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 13:38:07.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/cbef0f84690f6983ae8457a488dc38465927c2ad', 'message': 'Fix Load balancer remains on PENDING_CREATE\n\nOn LB creation process, when heavy load env situation\narises, neutron client could return several errors\nthat is currently not under control. At this way\nOctavia API is not receiving an update status and LB\nkeeps on PENDING_CREATE without any apparent error.\n\nThis patch cover error on request over neutron client\n(subnet, list ports...) in order to update to Octavia\nAPI with ERROR status in case this situation achieved.\n\nCloses-Bug: #1974052\n\nChange-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19\n(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)\n'}]",1,844056,cbef0f84690f6983ae8457a488dc38465927c2ad,10,3,1,34451,,,0,"Fix Load balancer remains on PENDING_CREATE

On LB creation process, when heavy load env situation
arises, neutron client could return several errors
that is currently not under control. At this way
Octavia API is not receiving an update status and LB
keeps on PENDING_CREATE without any apparent error.

This patch cover error on request over neutron client
(subnet, list ports...) in order to update to Octavia
API with ERROR status in case this situation achieved.

Closes-Bug: #1974052

Change-Id: I04edbbd631f63b79c10916ce2391bb0cb95c1c19
(cherry picked from commit 28d378868fc6ad005f82ef96e573766de68e4d37)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/56/844056/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,cbef0f84690f6983ae8457a488dc38465927c2ad,," def test_lb_create_neutron_client_exception(self, net_cli): net_cli.return_value.list_ports.return_value = self.ports net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client')",,49,17
openstack%2Fkuryr-kubernetes~master~I20345a1f4d4288534d620f0bd2196fc77ee795e9,openstack/kuryr-kubernetes,master,I20345a1f4d4288534d620f0bd2196fc77ee795e9,Removed all occurrences of removed KuryrNet CRD.,MERGED,2022-06-01 11:16:33.000000000,2022-06-03 08:51:18.000000000,2022-06-03 08:49:48.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-06-01 11:16:33.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'doc/source/installation/manual.rst', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork_population.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/constants.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/846f15872488e2e6cd704067382fba71f866dea0', 'message': 'Removed all occurrences of removed KuryrNet CRD.\n\nCRD KuryrNet was already replaced by KuryrNetwork, although there are\nsome spots, where it is mentioned - mostly docs and log messages. In\nthis commit we get rid of it once and for all.\n\nChange-Id: I20345a1f4d4288534d620f0bd2196fc77ee795e9\n'}]",8,844280,846f15872488e2e6cd704067382fba71f866dea0,21,3,1,13692,,,0,"Removed all occurrences of removed KuryrNet CRD.

CRD KuryrNet was already replaced by KuryrNetwork, although there are
some spots, where it is mentioned - mostly docs and log messages. In
this commit we get rid of it once and for all.

Change-Id: I20345a1f4d4288534d620f0bd2196fc77ee795e9
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/80/844280/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'doc/source/installation/manual.rst', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork_population.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/constants.py']",11,846f15872488e2e6cd704067382fba71f866dea0,rm-kuryrnet,,K8S_OBJ_KURYRNET = 'KuryrNet',12,15
openstack%2Fheat~stable%2Fwallaby~I7d1017bcd7147329c4e187336daee1a1ae280fa9,openstack/heat,stable/wallaby,I7d1017bcd7147329c4e187336daee1a1ae280fa9,Use f36 instead of f33 for testing,MERGED,2022-06-01 05:57:19.000000000,2022-06-03 08:48:33.000000000,2022-06-03 08:46:25.000000000,"[{'_account_id': 4264}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-01 05:57:19.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/4b20eeff4df8d8bcd6317f75a8e7eafed635ab6b', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n(cherry picked from commit 78244c5f0f26064cd53b68e13fa8c4f0e235e698)\n(cherry picked from commit eefb921612b6d560e9f28767ba3a40e25bdd4f7d)\n(cherry picked from commit b32163d9e35e522577b99110ebd1614de55f5653)\n'}]",0,844247,4b20eeff4df8d8bcd6317f75a8e7eafed635ab6b,10,4,1,9816,,,0,"Use f36 instead of f33 for testing

F33 is unsupported for a while. We should not use it for any testing.

Change-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9
(cherry picked from commit 78244c5f0f26064cd53b68e13fa8c4f0e235e698)
(cherry picked from commit eefb921612b6d560e9f28767ba3a40e25bdd4f7d)
(cherry picked from commit b32163d9e35e522577b99110ebd1614de55f5653)
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/844247/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,4b20eeff4df8d8bcd6317f75a8e7eafed635ab6b,f36-stable/wallaby, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-36-1.5.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64,9,8
openstack%2Fpuppet-tempest~master~Ia3d80b8a5e39eef0a0da61accf248d6786047c4e,openstack/puppet-tempest,master,Ia3d80b8a5e39eef0a0da61accf248d6786047c4e,CentOS: Install tempest plugin packages only,MERGED,2022-04-18 14:36:43.000000000,2022-06-03 08:28:08.000000000,2022-06-03 08:26:38.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 14:36:43.000000000', 'files': ['releasenotes/notes/bug-1969361-849e95dbcf6f8395.yaml', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/3d176b17896226d9c77b31cf2197fa3a3be5afbe', 'message': 'CentOS: Install tempest plugin packages only\n\nIn general, python3-<service>-tests packages does not provide any\ntempest plugin (except for neutron-vpnaas) and installing these\npackages does not affect test coverage by tempest.\n\nWe should install python3-<service>-tests-tempest packages instead\nbecause these packages provides code of <service>-tempest-plugins repo.\n\nCloses-Bug: #1969361\nChange-Id: Ia3d80b8a5e39eef0a0da61accf248d6786047c4e\n'}]",0,838312,3d176b17896226d9c77b31cf2197fa3a3be5afbe,8,4,1,9816,,,0,"CentOS: Install tempest plugin packages only

In general, python3-<service>-tests packages does not provide any
tempest plugin (except for neutron-vpnaas) and installing these
packages does not affect test coverage by tempest.

We should install python3-<service>-tests-tempest packages instead
because these packages provides code of <service>-tempest-plugins repo.

Closes-Bug: #1969361
Change-Id: Ia3d80b8a5e39eef0a0da61accf248d6786047c4e
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/12/838312/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1969361-849e95dbcf6f8395.yaml', 'manifests/params.pp']",2,3d176b17896226d9c77b31cf2197fa3a3be5afbe,bug/1969361, $python_glance_tests = false $python_keystone_tests = 'python3-keystone-tests-tempest' # NOTE(tkajinam): python3-neutron-vpnaas-tests package provide tempest # plugin implementation. $python_nova_tests = false $python_swift_tests = false, $python_glance_tests = 'python3-glance-tests' $python_keystone_tests = 'python3-keystone-tests' $python_nova_tests = 'python3-nova-tests' $python_swift_tests = 'python3-swift-tests',15,4
openstack%2Fci-log-processing~master~I5b017d992c7367187d2f59fd7588a8bdcc58009d,openstack/ci-log-processing,master,I5b017d992c7367187d2f59fd7588a8bdcc58009d,Add new information for Opensearch cluster configuration,MERGED,2022-04-27 10:03:17.000000000,2022-06-03 08:18:44.000000000,2022-06-03 08:17:39.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 10:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/295358c50b41b35dc7a01fd1d8c5d145a319a428', 'message': ""DNM Add new information for Opensearch cluster configuration\n\nThe elasticsearch-recheck project is doing queries to the\nOpensearch cluster via python client. This library on\nmaking the request does not fill the tenant, so it can not\nauthenticate to the Opensearch service and it raise an error:\n\n    AuthorizationException(403, 'security_exception', 'no permissions for [cluster:monitor/main] (...) )\n\nThere is a dedicated role to allow all cluster:monitor/* parameters [1][2],\nbut in that case it should not be necessary.\n\n[1] https://opensearch.org/docs/latest/security-plugin/access-control/default-action-groups/\n[2] https://opensearch.org/docs/latest/security-plugin/access-control/permissions/#cluster-permissions\n\nChange-Id: I5b017d992c7367187d2f59fd7588a8bdcc58009d\n""}, {'number': 2, 'created': '2022-06-01 12:34:41.000000000', 'files': ['opensearch-config/README.md'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/07aa8fb9f248a7e5ec42aa2eb1efd630dc328444', 'message': ""Add new information for Opensearch cluster configuration\n\nThe elasticsearch-recheck project is doing queries to the\nOpensearch cluster via python client. This library on\nmaking the request does not fill the tenant, so it can not\nauthenticate to the Opensearch service and it raise an error:\n\n    AuthorizationException(403, 'security_exception', 'no permissions for [cluster:monitor/main] (...) )\n\nThere is a dedicated role to allow all cluster:monitor/* parameters [1][2],\nbut in that case it should not be necessary.\n\n[1] https://opensearch.org/docs/latest/security-plugin/access-control/default-action-groups/\n[2] https://opensearch.org/docs/latest/security-plugin/access-control/permissions/#cluster-permissions\n\nChange-Id: I5b017d992c7367187d2f59fd7588a8bdcc58009d\n""}]",0,839507,07aa8fb9f248a7e5ec42aa2eb1efd630dc328444,9,5,2,20676,,,0,"Add new information for Opensearch cluster configuration

The elasticsearch-recheck project is doing queries to the
Opensearch cluster via python client. This library on
making the request does not fill the tenant, so it can not
authenticate to the Opensearch service and it raise an error:

    AuthorizationException(403, 'security_exception', 'no permissions for [cluster:monitor/main] (...) )

There is a dedicated role to allow all cluster:monitor/* parameters [1][2],
but in that case it should not be necessary.

[1] https://opensearch.org/docs/latest/security-plugin/access-control/default-action-groups/
[2] https://opensearch.org/docs/latest/security-plugin/access-control/permissions/#cluster-permissions

Change-Id: I5b017d992c7367187d2f59fd7588a8bdcc58009d
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/07/839507/2 && git format-patch -1 --stdout FETCH_HEAD,['opensearch-config/README.md'],1,295358c50b41b35dc7a01fd1d8c5d145a319a428,," cluster permissions: cluster_composite_ops_ro, cluster:monitor/mainNOTE: The `cluster:monitor/main` role is required to use Python Opensearch client. ", cluster permissions: cluster_composite_ops_ro,4,1
openstack%2Fnova~master~I066fb5617bae944a03273049117fc2b5bf329283,openstack/nova,master,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,MERGED,2021-08-11 17:42:53.000000000,2022-06-03 08:17:49.000000000,2021-08-20 11:03:51.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4443128dd90762219e1c26aafd81698c3cbe1d9', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nTODOs are left to remove support for the legacy format in a follow up\nchange.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n""}, {'number': 2, 'created': '2021-08-11 18:52:53.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d102b751b743b5315557cac0997198152c0cac74', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n""}]",2,804285,d102b751b743b5315557cac0997198152c0cac74,27,3,2,10135,,,0,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/804285/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/fake.py'],1,c4443128dd90762219e1c26aafd81698c3cbe1d9,bug/1939545, @property def need_legacy_block_device_info(self): return False ,,4,0
openstack%2Fproject-config~master~I2e81551c3a618a31ef902e7abeb21b2ba1fe9161,openstack/project-config,master,I2e81551c3a618a31ef902e7abeb21b2ba1fe9161,Update kolla grafana panel,MERGED,2022-06-03 07:24:29.000000000,2022-06-03 08:02:26.000000000,2022-06-03 07:57:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 07:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8144a5bea8b1ce009865f7a62654478f69d75b3c', 'message': 'Uodata kolla grafana panel\n\nTry to see whether averaging over 72h instead of 24h gives more useful\ngraphs.\n\nFix names for centos jobs.\n\nAdd panel for cephadm jobs.\n\nChange-Id: I2e81551c3a618a31ef902e7abeb21b2ba1fe9161\n'}, {'number': 2, 'created': '2022-06-03 07:25:52.000000000', 'files': ['grafana/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a161fa321e8315e5266e1f1ec94b136f5ba9e533', 'message': 'Update kolla grafana panel\n\nTry to see whether averaging over 72h instead of 24h gives more useful\ngraphs.\n\nFix names for centos jobs.\n\nAdd panel for cephadm jobs.\n\nChange-Id: I2e81551c3a618a31ef902e7abeb21b2ba1fe9161\n'}]",1,844554,a161fa321e8315e5266e1f1ec94b136f5ba9e533,8,2,2,13252,,,0,"Update kolla grafana panel

Try to see whether averaging over 72h instead of 24h gives more useful
graphs.

Fix names for centos jobs.

Add panel for cephadm jobs.

Change-Id: I2e81551c3a618a31ef902e7abeb21b2ba1fe9161
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/844554/2 && git format-patch -1 --stdout FETCH_HEAD,['grafana/kolla.yaml'],1,8144a5bea8b1ce009865f7a62654478f69d75b3c,kolla-grafana-updates," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-debian') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-ubuntu') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8s.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8s.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-centos8s') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-debian-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-ubuntu-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-centos8s-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-centos8s-source-upgrade') type: graph - title: Kolla-Ansible Source Cephadm Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-publish-debian-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-publish-ubuntu-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8s-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8s-quay.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-publish-centos8s-quay')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-debian.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-centos8') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-debian-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-debian-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-build-ubuntu-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-debian-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-ubuntu-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-centos8-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-debian-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-ubuntu-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-ansible-centos8-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-debian-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-debian-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-ubuntu-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-ubuntu-quay') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8-quay.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'kolla-publish-centos8-quay')",22,14
openstack%2Fpuppet-openstack-integration~master~Iaf1541012dfff9776ea4ce5dee81b2053b9405c7,openstack/puppet-openstack-integration,master,Iaf1541012dfff9776ea4ce5dee81b2053b9405c7,Remove unused puppet-archive,ABANDONED,2022-06-03 07:46:57.000000000,2022-06-03 07:47:44.000000000,,[],"[{'number': 1, 'created': '2022-06-03 07:46:57.000000000', 'files': ['Puppetfile', 'external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/321da2071acbb048eb4ef56e9fd27c85d63cf23c', 'message': 'Remove unused puppet-archive\n\nThis module is not used by any modules.\n\nChange-Id: Iaf1541012dfff9776ea4ce5dee81b2053b9405c7\n'}]",0,844558,321da2071acbb048eb4ef56e9fd27c85d63cf23c,2,0,1,9816,,,0,"Remove unused puppet-archive

This module is not used by any modules.

Change-Id: Iaf1541012dfff9776ea4ce5dee81b2053b9405c7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/844558/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'external_modules.txt']",2,321da2071acbb048eb4ef56e9fd27c85d63cf23c,,,voxpupuli/puppet-archive,0,5
openstack%2Fopenstacksdk~master~Idb639db6f9477de65e2a4b2949f114dd73eccbf4,openstack/openstacksdk,master,Idb639db6f9477de65e2a4b2949f114dd73eccbf4,DNM: Test networking job with extra swap,ABANDONED,2022-05-31 08:52:19.000000000,2022-06-03 07:45:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-05-31 08:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9d0c1e5827c8909bbf75578e7a9fb1f79140dfe9', 'message': 'DNM: Test networking job w/o cinder\n\nChange-Id: Idb639db6f9477de65e2a4b2949f114dd73eccbf4\n'}, {'number': 2, 'created': '2022-05-31 11:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b62972214d79fd6e01db55e68c65ffdbeed914ec', 'message': 'DNM: Test networking job w/o cinder\n\nChange-Id: Idb639db6f9477de65e2a4b2949f114dd73eccbf4\n'}, {'number': 3, 'created': '2022-05-31 11:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/67ed621f33596d169a6e077fbe024591c3b83e71', 'message': 'DNM: Test networking job w/o cinder\n\nChange-Id: Idb639db6f9477de65e2a4b2949f114dd73eccbf4\n'}, {'number': 4, 'created': '2022-05-31 16:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cb671af2c40448533a3d24a4878cd4f25a721a83', 'message': 'DNM: Test networking job w/o cinder\n\nChange-Id: Idb639db6f9477de65e2a4b2949f114dd73eccbf4\n'}, {'number': 5, 'created': '2022-05-31 17:30:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e11accd6a4e9bdfad4c806b108257b2ced55c75', 'message': 'DNM: Test networking job with extra swap\n\nChange-Id: Idb639db6f9477de65e2a4b2949f114dd73eccbf4\n'}]",2,844010,2e11accd6a4e9bdfad4c806b108257b2ced55c75,14,2,5,13252,,,0,"DNM: Test networking job with extra swap

Change-Id: Idb639db6f9477de65e2a4b2949f114dd73eccbf4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/844010/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d0c1e5827c8909bbf75578e7a9fb1f79140dfe9,, c-api: false c-bak: false c-sch: false c-vol: false cinder: false," templates: - check-requirements - openstack-python3-zed-jobs - openstacksdk-functional-tips - openstacksdk-tox-tips - os-client-config-tox-tips - osc-tox-unit-tips - publish-openstack-docs-pti - release-notes-jobs-python3 - opendev-buildset-registry - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-8-stream-src - openstacksdk-functional-devstack - openstacksdk-functional-devstack-senlin - openstacksdk-functional-devstack-magnum: voting: false - openstacksdk-functional-devstack-manila: voting: false - openstacksdk-functional-devstack-masakari: voting: false - openstacksdk-functional-devstack-ironic: voting: false - openstacksdk-functional-devstack-legacy: voting: false - osc-functional-devstack-tips: voting: false # Ironic jobs, non-voting to avoid tight coupling - ironic-inspector-tempest-openstacksdk-src: voting: false - bifrost-integration-tinyipa-ubuntu-focal: voting: false - metalsmith-integration-openstacksdk-src: voting: false - ansible-collections-openstack-functional-devstack: voting: false gate: jobs: - opendev-buildset-registry - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-8-stream-src - openstacksdk-functional-devstack - openstacksdk-functional-devstack-networking - openstacksdk-functional-devstack-senlin",5,43
openstack%2Fdesignate~stable%2Fxena~I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,openstack/designate,stable/xena,I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,Fix zone update when adding new Bind9 target to pool.,MERGED,2022-06-02 03:04:22.000000000,2022-06-03 07:36:29.000000000,2022-06-03 07:35:12.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:04:22.000000000', 'files': ['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5b1b404e359a516ab468e3568412f4c69a7a0f5b', 'message': ""Fix zone update when adding new Bind9 target to pool.\n\nWhen a new Bind9 is added to the pool, Designate will trigger 'modzone'\nrndc command that will fail, unless zone is already present on the backend.\n\nThis change will first verify that the zone is present on the backend,\nbefore an update attempt. If zone is not present - zone creation will be\ntriggered.\n\nCloses-Bug: 1958409\n\nCo-authored-by: Kiran Pawar <kinpaa@gmail.com>\nChange-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0\n(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)\n""}]",2,844370,5b1b404e359a516ab468e3568412f4c69a7a0f5b,12,3,1,11628,,,0,"Fix zone update when adding new Bind9 target to pool.

When a new Bind9 is added to the pool, Designate will trigger 'modzone'
rndc command that will fail, unless zone is already present on the backend.

This change will first verify that the zone is present on the backend,
before an update attempt. If zone is not present - zone creation will be
triggered.

Closes-Bug: 1958409

Co-authored-by: Kiran Pawar <kinpaa@gmail.com>
Change-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0
(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)
",git fetch https://review.opendev.org/openstack/designate refs/changes/70/844370/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py']",3,5b1b404e359a516ab468e3568412f4c69a7a0f5b,bug/1958409-stable/xena," def get_zone(self, context, zone): """"""Returns True if zone exists and False if not"""""" LOG.debug('Get Zone') view = 'in %s' % self._view if self._view else '' rndc_op = [ 'showzone', '%s %s' % (zone['name'].rstrip('.'), view), ] try: self._execute_rndc(rndc_op) except exceptions.Backend as e: if ""not found"" in str(e): LOG.debug('Zone %s not found on the backend', zone['name']) return False else: LOG.warning('RNDC call failure: %s', e) raise e return True This will execute a rndc modzone if the zone Or, will create the zone if it does not exist. if not self.get_zone(context, zone): # If zone does not exist yet, create it self.create_zone(context, zone) # Newly created zone won't require an update return ", This will execute a rndc modzone as the zone,43,1
openstack%2Fdesignate~stable%2Fwallaby~I897d7da185c2dd246b80d1a598e9e8a5c667304e,openstack/designate,stable/wallaby,I897d7da185c2dd246b80d1a598e9e8a5c667304e,Modernize PTR implementation in Central,MERGED,2022-06-02 04:07:39.000000000,2022-06-03 07:36:24.000000000,2022-06-03 07:35:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 04:07:39.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py', 'designate/tests/test_api/test_v2/test_floatingips.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b51c972400bcde8e40d0c7e46110d57cd432fbc2', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n(cherry picked from commit 7ec7adc44a9914ad9492014ca0edec2341fb5de0)\n'}]",2,844359,b51c972400bcde8e40d0c7e46110d57cd432fbc2,13,3,1,11628,,,0,"Modernize PTR implementation in Central

Updated the PTR (floating ips) code to behave closer to how we handle
this type of operations in designate.api.v2. This should resolve
some issues (e.g. race conditions) with the older floating ips code.

Additional changes.
- Fixed minor typos in documentation.
- Updated wording where it makes sense to use project instead of tenant.

Change-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e
(cherry picked from commit 7ec7adc44a9914ad9492014ca0edec2341fb5de0)
",git fetch https://review.opendev.org/openstack/designate refs/changes/59/844359/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_api/test_v2/test_floatingips.py', 'designate/tests/test_central/test_service.py']",3,b51c972400bcde8e40d0c7e46110d57cd432fbc2,," self.assertEqual(expected.address, actual.address) self.assertEqual(expected.ptrdname, actual.ptrdname) self.assertEqual(expected.ttl, actual.ttl) record = self.central_service.find_record(elevated_a, criterion) self.assertEqual('DELETE', record.action) self.assertEqual('PENDING', record.status) record = self.central_service.find_record(elevated_a, criterion) self.assertEqual('DELETE', record.action) self.assertEqual('PENDING', record.status)"," self.assertEqual(expected, actual) zone_id = self.central_service.find_record( elevated_a, criterion).zone_id # Simulate the update on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Ensure that the old record for tenant a for the fip now owned by # tenant b is gone exc = self.assertRaises(rpc_dispatcher.ExpectedException, self.central_service.find_record, elevated_a, criterion) self.assertEqual(exceptions.RecordNotFound, exc.exc_info[0]) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Ensure that the old record for tenant a for the fip now owned by # tenant b is gone exc = self.assertRaises(rpc_dispatcher.ExpectedException, self.central_service.find_record, elevated_a, criterion) self.assertEqual(exceptions.RecordNotFound, exc.exc_info[0])",187,197
openstack%2Fopenstack-helm-images~master~I434a1c9f984023c0916af38028cf48bf6d5eb1bb,openstack/openstack-helm-images,master,I434a1c9f984023c0916af38028cf48bf6d5eb1bb,loci/nova: add net-tools package,MERGED,2022-05-25 17:34:26.000000000,2022-06-03 07:26:38.000000000,2022-06-03 07:19:49.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 17:34:26.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5668ec68cdde8e8737b68d923e425a0dac812594', 'message': ""loci/nova: add net-tools package\n\nTo add the net-tools package to the nova image, required for\nthe 'route' command.\n\nChange-Id: I434a1c9f984023c0916af38028cf48bf6d5eb1bb\n""}]",0,843321,5668ec68cdde8e8737b68d923e425a0dac812594,8,3,1,31746,,,0,"loci/nova: add net-tools package

To add the net-tools package to the nova image, required for
the 'route' command.

Change-Id: I434a1c9f984023c0916af38028cf48bf6d5eb1bb
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/21/843321/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,5668ec68cdde8e8737b68d923e425a0dac812594,," - ""DIST_PACKAGES='net-tools'""",,1,0
openstack%2Fovsdbapp~master~I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0,openstack/ovsdbapp,master,I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0,"Use the OS threading module for ""RowEventHandler""",ABANDONED,2022-05-10 08:51:30.000000000,2022-06-03 07:26:19.000000000,,"[{'_account_id': 5756}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-10 08:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9ff1be836108747209643f5a40837acf615bd69e', 'message': '[WIP][DNM] Use the OS threading module for ""RowEventHandler""\n\nIn case of using this library in a program that has patched the\n""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""\nretrieves the original module (the python ""threading"" module, that\nuses OS preemptive threads) to spawn the ""notify_loop"" thread.\n\nCloses-Bug: # TBD\nChange-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0\n'}, {'number': 2, 'created': '2022-05-11 07:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1850c99487eec1045dd152737642971f0d5fc119', 'message': 'Use the OS threading module for ""RowEventHandler""\n\nIn case of using this library in a program that has patched the\n""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""\nretrieves the original module (the python ""threading"" module, that\nuses OS preemptive threads) to spawn the ""notify_loop"" thread.\n\nCloses-Bug: #1964940\nChange-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0\n'}, {'number': 3, 'created': '2022-05-11 08:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4a9442b7a0c5c903e3c82dda9887e26c88ed6663', 'message': 'Use the OS threading module for ""RowEventHandler""\n\nIn case of using this library in a program that has patched the\n""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""\nretrieves the original module (the python ""threading"" module, that\nuses OS preemptive threads) to spawn the ""notify_loop"" thread.\n\nCloses-Bug: #1964940\nChange-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0\n'}, {'number': 4, 'created': '2022-05-12 07:32:52.000000000', 'files': ['ovsdbapp/event.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/643d3cbd7989d127f5b0947bc46856361b9c7922', 'message': 'Use the OS threading module for ""RowEventHandler""\n\nIn case of using this library in a program that has patched the\n""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""\nretrieves the original module (the python ""threading"" module, that\nuses OS preemptive threads) to spawn the ""notify_loop"" thread.\n\nCloses-Bug: #1964940\nChange-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0\n'}]",9,841238,643d3cbd7989d127f5b0947bc46856361b9c7922,13,2,4,16688,,,0,"Use the OS threading module for ""RowEventHandler""

In case of using this library in a program that has patched the
""threading"" module, using the ""eventlet"" one, the ""RowEventHandler""
retrieves the original module (the python ""threading"" module, that
uses OS preemptive threads) to spawn the ""notify_loop"" thread.

Closes-Bug: #1964940
Change-Id: I2ac7ff0de6a5e6e75ca54c7b1c9704615f9971a0
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/38/841238/4 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/event.py'],1,9ff1be836108747209643f5a40837acf615bd69e,bug/1964940,"def orig_threding_module(): import sys if 'eventlet' not in sys.modules: return threading from eventlet import patcher gt_modules = getattr(patcher, '_green_%s_modules' % 'thread') for mod_name, module in gt_modules(): if mod_name == 'threading': return module else: # We should never reach this point. return threading _threading = orig_threding_module() self.notify_thread = _threading.Thread(target=self.notify_loop)", self.notify_thread = threading.Thread(target=self.notify_loop),17,1
openstack%2Fheat~stable%2Fxena~I7d1017bcd7147329c4e187336daee1a1ae280fa9,openstack/heat,stable/xena,I7d1017bcd7147329c4e187336daee1a1ae280fa9,Use f36 instead of f33 for testing,MERGED,2022-06-01 05:56:54.000000000,2022-06-03 07:26:18.000000000,2022-06-03 07:23:44.000000000,"[{'_account_id': 4264}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-01 05:56:54.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/b32163d9e35e522577b99110ebd1614de55f5653', 'message': 'Use f36 instead of f33 for testing\n\nF33 is unsupported for a while. We should not use it for any testing.\n\nChange-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9\n(cherry picked from commit 78244c5f0f26064cd53b68e13fa8c4f0e235e698)\n(cherry picked from commit eefb921612b6d560e9f28767ba3a40e25bdd4f7d)\n'}]",1,844246,b32163d9e35e522577b99110ebd1614de55f5653,10,4,1,9816,,,0,"Use f36 instead of f33 for testing

F33 is unsupported for a while. We should not use it for any testing.

Change-Id: I7d1017bcd7147329c4e187336daee1a1ae280fa9
(cherry picked from commit 78244c5f0f26064cd53b68e13fa8c4f0e235e698)
(cherry picked from commit eefb921612b6d560e9f28767ba3a40e25bdd4f7d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/844246/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,b32163d9e35e522577b99110ebd1614de55f5653,f36-stable/xena, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-36-1.5.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64,9,8
openstack%2Fdesignate~stable%2Fwallaby~Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0,openstack/designate,stable/wallaby,Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0,Allow email subadresses to be used within mail url of CAA records,MERGED,2022-06-02 03:56:02.000000000,2022-06-03 07:17:05.000000000,2022-06-03 07:15:44.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:56:02.000000000', 'files': ['releasenotes/notes/bug-1958533-allow-caa-mail-subaddr-d02cdc46bbb118ad.yaml', 'designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/53cf9b96f58decad03c3e4dedbb33d7b5777a6b0', 'message': 'Allow email subadresses to be used within mail url of CAA records\n\nThis patch allows for +subaddress to be used for the local part of mail urls\nused for CAA records. While there are more characters allowed in email\naddresses, using subadresses for incoming email to role accounts is quite\ncommon.\n\nCloses-Bug: 1958533\nChange-Id: Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0\n(cherry picked from commit 1cef20edbc462fab75a919fc0de796c2d6edb30b)\n'}]",3,844374,53cf9b96f58decad03c3e4dedbb33d7b5777a6b0,14,3,1,11628,,,0,"Allow email subadresses to be used within mail url of CAA records

This patch allows for +subaddress to be used for the local part of mail urls
used for CAA records. While there are more characters allowed in email
addresses, using subadresses for incoming email to role accounts is quite
common.

Closes-Bug: 1958533
Change-Id: Id265fa1dfa5c0703d8e95b5de1334d4ca716fbc0
(cherry picked from commit 1cef20edbc462fab75a919fc0de796c2d6edb30b)
",git fetch https://review.opendev.org/openstack/designate refs/changes/74/844374/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1958533-allow-caa-mail-subaddr-d02cdc46bbb118ad.yaml', 'designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py']",3,53cf9b96f58decad03c3e4dedbb33d7b5777a6b0,caaemailsubaddr-stable/xena-stable/wallaby, RE_URL_MAIL = r'^mailto:[A-Za-z0-9_\-]+(\+[A-Za-z0-9_\-]+)?@.*', RE_URL_MAIL = r'^mailto:[A-Za-z0-9_\-]+@.*',18,1
openstack%2Fdesignate~stable%2Fyoga~I38efa22bb8b0de6fd9a70339e8044fea70080004,openstack/designate,stable/yoga,I38efa22bb8b0de6fd9a70339e8044fea70080004,Fixed incorrect quota exception message,MERGED,2022-05-31 21:56:39.000000000,2022-06-03 07:16:51.000000000,2022-06-03 07:15:41.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-05-31 21:56:39.000000000', 'files': ['designate/quota/base.py', 'designate/quota/impl_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/22d3c0c0dd021eb6914913111f224280043b03c3', 'message': 'Fixed incorrect quota exception message\n\nChange-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004\n(cherry picked from commit 291558c380232b726be0253fdee1f88902522beb)\n'}]",2,844083,22d3c0c0dd021eb6914913111f224280043b03c3,13,4,1,11628,,,0,"Fixed incorrect quota exception message

Change-Id: I38efa22bb8b0de6fd9a70339e8044fea70080004
(cherry picked from commit 291558c380232b726be0253fdee1f88902522beb)
",git fetch https://review.opendev.org/openstack/designate refs/changes/83/844083/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/quota/base.py', 'designate/quota/impl_storage.py']",2,22d3c0c0dd021eb6914913111f224280043b03c3,," ""resource"" % resource)"," ""resource"", resource)",2,2
openstack%2Fopenstack-ansible-tests~master~Ia326d92c24b9cdfcf46011e0661a9b5081e11573,openstack/openstack-ansible-tests,master,Ia326d92c24b9cdfcf46011e0661a9b5081e11573,Fix python installation for centos 8 stream,MERGED,2022-05-31 15:50:08.000000000,2022-06-03 06:48:33.000000000,2022-06-03 06:46:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-31 15:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3e5edaba0190111494bfa61e7dabf6a71bf67a99', 'message': 'Fix python installation for centos 8 stream\n\nThis must be python3.8 as we use this version in the integrated repo\nand require it for ansible 2.12\n\nChange-Id: Ia326d92c24b9cdfcf46011e0661a9b5081e11573\n'}, {'number': 2, 'created': '2022-05-31 15:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/579b790acfc9233fe83e8673f5faa9e53d91cb0f', 'message': 'Fix python installation for centos 8 stream\n\nThis must be python3.8 as we use this version in the integrated repo\nand require it for ansible 2.12\n\nChange-Id: Ia326d92c24b9cdfcf46011e0661a9b5081e11573\n'}, {'number': 3, 'created': '2022-05-31 16:00:01.000000000', 'files': ['test-ansible-env-prep.sh', 'run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ecec4ecca738f6fb42cfb648fd7c6132deab1abe', 'message': 'Fix python installation for centos 8 stream\n\nThis must be python3.8 as we use this version in the integrated repo\nand require it for ansible 2.12\n\nChange-Id: Ia326d92c24b9cdfcf46011e0661a9b5081e11573\n'}]",0,844101,ecec4ecca738f6fb42cfb648fd7c6132deab1abe,10,3,3,25023,,,0,"Fix python installation for centos 8 stream

This must be python3.8 as we use this version in the integrated repo
and require it for ansible 2.12

Change-Id: Ia326d92c24b9cdfcf46011e0661a9b5081e11573
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/01/844101/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,3e5edaba0190111494bfa61e7dabf6a71bf67a99,," rocky) pkg_list=""python38 python38-devel redhat-lsb-core"" ;; amzn|centos|rhel) case ${VERSION_ID} in 8) pkg_list=""python38 python38-devel redhat-lsb-core"" ;; 9) pkg_list=""python3 python3-devel redhat-lsb-core"" ;; esac sudo alternatives --set python3 /usr/bin/python3.8 centos|fedora|rhel|rocky)"," amzn|centos|rhel|rocky) pkg_list=""python3-devel python3-virtualenv redhat-lsb-core"" ;; fedora) pkg_list=""python3-devel python3-virtualenv redhat-lsb-core redhat-rpm-config yum-utils"" sudo alternatives --set python /usr/bin/python3 centos|fedora)",14,7
openstack%2Fopenstack-ansible-tests~master~I0b03f25a4682f1f084fb9405f3f09bc01fb09e10,openstack/openstack-ansible-tests,master,I0b03f25a4682f1f084fb9405f3f09bc01fb09e10,Run main_pre.yml tasks as initial keystone installation step,MERGED,2022-05-31 15:54:44.000000000,2022-06-03 06:47:41.000000000,2022-06-03 06:46:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-31 15:54:44.000000000', 'files': ['test-install-keystone.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2c762b5daa8508d30bd24c65df0392dc35af9cd3', 'message': 'Run main_pre.yml tasks as initial keystone installation step\n\nChange-Id: I0b03f25a4682f1f084fb9405f3f09bc01fb09e10\n'}]",0,844102,2c762b5daa8508d30bd24c65df0392dc35af9cd3,8,2,1,25023,,,0,"Run main_pre.yml tasks as initial keystone installation step

Change-Id: I0b03f25a4682f1f084fb9405f3f09bc01fb09e10
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/02/844102/1 && git format-patch -1 --stdout FETCH_HEAD,['test-install-keystone.yml'],1,2c762b5daa8508d30bd24c65df0392dc35af9cd3,," - name: ""Pre-service deployment tasks from os_keystone role"" include_role: name: os_keystone tasks_from: main_pre.yml",,4,0
openstack%2Fglance~stable%2Fyoga~I6a875a38bef5beafe352ab3320f3fd199db89aa1,openstack/glance,stable/yoga,I6a875a38bef5beafe352ab3320f3fd199db89aa1,[APIImpact] Correct API response code for PUT /v2/cache/{image_id},MERGED,2022-05-11 05:26:40.000000000,2022-06-03 06:32:32.000000000,2022-06-03 06:31:03.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-11 05:26:40.000000000', 'files': ['glance/api/v2/cached_images.py', 'api-ref/source/v2/cache-manage.inc', 'glance/tests/functional/v2/test_cache_api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9043efc5fff4daf83fdbcba1e200ab2e113e0464', 'message': '[APIImpact] Correct API response code for PUT /v2/cache/{image_id}\n\nPUT /v2/cache/{image_id} returns HTTP 200 response code to user but as per\nproposal it should be HTTP 202. This change returns HTTP 202 response to\nuser.\n\nCloses-Bug: #1971521\nChange-Id: I6a875a38bef5beafe352ab3320f3fd199db89aa1\n(cherry picked from commit ecb040c17786fa28d521a247c556a99442e37d5f)\n'}]",20,841278,9043efc5fff4daf83fdbcba1e200ab2e113e0464,41,4,1,9303,,,0,"[APIImpact] Correct API response code for PUT /v2/cache/{image_id}

PUT /v2/cache/{image_id} returns HTTP 200 response code to user but as per
proposal it should be HTTP 202. This change returns HTTP 202 response to
user.

Closes-Bug: #1971521
Change-Id: I6a875a38bef5beafe352ab3320f3fd199db89aa1
(cherry picked from commit ecb040c17786fa28d521a247c556a99442e37d5f)
",git fetch https://review.opendev.org/openstack/glance refs/changes/78/841278/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/cached_images.py', 'api-ref/source/v2/cache-manage.inc', 'glance/tests/functional/v2/test_cache_api.py']",3,9043efc5fff4daf83fdbcba1e200ab2e113e0464,bug/1971521-stable/yoga," def cache_queue(self, image_id, expected_code=202):"," def cache_queue(self, image_id, expected_code=200):",5,3
openstack%2Fopenstack-helm-images~master~I1945346cc8204e2853299e98fb71c8e5fd68efce,openstack/openstack-helm-images,master,I1945346cc8204e2853299e98fb71c8e5fd68efce,Update Ceph version to Pacific 16.2.9,MERGED,2022-06-01 16:13:49.000000000,2022-06-03 06:21:14.000000000,2022-06-03 06:19:00.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 16:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/011cedbf871b0f1f5f3030e6f6e39c85c2330409', 'message': 'Update Ceph version to Pacific 16.2.9\n\nChange-Id: I1945346cc8204e2853299e98fb71c8e5fd68efce\n'}, {'number': 2, 'created': '2022-06-01 17:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bdc5a9f068a8797d41e78e1585260fea2e2d14e1', 'message': 'Update Ceph version to Pacific 16.2.9\n\nAlso remove the unnecessary rbd-mirror package from ceph-daemon\n\nChange-Id: I1945346cc8204e2853299e98fb71c8e5fd68efce\n'}, {'number': 3, 'created': '2022-06-02 16:21:12.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'zuul.d/playbooks/Dockerfile_base', 'libvirt/Dockerfile.ubuntu_focal', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic', 'libvirt/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ae785b739829af703d7fb25c810ae31cb61fb384', 'message': 'Update Ceph version to Pacific 16.2.9\n\nChange-Id: I1945346cc8204e2853299e98fb71c8e5fd68efce\n'}]",0,844318,ae785b739829af703d7fb25c810ae31cb61fb384,12,3,3,29974,,,0,"Update Ceph version to Pacific 16.2.9

Change-Id: I1945346cc8204e2853299e98fb71c8e5fd68efce
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/18/844318/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'zuul.d/playbooks/Dockerfile_base', 'libvirt/Dockerfile.ubuntu_focal', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic', 'libvirt/Dockerfile.ubuntu_bionic']",7,011cedbf871b0f1f5f3030e6f6e39c85c2330409,,ARG CEPH_RELEASE=pacific,ARG CEPH_RELEASE=nautilus,23,23
openstack%2Fdesignate~stable%2Fxena~Ib45eae335160d53bb25e3745fcbe451bffa2cc31,openstack/designate,stable/xena,Ib45eae335160d53bb25e3745fcbe451bffa2cc31,Improve wording for validation error messages,MERGED,2022-06-02 04:09:39.000000000,2022-06-03 05:44:13.000000000,2022-06-03 05:43:01.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 04:09:39.000000000', 'files': ['designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4e6da9b9021466ddd2ee9eb9bcce2cf5a0d5fac7', 'message': 'Improve wording for validation error messages\n\nCorrect some grammatical issues and harmonize the responses\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib45eae335160d53bb25e3745fcbe451bffa2cc31\n(cherry picked from commit 296a5adaf95a221b985c026899662a611d936895)\n'}]",3,844378,4e6da9b9021466ddd2ee9eb9bcce2cf5a0d5fac7,14,3,1,11628,,,0,"Improve wording for validation error messages

Correct some grammatical issues and harmonize the responses

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib45eae335160d53bb25e3745fcbe451bffa2cc31
(cherry picked from commit 296a5adaf95a221b985c026899662a611d936895)
",git fetch https://review.opendev.org/openstack/designate refs/changes/78/844378/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py']",2,4e6da9b9021466ddd2ee9eb9bcce2cf5a0d5fac7,fix-errmsg-stable/xena," raise ValueError(""Domain %s does not end with a dot"" % value) if not re.match(self.RE_ZONENAME, value): raise ValueError(""Domain %s is invalid"" % value) raise ValueError(""Email %s is invalid"" % value) raise ValueError(""Host name %s does not end with a dot"" % value) if not re.match(self.RE_HOSTNAME, value): raise ValueError(""Host name %s is invalid"" % value) raise ValueError(""Host name %s does not end with a dot"" % value) raise ValueError(""%s is not a TLD"" % value) raise ValueError(""%s NAPTR record service is invalid"" % value) raise ValueError(""%s NAPTR record is invalid"" % value) raise ValueError(""Domain %s is invalid"" % idn) raise ValueError(""%s is not a valid key-value pair"" % entry) raise ValueError(""Domain %s is invalid"" % idn) raise ValueError(""Domain %s is invalid"" % idn) else: raise ValueError(""%s is not a valid URL"" % val)"," raise ValueError(""Domain %s is not end with a dot"" % value) if not re.match(self.RE_ZONENAME, value): raise ValueError(""Domain %s is not match"" % value) raise ValueError(""Email %s is not match"" % value) raise ValueError(""Host name %s is not end with a dot"" % value) if not re.match(self.RE_HOSTNAME, value): raise ValueError(""Host name %s is not match"" % value) raise ValueError(""Host name %s is not end with a dot"" % value) raise ValueError(""%s is not an TLD"" % value) raise ValueError(""%s NAPTR record service does not match"" % value) raise ValueError(""%s is not a NAPTR record regexp"" % value) raise ValueError(""Domain %s does not match"" % idn) raise ValueError(""%s is not valid key-value pair"" % entry) raise ValueError(""Domain %s does not match"" % idn) raise ValueError(""Domain %s does not match"" % idn) else: raise ValueError(""%s is not valid URL"" % val)",20,19
openstack%2Fdesignate~stable%2Fxena~Ibd01f6ad3046ca29eec02032e9115183f89a6a4b,openstack/designate,stable/xena,Ibd01f6ad3046ca29eec02032e9115183f89a6a4b,Add proper quota error messages,MERGED,2022-06-01 22:43:07.000000000,2022-06-03 05:38:48.000000000,2022-06-03 05:36:49.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-01 22:43:07.000000000', 'files': ['designate/tests/test_quota/test_quota.py', 'designate/quota/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/6b595bd4c380321eeecc88b2a97ea0c5870415ac', 'message': 'Add proper quota error messages\n\nThis patch adds a message to OverQuota containing information\non the actual quota reached and fixes a minor visual bug\nwith QuotaResourceUnknown.\n\nChange-Id: Ibd01f6ad3046ca29eec02032e9115183f89a6a4b\n(cherry picked from commit 907a029625a7f95369ca5a2f5173efefdb04d28f)\n'}]",2,844344,6b595bd4c380321eeecc88b2a97ea0c5870415ac,12,3,1,11628,,,0,"Add proper quota error messages

This patch adds a message to OverQuota containing information
on the actual quota reached and fixes a minor visual bug
with QuotaResourceUnknown.

Change-Id: Ibd01f6ad3046ca29eec02032e9115183f89a6a4b
(cherry picked from commit 907a029625a7f95369ca5a2f5173efefdb04d28f)
",git fetch https://review.opendev.org/openstack/designate refs/changes/44/844344/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_quota/test_quota.py', 'designate/quota/base.py']",2,6b595bd4c380321eeecc88b2a97ea0c5870415ac,," resources_exceeded = [] resources_exceeded.append(resource) else: raise exceptions.QuotaResourceUnknown( ""'%s' is not a valid quota resource."" % resource ) if resources_exceeded: resources_exceeded.sort(key=len) raise exceptions.OverQuota( 'Quota exceeded for %s.' % ', '.join(resources_exceeded) )"," raise exceptions.OverQuota() else: raise exceptions.QuotaResourceUnknown(""%s is not a valid quota"" "" resource"", resource)",110,53
openstack%2Fdesignate~stable%2Fxena~I897d7da185c2dd246b80d1a598e9e8a5c667304e,openstack/designate,stable/xena,I897d7da185c2dd246b80d1a598e9e8a5c667304e,Modernize PTR implementation in Central,MERGED,2022-06-02 03:58:31.000000000,2022-06-03 05:37:52.000000000,2022-06-03 05:36:47.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:58:31.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py', 'designate/tests/test_api/test_v2/test_floatingips.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9f9480bddc51bec0a9727c215fc005b058da95c5', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n(cherry picked from commit 7ec7adc44a9914ad9492014ca0edec2341fb5de0)\n'}]",2,844377,9f9480bddc51bec0a9727c215fc005b058da95c5,12,3,1,11628,,,0,"Modernize PTR implementation in Central

Updated the PTR (floating ips) code to behave closer to how we handle
this type of operations in designate.api.v2. This should resolve
some issues (e.g. race conditions) with the older floating ips code.

Additional changes.
- Fixed minor typos in documentation.
- Updated wording where it makes sense to use project instead of tenant.

Change-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e
(cherry picked from commit 7ec7adc44a9914ad9492014ca0edec2341fb5de0)
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/844377/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_api/test_v2/test_floatingips.py', 'designate/tests/test_central/test_service.py']",3,9f9480bddc51bec0a9727c215fc005b058da95c5,," self.assertEqual(expected.address, actual.address) self.assertEqual(expected.ptrdname, actual.ptrdname) self.assertEqual(expected.ttl, actual.ttl) record = self.central_service.find_record(elevated_a, criterion) self.assertEqual('DELETE', record.action) self.assertEqual('PENDING', record.status) record = self.central_service.find_record(elevated_a, criterion) self.assertEqual('DELETE', record.action) self.assertEqual('PENDING', record.status)"," self.assertEqual(expected, actual) zone_id = self.central_service.find_record( elevated_a, criterion).zone_id # Simulate the update on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Ensure that the old record for tenant a for the fip now owned by # tenant b is gone exc = self.assertRaises(rpc_dispatcher.ExpectedException, self.central_service.find_record, elevated_a, criterion) self.assertEqual(exceptions.RecordNotFound, exc.exc_info[0]) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Ensure that the old record for tenant a for the fip now owned by # tenant b is gone exc = self.assertRaises(rpc_dispatcher.ExpectedException, self.central_service.find_record, elevated_a, criterion) self.assertEqual(exceptions.RecordNotFound, exc.exc_info[0])",186,196
openstack%2Fdesignate~stable%2Fwallaby~I4522796ac056630c63798830e8f8d92628f14a37,openstack/designate,stable/wallaby,I4522796ac056630c63798830e8f8d92628f14a37,Fix delete zone transfer request with scoped token,MERGED,2022-04-04 17:54:47.000000000,2022-06-03 05:30:51.000000000,2022-06-03 05:29:05.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-04 17:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3cf5784ec1120b585c50316cda98fa6d4524a853', 'message': 'Fix delete zone transfer request with scoped token\n\nThis patch fixes an issue were deleting a zone transfer request with a scoped\ntoken may fail.\n\nChange-Id: I4522796ac056630c63798830e8f8d92628f14a37\n(cherry picked from commit 6f847aeb5a309eb6e70dee58057fef01886573f6)\n'}, {'number': 2, 'created': '2022-06-01 22:24:33.000000000', 'files': ['releasenotes/notes/fix-zone-transfer-request-scoped-token-fc9d3be407e1a50a.yaml', 'designate/storage/impl_sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/8562a683ae3e93de7c5ae5b7d9f4c153e2ed1d70', 'message': 'Fix delete zone transfer request with scoped token\n\nThis patch fixes an issue were deleting a zone transfer request with a scoped\ntoken may fail.\n\nChange-Id: I4522796ac056630c63798830e8f8d92628f14a37\n(cherry picked from commit 6f847aeb5a309eb6e70dee58057fef01886573f6)\n'}]",4,836341,8562a683ae3e93de7c5ae5b7d9f4c153e2ed1d70,17,3,2,11628,,,0,"Fix delete zone transfer request with scoped token

This patch fixes an issue were deleting a zone transfer request with a scoped
token may fail.

Change-Id: I4522796ac056630c63798830e8f8d92628f14a37
(cherry picked from commit 6f847aeb5a309eb6e70dee58057fef01886573f6)
",git fetch https://review.opendev.org/openstack/designate refs/changes/41/836341/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-zone-transfer-request-scoped-token-fc9d3be407e1a50a.yaml', 'designate/storage/impl_sqlalchemy/__init__.py']",2,3cf5784ec1120b585c50316cda98fa6d4524a853,, if one: return objects.ZoneTransferRequest(),,7,0
openstack%2Fbarbican~stable%2Fwallaby~I0dc603a3e3a894fee774483a70285d47b57abdf8,openstack/barbican,stable/wallaby,I0dc603a3e3a894fee774483a70285d47b57abdf8,"Allow users with ""creator"" role to edit ACLs",MERGED,2022-05-27 15:46:05.000000000,2022-06-03 04:58:03.000000000,2022-06-03 04:55:06.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 15:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f83c89568065f9e47cbf17695e7fca4454fd9a24', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 2, 'created': '2022-06-01 07:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e511f232e0542bb426b366e8f3705b1458db47c0', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}, {'number': 3, 'created': '2022-06-03 02:45:59.000000000', 'files': ['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/486e60723f1f635b8e1843bccaf144d85556a9f6', 'message': 'Allow users with ""creator"" role to edit ACLs\n\nThis patch updates the default policy to allow users with the\n""creator"" role to edit Secret and Container ACLs.\n\nSecrets that have an ACL set to private will only be able to be edited\nby the user who owns the secret.\n\nChange-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8\n'}]",1,843631,486e60723f1f635b8e1843bccaf144d85556a9f6,13,2,3,9914,,,0,"Allow users with ""creator"" role to edit ACLs

This patch updates the default policy to allow users with the
""creator"" role to edit Secret and Container ACLs.

Secrets that have an ACL set to private will only be able to be edited
by the user who owns the secret.

Change-Id: I0dc603a3e3a894fee774483a70285d47b57abdf8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/31/843631/3 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/controllers/test_acls.py', 'barbican/common/policies/acls.py']",2,f83c89568065f9e47cbf17695e7fca4454fd9a24,," check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator ' + 'or (rule:secret_project_creator_role and ' + 'rule:secret_non_private_read) or ' + f""({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' + '(rule:container_project_creator_role and' + ' rule:container_non_private_read) or ' +"," check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" + check_str='rule:secret_project_admin or rule:secret_project_creator' + f"" or ({_SECRET_MEMBER} and ({_SECRET_CREATOR} or "" +",24,16
openstack%2Fbarbican~stable%2Fwallaby~Id54d0581dfc1426fea50302ea6b5b5ab217fe48d,openstack/barbican,stable/wallaby,Id54d0581dfc1426fea50302ea6b5b5ab217fe48d,Fix stable/wallaby gates,MERGED,2022-06-01 07:25:56.000000000,2022-06-03 04:56:54.000000000,2022-06-03 04:55:04.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 07:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7d9e32ab504bc3d5818482b834aa5f092f87d82e', 'message': ""Replace TripleO CentOS 8 jobs with CentOS 9 jobs\n\nThe TripleO team has replaced their CentOS 8 jobs with CentOS 9.\nUnfortunately, this broke our gate because we're still looking for the\nCentOS 8 jobs.  This patch updates our jobs to use CentOS 9, which\nshould fix the gate.\n\nChange-Id: Id54d0581dfc1426fea50302ea6b5b5ab217fe48d\n(cherry picked from commit 935c7158b072e0a52634be338d050c1eb3120ac1)\n""}, {'number': 2, 'created': '2022-06-03 02:29:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/09d184de7f2203aa31958b406800471b4ecb6db3', 'message': 'Fix stable/wallaby gates\n\nThis patche squashes two changes together that are needed at the same\ntime to fix the stable/wallaby gate.\n\nChange #1:\n\nReplace TripleO CentOS 8 jobs with CentOS 9 jobs\n\nThe TripleO team has replaced their CentOS 8 jobs with CentOS 9.\nUnfortunately, this broke our gate because we\'re still looking for the\nCentOS 8 jobs.  This patch updates our jobs to use CentOS 9, which\nshould fix the gate.\n\n(cherry picked from commit 935c7158b072e0a52634be338d050c1eb3120ac1)\n\nChange #2:\n\nTemporarily disable voting for FIPS job\n\nThe gate job barbican-tox-functional-fips is failing at the gate due to\na dependency issue when building the environment.  Specifically, it\nappears that the package ""liberasurecode-devel"" fails to be found in the\nCentOS 9 repositories.\n\nThis patch temporarily disables gate-voting for the FIPS job.  We should\nbe able to re-enable voting once this dependency issue is solved.\n\n(cherry picked from commit 57fb686b20451753e609729e96a7f04729769bbc)\n\nChange-Id: Id54d0581dfc1426fea50302ea6b5b5ab217fe48d\n'}]",0,844192,09d184de7f2203aa31958b406800471b4ecb6db3,9,2,2,7973,,,0,"Fix stable/wallaby gates

This patche squashes two changes together that are needed at the same
time to fix the stable/wallaby gate.

Change #1:

Replace TripleO CentOS 8 jobs with CentOS 9 jobs

The TripleO team has replaced their CentOS 8 jobs with CentOS 9.
Unfortunately, this broke our gate because we're still looking for the
CentOS 8 jobs.  This patch updates our jobs to use CentOS 9, which
should fix the gate.

(cherry picked from commit 935c7158b072e0a52634be338d050c1eb3120ac1)

Change #2:

Temporarily disable voting for FIPS job

The gate job barbican-tox-functional-fips is failing at the gate due to
a dependency issue when building the environment.  Specifically, it
appears that the package ""liberasurecode-devel"" fails to be found in the
CentOS 9 repositories.

This patch temporarily disables gate-voting for the FIPS job.  We should
be able to re-enable voting once this dependency issue is solved.

(cherry picked from commit 57fb686b20451753e609729e96a7f04729769bbc)

Change-Id: Id54d0581dfc1426fea50302ea6b5b5ab217fe48d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/92/844192/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d9e32ab504bc3d5818482b834aa5f092f87d82e,, nodeset: devstack-single-node-centos-9-stream - tripleo-ci-centos-9-scenario002-standalone: - tripleo-ci-centos-9-undercloud-containers:, nodeset: devstack-single-node-centos-8-stream - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-undercloud-containers:,3,3
openstack%2Fdesignate~stable%2Fxena~I403ed6716b3ceffa1910269adf0e352f75e9dd5b,openstack/designate,stable/xena,I403ed6716b3ceffa1910269adf0e352f75e9dd5b,Fix dns.query.tcp/udp not always handling ipv6 properly,MERGED,2022-06-02 20:41:20.000000000,2022-06-03 04:12:42.000000000,2022-06-03 04:11:29.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 20:41:20.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/backend/agent.py', 'designate/tests/unit/backend/test_agent.py', 'designate/worker/utils.py', 'designate/tests/unit/test_dnsutils.py', 'designate/worker/README.md', 'designate/dnsutils.py', 'designate/tests/unit/mdns/test_notify.py', 'designate/tests/unit/workers/test_zone_tasks.py', 'designate/mdns/notify.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fab62ff81aaf49abf0089110ba5610629af9d592', 'message': 'Fix dns.query.tcp/udp not always handling ipv6 properly\n\nCreated a new generic send_dns_msg that properly handles\nboth ip and hostnames and fully supports ipv4 and ipv6.\n\nAlso, moved all usage of dns.query.tcp/udp to a central\nlocation.\n\nChange-Id: I403ed6716b3ceffa1910269adf0e352f75e9dd5b\n(cherry picked from commit acd930d3429aa30bea449f5fc7246581b0d2eb25)\n'}]",1,844525,fab62ff81aaf49abf0089110ba5610629af9d592,8,3,1,11628,,,0,"Fix dns.query.tcp/udp not always handling ipv6 properly

Created a new generic send_dns_msg that properly handles
both ip and hostnames and fully supports ipv4 and ipv6.

Also, moved all usage of dns.query.tcp/udp to a central
location.

Change-Id: I403ed6716b3ceffa1910269adf0e352f75e9dd5b
(cherry picked from commit acd930d3429aa30bea449f5fc7246581b0d2eb25)
",git fetch https://review.opendev.org/openstack/designate refs/changes/25/844525/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/backend/agent.py', 'designate/tests/unit/backend/test_agent.py', 'designate/worker/utils.py', 'designate/tests/unit/test_dnsutils.py', 'designate/worker/README.md', 'designate/dnsutils.py', 'designate/tests/unit/mdns/test_notify.py', 'designate/tests/unit/workers/test_zone_tasks.py', 'designate/mdns/notify.py']",10,fab62ff81aaf49abf0089110ba5610629af9d592,,"from designate import dnsutils response = dnsutils.send_dns_message( dns_message, host, port, timeout=timeout )"," response = self._send_dns_message(dns_message, host, port, timeout) def _send_dns_message(self, dns_message, host, port, timeout): """""" Send DNS Message over TCP or UDP, return response. :param dns_message: The dns message that needs to be sent. :param host: The destination ip of dns_message. :param port: The destination port of dns_message. :param timeout: The timeout in seconds to wait for a response. :return: response """""" send = dns_query.tcp if CONF['service:mdns'].all_tcp else dns_query.udp return send( dns_message, socket.gethostbyname(host), port=port, timeout=timeout )",213,266
openstack%2Fpuppet-openstack-integration~master~I08a51616e71d466c56b2d54a054b2f40917823fe,openstack/puppet-openstack-integration,master,I08a51616e71d466c56b2d54a054b2f40917823fe,wip: Testing ipv6 address in metadata_host,ABANDONED,2022-06-03 02:40:03.000000000,2022-06-03 04:09:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-03 02:40:03.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3bc1d759ceb1818f644229e06c67cd961ad68c13', 'message': 'wip: Testing ipv6 address in metadata_host\n\nChange-Id: I08a51616e71d466c56b2d54a054b2f40917823fe\n'}]",0,844537,3bc1d759ceb1818f644229e06c67cd961ad68c13,3,1,1,9816,,,0,"wip: Testing ipv6 address in metadata_host

Change-Id: I08a51616e71d466c56b2d54a054b2f40917823fe
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/37/844537/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,3bc1d759ceb1818f644229e06c67cd961ad68c13,ovn, $metadata_host = $::openstack_integration::config::host $metadata_protocol = 'http'," if $::openstack_integration::config::ssl { # with nova metadata api running via wsgi it is ssl terminated, also # neutron metadata agent does not support an ipv6 address for the # metadata_host, so we need to use the hostname $metadata_host = 'localhost' $metadata_protocol = 'https' } else { $metadata_host = $::openstack_integration::config::host $metadata_protocol = 'http' }",2,10
openstack%2Fdesignate~stable%2Fxena~Ib91e49081855e5f4ec9f46a060d1587dcfeaac29,openstack/designate,stable/xena,Ib91e49081855e5f4ec9f46a060d1587dcfeaac29,Fixed incorrect message when zone import failed due to quota,MERGED,2022-06-02 03:08:33.000000000,2022-06-03 04:04:26.000000000,2022-06-03 04:03:13.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:08:33.000000000', 'files': ['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_api/test_v2/test_import_export.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d1402da7f7a8826b3955fa1283d6ef8020d3b8f4', 'message': 'Fixed incorrect message when zone import failed due to quota\n\nCloses-Bug: #1960764\nChange-Id: Ib91e49081855e5f4ec9f46a060d1587dcfeaac29\n(cherry picked from commit 7e543c2d22516254cbaab111e9dad87a408ab80d)\n'}]",3,844372,d1402da7f7a8826b3955fa1283d6ef8020d3b8f4,11,3,1,11628,,,0,"Fixed incorrect message when zone import failed due to quota

Closes-Bug: #1960764
Change-Id: Ib91e49081855e5f4ec9f46a060d1587dcfeaac29
(cherry picked from commit 7e543c2d22516254cbaab111e9dad87a408ab80d)
",git fetch https://review.opendev.org/openstack/designate refs/changes/72/844372/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/central/service.py', 'designate/tests/test_api/test_v2/test_import_export.py', 'designate/tests/test_central/test_service.py']",4,d1402da7f7a8826b3955fa1283d6ef8020d3b8f4,fix_quota_error-stable/xena," def test_create_zone_import_overquota(self): self.config( quota_zone_records=5, quota_zone_recordsets=5, ) # Create a Zone Import context = self.get_context(project_id=utils.generate_uuid()) request_body = self.get_zonefile_fixture() zone_import = self.central_service.create_zone_import(context, request_body) # Ensure all values have been set correctly self.assertIsNotNone(zone_import['id']) self.assertEqual('PENDING', zone_import.status) self.assertIsNone(zone_import.message) self.assertIsNone(zone_import.zone_id) zone_import = self.wait_for_import(zone_import.id, error_is_ok=True) self.assertEqual('Quota exceeded during zone import.', zone_import.message) self.assertEqual('ERROR', zone_import.status) ",,44,15
openstack%2Ftripleo-ci~master~I70a606d008216dd8033ddcb9e3b2426d3190ae43,openstack/tripleo-ci,master,I70a606d008216dd8033ddcb9e3b2426d3190ae43,"Revert ""Pass release to quickstart.sh in bootstrap command""",MERGED,2022-06-02 14:37:12.000000000,2022-06-03 01:50:54.000000000,2022-06-03 01:50:54.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-06-02 14:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d24c1b9efc726d25c6722c0574005386196d0523', 'message': 'WIP testing\n\nRevert ""Pass release to quickstart.sh in bootstrap command""\n\nThis reverts commit bfff8b35e4297f08c46f56d8ee21083771514fcf.\n\nReason for revert: <INSERT REASONING HERE>\n\nChange-Id: I70a606d008216dd8033ddcb9e3b2426d3190ae43\n'}, {'number': 2, 'created': '2022-06-02 15:48:04.000000000', 'files': ['roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1ee40aec65d02daee1a0064e1b219a8024eb9288', 'message': 'Revert ""Pass release to quickstart.sh in bootstrap command""\n\nThis reverts commit bfff8b35e4297f08c46f56d8ee21083771514fcf.\n\nReason for revert: breaking periodic jobs like [1][2]\n\n[1] https://logserver.rdoproject.org/openstack-periodic-integration-stable1-cs8/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-standalone-wallaby/8dade15/job-output.txt\n[2] https://logserver.rdoproject.org/78/43378/1/check/periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-baremetal-master/eae395c/job-output.txt\n\nChange-Id: I70a606d008216dd8033ddcb9e3b2426d3190ae43\n'}]",1,844389,1ee40aec65d02daee1a0064e1b219a8024eb9288,12,5,2,8449,,,0,"Revert ""Pass release to quickstart.sh in bootstrap command""

This reverts commit bfff8b35e4297f08c46f56d8ee21083771514fcf.

Reason for revert: breaking periodic jobs like [1][2]

[1] https://logserver.rdoproject.org/openstack-periodic-integration-stable1-cs8/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-standalone-wallaby/8dade15/job-output.txt
[2] https://logserver.rdoproject.org/78/43378/1/check/periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-baremetal-master/eae395c/job-output.txt

Change-Id: I70a606d008216dd8033ddcb9e3b2426d3190ae43
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/89/844389/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_quickstart.sh.j2'],1,d24c1b9efc726d25c6722c0574005386196d0523,,, --release $QUICKSTART_RELEASE,0,1
openstack%2Fdesignate~stable%2Fwallaby~I403ed6716b3ceffa1910269adf0e352f75e9dd5b,openstack/designate,stable/wallaby,I403ed6716b3ceffa1910269adf0e352f75e9dd5b,Fix dns.query.tcp/udp not always handling ipv6 properly,MERGED,2022-06-02 21:05:19.000000000,2022-06-03 00:56:53.000000000,2022-06-03 00:55:48.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 21:05:19.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/backend/agent.py', 'designate/tests/unit/backend/test_agent.py', 'designate/worker/utils.py', 'designate/tests/unit/test_dnsutils.py', 'designate/worker/README.md', 'designate/dnsutils.py', 'designate/tests/unit/mdns/test_notify.py', 'designate/tests/unit/workers/test_zone_tasks.py', 'designate/mdns/notify.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/60682ccef6d1133bbc239db94192b999b603c254', 'message': 'Fix dns.query.tcp/udp not always handling ipv6 properly\n\nCreated a new generic send_dns_msg that properly handles\nboth ip and hostnames and fully supports ipv4 and ipv6.\n\nAlso, moved all usage of dns.query.tcp/udp to a central\nlocation.\n\nChange-Id: I403ed6716b3ceffa1910269adf0e352f75e9dd5b\n(cherry picked from commit acd930d3429aa30bea449f5fc7246581b0d2eb25)\n'}]",1,844526,60682ccef6d1133bbc239db94192b999b603c254,9,3,1,11628,,,0,"Fix dns.query.tcp/udp not always handling ipv6 properly

Created a new generic send_dns_msg that properly handles
both ip and hostnames and fully supports ipv4 and ipv6.

Also, moved all usage of dns.query.tcp/udp to a central
location.

Change-Id: I403ed6716b3ceffa1910269adf0e352f75e9dd5b
(cherry picked from commit acd930d3429aa30bea449f5fc7246581b0d2eb25)
",git fetch https://review.opendev.org/openstack/designate refs/changes/26/844526/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/backend/agent.py', 'designate/tests/unit/backend/test_agent.py', 'designate/worker/utils.py', 'designate/tests/unit/test_dnsutils.py', 'designate/worker/README.md', 'designate/dnsutils.py', 'designate/tests/unit/mdns/test_notify.py', 'designate/tests/unit/workers/test_zone_tasks.py', 'designate/mdns/notify.py']",10,60682ccef6d1133bbc239db94192b999b603c254,,"from designate import dnsutils response = dnsutils.send_dns_message( dns_message, host, port, timeout=timeout )"," response = self._send_dns_message(dns_message, host, port, timeout) def _send_dns_message(self, dns_message, host, port, timeout): """""" Send DNS Message over TCP or UDP, return response. :param dns_message: The dns message that needs to be sent. :param host: The destination ip of dns_message. :param port: The destination port of dns_message. :param timeout: The timeout in seconds to wait for a response. :return: response """""" send = dns_query.tcp if CONF['service:mdns'].all_tcp else dns_query.udp return send( dns_message, socket.gethostbyname(host), port=port, timeout=timeout )",213,266
openstack%2Fdesignate~stable%2Fwallaby~Ib45eae335160d53bb25e3745fcbe451bffa2cc31,openstack/designate,stable/wallaby,Ib45eae335160d53bb25e3745fcbe451bffa2cc31,Improve wording for validation error messages,MERGED,2022-06-02 04:09:49.000000000,2022-06-03 00:15:04.000000000,2022-06-03 00:13:54.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 04:09:49.000000000', 'files': ['designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1eb5cb418451d20809b4f009db8821861a61566a', 'message': 'Improve wording for validation error messages\n\nCorrect some grammatical issues and harmonize the responses\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib45eae335160d53bb25e3745fcbe451bffa2cc31\n(cherry picked from commit 296a5adaf95a221b985c026899662a611d936895)\n'}]",1,844379,1eb5cb418451d20809b4f009db8821861a61566a,9,3,1,11628,,,0,"Improve wording for validation error messages

Correct some grammatical issues and harmonize the responses

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib45eae335160d53bb25e3745fcbe451bffa2cc31
(cherry picked from commit 296a5adaf95a221b985c026899662a611d936895)
",git fetch https://review.opendev.org/openstack/designate refs/changes/79/844379/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/objects/test_caa_object.py', 'designate/objects/fields.py']",2,1eb5cb418451d20809b4f009db8821861a61566a,fix-errmsg-stable/xena-stable/wallaby," raise ValueError(""Domain %s does not end with a dot"" % value) if not re.match(self.RE_ZONENAME, value): raise ValueError(""Domain %s is invalid"" % value) raise ValueError(""Email %s is invalid"" % value) raise ValueError(""Host name %s does not end with a dot"" % value) if not re.match(self.RE_HOSTNAME, value): raise ValueError(""Host name %s is invalid"" % value) raise ValueError(""Host name %s does not end with a dot"" % value) raise ValueError(""%s is not a TLD"" % value) raise ValueError(""%s NAPTR record service is invalid"" % value) raise ValueError(""%s NAPTR record is invalid"" % value) raise ValueError(""Domain %s is invalid"" % idn) raise ValueError(""%s is not a valid key-value pair"" % entry) raise ValueError(""Domain %s is invalid"" % idn) raise ValueError(""Domain %s is invalid"" % idn) else: raise ValueError(""%s is not a valid URL"" % val)"," raise ValueError(""Domain %s is not end with a dot"" % value) if not re.match(self.RE_ZONENAME, value): raise ValueError(""Domain %s is not match"" % value) raise ValueError(""Email %s is not match"" % value) raise ValueError(""Host name %s is not end with a dot"" % value) if not re.match(self.RE_HOSTNAME, value): raise ValueError(""Host name %s is not match"" % value) raise ValueError(""Host name %s is not end with a dot"" % value) raise ValueError(""%s is not an TLD"" % value) raise ValueError(""%s NAPTR record service does not match"" % value) raise ValueError(""%s is not a NAPTR record regexp"" % value) raise ValueError(""Domain %s does not match"" % idn) raise ValueError(""%s is not valid key-value pair"" % entry) raise ValueError(""Domain %s does not match"" % idn) raise ValueError(""Domain %s does not match"" % idn) else: raise ValueError(""%s is not valid URL"" % val)",20,19
openstack%2Ftripleo-image-elements~master~Ia7db2e783465349e1e0fb44c08e5c386f7fd8357,openstack/tripleo-image-elements,master,Ia7db2e783465349e1e0fb44c08e5c386f7fd8357,Remove ntp element,ABANDONED,2022-06-02 05:31:17.000000000,2022-06-03 00:06:35.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-02 05:31:17.000000000', 'files': ['elements/ntp/README.md', 'elements/ntp/element-deps', 'elements/ntp/install.d/50-ntp', 'elements/ntp/os-apply-config/etc/ntp.conf', 'elements/ntp/svc-map', 'elements/ntp/os-refresh-config/configure.d/50-ntp'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/1ec0239bcd978f8dfc8ab3bef36fc1a4577e0ec3', 'message': 'Remove ntp element\n\n... because ntpd is no longer available since CentOS 8 and was replaced\nby chronyd completely.\n\nChange-Id: Ia7db2e783465349e1e0fb44c08e5c386f7fd8357\n'}]",0,844365,1ec0239bcd978f8dfc8ab3bef36fc1a4577e0ec3,5,3,1,9816,,,0,"Remove ntp element

... because ntpd is no longer available since CentOS 8 and was replaced
by chronyd completely.

Change-Id: Ia7db2e783465349e1e0fb44c08e5c386f7fd8357
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/65/844365/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/ntp/README.md', 'elements/ntp/element-deps', 'elements/ntp/install.d/50-ntp', 'elements/ntp/os-apply-config/etc/ntp.conf', 'elements/ntp/svc-map', 'elements/ntp/os-refresh-config/configure.d/50-ntp']",6,1ec0239bcd978f8dfc8ab3bef36fc1a4577e0ec3,,,"#!/bin/bash set -eu set -o pipefail # NTP server to sync with. NTP_SERVER=""$(os-apply-config --key 'ntp.servers.0.server' --type raw --key-default '')"" SERVICE_NAME=""$(svc-map ntpd)"" if [ -n ""${NTP_SERVER}"" ]; then ntpdate -q ""${NTP_SERVER}"" || { echo ""ERROR: ntpdate cannot connect to: ${NTP_SERVER}""; exit 1; } # Ensure ntpd is not running NTP_STOP_LOOPS=5; LOOP_COUNT=0 while service ""${SERVICE_NAME}"" status &>/dev/null && [ ${LOOP_COUNT} -lt ${NTP_STOP_LOOPS} ]; do service ""${SERVICE_NAME}"" stop sleep $((5 * $((LOOP_COUNT + 1)))) done # If ntpd is still running then abort. service ""${SERVICE_NAME}"" status &>/dev/null && exit 1 # Set the system clock to the value of the NTP clock. # Note: This will not sanity check the ntp server like ntpd. ntpdate -b ""${NTP_SERVER}"" hwclock --systohc # Re-align the H/W clock. (incase of power loss) service ""${SERVICE_NAME}"" start fi ",0,84
openstack%2Ftripleo-puppet-elements~master~I60bf607111cb583ef33de19520757c96296d0f79,openstack/tripleo-puppet-elements,master,I60bf607111cb583ef33de19520757c96296d0f79,Ensure /etc/multipath.conf exists,NEW,2022-04-19 21:31:48.000000000,2022-06-03 00:05:14.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 21:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8aece8e71806ecfd2b36785c9c6ab2c0843c19f8', 'message': 'Ensure /etc/multipath.conf exists\n\nBooting overcloud-full is currently failing in the kernel boot because\nthere is no /etc/multipath.conf in the initramfs so multipath\nblacklists every device.\n\nThis change generates a default /etc/multipath.conf which will be\nadded to the initramfs during the dracut regenerate.\n\nChange-Id: I60bf607111cb583ef33de19520757c96296d0f79\n'}, {'number': 2, 'created': '2022-04-20 05:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/e4c1ea4af11ee2190511bf486a697af3db5892f4', 'message': 'Ensure /etc/multipath.conf exists\n\nBooting overcloud-full is currently failing in the kernel boot because\nthere is no /etc/multipath.conf in the initramfs so multipath\nblacklists every device.\n\nThis change generates a default /etc/multipath.conf which will be\nadded to the initramfs during the dracut regenerate.\n\nChange-Id: I60bf607111cb583ef33de19520757c96296d0f79\n'}, {'number': 3, 'created': '2022-04-21 23:04:40.000000000', 'files': ['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/post-install.d/50-ensure-multipath-conf'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a503ef23b638d6cf425a25ee7d7ca4a70cb1d182', 'message': 'Ensure /etc/multipath.conf exists\n\nAn error is being logged in early boot because\nthere is no /etc/multipath.conf in the initramfs so multipath\nblacklists every multipath device.\n\nThis change generates a default /etc/multipath.conf which will be\nadded to the initramfs during the dracut regenerate.\n\nChange-Id: I60bf607111cb583ef33de19520757c96296d0f79\n'}]",0,838600,a503ef23b638d6cf425a25ee7d7ca4a70cb1d182,11,4,3,4571,,,0,"Ensure /etc/multipath.conf exists

An error is being logged in early boot because
there is no /etc/multipath.conf in the initramfs so multipath
blacklists every multipath device.

This change generates a default /etc/multipath.conf which will be
added to the initramfs during the dracut regenerate.

Change-Id: I60bf607111cb583ef33de19520757c96296d0f79
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/00/838600/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/post-install.d/50-ensure-multipath-conf']",2,8aece8e71806ecfd2b36785c9c6ab2c0843c19f8,multipath,#!/bin/bash set -eux set -o pipefail # Make sure there is a multipath.conf which enables all devices by default if [[ ! -e /etc/multipath.conf ]]; then mpathconf --enable fi,,10,0
openstack%2Ftrove-dashboard~master~I8280a50194473ef410ce85053fd18ba436007c9c,openstack/trove-dashboard,master,I8280a50194473ef410ce85053fd18ba436007c9c,Remove publish arg from log_generator,NEW,2022-05-26 00:28:22.000000000,2022-06-03 00:01:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 00:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/2a2d1e117ea5e4df73fce9900126e450f92c36e3', 'message': 'Remove publish arg from log_generator\n\nThis argument was removed in python-troveclient a long\ntime ago with adde0d0bedb5783be2c03bd9412d70684bff0612\n\nChange-Id: I8280a50194473ef410ce85053fd18ba436007c9c\n'}, {'number': 2, 'created': '2022-06-02 23:55:33.000000000', 'files': ['trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/databases/logs/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/2877f318ca8251f71741e61af4c7bd1505990695', 'message': 'Remove publish arg from log_generator\n\nThis argument was removed in python-troveclient a long\ntime ago with adde0d0bedb5783be2c03bd9412d70684bff0612\n\nChange-Id: I8280a50194473ef410ce85053fd18ba436007c9c\n'}]",1,843352,2877f318ca8251f71741e61af4c7bd1505990695,6,1,2,3031,,,0,"Remove publish arg from log_generator

This argument was removed in python-troveclient a long
time ago with adde0d0bedb5783be2c03bd9412d70684bff0612

Change-Id: I8280a50194473ef410ce85053fd18ba436007c9c
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/52/843352/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/databases/logs/tests.py']",3,2a2d1e117ea5e4df73fce9900126e450f92c36e3,,," False, False,",2,20
openstack%2Fdesignate~stable%2Fwallaby~I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,openstack/designate,stable/wallaby,I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,Fix zone update when adding new Bind9 target to pool.,MERGED,2022-06-02 03:04:41.000000000,2022-06-02 23:52:58.000000000,2022-06-02 23:51:31.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:04:41.000000000', 'files': ['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b6915f00cca2439977722d996f6045309176f49f', 'message': ""Fix zone update when adding new Bind9 target to pool.\n\nWhen a new Bind9 is added to the pool, Designate will trigger 'modzone'\nrndc command that will fail, unless zone is already present on the backend.\n\nThis change will first verify that the zone is present on the backend,\nbefore an update attempt. If zone is not present - zone creation will be\ntriggered.\n\nCloses-Bug: 1958409\n\nCo-authored-by: Kiran Pawar <kinpaa@gmail.com>\nChange-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0\n(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)\n""}]",1,844371,b6915f00cca2439977722d996f6045309176f49f,9,3,1,11628,,,0,"Fix zone update when adding new Bind9 target to pool.

When a new Bind9 is added to the pool, Designate will trigger 'modzone'
rndc command that will fail, unless zone is already present on the backend.

This change will first verify that the zone is present on the backend,
before an update attempt. If zone is not present - zone creation will be
triggered.

Closes-Bug: 1958409

Co-authored-by: Kiran Pawar <kinpaa@gmail.com>
Change-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0
(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/844371/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-update-zone-create-zone-ada1fd81de479492.yaml', 'designate/tests/unit/backend/test_bind9.py', 'designate/backend/impl_bind9.py']",3,b6915f00cca2439977722d996f6045309176f49f,bug/1958409-stable/xena-stable/wallaby," def get_zone(self, context, zone): """"""Returns True if zone exists and False if not"""""" LOG.debug('Get Zone') view = 'in %s' % self._view if self._view else '' rndc_op = [ 'showzone', '%s %s' % (zone['name'].rstrip('.'), view), ] try: self._execute_rndc(rndc_op) except exceptions.Backend as e: if ""not found"" in str(e): LOG.debug('Zone %s not found on the backend', zone['name']) return False else: LOG.warning('RNDC call failure: %s', e) raise e return True This will execute a rndc modzone if the zone Or, will create the zone if it does not exist. if not self.get_zone(context, zone): # If zone does not exist yet, create it self.create_zone(context, zone) # Newly created zone won't require an update return ", This will execute a rndc modzone as the zone,43,1
openstack%2Fpuppet-octavia~master~Ief71c7d15b20e210671cfad922d417a2f2dc4f69,openstack/puppet-octavia,master,Ief71c7d15b20e210671cfad922d417a2f2dc4f69,Make heartbeat_key available to octavia-worker,ABANDONED,2022-06-02 04:00:43.000000000,2022-06-02 23:50:05.000000000,,"[{'_account_id': 3031}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 04:00:43.000000000', 'files': ['manifests/health_manager.pp', 'releasenotes/notes/heartbeat_key_for_worker_nodes-c0f5ffb258b30a1e.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/7f3819eef74838d00b9b52e28b7882b1a5513acf', 'message': 'Make heartbeat_key available to octavia-worker\n\nChange-Id: Ief71c7d15b20e210671cfad922d417a2f2dc4f69\n'}]",12,844358,7f3819eef74838d00b9b52e28b7882b1a5513acf,10,3,1,34532,,,0,"Make heartbeat_key available to octavia-worker

Change-Id: Ief71c7d15b20e210671cfad922d417a2f2dc4f69
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/58/844358/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/health_manager.pp', 'releasenotes/notes/heartbeat_key_for_worker_nodes-c0f5ffb258b30a1e.yaml', 'manifests/init.pp']",3,7f3819eef74838d00b9b52e28b7882b1a5513acf,,"# [*heartbeat_key*] # Key to validate amphora messages. # $heartbeat_key = undef, # Heartbeat key is needed by both worker and health_manager processes $heartbeat_key_real = pick($::octavia::health_manager::heartbeat_key, $heartbeat_key) validate_legacy(String, 'validate_string', $heartbeat_key_real) octavia_config { 'health_manager/heartbeat_key' : value => $heartbeat_key; }",,31,7
openstack%2Fdesignate~stable%2Fwallaby~I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b,openstack/designate,stable/wallaby,I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b,Fix designate-manage pool update bugs,MERGED,2022-06-02 03:57:11.000000000,2022-06-02 23:43:02.000000000,2022-06-02 23:41:49.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:57:11.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/899cd6e7cc7fb17d4ccc8519d8257774443df939', 'message': ""Fix designate-manage pool update bugs\n\nThis patch addresses a few problems with the manage\ncommand for pools and NS records.\n\n- Fixed an issue where having multiple NS records\n  would break the pool command.\n\n- Fixed a scenario where manually (non-managed) NS\n  records could break the pool command.\n\n- Fixed a potential edge case that could break the\n  pool command.\n\nThe biggest change is that we now only manage the NS\nrecord for the zone itself. This was always the case,\nbut because we didn't check for this specifically,\nother NS records would conflict with the command.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n(cherry picked from commit bff3d5f6e31fe595a77143ec4ac779c187bf72a8)\n""}]",1,844376,899cd6e7cc7fb17d4ccc8519d8257774443df939,9,3,1,11628,,,0,"Fix designate-manage pool update bugs

This patch addresses a few problems with the manage
command for pools and NS records.

- Fixed an issue where having multiple NS records
  would break the pool command.

- Fixed a scenario where manually (non-managed) NS
  records could break the pool command.

- Fixed a potential edge case that could break the
  pool command.

The biggest change is that we now only manage the NS
record for the zone itself. This was always the case,
but because we didn't check for this specifically,
other NS records would conflict with the command.

Change-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b
(cherry picked from commit bff3d5f6e31fe595a77143ec4ac779c187bf72a8)
",git fetch https://review.opendev.org/openstack/designate refs/changes/76/844376/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py']",2,899cd6e7cc7fb17d4ccc8519d8257774443df939,," 'type': 'NS', increment_serial=False ) try: recordset = self.find_recordset( context, criterion={ 'zone_id': zone['id'], 'name': zone['name'], 'type': 'NS' } ) except exceptions.RecordSetNotFound: recordset.records.append( objects.Record(data=ns_record, managed=True) ) self._update_recordset_in_storage(context, zone, recordset, recordset = self.find_recordset( context, criterion={ 'zone_id': zone['id'], 'name': zone['name'], 'type': 'NS' } ) for record in list(recordset.records): if record.data == ns_record: recordset.records.remove(record) self._update_recordset_in_storage(context, zone, recordset, elevated_context = context.elevated(all_tenants=True) # TODO(kiall): ListObjects should be able to give you their # original set of values. original_pool_ns_records = self._get_pool_ns_records( context, pool.id ) if not pool.obj_attr_is_set('ns_records'): return updated_pool # Find the current NS hostnames existing_ns = set([n.hostname for n in original_pool_ns_records]) # Find the desired NS hostnames request_ns = set([n.hostname for n in pool.ns_records]) # Get the NS's to be created and deleted, ignoring the ones that # are in both sets, as those haven't changed. # TODO(kiall): Factor in priority create_ns = request_ns.difference(existing_ns) delete_ns = existing_ns.difference(request_ns) for ns_record in create_ns: for zone in zones: self._add_ns(elevated_context, zone, ns_record) for ns_record in delete_ns: if not pool.ns_records: criterion={'pool_id': pool.id} ) for zone in zones: self._delete_ns(elevated_context, zone, ns_record)"," 'type': ""NS"", increment_serial=False) recordsets = self.find_recordsets( context, criterion={'zone_id': zone['id'], 'type': ""NS""} ) managed = [] for rs in recordsets: if rs.managed: managed.append(rs) if len(managed) == 0: elif len(managed) != 1: raise exceptions.RecordSetNotFound(""No valid recordset found"") ns_recordset = managed[0] ns_recordset.records.append( objects.Record(data=ns_record, managed=True)) self._update_recordset_in_storage(context, zone, ns_recordset, ns_recordset = self.find_recordset( context, criterion={'zone_id': zone['id'], 'type': ""NS""}) for record in copy.deepcopy(ns_recordset.records): if record.data == ns_record: ns_recordset.records.remove(record) self._update_recordset_in_storage(context, zone, ns_recordset, if pool.obj_attr_is_set('ns_records'): elevated_context = context.elevated(all_tenants=True) # TODO(kiall): ListObjects should be able to give you their # original set of values. original_pool_ns_records = self._get_pool_ns_records(context, pool.id) # Find the current NS hostnames existing_ns = set([n.hostname for n in original_pool_ns_records]) # Find the desired NS hostnames request_ns = set([n.hostname for n in pool.ns_records]) # Get the NS's to be created and deleted, ignoring the ones that # are in both sets, as those haven't changed. # TODO(kiall): Factor in priority create_ns = request_ns.difference(existing_ns) delete_ns = existing_ns.difference(request_ns) for ns in create_ns: for z in zones: self._add_ns(elevated_context, z, ns) for ns in delete_ns: if len(pool.ns_records) == 0: criterion={'pool_id': pool.id}) for z in zones: self._delete_ns(elevated_context, z, ns)",66,82
openstack%2Fdesignate~stable%2Fwallaby~I4b2991499f33e65790388aea902a8b3e6023eb4e,openstack/designate,stable/wallaby,I4b2991499f33e65790388aea902a8b3e6023eb4e,Validate worker actions before retrying poll,MERGED,2022-05-31 22:11:55.000000000,2022-06-02 22:56:44.000000000,2022-06-02 22:55:40.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 22:11:55.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/72267c8f3625f03e2f776b249de3bd3be6bf92d2', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n(cherry picked from commit dc45a03563bc075242b4d27dfbc6d340166c1c0c)\n'}]",5,844087,72267c8f3625f03e2f776b249de3bd3be6bf92d2,15,4,1,11628,,,0,"Validate worker actions before retrying poll

This adds a check to validate if we need to
keep retrying the current action.

Change-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e
(cherry picked from commit dc45a03563bc075242b4d27dfbc6d340166c1c0c)
",git fetch https://review.opendev.org/openstack/designate refs/changes/87/844087/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py']",3,72267c8f3625f03e2f776b249de3bd3be6bf92d2,,"from designate import exceptions def is_current_action_valid(self, context, action, zone): """"""Is our current action still valid?"""""" # We always allow for DELETE operations. if action == 'DELETE': return True try: zone = self.storage.get_zone(context, zone.id) # If the zone is either in a DELETE or NONE state, # we don't need to continue with the current action. if zone.action in ['DELETE', 'NONE']: LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s action state has changed ' 'to %(current_action)s, not retrying action', { 'action': action, 'zone_name': zone.name, 'zone_id': zone.id, 'current_action': zone.action, } ) return False except exceptions.ZoneNotFound: if action != 'CREATE': LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s Error=ZoneNotFound', { 'action': action, 'zone_name': zone.name, 'zone_id': zone.id, } ) return False except Exception as e: LOG.warning( 'Error trying to get zone action. Error=%(error)s', { 'error': str(e), } ) return True ",,155,11
openstack%2Fpuppet-tripleo~master~I93e37c2409d198a4070f23af3d9fee958334150c,openstack/puppet-tripleo,master,I93e37c2409d198a4070f23af3d9fee958334150c,Support configuring multiple Dell EMC Unity cinder backends,MERGED,2022-05-31 07:06:57.000000000,2022-06-02 22:50:34.000000000,2022-06-02 22:50:34.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 07:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61ae1af65dee0422b614840bd862a0438fec045f', 'message': 'Support configuring multiple Dell EMC Unity cinder backends\n\nAdd support for configuring multiple Dell EMC Unity cinder backends.\n\nChange-Id: I93e37c2409d198a4070f23af3d9fee958334150c\n'}, {'number': 2, 'created': '2022-05-31 11:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6911ac9e5b789648f3ada1260ac7eda799606e6b', 'message': 'Support configuring multiple Dell EMC Unity cinder backends\n\nAdd support for configuring multiple Dell EMC Unity cinder backends.\n\nChange-Id: I93e37c2409d198a4070f23af3d9fee958334150c\n'}, {'number': 3, 'created': '2022-05-31 14:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe6b5143c73214120b6f0661ddf1aa5146dec868', 'message': 'Support configuring multiple Dell EMC Unity cinder backends\n\nAdd support for configuring multiple Dell EMC Unity cinder backends.\n\nChange-Id: I93e37c2409d198a4070f23af3d9fee958334150c\n'}, {'number': 4, 'created': '2022-06-01 06:47:50.000000000', 'files': ['spec/fixtures/hieradata/step5.yaml', 'spec/classes/tripleo_profile_base_cinder_unity_spec.rb', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_unity.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/18ef55f83b39c4aeec0c9e228c26bca778155709', 'message': 'Support configuring multiple Dell EMC Unity cinder backends\n\nAdd support for configuring multiple Dell EMC Unity cinder backends.\n\nChange-Id: I93e37c2409d198a4070f23af3d9fee958334150c\n'}]",9,843999,18ef55f83b39c4aeec0c9e228c26bca778155709,19,3,4,34598,,,0,"Support configuring multiple Dell EMC Unity cinder backends

Add support for configuring multiple Dell EMC Unity cinder backends.

Change-Id: I93e37c2409d198a4070f23af3d9fee958334150c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/843999/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/fixtures/hieradata/step5.yaml', 'spec/classes/tripleo_profile_base_cinder_unity_spec.rb', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_unity.pp']",4,61ae1af65dee0422b614840bd862a0438fec045f,cinder-dellemc_unity-multiconfig,"# (Optional) List of names given to the Cinder backend stanza. # Defaults to lookup('cinder::backend::dellemc_unity::volume_backend_name', undef, undef, ['tripleo_dellemc_unity']) # # [*multi_config*] # (Optional) A config hash when multiple backends are used. # Defaults to lookup('cinder::backend::dellemc_unity::volume_multi_config', undef, undef, {}) $backend_name = lookup('cinder::backend::dellemc_unity::volume_backend_name', undef, undef, ['tripleo_dellemc_unity']), $multi_config = lookup('cinder::backend::dellemc_unity::volume_multi_config', undef, undef, {}), $backend_defaults = { 'CinderDellEMCUnityAvailabilityZone' => lookup('cinder::backend::dellemc_unity::backend_availability_zone', undef, undef, undef), 'CinderDellEMCUnitySanIp' => lookup('cinder::backend::dellemc_unity::san_ip', undef, undef, undef), 'CinderDellEMCUnitySanLogin' => lookup('cinder::backend::dellemc_unity::san_login', undef, undef, undef), 'CinderDellEMCUnitySanPassword' => lookup('cinder::backend::dellemc_unity::san_password', undef, undef, undef), 'CinderDellEMCUnityStorageProtocol' => lookup('cinder::backend::dellemc_unity::storage_protocol', undef, undef, undef), 'CinderDellEMCUnityIoPorts' => lookup('cinder::backend::dellemc_unity::unity_io_ports', undef, undef, undef), 'CinderDellEMCUnityStoragePoolNames' => lookup('cinder::backend::dellemc_unity::unity_storage_pool_names', undef, undef, undef), } any2array($backend_name).each |String $backend| { $backend_config = merge($backend_defaults, pick($multi_config[$backend], {})) create_resources('cinder::backend::dellemc_unity', { $backend => delete_undef_values({ 'backend_availability_zone' => $backend_config['CinderDellEMCUnityAvailabilityZone'], 'san_ip' => $backend_config['CinderDellEMCUnitySanIp'], 'san_login' => $backend_config['CinderDellEMCUnitySanLogin'], 'san_password' => $backend_config['CinderDellEMCUnitySanPassword'], 'storage_protocol' => $backend_config['CinderDellEMCUnityStorageProtocol'], 'unity_io_ports' => $backend_config['CinderDellEMCUnityIoPorts'], 'unity_storage_pool_names' => $backend_config['CinderDellEMCUnityStoragePoolNames'], })}) }","# (Optional) Name given to the Cinder backend stanza # Defaults to lookup('cinder::backend::dellemc_unity::volume_backend_name', undef, undef, 'tripleo_dellemc_unity') $backend_name = lookup('cinder::backend::dellemc_unity::volume_backend_name', undef, undef, 'tripleo_dellemc_unity'), create_resources('cinder::backend::dellemc_unity', { $backend_name => delete_undef_values({ 'backend_availability_zone' => lookup('cinder::backend::dellemc_unity::backend_availability_zone', undef, undef, undef), 'san_ip' => lookup('cinder::backend::dellemc_unity::san_ip', undef, undef, undef), 'san_login' => lookup('cinder::backend::dellemc_unity::san_login', undef, undef, undef), 'san_password' => lookup('cinder::backend::dellemc_unity::san_password', undef, undef, undef), 'storage_protocol' => lookup('cinder::backend::dellemc_unity::storage_protocol', undef, undef, undef), 'unity_io_ports' => lookup('cinder::backend::dellemc_unity::unity_io_ports', undef, undef, undef), 'unity_storage_pool_names' => lookup('cinder::backend::dellemc_unity::unity_storage_pool_names', undef, undef, undef), })})",78,13
openstack%2Fdesignate~stable%2Fwallaby~I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3,openstack/designate,stable/wallaby,I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3,Remove LOG.exceptions from __call__,ABANDONED,2022-06-02 20:22:52.000000000,2022-06-02 22:22:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-02 20:22:52.000000000', 'files': ['designate/api/middleware.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2e5f14dd6e704ec7393e15b34d1e61815a0f10d2', 'message': ""Remove LOG.exceptions from __call__\n\nRemoving the extra LOG.exceptions from call,\nas this is already handled under _handle_exception.\n\n> if not getattr(e, 'expected', False):\n>     LOG.exception(e)\n\nChange-Id: I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3\n(cherry picked from commit b9a4e36c0cf09bee7ba64c0b775f293915daefca)\n""}]",1,844476,2e5f14dd6e704ec7393e15b34d1e61815a0f10d2,4,1,1,11628,,,0,"Remove LOG.exceptions from __call__

Removing the extra LOG.exceptions from call,
as this is already handled under _handle_exception.

> if not getattr(e, 'expected', False):
>     LOG.exception(e)

Change-Id: I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3
(cherry picked from commit b9a4e36c0cf09bee7ba64c0b775f293915daefca)
",git fetch https://review.opendev.org/openstack/designate refs/changes/76/844476/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/api/middleware.py'],1,2e5f14dd6e704ec7393e15b34d1e61815a0f10d2,logging-stable/xena-stable/wallaby,,,0,1
openstack%2Fdesignate~stable%2Fxena~I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3,openstack/designate,stable/xena,I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3,Remove LOG.exceptions from __call__,ABANDONED,2022-06-02 20:22:42.000000000,2022-06-02 22:21:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-02 20:22:42.000000000', 'files': ['designate/api/middleware.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1b6875e85343881a2f99e5ffe897378187552650', 'message': ""Remove LOG.exceptions from __call__\n\nRemoving the extra LOG.exceptions from call,\nas this is already handled under _handle_exception.\n\n> if not getattr(e, 'expected', False):\n>     LOG.exception(e)\n\nChange-Id: I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3\n(cherry picked from commit b9a4e36c0cf09bee7ba64c0b775f293915daefca)\n""}]",1,844475,1b6875e85343881a2f99e5ffe897378187552650,4,1,1,11628,,,0,"Remove LOG.exceptions from __call__

Removing the extra LOG.exceptions from call,
as this is already handled under _handle_exception.

> if not getattr(e, 'expected', False):
>     LOG.exception(e)

Change-Id: I2ff56bb8e079fa032ca3b211b9d46b3a0906c0c3
(cherry picked from commit b9a4e36c0cf09bee7ba64c0b775f293915daefca)
",git fetch https://review.opendev.org/openstack/designate refs/changes/75/844475/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/api/middleware.py'],1,1b6875e85343881a2f99e5ffe897378187552650,logging-stable/xena,,,0,1
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~Ia7601cb12d48054f13d6b42e72390f37797ddc46,openstack/charm-nova-cloud-controller,stable/ussuri,Ia7601cb12d48054f13d6b42e72390f37797ddc46,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:05:28.000000000,2022-06-02 22:05:53.000000000,2022-06-02 22:05:53.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1acc93a7939af5e86c7edd41077a1c9b82e3b685', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ia7601cb12d48054f13d6b42e72390f37797ddc46\n'}, {'number': 2, 'created': '2022-05-31 11:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4960d26320b85b0d86147cb109cf158da94674cc', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ia7601cb12d48054f13d6b42e72390f37797ddc46\n'}, {'number': 3, 'created': '2022-05-31 14:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/fb6374ce34e5340c7e4ae64a4ca75a2349cd7bba', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ia7601cb12d48054f13d6b42e72390f37797ddc46\n'}, {'number': 4, 'created': '2022-05-31 15:17:18.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e3655ca69159d0b6a6b4e07561808dcd811ef686', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Ia7601cb12d48054f13d6b42e72390f37797ddc46\n'}]",1,842787,e3655ca69159d0b6a6b4e07561808dcd811ef686,16,3,4,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Ia7601cb12d48054f13d6b42e72390f37797ddc46
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/87/842787/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",28,1acc93a7939af5e86c7edd41077a1c9b82e3b685,charmhub-migration,,"variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': # machines 10 and 11 are for nova-compute which needs more memory for the # instances. '10': constraints: mem=4096M cores=4 '11': constraints: mem=4096M cores=4 '12': applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router vault-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin # Reduce chances of spurious ""super-read-only"" failures, see lp:1882205 expel-timeout: 20 to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 to: - '3' nova-cloud-controller: charm: ../../../nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin api-rate-limit-rules: ""( POST, '*', .*, 9999, MINUTE );"" network-manager: Neutron vendor-data: '{""some"": ""json data""}' vendor-data-url: http://some.url/vdata debug: true to: - '4' neutron-api: charm: cs:~openstack-charmers/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '5' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-gateway: charm: cs:~openstack-charmers/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '7' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' neutron-openvswitch: charm: cs:~openstack-charmers/neutron-openvswitch placement: charm: cs:~openstack-charmers/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '9' nova-compute: charm: cs:~openstack-charmers/nova-compute num_units: 2 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true to: - '10' - '11' vault: charm: cs:~openstack-charmers/vault num_units: 1 to: - '12' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'vault:certificates' - 'placement:certificates' ",187,2248
openstack%2Fcharm-nova-compute~stable%2Fussuri~I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9,openstack/charm-nova-compute,stable/ussuri,I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:05:37.000000000,2022-06-02 22:03:16.000000000,2022-06-02 22:03:16.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/05222013187954c0d03bd79e5a83cff27096bbbb', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9\n'}, {'number': 2, 'created': '2022-05-31 11:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0bd2c665537ed527a144c89071c67ad8495d3782', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9\n'}, {'number': 3, 'created': '2022-05-31 14:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/96e11eec3b69ebc77970b9a04ca427d7dafdc48d', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9\n'}, {'number': 4, 'created': '2022-05-31 15:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7daf3190c708046f30c6b7aa8c784550ab3887b8', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9\n'}, {'number': 5, 'created': '2022-05-31 15:16:22.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/edf5ff9b0e19d2c8a59752f0bb21c3d636f4273c', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9\n'}]",4,842788,edf5ff9b0e19d2c8a59752f0bb21c3d636f4273c,23,4,5,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I2543a4f4a02b3e0dab70f1674c540b1e60e27bc9
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/88/842788/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,05222013187954c0d03bd79e5a83cff27096bbbb,charmhub-migration,,variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': constraints: mem=4096M '5': '6': '7': '8': '9': '10': constraints: mem=4096M cores=4 '11': '12': '13': '14': '15': '16': '17': '18': '19': applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '11' - '12' - '13' - '14' - '15' - '16' ceph-mon: charm: cs:~openstack-charmers/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '17' - '18' - '19' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' nova-cloud-controller: charm: cs:~openstack-charmers/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true to: - '4' neutron-api: charm: cs:~openstack-charmers/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '5' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-gateway: charm: cs:~openstack-charmers/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '7' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' neutron-openvswitch: charm: cs:~openstack-charmers/neutron-openvswitch placement: charm: cs:~openstack-charmers/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '9' nova-compute: charm: ../../../nova-compute num_units: 1 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 libvirt-image-backend: rbd to: - '10' relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'nova-compute:ceph' - 'ceph-mon:client' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' ,174,2354
openstack%2Fcharm-octavia~stable%2Fxena~I79f4c25076b04336483bdd44f23517c20b8a7290,openstack/charm-octavia,stable/xena,I79f4c25076b04336483bdd44f23517c20b8a7290,Migration charm to charmhub for the xena track,MERGED,2022-05-16 15:14:55.000000000,2022-06-02 21:58:56.000000000,2022-06-02 21:58:56.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 15:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0643d31d6331d82f17e1879b2685dc6741b73ce2', 'message': 'Migration charm to charmhub for the xena track\n\nChange-Id: I79f4c25076b04336483bdd44f23517c20b8a7290\n'}, {'number': 2, 'created': '2022-05-16 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/1a175517047ed3f216c98213d6ab2d2d15a71f33', 'message': 'Migration charm to charmhub for the xena track\n\nChange-Id: I79f4c25076b04336483bdd44f23517c20b8a7290\n'}, {'number': 3, 'created': '2022-05-19 20:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/743c24aef620ba8ebd150c40ead56285347d0fe4', 'message': 'Migration charm to charmhub for the xena track\n\nChange-Id: I79f4c25076b04336483bdd44f23517c20b8a7290\n'}, {'number': 4, 'created': '2022-05-19 21:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b0490a9d795f9db661327426f555af60efd6d1f4', 'message': 'Migration charm to charmhub for the xena track\n\nChange-Id: I79f4c25076b04336483bdd44f23517c20b8a7290\n'}, {'number': 5, 'created': '2022-05-20 21:20:28.000000000', 'files': ['src/tests/bundles/bionic-rocky-ha.yaml', 'osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/impish-xena-ha.yaml', 'requirements.txt', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-xena-ha-ovn.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/build.lock', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/focal-xena-ha.yaml', 'build-requirements.txt', 'src/tests/bundles/impish-xena-ha-ovn.yaml', '.zuul.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'rename.sh', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml', 'metadata.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml', 'tox.ini', 'src/tests/bundles/focal-victoria-no-amphora.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/18aefade3bc4a2a09644f2ccc5631f3b429f48db', 'message': 'Migration charm to charmhub for the xena track\n\nChange-Id: I79f4c25076b04336483bdd44f23517c20b8a7290\n'}]",3,841912,18aefade3bc4a2a09644f2ccc5631f3b429f48db,25,3,5,20870,,,0,"Migration charm to charmhub for the xena track

Change-Id: I79f4c25076b04336483bdd44f23517c20b8a7290
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/12/841912/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-rocky-ha.yaml', 'osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/impish-xena-ha.yaml', 'requirements.txt', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-xena-ha-ovn.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/build.lock', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/focal-xena-ha.yaml', 'build-requirements.txt', 'src/tests/bundles/impish-xena-ha-ovn.yaml', '.zuul.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'rename.sh', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml', 'metadata.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml', 'tox.ini', 'src/tests/bundles/focal-victoria-no-amphora.yaml']",38,0643d31d6331d82f17e1879b2685dc6741b73ce2,charmhub-migration,,"local_overlay_enabled: False variables: openstack-origin: &openstack-origin cloud:focal-victoria series: &series focal relations: - - glance:image-service - nova-cloud-controller:image-service - - glance:image-service - nova-compute:image-service - - glance-mysql-router:shared-db - glance:shared-db - - keystone-mysql-router:shared-db - keystone:shared-db - - neutron-mysql-router:shared-db - neutron-api:shared-db - - nova-mysql-router:shared-db - nova-cloud-controller:shared-db - - octavia-mysql-router:shared-db - octavia:shared-db - - keystone:identity-service - glance:identity-service - - keystone:identity-service - nova-cloud-controller:identity-service - - keystone:identity-service - neutron-api:identity-service - - keystone:identity-service - octavia:identity-service - - nova-compute:cloud-compute - nova-cloud-controller:cloud-compute - - rabbitmq-server:amqp - neutron-api:amqp - - rabbitmq-server:amqp - glance:amqp - - rabbitmq-server:amqp - nova-cloud-controller:amqp - - rabbitmq-server:amqp - nova-compute:amqp - - rabbitmq-server:amqp - octavia:amqp - - neutron-api:neutron-api - nova-cloud-controller:neutron-api - - neutron-api:neutron-load-balancer - octavia:neutron-api - [ placement, placement-mysql-router ] - [ placement, keystone ] - [ placement, nova-cloud-controller ] - - neutron-api-plugin-ovn:neutron-plugin - neutron-api:neutron-plugin-api-subordinate - - vault:shared-db - vault-mysql-router:shared-db - - ovn-central:certificates - vault:certificates - - ovn-central:ovsdb-cms - neutron-api-plugin-ovn:ovsdb-cms - - neutron-api:certificates - vault:certificates - - ovn-chassis:nova-compute - nova-compute:neutron-plugin - - ovn-chassis-octavia:ovsdb-subordinate - octavia:ovsdb-subordinate - - ovn-chassis-octavia:certificates - vault:certificates - - ovn-chassis-octavia:ovsdb - ovn-central:ovsdb - - ovn-central:ovsdb-cms - octavia:ovsdb-cms - - ovn-chassis:certificates - vault:certificates - - ovn-chassis:ovsdb - ovn-central:ovsdb - - vault:certificates - neutron-api-plugin-ovn:certificates - - vault:certificates - glance:certificates - - vault:certificates - keystone:certificates - - vault:certificates - nova-cloud-controller:certificates - - vault:certificates - placement:certificates - - vault:certificates - octavia:certificates - [""octavia-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""nova-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""glance-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""placement-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""vault-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] applications: glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin octavia-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router nova-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router vault-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: constraints: mem=3072M charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 neutron-api: constraints: cores=4 charm: cs:~openstack-charmers/neutron-api num_units: 1 options: openstack-origin: *openstack-origin debug: True flat-network-providers: physnet1 enable-ml2-port-security: True neutron-security-groups: True nova-cloud-controller: constraints: mem=7168M charm: cs:~openstack-charmers/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin debug: True network-manager: Neutron nova-compute: constraints: mem=7168M charm: cs:~openstack-charmers/nova-compute num_units: 2 options: openstack-origin: *openstack-origin debug: True ovn-chassis-octavia: charm: cs:~openstack-charmers/ovn-chassis octavia: constraints: cores=8 series: *series charm: ../../../octavia num_units: 1 options: openstack-origin: *openstack-origin debug: True enable-amphora: False rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 placement: charm: cs:~openstack-charmers/placement num_units: 1 constraints: mem=1G options: openstack-origin: *openstack-origin debug: true neutron-api-plugin-ovn: charm: cs:~openstack-charmers/neutron-api-plugin-ovn ovn-central: constraints: mem=3072M charm: cs:~openstack-charmers/ovn-central num_units: 3 options: source: *openstack-origin ovn-chassis: charm: cs:~openstack-charmers/ovn-chassis vault: charm: cs:~openstack-charmers/vault num_units: 1 ",1102,4477
openstack%2Fplacement~stable%2Fussuri~If7e6060c867df21360a1f588ca872d65d75eb3c1,openstack/placement,stable/ussuri,If7e6060c867df21360a1f588ca872d65d75eb3c1,Use 'functional-without-sample-db-tests' tox env for placement nova job,MERGED,2022-05-05 22:10:58.000000000,2022-06-02 21:12:31.000000000,2022-06-02 21:10:21.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 22:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/445a7b544b5fce45a2e79046df1fdc2548e6db9e', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840771\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)\n(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)\n""}, {'number': 2, 'created': '2022-05-10 05:34:56.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/4fd1d0cde3d2f5c4286d5b6a124c5c26c312da90', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840771\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\nAnother change in .zuul.yaml is due to requirements-check job runs now\nagainst ubuntu-focal, that breaks tools/test_setup.sh script (fix\nexists in victoria: I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d). This\npatch pins the job locally for ubuntu-bionic nodeset.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)\n(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)\n""}]",5,840773,4fd1d0cde3d2f5c4286d5b6a124c5c26c312da90,18,2,2,4690,,,0,"Use 'functional-without-sample-db-tests' tox env for placement nova job

NOTE(melwitt): This is a combination of 2 commits needed to fix the
gate, a chicken and egg problem where each fix depends on the other.

Nova defines (depends-on) a new tox env 'functional-without-sample-db-tests'
to run the nova functional test by exlcuding the api|notification
sample_tests, and db-related tests.

We can use that to fix the error  are facing currently for this job
- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Depends-On: https://review.opendev.org/c/openstack/nova/+/840771

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

Conflicts:
    .zuul.yaml
    lower-constraints.txt

NOTE(melwitt): conflict is due to branch specific settings (job
template names, lower constraints changes).
Another change in .zuul.yaml is due to requirements-check job runs now
against ubuntu-focal, that breaks tools/test_setup.sh script (fix
exists in victoria: I97b0dcbb88c6ef7c22e3c55970211bed792bbd0d). This
patch pins the job locally for ubuntu-bionic nodeset.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5
(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)
(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)
(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)

Change-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1
(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)
(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)
(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)
(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)
",git fetch https://review.opendev.org/openstack/placement refs/changes/73/840773/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,445a7b544b5fce45a2e79046df1fdc2548e6db9e,bug/1780799,," [testenv:lower-constraints] # When using pbr and in a git repo, 'setup.py install' does not install # packages. 'setup.py develop', used when usedevelop is True, does. usedevelop = False # Use our own install_command to turn off upper constraints, which conflicts # with lower constraints. install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt # Test with both functional and unit tests. commands = {[testenv]commands} stestr --test-path=./placement/tests run {posargs}",7,115
openstack%2Fdesignate~stable%2Fwallaby~I43b29c3aa2593d1cbce1fc9c70e270cb8cf4160c,openstack/designate,stable/wallaby,I43b29c3aa2593d1cbce1fc9c70e270cb8cf4160c,Stop running grenade on Wallaby,MERGED,2022-06-02 17:12:48.000000000,2022-06-02 21:11:16.000000000,2022-06-02 21:09:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 17:12:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/12510551d7ed1f652d063a488682fd5423592dd0', 'message': 'Stop running grenade on Wallaby\n\nNow that Victoria is in Extended Maintenance (EM)[1], per the Extended Maintenance definition[2], the community no londer supports upgrades from Victoria.\n\nThis patch disables the grenade job in Wallaby to stop testing the upgrade from Victoria to Wallaby.\n\n[1] https://releases.openstack.org/#release-series\n[2] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I43b29c3aa2593d1cbce1fc9c70e270cb8cf4160c\n'}]",2,844504,12510551d7ed1f652d063a488682fd5423592dd0,12,3,1,11628,,,0,"Stop running grenade on Wallaby

Now that Victoria is in Extended Maintenance (EM)[1], per the Extended Maintenance definition[2], the community no londer supports upgrades from Victoria.

This patch disables the grenade job in Wallaby to stop testing the upgrade from Victoria to Wallaby.

[1] https://releases.openstack.org/#release-series
[2] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I43b29c3aa2593d1cbce1fc9c70e270cb8cf4160c
",git fetch https://review.opendev.org/openstack/designate refs/changes/04/844504/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,12510551d7ed1f652d063a488682fd5423592dd0,,, - designate-grenade-pdns4 - designate-grenade-pdns4,0,2
openstack%2Fdesignate~stable%2Fxena~If00b37e72dabd1bc66a78d9a832c3847c12f6692,openstack/designate,stable/xena,If00b37e72dabd1bc66a78d9a832c3847c12f6692,Simplify create zone import implementation,MERGED,2022-06-02 03:27:01.000000000,2022-06-02 20:42:08.000000000,2022-06-02 20:39:56.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:27:01.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e6922d74f9fed36cda39ceb0633a65b106e98cc9', 'message': 'Simplify create zone import implementation\n\nRemoved unnecessarily complex threading code.\n\nChange-Id: If00b37e72dabd1bc66a78d9a832c3847c12f6692\n(cherry picked from commit eed5042c41f8cd557dd3b53b28e17d520178af64)\n'}]",2,844354,e6922d74f9fed36cda39ceb0633a65b106e98cc9,9,3,1,11628,,,0,"Simplify create zone import implementation

Removed unnecessarily complex threading code.

Change-Id: If00b37e72dabd1bc66a78d9a832c3847c12f6692
(cherry picked from commit eed5042c41f8cd557dd3b53b28e17d520178af64)
",git fetch https://review.opendev.org/openstack/designate refs/changes/54/844354/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,e6922d74f9fed36cda39ceb0633a65b106e98cc9,,"from dns import zone as dnszone zone_import) request_body) zone = None try: dnspython_zone = dnszone.from_text( request_body, # Don't relativize, or we end up with '@' record names. relativize=False, # Don't check origin, we allow missing NS records # (missing SOA records are taken care of in _create_zone). check_origin=False) zone = dnsutils.from_dnspython_zone(dnspython_zone) zone.type = 'PRIMARY' for rrset in list(zone.recordsets): if rrset.type == 'SOA': zone.recordsets.remove(rrset) # subdomain NS records should be kept elif rrset.type == 'NS' and rrset.name == zone.name: zone.recordsets.remove(rrset) except dnszone.UnknownOrigin: zone_import.message = ( 'The $ORIGIN statement is required and must be the first ' 'statement in the zonefile.' ) zone_import.status = 'ERROR' except dnsexception.SyntaxError: zone_import.message = 'Malformed zonefile.' zone_import.status = 'ERROR' except exceptions.BadRequest: zone_import.message = 'An SOA record is required.' zone_import.status = 'ERROR' except Exception as e: LOG.exception('An undefined error occurred during zone import') zone_import.message = ( 'An undefined error occurred. %s' % str(e)[:130] ) zone_import.status = 'ERROR' zone_import.message = ( '%(name)s imported' % {'name': zone.name} ) LOG.exception( 'An undefined error occurred during zone import creation' ) zone_import.message = ( 'An undefined error occurred. %s' % str(e)[:130] ) limit=None, sort_key=None, sort_dir=None):","from eventlet import tpool from dns import zone as dnszone zone_import) request_body) def _import(self, context, zone_import, request_body): # Dnspython needs a str instead of a unicode object zone = None try: dnspython_zone = dnszone.from_text( request_body, # Don't relativize, or we end up with '@' record names. relativize=False, # Don't check origin, we allow missing NS records # (missing SOA records are taken care of in _create_zone). check_origin=False) zone = dnsutils.from_dnspython_zone(dnspython_zone) zone.type = 'PRIMARY' for rrset in list(zone.recordsets): if rrset.type == 'SOA': zone.recordsets.remove(rrset) # subdomain NS records should be kept elif rrset.type == 'NS' and rrset.name == zone.name: zone.recordsets.remove(rrset) except dnszone.UnknownOrigin: zone_import.message = ('The $ORIGIN statement is required and' ' must be the first statement in the' ' zonefile.') zone_import.status = 'ERROR' except dnsexception.SyntaxError: zone_import.message = 'Malformed zonefile.' zone_import.status = 'ERROR' except exceptions.BadRequest: zone_import.message = 'An SOA record is required.' zone_import.status = 'ERROR' except Exception as e: LOG.exception('An undefined error occurred during zone import') msg = 'An undefined error occurred. %s'\ % str(e)[:130] zone_import.message = msg zone_import.status = 'ERROR' return zone, zone_import # Execute the import in a real Python thread zone, zone_import = tpool.execute(_import, self, context, zone_import, request_body) zone_import.message = '%(name)s imported' % {'name': zone.name} LOG.exception('An undefined error occurred during zone ' 'import creation') msg = 'An undefined error occurred. %s'\ % str(e)[:130] zone_import.message = msg limit=None, sort_key=None, sort_dir=None):",48,58
openstack%2Fdesignate~stable%2Fxena~I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b,openstack/designate,stable/xena,I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b,Fix designate-manage pool update bugs,MERGED,2022-06-02 03:57:02.000000000,2022-06-02 20:41:02.000000000,2022-06-02 20:39:53.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-02 03:57:02.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d04a2e17dedb527188c5a8074376269d6dc66471', 'message': ""Fix designate-manage pool update bugs\n\nThis patch addresses a few problems with the manage\ncommand for pools and NS records.\n\n- Fixed an issue where having multiple NS records\n  would break the pool command.\n\n- Fixed a scenario where manually (non-managed) NS\n  records could break the pool command.\n\n- Fixed a potential edge case that could break the\n  pool command.\n\nThe biggest change is that we now only manage the NS\nrecord for the zone itself. This was always the case,\nbut because we didn't check for this specifically,\nother NS records would conflict with the command.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n(cherry picked from commit bff3d5f6e31fe595a77143ec4ac779c187bf72a8)\n""}]",2,844375,d04a2e17dedb527188c5a8074376269d6dc66471,9,3,1,11628,,,0,"Fix designate-manage pool update bugs

This patch addresses a few problems with the manage
command for pools and NS records.

- Fixed an issue where having multiple NS records
  would break the pool command.

- Fixed a scenario where manually (non-managed) NS
  records could break the pool command.

- Fixed a potential edge case that could break the
  pool command.

The biggest change is that we now only manage the NS
record for the zone itself. This was always the case,
but because we didn't check for this specifically,
other NS records would conflict with the command.

Change-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b
(cherry picked from commit bff3d5f6e31fe595a77143ec4ac779c187bf72a8)
",git fetch https://review.opendev.org/openstack/designate refs/changes/75/844375/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py']",2,d04a2e17dedb527188c5a8074376269d6dc66471,," 'type': 'NS', increment_serial=False ) try: recordset = self.find_recordset( context, criterion={ 'zone_id': zone['id'], 'name': zone['name'], 'type': 'NS' } ) except exceptions.RecordSetNotFound: recordset.records.append( objects.Record(data=ns_record, managed=True) ) self._update_recordset_in_storage(context, zone, recordset, recordset = self.find_recordset( context, criterion={ 'zone_id': zone['id'], 'name': zone['name'], 'type': 'NS' } ) for record in list(recordset.records): if record.data == ns_record: recordset.records.remove(record) self._update_recordset_in_storage(context, zone, recordset, elevated_context = context.elevated(all_tenants=True) # TODO(kiall): ListObjects should be able to give you their # original set of values. original_pool_ns_records = self._get_pool_ns_records( context, pool.id ) if not pool.obj_attr_is_set('ns_records'): return updated_pool # Find the current NS hostnames existing_ns = set([n.hostname for n in original_pool_ns_records]) # Find the desired NS hostnames request_ns = set([n.hostname for n in pool.ns_records]) # Get the NS's to be created and deleted, ignoring the ones that # are in both sets, as those haven't changed. # TODO(kiall): Factor in priority create_ns = request_ns.difference(existing_ns) delete_ns = existing_ns.difference(request_ns) for ns_record in create_ns: for zone in zones: self._add_ns(elevated_context, zone, ns_record) for ns_record in delete_ns: if not pool.ns_records: criterion={'pool_id': pool.id} ) for zone in zones: self._delete_ns(elevated_context, zone, ns_record)"," 'type': ""NS"", increment_serial=False) recordsets = self.find_recordsets( context, criterion={'zone_id': zone['id'], 'type': ""NS""} ) managed = [] for rs in recordsets: if rs.managed: managed.append(rs) if len(managed) == 0: elif len(managed) != 1: raise exceptions.RecordSetNotFound(""No valid recordset found"") ns_recordset = managed[0] ns_recordset.records.append( objects.Record(data=ns_record, managed=True)) self._update_recordset_in_storage(context, zone, ns_recordset, ns_recordset = self.find_recordset( context, criterion={'zone_id': zone['id'], 'type': ""NS""}) for record in copy.deepcopy(ns_recordset.records): if record.data == ns_record: ns_recordset.records.remove(record) self._update_recordset_in_storage(context, zone, ns_recordset, if pool.obj_attr_is_set('ns_records'): elevated_context = context.elevated(all_tenants=True) # TODO(kiall): ListObjects should be able to give you their # original set of values. original_pool_ns_records = self._get_pool_ns_records(context, pool.id) # Find the current NS hostnames existing_ns = set([n.hostname for n in original_pool_ns_records]) # Find the desired NS hostnames request_ns = set([n.hostname for n in pool.ns_records]) # Get the NS's to be created and deleted, ignoring the ones that # are in both sets, as those haven't changed. # TODO(kiall): Factor in priority create_ns = request_ns.difference(existing_ns) delete_ns = existing_ns.difference(request_ns) for ns in create_ns: for z in zones: self._add_ns(elevated_context, z, ns) for ns in delete_ns: if len(pool.ns_records) == 0: criterion={'pool_id': pool.id}) for z in zones: self._delete_ns(elevated_context, z, ns)",66,82
openstack%2Fneutron~stable%2Fvictoria~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,stable/victoria,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-18 09:35:13.000000000,2022-06-02 20:36:38.000000000,2022-06-02 20:35:14.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 09:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55af1e5a4f3ab7b6e41276040dc24c234c8d78e2', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit becc90e8ce0ee815fe85a24239eeea5afdacbddd)\n'}, {'number': 2, 'created': '2022-05-18 16:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f707e2f0ac690a7b8555cdfaf922f17a71182dd', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)\n'}, {'number': 3, 'created': '2022-05-18 16:15:07.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ca6dfad81dd09164f5393457c4a1ebddca98217', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)\n'}]",6,842296,2ca6dfad81dd09164f5393457c4a1ebddca98217,33,3,3,16688,,,0,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)
(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/842296/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,55af1e5a4f3ab7b6e41276040dc24c234c8d78e2,bug/1973276," @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_create_segments_subnet_metadata_ip_allocation(self, *args): @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_metadata_ip_on_subnet_create(self, *args): for device_owner in ('', 'myVIPowner'): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': device_owner, 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options(port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])"," def test_create_segments_subnet_metadata_ip_allocation(self): def test_metadata_ip_on_subnet_create(self): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': '', 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options( port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])",33,30
openstack%2Fkolla-ansible~stable%2Fxena~Ic9737d0446a807891b429f080ae1bf048a3c8e4a,openstack/kolla-ansible,stable/xena,Ic9737d0446a807891b429f080ae1bf048a3c8e4a,designate: allow designate_ns_record to be a list,MERGED,2022-06-02 11:03:50.000000000,2022-06-02 20:35:16.000000000,2022-06-02 20:34:03.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 11:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68cf288357a0465ec85b605c7590f8543086421d', 'message': 'designate: allow designate_ns_record to be a list\n\nIn most real world deployments, there will be multiple backend DNS\nservers, allow to specify all of them for the pool configuration.\n\nCherry pick to stable/xena - designate_ns_record default value kept\nfrom stable/xena - no to change neutron.conf within the same release\n\nChange-Id: Ic9737d0446a807891b429f080ae1bf048a3c8e4a\n(cherry picked from commit f193d1af3e4ab9b6978eb42e761e37222d9ca0b2)\n'}, {'number': 2, 'created': '2022-06-02 11:41:34.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'doc/source/reference/networking/designate-guide.rst', 'ansible/roles/designate/templates/pools.yaml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61b811235e69799efdd0b154198335f2cabfb14f', 'message': 'designate: allow designate_ns_record to be a list\n\nIn most real world deployments, there will be multiple backend DNS\nservers, allow to specify all of them for the pool configuration.\n\nCherry pick to stable/xena - designate_ns_record default value kept\nfrom stable/xena - no to change neutron.conf within the same release\n\nChange-Id: Ic9737d0446a807891b429f080ae1bf048a3c8e4a\n(cherry picked from commit f193d1af3e4ab9b6978eb42e761e37222d9ca0b2)\n'}]",2,844416,61b811235e69799efdd0b154198335f2cabfb14f,16,5,2,23084,,,0,"designate: allow designate_ns_record to be a list

In most real world deployments, there will be multiple backend DNS
servers, allow to specify all of them for the pool configuration.

Cherry pick to stable/xena - designate_ns_record default value kept
from stable/xena - no to change neutron.conf within the same release

Change-Id: Ic9737d0446a807891b429f080ae1bf048a3c8e4a
(cherry picked from commit f193d1af3e4ab9b6978eb42e761e37222d9ca0b2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/844416/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'doc/source/reference/networking/designate-guide.rst', 'ansible/roles/designate/templates/pools.yaml.j2', 'etc/kolla/globals.yml']",4,68cf288357a0465ec85b605c7590f8543086421d,,"#designate_ns_record: # - ""ns1.example.org""","#designate_ns_record: ""sample.openstack.org""",13,2
openstack%2Fopenstack-helm~master~Id44d43fe8d99ae6b3f5405458986ce93d1366282,openstack/openstack-helm,master,Id44d43fe8d99ae6b3f5405458986ce93d1366282,Remove train jobs,MERGED,2022-05-19 15:58:49.000000000,2022-06-02 19:24:09.000000000,2022-06-02 19:21:45.000000000,"[{'_account_id': 1131}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-05-19 15:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b4076a9b0d8b1e60a239037e32f9d3f1eb87f34', 'message': 'Remove train jobs\n\nThis change removes the zuul check and gate jobs that run the\ntrain release of openstack. This is part of the effort to continue\nsupport for the latest versions of openstack.\n\nChange-Id: Id44d43fe8d99ae6b3f5405458986ce93d1366282\n'}, {'number': 2, 'created': '2022-05-25 18:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bc323ab6b1f5efbd2d3ccc94dd8eacd0398978bc', 'message': 'Remove train jobs\n\nThis change removes the zuul check and gate jobs that run the\ntrain release of openstack. This is part of the effort to continue\nsupport for the latest versions of openstack.\n\nChange-Id: Id44d43fe8d99ae6b3f5405458986ce93d1366282\n'}, {'number': 3, 'created': '2022-05-31 20:42:07.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb8ef9c229edbe5ed4e72212301712a32c2b0e09', 'message': 'Remove train jobs\n\nThis change removes the zuul check and gate jobs that run the\ntrain release of openstack. This is part of the effort to continue\nsupport for the latest versions of openstack.\n\nChange-Id: Id44d43fe8d99ae6b3f5405458986ce93d1366282\n'}]",5,842556,cb8ef9c229edbe5ed4e72212301712a32c2b0e09,19,4,3,21420,,,0,"Remove train jobs

This change removes the zuul check and gate jobs that run the
train release of openstack. This is part of the effort to continue
support for the latest versions of openstack.

Change-Id: Id44d43fe8d99ae6b3f5405458986ce93d1366282
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/842556/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,3b4076a9b0d8b1e60a239037e32f9d3f1eb87f34,remove-train, openstack_release: wallaby container_distro_version: focal, name: openstack-helm-cinder-train-ubuntu_bionic parent: openstack-helm-cinder vars: osh_params: openstack_release: train container_distro_name: ubuntu container_distro_version: bionic - job: name: openstack-helm-compute-kit-train-ubuntu_bionic parent: openstack-helm-compute-kit vars: osh_params: openstack_release: train container_distro_name: ubuntu container_distro_version: bionic - job: name: openstack-helm-horizon-train-ubuntu_bionic parent: openstack-helm-chart-deploy files: - ^horizon/.*$ - ^zuul\.d/.*$ - ^tools/deployment/component/horizon/.*$ vars: osh_params: openstack_release: train container_distro_name: ubuntu container_distro_version: bionic gate_scripts_relative_path: ../openstack-helm gate_scripts: - ./tools/deployment/common/install-packages.sh - ./tools/gate/deploy-k8s.sh - ./tools/deployment/common/setup-client.sh - ./tools/deployment/component/common/ingress.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/component/keystone/keystone.sh - ./tools/deployment/component/horizon/horizon.sh - job: openstack_release: train container_distro_version: bionic name: openstack-helm-tungsten-fabric-train parent: openstack-helm-compute-kit timeout: 9600 nodeset: openstack-helm-single-16GB-node roles: - zuul: openstack/openstack-helm-infra required-projects: - openstack/openstack-helm-infra vars: zuul_osh_infra_relative_path: ../openstack-helm-infra/ osh_params: feature_gates: tf openstack_release: train container_distro_name: ubuntu container_distro_version: bionic gate_scripts_relative_path: ../openstack-helm gate_scripts: - ./tools/deployment/common/install-packages.sh - ./tools/deployment/common/deploy-k8s.sh - ./tools/deployment/common/setup-client.sh - ./tools/deployment/component/common/ingress.sh - - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - - ./tools/deployment/component/compute-kit/tungsten-fabric.sh checkdns - ./tools/deployment/component/compute-kit/tungsten-fabric.sh setupdns - ./tools/deployment/component/keystone/keystone.sh - - ./tools/deployment/component/heat/heat.sh - ./tools/deployment/component/glance/glance.sh - ./tools/deployment/component/compute-kit/tungsten-fabric.sh prepare - ./tools/deployment/component/compute-kit/libvirt.sh - ./tools/deployment/component/compute-kit/compute-kit.sh - ./tools/deployment/component/compute-kit/tungsten-fabric.sh deploy - job:,4,84
openstack%2Ftempest~master~I290fd71dbe295087c0f3016efb541f2965f764d0,openstack/tempest,master,I290fd71dbe295087c0f3016efb541f2965f764d0,Add release notes page for version 31.0.0,MERGED,2022-06-02 17:15:53.000000000,2022-06-02 19:21:12.000000000,2022-06-02 19:18:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-02 17:15:53.000000000', 'files': ['releasenotes/source/v31.0.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e5595f8baa4fd12617b4b5dd5f9dab98b6f1a20', 'message': 'Add release notes page for version 31.0.0\n\nTempest 31.0.0 has been released [1].\nThis commit adds a new page for 31.0.0 release notes.\n\n[1] https://review.opendev.org/c/openstack/releases/+/843039\n\nChange-Id: I290fd71dbe295087c0f3016efb541f2965f764d0\n'}]",1,844505,9e5595f8baa4fd12617b4b5dd5f9dab98b6f1a20,7,2,1,8556,,,0,"Add release notes page for version 31.0.0

Tempest 31.0.0 has been released [1].
This commit adds a new page for 31.0.0 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/843039

Change-Id: I290fd71dbe295087c0f3016efb541f2965f764d0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/844505/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v31.0.0.rst', 'releasenotes/source/index.rst']",2,9e5595f8baa4fd12617b4b5dd5f9dab98b6f1a20,, v31.0.0,,6,0
openstack%2Fopenstacksdk~master~Ie8af2690f309df01022843a6fa934f0c548f32c3,openstack/openstacksdk,master,Ie8af2690f309df01022843a6fa934f0c548f32c3,Make nodepool jobs non voting,MERGED,2022-06-02 13:26:56.000000000,2022-06-02 19:20:51.000000000,2022-06-02 19:18:44.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-02 13:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/95b607227d3de9225b10fbe9b52c5ae456a01eb7', 'message': 'Make nodepool jobs non voting\n\nWe ended up in dead loop with Zuul needed to pin older SDK version due\nto some found issues, nodepool not able to cope with pin on its own and\nsdk not able to merge any fixes for that. Make nodepool jobs non voting\nfor now unless we get out of problems.\n\nChange-Id: Ie8af2690f309df01022843a6fa934f0c548f32c3\n'}, {'number': 2, 'created': '2022-06-02 15:21:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9eaab818a20699e24c8ffe852079ce084392687f', 'message': 'Make nodepool jobs non voting\n\nWe ended up in dead loop with Zuul needed to pin older SDK version due\nto some found issues, nodepool not able to cope with pin on its own and\nsdk not able to merge any fixes for that. Make nodepool jobs non voting\nfor now unless we get out of problems.\n\nSquash increasing of swap for devstack \nhttps://review.opendev.org/c/openstack/openstacksdk/+/844010 to get things\nrolling\n\nChange-Id: Ie8af2690f309df01022843a6fa934f0c548f32c3\n'}]",1,844454,9eaab818a20699e24c8ffe852079ce084392687f,9,2,2,27900,,,0,"Make nodepool jobs non voting

We ended up in dead loop with Zuul needed to pin older SDK version due
to some found issues, nodepool not able to cope with pin on its own and
sdk not able to merge any fixes for that. Make nodepool jobs non voting
for now unless we get out of problems.

Squash increasing of swap for devstack 
https://review.opendev.org/c/openstack/openstacksdk/+/844010 to get things
rolling

Change-Id: Ie8af2690f309df01022843a6fa934f0c548f32c3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/844454/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95b607227d3de9225b10fbe9b52c5ae456a01eb7,, - nodepool-build-image-siblings: voting: false - dib-nodepool-functional-openstack-centos-8-stream-src: voting: false - nodepool-build-image-siblings: voting: false - dib-nodepool-functional-openstack-centos-8-stream-src: voting: false, - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-8-stream-src - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-8-stream-src,8,4
openstack%2Fdevstack~stable%2Fyoga~I94818a19f19973779cb2e11753d2881d54dfa3bc,openstack/devstack,stable/yoga,I94818a19f19973779cb2e11753d2881d54dfa3bc,Allow to skip stop of ovn services,MERGED,2022-04-26 12:29:23.000000000,2022-06-02 19:20:28.000000000,2022-06-02 19:18:41.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-26 12:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c758b2be3a840226a8cda4b0afacaf70c5c7e95', 'message': ""Seperate out ovn data plane and db services stop\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn't stop these services along with other\novn control plane services when calling stop_ovn function.\nThis will also fix the ovn grenade jobs.\n\nStopping of these services have been moved to different\nfunction and that is called during unstack to stop\nthese services.\n\nChange-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc\n""}, {'number': 2, 'created': '2022-04-26 13:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c36e39d06857cbc38994a1c97acda641f1e2a861', 'message': ""Seperate out ovn data plane and db services stop\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn't stop these services along with other\novn control plane services when calling stop_ovn function.\nThis will also fix the ovn grenade jobs.\n\nStopping of these services have been moved to different\nfunction and that is called during unstack to stop\nthese services.\n\nAlso source fixup_stuff.sh so function fixup_ovn_centos\nis available. It's already sourced in stack.sh but\nthat's not used in grenade run.\n\nChange-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc\n""}, {'number': 3, 'created': '2022-05-31 07:31:08.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f545e2567166ed9790601ccb589307df688d40d', 'message': 'Allow to skip stop of ovn services\n\nGrenade jobs stop services, check fip connectivity\nfor a nova server and then upgrade to next release.\n\nBut since ovn data plane and db services are stopped along\nwith other services, fip connectivity fails as a result.\n\nWe shouldn\'t stop these services along with other\nneutron services. This patch adds a new variable\n""SKIP_STOP_OVN"" which can be used by grenade jobs\nto skip stop of ovn services.\n\nThis will also fix the ovn grenade jobs.\n\nAlso source fixup_stuff.sh so function fixup_ovn_centos\nis available. It\'s already sourced in stack.sh but\nthat\'s not used in grenade run.\n\nChange-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc\n'}]",2,839334,6f545e2567166ed9790601ccb589307df688d40d,15,7,3,13861,,,0,"Allow to skip stop of ovn services

Grenade jobs stop services, check fip connectivity
for a nova server and then upgrade to next release.

But since ovn data plane and db services are stopped along
with other services, fip connectivity fails as a result.

We shouldn't stop these services along with other
neutron services. This patch adds a new variable
""SKIP_STOP_OVN"" which can be used by grenade jobs
to skip stop of ovn services.

This will also fix the ovn grenade jobs.

Also source fixup_stuff.sh so function fixup_ovn_centos
is available. It's already sourced in stack.sh but
that's not used in grenade run.

Change-Id: I94818a19f19973779cb2e11753d2881d54dfa3bc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/839334/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', 'unstack.sh']",2,5c758b2be3a840226a8cda4b0afacaf70c5c7e95,ovn-grenade-fixes," if [[ $Q_AGENT == ""ovn"" ]]; then stop_ovn_dp fi ",,6,0
openstack%2Fironic~master~I52ae9180344baf408e6e8a932e9d59dc45ece9de,openstack/ironic,master,I52ae9180344baf408e6e8a932e9d59dc45ece9de,Remove unicode literal from code,MERGED,2022-06-02 06:13:28.000000000,2022-06-02 19:03:21.000000000,2022-06-02 19:01:52.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-02 06:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8e80915382854c20ace9587a3aae10a300390dc', 'message': 'Remove unicode literal from code\n\nChange-Id: I52ae9180344baf408e6e8a932e9d59dc45ece9de\n'}, {'number': 2, 'created': '2022-06-02 06:14:07.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0406fa753136071019810cb7bc1c087853ec8327', 'message': ""Remove unicode literal from code\n\nAll strings are considered as unicode literal string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I52ae9180344baf408e6e8a932e9d59dc45ece9de\n""}]",0,844390,0406fa753136071019810cb7bc1c087853ec8327,9,3,2,33881,,,0,"Remove unicode literal from code

All strings are considered as unicode literal string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I52ae9180344baf408e6e8a932e9d59dc45ece9de
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/844390/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,a8e80915382854c20ace9587a3aae10a300390dc,,"project = 'Ironic Release Notes' copyright = '2015, Ironic Developers' ('index', 'IronicReleaseNotes.tex', 'Ironic Release Notes Documentation', 'Ironic Developers', 'manual'), ('index', 'ironicreleasenotes', 'Ironic Release Notes Documentation', ['Ironic Developers'], 1) ('index', 'IronicReleaseNotes', 'Ironic Release Notes Documentation', 'Ironic Developers', 'IronicReleaseNotes',","project = u'Ironic Release Notes' copyright = u'2015, Ironic Developers' ('index', 'IronicReleaseNotes.tex', u'Ironic Release Notes Documentation', u'Ironic Developers', 'manual'), ('index', 'ironicreleasenotes', u'Ironic Release Notes Documentation', [u'Ironic Developers'], 1) ('index', 'IronicReleaseNotes', u'Ironic Release Notes Documentation', u'Ironic Developers', 'IronicReleaseNotes',",16,16
openstack%2Fironic-lib~master~I7b79d0bc10c4c5c48e167e7042d383921feb1486,openstack/ironic-lib,master,I7b79d0bc10c4c5c48e167e7042d383921feb1486,Use TOX_CONSTRAINTS_FILE,MERGED,2022-05-19 07:23:03.000000000,2022-06-02 18:50:32.000000000,2022-06-02 18:49:06.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 07:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/addaf4f3480441f3403ccf631203eea9d323a25f', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nChange-Id: I7b79d0bc10c4c5c48e167e7042d383921feb1486\n'}, {'number': 2, 'created': '2022-05-19 07:24:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/5662b92fda78e123dd3adfcc2c818ff251af6ec1', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I7b79d0bc10c4c5c48e167e7042d383921feb1486\n'}]",0,842465,5662b92fda78e123dd3adfcc2c818ff251af6ec1,9,3,2,33881,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I7b79d0bc10c4c5c48e167e7042d383921feb1486
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/65/842465/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,addaf4f3480441f3403ccf631203eea9d323a25f,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fnova~stable%2Fussuri~Ib769f20e4937e1bfee35a9ef44ff47d7d51c7dea,openstack/nova,stable/ussuri,Ib769f20e4937e1bfee35a9ef44ff47d7d51c7dea,[stable-only] Make sdk broken job non voting until it is fixed,MERGED,2022-06-01 14:58:19.000000000,2022-06-02 18:46:13.000000000,2022-06-02 18:43:31.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 14:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82b7fa74752cf2d6747346573710c98d4a5932e8', 'message': 'Make sdk broken job non voting until it is fixed\n\nopenstacksdk-functional-devstack is broken on stable/ussuri\nas it use master sdk and master constraints which are nto compatible\nwith stable/ussuri one.\n\nWe are discussing about how to solve it in ML and storyboard\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028763.html\n- https://storyboard.openstack.org/#!/story/2010057\n\nChange-Id: Ib769f20e4937e1bfee35a9ef44ff47d7d51c7dea\n'}, {'number': 2, 'created': '2022-06-01 16:35:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/46d470fcd20fc685b837e1887677c87140e99d6b', 'message': '[stable-only] Make sdk broken job non voting until it is fixed\n\nopenstacksdk-functional-devstack is broken on stable/ussuri\nas it use master sdk and master constraints which are nto compatible\nwith stable/ussuri one.\n\nWe are discussing about how to solve it in ML and storyboard\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028763.html\n- https://storyboard.openstack.org/#!/story/2010057\n\nChange-Id: Ib769f20e4937e1bfee35a9ef44ff47d7d51c7dea\n'}]",9,844309,46d470fcd20fc685b837e1887677c87140e99d6b,20,3,2,8556,,,0,"[stable-only] Make sdk broken job non voting until it is fixed

openstacksdk-functional-devstack is broken on stable/ussuri
as it use master sdk and master constraints which are nto compatible
with stable/ussuri one.

We are discussing about how to solve it in ML and storyboard

- http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028763.html
- https://storyboard.openstack.org/#!/story/2010057

Change-Id: Ib769f20e4937e1bfee35a9ef44ff47d7d51c7dea
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/844309/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,82b7fa74752cf2d6747346573710c98d4a5932e8,, # Making it non voting until we fix # https://storyboard.openstack.org/#!/story/2010057 voting: false #- openstacksdk-functional-devstack: # irrelevant-files: *dsvm-irrelevant-files, - openstacksdk-functional-devstack: irrelevant-files: *dsvm-irrelevant-files,5,2
openstack%2Fneutron~stable%2Fyoga~Ied5ef53882d4249e0ceaa731239befdc3ba67d03,openstack/neutron,stable/yoga,Ied5ef53882d4249e0ceaa731239befdc3ba67d03,[Trunk] Check if parent port belongs to OVN to activate,MERGED,2022-05-31 09:19:00.000000000,2022-06-02 18:46:02.000000000,2022-06-02 18:43:26.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:19:00.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9326c7732592987299fb34f62f936d4326bb4a3', 'message': '[Trunk] Check if parent port belongs to OVN to activate\n\nIn Trunk service, the OVN was setting always the trunk to ""ACTIVE""\nanytime the trunk was created or updated. This patch changes this\nbehaviour: only when the trunk parent port belongs to OVN (that\nmeans, there is a related logical switch port to this Neutron port),\nthe methods will set the trunk to ""ACTIVE"".\n\nCloses-Bug: #1974183\nChange-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03\n(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)\n'}]",1,844016,d9326c7732592987299fb34f62f936d4326bb4a3,16,3,1,16688,,,0,"[Trunk] Check if parent port belongs to OVN to activate

In Trunk service, the OVN was setting always the trunk to ""ACTIVE""
anytime the trunk was created or updated. This patch changes this
behaviour: only when the trunk parent port belongs to OVN (that
means, there is a related logical switch port to this Neutron port),
the methods will set the trunk to ""ACTIVE"".

Closes-Bug: #1974183
Change-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03
(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/844016/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,d9326c7732592987299fb34f62f936d4326bb4a3,bug/1974183," # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return",,12,0
openstack%2Fglance~stable%2Fxena~I5149df76943c1c19f3204b904c0e2d3ef846bdf7,openstack/glance,stable/xena,I5149df76943c1c19f3204b904c0e2d3ef846bdf7,Fix set_property_atomic() boolean type casting,MERGED,2022-05-17 18:04:10.000000000,2022-06-02 18:44:56.000000000,2022-06-02 18:43:23.000000000,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:04:10.000000000', 'files': ['glance/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/316ce9659acdec0bc45f8a33825ae3b076199b24', 'message': 'Fix set_property_atomic() boolean type casting\n\nIn set_property_atomic() we pass an integer query filter for the\ndeleted field, since most projects use an integer for this column.\nHowever, in glance the column is a boolean, which trips up postgres\nsince the types are different (mysql and sqlite work fine). This\nminor change to use False instead of 0 should fix that for postgres\nusers.\n\nChange-Id: I5149df76943c1c19f3204b904c0e2d3ef846bdf7\nCloses-Bug: #1953063\n(cherry picked from commit 753c74c343ab4ef32879a3dd95c3a956af77f869)\n'}]",2,842162,316ce9659acdec0bc45f8a33825ae3b076199b24,10,4,1,32755,,,0,"Fix set_property_atomic() boolean type casting

In set_property_atomic() we pass an integer query filter for the
deleted field, since most projects use an integer for this column.
However, in glance the column is a boolean, which trips up postgres
since the types are different (mysql and sqlite work fine). This
minor change to use False instead of 0 should fix that for postgres
users.

Change-Id: I5149df76943c1c19f3204b904c0e2d3ef846bdf7
Closes-Bug: #1953063
(cherry picked from commit 753c74c343ab4ef32879a3dd95c3a956af77f869)
",git fetch https://review.opendev.org/openstack/glance refs/changes/62/842162/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/sqlalchemy/api.py'],1,316ce9659acdec0bc45f8a33825ae3b076199b24,," # UPDATE image_properties SET value=$value, deleted=False # WHERE name=$name AND deleted!=False table.c.deleted != False)).values( value=value, deleted=False)) table.c.deleted == False)))"," # UPDATE image_properties SET value=$value, deleted=0 # WHERE name=$name AND deleted!=0 table.c.deleted != 0)).values( value=value, deleted=0)) table.c.deleted == 0)))",5,5
openstack%2Fneutron~master~I26ebf751b7d187399e8b3d8089e09b9d51ba3625,openstack/neutron,master,I26ebf751b7d187399e8b3d8089e09b9d51ba3625,Fix typos in log/error messages,MERGED,2022-06-01 10:19:13.000000000,2022-06-02 18:44:55.000000000,2022-06-02 18:43:19.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 10:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15fc9892848d6f4c4dd2382324161c215ccb49e6', 'message': 'Fix typos in log/error messages\n\nThis change fixes some of the typos in LOG and ERROR\nmessages.\n\nChange-Id: I26ebf751b7d187399e8b3d8089e09b9d51ba3625\n'}, {'number': 2, 'created': '2022-06-01 12:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48a9e6f00e31304e9692a4482abcb0eca3f3b8e5', 'message': 'Fix typos in log/error messages\n\nThis change fixes some of the typos in LOG and ERROR\nmessages, comments and variable names.\n\nChange-Id: I26ebf751b7d187399e8b3d8089e09b9d51ba3625\n'}, {'number': 3, 'created': '2022-06-01 15:47:43.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/linuxbridge.py', 'neutron/services/logapi/agent/l3/base.py', 'neutron/cmd/ovn/ml2ovn_trace.py', 'neutron/common/ovn/exceptions.py', 'neutron/conf/policies/port.py', 'neutron/common/utils.py', 'neutron/debug/README', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/extensions/test_l3_ndp_proxy.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/services/placement_report/plugin.py', 'neutron/services/ndp_proxy/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/18b1b614013e5a0f12d5c0ea1e19064f94e5c306', 'message': 'Fix typos in log/error messages\n\nThis change fixes some of the typos in LOG and ERROR\nmessages, comments and variable names.\n\nChange-Id: I26ebf751b7d187399e8b3d8089e09b9d51ba3625\n'}]",7,844274,18b1b614013e5a0f12d5c0ea1e19064f94e5c306,25,5,3,20733,,,0,"Fix typos in log/error messages

This change fixes some of the typos in LOG and ERROR
messages, comments and variable names.

Change-Id: I26ebf751b7d187399e8b3d8089e09b9d51ba3625
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/844274/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/linuxbridge.py', 'neutron/services/logapi/agent/l3/base.py', 'neutron/cmd/ovn/ml2ovn_trace.py', 'neutron/common/ovn/exceptions.py', 'neutron/conf/policies/port.py', 'neutron/common/utils.py', 'neutron/db/migration/alembic_migrations/loadbalancer_init_ops.py', 'neutron/debug/README', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/services/placement_report/plugin.py', 'neutron/services/ndp_proxy/exceptions.py']",15,15fc9892848d6f4c4dd2382324161c215ccb49e6,typos," message = _(""The address %(address)s is invalid, reason: %(reason)s."")"," message = _(""The address %(address)s is invaild, reason: %(reason)s."")",25,25
openstack%2Fneutron~master~I9a43fa201291002fb1b1a9c76322581aa02f897b,openstack/neutron,master,I9a43fa201291002fb1b1a9c76322581aa02f897b,Remove not wanted section in local.conf sample,MERGED,2022-06-01 20:56:56.000000000,2022-06-02 18:40:06.000000000,2022-06-02 18:38:25.000000000,"[{'_account_id': 5948}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 32586}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-06-01 20:56:56.000000000', 'files': ['devstack/ovn-local.conf.sample'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a181102db2c9427d5c13ef3223230f31d6f8da2f', 'message': 'Remove not wanted section in local.conf sample\n\nCommit [1] added by accident lines to an ovn local.conf sample file. In\nthis change, the file is restored to its previous state\n\nTrivialFix\n\n[1] https://review.opendev.org/c/openstack/neutron/+/828673\n\nChange-Id: I9a43fa201291002fb1b1a9c76322581aa02f897b\n'}]",2,844339,a181102db2c9427d5c13ef3223230f31d6f8da2f,11,5,1,4694,,,0,"Remove not wanted section in local.conf sample

Commit [1] added by accident lines to an ovn local.conf sample file. In
this change, the file is restored to its previous state

TrivialFix

[1] https://review.opendev.org/c/openstack/neutron/+/828673

Change-Id: I9a43fa201291002fb1b1a9c76322581aa02f897b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/844339/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ovn-local.conf.sample'],1,a181102db2c9427d5c13ef3223230f31d6f8da2f,fix-ovn-local-conf,,[[post-config|$NEUTRON_CONF]] [DEFAULT] dns_domain = elvira.org ,0,4
openstack%2Fcinder~stable%2Fxena~I3c0e365f5dc3c32975343f538c6029f02ac7c2b5,openstack/cinder,stable/xena,I3c0e365f5dc3c32975343f538c6029f02ac7c2b5,Don't destroy existing backup by mistake on import,MERGED,2022-05-25 22:00:00.000000000,2022-06-02 18:40:00.000000000,2022-06-02 18:38:30.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-25 22:00:00.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1965847-fix-backup-import-3b3ccdf740a13cff.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/332aa33404f53b39392df3fc37dddb85b5a2890c', 'message': ""Don't destroy existing backup by mistake on import\n\nWe're supposed to fail an import request for an already existing\nbackup, but the current code confuses an existing backup record with\none we created for the import, and during quota rollback, will\ndestroy either one.  Simplify the logic so that we check whether\nthere's an already existing backup first and bail without even\nbothering to make an unnecessary reservation, hence leaving us nothing\nto roll back or delete by mistake.\n\nAlso revise and add tests.\n\nCloses-bug: #1965847\nChange-Id: I3c0e365f5dc3c32975343f538c6029f02ac7c2b5\n(cherry picked from commit 6386cbb0a0b6cbf05ce625c5b1b680f4259bde2e)\n(cherry picked from commit 753c0224631e218c860e48722520e9ad384ca2f4)\n""}]",6,843209,332aa33404f53b39392df3fc37dddb85b5a2890c,23,4,1,5314,,,0,"Don't destroy existing backup by mistake on import

We're supposed to fail an import request for an already existing
backup, but the current code confuses an existing backup record with
one we created for the import, and during quota rollback, will
destroy either one.  Simplify the logic so that we check whether
there's an already existing backup first and bail without even
bothering to make an unnecessary reservation, hence leaving us nothing
to roll back or delete by mistake.

Also revise and add tests.

Closes-bug: #1965847
Change-Id: I3c0e365f5dc3c32975343f538c6029f02ac7c2b5
(cherry picked from commit 6386cbb0a0b6cbf05ce625c5b1b680f4259bde2e)
(cherry picked from commit 753c0224631e218c860e48722520e9ad384ca2f4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/843209/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/backup/api.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1965847-fix-backup-import-3b3ccdf740a13cff.yaml']",4,332aa33404f53b39392df3fc37dddb85b5a2890c,bug/1965847-stable/yoga-stable/xena,--- fixes: - | `Bug #1965847 <https://bugs.launchpad.net/cinder/+bug/1965847>`_: Fixed issue where importing a backup record for a backup_id that currently existed had the unfortunate side effect of deleting the existing backup record. ,,111,23
openstack%2Fneutron~stable%2Fussuri~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,stable/ussuri,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-30 06:29:26.000000000,2022-06-02 18:39:49.000000000,2022-06-02 18:38:21.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 06:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b864f32cb44ee26fcbe9d1c547ab8d2e77676a7', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)\n(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)\n(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n(cherry picked from commit 1648d40fe3e43f4ea2ce515e73c6fc891e248ef6)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n \tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n(cherry picked from commit 3034b0403d95a163f1d31274bd7327cce6dd71bd)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n'}, {'number': 2, 'created': '2022-05-30 06:44:22.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63cdd1a5b9d982dcaee0d632225b3f7ff1fbf88c', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)\n(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)\n(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n(cherry picked from commit 1648d40fe3e43f4ea2ce515e73c6fc891e248ef6)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n \tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n(cherry picked from commit 3034b0403d95a163f1d31274bd7327cce6dd71bd)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n'}]",1,843778,63cdd1a5b9d982dcaee0d632225b3f7ff1fbf88c,12,4,2,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)
(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)
(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)
Conflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
 	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
(cherry picked from commit 1648d40fe3e43f4ea2ce515e73c6fc891e248ef6)
Conflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
 	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
 	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
(cherry picked from commit 3034b0403d95a163f1d31274bd7327cce6dd71bd)
Conflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/843778/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,0b864f32cb44ee26fcbe9d1c547ab8d2e77676a7,bug/1964940," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",255,390
openstack%2Fneutron~stable%2Fvictoria~I159460be27f2c5f105be4b2865ef84aeb9a00094,openstack/neutron,stable/victoria,I159460be27f2c5f105be4b2865ef84aeb9a00094,"Revert ""Use Port_Binding up column to set Neutron port status""",MERGED,2022-05-30 06:02:01.000000000,2022-06-02 18:26:43.000000000,2022-06-02 18:25:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 06:02:01.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3034b0403d95a163f1d31274bd7327cce6dd71bd', 'message': 'Revert ""Use Port_Binding up column to set Neutron port status""\n\nThis reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.\nConflicts:\n \tneutron/common/ovn/constants.py\n \tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nAlso revert below 2 commits which were added on\ntop of the parent commit:-\n\nRevert ""Ensure subports transition to DOWN""\nThis reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.\n\nRevert ""Ensure only the right events are processed""\nThis reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.\n\nReason for revert: These patches have caused couple of issues[1][2][3].\n[1][2] are same issue just one is seen in c8/c9-stream and other in\nrhel8 and both contains much info about the issue.\n[3] is currently happening only in rhel8/rhel9 as this issue is visible\nonly with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which\nis not yet available in c8/c9-stream.\n\n[1][2] happens randomly as the patch under revert has moved the\nevents to SB DB which made a known OVN issue[5] occur more often as in\nthat issue SB DB Event queue floods with too many events of\nPortBindingChassisEvent making other events like PortBindingUpdateUpEvent\nto wait much longer and hence triggering VirtualInterfaceCreateException.\n\nNB DB Event queue is different and hence with revert we are trying to\nlower the side effect of the OVN issue[5].\n\nThis patch can be re reverted once [3] and [5] are fixed.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1964940/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604\n[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433\n[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898\n\nCloses-Bug: #1964940\nCloses-Bug: rhbz#2081631\nCloses-Bug: rhbz#2090604\nRelated-Bug: rhbz#2037433\nRelated-Bug: rhbz#1974898\nChange-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094\n(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)\n(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)\n(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n(cherry picked from commit 1648d40fe3e43f4ea2ce515e73c6fc891e248ef6)\nConflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n \tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n \tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n'}]",4,843771,3034b0403d95a163f1d31274bd7327cce6dd71bd,17,5,1,13861,,,0,"Revert ""Use Port_Binding up column to set Neutron port status""

This reverts commit 37d4195b516f12b683b774f0561561b172dd15c6.
Conflicts:
 	neutron/common/ovn/constants.py
 	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Also revert below 2 commits which were added on
top of the parent commit:-

Revert ""Ensure subports transition to DOWN""
This reverts commit 5e036a6b281e4331f396473e299b26b2537d5322.

Revert ""Ensure only the right events are processed""
This reverts commit 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa.

Reason for revert: These patches have caused couple of issues[1][2][3].
[1][2] are same issue just one is seen in c8/c9-stream and other in
rhel8 and both contains much info about the issue.
[3] is currently happening only in rhel8/rhel9 as this issue is visible
only with the patch in revert and ovn-2021>=21.12.0-55(fix of [4]) which
is not yet available in c8/c9-stream.

[1][2] happens randomly as the patch under revert has moved the
events to SB DB which made a known OVN issue[5] occur more often as in
that issue SB DB Event queue floods with too many events of
PortBindingChassisEvent making other events like PortBindingUpdateUpEvent
to wait much longer and hence triggering VirtualInterfaceCreateException.

NB DB Event queue is different and hence with revert we are trying to
lower the side effect of the OVN issue[5].

This patch can be re reverted once [3] and [5] are fixed.

[1] https://bugs.launchpad.net/tripleo/+bug/1964940/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2081631
[3] https://bugzilla.redhat.com/show_bug.cgi?id=2090604
[4] https://bugzilla.redhat.com/show_bug.cgi?id=2037433
[5] https://bugzilla.redhat.com/show_bug.cgi?id=1974898

Closes-Bug: #1964940
Closes-Bug: rhbz#2081631
Closes-Bug: rhbz#2090604
Related-Bug: rhbz#2037433
Related-Bug: rhbz#1974898
Change-Id: I159460be27f2c5f105be4b2865ef84aeb9a00094
(cherry picked from commit e6d27be4747eb4573dcc5c0e1e7ac7550d20f951)
(cherry picked from commit 3a11ab74402cde842461569515c39c441555f348)
(cherry picked from commit 4c5bd288466f8f72e95deca204d08246d9aa9549)
Conflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
 	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
(cherry picked from commit 1648d40fe3e43f4ea2ce515e73c6fc891e248ef6)
Conflicts: neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
 	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
 	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/843771/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,3034b0403d95a163f1d31274bd7327cce6dd71bd,bug/1964940," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)"," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) ",255,390
openstack%2Fglance~stable%2Fyoga~I81156e32517b03577c09d489b6eb5d19769600a3,openstack/glance,stable/yoga,I81156e32517b03577c09d489b6eb5d19769600a3,Added cli_opts and cache_opts,MERGED,2022-05-11 05:56:13.000000000,2022-06-02 18:26:36.000000000,2022-06-02 18:25:11.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 05:56:13.000000000', 'files': ['glance/opts.py', 'releasenotes/notes/add-cli-and-cache-opts-902f28d65c8fb827.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/e943645fb4e67384c17bbaf9330453624abaa1d3', 'message': ""Added cli_opts and cache_opts\n\nIt is observed that 'cli_opts' and 'cache_opts' from\nglance/common/wsgi.py are not picked up by the configgen nor listed\nthrough the functions in glance/opts.py.\nThis patch adds these options to support configgen to pick all groups\nfrom wsgi.py.\n\nCloses-Bug: #1972666\nChange-Id: I81156e32517b03577c09d489b6eb5d19769600a3\n(cherry picked from commit c9d7ecdb7701f85787d9de61dad37eadb6d2bc8f)\n""}]",4,841279,e943645fb4e67384c17bbaf9330453624abaa1d3,14,3,1,33765,,,0,"Added cli_opts and cache_opts

It is observed that 'cli_opts' and 'cache_opts' from
glance/common/wsgi.py are not picked up by the configgen nor listed
through the functions in glance/opts.py.
This patch adds these options to support configgen to pick all groups
from wsgi.py.

Closes-Bug: #1972666
Change-Id: I81156e32517b03577c09d489b6eb5d19769600a3
(cherry picked from commit c9d7ecdb7701f85787d9de61dad37eadb6d2bc8f)
",git fetch https://review.opendev.org/openstack/glance refs/changes/79/841279/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/opts.py', 'releasenotes/notes/add-cli-and-cache-opts-902f28d65c8fb827.yaml']",2,e943645fb4e67384c17bbaf9330453624abaa1d3,bug/1972666-stable/yoga,fixes: - | `Bug #1972666 <https://bugs.launchpad.net/glance/+bug/1972666>`_: Added cli_opts and cache_opts to support configgen to pick all groups from wsgi.py,,7,0
openstack%2Fdevstack~stable%2Ftrain~Ie7f37770a04f622735cf2263c601257669ab5064,openstack/devstack,stable/train,Ie7f37770a04f622735cf2263c601257669ab5064,Configure placement section in neutron conf,MERGED,2022-05-25 05:37:36.000000000,2022-06-02 18:26:30.000000000,2022-06-02 18:25:09.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-25 05:37:36.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8362497252faf806f41ed5c553c026a9951574e5', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)\n'}]",0,843195,8362497252faf806f41ed5c553c026a9951574e5,8,4,1,13861,,,0,"Configure placement section in neutron conf

Without it segment plugin fails to connect with
placement api. Configure the placement section
if service is deployed.

Closes-Bug: #1973783
Change-Id: Ie7f37770a04f622735cf2263c601257669ab5064
(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)
(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/843195/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,8362497252faf806f41ed5c553c026a9951574e5,bug/1973783-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train, # Configuration for placement client configure_keystone_authtoken_middleware $NEUTRON_CONF placement placement ,,3,0
openstack%2Fneutron~stable%2Fussuri~Ied5ef53882d4249e0ceaa731239befdc3ba67d03,openstack/neutron,stable/ussuri,Ied5ef53882d4249e0ceaa731239befdc3ba67d03,[Trunk] Check if parent port belongs to OVN to activate,MERGED,2022-05-31 09:20:32.000000000,2022-06-02 18:24:08.000000000,2022-06-02 18:22:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:20:32.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f48872a31272c96d8695232e50a7c9718cfcc11', 'message': '[Trunk] Check if parent port belongs to OVN to activate\n\nIn Trunk service, the OVN was setting always the trunk to ""ACTIVE""\nanytime the trunk was created or updated. This patch changes this\nbehaviour: only when the trunk parent port belongs to OVN (that\nmeans, there is a related logical switch port to this Neutron port),\nthe methods will set the trunk to ""ACTIVE"".\n\nCloses-Bug: #1974183\nChange-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03\n(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)\n'}]",2,844020,2f48872a31272c96d8695232e50a7c9718cfcc11,10,3,1,16688,,,0,"[Trunk] Check if parent port belongs to OVN to activate

In Trunk service, the OVN was setting always the trunk to ""ACTIVE""
anytime the trunk was created or updated. This patch changes this
behaviour: only when the trunk parent port belongs to OVN (that
means, there is a related logical switch port to this Neutron port),
the methods will set the trunk to ""ACTIVE"".

Closes-Bug: #1974183
Change-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03
(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/844020/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,2f48872a31272c96d8695232e50a7c9718cfcc11,bug/1974183," # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return",,12,0
openstack%2Fdevstack~stable%2Fvictoria~Ie7f37770a04f622735cf2263c601257669ab5064,openstack/devstack,stable/victoria,Ie7f37770a04f622735cf2263c601257669ab5064,Configure placement section in neutron conf,MERGED,2022-05-25 05:32:35.000000000,2022-06-02 18:24:05.000000000,2022-06-02 18:22:41.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-25 05:32:35.000000000', 'files': ['lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/508a2c796c1c7aee3b9afceaaf0afc65b8c58cc0', 'message': 'Configure placement section in neutron conf\n\nWithout it segment plugin fails to connect with\nplacement api. Configure the placement section\nif service is deployed.\n\nCloses-Bug: #1973783\nChange-Id: Ie7f37770a04f622735cf2263c601257669ab5064\n(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)\n(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)\n'}]",0,843193,508a2c796c1c7aee3b9afceaaf0afc65b8c58cc0,8,4,1,13861,,,0,"Configure placement section in neutron conf

Without it segment plugin fails to connect with
placement api. Configure the placement section
if service is deployed.

Closes-Bug: #1973783
Change-Id: Ie7f37770a04f622735cf2263c601257669ab5064
(cherry picked from commit 92a34dbe951f2ab31fb3432e61cf34db034b0145)
(cherry picked from commit ebd72a5e00e33ace6eed7cfb578a6ffb3a57e8e7)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/93/843193/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron-legacy'],1,508a2c796c1c7aee3b9afceaaf0afc65b8c58cc0,bug/1973783-stable/yoga-stable/xena-stable/wallaby-stable/victoria, # Configuration for placement client configure_keystone_authtoken_middleware $NEUTRON_CONF placement placement ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f,openstack/tripleo-heat-templates,stable/wallaby,I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f,Deprecate DnsServers THT parameter,MERGED,2022-06-02 09:39:38.000000000,2022-06-02 18:17:28.000000000,2022-06-02 18:15:57.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-02 09:39:38.000000000', 'files': ['overcloud.j2.yaml', 'releasenotes/notes/deprecate-DnsServers-a65541c2dceced08.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ced328ca18fcf5e408cd30d71851e1538f0ee7b9', 'message': ""Deprecate DnsServers THT parameter\n\nWe have used the dns_nameservers from the subnets for\na long time by default: https://review.opendev.org/579582\n\nWith network config being applied prior to creating the heat\nstack we cannot use a THT parameter to feed the input for\nnode network configuration. In Wallaby and later the nameservers\nmust be defined in undercloud.conf using:\n  'DEFAULT/undercloud_nameservers'\n\nor\n\n  '%SUBNET_SECTION%/dns_nameservers'\n\nThe latter allow defining nameservers per-ctlplane subnet.\n\nRelated: RHBZ#2068489\nChange-Id: I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f\n(cherry picked from commit 42506f635dcc57f803e097ab0ea8abf9519565c4)\n""}]",0,844383,ced328ca18fcf5e408cd30d71851e1538f0ee7b9,8,3,1,24245,,,0,"Deprecate DnsServers THT parameter

We have used the dns_nameservers from the subnets for
a long time by default: https://review.opendev.org/579582

With network config being applied prior to creating the heat
stack we cannot use a THT parameter to feed the input for
node network configuration. In Wallaby and later the nameservers
must be defined in undercloud.conf using:
  'DEFAULT/undercloud_nameservers'

or

  '%SUBNET_SECTION%/dns_nameservers'

The latter allow defining nameservers per-ctlplane subnet.

Related: RHBZ#2068489
Change-Id: I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f
(cherry picked from commit 42506f635dcc57f803e097ab0ea8abf9519565c4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/844383/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'releasenotes/notes/deprecate-DnsServers-a65541c2dceced08.yaml']",2,ced328ca18fcf5e408cd30d71851e1538f0ee7b9,deprecate-DnsServers-stable/wallaby,"--- deprecations: - | The tripleo-heat-templates parameter DnsServers has been deprecated. The dns_nameservers from the ctlplane subnets has been used by default for overcloud node nameservers for a long time, see: https://review.opendev.org/579582. Since Wallaby network configuration is applied prior to the Heat stack create, during overcloud node provisioning. In this case the THT parameter DnsServers is not available when network configuration is applied. Effectively the DnsServers parameter cannot be used in Wallaby and later releases. ",,16,0
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35,openstack/tripleo-puppet-elements,stable/wallaby,I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35,Remove unused puppet-datacat,MERGED,2022-05-13 12:47:51.000000000,2022-06-02 18:16:00.000000000,2022-06-02 18:16:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-13 12:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/078e3fc6074f08e50255c99b3ddb21ebce367d13', 'message': 'Remove unused puppet-datacat\n\nThis module was required by puppet-midonet but puppet-midonet was\nremoved from requirements when support for Midonet was removed[1].\n\n[1] 32c946e9225071a2aa64459ed6b2e418d1ecb168\n\nChange-Id: I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35\n(cherry picked from commit 4629a09bec6957ea5e9c4869071e1e2ed0228d22)\n'}, {'number': 2, 'created': '2022-05-13 12:58:05.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c44291e581ed283adb03063cd24637c5c8dc5554', 'message': 'Remove unused puppet-datacat\n\nThis module was required by puppet-midonet but puppet-midonet was\nremoved from requirements when support for Midonet was removed[1].\n\n[1] 32c946e9225071a2aa64459ed6b2e418d1ecb168\n\nChange-Id: I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35\n(cherry picked from commit 4629a09bec6957ea5e9c4869071e1e2ed0228d22)\n'}]",2,841734,c44291e581ed283adb03063cd24637c5c8dc5554,23,4,2,9816,,,0,"Remove unused puppet-datacat

This module was required by puppet-midonet but puppet-midonet was
removed from requirements when support for Midonet was removed[1].

[1] 32c946e9225071a2aa64459ed6b2e418d1ecb168

Change-Id: I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35
(cherry picked from commit 4629a09bec6957ea5e9c4869071e1e2ed0228d22)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/34/841734/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,078e3fc6074f08e50255c99b3ddb21ebce367d13,pe-cleanup-w,,puppet-datacat git /opt/stack/puppet-modules/datacat https://github.com/richardc/puppet-datacat.git,0,2
openstack%2Fkolla-ansible~stable%2Fwallaby~Ic9737d0446a807891b429f080ae1bf048a3c8e4a,openstack/kolla-ansible,stable/wallaby,Ic9737d0446a807891b429f080ae1bf048a3c8e4a,designate: allow designate_ns_record to be a list,MERGED,2022-06-02 12:00:54.000000000,2022-06-02 18:11:59.000000000,2022-06-02 18:10:36.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 12:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2e26d69267c0d62adeec0b96f6e032a1e4cb820', 'message': 'designate: allow designate_ns_record to be a list\n\nIn most real world deployments, there will be multiple backend DNS\nservers, allow to specify all of them for the pool configuration.\n\nCherry pick to stable/wallaby - designate_ns_record default value kept\nfrom stable/wallabya - no to change neutron.conf within the same release\n\nChange-Id: Ic9737d0446a807891b429f080ae1bf048a3c8e4a\n(cherry picked from commit f193d1af3e4ab9b6978eb42e761e37222d9ca0b2)\n'}, {'number': 2, 'created': '2022-06-02 12:02:26.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'doc/source/reference/networking/designate-guide.rst', 'ansible/roles/designate/templates/pools.yaml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70e3b187f32c50a55bc4f2fd99d05dff87d72ed7', 'message': 'designate: allow designate_ns_record to be a list\n\nIn most real world deployments, there will be multiple backend DNS\nservers, allow to specify all of them for the pool configuration.\n\nCherry pick to stable/wallaby - designate_ns_record default value kept\nfrom stable/wallaby - no to change neutron.conf within the same release\n\nChange-Id: Ic9737d0446a807891b429f080ae1bf048a3c8e4a\n(cherry picked from commit f193d1af3e4ab9b6978eb42e761e37222d9ca0b2)\n'}]",0,844425,70e3b187f32c50a55bc4f2fd99d05dff87d72ed7,10,5,2,23084,,,0,"designate: allow designate_ns_record to be a list

In most real world deployments, there will be multiple backend DNS
servers, allow to specify all of them for the pool configuration.

Cherry pick to stable/wallaby - designate_ns_record default value kept
from stable/wallaby - no to change neutron.conf within the same release

Change-Id: Ic9737d0446a807891b429f080ae1bf048a3c8e4a
(cherry picked from commit f193d1af3e4ab9b6978eb42e761e37222d9ca0b2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/844425/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'doc/source/reference/networking/designate-guide.rst', 'ansible/roles/designate/templates/pools.yaml.j2']",3,c2e26d69267c0d62adeec0b96f6e032a1e4cb820,,{% if designate_ns_record is string %}{% else %} {% for host in designate_ns_record %} - hostname: {{ host }}. priority: 1 {% endfor %} {% endif %},,11,1
openstack%2Fswift~master~I3de79e174834c7977c05a97ef0e4c26572dbfa98,openstack/swift,master,I3de79e174834c7977c05a97ef0e4c26572dbfa98,Rename bind_ip to ring_ip in a bunch of places,ABANDONED,2022-06-01 20:53:41.000000000,2022-06-02 17:36:13.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 20:53:41.000000000', 'files': ['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'swift/common/utils.py', 'swift/common/storage_policy.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3cb5d948bbea03401020358c06acde92c864abc9', 'message': ""Rename bind_ip to ring_ip in a bunch of places\n\nBasically, wherever we're using the IP for ring lookups instead of\nsocket binding, we probably ought to use the appropriate name.\n\nChange-Id: I3de79e174834c7977c05a97ef0e4c26572dbfa98\n""}]",2,844338,3cb5d948bbea03401020358c06acde92c864abc9,5,2,1,15343,,,0,"Rename bind_ip to ring_ip in a bunch of places

Basically, wherever we're using the IP for ring lookups instead of
socket binding, we probably ought to use the appropriate name.

Change-Id: I3de79e174834c7977c05a97ef0e4c26572dbfa98
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/844338/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'swift/common/utils.py', 'swift/obj/reconstructor.py', 'swift/common/storage_policy.py', 'test/unit/obj/test_reconstructor.py']",5,3cb5d948bbea03401020358c06acde92c864abc9,, ips = utils.whataremyips(self.reconstructor.ring_ip) ips = utils.whataremyips(self.reconstructor.ring_ip) ips = utils.whataremyips(self.reconstructor.ring_ip) ips = utils.whataremyips(self.reconstructor.ring_ip) ips = utils.whataremyips(self.reconstructor.ring_ip) ips = utils.whataremyips(self.reconstructor.ring_ip) self.reconstructor.ring_ip = '0.0.0.0' # use whataremyips self.reconstructor.ring_ip = '0.0.0.0' # use whataremyips self.reconstructor.ring_ip = '0.0.0.0' # use whataremyips, ips = utils.whataremyips(self.reconstructor.bind_ip) ips = utils.whataremyips(self.reconstructor.bind_ip) ips = utils.whataremyips(self.reconstructor.bind_ip) ips = utils.whataremyips(self.reconstructor.bind_ip) ips = utils.whataremyips(self.reconstructor.bind_ip) ips = utils.whataremyips(self.reconstructor.bind_ip) self.reconstructor.bind_ip = '0.0.0.0' # use whataremyips self.reconstructor.bind_ip = '0.0.0.0' # use whataremyips self.reconstructor.bind_ip = '0.0.0.0' # use whataremyips,22,22
openstack%2Fsecurity-doc~master~I7986cd49c2a38dd845831782a3a9c0778b8059eb,openstack/security-doc,master,I7986cd49c2a38dd845831782a3a9c0778b8059eb,Use permalink for Barbican security analysis,MERGED,2022-06-02 14:43:28.000000000,2022-06-02 16:14:25.000000000,2022-06-02 16:12:40.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 14:43:28.000000000', 'files': ['security-guide/source/secrets-management/barbican.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/34a7b3d8821cc18e0cf28ef0bc933e78da434ce3', 'message': ""Use permalink for Barbican security analysis\n\nThe openstack/security-analysis repository is being retired, so\nswitch the link in the Barbican section to use a permalink which\nwon't 404 once the retirement changes merge.\n\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-June/028816.html\n\nChange-Id: I7986cd49c2a38dd845831782a3a9c0778b8059eb\n""}]",2,844468,34a7b3d8821cc18e0cf28ef0bc933e78da434ce3,8,2,1,5263,,,0,"Use permalink for Barbican security analysis

The openstack/security-analysis repository is being retired, so
switch the link in the Barbican section to use a permalink which
won't 404 once the retirement changes merge.

https://lists.openstack.org/pipermail/openstack-discuss/2022-June/028816.html

Change-Id: I7986cd49c2a38dd845831782a3a9c0778b8059eb
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/68/844468/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/secrets-management/barbican.rst'],1,34a7b3d8821cc18e0cf28ef0bc933e78da434ce3,retire-security-analysis,"results can be reviewed in the `security analysis repo <https://opendev.org/openstack/security-analysis/src/commit/ac43025/doc/source/artifacts/barbican/newton>`_., along with the","results can be reviewed in the `security analysis repo <https://github.com/openstack/security-analysis/tree/master/doc/source/artifacts/barbican/newton>`_., along with the",1,1
openstack%2Fossa~master~I04ba8b7cd734707406e480142a6b01df8900f1e9,openstack/ossa,master,I04ba8b7cd734707406e480142a6b01df8900f1e9,Drop references for the old security blog,MERGED,2022-06-02 13:17:33.000000000,2022-06-02 16:11:29.000000000,2022-06-02 16:09:59.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 13:17:33.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/f44bb08b1e5ef846fe07fbcd9107286d57a1b982', 'message': ""Drop references for the old security blog\n\nMembers of the OSSG maintained an OpenStack Security Blog between\n2016 and 2017, but it's been abandoned for nearly 5 years now and\nnone of the currently involved contributors in the SIG have access\nto that site nor available time to contribute new articles. Remove\nthe reference for now, it can always be added back if the blog is\nresurrected or replaced in the future.\n\nChange-Id: I04ba8b7cd734707406e480142a6b01df8900f1e9\n""}]",0,844451,f44bb08b1e5ef846fe07fbcd9107286d57a1b982,7,2,1,5263,,,0,"Drop references for the old security blog

Members of the OSSG maintained an OpenStack Security Blog between
2016 and 2017, but it's been abandoned for nearly 5 years now and
none of the currently involved contributors in the SIG have access
to that site nor available time to contribute new articles. Remove
the reference for now, it can always be added back if the blog is
resurrected or replaced in the future.

Change-Id: I04ba8b7cd734707406e480142a6b01df8900f1e9
",git fetch https://review.opendev.org/openstack/ossa refs/changes/51/844451/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,f44bb08b1e5ef846fe07fbcd9107286d57a1b982,no-blog,,"* OpenStack Security Project blogOpenStack Security Project blog ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Security Project also maintain a blog, with posts about current and future projects, presentations and other information that doesnt fit in anywhere else: `<http://openstack-security.github.io/>`_ ",0,11
openstack%2Fossa~master~Id357a1ec8c62a66c97f7d55eecd95325db60a6d1,openstack/ossa,master,Id357a1ec8c62a66c97f7d55eecd95325db60a6d1,repos-overseen: VMT is happy to assist any project,MERGED,2022-06-02 13:02:18.000000000,2022-06-02 16:07:23.000000000,2022-06-02 16:06:03.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 13:02:18.000000000', 'files': ['doc/source/repos-overseen.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/207f292a3142736419637c7ab3ec2f7426a61344', 'message': 'repos-overseen: VMT is happy to assist any project\n\nMake it clear in the overseen repos list preamble that VMT members\nattempt to provide guidance on request, even for repositories not\nspecifically opted into direct oversight.\n\nChange-Id: Id357a1ec8c62a66c97f7d55eecd95325db60a6d1\n'}]",0,844444,207f292a3142736419637c7ab3ec2f7426a61344,7,2,1,5263,,,0,"repos-overseen: VMT is happy to assist any project

Make it clear in the overseen repos list preamble that VMT members
attempt to provide guidance on request, even for repositories not
specifically opted into direct oversight.

Change-Id: Id357a1ec8c62a66c97f7d55eecd95325db60a6d1
",git fetch https://review.opendev.org/openstack/ossa refs/changes/44/844444/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repos-overseen.rst'],1,207f292a3142736419637c7ab3ec2f7426a61344,repos-overseen,"While the Vulnerability Management Team (VMT) is available to assist developers on request even if their projects are not explicitly opted into this list, reports of suspected vulnerabilities for the following OpenStack source repositories officially fall under direct VMT oversight:",Reports of suspected vulnerabilities for the following OpenStack source repositories officially fall under Vulnerability Management Team (VMT) oversight:,5,3
openstack%2Fansible-collections-openstack~master~I7625d696f6462a7a955008a5c7276f1548acbc2e,openstack/ansible-collections-openstack,master,I7625d696f6462a7a955008a5c7276f1548acbc2e,Change network modules to work with new SDK,MERGED,2022-01-19 10:25:54.000000000,2022-06-02 15:54:19.000000000,2022-06-02 15:54:19.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-19 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d7b112148476a75e72c3ca1ae4a06392c898031e', 'message': 'DNM test with SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/823961\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 2, 'created': '2022-01-19 15:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1daa61d94ce9567fa10e64611cc0699001b7d3e1', 'message': 'DNM test with SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/823961\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 3, 'created': '2022-01-23 18:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ebe770a25f907ba8f4ea9c8a1aa48341e099b59e', 'message': 'DNM test with SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/823961\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 4, 'created': '2022-01-25 12:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a285363b3a8642d9651311c8cd30066fe8048904', 'message': 'DNM test with SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 5, 'created': '2022-01-25 13:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/120a750685cac3a753bfd047cdf018b691e6a65d', 'message': 'DNM test with SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 6, 'created': '2022-01-26 01:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7194ca2b582d7b2ab41035372e474189bf0eeb9a', 'message': 'DNM test with SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 7, 'created': '2022-01-26 08:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3b29dee566a819404b10a53a92a6497cb0896d3a', 'message': 'DNM test with SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 8, 'created': '2022-01-26 12:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9d603b5d26910cbe7448babe14d841592833ae4b', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 9, 'created': '2022-01-30 18:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9374b05d4d1d147f2097d843565eddbefa63c154', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 10, 'created': '2022-01-31 08:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c96f47c076c806d3680fb0a562f7d04913974308', 'message': 'WIP fix collection for new SDK\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826993\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 11, 'created': '2022-02-08 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2eb8ff9fc8c65733685e9459b96347dc332ef0f6', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 12, 'created': '2022-02-08 14:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e1c3c9e09494b461d7a6e51effc9f17e870cee25', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 13, 'created': '2022-02-10 10:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e4d69f9569c93b7ed08715ca47cf27ab5679b8ba', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 14, 'created': '2022-02-10 13:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1ff9e4b5d6773912718ee75eec970446507f9a3e', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 15, 'created': '2022-02-14 09:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6d0da388214fca48ff8fa0e666cf5d2dd7ec746f', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 16, 'created': '2022-03-09 16:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/74fefcd8c66acf8fbc83a11ee71e232199b479a3', 'message': 'WIP fix collection for new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 17, 'created': '2022-03-10 15:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/18e1f62eadd933368232c279878ad19829681089', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 18, 'created': '2022-03-14 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7d62da96dfe54e3e13df836619b8f813f44c6bc4', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 19, 'created': '2022-03-24 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0d5598db24f449a2288b8a87bf7db37878b7ecf9', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 20, 'created': '2022-03-24 13:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a3cb36136a0591d40cac4d19b87a4c5bc4fc9163', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 21, 'created': '2022-03-27 13:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1c9363b6373cff81464a1d1bcd9b72b55c232d70', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 22, 'created': '2022-03-28 15:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/daa1da4fbf29c3fef392b33029b5e3b770c8a579', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 23, 'created': '2022-03-30 14:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/088b126565566ba827aa9394687ab1aa2e32f46f', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 24, 'created': '2022-04-03 21:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c87a34f762b899720fec84c05e2918b411474a5e', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 25, 'created': '2022-04-13 11:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bb4023628c7f34616330d91aa366626c5c72717b', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 26, 'created': '2022-04-14 18:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4953b1d4d638e1e83a0ea518e69b61360d27a2e6', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 27, 'created': '2022-04-20 07:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/272e3dfafac6ae51af566bdde026dadc5c0885c3', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 28, 'created': '2022-04-20 07:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/35e06b3d89e24b3886fb651556345eb99d8ae68f', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 29, 'created': '2022-04-20 15:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/765d93cfed06604c86a4fb19fec6116590be87e3', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 30, 'created': '2022-04-26 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ca6d8676aa1370c1d6f9389f0412010419b326d0', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 31, 'created': '2022-04-26 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d12cc7d44df0ee893667d990db123313f8fd02a4', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 32, 'created': '2022-04-28 07:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fffa9bcb97ebac81676d9eac987be4c9704c0e94', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 33, 'created': '2022-04-28 13:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aee198e32615723aa701c4d59b169b1cce473445', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 34, 'created': '2022-04-28 15:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2949b65011ba24da0a68024013535c99102d5042', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 35, 'created': '2022-05-03 15:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d34c648a226a8d86b525f2d2f1dd0f0813be56f3', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 36, 'created': '2022-05-13 09:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9d74983091bfb6f9633dee585b566b845e0712c6', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 37, 'created': '2022-05-13 10:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/86e86c7fb442d473fae19664fd057fd0cd2cc567', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 38, 'created': '2022-05-13 11:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2764c80272840f75aef8a2fe4576de5cf8871d12', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 39, 'created': '2022-05-14 08:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/63fb49b44e699f12e4c11235c8359c2ac9615b14', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 40, 'created': '2022-05-14 13:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6eb13d2355bb3db63553a02c456198f955faeb18', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 41, 'created': '2022-06-01 07:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cff283850dfd0af5dd8fefc85a9dd1e39541340a', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 42, 'created': '2022-06-02 09:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/05274eb684d71b5a3627b7e3c6e9271c8e5e4aa9', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 43, 'created': '2022-06-02 10:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7611dba4114820d5e10757039e6c3132b1f27c94', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 44, 'created': '2022-06-02 10:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/845ed1e188fa6a7dd16f15169855a73e052ccaee', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 45, 'created': '2022-06-02 11:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/310c788814326c38fc9b84fc5fc92531ac636bc1', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 46, 'created': '2022-06-02 12:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7589d5b365d15967e1dc07b2a8cf74a0c1e7fadb', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 47, 'created': '2022-06-02 12:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ec54958ee927e6e4f927a8272d18162fb2ca8e82', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 48, 'created': '2022-06-02 13:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/253245f4550885435d70b38be73db9d6c0609e53', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}, {'number': 49, 'created': '2022-06-02 13:33:45.000000000', 'files': ['.zuul.yaml', 'plugins/modules/networks_info.py', 'ci/roles/network/defaults/main.yml', 'ci/roles/network/tasks/main.yml', 'ci/roles/floating_ip/tasks/main.yml', 'plugins/modules/network.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45', 'message': 'Change network modules to work with new SDK\n\nChange-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e\n'}]",82,825291,9272146cf7a7486f6004b52bec420a998e710f45,133,7,49,10969,,,0,"Change network modules to work with new SDK

Change-Id: I7625d696f6462a7a955008a5c7276f1548acbc2e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/91/825291/48 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'ci/run-collection.yml']",2,d7b112148476a75e72c3ca1ae4a06392c898031e,network,# test sdk,,7,6
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I6a98ba8466863b41fc996855fd12cf9f3097abe0,openstack/ansible-collections-openstack,stable/1.0.0,I6a98ba8466863b41fc996855fd12cf9f3097abe0,Backport enhancements to host_aggregate module,MERGED,2022-05-31 23:35:21.000000000,2022-06-02 15:53:38.000000000,2022-06-02 15:53:38.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-31 23:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/040ebefd24452eb67899e626e2c7b652645dd8e5', 'message': 'Update host_aggregate to be compatible with new sdk\n\n- Change the implementation to use the proxy layer\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}, {'number': 2, 'created': '2022-06-01 00:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/20355d3adb0ea628dfed699169a8866686e2a244', 'message': 'Backport enhancements to host_aggregate module\n\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}, {'number': 3, 'created': '2022-06-01 00:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6b92687c1ab37cfc4158faca150c06e31434bbc6', 'message': 'Backport enhancements to host_aggregate module\n\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nNote that this is not a clean cherry pick as it excludes changes related\nto new sdk compatibility.\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}, {'number': 4, 'created': '2022-06-01 01:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e6ac4a8c95bde7182fd5bcfd8513b9720fe2f676', 'message': 'Backport enhancements to host_aggregate module\n\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nNote that this is not a clean cherry pick as it excludes changes related\nto new sdk compatibility.\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}, {'number': 5, 'created': '2022-06-01 02:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/27ef9c4d998040e6d3af87e3d2ece74f18d9448c', 'message': 'Backport enhancements to host_aggregate module\n\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nNote that this is not a clean cherry pick as it excludes changes related\nto new sdk compatibility.\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}, {'number': 6, 'created': '2022-06-02 09:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/879080138fa0e2483073bd26e1815a66c0b92550', 'message': 'Backport enhancements to host_aggregate module\n\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nNote that this is not a clean cherry pick as it excludes changes related\nto new sdk compatibility.\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}, {'number': 7, 'created': '2022-06-02 10:45:09.000000000', 'files': ['ci/roles/host_aggregate/defaults/main.yml', 'ci/roles/host_aggregate/tasks/main.yml', 'plugins/modules/host_aggregate.py', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6b58d28a4e20d559b3eb1668a1bb83965f559ec1', 'message': 'Backport enhancements to host_aggregate module\n\n- Update the module to return an aggregate object\n- Adds a role to test the module\n\nNote that this is not a clean cherry pick as it excludes changes related\nto new sdk compatibility.\n\nChange-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0\n(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)\n'}]",8,844150,6b58d28a4e20d559b3eb1668a1bb83965f559ec1,26,5,7,34208,,,0,"Backport enhancements to host_aggregate module

- Update the module to return an aggregate object
- Adds a role to test the module

Note that this is not a clean cherry pick as it excludes changes related
to new sdk compatibility.

Change-Id: I6a98ba8466863b41fc996855fd12cf9f3097abe0
(cherry picked from commit 4ea2c5b50d9dd5ecf0a7f64c96864754561b974f)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/50/844150/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/host_aggregate/defaults/main.yml', 'ci/roles/host_aggregate/tasks/main.yml', 'plugins/modules/host_aggregate.py', '.zuul.yaml', 'ci/run-collection.yml']",5,040ebefd24452eb67899e626e2c7b652645dd8e5,host_aggregate," - { role: host_aggregate, tags: host_aggregate }",,253,51
openstack%2Fosc-placement~master~I378d5c3c1f3e96696670a4865caf5901269a5ee4,openstack/osc-placement,master,I378d5c3c1f3e96696670a4865caf5901269a5ee4,Add Python3 zed unit tests,MERGED,2022-03-26 14:43:23.000000000,2022-06-02 15:45:42.000000000,2022-06-02 15:43:11.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-26 14:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b49712bdc291f448450c4aa0ba8e6e75ed9e35b4', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I378d5c3c1f3e96696670a4865caf5901269a5ee4\n'}, {'number': 2, 'created': '2022-06-01 12:09:04.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/91017972278a87684d8ad10d2ae0f8f57aa19251', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\nI needed to squash in another change that is dropping the py36 and py37\nsupport. We cannot do that separately as those jobs are already failing.\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I378d5c3c1f3e96696670a4865caf5901269a5ee4\n'}]",3,835369,91017972278a87684d8ad10d2ae0f8f57aa19251,17,5,2,7634,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

I needed to squash in another change that is dropping the py36 and py37
support. We cannot do that separately as those jobs are already failing.

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I378d5c3c1f3e96696670a4865caf5901269a5ee4
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/69/835369/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b49712bdc291f448450c4aa0ba8e6e75ed9e35b4,add-zed-python-jobtemplates, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I3b497a65b65238ab005736376ca23d6dc0cb2f58,openstack/openstack-ansible-openstack_hosts,master,I3b497a65b65238ab005736376ca23d6dc0cb2f58,Add default apt config for ubuntu 22.04,MERGED,2022-06-02 10:03:19.000000000,2022-06-02 15:37:28.000000000,2022-06-02 15:35:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-02 10:03:19.000000000', 'files': ['vars/ubuntu-22.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e8ea5dd1d5c69e34e7e0bb8640e4eb39eede8f72', 'message': 'Add default apt config for ubuntu 22.04\n\nThe patch for this to the other operating systems landed before\nsupport for ubuntu-22.04 was added to this role, so the var was\nmissing in the 22.04 specific vars file.\n\nChange-Id: I3b497a65b65238ab005736376ca23d6dc0cb2f58\n'}]",0,844410,e8ea5dd1d5c69e34e7e0bb8640e4eb39eede8f72,8,3,1,25023,,,0,"Add default apt config for ubuntu 22.04

The patch for this to the other operating systems landed before
support for ubuntu-22.04 was added to this role, so the var was
missing in the 22.04 specific vars file.

Change-Id: I3b497a65b65238ab005736376ca23d6dc0cb2f58
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/10/844410/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-22.04.yml'],1,e8ea5dd1d5c69e34e7e0bb8640e4eb39eede8f72,," _openstack_hosts_package_manager_default_conf: | APT::Install-Recommends ""false"";",,3,0
openstack%2Fpython-tripleoclient~master~I2f398b2dab61a5b6c0066ba6ee065a152da2bb63,openstack/python-tripleoclient,master,I2f398b2dab61a5b6c0066ba6ee065a152da2bb63,Bump openstackdocstheme version,ABANDONED,2022-05-30 03:38:50.000000000,2022-06-02 15:14:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 03:38:50.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a25b4f3eebe25c93282c117b97a41842a331ed44', 'message': 'Bump openstackdocstheme version\n\nIncrease openstackdocstheme in-line with upper-constraints\nhttps://github.com/openstack/requirements/blob/master/upper-constraints.txt#L402\n\nChange-Id: I2f398b2dab61a5b6c0066ba6ee065a152da2bb63\n'}]",1,843759,a25b4f3eebe25c93282c117b97a41842a331ed44,4,2,1,30073,,,0,"Bump openstackdocstheme version

Increase openstackdocstheme in-line with upper-constraints
https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L402

Change-Id: I2f398b2dab61a5b6c0066ba6ee065a152da2bb63
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/843759/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a25b4f3eebe25c93282c117b97a41842a331ed44,doc-constrain-bump,openstackdocstheme>=2.4.0 # Apache-2.0,openstackdocstheme>=2.2.1 # Apache-2.0,1,1
openstack%2Fironic-python-agent~bugfix%2F8.3~I0f03a7f5bb2aa07c2ec2aab1a8ebfddc0c70ca87,openstack/ironic-python-agent,bugfix/8.3,I0f03a7f5bb2aa07c2ec2aab1a8ebfddc0c70ca87,Re-add python 3.6/3.7 in classifier,MERGED,2022-06-02 14:44:01.000000000,2022-06-02 15:09:40.000000000,2022-06-02 15:08:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-02 14:44:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fb1d272879a8bd5803030a3b1bbb6f848c15ebc7', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I0f03a7f5bb2aa07c2ec2aab1a8ebfddc0c70ca87\n(cherry picked from commit bdf735c662801f6cc262032c9e17c08b7dd83115)\n'}]",0,844471,fb1d272879a8bd5803030a3b1bbb6f848c15ebc7,7,2,1,15519,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I0f03a7f5bb2aa07c2ec2aab1a8ebfddc0c70ca87
(cherry picked from commit bdf735c662801f6cc262032c9e17c08b7dd83115)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/844471/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fb1d272879a8bd5803030a3b1bbb6f848c15ebc7,yoga-python-testing-bugfix/8.3, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fvenus~master~Ia12612d947e9e14d9c30e51f32fd9ced13cf462f,openstack/venus,master,Ia12612d947e9e14d9c30e51f32fd9ced13cf462f,change venus log output dir to /var/log/,MERGED,2022-06-02 14:36:42.000000000,2022-06-02 15:05:13.000000000,2022-06-02 15:03:17.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 14:36:42.000000000', 'files': ['etc/venus/venus.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/eda02a36e43580710375531b0aa3a0971ef08b87', 'message': 'change venus log output dir to /var/log/\n\nChange-Id: Ia12612d947e9e14d9c30e51f32fd9ced13cf462f\n'}]",0,844465,eda02a36e43580710375531b0aa3a0971ef08b87,7,2,1,30455,,,0,"change venus log output dir to /var/log/

Change-Id: Ia12612d947e9e14d9c30e51f32fd9ced13cf462f
",git fetch https://review.opendev.org/openstack/venus refs/changes/65/844465/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/venus/venus.conf'],1,eda02a36e43580710375531b0aa3a0971ef08b87,,log_dir = /var/log/nova/,log_dir = /var/log/kolla/nova/,1,1
openstack%2Fnova~stable%2Fussuri~I7f265cd6514f69c9911132ce3c9e8b3733e19ef2,openstack/nova,stable/ussuri,I7f265cd6514f69c9911132ce3c9e8b3733e19ef2,DNM: testing sdk job not runnign from template on ussuri,ABANDONED,2022-06-01 21:37:39.000000000,2022-06-02 14:59:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-01 21:37:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6453c68c85dab34142bc398ffe883e752184317f', 'message': 'DNM: testing sdk job not runnign from template on ussuri\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/844342\nChange-Id: I7f265cd6514f69c9911132ce3c9e8b3733e19ef2\n'}]",0,844343,6453c68c85dab34142bc398ffe883e752184317f,4,1,1,8556,,,0,"DNM: testing sdk job not runnign from template on ussuri

Depends-On: https://review.opendev.org/c/openstack/tempest/+/844342
Change-Id: I7f265cd6514f69c9911132ce3c9e8b3733e19ef2
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/844343/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6453c68c85dab34142bc398ffe883e752184317f,,, - openstacksdk-functional-devstack: irrelevant-files: *dsvm-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *dsvm-irrelevant-files,0,4
openstack%2Ftripleo-validations~master~I1b27a81a98e7c07d1bdf5c672965545997d59f79,openstack/tripleo-validations,master,I1b27a81a98e7c07d1bdf5c672965545997d59f79,Update py36 to py38 tox jobs,MERGED,2022-06-02 07:58:07.000000000,2022-06-02 14:59:06.000000000,2022-06-02 14:59:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-02 07:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8a3cbcf18cdc1b928130c5675df4f994e6a5a6d4', 'message': 'Update requirements for tripleo-validations\n\nChange-Id: I1b27a81a98e7c07d1bdf5c672965545997d59f79\n'}, {'number': 2, 'created': '2022-06-02 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fecc02d1462cb2b65290ad74af4e6e8925d64496', 'message': 'Update requirements for tripleo-validations\n\nChange-Id: I1b27a81a98e7c07d1bdf5c672965545997d59f79\n'}, {'number': 3, 'created': '2022-06-02 08:34:13.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8c7d2ab375084bace2e39b19917b240a9e7be6e', 'message': 'Update py36 to py38 tox jobs\n\nChange-Id: I1b27a81a98e7c07d1bdf5c672965545997d59f79\n'}]",0,844398,b8c7d2ab375084bace2e39b19917b240a9e7be6e,13,3,3,16515,,,0,"Update py36 to py38 tox jobs

Change-Id: I1b27a81a98e7c07d1bdf5c672965545997d59f79
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/844398/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8a3cbcf18cdc1b928130c5675df4f994e6a5a6d4,vf/py38,python-novaclient>=18.0.0 # Apache-2.0,python-novaclient>=15.1.0 # Apache-2.0,1,1
openstack%2Fneutron~stable%2Fxena~Ied5ef53882d4249e0ceaa731239befdc3ba67d03,openstack/neutron,stable/xena,Ied5ef53882d4249e0ceaa731239befdc3ba67d03,[Trunk] Check if parent port belongs to OVN to activate,MERGED,2022-05-31 09:19:25.000000000,2022-06-02 14:57:51.000000000,2022-06-02 14:55:13.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 09:19:25.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc7c9255ac0534fe0184f7ae64e09e29a57efefb', 'message': '[Trunk] Check if parent port belongs to OVN to activate\n\nIn Trunk service, the OVN was setting always the trunk to ""ACTIVE""\nanytime the trunk was created or updated. This patch changes this\nbehaviour: only when the trunk parent port belongs to OVN (that\nmeans, there is a related logical switch port to this Neutron port),\nthe methods will set the trunk to ""ACTIVE"".\n\nCloses-Bug: #1974183\nChange-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03\n(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)\n'}]",0,844017,cc7c9255ac0534fe0184f7ae64e09e29a57efefb,10,3,1,16688,,,0,"[Trunk] Check if parent port belongs to OVN to activate

In Trunk service, the OVN was setting always the trunk to ""ACTIVE""
anytime the trunk was created or updated. This patch changes this
behaviour: only when the trunk parent port belongs to OVN (that
means, there is a related logical switch port to this Neutron port),
the methods will set the trunk to ""ACTIVE"".

Closes-Bug: #1974183
Change-Id: Ied5ef53882d4249e0ceaa731239befdc3ba67d03
(cherry picked from commit 68bbd3586bdc313a6b67f2983ba2331a7956856c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/844017/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,cc7c9255ac0534fe0184f7ae64e09e29a57efefb,bug/1974183," # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return # Check if parent port is handled by OVN. if not self.plugin_driver.nb_ovn.lookup('Logical_Switch_Port', trunk.port_id, default=None): return",,12,0
openstack%2Fglance~stable%2Fvictoria~I5149df76943c1c19f3204b904c0e2d3ef846bdf7,openstack/glance,stable/victoria,I5149df76943c1c19f3204b904c0e2d3ef846bdf7,Fix set_property_atomic() boolean type casting,ABANDONED,2022-05-17 18:05:52.000000000,2022-06-02 14:56:15.000000000,,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:05:52.000000000', 'files': ['glance/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a698cc322d6d02daeefe451bec315dc9fccda1fb', 'message': 'Fix set_property_atomic() boolean type casting\n\nIn set_property_atomic() we pass an integer query filter for the\ndeleted field, since most projects use an integer for this column.\nHowever, in glance the column is a boolean, which trips up postgres\nsince the types are different (mysql and sqlite work fine). This\nminor change to use False instead of 0 should fix that for postgres\nusers.\n\nChange-Id: I5149df76943c1c19f3204b904c0e2d3ef846bdf7\nCloses-Bug: #1953063\n(cherry picked from commit 753c74c343ab4ef32879a3dd95c3a956af77f869)\n(cherry picked from commit 316ce9659acdec0bc45f8a33825ae3b076199b24)\n(cherry picked from commit 677c89c23631e9083261a1a18ed438d8966e0de2)\n'}]",2,842164,a698cc322d6d02daeefe451bec315dc9fccda1fb,6,3,1,32755,,,0,"Fix set_property_atomic() boolean type casting

In set_property_atomic() we pass an integer query filter for the
deleted field, since most projects use an integer for this column.
However, in glance the column is a boolean, which trips up postgres
since the types are different (mysql and sqlite work fine). This
minor change to use False instead of 0 should fix that for postgres
users.

Change-Id: I5149df76943c1c19f3204b904c0e2d3ef846bdf7
Closes-Bug: #1953063
(cherry picked from commit 753c74c343ab4ef32879a3dd95c3a956af77f869)
(cherry picked from commit 316ce9659acdec0bc45f8a33825ae3b076199b24)
(cherry picked from commit 677c89c23631e9083261a1a18ed438d8966e0de2)
",git fetch https://review.opendev.org/openstack/glance refs/changes/64/842164/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/sqlalchemy/api.py'],1,a698cc322d6d02daeefe451bec315dc9fccda1fb,," # UPDATE image_properties SET value=$value, deleted=False # WHERE name=$name AND deleted!=False table.c.deleted != False)).values( value=value, deleted=False)) table.c.deleted == False)))"," # UPDATE image_properties SET value=$value, deleted=0 # WHERE name=$name AND deleted!=0 table.c.deleted != 0)).values( value=value, deleted=0)) table.c.deleted == 0)))",5,5
openstack%2Ftripleo-quickstart-extras~master~I28d3f6abe31a4bd4f0ef02e18886bd9ce3d26bc9,openstack/tripleo-quickstart-extras,master,I28d3f6abe31a4bd4f0ef02e18886bd9ce3d26bc9,DNM: test ansible.utils new version,ABANDONED,2022-05-25 12:53:37.000000000,2022-06-02 14:52:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-25 12:53:37.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/45b95a2089f4c83bc14fe8df9bd5f285f3dd3aae', 'message': 'DNM: test ansible.utils new version\n\ngithub: https://github.com/ansible-collections/ansible.utils/pull/184\nChange-Id: I28d3f6abe31a4bd4f0ef02e18886bd9ce3d26bc9\n'}]",0,843276,45b95a2089f4c83bc14fe8df9bd5f285f3dd3aae,6,2,1,10969,,,0,"DNM: test ansible.utils new version

github: https://github.com/ansible-collections/ansible.utils/pull/184
Change-Id: I28d3f6abe31a4bd4f0ef02e18886bd9ce3d26bc9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/843276/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,45b95a2089f4c83bc14fe8df9bd5f285f3dd3aae,col_utils,# test,,1,0
openstack%2Ftripleo-ci~master~I7efd634eb55492c707da0a3aaf484dac272e79b8,openstack/tripleo-ci,master,I7efd634eb55492c707da0a3aaf484dac272e79b8,"Revert ""Pass release to quickstart.sh in bootstrap command""",ABANDONED,2022-06-02 14:39:19.000000000,2022-06-02 14:40:32.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-06-02 14:39:19.000000000', 'files': ['roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e3b289bb132a9e9b3d97fcf8eb47ebe53272257', 'message': 'Revert ""Pass release to quickstart.sh in bootstrap command""\n\nThis reverts commit bfff8b35e4297f08c46f56d8ee21083771514fcf.\n\nReason for revert: WIP Testing\n\nChange-Id: I7efd634eb55492c707da0a3aaf484dac272e79b8\n'}]",0,844470,1e3b289bb132a9e9b3d97fcf8eb47ebe53272257,2,6,1,30750,,,0,"Revert ""Pass release to quickstart.sh in bootstrap command""

This reverts commit bfff8b35e4297f08c46f56d8ee21083771514fcf.

Reason for revert: WIP Testing

Change-Id: I7efd634eb55492c707da0a3aaf484dac272e79b8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/70/844470/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_quickstart.sh.j2'],1,1e3b289bb132a9e9b3d97fcf8eb47ebe53272257,,, --release $QUICKSTART_RELEASE,0,1
openstack%2Ftripleo-ci~master~I0b07b372cd4ca5b53a6b0710fac3d700f1130d79,openstack/tripleo-ci,master,I0b07b372cd4ca5b53a6b0710fac3d700f1130d79,Pass release to quickstart.sh in bootstrap command,MERGED,2022-05-31 21:42:56.000000000,2022-06-02 14:39:19.000000000,2022-06-02 10:37:47.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-31 21:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cd27385a6743f4d938975d80cb22f276a87bcfdc', 'message': 'Pass release to quickstart.sh in bootstrap command\n\nWe may want to condition certain actions during bootstrap depending on\nthe release that is being tested, such as [0]. This patch passes in the\n--release flag to quickstart.sh during bootstrap so the script can be\naware of the required release.\n\n[0] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497\nChange-Id: I0b07b372cd4ca5b53a6b0710fac3d700f1130d79\n'}, {'number': 2, 'created': '2022-06-01 12:24:33.000000000', 'files': ['roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfff8b35e4297f08c46f56d8ee21083771514fcf', 'message': 'Pass release to quickstart.sh in bootstrap command\n\nWe may want to condition certain actions during bootstrap depending on\nthe release that is being tested, such as [0]. This patch passes in the\n--release flag to quickstart.sh during bootstrap so the script can be\naware of the required release.\n\n[0] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497\n\nChange-Id: I0b07b372cd4ca5b53a6b0710fac3d700f1130d79\n'}]",9,844141,bfff8b35e4297f08c46f56d8ee21083771514fcf,22,5,2,34208,,,0,"Pass release to quickstart.sh in bootstrap command

We may want to condition certain actions during bootstrap depending on
the release that is being tested, such as [0]. This patch passes in the
--release flag to quickstart.sh during bootstrap so the script can be
aware of the required release.

[0] https://review.opendev.org/c/openstack/tripleo-quickstart/+/843497

Change-Id: I0b07b372cd4ca5b53a6b0710fac3d700f1130d79
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/844141/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_quickstart.sh.j2'],1,cd27385a6743f4d938975d80cb22f276a87bcfdc,, --release $QUICKSTART_RELEASE,,1,0
openstack%2Fvalidations-libs~master~I403f944ebc37b869b1546ac8be5a92c15a1f73e1,openstack/validations-libs,master,I403f944ebc37b869b1546ac8be5a92c15a1f73e1,Update py36 to py38 tox jobs,MERGED,2022-06-02 08:45:13.000000000,2022-06-02 14:32:09.000000000,2022-06-02 14:32:09.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-02 08:45:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5e1c4b03c88cc583b6b0c9573c794d6112b6e2c0', 'message': 'Update py36 to py38 tox jobs\n\nChange-Id: I403f944ebc37b869b1546ac8be5a92c15a1f73e1\n'}]",0,844401,5e1c4b03c88cc583b6b0c9573c794d6112b6e2c0,7,3,1,16515,,,0,"Update py36 to py38 tox jobs

Change-Id: I403f944ebc37b869b1546ac8be5a92c15a1f73e1
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/01/844401/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5e1c4b03c88cc583b6b0c9573c794d6112b6e2c0,vf/py38, - openstack-tox-py38 - openstack-tox-py38, - openstack-tox-py36 - openstack-tox-py36,2,2
openstack%2Fvalidations-common~master~I39bdcfad9ede1456e8fd561ed3b251ebb44d8aba,openstack/validations-common,master,I39bdcfad9ede1456e8fd561ed3b251ebb44d8aba,Update py36 to py38 tox jobs,MERGED,2022-06-02 08:46:37.000000000,2022-06-02 14:32:07.000000000,2022-06-02 14:32:07.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-02 08:46:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ed1d5e44c264da52ad22e255cdc2755df2d9a8a9', 'message': 'Update py36 to py38 tox jobs\n\nChange-Id: I39bdcfad9ede1456e8fd561ed3b251ebb44d8aba\n'}]",0,844402,ed1d5e44c264da52ad22e255cdc2755df2d9a8a9,7,3,1,16515,,,0,"Update py36 to py38 tox jobs

Change-Id: I39bdcfad9ede1456e8fd561ed3b251ebb44d8aba
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/02/844402/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed1d5e44c264da52ad22e255cdc2755df2d9a8a9,vf/py38, - openstack-tox-py38 - openstack-tox-py38, - openstack-tox-py36 - openstack-tox-py36,2,2
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Icbeb8b116e6e9e8592041bdad90c3c80bb0a4e4c,openstack/tripleo-puppet-elements,stable/wallaby,Icbeb8b116e6e9e8592041bdad90c3c80bb0a4e4c,Remove unused puppet-keepalived,MERGED,2022-05-13 12:52:24.000000000,2022-06-02 14:32:04.000000000,2022-06-02 14:32:04.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-13 12:52:24.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/b29e9de189007fdb97313cf67d815fe33524ab20', 'message': 'Remove unused puppet-keepalived\n\nDepends-on: https://review.opendev.org/840344\nChange-Id: Icbeb8b116e6e9e8592041bdad90c3c80bb0a4e4c\n(cherry picked from commit 998ea4089ca724b5b5b312aba29aa5ad40d0c80d)\n'}]",2,841752,b29e9de189007fdb97313cf67d815fe33524ab20,17,4,1,9816,,,0,"Remove unused puppet-keepalived

Depends-on: https://review.opendev.org/840344
Change-Id: Icbeb8b116e6e9e8592041bdad90c3c80bb0a4e4c
(cherry picked from commit 998ea4089ca724b5b5b312aba29aa5ad40d0c80d)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/52/841752/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,b29e9de189007fdb97313cf67d815fe33524ab20,pe-cleanup-w,,puppet-module-keepalived git /opt/stack/puppet-modules/keepalived https://github.com/Unyonsys/puppet-module-keepalived.git,0,2
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I96a370da031cfaa7f901b49c0b868b7c6d051c4c,openstack/tripleo-puppet-elements,stable/wallaby,I96a370da031cfaa7f901b49c0b868b7c6d051c4c,Remove modules to deploy Contrail components,MERGED,2022-04-28 08:02:21.000000000,2022-06-02 14:32:02.000000000,2022-06-02 14:32:02.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-28 08:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/ffc43f79e807cfe3d6686888bb5279bf90ef5481', 'message': 'Remove modules to deploy Contrail components\n\n... because manifests to deploy Contrail components are removed.\nThis also removes elements to install contrail software because there\nis no implementation left dependent on the elements in upstream.\n\nDepends-on: https://review.opendev.org/834980\nChange-Id: I96a370da031cfaa7f901b49c0b868b7c6d051c4c\n(cherry picked from commit 6bc4e2c787d5b939e36ffcedda82940462998ce1)\n'}, {'number': 2, 'created': '2022-05-13 12:43:30.000000000', 'files': ['elements/overcloud-contrail-controller/pkg-map', 'elements/overcloud-contrail-controller/element-deps', 'elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules', 'elements/overcloud-contrail-controller/README.md', 'elements/overcloud-contrail-controller/install.d/package-installs-overcloud-contrail-controller'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/76d9bbfcfcfb51db47b0bbe7c2d8fe6f453867e2', 'message': 'Remove modules to deploy Contrail components\n\n... because manifests to deploy Contrail components are removed.\nThis also removes elements to install contrail software because there\nis no implementation left dependent on the elements in upstream.\n\nConflicts:\n\telements/puppet-modules/source-repository-puppet-modules\n\nDepends-on: https://review.opendev.org/839184\nChange-Id: I96a370da031cfaa7f901b49c0b868b7c6d051c4c\n(cherry picked from commit 6bc4e2c787d5b939e36ffcedda82940462998ce1)\n'}]",3,839665,76d9bbfcfcfb51db47b0bbe7c2d8fe6f453867e2,26,5,2,4264,,,0,"Remove modules to deploy Contrail components

... because manifests to deploy Contrail components are removed.
This also removes elements to install contrail software because there
is no implementation left dependent on the elements in upstream.

Conflicts:
	elements/puppet-modules/source-repository-puppet-modules

Depends-on: https://review.opendev.org/839184
Change-Id: I96a370da031cfaa7f901b49c0b868b7c6d051c4c
(cherry picked from commit 6bc4e2c787d5b939e36ffcedda82940462998ce1)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/65/839665/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-contrail-controller/pkg-map', 'elements/overcloud-contrail-controller/element-deps', 'elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules', 'elements/overcloud-contrail-controller/README.md', 'elements/overcloud-contrail-controller/install.d/package-installs-overcloud-contrail-controller']",6,ffc43f79e807cfe3d6686888bb5279bf90ef5481,tripleo-contrail-cleanup-stable/wallaby,,contrail_analytics_package contrail_config_package contrail_control_package contrail_database_package contrail_webui_package ,12,25
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I47870cc5bd12af0919774536cb23026450db6c14,openstack/puppet-tripleo,stable/wallaby,I47870cc5bd12af0919774536cb23026450db6c14,Remove manifests for Contrail deployment,MERGED,2022-04-25 13:08:01.000000000,2022-06-02 14:31:59.000000000,2022-06-02 14:31:59.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bd481a921a2c97786d2e928129622be33550e7e0', 'message': 'Remove manifests for Contrail deployment\n\nThis change removes puppet manifests to deploy Contrail components.\nThese have never been tested in upstream, and no longer used in\nthe recent integration method maintained in [1].\n\n[1] https://github.com/tungstenfabric/tf-tripleo-heat-templates\n\nChange-Id: I47870cc5bd12af0919774536cb23026450db6c14\n(cherry picked from commit 5967b1ff65857ae406f48160968b2ff7122afbb6)\n'}, {'number': 2, 'created': '2022-04-28 08:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e1b02316b6a5d5f5ca3b36de5ce8917b1e471404', 'message': 'Remove manifests for Contrail deployment\n\nThis change removes puppet manifests to deploy Contrail components.\nThese have never been tested in upstream, and no longer used in\nthe recent integration method maintained in [1].\n\n[1] https://github.com/tungstenfabric/tf-tripleo-heat-templates\n\nChange-Id: I47870cc5bd12af0919774536cb23026450db6c14\n(cherry picked from commit 5967b1ff65857ae406f48160968b2ff7122afbb6)\n'}, {'number': 3, 'created': '2022-05-04 13:04:44.000000000', 'files': ['manifests/network/contrail/heat.pp', 'manifests/profile/base/neutron/opencontrail/vrouter.pp', 'manifests/network/contrail/webui.pp', 'manifests/network/contrail/database.pp', 'manifests/network/contrail/analytics.pp', 'manifests/network/contrail/config.pp', 'manifests/network/contrail/provision.pp', 'manifests/network/contrail/neutron_plugin.pp', 'manifests/network/contrail/control.pp', 'manifests/network/contrail/analyticsdatabase.pp', 'manifests/network/contrail/vrouter.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c2c22d946dfbcd19eff5b9651c73bac15ed3cbce', 'message': 'Remove manifests for Contrail deployment\n\nThis change removes puppet manifests to deploy Contrail components.\nThese have never been tested in upstream, and no longer used in\nthe recent integration method maintained in [1].\n\n[1] https://github.com/tungstenfabric/tf-tripleo-heat-templates\n\nChange-Id: I47870cc5bd12af0919774536cb23026450db6c14\n(cherry picked from commit 5967b1ff65857ae406f48160968b2ff7122afbb6)\n'}]",3,839184,c2c22d946dfbcd19eff5b9651c73bac15ed3cbce,25,5,3,9816,,,0,"Remove manifests for Contrail deployment

This change removes puppet manifests to deploy Contrail components.
These have never been tested in upstream, and no longer used in
the recent integration method maintained in [1].

[1] https://github.com/tungstenfabric/tf-tripleo-heat-templates

Change-Id: I47870cc5bd12af0919774536cb23026450db6c14
(cherry picked from commit 5967b1ff65857ae406f48160968b2ff7122afbb6)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/839184/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/network/contrail/heat.pp', 'manifests/network/contrail/webui.pp', 'manifests/profile/base/neutron/opencontrail/vrouter.pp', 'manifests/network/contrail/analytics.pp', 'manifests/network/contrail/config.pp', 'manifests/network/contrail/database.pp', 'manifests/network/contrail/provision.pp', 'manifests/network/contrail/neutron_plugin.pp', 'manifests/network/contrail/control.pp', 'manifests/network/contrail/analyticsdatabase.pp', 'manifests/network/contrail/vrouter.pp']",11,bd481a921a2c97786d2e928129622be33550e7e0,tripleo-contrail-cleanup-stable/wallaby,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::neutron::opencontrail::vrouter # # Opencontrail profile to run the contrail vrouter # # === Parameters # # [*step*] # (Optional) The current step of the deployment # Defaults to hiera('step') # # [*admin_password*] # (optional) admin password # String value. # Defaults to hiera('contrail::admin_password') # # [*admin_tenant_name*] # (optional) admin tenant name. # String value. # Defaults to hiera('contrail::admin_tenant_name') # # [*admin_token*] # (optional) admin token # String value. # Defaults to hiera('contrail::admin_token') # # [*admin_user*] # (optional) admin user name. # String value. # Defaults to hiera('contrail::admin_user') # # [*api_server*] # (optional) IP address of api server # String value. # Defaults to hiera('contrail_config_vip',hiera('internal_api_virtual_ip')) # # [*api_port*] # (optional) port of api server # String value. # Defaults to hiera('contrail::api_port') # # [*auth_host*] # (optional) keystone server ip address # String (IPv4) value. # Defaults to hiera('contrail::auth_host') # # [*auth_port*] # (optional) keystone port. # Integer value. # Defaults to hiera('contrail::auth_port') # # [*auth_protocol*] # (optional) authentication protocol. # String value. # Defaults to hiera('contrail::auth_protocol') # # [*ca_file*] # (optional) ca file name # String value. # Defaults to hiera('contrail::service_certificate',false) # # [*cert_file*] # (optional) cert file name # String value. # Defaults to hiera('contrail::service_certificate',false) # # [*control_server*] # (optional) Contrail control server IP # Array of String (IPv4) value. # Defaults to hiera('contrail_control_node_ips') # # [*disc_server_ip*] # (optional) IPv4 address of discovery server. # String (IPv4) value. # Defaults to hiera('contrail::disc_server_ip') # # [*disc_server_port*] # (optional) port Discovery server listens on. # Integer value. # Defaults to hiera('contrail::disc_server_port') # # [*gateway*] # (optional) Default GW for vrouter # String (IPv4) value. # Defaults to hiera('contrail::vrouter::gateway') # # [*host_ip*] # (optional) host IP address of vrouter # String (IPv4) value. # Defaults to hiera('contrail::vrouter::host_ip') # # [*insecure*] # (optional) insecure connections allowed # String value. # Defaults to hiera('contrail::insecure') # # [*memcached_servers*] # (optional) memcached server ip # String (IPv4) value. # Defaults to hiera('contrail::memcached_server') # # [*metadata_secret*] # (optional) secret for metadata # String value. # Defaults to hiera('contrail::vrouter::metadata_proxy_shared_secret') # # [*netmask*] # (optional) netmask for vrouter interface # String (IPv4) value. # Defaults to hiera('contrail::vrouter::netmask') # # [*physical_interface*] # (optional) vrouter interface # String value. # Defaults to hiera('contrail::vrouter::physical_interface') # # [*internal_vip*] # (optional) Public VIP to Keystone # String (IPv4) value. # Defaults to hiera('internal_api_virtual_ip') # # [*is_tsn*] # (optional) Turns vrouter into TSN # String value. # Defaults to hiera('contrail::vrouter::is_tsn',false) # # [*is_dpdk*] # (optional) Turns vrouter into DPDK Compute Node # String value. # Defaults to hiera('contrail::vrouter::is_dpdk',false) # class tripleo::network::contrail::vrouter ( $step = Integer(hiera('step')), $admin_password = hiera('contrail::admin_password'), $admin_tenant_name = hiera('contrail::admin_tenant_name'), $admin_token = hiera('contrail::admin_token'), $admin_user = hiera('contrail::admin_user'), $api_port = hiera('contrail::api_port'), $api_server = hiera('contrail_config_vip',hiera('internal_api_virtual_ip')), $auth_host = hiera('contrail::auth_host'), $auth_port = hiera('contrail::auth_port'), $auth_protocol = hiera('contrail::auth_protocol'), $ca_file = hiera('contrail::service_certificate',false), $cert_file = hiera('contrail::service_certificate',false), $control_server = hiera('contrail::vrouter::control_node_ips'), $disc_server_ip = hiera('contrail_config_vip',hiera('internal_api_virtual_ip')), $disc_server_port = hiera('contrail::disc_server_port'), $gateway = hiera('contrail::vrouter::gateway'), $host_ip = hiera('contrail::vrouter::host_ip'), $insecure = hiera('contrail::insecure'), $memcached_servers = hiera('contrail::memcached_server'), $metadata_secret = hiera('contrail::vrouter::metadata_proxy_shared_secret'), $netmask = hiera('contrail::vrouter::netmask'), $physical_interface = hiera('contrail::vrouter::physical_interface'), $internal_vip = hiera('internal_api_virtual_ip'), $is_tsn = hiera('contrail::vrouter::is_tsn',false), $is_dpdk = hiera('contrail::vrouter::is_dpdk',false), ) { $cidr = netmask_to_cidr($netmask) notify { 'cidr': message => $cidr, } #include contrail::vrouter # NOTE: it's not possible to use this class without a functional # contrail controller up and running if size($control_server) == 0 { #$control_server_list = join(hiera('contrail_control_node_ips'), ' ') $control_server_list = '' } else { $control_server_list = join($control_server, ' ') } if $auth_protocol == 'https' { $keystone_config = { 'KEYSTONE' => { 'admin_password' => $admin_password, 'admin_tenant_name' => $admin_tenant_name, 'admin_token' => $admin_token, 'admin_user' => $admin_user, 'auth_host' => $auth_host, 'auth_port' => $auth_port, 'auth_protocol' => $auth_protocol, 'insecure' => $insecure, 'memcached_servers' => $memcached_servers, 'certfile' => $cert_file, 'cafile' => $ca_file, }, } $vnc_api_lib_config = { 'auth' => { 'AUTHN_SERVER' => $auth_host, 'AUTHN_PORT' => $auth_port, 'AUTHN_PROTOCOL' => $auth_protocol, 'certfile' => $cert_file, 'cafile' => $ca_file, }, } } else { $keystone_config = { 'KEYSTONE' => { 'admin_password' => $admin_password, 'admin_tenant_name' => $admin_tenant_name, 'admin_token' => $admin_token, 'admin_user' => $admin_user, 'auth_host' => $auth_host, 'auth_port' => $auth_port, 'auth_protocol' => $auth_protocol, 'insecure' => $insecure, 'memcached_servers' => $memcached_servers, }, } $vnc_api_lib_config = { 'auth' => { 'AUTHN_SERVER' => $auth_host, }, } } if $is_tsn { $macaddress = inline_template(""<%= scope.lookupvar('::macaddress_${physical_interface}') -%>"") $vrouter_agent_config = { 'DEFAULT' => { 'agent_mode' => 'tsn', }, 'DNS' => { 'server' => $control_server_list, }, 'CONTROL-NODE' => { 'server' => $control_server_list, }, 'NETWORKS' => { 'control_network_ip' => $host_ip, }, 'VIRTUAL-HOST-INTERFACE' => { 'compute_node_address' => $host_ip, 'gateway' => $gateway, 'ip' => ""${host_ip}/${cidr}"", 'name' => 'vhost0', 'physical_interface' => $physical_interface, }, 'METADATA' => { 'metadata_proxy_secret' => $metadata_secret, }, 'DISCOVERY' => { 'server' => $disc_server_ip, 'port' => $disc_server_port, }, } } elsif $is_dpdk { $pciaddress = generate('/bin/cat','/etc/contrail/dpdk_pci') $macaddress = generate('/bin/cat','/etc/contrail/dpdk_mac') $vrouter_agent_config = { 'DEFAULT' => { 'platform' => 'dpdk', 'physical_uio_driver' => 'uio_pci_generic', 'physical_interface_mac' => $macaddress, 'physical_interface_address' => $pciaddress, }, 'DNS' => { 'server' => $control_server_list, }, 'CONTROL-NODE' => { 'server' => $control_server_list, }, 'NETWORKS' => { 'control_network_ip' => $host_ip, }, 'VIRTUAL-HOST-INTERFACE' => { 'compute_node_address' => $host_ip, 'gateway' => $gateway, 'ip' => ""${host_ip}/${cidr}"", 'name' => 'vhost0', 'physical_interface' => $physical_interface, }, 'METADATA' => { 'metadata_proxy_secret' => $metadata_secret, }, 'DISCOVERY' => { 'server' => $disc_server_ip, 'port' => $disc_server_port, }, } } else { $macaddress = inline_template(""<%= scope.lookupvar('::macaddress_${physical_interface}') -%>"") $vrouter_agent_config = { 'DNS' => { 'server' => $control_server_list, }, 'CONTROL-NODE' => { 'server' => $control_server_list, }, 'NETWORKS' => { 'control_network_ip' => $host_ip, }, 'VIRTUAL-HOST-INTERFACE' => { 'compute_node_address' => $host_ip, 'gateway' => $gateway, 'ip' => ""${host_ip}/${cidr}"", 'name' => 'vhost0', 'physical_interface' => $physical_interface, }, 'METADATA' => { 'metadata_proxy_secret' => $metadata_secret, }, 'DISCOVERY' => { 'server' => $disc_server_ip, 'port' => $disc_server_port, }, } } class {'contrail::vrouter': discovery_ip => $disc_server_ip, gateway => $gateway, host_ip => $host_ip, is_tsn => $is_tsn, is_dpdk => $is_dpdk, macaddr => $macaddress, mask => $cidr, netmask => $netmask, physical_interface => $physical_interface, vhost_ip => $host_ip, keystone_config => $keystone_config, vrouter_agent_config => $vrouter_agent_config, vrouter_nodemgr_config => { 'DISCOVERY' => { 'server' => $disc_server_ip, 'port' => $disc_server_port, }, }, vnc_api_lib_config => $vnc_api_lib_config, } if $step >= 5 { class {'contrail::vrouter::provision_vrouter': api_address => $api_server, api_port => $api_port, host_ip => $host_ip, node_name => $::hostname, keystone_admin_user => $admin_user, keystone_admin_password => $admin_password, keystone_admin_tenant_name => $admin_tenant_name, is_tsn => $is_tsn, is_dpdk => $is_dpdk, } } } ",0,2275
openstack%2Fironic~stable%2Fyoga~Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,openstack/ironic,stable/yoga,Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40,Don't use URLs as part of temporary file names (part 2),MERGED,2022-05-30 10:42:59.000000000,2022-06-02 14:10:40.000000000,2022-06-02 14:08:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-30 10:42:59.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/file-name-too-long-72265bb3fec704f8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d035a8fd0219350ad64c1449eaef4eb621eb3b29', 'message': 'Don\'t use URLs as part of temporary file names (part 2)\n\nFirst, it\'s leaking information. Second, the URLs can be really long and\ncause ""OSError: [Errno 36] File name too long"".\n\nThe same issue has already been fixed in the image cache, this change\nupdates building ISO. Since the files are created in a temporary\nlocation, just use constant names.\n\nChange-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40\n(cherry picked from commit 2d885126ec5b3cfbe548fa42325d53fbc47d8fd4)\n'}]",1,843813,d035a8fd0219350ad64c1449eaef4eb621eb3b29,15,2,1,10239,,,0,"Don't use URLs as part of temporary file names (part 2)

First, it's leaking information. Second, the URLs can be really long and
cause ""OSError: [Errno 36] File name too long"".

The same issue has already been fixed in the image cache, this change
updates building ISO. Since the files are created in a temporary
location, just use constant names.

Change-Id: Ie5e0523bb4a8941bcb8dc87c4a0b29cb28ddfe40
(cherry picked from commit 2d885126ec5b3cfbe548fa42325d53fbc47d8fd4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/843813/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/file-name-too-long-72265bb3fec704f8.yaml']",3,d035a8fd0219350ad64c1449eaef4eb621eb3b29,file-name-too-long-stable/yoga,"--- fixes: - | Fixes ``OSError: [Errno 36] File name too long`` when building a virtual media ISO from a long kernel, ramdisk or ESP URL. ",,35,32
openstack%2Fcinder~master~Id9eae8fff3d8804ec587f888c9909283de5b3c95,openstack/cinder,master,Id9eae8fff3d8804ec587f888c9909283de5b3c95,"db: Migrate ""message"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-02 13:57:08.000000000,2022-06-02 13:55:16.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3975230ca27bb961af7de1e87d8b1aaf69ece85a', 'message': 'db: Migrate ""message"" APIs to enginefacade\n\nMigrate message-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: Id9eae8fff3d8804ec587f888c9909283de5b3c95\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,837533,3975230ca27bb961af7de1e87d8b1aaf69ece85a,33,4,1,15334,,,0,"db: Migrate ""message"" APIs to enginefacade

Migrate message-related APIs from the legacy enginefacade to the
modern context-based enginefacade.

Change-Id: Id9eae8fff3d8804ec587f888c9909283de5b3c95
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/837533/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,3975230ca27bb961af7de1e87d8b1aaf69ece85a,remove-legacyfacade,"# TODO: Convert this query = model_query( context, models.Message, read_deleted=""no"", project_only=""yes"", session=session, )@main_context_manager.reader def message_get(context, message_id): result = _message_get(context, message_id)@main_context_manager.reader def message_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys or sets cause an 'IN' operation, while exact matching is used for other values, see _process_messages_filters function for more information # Generate the paginate query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, messages, ) if query is None: return [] results = query.all() return _translate_messages(results) return model_query( context, models.Message, session=session, project_only=project_only )@main_context_manager.writer context.session.add(message_ref)@main_context_manager.writer def message_destroy(context, message): query = model_query( context, models.Message, ).filter_by(id=message.get('id')) entity = query.column_descriptions[0]['entity'] updated_values = { 'deleted': True, 'deleted_at': now, 'updated_at': entity.updated_at, } query.update(updated_values)@main_context_manager.writer def cleanup_expired_messages(context): # NOTE(tommylikehu): Directly delete the expired # messages here. return ( context.session.query(models.Message) .filter(models.Message.expires_at < now) .delete() )"," query = model_query(context, models.Message, read_deleted=""no"", project_only=""yes"", session=session)def message_get(context, message_id, session=None): result = _message_get(context, message_id, session)def message_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys or sets cause an 'IN' operation, while exact matching is used for other values, see _process_messages_filters function for more information session = get_session() with session.begin(): # Generate the paginate query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, messages) if query is None: return [] results = query.all() return _translate_messages(results) return model_query(context, models.Message, session=session, project_only=project_only) session = get_session() with session.begin(): session.add(message_ref)def message_destroy(context, message): session = get_session() with session.begin(): query = model_query(context, models.Message, session=session).\ filter_by(id=message.get('id')) entity = query.column_descriptions[0]['entity'] updated_values = {'deleted': True, 'deleted_at': now, 'updated_at': entity.updated_at} query.update(updated_values)def cleanup_expired_messages(context): session = get_session() with session.begin(): # NOTE(tommylikehu): Directly delete the expired # messages here. return session.query(models.Message).filter( models.Message.expires_at < now).delete()",67,46
openstack%2Fneutron~master~Ia041f640293ba26abf9f70af915817e9861e8ffc,openstack/neutron,master,Ia041f640293ba26abf9f70af915817e9861e8ffc,[OVN] Add baremetal support without Neutron DHCP agent for IPv4,MERGED,2022-05-03 14:30:50.000000000,2022-06-02 13:56:59.000000000,2022-06-02 13:55:10.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-03 14:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/186c2ed5b09bd1b9f57db5d5168132926f21ab47', 'message': '[OVN] Add baremetal support without Neutron DHCP agent\n\nNOT TESTED YET\n\nCloses-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2022-05-06 10:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01a8e93be3ed201999193bbcc39ed34fd134b423', 'message': '[OVN] Add baremetal support without Neutron DHCP agent\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n\nCloses-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2022-05-06 10:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f565765ee2b76ea6afb463627f6e2d1efd5d700', 'message': '[OVN] Add baremetal support without Neutron DHCP agent\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n\nCloses-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2022-05-06 10:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4df4a88f1e46e8b4a4b6e08d0e6d701a31447b88', 'message': '[OVN] Add baremetal support without Neutron DHCP agent\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n\nCloses-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2022-05-06 11:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca8f1e0237d50fb57a95e0535e8eee5282435267', 'message': '[OVN] Add baremetal support without Neutron DHCP agent for IPv4\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server for IPv4.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n\nPartial-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2022-05-23 09:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cc89dbf472692501efdabac242a0a6643965ce1', 'message': '[OVN] Add baremetal support without Neutron DHCP agent for IPv4\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server for IPv4.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\nNot that the ""server-ip-address"" DHCP Option now points to the\n""next_server"" option in OVN instead of the ""tftp_server_address"". The\nprevious behavior was wrong, the ""server-ip-address"" should set the\n""siaddr"" in the DHCP header and this has been introduced in OVN [2] as\nan option called ""next_server"".\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n[2]\nhttps://patchwork.ozlabs.org/project/ovn/patch/20220511142757.168196-1-lmartins@redhat.com/\n\nPartial-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2022-05-24 10:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92ac3f840edb7ddc5a8c4c928f67a92fc59d1115', 'message': '[OVN] Add baremetal support without Neutron DHCP agent for IPv4\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server for IPv4.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\nNot that the ""server-ip-address"" DHCP Option now points to the\n""next_server"" option in OVN instead of the ""tftp_server_address"". The\nprevious behavior was wrong, the ""server-ip-address"" should set the\n""siaddr"" in the DHCP header and this has been introduced in OVN [2] as\nan option called ""next_server"".\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n[2]\nhttps://patchwork.ozlabs.org/project/ovn/patch/20220511142757.168196-1-lmartins@redhat.com/\n\nPartial-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2022-05-24 12:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce276c1f65acdcd0771c0ac2f8060bb93ed606eb', 'message': '[OVN] Add baremetal support without Neutron DHCP agent for IPv4\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server for IPv4.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\nNot that the ""server-ip-address"" DHCP Option now points to the\n""next_server"" option in OVN instead of the ""tftp_server_address"". The\nprevious behavior was wrong, the ""server-ip-address"" should set the\n""siaddr"" in the DHCP header and this has been introduced in OVN [2] as\nan option called ""next_server"".\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n[2]\nhttps://patchwork.ozlabs.org/project/ovn/patch/20220511142757.168196-1-lmartins@redhat.com/\n\nPartial-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2022-05-25 09:16:02.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'doc/source/ovn/gaps.rst', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/ovn-baremetal-provisioning-04211d04d4897833.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e73a85f3dd15aea2564a34f36261cd4c03128450', 'message': '[OVN] Add baremetal support without Neutron DHCP agent for IPv4\n\nThis patch adds support for deploying baremetal nodes with OVN\'s\nbuilt-in DHCP server for IPv4.\n\nSince Neutron API\'s for setting DHCP options is mostly a pass-thru,\nIronic uses a dnsmasq syntax for setting the baremetal options [0].\nSince this syntax is unlikely to change and it\'s only a tiny subset of\nwhat dnsmasq can offer this patch does translate that syntax used by\nIronic and convert it to OVN\'s equivalent options. In this way we do not\nneed to re-design Neutron\'s DHCP options API nor change Ironic to use it\nwith ML2/OVN.\n\nThis option also adds a new configuration option called\n""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very\nsensitive and operators may prefer to use a fully-fledged DHCP server to\ndo it (even Ironic makes DHCP pluggable). So if operators wish to\ndisable OVN\'s built-in DHCP server for baremetal provisioning they can\ndo so by setting this new option to True. It defaults to False.\n\nThis change has been tested with real hardware and it does work. That\nsaid, we found a problem in core OVN itself [1] while testing it that\ncan affect PXE from reaching the TFTP server, we already communicated\nthis with the core OVN folks and we hope it can be fixed soon. The\nchange in core OVN should not affect the Neutron change tho.\n\nNot that the ""server-ip-address"" DHCP Option now points to the\n""next_server"" option in OVN instead of the ""tftp_server_address"". The\nprevious behavior was wrong, the ""server-ip-address"" should set the\n""siaddr"" in the DHCP header and this has been introduced in OVN [2] as\nan option called ""next_server"".\n\n[0]\nhttps://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538\n[1]\nhttps://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html\n[2]\nhttps://patchwork.ozlabs.org/project/ovn/patch/20220511142757.168196-1-lmartins@redhat.com/\n\nPartial-Bug: #1971431\nChange-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",26,840316,e73a85f3dd15aea2564a34f36261cd4c03128450,69,9,9,6773,,,0,"[OVN] Add baremetal support without Neutron DHCP agent for IPv4

This patch adds support for deploying baremetal nodes with OVN's
built-in DHCP server for IPv4.

Since Neutron API's for setting DHCP options is mostly a pass-thru,
Ironic uses a dnsmasq syntax for setting the baremetal options [0].
Since this syntax is unlikely to change and it's only a tiny subset of
what dnsmasq can offer this patch does translate that syntax used by
Ironic and convert it to OVN's equivalent options. In this way we do not
need to re-design Neutron's DHCP options API nor change Ironic to use it
with ML2/OVN.

This option also adds a new configuration option called
""disable_ovn_dhcp_for_baremetal_ports"". PXE booting nodes can be very
sensitive and operators may prefer to use a fully-fledged DHCP server to
do it (even Ironic makes DHCP pluggable). So if operators wish to
disable OVN's built-in DHCP server for baremetal provisioning they can
do so by setting this new option to True. It defaults to False.

This change has been tested with real hardware and it does work. That
said, we found a problem in core OVN itself [1] while testing it that
can affect PXE from reaching the TFTP server, we already communicated
this with the core OVN folks and we hope it can be fixed soon. The
change in core OVN should not affect the Neutron change tho.

Not that the ""server-ip-address"" DHCP Option now points to the
""next_server"" option in OVN instead of the ""tftp_server_address"". The
previous behavior was wrong, the ""server-ip-address"" should set the
""siaddr"" in the DHCP header and this has been introduced in OVN [2] as
an option called ""next_server"".

[0]
https://github.com/openstack/ironic/blob/49113385e89c52b56152418d3a0c8c69ddaf8b6e/ironic/common/pxe_utils.py#L523-L538
[1]
https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051821.html
[2]
https://patchwork.ozlabs.org/project/ovn/patch/20220511142757.168196-1-lmartins@redhat.com/

Partial-Bug: #1971431
Change-Id: Ia041f640293ba26abf9f70af915817e9861e8ffc
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/840316/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/common/ovn/constants.py']",2,186c2ed5b09bd1b9f57db5d5168132926f21ab47,ovn-baremetal,"import copy# Baremetal specific DHCP options for VNIC_BAREMETAL ports SUPPORTED_BM_DHCP_OPTS_MAPPING = copy.deepcopy( SUPPORTED_DHCP_OPTS_MAPPING) SUPPORTED_BM_DHCP_OPTS_MAPPING[4].update({ 'tag:ipxe,bootfile-name': 'bootfile_name', 'tag:ipxe,67': 'bootfile_name', 'tag:!ipxe,bootfile-name': 'bootfile_name_alt', 'tag:!ipxe,67': 'bootfile_name_alt'}) SUPPORTED_BM_DHCP_OPTS_MAPPING[6].update({ 'tag:ipxe6,bootfile-name': 'bootfile_name', 'tag:ipxe6,59': 'bootfile_name', 'tag:!ipxe6,bootfile-name': 'bootfile_name_alt', 'tag:!ipxe6,59': 'bootfile_name_alt'}) ",,28,7
openstack%2Fvenus~master~I255b20c9c3852d55b706400d3ad5121741dc83ae,openstack/venus,master,I255b20c9c3852d55b706400d3ad5121741dc83ae,collect magnum logs from defalut location of /var/log,MERGED,2022-06-02 12:23:06.000000000,2022-06-02 13:52:17.000000000,2022-06-02 13:49:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:23:06.000000000', 'files': ['devstack/fluentd-conf/input/magnum.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/bfdef6b615639dd2e8f43e11723a90df8c3b5b96', 'message': 'collect magnum logs from defalut location of /var/log\n\nChange-Id: I255b20c9c3852d55b706400d3ad5121741dc83ae\n'}]",0,844431,bfdef6b615639dd2e8f43e11723a90df8c3b5b96,7,2,1,30455,,,0,"collect magnum logs from defalut location of /var/log

Change-Id: I255b20c9c3852d55b706400d3ad5121741dc83ae
",git fetch https://review.opendev.org/openstack/venus refs/changes/31/844431/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/magnum.conf'],1,bfdef6b615639dd2e8f43e11723a90df8c3b5b96,, path /var/log/magnum/*.log, path /var/log/kolla/magnum/*.log,1,1
openstack%2Fvenus~master~Id6d53d0ce5fea5d66ac6b8648fb721e3692a575f,openstack/venus,master,Id6d53d0ce5fea5d66ac6b8648fb721e3692a575f,collect vitrage logs from defalut location of /var/log,MERGED,2022-06-02 12:31:46.000000000,2022-06-02 13:51:07.000000000,2022-06-02 13:49:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:31:46.000000000', 'files': ['devstack/fluentd-conf/input/vitrage.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/16182527537428bf756411b903d35d205a25bef7', 'message': 'collect vitrage logs from defalut location of /var/log\n\nChange-Id: Id6d53d0ce5fea5d66ac6b8648fb721e3692a575f\n'}]",0,844439,16182527537428bf756411b903d35d205a25bef7,7,2,1,30455,,,0,"collect vitrage logs from defalut location of /var/log

Change-Id: Id6d53d0ce5fea5d66ac6b8648fb721e3692a575f
",git fetch https://review.opendev.org/openstack/venus refs/changes/39/844439/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/vitrage.conf'],1,16182527537428bf756411b903d35d205a25bef7,, path /var/log/vitrage/*.log, path /var/log/kolla/vitrage/*.log,1,1
openstack%2Fvenus~master~I6c8050aac5b8ab746d24be041ec7d1c024d391ab,openstack/venus,master,I6c8050aac5b8ab746d24be041ec7d1c024d391ab,collect ironic logs from defalut location of /var/log,MERGED,2022-06-02 12:20:55.000000000,2022-06-02 13:49:53.000000000,2022-06-02 13:49:53.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:20:55.000000000', 'files': ['devstack/fluentd-conf/input/ironic.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/90953faaed02ca621ebee482680fe325e210031f', 'message': 'collect ironic logs from defalut location of /var/log\n\nChange-Id: I6c8050aac5b8ab746d24be041ec7d1c024d391ab\n'}]",0,844429,90953faaed02ca621ebee482680fe325e210031f,6,2,1,30455,,,0,"collect ironic logs from defalut location of /var/log

Change-Id: I6c8050aac5b8ab746d24be041ec7d1c024d391ab
",git fetch https://review.opendev.org/openstack/venus refs/changes/29/844429/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/ironic.conf'],1,90953faaed02ca621ebee482680fe325e210031f,, path /var/log/ironic/*.log, path /var/log/kolla/ironic/*.log,1,1
openstack%2Fvenus~master~Id7a9e268574534fa3642e8300a1bda47536d8121,openstack/venus,master,Id7a9e268574534fa3642e8300a1bda47536d8121,collect keystone logs from defalut location of /var/log,MERGED,2022-06-02 12:22:08.000000000,2022-06-02 13:49:52.000000000,2022-06-02 13:49:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:22:08.000000000', 'files': ['devstack/fluentd-conf/input/keystone.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/6a2fa4528e1c7dea7bae778051db1392ab7fd073', 'message': 'collect keystone logs from defalut location of /var/log\n\nChange-Id: Id7a9e268574534fa3642e8300a1bda47536d8121\n'}]",0,844430,6a2fa4528e1c7dea7bae778051db1392ab7fd073,6,2,1,30455,,,0,"collect keystone logs from defalut location of /var/log

Change-Id: Id7a9e268574534fa3642e8300a1bda47536d8121
",git fetch https://review.opendev.org/openstack/venus refs/changes/30/844430/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/keystone.conf'],1,6a2fa4528e1c7dea7bae778051db1392ab7fd073,, path /var/log/keystone/*.log, path /var/log/kolla/keystone/*.log,1,1
openstack%2Fvenus~master~I48fb844e847e804a4297443f0728b265f6a68f26,openstack/venus,master,I48fb844e847e804a4297443f0728b265f6a68f26,collect  neutron logs from defalut location of /var/log,MERGED,2022-06-02 12:26:16.000000000,2022-06-02 13:49:50.000000000,2022-06-02 13:49:50.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:26:16.000000000', 'files': ['devstack/fluentd-conf/input/neutron.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/77a43b4457d53698101e9cf0c0f88e95637d1e70', 'message': 'collect  neutron logs from defalut location of /var/log\n\nChange-Id: I48fb844e847e804a4297443f0728b265f6a68f26\n'}]",0,844433,77a43b4457d53698101e9cf0c0f88e95637d1e70,6,2,1,30455,,,0,"collect  neutron logs from defalut location of /var/log

Change-Id: I48fb844e847e804a4297443f0728b265f6a68f26
",git fetch https://review.opendev.org/openstack/venus refs/changes/33/844433/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/neutron.conf'],1,77a43b4457d53698101e9cf0c0f88e95637d1e70,, path /var/log/neutron/*.log, path /var/log/kolla/neutron/*.log,1,1
openstack%2Fvenus~master~I955a06012d63392efd594fdfc7db5a07240bbed5,openstack/venus,master,I955a06012d63392efd594fdfc7db5a07240bbed5,collect octivia logs from defalut location of /var/log,MERGED,2022-06-02 12:27:54.000000000,2022-06-02 13:49:49.000000000,2022-06-02 13:49:49.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:27:54.000000000', 'files': ['devstack/fluentd-conf/input/octavia.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/9185f6e19548bcc92e86392ee2f56f42d6f60e7f', 'message': 'collect octivia logs from defalut location of /var/log\n\nChange-Id: I955a06012d63392efd594fdfc7db5a07240bbed5\n'}]",0,844435,9185f6e19548bcc92e86392ee2f56f42d6f60e7f,6,2,1,30455,,,0,"collect octivia logs from defalut location of /var/log

Change-Id: I955a06012d63392efd594fdfc7db5a07240bbed5
",git fetch https://review.opendev.org/openstack/venus refs/changes/35/844435/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/octavia.conf'],1,9185f6e19548bcc92e86392ee2f56f42d6f60e7f,, path /var/log/octavia/*.log, path /var/log/kolla/octavia/*.log,1,1
openstack%2Fvenus~master~I09a2a0cfadae502576acd173bb1c3cd7d5d4b8f2,openstack/venus,master,I09a2a0cfadae502576acd173bb1c3cd7d5d4b8f2,collect manila logs from defalut location of /var/log,MERGED,2022-06-02 12:25:21.000000000,2022-06-02 13:49:47.000000000,2022-06-02 13:49:47.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:25:21.000000000', 'files': ['devstack/fluentd-conf/input/manila.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/820cefe27e47e627603ab1ce6e113992967a6afd', 'message': 'collect manila logs from defalut location of /var/log\n\nChange-Id: I09a2a0cfadae502576acd173bb1c3cd7d5d4b8f2\n'}]",0,844432,820cefe27e47e627603ab1ce6e113992967a6afd,6,2,1,30455,,,0,"collect manila logs from defalut location of /var/log

Change-Id: I09a2a0cfadae502576acd173bb1c3cd7d5d4b8f2
",git fetch https://review.opendev.org/openstack/venus refs/changes/32/844432/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/manila.conf'],1,820cefe27e47e627603ab1ce6e113992967a6afd,, path /var/log/manila/*.log, path /var/log/kolla/manila/*.log,1,1
openstack%2Fvenus~master~Id493b8325b912e0900496ed4b80bcd80e03a20c5,openstack/venus,master,Id493b8325b912e0900496ed4b80bcd80e03a20c5,collect  nova logs from defalut location of /var/log,MERGED,2022-06-02 12:26:59.000000000,2022-06-02 13:49:46.000000000,2022-06-02 13:49:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:26:59.000000000', 'files': ['devstack/fluentd-conf/input/nova.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/b3dacded6e29e535b51c784db95b710126f4bdf7', 'message': 'collect  nova logs from defalut location of /var/log\n\nChange-Id: Id493b8325b912e0900496ed4b80bcd80e03a20c5\n'}]",0,844434,b3dacded6e29e535b51c784db95b710126f4bdf7,6,2,1,30455,,,0,"collect  nova logs from defalut location of /var/log

Change-Id: Id493b8325b912e0900496ed4b80bcd80e03a20c5
",git fetch https://review.opendev.org/openstack/venus refs/changes/34/844434/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/nova.conf'],1,b3dacded6e29e535b51c784db95b710126f4bdf7,, path /var/log/nova/*.log, path /var/log/kolla/nova/*.log,1,1
openstack%2Fvenus~master~I833c15a6a104792e8bc5b872170ab5463de75683,openstack/venus,master,I833c15a6a104792e8bc5b872170ab5463de75683,collect placement logs from defalut location of /var/log,MERGED,2022-06-02 12:28:45.000000000,2022-06-02 13:45:43.000000000,2022-06-02 13:44:01.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:28:45.000000000', 'files': ['devstack/fluentd-conf/input/palcement.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/484617bcad9e45fa163a040935d13fd931551f01', 'message': 'collect placement logs from defalut location of /var/log\n\nChange-Id: I833c15a6a104792e8bc5b872170ab5463de75683\n'}]",0,844436,484617bcad9e45fa163a040935d13fd931551f01,7,2,1,30455,,,0,"collect placement logs from defalut location of /var/log

Change-Id: I833c15a6a104792e8bc5b872170ab5463de75683
",git fetch https://review.opendev.org/openstack/venus refs/changes/36/844436/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/palcement.conf'],1,484617bcad9e45fa163a040935d13fd931551f01,, path /var/log/placement/*.log, path /var/log/kolla/placement/*.log,1,1
openstack%2Fvenus~master~I9e85147444f9fba72a1946fa1a0ebcea77369a13,openstack/venus,master,I9e85147444f9fba72a1946fa1a0ebcea77369a13,collect swift logs from defalut location of /var/log,MERGED,2022-06-02 12:29:44.000000000,2022-06-02 13:41:45.000000000,2022-06-02 13:39:11.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:29:44.000000000', 'files': ['devstack/fluentd-conf/input/swift.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/bfdedcc633405a48115d6dc2046d9c704073cf71', 'message': 'collect swift logs from defalut location of /var/log\n\nChange-Id: I9e85147444f9fba72a1946fa1a0ebcea77369a13\n'}]",0,844437,bfdedcc633405a48115d6dc2046d9c704073cf71,7,2,1,30455,,,0,"collect swift logs from defalut location of /var/log

Change-Id: I9e85147444f9fba72a1946fa1a0ebcea77369a13
",git fetch https://review.opendev.org/openstack/venus refs/changes/37/844437/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/swift.conf'],1,bfdedcc633405a48115d6dc2046d9c704073cf71,, path /var/log/swift/*.log, path /var/log/kolla/swift/*.log,1,1
openstack%2Fvenus~master~I26bc7bb0d53e355614c7bf57eac2b514464f2bc2,openstack/venus,master,I26bc7bb0d53e355614c7bf57eac2b514464f2bc2,collect zun logs from defalut location of /var/log,MERGED,2022-06-02 12:34:53.000000000,2022-06-02 13:40:32.000000000,2022-06-02 13:38:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:34:53.000000000', 'files': ['devstack/fluentd-conf/input/zun.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/88bc46a411403fd830f84b0919765639fc8af4d0', 'message': 'collect zun logs from defalut location of /var/log\n\nChange-Id: I26bc7bb0d53e355614c7bf57eac2b514464f2bc2\n'}]",0,844440,88bc46a411403fd830f84b0919765639fc8af4d0,7,2,1,30455,,,0,"collect zun logs from defalut location of /var/log

Change-Id: I26bc7bb0d53e355614c7bf57eac2b514464f2bc2
",git fetch https://review.opendev.org/openstack/venus refs/changes/40/844440/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/zun.conf'],1,88bc46a411403fd830f84b0919765639fc8af4d0,, path /var/log/zun/*.log, path /var/log/kolla/zun/*.log,1,1
openstack%2Fkolla-ansible~master~I69a1542a6f24214fbf6e703782aefb566de4fb26,openstack/kolla-ansible,master,I69a1542a6f24214fbf6e703782aefb566de4fb26,Remove configuration related to api_workers,MERGED,2022-05-24 11:35:19.000000000,2022-06-02 13:40:27.000000000,2022-06-02 13:38:39.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-24 11:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/674b024427e64eb7b9d5dc945fd3a0b68933a819', 'message': ""Remove configuration related to api_workers\n\nThis patch is removing api related configuration\nfrom service's config files as we are using\napache mod_wsgi and this configuration is not\nused.\n\nChange-Id: I69a1542a6f24214fbf6e703782aefb566de4fb26\n""}, {'number': 2, 'created': '2022-05-24 15:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c39ebde850fd30e9c329ca4e29b21cd8e3905c3', 'message': ""Remove configuration related to api_workers\n\nThis patch is removing api related configuration\nfrom service's config files as we are using\napache mod_wsgi and this configuration is not\nused.\n\nChange-Id: I69a1542a6f24214fbf6e703782aefb566de4fb26\n""}, {'number': 3, 'created': '2022-05-24 16:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c508f4891b0be4922a1881ad3ecea289cef41619', 'message': ""Remove configuration related to api_workers\n\nThis patch is removing api related configuration\nfrom service's config files as we are using\napache mod_wsgi and this configuration is not\nused.\n\nChange-Id: I69a1542a6f24214fbf6e703782aefb566de4fb26\n""}, {'number': 4, 'created': '2022-06-02 10:09:50.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eafd3a59af91b7da0b2409bff86db4292bd03cf9', 'message': ""Remove configuration related to api_workers\n\nThis patch is removing api related configuration\nfrom service's config files as we are using\napache mod_wsgi and this configuration is not\nused.\n\nChange-Id: I69a1542a6f24214fbf6e703782aefb566de4fb26\n""}]",0,843130,eafd3a59af91b7da0b2409bff86db4292bd03cf9,17,4,4,27339,,,0,"Remove configuration related to api_workers

This patch is removing api related configuration
from service's config files as we are using
apache mod_wsgi and this configuration is not
used.

Change-Id: I69a1542a6f24214fbf6e703782aefb566de4fb26
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/843130/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2']",4,674b024427e64eb7b9d5dc945fd3a0b68933a819,default-api-workers,,osapi_compute_listen = {{ api_interface_address }} ,0,25
openstack%2Fneutron-lib~master~I89cc83699770e97bba369f50dd4d9e0ed6563aa4,openstack/neutron-lib,master,I89cc83699770e97bba369f50dd4d9e0ed6563aa4,Rehome ovsfw constants and utils modules,MERGED,2022-04-27 14:56:20.000000000,2022-06-02 13:23:52.000000000,2022-06-02 13:22:15.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 14:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/96a27c32ab59792930c996d8305d210663523d20', 'message': ""Rehome ovsfw constants and utils modules\n\nConstants module contains definition of the OF registry numbers used\nby ovs firewall driver.\nAfter [1] some other registries are also used to store information\nrelated to QoS bw limit and min bw rules.\nSo it would be good to have list of all used registers in one place and\nreuse them where it's needed. That's why this patch moves those\nconstants to the neutron_lib.\n\nAdditionally it also adds utils module with some helper functions which\nare using those constants and are actually used not only in neutron but\nalso in neutron-fwaas.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/832662\n\nRelated-Bug: #1959567\nChange-Id: I89cc83699770e97bba369f50dd4d9e0ed6563aa4\n""}, {'number': 2, 'created': '2022-05-31 13:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ad7a5ba0a03fb607b88f76493f3bfb158d5fc9b0', 'message': ""Rehome ovsfw constants and utils modules\n\nConstants module contains definition of the OF registry numbers used\nby ovs firewall driver.\nAfter [1] some other registries are also used to store information\nrelated to QoS bw limit and min bw rules.\nSo it would be good to have list of all used registers in one place and\nreuse them where it's needed. That's why this patch moves those\nconstants to the neutron_lib.\n\nAdditionally it also adds utils module with some helper functions which\nare using those constants and are actually used not only in neutron but\nalso in neutron-fwaas.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/832662\n\nRelated-Bug: #1959567\nChange-Id: I89cc83699770e97bba369f50dd4d9e0ed6563aa4\n""}, {'number': 3, 'created': '2022-06-01 20:18:26.000000000', 'files': ['neutron_lib/tests/unit/agent/common/__init__.py', 'neutron_lib/tests/unit/agent/common/test_utils.py', 'neutron_lib/agent/common/utils.py', 'releasenotes/notes/rehome-ovs-firewall-constants-522a307ff8ef4a78.yaml', 'neutron_lib/tests/unit/agent/__init__.py', 'neutron_lib/tests/unit/agent/linux/__init__.py', 'neutron_lib/agent/common/__init__.py', 'neutron_lib/agent/common/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/231067cabadb91eb40e44202b4f55785d5c7afe1', 'message': ""Rehome ovsfw constants and utils modules\n\nConstants module contains definition of the OF registry numbers used\nby ovs firewall driver.\nAfter [1] some other registries are also used to store information\nrelated to QoS bw limit and min bw rules.\nSo it would be good to have list of all used registers in one place and\nreuse them where it's needed. That's why this patch moves those\nconstants to the neutron_lib.\n\nAdditionally it also adds utils module with some helper functions which\nare using those constants and are actually used not only in neutron but\nalso in neutron-fwaas.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/832662\n\nRelated-Bug: #1959567\nChange-Id: I89cc83699770e97bba369f50dd4d9e0ed6563aa4\n""}]",10,839564,231067cabadb91eb40e44202b4f55785d5c7afe1,18,3,3,11975,,,0,"Rehome ovsfw constants and utils modules

Constants module contains definition of the OF registry numbers used
by ovs firewall driver.
After [1] some other registries are also used to store information
related to QoS bw limit and min bw rules.
So it would be good to have list of all used registers in one place and
reuse them where it's needed. That's why this patch moves those
constants to the neutron_lib.

Additionally it also adds utils module with some helper functions which
are using those constants and are actually used not only in neutron but
also in neutron-fwaas.

[1] https://review.opendev.org/c/openstack/neutron/+/832662

Related-Bug: #1959567
Change-Id: I89cc83699770e97bba369f50dd4d9e0ed6563aa4
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/64/839564/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rehome-ovs-firewall-constants-522a307ff8ef4a78.yaml', 'neutron_lib/agent/linux/openvswitch_firewall/utils.py', 'neutron_lib/agent/linux/openvswitch_firewall/__init__.py', 'neutron_lib/tests/unit/agent/__init__.py', 'neutron_lib/tests/unit/agent/linux/__init__.py', 'neutron_lib/tests/unit/agent/linux/openvswitch_firewall/__init__.py', 'neutron_lib/agent/linux/openvswitch_firewall/constants.py', 'neutron_lib/tests/unit/agent/linux/openvswitch_firewall/test_utils.py']",8,96a27c32ab59792930c996d8305d210663523d20,bug/1959567,"# Copyright 2022 # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.agent.linux.openvswitch_firewall import constants from neutron_lib.agent.linux.openvswitch_firewall import utils from neutron_lib.tests import _base class TestCreateRegNumbers(_base.BaseTestCase): def test_no_registers_defined(self): flow = {'foo': 'bar'} utils.create_reg_numbers(flow) self.assertEqual({'foo': 'bar'}, flow) def test_all_registers_defined(self): flow = {'foo': 'bar', 'reg_port': 1, 'reg_net': 2, 'reg_remote_group': 3} expected_flow = {'foo': 'bar', 'reg{:d}'.format(constants.REG_PORT): 1, 'reg{:d}'.format(constants.REG_NET): 2, 'reg{:d}'.format(constants.REG_REMOTE_GROUP): 3} utils.create_reg_numbers(flow) self.assertEqual(expected_flow, flow) ",,108,0
openstack%2Fcharm-mysql-router~stable%2Fjammy~I9c2846bf4f21d2dcb1958bee4c9fa72dd4464b6c,openstack/charm-mysql-router,stable/jammy,I9c2846bf4f21d2dcb1958bee4c9fa72dd4464b6c,Restart router if connections fail with 2003 code,MERGED,2022-05-25 16:19:06.000000000,2022-06-02 13:14:24.000000000,2022-06-02 13:14:24.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2022-05-25 16:19:06.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/tests/bundles/focal.yaml', 'src/tests/bundles/focal-full.yaml', 'src/tests/bundles/jammy.yaml', 'src/tests/bundles/jammy-full.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/7488ce17a5aa6e4f542234fac588c853ee74fc8c', 'message': 'Restart router if connections fail with 2003 code\n\nAt the moment if a connection through the router fails after a\nconfiguration update the router is only restarted if the connection\nerror has a code of 2013 but often the error thrown is 2003 (see\n*1) . This patch alters the charms\nbehaviour to also restart the router on a 2013 error.\n\nWhile testing this patch it became apparent that a connection\nattempt through the router immediatly after the router has been\nrestarted very often fail. So, the connection attempt has been\nmoved into its own method with its own tenacity retry logic.\nA side effect of this is that the total possible wait time\nhas increased from 5 * 10 (outer tenacity loop) to 5 * 10 * 5\n(outer tenacity loop and inner tenacity loop).\n\n*1 https://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html\n\nCloses-Bug: #1973177\nChange-Id: I9c2846bf4f21d2dcb1958bee4c9fa72dd4464b6c\n(cherry picked from commit 5942b035f6ed136632b7a20711a0422ca561e0a6)\n'}]",3,843313,7488ce17a5aa6e4f542234fac588c853ee74fc8c,15,4,1,2424,,,0,"Restart router if connections fail with 2003 code

At the moment if a connection through the router fails after a
configuration update the router is only restarted if the connection
error has a code of 2013 but often the error thrown is 2003 (see
*1) . This patch alters the charms
behaviour to also restart the router on a 2013 error.

While testing this patch it became apparent that a connection
attempt through the router immediatly after the router has been
restarted very often fail. So, the connection attempt has been
moved into its own method with its own tenacity retry logic.
A side effect of this is that the total possible wait time
has increased from 5 * 10 (outer tenacity loop) to 5 * 10 * 5
(outer tenacity loop and inner tenacity loop).

*1 https://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html

Closes-Bug: #1973177
Change-Id: I9c2846bf4f21d2dcb1958bee4c9fa72dd4464b6c
(cherry picked from commit 5942b035f6ed136632b7a20711a0422ca561e0a6)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/13/843313/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'src/tests/bundles/focal.yaml', 'src/tests/bundles/focal-full.yaml', 'src/tests/bundles/jammy.yaml', 'src/tests/bundles/jammy-full.yaml']",5,7488ce17a5aa6e4f542234fac588c853ee74fc8c,stable-backports-jammy, options: debug: True options: debug: True options: debug: True options: debug: True options: debug: True options: debug: True,,62,10
openstack%2Fcharm-mysql-router~stable%2Fjammy~If974a4525f3a6912125d11c7ca76c99c350c4f87,openstack/charm-mysql-router,stable/jammy,If974a4525f3a6912125d11c7ca76c99c350c4f87,Add debug config option.,MERGED,2022-05-20 13:43:13.000000000,2022-06-02 13:14:19.000000000,2022-06-02 13:14:19.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 13:43:13.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/7e0c79384903fb4bdbb5c5347c3280f14914576a', 'message': 'Add debug config option.\n\nThis patch adds the new configuration option ""debug"" to enable debug\nlogging in mysqlrouter process, by default it will set the level to INFO\n(mysqlrouter\'s default).\n\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_level\n\nChange-Id: If974a4525f3a6912125d11c7ca76c99c350c4f87\n(cherry picked from commit d999571ae9d0cfdea2ce713e7317d995be1218a3)\n'}]",13,842713,7e0c79384903fb4bdbb5c5347c3280f14914576a,30,4,1,2424,,,0,"Add debug config option.

This patch adds the new configuration option ""debug"" to enable debug
logging in mysqlrouter process, by default it will set the level to INFO
(mysqlrouter's default).

https://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_level

Change-Id: If974a4525f3a6912125d11c7ca76c99c350c4f87
(cherry picked from commit d999571ae9d0cfdea2ce713e7317d995be1218a3)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/13/842713/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/layer.yaml']",3,7e0c79384903fb4bdbb5c5347c3280f14914576a,add-debug,, - debug,10,2
openstack%2Fglance~master~I59ebbceed0616fa166d5cdfcde26a6594564dfa9,openstack/glance,master,I59ebbceed0616fa166d5cdfcde26a6594564dfa9,Fix DB login step in Ubuntu install guide,ABANDONED,2017-10-08 23:26:16.000000000,2022-06-02 13:12:13.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-10-08 23:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/62967b29c6d2a36aeb29225320ba112df77bb50c', 'message': 'Fix DB login step in Ubuntu install guide\n\nAccording to the latest install guide [1], root user no longer uses\npassword for local access to MariaDB server.\n\n[1] https://docs.openstack.org/install-guide/environment-sql-database-ubuntu.html\n\nChange-Id: I59ebbceed0616fa166d5cdfcde26a6594564dfa9\n'}, {'number': 2, 'created': '2017-10-08 23:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/84d1716c80e30cb30e52ffdf1bd78020b065795c', 'message': 'Fix DB login step in Ubuntu install guide\n\nAccording to the latest install guide [1], root user no longer uses\npassword for local access to MariaDB server.\n\n[1] https://docs.openstack.org/install-guide/environment-sql-database-ubuntu.html\n\nCloses-Bug: #1722128\nChange-Id: I59ebbceed0616fa166d5cdfcde26a6594564dfa9\n'}, {'number': 3, 'created': '2022-06-01 21:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/168ffb3594a6d3b3f572c5a8bc66d9294e3d7ddf', 'message': 'Fix DB login step in Ubuntu install guide\n\nAccording to the latest install guide [1], root user no longer uses\npassword for local access to MariaDB server.\n\n[1] https://docs.openstack.org/install-guide/environment-sql-database-ubuntu.html\n\nCloses-Bug: #1722128\nChange-Id: I59ebbceed0616fa166d5cdfcde26a6594564dfa9\n'}]",5,510382,168ffb3594a6d3b3f572c5a8bc66d9294e3d7ddf,18,7,3,11536,,,0,"Fix DB login step in Ubuntu install guide

According to the latest install guide [1], root user no longer uses
password for local access to MariaDB server.

[1] https://docs.openstack.org/install-guide/environment-sql-database-ubuntu.html

Closes-Bug: #1722128
Change-Id: I59ebbceed0616fa166d5cdfcde26a6594564dfa9
",git fetch https://review.opendev.org/openstack/glance refs/changes/82/510382/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-ubuntu.rst'],1,62967b29c6d2a36aeb29225320ba112df77bb50c,bug/1722128, # mysql, $ mysql -u root -p,1,1
openstack%2Fcharm-hacluster~master~I395d7dc06618998b9e6023ff649f4aa8c5930cc0,openstack/charm-hacluster,master,I395d7dc06618998b9e6023ff649f4aa8c5930cc0,Switch to render from charmhelpers,MERGED,2021-08-06 12:21:58.000000000,2022-06-02 13:11:08.000000000,2022-06-02 13:11:08.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 12:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/5642fbac0fc10d4c9baa2413a21a68fce530bc9e', 'message': 'Release sync for 20.22\n\n- charm-helpers 20.22\n- add contrib/templating\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}, {'number': 2, 'created': '2021-08-06 13:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/00300dea471ec8426d939b4129a4133aafc8e7c4', 'message': 'Release sync for 20.22\n\n- charm-helpers 20.22\n- add contrib/templating\n- using render instead of render_template\n- remove render_template function\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}, {'number': 3, 'created': '2021-11-16 15:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6d9b1f8539bf1fa7149bd0a4a472546180b688fa', 'message': 'Release sync for 20.22\n\n- charm-helpers 20.22\n- add contrib/templating\n- using render instead of render_template\n- remove render_template function\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}, {'number': 4, 'created': '2021-11-16 15:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/827872c680afdc1e707e3d5a2cb7101b1df29581', 'message': 'Switch to render from charmhelpers\n\n- add contrib/templating\n- using render instead of render_template\n- remove render_template function\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}, {'number': 5, 'created': '2022-03-30 18:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a16a2d6b2c7e4c04cc136f99188382b2052b8b09', 'message': 'Switch to render from charmhelpers\n\n- add contrib/templating\n- using render instead of render_template\n- remove render_template function\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}, {'number': 6, 'created': '2022-06-01 12:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b2cf40cf84951105f128c34ba0a4293da3bebbf2', 'message': 'Switch to render from charmhelpers\n\n- add contrib/templating\n- using render instead of render_template\n- remove render_template function\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}, {'number': 7, 'created': '2022-06-01 21:30:19.000000000', 'files': ['hooks/utils.py', 'charmhelpers/contrib/templating/__init__.py', 'charmhelpers/contrib/templating/jinja.py', 'charmhelpers/contrib/templating/contexts.py', 'test-requirements.txt', 'unit_tests/test_hacluster_utils.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/templating/pyformat.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/920d0ab92704bdfa40b1e54c091bd3389c5e6c30', 'message': 'Switch to render from charmhelpers\n\n- add contrib/templating\n- using render instead of render_template\n- remove render_template function\n\nChange-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0\n'}]",5,803741,920d0ab92704bdfa40b1e54c091bd3389c5e6c30,33,3,7,32363,,,0,"Switch to render from charmhelpers

- add contrib/templating
- using render instead of render_template
- remove render_template function

Change-Id: I395d7dc06618998b9e6023ff649f4aa8c5930cc0
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/41/803741/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/templating/__init__.py', 'charmhelpers/contrib/templating/jinja.py', 'charmhelpers/contrib/templating/contexts.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/fetch/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/templating/pyformat.py']",10,5642fbac0fc10d4c9baa2413a21a68fce530bc9e,charmhelpers/add-templating,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ''' Templating using standard Python str.format() method. ''' from charmhelpers.core import hookenv def render(template, extra={}, **kwargs): """"""Return the template rendered using Python's str.format()."""""" context = hookenv.execution_environment() context.update(extra) context.update(kwargs) return template.format(**context) ",,388,48
openstack%2Fnova~master~I386d3f635ad0b7a7551c228df440d93f613a3a89,openstack/nova,master,I386d3f635ad0b7a7551c228df440d93f613a3a89,Don't delete auto-existing port when detaching,NEW,2022-06-01 18:21:06.000000000,2022-06-02 13:02:14.000000000,,"[{'_account_id': 4393}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 18:21:06.000000000', 'files': ['nova/network/neutron.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9903787a6f20c7d753fd1146b4d1a41f6eab840', 'message': ""Don't delete auto-existing port when detaching\n\nPreviously, Nova would delete auto-created ports entirely if a user\nrequested an interface detachment of that port. This patch makes the\ndeallocate_for_instance code path become aware of whether this is an\ninstance deletion (in which case it makes sense to delete the port to\nvoid leaking it) or an interface detach, in which case there is a\nseparate API to actually delete the port.\n\nCloses-bug: 1976545\nChange-Id: I386d3f635ad0b7a7551c228df440d93f613a3a89\n""}]",4,844326,f9903787a6f20c7d753fd1146b4d1a41f6eab840,9,4,1,8864,,,0,"Don't delete auto-existing port when detaching

Previously, Nova would delete auto-created ports entirely if a user
requested an interface detachment of that port. This patch makes the
deallocate_for_instance code path become aware of whether this is an
instance deletion (in which case it makes sense to delete the port to
void leaking it) or an interface detach, in which case there is a
separate API to actually delete the port.

Closes-bug: 1976545
Change-Id: I386d3f635ad0b7a7551c228df440d93f613a3a89
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/844326/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutron.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",3,f9903787a6f20c7d753fd1146b4d1a41f6eab840,," self.assertIn(port_id, port_ids)"," # FIXME(artom) We should not be deleting pre-created ports when # detaching them, only when deleting the instance entirely. self.assertNotIn(port_id, port_ids)",7,8
openstack%2Fkolla~master~I49148ed788cd35ed9f5606d8b69c5e75230433f3,openstack/kolla,master,I49148ed788cd35ed9f5606d8b69c5e75230433f3,doc: get rid of remainders of binary images,MERGED,2022-06-02 10:04:21.000000000,2022-06-02 12:48:02.000000000,2022-06-02 12:45:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 10:04:21.000000000', 'files': ['doc/source/admin/image-building.rst', 'doc/source/contributor/adding-a-new-image.rst', 'doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8a5922fd7156fccc926da43acee05a432672931b', 'message': 'doc: get rid of remainders of binary images\n\nWe still documented some of binary images details. While we do not have\nthem anymore.\n\nChange-Id: I49148ed788cd35ed9f5606d8b69c5e75230433f3\n'}]",0,844411,8a5922fd7156fccc926da43acee05a432672931b,8,3,1,24072,,,0,"doc: get rid of remainders of binary images

We still documented some of binary images details. While we do not have
them anymore.

Change-Id: I49148ed788cd35ed9f5606d8b69c5e75230433f3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/844411/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/image-building.rst', 'doc/source/contributor/adding-a-new-image.rst', 'doc/source/contributor/release-management.rst']",3,8a5922fd7156fccc926da43acee05a432672931b,,R-8: Switch images to current release -------------------------------------* [kolla] Switch Ubuntu images to use the current in-development release* [kolla] Switch Debian images to use the Debian OpenStack repository,R-8: Switch binary images to current release --------------------------------------------* [kolla] Switch Ubuntu binary images to use the current in-development release* [kolla] Switch Debian binary images to use the Debian OpenStack repository,12,44
openstack%2Ftripleo-ansible~master~I84c8c15e9e5adbc3798edf0e4ca7717527d0de47,openstack/tripleo-ansible,master,I84c8c15e9e5adbc3798edf0e4ca7717527d0de47,Fix setting volumes for internal tls,MERGED,2022-05-18 21:44:01.000000000,2022-06-02 12:27:18.000000000,2022-06-02 12:27:18.000000000,"[{'_account_id': 7353}, {'_account_id': 14250}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-18 21:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0f00888feb2c9e8d3105b0c85baada2ddf57584', 'message': 'Fix setting volumes for internal tls\n\nMove the configuration of the internal tls volumes into the common\ntripleo_container_standalone role. The logic for adding the volumes when\ninternal TLS is used is now in a single location.\n\nUpdates the tripleo_keystone role to make use of the new variables from\ntripleo_container_standalone.\n\nChange-Id: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-05-18 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f27daebbbdcb292ecf7d03c182123163f6c2eb91', 'message': 'Fix setting volumes for internal tls\n\nMove the configuration of the internal tls volumes into the common\ntripleo_container_standalone role. The logic for adding the volumes when\ninternal TLS is used is now in a single location.\n\nUpdates the tripleo_keystone role to make use of the new variables from\ntripleo_container_standalone.\n\nRelated-Bug: #1973863\nChange-Id: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-05-19 20:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58de9fd00f0f2707feaa3415f7a16a1cf460d83b', 'message': 'Fix setting volumes for internal tls\n\nMove the configuration of the internal tls volumes into the common\ntripleo_container_standalone role. The logic for adding the volumes when\ninternal TLS is used is now in a single location.\n\nUpdates the tripleo_keystone role to make use of the new variables from\ntripleo_container_standalone.\n\nRelated-Bug: #1973863\nChange-Id: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2022-05-25 02:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55ac5ac12e9fd5a029bf51700c90ac9c0e7893c9', 'message': 'Fix setting volumes for internal tls\n\nMove the configuration of the internal tls volumes into the common\ntripleo_container_standalone role. The logic for adding the volumes when\ninternal TLS is used is now in a single location.\n\nUpdates the tripleo_keystone role to make use of the new variables from\ntripleo_container_standalone.\n\nRelated-Bug: #1973863\nChange-Id: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2022-06-01 13:12:00.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_container_standalone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone.yaml.j2', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_db_sync.yaml.j2', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_cron.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56e724ad53a7c541431b8f783d9b3bce3c8f5d4c', 'message': 'Fix setting volumes for internal tls\n\nMove the configuration of the internal tls volumes into the common\ntripleo_container_standalone role. The logic for adding the volumes when\ninternal TLS is used is now in a single location.\n\nUpdates the tripleo_keystone role to make use of the new variables from\ntripleo_container_standalone.\n\nRelated-Bug: #1973863\nChange-Id: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,842436,56e724ad53a7c541431b8f783d9b3bce3c8f5d4c,23,6,5,7144,,,0,"Fix setting volumes for internal tls

Move the configuration of the internal tls volumes into the common
tripleo_container_standalone role. The logic for adding the volumes when
internal TLS is used is now in a single location.

Updates the tripleo_keystone role to make use of the new variables from
tripleo_container_standalone.

Related-Bug: #1973863
Change-Id: I84c8c15e9e5adbc3798edf0e4ca7717527d0de47
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/842436/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_standalone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_db_sync.yaml.j2']",3,c0f00888feb2c9e8d3105b0c85baada2ddf57584,standalone-roles, {{ tripleo_container_standalone_volumes | default([]) + tripleo_keystone_volumes + tripleo_keystone_logging_volumes }}, {% set keystone_volumes = [] %} {%- set keystone_volumes = keystone_volumes + tripleo_keystone_common_volumes + tripleo_keystone_volumes + tripleo_keystone_logging_volumes + tripleo_keystone_internal_tls_volumes -%} {%- if tripleo_keystone_enable_internal_tls -%} {%- set keystone_volumes = keystone_volumes + tripleo_keystone_internal_tls_ca_file -%} {%- endif -%} {{ keystone_volumes }},26,23
openstack%2Fvenus~master~Ie16aa50341f3ffffa2fd45d51af58d4f7a8b9813,openstack/venus,master,Ie16aa50341f3ffffa2fd45d51af58d4f7a8b9813,collect heat logs from defalut location of /var/log,MERGED,2022-06-02 12:04:39.000000000,2022-06-02 12:21:00.000000000,2022-06-02 12:19:19.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 12:04:39.000000000', 'files': ['devstack/fluentd-conf/input/heat.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/2714a46452a7f65fec9e4990c31c5038346ff06f', 'message': 'collect heat logs from defalut location of /var/log\n\nChange-Id: Ie16aa50341f3ffffa2fd45d51af58d4f7a8b9813\n'}]",0,844428,2714a46452a7f65fec9e4990c31c5038346ff06f,7,2,1,30455,,,0,"collect heat logs from defalut location of /var/log

Change-Id: Ie16aa50341f3ffffa2fd45d51af58d4f7a8b9813
",git fetch https://review.opendev.org/openstack/venus refs/changes/28/844428/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/heat.conf'],1,2714a46452a7f65fec9e4990c31c5038346ff06f,, path /var/log/heat/*.log, path /var/log/kolla/heat/*.log,1,1
openstack%2Fopenstack-zuul-jobs~master~I9aee024e2055056a44224f675f786d8633445568,openstack/openstack-zuul-jobs,master,I9aee024e2055056a44224f675f786d8633445568,"Define ""python_version"" in the openstack-tox-py39-with-oslo-master",MERGED,2022-06-02 09:44:52.000000000,2022-06-02 12:16:45.000000000,2022-06-02 12:14:32.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 09:44:52.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5c9d242fdb6d0c29f6169d06dfaf56e66e952986', 'message': 'Define ""python_version"" in the openstack-tox-py39-with-oslo-master\n\nThis job runs on Ubuntu focal in which by default there is no python 3.9\ninstalled.\nTo install it we need to define ""python_version"" variable in that job.\n\nChange-Id: I9aee024e2055056a44224f675f786d8633445568\n'}]",1,844408,5c9d242fdb6d0c29f6169d06dfaf56e66e952986,9,3,1,11975,,,0,"Define ""python_version"" in the openstack-tox-py39-with-oslo-master

This job runs on Ubuntu focal in which by default there is no python 3.9
installed.
To install it we need to define ""python_version"" variable in that job.

Change-Id: I9aee024e2055056a44224f675f786d8633445568
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/844408/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,5c9d242fdb6d0c29f6169d06dfaf56e66e952986,fix-py39-oslo-job, python_version: '3.9',,1,0
openstack%2Fnova~master~Ifd04590f77bc143a5f001f9ea92c7085a31ed929,openstack/nova,master,Ifd04590f77bc143a5f001f9ea92c7085a31ed929,Func test for deletion of auto-created port on detach,NEW,2022-06-01 18:21:06.000000000,2022-06-02 12:11:23.000000000,,"[{'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 18:21:06.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7005dbbe230fb7f10ca762d973d78285edac12c8', 'message': 'Func test for deletion of auto-created port on detach\n\nWhen detaching an auto-created port, Nova deletes it entirely.\nReproduce this in a functional test, and add a test for the\npre-created port case (which is handled correctly).\n\nRelated-bug: 1976545\nChange-Id: Ifd04590f77bc143a5f001f9ea92c7085a31ed929\n'}]",0,844325,7005dbbe230fb7f10ca762d973d78285edac12c8,9,3,1,8864,,,0,"Func test for deletion of auto-created port on detach

When detaching an auto-created port, Nova deletes it entirely.
Reproduce this in a functional test, and add a test for the
pre-created port case (which is handled correctly).

Related-bug: 1976545
Change-Id: Ifd04590f77bc143a5f001f9ea92c7085a31ed929
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/844325/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,7005dbbe230fb7f10ca762d973d78285edac12c8,," def test_detach_nova_created_port(self): self.api.microversion = '2.37' server = self._create_server(networks='auto') ports = self.api.api_get('/servers/%s/os-interface' % server['id']) port_id = ports.body['interfaceAttachments'][0]['port_id'] self._detach_interface(server, port_id) ports = self.neutron.list_ports(is_admin=False) port_ids = [port['id'] for port in ports['ports']] # FIXME(artom) We should not be deleting pre-created ports when # detaching them, only when deleting the instance entirely. self.assertNotIn(port_id, port_ids) def test_detach_pre_created_port(self): self.api.microversion = '2.37' port = self.neutron.create_port()['port'] server = self._create_server(networks=[{'port': port['id']}]) self._detach_interface(server, port['id']) ports = self.neutron.list_ports(is_admin=False) port_ids = [port['id'] for port in ports['ports']] self.assertIn(port['id'], port_ids) ",,21,0
openstack%2Fnova~stable%2Fussuri~Id908a7224ff3378b3b51726bbfa8b5805d38ca59,openstack/nova,stable/ussuri,Id908a7224ff3378b3b51726bbfa8b5805d38ca59,Fix instance's image_ref lost on failed unshelving,NEW,2022-05-23 10:03:43.000000000,2022-06-02 11:54:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 29037}]","[{'number': 1, 'created': '2022-05-23 10:03:43.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b790694fdb219222cdc42423cacbc8d1dbf60be', 'message': ""Fix instance's image_ref lost on failed unshelving\n\nCloses-Bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59\n(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)\n(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)\n(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)\n(cherry picked from commit f03334323c212a6f98ca94643ec258139068a071)\n""}]",2,842956,7b790694fdb219222cdc42423cacbc8d1dbf60be,9,2,1,9708,,,0,"Fix instance's image_ref lost on failed unshelving

Closes-Bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59
(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)
(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)
(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)
(cherry picked from commit f03334323c212a6f98ca94643ec258139068a071)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/842956/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']",2,7b790694fdb219222cdc42423cacbc8d1dbf60be,bug/1934094, # Set the image_ref back to initial image_ref because instance # object might have been saved with image['id'] # https://bugs.launchpad.net/nova/+bug/1934094 instance.image_ref = shelved_image_ref,,6,6
openstack%2Fopenstack-ansible-plugins~master~I78f747b13b7a757fbf7f3075663c01151a7b1a79,openstack/openstack-ansible-plugins,master,I78f747b13b7a757fbf7f3075663c01151a7b1a79,Ensure that glusterfs-cli is installed for ubuntu 22.04,MERGED,2022-06-02 10:07:05.000000000,2022-06-02 11:51:22.000000000,2022-06-02 11:49:54.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-02 10:07:05.000000000', 'files': ['roles/glusterfs/vars/ubuntu-22.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9ca88a62e8380e87c84a76b1a361f9f98d5ba6f6', 'message': 'Ensure that glusterfs-cli is installed for ubuntu 22.04\n\nChange-Id: I78f747b13b7a757fbf7f3075663c01151a7b1a79\n'}]",0,844413,9ca88a62e8380e87c84a76b1a361f9f98d5ba6f6,8,3,1,25023,,,0,"Ensure that glusterfs-cli is installed for ubuntu 22.04

Change-Id: I78f747b13b7a757fbf7f3075663c01151a7b1a79
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/13/844413/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/glusterfs/vars/ubuntu-22.04.yml'],1,9ca88a62e8380e87c84a76b1a361f9f98d5ba6f6,,"--- # Copyright 2022, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. glusterfs_server_distro_packages: - glusterfs-server - glusterfs-cli ",,18,0
openstack%2Fkolla-ansible~master~I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7,openstack/kolla-ansible,master,I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7,Split haproxy and keepalived restarts,MERGED,2022-04-21 16:59:42.000000000,2022-06-02 11:46:45.000000000,2022-06-02 11:45:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-21 16:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85da5facb63fe26f5817aff336be6d7b36c7204b', 'message': 'Split haproxy and keepalived restarts\n\nThis approach is safer because keepalived will\nalways notice that VIP should be switched to another\nnode.\n\nChange-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7\n'}, {'number': 2, 'created': '2022-04-21 17:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4666acd8f26d2101b209951d665ca22e3a6cef54', 'message': 'Split haproxy and keepalived restarts\n\nThis approach is safer because keepalived will\nalways notice that VIP should be switched to another\nnode.\n\nChange-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7\n'}, {'number': 3, 'created': '2022-05-02 10:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b91c3b896c96524ce929d3a069b0c1bc9e46b8e', 'message': 'Split haproxy and keepalived restarts\n\nWe need this to be stop-start as haproxy and proxysql need to be\nreconfigured simultaneously when switching between them.\n\nThis change also introduces checks for service enablement.\n\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7\n'}, {'number': 4, 'created': '2022-05-04 09:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f17d53197bf2dc8714a01d276b22056d4c4917bc', 'message': 'Split haproxy and keepalived restarts\n\nThis approach is safer because keepalived will\nalways notice that VIP should be switched to another\nnode.\n\nChange-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7\n'}, {'number': 5, 'created': '2022-05-04 09:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4606a350abeea5bba10264cec1337a493846778', 'message': 'Split haproxy and keepalived restarts\n\nThis approach is safer because keepalived will\nalways notice that VIP should be switched to another\nnode.\n\nChange-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7\n'}, {'number': 6, 'created': '2022-05-31 09:26:22.000000000', 'files': ['ansible/roles/loadbalancer/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/959b7f79212cf8fee7f8c0d7abb124b37270798e', 'message': 'Split haproxy and keepalived restarts\n\nWe need this to be stop-start as haproxy and proxysql need to be\nreconfigured simultaneously when switching between them.\n\nThis change also introduces checks for service enablement.\n\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7\n'}]",29,838930,959b7f79212cf8fee7f8c0d7abb124b37270798e,41,3,6,27339,,,0,"Split haproxy and keepalived restarts

We need this to be stop-start as haproxy and proxysql need to be
reconfigured simultaneously when switching between them.

This change also introduces checks for service enablement.

Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I2e10f490305f3d8b1b7abbc66ddb40df65c37fe7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/838930/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/loadbalancer/handlers/main.yml'],1,85da5facb63fe26f5817aff336be6d7b36c7204b,proxysql,"- name: Stop backup haproxy container become: true kolla_docker: action: ""stop_container"" # NOTE(kevko): backup node might not have keepalived yet - ignore ignore_missing: true common_options: ""{{ docker_common_options }}"" name: ""haproxy"" when: - kolla_action != ""config"" - groups.kolla_ha_is_master_False is defined - inventory_hostname in groups.kolla_ha_is_master_False listen: - Restart haproxy container - Restart keepalived container - name: Start backup haproxy container - service.enabled | bool - service.enabled | bool listen: - Restart keepalived container notify: - Wait for virtual IP to appear - name: Stop master keepalived container become: true kolla_docker: action: ""stop_container"" common_options: ""{{ docker_common_options }}"" name: ""keepalived"" when: - kolla_action != ""config"" - groups.kolla_ha_is_master_True is defined - inventory_hostname in groups.kolla_ha_is_master_True ignore_missing: true - service.enabled | bool - service.enabled | bool vars: service_name: ""{{ item }}"" service: ""{{ loadbalancer_services[service_name] }}"" wait_for: host: ""{{ service.vip }}"" port: ""{{ service.port }}"" with_items: - haproxy when: - service.enabled | bool","- name: Restart backup haproxy container when: - kolla_action != ""config"" - groups.kolla_ha_is_master_True is defined - inventory_hostname in groups.kolla_ha_is_master_True listen: - Restart keepalived container - name: Stop master keepalived container become: true kolla_docker: action: ""stop_container"" common_options: ""{{ docker_common_options }}"" name: ""keepalived"" wait_for: host: ""{{ kolla_internal_vip_address }}"" port: ""{{ haproxy_monitor_port }}""",46,16
openstack%2Fkolla~master~I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98,openstack/kolla,master,I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98,[DNM] Remove default policy files,ABANDONED,2021-10-05 10:56:44.000000000,2022-06-02 11:20:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-10-05 10:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd94d386e950588f07b9da9de526af2e8a22d660', 'message': 'Remove default policy files\n\nDebian added policy.d folder where default\npolicy files are stored. This is problem as\nthese policy files are overwriting policy yaml\npotentionally injected by kolla-ansible or\ndefault in-code policy.\n\nThis patch is adding macro which is used to remove\ndefault policy files from openstack images.\n\nChange-Id: I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98\n'}, {'number': 2, 'created': '2021-10-06 17:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/271833cc46f627e816a531d937b93324e16df4e5', 'message': 'Remove default policy files\n\nDebian added policy.d folder where default\npolicy files are stored. This is problem as\nthese policy files are overwriting policy yaml\npotentionally injected by kolla-ansible or\ndefault in-code policy.\n\nThis patch is adding macro which is used to remove\ndefault policy files from openstack images.\n\nChange-Id: I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98\n'}, {'number': 3, 'created': '2021-10-06 17:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d7a220fa266d21d7253decc26debf2e57101685', 'message': 'Switch openstack services to use policy.d\n\nDebian binary packages already providing policy.d\nfolder where can be potentionally some default\npolicy (default commented). This dir is preferred,\nor better said - files inside that dir, overwrites\nthe global one which is injected by kolla-ansible\nif user defined custom policy.\n\nThis patch is step needed to kolla-ansible\ncan implement copying policy files into that folder.\n\nThis approach has several pros:\n  - User can split several policies logically\n  - Kolla can provide own default policy (if want)\n\nChange-Id: I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98\n'}, {'number': 4, 'created': '2021-10-12 14:03:27.000000000', 'files': ['docker/barbican/barbican-base/Dockerfile.j2', 'docker/cyborg/cyborg-base/Dockerfile.j2', 'docker/murano/murano-base/Dockerfile.j2', 'docker/monasca/monasca-base/Dockerfile.j2', 'docker/vitrage/vitrage-base/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/trove/trove-base/Dockerfile.j2', 'docker/freezer/freezer-base/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/swift/swift-base/Dockerfile.j2', 'docker/tacker/tacker-base/Dockerfile.j2', 'docker/ironic/ironic-base/Dockerfile.j2', 'docker/manila/manila-base/Dockerfile.j2', 'docker/nova/nova-base/Dockerfile.j2', 'docker/octavia/octavia-base/Dockerfile.j2', 'docker/magnum/magnum-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-base/Dockerfile.j2', 'docker/macros.j2', 'docker/mistral/mistral-base/Dockerfile.j2', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'docker/blazar/blazar-base/Dockerfile.j2', 'docker/placement/placement-base/Dockerfile.j2', 'docker/senlin/senlin-base/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/kuryr/kuryr-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/watcher/watcher-base/Dockerfile.j2', 'docker/ironic-inspector/Dockerfile.j2', 'docker/sahara/sahara-base/Dockerfile.j2', 'docker/solum/solum-base/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/051dcbe5a23f65c5827f41f2246671bb857c76a2', 'message': '[DNM] Remove default policy files\n\nDebian added policy.d folder where default\npolicy files are stored. This is problem as\nthese policy files are overwriting policy yaml\npotentionally injected by kolla-ansible or\ndefault in-code policy.\n\nThis patch is adding macro which is used to remove\ndefault policy files from openstack images.\n\nChange-Id: I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98\n'}]",7,812479,051dcbe5a23f65c5827f41f2246671bb857c76a2,20,3,4,27339,,,0,"[DNM] Remove default policy files

Debian added policy.d folder where default
policy files are stored. This is problem as
these policy files are overwriting policy yaml
potentionally injected by kolla-ansible or
default in-code policy.

This patch is adding macro which is used to remove
default policy files from openstack images.

Change-Id: I05cc853ab76aaf1b97ae7caad4705dc9da6a8d98
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/812479/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/barbican/barbican-base/Dockerfile.j2', 'docker/cyborg/cyborg-base/Dockerfile.j2', 'docker/murano/murano-base/Dockerfile.j2', 'docker/monasca/monasca-base/Dockerfile.j2', 'docker/vitrage/vitrage-base/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/trove/trove-base/Dockerfile.j2', 'docker/freezer/freezer-base/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/swift/swift-base/Dockerfile.j2', 'docker/tacker/tacker-base/Dockerfile.j2', 'docker/ironic/ironic-base/Dockerfile.j2', 'docker/manila/manila-base/Dockerfile.j2', 'docker/nova/nova-base/Dockerfile.j2', 'docker/octavia/octavia-base/Dockerfile.j2', 'docker/magnum/magnum-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-base/Dockerfile.j2', 'docker/macros.j2', 'docker/mistral/mistral-base/Dockerfile.j2', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'docker/blazar/blazar-base/Dockerfile.j2', 'docker/placement/placement-base/Dockerfile.j2', 'docker/senlin/senlin-base/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/kuryr/kuryr-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/watcher/watcher-base/Dockerfile.j2', 'docker/ironic-inspector/Dockerfile.j2', 'docker/sahara/sahara-base/Dockerfile.j2', 'docker/solum/solum-base/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2']",36,cd94d386e950588f07b9da9de526af2e8a22d660,change-812479-1,{{ macros.default_policy_cleanup('/etc/gnocchi') }} ,,76,0
openstack%2Fcinder~master~Ib6ca4372e005b4e35f49b4a8073a3d82661ab468,openstack/cinder,master,Ib6ca4372e005b4e35f49b4a8073a3d82661ab468,"db: Migrate ""group snapshot"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-02 11:16:44.000000000,2022-06-02 11:15:29.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cc431f1e22937e0a326fc8b2efc4f9e42ba9a74', 'message': 'db: Migrate ""group snapshot"" APIs to enginefacade\n\nMigrate group snapshot-related APIs from the legacy enginefacade to the\nmodern context-based enginefacade.\n\nChange-Id: Ib6ca4372e005b4e35f49b4a8073a3d82661ab468\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,837532,1cc431f1e22937e0a326fc8b2efc4f9e42ba9a74,33,4,1,15334,,,0,"db: Migrate ""group snapshot"" APIs to enginefacade

Migrate group snapshot-related APIs from the legacy enginefacade to the
modern context-based enginefacade.

Change-Id: Ib6ca4372e005b4e35f49b4a8073a3d82661ab468
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/837532/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,1cc431f1e22937e0a326fc8b2efc4f9e42ba9a74,remove-legacyfacade," result = ( model_query( context, models.GroupSnapshot, session=session, project_only=True, ) .filter_by(id=group_snapshot_id) .first() ) group_snapshot_id=group_snapshot_id )@main_context_manager.readerdef _group_snapshot_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): if filters and not is_valid_model_filters( models.GroupSnapshot, filters, ): # Generate the paginate query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.GroupSnapshot, ) return query.all() if query else []@main_context_manager.reader def group_snapshot_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _group_snapshot_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs, )@main_context_manager.reader def group_snapshot_get_all_by_group( context, group_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _group_snapshot_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.reader def group_snapshot_get_all_by_project( context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _group_snapshot_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.writer if group_id: # There has to exist at least 1 volume in the group and the group # cannot be updating the composing volumes or being created. conditions = [ sql.exists().where( and_( ~models.Volume.deleted, models.Volume.group_id == group_id ) ), ~models.Group.deleted, models.Group.id == group_id, ~models.Group.status.in_(('creating', 'updating')), ] # NOTE(geguileo): We build a ""fake"" from_select clause instead of # using transaction isolation on the session because we would need # SERIALIZABLE level and that would have a considerable performance # penalty. binds = (bindparam(k, v) for k, v in values.items()) sel = context.session.query(*binds).filter(*conditions) insert_stmt = model.__table__.insert().from_select(values.keys(), sel) result = context.session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: msg = _( ""Source group cannot be empty or in 'creating' or "" ""'updating' state. No group snapshot will be created."" ) raise exception.InvalidGroup(reason=msg) else: group_snapshot = model() group_snapshot.update(values) context.session.add(group_snapshot) return _group_snapshot_get(context, values['id'])@main_context_manager.writer def group_snapshot_update(context, group_snapshot_id, values): result = ( model_query(context, models.GroupSnapshot, project_only=True) .filter_by(id=group_snapshot_id) .first() ) if not result: raise exception.GroupSnapshotNotFound( _(""No group snapshot with id %s"") % group_snapshot_id ) result.update(values) result.save(context.session)@main_context_manager.writer def group_snapshot_destroy(context, group_snapshot_id): query = model_query(context, models.GroupSnapshot).filter_by( id=group_snapshot_id ) entity = query.column_descriptions[0]['entity'] updated_values = { 'status': 'deleted', 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } query.update(updated_values) del updated_values['updated_at'] return sql.exists().where( and_( models.GroupSnapshot.group_id == models.Group.id, ~models.GroupSnapshot.deleted, models.GroupSnapshot.status == 'creating', ) )"," result = model_query(context, models.GroupSnapshot, session=session, project_only=True).\ filter_by(id=group_snapshot_id).\ first() group_snapshot_id=group_snapshot_id)def _group_snapshot_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): if filters and not is_valid_model_filters(models.GroupSnapshot, filters): session = get_session() with session.begin(): # Generate the paginate query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.GroupSnapshot) return query.all() if query else []def group_snapshot_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _group_snapshot_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs)def group_snapshot_get_all_by_group(context, group_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _group_snapshot_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs)def group_snapshot_get_all_by_project(context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _group_snapshot_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs) session = get_session() with session.begin(): if group_id: # There has to exist at least 1 volume in the group and the group # cannot be updating the composing volumes or being created. conditions = [ sql.exists().where(and_( ~models.Volume.deleted, models.Volume.group_id == group_id)), ~models.Group.deleted, models.Group.id == group_id, ~models.Group.status.in_(('creating', 'updating'))] # NOTE(geguileo): We build a ""fake"" from_select clause instead of # using transaction isolation on the session because we would need # SERIALIZABLE level and that would have a considerable performance # penalty. binds = (bindparam(k, v) for k, v in values.items()) sel = session.query(*binds).filter(*conditions) insert_stmt = model.__table__.insert().from_select(values.keys(), sel) result = session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: msg = _(""Source group cannot be empty or in 'creating' or "" ""'updating' state. No group snapshot will be created."") raise exception.InvalidGroup(reason=msg) else: group_snapshot = model() group_snapshot.update(values) session.add(group_snapshot) return _group_snapshot_get(context, values['id'], session=session)def group_snapshot_update(context, group_snapshot_id, values): session = get_session() with session.begin(): result = model_query(context, models.GroupSnapshot, project_only=True).\ filter_by(id=group_snapshot_id).\ first() if not result: raise exception.GroupSnapshotNotFound( _(""No group snapshot with id %s"") % group_snapshot_id) result.update(values) result.save(session=session)def group_snapshot_destroy(context, group_snapshot_id): session = get_session() with session.begin(): query = model_query(context, models.GroupSnapshot, session=session).\ filter_by(id=group_snapshot_id) entity = query.column_descriptions[0]['entity'] updated_values = {'status': 'deleted', 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at} query.update(updated_values) del updated_values['updated_at'] return sql.exists().where(and_( models.GroupSnapshot.group_id == models.Group.id, ~models.GroupSnapshot.deleted, models.GroupSnapshot.status == 'creating'))",153,90
openstack%2Fcinder~master~I03454fcb634e1ae8e2ef2b8aaef2dc85d4281051,openstack/cinder,master,I03454fcb634e1ae8e2ef2b8aaef2dc85d4281051,"db: Migrate ""cg snapshot"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-02 10:49:09.000000000,2022-06-02 10:47:50.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bef3b3e6df27e507844069ea8214265c51bc3dca', 'message': 'db: Migrate ""cg snapshot"" APIs to enginefacade\n\nMigrate consistency group snapshot-related APIs from the legacy\nenginefacade to the modern context-based enginefacade.\n\nChange-Id: I03454fcb634e1ae8e2ef2b8aaef2dc85d4281051\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,837531,bef3b3e6df27e507844069ea8214265c51bc3dca,33,4,1,15334,,,0,"db: Migrate ""cg snapshot"" APIs to enginefacade

Migrate consistency group snapshot-related APIs from the legacy
enginefacade to the modern context-based enginefacade.

Change-Id: I03454fcb634e1ae8e2ef2b8aaef2dc85d4281051
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/837531/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,bef3b3e6df27e507844069ea8214265c51bc3dca,remove-legacyfacade,"def _cgsnapshot_get(context, cgsnapshot_id): result = ( model_query(context, models.CGSnapshot, project_only=True) .filter_by(id=cgsnapshot_id) .first() )@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.reader@main_context_manager.writer if cg_id: # There has to exist at least 1 volume in the CG and the CG cannot # be updating the composing volumes or being created. conditions = [ sql.exists().where( and_( models.Volume.consistencygroup_id == cg_id, ), ), ~models.ConsistencyGroup.deleted, models.ConsistencyGroup.id == cg_id, ~models.ConsistencyGroup.status.in_(('creating', 'updating')), ] # NOTE(geguileo): We build a ""fake"" from_select clause instead of # using transaction isolation on the session because we would need # SERIALIZABLE level and that would have a considerable performance # penalty. binds = (bindparam(k, v) for k, v in values.items()) sel = context.session.query(*binds).filter(*conditions) insert_stmt = model.__table__.insert().from_select( values.keys(), sel, ) result = context.session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: msg = _( ""Source CG cannot be empty or in 'creating' or "" ""'updating' state. No cgsnapshot will be created."" ) raise exception.InvalidConsistencyGroup(reason=msg) else: cgsnapshot = model() cgsnapshot.update(values) context.session.add(cgsnapshot) return _cgsnapshot_get(context, values['id'])@main_context_manager.writer@main_context_manager.writer def cgsnapshot_destroy(context, cgsnapshot_id): query = model_query(context, models.CGSnapshot).filter_by(id=cgsnapshot_id) entity = query.column_descriptions[0]['entity'] updated_values = { 'status': 'deleted', 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } query.update(updated_values) return sql.exists().where( and_( models.CGSnapshot.consistencygroup_id == models.ConsistencyGroup.id, ~models.CGSnapshot.deleted, models.CGSnapshot.status == 'creating', ) )","def _cgsnapshot_get(context, cgsnapshot_id, session=None): result = model_query(context, models.CGSnapshot, session=session, project_only=True).\ filter_by(id=cgsnapshot_id).\ first() session = get_session() with session.begin(): if cg_id: # There has to exist at least 1 volume in the CG and the CG cannot # be updating the composing volumes or being created. conditions = [ sql.exists().where(and_( models.Volume.consistencygroup_id == cg_id)), ~models.ConsistencyGroup.deleted, models.ConsistencyGroup.id == cg_id, ~models.ConsistencyGroup.status.in_(('creating', 'updating'))] # NOTE(geguileo): We build a ""fake"" from_select clause instead of # using transaction isolation on the session because we would need # SERIALIZABLE level and that would have a considerable performance # penalty. binds = (bindparam(k, v) for k, v in values.items()) sel = session.query(*binds).filter(*conditions) insert_stmt = model.__table__.insert().from_select(values.keys(), sel) result = session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: msg = _(""Source CG cannot be empty or in 'creating' or "" ""'updating' state. No cgsnapshot will be created."") raise exception.InvalidConsistencyGroup(reason=msg) else: cgsnapshot = model() cgsnapshot.update(values) session.add(cgsnapshot) return _cgsnapshot_get(context, values['id'], session=session)def cgsnapshot_destroy(context, cgsnapshot_id): session = get_session() with session.begin(): query = model_query(context, models.CGSnapshot, session=session).\ filter_by(id=cgsnapshot_id) entity = query.column_descriptions[0]['entity'] updated_values = {'status': 'deleted', 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at} query.update(updated_values) return sql.exists().where(and_( models.CGSnapshot.consistencygroup_id == models.ConsistencyGroup.id, ~models.CGSnapshot.deleted, models.CGSnapshot.status == 'creating'))",72,50
openstack%2Fkolla-ansible~master~I9e4e1287ea69960ae3b13734acc3eb0b087a8d86,openstack/kolla-ansible,master,I9e4e1287ea69960ae3b13734acc3eb0b087a8d86,Add support for custom alert notification templates,MERGED,2022-05-17 12:56:01.000000000,2022-06-02 10:29:58.000000000,2022-06-02 10:05:06.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32657}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-17 12:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0609211a6ca33f4205ae2c281c3cac6016ce0c24', 'message': 'Add support for custom alert notification templates\n\nChange-Id: I9e4e1287ea69960ae3b13734acc3eb0b087a8d86\n'}, {'number': 2, 'created': '2022-05-17 13:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcfec1215cf8c9abb6dcb4edfb35221ef9ab35bf', 'message': 'Add support for custom alert notification templates\n\nChange-Id: I9e4e1287ea69960ae3b13734acc3eb0b087a8d86\n'}, {'number': 3, 'created': '2022-05-17 13:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/998300eba47d636d6b53175f9fb4e7153c1e2723', 'message': 'Add support for custom alert notification templates\n\nChange-Id: I9e4e1287ea69960ae3b13734acc3eb0b087a8d86\n'}, {'number': 4, 'created': '2022-05-18 10:03:59.000000000', 'files': ['ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2', 'ansible/roles/prometheus/templates/prometheus-alertmanager.yml.j2', 'releasenotes/notes/add-support-for-custom-alertmanager-notifications-27f5d0474f470512.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77e811e25c38f460aad21bd9c6428954fd64ddd5', 'message': 'Add support for custom alert notification templates\n\nChange-Id: I9e4e1287ea69960ae3b13734acc3eb0b087a8d86\n'}]",5,842100,77e811e25c38f460aad21bd9c6428954fd64ddd5,22,7,4,32657,,,0,"Add support for custom alert notification templates

Change-Id: I9e4e1287ea69960ae3b13734acc3eb0b087a8d86
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/842100/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-alertmanager.json.j2', 'releasenotes/notes/add-support-for-custom-alertmanager-notifications-27f5d0474f470512.yaml']",2,0609211a6ca33f4205ae2c281c3cac6016ce0c24,monitoring,--- features: - | Adds possibility for inlcuding custom alert notification templates with Prometheus Alertmanager. ,,17,0
openstack%2Fcinder~master~I9c74c5830e514b4f72cebeb382743a24df6a539d,openstack/cinder,master,I9c74c5830e514b4f72cebeb382743a24df6a539d,"db: Migrate ""group"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-02 10:21:10.000000000,2022-06-02 10:19:23.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/14d49f35b4f152afb155c7dfcf35b44595f4e7c2', 'message': 'db: Migrate ""group"" APIs to enginefacade\n\nMigrate group-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: I9c74c5830e514b4f72cebeb382743a24df6a539d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,837530,14d49f35b4f152afb155c7dfcf35b44595f4e7c2,42,4,1,15334,,,0,"db: Migrate ""group"" APIs to enginefacade

Migrate group-related APIs from the legacy enginefacade to the modern
context-based enginefacade.

Change-Id: I9c74c5830e514b4f72cebeb382743a24df6a539d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/837530/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,14d49f35b4f152afb155c7dfcf35b44595f4e7c2,remove-legacyfacade," result = ( model_query(context, models.Group, session=session, project_only=True) .filter_by(id=group_id) .first() )@main_context_manager.reader return model_query( context, models.Group, session=session, project_only=project_only ) return model_query( context, models.GroupSnapshot, session=session, project_only=project_only, ) query = query.filter( _filter_host( models.Group.host, host, match_level=backend_match_level ) )def _group_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): # Generate the paginate query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.Group, ) return query.all() if query else []@main_context_manager.reader def group_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys return _group_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.reader def group_get_all_by_project( context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys return _group_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.writer def group_create( context, values, group_snapshot_id=None, source_group_id=None ): if group_snapshot_id: conditions = [ group_model.id == models.GroupSnapshot.group_id, models.GroupSnapshot.id == group_snapshot_id, ] elif source_group_id: conditions = [group_model.id == source_group_id] else: conditions = None if conditions: # We don't want duplicated field values values.pop('group_type_id', None) values.pop('availability_zone', None) values.pop('host', None) values.pop('cluster_name', None) # NOTE(xyang): Save volume_type_ids to update later. volume_type_ids = values.pop('volume_type_ids', []) sel = context.session.query( group_model.group_type_id, group_model.availability_zone, group_model.host, group_model.cluster_name, *(bindparam(k, v) for k, v in values.items()), ).filter(*conditions) names = ['group_type_id', 'availability_zone', 'host', 'cluster_name'] names.extend(values.keys()) insert_stmt = group_model.__table__.insert().from_select(names, sel) result = context.session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: if source_group_id: raise exception.GroupNotFound(group_id=source_group_id) raise exception.GroupSnapshotNotFound( group_snapshot_id=group_snapshot_id ) for item in volume_type_ids: mapping = models.GroupVolumeTypeMapping() mapping['volume_type_id'] = item mapping['group_id'] = values['id'] context.session.add(mapping) else: for item in values.get('volume_type_ids') or []: mapping = models.GroupVolumeTypeMapping() mapping['volume_type_id'] = item mapping['group_id'] = values['id'] context.session.add(mapping) group = group_model() group.update(values) context.session.add(group) return _group_get(context, values['id'])@main_context_manager.writer context, group_id, volume_type_id ) group_id=group_id, volume_type_id=volume_type_id ) mapping.update({""group_id"": group_id, ""volume_type_id"": volume_type_id}) try: mapping.save(context.session) except db_exc.DBDuplicateEntry: raise exception.GroupVolumeTypeMappingExists( group_id=group_id, volume_type_id=volume_type_id ) return mapping@main_context_manager.writer@main_context_manager.writer def group_destroy(context, group_id): query = model_query(context, models.Group).filter_by(id=group_id) entity = query.column_descriptions[0]['entity'] query.update( { 'status': fields.GroupStatus.DELETED, 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } ) query = context.session.query( models.GroupVolumeTypeMapping, ).filter_by(group_id=group_id) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, } ) return sql.exists().where( and_( models.GroupSnapshot.group_id == models.Group.id, ~models.GroupSnapshot.deleted, ) ) and_(models.Volume.group_id == models.Group.id, ~models.Volume.deleted) ) query = query.where( or_( models.Volume.attach_status == 'attached', sql.exists().where( and_( models.Volume.id == models.Snapshot.volume_id, ~models.Snapshot.deleted, ) ), ) ) subq = ( sql.select([models.Group]) .where(and_(~models.Group.deleted, models.Group.status == 'creating')) .alias('group2') ) msg = _( 'group_creating_from_src must be called with group_id or ' 'group_snapshot_id parameter.' )@main_context_manager.writer return _include_in_cluster( context, cluster, models.Group, partial_rename, filters )"," result = (model_query(context, models.Group, session=session, project_only=True). filter_by(id=group_id). first()) return model_query(context, models.Group, session=session, project_only=project_only) return model_query(context, models.GroupSnapshot, session=session, project_only=project_only) query = query.filter(_filter_host(models.Group.host, host, match_level=backend_match_level))def _group_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): session = get_session() with session.begin(): # Generate the paginate query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Group) return query.all() if query else []def group_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys return _group_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs)def group_get_all_by_project(context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): next page of results to return paired with corresponding item in sort_dirs paired with corresponding item in sort_keys return _group_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs)def group_create(context, values, group_snapshot_id=None, source_group_id=None): session = get_session() with session.begin(): if group_snapshot_id: conditions = [group_model.id == models.GroupSnapshot.group_id, models.GroupSnapshot.id == group_snapshot_id] elif source_group_id: conditions = [group_model.id == source_group_id] else: conditions = None if conditions: # We don't want duplicated field values values.pop('group_type_id', None) values.pop('availability_zone', None) values.pop('host', None) values.pop('cluster_name', None) # NOTE(xyang): Save volume_type_ids to update later. volume_type_ids = values.pop('volume_type_ids', []) sel = session.query(group_model.group_type_id, group_model.availability_zone, group_model.host, group_model.cluster_name, *(bindparam(k, v) for k, v in values.items()) ).filter(*conditions) names = ['group_type_id', 'availability_zone', 'host', 'cluster_name'] names.extend(values.keys()) insert_stmt = group_model.__table__.insert().from_select( names, sel) result = session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: if source_group_id: raise exception.GroupNotFound( group_id=source_group_id) raise exception.GroupSnapshotNotFound( group_snapshot_id=group_snapshot_id) for item in volume_type_ids: mapping = models.GroupVolumeTypeMapping() mapping['volume_type_id'] = item mapping['group_id'] = values['id'] session.add(mapping) else: for item in values.get('volume_type_ids') or []: mapping = models.GroupVolumeTypeMapping() mapping['volume_type_id'] = item mapping['group_id'] = values['id'] session.add(mapping) group = group_model() group.update(values) session.add(group) return _group_get(context, values['id'], session=session) context, group_id, volume_type_id) group_id=group_id, volume_type_id=volume_type_id) mapping.update({""group_id"": group_id, ""volume_type_id"": volume_type_id}) session = get_session() with session.begin(): try: mapping.save(session=session) except db_exc.DBDuplicateEntry: raise exception.GroupVolumeTypeMappingExists( group_id=group_id, volume_type_id=volume_type_id) return mappingdef group_destroy(context, group_id): session = get_session() with session.begin(): query = model_query(context, models.Group, session=session).\ filter_by(id=group_id) entity = query.column_descriptions[0]['entity'] query.update({'status': fields.GroupStatus.DELETED, 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at}) query = session.query(models.GroupVolumeTypeMapping).\ filter_by(group_id=group_id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at}) return sql.exists().where(and_( models.GroupSnapshot.group_id == models.Group.id, ~models.GroupSnapshot.deleted)) and_(models.Volume.group_id == models.Group.id, ~models.Volume.deleted)) query = query.where(or_( models.Volume.attach_status == 'attached', sql.exists().where( and_(models.Volume.id == models.Snapshot.volume_id, ~models.Snapshot.deleted)))) subq = sql.select([models.Group]).where( and_(~models.Group.deleted, models.Group.status == 'creating')).alias('group2') msg = _('group_creating_from_src must be called with group_id or ' 'group_snapshot_id parameter.') return _include_in_cluster(context, cluster, models.Group, partial_rename, filters)",198,134
openstack%2Fopenstack-ansible-galera_server~master~I9cf60ae7b16639a6bf06e050e284757b35dd0dce,openstack/openstack-ansible-galera_server,master,I9cf60ae7b16639a6bf06e050e284757b35dd0dce,Fix systemd and centos9.,MERGED,2022-06-01 12:39:34.000000000,2022-06-02 10:18:16.000000000,2022-06-02 10:17:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-01 12:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/ace0c1ce1aaff50f5bab0953e0236036e55f2df9', 'message': 'Add missing package for galera_cluster on rhel9.\n\nmariadbd[119107]: /usr//bin/wsrep_sst_mariabackup: line 1235: find: command not found\n\nChange-Id: I9cf60ae7b16639a6bf06e050e284757b35dd0dce\n'}, {'number': 2, 'created': '2022-06-01 13:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a772dd32b7dcda42719f2ac2d3ee3aa909e9a423', 'message': 'Add missing package for galera_cluster on rhel9.\n\nmariadbd[119107]: /usr//bin/wsrep_sst_mariabackup: line 1235: find: command not found\n\nChange-Id: I9cf60ae7b16639a6bf06e050e284757b35dd0dce\n'}, {'number': 3, 'created': '2022-06-01 15:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/cfbb932f1bde6da39cc401a4855af8626dff3337', 'message': 'Fix systemd and centos9.\n\n* some package were missing on c9s\n* fix systemd socket as it requires a list.\n\nChange-Id: I9cf60ae7b16639a6bf06e050e284757b35dd0dce\n'}, {'number': 4, 'created': '2022-06-01 17:13:29.000000000', 'files': ['vars/redhat-9.yml', 'tasks/galera_server_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/7b555f4119bf2757cf805fb368101abd813a5900', 'message': 'Fix systemd and centos9.\n\n* some package were missing on c9s\n* fix systemd socket as it requires a list.\n\nChange-Id: I9cf60ae7b16639a6bf06e050e284757b35dd0dce\n'}]",0,844288,7b555f4119bf2757cf805fb368101abd813a5900,13,3,4,13095,,,0,"Fix systemd and centos9.

* some package were missing on c9s
* fix systemd socket as it requires a list.

Change-Id: I9cf60ae7b16639a6bf06e050e284757b35dd0dce
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/88/844288/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,ace0c1ce1aaff50f5bab0953e0236036e55f2df9,, - findutils,,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Idde539d0e9b4da91c642745d91426fdf46f3fe65,openstack/networking-ovn,stable/train,Idde539d0e9b4da91c642745d91426fdf46f3fe65,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:11:17.000000000,2022-06-02 10:12:00.000000000,2022-06-02 10:10:40.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/db6f3bfcf624acd98003ee6d5c7526550cb085ae', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nThis patch also changes the ``OVNRevisionNumbers`` query. Instead\nof calling ""one"", ""one_or_none"" is used instead. If no register\nexists, this method won\'t raise a DB exception and the writer\ncontext can continue without any disruption.\n\nCherry-picked from Neutron:\n  https://review.opendev.org/c/openstack/neutron/+/843478\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(manually cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n\nChange-Id: Idde539d0e9b4da91c642745d91426fdf46f3fe65\n'}, {'number': 2, 'created': '2022-05-27 05:35:45.000000000', 'files': ['networking_ovn/db/revision.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1cdf6ac929dd4e97d7af14d79d6fce436875f157', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nThis patch also changes the ``OVNRevisionNumbers`` query. Instead\nof calling ""one"", ""one_or_none"" is used instead. If no register\nexists, this method won\'t raise a DB exception and the writer\ncontext can continue without any disruption.\n\nCherry-picked from Neutron:\n  https://review.opendev.org/c/openstack/neutron/+/843478\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(manually cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n\nChange-Id: Idde539d0e9b4da91c642745d91426fdf46f3fe65\n'}]",8,843486,1cdf6ac929dd4e97d7af14d79d6fce436875f157,21,4,2,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

This patch also changes the ``OVNRevisionNumbers`` query. Instead
of calling ""one"", ""one_or_none"" is used instead. If no register
exists, this method won't raise a DB exception and the writer
context can continue without any disruption.

Cherry-picked from Neutron:
  https://review.opendev.org/c/openstack/neutron/+/843478

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(manually cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)

Change-Id: Idde539d0e9b4da91c642745d91426fdf46f3fe65
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/86/843486/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/db/revision.py'],1,db6f3bfcf624acd98003ee6d5c7526550cb085ae,bug/1975837," if session.query(models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(resource['id'], resource_type, session)"," with session.begin(subtransactions=True): try: session.query(models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one() except exc.NoResultFound: LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(resource['id'], resource_type, session)",11,12
openstack%2Ftacker~master~Ic67295d425b19fc6de6f5c49dc02478068c17224,openstack/tacker,master,Ic67295d425b19fc6de6f5c49dc02478068c17224,Add Separated NFVO FT for V2 API,MERGED,2022-02-25 06:25:22.000000000,2022-06-02 10:08:49.000000000,2022-06-02 10:06:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 33292}]","[{'number': 1, 'created': '2022-02-25 06:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a00cfa618a2c186e8fa75090286e9c0ca3db2897', 'message': '[WIP]Add Seperated NFVO FT for V2 API\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 2, 'created': '2022-02-25 06:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ec3c9fed94241bdd9de98de4f2f668be157e325e', 'message': '[WIP]Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 3, 'created': '2022-03-28 08:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/415eed40485684494e4c093f3577452dc6ab904b', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nAt the same time, fix v2 code bug when using external nfvo.\n  1. The name of `VimComputeResourceFlavour` in grant.py is\n  referenced incorrectly.\n  2. The name of `grant.vimConnectioninfo` in vnflcm_driver_v2.py\n  is referenced incorrectly.\n\nCloses-Bug: #1961359\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 4, 'created': '2022-03-29 00:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/69c55026721f3542dec4644fbcc6a448a6736e0f', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nAt the same time, fix v2 code bug when using external nfvo.\n  1. The name of `VimComputeResourceFlavour` in grant.py is\n  referenced incorrectly.\n  2. The name of `grant.vimConnectioninfo` in vnflcm_driver_v2.py\n  is referenced incorrectly.\n\nCloses-Bug: #1961359\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 5, 'created': '2022-03-29 03:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1489b2d91882ca44d446b5270ace3c094f22f770', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nAt the same time, fix v2 code bug when using external nfvo.\n  1. The name of `VimComputeResourceFlavour` in grant.py is\n  referenced incorrectly.\n  2. The name of `grant.vimConnectioninfo` in vnflcm_driver_v2.py\n  is referenced incorrectly.\n\nCloses-Bug: #1961359\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 6, 'created': '2022-04-18 05:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fb72043c8e77f076ff94bee08f6f62a0d3a4a6bd', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 7, 'created': '2022-04-18 05:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f5160a967fdf24e1d57c8006f8707b74364ebc5b', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 8, 'created': '2022-04-19 01:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7c732e38a427a16d5009fccdcdb7faa7bc5e41c9', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 9, 'created': '2022-04-20 00:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e7a5834c29d7a920d4dde327e65514abd618e43', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 10, 'created': '2022-04-22 06:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/37c294eaf4b2b224333a44cd5b560f361d9c981e', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 11, 'created': '2022-04-25 00:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bae6fbc91fedf14ad27f98ee72c718a6f7d5cefd', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 12, 'created': '2022-04-27 04:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/032661cf9785dcaa4260dec2c08c4b9ab0ad055e', 'message': 'Add Seperated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test seperated\nNFVO scenarios.\n\n1. The split NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 13, 'created': '2022-05-17 01:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e9ea3e6475837534806b64e5336ba2022bfa4a9b', 'message': 'Add Separated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test separated\nNFVO scenarios.\n\n1. The separated NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 14, 'created': '2022-05-17 06:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/00389ac09d2f41a212fa8a6feb9c0148f896c908', 'message': 'Add Separated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test separated\nNFVO scenarios.\n\n1. The separated NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 15, 'created': '2022-05-19 01:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0e24a0fdf5e39ce1e04f156a1947213490ccc230', 'message': 'Add Separated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test separated\nNFVO scenarios.\n\n1. The separated NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 16, 'created': '2022-05-24 02:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/67f8a46cdb2da7cdd0a9c1cca96b07749a852252', 'message': 'Add Separated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test separated\nNFVO scenarios.\n\n1. The separated NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 17, 'created': '2022-05-24 07:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cb09f04288fd118b8f7d5c5bc2e29bba630fb664', 'message': 'Add Separated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test separated\nNFVO scenarios.\n\n1. The separated NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}, {'number': 18, 'created': '2022-05-25 03:12:29.000000000', 'files': ['tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2_common/samples/error_network/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/Scripts/coordinate_new_vnf.py', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/Definitions/change_vnf_pkg_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/BaseHOT/simple/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/pre.py', 'tacker/tests/functional/sol_kubernetes_v2/samples/test_change_vnf_pkg_with_deployment/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/BaseHOT/simple/sample1.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/Definitions/change_vnf_pkg_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/BaseHOT/volume/base_hot_top.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/Definitions/v2_sample2_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/BaseHOT/volume/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_separated_nfvo_v2/fake_grant_v2.py', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/pre.py', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/Definitions/change_vnf_pkg_old_volume_df_simple.yaml', 'doc/source/user/userdata_script.rst', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/BaseHOT/simple/base_hot_top.yaml', 'tacker/tests/functional/sol_v2/test_change_vnfpkg.py', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2/test_vnflcm_error_handling.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/Definitions/change_vnf_pkg_new_image_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/Definitions/v2_sample2_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/post.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/BaseHOT/simple/base_hot_top.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/BaseHOT/simple/base_hot_top.yaml', 'tacker/tests/functional/sol_v2_common/test_vnflcm_basic_common.py', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/BaseHOT/simple/sample1.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/UserData/userdata.py', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/BaseHOT/simple/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/Definitions/change_vnf_pkg_error_image_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/common/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/Definitions/change_vnf_pkg_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/BaseHOT/simple/base_hot_top.yaml', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/pkggen.py', '.zuul.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/Definitions/v2_sample1_types.yaml', 'tacker/tests/functional/sol_separated_nfvo_v2/test_nfvo_separate_v2.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/Definitions/v2_sample2_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/BaseHOT/volume/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/Definitions/v2_sample1_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/Definitions/change_vnf_pkg_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/Definitions/v2_sample2_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/Scripts/error_coordinate_new_vnf.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/Definitions/change_vnf_pkg_old_image_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/Definitions/change_vnf_pkg_types.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/fake_grant_server.py', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/post.py', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_separated_nfvo_v2/__init__.py', 'tacker/tests/functional/sol_v2_common/utils.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/Definitions/change_vnf_pkg_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/Definitions/v2_sample1_types.yaml', 'tacker/tests/functional/sol_kubernetes_v2/samples/test_instantiate_cnf_resources/pkggen.py', 'tacker/tests/functional/sol_v2_common/base_v2.py', 'tacker/sol_refactored/common/http_client.py', 'tacker/tests/functional/common/fake_grant_server.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/BaseHOT/simple/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/tests/functional/common/fake_server.py', 'tacker/tests/functional/sol_kubernetes_v2/base_v2.py', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/UserData/userdata.py', 'tox.ini', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/Definitions/change_vnf_pkg_new_image_df_volume.yaml', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/Definitions/change_vnf_pkg_new_volume_df_simple.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/Definitions/change_vnf_pkg_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/Definitions/change_vnf_pkg_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/Scripts/coordinate_old_vnf.py', 'tacker/tests/functional/sol_v2_common/paramgen.py', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/test_instantiate_vnf_with_old_image_or_volume/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/common/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/BaseHOT/volume/base_hot_top.yaml', 'tacker/tests/functional/sol_v2_common/samples/scale_ng/contents/Definitions/v2_sample1_top.vnfd.yaml', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2_common/samples/error_network/contents/Definitions/v2_sample2_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/pkggen.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/Definitions/change_vnf_pkg_new_volume_df_volume.yaml', 'tacker/tests/functional/sol_v2_common/samples/update_vnf/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/contents/Definitions/v2_sample2_types.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/BaseHOT/simple/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_update_failed/contents/Scripts/coordinate_new_vnf.py', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_min/pkggen.py', 'tacker/tests/functional/sol_v2_common/__init__.py', 'tacker/tests/functional/sol_v2_common/samples/basic_lcms_max/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/Scripts/coordinate_new_vnf.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_volume/contents/BaseHOT/volume/nested/base_hot_nested_VDU1.yaml', 'tacker/tests/functional/sol_separated_nfvo_v2/fake_vnfpkgm_v2.py', 'tacker/tests/functional/sol_v2_common/samples/test_change_vnf_pkg_with_new_image/contents/BaseHOT/volume/base_hot_top.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/be72fd1a83f3163fe5061bdea7c8ec560ee5373d', 'message': 'Add Separated NFVO FT for V2 API\n\nOnly test cases using local NFVO are included in the FT of the\ncurrent v2 API.\nThis patch provides a new FT job for the v2 API to test separated\nNFVO scenarios.\n\n1. The separated NFVO in this patch is to be simulated using code.\n2. This patch will merge the fake_grant_server.py of v1 as a common\n   fake_grant_server for users to test manually.\n\nChange-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224\n'}]",131,830932,be72fd1a83f3163fe5061bdea7c8ec560ee5373d,69,6,18,33492,,,0,"Add Separated NFVO FT for V2 API

Only test cases using local NFVO are included in the FT of the
current v2 API.
This patch provides a new FT job for the v2 API to test separated
NFVO scenarios.

1. The separated NFVO in this patch is to be simulated using code.
2. This patch will merge the fake_grant_server.py of v1 as a common
   fake_grant_server for users to test manually.

Change-Id: Ic67295d425b19fc6de6f5c49dc02478068c17224
",git fetch https://review.opendev.org/openstack/tacker refs/changes/32/830932/18 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/sol_separated_nfvo_v2/__init__.py', 'tacker/tests/functional/sol_separated_nfvo_v2/base_v2.py', 'tacker/tests/functional/sol_separated_nfvo_v2/paramgen.py', 'tacker/tests/functional/sol_separated_nfvo_v2/fake_grant_and_vnfpkgm.py', 'tacker/tests/functional/sol_separated_nfvo_v2/test_nfvo_separate_v2.py']",5,a00cfa618a2c186e8fa75090286e9c0ca3db2897,refactor-fake-grant-v2,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import time from tacker.objects import fields from tacker.tests.functional.common import fake_grant from tacker.tests.functional.sol.vnflcm import base as vnflcm_base from tacker.tests.functional.sol_separated_nfvo_v2 import base_v2 from tacker.tests.functional.sol_separated_nfvo_v2 import paramgen class VnfLcmWithNfvoSeparator(base_v2.BaseSolV2Test): def _register_vnf_package_mock_response(self, package_dir=""functional6""): """"""Prepare VNF package for test. Register VNF package response to fake NFVO server and Cleanups. Returns: Response: VNF Package information """""" # Pre Setting: Create vnf package. sample_name = package_dir csar_package_path = os.path.abspath( os.path.join( os.path.dirname(__file__), ""../../../etc/samples/etsi/nfv"", sample_name)) # Get VNFD id. tempname, vnfd_id = vnflcm_base._create_csar_with_unique_vnfd_id( csar_package_path) vnf_package_info = \ fake_grant.VnfPackage.make_get_vnf_pkg_info_resp( vnfd_id) vnf_package_id = vnf_package_info['id'] # Post Setting: Reserve deleting vnf package. self.addCleanup(vnflcm_base._delete_vnf_package, self.tacker_client, vnf_package_id) # Set ""VNF Packages"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback( 'GET', fake_grant.VnfPackage.VNF_PACKAGE_REQ_PATH, status_code=200, response_body=[vnf_package_info]) # Set ""VNF Package content"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', os.path.join( fake_grant.VnfPackage.VNF_PACKAGE_REQ_PATH, vnf_package_id, 'package_content'), status_code=200, response_headers={""Content-Type"": ""application/zip""}, content=tempname) # Set ""Individual VNF package artifact"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', os.path.join( fake_grant.VnfPackage.VNF_PACKAGE_REQ_PATH, vnf_package_id, 'artifacts', vnf_package_info['additionalArtifacts'][0]['artifactPath']), status_code=200, response_headers={""Content-Type"": ""application/zip""}, content=tempname) # Set ""VNFD of individual VNF package"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', os.path.join( fake_grant.VnfPackage.VNF_PACKAGE_REQ_PATH, vnf_package_id, 'vnfd'), status_code=200, response_headers={""Content-Type"": ""application/zip""}, content=tempname) return vnf_package_info def test_basic_lcms_min(self): """"""Test LCM operations with omitting except for required attributes * About attributes: Omit except for required attributes. Only the following cardinality attributes are set. - 1 - 1..N (1) * About LCM operations: This test includes the following operations. - 1. Create subscription - 2. Test notification - 3. Create VNF instance - 4. Instantiate VNF - 5. Show VNF instance - 6. Update VNF - 7. Show VNF instance - 8. Scale out operation - 9. Show VNF instance - 10. Scale in operation - 11. Terminate VNF - 12. Delete VNF instance - 13. Delete subscription - 14. Show subscription """""" # 1. Create subscription callback_url = os.path.join(base_v2.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_uri = (f'http://localhost:' f'{base_v2.FAKE_SERVER_MANAGER.SERVER_PORT}' f'{callback_url}') sub_req = paramgen.sub_create_min(callback_uri) resp, body = self.create_subscription(sub_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) sub_id = body['id'] # 2. Test notification self.assert_notification_get(callback_url) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_2)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # 3. Create VNF instance expected_inst_attrs = [ 'id', # 'vnfInstanceName', # omitted # 'vnfInstanceDescription', # omitted 'vnfdId', 'vnfProvider', 'vnfProductName', 'vnfSoftwareVersion', 'vnfdVersion', # 'vnfConfigurableProperties', # omitted # 'vimConnectionInfo', # omitted 'instantiationState', # 'instantiatedVnfInfo', # omitted # 'metadata', # omitted # 'extensions', # omitted '_links' ] create_req = paramgen.create_vnf_min(self.vnfd_id_2) resp, body = self.create_vnf_instance(create_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) self.check_resp_body(body, expected_inst_attrs) inst_id = body['id'] # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_2)['usageState'] self.assertEqual('IN_USE', usage_state) # check instantiationState of VNF resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.assertEqual(fields.VnfInstanceState.NOT_INSTANTIATED, body['instantiationState']) # 4. Instantiate VNF instantiate_req = paramgen.instantiate_vnf_min() resp, body = self.instantiate_vnf_instance(inst_id, instantiate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # check creation of Heat-stack stack_name = f'vnf-{inst_id}' stack_status, _ = self.heat_client.get_status(stack_name) self.assertEqual(""CREATE_COMPLETE"", stack_status) # check that the servers set in ""nfvi_node:Affinity"" are # deployed on the same host. # NOTE: it's up to heat to decide which host to deploy to vdu1_details = self.get_server_details('VDU1') vdu2_details = self.get_server_details('VDU2') vdu1_host = vdu1_details['hostId'] vdu2_host = vdu2_details['hostId'] self.assertEqual(vdu1_host, vdu2_host) # 5. Show VNF instance additional_inst_attrs = [ 'vimConnectionInfo', 'instantiatedVnfInfo' ] expected_inst_attrs.extend(additional_inst_attrs) resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) # check instantiationState of VNF self.assertEqual(fields.VnfInstanceState.INSTANTIATED, body['instantiationState']) # check usageState of VNF Package 2 usage_state = self.get_vnf_package(self.vnf_pkg_2)['usageState'] self.assertEqual('IN_USE', usage_state) # check usageState of VNF Package 3 usage_state = self.get_vnf_package(self.vnf_pkg_3)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # check vnfd id self.assertEqual(self.vnfd_id_2, body['vnfdId']) # 6. Update VNF update_req = paramgen.update_vnf_min_with_parameter(self.vnfd_id_3) resp, body = self.update_vnf_instance(inst_id, update_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # 7. Show VNF instance additional_inst_attrs = [ 'vimConnectionInfo', 'instantiatedVnfInfo' ] expected_inst_attrs.extend(additional_inst_attrs) resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) # check usageState of VNF Package 2 usage_state = self.get_vnf_package(self.vnf_pkg_2)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # check usageState of VNF Package 3 usage_state = self.get_vnf_package(self.vnf_pkg_3)['usageState'] self.assertEqual('IN_USE', usage_state) # check vnfd id self.assertEqual(self.vnfd_id_3, body['vnfdId']) # 8. Scale out operation # get nested stack count before scaleout nest_stack_list = self.heat_client.get_resources(stack_name) count_before_scaleout = len(nest_stack_list) scaleout_req = paramgen.scaleout_vnf_min() resp, body = self.scale_vnf_instance(inst_id, scaleout_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # 9. Show VNF instance additional_inst_attrs = [ 'vimConnectionInfo', 'instantiatedVnfInfo' ] expected_inst_attrs.extend(additional_inst_attrs) resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) # get nested stack count after scale out nest_stack_list = self.heat_client.get_resources(stack_name) count_after_scaleout = len(nest_stack_list) # check nested stack was created # 3 was the sum of 1 VM, 1 CP, 1 stack(VDU1.yaml) self.assertEqual(3, count_after_scaleout - count_before_scaleout) # 10. Scale in operation scalein_req = paramgen.scalein_vnf_min() resp, body = self.scale_vnf_instance(inst_id, scalein_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # get nested stack count after scale in nest_stack_list = self.heat_client.get_resources(stack_name) count_after_scalein = len(nest_stack_list) # check nested stack was deleted # 3 was the sum of 1 VM, 1 CP, 1 stack(VDU1.yaml) self.assertTrue(3, count_after_scaleout - count_after_scalein) # 11. Terminate a VNF instance terminate_req = paramgen.terminate_vnf_min() resp, body = self.terminate_vnf_instance(inst_id, terminate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # wait a bit because there is a bit time lag between lcmocc DB # update and terminate completion. time.sleep(10) # check deletion of Heat-stack stack_status, _ = self.heat_client.get_status(stack_name) self.assertIsNone(stack_status) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_3)['usageState'] self.assertEqual('IN_USE', usage_state) # check instantiationState of VNF resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.assertEqual(fields.VnfInstanceState.NOT_INSTANTIATED, body['instantiationState']) # 12. Delete a VNF instance resp, body = self.delete_vnf_instance(inst_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) # check deletion of VNF instance resp, body = self.show_vnf_instance(inst_id) self.assertEqual(404, resp.status_code) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_3)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # 13. Delete subscription resp, body = self.delete_subscription(sub_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) # 14. Show subscription resp, body = self.show_subscription(sub_id) self.assertEqual(404, resp.status_code) def test_change_vnfpkg(self): """"""Test basic life cycle operations with sample VNFD with UserData. In this test case, we do following steps. - Create subscription. - Create VNF instance. - Instantiate VNF. - Show VNF instance. - Change VNF Package. - Show VNF instance. - Terminate VNF. - Delete VNF. - Delete subscription. - Show subscription. """""" # 0. Pre-setting # Create a new network and subnet to check the IP allocation of # IPv4 and IPv6 ft_net0_name = 'ft-net0' ft_net0_subs = { 'ft-ipv4-subnet0': { 'range': '100.100.100.0/24', 'ip_version': 4 }, 'ft-ipv6-subnet0': { 'range': '1111:2222:3333::/64', 'ip_version': 6 } } ft_net0_id = self.create_network(ft_net0_name) self.addCleanup(self.delete_network, ft_net0_id) for sub_name, val in ft_net0_subs.items(): # subnet is automatically deleted with network deletion self.create_subnet( ft_net0_id, sub_name, val['range'], val['ip_version']) net_ids = self.get_network_ids( ['net0', 'net1', 'net_mgmt', 'ft-net0']) subnet_ids = self.get_subnet_ids( ['subnet0', 'subnet1', 'ft-ipv4-subnet0', 'ft-ipv6-subnet0']) port_names = ['VDU2_CP1-1', 'VDU2_CP1-2'] port_ids = {} for port_name in port_names: port_id = self.create_port(net_ids['net0'], port_name) port_ids[port_name] = port_id self.addCleanup(self.delete_port, port_id) vnf_package_info = self._register_vnf_package_mock_response( package_dir=""functional6"") glance_image = fake_grant.Grant.get_sw_image() flavour_vdu_dict = fake_grant.Grant.get_compute_flavor() zone_name_list = [] availability_zone_info = self._list_zone() zone_name_list = list(set( [zone.zone for zone in availability_zone_info if zone.binary == 'nova-compute'])) # Create subscription and register it. callback_url = os.path.join(base_v2.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_uri = (f'http://localhost:' f'{self.FAKE_SERVER_MANAGER.SERVER_PORT}' f'{callback_url}') sub_req = paramgen.sub_create_min(callback_uri) resp, body = self.create_subscription(sub_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) subscription_id = body.get('id') # Create vnf instance create_req = paramgen.create_vnf_max(vnf_package_info['vnfdId']) resp, body = self.create_vnf_instance(create_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) inst_id = body['id'] # check usageState of VNF Package usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('IN_USE', usage_state) # Set Fake server response for Grant-Req(Instantiate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback('POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_inst_response_body( req_body, self.vim['tenant_id'], glance_image, flavour_vdu_dict, zone_name_list)) # Instantiate vnf instance instantiate_req = paramgen.instantiate_vnf_max( net_ids, subnet_ids, port_ids, self.auth_url) resp, body = self.instantiate_vnf_instance(inst_id, instantiate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('IN_USE', usage_state) # Show vnf instance resp_1, body_1 = self.show_vnf_instance(inst_id) stack_name = ""vnf-{}"".format(inst_id) stack_id = self.heat_client.get_stack_resource(stack_name)['stack'][ 'id'] image_id_1 = self.get_current_vdu_image(stack_id, stack_name, 'VDU2') self.assertEqual(200, resp_1.status_code) self.check_resp_headers_in_get(resp_1) resource_ids_1 = [obj['id'] for obj in body_1[ 'instantiatedVnfInfo']['vnfcResourceInfo'] if obj[ 'vduId'] == 'VDU2'][0] # Set Fake server response for Grant-Req(Change VNF Package) vnflcm_base.FAKE_SERVER_MANAGER.set_callback( 'POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_change_vnfpkg_response_body( req_body, self.vim['tenant_id'], zone_name_list)) # Change VNF package vnf_package_info_new = self._register_vnf_package_mock_response( package_dir=""change_vnfpkg"") change_vnfpkg_req = paramgen.change_vnfpkg( vnf_package_info_new['vnfdId']) resp, body = self.change_vnfpkg(inst_id, change_vnfpkg_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('IN_USE', usage_state) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) resp_2, body_2 = self.show_vnf_instance(inst_id) image_id_2 = self.get_current_vdu_image(stack_id, stack_name, 'VDU2') storageResourceIds = [obj.get('storageResourceIds') for obj in body_2[ 'instantiatedVnfInfo']['vnfcResourceInfo'] if obj[ 'vduId'] == 'VDU2'] self.assertIsNotNone(storageResourceIds) resource_ids_2 = [obj['id'] for obj in body_2[ 'instantiatedVnfInfo']['vnfcResourceInfo'] if obj[ 'vduId'] == 'VDU2'][0] self.assertNotEqual(resource_ids_1, resource_ids_2) self.assertNotEqual(image_id_1, image_id_2) self.assertEqual(200, resp_2.status_code) self.check_resp_headers_in_get(resp_2) # Set Fake server response for Grant-Req(Terminate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback('POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_term_response_body(req_body)) # Terminate VNF terminate_req = paramgen.terminate_vnf_max() resp, body = self.terminate_vnf_instance(inst_id, terminate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('IN_USE', usage_state) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # wait a bit because there is a bit time lag between lcmocc DB # update and terminate completion. time.sleep(10) # Delete VNF resp, body = self.delete_vnf_instance(inst_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('NOT_IN_USE', usage_state) # Delete Subscription resp, body = self.delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) # Check subscription was deleted resp, body = self.show_subscription(subscription_id) self.assertEqual(404, resp.status_code) def test_retry_rollback_scale_out(self): """"""Test LCM operations with omitting except for required attributes * About attributes: All of the following cardinality attributes are set. In addition, 0..N or 1..N attributes are set to 2 or more. - 0..1 (1) - 0..N (2 or more) - 1 - 1..N (2 or more) * About LCM operations: This test includes the following operations. - 0. Pre-setting - 1. Create subscription - 2. Test notification - 3. Create VNF instance - 4. Instantiate VNF - 5. Show VNF instance - 6. Scale out operation(will fail) - 7. Show VNF instance - 8. Retry operation - 9. Rollback scale out operation - 10. Show VNF LCM operation occurrence - 11. List VNF LCM operation occurrence - 12. Terminate VNF - 13. Delete VNF instance - 14. Delete subscription - 15. Show subscription """""" # 0. Pre-setting # Create a new network and subnet to check the IP allocation of # IPv4 and IPv6 ft_net0_name = 'ft-net0' ft_net0_subs = { 'ft-ipv4-subnet0': { 'range': '100.100.100.0/24', 'ip_version': 4 }, 'ft-ipv6-subnet0': { 'range': '1111:2222:3333::/64', 'ip_version': 6 } } ft_net0_id = self.create_network(ft_net0_name) self.addCleanup(self.delete_network, ft_net0_id) for sub_name, val in ft_net0_subs.items(): # subnet is automatically deleted with network deletion self.create_subnet( ft_net0_id, sub_name, val['range'], val['ip_version']) net_ids = self.get_network_ids( ['net0', 'net1', 'net_mgmt', 'ft-net0']) subnet_ids = self.get_subnet_ids( ['subnet0', 'subnet1', 'ft-ipv4-subnet0', 'ft-ipv6-subnet0']) port_names = ['VDU2_CP1-1', 'VDU2_CP1-2'] port_ids = {} for port_name in port_names: port_id = self.create_port(net_ids['net0'], port_name) port_ids[port_name] = port_id self.addCleanup(self.delete_port, port_id) self._register_vnf_package_mock_response( package_dir=""functional6"") glance_image = fake_grant.Grant.get_sw_image() flavour_vdu_dict = fake_grant.Grant.get_compute_flavor() zone_name_list = [] availability_zone_info = self._list_zone() zone_name_list = list(set( [zone.zone for zone in availability_zone_info if zone.binary == 'nova-compute'])) # 1. Create subscription callback_url = os.path.join(base_v2.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_uri = (f'http://localhost:' f'{base_v2.FAKE_SERVER_MANAGER.SERVER_PORT}' f'{callback_url}') sub_req = paramgen.sub_create_max(callback_uri) resp, body = self.create_subscription(sub_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) sub_id = body['id'] # 2. Test notification self.assert_notification_get(callback_url) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_1)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # 3. Create VNF instance expected_inst_attrs = [ 'id', # 'vnfInstanceName', # omitted # 'vnfInstanceDescription', # omitted 'vnfdId', 'vnfProvider', 'vnfProductName', 'vnfSoftwareVersion', 'vnfdVersion', # 'vnfConfigurableProperties', # omitted # 'vimConnectionInfo', # omitted 'instantiationState', # 'instantiatedVnfInfo', # omitted # 'metadata', # omitted # 'extensions', # omitted '_links' ] create_req = paramgen.create_vnf_max(self.vnfd_id_1) resp, body = self.create_vnf_instance(create_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) self.check_resp_body(body, expected_inst_attrs) inst_id = body['id'] # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_1)['usageState'] self.assertEqual('IN_USE', usage_state) # Set Fake server response for Grant-Req(Instantiate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback( 'POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_inst_response_body( req_body, self.vim['tenant_id'], glance_image, flavour_vdu_dict, zone_name_list)) # check instantiationState of VNF resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.assertEqual(fields.VnfInstanceState.NOT_INSTANTIATED, body.get('instantiationState')) # 4. Instantiate VNF instantiate_req = paramgen.instantiate_vnf_max( net_ids, subnet_ids, port_ids, self.auth_url) resp, body = self.instantiate_vnf_instance(inst_id, instantiate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # 5. Show VNF instance additional_inst_attrs = [ 'vimConnectionInfo', 'instantiatedVnfInfo' ] expected_inst_attrs.extend(additional_inst_attrs) resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) # check instantiationState of VNF self.assertEqual(fields.VnfInstanceState.INSTANTIATED, body.get('instantiationState')) # check vnfState of VNF self.assertEqual(fields.VnfOperationalStateType.STARTED, body['instantiatedVnfInfo'].get('vnfState')) # Set Fake server response for Grant-Req(Scale out) vnflcm_base.FAKE_SERVER_MANAGER.set_callback( 'POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=202, callback=lambda req_headers, req_body: fake_grant.Grant.make_scale_response_body( req_body, self.vim['tenant_id'], glance_image, flavour_vdu_dict, zone_name_list)) # 6. Scale out operation(will fail) scaleout_req = paramgen.scaleout_vnf_max() resp, body = self.scale_vnf_instance(inst_id, scaleout_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_failed_temp(lcmocc_id) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_1)['usageState'] self.assertEqual('IN_USE', usage_state) # 7. Show VNF instance additional_inst_attrs = [ 'vimConnectionInfo', 'instantiatedVnfInfo' ] expected_inst_attrs.extend(additional_inst_attrs) resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) # 8. Retry scale out operation resp, body = self.retry_lcmocc(lcmocc_id) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_delete(resp) self.wait_lcmocc_failed_temp(lcmocc_id) # 9. Rollback scale out operation resp, body = self.rollback_lcmocc(lcmocc_id) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_delete(resp) self.wait_lcmocc_rolled_back(lcmocc_id) # 10. Show VNF LCM operation occurrence # NOTE: omitted values are not supported at that time expected_attrs = [ 'id', 'operationState', 'stateEnteredTime', 'startTime', 'vnfInstanceId', # 'grantId', # omitted 'operation', 'isAutomaticInvocation', # 'operationParams', # omitted 'isCancelPending', # 'cancelMode', # omitted # 'error', # omitted # 'resourceChanges', # omitted # 'changedInfo', # omitted # 'changedExtConnectivity', # omitted # 'modificationsTriggeredByVnfPkgChange', # omitted # 'vnfSnapshotInfoId', # omitted '_links' ] resp, body = self.show_lcmocc(lcmocc_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_attrs) # 11. List VNF LCM operation occurrence resp, body = self.list_lcmocc() self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) for lcmocc in body: self.check_resp_body(lcmocc, expected_attrs) # Set Fake server response for Grant-Req(Terminate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback('POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=202, callback=lambda req_headers, req_body: fake_grant.Grant.make_term_response_body(req_body)) # 12. Terminate VNF instance terminate_req = paramgen.terminate_vnf_max() resp, body = self.terminate_vnf_instance(inst_id, terminate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_complete(lcmocc_id) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_1)['usageState'] self.assertEqual('IN_USE', usage_state) # check instantiationState of VNF resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.assertEqual(fields.VnfInstanceState.NOT_INSTANTIATED, body.get('instantiationState')) # wait a bit because there is a bit time lag between vnf instance DB # terminate and delete completion. time.sleep(5) # 13. Delete VNF instance resp, body = self.delete_vnf_instance(inst_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_1)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # 14. Delete subscription resp, body = self.delete_subscription(sub_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) # 15. Show subscription resp, body = self.show_subscription(sub_id) self.assertEqual(404, resp.status_code) def test_fail_instantiate(self): """"""Test LCM operations with omitting except for required attributes * About attributes: Omit except for required attributes. Only the following cardinality attributes are set. - 1 - 1..N (1) * About LCM operations: This test includes the following operations. - 1. Create subscription - 2. Test notification - 3. Create VNF instance - 4. Instantiate VNF(will fail) - 5. Show VNF instance - 6. Fail instantiation operation - 7. Show VNF LCM operation occurrence - 8. List VNF LCM operation occurrence - 9. Delete VNF instance - 10. Delete subscription """""" vnf_package_info = self._register_vnf_package_mock_response( package_dir=""functional6"") glance_image = fake_grant.Grant.get_sw_image() flavour_vdu_dict = fake_grant.Grant.get_compute_flavor() zone_name_list = [] availability_zone_info = self._list_zone() zone_name_list = list(set( [zone.zone for zone in availability_zone_info if zone.binary == 'nova-compute'])) # 1. Create subscription callback_url = os.path.join(base_v2.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_uri = (f'http://localhost:' f'{self.FAKE_SERVER_MANAGER.SERVER_PORT}' f'{callback_url}') sub_req = paramgen.sub_create_min(callback_uri) resp, body = self.create_subscription(sub_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) sub_id = body['id'] # 2. Test notification self.assert_notification_get(callback_url) # check usageState of VNF Package usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('NOT_IN_USE', usage_state) # 3. Create VNF instance expected_inst_attrs = [ 'id', # 'vnfInstanceName', # omitted # 'vnfInstanceDescription', # omitted 'vnfdId', 'vnfProvider', 'vnfProductName', 'vnfSoftwareVersion', 'vnfdVersion', # 'vnfConfigurableProperties', # omitted # 'vimConnectionInfo', # omitted 'instantiationState', # 'instantiatedVnfInfo', # omitted # 'metadata', # omitted # 'extensions', # omitted '_links' ] create_req = paramgen.create_vnf_min(vnf_package_info['vnfdId']) resp, body = self.create_vnf_instance(create_req) self.assertEqual(201, resp.status_code) self.check_resp_headers_in_create(resp) self.check_resp_body(body, expected_inst_attrs) inst_id = body['id'] # check usageState of VNF Package usage_state = self.get_vnf_package(vnf_package_info['vnfdId'])[ 'usageState'] self.assertEqual('IN_USE', usage_state) # check instantiationState of VNF resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.assertEqual(fields.VnfInstanceState.NOT_INSTANTIATED, body.get('instantiationState')) # Set Fake server response for Grant-Req(Instantiate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback( 'POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_inst_response_body( req_body, self.vim['tenant_id'], glance_image, flavour_vdu_dict, zone_name_list)) # 4. Instantiate VNF(will fail) instantiate_req = paramgen.instantiate_vnf_min() resp, body = self.instantiate_vnf_instance(inst_id, instantiate_req) self.assertEqual(202, resp.status_code) self.check_resp_headers_in_operation_task(resp) lcmocc_id = os.path.basename(resp.headers['Location']) self.wait_lcmocc_failed_temp(lcmocc_id) # 5. Show VNF instance resp, body = self.show_vnf_instance(inst_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) # check instantiationState of VNF self.assertEqual(fields.VnfInstanceState.NOT_INSTANTIATED, body.get('instantiationState')) # 6. Fail instantiation operation expected_inst_attrs = [ 'id', 'operationState', 'stateEnteredTime', 'startTime', 'vnfInstanceId', # 'grantId', # omitted 'operation', 'isAutomaticInvocation', # 'operationParams', # omitted 'isCancelPending', # 'cancelMode', # omitted # 'error', # omitted # 'resourceChanges', # omitted # 'changedInfo', # omitted # 'changedExtConnectivity', # omitted # 'modificationTriggeredByVnfPkgChange', # omitted # 'vnfSnapshotInfoId', # omitted '_links' ] resp, body = self.fail_lcmocc(lcmocc_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_inst_attrs) resp, body = self.show_lcmocc(lcmocc_id) self.assertEqual(200, resp.status_code) self.assertEqual('FAILED', body['operationState']) # 7. Show VNF LCM operation occurrence # NOTE: omitted values are not supported at that time expected_attrs = [ 'id', 'operationState', 'stateEnteredTime', 'startTime', 'vnfInstanceId', # 'grantId', # omitted 'operation', 'isAutomaticInvocation', # 'operationParams', # omitted 'isCancelPending', # 'cancelMode', # omitted # 'error', # omitted # 'resourceChanges', # omitted # 'changedInfo', # omitted # 'changedExtConnectivity', # omitted # 'modificationsTriggeredByVnfPkgChange', # omitted # 'vnfSnapshotInfoId', # omitted '_links' ] resp, body = self.show_lcmocc(lcmocc_id) self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) self.check_resp_body(body, expected_attrs) # 8. List VNF LCM operation occurrence resp, body = self.list_lcmocc() self.assertEqual(200, resp.status_code) self.check_resp_headers_in_get(resp) for lcmocc in body: self.check_resp_body(lcmocc, expected_attrs) # 9. Delete VNF instance # Delete Stack self.heat_client.delete_stack(f'vnf-{inst_id}') resp, body = self.delete_vnf_instance(inst_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) # check usageState of VNF Package usage_state = self.get_vnf_package(self.vnf_pkg_2)['usageState'] self.assertEqual('NOT_IN_USE', usage_state) # 10. Delete subscription resp, body = self.delete_subscription(sub_id) self.assertEqual(204, resp.status_code) self.check_resp_headers_in_delete(resp) ",,2519,0
openstack%2Fvenus~master~Iabbc7990dd71875cba5526f0951eb2368bda1ec5,openstack/venus,master,Iabbc7990dd71875cba5526f0951eb2368bda1ec5,use system logdir /var/log/ for collect glance,MERGED,2022-06-02 08:53:44.000000000,2022-06-02 09:46:56.000000000,2022-06-02 09:45:49.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 08:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/90a5a4049e715dbb64dedcb2c66105be075b0119', 'message': 'use system logdir /var/log/ for collect glance\n\nChange-Id: Iabbc7990dd71875cba5526f0951eb2368bda1ec5\n'}, {'number': 2, 'created': '2022-06-02 09:17:08.000000000', 'files': ['devstack/fluentd-conf/input/glance.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/41cf81b978a97ca963be878a54f92747b2f9cd87', 'message': 'use system logdir /var/log/ for collect glance\n\nChange-Id: Iabbc7990dd71875cba5526f0951eb2368bda1ec5\n'}]",0,844404,41cf81b978a97ca963be878a54f92747b2f9cd87,10,3,2,30455,,,0,"use system logdir /var/log/ for collect glance

Change-Id: Iabbc7990dd71875cba5526f0951eb2368bda1ec5
",git fetch https://review.opendev.org/openstack/venus refs/changes/04/844404/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/designate.conf'],1,90a5a4049e715dbb64dedcb2c66105be075b0119,, path /var/log/designate/*.log, path /var/log/kolla/designate/*.log,1,1
openstack%2Fcinder~master~I087942278fbb8d35f0ab460ae3e0d344009483ec,openstack/cinder,master,I087942278fbb8d35f0ab460ae3e0d344009483ec,"db: Migrate ""consistency group"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-02 09:41:37.000000000,2022-06-02 09:39:54.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1435349ee527fd59c1fc0399e7e315f67913e413', 'message': 'db: Migrate ""consistency group"" APIs to enginefacade\n\nMigrate consistency group-related APIs from the legacy enginefacade to\nthe modern context-based enginefacade.\n\nChange-Id: I087942278fbb8d35f0ab460ae3e0d344009483ec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",8,837529,1435349ee527fd59c1fc0399e7e315f67913e413,35,4,1,15334,,,0,"db: Migrate ""consistency group"" APIs to enginefacade

Migrate consistency group-related APIs from the legacy enginefacade to
the modern context-based enginefacade.

Change-Id: I087942278fbb8d35f0ab460ae3e0d344009483ec
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/837529/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,1435349ee527fd59c1fc0399e7e315f67913e413,remove-legacyfacade," result = ( model_query( context, models.ConsistencyGroup, session=session, project_only=True, ) .filter_by(id=consistencygroup_id) .first() ) consistencygroup_id=consistencygroup_id )@main_context_manager.reader return model_query( context, models.ConsistencyGroup, session=session, project_only=project_only, )def _consistencygroup_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): if filters and not is_valid_model_filters( models.ConsistencyGroup, filters ): # Generate the paginate query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.ConsistencyGroup, ) if query is None: return [] return query.all()@main_context_manager.reader def consistencygroup_get_all( context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _consistencygroup_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.reader def consistencygroup_get_all_by_project( context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None, ): return _consistencygroup_get_all( context, filters, marker, limit, offset, sort_keys, sort_dirs )@main_context_manager.writer if cg_snap_id: conditions = [ cg_model.id == models.CGSnapshot.consistencygroup_id, models.CGSnapshot.id == cg_snap_id, ] elif cg_id: conditions = [cg_model.id == cg_id] else: conditions = None if conditions: # We don't want duplicated field values names = ['volume_type_id', 'availability_zone', 'host', 'cluster_name'] for name in names: values.pop(name, None) fields = [getattr(cg_model, name) for name in names] fields.extend(bindparam(k, v) for k, v in values.items()) sel = context.session.query(*fields).filter(*conditions) names.extend(values.keys()) insert_stmt = cg_model.__table__.insert().from_select(names, sel) result = context.session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: if cg_id: raise exception.ConsistencyGroupNotFound( consistencygroup_id=cg_id ) raise exception.CgSnapshotNotFound(cgsnapshot_id=cg_snap_id) else: consistencygroup = cg_model() consistencygroup.update(values) context.session.add(consistencygroup) return _consistencygroup_get(context, values['id'])@main_context_manager.writer consistencygroup_id=consistencygroup_id )@main_context_manager.writer query = model_query( context, models.ConsistencyGroup, ).filter_by(id=consistencygroup_id) entity = query.column_descriptions[0]['entity'] updated_values = { 'status': fields.ConsistencyGroupStatus.DELETED, 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at, } query.update(updated_values)@main_context_manager.writer def cg_cgsnapshot_destroy_all_by_ids( context, cg_ids, cgsnapshot_ids, volume_ids, snapshot_ids ): snaps = ( model_query(context, models.Snapshot, read_deleted=""no"") .filter(models.Snapshot.id.in_(snapshot_ids)) .all() ) for snap in snaps: snap.update({'cgsnapshot_id': None, 'updated_at': utcnow}) cg_snaps = ( model_query(context, models.CGSnapshot, read_deleted=""no"") .filter(models.CGSnapshot.id.in_(cgsnapshot_ids)) .all() ) for cg_snap in cg_snaps: cg_snap.delete(context.session) vols = ( model_query(context, models.Volume, read_deleted=""no"") .filter(models.Volume.id.in_(volume_ids)) .all() ) for vol in vols: vol.update({'consistencygroup_id': None, 'updated_at': utcnow}) cgs = ( model_query(context, models.ConsistencyGroup, read_deleted=""no"") .filter(models.ConsistencyGroup.id.in_(cg_ids)) .all() ) for cg in cgs: cg.delete(context.session) return sql.exists().where( and_( models.CGSnapshot.consistencygroup_id == models.ConsistencyGroup.id, ~models.CGSnapshot.deleted, ) ) and_( models.Volume.consistencygroup_id == models.ConsistencyGroup.id, ~models.Volume.deleted, ) ) query = query.where( or_( models.Volume.attach_status == 'attached', sql.exists().where( and_( models.Volume.id == models.Snapshot.volume_id, ~models.Snapshot.deleted, ) ), ) ) subq = ( sql.select([models.ConsistencyGroup]) .where( and_( ~models.ConsistencyGroup.deleted, models.ConsistencyGroup.status == 'creating', ) ) .alias('cg2') ) msg = _( 'cg_creating_from_src must be called with cg_id or ' 'cgsnapshot_id parameter.' )@main_context_manager.writer def consistencygroup_include_in_cluster( context, cluster, partial_rename=True, **filters ): return _include_in_cluster( context, cluster, models.ConsistencyGroup, partial_rename, filters, ) @require_admin_context def group_include_in_cluster(context, cluster, partial_rename=True, **filters): """"""Include all generic groups matching the filters into a cluster."""""" return _include_in_cluster(context, cluster, models.Group, partial_rename, filters) "," result = model_query(context, models.ConsistencyGroup, session=session, project_only=True).\ filter_by(id=consistencygroup_id).\ first() consistencygroup_id=consistencygroup_id) return model_query(context, models.ConsistencyGroup, session=session, project_only=project_only)def _consistencygroup_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): if filters and not is_valid_model_filters(models.ConsistencyGroup, filters): session = get_session() with session.begin(): # Generate the paginate query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.ConsistencyGroup) if query is None: return [] return query.all()def consistencygroup_get_all(context, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _consistencygroup_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs)def consistencygroup_get_all_by_project(context, project_id, filters=None, marker=None, limit=None, offset=None, sort_keys=None, sort_dirs=None): return _consistencygroup_get_all(context, filters, marker, limit, offset, sort_keys, sort_dirs) session = get_session() with session.begin(): if cg_snap_id: conditions = [cg_model.id == models.CGSnapshot.consistencygroup_id, models.CGSnapshot.id == cg_snap_id] elif cg_id: conditions = [cg_model.id == cg_id] else: conditions = None if conditions: # We don't want duplicated field values names = ['volume_type_id', 'availability_zone', 'host', 'cluster_name'] for name in names: values.pop(name, None) fields = [getattr(cg_model, name) for name in names] fields.extend(bindparam(k, v) for k, v in values.items()) sel = session.query(*fields).filter(*conditions) names.extend(values.keys()) insert_stmt = cg_model.__table__.insert().from_select(names, sel) result = session.execute(insert_stmt) # If we couldn't insert the row because of the conditions raise # the right exception if not result.rowcount: if cg_id: raise exception.ConsistencyGroupNotFound( consistencygroup_id=cg_id) raise exception.CgSnapshotNotFound(cgsnapshot_id=cg_snap_id) else: consistencygroup = cg_model() consistencygroup.update(values) session.add(consistencygroup) return _consistencygroup_get(context, values['id'], session=session) consistencygroup_id=consistencygroup_id) session = get_session() with session.begin(): query = model_query(context, models.ConsistencyGroup, session=session).filter_by(id=consistencygroup_id) entity = query.column_descriptions[0]['entity'] updated_values = {'status': fields.ConsistencyGroupStatus.DELETED, 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at} query.update(updated_values)def cg_cgsnapshot_destroy_all_by_ids(context, cg_ids, cgsnapshot_ids, volume_ids, snapshot_ids, session): snaps = (model_query(context, models.Snapshot, session=session, read_deleted=""no""). filter(models.Snapshot.id.in_(snapshot_ids)). all()) for snap in snaps: snap.update({'cgsnapshot_id': None, 'updated_at': utcnow}) cg_snaps = (model_query(context, models.CGSnapshot, session=session, read_deleted=""no""). filter(models.CGSnapshot.id.in_(cgsnapshot_ids)). all()) for cg_snap in cg_snaps: cg_snap.delete(session=session) vols = (model_query(context, models.Volume, session=session, read_deleted=""no""). filter(models.Volume.id.in_(volume_ids)). all()) for vol in vols: vol.update({'consistencygroup_id': None, 'updated_at': utcnow}) cgs = (model_query(context, models.ConsistencyGroup, session=session, read_deleted=""no""). filter(models.ConsistencyGroup.id.in_(cg_ids)). all()) for cg in cgs: cg.delete(session=session) return sql.exists().where(and_( models.CGSnapshot.consistencygroup_id == models.ConsistencyGroup.id, ~models.CGSnapshot.deleted)) and_(models.Volume.consistencygroup_id == models.ConsistencyGroup.id, ~models.Volume.deleted)) query = query.where(or_( models.Volume.attach_status == 'attached', sql.exists().where( and_(models.Volume.id == models.Snapshot.volume_id, ~models.Snapshot.deleted)))) subq = sql.select([models.ConsistencyGroup]).where( and_(~models.ConsistencyGroup.deleted, models.ConsistencyGroup.status == 'creating')).alias('cg2') msg = _('cg_creating_from_src must be called with cg_id or ' 'cgsnapshot_id parameter.')def consistencygroup_include_in_cluster(context, cluster, partial_rename=True, **filters): return _include_in_cluster(context, cluster, models.ConsistencyGroup, partial_rename, filters) @require_admin_context def group_include_in_cluster(context, cluster, partial_rename=True, **filters): """"""Include all generic groups matching the filters into a cluster."""""" return _include_in_cluster(context, cluster, models.Group, partial_rename, filters) ",206,124
openstack%2Ftripleo-heat-templates~master~I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f,openstack/tripleo-heat-templates,master,I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f,Deprecate DnsServers THT parameter,MERGED,2022-03-25 15:35:50.000000000,2022-06-02 09:40:44.000000000,2022-04-18 19:51:47.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-03-25 15:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3553cdaf46a4480c11b09791abc5fe4e953af1e8', 'message': ""Deprecate DnsServers THT parameter\n\nWe have used the dns_nameservers from the subnets for\na long time by default: https://review.opendev.org/579582\n\nWith network config being applied prior to creating the heat\nstack we cannot use a THT parameter to feed the input for\nnode network configuration. In Wallaby and later the nameservers\nmust be defined in undercloud.conf using:\n  'DEFAULT/undercloud_nameservers'\n\nor\n\n  '%SUBNET_SECTION%/dns_nameservers'\n\nThe latter allow defining nameservers per-ctlplane subnet.\n\nRelated: RHBZ#2068489\nChange-Id: I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f\n""}, {'number': 2, 'created': '2022-03-28 12:45:44.000000000', 'files': ['overcloud.j2.yaml', 'releasenotes/notes/deprecate-DnsServers-a65541c2dceced08.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42506f635dcc57f803e097ab0ea8abf9519565c4', 'message': ""Deprecate DnsServers THT parameter\n\nWe have used the dns_nameservers from the subnets for\na long time by default: https://review.opendev.org/579582\n\nWith network config being applied prior to creating the heat\nstack we cannot use a THT parameter to feed the input for\nnode network configuration. In Wallaby and later the nameservers\nmust be defined in undercloud.conf using:\n  'DEFAULT/undercloud_nameservers'\n\nor\n\n  '%SUBNET_SECTION%/dns_nameservers'\n\nThe latter allow defining nameservers per-ctlplane subnet.\n\nRelated: RHBZ#2068489\nChange-Id: I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f\n""}]",12,835247,42506f635dcc57f803e097ab0ea8abf9519565c4,24,6,2,24245,,,0,"Deprecate DnsServers THT parameter

We have used the dns_nameservers from the subnets for
a long time by default: https://review.opendev.org/579582

With network config being applied prior to creating the heat
stack we cannot use a THT parameter to feed the input for
node network configuration. In Wallaby and later the nameservers
must be defined in undercloud.conf using:
  'DEFAULT/undercloud_nameservers'

or

  '%SUBNET_SECTION%/dns_nameservers'

The latter allow defining nameservers per-ctlplane subnet.

Related: RHBZ#2068489
Change-Id: I436fa7f1e87a8e6924c9d93105b06f9ab39eeb8f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/835247/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'releasenotes/notes/deprecate-DnsServers-a65541c2dceced08.yaml']",2,3553cdaf46a4480c11b09791abc5fe4e953af1e8,deprecate-DnsServers,"--- deprecations: - | The tripleo-heat-templates parameter DnsServers has been deprecated. The dns_nameservers from the ctlplane subnets has been used by default for overcloud node nameservers for a long time, see: https://review.opendev.org/579582. Since Wallaby network configuration is applied prior to the Heat stack create, during overcloud node provisioning. In this case the THT parameter DnsServers is not available when network configuration is applied. Effectively the DnsServers parameter cannot be used in Wallaby and later releases. ",,16,0
openstack%2Fkolla-ansible~master~Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,openstack/kolla-ansible,master,Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,Switch to Cortex-A72 cpu on AArch64,MERGED,2022-06-01 17:11:03.000000000,2022-06-02 09:37:44.000000000,2022-06-02 09:36:32.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-01 17:11:03.000000000', 'files': ['tests/templates/nova-compute-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9a3dd9cd3c004e61836a252aa34b65b89038bee', 'message': 'Switch to Cortex-A72 cpu on AArch64\n\nCPU model ""max"" fails to boot CirrOS and some other images when QEMU 7.0\nis used.\n\nChange-Id: Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f\n'}]",2,844321,c9a3dd9cd3c004e61836a252aa34b65b89038bee,11,3,1,24072,,,0,"Switch to Cortex-A72 cpu on AArch64

CPU model ""max"" fails to boot CirrOS and some other images when QEMU 7.0
is used.

Change-Id: Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/844321/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/nova-compute-overrides.j2'],1,c9a3dd9cd3c004e61836a252aa34b65b89038bee,,"# cpu_model=max fails to boot multiple images with QEMU 7.0 and -M virt (works with ""-M virt-6.2"") cpu_model=cortex-a72",cpu_model=max,2,1
openstack%2Fneutron~stable%2Fussuri~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/ussuri,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:05:01.000000000,2022-06-02 09:34:55.000000000,2022-06-02 09:33:13.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22865}]","[{'number': 1, 'created': '2022-05-26 15:05:01.000000000', 'files': ['neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef61c09c29b633eefcc5f47da480697b8e1e0b47', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nConflicts:\n    neutron/db/ovn_revision_numbers_db.py\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n(cherry picked from commit 41a3bf7f0faed846dceb09e614553fc82fae476b)\n'}]",5,843485,ef61c09c29b633eefcc5f47da480697b8e1e0b47,16,4,1,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Conflicts:
    neutron/db/ovn_revision_numbers_db.py

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
(cherry picked from commit 41a3bf7f0faed846dceb09e614553fc82fae476b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/843485/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ovn_revision_numbers_db.py'],1,ef61c09c29b633eefcc5f47da480697b8e1e0b47,bug/1975837," if context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type)"," with context.session.begin(subtransactions=True): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type)",11,10
openstack%2Fneutron~stable%2Fvictoria~Ifb500eef5513e930bf3a22d99183ca348e5fc427,openstack/neutron,stable/victoria,Ifb500eef5513e930bf3a22d99183ca348e5fc427,Refactor the OVN revision module to access the DB correctly,MERGED,2022-05-26 15:03:33.000000000,2022-06-02 09:34:50.000000000,2022-06-02 09:33:09.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 15:03:33.000000000', 'files': ['neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/41a3bf7f0faed846dceb09e614553fc82fae476b', 'message': 'Refactor the OVN revision module to access the DB correctly\n\nMethod ``_ensure_revision_row_exist`` creates a DB reader context\nwhen called from ``bump_revision``. This call is always done from\ninside a DB write context. This method removes the unneded reader\ncontext.\n\nConflicts:\n    neutron/db/ovn_revision_numbers_db.py\n\nCloses-Bug: #1975837\nChange-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427\n(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)\n'}]",7,843484,41a3bf7f0faed846dceb09e614553fc82fae476b,25,3,1,16688,,,0,"Refactor the OVN revision module to access the DB correctly

Method ``_ensure_revision_row_exist`` creates a DB reader context
when called from ``bump_revision``. This call is always done from
inside a DB write context. This method removes the unneded reader
context.

Conflicts:
    neutron/db/ovn_revision_numbers_db.py

Closes-Bug: #1975837
Change-Id: Ifb500eef5513e930bf3a22d99183ca348e5fc427
(cherry picked from commit 39d751a33265e8780828b3aca10a781726d0a300)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/843484/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/ovn_revision_numbers_db.py'],1,41a3bf7f0faed846dceb09e614553fc82fae476b,bug/1975837," if context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): return LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type)"," with context.session.begin(subtransactions=True): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type)",11,10
openstack%2Fnova~stable%2Fvictoria~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/victoria,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,NEW,2022-05-06 09:12:18.000000000,2022-06-02 09:19:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d484576efca56aebc36a60abaf410c4e3bb2727', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nConflicts:\n      nova/pci/stats.py due to I91dd7993395f693c7d26c1caa44fa365f5cbec12\n      is not in stable/victoria\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)\n(cherry picked from commit a763104217f2188b398d7eddaf3d21b91c66d2fa)\n""}]",2,840848,5d484576efca56aebc36a60abaf410c4e3bb2727,13,1,1,9708,,,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Conflicts:
      nova/pci/stats.py due to I91dd7993395f693c7d26c1caa44fa365f5cbec12
      is not in stable/victoria

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)
(cherry picked from commit a763104217f2188b398d7eddaf3d21b91c66d2fa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/840848/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']",3,5d484576efca56aebc36a60abaf410c4e3bb2727,bug/1969496, free_devs = self.get_free_devs() for vf in vfs_list: # NOTE(gibi): do not try to remove a device that are # already removed if vf in free_devs: self.remove_device(vf), for vf in vfs_list: self.remove_device(vf),162,26
openstack%2Fnova~stable%2Fvictoria~Id908a7224ff3378b3b51726bbfa8b5805d38ca59,openstack/nova,stable/victoria,Id908a7224ff3378b3b51726bbfa8b5805d38ca59,Fix instance's image_ref lost on failed unshelving,NEW,2022-05-23 09:49:18.000000000,2022-06-02 09:19:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-23 09:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16af68953fd6a6ddf15526ff35df4c6016aa2ee9', 'message': ""Fix instance's image_ref lost on failed unshelving\n\nCloses-Bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59\n(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)\n(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)\n(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)\n""}, {'number': 2, 'created': '2022-05-23 09:58:35.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f03334323c212a6f98ca94643ec258139068a071', 'message': ""Fix instance's image_ref lost on failed unshelving\n\nmodified:   nova/tests/unit/compute/test_shelve.py due to\nI258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria\n\nCloses-Bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59\n(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)\n(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)\n(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)\n""}]",2,842953,f03334323c212a6f98ca94643ec258139068a071,14,1,2,9708,,,0,"Fix instance's image_ref lost on failed unshelving

modified:   nova/tests/unit/compute/test_shelve.py due to
I258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria

Closes-Bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59
(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)
(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)
(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/842953/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']",2,16af68953fd6a6ddf15526ff35df4c6016aa2ee9,bug/1934094, # Set the image_ref back to initial image_ref because instance # object might have been saved with image['id'] # https://bugs.launchpad.net/nova/+bug/1934094 instance.image_ref = shelved_image_ref,,6,6
openstack%2Fvenus~master~I56a48b2f0948e7221f12e8af2120494cd1f7b8aa,openstack/venus,master,I56a48b2f0948e7221f12e8af2120494cd1f7b8aa,designate log use system logdir  /var/log,MERGED,2022-06-02 08:52:09.000000000,2022-06-02 09:13:24.000000000,2022-06-02 09:12:26.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 08:52:09.000000000', 'files': ['devstack/fluentd-conf/input/designate.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/a643c7ca3b68d7d96a43b0bd6c96253d2778ea91', 'message': 'designate log use system logdir  /var/log\n\nChange-Id: I56a48b2f0948e7221f12e8af2120494cd1f7b8aa\n'}]",0,844403,a643c7ca3b68d7d96a43b0bd6c96253d2778ea91,7,2,1,30455,,,0,"designate log use system logdir  /var/log

Change-Id: I56a48b2f0948e7221f12e8af2120494cd1f7b8aa
",git fetch https://review.opendev.org/openstack/venus refs/changes/03/844403/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/designate.conf'],1,a643c7ca3b68d7d96a43b0bd6c96253d2778ea91,, path /var/log/designate/*.log, path /var/log/kolla/designate/*.log,1,1
openstack%2Fcinder~stable%2Fyoga~I47e8e86a495802a21570e23ecf7428fccc8b3d60,openstack/cinder,stable/yoga,I47e8e86a495802a21570e23ecf7428fccc8b3d60,"HPE 3PAR: In multi host env, fix multi-detach operation",MERGED,2022-05-24 09:00:04.000000000,2022-06-02 09:12:35.000000000,2022-06-01 15:54:33.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-24 09:00:04.000000000', 'files': ['releasenotes/notes/hpe-3par-fix-multi-detach-in-multi-host-env-3f2211f29a336b6e.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6d8353fd13fed3d2aecfc813fd9b66cb1dfdc78', 'message': 'HPE 3PAR: In multi host env, fix multi-detach operation\n\nIn multi host environment, if volume is attached to instances present\non different hosts, detach operation works partially.\nAs a result, at later time the volume cannot be deleted.\n\nDetails are explained in launchpad bug.\n\nThis patch performs following:\nDuring detach volume from instance, both possibilities are considered:\nthe instances can reside:\n[1] either on same host.\n[2] or on different hosts.\n\ncase [1]:\nIn such case, behaviour is same as earlier i.e vlun is not deleted\nupon each detach operation i.e skip remainder of terminate volume\nconnection. The vluns are deleted only on last detach operation.\n\ncase [2]:\nIn such case, vlun of that host on 3par array is deleted separately\nupon each detach operation.\n\nCloses-Bug: #1958122\nChange-Id: I47e8e86a495802a21570e23ecf7428fccc8b3d60\n(cherry picked from commit 3ed2f38e54b84073f03ce1148c6dfcbbd37fc032)\n'}]",10,842947,f6d8353fd13fed3d2aecfc813fd9b66cb1dfdc78,40,6,1,29122,,,0,"HPE 3PAR: In multi host env, fix multi-detach operation

In multi host environment, if volume is attached to instances present
on different hosts, detach operation works partially.
As a result, at later time the volume cannot be deleted.

Details are explained in launchpad bug.

This patch performs following:
During detach volume from instance, both possibilities are considered:
the instances can reside:
[1] either on same host.
[2] or on different hosts.

case [1]:
In such case, behaviour is same as earlier i.e vlun is not deleted
upon each detach operation i.e skip remainder of terminate volume
connection. The vluns are deleted only on last detach operation.

case [2]:
In such case, vlun of that host on 3par array is deleted separately
upon each detach operation.

Closes-Bug: #1958122
Change-Id: I47e8e86a495802a21570e23ecf7428fccc8b3d60
(cherry picked from commit 3ed2f38e54b84073f03ce1148c6dfcbbd37fc032)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/842947/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-fix-multi-detach-in-multi-host-env-3f2211f29a336b6e.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,f6d8353fd13fed3d2aecfc813fd9b66cb1dfdc78,bug/1958122-stable/yoga," 4.0.16 - In multi host env, fix multi-detach operation. Bug #1958122 VERSION = ""4.0.16"" # There are two possibilities: the instances can reside: # [1] either on same host. # [2] or on different hosts. # # case [1]: # In such case, behaviour is same as earlier i.e vlun is # not deleted now i.e skip remainder of terminate volume # connection. # # case [2]: # In such case, vlun of that host on 3par array should # be deleted now. Otherwise, it remains as stale entry on # 3par array; which later leads to error during volume # deletion. same_host = False num_hosts = len(attachment_list) all_hostnames = [] all_hostnames.append(hostname) count = 0 for i in range(num_hosts): hostname_i = str(attachment_list[i].attached_host) if hostname == hostname_i: # current host count = count + 1 if count > 1: # volume attached to multiple instances on # current host same_host = True else: # different host all_hostnames.append(hostname_i) if same_host: LOG.info(""Volume %(volume)s is attached to multiple "" ""instances on same host %(host_name)s, "" ""skip terminate volume connection"", {'volume': volume.name, 'host_name': volume.host.split('@')[0]}) return else: hostnames = "","".join(all_hostnames) LOG.info(""Volume %(volume)s is attached to instances "" ""on multiple hosts %(hostnames)s. Proceed with "" ""deletion of vlun on this host."", {'volume': volume.name, 'hostnames': hostnames})"," VERSION = ""4.0.15"" LOG.info(""Volume %(volume)s is attached to multiple "" ""instances on host %(host_name)s, "" ""skip terminate volume connection"", {'volume': volume.name, 'host_name': volume.host.split('@')[0]}) return",121,11
openstack%2Fskyline-console~master~I01fd430996c49083ffb2168e5672d6c080931e6c,openstack/skyline-console,master,I01fd430996c49083ffb2168e5672d6c080931e6c,feat: Add quota info in create instance page,MERGED,2022-05-30 09:22:49.000000000,2022-06-02 09:08:16.000000000,2022-06-02 09:08:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/01571e8857db875c8ca98db7c722125a45f58b68', 'message': 'feat: Add quota info in create instance page\n\n1. Add quota info in create instance page\n2. Fix volume quota check when create instance\n\nChange-Id: I01fd430996c49083ffb2168e5672d6c080931e6c\n'}, {'number': 2, 'created': '2022-06-02 04:54:05.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/components/StepForm/index.jsx', 'src/components/InfoButton/index.jsx', 'src/components/QuotaChart/index.jsx', 'src/components/StepForm/index.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3c54d8afabd6bebb8e18fc45015ba2f880d7bdc3', 'message': 'feat: Add quota info in create instance page\n\n1. Add quota info in create instance page\n2. Fix volume quota check when create instance\n\nChange-Id: I01fd430996c49083ffb2168e5672d6c080931e6c\n'}]",0,843806,3c54d8afabd6bebb8e18fc45015ba2f880d7bdc3,9,3,2,30434,,,0,"feat: Add quota info in create instance page

1. Add quota info in create instance page
2. Fix volume quota check when create instance

Change-Id: I01fd430996c49083ffb2168e5672d6c080931e6c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/06/843806/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/components/StepForm/index.jsx', 'src/components/InfoButton/index.jsx', 'src/components/QuotaChart/index.jsx', 'src/components/StepForm/index.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx']",7,01571e8857db875c8ca98db7c722125a45f58b68,master4," get showQuota() { return true; } get quotaInfo() { const { instances = {} } = toJS(this.projectStore.quota) || {}; const { limit } = instances || {}; if (!limit) { return {}; } const { data = {} } = this.state; const { count = 1 } = data; return { ...instances, add: count, }; } const { systemDisk = {}, dataDisk = [], count = 1 } = data; totalNewCount += 1 * count; totalNewSize += size * count; newCountMap[label] = !newCountMap[label] ? 1 * count : newCountMap[label] + 1 * count; ? size * count : newSizeMap[label] + size * count; totalNewCount += 1 * count; totalNewSize += size * count; max: sourceValue === 'bootableVolume' ? 1 : isFinite(this.quota) ? this.quota : 100,"," const { systemDisk = {}, dataDisk = [] } = data; totalNewCount += 1; totalNewSize += size; newCountMap[label] = !newCountMap[label] ? 1 : newCountMap[label] + 1; ? size : newSizeMap[label] + size; totalNewCount += 1; totalNewSize += size; max: sourceValue === 'bootableVolume' ? 1 : 100,",234,9
openstack%2Fneutron~stable%2Fussuri~Id1907481077d230e4461906a1a2a1447abac330a,openstack/neutron,stable/ussuri,Id1907481077d230e4461906a1a2a1447abac330a,"[OVN] Allow VIP ports with a defined ""device_owner""",MERGED,2022-05-18 09:35:35.000000000,2022-06-02 09:07:49.000000000,2022-06-02 09:06:16.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-18 09:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48c34dcf4bfdedfeefc055220e22c46f29f7e5ad', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit becc90e8ce0ee815fe85a24239eeea5afdacbddd)\n'}, {'number': 2, 'created': '2022-05-18 16:15:27.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be933757faa3e26f689b0bb9a11216ab2dc8082d', 'message': '[OVN] Allow VIP ports with a defined ""device_owner""\n\nNow OVN VIP port can have a ""device_owner"" defined.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1973276\nChange-Id: Id1907481077d230e4461906a1a2a1447abac330a\n(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)\n(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)\n'}]",4,842297,be933757faa3e26f689b0bb9a11216ab2dc8082d,18,3,2,16688,,,0,"[OVN] Allow VIP ports with a defined ""device_owner""

Now OVN VIP port can have a ""device_owner"" defined.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Closes-Bug: #1973276
Change-Id: Id1907481077d230e4461906a1a2a1447abac330a
(cherry picked from commit 4c37497e7c98180fb6b1118021acd8e96b7028d0)
(cherry picked from commit 9e2425111b6f7413098bbb38f6013d18b3804303)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/842297/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,48c34dcf4bfdedfeefc055220e22c46f29f7e5ad,bug/1973276," @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_create_segments_subnet_metadata_ip_allocation(self, *args): @mock.patch.object(ovn_client.OVNClient, 'get_virtual_port_parents', return_value=[]) def test_metadata_ip_on_subnet_create(self, *args): for device_owner in ('', 'myVIPowner'): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': device_owner, 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options(port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])"," def test_create_segments_subnet_metadata_ip_allocation(self): def test_metadata_ip_on_subnet_create(self): port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': '', 'network_id': self.net['id'], 'fixed_ips': [{'subnet_id': self.subnet['id'], 'ip_address': '10.0.0.55'}]} port_info = self.mech_driver._ovn_client._get_port_options( port) self.assertEqual(ovn_const.LSP_TYPE_VIRTUAL, port_info.type) self.assertEqual( '10.0.0.55', port_info.options[ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY]) self.assertIn( 'parent-0', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY]) self.assertIn( 'parent-1', port_info.options[ ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY])",33,30
openstack%2Fmurano~master~I76fd7b48f3377fb20b86e1bc6fe7b0b49cf8f2f9,openstack/murano,master,I76fd7b48f3377fb20b86e1bc6fe7b0b49cf8f2f9,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:25:36.000000000,2022-06-02 08:56:06.000000000,2022-06-02 08:54:52.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-01 01:25:36.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/921a53adf109c4f328284e9b70a1bcc5efe28bf3', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I76fd7b48f3377fb20b86e1bc6fe7b0b49cf8f2f9\n'}]",3,840085,921a53adf109c4f328284e9b70a1bcc5efe28bf3,18,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I76fd7b48f3377fb20b86e1bc6fe7b0b49cf8f2f9
",git fetch https://review.opendev.org/openstack/murano refs/changes/85/840085/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,921a53adf109c4f328284e9b70a1bcc5efe28bf3,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,159
openstack%2Fopenstack-tempest-skiplist~master~I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0,openstack/openstack-tempest-skiplist,master,I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0,"Revert ""Barbican failing test in skip - test_image_signing""",MERGED,2022-05-17 06:09:04.000000000,2022-06-02 08:54:58.000000000,2022-06-02 08:53:52.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 06:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fa1a6ae214270e39af542a439617ee54666fbf72', 'message': 'Revert ""Barbican failing test in skip - test_image_signing""\n\nThis reverts commit c0e8351ce2be6d8a8171d6d95570f51d01db1c4c.\n\nReason for revert: fix is merged\n\nChange-Id: I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0\n'}, {'number': 2, 'created': '2022-05-27 05:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/d42e2d4ba4facb78913606e8b35809015857597a', 'message': 'Revert ""Barbican failing test in skip - test_image_signing""\n\nThis reverts commit c0e8351ce2be6d8a8171d6d95570f51d01db1c4c.\n\nReason for revert: fix is merged\n\nChange-Id: I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0\n'}, {'number': 3, 'created': '2022-06-02 07:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3dd07f6873da3fe6845fb3063ab217bd93d38096', 'message': 'Revert ""Barbican failing test in skip - test_image_signing""\n\nThis reverts commit c0e8351ce2be6d8a8171d6d95570f51d01db1c4c.\n\nReason for revert: fix for the related bug is merged\n\nRelated-Bug: 1973568\n\nChange-Id: I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0\n'}, {'number': 4, 'created': '2022-06-02 07:34:03.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0282f84a96d4c890db0673d9bc748bbf901efd14', 'message': 'Revert ""Barbican failing test in skip - test_image_signing""\n\nThis reverts commit c0e8351ce2be6d8a8171d6d95570f51d01db1c4c.\n\nReason for revert: fix for the related bug is merged\n\nTest-result: https://review.rdoproject.org/r/c/testproject/+/28446/78#message-b8979ec6e0b9687d5532d6427e6e2ae13300ac42\n\nRelated-Bug: 1973568\nChange-Id: I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0\n'}]",9,841934,0282f84a96d4c890db0673d9bc748bbf901efd14,19,5,4,29775,,,0,"Revert ""Barbican failing test in skip - test_image_signing""

This reverts commit c0e8351ce2be6d8a8171d6d95570f51d01db1c4c.

Reason for revert: fix for the related bug is merged

Test-result: https://review.rdoproject.org/r/c/testproject/+/28446/78#message-b8979ec6e0b9687d5532d6427e6e2ae13300ac42

Related-Bug: 1973568
Change-Id: I0426f9a19493ecb550488a4ea5bf5c8b09dd5aa0
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/34/841934/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,fa1a6ae214270e39af542a439617ee54666fbf72,,, - test: 'barbican_tempest_plugin.tests.scenario.test_image_signing' deployment: - 'overcloud' releases: - name: 'master' reason: 'Unexpected response code received 503' lp: 'https://bugs.launchpad.net/tripleo/+bug/1973568' jobs: [],0,8
openstack%2Fvenus~master~I9bf51b8e5cb0b10050770c1df74cc886219602e8,openstack/venus,master,I9bf51b8e5cb0b10050770c1df74cc886219602e8,use system log dir as the cybrog log output,MERGED,2022-06-02 08:32:15.000000000,2022-06-02 08:46:49.000000000,2022-06-02 08:45:41.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 08:32:15.000000000', 'files': ['devstack/fluentd-conf/input/cyborg.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/5a75e9e52b7eaa41f721ccf33576d2932cd6f6e4', 'message': 'use system log dir as the cybrog log output\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I9bf51b8e5cb0b10050770c1df74cc886219602e8\n'}]",0,844400,5a75e9e52b7eaa41f721ccf33576d2932cd6f6e4,7,2,1,30455,,,0,"use system log dir as the cybrog log output

Signed-off-by: jiasirui <jiasirui3@163.com>
Change-Id: I9bf51b8e5cb0b10050770c1df74cc886219602e8
",git fetch https://review.opendev.org/openstack/venus refs/changes/00/844400/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/cyborg.conf'],1,5a75e9e52b7eaa41f721ccf33576d2932cd6f6e4,, path /var/log/cyborg/*.log, path /var/log/kolla/cyborg/*.log,1,1
openstack%2Ftripleo-quickstart~master~I070d88d835cfa9923c107858aa0fe49ac082e8e0,openstack/tripleo-quickstart,master,I070d88d835cfa9923c107858aa0fe49ac082e8e0,Update to latest c9-stream image,MERGED,2022-05-31 14:55:04.000000000,2022-06-02 08:36:35.000000000,2022-06-02 08:35:31.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-31 14:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6eaf3ef0ec5e945a07ec6578cf4ecbac6aeed1f8', 'message': ""Update to latest c9-stream image\n\nWith old image kexec-tools update is failing, let's\nswitch to latest image to clear this.\n\nRelated-Bug: rhbz#2089871\nChange-Id: I070d88d835cfa9923c107858aa0fe49ac082e8e0\n""}, {'number': 2, 'created': '2022-06-01 10:17:46.000000000', 'files': ['config/environments/standalone_centos_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/67238fd342b0bd2ebdcafcac2f9c4593a8c4af95', 'message': ""Update to latest c9-stream image\n\nWith old image kexec-tools update is failing, let's\nswitch to latest image to clear this.\n\nRelated-Bug: rhbz#2089871\nChange-Id: I070d88d835cfa9923c107858aa0fe49ac082e8e0\n""}]",5,844092,67238fd342b0bd2ebdcafcac2f9c4593a8c4af95,19,6,2,13861,,,0,"Update to latest c9-stream image

With old image kexec-tools update is failing, let's
switch to latest image to clear this.

Related-Bug: rhbz#2089871
Change-Id: I070d88d835cfa9923c107858aa0fe49ac082e8e0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/844092/1 && git format-patch -1 --stdout FETCH_HEAD,['config/environments/standalone_centos_libvirt.yml'],1,6eaf3ef0ec5e945a07ec6578cf4ecbac6aeed1f8,bug/2089871,"undercloud_image_url: https://composes.stream.centos.org/production/latest-CentOS-Stream/compose/BaseOS/x86_64/images/CentOS-Stream-GenericCloud-9-20220523.0.x86_64.qcow2 md5sum: ""b3081ae755de3072d887aa758580380f CentOS-Stream-GenericCloud-9-20220523.0.x86_64.qcow2""","undercloud_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20220509.0.x86_64.qcow2 md5sum: ""15f11323b812a9a0b7c5fa08c97ff42d CentOS-Stream-GenericCloud-9-20220509.0.x86_64.qcow2""",2,2
openstack%2Fneutron~master~Ib3f8e18ba28b277d5fa02dd386ca80a5a113c247,openstack/neutron,master,Ib3f8e18ba28b277d5fa02dd386ca80a5a113c247,Create an index for subnetpools.address_scope_id,MERGED,2022-06-01 14:14:42.000000000,2022-06-02 08:34:17.000000000,2022-06-02 08:32:56.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 14:14:42.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/zed/expand/659cbedf30a1_add_index_to_subnetpools_address_scope_.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5957e90575eddc864b59ea2862e4c2bcd7a1bf7a', 'message': 'Create an index for subnetpools.address_scope_id\n\nThe method ""get_network_address_scope"" filters\n""Subnetpool"" with ""address_scope_id"" using an\nexact match. Making the column indexed will improve\nthe query performance.\n\nCloses-Bug: #1973726\nChange-Id: Ib3f8e18ba28b277d5fa02dd386ca80a5a113c247\n'}]",2,844297,5957e90575eddc864b59ea2862e4c2bcd7a1bf7a,15,7,1,13861,,,0,"Create an index for subnetpools.address_scope_id

The method ""get_network_address_scope"" filters
""Subnetpool"" with ""address_scope_id"" using an
exact match. Making the column indexed will improve
the query performance.

Closes-Bug: #1973726
Change-Id: Ib3f8e18ba28b277d5fa02dd386ca80a5a113c247
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/844297/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/zed/expand/659cbedf30a1_add_index_to_subnetpools_address_scope_.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models_v2.py']",3,5957e90575eddc864b59ea2862e4c2bcd7a1bf7a,bug/1973726," address_scope_id = sa.Column(sa.String(36), nullable=True, index=True)"," address_scope_id = sa.Column(sa.String(36), nullable=True)",37,2
openstack%2Fvenus~master~I7823d9ca4dd2bc4e886020d97bba56464a6df7f4,openstack/venus,master,I7823d9ca4dd2bc4e886020d97bba56464a6df7f4,Add default keystone interface,MERGED,2022-05-30 08:56:39.000000000,2022-06-02 08:33:56.000000000,2022-06-02 08:32:39.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-05-30 08:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/4d72a7cb53ff7f1a2a3d300143fd88be9d717994', 'message': 'Add default keystone interface\n\nSet public to default keystone interface config.\n\nChange-Id: I7823d9ca4dd2bc4e886020d97bba56464a6df7f4\n'}, {'number': 2, 'created': '2022-06-02 07:33:09.000000000', 'files': ['etc/venus/venus.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/458586d0e5895a1242e248b968edaa8cb6bacbcc', 'message': 'Add default keystone interface\n\nSet public to default keystone interface config.\n\nChange-Id: I7823d9ca4dd2bc4e886020d97bba56464a6df7f4\n'}]",3,843803,458586d0e5895a1242e248b968edaa8cb6bacbcc,12,3,2,30562,,,0,"Add default keystone interface

Set public to default keystone interface config.

Change-Id: I7823d9ca4dd2bc4e886020d97bba56464a6df7f4
",git fetch https://review.opendev.org/openstack/venus refs/changes/03/843803/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/venus/venus.conf'],1,4d72a7cb53ff7f1a2a3d300143fd88be9d717994,keystone-interface,interface = public,,1,0
openstack%2Fvenus~master~I8e68eb7d6f0174a1a8ee3f5b89e0875dbaf3b1ce,openstack/venus,master,I8e68eb7d6f0174a1a8ee3f5b89e0875dbaf3b1ce,use system log dir as default output,MERGED,2022-06-02 07:57:03.000000000,2022-06-02 08:23:21.000000000,2022-06-02 08:22:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 07:57:03.000000000', 'files': ['devstack/fluentd-conf/input/cinder.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/f51bb440d45369b2789e4e9ae627005752cc5706', 'message': 'use system log dir as default output\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I8e68eb7d6f0174a1a8ee3f5b89e0875dbaf3b1ce\n'}]",0,844397,f51bb440d45369b2789e4e9ae627005752cc5706,7,2,1,30455,,,0,"use system log dir as default output

Signed-off-by: jiasirui <jiasirui3@163.com>
Change-Id: I8e68eb7d6f0174a1a8ee3f5b89e0875dbaf3b1ce
",git fetch https://review.opendev.org/openstack/venus refs/changes/97/844397/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/cinder.conf'],1,f51bb440d45369b2789e4e9ae627005752cc5706,, path /var/log/cinder/*.log, path /var/log/kolla/cinder/*.log,1,1
openstack%2Fglance~master~Ie2c8e6c778eae46ee4daa9045993bce6956196c1,openstack/glance,master,Ie2c8e6c778eae46ee4daa9045993bce6956196c1,fff,ABANDONED,2022-06-02 08:10:18.000000000,2022-06-02 08:11:03.000000000,,[],"[{'number': 1, 'created': '2022-06-02 08:10:18.000000000', 'files': ['glance/api/v1/router.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8e3946962fbb5b63711ac04719b19b0518d4c331', 'message': 'fff\n\nChange-Id: Ie2c8e6c778eae46ee4daa9045993bce6956196c1\n'}]",0,844399,8e3946962fbb5b63711ac04719b19b0518d4c331,2,0,1,33436,,,0,"fff

Change-Id: Ie2c8e6c778eae46ee4daa9045993bce6956196c1
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/844399/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v1/router.py'],1,8e3946962fbb5b63711ac04719b19b0518d4c331,,# All Rights Reserved.eee,# All Rights Reserved.,1,1
openstack%2Ftempest~master~Ib50191621588cc00bc360bba4630f9efb66c7d00,openstack/tempest,master,Ib50191621588cc00bc360bba4630f9efb66c7d00,Stop running openstacksdk-functional-devstack job on ussuri,MERGED,2022-06-01 21:34:04.000000000,2022-06-02 07:55:16.000000000,2022-06-02 07:53:02.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-01 21:34:04.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2202f7bbeb7d1801e1908396dced8ca36362a4c0', 'message': ""Stop running openstacksdk-functional-devstack job on ussuri\n\nopenstacksdk-functional-devstack job is broken on stable/ussuri\n- https://storyboard.openstack.org/#!/story/2010057\n\nand fix is under discussion which might take time\n- https://review.opendev.org/c/openstack/openstacksdk/+/843978\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028764.html\n\nUntil then to unblock the stable/ussuri gate, let's stop\nrunning it on ussuri gate.\n\nStory: 2010057\nTasks: 45501\nChange-Id: Ib50191621588cc00bc360bba4630f9efb66c7d00\n""}]",1,844342,2202f7bbeb7d1801e1908396dced8ca36362a4c0,8,3,1,8556,,,0,"Stop running openstacksdk-functional-devstack job on ussuri

openstacksdk-functional-devstack job is broken on stable/ussuri
- https://storyboard.openstack.org/#!/story/2010057

and fix is under discussion which might take time
- https://review.opendev.org/c/openstack/openstacksdk/+/843978
- http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028764.html

Until then to unblock the stable/ussuri gate, let's stop
running it on ussuri gate.

Story: 2010057
Tasks: 45501
Change-Id: Ib50191621588cc00bc360bba4630f9efb66c7d00
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/844342/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,2202f7bbeb7d1801e1908396dced8ca36362a4c0,, # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$ # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057 - openstacksdk-functional-devstack: branches: ^(?!stable/ussuri).*$, - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack - openstacksdk-functional-devstack,40,10
openstack%2Fcinder~master~Ic8c7ecd0dfc9ad8b3f0869faa63c5b700611b8d9,openstack/cinder,master,Ic8c7ecd0dfc9ad8b3f0869faa63c5b700611b8d9,"db: Migrate ""transfer"" APIs to enginefacade",MERGED,2022-04-12 10:11:10.000000000,2022-06-02 07:55:11.000000000,2022-06-02 07:53:09.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 10:11:10.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/630e10e5441dbb989ca5d77da30182c5032b6b12', 'message': 'db: Migrate ""transfer"" APIs to enginefacade\n\nMigrate transfer-related APIs from the legacy enginefacade to the modern\ncontext-based enginefacade.\n\nChange-Id: Ic8c7ecd0dfc9ad8b3f0869faa63c5b700611b8d9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,837528,630e10e5441dbb989ca5d77da30182c5032b6b12,36,4,1,15334,,,0,"db: Migrate ""transfer"" APIs to enginefacade

Migrate transfer-related APIs from the legacy enginefacade to the modern
context-based enginefacade.

Change-Id: Ic8c7ecd0dfc9ad8b3f0869faa63c5b700611b8d9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/837528/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,630e10e5441dbb989ca5d77da30182c5032b6b12,remove-legacyfacade," query = model_query( context, models.Transfer, session=session, ).filter_by(id=transfer_id) query = query.filter( models.Transfer.volume_id == volume.id, volume.project_id == context.project_id, )@main_context_manager.reader query = query.filter( volume.id == models.Transfer.volume_id, volume.project_id == project_id, ) fields = ( 'id', 'volume_id', 'display_name', 'created_at', 'deleted', 'no_snapshots', 'source_project_id', 'destination_project_id', 'accepted', )def _transfer_get_all( context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, offset=None, ): # Generate the query query = _generate_paginate_query( context, None, marker, limit, sort_keys, sort_dirs, filters, offset, models.Transfer, ) if query is None: return [] return _translate_transfers(query.all())def transfer_get_all( context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, offset=None, ): return _transfer_get_all( context, marker=marker, limit=limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset, ) return model_query( context, models.Transfer, session=session, project_only=project_only )@main_context_manager.reader def transfer_get_all_by_project( context, project_id, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, offset=None, ): return _transfer_get_all( context, marker=marker, limit=limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset, )@main_context_manager.writer expected = {'id': volume_id, 'status': 'available'} update = {'status': 'awaiting-transfer'} if not conditional_update(context, models.Volume, update, expected): msg = _( 'Transfer %(transfer_id)s: Volume id %(volume_id)s ' 'expected in available state.' ) % {'transfer_id': transfer_id, 'volume_id': volume_id} LOG.error(msg) raise exception.InvalidVolume(reason=msg) transfer = models.Transfer() transfer.update(values) context.session.add(transfer) return transfer@main_context_manager.writer volume_id = _transfer_get(context, transfer_id)['volume_id'] expected = {'id': volume_id, 'status': 'awaiting-transfer'} update = {'status': 'available'} if not conditional_update(context, models.Volume, update, expected): # If the volume state is not 'awaiting-transfer' don't change it, # but we can still mark the transfer record as deleted. msg = _( 'Transfer %(transfer_id)s: Volume expected in ' 'awaiting-transfer state.' ) % {'transfer_id': transfer_id} LOG.error(msg) query = model_query(context, models.Transfer).filter_by(id=transfer_id) entity = query.column_descriptions[0]['entity'] updated_values = { 'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at, } query.update(updated_values) del updated_values['updated_at'] return updated_values def _roll_back_transferred_volume_and_snapshots( context, volume_id, old_user_id, old_project_id, transffered_snapshots ): expected = {'id': volume_id, 'status': 'available'} update = { 'status': 'awaiting-transfer', 'user_id': old_user_id, 'project_id': old_project_id, 'updated_at': timeutils.utcnow(), } if not conditional_update(context, models.Volume, update, expected): LOG.warning( 'Volume: %(volume_id)s is not in the expected available ' 'status. Rolling it back.', {'volume_id': volume_id}, ) LOG.info( 'Beginning to roll back transferred snapshots: %s', snapshot_id ) expected = {'id': snapshot_id, 'status': 'available'} update = { 'user_id': old_user_id, 'project_id': old_project_id, 'updated_at': timeutils.utcnow(), } if not conditional_update(context, models.Snapshot, update, expected): LOG.warning( 'Snapshot: %(snapshot_id)s is not in the expected ' 'available state. Rolling it back.', {'snapshot_id': snapshot_id}, )@main_context_manager.writer def transfer_accept( context, transfer_id, user_id, project_id, no_snapshots=False ): volume_id = _transfer_get(context, transfer_id)['volume_id'] expected = {'id': volume_id, 'status': 'awaiting-transfer'} update = { 'status': 'available', 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow(), } if not conditional_update(context, models.Volume, update, expected): msg = _( 'Transfer %(transfer_id)s: Volume id %(volume_id)s ' 'expected in awaiting-transfer state.' ) % {'transfer_id': transfer_id, 'volume_id': volume_id} LOG.error(msg) raise exception.InvalidVolume(reason=msg) # Update snapshots for transfer snapshots with volume. if not no_snapshots: snapshots = snapshot_get_all_for_volume(context, volume_id) transferred_snapshots = [] for snapshot in snapshots: LOG.info('Begin to transfer snapshot: %s', snapshot['id']) old_user_id = snapshot['user_id'] old_project_id = snapshot['project_id'] expected = {'id': snapshot['id'], 'status': 'available'} update = { 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow(), } if not conditional_update( context, models.Snapshot, update, expected ): msg = _( 'Transfer %(transfer_id)s: Snapshot ' '%(snapshot_id)s is not in the expected ' 'available state.' ) % {'transfer_id': transfer_id, 'snapshot_id': snapshot['id']} LOG.error(msg) _roll_back_transferred_volume_and_snapshots( context, volume_id, old_user_id, old_project_id, transferred_snapshots, ) raise exception.InvalidSnapshot(reason=msg) transferred_snapshots.append(snapshot['id']) query = context.session.query(models.Transfer).filter_by(id=transfer_id) entity = query.column_descriptions[0]['entity'] query.update( { 'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, 'destination_project_id': project_id, 'accepted': True, } )"," query = model_query(context, models.Transfer, session=session).\ filter_by(id=transfer_id) query = query.filter(models.Transfer.volume_id == volume.id, volume.project_id == context.project_id) query = query.filter(volume.id == models.Transfer.volume_id, volume.project_id == project_id) fields = ('id', 'volume_id', 'display_name', 'created_at', 'deleted', 'no_snapshots', 'source_project_id', 'destination_project_id', 'accepted')def _transfer_get_all(context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, offset=None): session = get_session() with session.begin(): # Generate the query query = _generate_paginate_query(context, session, marker, limit, sort_keys, sort_dirs, filters, offset, models.Transfer) if query is None: return [] return _translate_transfers(query.all())def transfer_get_all(context, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, offset=None): return _transfer_get_all(context, marker=marker, limit=limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset) return model_query(context, models.Transfer, session=session, project_only=project_only)def transfer_get_all_by_project(context, project_id, marker=None, limit=None, sort_keys=None, sort_dirs=None, filters=None, offset=None): return _transfer_get_all(context, marker=marker, limit=limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset) session = get_session() with session.begin(): expected = {'id': volume_id, 'status': 'available'} update = {'status': 'awaiting-transfer'} if not conditional_update(context, models.Volume, update, expected): msg = (_('Transfer %(transfer_id)s: Volume id %(volume_id)s ' 'expected in available state.') % {'transfer_id': transfer_id, 'volume_id': volume_id}) LOG.error(msg) raise exception.InvalidVolume(reason=msg) transfer = models.Transfer() transfer.update(values) session.add(transfer) return transfer session = get_session() with session.begin(): volume_id = _transfer_get(context, transfer_id, session)['volume_id'] expected = {'id': volume_id, 'status': 'awaiting-transfer'} update = {'status': 'available'} if not conditional_update(context, models.Volume, update, expected): # If the volume state is not 'awaiting-transfer' don't change it, # but we can still mark the transfer record as deleted. msg = (_('Transfer %(transfer_id)s: Volume expected in ' 'awaiting-transfer state.') % {'transfer_id': transfer_id}) LOG.error(msg) query = model_query(context, models.Transfer, session=session).\ filter_by(id=transfer_id) entity = query.column_descriptions[0]['entity'] updated_values = {'deleted': True, 'deleted_at': utcnow, 'updated_at': entity.updated_at} query.update(updated_values) del updated_values['updated_at'] return updated_values def _roll_back_transferred_volume_and_snapshots(context, volume_id, old_user_id, old_project_id, transffered_snapshots): expected = {'id': volume_id, 'status': 'available'} update = {'status': 'awaiting-transfer', 'user_id': old_user_id, 'project_id': old_project_id, 'updated_at': timeutils.utcnow()} if not conditional_update(context, models.Volume, update, expected): LOG.warning('Volume: %(volume_id)s is not in the expected available ' 'status. Rolling it back.', {'volume_id': volume_id}) LOG.info('Beginning to roll back transferred snapshots: %s', snapshot_id) expected = {'id': snapshot_id, 'status': 'available'} update = {'user_id': old_user_id, 'project_id': old_project_id, 'updated_at': timeutils.utcnow()} if not conditional_update(context, models.Snapshot, update, expected): LOG.warning('Snapshot: %(snapshot_id)s is not in the expected ' 'available state. Rolling it back.', {'snapshot_id': snapshot_id})def transfer_accept(context, transfer_id, user_id, project_id, no_snapshots=False): session = get_session() with session.begin(): volume_id = _transfer_get(context, transfer_id, session)['volume_id'] expected = {'id': volume_id, 'status': 'awaiting-transfer'} update = {'status': 'available', 'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow()} if not conditional_update(context, models.Volume, update, expected): msg = (_('Transfer %(transfer_id)s: Volume id %(volume_id)s ' 'expected in awaiting-transfer state.') % {'transfer_id': transfer_id, 'volume_id': volume_id}) LOG.error(msg) raise exception.InvalidVolume(reason=msg) # Update snapshots for transfer snapshots with volume. if not no_snapshots: snapshots = snapshot_get_all_for_volume(context, volume_id) transferred_snapshots = [] for snapshot in snapshots: LOG.info('Begin to transfer snapshot: %s', snapshot['id']) old_user_id = snapshot['user_id'] old_project_id = snapshot['project_id'] expected = {'id': snapshot['id'], 'status': 'available'} update = {'user_id': user_id, 'project_id': project_id, 'updated_at': timeutils.utcnow()} if not conditional_update(context, models.Snapshot, update, expected): msg = (_('Transfer %(transfer_id)s: Snapshot ' '%(snapshot_id)s is not in the expected ' 'available state.') % {'transfer_id': transfer_id, 'snapshot_id': snapshot['id']}) LOG.error(msg) _roll_back_transferred_volume_and_snapshots( context, volume_id, old_user_id, old_project_id, transferred_snapshots) raise exception.InvalidSnapshot(reason=msg) transferred_snapshots.append(snapshot['id']) query = session.query(models.Transfer).filter_by(id=transfer_id) entity = query.column_descriptions[0]['entity'] query.update({'deleted': True, 'deleted_at': timeutils.utcnow(), 'updated_at': entity.updated_at, 'destination_project_id': project_id, 'accepted': True})",222,147
openstack%2Fswift~master~I5bebca91821552d7df1bc7fa479b6593ff433925,openstack/swift,master,I5bebca91821552d7df1bc7fa479b6593ff433925,s3api tests: allow AWS credential file loading,MERGED,2022-04-19 17:30:20.000000000,2022-06-02 07:55:02.000000000,2022-06-02 07:53:05.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-19 17:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c857346f459393083f1c26ca64454b3c1dfc2280', 'message': ""s3api tests: allow AWS credential file loading\n\nWhen switching the s3api cross-compatibility tests' target between a\nSwift endpoint and an S3 endpoint, allow specifying an AWS CLI style\ncredentials file as an alternative to editing the swift 'test.conf'\nfile.\n\nChange-Id: I5bebca91821552d7df1bc7fa479b6593ff433925\n""}, {'number': 2, 'created': '2022-04-26 02:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d758c897bcdbb23cde73b598fca2a9a8bd44898a', 'message': ""s3api tests: allow AWS credential file loading\n\nWhen switching the s3api cross-compatibility tests' target between a\nSwift endpoint and an S3 endpoint, allow specifying an AWS CLI style\ncredentials file as an alternative to editing the swift 'test.conf'\nfile.\n\nChange-Id: I5bebca91821552d7df1bc7fa479b6593ff433925\n""}, {'number': 3, 'created': '2022-06-02 04:46:53.000000000', 'files': ['test/s3api/__init__.py', 'doc/source/development_guidelines.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/5d9f1f009c96e3049941d804b848f3166caac747', 'message': ""s3api tests: allow AWS credential file loading\n\nWhen switching the s3api cross-compatibility tests' target between a\nSwift endpoint and an S3 endpoint, allow specifying an AWS CLI style\ncredentials file as an alternative to editing the swift 'test.conf'\nfile.\n\nChange-Id: I5bebca91821552d7df1bc7fa479b6593ff433925\n""}]",3,838563,5d9f1f009c96e3049941d804b848f3166caac747,17,3,3,7847,,,0,"s3api tests: allow AWS credential file loading

When switching the s3api cross-compatibility tests' target between a
Swift endpoint and an S3 endpoint, allow specifying an AWS CLI style
credentials file as an alternative to editing the swift 'test.conf'
file.

Change-Id: I5bebca91821552d7df1bc7fa479b6593ff433925
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/838563/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/s3api/__init__.py', 'doc/source/development_guidelines.rst']",2,c857346f459393083f1c26ca64454b3c1dfc2280,p-s3-inventory,"S3 API cross-compatibility tests ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The cross-compatibility tests in directory `test/s3api` are intended to verify that the Swift S3 API behaves in the same way as the AWS S3 API. They should pass when run against either a Swift endpoint (with S3 API enabled) or an AWS S3 endpoint. To run against an AWS S3 endpoint, the `/etc/swift/test.conf` file must be edited to provide AWS key IDs and secrets. Alternatively, an AWS CLI style credentials file can be loaded by setting the ``SWIFT_TEST_AWS_CONFIG_FILE`` environment variable, e.g.:: SWIFT_TEST_AWS_CONFIG_FILE=~/.aws/credentials nosetests ./test/s3api .. note:: When using ``SWIFT_TEST_AWS_CONFIG_FILE``, the region defaults to ``us-east-1`` and only the default credentials are loaded. ",,47,1
openstack%2Fvenus~master~Id9d171e708160f55d16c45f29df64a3adebb552f,openstack/venus,master,Id9d171e708160f55d16c45f29df64a3adebb552f,use system log dir as default output,MERGED,2022-06-02 07:37:21.000000000,2022-06-02 07:50:08.000000000,2022-06-02 07:49:08.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-06-02 07:37:21.000000000', 'files': ['devstack/fluentd-conf/input/barbican.conf'], 'web_link': 'https://opendev.org/openstack/venus/commit/817f1f8853989627443cb4195576ed46c8584815', 'message': 'use system log dir as default output\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: Id9d171e708160f55d16c45f29df64a3adebb552f\n'}]",1,844395,817f1f8853989627443cb4195576ed46c8584815,7,2,1,30455,,,0,"use system log dir as default output

Signed-off-by: jiasirui <jiasirui3@163.com>
Change-Id: Id9d171e708160f55d16c45f29df64a3adebb552f
",git fetch https://review.opendev.org/openstack/venus refs/changes/95/844395/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/fluentd-conf/input/barbican.conf'],1,817f1f8853989627443cb4195576ed46c8584815,, path /var/log/barbican/*.log, path /var/log/kolla/barbican/*.log,1,1
openstack%2Ftripleo-validations~master~Ia8e0d3403fc4e8d38fdeb03b4ccece0832fb6bed,openstack/tripleo-validations,master,Ia8e0d3403fc4e8d38fdeb03b4ccece0832fb6bed,DNM test CI,NEW,2022-06-02 07:39:49.000000000,2022-06-02 07:48:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-02 07:39:49.000000000', 'files': ['tripleo_validations/tests/base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7fe1858443a7f2eabc63cde8bcc01b30b8093d92', 'message': 'DNM test CI\n\nChange-Id: Ia8e0d3403fc4e8d38fdeb03b4ccece0832fb6bed\n'}]",0,844396,7fe1858443a7f2eabc63cde8bcc01b30b8093d92,2,1,1,16515,,,0,"DNM test CI

Change-Id: Ia8e0d3403fc4e8d38fdeb03b4ccece0832fb6bed
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/96/844396/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tests/base.py'],1,7fe1858443a7f2eabc63cde8bcc01b30b8093d92,ci/test," """"""Test case base class for all unit tests..."""""""," """"""Test case base class for all unit tests.""""""",1,1
openstack%2Fpython-solumclient~master~Ic1bf1356f5d5a6476d2951818afb35f8b23fed58,openstack/python-solumclient,master,Ic1bf1356f5d5a6476d2951818afb35f8b23fed58,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 18:05:03.000000000,2022-06-02 07:44:10.000000000,2022-06-02 07:42:28.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-01 18:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/d807b88190b1c34bfa2c51b007c62003d4964134', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic1bf1356f5d5a6476d2951818afb35f8b23fed58\n'}, {'number': 2, 'created': '2022-06-02 07:11:31.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/319a84d6798d771c6f2eb0910c8bbfe53229e8f3', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nCo-authored-by: zhurong <aaronzhu1121@gmail.com>\n\nChange-Id: Ic1bf1356f5d5a6476d2951818afb35f8b23fed58\n'}]",1,840125,319a84d6798d771c6f2eb0910c8bbfe53229e8f3,15,3,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Co-authored-by: zhurong <aaronzhu1121@gmail.com>

Change-Id: Ic1bf1356f5d5a6476d2951818afb35f8b23fed58
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/25/840125/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,d807b88190b1c34bfa2c51b007c62003d4964134,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,109
openstack%2Ftacker~master~Ia68fa8acb7a27c17f9da7eea587112da4dedb892,openstack/tacker,master,Ia68fa8acb7a27c17f9da7eea587112da4dedb892,Fix usage of deprecated .best_match(),MERGED,2022-05-28 13:12:46.000000000,2022-06-02 07:43:15.000000000,2022-06-02 07:41:40.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-05-28 13:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/40150c7b1637450fe6cb573292c77cdab9ba8a7b', 'message': '[WIP] Fix usage of deprecated .best_match()\n\nChange-Id: Ia68fa8acb7a27c17f9da7eea587112da4dedb892\n'}, {'number': 2, 'created': '2022-05-30 09:01:25.000000000', 'files': ['tacker/wsgi.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e8dfc6b0372ba86020115395427fc010cfc89352', 'message': 'Fix usage of deprecated .best_match()\n\nThe webob emits a warning for best_match method for the reason that its\nalgorithm does not conform to RFC 7231 [1]. This patch replace\n`best_match` with `acceptable_offers` as v2 API does [2].\n\nThe following deprecation warnings are gone with the patch:\n\n- cceptparse.py:1047: DeprecationWarning: The behavior of\n  AcceptValidHeader.best_match is currently being maintained for\n  backward compatibility, but it will be deprecated in the future, as it\n  does not conform to the RFC.\n\n[1]\nhttps://docs.pylonsproject.org/projects/webob/en/stable/api/webob.html#webob.acceptparse.AcceptValidHeader.best_match\n[2]\nhttps://github.com/openstack/tacker/blob/master/tacker/sol_refactored/api/wsgi.py#L37\n\nChange-Id: Ia68fa8acb7a27c17f9da7eea587112da4dedb892\nCloses-Bug: #1976220\n'}]",2,843721,e8dfc6b0372ba86020115395427fc010cfc89352,14,5,2,33455,,,0,"Fix usage of deprecated .best_match()

The webob emits a warning for best_match method for the reason that its
algorithm does not conform to RFC 7231 [1]. This patch replace
`best_match` with `acceptable_offers` as v2 API does [2].

The following deprecation warnings are gone with the patch:

- cceptparse.py:1047: DeprecationWarning: The behavior of
  AcceptValidHeader.best_match is currently being maintained for
  backward compatibility, but it will be deprecated in the future, as it
  does not conform to the RFC.

[1]
https://docs.pylonsproject.org/projects/webob/en/stable/api/webob.html#webob.acceptparse.AcceptValidHeader.best_match
[2]
https://github.com/openstack/tacker/blob/master/tacker/sol_refactored/api/wsgi.py#L37

Change-Id: Ia68fa8acb7a27c17f9da7eea587112da4dedb892
Closes-Bug: #1976220
",git fetch https://review.opendev.org/openstack/tacker refs/changes/21/843721/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/wsgi.py'],1,40150c7b1637450fe6cb573292c77cdab9ba8a7b,bug/1976220," offers = ['application/json', 'text/plain', 'application/zip'] ctypes = self.accept.acceptable_offers(offers) return ctypes[0][0] if ctypes else 'application/json'"," ctypes = ['application/json', 'text/plain', 'application/zip'] bm = self.accept.best_match(ctypes) return bm or 'application/json'",3,3
openstack%2Freleases~master~I3c1f1b7e7163c287ba7f502c446513db86eb7fc9,openstack/releases,master,I3c1f1b7e7163c287ba7f502c446513db86eb7fc9,"[Tempest] release 31.0.0 and tag ussuri-last, victoria-last",MERGED,2022-05-24 00:58:33.000000000,2022-06-02 07:38:49.000000000,2022-06-02 07:38:49.000000000,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-24 00:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c23ca74b1084adf644954ae7360bbef4eed05505', 'message': '[Tempest] Tag ussuri-last\n\nUssuri branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[2].\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/ussuri/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I3c1f1b7e7163c287ba7f502c446513db86eb7fc9\n'}, {'number': 2, 'created': '2022-05-31 13:59:44.000000000', 'files': ['deliverables/zed/tempest.yaml', 'deliverables/victoria/tempest.yaml', 'deliverables/ussuri/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2786702fd1be2d73b4dc8d0f2f907c720b856ac0', 'message': '[Tempest] release 31.0.0 and tag ussuri-last, victoria-last\n\nUssuri and Victoria branch is in Extended Maintenance now[1].\nTempest and tempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[2].\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nReleasing a new major version as tempest drop py3.6 and py3.7 support\nalso.\n\n[1] https://releases.openstack.org/ussuri/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I3c1f1b7e7163c287ba7f502c446513db86eb7fc9\n'}]",7,843039,2786702fd1be2d73b4dc8d0f2f907c720b856ac0,16,5,2,8556,,,0,"[Tempest] release 31.0.0 and tag ussuri-last, victoria-last

Ussuri and Victoria branch is in Extended Maintenance now[1].
Tempest and tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[2].

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Releasing a new major version as tempest drop py3.6 and py3.7 support
also.

[1] https://releases.openstack.org/ussuri/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I3c1f1b7e7163c287ba7f502c446513db86eb7fc9
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/843039/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/tempest.yaml', 'deliverables/yoga/.tempest.yaml.swp', 'deliverables/ussuri/tempest.yaml']",3,c23ca74b1084adf644954ae7360bbef4eed05505,u-v-last, - version: ussuri-last projects: - repo: openstack/tempest hash: 569c7a89f54c94494fde46ce2aa4fbd26492e640,,9,0
openstack%2Fvenus~master~I6b8a780b9514f2488ceb53d18cf3a6cda03c8883,openstack/venus,master,I6b8a780b9514f2488ceb53d18cf3a6cda03c8883,change venus defalut log style for  collect,MERGED,2022-05-31 02:07:16.000000000,2022-06-02 07:32:52.000000000,2022-06-02 07:31:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-05-31 02:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/3187ea48fdd7237fd89af34ed234a986d93ef560', 'message': 'change venus defalut log style for  collect\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I6b8a780b9514f2488ceb53d18cf3a6cda03c8883\n'}, {'number': 2, 'created': '2022-06-02 02:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/fcec0797cbe0577dcb3b195fc4fbc335b7af0227', 'message': 'change venus defalut log style for  collect\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I6b8a780b9514f2488ceb53d18cf3a6cda03c8883\n'}, {'number': 3, 'created': '2022-06-02 05:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/735a2a5b3f0c733da8729584da93e80af9857fee', 'message': 'change venus defalut log style for  collect\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I6b8a780b9514f2488ceb53d18cf3a6cda03c8883\n'}, {'number': 4, 'created': '2022-06-02 06:56:40.000000000', 'files': ['requirements.txt', 'etc/venus/venus.conf', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/venus/commit/62e38587b86d5c02cd381aee34818f92d456c4b2', 'message': 'change venus defalut log style for  collect\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I6b8a780b9514f2488ceb53d18cf3a6cda03c8883\n'}]",1,843983,62e38587b86d5c02cd381aee34818f92d456c4b2,15,3,4,30455,,,0,"change venus defalut log style for  collect

Signed-off-by: jiasirui <jiasirui3@163.com>
Change-Id: I6b8a780b9514f2488ceb53d18cf3a6cda03c8883
",git fetch https://review.opendev.org/openstack/venus refs/changes/83/843983/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/venus/venus.conf'],1,3187ea48fdd7237fd89af34ed234a986d93ef560,,use_syslog = Truelog_dir = /var/log/kolla/nova/ logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [- req-None - - - - -] %(instance)s%(message)s logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(global_request_id)s %(request_id)s %(user_identity)s] %(instance)s%(message)s ,use_syslog = False,9,1
openstack%2Fvenus~master~I9402f8336b6e803bd4d35744b3363f405209cefb,openstack/venus,master,I9402f8336b6e803bd4d35744b3363f405209cefb,change oslo.log version for py36build,ABANDONED,2022-06-01 13:31:04.000000000,2022-06-02 07:31:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-01 13:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/20007e8892e2b7242583befb65340f55c0937a7f', 'message': 'change oslo.log version for py36build\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I9402f8336b6e803bd4d35744b3363f405209cefb\n'}, {'number': 2, 'created': '2022-06-01 14:11:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/venus/commit/000707ad19378de75aa2e52452fc31c99dc698e2', 'message': 'change oslo.log version for py36build\n\nSigned-off-by: jiasirui <jiasirui3@163.com>\nChange-Id: I9402f8336b6e803bd4d35744b3363f405209cefb\n'}]",0,844292,000707ad19378de75aa2e52452fc31c99dc698e2,5,1,2,30455,,,0,"change oslo.log version for py36build

Signed-off-by: jiasirui <jiasirui3@163.com>
Change-Id: I9402f8336b6e803bd4d35744b3363f405209cefb
",git fetch https://review.opendev.org/openstack/venus refs/changes/92/844292/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,20007e8892e2b7242583befb65340f55c0937a7f,,oslo.log>=4.6.1 # Apache-2.0,oslo.log>=1.14.0 # Apache-2.0,1,1
openstack%2Fsolum-tempest-plugin~master~I15feb210e9df74f801734781c3438275ea22680a,openstack/solum-tempest-plugin,master,I15feb210e9df74f801734781c3438275ea22680a,Remove stable/victoria job from master gate,MERGED,2022-05-31 21:19:58.000000000,2022-06-02 07:04:10.000000000,2022-06-02 07:04:10.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 21:19:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/e8efebf4b8b49fb491fee8f9ab95d313296c00ef', 'message': 'Remove stable/victoria job from master gate\n\nstable/victoria is in EM state and Tempest is pinned\nthere so we do not need to test the stable/victoria\njobs on master gate.\n\nChange-Id: I15feb210e9df74f801734781c3438275ea22680a\n'}]",0,844138,e8efebf4b8b49fb491fee8f9ab95d313296c00ef,6,2,1,8556,,,0,"Remove stable/victoria job from master gate

stable/victoria is in EM state and Tempest is pinned
there so we do not need to test the stable/victoria
jobs on master gate.

Change-Id: I15feb210e9df74f801734781c3438275ea22680a
",git fetch https://review.opendev.org/openstack/solum-tempest-plugin refs/changes/38/844138/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e8efebf4b8b49fb491fee8f9ab95d313296c00ef,victoria-pin-tempest,, - solum-devstack-victoria - job: name: solum-devstack-victoria parent: solum-devstack nodeset: openstack-single-node-focal override-checkout: stable/victoria,0,7
openstack%2Fmurano-tempest-plugin~master~I11bfd3026a02bad7cb6336ed66e7d1ef8559d5af,openstack/murano-tempest-plugin,master,I11bfd3026a02bad7cb6336ed66e7d1ef8559d5af,Remove stable/victoria job from master gate,MERGED,2022-05-31 21:08:27.000000000,2022-06-02 07:03:22.000000000,2022-06-02 07:03:22.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 21:08:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/97d430bbe105b204960cddd9d587d11cf1f9b2ca', 'message': 'Remove stable/victoria job from master gate\n\nstable/victoria is in EM state and Tempest is pinned\nthere so we do not need to test the stable/victoria\njobs on master gate.\n\nChange-Id: I11bfd3026a02bad7cb6336ed66e7d1ef8559d5af\n'}]",0,844133,97d430bbe105b204960cddd9d587d11cf1f9b2ca,6,2,1,8556,,,0,"Remove stable/victoria job from master gate

stable/victoria is in EM state and Tempest is pinned
there so we do not need to test the stable/victoria
jobs on master gate.

Change-Id: I11bfd3026a02bad7cb6336ed66e7d1ef8559d5af
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/33/844133/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,97d430bbe105b204960cddd9d587d11cf1f9b2ca,victoria-pin-tempest,, - murano-tempest-api-victoria: voting: false - job: name: murano-tempest-api-victoria parent: murano-tempest-api override-checkout: stable/victoria,0,7
openstack%2Fmurano-pkg-check~master~I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f,openstack/murano-pkg-check,master,I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f,Fix load_all missing required positional argument,ABANDONED,2022-05-26 08:12:44.000000000,2022-06-02 06:58:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-26 08:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/7aad5154cd58bdc7d4850dafb9b284c4c112a3ca', 'message': 'Fix load_all missing required positional argument\n\nChange-Id: I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f\n'}, {'number': 2, 'created': '2022-05-26 08:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/d2d7b8279c6a45ec72d38a628768c705dac02ba7', 'message': 'Fix load_all missing required positional argument\n\nChange-Id: I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f\n'}, {'number': 3, 'created': '2022-05-30 00:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/e77ff367a2529dc862c406c9920ae2ceab4a6044', 'message': 'Fix load_all missing required positional argument\n\nChange-Id: I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f\n'}, {'number': 4, 'created': '2022-06-01 02:39:49.000000000', 'files': ['muranopkgcheck/tests/functional/test_cases.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/f721040d32926de3cc3c5fde3d3c0cb8e56c238e', 'message': 'Fix load_all missing required positional argument\n\nChange-Id: I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f\n'}]",0,843394,f721040d32926de3cc3c5fde3d3c0cb8e56c238e,9,1,4,14107,,,0,"Fix load_all missing required positional argument

Change-Id: I80c6708f7fb26bd0d0b799a7fb9072a162c96d6f
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/94/843394/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,7aad5154cd58bdc7d4850dafb9b284c4c112a3ca,,,,0,0
openstack%2Fskyline-console~master~Ie87ef9eaa4a1d5da2134907024ed465dcfaa5bd4,openstack/skyline-console,master,Ie87ef9eaa4a1d5da2134907024ed465dcfaa5bd4,fix: Hide menu when endpoint not exist,MERGED,2022-06-01 10:05:25.000000000,2022-06-02 06:30:01.000000000,2022-06-02 06:30:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-06-01 10:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0e4872e184650ca66f3e51d8d3cabfaff8fe7b98', 'message': 'fix: Hide menu when service not ok\n\nIf the service is not deployed, hide the menu: swift, octavia, zun,\nmagnum, heat, manila, ironic, vpn\n\nChange-Id: Ie87ef9eaa4a1d5da2134907024ed465dcfaa5bd4\n'}, {'number': 2, 'created': '2022-06-01 15:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c27d5d86f6f2162262be8d7711dddc715a929127', 'message': 'fix: Hide menu when endpoint not exist\n\nIf the service is not deployed, hide the menu: swift, octavia, zun,\nmagnum, heat, manila, ironic, vpn\n\nChange-Id: Ie87ef9eaa4a1d5da2134907024ed465dcfaa5bd4\n'}, {'number': 3, 'created': '2022-06-02 01:49:55.000000000', 'files': ['src/layouts/admin-menu.jsx', 'src/client/index.js', 'src/layouts/menu.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b50da47db06a8c97dbb0af79a7ce708a31363a48', 'message': 'fix: Hide menu when endpoint not exist\n\nIf the service is not deployed, hide the menu: swift, octavia, zun,\nmagnum, heat, manila, ironic, vpn\n\nChange-Id: Ie87ef9eaa4a1d5da2134907024ed465dcfaa5bd4\n'}]",0,844272,b50da47db06a8c97dbb0af79a7ce708a31363a48,11,3,3,30434,,,0,"fix: Hide menu when endpoint not exist

If the service is not deployed, hide the menu: swift, octavia, zun,
magnum, heat, manila, ironic, vpn

Change-Id: Ie87ef9eaa4a1d5da2134907024ed465dcfaa5bd4
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/72/844272/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/layouts/admin-menu.jsx', 'src/client/index.js', 'src/layouts/menu.jsx']",3,0e4872e184650ca66f3e51d8d3cabfaff8fe7b98,endpoint," endpoints: 'swift', endpoints: 'octavia', endpoints: 'neutron_vpn', endpoints: 'manilav2', endpoints: 'heat', endpoints: 'trove', endpoints: 'zun', endpoints: 'zun', endpoints: 'magnum', endpoints: 'magnum',"," endpoints: 'manilav2', endpoints: 'manilav2', endpoints: 'manilav2',",16,11
openstack%2Fskyline-console~master~Ia478872afc45049faadf3837a4840b08f58c4316,openstack/skyline-console,master,Ia478872afc45049faadf3837a4840b08f58c4316,fix: Fix last week's monitor data,MERGED,2022-05-27 08:03:27.000000000,2022-06-02 05:58:22.000000000,2022-06-02 05:58:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-05-27 08:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b1577834751f0820689112e66eba5c318831b44f', 'message': ""fix: Fix last week's monitor data\n\nFix the last week's monitoring data in the Monitor overview page\n\nclose-bug: 1975376\nChange-Id: Ia478872afc45049faadf3837a4840b08f58c4316\n""}, {'number': 2, 'created': '2022-05-27 08:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8cc2f1a0995ea9689f84404c940d9a0fbfe9956a', 'message': ""fix: Fix last week's monitor data\n\nFix the last week's monitoring data in the Monitor overview page\n\nclose-bug: 1975376\nChange-Id: Ia478872afc45049faadf3837a4840b08f58c4316\n""}, {'number': 3, 'created': '2022-06-02 02:23:34.000000000', 'files': ['src/pages/monitor/containers/Overview/components/AlertInfo/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/59424e1c023a24bd4f33020cf931fae7b3f33bb9', 'message': ""fix: Fix last week's monitor data\n\nFix the last week's monitoring data in the Monitor overview page\n\nCloses-Bug: #1975376\nChange-Id: Ia478872afc45049faadf3837a4840b08f58c4316\n""}]",2,843576,59424e1c023a24bd4f33020cf931fae7b3f33bb9,12,3,3,30434,,,0,"fix: Fix last week's monitor data

Fix the last week's monitoring data in the Monitor overview page

Closes-Bug: #1975376
Change-Id: Ia478872afc45049faadf3837a4840b08f58c4316
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/76/843576/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/webpack.dev.js', 'src/pages/monitor/containers/Overview/components/AlertInfo/index.jsx']",2,b1577834751f0820689112e66eba5c318831b44f,bug/1975376," const fetchDataByDate = async (date) => { const end = moment(date).endOf('day'); const start = moment(date).startOf('day'); const result = await fetchData({ }); const [cpuData, memoryData] = dataHandler(result).retData; const newCpuCount = cpuData.reduce( (pre, cur, idx) => idx > 0 && cur.x - cpuData[idx - 1].x > STEP ? pre + 1 : pre, 0 ); const newMemoryCount = memoryData.reduce( (pre, cur, idx) => idx > 0 && cur.x - memoryData[idx - 1].x > STEP ? pre + 1 : pre, 0 ); const total = newCpuCount + newMemoryCount; return { date, total, cpuTotal: newCpuCount, memTotal: newMemoryCount, }; }; const fetchWeekData = async () => { setIsLoading(true); const reqs = weekData.map((it) => { const { fullDate } = it; return fetchDataByDate(fullDate); }); try { const results = await Promise.all(reqs); results.forEach((r, index) => { const { total, cpuTotal, memTotal } = r; if (index === results.length - 1) { setCpuCount(cpuTotal); setMemCount(memTotal); } weekData[index].count = total; } catch (e) { console.log(e); } setWeekData([...weekData]); setIsLoading(false); }; useEffect(() => { fetchWeekData(); fullDate: today.clone().subtract(index, 'day').format('YYYY-MM-DD'),"," useEffect(() => { const end = moment(); const start = moment().startOf('day'); setIsLoading(true); fetchData({ }) .then((d) => { const [cpuData, memoryData] = dataHandler(d).retData; const newCpuCount = cpuData.reduce( (pre, cur, idx) => idx > 0 && cur.x - cpuData[idx - 1].x > STEP ? pre + 1 : pre, 0 ); const newMemoryCount = memoryData.reduce( (pre, cur, idx) => idx > 0 && cur.x - memoryData[idx - 1].x > STEP ? pre + 1 : pre, 0 ); setCpuCount(newCpuCount); setMemCount(newMemoryCount); weekData[6].count = newCpuCount + newMemoryCount; setWeekData([...weekData]); }) .finally(() => { setIsLoading(false);",51,26
openstack%2Fpuppet-ironic~master~I7f81d663bbde6d40363c0f7e0163f29ebd1ff870,openstack/puppet-ironic,master,I7f81d663bbde6d40363c0f7e0163f29ebd1ff870,DNM: Testing litmus job,ABANDONED,2022-06-01 01:27:12.000000000,2022-06-02 03:58:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-01 01:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/06fa83a3caa16dfcb017bf63dd778cd6cc963ec2', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 2, 'created': '2022-06-01 03:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e18f832dcd0a88be3c35fd5ddf8aba712efaa5a8', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 3, 'created': '2022-06-01 04:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8e1ee26a36136d1b8d2d24972e73fd8ee455fba0', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 4, 'created': '2022-06-01 05:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a80e26f49460d0b5e24441fc45babb4fa81885fd', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 5, 'created': '2022-06-01 07:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ed824a74bdca4d755c39123de90c30676270e4b9', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 6, 'created': '2022-06-01 09:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d2c7c33b7c343640f6c575b0505b09600b834369', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 7, 'created': '2022-06-01 09:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/178c48c1a5035214fe6274eea388aa9f91730806', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 8, 'created': '2022-06-01 09:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/17f2548384728a5854b9d13fb200d9735c3021bc', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 9, 'created': '2022-06-02 00:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f72ffdb4c8686ca7c935961d82617650a230ca6c', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 10, 'created': '2022-06-02 00:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/55a220a4461432f6297f3d5743e46893193c8676', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 11, 'created': '2022-06-02 01:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6527b0ee8fcfc4478384c47fa7aed8d5386161fa', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}, {'number': 12, 'created': '2022-06-02 01:44:10.000000000', 'files': ['spec/acceptance/ironic_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ff8a2214b34f3323c904e339e176741a4a91af9c', 'message': 'DNM: Testing litmus job\n\nDepends-on: https://review.opendev.org/844173\nChange-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870\n'}]",0,844174,ff8a2214b34f3323c904e339e176741a4a91af9c,19,1,12,9816,,,0,"DNM: Testing litmus job

Depends-on: https://review.opendev.org/844173
Change-Id: I7f81d663bbde6d40363c0f7e0163f29ebd1ff870
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/74/844174/12 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ironic_wsgi_apache_spec.rb'],1,06fa83a3caa16dfcb017bf63dd778cd6cc963ec2,bug/1975543,,,0,1
openstack%2Fvenus-dashboard~master~I92a27e40b1e8d23f4f738571e337535cc7741ff4,openstack/venus-dashboard,master,I92a27e40b1e8d23f4f738571e337535cc7741ff4,Add log search bar charts.,MERGED,2022-06-01 08:58:27.000000000,2022-06-02 03:12:34.000000000,2022-06-02 03:12:34.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-01 08:58:27.000000000', 'files': ['venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.html', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.controller.js'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/0c3daad59c2e8c100bfefddd8ec78b7805e73e6b', 'message': 'Add log search bar charts.\n\nChange-Id: I92a27e40b1e8d23f4f738571e337535cc7741ff4\n'}]",2,844265,0c3daad59c2e8c100bfefddd8ec78b7805e73e6b,7,3,1,30562,,,0,"Add log search bar charts.

Change-Id: I92a27e40b1e8d23f4f738571e337535cc7741ff4
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/65/844265/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.html', 'venus_dashboard/static/dashboard/admin/venus/logSearch/logSearch.controller.js']",2,0c3daad59c2e8c100bfefddd8ec78b7805e73e6b,add-charts," $scope.chartsData = []; // 数据形如：{key_as_string: '2022-05-30T15:30:00.000+08:00', doc_count: 20} $scope.getData = function () { venusSrv.getLogs(config).then(function (res) { $scope.chartsData = res.data.data_stats.count; $scope.updateCharts(); $scope.updateCharts = function () { var svg = d3.select('#svg'); var width = svg.node().getBoundingClientRect().width, height = svg.node().getBoundingClientRect().height, barHotZoneWidth = width / $scope.chartsData.length, barHotZoneHighlight = '#ff0000', barWidth = barHotZoneWidth - 2, barBgColor = '#007ede'; var xScale = d3.scale.linear() .domain([0, $scope.chartsData.length - 1]) .range([0, width]); var hScale = d3.scale.linear() .domain(d3.extent($scope.chartsData, d => d.doc_count)) .range([0, height]); var bars = svg.selectAll('g') .data($scope.chartsData); var yAxis = d3.svg.axis() .scale(hScale) .orient('left'); svg.select('#yAxis') .remove(); svg.append('g') .attr('id', 'yAxis') .attr('transform', 'translate(30,0)') .call(yAxis); // enter bars.enter() .append('g') .append('rect') .attr('fill', barBgColor) .attr('x', (d, i) => xScale(i)) .attr('y', (d) => height - hScale(d.doc_count)) .attr('width', barWidth) .attr('height', (d) => hScale(d.doc_count)); // update bars.select('rect') .attr('x', (d, i) => xScale(i)) .attr('y', (d) => height - hScale(d.doc_count)) .attr('width', barWidth) .attr('height', (d) => hScale(d.doc_count)); // exit bars.exit() .remove(); }; ", $scope.getData = function() { venusSrv.getLogs(config).then(function(res) {,72,12
openstack%2Fskyline-console~master~I562938d4cf3671e1638f747f582e44db184c4b66,openstack/skyline-console,master,I562938d4cf3671e1638f747f582e44db184c4b66,feat: Add ironic instance console,ABANDONED,2021-08-24 09:00:11.000000000,2022-06-02 01:50:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-24 09:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8250c648f194bc5068a1240193f32146a7619a06', 'message': 'feat: Add ironic instance console\n\nAdd ironic instance console in ironic instance detail page\n\nChange-Id: I562938d4cf3671e1638f747f582e44db184c4b66\n'}, {'number': 2, 'created': '2021-08-24 09:03:33.000000000', 'files': ['src/pages/compute/containers/Instance/Detail/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/Detail/IronicConsole.jsx', 'yarn.lock', 'package.json', 'src/pages/compute/containers/Instance/actions/Console.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5af340fbd3e930846cc30925b05a69cfe743be7b', 'message': 'feat: Add ironic instance console\n\nAdd ironic instance console in ironic instance detail page\n\nChange-Id: I562938d4cf3671e1638f747f582e44db184c4b66\n'}]",0,805795,5af340fbd3e930846cc30925b05a69cfe743be7b,6,1,2,30434,,,0,"feat: Add ironic instance console

Add ironic instance console in ironic instance detail page

Change-Id: I562938d4cf3671e1638f747f582e44db184c4b66
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/95/805795/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/Detail/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/Detail/IronicConsole.jsx', 'yarn.lock', 'package.json', 'src/pages/compute/containers/Instance/actions/Console.jsx']",7,8250c648f194bc5068a1240193f32146a7619a06,, return isActive(item); const { href } = window.location; const url = `${href}/detail/${id}/?tab=console`; window.open(url); const { url } = res.remote_console; const selectedLang = getLocale(); window.open(`${url}&language=${selectedLang}`); }, return isActive(item) && !isIronicInstance(item); res = await store.getConsoleIronic({ id }); } const { url } = res.remote_console; const selectedLang = getLocale(); window.open(`${url}&language=${selectedLang}`);,227,6
openstack%2Fdesignate~stable%2Fxena~I4b2991499f33e65790388aea902a8b3e6023eb4e,openstack/designate,stable/xena,I4b2991499f33e65790388aea902a8b3e6023eb4e,Validate worker actions before retrying poll,MERGED,2022-05-31 22:11:45.000000000,2022-06-01 23:32:27.000000000,2022-06-01 23:31:10.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 22:11:45.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/721184fc6b98b5dc89b5dddcb3a848fa3d963b11', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n(cherry picked from commit dc45a03563bc075242b4d27dfbc6d340166c1c0c)\n'}]",1,844086,721184fc6b98b5dc89b5dddcb3a848fa3d963b11,8,3,1,11628,,,0,"Validate worker actions before retrying poll

This adds a check to validate if we need to
keep retrying the current action.

Change-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e
(cherry picked from commit dc45a03563bc075242b4d27dfbc6d340166c1c0c)
",git fetch https://review.opendev.org/openstack/designate refs/changes/86/844086/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py']",3,721184fc6b98b5dc89b5dddcb3a848fa3d963b11,,"from designate import exceptions def is_current_action_valid(self, context, action, zone): """"""Is our current action still valid?"""""" # We always allow for DELETE operations. if action == 'DELETE': return True try: zone = self.storage.get_zone(context, zone.id) # If the zone is either in a DELETE or NONE state, # we don't need to continue with the current action. if zone.action in ['DELETE', 'NONE']: LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s action state has changed ' 'to %(current_action)s, not retrying action', { 'action': action, 'zone_name': zone.name, 'zone_id': zone.id, 'current_action': zone.action, } ) return False except exceptions.ZoneNotFound: if action != 'CREATE': LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s Error=ZoneNotFound', { 'action': action, 'zone_name': zone.name, 'zone_id': zone.id, } ) return False except Exception as e: LOG.warning( 'Error trying to get zone action. Error=%(error)s', { 'error': str(e), } ) return True ",,155,11
openstack%2Fdesignate~stable%2Fyoga~I4b2991499f33e65790388aea902a8b3e6023eb4e,openstack/designate,stable/yoga,I4b2991499f33e65790388aea902a8b3e6023eb4e,Validate worker actions before retrying poll,MERGED,2022-05-31 22:11:11.000000000,2022-06-01 23:32:12.000000000,2022-06-01 23:31:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-31 22:11:11.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1b7b7df188e37081cc0f0adf0144b565c5bf1daf', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n(cherry picked from commit dc45a03563bc075242b4d27dfbc6d340166c1c0c)\n'}]",1,844145,1b7b7df188e37081cc0f0adf0144b565c5bf1daf,8,3,1,11628,,,0,"Validate worker actions before retrying poll

This adds a check to validate if we need to
keep retrying the current action.

Change-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e
(cherry picked from commit dc45a03563bc075242b4d27dfbc6d340166c1c0c)
",git fetch https://review.opendev.org/openstack/designate refs/changes/45/844145/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py']",3,1b7b7df188e37081cc0f0adf0144b565c5bf1daf,,"from designate import exceptions def is_current_action_valid(self, context, action, zone): """"""Is our current action still valid?"""""" # We always allow for DELETE operations. if action == 'DELETE': return True try: zone = self.storage.get_zone(context, zone.id) # If the zone is either in a DELETE or NONE state, # we don't need to continue with the current action. if zone.action in ['DELETE', 'NONE']: LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s action state has changed ' 'to %(current_action)s, not retrying action', { 'action': action, 'zone_name': zone.name, 'zone_id': zone.id, 'current_action': zone.action, } ) return False except exceptions.ZoneNotFound: if action != 'CREATE': LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s Error=ZoneNotFound', { 'action': action, 'zone_name': zone.name, 'zone_id': zone.id, } ) return False except Exception as e: LOG.warning( 'Error trying to get zone action. Error=%(error)s', { 'error': str(e), } ) return True ",,155,11
openstack%2Fneutron~stable%2Fyoga~Ie195ad596fd148708fc30946bde964d52444afee,openstack/neutron,stable/yoga,Ie195ad596fd148708fc30946bde964d52444afee,Add retry for privsep get_link_devices,MERGED,2022-04-13 11:25:36.000000000,2022-06-01 21:48:01.000000000,2022-06-01 21:46:23.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 11:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abe11b7c7f0091a45e485da3d003f74914afe73a', 'message': 'Add retry for privsep get_link_devices\n\npyroute 0.6.6 introduced a new exception NetlinkDumpInterrupted which\nis raised when NLM_F_DUMP_INTR is set in the flags during dump of\ndevices.\nThe suggestion from pyroute developers is to retry in case of this\nexception (see [1]).\n\n[1]: https://github.com/svinota/pyroute2/issues/874#issuecomment-1063139555\n\nCloses-Bug: #1962608\n\nChange-Id: Ie195ad596fd148708fc30946bde964d52444afee\n(cherry picked from commit 74a9e832d790f659eb10b22ba0428b60733d384e)\n'}, {'number': 2, 'created': '2022-04-21 09:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcce4f2c0d9b46aedb61f8c2afea2fb3db5e7ab6', 'message': 'Add retry for privsep get_link_devices\n\npyroute 0.6.6 introduced a new exception NetlinkDumpInterrupted which\nis raised when NLM_F_DUMP_INTR is set in the flags during dump of\ndevices.\nThe suggestion from pyroute developers is to retry in case of this\nexception (see [1]).\n\n[1]: https://github.com/svinota/pyroute2/issues/874#issuecomment-1063139555\n\nCloses-Bug: #1962608\n\nChange-Id: Ie195ad596fd148708fc30946bde964d52444afee\n(cherry picked from commit 74a9e832d790f659eb10b22ba0428b60733d384e)\n'}, {'number': 3, 'created': '2022-05-16 13:41:00.000000000', 'files': ['requirements.txt', 'neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/541d1fc9e62df9f15fe003735c63f98a0a0432c3', 'message': 'Add retry for privsep get_link_devices\n\npyroute 0.6.6 introduced a new exception NetlinkDumpInterrupted which\nis raised when NLM_F_DUMP_INTR is set in the flags during dump of\ndevices.\nThe suggestion from pyroute developers is to retry in case of this\nexception (see [1]).\n\n[1]: https://github.com/svinota/pyroute2/issues/874#issuecomment-1063139555\n\nCloses-Bug: #1962608\n\nChange-Id: Ie195ad596fd148708fc30946bde964d52444afee\n(cherry picked from commit 74a9e832d790f659eb10b22ba0428b60733d384e)\n'}]",4,837681,541d1fc9e62df9f15fe003735c63f98a0a0432c3,28,5,3,8313,,,0,"Add retry for privsep get_link_devices

pyroute 0.6.6 introduced a new exception NetlinkDumpInterrupted which
is raised when NLM_F_DUMP_INTR is set in the flags during dump of
devices.
The suggestion from pyroute developers is to retry in case of this
exception (see [1]).

[1]: https://github.com/svinota/pyroute2/issues/874#issuecomment-1063139555

Closes-Bug: #1962608

Change-Id: Ie195ad596fd148708fc30946bde964d52444afee
(cherry picked from commit 74a9e832d790f659eb10b22ba0428b60733d384e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/837681/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'lower-constraints.txt', 'neutron/privileged/agent/linux/ip_lib.py']",4,abe11b7c7f0091a45e485da3d003f74914afe73a,bug/1962608-stable/yoga,"import tenacity@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)@tenacity.retry( retry=tenacity.retry_if_exception_type( netlink_exceptions.NetlinkDumpInterrupted), wait=tenacity.wait_exponential(multiplier=0.02, max=1), stop=tenacity.stop_after_delay(8), reraise=True)",,59,3
openstack%2Fansible-collections-openstack~master~I92668b37d42db758e2bae8e791357b72c131a899,openstack/ansible-collections-openstack,master,I92668b37d42db758e2bae8e791357b72c131a899,Changed our DevStack based Zuul CI jobs to voting,MERGED,2022-06-01 18:45:02.000000000,2022-06-01 21:10:52.000000000,2022-06-01 21:10:52.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-06-01 18:45:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a9fa496ebe6fec56f01fd657aadfe6d7321269e9', 'message': 'Changed our DevStack based Zuul CI jobs to voting\n\nKeep jobs with devel branch of Ansible non-voting to prevent\nAnsible from blocking our Zuul CI gates.\n\nChange-Id: I92668b37d42db758e2bae8e791357b72c131a899\n'}]",0,844328,a9fa496ebe6fec56f01fd657aadfe6d7321269e9,6,3,1,32962,,,0,"Changed our DevStack based Zuul CI jobs to voting

Keep jobs with devel branch of Ansible non-voting to prevent
Ansible from blocking our Zuul CI gates.

Change-Id: I92668b37d42db758e2bae8e791357b72c131a899
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/28/844328/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a9fa496ebe6fec56f01fd657aadfe6d7321269e9,voting, # non-voting because we can't prevent ansible devel from breaking us, voting: false # OpenStack SDK 1.*.* has not been released to PyPI yet voting: false voting: false voting: false voting: false voting: false,1,7
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Iba427d1852e56aaafc394c8265d3d1f28ca9574b,openstack/ansible-collections-openstack,stable/1.0.0,Iba427d1852e56aaafc394c8265d3d1f28ca9574b,Changed our DevStack based Zuul CI jobs to voting,MERGED,2022-06-01 18:51:00.000000000,2022-06-01 20:28:35.000000000,2022-06-01 20:28:35.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-06-01 18:51:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/620956c61dc4de40356406457b7816e40cb39f86', 'message': 'Changed our DevStack based Zuul CI jobs to voting\n\nKeep jobs with devel branch of Ansible non-voting to prevent\nAnsible from blocking our Zuul CI gates.\n\nChange-Id: Iba427d1852e56aaafc394c8265d3d1f28ca9574b\n'}]",0,844330,620956c61dc4de40356406457b7816e40cb39f86,6,3,1,32962,,,0,"Changed our DevStack based Zuul CI jobs to voting

Keep jobs with devel branch of Ansible non-voting to prevent
Ansible from blocking our Zuul CI gates.

Change-Id: Iba427d1852e56aaafc394c8265d3d1f28ca9574b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/30/844330/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,620956c61dc4de40356406457b7816e40cb39f86,,, voting: false,0,1
openstack%2Fansible-collections-openstack~master~Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2,openstack/ansible-collections-openstack,master,Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2,Correctly build params dict in recordset,MERGED,2022-06-01 03:08:09.000000000,2022-06-01 20:09:19.000000000,2022-06-01 20:09:19.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-06-01 03:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/461e1c5ea39c55fc365ac2f444ca77b6e13216d2', 'message': 'Correctly build params dict in recordset\n\nChange-Id: Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2\n'}, {'number': 2, 'created': '2022-06-01 05:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/53feb12c79f8741e2dd2252de60cec1f46ca81b5', 'message': 'Correctly build params dict in recordset\n\nChange-Id: Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2\n'}, {'number': 3, 'created': '2022-06-01 12:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f44fb7e7bc628ff6c6b3b7183dce1a4b63a08fc5', 'message': 'Correctly build params dict in recordset\n\nChange-Id: Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2\n'}, {'number': 4, 'created': '2022-06-01 14:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c0007a4704f408c3027a4108e3b1d922f35dffeb', 'message': 'Correctly build params dict in recordset\n\nChange-Id: Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2\n'}, {'number': 5, 'created': '2022-06-01 18:22:25.000000000', 'files': ['plugins/modules/recordset.py', 'ci/roles/recordset/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d6cdad2c429920ddd769a08e87f4e3eec444c742', 'message': 'Correctly build params dict in recordset\n\nChange If8fda40780050d271c9d869d8959ef569644fd88 unintentionally broke\nour integration tests. This patch fixes the code and tests to make\neverything pass again.\n\nChange-Id: Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2\n'}]",0,844178,d6cdad2c429920ddd769a08e87f4e3eec444c742,17,3,5,34208,,,0,"Correctly build params dict in recordset

Change If8fda40780050d271c9d869d8959ef569644fd88 unintentionally broke
our integration tests. This patch fixes the code and tests to make
everything pass again.

Change-Id: Ief8d1f9e1eec13a2d435e96a0d70e31a2b4431f2
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/78/844178/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/recordset.py'],1,461e1c5ea39c55fc365ac2f444ca77b6e13216d2,," if k not in recordset: return True 'description': description, 'records': records, 'type': recordset_type.upper(), 'ttl': ttl,"," description: description, records: records, type: recordset_type.upper(), ttl: ttl,",6,4
openstack%2Fswift~master~I82447bf9b2883c16b6e32f92179fc496f4e86dea,openstack/swift,master,I82447bf9b2883c16b6e32f92179fc496f4e86dea,object-replicator: Remove some dead code,MERGED,2022-05-31 20:15:05.000000000,2022-06-01 19:42:06.000000000,2022-06-01 19:40:52.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 20:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b220da5170adeb65f1f1f070d3f4cd4031e55412', 'message': 'object-replicator: Remove some dead code\n\nNothing ever looked at ObjectReplicator.my_replication_ips, so just pull\nthe ring-loading side-effect down into replicate().\n\nChange-Id: I82447bf9b2883c16b6e32f92179fc496f4e86dea\n'}, {'number': 2, 'created': '2022-06-01 17:44:18.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/888142960ef4136c53260f926edfb983adcad81a', 'message': 'object-replicator: Remove some dead code\n\nNothing ever looked at ObjectReplicator.my_replication_ips, and only one\ntest was depending on the ring-loading side-effect down into replicate().\n\nSo we can just fix the test and rip it out.\n\nChange-Id: I82447bf9b2883c16b6e32f92179fc496f4e86dea\n'}]",3,844128,888142960ef4136c53260f926edfb983adcad81a,13,4,2,15343,,,0,"object-replicator: Remove some dead code

Nothing ever looked at ObjectReplicator.my_replication_ips, and only one
test was depending on the ring-loading side-effect down into replicate().

So we can just fix the test and rip it out.

Change-Id: I82447bf9b2883c16b6e32f92179fc496f4e86dea
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/844128/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/replicator.py'],1,b220da5170adeb65f1f1f070d3f4cd4031e55412,, for policy in self.policies: self.load_object_ring(policy), def _get_my_replication_ips(self): my_replication_ips = set() ips = whataremyips() for policy in self.policies: self.load_object_ring(policy) for local_dev in [dev for dev in policy.object_ring.devs if dev and dev['replication_ip'] in ips and dev['replication_port'] == self.port]: my_replication_ips.add(local_dev['replication_ip']) return list(my_replication_ips) self.my_replication_ips = self._get_my_replication_ips(),2,12
