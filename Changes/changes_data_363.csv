id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fmonasca-api~master~I52d36fad846637baf10516f5cbbedc541d4c2064,openstack/monasca-api,master,I52d36fad846637baf10516f5cbbedc541d4c2064,Merge monasca-common code into the monasca-api,MERGED,2019-04-09 11:54:05.000000000,2019-08-05 15:01:23.000000000,2019-08-05 15:01:23.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2019-04-09 11:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/07bc77cc43422a6a007bf19ea17bafdec147ef80', 'message': '[WIP] Merge Monasca common Python code into the Monasca API\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 2, 'created': '2019-04-09 13:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/52c5ace256391da08b9b3f331521f84fbff4873a', 'message': '[WIP] Merge Monasca common Python code into the Monasca API\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 3, 'created': '2019-05-20 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/e0215c76c3f3a1c53141eca9512e1e4f2aea1d80', 'message': '[WIP] Merge Monasca common Python code into the Monasca API\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 4, 'created': '2019-06-05 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d25bcb3904c570b941862360ccbfeafa511edfd0', 'message': '[WIP] Merge Monasca common Python code into the Monasca API\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 5, 'created': '2019-07-09 11:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/899c01952955ef96794de1dc29ddfcecabccc653', 'message': '[WIP] Merge Monasca common Python code into the Monasca API\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 6, 'created': '2019-07-09 12:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1eee055c28f9d67ccc7021173e3bc70121250b1d', 'message': 'Merge monasca-common code into the monasca-api\n\nThis change copies the code from monasca-common used by the 3\nmonasca APIs into monasca-api for the Merge-APIs target.\n\nAfter mergin the APIs the duplicated code can be removed from\nmonasca-common.\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 7, 'created': '2019-07-12 12:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c1542207653be94cfd086b8705e72341a08cac66', 'message': 'Merge monasca-common code into the monasca-api\n\nThis change copies the code from monasca-common used by the 3\nmonasca APIs into monasca-api for the Merge-APIs target.\n\nAfter mergin the APIs the duplicated code can be removed from\nmonasca-common.\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 8, 'created': '2019-07-26 11:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a8bb5582d8bd67c73e93af7c171fb75504f88bcd', 'message': 'Merge monasca-common code into the monasca-api\n\nThis change copies the code from monasca-common used by the 3\nmonasca APIs into monasca-api for the Merge-APIs target.\n\nAfter mergin the APIs the duplicated code can be removed from\nmonasca-common.\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}, {'number': 9, 'created': '2019-07-26 12:09:49.000000000', 'files': ['monasca_api/api/core/request_context.py', 'monasca_api/tests/test_alarm_expression.py', 'monasca_api/common/policy/i18n.py', 'monasca_api/v2/reference/helpers.py', 'test-requirements.txt', 'monasca_api/tests/test_policy.py', 'monasca_api/tests/test_helpers.py', 'monasca_api/common/rest/exceptions.py', 'monasca_api/tests/policy/base.py', 'lower-constraints.txt', 'monasca_api/common/policy/__init__.py', 'monasca_api/common/repositories/cassandra/metrics_repository.py', 'monasca_api/tests/test_rest.py', 'monasca_api/common/messaging/message_formats/metrics.py', 'monasca_api/common/policy/policy_engine.py', 'monasca_api/common/rest/__init__.py', 'monasca_api/tests/base.py', 'monasca_api/tests/policy/test_policy.py', 'monasca_api/common/repositories/influxdb/metrics_repository.py', 'monasca_api/tests/policy/__init__.py', 'monasca_api/api/core/request.py', 'monasca_api/common/rest/utils.py', 'monasca_api/tests/test_request.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/2485e39b53e7fda71e3bf95304d9a25bb297b0eb', 'message': 'Merge monasca-common code into the monasca-api\n\nThis change copies the code from monasca-common used by the 3\nmonasca APIs into monasca-api for the Merge-APIs target.\n\nAfter mergin the APIs the duplicated code can be removed from\nmonasca-common.\n\nChange-Id: I52d36fad846637baf10516f5cbbedc541d4c2064\nStory: 2003881\nTask: 30427\n'}]",0,651208,2485e39b53e7fda71e3bf95304d9a25bb297b0eb,35,4,9,28062,,,0,"Merge monasca-common code into the monasca-api

This change copies the code from monasca-common used by the 3
monasca APIs into monasca-api for the Merge-APIs target.

After mergin the APIs the duplicated code can be removed from
monasca-common.

Change-Id: I52d36fad846637baf10516f5cbbedc541d4c2064
Story: 2003881
Task: 30427
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/08/651208/9 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/api/core/request_context.py', 'monasca_api/common/policy/i18n.py', 'monasca_api/v2/reference/helpers.py', 'monasca_api/tests/test_policy.py', 'monasca_api/tests/test_helpers.py', 'monasca_api/common/rest/exceptions.py', 'monasca_api/common/policy/__init__.py', 'monasca_api/common/repositories/cassandra/metrics_repository.py', 'monasca_api/tests/test_healthchecks.py', 'monasca_api/tests/test_rest.py', 'monasca_api/common/messaging/message_formats/metrics.py', 'monasca_api/common/policy/policy_engine.py', 'monasca_api/common/rest/__init__.py', 'monasca_api/tests/base.py', 'monasca_api/common/repositories/influxdb/metrics_repository.py', 'monasca_api/api/core/request.py', 'monasca_api/common/rest/utils.py', 'monasca_api/tests/test_request.py']",18,07bc77cc43422a6a007bf19ea17bafdec147ef80,merge-apis,from monasca_api.common.policy import policy_engine as policy,from monasca_common.policy import policy_engine as policy,540,11
openstack%2Fpuppet-openstack_spec_helper~master~Ifcac7c26abe43583f05212dc88fb5d4f4f4df935,openstack/puppet-openstack_spec_helper,master,Ifcac7c26abe43583f05212dc88fb5d4f4f4df935,Remove non-voting jobs from gate,MERGED,2019-08-03 07:58:44.000000000,2019-08-05 14:58:01.000000000,2019-08-05 14:58:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 07:58:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/38c759598239c43db86404297d353321cfdb1130', 'message': ""Remove non-voting jobs from gate\n\nNon-voting jobs just waste resources when run in the gate queue since\nthey do not block anything and don't get reviewed. Remove them, they\nshould not be in here.\n\nChange-Id: Ifcac7c26abe43583f05212dc88fb5d4f4f4df935\n""}]",0,674442,38c759598239c43db86404297d353321cfdb1130,7,3,1,6547,,,0,"Remove non-voting jobs from gate

Non-voting jobs just waste resources when run in the gate queue since
they do not block anything and don't get reviewed. Remove them, they
should not be in here.

Change-Id: Ifcac7c26abe43583f05212dc88fb5d4f4f4df935
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/42/674442/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,38c759598239c43db86404297d353321cfdb1130,non-voting-gate,, gate: jobs: - puppet-openstack-libraries-puppet-beaker-rspec-ubuntu-bionic: voting: false,0,4
openstack%2Ftripleo-ansible~master~I963e836e5369a08a59a33bfaa0b4ba078e14d579,openstack/tripleo-ansible,master,I963e836e5369a08a59a33bfaa0b4ba078e14d579,WIP: restore old behavior of container-rm role,ABANDONED,2019-07-13 09:11:32.000000000,2019-08-05 14:49:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-13 09:11:32.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-rm/tasks/tripleo_docker_container_rm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15dc60c412d066606cc7a4821032ac6c7d4fe359', 'message': 'WIP: restore old behavior of container-rm role\n\nChange-Id: I963e836e5369a08a59a33bfaa0b4ba078e14d579\n'}]",0,670689,15dc60c412d066606cc7a4821032ac6c7d4fe359,4,2,1,10969,,,0,"WIP: restore old behavior of container-rm role

Change-Id: I963e836e5369a08a59a33bfaa0b4ba078e14d579
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/670689/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-rm/tasks/tripleo_docker_container_rm.yml'],1,15dc60c412d066606cc7a4821032ac6c7d4fe359,bug/1836145, when: - container_cli == 'podman',,2,0
openstack%2Frpm-packaging~stable%2Fstein~I4055c19b0cfd56d53bbf8078d7040da89a70daac,openstack/rpm-packaging,stable/stein,I4055c19b0cfd56d53bbf8078d7040da89a70daac,oslotest: add compatibility with newer mock versions,MERGED,2019-07-24 13:39:03.000000000,2019-08-05 14:46:42.000000000,2019-08-05 14:46:42.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 13:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0701b512827ae2ac0112777f65718a6920dbdd08', 'message': 'oslotest: add compatibility with newer mock versions\n\nChange-Id: I4055c19b0cfd56d53bbf8078d7040da89a70daac\n'}, {'number': 2, 'created': '2019-08-04 16:07:04.000000000', 'files': ['openstack/oslotest/0001-Stop-testing-mock-functionality.patch', 'openstack/oslotest/oslotest.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d9611dc2f25f3edb814c2910e69130b06b532f00', 'message': 'oslotest: add compatibility with newer mock versions\n\nChange-Id: I4055c19b0cfd56d53bbf8078d7040da89a70daac\n'}]",0,672523,d9611dc2f25f3edb814c2910e69130b06b532f00,12,4,2,6593,,,0,"oslotest: add compatibility with newer mock versions

Change-Id: I4055c19b0cfd56d53bbf8078d7040da89a70daac
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/672523/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslotest/0001-Stop-testing-mock-functionality.patch', 'openstack/oslotest/oslotest.spec.j2']",2,0701b512827ae2ac0112777f65718a6920dbdd08,,# https://review.opendev.org/#/c/672522/ Patch0: 0001-Stop-testing-mock-functionality.patch%autosetup -p1 -n oslotest-%{version},%autosetup -n oslotest-%{version},45,1
openstack%2Frpm-packaging~stable%2Fstein~I9ab57fffa10b81302163fad3ad3125f8769fcab4,openstack/rpm-packaging,stable/stein,I9ab57fffa10b81302163fad3ad3125f8769fcab4,update os-faults to 0.2.1,MERGED,2019-08-04 15:39:30.000000000,2019-08-05 14:46:27.000000000,2019-08-05 14:46:27.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28654}]","[{'number': 1, 'created': '2019-08-04 15:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/54ed4e40978f3f196c31927ee6801f890d274f78', 'message': 'update os-faults to 0.2.1\n\nChange-Id: I9ab57fffa10b81302163fad3ad3125f8769fcab4\n(cherry picked from commit e01d173ce16d9c7ed78dbae55a686a17684f5ddd)\n'}, {'number': 2, 'created': '2019-08-04 16:07:04.000000000', 'files': ['openstack/os-faults/os-faults.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f925de72a7fcc99955108ed1277d689cddf3819c', 'message': 'update os-faults to 0.2.1\n\nChange-Id: I9ab57fffa10b81302163fad3ad3125f8769fcab4\n(cherry picked from commit e01d173ce16d9c7ed78dbae55a686a17684f5ddd)\n'}]",0,674500,f925de72a7fcc99955108ed1277d689cddf3819c,12,6,2,6593,,,0,"update os-faults to 0.2.1

Change-Id: I9ab57fffa10b81302163fad3ad3125f8769fcab4
(cherry picked from commit e01d173ce16d9c7ed78dbae55a686a17684f5ddd)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/674500/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-faults/os-faults.spec.j2'],1,54ed4e40978f3f196c31927ee6801f890d274f78,,{% set upstream_version = upstream_version('0.2.1') %}BuildRequires: {{ py2pkg('oslo.concurrency') }}BuildRequires: {{ py2pkg('stestr') }}Requires: {{ py2pkg('oslo.concurrency') }},{% set upstream_version = upstream_version('0.1.17') %}BuildRequires: {{ py2pkg('testrepository') }},4,2
openstack%2Ftripleo-ansible~master~Iab0933f4ba64cc69dc298c48d1a8aa859067903d,openstack/tripleo-ansible,master,Iab0933f4ba64cc69dc298c48d1a8aa859067903d,Fix molecule reports.html logs capture,MERGED,2019-08-04 13:15:10.000000000,2019-08-05 14:15:53.000000000,2019-08-05 14:15:53.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-04 13:15:10.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/047c6b368a1c2a12af60c7b343c395609b17a655', 'message': 'Fix molecule reports.html logs capture\n\nThis patch removes pytest argument ""-s"" which is actually the shortcut for\n--capture=no.\n\nChange-Id: Iab0933f4ba64cc69dc298c48d1a8aa859067903d\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,674488,047c6b368a1c2a12af60c7b343c395609b17a655,7,6,1,11491,,,0,"Fix molecule reports.html logs capture

This patch removes pytest argument ""-s"" which is actually the shortcut for
--capture=no.

Change-Id: Iab0933f4ba64cc69dc298c48d1a8aa859067903d
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/674488/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/playbooks/run.yml']",2,047c6b368a1c2a12af60c7b343c395609b17a655,,, -s \,2,1
openstack%2Fgovernance~master~I00b67e50fa9cedeaec7b6a0d3486460ec201bf65,openstack/governance,master,I00b67e50fa9cedeaec7b6a0d3486460ec201bf65,propose new voting schedule for u naming,MERGED,2019-08-03 16:17:00.000000000,2019-08-05 13:58:10.000000000,2019-08-05 13:58:09.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 16:17:00.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/5c3725f2e9e1a019132426308ebf68ed901e2712', 'message': ""propose new voting schedule for u naming\n\nWe've obviously missed the dates for the U naming poll, so let's\nupdate the schedule.\n\nChange-Id: I00b67e50fa9cedeaec7b6a0d3486460ec201bf65\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",1,674465,5c3725f2e9e1a019132426308ebf68ed901e2712,13,8,1,2472,,,0,"propose new voting schedule for u naming

We've obviously missed the dates for the U naming poll, so let's
update the schedule.

Change-Id: I00b67e50fa9cedeaec7b6a0d3486460ec201bf65
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/65/674465/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,5c3725f2e9e1a019132426308ebf68ed901e2712,formal-vote,U Tony Breeds 2019-07-01 2019-08-12 2019-08-19 China,U Tony Breeds 2019-07-01 2019-07-29 2019-08-05 China,1,1
openstack%2Fgovernance~master~Iac69ce000f71425acf476816024ed4bb94777780,openstack/governance,master,Iac69ce000f71425acf476816024ed4bb94777780,Sync Sphinx requirement,MERGED,2019-07-19 08:01:40.000000000,2019-08-05 13:58:10.000000000,2019-08-05 13:58:10.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 08:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/aacd5a547582656b5ea1907ed49f9bfc8d8023ad', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Iac69ce000f71425acf476816024ed4bb94777780\n'}, {'number': 2, 'created': '2019-07-29 03:38:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/governance/commit/c3e50690d7fa2915f22b650530f63e71ab8c8a30', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Iac69ce000f71425acf476816024ed4bb94777780\n'}]",0,671672,c3e50690d7fa2915f22b650530f63e71ab8c8a30,15,4,2,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Iac69ce000f71425acf476816024ed4bb94777780
",git fetch https://review.opendev.org/openstack/governance refs/changes/72/671672/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,aacd5a547582656b5ea1907ed49f9bfc8d8023ad,documentation-change,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.5.0,2,1
openstack%2Fpaunch~stable%2Fstein~Ic26c6400590f86d5fd172066f8d8a87802094e2d,openstack/paunch,stable/stein,Ic26c6400590f86d5fd172066f8d8a87802094e2d,"Revert ""Generate addition drop-in dependencies for podman containers""",ABANDONED,2019-08-02 20:27:36.000000000,2019-08-05 13:50:33.000000000,,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-08-02 20:27:36.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/7e9ccec5823a98287f794a2fcdc52a65b8e19e79', 'message': 'Revert ""Generate addition drop-in dependencies for podman containers""\n\nThis reverts commit d105c6e9a21fc70bc5bfdf5a9d9796badb019704.\n\nChange-Id: Ic26c6400590f86d5fd172066f8d8a87802094e2d\nCloses-Bug: #1838814\n'}]",0,674420,7e9ccec5823a98287f794a2fcdc52a65b8e19e79,11,8,1,14985,,,0,"Revert ""Generate addition drop-in dependencies for podman containers""

This reverts commit d105c6e9a21fc70bc5bfdf5a9d9796badb019704.

Change-Id: Ic26c6400590f86d5fd172066f8d8a87802094e2d
Closes-Bug: #1838814
",git fetch https://review.opendev.org/openstack/paunch refs/changes/20/674420/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,7e9ccec5823a98287f794a2fcdc52a65b8e19e79,podman-drop-in,ExecStart=/usr/bin/podman start %(name)s,"DROP_IN_MARKER_FILE = '/etc/sysconfig/podman_drop_in' # If the service depends on other services, it must be stopped # in a specific order. The host can be configured to prevent # systemd from stopping the associated systemd scopes too early, # so make sure to generate the start command accordingly. if (len(cconfig.get('depends_on', [])) > 0 and os.path.exists(DROP_IN_MARKER_FILE)): start_cmd = '/usr/libexec/paunch-start-podman-container %s' % container else: start_cmd = '/usr/bin/podman start %s' % container 'start_cmd': start_cmd,ExecStart=%(start_cmd)s",1,14
openstack%2Fopenstack-ansible-os_cinder~master~I0c8aed4d0608c1f117e1baa1f428875956159ffd,openstack/openstack-ansible-os_cinder,master,I0c8aed4d0608c1f117e1baa1f428875956159ffd,rbd: start using active-active,MERGED,2019-07-22 16:10:50.000000000,2019-08-05 13:45:05.000000000,2019-07-22 22:56:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-22 16:10:50.000000000', 'files': ['releasenotes/notes/enable-active-active-9af1551759468dc8.yaml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/c148d77e29af6faebc1c9b012ae08aed447cd179', 'message': 'rbd: start using active-active\n\nThis patch drops the hacky workaround of using backend_host which\nis not recommended by the Cinder team and instead uses active-active\nRBD which has been implemented since Rocky.\n\nCloses-Bug: #1837403\nChange-Id: I0c8aed4d0608c1f117e1baa1f428875956159ffd\n'}]",0,672078,c148d77e29af6faebc1c9b012ae08aed447cd179,8,3,1,1004,,,0,"rbd: start using active-active

This patch drops the hacky workaround of using backend_host which
is not recommended by the Cinder team and instead uses active-active
RBD which has been implemented since Rocky.

Closes-Bug: #1837403
Change-Id: I0c8aed4d0608c1f117e1baa1f428875956159ffd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/78/672078/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-active-active-9af1551759468dc8.yaml', 'templates/cinder.conf.j2']",2,c148d77e29af6faebc1c9b012ae08aed447cd179,bug/1837403,{% if cinder_backend_rbd_inuse | bool %} cluster = ceph {% endif %} ,"{% if key == ""volume_driver"" and value == ""cinder.volume.drivers.rbd.RBDDriver"" %} backend_host=""rbd:volumes"" {% endif %}",16,3
openstack%2Fstorlets~master~I41d1cd6ac4a2326280c96d99ae1a3c243946d4c2,openstack/storlets,master,I41d1cd6ac4a2326280c96d99ae1a3c243946d4c2,Make sure to close Output stream,MERGED,2019-05-02 06:12:12.000000000,2019-08-05 13:38:02.000000000,2019-08-05 13:38:02.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 06:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1dc8196542beb0454c62f4b52fc94d30eb92ad38', 'message': 'Make sure to close Output stream\n\nThere are some tasks in current SDaemon where we miss to close\noutput stream after writing contents to it.\nThis patch makes sure that we close all unnecessory output stream\nat the end.\n\nChange-Id: I41d1cd6ac4a2326280c96d99ae1a3c243946d4c2\n'}, {'number': 2, 'created': '2019-05-02 06:22:40.000000000', 'files': ['src/java/SDaemon/src/main/org/openstack/storlet/daemon/SHaltTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SAbstractTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SExecutionTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SCancelTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SDescriptorTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SPingTask.java'], 'web_link': 'https://opendev.org/openstack/storlets/commit/dbf7da58b2316c4f2c1a37437c651d2a92626e5a', 'message': 'Make sure to close Output stream\n\nThere are some tasks in current SDaemon where we miss to close\noutput stream after writing contents to it.\nThis patch makes sure that we close all unnecessory output stream\nat the end.\n\nChange-Id: I41d1cd6ac4a2326280c96d99ae1a3c243946d4c2\n'}]",0,656737,dbf7da58b2316c4f2c1a37437c651d2a92626e5a,7,3,2,9816,,,0,"Make sure to close Output stream

There are some tasks in current SDaemon where we miss to close
output stream after writing contents to it.
This patch makes sure that we close all unnecessory output stream
at the end.

Change-Id: I41d1cd6ac4a2326280c96d99ae1a3c243946d4c2
",git fetch https://review.opendev.org/openstack/storlets refs/changes/37/656737/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/java/SDaemon/src/main/org/openstack/storlet/daemon/SHaltTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SAbstractTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SExecutionTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SCancelTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SDescriptorTask.java', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SPingTask.java']",6,1dc8196542beb0454c62f4b52fc94d30eb92ad38,javasdaemon, * this.sOut_.close();, * ,9,6
openstack%2Frally-openstack~master~Ie2a84f19959d5dc20d170063614540c9ccaac2bf,openstack/rally-openstack,master,Ie2a84f19959d5dc20d170063614540c9ccaac2bf,DNM: test new ci test,ABANDONED,2019-07-30 20:08:10.000000000,2019-08-05 13:21:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-30 20:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/63fb5a3174c31eb51f60dbc3e15471a33a56ce72', 'message': 'DNM: test new ci test\n\nChange-Id: Ie2a84f19959d5dc20d170063614540c9ccaac2bf\n'}, {'number': 2, 'created': '2019-07-31 14:51:44.000000000', 'files': ['.zuul.d/rally-task-barbican.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/60d9ceef66a3c725967e45685ea42abc837e9561', 'message': 'DNM: test new ci test\n\nChange-Id: Ie2a84f19959d5dc20d170063614540c9ccaac2bf\n'}]",0,673673,60d9ceef66a3c725967e45685ea42abc837e9561,5,1,2,9545,,,0,"DNM: test new ci test

Change-Id: Ie2a84f19959d5dc20d170063614540c9ccaac2bf
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/73/673673/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/rally-task-barbican.yaml'],1,63fb5a3174c31eb51f60dbc3e15471a33a56ce72,zuul_jobs, rally_task: rally-jobs/barbican-foo.yaml, rally_task: rally-jobs/barbican.yaml,1,1
openstack%2Fheat-dashboard~master~I2872f47331515618c34d1511581ab8280dbde78d,openstack/heat-dashboard,master,I2872f47331515618c34d1511581ab8280dbde78d,Imported Translations from Zanata,MERGED,2019-08-05 09:16:10.000000000,2019-08-05 13:19:06.000000000,2019-08-05 13:19:05.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-05 09:16:10.000000000', 'files': ['heat_dashboard/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/a6eb65c0afac2eabf8b7f3bfde76d8f356a3d241', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2872f47331515618c34d1511581ab8280dbde78d\n'}]",0,674557,a6eb65c0afac2eabf8b7f3bfde76d8f356a3d241,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2872f47331515618c34d1511581ab8280dbde78d
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/57/674557/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/locale/ru/LC_MESSAGES/django.po'],1,a6eb65c0afac2eabf8b7f3bfde76d8f356a3d241,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2019. #zanata""Project-Id-Version: heat-dashboard VERSION\n""""POT-Creation-Date: 2019-08-05 05:22+0000\n""""PO-Revision-Date: 2019-08-05 09:10+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n""""X-Generator: Zanata 4.3.3\n""#, python-format msgid ""%(resource_status)s: %(resource_status_reason)s"" msgstr ""%(resource_status)s: %(resource_status_reason)s"" #, python-format msgid ""%(stack_status_title)s: %(stack_status_reason)s"" msgstr ""%(stack_status_title)s: %(stack_status_reason)s"" msgstr ""Внешняя (HTTP) ссылка для скачивания образа."" msgid ""Attributes"" msgstr ""Аттрибуты""msgid ""Close"" msgstr ""Закрыть"" msgid ""Disabled"" msgstr ""Выключен"" msgid ""Enabled"" msgstr ""Включен"" msgid ""Last Updated"" msgstr ""Обновлено"" msgid ""Launch Parameters"" msgstr ""Параметры запуска"" msgid ""Links"" msgstr ""Ссылки"" msgid ""Minutes"" msgstr ""Минуты"" msgstr ""Имя создаваемого стека.""msgid ""Outputs"" msgstr ""Вывод"" msgid ""Parameters"" msgstr ""Параметры"" msgid ""Preview a new stack with the provided values."" msgstr ""Предварительный просмотр стека с предоставленными значениями."" msgid ""Properties"" msgstr ""Свойства"" msgid ""Resource ID"" msgstr ""ID ресурса"" msgid ""Resource Metadata"" msgstr ""Метаданные ресурса"" msgid ""Rollback"" msgstr ""Откат"" msgstr ""Выберите новый шаблон для предварительного просмотра стека.""msgid ""Stack Parameters"" msgstr ""Параметры стека"" msgid ""Stack Preview"" msgstr ""Предварительный просмотр стека"" msgid ""Stack Resource ID"" msgstr ""ID ресурса стека"" msgid ""Template Generator"" msgstr ""Генератор шаблона"" msgid ""Timeout"" msgstr ""Таймаут"" msgstr ""Не удалось получить детали типа ресурса.""msgstr ""Не удалось получить типы ресурсов стека.""msgid """" ""Update a stack with the provided values. Please note that any encrypted "" ""parameters, such as passwords, will be reset to default if you do not change "" ""them here."" msgstr """" ""Обновить стек с заданными параметрами. Обратите внимание, что любые "" ""зашифрованные параметры, такие как пароли, будут сброшены в значения по "" ""умолчанию, если вы не измените их здесь."" msgid """" ""Use one of the available template source options to specify the template to "" ""be used in creating this stack."" msgstr """" ""Используйте одну из доступных опций источника шаблона для выбора шаблона, "" ""который будет использоваться при создании этого стека."" msgid """" ""Use one of the available template source options to specify the template to "" ""be used in previewing this stack."" msgstr """" ""Используйте одну из доступных опций источника шаблона для выбора шаблона, "" ""который будет использоваться в предварительном просмотре стека."" ","""Project-Id-Version: heat-dashboard 0.0.1.dev938\n""""POT-Creation-Date: 2017-12-07 18:26+0000\n""""PO-Revision-Date: 2017-09-16 08:03+0000\n"" ""Last-Translator: Ilya Alekseyev <ilyaalekseyev@acm.org>\n""""X-Generator: Zanata 3.9.6\n""msgstr ""Внешний (HTTP) URL для скачивания шаблона.""msgstr ""Имя стека для создания.""msgstr ""Выберите новый шаблон для предварительного просмотра стека""msgstr ""Не удалось получить детали типа ресурса""msgstr ""Не удалось получить типы ресурсов стека""",102,10
openstack%2Fovsdbapp~master~I0a8e54b0e61553e5962ccc8030a2e8e9a9d49390,openstack/ovsdbapp,master,I0a8e54b0e61553e5962ccc8030a2e8e9a9d49390,Add commands to set and get LRP options,MERGED,2019-07-19 16:02:22.000000000,2019-08-05 13:05:49.000000000,2019-08-05 13:05:49.000000000,"[{'_account_id': 5756}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-19 16:02:22.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/78de8a6187d3efc6f0712ece6642539d8c7a9f19', 'message': 'Add commands to set and get LRP options\n\nThis patch is adding two new commands:\n\n* lrp_set_options(): To set the ""options"" column for a LRP\n* lrp_get_options(): To get the values of the ""options"" column of a LRP\n\nSince the code is pretty much the same as the equivalent command for LSP\nthis patch attempts to reuse the same command for both.\n\nChange-Id: I0a8e54b0e61553e5962ccc8030a2e8e9a9d49390\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,671765,78de8a6187d3efc6f0712ece6642539d8c7a9f19,8,4,1,6773,,,0,"Add commands to set and get LRP options

This patch is adding two new commands:

* lrp_set_options(): To set the ""options"" column for a LRP
* lrp_get_options(): To get the values of the ""options"" column of a LRP

Since the code is pretty much the same as the equivalent command for LSP
this patch attempts to reuse the same command for both.

Change-Id: I0a8e54b0e61553e5962ccc8030a2e8e9a9d49390
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/65/671765/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,78de8a6187d3efc6f0712ece6642539d8c7a9f19,add-lrp-get-set-options," def test_lrp_get_set_options(self): options = {'one': 'two', 'three': 'four'} lrp = self._lrp_add(None) self.api.lrp_set_options(lrp.uuid, **options).execute( check_error=True) self.assertEqual(options, self.api.lrp_get_options(lrp.uuid).execute( check_error=True)) ",,48,2
openstack%2Fpuppet-pacemaker~master~Iad1193c1df0792dcb7dce2af3575e19e58781ba0,openstack/puppet-pacemaker,master,Iad1193c1df0792dcb7dce2af3575e19e58781ba0,Support for SBD (watchdog only),MERGED,2019-06-03 12:23:02.000000000,2019-08-05 13:03:55.000000000,2019-08-05 13:03:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-06-03 12:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c301ee79a43d6d4734e6b6108d35ce817b7453da', 'message': 'WIP - Support for SBD (watchdog only)\n\nThis commit allow the operators to configure SBD-based fencing.\n\nBecause enabling sbd requires a cluster restart the assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nAn optional watchdog_timeout value (in seconds) can be also specified via:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nIf unset, the default value will be set to 10s.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 2, 'created': '2019-06-03 12:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ebd12c95a5cbd891c362de5750e2c7cc8a7c1341', 'message': 'WIP - Support for SBD (watchdog only)\n\nThis commit allow the operators to configure SBD-based fencing.\n\nBecause enabling sbd requires a cluster restart the assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nAn optional watchdog_timeout value (in seconds) can be also specified via:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nIf unset, the default value will be set to 10s.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 3, 'created': '2019-06-03 12:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ea1d82876704575f3a48125b30cb224e3b2ad3a3', 'message': 'WIP - Support for SBD (watchdog only)\n\nThis commit allow the operators to configure SBD-based fencing.\n\nBecause enabling sbd requires a cluster restart the assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nAn optional watchdog_timeout value (in seconds) can be also specified via:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nIf unset, the default value will be set to 10s.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 4, 'created': '2019-06-03 14:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/1809f3b5d9b3256f45ed1e18f174c498479ae4a5', 'message': 'WIP - Support for SBD (watchdog only)\n\nThis commit allow the operators to configure SBD-based fencing.\n\nBecause enabling sbd requires a cluster restart the assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nAn optional watchdog_timeout value (in seconds) can be also specified via:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nIf unset, the default value will be set to 10s.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 5, 'created': '2019-07-24 05:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ecd9e2a1392cfbe18352c380976ff403d8916dd9', 'message': 'Support for SBD (watchdog only)\n\nThis commit introduces minimal support for SBD-based fencing,\nlimited to watchdog devices (no shared storage).\n\nTargeted use case is operators wanting to employ watchdog as\nN-level stonith mechanism.\n\nBecause sbd requires a cluster restart the (initial) assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nOptionally, the default watchdog_timeout value (10 seconds)\ncan be overridden like:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nThe 10s value is necessary (at least in virtual environments)\nto prevent fencing from happening during the deployment.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 6, 'created': '2019-08-02 08:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/a8653f23da958b9e688ac01b8175eff326086928', 'message': 'Support for SBD (watchdog only)\n\nThis commit introduces minimal support for SBD-based fencing,\nlimited to watchdog devices (no shared storage).\n\nTargeted use case is operators wanting to employ watchdog as\nN-level stonith mechanism.\n\nBecause sbd requires a cluster restart the (initial) assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nOptionally, the default watchdog_timeout value (10 seconds)\ncan be overridden like:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nThe 10s value is necessary (at least in virtual environments)\nto prevent fencing from happening during the deployment.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 7, 'created': '2019-08-02 16:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/5bf38785f6419653f771d16188e3fced5f24b70a', 'message': 'Support for SBD (watchdog only)\n\nThis commit introduces minimal support for SBD-based fencing,\nlimited to watchdog devices (no shared storage).\n\nTargeted use case is operators wanting to employ watchdog as\nN-level stonith mechanism.\n\nBecause sbd requires a cluster restart the (initial) assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nOptionally, the default watchdog_timeout value (10 seconds)\ncan be overridden like:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nThe 10s value is necessary (at least in virtual environments)\nto prevent fencing from happening during the deployment.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}, {'number': 8, 'created': '2019-08-02 16:40:48.000000000', 'files': ['manifests/corosync.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/519c28b163cef8ef21e83d7c177c0936de55e183', 'message': 'Support for SBD (watchdog only)\n\nThis commit introduces minimal support for SBD-based fencing,\nlimited to watchdog devices (no shared storage).\n\nTargeted use case is operators wanting to employ watchdog as\nN-level stonith mechanism.\n\nBecause sbd requires a cluster restart the (initial) assumption\nis that sbd will be enabled at cluster creation time by setting\n""pacemaker::corosync::enable_sbd"" to true.\n\nparameter_defaults:\n  ExtraConfig:\n    pacemaker::corosync::enable_sbd: true\n\nOptionally, the default watchdog_timeout value (10 seconds)\ncan be overridden like:\n\n    pacemaker::corosync::sbd_watchdog_timeout: 20\n\nThe 10s value is necessary (at least in virtual environments)\nto prevent fencing from happening during the deployment.\n\nChange-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0\n'}]",2,662740,519c28b163cef8ef21e83d7c177c0936de55e183,35,6,8,30126,,,0,"Support for SBD (watchdog only)

This commit introduces minimal support for SBD-based fencing,
limited to watchdog devices (no shared storage).

Targeted use case is operators wanting to employ watchdog as
N-level stonith mechanism.

Because sbd requires a cluster restart the (initial) assumption
is that sbd will be enabled at cluster creation time by setting
""pacemaker::corosync::enable_sbd"" to true.

parameter_defaults:
  ExtraConfig:
    pacemaker::corosync::enable_sbd: true

Optionally, the default watchdog_timeout value (10 seconds)
can be overridden like:

    pacemaker::corosync::sbd_watchdog_timeout: 20

The 10s value is necessary (at least in virtual environments)
to prevent fencing from happening during the deployment.

Change-Id: Iad1193c1df0792dcb7dce2af3575e19e58781ba0
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/40/662740/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/corosync.pp', 'manifests/params.pp']",2,c301ee79a43d6d4734e6b6108d35ce817b7453da,," if $enable_sbd { $pcmk_remote_package_list = ['pacemaker','pcs','fence-agents-all','pacemaker-libs', 'pacemaker-remote', 'sbd'] } else { $pcmk_remote_package_list = ['pacemaker','pcs','fence-agents-all','pacemaker-libs', 'pacemaker-remote'] } } "," $pcmk_remote_package_list = ['pacemaker','pcs','fence-agents-all','pacemaker-libs', 'pacemaker-remote'] }",41,9
openstack%2Fmonasca-ui~master~I109662b64e644521065904945d0f80d7c6071cce,openstack/monasca-ui,master,I109662b64e644521065904945d0f80d7c6071cce,[WIP] Add content-type field,ABANDONED,2019-08-05 12:48:40.000000000,2019-08-05 12:52:13.000000000,,[],"[{'number': 1, 'created': '2019-08-05 12:48:40.000000000', 'files': ['monitoring/overview/views.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/78237cb3fd9feee68a10cd1aec75df87270a07ff', 'message': '[WIP] Add content-type field\n\nChange-Id: I109662b64e644521065904945d0f80d7c6071cce\n'}]",0,674596,78237cb3fd9feee68a10cd1aec75df87270a07ff,2,0,1,30221,,,0,"[WIP] Add content-type field

Change-Id: I109662b64e644521065904945d0f80d7c6071cce
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/96/674596/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/overview/views.py'],1,78237cb3fd9feee68a10cd1aec75df87270a07ff,," if not policy.check((('monitoring', 'monitoring:monitoring'),), self.request): ((getattr(settings, 'KIBANA_POLICY_SCOPE'), getattr(settings, 'KIBANA_POLICY_RULE')),), metrics_list(request, **req_kwargs)} metrics_stat_list(request, **req_kwargs)} metrics_measurement_list(request, **req_kwargs)} metrics_dimension_value_list(request, **req_kwargs)} with open('/vagrant_home/files/upgrade/ui-debug.txt', 'a') as file: proxy_request_url = self.get_absolute_url(url) proxy_request = _HttpMethodRequest( method, proxy_request_url, data=data, headers=headers try: response = urllib.request.urlopen(proxy_request) except urllib.error.HTTPError as e: if 'bundle' in proxy_request.get_full_url(): file.write(""data:\n{0}\n"".format(data)) file.write(""headers:\n{0}\n"".format(headers)) file.write(""method: {0}\n"".format(method)) file.write(""proxy_request: {0}\n"".format(proxy_request.get_full_url())) file.write(""error: {0}\n\n"".format(e.read())) return http.HttpResponse( e.read(), status=e.code, content_type=e.hdrs['content-type'] ) except urllib.error.URLError as e: return http.HttpResponse(e.reason, 404) else: status = response.getcode() proxy_response = http.StreamingHttpResponse( proxy_stream_generator(response), status=status, content_type=response.headers['content-type'] ) if 'set-cookie' in response.headers: proxy_response['set-cookie'] = response.headers['set-cookie'] return proxy_response ""X-Auth-Token"": request.user.token.id, ""kbn-version"": request.META.get(""HTTP_KBN_VERSION"", """"), ""Cookie"": request.META.get(""HTTP_COOKIE"", """"), ""Content-Type"": ""application/json"", ""kbn-xsrf"": ""reporting"" ((getattr(settings, 'KIBANA_POLICY_SCOPE'), getattr(settings, 'KIBANA_POLICY_RULE')),),"," if not policy.check((('monitoring', 'monitoring:monitoring'), ), self.request): ((getattr(settings, 'KIBANA_POLICY_SCOPE'), getattr(settings, 'KIBANA_POLICY_RULE')), ), metrics_list(request, **req_kwargs)} metrics_stat_list(request, **req_kwargs)} metrics_measurement_list(request, **req_kwargs)} metrics_dimension_value_list(request, **req_kwargs)} proxy_request_url = self.get_absolute_url(url) proxy_request = _HttpMethodRequest( method, proxy_request_url, data=data, headers=headers ) try: response = urllib.request.urlopen(proxy_request) except urllib.error.HTTPError as e: return http.HttpResponse( e.read(), status=e.code, content_type=e.hdrs['content-type'] except urllib.error.URLError as e: return http.HttpResponse(e.reason, 404) else: status = response.getcode() proxy_response = http.StreamingHttpResponse( proxy_stream_generator(response), status=status, content_type=response.headers['content-type'] ) if 'set-cookie' in response.headers: proxy_response['set-cookie'] = response.headers['set-cookie'] return proxy_response 'X-Auth-Token': request.user.token.id, 'kbn-version': request.META.get('HTTP_KBN_VERSION', ''), 'Cookie': request.META.get('HTTP_COOKIE', '') ((getattr(settings, 'KIBANA_POLICY_SCOPE'), getattr(settings, 'KIBANA_POLICY_RULE')), ),",48,41
openstack%2Fmanila~master~Idfdf9380031cba39bc27da799167ade81ae0dc8e,openstack/manila,master,Idfdf9380031cba39bc27da799167ade81ae0dc8e,Add missing space,MERGED,2019-08-05 07:48:04.000000000,2019-08-05 12:44:10.000000000,2019-08-05 08:08:01.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 07:48:04.000000000', 'files': ['doc/source/admin/shared-file-systems-key-concepts.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/9603287c1074e35906d271cecc96372658296a74', 'message': ""Add missing space\n\nThe first half of the Key concept 'Security Services' display\n format is incorrect because a space is missing. This commit\nAdds one space.\n\nChange-Id: Idfdf9380031cba39bc27da799167ade81ae0dc8e\n""}]",0,674544,9603287c1074e35906d271cecc96372658296a74,13,7,1,23950,,,0,"Add missing space

The first half of the Key concept 'Security Services' display
 format is incorrect because a space is missing. This commit
Adds one space.

Change-Id: Idfdf9380031cba39bc27da799167ade81ae0dc8e
",git fetch https://review.opendev.org/openstack/manila refs/changes/44/674544/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/shared-file-systems-key-concepts.rst'],1,9603287c1074e35906d271cecc96372658296a74,,``Security services`` allow granular client access rules for,``Security services``allow granular client access rules for,1,1
openstack%2Fneutron~master~Id01571cd42cfe9c5ce91e90159917c7d3c963878,openstack/neutron,master,Id01571cd42cfe9c5ce91e90159917c7d3c963878,Remove 'gateway_external_network_id' config option,MERGED,2019-06-19 17:33:53.000000000,2019-08-05 12:40:07.000000000,2019-08-05 12:40:07.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-19 17:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7158dc9ea56bb149f83fb3026b561c26cde9a6af', 'message': ""Remove 'gateway_external_network_id' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed 'external_network_bridge' option from L3 agent's\nconfig so now it's time to remove also this one.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n""}, {'number': 2, 'created': '2019-07-04 21:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c809a77b6698e65a853e7056aa52ddb2e4a5e6e2', 'message': ""Remove 'gateway_external_network_id' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed 'external_network_bridge' option from L3 agent's\nconfig so now it's time to remove also this one.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n""}, {'number': 3, 'created': '2019-07-11 15:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6fb2c46666f932917bc5aace6002f25003cb339', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}, {'number': 4, 'created': '2019-07-11 22:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d55afd6b576944250d63aab9b263db5a5958485f', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}, {'number': 5, 'created': '2019-07-11 22:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd575858285191a4be4719df360d97fa885d6423', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThere is also new upgrade check introduced to check and warn\nusers if gateway_external_network_id was used in the deployment.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}, {'number': 6, 'created': '2019-07-11 22:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7166f480a75996dd7a01f0e71a1afb9a291b5ea9', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThere is also new upgrade check introduced to check and warn\nusers if gateway_external_network_id was used in the deployment.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}, {'number': 7, 'created': '2019-07-11 22:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd3890874e84db5e1655ec6870bc051464663157', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThere is also new upgrade check introduced to check and warn\nusers if gateway_external_network_id was used in the deployment.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}, {'number': 8, 'created': '2019-07-14 10:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02c8f102f2a491b847e9d11b5b51cbad5c303b90', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThere is also new upgrade check introduced to check and warn\nusers if gateway_external_network_id was used in the deployment.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}, {'number': 9, 'created': '2019-07-26 11:23:26.000000000', 'files': ['releasenotes/notes/remove-gateway_external_network_id-config-option-c7aabf2f63004b41.yaml', 'neutron/tests/functional/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/db/l3_db.py', 'neutron/cmd/upgrade_checks/checks.py', 'neutron/agent/l3/agent.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py', 'doc/source/admin/config-az.rst', 'neutron/tests/common/helpers.py', 'neutron/conf/agent/l3/config.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b2e472ae971498016337c7bcedbe9cbbcc434a8', 'message': 'Remove \'gateway_external_network_id\' config option\n\nThis option was deprecated since couple of releases already.\nIn Stein we removed \'external_network_bridge\' option from L3 agent\'s\nconfig so now it\'s time to remove also this one.\n\nThere is also new upgrade check introduced to check and warn\nusers if gateway_external_network_id was used in the deployment.\n\nThis patch also removes method _check_router_needs_rescheduling() from\nneutron/db/l3_db.py module as it is not needed anymore.\n\nThis patch also removes unit tests:\ntest_update_gateway_agent_exists_supporting_network\ntest_update_gateway_agent_exists_supporting_multiple_network\ntest_router_update_gateway_no_eligible_l3_agent\nfrom neutron/tests/unit/extensions/test_l3.py module as those\ntests are not needed when there is no ""gateway_external_network_id""\nconfig option anymore.\n\nChange-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878\n'}]",9,666409,9b2e472ae971498016337c7bcedbe9cbbcc434a8,77,9,9,11975,,,0,"Remove 'gateway_external_network_id' config option

This option was deprecated since couple of releases already.
In Stein we removed 'external_network_bridge' option from L3 agent's
config so now it's time to remove also this one.

There is also new upgrade check introduced to check and warn
users if gateway_external_network_id was used in the deployment.

This patch also removes method _check_router_needs_rescheduling() from
neutron/db/l3_db.py module as it is not needed anymore.

This patch also removes unit tests:
test_update_gateway_agent_exists_supporting_network
test_update_gateway_agent_exists_supporting_multiple_network
test_router_update_gateway_no_eligible_l3_agent
from neutron/tests/unit/extensions/test_l3.py module as those
tests are not needed when there is no ""gateway_external_network_id""
config option anymore.

Change-Id: Id01571cd42cfe9c5ce91e90159917c7d3c963878
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/666409/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/db/l3_db.py', 'doc/source/admin/config-az.rst', 'neutron/tests/common/helpers.py', 'neutron/conf/agent/l3/config.py', 'neutron/db/l3_agentschedulers_db.py']",7,7158dc9ea56bb149f83fb3026b561c26cde9a6af,remove-gateway-external-network-id, if not ex_net_id and not handle_internal_only_routers:," gateway_external_network_id = agent_conf.get( 'gateway_external_network_id', None) if ((not ex_net_id and not handle_internal_only_routers) or (ex_net_id and gateway_external_network_id and ex_net_id != gateway_external_network_id)):",4,45
openstack%2Fironic~master~I73bb6a15599d45548164f6c0e2b634c755add7e0,openstack/ironic,master,I73bb6a15599d45548164f6c0e2b634c755add7e0,Console process alive on other node after taken over,NEW,2019-07-19 02:06:28.000000000,2019-08-05 12:29:18.000000000,,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 21113}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-19 02:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a8c9c70425b00a6ee05b6fa1e0bfe3299af0c93', 'message': ""Ironic serial console process doesn't exit on other conductor node\nafter main conductor take over back the baremetal node\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\n""}, {'number': 2, 'created': '2019-07-20 08:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e502a8bd74f791e9e7643764815c71a983e4c4c', 'message': ""Ironic serial console process doesn't exit on other conductor node\nafter main conductor take over back the baremetal node\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\n""}, {'number': 3, 'created': '2019-07-20 09:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af54d7d29fc6ee185a706e8cdadfac264278ea7d', 'message': ""Ironic serial console process doesn't exit on other conductor node\nafter main conductor take over back the baremetal node\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\nStory: 2006253\nTask: 35868\n""}, {'number': 4, 'created': '2019-07-21 02:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/740a92cee403bce06b59d19ca8e4a763143781d0', 'message': ""Ironic serial console process doesn't exit on other conductor node\nafter main conductor take over back the baremetal node\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\nStory: 2006253\nTask: 35868\n""}, {'number': 5, 'created': '2019-07-23 06:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/08f2003862d259df65f3f5830d74d5a1a32973dd', 'message': 'Console process alive on other node after taken over\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\nStory: 2006253\nTask: 35868\n'}, {'number': 6, 'created': '2019-07-23 06:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6935ea46ed54d13030ad12e78a028d1f1e5449c5', 'message': 'Console process alive on other node after taken over\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n8. Delete instance & node\n9. Create a node & enroll a console with same port\n10. It would throw out ""socat *** Address already in use""\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\nStory: 2006253\nTask: 35868\n'}, {'number': 7, 'created': '2019-07-23 06:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61d5a13ee50dcf468ed7d468fddfa5655585a1cd', 'message': 'Console process alive on other node after taken over\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n8. Delete instance & node\n9. Create a node & enroll a console with same port\n10. It would throw out ""socat *** Address already in use""\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\nStory: 2006253\nTask: 35868\n'}, {'number': 8, 'created': '2019-07-25 03:51:29.000000000', 'files': ['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/conductor/base_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/502603b75345b38a57777c66c4acbe5594596377', 'message': 'Console process alive on other node after taken over\n\nWe have 3 conductor nodes.\n\n1. Enroll an ironic node with socat console interface. Assume the\nironic node was handled by conductor 1.\n2. Create an instance in nova on the ironic node.\n3. Stop openstack-ironic-conductor service on conductor 1.\n4. The ironic node was taken over by conductor 2.\n5. Restart openstack-ironic-conductor service on conductor 1.\n6. The ironic node was token over back by conductor 1.\n7. The socat process was still running on conductor 2 node.\n8. Delete instance & node\n9. Create a node & enroll a console with same port\n10. It would throw out ""socat *** Address already in use""\n\nChange-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0\nStory: 2006253\nTask: 35868\n'}]",7,671646,502603b75345b38a57777c66c4acbe5594596377,34,9,8,21113,,,0,"Console process alive on other node after taken over

We have 3 conductor nodes.

1. Enroll an ironic node with socat console interface. Assume the
ironic node was handled by conductor 1.
2. Create an instance in nova on the ironic node.
3. Stop openstack-ironic-conductor service on conductor 1.
4. The ironic node was taken over by conductor 2.
5. Restart openstack-ironic-conductor service on conductor 1.
6. The ironic node was token over back by conductor 1.
7. The socat process was still running on conductor 2 node.
8. Delete instance & node
9. Create a node & enroll a console with same port
10. It would throw out ""socat *** Address already in use""

Change-Id: I73bb6a15599d45548164f6c0e2b634c755add7e0
Story: 2006253
Task: 35868
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/671646/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/conductor/base_manager.py']",3,8a8c9c70425b00a6ee05b6fa1e0bfe3299af0c93,story-2006253," def all_nodes(self, fields=None, **kwargs): columns = ['uuid', 'driver'] + list(fields or ()) node_list = self.dbapi.get_nodeinfo_list(columns=columns, **kwargs) return node_list ",,26,0
openstack%2Ftripleo-common~master~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,master,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-04 00:51:38.000000000,2019-08-05 12:09:20.000000000,2019-08-05 11:38:47.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-04 00:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5091d87e305053af15106a17c24d3b0414ea6526', 'message': ""Fix expensive api call to get deployment_name\n\nWe filter all resources for overcloud root stack with a\nnon-indexed field 'physical_resource_id' (nova_instance).\nThis is very inefficient.\n\nAfter this, though there would still be heat api calls\nfor every deployment, it won't be so expensive.\n\nChange-Id: I260501e6061c0d6652b22504e7284940b2c64709\nCloses-Bug: #1838861\n""}, {'number': 2, 'created': '2019-08-04 04:00:32.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3df3719e82bedb0a167d5b981668403e2bd4e316', 'message': ""Fix expensive api call to get deployment_name\n\nWe filter all resources for overcloud root stack with a\nnon-indexed field 'physical_resource_id' (nova_instance).\nThis is very inefficient.\n\nWith this patch, though there would still be making heat api\ncalls for every deployment, it won't be so expensive.\n\nChange-Id: I260501e6061c0d6652b22504e7284940b2c64709\nCloses-Bug: #1838861\n""}]",4,674476,3df3719e82bedb0a167d5b981668403e2bd4e316,22,5,2,8833,,,0,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/76/674476/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,5091d87e305053af15106a17c24d3b0414ea6526,," grand_parent_stack = self.client.stacks.get( parent_stack, resolve_outputs=False).parent grand_parent_stack,"," name, nested_depth=constants.NESTED_DEPTH,",3,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,openstack/tripleo-heat-templates,stable/stein,I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,Generate addition drop-in dependencies for podman containers,MERGED,2019-08-01 17:11:37.000000000,2019-08-05 12:07:58.000000000,2019-08-02 15:15:36.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 17:11:37.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cf066490e1a0527f41d3af7675b6479e5458f9c', 'message': 'Generate addition drop-in dependencies for podman containers\n\nAdding a new parameter: SystemdDropInDependencies (true by default).\nWhich when set to True will create /etc/sysconfig/podman_drop_in on the\nhost; to tell paunch to use paunch-start-podman-container script to\nstart the containers.\n\nThis file makes paunch generate additional systemd\ndependencies for containers that have special\nstart/stop ordering constraints. It ensures that\nthose constraints are enforced on reboot/shutdown.\n\nCloses-Bug: #1838668\nDepends-On: Idaf5d4871ad1231f2592238a7925857af8f40548\nChange-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32\n(manually cherry picked from commit a06cc5f93f79d8dc0f65f1f42f4277310e2e24cb)\n'}]",0,674094,0cf066490e1a0527f41d3af7675b6479e5458f9c,14,5,1,20778,,,0,"Generate addition drop-in dependencies for podman containers

Adding a new parameter: SystemdDropInDependencies (true by default).
Which when set to True will create /etc/sysconfig/podman_drop_in on the
host; to tell paunch to use paunch-start-podman-container script to
start the containers.

This file makes paunch generate additional systemd
dependencies for containers that have special
start/stop ordering constraints. It ensures that
those constraints are enforced on reboot/shutdown.

Closes-Bug: #1838668
Depends-On: Idaf5d4871ad1231f2592238a7925857af8f40548
Change-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32
(manually cherry picked from commit a06cc5f93f79d8dc0f65f1f42f4277310e2e24cb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/674094/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,0cf066490e1a0527f41d3af7675b6479e5458f9c,podman-drop-in, SystemdDropInDependencies: default: true description: tell the container manager (e.g. paunch) to inject additional ordering dependencies for the systemd scopes associated to podman containers. type: boolean systemd_drop_in_dependencies_enabled: {get_param: SystemdDropInDependencies} - if: - systemd_drop_in_dependencies_enabled - - name: Configure paunch to generate systemd drop-in dependencies copy: dest: /etc/sysconfig/podman_drop_in content: | This file makes paunch generate additional systemd dependencies for containers that have special start/stop ordering constraints. It ensures that those constraints are enforced on reboot/shutdown. - - name: Configure paunch to not generate drop-in dependencies file: path: /etc/sysconfig/podman_drop_in state: absent ,,22,0
openstack%2Fdevstack~stable%2Fstein~Ia703af54a7131843fc2b0ae34efcfe0f5507acbf,openstack/devstack,stable/stein,Ia703af54a7131843fc2b0ae34efcfe0f5507acbf,Fix quoting for devstack_localrc arguments,MERGED,2019-08-01 08:27:10.000000000,2019-08-05 11:54:50.000000000,2019-08-05 11:54:50.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 08:27:10.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2e1393621a4d4321e5437b63d6ac97011f089c45', 'message': 'Fix quoting for devstack_localrc arguments\n\nThis is a combination of the following commits:\n- ""Quote devstack_localrc arguments""\n  https://review.opendev.org/636078\n  Ia63a53d745dfea7262bcdb5d46425f431c3ccfe5\n- ""Fix double quoting issue when writing localconf""\n  https://review.opendev.org/648951\n  I92146e04731efc6dcc632ae6c3a7c374e783cdba\n\nThey have been merged together because the first commit introduces\na bug, and it looks a bit pointless to deliberately introduce\na potentially breaking change on the process of backporting a fix.\n\nCo-Authored-By: Ian Wienand <iwienand@redhat.com>\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\n\nChange-Id: Ia703af54a7131843fc2b0ae34efcfe0f5507acbf\n'}]",0,673954,2e1393621a4d4321e5437b63d6ac97011f089c45,7,3,1,10459,,,0,"Fix quoting for devstack_localrc arguments

This is a combination of the following commits:
- ""Quote devstack_localrc arguments""
  https://review.opendev.org/636078
  Ia63a53d745dfea7262bcdb5d46425f431c3ccfe5
- ""Fix double quoting issue when writing localconf""
  https://review.opendev.org/648951
  I92146e04731efc6dcc632ae6c3a7c374e783cdba

They have been merged together because the first commit introduces
a bug, and it looks a bit pointless to deliberately introduce
a potentially breaking change on the process of backporting a fix.

Co-Authored-By: Ian Wienand <iwienand@redhat.com>
Co-Authored-By: Jens Harbott <j.harbott@x-ion.de>

Change-Id: Ia703af54a7131843fc2b0ae34efcfe0f5507acbf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/673954/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py']",2,2e1393621a4d4321e5437b63d6ac97011f089c45,," self.assertEqual('""oslo.db""', lfg) def test_avoid_double_quote(self): ""Test that there a no duplicated quotes"" localrc = {'TESTVAR': '""quoted value""'} p = dict(localrc=localrc, base_services=[], base_dir='./test', path=os.path.join(self.tmpdir, 'test.local.conf'), projects={}) lc = self._init_localconf(p) lc.write(p['path']) testvar = None with open(p['path']) as f: for line in f: if line.startswith('TESTVAR'): testvar = line.strip().split('=')[1] self.assertEqual('""quoted value""', testvar) self.assertEqual('""someplugin""', tp)"," self.assertEqual('oslo.db', lfg) self.assertEqual('someplugin', tp)",25,3
openstack%2Fnova~master~I4ee821cba7cd23f0db9dc2c2c83c78ef5e70ad7b,openstack/nova,master,I4ee821cba7cd23f0db9dc2c2c83c78ef5e70ad7b,Add the support of CPU feature 'AVX512-VNNI',MERGED,2019-07-30 10:52:34.000000000,2019-08-05 11:54:46.000000000,2019-08-05 11:54:46.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-30 10:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2420e742df50e67a409fb69bc5fd9ffa5d4d6a9', 'message': ""Add the support of CPU feature 'AVX512-VNNI'\n\n'AVX512-VNNI' is the instruction set for vector neural network\ninstructions supported since CascadeLake CPU. Enabling this\nCPU feature in Nova.\n\nDepends-On: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256\nChange-Id: I4ee821cba7cd23f0db9dc2c2c83c78ef5e70ad7b\n""}, {'number': 2, 'created': '2019-08-02 09:34:01.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/866ca1468dfa35f319f520d0f7b93b2d0fe32f62', 'message': ""Add the support of CPU feature 'AVX512-VNNI'\n\n'AVX512-VNNI' is the instruction set for vector neural network\ninstructions supported since CascadeLake CPU. Enabling this\nCPU feature in Nova.\n\nRequires 'os-traints' to be greater than '0.16.0'.\n\nDepends-On: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256\nChange-Id: I4ee821cba7cd23f0db9dc2c2c83c78ef5e70ad7b\n""}]",0,673480,866ca1468dfa35f319f520d0f7b93b2d0fe32f62,37,12,2,30209,,,0,"Add the support of CPU feature 'AVX512-VNNI'

'AVX512-VNNI' is the instruction set for vector neural network
instructions supported since CascadeLake CPU. Enabling this
CPU feature in Nova.

Requires 'os-traints' to be greater than '0.16.0'.

Depends-On: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
Change-Id: I4ee821cba7cd23f0db9dc2c2c83c78ef5e70ad7b
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/673480/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/virt/libvirt/utils.py']",2,b2420e742df50e67a409fb69bc5fd9ffa5d4d6a9,," 'avx512vnni': os_traits.HW_CPU_X86_AVX512VNNI,",,2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,stable/queens,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-08-02 19:27:51.000000000,2019-08-05 11:42:35.000000000,2019-08-05 11:42:35.000000000,"[{'_account_id': 6796}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 19:27:51.000000000', 'files': ['puppet/services/manila-backend-cephfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e333e4dc0924b421e9b7662ef903cabea9390179', 'message': 'Transport ManilaCephFSDataPoolName to Manila CephFS template\n\nThis is necessary to configure the Manila CephFS backend\ncorrectly when user customizes the CephFS pool name.\n\nChange-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0\nDepends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nCloses-Bug: 1837099\n(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)\n(cherry picked from commit e7c3496a97c41f7069d1837e85ddb414a0ed3fa2)\n(cherry picked from commit 3585f3614269bcb875f2ad0eb55345ca113ffe3c)\n'}]",0,674411,e333e4dc0924b421e9b7662ef903cabea9390179,8,3,1,16643,,,0,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)
(cherry picked from commit e7c3496a97c41f7069d1837e85ddb414a0ed3fa2)
(cherry picked from commit 3585f3614269bcb875f2ad0eb55345ca113ffe3c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/674411/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/manila-backend-cephfs.yaml'],1,e333e4dc0924b421e9b7662ef903cabea9390179,, ManilaCephFSDataPoolName: default: manila_data type: string manila::backend::cephfs::pool_name: {get_param: ManilaCephFSDataPoolName},,4,0
openstack%2Fironic~master~I43fca1f5bd1bcde3a5254f94c348ddafeb917283,openstack/ironic,master,I43fca1f5bd1bcde3a5254f94c348ddafeb917283,Fix missing print format error,MERGED,2019-08-05 03:03:02.000000000,2019-08-05 11:41:18.000000000,2019-08-05 11:41:18.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-08-05 03:03:02.000000000', 'files': ['ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c23a96d7416a062e395e577cf9cdbad870bad917', 'message': ""Fix missing print format error\n\nMissing print format will cause 'ValueError: unsupported\nformat character' error, this is to fix it.\n\nChange-Id: I43fca1f5bd1bcde3a5254f94c348ddafeb917283\n""}]",0,674519,c23a96d7416a062e395e577cf9cdbad870bad917,17,7,1,20190,,,0,"Fix missing print format error

Missing print format will cause 'ValueError: unsupported
format character' error, this is to fix it.

Change-Id: I43fca1f5bd1bcde3a5254f94c348ddafeb917283
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/674519/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/neutron.py'],1,c23a96d7416a062e395e577cf9cdbad870bad917,print_format," LOG.debug(""Adding port %(port)s to network %(net)s for """," LOG.debug(""Adding port %(port)s to network %(net) for """,1,1
openstack%2Fironic~master~I3ce6b0726b479c2835f8777957b2cb12d8098aec,openstack/ironic,master,I3ce6b0726b479c2835f8777957b2cb12d8098aec,Use HTTPProxyToWSGI middleware from oslo,MERGED,2019-07-25 20:21:56.000000000,2019-08-05 11:41:13.000000000,2019-08-05 11:41:13.000000000,"[{'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-25 20:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5c3f0e4c3396e55abe900474cead7f6a4936c42', 'message': ""WiP use http_proxy_to_wsgi middleware from oslo\n\ncurrently it is impossible to use ironic-api for both internal and\npublic api at the same time when both of those are using (ssl\nterminating) proxies as there's only one config option to override the\nresource url's in responses ([api]public_endpoint).\n\nUse the http_proxy_to_wsgi middleware from oslo.middleware instead,\nwhich, with properly configured proxies, makes such scenario possible\n(and makes said [api]public_endpoint obsolete).\n\nChange-Id: I3ce6b0726b479c2835f8777957b2cb12d8098aec\n""}, {'number': 2, 'created': '2019-07-26 19:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ef4fa6da2478b2e2693c7c8999b773bde692ea9', 'message': ""Use http_proxy_to_wsgi middleware from oslo\n\ncurrently it is impossible to use ironic-api for both internal and\npublic api at the same time when both of those are using (ssl\nterminating) proxies as there's only one config option to override the\nresource url's in responses ([api]public_endpoint).\n\nThis patch adds the http_proxy_to_wsgi middleware from oslo.middleware\nto the ironic API service, which, with properly configured proxies,\nmakes the choice of correct URL automatic, and thus makes such scenario\npossible.\n\nAs this middleware may potentially not properly handle some\nendpoint URL schemas, leave the api.public_endpoint option as a backup,\nbut it will be ignored when proxy headers parsing is enabled.\n\nChange-Id: I3ce6b0726b479c2835f8777957b2cb12d8098aec\n""}, {'number': 3, 'created': '2019-07-29 16:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6222eb489e5a31c21f93b70bb697bf1c6f288d45', 'message': ""Use HTTPProxyToWSGI middleware from oslo\n\ncurrently it is impossible to use ironic-api for both internal and\npublic api at the same time when both of those are using (ssl\nterminating) proxies as there's only one config option to override the\nresource url's in responses ([api]public_endpoint).\n\nThis patch adds the http_proxy_to_wsgi middleware from oslo.middleware\nto the ironic API service, which, with properly configured proxies,\nmakes the choice of correct URL automatic, and thus makes such scenario\npossible.\n\nAs this middleware may potentially not properly handle some\nendpoint URL schemas, leave the api.public_endpoint option as a backup,\nbut it will be ignored when proxy headers parsing is enabled.\n\nChange-Id: I3ce6b0726b479c2835f8777957b2cb12d8098aec\nStory: #2006303\nTask: #36019\n""}, {'number': 4, 'created': '2019-08-02 12:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/56a90bdf7846626adc698f09234bcf59e7893436', 'message': ""Use HTTPProxyToWSGI middleware from oslo\n\ncurrently it is impossible to use ironic-api for both internal and\npublic api at the same time when both of those are using (ssl\nterminating) proxies as there's only one config option to override the\nresource url's in responses ([api]public_endpoint).\n\nThis patch adds the http_proxy_to_wsgi middleware from oslo.middleware\nto the ironic API service, which, with properly configured proxies,\nmakes the choice of correct URL automatic, and thus makes such scenario\npossible.\n\nAs this middleware may potentially not properly handle some\nendpoint URL schemas, leave the api.public_endpoint option as a backup,\nbut it will be ignored when proxy headers parsing is enabled.\n\nChange-Id: I3ce6b0726b479c2835f8777957b2cb12d8098aec\nStory: #2006303\nTask: #36019\n""}, {'number': 5, 'created': '2019-08-02 12:29:47.000000000', 'files': ['devstack/lib/ironic', 'ironic/tests/unit/api/test_proxy_middleware.py', 'ironic/api/hooks.py', 'releasenotes/notes/oslo-proxy-headers-middleware-22188a2976f8f460.yaml', 'tools/config/ironic-config-generator.conf', 'ironic/conf/api.py', 'ironic/api/app.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e8c966a40e07634f520b84df287a6363749ca57', 'message': ""Use HTTPProxyToWSGI middleware from oslo\n\ncurrently it is impossible to use ironic-api for both internal and\npublic api at the same time when both of those are using (ssl\nterminating) proxies as there's only one config option to override the\nresource url's in responses ([api]public_endpoint).\n\nThis patch adds the http_proxy_to_wsgi middleware from oslo.middleware\nto the ironic API service, which, with properly configured proxies,\nmakes the choice of correct URL automatic, and thus makes such scenario\npossible.\n\nAs this middleware may potentially not properly handle some\nendpoint URL schemas, leave the api.public_endpoint option as a backup,\nbut it will be ignored when proxy headers parsing is enabled.\n\nChange-Id: I3ce6b0726b479c2835f8777957b2cb12d8098aec\nStory: #2006303\nTask: #36019\n""}]",2,672819,5e8c966a40e07634f520b84df287a6363749ca57,31,8,5,9542,,,0,"Use HTTPProxyToWSGI middleware from oslo

currently it is impossible to use ironic-api for both internal and
public api at the same time when both of those are using (ssl
terminating) proxies as there's only one config option to override the
resource url's in responses ([api]public_endpoint).

This patch adds the http_proxy_to_wsgi middleware from oslo.middleware
to the ironic API service, which, with properly configured proxies,
makes the choice of correct URL automatic, and thus makes such scenario
possible.

As this middleware may potentially not properly handle some
endpoint URL schemas, leave the api.public_endpoint option as a backup,
but it will be ignored when proxy headers parsing is enabled.

Change-Id: I3ce6b0726b479c2835f8777957b2cb12d8098aec
Story: #2006303
Task: #36019
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/672819/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'tools/config/ironic-config-generator.conf', 'ironic/api/app.py']",3,f5c3f0e4c3396e55abe900474cead7f6a4936c42,oslo-proxy-middleware,"from oslo_middleware import http_proxy_to_wsgi # NOTE(pas-ha) this registers oslo_middleware.enable_proxy_headers_parsing # option, when disabled (default) this is noop middleware app = http_proxy_to_wsgi.HTTPProxyToWSGI(app, CONF) ",,8,2
openstack%2Fopenstack-ansible-os_panko~master~Ic61c60e2db45ac5e51bb3a43d7928648d9ae5d19,openstack/openstack-ansible-os_panko,master,Ic61c60e2db45ac5e51bb3a43d7928648d9ae5d19,Migrate panko to use uWSGI,MERGED,2019-08-02 12:42:36.000000000,2019-08-05 11:40:18.000000000,2019-08-05 11:40:17.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-08-02 12:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/acaf4df93fc9f8a2f1aea45a9fce137d247a4180', 'message': ""Migrate panko to use uWSGI\n\nThis patch moves panko-api from usage of apache with mod_wsgi\nto uWSGI, which means unification across another roles and\nreduced maintenance costs\n\nDuring migration period tasks that ensures apache won't listen\non panko_service_port are present, but they are supposed to be removed\nafter train release.\n\nChange-Id: Ic61c60e2db45ac5e51bb3a43d7928648d9ae5d19\n""}, {'number': 2, 'created': '2019-08-02 13:28:23.000000000', 'files': ['tasks/panko_apache.yml', 'tasks/main.yml', 'tasks/panko_pre_install.yml', 'templates/panko-uwsgi.ini.j2', 'templates/panko-api-wsgi.py.j2', 'tasks/panko_post_install.yml', 'vars/debian.yml', 'handlers/main.yml', 'defaults/main.yml', 'releasenotes/notes/use_uwsgi-ec064b70a3b4e0c1.yaml', 'templates/panko-ports.conf.j2', 'vars/redhat-7.yml', 'templates/panko-httpd.conf.j2', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/50f1a48c6c4cd41cffc74c2751a50ff4cf9fe869', 'message': ""Migrate panko to use uWSGI\n\nThis patch moves panko-api from usage of apache with mod_wsgi\nto uWSGI, which means unification across another roles and\nreduced maintenance costs\n\nDuring migration period tasks that ensures apache won't listen\non panko_service_port are present, but they are supposed to be removed\nafter train release.\n\nChange-Id: Ic61c60e2db45ac5e51bb3a43d7928648d9ae5d19\n""}]",0,674295,50f1a48c6c4cd41cffc74c2751a50ff4cf9fe869,8,3,2,28619,,,0,"Migrate panko to use uWSGI

This patch moves panko-api from usage of apache with mod_wsgi
to uWSGI, which means unification across another roles and
reduced maintenance costs

During migration period tasks that ensures apache won't listen
on panko_service_port are present, but they are supposed to be removed
after train release.

Change-Id: Ic61c60e2db45ac5e51bb3a43d7928648d9ae5d19
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/95/674295/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/panko_apache.yml', 'tasks/main.yml', 'tasks/panko_pre_install.yml', 'templates/panko-uwsgi.ini.j2', 'templates/panko-api-wsgi.py.j2', 'tasks/panko_post_install.yml', 'vars/debian.yml', 'handlers/main.yml', 'defaults/main.yml', 'releasenotes/notes/use_uwsgi-ec064b70a3b4e0c1.yaml', 'templates/panko-ports.conf.j2', 'vars/redhat-7.yml', 'templates/panko-httpd.conf.j2', 'vars/suse.yml']",14,acaf4df93fc9f8a2f1aea45a9fce137d247a4180,use_uwsgi,"# NOTE(noonedeadpunk): These variables are left for migration from apache to uwsgi # which was introduced during train release. They can be dropped afterwards.panko_apache_config: - ""/etc/apache2/conf.d/panko-httpd.conf"" panko_apache_ports: /etc/apache2/conf.d/ports.conf"," - apache2 - apache2-utils - apache2-mod_wsgi panko_apache_config: - { src: ""panko-ports.conf.j2"", dest: ""/etc/apache2/conf.d/ports.conf"" } - { src: ""panko-httpd.conf.j2"", dest: ""/etc/apache2/conf.d/panko-httpd.conf"" } panko_apache_default_sites: - ""/etc/apache2/conf.d/gitweb.conf"" panko_apache_conf: ""/etc/apache2/httpd.conf"" panko_apache_security_conf: ""{{ panko_apache_conf }}"" panko_apache_modules: - name: ""authz_host"" state: ""present"" - name: ""access_compat"" state: ""present"" - name: ""version"" state: ""present""",181,230
openstack%2Fironic-python-agent-builder~master~If392f793ed1b5d902b541fe89299648fae16e427,openstack/ironic-python-agent-builder,master,If392f793ed1b5d902b541fe89299648fae16e427,"Copies the ""ironic-agent"" element from DIB",MERGED,2019-07-04 17:38:52.000000000,2019-08-05 11:30:55.000000000,2019-08-05 11:30:55.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30099}]","[{'number': 1, 'created': '2019-07-04 17:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4eafd858111c657371cc0ae675dd20ffff11417b', 'message': 'Copying ""ironic-agent"" element from DIB to ironic-python-image-builder\nand writing a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 2, 'created': '2019-07-07 06:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/1d7dd61ee9c8c353020509e6c634ef9a5d4e1961', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 3, 'created': '2019-07-09 15:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/aa53962e83c1ee33ed109c841f2b9ea15a48f3f6', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 4, 'created': '2019-07-18 12:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d524da2263f5834ab17a60a2bc3f8a13ee4bd4a0', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 5, 'created': '2019-07-18 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/2d1cf71bdc42065a07bc3a82790dca0595635e44', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 6, 'created': '2019-07-30 10:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/38289a76e680920e8b291284d6c06ce482105b09', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 7, 'created': '2019-07-30 10:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/3d219c2790f6d124874b7040cf4fbeaba296c146', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}, {'number': 8, 'created': '2019-08-01 17:55:14.000000000', 'files': ['dib/ironic-python-agent-ramdisk/post-install.d/80-ironic-agent', 'dib/ironic-python-agent-ramdisk/test-elements/build-succeeds-fedora/element-type', 'dib/ironic-python-agent-ramdisk/finalise.d/99-remove-extra-packages', 'dib/ironic-python-agent-ramdisk/install.d/ironic-agent-package-install/package-installs-ironic-agent', 'dib/ironic-python-agent-ramdisk/source-repository-ironic-agent', 'dib/ironic-python-agent-ramdisk/README.rst', 'dib/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/ironic-python-agent.service', 'dib/ironic-python-agent-ramdisk/pkg-map', 'dib/ironic-python-agent-ramdisk/package-installs.yaml', 'dib/ironic-python-agent-ramdisk/svc-map', 'dib/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/60-ironic-agent-install', 'dib/ironic-python-agent-ramdisk/static/etc/systemd/system/ironic-agent-create-rescue-user.service', 'dib/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/ironic-python-agent.init', 'dib/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/ironic-python-agent.conf', 'dib/ironic-python-agent-ramdisk/static/etc/systemd/system/ironic-agent-create-rescue-user.path', 'dib/ironic-python-agent-ramdisk/test-elements/build-succeeds-fedora/element-deps', 'dib/ironic-python-agent-ramdisk/element-provides', 'dib/ironic-python-agent-ramdisk/element-deps', 'dib/ironic-python-agent-ramdisk/extra-data.d/15-ssl-ca-copy', 'dib/ironic-python-agent-ramdisk/cleanup.d/99-ramdisk-create', 'dib/build.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b29326a499d761c403ebf4383a9d14a56c1919da', 'message': 'Copies the ""ironic-agent"" element from DIB\n\nCopies ""ironic-agent"" element from DIB and addition\nof a new bash script to build the image using DIB.\n\nChange-Id: If392f793ed1b5d902b541fe89299648fae16e427\nTask: 30072\nStory: 2005114\n'}]",15,669213,b29326a499d761c403ebf4383a9d14a56c1919da,33,5,8,30099,,,0,"Copies the ""ironic-agent"" element from DIB

Copies ""ironic-agent"" element from DIB and addition
of a new bash script to build the image using DIB.

Change-Id: If392f793ed1b5d902b541fe89299648fae16e427
Task: 30072
Story: 2005114
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/13/669213/5 && git format-patch -1 --stdout FETCH_HEAD,"['element/ironic-python-agent-ramdisk/pkg-map', 'element/ironic-python-agent-ramdisk/README.rst', 'element/ironic-python-agent-ramdisk/install.d/ironic-agent-package-install/package-installs-ironic-agent', 'element/ironic-python-agent-ramdisk/test-elements/build-succeeds-fedora/element-type', 'element/ironic-python-agent-ramdisk/static/etc/systemd/system/ironic-agent-create-rescue-user.service', 'element/ironic-python-agent-ramdisk/extra-data.d/15-ssl-ca-copy', 'element/ironic-python-agent-ramdisk/post-install.d/80-ironic-agent', 'element/ironic-python-agent-ramdisk/test-elements/build-succeeds-fedora/element-deps', 'element/ironic-python-agent-ramdisk/finalise.d/99-remove-extra-packages', 'element/ironic-python-agent-ramdisk/source-repository-ironic-agent', 'element/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/ironic-python-agent.service', 'element/ironic-python-agent-ramdisk/cleanup.d/99-ramdisk-create', 'element/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/ironic-python-agent.init', 'element/ironic-python-agent-ramdisk/environment.d/01-ironic-agent.sh', 'element/ironic-python-agent-ramdisk/element-deps', 'element/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/ironic-python-agent.conf', 'element/ironic-python-agent-ramdisk/element-provides', 'element/ironic-python-agent-ramdisk/install.d/ironic-agent-source-install/60-ironic-agent-install', 'element/ironic-python-agent-ramdisk/static/etc/systemd/system/ironic-agent-create-rescue-user.path', 'element/ironic-python-agent-ramdisk/package-installs.yaml', 'element/ironic-python-agent-ramdisk/build.sh', 'element/ironic-python-agent-ramdisk/svc-map']",22,4eafd858111c657371cc0ae675dd20ffff11417b,temp_branch_copying_dib,ironic-python-agent: default: openstack-ironic-python-agent redhat: openstack-ironic-python-agent debian: ironic-python-agent,,387,0
openstack%2Fopenstack-ansible~stable%2Fstein~Ic62887c7d8faa6a7a95021c012b1bf4f733edc33,openstack/openstack-ansible,stable/stein,Ic62887c7d8faa6a7a95021c012b1bf4f733edc33,Allow for skipping custom env.d file checks,MERGED,2019-07-25 13:23:17.000000000,2019-08-05 11:30:42.000000000,2019-08-05 11:30:42.000000000,"[{'_account_id': 290}, {'_account_id': 1004}, {'_account_id': 21785}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-25 13:23:17.000000000', 'files': ['scripts/upgrade-utilities/deploy-config-changes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e8a3967c70b1643ff492f2eb5f1d9fbd0ab41e1c', 'message': ""Allow for skipping custom env.d file checks\n\nCurrently if the env.d check fails and halts the upgrade, re-running\nthe run-upgrade.sh script doesn't pass the skip-tags flag to\nAnsible.  This prompts the user to set the env variable if they want\nto further skip checks and then passes the skip-tags as necessary.\n\nChange-Id: Ic62887c7d8faa6a7a95021c012b1bf4f733edc33\n(cherry picked from commit 85981996c41d2ff63ce3dc4d66fb31a2f3508c5d)\n""}]",0,672721,e8a3967c70b1643ff492f2eb5f1d9fbd0ab41e1c,18,7,1,21785,,,0,"Allow for skipping custom env.d file checks

Currently if the env.d check fails and halts the upgrade, re-running
the run-upgrade.sh script doesn't pass the skip-tags flag to
Ansible.  This prompts the user to set the env variable if they want
to further skip checks and then passes the skip-tags as necessary.

Change-Id: Ic62887c7d8faa6a7a95021c012b1bf4f733edc33
(cherry picked from commit 85981996c41d2ff63ce3dc4d66fb31a2f3508c5d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/672721/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/deploy-config-changes.yml'],1,e8a3967c70b1643ff492f2eb5f1d9fbd0ab41e1c,skip_envd_checks-stable/stein," then please export SKIP_CUSTOM_ENVD_CHECK=true and re-run the playbook or run-upgrade.sh script. - not(lookup('env', 'SKIP_CUSTOM_ENVD_CHECK') | bool)", then please re-run this playbook with the CLI option '--skip-tags custom-envd-file-check'.,3,1
openstack%2Fkolla-ansible~stable%2Fstein~I62f57cb489c900f68a0c7aeb3e20e4715c0e2661,openstack/kolla-ansible,stable/stein,I62f57cb489c900f68a0c7aeb3e20e4715c0e2661,CI: Fix multinode job glance issues,MERGED,2019-08-05 08:15:47.000000000,2019-08-05 11:24:15.000000000,2019-08-05 11:24:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-05 08:15:47.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6da1d6017bae499c7dbc14869ca49548dfc2e85f', 'message': 'CI: Fix multinode job glance issues\n\nThis actually replaces two ad-hoc fixes with a more unified\nsolution (with comment for posterity).\n\nChange-Id: I62f57cb489c900f68a0c7aeb3e20e4715c0e2661\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit d03172602d0d07208319b00767a5be266991339f)\n'}]",0,674548,6da1d6017bae499c7dbc14869ca49548dfc2e85f,8,5,1,30491,,,0,"CI: Fix multinode job glance issues

This actually replaces two ad-hoc fixes with a more unified
solution (with comment for posterity).

Change-Id: I62f57cb489c900f68a0c7aeb3e20e4715c0e2661
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit d03172602d0d07208319b00767a5be266991339f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/674548/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,6da1d6017bae499c7dbc14869ca49548dfc2e85f,ci-fix-multinode-glance-stable/stein,"{% else %} # NOTE(yoctozepto): in case ceph is *not* used, we have to use the ansible node (primary) # to avoid random errors due to inventory randomness in Zuul (YAML format) # because we use primary as the API endpoint and there is currently no HAProxy in CI # and the default behavior is to pick the ""first"" node (issue affects only multinode) glance_api_hosts: [""{{ inventory_hostname }}""]","glance_api_hosts: [""{{ inventory_hostname }}""]glance_api_hosts: [""{{ inventory_hostname }}""]",6,2
openstack%2Fheat~stable%2Fstein~I2cc2785cb32cf8d788af6262992b1b76107c8292,openstack/heat,stable/stein,I2cc2785cb32cf8d788af6262992b1b76107c8292,Fix allowed address pair validation,MERGED,2019-05-27 15:10:20.000000000,2019-08-05 11:15:22.000000000,2019-08-05 11:12:08.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 27427}, {'_account_id': 30381}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-27 15:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1996c141b6ddcde109ffdc75762f7aaa6dba4c14', 'message': 'Fix allowed address pair validation\n\nNeutron requires the allowed address pair ip address to be\neither an ip or a cidr.\nhttps://review.opendev.org/#/c/575265/ made heat verify for\ncidr only.\n\nChange-Id: I2cc2785cb32cf8d788af6262992b1b76107c8292\nStory: 2005674\nTask: 30985\n(cherry picked from commit 5e93b3e4cf60310d33bf397fd11b4ec50e6067a0)\n'}, {'number': 2, 'created': '2019-06-12 11:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e041084af32805d12445d6422856b9383ab5ecc8', 'message': 'Fix allowed address pair validation\n\nNeutron requires the allowed address pair ip address to be\neither an ip or a cidr.\nhttps://review.opendev.org/#/c/575265/ made heat verify for\ncidr only.\n\nChange-Id: I2cc2785cb32cf8d788af6262992b1b76107c8292\nStory: 2005674\nTask: 30985\n(cherry picked from commit 5e93b3e4cf60310d33bf397fd11b4ec50e6067a0)\n'}, {'number': 3, 'created': '2019-06-13 09:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a1d6f4abf12486a3892c05eaf72b902b85481359', 'message': 'Fix allowed address pair validation\n\nNeutron requires the allowed address pair ip address to be\neither an ip or a cidr.\nhttps://review.opendev.org/#/c/575265/ made heat verify for\ncidr only.\n\nChange-Id: I2cc2785cb32cf8d788af6262992b1b76107c8292\nStory: 2005674\nTask: 30985\n(cherry picked from commit 5e93b3e4cf60310d33bf397fd11b4ec50e6067a0)\n'}, {'number': 4, 'created': '2019-06-13 11:45:29.000000000', 'files': ['heat/tests/constraints/test_common_constraints.py', 'heat/tests/openstack/neutron/test_neutron_subnet.py', 'heat/engine/constraint/common_constraints.py', 'heat/tests/openstack/neutron/test_neutron_port.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cec8b079c006522b2b2eaeede49a7a7229f7ae2d', 'message': 'Fix allowed address pair validation\n\nNeutron requires the allowed address pair ip address to be\neither an ip or a cidr.\nhttps://review.opendev.org/#/c/575265/ made heat verify for\ncidr only.\n\nChange-Id: I2cc2785cb32cf8d788af6262992b1b76107c8292\nStory: 2005674\nTask: 30985\n(cherry picked from commit 5e93b3e4cf60310d33bf397fd11b4ec50e6067a0)\n'}]",0,661635,cec8b079c006522b2b2eaeede49a7a7229f7ae2d,30,6,4,26106,,,0,"Fix allowed address pair validation

Neutron requires the allowed address pair ip address to be
either an ip or a cidr.
https://review.opendev.org/#/c/575265/ made heat verify for
cidr only.

Change-Id: I2cc2785cb32cf8d788af6262992b1b76107c8292
Story: 2005674
Task: 30985
(cherry picked from commit 5e93b3e4cf60310d33bf397fd11b4ec50e6067a0)
",git fetch https://review.opendev.org/openstack/heat refs/changes/35/661635/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/constraints/test_common_constraints.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/engine/constraint/common_constraints.py', 'setup.cfg', 'heat/tests/openstack/neutron/test_neutron_port.py']",5,1996c141b6ddcde109ffdc75762f7aaa6dba4c14,," t['resources']['port']['properties'][ 'allowed_address_pairs'][0]['ip_address'] = '10.0.3.21' 'ip_address': u'10.0.3.21',"," 'ip_address': u'10.0.3.21/8',",96,2
openstack%2Fcharm-octavia-dashboard~master~I4c5e95e85e8c65b8bcad430f3bd625c1ed312cd8,openstack/charm-octavia-dashboard,master,I4c5e95e85e8c65b8bcad430f3bd625c1ed312cd8,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:04.000000000,2019-08-05 10:58:54.000000000,2019-08-05 10:58:53.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:57:04.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/1a082ddfe00f805d81cf4805b7578ced89d4267a', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I4c5e95e85e8c65b8bcad430f3bd625c1ed312cd8\nPartial-Bug: #1838783\n'}]",0,674390,1a082ddfe00f805d81cf4805b7578ced89d4267a,11,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I4c5e95e85e8c65b8bcad430f3bd625c1ed312cd8
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/90/674390/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,1a082ddfe00f805d81cf4805b7578ced89d4267a,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fkolla-ansible~stable%2Fqueens~Ia6fc9011ee6f5461f40a1307b72709d769814a79,openstack/kolla-ansible,stable/queens,Ia6fc9011ee6f5461f40a1307b72709d769814a79,Restart all nova services after upgrade,MERGED,2019-06-27 14:23:13.000000000,2019-08-05 10:58:08.000000000,2019-08-05 10:58:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 14:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dfece15939b158d5a77613c9cbfc75c2b8ef945e', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThere is a second issue in that it takes some time for the upgraded\nservices to update the nova services database table with their new\nversion. We need to wait until all nova-compute services have done this\nbefore the restart is performed, otherwise the RPC version cap will\nremain in place. There is currently no interface in nova available for\nchecking these versions [2], so as a workaround we use a configurable\ndelay with a default duration of 30 seconds. Testing showed it takes\nabout 10 seconds for the version to be updated, so this gives us some\nheadroom.\n\nThis change restarts all nova services after an upgrade, after a 30\nsecond delay.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n[2] https://bugs.launchpad.net/nova/+bug/1833542\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\nRelated-Bug: #1833542\n(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)\n'}, {'number': 2, 'created': '2019-07-04 10:37:49.000000000', 'files': ['ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/621a4d6fd3c45457da3433c91a3a1de4daa14260', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThere is a second issue in that it takes some time for the upgraded\nservices to update the nova services database table with their new\nversion. We need to wait until all nova-compute services have done this\nbefore the restart is performed, otherwise the RPC version cap will\nremain in place. There is currently no interface in nova available for\nchecking these versions [2], so as a workaround we use a configurable\ndelay with a default duration of 30 seconds. Testing showed it takes\nabout 10 seconds for the version to be updated, so this gives us some\nheadroom.\n\nThis change restarts all nova services after an upgrade, after a 30\nsecond delay.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n[2] https://bugs.launchpad.net/nova/+bug/1833542\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\nRelated-Bug: #1833542\n(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)\n'}]",0,667937,621a4d6fd3c45457da3433c91a3a1de4daa14260,14,4,2,14826,,,0,"Restart all nova services after upgrade

During an upgrade, nova pins the version of RPC calls to the minimum
seen across all services. This ensures that old services do not receive
data they cannot handle. After the upgrade is complete, all nova
services are supposed to be reloaded via SIGHUP to cause them to check
again the RPC versions of services and use the new latest version which
should now be supported by all running services.

Due to a bug [1] in oslo.service, sending services SIGHUP is currently
broken. We replaced the HUP with a restart for the nova_compute
container for bug 1821362, but not other nova services. It seems we need
to restart all nova services to allow the RPC version pin to be removed.

Testing in a Queens to Rocky upgrade, we find the following in the logs:

Automatically selected compute RPC version 5.0 from minimum service
version 30

However, the service version in Rocky is 35.

There is a second issue in that it takes some time for the upgraded
services to update the nova services database table with their new
version. We need to wait until all nova-compute services have done this
before the restart is performed, otherwise the RPC version cap will
remain in place. There is currently no interface in nova available for
checking these versions [2], so as a workaround we use a configurable
delay with a default duration of 30 seconds. Testing showed it takes
about 10 seconds for the version to be updated, so this gives us some
headroom.

This change restarts all nova services after an upgrade, after a 30
second delay.

[1] https://bugs.launchpad.net/oslo.service/+bug/1715374
[2] https://bugs.launchpad.net/nova/+bug/1833542

Change-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79
Closes-Bug: #1833069
Related-Bug: #1833542
(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/667937/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml']",4,dfece15939b158d5a77613c9cbfc75c2b8ef945e,bug/1821362,,"--- # This play calls sighup on every service to refresh upgrade levels # NOTE(mgoddard): Currently (just prior to Stein release), sending SIGHUP to # nova compute services leaves them in a broken state in which they cannot # start new instances. The following error is seen in the logs: # ""In shutdown, no new events can be scheduled"" # To work around this we restart the nova-compute services. # Speaking to the nova team, this seems to be an issue in oslo.service, # with a fix proposed here: https://review.openstack.org/#/c/641907. # This issue also seems to affect the proxy services, which exit non-zero in # reponse to a SIGHUP, so restart those too. Placement does not need to be # restarted as it does not use nova versioned objects. # TODO(mgoddard): Remove this workaround when this bug has been fixed. - name: Send SIGHUP to nova services become: true command: docker exec -t {{ item.value.container_name }} kill -1 1 when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - not item.key.startswith('nova-compute') - not item.key.endswith('proxy') - item.key != 'placement-api' with_dict: ""{{ nova_services }}"" - name: Restart nova compute and proxy services become: true kolla_docker: action: restart_container common_options: ""{{ docker_common_options }}"" name: ""{{ item.value.container_name }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - item.key.startswith('nova-compute') or item.key.endswith('proxy') with_dict: ""{{ nova_services }}"" ",60,42
openstack%2Fkolla-ansible~stable%2Frocky~Ia6fc9011ee6f5461f40a1307b72709d769814a79,openstack/kolla-ansible,stable/rocky,Ia6fc9011ee6f5461f40a1307b72709d769814a79,Restart all nova services after upgrade,MERGED,2019-06-27 14:20:57.000000000,2019-08-05 10:58:07.000000000,2019-08-05 10:58:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 14:20:57.000000000', 'files': ['ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4b550e53756b097f893a2e44e82e6403d8d7535', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThere is a second issue in that it takes some time for the upgraded\nservices to update the nova services database table with their new\nversion. We need to wait until all nova-compute services have done this\nbefore the restart is performed, otherwise the RPC version cap will\nremain in place. There is currently no interface in nova available for\nchecking these versions [2], so as a workaround we use a configurable\ndelay with a default duration of 30 seconds. Testing showed it takes\nabout 10 seconds for the version to be updated, so this gives us some\nheadroom.\n\nThis change restarts all nova services after an upgrade, after a 30\nsecond delay.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n[2] https://bugs.launchpad.net/nova/+bug/1833542\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\nRelated-Bug: #1833542\n(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)\n'}]",0,667936,e4b550e53756b097f893a2e44e82e6403d8d7535,9,4,1,14826,,,0,"Restart all nova services after upgrade

During an upgrade, nova pins the version of RPC calls to the minimum
seen across all services. This ensures that old services do not receive
data they cannot handle. After the upgrade is complete, all nova
services are supposed to be reloaded via SIGHUP to cause them to check
again the RPC versions of services and use the new latest version which
should now be supported by all running services.

Due to a bug [1] in oslo.service, sending services SIGHUP is currently
broken. We replaced the HUP with a restart for the nova_compute
container for bug 1821362, but not other nova services. It seems we need
to restart all nova services to allow the RPC version pin to be removed.

Testing in a Queens to Rocky upgrade, we find the following in the logs:

Automatically selected compute RPC version 5.0 from minimum service
version 30

However, the service version in Rocky is 35.

There is a second issue in that it takes some time for the upgraded
services to update the nova services database table with their new
version. We need to wait until all nova-compute services have done this
before the restart is performed, otherwise the RPC version cap will
remain in place. There is currently no interface in nova available for
checking these versions [2], so as a workaround we use a configurable
delay with a default duration of 30 seconds. Testing showed it takes
about 10 seconds for the version to be updated, so this gives us some
headroom.

This change restarts all nova services after an upgrade, after a 30
second delay.

[1] https://bugs.launchpad.net/oslo.service/+bug/1715374
[2] https://bugs.launchpad.net/nova/+bug/1833542

Change-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79
Closes-Bug: #1833069
Related-Bug: #1833542
(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/667936/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml']",4,e4b550e53756b097f893a2e44e82e6403d8d7535,bug/1821362,,"--- # This play calls sighup on every service to refresh upgrade levels # NOTE(mgoddard): Currently (just prior to Stein release), sending SIGHUP to # nova compute services leaves them in a broken state in which they cannot # start new instances. The following error is seen in the logs: # ""In shutdown, no new events can be scheduled"" # To work around this we restart the nova-compute services. # Speaking to the nova team, this seems to be an issue in oslo.service, # with a fix proposed here: https://review.openstack.org/#/c/641907. # This issue also seems to affect the proxy services, which exit non-zero in # reponse to a SIGHUP, so restart those too. Placement does not need to be # restarted as it does not use nova versioned objects. # TODO(mgoddard): Remove this workaround when this bug has been fixed. - name: Send SIGHUP to nova services become: true command: docker exec -t {{ item.value.container_name }} kill -1 1 when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - not item.key.startswith('nova-compute') - not item.key.endswith('proxy') - item.key != 'placement-api' with_dict: ""{{ nova_services }}"" - name: Restart nova compute and proxy services become: true kolla_docker: action: restart_container common_options: ""{{ docker_common_options }}"" name: ""{{ item.value.container_name }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - item.key.startswith('nova-compute') or item.key.endswith('proxy') with_dict: ""{{ nova_services }}"" ",61,42
openstack%2Fkolla-ansible~master~I9a8d3dc5f311d4ea4e5d9b03d522632abc66a7ac,openstack/kolla-ansible,master,I9a8d3dc5f311d4ea4e5d9b03d522632abc66a7ac,Add Kafka input to telegraf config,MERGED,2019-05-24 03:21:22.000000000,2019-08-05 10:58:05.000000000,2019-08-05 10:58:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-24 03:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87cc05b9b691061569a034ff1443adc26c5ef575', 'message': 'add kafka monitor\n\nadd kafka monitor:\n\nChange-Id: I9a8d3dc5f311d4ea4e5d9b03d522632abc66a7ac\n'}, {'number': 2, 'created': '2019-05-24 03:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdc21f04876939bdce69aac7769ff919f0ca7db3', 'message': 'add kafka monitor\n\nadd kafka monitor:\n\nChange-Id: I9a8d3dc5f311d4ea4e5d9b03d522632abc66a7ac\n'}, {'number': 3, 'created': '2019-08-05 07:26:59.000000000', 'files': ['ansible/roles/telegraf/templates/telegraf.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93e868360d0d674b356f025be28464868da63f90', 'message': 'Add Kafka input to telegraf config\n\nChange-Id: I9a8d3dc5f311d4ea4e5d9b03d522632abc66a7ac\n'}]",1,661167,93e868360d0d674b356f025be28464868da63f90,12,4,3,24061,,,0,"Add Kafka input to telegraf config

Change-Id: I9a8d3dc5f311d4ea4e5d9b03d522632abc66a7ac
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/661167/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/telegraf/templates/telegraf.conf.j2'],1,87cc05b9b691061569a034ff1443adc26c5ef575,kafka_monitor,"{% if inventory_hostname in groups['kafka'] and enable_kafka | bool %} [[inputs.kafka]] brokers = [""{{ api_interface_address }}:{{ kafka_port }}""] {% endif %}",,4,0
openstack%2Fcharm-nova-cell-controller~master~I28e8804293fefc220da3f00714047664df4a4c86,openstack/charm-nova-cell-controller,master,I28e8804293fefc220da3f00714047664df4a4c86,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:56:46.000000000,2019-08-05 10:54:01.000000000,2019-08-05 10:54:00.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:56:46.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/3b72e6a91fe463e5a04b8e6ff5b4bd697bcd3ebd', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I28e8804293fefc220da3f00714047664df4a4c86\nPartial-Bug: #1838783\n'}]",0,674388,3b72e6a91fe463e5a04b8e6ff5b4bd697bcd3ebd,11,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I28e8804293fefc220da3f00714047664df4a4c86
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/88/674388/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3b72e6a91fe463e5a04b8e6ff5b4bd697bcd3ebd,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-neutron-openvswitch~master~I61ed1575bb13d5104eb79e2554974e48bdf3de72,openstack/charm-neutron-openvswitch,master,I61ed1575bb13d5104eb79e2554974e48bdf3de72,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:06:59.000000000,2019-08-05 10:52:41.000000000,2019-08-05 10:52:40.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:06:59.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'templates/ocata/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/d9fdc665bd06c15a78f38b4552b5e48c42d7cd8d', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I61ed1575bb13d5104eb79e2554974e48bdf3de72\nCloses-Bug: #1838696\n'}]",0,674172,d9fdc665bd06c15a78f38b4552b5e48c42d7cd8d,9,4,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I61ed1575bb13d5104eb79e2554974e48bdf3de72
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/72/674172/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'templates/ocata/neutron.conf']",4,d9fdc665bd06c15a78f38b4552b5e48c42d7cd8d,bug/1838696,"{% include ""section-oslo-messaging-rabbit-ocata"" %}","{% include ""section-oslo-messaging-rabbit"" %}",64,15
openstack%2Fcharm-ceilometer~master~I23bc8d6943377c72811d9b7c544b1ca9e1da9c43,openstack/charm-ceilometer,master,I23bc8d6943377c72811d9b7c544b1ca9e1da9c43,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 02:56:36.000000000,2019-08-05 10:52:32.000000000,2019-08-05 10:52:32.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 02:56:36.000000000', 'files': ['templates/ocata/ceilometer.conf', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2a1f9a7199db71e73ef9b7a0bdb69639dd6d9d65', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I23bc8d6943377c72811d9b7c544b1ca9e1da9c43\nCloses-Bug: #1838696\n'}]",0,674162,2a1f9a7199db71e73ef9b7a0bdb69639dd6d9d65,9,4,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I23bc8d6943377c72811d9b7c544b1ca9e1da9c43
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/62/674162/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/ceilometer.conf', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata']",2,2a1f9a7199db71e73ef9b7a0bdb69639dd6d9d65,bug/1838696,[oslo_messaging_rabbit] {% if rabbitmq_ha_queues -%} rabbit_ha_queues = True {% endif -%} {% if rabbit_ssl_port -%} rabbit_use_ssl = True {% endif -%} {% if rabbit_ssl_ca -%} ssl_ca_file = {{ rabbit_ssl_ca }} {% endif -%} ,,11,1
openstack%2Fcharm-nova-cloud-controller~master~I27f89f3780a60c6fbb26d8aad637853403bddeb1,openstack/charm-nova-cloud-controller,master,I27f89f3780a60c6fbb26d8aad637853403bddeb1,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:08:15.000000000,2019-08-05 10:51:35.000000000,2019-08-05 10:51:35.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:08:15.000000000', 'files': ['templates/ocata/nova.conf', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2b3972f5f15dd760dd62ebe55bc4a5e47fe18b22', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I27f89f3780a60c6fbb26d8aad637853403bddeb1\nCloses-Bug: #1838696\n'}]",0,674174,2b3972f5f15dd760dd62ebe55bc4a5e47fe18b22,9,4,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I27f89f3780a60c6fbb26d8aad637853403bddeb1
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/74/674174/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/openstack/ha/utils.py']",3,2b3972f5f15dd760dd62ebe55bc4a5e47fe18b22,bug/1838696,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",24,15
openstack%2Fcharm-ceilometer-agent~master~I61f37a976951911d7c24d14cc4ea5e6ec3f84d2e,openstack/charm-ceilometer-agent,master,I61f37a976951911d7c24d14cc4ea5e6ec3f84d2e,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 02:58:32.000000000,2019-08-05 10:50:34.000000000,2019-08-05 10:50:34.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 02:58:32.000000000', 'files': ['templates/ocata/ceilometer.conf', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/08758f4e7d056d5ce7a81894fb731f4b31ba3e5b', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I61f37a976951911d7c24d14cc4ea5e6ec3f84d2e\nCloses-Bug: #1838696\n'}]",0,674163,08758f4e7d056d5ce7a81894fb731f4b31ba3e5b,9,4,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I61f37a976951911d7c24d14cc4ea5e6ec3f84d2e
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/63/674163/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/ceilometer.conf', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/openstack/ha/utils.py']",3,08758f4e7d056d5ce7a81894fb731f4b31ba3e5b,bug/1838696,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",24,15
openstack%2Fcharm-neutron-gateway~master~I5c3776bf31603e93ba37e9de5a8516d1897f1935,openstack/charm-neutron-gateway,master,I5c3776bf31603e93ba37e9de5a8516d1897f1935,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:05:49.000000000,2019-08-05 10:50:32.000000000,2019-08-05 10:50:32.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:05:49.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'templates/ocata/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5c5a94fa012fb5f59d74bea0dff38716332fde94', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I5c3776bf31603e93ba37e9de5a8516d1897f1935\nCloses-Bug: #1838696\n'}]",0,674170,5c5a94fa012fb5f59d74bea0dff38716332fde94,9,4,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I5c3776bf31603e93ba37e9de5a8516d1897f1935
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/70/674170/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'templates/ocata/neutron.conf']",4,5c5a94fa012fb5f59d74bea0dff38716332fde94,bug/1838696,"{% include ""section-oslo-messaging-rabbit-ocata"" %}","{% include ""section-oslo-messaging-rabbit"" %}",64,15
openstack%2Fcharm-nova-compute~master~Iafe511a60b546139c8f3edfd926f38d2829fe32a,openstack/charm-nova-compute,master,Iafe511a60b546139c8f3edfd926f38d2829fe32a,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:09:37.000000000,2019-08-05 10:50:29.000000000,2019-08-05 10:50:29.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:09:37.000000000', 'files': ['templates/ocata/nova.conf', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b416426fa177520c2d4706795f861cda7a43d3f3', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: Iafe511a60b546139c8f3edfd926f38d2829fe32a\nCloses-Bug: #1838696\n'}]",0,674176,b416426fa177520c2d4706795f861cda7a43d3f3,9,4,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: Iafe511a60b546139c8f3edfd926f38d2829fe32a
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/76/674176/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py']",5,b416426fa177520c2d4706795f861cda7a43d3f3,bug/1838696,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",65,16
openstack%2Fansible-role-collect-logs~master~Ifc6259dd5e46222f363d0c84b99736c65a5601de,openstack/ansible-role-collect-logs,master,Ifc6259dd5e46222f363d0c84b99736c65a5601de,Add information about enabled repos,MERGED,2019-07-30 10:38:38.000000000,2019-08-05 10:36:13.000000000,2019-08-05 10:36:13.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 10:38:38.000000000', 'files': ['tasks/collect.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/152c0778ff0d40a4aebdaf12376ccebebbab9563', 'message': 'Add information about enabled repos\n\nThis review introduces two changes useful to gather more precise\ninformation about dependencies repo:\n\n- Get ""yum|dnf repolist -v"" which provides the deps repo-revision\nwhich is a frozen snapshot of the deps repo.\n- Fixes repoquery command for deps (it was changed from -testing to\n-deps in repos configuration time ago).\n\nChange-Id: Ifc6259dd5e46222f363d0c84b99736c65a5601de\n'}]",0,673471,152c0778ff0d40a4aebdaf12376ccebebbab9563,8,5,1,16312,,,0,"Add information about enabled repos

This review introduces two changes useful to gather more precise
information about dependencies repo:

- Get ""yum|dnf repolist -v"" which provides the deps repo-revision
which is a frozen snapshot of the deps repo.
- Fixes repoquery command for deps (it was changed from -testing to
-deps in repos configuration time ago).

Change-Id: Ifc6259dd5e46222f363d0c84b99736c65a5601de
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/71/673471/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/collect.yml'],1,152c0778ff0d40a4aebdaf12376ccebebbab9563,fix-deps-reporting," - name: list enabled repositories shell: ""{{ ansible_pkg_mgr }} repolist -v >/var/log/extra/repolist.txt"" repoquery --disablerepo='*' --enablerepo='delorean-*-deps'\ -a --qf '%{sourcerpm}'|sort -u|sed 's/.src.rpm//g' >> /var/log/extra/import-delorean-deps.txt", repoquery --disablerepo='*' --enablerepo='delorean-*-testing'\ -a --qf '%{sourcerpm}'|sort -u|sed 's/.src.rpm//g' >> /var/log/extra/import-delorean-testing.txt,5,2
openstack%2Ftripleo-heat-templates~master~Ice566e90e468bc919872d0954d2d696f4554e00b,openstack/tripleo-heat-templates,master,Ice566e90e468bc919872d0954d2d696f4554e00b,"Revert ""Fix generating Apache configs by container-puppet""",MERGED,2019-08-02 11:53:33.000000000,2019-08-05 10:36:12.000000000,2019-08-05 10:36:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-02 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cdec74b73b0d6186ae847885c83a7e17a0c745f', 'message': 'Revert ""Fix generating Apache configs by container-puppet""\n\nfixes following issue coming on RHEL8 http://logs.rdoproject.org/openstack-periodic-master/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-rhel-8-standalone-master/11c7794/logs/undercloud/var/log/extra/podman/containers/keystone_db_sync/stdout.log.txt.gz\n\nThis reverts commit 80d12514d5cd3c20057bd01588e5d5d15d131ca9.\n\nChange-Id: Ice566e90e468bc919872d0954d2d696f4554e00b\n'}, {'number': 2, 'created': '2019-08-02 11:54:45.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'common/container-puppet.py', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1e580f039848348574214783008dccc7847fa23', 'message': 'Revert ""Fix generating Apache configs by container-puppet""\n\nfixes following issue coming on RHEL8 http://logs.rdoproject.org/openstack-periodic-master/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-rhel-8-standalone-master/11c7794/logs/undercloud/var/log/extra/podman/containers/keystone_db_sync/stdout.log.txt.gz\n\nThis reverts commit 80d12514d5cd3c20057bd01588e5d5d15d131ca9.\n\nChange-Id: Ice566e90e468bc919872d0954d2d696f4554e00b\n'}]",0,674280,a1e580f039848348574214783008dccc7847fa23,15,12,2,6926,,,0,"Revert ""Fix generating Apache configs by container-puppet""

fixes following issue coming on RHEL8 http://logs.rdoproject.org/openstack-periodic-master/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-rhel-8-standalone-master/11c7794/logs/undercloud/var/log/extra/podman/containers/keystone_db_sync/stdout.log.txt.gz

This reverts commit 80d12514d5cd3c20057bd01588e5d5d15d131ca9.

Change-Id: Ice566e90e468bc919872d0954d2d696f4554e00b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/674280/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'common/container-puppet.py', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",22,6cdec74b73b0d6186ae847885c83a7e17a0c745f,bug/1835414, config_image: {get_param: ContainerAodhConfigImage}," config_image: &aodh_config_image {get_param: ContainerAodhConfigImage} - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.modules.d"" dest: ""/etc/httpd/conf.modules.d"" merge: false preserve_properties: true container_puppet_tasks: step_3: config_volume: 'aodh' step_config: | include ::tripleo::profile::base::apache config_image: *aodh_config_image",34,279
openstack%2Ftripleo-heat-templates~master~Ife71b124fa404050fcbcb2e041590a295076d6d9,openstack/tripleo-heat-templates,master,Ife71b124fa404050fcbcb2e041590a295076d6d9,"Revert ""Wire-in Apache MPM module parameters and switch it""",MERGED,2019-08-02 10:34:07.000000000,2019-08-05 10:36:10.000000000,2019-08-05 10:36:09.000000000,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 8648}, {'_account_id': 10873}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-02 10:34:07.000000000', 'files': ['releasenotes/notes/apache_mpm_tuning-679c7362ddb72111.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1269a6475f2859a3bf6b7898fe5cb54733eee1b', 'message': 'Revert ""Wire-in Apache MPM module parameters and switch it""\n\nThis reverts commit 09cfcc1464dce0eb7c05caf42375290bbaae4199.\n\nChange-Id: Ife71b124fa404050fcbcb2e041590a295076d6d9\n'}]",0,674258,c1269a6475f2859a3bf6b7898fe5cb54733eee1b,14,18,1,12393,,,0,"Revert ""Wire-in Apache MPM module parameters and switch it""

This reverts commit 09cfcc1464dce0eb7c05caf42375290bbaae4199.

Change-Id: Ife71b124fa404050fcbcb2e041590a295076d6d9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/674258/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache_mpm_tuning-679c7362ddb72111.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",22,c1269a6475f2859a3bf6b7898fe5cb54733eee1b,bug/1835414, apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::prefork::serverlimit: { get_param: ApacheServerLimit }," ApacheMPMModule: type: string default: 'event' description: Specifies the used MPM module for Apache. constraints: - allowed_values: ['prefork', 'event'] use_mpm_prefork: {equals: [{get_param: ApacheMPMModule}, 'prefork']} - use_mpm_prefork - apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::prefork::serverlimit: { get_param: ApacheServerLimit } tripleo::profile::base::apache::mpm_module: 'prefork' - apache::mod::event::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::event::serverlimit: { get_param: ApacheServerLimit } tripleo::profile::base::apache::mpm_module: 'event' - if:",3,206
openstack%2Fkeystone~master~I934886aee76f9996940425d86cd148c56ef80a20,openstack/keystone,master,I934886aee76f9996940425d86cd148c56ef80a20,Followup for remove signing[config].,MERGED,2019-07-30 10:47:19.000000000,2019-08-05 10:35:31.000000000,2019-08-05 10:35:31.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-30 10:47:19.000000000', 'files': ['keystone/api/os_simple_cert.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/73b263de55a6890736608cb52a1421b7c06f8a53', 'message': 'Followup for remove signing[config].\n\nThis patch closes the NIT comments in [1].\n\n[1] https://review.opendev.org/#/c/659434\n\nChange-Id: I934886aee76f9996940425d86cd148c56ef80a20\n'}]",0,673476,73b263de55a6890736608cb52a1421b7c06f8a53,21,4,1,27621,,,0,"Followup for remove signing[config].

This patch closes the NIT comments in [1].

[1] https://review.opendev.org/#/c/659434

Change-Id: I934886aee76f9996940425d86cd148c56ef80a20
",git fetch https://review.opendev.org/openstack/keystone refs/changes/76/673476/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/api/os_simple_cert.py'],1,73b263de55a6890736608cb52a1421b7c06f8a53,, 'of support for PKI tokens.')) 'of support for PKI tokens.')), 'of support for PKI tokens. Returning a 410 instead' 'of removing the API')) 'of support for PKI tokens. Returning a 410 instead' 'of removing the API')),2,4
openstack%2Fopenstack-ansible-os_nova~master~Ibcd5a9292390bb9b60c33570649c9afb05e17fff,openstack/openstack-ansible-os_nova,master,Ibcd5a9292390bb9b60c33570649c9afb05e17fff,Fix nova_rbd_inuse var,MERGED,2019-08-03 21:43:01.000000000,2019-08-05 10:34:33.000000000,2019-08-05 10:34:32.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-03 21:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cfcdaeceec2c55b9bfb86b77d4007a3745718e70', 'message': 'Fix nova_rbd_inuse fact\n\nThe fact did not contain jinja braces even though it is a jinja\nexpression.\n\nChange-Id: Ibcd5a9292390bb9b60c33570649c9afb05e17fff\n'}, {'number': 2, 'created': '2019-08-03 23:56:44.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e57db22374439d7d6602659092acee27bc72fd23', 'message': 'Fix nova_rbd_inuse var\n\nThe var did not contain jinja braces even though it is a jinja\nexpression.\n\nChange-Id: Ibcd5a9292390bb9b60c33570649c9afb05e17fff\n'}]",2,674475,e57db22374439d7d6602659092acee27bc72fd23,18,4,2,17799,,,0,"Fix nova_rbd_inuse var

The var did not contain jinja braces even though it is a jinja
expression.

Change-Id: Ibcd5a9292390bb9b60c33570649c9afb05e17fff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/75/674475/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,cfcdaeceec2c55b9bfb86b77d4007a3745718e70,,"nova_rbd_inuse: ""{{ (nova_libvirt_images_rbd_pool is defined) or (nova_cinder_rbd_inuse | bool) }}""","nova_rbd_inuse: ""(nova_libvirt_images_rbd_pool is defined) or (nova_cinder_rbd_inuse | bool)""",1,1
openstack%2Ftempest~master~Ie1735dbd4a42f5fe6f2bdfe613b3cf241f6be3ef,openstack/tempest,master,Ie1735dbd4a42f5fe6f2bdfe613b3cf241f6be3ef,Add compute API request schema validation for 2.74,ABANDONED,2019-07-09 06:30:53.000000000,2019-08-05 10:22:49.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 06:30:53.000000000', 'files': ['doc/source/microversion_testing.rst', 'tempest/lib/api_schema/response/compute/v2_74/__init__.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_74/servers.py', 'tempest/tests/lib/services/compute/test_servers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff3a0a36616bccc4f788109f7207d27ae47dc36f', 'message': 'Add compute API request schema validation for 2.74\n\nThe 2.74 compute API supports specifying `availability_zone`\nto unshelve a shelved-offloaded server, add the validate\nschema to the following APIs:\n\n- POST /servers/{server_id}/action (unshelve)\n\npart of blueprint: support-specifying-az-when-restore-shelved-server\n\nChange-Id: Ie1735dbd4a42f5fe6f2bdfe613b3cf241f6be3ef\n'}]",0,669796,ff3a0a36616bccc4f788109f7207d27ae47dc36f,4,2,1,26458,,,0,"Add compute API request schema validation for 2.74

The 2.74 compute API supports specifying `availability_zone`
to unshelve a shelved-offloaded server, add the validate
schema to the following APIs:

- POST /servers/{server_id}/action (unshelve)

part of blueprint: support-specifying-az-when-restore-shelved-server

Change-Id: Ie1735dbd4a42f5fe6f2bdfe613b3cf241f6be3ef
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/669796/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/microversion_testing.rst', 'tempest/lib/api_schema/response/compute/v2_74/__init__.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_74/servers.py', 'tempest/tests/lib/services/compute/test_servers_client.py']",5,ff3a0a36616bccc4f788109f7207d27ae47dc36f,bp/support-specifying-az-when-restore-shelved-server," {},"," None,",55,2
openstack%2Fkolla~master~I86fd145d2998f68b08a16082414b86904971549a,openstack/kolla,master,I86fd145d2998f68b08a16082414b86904971549a,Add HAcluster containers,MERGED,2019-07-02 22:58:09.000000000,2019-08-05 10:22:17.000000000,2019-08-05 10:22:17.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28471}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-02 22:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cfd08ace958b9f5de48c7479a6272be284475713', 'message': 'WIP: Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}, {'number': 2, 'created': '2019-07-03 00:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e2a0031cd1d747763c47de5fad531d62757fb7e5', 'message': 'WIP: Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}, {'number': 3, 'created': '2019-07-03 02:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/be2ad062dc31482b3a94908025754f7849053e40', 'message': 'WIP: Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}, {'number': 4, 'created': '2019-07-10 15:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/492e127a1351b2237788fdc4f08f80d83f3ed93c', 'message': 'Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}, {'number': 5, 'created': '2019-07-10 15:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b6cc31a1638fccd41f9e5bb6741b957e0c9cd19b', 'message': 'Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}, {'number': 6, 'created': '2019-07-15 15:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b7ecefe6fc526868f78f5f889d8169fef81912be', 'message': 'Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}, {'number': 7, 'created': '2019-07-18 15:29:43.000000000', 'files': ['docker/hacluster/hacluster-pacemaker-remote/Dockerfile.j2', 'docker/hacluster/hacluster-base/extend_start.sh', 'docker/hacluster/hacluster-base/Dockerfile.j2', 'releasenotes/notes/add-hacluster-role-d10bc3918395ccdf.yaml', 'docker/hacluster/hacluster-pcs/Dockerfile.j2', 'README.rst', 'docker/base/Dockerfile.j2', 'docker/hacluster/hacluster-corosync/Dockerfile.j2', 'docker/base/crmsh.repo', 'docker/hacluster/hacluster-pacemaker/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/046158b1494938a61f8a9b98d8b0bba88295f2df', 'message': 'Add HAcluster containers\n\nTheses images contains High Availability solution such as\nCorosync, Pacemaker, Pacemaker Remote and PCS.\n\nChange-Id: I86fd145d2998f68b08a16082414b86904971549a\nImplements: blueprint pacemaker-container\n'}]",3,668765,046158b1494938a61f8a9b98d8b0bba88295f2df,36,8,7,16006,,,0,"Add HAcluster containers

Theses images contains High Availability solution such as
Corosync, Pacemaker, Pacemaker Remote and PCS.

Change-Id: I86fd145d2998f68b08a16082414b86904971549a
Implements: blueprint pacemaker-container
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/668765/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/hacluster/hacluster-base/extend_start.sh', 'docker/hacluster/hacluster-base/Dockerfile.j2', 'releasenotes/notes/add-hacluster-role-d10bc3918395ccdf.yaml', 'docker/hacluster/hacluster-pcs/Dockerfile.j2', 'docker/hacluster/hacluster-corosync/Dockerfile.j2', 'docker/hacluster/hacluster-pacemaker/Dockerfile.j2', 'kolla/common/config.py']",7,cfd08ace958b9f5de48c7479a6272be284475713,bp/pacemaker-container," 'hacluster',",,59,0
openstack%2Fironic~master~I3cd133fb700ec4946471d9e4cbebeab4bded4540,openstack/ironic,master,I3cd133fb700ec4946471d9e4cbebeab4bded4540,RAID creation fails with 'ilo5' RAID interface,MERGED,2019-08-01 11:26:12.000000000,2019-08-05 10:21:49.000000000,2019-08-05 10:21:49.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 11:26:12.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'releasenotes/notes/story-2006321-ilo5-raid-create-fails-1bb1e648da0db0f1.yaml', 'ironic/drivers/modules/ilo/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6305ea70077f031f5033e7bb33b9321178f0c413', 'message': ""RAID creation fails with 'ilo5' RAID interface\n\nRAID interface methods do not clear driver_internal_info properly\nleads to failure of RAID operation when they are attempted again.\n\nChange-Id: I3cd133fb700ec4946471d9e4cbebeab4bded4540\nStory: 2006321\nTask: 36052\n""}]",0,674007,6305ea70077f031f5033e7bb33b9321178f0c413,31,7,1,11076,,,0,"RAID creation fails with 'ilo5' RAID interface

RAID interface methods do not clear driver_internal_info properly
leads to failure of RAID operation when they are attempted again.

Change-Id: I3cd133fb700ec4946471d9e4cbebeab4bded4540
Story: 2006321
Task: 36052
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/674007/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'releasenotes/notes/story-2006321-ilo5-raid-create-fails-1bb1e648da0db0f1.yaml', 'ironic/drivers/modules/ilo/raid.py']",3,6305ea70077f031f5033e7bb33b9321178f0c413,story-2006321, node.driver_internal_info = driver_internal_info node.save() 'skip_current_clean_step') 'skip_current_clean_step') 'skip_current_clean_step') 'skip_current_clean_step')," 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() 'cleaning_reboot', node.driver_internal_info = driver_internal_info node.save() 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() 'cleaning_reboot', node.driver_internal_info = driver_internal_info node.save()",28,30
openstack%2Fkolla~master~I22a26374ee00e93b4f52ec0c4f1152ca1ad777e6,openstack/kolla,master,I22a26374ee00e93b4f52ec0c4f1152ca1ad777e6,Add collectd-sensubility to the image,MERGED,2019-07-24 15:30:13.000000000,2019-08-05 10:11:28.000000000,2019-08-05 10:11:28.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-24 15:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad0a0c2296003b14a25187d5d847cc49160751fa', 'message': '[WIP] Add collectd-sensubility to the image\n\nThis patch add installation of collectd-sensubility as part of collectd image.\nThe package is available in centos-release-opstools repo.\n\nChange-Id: I22a26374ee00e93b4f52ec0c4f1152ca1ad777e6\n'}, {'number': 2, 'created': '2019-07-25 14:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a47613d93365f73ff8f0d502bc449b648be97b7a', 'message': 'Add collectd-sensubility to the image\n\nThis patch add installation of collectd-sensubility as part of collectd image.\nThe package is available in centos-release-opstools repo.\n\nChange-Id: I22a26374ee00e93b4f52ec0c4f1152ca1ad777e6\n'}, {'number': 3, 'created': '2019-08-02 09:18:25.000000000', 'files': ['docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/057d605d9b9526ab2150baf1867560288b416c9e', 'message': 'Add collectd-sensubility to the image\n\nThis patch add installation of collectd-sensubility as part of collectd image.\nThe package is available in centos-release-opstools repo.\n\nCollectd-sensubility aims provide possibility to switch from Sensu based\navailability monitoring solution to monitoring solution based on\ncollectd with AMQP-1.0 messaging bus.\n\nUpstream is here: https://github.com/paramite/collectd-sensubility\nChange-Id: I22a26374ee00e93b4f52ec0c4f1152ca1ad777e6\n'}]",0,672547,057d605d9b9526ab2150baf1867560288b416c9e,17,5,3,5241,,,0,"Add collectd-sensubility to the image

This patch add installation of collectd-sensubility as part of collectd image.
The package is available in centos-release-opstools repo.

Collectd-sensubility aims provide possibility to switch from Sensu based
availability monitoring solution to monitoring solution based on
collectd with AMQP-1.0 messaging bus.

Upstream is here: https://github.com/paramite/collectd-sensubility
Change-Id: I22a26374ee00e93b4f52ec0c4f1152ca1ad777e6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/672547/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,ad0a0c2296003b14a25187d5d847cc49160751fa,collectd-sensubility," 'collectd-sensubility',",,1,0
openstack%2Fos-loganalyze~master~If886aa580e97841267ba0328124c88d90daecd57,openstack/os-loganalyze,master,If886aa580e97841267ba0328124c88d90daecd57,Add support for appending footers,NEW,2015-03-22 11:44:35.000000000,2019-08-05 10:10:52.000000000,,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6316}, {'_account_id': 7069}, {'_account_id': 16272}]","[{'number': 1, 'created': '2015-03-22 11:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/8785098e808138bebecd99184901d147e89d82c1', 'message': ""Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nThe intention is to document generated index.html's and devstack logs\netc.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n""}, {'number': 2, 'created': '2015-03-24 04:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/c70e3e0bf0f8476d6865863c880955f5b4dcd1f2', 'message': 'Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n'}, {'number': 3, 'created': '2015-03-24 10:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/04905fa915101025f9c75796bc6656a93195f397', 'message': 'Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n'}, {'number': 4, 'created': '2015-06-05 06:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/438849fe2777fc5e2b9e5a35c741a3e543a42420', 'message': 'Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n'}, {'number': 5, 'created': '2015-07-14 13:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/dd5305ee5fcf28b37089f3d0d1615ba16c32896e', 'message': 'Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n'}, {'number': 6, 'created': '2015-07-27 01:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/de3007de11870379e8d7573d226c73ee31a274b1', 'message': 'Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n'}, {'number': 7, 'created': '2015-12-29 05:18:13.000000000', 'files': ['os_loganalyze/filter.py', 'os_loganalyze/tests/test_views.py', 'etc/os_loganalyze/file_conditions.yaml', 'os_loganalyze/tests/test_filters.py', 'os_loganalyze/tests/samples/file_conditions.yaml', 'os_loganalyze/view.py', 'os_loganalyze/tests/test_wsgi.py', 'os_loganalyze/tests/samples/footer2.html', 'os_loganalyze/generator.py', 'os_loganalyze/util.py', 'os_loganalyze/tests/base.py', 'os_loganalyze/tests/samples/footer3.txt', 'os_loganalyze/tests/samples/footer1.html'], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/a28a14db816ea8d46eb22edbf430994dc106b6c6', 'message': 'Add support for appending footers\n\nThis will allow help documentation to be appended to files depending\non their path.\n\nChange-Id: If886aa580e97841267ba0328124c88d90daecd57\n'}]",6,166596,a28a14db816ea8d46eb22edbf430994dc106b6c6,33,6,7,7069,,,0,"Add support for appending footers

This will allow help documentation to be appended to files depending
on their path.

Change-Id: If886aa580e97841267ba0328124c88d90daecd57
",git fetch https://review.opendev.org/openstack/os-loganalyze refs/changes/96/166596/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_loganalyze/tests/samples/footers.yaml', 'os_loganalyze/tests/test_views.py', 'requirements.txt', 'etc/os_loganalyze/footers.yaml', 'os_loganalyze/wsgi.py', 'etc/os_loganalyze/wsgi.conf', 'os_loganalyze/tests/samples/footer1.html', 'os_loganalyze/view.py', 'os_loganalyze/tests/samples/footer2.html']",9,8785098e808138bebecd99184901d147e89d82c1,append_footers,Extra information. ,,137,12
openstack%2Fkolla~stable%2Fstein~Iab036be2b25867a268f4cef6f735dc64f8910fa0,openstack/kolla,stable/stein,Iab036be2b25867a268f4cef6f735dc64f8910fa0,TrivialFix: remove unused ganesha nfs repo file,MERGED,2019-08-03 18:29:32.000000000,2019-08-05 10:02:14.000000000,2019-08-05 10:02:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-08-03 18:29:32.000000000', 'files': ['docker/base/nfs_ganesha.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/98d0413dbf266d609db2a4c2950c3f0f896aab18', 'message': 'TrivialFix: remove unused ganesha nfs repo file\n\nChange-Id: Iab036be2b25867a268f4cef6f735dc64f8910fa0\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 92b3b5699661d3b7707d48cf2fc4801118aca1ab)\n'}]",0,674469,98d0413dbf266d609db2a4c2950c3f0f896aab18,9,5,1,30491,,,0,"TrivialFix: remove unused ganesha nfs repo file

Change-Id: Iab036be2b25867a268f4cef6f735dc64f8910fa0
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 92b3b5699661d3b7707d48cf2fc4801118aca1ab)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/674469/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/nfs_ganesha.repo'],1,98d0413dbf266d609db2a4c2950c3f0f896aab18,rm-ganesha-nfs-repo-stable/stein,,[nfs_ganesha] baseurl = http://download.ceph.com/nfs-ganesha/rpm-V2.5-stable/luminous/$basearch gpgcheck = 1 gpgkey = https://download.ceph.com/keys/release.asc name = nfs-ganesha stable repo ,0,5
openstack%2Fmonasca-common~master~Iffee218b0a9cac572b6ea13d96da5b8f9e0d0b0d,openstack/monasca-common,master,Iffee218b0a9cac572b6ea13d96da5b8f9e0d0b0d,Fix Confluent Kafka consumer loop,MERGED,2019-07-18 10:22:39.000000000,2019-08-05 09:44:06.000000000,2019-08-05 09:44:06.000000000,"[{'_account_id': 11934}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26733}]","[{'number': 1, 'created': '2019-07-18 10:22:39.000000000', 'files': ['monasca_common/confluent_kafka/consumer.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/ce053d1094bcc5035a06ac093f725af49e178dda', 'message': 'Fix Confluent Kafka consumer loop\n\nEven when there is no new message consumed the consumer loop should\nproceed to execute the commit callback. Otherwise the batched messages\nwhich which were consumed earlier do not get commited until new message\narrives. Although the case is nearly impossible to happen in real\nenvironment it causes tempest tests to fail when only two messages are\ncreated for testing.\n\nStory: 2003705\nTask: 35855\n\nChange-Id: Iffee218b0a9cac572b6ea13d96da5b8f9e0d0b0d\n'}]",0,671451,ce053d1094bcc5035a06ac093f725af49e178dda,9,5,1,16222,,,0,"Fix Confluent Kafka consumer loop

Even when there is no new message consumed the consumer loop should
proceed to execute the commit callback. Otherwise the batched messages
which which were consumed earlier do not get commited until new message
arrives. Although the case is nearly impossible to happen in real
environment it causes tempest tests to fail when only two messages are
created for testing.

Story: 2003705
Task: 35855

Change-Id: Iffee218b0a9cac572b6ea13d96da5b8f9e0d0b0d
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/51/671451/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_common/confluent_kafka/consumer.py'],1,ce053d1094bcc5035a06ac093f725af49e178dda,confluent_kafka,, continue,0,1
openstack%2Ftripleo-validations~master~I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3,openstack/tripleo-validations,master,I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3,Add autodocumentation for roles and library,MERGED,2019-07-23 08:16:15.000000000,2019-08-05 09:40:19.000000000,2019-08-05 09:40:19.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-23 08:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/38980d0cd225e07674bbfe4a201052264a6924ae', 'message': '[WIP] Add autodocumentation for roles and library\n\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-23 08:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fff54118aaa768dc3f404f22a4f6c978cf5b7409', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-23 14:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/270cd8851bb7d379330e951d7c434bb643c61045', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-07-24 07:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5b810ed314971d666179d28d91b139092bc68316', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-07-26 12:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c058dd9d735a9729087a7f27ed177eacb751a9b6', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-07-28 14:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a365ca81f144b0bed67fb53d641a18ac444931a9', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-07-29 10:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0851d91af936fd3b56459dab1293afbd8547379f', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2019-07-29 11:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/323e2f77879f11b88ac5e661da178778b845f743', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2019-07-29 11:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c4a32be1e98eea90e866dd56443da626ec439591', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 10, 'created': '2019-07-29 11:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4b8ee8f5baab2f79c51f2e4fd5aafd7c22f23fde', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 11, 'created': '2019-07-29 11:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d8850e0c4aa84f70f04cf729d16685564012c305', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 12, 'created': '2019-07-29 12:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7abcd6e08e9b171fb9eded6433703a1423d1f500', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 13, 'created': '2019-07-30 09:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/876da38327115135d2deccf965e1e08d29f124f7', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 14, 'created': '2019-07-30 12:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9c203f81fe270ea9a9165940268f4320a130bf3c', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 15, 'created': '2019-07-30 14:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cf2cc3c42fc963c8cf9d5caeeace9fc3ad1cf0cd', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 16, 'created': '2019-07-31 14:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/22a78e6afbe84e30d0d4ab9e519edf12b55a5998', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 17, 'created': '2019-08-02 10:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5f53b804f5752904e96cc4ad39613a119277f8cc', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 18, 'created': '2019-08-02 14:16:02.000000000', 'files': ['doc/source/modules/modules-ip_range.rst', 'doc/source/roles/role-collect-flavors-and-verify-profiles.rst', 'doc/source/roles/role-xfs-check-ftype.rst', 'doc/source/roles/role-controller-token.rst', 'doc/source/roles/role-mysql-open-files-limit.rst', 'doc/source/roles/role-check-latest-minor-version.rst', 'doc/source/roles/role-service-status.rst', 'doc/source/roles/role-ironic-boot-configuration.rst', 'doc/source/roles/role-default-node-count.rst', 'doc/source/roles/role-rabbitmq-limits.rst', 'doc/source/roles/role-undercloud-disk-space.rst', 'doc/source/roles/role-image-serve.rst', 'doc/source/modules/modules-check_ironic_boot_config.rst', 'doc/source/roles/role-containerized-undercloud-docker.rst', 'doc/source/roles/role-undercloud-process-count.rst', 'doc/source/modules/modules-pacemaker.rst', 'doc/source/modules/modules-ini.rst', 'doc/source/roles/role-switch-vlans.rst', 'doc/source/modules/modules-ovs_dpdk_pmd_cpus_check.rst', 'doc/source/roles/role-ctlplane-ip-range.rst', 'library/check_flavors.py', 'doc/source/modules/modules-check_flavors.rst', 'doc/source/modules/modules-hiera.rst', 'doc/source/roles/role-dhcp-validations.rst', 'doc/source/roles/role-no-op-firewall-nova-driver.rst', 'library/check_ironic_boot_config.py', 'doc/source/roles/role-advanced-format-512e-support.rst', 'doc/source/roles/role-ceilometerdb-size.rst', 'doc/source/modules/modules-check_package_update.rst', 'doc/source/modules/modules-docker_facts.rst', 'doc/source/modules/modules-advanced_format.rst', 'doc/source/roles/role-undercloud-ram.rst', 'doc/source/modules/modules-haproxy_conf.rst', 'doc/source/roles/role-undercloud-service-status.rst', 'doc/source/roles/role-ntp.rst', 'doc/source/roles/role-haproxy.rst', 'doc/source/roles/role-controller-ulimits.rst', 'doc/source/roles/role-node-health.rst', 'role-addition.yml', 'doc/source/roles/role-ovs-dpdk-pmd.rst', 'doc/source/modules/modules-network_environment.rst', 'doc/source/_exts/ansible-autodoc.py', 'doc/source/roles/role-openstack-endpoints.rst', 'doc/source/modules/modules-icmp_ping.rst', 'doc/source/roles/role-no-op.rst', 'doc/source/roles/role-undercloud-heat-purge-deleted.rst', 'doc/source/roles/role-undercloud-debug.rst', 'doc/source/roles/role-tls-everywhere.rst', 'doc/source/roles/role-check-network-gateway.rst', 'doc/source/roles/role-stack-health.rst', 'library/node_disks.py', 'doc/source/roles.rst', 'doc/source/roles/role-neutron-sanity-check.rst', 'library/switch_vlans.py', 'doc/source/modules/modules-warn.rst', 'doc/source/roles/role-stonith-exists.rst', 'doc/source/roles/role-dns.rst', 'doc/source/roles/role-repos.rst', 'doc/source/roles/role-undercloud-cpu.rst', 'doc/source/roles/role-nova-event-callback.rst', 'doc/source/conf.py', 'doc/source/modules/modules-switch_vlans.rst', 'doc/source/roles/role-openshift-on-openstack.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/modules/modules-verify_profiles.rst', 'doc/source/roles/role-undercloud-tokenflush.rst', 'library/check_package_update.py', 'roles/undercloud-selinux-mode/defaults/main.yml', 'doc/source/roles/role-ceph.rst', 'doc/source/modules/modules-node_disks.rst', 'doc/source/index.rst', 'doc/source/roles/role-node-disks.rst', 'doc/source/roles/role-network-environment.rst', 'doc/source/modules.rst', 'doc/source/roles/role-nova-status.rst', 'doc/source/roles/role-undercloud-selinux-mode.rst', 'doc/source/modules/modules-overcloudrc.rst', 'doc/source/roles/role-pacemaker-status.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/218bef9cbe384a4d77b46b6f8b7cdd35387cfe3e', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,672220,218bef9cbe384a4d77b46b6f8b7cdd35387cfe3e,41,8,18,11491,,,0,"Add autodocumentation for roles and library

This patch adds automation to add documentation for each Ansible roles
and custom modules for TripleO-Validations.

Patch-Inspired-By: tripleo-ansible-Team++
Change-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/672220/17 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/ansible-autodoc.py', 'doc/source/modules/modules-icmp_ping.rst', 'doc/source/modules/modules-ip_range.rst', 'doc/source/modules/modules-check_ironic_boot_config.rst', 'library/node_disks.py', 'doc/source/modules/modules-pacemaker.rst', 'doc/source/modules/modules-ini.rst', 'doc/source/roles.rst', 'library/switch_vlans.py', 'doc/source/modules/modules-warn.rst', 'doc/source/modules/modules-ovs_dpdk_pmd_cpus_check.rst', 'library/check_flavors.py', 'doc/source/modules/modules-check_flavors.rst', 'doc/source/modules/modules-hiera.rst', 'doc/source/roles/role-advanced-format-512e-support.rst', 'doc/source/roles/role-ceilometerdb-size.rst', 'doc/source/roles/role-undercloud-cpu.rst', 'doc/source/modules/modules-check_package_update.rst', 'doc/source/conf.py', 'doc/source/modules/modules-docker_facts.rst', 'doc/source/modules/modules-switch_vlans.rst', 'doc/source/modules/modules-advanced_format.rst', 'doc/source/modules/modules-verify_profiles.rst', 'doc/source/roles/role-undercloud-ram.rst', 'library/check_package_update.py', 'roles/undercloud-selinux-mode/defaults/main.yml', 'doc/source/roles/role-ceph.rst', 'doc/source/modules/modules-haproxy_conf.rst', 'doc/source/modules/modules-node_disks.rst', 'doc/source/index.rst', 'doc/source/modules.rst', 'doc/source/roles/role-undercloud-selinux-mode.rst', 'doc/source/modules/modules-overcloudrc.rst', 'doc/source/modules/modules-network_environment.rst']",34,38980d0cd225e07674bbfe4a201052264a6924ae,bp/validation-framework-infra,============================ Module - network_environment ============================ This module provides for the following ansible plugin: * network_environment .. ansibleautoplugin:: :module: library/network_environment.py :documentation: true :examples: true ,,641,9
openstack%2Fcloudkitty~master~Ief7049cafeddbf97dae7dafcf9562e6ffc613bc9,openstack/cloudkitty,master,Ief7049cafeddbf97dae7dafcf9562e6ffc613bc9,Use isoformat() instead of isotime() in InfluxDB storage driver,MERGED,2019-08-02 12:15:36.000000000,2019-08-05 09:32:12.000000000,2019-08-05 09:32:12.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-08-02 12:15:36.000000000', 'files': ['cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/storage/v2/test_influxdb.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cb6a653879dc597f4a2c87d3d7b2a6c0f0fe1b3e', 'message': 'Use isoformat() instead of isotime() in InfluxDB storage driver\n\nThis updates the InfluxDB v2 storage driver in order to use\ndatetime.isoformat() instead of cloudkitty.utils.isotime() for formatting\nof timezone-aware datetime objects.\n\nChange-Id: Ief7049cafeddbf97dae7dafcf9562e6ffc613bc9\n'}]",0,674289,cb6a653879dc597f4a2c87d3d7b2a6c0f0fe1b3e,6,2,1,23060,,,0,"Use isoformat() instead of isotime() in InfluxDB storage driver

This updates the InfluxDB v2 storage driver in order to use
datetime.isoformat() instead of cloudkitty.utils.isotime() for formatting
of timezone-aware datetime objects.

Change-Id: Ief7049cafeddbf97dae7dafcf9562e6ffc613bc9
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/89/674289/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/storage/v2/test_influxdb.py']",2,cb6a653879dc597f4a2c87d3d7b2a6c0f0fe1b3e,," """"""DELETE FROM ""dataframes"" WHERE time >= '2019-01-01T00:00:00'"""""" """""" AND time < '2019-01-02T00:00:00';"""""") """"""DELETE FROM ""dataframes"" WHERE time >= '2019-01-01T00:00:00'"""""" """""" AND time < '2019-01-02T00:00:00' AND ""project_id""='foobar';"""""" """"""DELETE FROM ""dataframes"" WHERE time < '2019-01-02T00:00:00' """""" """"""DELETE FROM ""dataframes"" WHERE time >= '2019-01-02T00:00:00'"""""" """"""time >= '2019-01-02T00:00:00';"""""") """"""time < '2019-01-02T00:00:00';"""""")"," """"""DELETE FROM ""dataframes"" WHERE time >= '2019-01-01T00:00:00Z'"""""" """""" AND time < '2019-01-02T00:00:00Z';"""""") """"""DELETE FROM ""dataframes"" WHERE time >= '2019-01-01T00:00:00Z'"""""" """""" AND time < '2019-01-02T00:00:00Z' AND ""project_id""='foobar';"""""" """"""DELETE FROM ""dataframes"" WHERE time < '2019-01-02T00:00:00Z' """""" """"""DELETE FROM ""dataframes"" WHERE time >= '2019-01-02T00:00:00Z'"""""" """"""time >= '2019-01-02T00:00:00Z';"""""") """"""time < '2019-01-02T00:00:00Z';"""""")",10,11
openstack%2Freleases~master~I99dd0caa06af286e93d93be673bf1662260a1ced,openstack/releases,master,I99dd0caa06af286e93d93be673bf1662260a1ced,Add Train deliverable file for kolla-cli,MERGED,2019-08-02 15:36:14.000000000,2019-08-05 09:19:36.000000000,2019-08-05 09:19:36.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 15:36:14.000000000', 'files': ['deliverables/train/kolla-cli.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0bd600fc398675171d1d014adee72ba773cd42b0', 'message': 'Add Train deliverable file for kolla-cli\n\nThis project went quiet but has now been revived, and contributors from\n99cloud have agreed to help maintain it.\n\nChange-Id: I99dd0caa06af286e93d93be673bf1662260a1ced\n'}]",0,674331,0bd600fc398675171d1d014adee72ba773cd42b0,9,4,1,14826,,,0,"Add Train deliverable file for kolla-cli

This project went quiet but has now been revived, and contributors from
99cloud have agreed to help maintain it.

Change-Id: I99dd0caa06af286e93d93be673bf1662260a1ced
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/674331/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kolla-cli.yaml'],1,0bd600fc398675171d1d014adee72ba773cd42b0,,--- launchpad: kolla-cli release-model: cycle-trailing team: kolla type: other repository-settings: openstack/kolla-cli: {} ,,7,0
openstack%2Freleases~master~Ie6dc9ab508d4f8ee3d652f5c79df1a5efc695797,openstack/releases,master,Ie6dc9ab508d4f8ee3d652f5c79df1a5efc695797,Release networking-generic-switch 2.0.0 for Train,MERGED,2019-08-02 09:00:42.000000000,2019-08-05 09:14:01.000000000,2019-08-05 09:14:00.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 09:00:42.000000000', 'files': ['deliverables/train/networking-generic-switch.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9f9810633dbd8ea6b5852ef79a7058f4a895b476', 'message': 'Release networking-generic-switch 2.0.0 for Train\n\nChange-Id: Ie6dc9ab508d4f8ee3d652f5c79df1a5efc695797\n'}]",0,674235,9f9810633dbd8ea6b5852ef79a7058f4a895b476,8,4,1,10239,,,0,"Release networking-generic-switch 2.0.0 for Train

Change-Id: Ie6dc9ab508d4f8ee3d652f5c79df1a5efc695797
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/674235/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-generic-switch.yaml'],1,9f9810633dbd8ea6b5852ef79a7058f4a895b476,networking-generic-switch,releases: - version: 2.0.0 projects: - repo: openstack/networking-generic-switch hash: befae015bcc05c303e0f9fe4e0e25edc435e6732,,5,0
openstack%2Freleases~master~Ic99cc09f18d36a66c586d9fe7771c078691804b1,openstack/releases,master,Ic99cc09f18d36a66c586d9fe7771c078691804b1,Release ironic-ui 3.5.0 for Train,MERGED,2019-08-02 08:56:43.000000000,2019-08-05 09:14:00.000000000,2019-08-05 09:13:59.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 08:56:43.000000000', 'files': ['deliverables/train/ironic-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc71e3dffb3a5019d4918de7471030a55132f4c4', 'message': 'Release ironic-ui 3.5.0 for Train\n\nChange-Id: Ic99cc09f18d36a66c586d9fe7771c078691804b1\n'}]",0,674233,fc71e3dffb3a5019d4918de7471030a55132f4c4,8,4,1,10239,,,0,"Release ironic-ui 3.5.0 for Train

Change-Id: Ic99cc09f18d36a66c586d9fe7771c078691804b1
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/674233/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-ui.yaml'],1,fc71e3dffb3a5019d4918de7471030a55132f4c4,ironic-ui,releases: - version: 3.5.0 projects: - repo: openstack/ironic-ui hash: 292cc2ecebd499534da8f12c2f2320c60963dace,,5,0
openstack%2Freleases~master~If6af2137272cc18bf2d01f26c0bab65b803ae281,openstack/releases,master,If6af2137272cc18bf2d01f26c0bab65b803ae281,Oslo releases for 2019-7-23,MERGED,2019-07-23 22:06:26.000000000,2019-08-05 09:13:59.000000000,2019-08-05 09:13:59.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 22:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ec2a740cf4f67d98a04a8ec51e5c2b35d9ca2ce3', 'message': 'Oslo releases for 2019-7-23\n\nChange-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281\n'}, {'number': 2, 'created': '2019-08-01 21:11:46.000000000', 'files': ['deliverables/train/oslo.cache.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/train/oslo.middleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/589b818d63594306ae1f4fd002637cfd11f2e938', 'message': 'Oslo releases for 2019-7-23\n\nChange-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281\n'}]",0,672378,589b818d63594306ae1f4fd002637cfd11f2e938,12,5,2,6928,,,0,"Oslo releases for 2019-7-23

Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/672378/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/oslo.cache.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/train/oslo.middleware.yaml']",3,ec2a740cf4f67d98a04a8ec51e5c2b35d9ca2ce3,oslo-master,include-pypi-link: true- projects: - hash: 5dac9e8f215b9104a349548236b68d9337c077b9 repo: openstack/oslo.middleware version: 3.38.0 - version: 3.38.1 projects: - repo: openstack/oslo.middleware hash: 9bae80ec0207d44c8bc467a11c837da9a98da007,include-pypi-link: yes - projects: - hash: 5dac9e8f215b9104a349548236b68d9337c077b9 repo: openstack/oslo.middleware version: 3.38.0,179,167
openstack%2Fdevstack~master~I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58,openstack/devstack,master,I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58,Only modify folders created by devstack,MERGED,2015-07-20 15:30:01.000000000,2019-08-05 09:12:33.000000000,2019-08-02 13:17:49.000000000,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 7118}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12482}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2015-07-20 15:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dd2ea47f69ae65c249703db6a43db20c6bb9d9de', 'message': ""Add a PROTECTED_DIRECTORIES variable\n\nAny folders listed in $PROTECTED_DIRECTORIES will not have\nchmod / chown run on them.\n\nIf you are using libvirt + NFS, this step can take quite a long time,\nor if you are using libvirt + passthrough filesystems, you really\ndon't want this to run this.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n""}, {'number': 2, 'created': '2015-07-20 17:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/904411e911a4951bc6ee3e60fe5b1af58794fe77', 'message': ""Add a PROTECTED_DIRECTORIES variable\n\nAny folders listed in $PROTECTED_DIRECTORIES will not have\nchmod / chown run on them.\n\nIf you are using libvirt + NFS, this step can take quite a long time,\nor if you are using libvirt + passthrough filesystems, you really\ndon't want this to run this.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n""}, {'number': 3, 'created': '2016-08-25 11:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c853fa547e348bfa7705972b74f988ac7e1fe79d', 'message': ""Add a PROTECTED_DIRECTORIES variable\n\nAny folders listed in $PROTECTED_DIRECTORIES will not have\nchmod / chown run on them.\n\nIf you are using libvirt + NFS, this step can take quite a long time,\nor if you are using libvirt + passthrough filesystems, you really\ndon't want this to run this.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n""}, {'number': 4, 'created': '2016-08-25 11:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3e7096b05cf494ad551d6d2657fe8357e72e88b2', 'message': 'Add a $CHOWN_EXCLUDED_DIRECTORIES variable\n\nAny folders listed in $CHOWN_EXCLUDED_DIRECTORIES will not have\nchmod / chown run on them.\n\nIf you are using libvirt + NFS, this step can take quite a long time,\nor if you are using libvirt + passthrough filesystems, you really\ndon\'t want this to run this.\n\nThis is due to the nfs check only checking if the root dir is\nnfs. some setups have a local /opt/stack with other\ndirectories nfs mounted into /opt/stack, and as such the\n""is_nfs_directory"" test allows the chmod / chown to run.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n'}, {'number': 5, 'created': '2018-03-27 13:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a5ac29539adc562290411c7c23dc0777c2c3b38', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n'}, {'number': 6, 'created': '2018-04-16 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f62cc391d156494cd49da21eebc995f8f24d29c', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n'}, {'number': 7, 'created': '2018-04-16 15:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5e41003e0c860031b589f92a47030139059fccc', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n'}, {'number': 8, 'created': '2018-04-16 18:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5b683a5e8d00f038a6e4a30b0f6808cd88a076aa', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\n'}, {'number': 9, 'created': '2018-04-17 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/233f2935f093461625d664a13beef70e5c6cba06', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 10, 'created': '2018-04-17 18:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f4c07e2656b78d92617e671b96dcc7d59794709', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 11, 'created': '2018-04-19 11:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/72c4951ac2627dc574eeaf6b73954b99a4c6f1f6', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 12, 'created': '2018-04-25 13:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b367407dc4404b486042a3fe0e7e70e8af3d8cc0', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 13, 'created': '2018-10-18 17:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/371cf8f8875fed63d587e3c5d83df48d276ab370', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 14, 'created': '2018-12-04 16:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2a54d1b11d26376b6732824ef0d3e8f46d5b7f08', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 15, 'created': '2019-06-04 16:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bc63ac21a370f4dba677fc790f84285128ec811d', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 16, 'created': '2019-06-12 10:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25ca17df0cf0c5dc996384983cc76ab3951783dd', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 17, 'created': '2019-06-13 08:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/138d6bf54750debfd2a628cce6526f1433fb8041', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 18, 'created': '2019-07-26 10:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/49dc6e93180a093ddc007f2ba75627333d4a2970', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 19, 'created': '2019-07-26 10:49:36.000000000', 'files': ['roles/setup-devstack-log-dir/tasks/main.yaml', 'roles/sync-devstack-data/tasks/main.yaml', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/352d58a7afd9e2261e639af78e4fb4c99d8f9f81', 'message': 'Only modify folders created by devstack\n\nrunning chown and chmod on files and folders not created by\ndevstack causes a few issues:\n\n* On nfs mounted directories it can take an extremely\n  long time to chown -R some of the git repos, especially\n  if any tox commands have been ran in the host\n* chown can cause the host files to get into a weird state\n  if nfs is set up wrong.\n\nIf files and folders are pre-existing we should assume\nthey are in the correct state, and not modify them.\n\nFix setup-devstack-log-dir to create the logs directory with\ncorrect permissions in the first place.\n\nChange-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",24,203698,352d58a7afd9e2261e639af78e4fb4c99d8f9f81,103,13,19,8099,,,0,"Only modify folders created by devstack

running chown and chmod on files and folders not created by
devstack causes a few issues:

* On nfs mounted directories it can take an extremely
  long time to chown -R some of the git repos, especially
  if any tox commands have been ran in the host
* chown can cause the host files to get into a weird state
  if nfs is set up wrong.

If files and folders are pre-existing we should assume
they are in the correct state, and not modify them.

Fix setup-devstack-log-dir to create the logs directory with
correct permissions in the first place.

Change-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/203698/16 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'stackrc']",2,dd2ea47f69ae65c249703db6a43db20c6bb9d9de,skip-unneeded-chowns, # Protected folders that chmod / chown will not be run on PROTECTED_DIRECTORIES=${PROTECTED_DIRECTORIES:-} ,,29,0
openstack%2Fcharm-rabbitmq-server~master~I646c8419838011160a74c4c4c488c04268825efd,openstack/charm-rabbitmq-server,master,I646c8419838011160a74c4c4c488c04268825efd,Do not concatenate chained certs w/out line breaks,MERGED,2019-08-02 00:25:45.000000000,2019-08-05 09:11:29.000000000,2019-08-05 09:11:29.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 00:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/9dc83af45d33f6564cb86aad1668d2ac34f9d1f9', 'message': 'Do not concatenate chained certs w/out line breaks\n\nThe charm was adding the CA and chain certificate without a line break\nleading to an invalid certificate pem file on the client side.\n\nAdd a line break when concatenating the ca cert and the chain.\n\nChange-Id: I646c8419838011160a74c4c4c488c04268825efd\n'}, {'number': 2, 'created': '2019-08-02 00:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/4fd66872a97f3a76a844edcbb3969c4b2c95d8cf', 'message': 'Do not concatenate chained certs w/out line breaks\n\nThe charm was adding the CA and chain certificate without a line break\nleading to an invalid certificate pem file on the client side.\n\nAdd a line break when concatenating the ca cert and the chain.\n\nChange-Id: I646c8419838011160a74c4c4c488c04268825efd\n'}, {'number': 3, 'created': '2019-08-02 18:05:52.000000000', 'files': ['hooks/ssl_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/953442f0cbebd227fdc031b5ad1f2357ae9926ac', 'message': 'Do not concatenate chained certs w/out line breaks\n\nThe charm was adding the CA and chain certificate without a line break\nleading to an invalid certificate pem file on the client side.\n\nAdd a line break when concatenating the ca cert and the chain.\n\nCloses-Bug: #1838709\nChange-Id: I646c8419838011160a74c4c4c488c04268825efd\n'}]",0,674145,953442f0cbebd227fdc031b5ad1f2357ae9926ac,20,4,3,20805,,,0,"Do not concatenate chained certs w/out line breaks

The charm was adding the CA and chain certificate without a line break
leading to an invalid certificate pem file on the client side.

Add a line break when concatenating the ca cert and the chain.

Closes-Bug: #1838709
Change-Id: I646c8419838011160a74c4c4c488c04268825efd
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/45/674145/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ssl_utils.py'],1,9dc83af45d33f6564cb86aad1668d2ac34f9d1f9,bug/1838709," ca_data = ca_data + ""\n"" + relation_certs.get('chain')", ca_data = ca_data + relation_certs.get('chain'),1,1
openstack%2Fkolla-ansible~master~Ie148accdd8e6c60df6b521d55bda12b850c0d255,openstack/kolla-ansible,master,Ie148accdd8e6c60df6b521d55bda12b850c0d255,Add extra volumes support for services that were not previously supported,MERGED,2019-06-25 03:11:05.000000000,2019-08-05 09:02:04.000000000,2019-08-05 09:02:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28367}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-25 03:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6fdce7a5ec4ae90b5517547427716474be6e11e5', 'message': 'Add rabbitmq extra volumes\n\nAdd extra volumes support for rabbitmq. In some cases, such as configuring\ntls for rabbitmq is very useful.\n\nChange-Id: Ie148accdd8e6c60df6b521d55bda12b850c0d255\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 2, 'created': '2019-06-26 09:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0536bbd402b1e0ca0f8b4c57b45451d377736174', 'message': ""Add extra volumes support for services that were not previously supported\n\nWe don't add extra volumes support for all services in patch [1].\nIn order to unify the management of the volume, so we need add extra volumes\nsupport for these services.\n\n[1] https://opendev.org/openstack/kolla-ansible/commit/12ff28a69351cf8ab4ef3390739e04862ba76983\n\nChange-Id: Ie148accdd8e6c60df6b521d55bda12b850c0d255\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n""}, {'number': 3, 'created': '2019-06-27 06:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05f97722acb92582f7a5d7b35b4668fdc62471f7', 'message': ""Add extra volumes support for services that were not previously supported\n\nWe don't add extra volumes support for all services in patch [1].\nIn order to unify the management of the volume, so we need add extra volumes\nsupport for these services.\n\n[1] https://opendev.org/openstack/kolla-ansible/commit/12ff28a69351cf8ab4ef3390739e04862ba76983\n\nChange-Id: Ie148accdd8e6c60df6b521d55bda12b850c0d255\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n""}, {'number': 4, 'created': '2019-06-27 10:33:38.000000000', 'files': ['ansible/roles/rally/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e610a73e9863bcc63f6e6c907f7eb654aa1ee37f', 'message': ""Add extra volumes support for services that were not previously supported\n\nWe don't add extra volumes support for all services in patch [1].\nIn order to unify the management of the volume, so we need add extra volumes\nsupport for these services.\n\n[1] https://opendev.org/openstack/kolla-ansible/commit/12ff28a69351cf8ab4ef3390739e04862ba76983\n\nChange-Id: Ie148accdd8e6c60df6b521d55bda12b850c0d255\nPartially-Implements: blueprint support-extra-volumes\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n""}]",4,667256,e610a73e9863bcc63f6e6c907f7eb654aa1ee37f,20,7,4,28367,,,0,"Add extra volumes support for services that were not previously supported

We don't add extra volumes support for all services in patch [1].
In order to unify the management of the volume, so we need add extra volumes
support for these services.

[1] https://opendev.org/openstack/kolla-ansible/commit/12ff28a69351cf8ab4ef3390739e04862ba76983

Change-Id: Ie148accdd8e6c60df6b521d55bda12b850c0d255
Partially-Implements: blueprint support-extra-volumes
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/667256/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/rabbitmq/defaults/main.yml'],1,6fdce7a5ec4ae90b5517547427716474be6e11e5,bp/support-extra-volumes," volumes: ""{{ rabbitmq_default_volumes + rabbitmq_extra_volumes }}""rabbitmq_default_volumes: - ""{{ node_config_directory }}/{{ project_name }}/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ project_name }}:/var/lib/rabbitmq/"" - ""kolla_logs:/var/log/kolla/"" rabbitmq_extra_volumes: ""{{ default_extra_volumes }}"""," volumes: - ""{{ node_config_directory }}/{{ project_name }}/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ project_name }}:/var/lib/rabbitmq/"" - ""kolla_logs:/var/log/kolla/""",8,5
openstack%2Fos-win~master~I465f0e055d70ca4c458f803c7f77eaca4477d52f,openstack/os-win,master,I465f0e055d70ca4c458f803c7f77eaca4477d52f,Add Python 3 Train unit tests,MERGED,2019-07-05 21:03:34.000000000,2019-08-05 09:00:08.000000000,2019-08-05 09:00:08.000000000,"[{'_account_id': 8213}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-05 21:03:34.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-win/commit/16bf0eb8c9689ebe1127d524bed2487f6d738790', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I465f0e055d70ca4c458f803c7f77eaca4477d52f\nStory: #2005924\nTask: #34257\n'}]",0,669531,16bf0eb8c9689ebe1127d524bed2487f6d738790,8,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I465f0e055d70ca4c458f803c7f77eaca4477d52f
Story: #2005924
Task: #34257
",git fetch https://review.opendev.org/openstack/os-win refs/changes/31/669531/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,16bf0eb8c9689ebe1127d524bed2487f6d738790,python3-train,"envlist = py27,py37,pep8","envlist = py36,py37,py27,pep8",3,3
openstack%2Foswin-tempest-plugin~master~I622ef0306ac48509c46e243c83f458e57e496258,openstack/oswin-tempest-plugin,master,I622ef0306ac48509c46e243c83f458e57e496258,Add Python 3 Train unit tests,MERGED,2019-07-05 21:03:53.000000000,2019-08-05 09:00:04.000000000,2019-08-05 09:00:04.000000000,"[{'_account_id': 8213}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 21:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/4a8c3bfe2c1d8341a7bd4313d10b7dfabb1b95f1', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I622ef0306ac48509c46e243c83f458e57e496258\nStory: #2005924\nTask: #34257\n'}, {'number': 2, 'created': '2019-07-30 15:12:30.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/a291a1b4710e5632416d7db4c241dfe9228c6426', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nNote that since tempest is branchless that we retain py35 support.\n\nChange-Id: I622ef0306ac48509c46e243c83f458e57e496258\nStory: #2005924\nTask: #34257\n'}]",2,669532,a291a1b4710e5632416d7db4c241dfe9228c6426,10,3,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Note that since tempest is branchless that we retain py35 support.

Change-Id: I622ef0306ac48509c46e243c83f458e57e496258
Story: #2005924
Task: #34257
",git fetch https://review.opendev.org/openstack/oswin-tempest-plugin refs/changes/32/669532/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,4a8c3bfe2c1d8341a7bd4313d10b7dfabb1b95f1,python3-train,"envlist = py27,py37,pypy,pep8","envlist = py35,py36,py27,pypy,pep8",3,4
openstack%2Ftripleo-common~master~I375e80c1b98a90d414b58635a2b7a4e745bdccf0,openstack/tripleo-common,master,I375e80c1b98a90d414b58635a2b7a4e745bdccf0,Minor fix for typo : replaces seccomp with libseccomp,MERGED,2019-08-02 11:59:27.000000000,2019-08-05 08:53:45.000000000,2019-08-05 08:53:45.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-02 11:59:27.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d815d651ebac8c7fd8504052d03c7dd4142e9104', 'message': 'Minor fix for typo : replaces seccomp with libseccomp\n\nChange-Id: I375e80c1b98a90d414b58635a2b7a4e745bdccf0\n'}]",0,674282,d815d651ebac8c7fd8504052d03c7dd4142e9104,13,10,1,28186,,,0,"Minor fix for typo : replaces seccomp with libseccomp

Change-Id: I375e80c1b98a90d414b58635a2b7a4e745bdccf0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/674282/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,d815d651ebac8c7fd8504052d03c7dd4142e9104,, 'libseccomp', 'seccomp',1,1
openstack%2Fopenstack-ansible-os_tempest~master~I549c3b211a8affff30380435738ca685b794716d,openstack/openstack-ansible-os_tempest,master,I549c3b211a8affff30380435738ca685b794716d,Set fact tempest_install_method var for meta handler,ABANDONED,2019-07-23 09:02:48.000000000,2019-08-05 08:49:41.000000000,,"[{'_account_id': 8367}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-23 09:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7c004613ad20f4272ec4b1dd38db3cab14e2e244', 'message': '[WIP]Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, stackviz is installed using python_venv_build\nrole and tempest is installed from source or distro but once the\ntempest run finishes python_venv_build meta handler is called and\nit fails with tempest_install_method undefined variable but\nsetting as a fact explicitly fix the issue.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-24 17:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/28108b4da73b73efbf0253e6c33e7f52e4b24bf2', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, stackviz is installed using python_venv_build\nrole and tempest is installed from source or distro but once the\ntempest run finishes python_venv_build meta handler is called and\nit fails with tempest_install_method undefined variable but\nsetting as a fact explicitly fix the issue.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-07-25 04:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c99f3ee5ce116b96300eb8ab6bd23736d60677ba', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, stackviz is installed using python_venv_build\nrole and tempest is installed from source or distro but once the\ntempest run finishes python_venv_build meta handler is called and\nit fails with tempest_install_method undefined variable but\nsetting as a fact explicitly fix the issue.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-07-25 08:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7a421c0095fd0da71daa98736fc78ceb0a23a6be', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, stackviz is installed using python_venv_build\nrole and tempest is installed from source or distro but once the\ntempest run finishes python_venv_build meta handler is called and\nit fails with tempest_install_method undefined variable but\nsetting as a fact explicitly fix the issue.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-07-26 12:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5f7acdf219fd66f3ba032e672eae47ed0bc3bd58', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, python_venv_build ansible role is used\nfor managing venv and the role contains a noop handler which\nflushes out the existing vars used with in the play where\nos_tempest role is used leading to undefined\ntempest_install_method var at the end of the play.\n\nIn order to fix that, using set_fact to set the\ntempest_install_method var value so that it does not fails.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-07-26 16:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6fe3c52cf71cee7842468a3baaa9d7b11b603ed5', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, python_venv_build ansible role is used\nfor managing venv and the role contains a noop handler which\nflushes out the existing vars used with in the play where\nos_tempest role is used leading to undefined\ntempest_install_method var at the end of the play.\n\nIn order to fix that, using set_fact to set the\ntempest_install_method var value so that it does not fails.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-07-26 16:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2bfe041e70927e939df37ffcb2ee694ba3f42331', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, python_venv_build ansible role is used\nfor managing venv and the role contains a noop handler which\nflushes out the existing vars used with in the play where\nos_tempest role is used leading to undefined\ntempest_install_method var at the end of the play.\n\nIn order to fix that, using set_fact to set the\ntempest_install_method var value and also keeping current\ndefault so that it does not fails.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-07-26 16:42:58.000000000', 'files': ['tasks/tempest_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/121a18bd0d26980b9a90eb9495c13a6a7ca260a5', 'message': 'Set fact tempest_install_method var for meta handler\n\nIn os_tempest role, python_venv_build ansible role is used\nfor managing venv and the role contains a noop handler which\nflushes out the existing vars used with in the play where\nos_tempest role is used leading to undefined\ntempest_install_method var at the end of the play.\n\nIn order to fix that, using set_fact to set the\ntempest_install_method var value and also keeping current\ndefault so that it does not fails.\n\nChange-Id: I549c3b211a8affff30380435738ca685b794716d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",7,672231,121a18bd0d26980b9a90eb9495c13a6a7ca260a5,26,8,8,12393,,,0,"Set fact tempest_install_method var for meta handler

In os_tempest role, python_venv_build ansible role is used
for managing venv and the role contains a noop handler which
flushes out the existing vars used with in the play where
os_tempest role is used leading to undefined
tempest_install_method var at the end of the play.

In order to fix that, using set_fact to set the
tempest_install_method var value and also keeping current
default so that it does not fails.

Change-Id: I549c3b211a8affff30380435738ca685b794716d
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/31/672231/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install.yml'],1,7c004613ad20f4272ec4b1dd38db3cab14e2e244,ansible_28," when: tempest_install_method == 'source' # NOTE(noonedeadpunk/chkumar246): # Applying default filter for tempest_install_method is required despite the variable being defined # in defaults as in case of non-integrated tests meta handlers from other roles might fail. - name: Set tempest_install_method fact set_fact: tempest_install_method: ""source"" when: tempest_run_stackviz | bool",# NOTE(noonedeadpunk): # Applying default filter for tempest_install_method is required despite the variable being defined # in defaults as in case of non-integrated tests meta handlers from other roles might fail. when: (tempest_install_method | default('source')) == 'source',9,4
openstack%2Ftripleo-heat-templates~master~Ib179e3bbc827cc438519b19e85bda4a9994376b9,openstack/tripleo-heat-templates,master,Ib179e3bbc827cc438519b19e85bda4a9994376b9,keystone: drop duplicate -DFOREGROUND,MERGED,2019-06-08 12:57:10.000000000,2019-08-05 08:46:39.000000000,2019-06-13 03:50:08.000000000,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-08 12:57:10.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8eaac3026e54a057287301c8c844b54d2c310bc7', 'message': 'keystone: drop duplicate -DFOREGROUND\n\nNo need to specify this as kolla adds this arg automatically\nwhen using kolla_start.\n\nChange-Id: Ib179e3bbc827cc438519b19e85bda4a9994376b9\nCloses-bug: #1832090\n'}]",0,664135,8eaac3026e54a057287301c8c844b54d2c310bc7,20,6,1,360,,,0,"keystone: drop duplicate -DFOREGROUND

No need to specify this as kolla adds this arg automatically
when using kolla_start.

Change-Id: Ib179e3bbc827cc438519b19e85bda4a9994376b9
Closes-bug: #1832090
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/664135/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,8eaac3026e54a057287301c8c844b54d2c310bc7,bug/1832090, command: /usr/sbin/httpd, command: /usr/sbin/httpd -DFOREGROUND,1,1
openstack%2Fneutron~master~Iea8121eb4b25e66e2527feb5bf3f8f351114c721,openstack/neutron,master,Iea8121eb4b25e66e2527feb5bf3f8f351114c721,Fix tools/configure_for_func_testing.sh,MERGED,2019-08-02 17:08:18.000000000,2019-08-05 08:44:41.000000000,2019-08-05 08:44:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-08-02 17:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21c670b1fa179888cf133f3bf25f334096fcef4e', 'message': 'Fix tools/configure_for_func_testing.sh\n\nRemove an erroneous ""source"", we test for existing of a file, the source\nis misplaced.\n\nThe source results in errors executing like:\n/home/zuul/src/opendev.org/openstack/neutron/tools/configure_for_func_testing.sh: line 81: [: source: binary operator expected\n\nChange-Id: Iea8121eb4b25e66e2527feb5bf3f8f351114c721\n'}, {'number': 2, 'created': '2019-08-04 09:51:11.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a28340628a58f5e80641766a4f9b9806d60a2a8', 'message': 'Fix tools/configure_for_func_testing.sh\n\nRemove an erroneous ""source"", we test for existing of a file, the source\nis misplaced.\n\nThe source results in errors executing like:\n/home/zuul/src/opendev.org/openstack/neutron/tools/configure_for_func_testing.sh: line 81: [: source: binary operator expected\n\nChange-Id: Iea8121eb4b25e66e2527feb5bf3f8f351114c721\n'}]",0,674354,8a28340628a58f5e80641766a4f9b9806d60a2a8,33,11,2,6547,,,0,"Fix tools/configure_for_func_testing.sh

Remove an erroneous ""source"", we test for existing of a file, the source
is misplaced.

The source results in errors executing like:
/home/zuul/src/opendev.org/openstack/neutron/tools/configure_for_func_testing.sh: line 81: [: source: binary operator expected

Change-Id: Iea8121eb4b25e66e2527feb5bf3f8f351114c721
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/674354/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,21c670b1fa179888cf133f3bf25f334096fcef4e,fix-functional, if [ -f $DEVSTACK_PATH/local.conf ]; then, if [ -f source $DEVSTACK_PATH/local.conf ]; then,1,1
openstack%2Fcharm-vault~master~I639b9b32b7b546e0629a30da475e73b458388f37,openstack/charm-vault,master,I639b9b32b7b546e0629a30da475e73b458388f37,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:42.000000000,2019-08-05 08:41:12.000000000,2019-08-05 08:41:12.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:57:42.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1fbea00eb03c84afe8dcc545f473a2f9f2293a4f', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I639b9b32b7b546e0629a30da475e73b458388f37\nPartial-Bug: #1838783\n'}]",0,674394,1fbea00eb03c84afe8dcc545f473a2f9f2293a4f,9,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I639b9b32b7b546e0629a30da475e73b458388f37
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/94/674394/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,1fbea00eb03c84afe8dcc545f473a2f9f2293a4f,bug/1838783,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 6a4e8d66-b54e-11e9-9e21-27ae1864b062",ead94b1e-22c4-478b-84c9-573619f83a4d,5,1
openstack%2Fcharm-octavia~master~I4835f7178f4af914a90a3aec8fe108a273125cd6,openstack/charm-octavia,master,I4835f7178f4af914a90a3aec8fe108a273125cd6,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:56:55.000000000,2019-08-05 08:32:03.000000000,2019-08-05 08:32:03.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:56:55.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3f649075bdcaeae06651acdee81f10e57fd4900e', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I4835f7178f4af914a90a3aec8fe108a273125cd6\nPartial-Bug: #1838783\n'}]",0,674389,3f649075bdcaeae06651acdee81f10e57fd4900e,11,4,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I4835f7178f4af914a90a3aec8fe108a273125cd6
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/89/674389/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3f649075bdcaeae06651acdee81f10e57fd4900e,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-ceph-rbd-mirror~master~I7234afe50a0edabac5b72b8536b33cbf3c320149,openstack/charm-ceph-rbd-mirror,master,I7234afe50a0edabac5b72b8536b33cbf3c320149,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:51.000000000,2019-08-05 08:30:03.000000000,2019-08-05 08:30:03.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:54:51.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/9e1d9867f6c0dc7093ef1e05ab24701c28dbd8af', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I7234afe50a0edabac5b72b8536b33cbf3c320149\nPartial-Bug: #1838783\n'}]",0,674378,9e1d9867f6c0dc7093ef1e05ab24701c28dbd8af,9,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I7234afe50a0edabac5b72b8536b33cbf3c320149
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/78/674378/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9e1d9867f6c0dc7093ef1e05ab24701c28dbd8af,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fkolla-ansible~master~I62f57cb489c900f68a0c7aeb3e20e4715c0e2661,openstack/kolla-ansible,master,I62f57cb489c900f68a0c7aeb3e20e4715c0e2661,CI: Fix multinode job glance issues,MERGED,2019-07-26 17:32:08.000000000,2019-08-05 08:15:47.000000000,2019-08-05 08:13:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-07-26 17:32:08.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d03172602d0d07208319b00767a5be266991339f', 'message': 'CI: Fix multinode job glance issues\n\nThis actually replaces two ad-hoc fixes with a more unified\nsolution (with comment for posterity).\n\nChange-Id: I62f57cb489c900f68a0c7aeb3e20e4715c0e2661\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,673025,d03172602d0d07208319b00767a5be266991339f,8,3,1,30491,,,0,"CI: Fix multinode job glance issues

This actually replaces two ad-hoc fixes with a more unified
solution (with comment for posterity).

Change-Id: I62f57cb489c900f68a0c7aeb3e20e4715c0e2661
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/673025/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,d03172602d0d07208319b00767a5be266991339f,ci-fix-multinode-glance,"{% else %} # NOTE(yoctozepto): in case ceph is *not* used, we have to use the ansible node (primary) # to avoid random errors due to inventory randomness in Zuul (YAML format) # because we use primary as the API endpoint and there is currently no HAProxy in CI # and the default behavior is to pick the ""first"" node (issue affects only multinode) glance_api_hosts: [""{{ inventory_hostname }}""]","glance_api_hosts: [""{{ inventory_hostname }}""]glance_api_hosts: [""{{ inventory_hostname }}""]",6,2
openstack%2Fkolla-ansible~stable%2Fstein~I09ca99e92b112621d66b564a88b13658632242f5,openstack/kolla-ansible,stable/stein,I09ca99e92b112621d66b564a88b13658632242f5,CI: Pull images before upgrade,MERGED,2019-06-22 08:36:21.000000000,2019-08-05 08:11:22.000000000,2019-08-05 08:11:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-22 08:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe19a36de34f54f4a6c217cc3cd92beb9c2ee4d7', 'message': 'CI: Pull images before upgrade\n\nThis is the documented procedure.\n\nChange-Id: I09ca99e92b112621d66b564a88b13658632242f5\n'}, {'number': 2, 'created': '2019-07-08 10:40:21.000000000', 'files': ['tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd9146da6c163cec3458c200fe81e8d448c278c3', 'message': 'CI: Pull images before upgrade\n\nThis is the documented procedure.\n\nChange-Id: I09ca99e92b112621d66b564a88b13658632242f5\n(cherry picked from commit f11d3c694a57342433e22690ffbbb3d1a34b0b5c)\n'}]",0,666953,dd9146da6c163cec3458c200fe81e8d448c278c3,11,5,2,14826,,,0,"CI: Pull images before upgrade

This is the documented procedure.

Change-Id: I09ca99e92b112621d66b564a88b13658632242f5
(cherry picked from commit f11d3c694a57342433e22690ffbbb3d1a34b0b5c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/666953/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/defaults/main.yml', 'tests/upgrade.sh']",2,fe19a36de34f54f4a6c217cc3cd92beb9c2ee4d7,, tools/kolla-ansible -i ${RAW_INVENTORY} -vvv pull > /tmp/logs/ansible/pull, # TODO(jeffrey4l): need run a real upgrade # TODO(mgoddard): add pull action when we have a local registry service in # CI.,2,3
openstack%2Fkolla-ansible~stable%2Frocky~I364c8a71633fac846dbaac8eaa0b78191e6d7d0e,openstack/kolla-ansible,stable/rocky,I364c8a71633fac846dbaac8eaa0b78191e6d7d0e,Enable deflate when using tls for horizon,MERGED,2019-06-28 19:38:29.000000000,2019-08-05 08:10:45.000000000,2019-08-05 08:10:45.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-06-28 19:38:29.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ed551c1fdcfba68e6e0ae9458fa7b5540fdc28e', 'message': 'Enable deflate when using tls for horizon\n\ndeflate is disable because of breach attach[0] issue. But it has be\nfixed on horizon size through[1], so we cloud enable deflate all the\ntime.\n\ncompress application/json too in default.\n\n[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0037\n[1] https://review.openstack.org/#/c/596549/\n\nChange-Id: I364c8a71633fac846dbaac8eaa0b78191e6d7d0e\nCloses-Bug: #1827976\n(cherry picked from commit 06a8161a18df142be19b5030a970e7e002c68d81)\n'}]",0,668237,5ed551c1fdcfba68e6e0ae9458fa7b5540fdc28e,12,6,1,30523,,,0,"Enable deflate when using tls for horizon

deflate is disable because of breach attach[0] issue. But it has be
fixed on horizon size through[1], so we cloud enable deflate all the
time.

compress application/json too in default.

[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0037
[1] https://review.openstack.org/#/c/596549/

Change-Id: I364c8a71633fac846dbaac8eaa0b78191e6d7d0e
Closes-Bug: #1827976
(cherry picked from commit 06a8161a18df142be19b5030a970e7e002c68d81)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/668237/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/templates/horizon.conf.j2'],1,5ed551c1fdcfba68e6e0ae9458fa7b5540fdc28e,,"{% endif %} # Compress HTML, CSS, JavaScript, Json, Text, XML and fonts AddOutputFilterByType DEFLATE application/json","{% else %} # NOTE(Jeffrey4l): Only enable deflate when tls is disabled until the # OSSN-0037 is fixed. # see https://wiki.openstack.org/wiki/OSSN/OSSN-0037 for more information. # Compress HTML, CSS, JavaScript, Text, XML and fonts{% endif %}",4,6
openstack%2Fkolla-ansible~stable%2Frocky~Ic84f3b79fdd3cd1730ca2fb79c11c7a4e4d824de,openstack/kolla-ansible,stable/rocky,Ic84f3b79fdd3cd1730ca2fb79c11c7a4e4d824de,Fix ironic inspector iPXE boot with UEFI,MERGED,2019-07-18 08:00:32.000000000,2019-08-05 08:10:44.000000000,2019-08-05 08:10:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-07-18 08:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ad9cb4235416812c33c913734122108d56c6b23', 'message': 'Fix ironic inspector iPXE boot with UEFI\n\nThe ironic inspector iPXE configuration includes the following kernel\nargument:\n\ninitrd=agent.ramdisk\n\nHowever, the ramdisk is actually called ironic-agent.initramfs, so the\nargument should be:\n\ninitrd=ironic-agent.initramfs\n\nIn BIOS boot mode this does not cause a problem, but for compute nodes\nwith UEFI enabled, it seems to be more strict about this, and fails to\nboot.\n\nChange-Id: Ic84f3b79fdd3cd1730ca2fb79c11c7a4e4d824de\nCloses-Bug: #1836375\n(cherry picked from commit 7b9397566a66eb19b2c687d293c55fb3e05bc5fd)\n'}, {'number': 2, 'created': '2019-08-02 11:31:20.000000000', 'files': ['ansible/roles/ironic/templates/inspector.ipxe.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c877ce3cce855562cec44b6b5e34c7e1b92eafd', 'message': 'Fix ironic inspector iPXE boot with UEFI\n\nThe ironic inspector iPXE configuration includes the following kernel\nargument:\n\ninitrd=agent.ramdisk\n\nHowever, the ramdisk is actually called ironic-agent.initramfs, so the\nargument should be:\n\ninitrd=ironic-agent.initramfs\n\nIn BIOS boot mode this does not cause a problem, but for compute nodes\nwith UEFI enabled, it seems to be more strict about this, and fails to\nboot.\n\nChange-Id: Ic84f3b79fdd3cd1730ca2fb79c11c7a4e4d824de\nCloses-Bug: #1836375\n(cherry picked from commit 7b9397566a66eb19b2c687d293c55fb3e05bc5fd)\n'}]",0,671421,1c877ce3cce855562cec44b6b5e34c7e1b92eafd,9,3,2,15197,,,0,"Fix ironic inspector iPXE boot with UEFI

The ironic inspector iPXE configuration includes the following kernel
argument:

initrd=agent.ramdisk

However, the ramdisk is actually called ironic-agent.initramfs, so the
argument should be:

initrd=ironic-agent.initramfs

In BIOS boot mode this does not cause a problem, but for compute nodes
with UEFI enabled, it seems to be more strict about this, and fails to
boot.

Change-Id: Ic84f3b79fdd3cd1730ca2fb79c11c7a4e4d824de
Closes-Bug: #1836375
(cherry picked from commit 7b9397566a66eb19b2c687d293c55fb3e05bc5fd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/671421/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/templates/inspector.ipxe.j2'],1,6ad9cb4235416812c33c913734122108d56c6b23,bug/1836375,kernel --timeout 30000 {{ ironic_ipxe_url }}/ironic-agent.kernel ipa-inspection-callback-url=http://{{ kolla_internal_vip_address }}:{{ ironic_inspector_port }}/v1/continue systemd.journald.forward_to_console=yes BOOTIF=${mac} initrd=ironic-agent.initramfs {{ ironic_inspector_kernel_cmdline_extras | join(' ') }} || goto retry_boot,kernel --timeout 30000 {{ ironic_ipxe_url }}/ironic-agent.kernel ipa-inspection-callback-url=http://{{ kolla_internal_vip_address }}:{{ ironic_inspector_port }}/v1/continue systemd.journald.forward_to_console=yes BOOTIF=${mac} initrd=agent.ramdisk {{ ironic_inspector_kernel_cmdline_extras | join(' ') }} || goto retry_boot,1,1
openstack%2Fkolla-ansible~stable%2Frocky~Ic19264191a0ed418fa959fdc122cef543446fbe5,openstack/kolla-ansible,stable/rocky,Ic19264191a0ed418fa959fdc122cef543446fbe5,ceph-nfs: Add rpcbind to Ubuntu host bootstrap,MERGED,2019-08-04 10:14:54.000000000,2019-08-05 08:10:43.000000000,2019-08-05 08:10:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-04 10:14:54.000000000', 'files': ['doc/source/reference/ceph-guide.rst', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ab7e4c1f8d2c4fc9a855fdfeeb1a52e524c01d8', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n(cherry picked from commit efcaf400b89d83db59871b97421d71d934b5b168)\n(cherry picked from commit 92090b25a459b2ce550cdaf8724f03d89ab46d45)\n'}]",0,674481,4ab7e4c1f8d2c4fc9a855fdfeeb1a52e524c01d8,9,4,1,30491,,,0,"ceph-nfs: Add rpcbind to Ubuntu host bootstrap

* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind
udp test on startup (was fixed later)
* Add rpcbind package to be installed by kolla-ansible bootstrap when
ceph_nfs is enabled
* Update Ceph deployment docs with a note

Change-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5
(cherry picked from commit efcaf400b89d83db59871b97421d71d934b5b168)
(cherry picked from commit 92090b25a459b2ce550cdaf8724f03d89ab46d45)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/674481/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/ceph-guide.rst', 'ansible/roles/baremetal/defaults/main.yml']",2,4ab7e4c1f8d2c4fc9a855fdfeeb1a52e524c01d8,,"# Ubuntu 18+ bundles nfs-ganesha 2.6.0 with Ceph Mimic packages, # which does udp rpcbind test even with NFSv3 disabled - therefore # rpcbind needs to be installed, when Ceph NFS is enabled. - ""{% if enable_ceph_nfs|bool %}rpcbind{% endif %}""",,51,23
openstack%2Fkolla-ansible~stable%2Fstein~If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2,openstack/kolla-ansible,stable/stein,If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2,Update contributor guide,MERGED,2019-07-23 14:54:55.000000000,2019-08-05 08:10:42.000000000,2019-08-05 08:10:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-23 14:54:55.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/ptl-guide.rst', 'doc/source/contributor/running-tests.rst', 'doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea630d96ea12dd08d7c2d2de9c18a6bfb873b1eb', 'message': 'Update contributor guide\n\n... or ""what I wish existed when I first became PTL""\n\nSome general improvements to the contributor guide, plus new sections\nfor PTL duties and release management.\n\nChange-Id: If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2\n(cherry picked from commit 68796d79fa52e1fadb35e987a80b263c6ff3a5dd)\n'}]",0,672308,ea630d96ea12dd08d7c2d2de9c18a6bfb873b1eb,8,4,1,30491,,,0,"Update contributor guide

... or ""what I wish existed when I first became PTL""

Some general improvements to the contributor guide, plus new sections
for PTL duties and release management.

Change-Id: If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2
(cherry picked from commit 68796d79fa52e1fadb35e987a80b263c6ff3a5dd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/672308/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/ptl-guide.rst', 'doc/source/contributor/running-tests.rst', 'doc/source/contributor/release-management.rst']",6,ea630d96ea12dd08d7c2d2de9c18a6bfb873b1eb,,================== Release Management ================== Release management for Kolla Ansible is very much linked to that of Kolla. See `Kolla release management <https://docs.openstack.org/kolla/latest/contributor/release-management.html>`__. ,,75,17
openstack%2Fkolla-ansible~stable%2Frocky~I45a7173139f057177a71e919ad3e718a99d9f87b,openstack/kolla-ansible,stable/rocky,I45a7173139f057177a71e919ad3e718a99d9f87b,Test minimum supported and latest versions of Ansible,MERGED,2019-07-15 10:06:58.000000000,2019-08-05 08:10:41.000000000,2019-08-05 08:10:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-15 10:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/101c37d6e1041214ca94b065ec61fab53a2fff11', 'message': 'Test minimum supported and latest versions of Ansible\n\nWe have a minimum supported version of Ansible, currently 2.5. We should\ntest this in addition to the latest version. This change tests latest on\nUbuntu, and minimum on other distros.\n\nChange-Id: I45a7173139f057177a71e919ad3e718a99d9f87b\n(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)\n'}, {'number': 2, 'created': '2019-07-15 13:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6aa48173311347eaf65698e7c5971025773ba37b', 'message': 'Test minimum supported and latest versions of Ansible\n\nWe have a minimum supported version of Ansible, currently 2.4. We should\ntest this in addition to the latest version. This change tests latest on\nUbuntu, and minimum on other distros.\n\nAlso limited ARA to 0.15, as necessary to work with Ansible 2.4.\n\nChange-Id: I45a7173139f057177a71e919ad3e718a99d9f87b\n(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)\n'}, {'number': 3, 'created': '2019-07-15 13:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3e0f98d0a443d1967c3f1186004cb4d403f8ab7', 'message': 'Test minimum supported and latest versions of Ansible\n\nWe have a minimum supported version of Ansible, currently 2.4. We should\ntest this in addition to the latest version. This change tests latest on\nUbuntu, and minimum on other distros.\n\nAlso limited ARA to 0.15, as necessary to work with Ansible 2.4.\n\nChange-Id: I45a7173139f057177a71e919ad3e718a99d9f87b\n(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)\n'}, {'number': 4, 'created': '2019-07-15 13:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6459f30b1de1b3fb601afb0ffbb8369c69a990c', 'message': 'Test minimum supported and latest versions of Ansible\n\nWe have a minimum supported version of Ansible, currently 2.4. We should\ntest this in addition to the latest version. This change tests latest on\nUbuntu, and minimum on other distros.\n\nAlso limited ARA to 0.15, as necessary to work with Ansible 2.4.\n\nChange-Id: I45a7173139f057177a71e919ad3e718a99d9f87b\n(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)\n'}, {'number': 5, 'created': '2019-07-15 15:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3999d0442edc242f84c874294e6d34e6e788a741', 'message': 'Test minimum supported and latest versions of Ansible\n\nWe have a minimum supported version of Ansible, currently 2.4. We should\ntest this in addition to the latest version. This change tests latest on\nUbuntu, and minimum on other distros.\n\nAlso limited ARA to 0.15, as necessary to work with Ansible 2.4.\n\nChange-Id: I45a7173139f057177a71e919ad3e718a99d9f87b\n(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)\n'}, {'number': 6, 'created': '2019-07-15 16:35:18.000000000', 'files': ['tools/setup_gate.sh', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b039bddf59d2a774e743577d4e810a965df3cfa', 'message': 'Test minimum supported and latest versions of Ansible\n\nWe have a minimum supported version of Ansible, currently 2.4. We should\ntest this in addition to the latest version. This change tests latest on\nUbuntu, and minimum on other distros.\n\nAlso limited ARA to 0.15, as necessary to work with Ansible 2.4.\n\nChange-Id: I45a7173139f057177a71e919ad3e718a99d9f87b\n(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)\n'}]",0,670803,2b039bddf59d2a774e743577d4e810a965df3cfa,21,4,6,14826,,,0,"Test minimum supported and latest versions of Ansible

We have a minimum supported version of Ansible, currently 2.4. We should
test this in addition to the latest version. This change tests latest on
Ubuntu, and minimum on other distros.

Also limited ARA to 0.15, as necessary to work with Ansible 2.4.

Change-Id: I45a7173139f057177a71e919ad3e718a99d9f87b
(cherry picked from commit b9da05be556ad8fb847d968a7240557829c5bfdb)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/670803/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,101c37d6e1041214ca94b065ec61fab53a2fff11,," # Test latest ansible version on Ubuntu, minimum supported on others. if [[ $BASE_DISTRO == ""ubuntu"" ]]; then ANSIBLE_VERSION="">=2.4"" else ANSIBLE_VERSION=""<2.4"" fi sudo -H pip install -U ""ansible${ANSIBLE_VERSION}"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara<1.0.0"" ""cmd2<0.9.0"""," sudo -H pip install -U ""ansible>=2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara<1.0.0"" ""cmd2<0.9.0""",7,1
openstack%2Fneutron-specs~master~I1483a6474d5f5a7530a2b2e9e369f712b591fec4,openstack/neutron-specs,master,I1483a6474d5f5a7530a2b2e9e369f712b591fec4,Introduce distributed locks to ipam module,MERGED,2019-05-05 10:12:33.000000000,2019-08-05 08:10:16.000000000,2019-08-05 08:10:16.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 10068}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 22378}, {'_account_id': 26458}, {'_account_id': 28373}, {'_account_id': 30200}]","[{'number': 1, 'created': '2019-05-05 10:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/46e2cee1817a2577107d12d0a242a504f75033e3', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the openstack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\nImplements: blueprint introduce-distributed-locks-to-ipam\n'}, {'number': 2, 'created': '2019-07-17 05:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/460d272d0d6497794be7210bac5ee544a7ea8838', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the openstack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\nImplements: blueprint introduce-distributed-locks-to-ipam\n'}, {'number': 3, 'created': '2019-07-17 05:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/93c0120ea7f7cb6b2a3d4dfbafa9f9e83ca0fc81', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the openstack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\nImplements: blueprint introduce-distributed-locks-to-ipam\n'}, {'number': 4, 'created': '2019-07-18 01:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/260e995f18e8c2ab93c48c3f06475cd42aa246b2', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 5, 'created': '2019-07-18 04:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f1a92baec611c3add91f08c6e2271ad17699d0a4', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 6, 'created': '2019-07-18 04:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/911e4479aa6fc16e4214cef8a4ad9cffafd47422', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 7, 'created': '2019-07-23 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de332b64aa6cbed3730fcb869e52a0e93e02e894', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 8, 'created': '2019-07-23 10:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8d909290c952deb4eb62c065478a9600c0636adb', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 9, 'created': '2019-07-23 10:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/85a7b1034616645b50671f3bb6f72c54a47ebd2c', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 10, 'created': '2019-07-23 10:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8af7663f52f8758762630cb7981612bfb9899533', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 11, 'created': '2019-07-24 02:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ec9bf5a15d1bd75b93a52e220e3fdb67e8b5ca8d', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 12, 'created': '2019-07-24 02:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/53edb87405a77244e6b7a09f17c118ba58fccd2c', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 13, 'created': '2019-07-24 03:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/489e99e80003fe314e81df455dc0239d214bb725', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 14, 'created': '2019-07-24 03:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d92c10c8b33869b9a097baa416bbd527ea559d11', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 15, 'created': '2019-07-24 03:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8c043a4c0c6c956468f97363478e11e7643264f8', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 16, 'created': '2019-07-25 03:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/986a90f1a4b5b28764adee83250bd3a8d76547a9', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 17, 'created': '2019-07-25 03:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cd712041e2bf73467d941c8a5bbcf4a7f27bc45d', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 18, 'created': '2019-08-01 02:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0fce90809cc7be3953c3d858a070146879e9bea3', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 19, 'created': '2019-08-01 02:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/508a62f360fff34b9a3843fe1cf4d446cdb60d61', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 20, 'created': '2019-08-01 03:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0a409b1352db3dde517a3632028d05032867bf7d', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 21, 'created': '2019-08-02 02:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ce609c34840acb6341647c5241a5fcc735f47040', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 22, 'created': '2019-08-02 03:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/582b49af3d05aed841ae8e8f951e5caa06d956a0', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 23, 'created': '2019-08-02 03:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/73a8b3e516246d59c514e46c0c769c3fff88ae76', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 24, 'created': '2019-08-02 07:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1ca4fa1594038a7b15e360b9ce363117e850eb35', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 25, 'created': '2019-08-02 07:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/763edfe4a934492231021a54478483c54e846ee7', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 26, 'created': '2019-08-02 08:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/821b0e2c7d8d402e10f46d1928b585dae6e753a8', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 27, 'created': '2019-08-02 08:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3ba12f39507ee85561178f475130230d55c6ceb0', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}, {'number': 28, 'created': '2019-08-02 08:24:17.000000000', 'files': ['specs/train/introduce-distributed-locks-to-ipam.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/448601f6bd37a3fcbbd271f251dc2c5e670a72bb', 'message': 'Introduce distributed locks to ipam module\n\nIntroduce the OpenStack tooz distributed lock to the\nipam module. In the scenario of large-scale port\ncreation, avoid ip allocation exceeding the maximum\nretry limit failure and improve ip allocation efficiency.\n\nImplements: blueprint introduce-distributed-locks-to-ipam\nChange-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4\n'}]",83,657221,448601f6bd37a3fcbbd271f251dc2c5e670a72bb,96,11,28,30200,,,0,"Introduce distributed locks to ipam module

Introduce the OpenStack tooz distributed lock to the
ipam module. In the scenario of large-scale port
creation, avoid ip allocation exceeding the maximum
retry limit failure and improve ip allocation efficiency.

Implements: blueprint introduce-distributed-locks-to-ipam
Change-Id: I1483a6474d5f5a7530a2b2e9e369f712b591fec4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/21/657221/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/introduce-distributed-locks-to-ipam.rst'],1,46e2cee1817a2577107d12d0a242a504f75033e3,bp/introduce-distributed-locks-to-ipam,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Introduce distributed locks to ipam module ========================================== https://blueprints.launchpad.net/neutron/+spec/introduce-distributed-locks-to-ipam Introduce the OpenStack tooz distributed lock to the ipam module. In the scenario of large-scale port creation, avoid ip allocation exceeding the maximum retry limit failure and improve ip allocation efficiency. Problem Description =================== 1.Current port creation has a probability of failure. When the virtual machines are created in batches, nova will call the neutron API to create the port concurrently. Because the ip allocation conflict will cause the creation of the port to fail, see [1]_. 2.When creating ports concurrently, the utilization ratio of neutron server CPU increases and the allocation efficiency decreases. When an ip allocation conflict fails to submit a database, a ``DB ERROR`` exception is thrown. ``Create_port`` will catch the above exception and rest after ``retry_interval=0.1`` and re-call ``create_port`` until it exceeds ``max_retries=10``. When concurrency is large and conflict intensifies, repeated call to create_port increases CPU's burden and reduces allocation efficiency. Adjusting ``retry_interval`` and ``max_retries`` can only reduce the probability of problems, but can not solve them thoroughly. Proposed Change =============== This solution introduces OpenStack tooz [2]_ distributed lock, locks before reading the ``ip_allocate`` table, allocates IP and unlocks after writing to the database, which will completely solve the problem of creating port failure caused by the conflict of ip address allocation. This solution has the following important changes: 1.Add the configuration field ``ip_allocate_with_tooz`` to neutron.conf. 2.Introducing OpenStack tooz distributed lock into ``ip_allocate`` method. 3.In order to minimize the number of locked code segments, the ``create_port`` methods will be adjusted. In our environment, we create 1000 instances in batches via rally, and test allocates ip via the neutronclient call ``create_port`` API. With this solution (introduce OpenStack tooz), the success rate of successfully creating instances is increased to 100%, and the average time to create a instance is reduced by about 20 seconds. References ========== .. [1] https://bugs.launchpad.net/neutron/+bug/1777968 .. [2] https://launchpad.net/python-tooz ",,66,0
openstack%2Fopenstacksdk~master~Id20ce8011aa0ac901a138132f7b1932c601e19ab,openstack/openstacksdk,master,Id20ce8011aa0ac901a138132f7b1932c601e19ab,Fix DeprecationWarning for using logger.warn,MERGED,2019-08-02 18:16:52.000000000,2019-08-05 07:57:13.000000000,2019-08-05 07:57:13.000000000,"[{'_account_id': 7634}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-08-02 18:16:52.000000000', 'files': ['openstack/config/cloud_region.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/799bd0a773fb082c1a45262922d87630abc9bd30', 'message': 'Fix DeprecationWarning for using logger.warn\n\nThe logger.warn method is deprecated, use warning instead.\n\nhttps://docs.python.org/3.6/library/logging.html#logging.warning\n\nChange-Id: Id20ce8011aa0ac901a138132f7b1932c601e19ab\nStory: 2006330\nTask: 36070\n'}]",0,674401,799bd0a773fb082c1a45262922d87630abc9bd30,9,5,1,6873,,,0,"Fix DeprecationWarning for using logger.warn

The logger.warn method is deprecated, use warning instead.

https://docs.python.org/3.6/library/logging.html#logging.warning

Change-Id: Id20ce8011aa0ac901a138132f7b1932c601e19ab
Story: 2006330
Task: 36070
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/674401/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/cloud_region.py'],1,799bd0a773fb082c1a45262922d87630abc9bd30,story/2006330," _logger.warning(""Disabling service '{service_type}': "" ""{reason}"".format(service_type=st, reason=reason))"," _logger.warn(""Disabling service '{service_type}': {reason}"".format( service_type=st, reason=reason))",2,2
openstack%2Fdevstack~master~I21da197029c31298a00d1161990248dc843557c2,openstack/devstack,master,I21da197029c31298a00d1161990248dc843557c2,Modify the user owner of folders 'DEST' and 'DATA_DIR',ABANDONED,2019-08-05 07:29:19.000000000,2019-08-05 07:47:03.000000000,,"[{'_account_id': 1653}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 13252}]","[{'number': 1, 'created': '2019-08-05 07:29:19.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c8df721185d6db872eeebb1fd56b82899f4d849', 'message': ""Modify the user owner of folders 'DEST' and 'DATA_DIR'\n\nThese two folders require current user's permission, otherwise,\nnon-root user will fail to deploy devstack setup.\n\nRevert part of patch: https://review.opendev.org/#/c/203698/\n\nChange-Id: I21da197029c31298a00d1161990248dc843557c2\n""}]",0,674540,3c8df721185d6db872eeebb1fd56b82899f4d849,2,4,1,27738,,,0,"Modify the user owner of folders 'DEST' and 'DATA_DIR'

These two folders require current user's permission, otherwise,
non-root user will fail to deploy devstack setup.

Revert part of patch: https://review.opendev.org/#/c/203698/

Change-Id: I21da197029c31298a00d1161990248dc843557c2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/674540/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,3c8df721185d6db872eeebb1fd56b82899f4d849,,sudo mkdir -p $DEST safe_chown -R $STACK_USER $DEST safe_chmod 0755 $DESTsudo mkdir -p $DATA_DIR safe_chown -R $STACK_USER $DATA_DIR safe_chmod 0755 $DATA_DIR,# If directory exists do not modify the permissions. if [[ ! -d $DEST ]]; then sudo mkdir -p $DEST safe_chown -R $STACK_USER $DEST safe_chmod 0755 $DEST fiif [[ ! -d $DATA_DIR ]]; then sudo mkdir -p $DATA_DIR safe_chown -R $STACK_USER $DATA_DIR safe_chmod 0755 $DATA_DIR fi,6,11
openstack%2Ftripleo-heat-templates~master~I81742389c14775e9d65acd9e4d8e0e0f3c5fc486,openstack/tripleo-heat-templates,master,I81742389c14775e9d65acd9e4d8e0e0f3c5fc486,Ensure persistence for containerized logrotate,ABANDONED,2019-07-30 15:40:14.000000000,2019-08-05 07:40:48.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-30 15:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42d39e455f54facf217d3ac0b0a2ed19dd19b213', 'message': 'Ensure persistence for containerized logrotate\n\nStatus file to be persisted under /var/lib/logrotate.container to not\nconflict with the rsyslog running at the host.\n\nCloses-bug: #1838435\n\nChange-Id: I81742389c14775e9d65acd9e4d8e0e0f3c5fc486\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-07-30 15:42:06.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ddc779f32c8df7fe997f158c5ff279e1d66434b', 'message': 'Ensure persistence for containerized logrotate\n\nStatus file to be persisted under /var/lib/logrotate.container to not\nconflict with the logrotate running at the host.\n\nCloses-bug: #1838435\n\nChange-Id: I81742389c14775e9d65acd9e4d8e0e0f3c5fc486\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,673564,6ddc779f32c8df7fe997f158c5ff279e1d66434b,10,6,2,6926,,,0,"Ensure persistence for containerized logrotate

Status file to be persisted under /var/lib/logrotate.container to not
conflict with the logrotate running at the host.

Closes-bug: #1838435

Change-Id: I81742389c14775e9d65acd9e4d8e0e0f3c5fc486
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/673564/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,42d39e455f54facf217d3ac0b0a2ed19dd19b213,bug/1838435, - /var/lib/logrotate.container:/var/lib/logrotate:z host_prep_tasks: - name: create persistent state directory for logrotate file: path: /var/lib/logrotate.container state: directory setype: svirt_sandbox_file_t,,7,0
openstack%2Fcharm-neutron-openvswitch~master~I295fb21dc66b86a5259cb7ae06a92766cf246675,openstack/charm-neutron-openvswitch,master,I295fb21dc66b86a5259cb7ae06a92766cf246675,"Revert ""Stop using veth pairs to connect qdhcp ns""",MERGED,2019-08-02 13:58:11.000000000,2019-08-05 07:38:07.000000000,2019-08-05 07:38:07.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 13:58:11.000000000', 'files': ['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'templates/ocata/dhcp_agent.ini', 'hooks/charmhelpers/contrib/python/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/6d2e9eed4ba01bb067aedc5d7c2d899b4af18ee6', 'message': 'Revert ""Stop using veth pairs to connect qdhcp ns""\n\nReverting as this change causes existing qdhcp namespaces to become\ninaccessible.\n\nThis reverts commit 7578326c592a81e6cc6737f360fc2b15ed175cf0.\n\nChange-Id: I295fb21dc66b86a5259cb7ae06a92766cf246675\n'}]",0,674317,6d2e9eed4ba01bb067aedc5d7c2d899b4af18ee6,10,5,1,12549,,,0,"Revert ""Stop using veth pairs to connect qdhcp ns""

Reverting as this change causes existing qdhcp namespaces to become
inaccessible.

This reverts commit 7578326c592a81e6cc6737f360fc2b15ed175cf0.

Change-Id: I295fb21dc66b86a5259cb7ae06a92766cf246675
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/17/674317/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'templates/ocata/dhcp_agent.ini', 'hooks/charmhelpers/contrib/python/__init__.py']",4,6d2e9eed4ba01bb067aedc5d7c2d899b4af18ee6,bug/1832021,,,3,3
openstack%2Fstorlets~master~Ib425cdcfdebd2ed2057a8071458787da60c0e6e0,openstack/storlets,master,Ib425cdcfdebd2ed2057a8071458787da60c0e6e0,Add Python 3 Train unit tests,MERGED,2019-07-05 20:19:30.000000000,2019-08-05 07:35:41.000000000,2019-08-05 07:35:41.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 20:19:30.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/7770965bc5fe7b83a498f8bea3af621f18582677', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib425cdcfdebd2ed2057a8071458787da60c0e6e0\nStory: #2005924\nTask: #34248\n'}]",0,669509,7770965bc5fe7b83a498f8bea3af621f18582677,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib425cdcfdebd2ed2057a8071458787da60c0e6e0
Story: #2005924
Task: #34248
",git fetch https://review.opendev.org/openstack/storlets refs/changes/09/669509/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,7770965bc5fe7b83a498f8bea3af621f18582677,python3-train,"envlist = py27,py37,pep8","envlist = py27,py36,pep8",5,3
openstack%2Fstorlets~master~I6aeeab25ebd1d138ea21b097a8322870cf5ada59,openstack/storlets,master,I6aeeab25ebd1d138ea21b097a8322870cf5ada59,Allow float value for timeout in sbus.listen,ABANDONED,2019-08-05 05:23:24.000000000,2019-08-05 07:30:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-05 05:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2a2c83564b9d8aa7aec5e72afea01075704dcf0b', 'message': 'Allow float value for timeout in sbus.listen\n\nChange-Id: I6aeeab25ebd1d138ea21b097a8322870cf5ada59\n'}, {'number': 2, 'created': '2019-08-05 05:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b8ec80d6356629ba6bc0d136ec7b436c14c384ac', 'message': 'Allow float value for timeout in sbus.listen\n\nChange-Id: I6aeeab25ebd1d138ea21b097a8322870cf5ada59\n'}, {'number': 3, 'created': '2019-08-05 06:22:55.000000000', 'files': ['storlets/sbus/__init__.py', 'src/java/SDaemon/src/main/org/openstack/storlet/daemon/SDaemon.java', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBus.java', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusJNI.java', 'src/c/sbus/sbus.h', 'src/c/sbus/sbus.c', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusBackend.java', 'storlets/agent/common/server.py', 'src/java/SBus/SBusJNI.c'], 'web_link': 'https://opendev.org/openstack/storlets/commit/5a07f07bbebda53f986d480ecb6e22907d52464c', 'message': 'Allow float value for timeout in sbus.listen\n\nChange-Id: I6aeeab25ebd1d138ea21b097a8322870cf5ada59\n'}]",0,674529,5a07f07bbebda53f986d480ecb6e22907d52464c,7,1,3,9816,,,0,"Allow float value for timeout in sbus.listen

Change-Id: I6aeeab25ebd1d138ea21b097a8322870cf5ada59
",git fetch https://review.opendev.org/openstack/storlets refs/changes/29/674529/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/java/SDaemon/src/main/org/openstack/storlet/daemon/SDaemon.java', 'storlets/sbus/__init__.py', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBus.java', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusJNI.java', 'src/c/sbus/sbus.h', 'src/c/sbus/sbus.c', 'src/java/SBus/src/main/org/openstack/storlet/sbus/SBusBackend.java', 'storlets/agent/common/server.py', 'src/java/SBus/SBusJNI.c']",9,2a2c83564b9d8aa7aec5e72afea01075704dcf0b,listen_timeout," jfloat jfTimeout ) { return sbus_listen( jnBus , jfTimeout );"," jint jnTimeout ) { return sbus_listen( jnBus , jnTimeout);",16,16
openstack%2Fcharm-neutron-gateway~master~I91ec8b34bd531e48d00c48512a43921f97b6d9a2,openstack/charm-neutron-gateway,master,I91ec8b34bd531e48d00c48512a43921f97b6d9a2,"Revert ""Stop using veth pairs to connect qdhcp ns""",MERGED,2019-08-02 11:55:46.000000000,2019-08-05 07:23:33.000000000,2019-08-05 07:23:32.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 11:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/e60fd70ba8a225623eb6a7672f2b9dd8fa9bbd22', 'message': 'Revert ""Stop using veth pairs to connect qdhcp ns""\n\nReverting as this change causes existing qdhcp namespaces to become inaccessible.\n\nThis reverts commit bbc20dbe49e13fc2166cfae3a10eff57cad56553.\n\nChange-Id: I91ec8b34bd531e48d00c48512a43921f97b6d9a2\n'}, {'number': 2, 'created': '2019-08-02 11:56:25.000000000', 'files': ['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/l3_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'tests/basic_deployment.py', 'templates/icehouse/l3_agent.ini', 'templates/queens/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/newton/l3_agent.ini', 'templates/stein/l3_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9d332765e55bad04de83de32b3e750c6df28ba39', 'message': 'Revert ""Stop using veth pairs to connect qdhcp ns""\n\nReverting as this change causes existing qdhcp namespaces to become\ninaccessible.\n\nThis reverts commit bbc20dbe49e13fc2166cfae3a10eff57cad56553.\n\nChange-Id: I91ec8b34bd531e48d00c48512a43921f97b6d9a2\n'}]",0,674281,9d332765e55bad04de83de32b3e750c6df28ba39,14,5,2,12549,,,0,"Revert ""Stop using veth pairs to connect qdhcp ns""

Reverting as this change causes existing qdhcp namespaces to become
inaccessible.

This reverts commit bbc20dbe49e13fc2166cfae3a10eff57cad56553.

Change-Id: I91ec8b34bd531e48d00c48512a43921f97b6d9a2
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/81/674281/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/l3_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'tests/basic_deployment.py', 'templates/icehouse/l3_agent.ini', 'templates/queens/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/newton/l3_agent.ini', 'templates/stein/l3_agent.ini']",9,e60fd70ba8a225623eb6a7672f2b9dd8fa9bbd22,bug/1832021,ovs_use_veth = False{% else %} ovs_use_veth = True,ovs_use_veth = False,26,8
openstack%2Ftripleo-common~master~Ie09fda68b631725c3667961d271ae627d1f89038,openstack/tripleo-common,master,Ie09fda68b631725c3667961d271ae627d1f89038,Move undercloud backup from a workbook into a ansible playbook,ABANDONED,2019-06-17 14:26:47.000000000,2019-08-05 06:48:30.000000000,,"[{'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-17 14:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/13b7cbf153f45e69e378ae61ceaafd8ac6e1de5d', 'message': 'Move undercloud backup from a workbook into a ansible playbook\n\nChange-Id: Ie09fda68b631725c3667961d271ae627d1f89038\n'}, {'number': 2, 'created': '2019-06-18 09:24:32.000000000', 'files': ['playbooks/undercloud_backup.yaml', 'workbooks/undercloud_backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8afad872e8b8be67b47168da92ce132f1ef87a34', 'message': 'Move undercloud backup from a workbook into a ansible playbook\n\nChange-Id: Ie09fda68b631725c3667961d271ae627d1f89038\n'}]",1,665689,8afad872e8b8be67b47168da92ce132f1ef87a34,10,5,2,15895,,,0,"Move undercloud backup from a workbook into a ansible playbook

Change-Id: Ie09fda68b631725c3667961d271ae627d1f89038
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/665689/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud_backup.yaml', 'workbooks/undercloud_backup.yaml']",2,13b7cbf153f45e69e378ae61ceaafd8ac6e1de5d,mistral_to_ansible,description:THIS WORKFLOW IS DEPRECATED. It is being replaced by a playbook,description: TripleO Undercloud backup workflows,95,1
openstack%2Fkolla-ansible~stable%2Fstein~Ice4509204df788a1a44a06fb89fb44cfe6b54b94,openstack/kolla-ansible,stable/stein,Ice4509204df788a1a44a06fb89fb44cfe6b54b94,Move to opendev,MERGED,2019-07-23 14:52:23.000000000,2019-08-05 06:23:56.000000000,2019-08-05 06:23:56.000000000,"[{'_account_id': 9414}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-23 14:52:23.000000000', 'files': ['specs/high-availability.rst', 'ansible/roles/horizon/templates/local_settings.j2', 'README.rst', 'ansible/group_vars/all.yml', 'specs/kubernetes-deployment.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'specs/logging-with-heka.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c70d846984fd5c345adfd8f929b0d27f359e19a3', 'message': 'Move to opendev\n\n1.Use opendev.org instead of git.openstack.org.\n2.Use review.opendev.org instead of review.openstack.org.\n\nYou can see the discussion below:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html\n\nAdapted for Stein to not change path to upper constraints already\nmodified by [1].\n\n[1] https://review.opendev.org/650294\n\nChange-Id: Ice4509204df788a1a44a06fb89fb44cfe6b54b94\n(cherry picked from commit 41f3a817ac1ebd59d16588b9652956e78cc2936d)\n'}]",0,672306,c70d846984fd5c345adfd8f929b0d27f359e19a3,8,5,1,30491,,,0,"Move to opendev

1.Use opendev.org instead of git.openstack.org.
2.Use review.opendev.org instead of review.openstack.org.

You can see the discussion below:
http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html

Adapted for Stein to not change path to upper constraints already
modified by [1].

[1] https://review.opendev.org/650294

Change-Id: Ice4509204df788a1a44a06fb89fb44cfe6b54b94
(cherry picked from commit 41f3a817ac1ebd59d16588b9652956e78cc2936d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/672306/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/high-availability.rst', 'ansible/roles/horizon/templates/local_settings.j2', 'README.rst', 'ansible/group_vars/all.yml', 'specs/kubernetes-deployment.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'specs/logging-with-heka.rst']",8,c70d846984fd5c345adfd8f929b0d27f359e19a3,,[1] <https://review.opendev.org/#/c/252968/>[4] <https://review.opendev.org/#/c/269745/>[7] <https://review.opendev.org/#/c/269952/>,[1] <https://review.openstack.org/#/c/252968/>[4] <https://review.openstack.org/#/c/269745/>[7] <https://review.openstack.org/#/c/269952/>,13,13
openstack%2Fhorizon~master~Ie754d90909f29fede17fe58af2caaa6bdeaabab7,openstack/horizon,master,Ie754d90909f29fede17fe58af2caaa6bdeaabab7,Imported Translations from Zanata,MERGED,2019-08-03 07:56:49.000000000,2019-08-05 06:01:22.000000000,2019-08-05 06:01:22.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 07:56:49.000000000', 'files': ['openstack_dashboard/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0a10dde2ea43819c87726242a0a1040348fdeb95', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie754d90909f29fede17fe58af2caaa6bdeaabab7\n'}]",0,674441,0a10dde2ea43819c87726242a0a1040348fdeb95,12,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie754d90909f29fede17fe58af2caaa6bdeaabab7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/41/674441/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/de/LC_MESSAGES/django.po'],1,0a10dde2ea43819c87726242a0a1040348fdeb95,zanata/translations,"# Robert Holling <r.holling@protonmail.ch>, 2019. #zanata""POT-Creation-Date: 2019-07-30 14:15+0000\n""""PO-Revision-Date: 2019-08-02 04:36+0000\n"" ""Last-Translator: Robert Holling <r.holling@protonmail.ch>\n""msgid ""1 (icmp) should be specified for IPv4 instead of 58."" msgstr ""1 (icmp) sollte für IPv4 anstelle von 58 angegeben werden."" msgid ""58 (ipv6-icmp) should be specified for IPv6 instead of 1."" msgstr ""58 (ipv6-icmp) sollte für IPv6 anstelle von 1 angegeben werden."" msgid ""Create a new \""group type spec\"" key-value pair for a group type."" msgstr """" ""Erzeugen Sie ein neues \""group type spec\"" Schlüsselpaar für einen "" ""Gruppentyp."" msgid ""Update the \""group type spec\"" value for \""%(key)s\"""" msgstr ""Aktualisieren Sie für \""group type spec\"" den Wert für \""%(key)s\"""" #, python-format","""POT-Creation-Date: 2019-07-25 16:41+0000\n""""PO-Revision-Date: 2019-07-26 11:59+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""",19,3
openstack%2Fheat-dashboard~master~I7649507f24214d3607fb928722eb59d61854e1de,openstack/heat-dashboard,master,I7649507f24214d3607fb928722eb59d61854e1de,Imported Translations from Zanata,MERGED,2019-08-03 08:41:13.000000000,2019-08-05 05:18:07.000000000,2019-08-05 05:18:07.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-03 08:41:13.000000000', 'files': ['heat_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/38d72bed1756999d3ee0257b74f0bacb10d2525c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7649507f24214d3607fb928722eb59d61854e1de\n'}]",0,674444,38d72bed1756999d3ee0257b74f0bacb10d2525c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7649507f24214d3607fb928722eb59d61854e1de
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/44/674444/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,38d72bed1756999d3ee0257b74f0bacb10d2525c,zanata/translations,"# Ian Y. Choi <ianyrchoi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-07-17 13:53+0000\n""""PO-Revision-Date: 2019-08-02 02:26+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""msgstr ""%(prefix)s 을(를) 파싱하는동안 문제가 발생했습니다: %(error)s""","""POT-Creation-Date: 2018-05-15 05:59+0000\n""""PO-Revision-Date: 2018-05-16 11:18+0000\n"" ""Last-Translator: ByungYeol Woo <wby1089@gmail.com>\n""msgstr ""%(prefix)s 를 파싱하는동안 문제가 발생했습니다: %(error)s""",5,4
openstack%2Foctavia-tempest-plugin~master~Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8,openstack/octavia-tempest-plugin,master,Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8,Add amphora failover API test,MERGED,2019-01-28 22:43:16.000000000,2019-08-05 04:59:39.000000000,2019-08-05 04:59:39.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 30412}, {'_account_id': 30429}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-01-28 22:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9e7cad20543939959f0cc52fbdbbb23dd321bc53', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 2, 'created': '2019-04-06 00:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a72c5a116c78782fa07a7670706d1d7df2854904', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 3, 'created': '2019-04-08 19:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6885457619bab9c96bb8b76d21789883ea01c61e', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 4, 'created': '2019-04-25 18:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/71c1b38624667e8f63cbbcfbbc7b901bf294cdd2', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 5, 'created': '2019-06-21 08:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/16a87d8a661e0361d122da2e784bd323f2d45655', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 6, 'created': '2019-07-16 05:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7bbee6b4a1289e7beb150f279e3ffd4b5199106e', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 7, 'created': '2019-07-30 16:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d435fe01cc4eae7a3ba8bb2d3ed5269d66f96d5b', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}, {'number': 8, 'created': '2019-07-31 15:20:11.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/api/v2/test_amphora.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cc72a084fdd5de150d2894f772c60cd017d777e5', 'message': 'Add amphora failover API test\n\nThis patch adds the amphora failover API test.\n\nThis patch also improves the load balancer failover API test to validate\nthat the amphora IDs have changed. This was a TODO in the code waiting\nfor the amphora show service client to be completed.\n\nChange-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8\nStory: 2004852\nTask: 29077\n'}]",2,633614,cc72a084fdd5de150d2894f772c60cd017d777e5,40,11,8,11628,,,0,"Add amphora failover API test

This patch adds the amphora failover API test.

This patch also improves the load balancer failover API test to validate
that the amphora IDs have changed. This was a TODO in the code waiting
for the amphora show service client to be completed.

Change-Id: Ibffeb959d88b36be26355ff1b6a96dde8cfcd8c8
Story: 2004852
Task: 29077
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/14/633614/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/api/v2/test_amphora.py']",2,9e7cad20543939959f0cc52fbdbbb23dd321bc53,amp-failover," @decorators.idempotent_id('fb772680-b2ba-4fc3-989b-95ad8492ccaf') def test_amphora_failover(self): """"""Tests the amphora failover API. * Validates that non-admin accounts cannot failover amphora * Fails over an amphora * Validates that a new amphora is built """""" amphorae = self.lb_admin_amphora_client.list_amphorae( query_params='{loadbalancer_id}={lb_id}'.format( loadbalancer_id=const.LOADBALANCER_ID, lb_id=self.lb_id)) amphora_1 = amphorae[0] # Test RBAC not authorized for non-admin role if not CONF.load_balancer.RBAC_test_type == const.NONE: self.assertRaises(exceptions.Forbidden, self.os_primary.amphora_client.amphora_failover, amphora_1[const.ID]) self.assertRaises( exceptions.Forbidden, self.os_roles_lb_member.amphora_client.amphora_failover, amphora_1[const.ID]) self.lb_admin_amphora_client.amphora_failover(amphora_1[const.ID]) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) after_amphorae = self.lb_admin_amphora_client.list_amphorae( query_params='{loadbalancer_id}={lb_id}'.format( loadbalancer_id=const.LOADBALANCER_ID, lb_id=self.lb_id)) for new_amp in after_amphorae: self.assertNotEqual(amphora_1[const.ID], new_amp[const.ID])",,51,2
openstack%2Foctavia-tempest-plugin~master~I4b1a1f48d2f619b883619811539ddb262d6b5f45,openstack/octavia-tempest-plugin,master,I4b1a1f48d2f619b883619811539ddb262d6b5f45,Add amphora update service client and API test,MERGED,2019-01-25 23:46:08.000000000,2019-08-05 04:59:38.000000000,2019-08-05 04:59:38.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-01-25 23:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ffd4517a922601fe904c47f32a6ea2abbd835424', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 2, 'created': '2019-01-26 00:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/48a289c2cbcc8e0556ed7d4da18907a8592bb5ee', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 3, 'created': '2019-01-26 01:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2d390932a3cf0d530f72af19439e1e339d747138', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nDepends-On: https://review.openstack.org/#/c/632842/\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 4, 'created': '2019-01-26 01:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/363991275822fd6b3214c8940655909f847bf874', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nDepends-On: https://review.openstack.org/#/c/632842/\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 5, 'created': '2019-01-28 22:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ab3e86198ac9f554f20c98d66920d1fa55dae99e', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nDepends-On: https://review.openstack.org/#/c/632842/\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 6, 'created': '2019-04-05 23:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4f8dbc453d97e008864e70412a3938c04d959e52', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nDepends-On: https://review.openstack.org/#/c/632842/\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 7, 'created': '2019-04-22 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/153c0aed24a415e267ae1925c525bb8886bb2896', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nDepends-On: https://review.openstack.org/#/c/632842/\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 8, 'created': '2019-06-12 17:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bb77e9564106f243c7a92752645f894b607e4b53', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 9, 'created': '2019-06-18 09:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7d3b33e8e208ea4b42bc20b714beaaccc89c0f2d', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 10, 'created': '2019-07-16 05:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2000504f05bd301bd27d07caa6dcee012ca56c30', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 11, 'created': '2019-07-16 05:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/def44aa80072748139a80e2032ed2ac61a203dcb', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 12, 'created': '2019-07-30 16:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2c7369cb8d62cbf78fee0054513aa49772777b1b', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}, {'number': 13, 'created': '2019-07-31 15:20:06.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_amphora.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/services/load_balancer/v2/amphora_client.py', 'octavia_tempest_plugin/tests/api/v2/test_amphora.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2b10e0a447fe997720a41cc7e06ca85520b2f04a', 'message': 'Add amphora update service client and API test\n\nThis patch adds a service client for the amphora agent configuration update\nAPI and adds an API test for the amphora configuration update API.\n\nIt also adds the service client for amphora failover and cleans up some\nclient credintials in the amphora scenario tests.\n\nChange-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45\n'}]",10,633295,2b10e0a447fe997720a41cc7e06ca85520b2f04a,47,11,13,11628,,,0,"Add amphora update service client and API test

This patch adds a service client for the amphora agent configuration update
API and adds an API test for the amphora configuration update API.

It also adds the service client for amphora failover and cleans up some
client credintials in the amphora scenario tests.

Change-Id: I4b1a1f48d2f619b883619811539ddb262d6b5f45
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/95/633295/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_amphora.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/services/load_balancer/v2/amphora_client.py', 'octavia_tempest_plugin/tests/api/v2/test_amphora.py']",4,ffd4517a922601fe904c47f32a6ea2abbd835424,amp-update-api,"# Copyright 2019 Rackspace US Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions from octavia_tempest_plugin.common import constants as const from octavia_tempest_plugin.tests import test_base from octavia_tempest_plugin.tests import waiters CONF = config.CONF class AmphoraAPITest(test_base.LoadBalancerBaseTest): """"""Test the amphora object API."""""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(AmphoraAPITest, cls).resource_setup() lb_name = data_utils.rand_name(""lb_member_lb1-amphora-api"") lb_kwargs = {const.PROVIDER: CONF.load_balancer.provider, const.NAME: lb_name} cls._setup_lb_network_kwargs(lb_kwargs) lb = cls.mem_lb_client.create_loadbalancer(**lb_kwargs) cls.lb_id = lb[const.ID] cls.addClassResourceCleanup( cls.mem_lb_client.cleanup_loadbalancer, cls.lb_id) waiters.wait_for_status(cls.mem_lb_client.show_loadbalancer, cls.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.lb_build_interval, CONF.load_balancer.lb_build_timeout) @decorators.idempotent_id('b7fc231b-dcfa-47a5-99f3-ec5ddcc48f30') def test_amphora_update(self): """"""Tests the amphora agent configuration update API * Tests that users without the loadbalancer admin role cannot update an amphora. * Update the amphora. """""" # We have to do this here as the api_version and clients are not # setup in time to use a decorator or the skip_checks mixin if not self.lb_admin_amphora_client.is_version_supported( self.api_version, '2.7'): raise self.skipException('Amphora update is only available on ' 'Octavia API version 2.7 or newer.') amphorae = self.lb_admin_amphora_client.list_amphorae( query_params='{loadbalancer_id}={lb_id}'.format( loadbalancer_id=const.LOADBALANCER_ID, lb_id=self.lb_id)) amphora_1 = amphorae[0] # Test that a user without the load balancer admin role cannot # create a flavor if CONF.load_balancer.RBAC_test_type == const.ADVANCED: self.assertRaises( exceptions.Forbidden, self.os_primary.amphora_client.update_amphora_config, amphora_1.id) self.lb_admin_amphora_client.update_amphora_config(amphora_1.id) # TODO(johnsom) Assert that an amphora config setting updated # when we have a setting to check. amp = self.lb_admin_amphora_client.show_amphora(amphora_1.id) self.assertEqual(const.STATUS_ALLOCATED, amp[const.STATUS]) ",,169,8
openstack%2Foctavia-tempest-plugin~master~I46c442df698f7da5bf48c404b06039477382852c,openstack/octavia-tempest-plugin,master,I46c442df698f7da5bf48c404b06039477382852c,Add a flavor to the load balancer CRUD scenarios,MERGED,2019-01-17 00:02:47.000000000,2019-08-05 04:58:07.000000000,2019-08-05 04:58:07.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-01-17 00:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7dc5b107284a30f90f6107e2f7e67835607b33b2', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 2, 'created': '2019-01-17 00:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d74ad5796a1f137a060d47874cd92bb06d9e09a2', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 3, 'created': '2019-01-17 16:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b81abfad09e047d2255dd1a1827242e04ed36c3c', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 4, 'created': '2019-01-17 18:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7007274a616d1cc46845eed2dd76d599aa3b9158', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 5, 'created': '2019-01-25 23:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/658139223f6808194a4f1bb911e2df6aff6e45a7', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 6, 'created': '2019-01-28 22:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/02240bdb20f76753ff5f262f9cf6b2b3e3bc7ef3', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 7, 'created': '2019-04-05 23:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bedf84fae88388db94ee30115cbdcaf71834ea38', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nDepends-On: https://review.openstack.org/626819\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 8, 'created': '2019-06-12 17:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7714859ed2afbf128dd9b9ca160cca706f0fd151', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 9, 'created': '2019-07-16 04:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d781581935ad41eb79cb3a7632945baebdc98515', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 10, 'created': '2019-07-16 04:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6e356de597ac1816c1190ecd566ef41e3487fcab', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 11, 'created': '2019-07-16 05:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1a254d130e95097213acd80f824a16d499552fb1', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 12, 'created': '2019-07-30 16:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/20ff3317b3e63356ea6b7dcaf04540ed59e66ce8', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}, {'number': 13, 'created': '2019-07-31 15:19:47.000000000', 'files': ['zuul.d/projects.yaml', 'octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2734ffe0ea8568f19d9d15cda3329df3de35871d', 'message': 'Add a flavor to the load balancer CRUD scenarios\n\nThis patch adds flavor configuration to the load balancer CRUD\nscenario tests. It also updates the multinode jobs to use a\nflavor configured for the active/standby topology.\n\nChange-Id: I46c442df698f7da5bf48c404b06039477382852c\n'}]",6,631353,2734ffe0ea8568f19d9d15cda3329df3de35871d,38,6,13,11628,,,0,"Add a flavor to the load balancer CRUD scenarios

This patch adds flavor configuration to the load balancer CRUD
scenario tests. It also updates the multinode jobs to use a
flavor configured for the active/standby topology.

Change-Id: I46c442df698f7da5bf48c404b06039477382852c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/53/631353/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/scenario/v2/test_load_balancer.py', 'zuul.d/jobs.yaml']",4,7dc5b107284a30f90f6107e2f7e67835607b33b2,bp/octavia-lbaas-flavors," devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": load_balancer: loadbalancer_topology: ACTIVE_STANDBY devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": load_balancer: loadbalancer_topology: ACTIVE_STANDBY",,65,0
openstack%2Foctavia-tempest-plugin~master~Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8,openstack/octavia-tempest-plugin,master,Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8,Adds provider flavor capabilities API tests,MERGED,2019-01-16 02:29:35.000000000,2019-08-05 04:58:06.000000000,2019-08-05 04:58:06.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-01-16 02:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a535aa589959bf15eaa8c7c848e58d6d44c0d8cc', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 2, 'created': '2019-01-16 02:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/20ed029435d85d8bb7c324ffdf065061895655d3', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 3, 'created': '2019-01-16 22:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6fd5ffcbb58247660a87130778e2cdd45b6c054b', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 4, 'created': '2019-01-25 23:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/32d31bf1ed9557e74df8b4f8dcf726b62e1690c5', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 5, 'created': '2019-01-28 22:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/caf6a8d7dcaf29614d31ee8ba1dfd68c2be8ba1f', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 6, 'created': '2019-04-05 23:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/28d9186fe26e70ccbc710f84cfe8d0eee29bf29d', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 7, 'created': '2019-04-18 19:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ada89c94c2d5cdd041c977d2287b8dff73da69b9', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 8, 'created': '2019-06-05 22:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0509f1906a956dfa15d5a1ba9550039dd315f6e1', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nDepends-On: https://review.openstack.org/#/c/626819\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 9, 'created': '2019-06-12 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/29758c91f3ef81ec821eb52209998e51d152452d', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 10, 'created': '2019-07-16 04:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/19d980e01cfb5cf94cfa2848199b2aba13dace09', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}, {'number': 11, 'created': '2019-07-30 16:45:34.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_flavor_capabilities.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/77df0326b83a5639f47a67dca43a7beea724f844', 'message': 'Adds provider flavor capabilities API tests\n\nThis patch adds provider flavor capabilities API tests to the Octavia\ntempest plugin.\n\nChange-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8\n'}]",5,631113,77df0326b83a5639f47a67dca43a7beea724f844,52,7,11,11628,,,0,"Adds provider flavor capabilities API tests

This patch adds provider flavor capabilities API tests to the Octavia
tempest plugin.

Change-Id: Ie4f9f72e011ee8aa30e8f9aa35558533839fb8c8
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/13/631113/10 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_flavor_capabilities.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py']",3,a535aa589959bf15eaa8c7c848e58d6d44c0d8cc,bp/octavia-lbaas-flavors, cls.lb_admin_capabilities_client = ( cls.os_roles_lb_admin.flavor_capabilities_client),,96,0
openstack%2Ftricircle~master~I2c7871a479da3fdcbbd50adf2e99f16a78599d31,openstack/tricircle,master,I2c7871a479da3fdcbbd50adf2e99f16a78599d31,fix the format error for the spec,MERGED,2019-08-05 02:57:53.000000000,2019-08-05 04:32:39.000000000,2019-08-05 04:32:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2019-08-05 02:57:53.000000000', 'files': ['specs/train/join-tricircle-and-trio2o.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/e0e448d676dc4eb8ce40cfd65a0f47babc2ca0e2', 'message': 'fix the format error for the spec\n\nChange-Id: I2c7871a479da3fdcbbd50adf2e99f16a78599d31\nsigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}]",0,674518,e0e448d676dc4eb8ce40cfd65a0f47babc2ca0e2,7,2,1,28071,,,0,"fix the format error for the spec

Change-Id: I2c7871a479da3fdcbbd50adf2e99f16a78599d31
signed-off-by: zhangchi <zhangchi@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/18/674518/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/join-tricircle-and-trio2o.rst'],1,e0e448d676dc4eb8ce40cfd65a0f47babc2ca0e2,bug/fix_format_error,"https://blueprints.launchpad.net/tricircle/+spec/join-tricircle-and-trio2o-together At the very beginning, Tricircle and Tiro2o has the same Poc StageTricircle is one of the Community official components and kept","https://blueprints.launchpad.net/tricircle/ ~/+spec/join-tricircle-and-trio2o-together At the very beginning, Tricircle and Tiro2o has the same Poc Stage Tricircle is one of the Community official components and kept",9,4
openstack%2Frequirements~master~I6bc34bfe2b14718723289f344600c3916f00d7e9,openstack/requirements,master,I6bc34bfe2b14718723289f344600c3916f00d7e9,update constraint for octavia-lib to new release 1.3.1,MERGED,2019-08-04 18:38:37.000000000,2019-08-05 02:56:26.000000000,2019-08-05 02:56:26.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-04 18:38:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6edef0462327546e751824782163eeeab5d89508', 'message': 'update constraint for octavia-lib to new release 1.3.1\n\nChange-Id: I6bc34bfe2b14718723289f344600c3916f00d7e9\nmeta:version: 1.3.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Commit: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Change-Id: I8b99173fca57103c3a60cc1f2ca6bc90114d23d7\nmeta:release:Code-Review+1: Andreas Jaeger <jaegerandi@gmail.com>\nmeta:release:Code-Review+1: Jeremy Stanley <fungi@yuggoth.org>\nmeta:release:Code-Review+1: Jacky Hu <hudayou@hotmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,674513,6edef0462327546e751824782163eeeab5d89508,7,3,1,11131,,,0,"update constraint for octavia-lib to new release 1.3.1

Change-Id: I6bc34bfe2b14718723289f344600c3916f00d7e9
meta:version: 1.3.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Adam Harwell <flux.adam@gmail.com>
meta:release:Commit: Adam Harwell <flux.adam@gmail.com>
meta:release:Change-Id: I8b99173fca57103c3a60cc1f2ca6bc90114d23d7
meta:release:Code-Review+1: Andreas Jaeger <jaegerandi@gmail.com>
meta:release:Code-Review+1: Jeremy Stanley <fungi@yuggoth.org>
meta:release:Code-Review+1: Jacky Hu <hudayou@hotmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/674513/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6edef0462327546e751824782163eeeab5d89508,new-release,octavia-lib===1.3.1,octavia-lib===1.3.0,1,1
openstack%2Fdiskimage-builder~master~I7ea4a24d8c72c9e72f5f87247403af0f9bf69b40,openstack/diskimage-builder,master,I7ea4a24d8c72c9e72f5f87247403af0f9bf69b40,Cleanup: remove useless statement,MERGED,2019-07-01 07:30:58.000000000,2019-08-05 02:46:12.000000000,2019-08-05 02:46:12.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-07-01 07:30:58.000000000', 'files': ['diskimage_builder/elements/centos7/root.d/10-centos7-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/32dd3305d256fb10acbf8ae39fefff101eff9584', 'message': 'Cleanup: remove useless statement\n\nThis change removes useless statement accidentally added in the\n06576a02f09d1326cad342bc0901334e4c79722e\n\nChange-Id: I7ea4a24d8c72c9e72f5f87247403af0f9bf69b40\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,668372,32dd3305d256fb10acbf8ae39fefff101eff9584,17,8,1,14200,,,0,"Cleanup: remove useless statement

This change removes useless statement accidentally added in the
06576a02f09d1326cad342bc0901334e4c79722e

Change-Id: I7ea4a24d8c72c9e72f5f87247403af0f9bf69b40
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/72/668372/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos7/root.d/10-centos7-cloud-image'],1,32dd3305d256fb10acbf8ae39fefff101eff9584,trivial-fix,, DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES},0,1
openstack%2Fpuppet-nova~master~Ie9a01eebf557bc302acc33aad542d0252122f333,openstack/puppet-nova,master,Ie9a01eebf557bc302acc33aad542d0252122f333,Replace deprecated vnc/vnc* parameters,MERGED,2019-08-02 08:37:15.000000000,2019-08-05 02:08:12.000000000,2019-08-05 02:08:11.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 08:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ce64089a456d9da6b79b205a33504218c9a4d887', 'message': 'Use vnc/server_listen instead of deprecated vnc/vncserver_listen\n\nvnc/vncserver_listen was already deprecated[1], and now vnc/server_listen\nshould be used to instead.\nThis patch replaces the parameter specified accordingly.\n\n[1] Ic05c2c8364e015f6878b0bc25449216624568ad5\n\nChange-Id: Ie9a01eebf557bc302acc33aad542d0252122f333\n'}, {'number': 2, 'created': '2019-08-02 08:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/696b3bf378c827e3cf792ea6ff8965d3d28b0e9d', 'message': ""Replace deprecated vnc/vnc* parameters\n\nvnc/vncserver_proxyclient_address and vnc/vncserver_listen were\nalready deprecated[1], so this patch replaces the parameter\nwith the new ones, which don't include vnc in their parameter names.\n\n[1] Ic05c2c8364e015f6878b0bc25449216624568ad5\n\nChange-Id: Ie9a01eebf557bc302acc33aad542d0252122f333\n""}, {'number': 3, 'created': '2019-08-02 08:41:54.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/95ec7825132fcac3ffe93b0fca3a56cb52f13a5d', 'message': ""Replace deprecated vnc/vnc* parameters\n\nvnc/vncserver_proxyclient_address and vnc/vncserver_listen were\nalready deprecated[1], so this patch replaces these parameters\nwith the new ones, which don't include vnc in their parameter names.\n\n[1] Ic05c2c8364e015f6878b0bc25449216624568ad5\n\nChange-Id: Ie9a01eebf557bc302acc33aad542d0252122f333\n""}]",0,674225,95ec7825132fcac3ffe93b0fca3a56cb52f13a5d,13,5,3,9816,,,0,"Replace deprecated vnc/vnc* parameters

vnc/vncserver_proxyclient_address and vnc/vncserver_listen were
already deprecated[1], so this patch replaces these parameters
with the new ones, which don't include vnc in their parameter names.

[1] Ic05c2c8364e015f6878b0bc25449216624568ad5

Change-Id: Ie9a01eebf557bc302acc33aad542d0252122f333
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/25/674225/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp']",2,ce64089a456d9da6b79b205a33504218c9a4d887,vncparams, 'vnc/server_listen': value => $vncserver_listen;, 'vnc/vncserver_listen': value => $vncserver_listen;,10,10
openstack%2Fdiskimage-builder~master~I6b6df7023acb6b2f967b84840bc4b542ebc03727,openstack/diskimage-builder,master,I6b6df7023acb6b2f967b84840bc4b542ebc03727,journal-to-console: element to send systemd journal to console,MERGED,2019-07-09 02:39:17.000000000,2019-08-05 02:00:15.000000000,2019-08-05 02:00:15.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 02:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f2c8d720fe630698e9026b334f7329476133988d', 'message': '[wip] element to send journal logs to console\n\nChange-Id: I6b6df7023acb6b2f967b84840bc4b542ebc03727\n'}, {'number': 2, 'created': '2019-07-09 05:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e7d8b16087763b64bfec934a52fc2fc72799eb81', 'message': '[wip] element to send journal logs to console\n\nChange-Id: I6b6df7023acb6b2f967b84840bc4b542ebc03727\n'}, {'number': 3, 'created': '2019-07-09 05:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f505eed6188209d345b69aae809351e14bd2bd3e', 'message': '[wip] element to send journal logs to console\n\nChange-Id: I6b6df7023acb6b2f967b84840bc4b542ebc03727\n'}, {'number': 4, 'created': '2019-07-09 07:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5c5f30d46e03fdef73244070c00b369cdde0c6ec', 'message': '[wip] element to send journal logs to console\n\nChange-Id: I6b6df7023acb6b2f967b84840bc4b542ebc03727\n'}, {'number': 5, 'created': '2019-07-25 01:25:02.000000000', 'files': ['diskimage_builder/elements/journal-to-console/post-install.d/30-journal-to-console', 'diskimage_builder/elements/journal-to-console/README.rst', 'releasenotes/notes/journal-console-752b46542ec5595e.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a5bd03ec6bf64544a8767b85b91f4c71f79ce88e', 'message': 'journal-to-console: element to send systemd journal to console\n\nThis element configures systemd to send its journal to the console,\nwhich can then be retreived by server commands.  In the case of\nnodepool, if the image failed to boot the console will be dumped into\nthe logs when nodepool decides the node is not responding.  Having\nthis can be very helpful diagnosing early boot errors.\n\nNeeded-By: https://review.opendev.org/#/c/669787/\nChange-Id: I6b6df7023acb6b2f967b84840bc4b542ebc03727\n'}]",0,669784,a5bd03ec6bf64544a8767b85b91f4c71f79ce88e,26,4,5,7118,,,0,"journal-to-console: element to send systemd journal to console

This element configures systemd to send its journal to the console,
which can then be retreived by server commands.  In the case of
nodepool, if the image failed to boot the console will be dumped into
the logs when nodepool decides the node is not responding.  Having
this can be very helpful diagnosing early boot errors.

Needed-By: https://review.opendev.org/#/c/669787/
Change-Id: I6b6df7023acb6b2f967b84840bc4b542ebc03727
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/84/669784/3 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/journal-to-console/post-install.d/30-journal-to-console', 'diskimage_builder/elements/journal-to-console/README.rst']",2,f2c8d720fe630698e9026b334f7329476133988d,journal-syslog,"================== journal-to-console ================== Configure systemd's journal to send all logs to console. Useful for debugging issues before you can log into a host, such as network or authentication issues. ",,35,0
openstack%2Foctavia~master~I1958a0ab8f55c586c8866bad19b46494d07f5bfb,openstack/octavia,master,I1958a0ab8f55c586c8866bad19b46494d07f5bfb,Add docstring for create_vip_port,ABANDONED,2019-08-04 10:48:46.000000000,2019-08-05 01:21:05.000000000,,"[{'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-04 10:48:46.000000000', 'files': ['octavia/api/drivers/noop_driver/driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c1723dfaa4b17db39bde226eb9437ad9153a7fcd', 'message': 'Add docstring for create_vip_port\n\nTo fix the sphinx-build error seen in [1].\n\n[1] https://logs.opendev.org/59/674259/3/gate/openstack-tox-docs/ \\\n487aca3/job-output.txt.gz#_2019-08-03_23_25_19_946913\n\nChange-Id: I1958a0ab8f55c586c8866bad19b46494d07f5bfb\n'}]",0,674483,c1723dfaa4b17db39bde226eb9437ad9153a7fcd,6,2,1,2245,,,0,"Add docstring for create_vip_port

To fix the sphinx-build error seen in [1].

[1] https://logs.opendev.org/59/674259/3/gate/openstack-tox-docs/ \
487aca3/job-output.txt.gz#_2019-08-03_23_25_19_946913

Change-Id: I1958a0ab8f55c586c8866bad19b46494d07f5bfb
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/674483/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/drivers/noop_driver/driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",3,c1723dfaa4b17db39bde226eb9437ad9153a7fcd,fix-sphinx-error," """"""Creates a port for a load balancer VIP.""""""",,4,0
openstack%2Fnova~master~Iaf3eae2d0c3411c520dfa4591f9894b7e6d918f8,openstack/nova,master,Iaf3eae2d0c3411c520dfa4591f9894b7e6d918f8,Remove reading xvpconf_template in xvp.py,ABANDONED,2019-04-04 02:31:51.000000000,2019-08-05 00:32:26.000000000,,"[{'_account_id': 6735}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-04-04 02:31:51.000000000', 'files': ['nova/console/xvp.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf4a9919323785055202f516f86102988a6fb049', 'message': 'Remove reading xvpconf_template in xvp.py\n\nxvpconf_template is no longer used after fa0d61084e50c264f3231f997e4243b8037919f8,\nso this is to remove it from xvp.py.\n\nChange-Id: Iaf3eae2d0c3411c520dfa4591f9894b7e6d918f8\n'}]",2,649777,bf4a9919323785055202f516f86102988a6fb049,16,15,1,20190,,,0,"Remove reading xvpconf_template in xvp.py

xvpconf_template is no longer used after fa0d61084e50c264f3231f997e4243b8037919f8,
so this is to remove it from xvp.py.

Change-Id: Iaf3eae2d0c3411c520dfa4591f9894b7e6d918f8
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/649777/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/console/xvp.py'],1,bf4a9919323785055202f516f86102988a6fb049,xvp,, self.xvpconf_template = open(CONF.xvp.console_xvp_conf_template).read(),0,1
openstack%2Fzaqar~master~Ia47f486c79a108f6d4ffa419c59b91ad1199c718,openstack/zaqar,master,Ia47f486c79a108f6d4ffa419c59b91ad1199c718,Update api-ref location,MERGED,2019-07-22 16:49:48.000000000,2019-08-05 00:27:03.000000000,2019-08-05 00:27:03.000000000,"[{'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 7385}, {'_account_id': 8846}, {'_account_id': 12321}, {'_account_id': 14203}, {'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:49:48.000000000', 'files': ['doc/source/user/getting_started.rst', 'doc/source/user/headers_queue_api_working.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5f9b4327d9ad8b2f32d1ba6e64d448a5024a41c3', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ia47f486c79a108f6d4ffa419c59b91ad1199c718\n""}]",0,672103,5f9b4327d9ad8b2f32d1ba6e64d448a5024a41c3,9,12,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ia47f486c79a108f6d4ffa419c59b91ad1199c718
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/03/672103/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/getting_started.rst', 'doc/source/user/headers_queue_api_working.rst', 'tox.ini']",3,5f9b4327d9ad8b2f32d1ba6e64d448a5024a41c3,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,4,4
openstack%2Ftempest~master~I1656396df42502fe8e958bf8532161dfae6537e5,openstack/tempest,master,I1656396df42502fe8e958bf8532161dfae6537e5,Fix remaining api-ref references,MERGED,2019-07-30 17:28:25.000000000,2019-08-04 22:56:01.000000000,2019-08-04 22:56:01.000000000,"[{'_account_id': 5689}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd8781e3b312831d65aeb361ed1584ad01884de3', 'message': 'Fix remaining api-ref references\n\nChange Ib1a25cc31b6802655f576711dab38ddfcb73bbdb missed a couple of\nURLs, fix these:\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nChange-Id: I1656396df42502fe8e958bf8532161dfae6537e5\n'}, {'number': 2, 'created': '2019-07-31 04:10:20.000000000', 'files': ['tempest/lib/services/network/segments_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a45ae74043a5e1b199c080f7fc38c4b79ab15506', 'message': 'Fix remaining api-ref references\n\nChange Ib1a25cc31b6802655f576711dab38ddfcb73bbdb missed a couple of\nURLs, fix these:\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nChange-Id: I1656396df42502fe8e958bf8532161dfae6537e5\n'}]",3,673586,a45ae74043a5e1b199c080f7fc38c4b79ab15506,46,5,2,6547,,,0,"Fix remaining api-ref references

Change Ib1a25cc31b6802655f576711dab38ddfcb73bbdb missed a couple of
URLs, fix these:

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Change-Id: I1656396df42502fe8e958bf8532161dfae6537e5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/673586/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/network/segments_client.py'],1,fd8781e3b312831d65aeb361ed1584ad01884de3,retire-api-site, https://docs.openstack.org/api-ref/network/v2/index.html#create-segment https://docs.openstack.org/api-ref/network/v2/index.html#update-segment https://docs.openstack.org/api-ref/network/v2/index.html#show-segment https://docs.openstack.org/api-ref/network/v2/index.html#list-segments, http://developer.openstack.org/api-ref/networking/v2/index.html#create-segment http://developer.openstack.org/api-ref/networking/v2/index.html#update-segment http://developer.openstack.org/api-ref/networking/v2/index.html#show-segment http://developer.openstack.org/api-ref/networking/v2/index.html#list-segments,4,4
openstack%2Fmagnum~master~I6f880cb03ed43ec3bc9d3d9e5a7b87eaceda40e9,openstack/magnum,master,I6f880cb03ed43ec3bc9d3d9e5a7b87eaceda40e9,k8s: refactor functions into KubernetesDriver,MERGED,2019-06-20 19:45:04.000000000,2019-08-04 22:08:15.000000000,2019-08-04 22:08:14.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-06-20 19:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ef3abe32cb37a1f132d62a08c5291fcd139c5a9a', 'message': 'k8s: refactor functions into KubernetesDriver\n\nWe currently have a lot of duplicate functions across our drivers\nwhich use Kubernetes.  This takes them and brings them into a\ncommon class called KubernetesDriver and cleans up the subclasses.\n\nChange-Id: I6f880cb03ed43ec3bc9d3d9e5a7b87eaceda40e9\n'}, {'number': 2, 'created': '2019-06-20 20:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/74430a58e50ea49c9204630557f6775f603b56e4', 'message': 'k8s: refactor functions into KubernetesDriver\n\nWe currently have a lot of duplicate functions across our drivers\nwhich use Kubernetes.  This takes them and brings them into a\ncommon class called KubernetesDriver and cleans up the subclasses.\n\nChange-Id: I6f880cb03ed43ec3bc9d3d9e5a7b87eaceda40e9\n'}, {'number': 3, 'created': '2019-06-24 20:33:09.000000000', 'files': ['magnum/drivers/k8s_fedora_ironic_v1/driver.py', 'magnum/drivers/k8s_coreos_v1/driver.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b5d50ddd89cbb41cf1f122de3b9aabb1f3cb8c02', 'message': 'k8s: refactor functions into KubernetesDriver\n\nWe currently have a lot of duplicate functions across our drivers\nwhich use Kubernetes.  This takes them and brings them into a\ncommon class called KubernetesDriver and cleans up the subclasses.\n\nChange-Id: I6f880cb03ed43ec3bc9d3d9e5a7b87eaceda40e9\n'}]",0,666669,b5d50ddd89cbb41cf1f122de3b9aabb1f3cb8c02,16,8,3,1004,,,0,"k8s: refactor functions into KubernetesDriver

We currently have a lot of duplicate functions across our drivers
which use Kubernetes.  This takes them and brings them into a
common class called KubernetesDriver and cleans up the subclasses.

Change-Id: I6f880cb03ed43ec3bc9d3d9e5a7b87eaceda40e9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/69/666669/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_ironic_v1/driver.py', 'magnum/drivers/k8s_coreos_v1/driver.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/heat/driver.py']",4,ef3abe32cb37a1f132d62a08c5291fcd139c5a9a,ubuntu/kubeadm,"from magnum.common import keystone from magnum.common import octaviafrom magnum.drivers.common import k8s_monitorclass KubernetesDriver(HeatDriver): """""" Base driver for Kubernetes clusters """""" def get_monitor(self, context, cluster): return k8s_monitor.K8sMonitor(context, cluster) def get_scale_manager(self, context, osclient, cluster): # FIXME: Until the kubernetes client is fixed, remove # the scale_manager. # https://bugs.launchpad.net/magnum/+bug/1746510 return None def pre_delete_cluster(self, context, cluster): """"""Delete cloud resources before deleting the cluster."""""" if keystone.is_octavia_enabled(): LOG.info(""Starting to delete loadbalancers for cluster %s"", cluster.uuid) octavia.delete_loadbalancers(context, cluster) def upgrade_cluster(self, context, cluster, cluster_template, max_batch_size, nodegroup, scale_manager=None, rollback=False): raise NotImplementedError(""Must implement 'upgrade_cluster'"") ",,31,50
openstack%2Fpuppet-tripleo~stable%2Fqueens~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,stable/queens,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-08-02 19:39:40.000000000,2019-08-04 20:58:38.000000000,2019-08-04 20:58:38.000000000,"[{'_account_id': 6547}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 19:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7bdf5a1cbfcf45b56fee5e3fefd1e79177b4dced', 'message': 'Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)\n(cherry picked from commit 3c4748b46238002acda87a65c4150f0ce3d579cb)\n'}, {'number': 2, 'created': '2019-08-02 19:42:27.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d19ebc05116803141e885187a13047861384fde5', 'message': 'Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)\n(cherry picked from commit 3c4748b46238002acda87a65c4150f0ce3d579cb)\n(cherry picked from commit fe10653c3face414a0a81e080cbbcfd31d59aa7e)\n'}]",0,674413,d19ebc05116803141e885187a13047861384fde5,14,4,2,16643,,,0,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)
(cherry picked from commit 3c4748b46238002acda87a65c4150f0ce3d579cb)
(cherry picked from commit fe10653c3face414a0a81e080cbbcfd31d59aa7e)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/13/674413/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,7bdf5a1cbfcf45b56fee5e3fefd1e79177b4dced,bug/1837099," $manila_cephfs_pool_name = hiera('manila::backend::cephfs::pool_name', 'manila_data') ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => $manila_cephfs_pool_name;"," ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => 'manila_data';",2,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,stable/queens,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-08-02 19:35:59.000000000,2019-08-04 20:29:32.000000000,2019-08-04 20:29:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 19:35:59.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/40d594eb0bc55ec821c724de8a072ee0e8d44a03', 'message': ""Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)\n(cherry picked from commit ecbec17a339f0965c65ba29a182e571fd6a625cb)\n(cherry picked from commit fdab9a16995083123c00b89b414d0a737fbd121f)\n""}]",0,674412,40d594eb0bc55ec821c724de8a072ee0e8d44a03,14,4,1,16643,,,0,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)
(cherry picked from commit ecbec17a339f0965c65ba29a182e571fd6a625cb)
(cherry picked from commit fdab9a16995083123c00b89b414d0a737fbd121f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/674412/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,40d594eb0bc55ec821c724de8a072ee0e8d44a03,bug/1831938,"# [*manila_user_enabled_backends*] # (Optional) List of additional backend stanzas to activate # Defaults to hiera('manila_user_enabled_backends', undef) # $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_user_enabled_backends = hiera('manila_user_enabled_backends', undef), $backends = delete_undef_values(concat([], $manila_generic_backend, $manila_cephfsnative_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend, $manila_user_enabled_backends)) $manila_enabled_backends = delete($backends, '')"," $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_enabled_backends = delete_undef_values( [ $manila_generic_backend, $manila_cephfsnative_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend ] )",22,19
openstack%2Fcinder~master~I566f893ae754687555fb3c4cb581e1b8a4eed95d,openstack/cinder,master,I566f893ae754687555fb3c4cb581e1b8a4eed95d,Remove outdated scripts from tools/,MERGED,2019-07-21 20:59:52.000000000,2019-08-04 20:26:21.000000000,2019-08-04 20:26:21.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-21 20:59:52.000000000', 'files': ['tools/with_venv.sh', 'tools/enable-pre-commit-hook.sh', 'tools/colorizer.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29bb1f7b4a8b815ec536af55f908cab795c47c42', 'message': ""Remove outdated scripts from tools/\n\n- colorizer.py: stestr (and ostestr) can be used instead,\n  as they include its code;\n- enable-pre-commit-hook.sh: no references in the documentation,\n  it looks like a relic;\n- with_venv.sh: its only usage was removed when run_tests.sh\n  was removed, and it's being phased out from other repositories\n  as well.\n\nChange-Id: I566f893ae754687555fb3c4cb581e1b8a4eed95d\n""}]",0,671946,29bb1f7b4a8b815ec536af55f908cab795c47c42,26,22,1,10459,,,0,"Remove outdated scripts from tools/

- colorizer.py: stestr (and ostestr) can be used instead,
  as they include its code;
- enable-pre-commit-hook.sh: no references in the documentation,
  it looks like a relic;
- with_venv.sh: its only usage was removed when run_tests.sh
  was removed, and it's being phased out from other repositories
  as well.

Change-Id: I566f893ae754687555fb3c4cb581e1b8a4eed95d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/671946/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/with_venv.sh', 'tools/enable-pre-commit-hook.sh', 'tools/colorizer.py']",3,29bb1f7b4a8b815ec536af55f908cab795c47c42,remove-outdated-tools,,"#!/usr/bin/env python # Copyright (c) 2013, Nebula, Inc. # Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Colorizer Code is borrowed from Twisted: # Copyright (c) 2001-2010 Twisted Matrix Laboratories. # # Permission is hereby granted, free of charge, to any person obtaining # a copy of this software and associated documentation files (the # ""Software""), to deal in the Software without restriction, including # without limitation the rights to use, copy, modify, merge, publish, # distribute, sublicense, and/or sell copies of the Software, and to # permit persons to whom the Software is furnished to do so, subject to # the following conditions: # # The above copyright notice and this permission notice shall be # included in all copies or substantial portions of the Software. # # THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, # EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF # MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND # NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE # LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION # OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION # WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. """"""Display a subunit stream through a colorized unittest test runner."""""" import heapq import subunit import sys import unittest import testtools class _AnsiColorizer(object): """"""ANSI colorizer that wraps a stream object. colorizer is an object that loosely wraps around a stream, allowing callers to write text to the stream in a particular color. Colorizer classes must implement C{supported()} and C{write(text, color)}. """""" _colors = dict(black=30, red=31, green=32, yellow=33, blue=34, magenta=35, cyan=36, white=37) def __init__(self, stream): self.stream = stream def supported(cls, stream=sys.stdout): """"""Check if platform is supported. A class method that returns True if the current platform supports coloring terminal output using this method. Returns False otherwise. """""" if not stream.isatty(): return False # auto color only on TTYs try: import curses except ImportError: return False else: try: try: return curses.tigetnum(""colors"") > 2 except curses.error: curses.setupterm() return curses.tigetnum(""colors"") > 2 except Exception: # guess false in case of error return False supported = classmethod(supported) def write(self, text, color): """"""Write the given text to the stream in the given color. @param text: Text to be written to the stream. @param color: A string label for a color. e.g. 'red', 'white'. """""" color = self._colors[color] self.stream.write('\x1b[%s;1m%s\x1b[0m' % (color, text)) class _Win32Colorizer(object): """"""See _AnsiColorizer docstring."""""" def __init__(self, stream): import win32console red, green, blue, bold = (win32console.FOREGROUND_RED, win32console.FOREGROUND_GREEN, win32console.FOREGROUND_BLUE, win32console.FOREGROUND_INTENSITY) self.stream = stream self.screenBuffer = win32console.GetStdHandle( win32console.STD_OUT_HANDLE) self._colors = { 'normal': red | green | blue, 'red': red | bold, 'green': green | bold, 'blue': blue | bold, 'yellow': red | green | bold, 'magenta': red | blue | bold, 'cyan': green | blue | bold, 'white': red | green | blue | bold } def supported(cls, stream=sys.stdout): try: import win32console screenBuffer = win32console.GetStdHandle( win32console.STD_OUT_HANDLE) except ImportError: return False import pywintypes try: screenBuffer.SetConsoleTextAttribute( win32console.FOREGROUND_RED | win32console.FOREGROUND_GREEN | win32console.FOREGROUND_BLUE) except pywintypes.error: return False else: return True supported = classmethod(supported) def write(self, text, color): color = self._colors[color] self.screenBuffer.SetConsoleTextAttribute(color) self.stream.write(text) self.screenBuffer.SetConsoleTextAttribute(self._colors['normal']) class _NullColorizer(object): """"""See _AnsiColorizer docstring."""""" def __init__(self, stream): self.stream = stream def supported(cls, stream=sys.stdout): return True supported = classmethod(supported) def write(self, text, color): self.stream.write(text) def get_elapsed_time_color(elapsed_time): if elapsed_time > 1.0: return 'red' elif elapsed_time > 0.25: return 'yellow' else: return 'green' class NovaTestResult(testtools.TestResult): def __init__(self, stream, descriptions, verbosity): super(NovaTestResult, self).__init__() self.stream = stream self.showAll = verbosity > 1 self.num_slow_tests = 10 self.slow_tests = [] # this is a fixed-sized heap self.colorizer = None # NOTE(vish): reset stdout for the terminal check stdout = sys.stdout sys.stdout = sys.__stdout__ for colorizer in [_Win32Colorizer, _AnsiColorizer, _NullColorizer]: if colorizer.supported(): self.colorizer = colorizer(self.stream) break sys.stdout = stdout self.start_time = None self.last_time = {} self.results = {} self.last_written = None def _writeElapsedTime(self, elapsed): color = get_elapsed_time_color(elapsed) self.colorizer.write("" %.2f"" % elapsed, color) def _addResult(self, test, *args): try: name = test.id() except AttributeError: name = 'Unknown.unknown' test_class, test_name = name.rsplit('.', 1) elapsed = (self._now() - self.start_time).total_seconds() item = (elapsed, test_class, test_name) if len(self.slow_tests) >= self.num_slow_tests: heapq.heappushpop(self.slow_tests, item) else: heapq.heappush(self.slow_tests, item) self.results.setdefault(test_class, []) self.results[test_class].append((test_name, elapsed) + args) self.last_time[test_class] = self._now() self.writeTests() def _writeResult(self, test_name, elapsed, long_result, color, short_result, success): if self.showAll: self.stream.write(' %s' % str(test_name).ljust(66)) self.colorizer.write(long_result, color) if success: self._writeElapsedTime(elapsed) self.stream.writeln() else: self.colorizer.write(short_result, color) def addSuccess(self, test): super(NovaTestResult, self).addSuccess(test) self._addResult(test, 'OK', 'green', '.', True) def addFailure(self, test, err): if test.id() == 'process-returncode': return super(NovaTestResult, self).addFailure(test, err) self._addResult(test, 'FAIL', 'red', 'F', False) def addError(self, test, err): super(NovaTestResult, self).addFailure(test, err) self._addResult(test, 'ERROR', 'red', 'E', False) def addSkip(self, test, reason=None, details=None): super(NovaTestResult, self).addSkip(test, reason, details) self._addResult(test, 'SKIP', 'blue', 'S', True) def startTest(self, test): self.start_time = self._now() super(NovaTestResult, self).startTest(test) def writeTestCase(self, cls): if not self.results.get(cls): return if cls != self.last_written: self.colorizer.write(cls, 'white') self.stream.writeln() for result in self.results[cls]: self._writeResult(*result) del self.results[cls] self.stream.flush() self.last_written = cls def writeTests(self): time = self.last_time.get(self.last_written, self._now()) if not self.last_written or (self._now() - time).total_seconds() > 2.0: diff = 3.0 while diff > 2.0: classes = self.results.keys() oldest = min(classes, key=lambda x: self.last_time[x]) diff = (self._now() - self.last_time[oldest]).total_seconds() self.writeTestCase(oldest) else: self.writeTestCase(self.last_written) def done(self): self.stopTestRun() def stopTestRun(self): for cls in list(self.results): self.writeTestCase(cls) self.stream.writeln() self.writeSlowTests() def writeSlowTests(self): # Pare out 'fast' tests slow_tests = [item for item in self.slow_tests if get_elapsed_time_color(item[0]) != 'green'] if slow_tests: slow_total_time = sum(item[0] for item in slow_tests) slow = (""Slowest %i tests took %.2f secs:"" % (len(slow_tests), slow_total_time)) self.colorizer.write(slow, 'yellow') self.stream.writeln() last_cls = None # sort by name for elapsed, cls, name in sorted(slow_tests, key=lambda x: x[1] + x[2]): if cls != last_cls: self.colorizer.write(cls, 'white') self.stream.writeln() last_cls = cls self.stream.write(' %s' % str(name).ljust(68)) self._writeElapsedTime(elapsed) self.stream.writeln() def printErrors(self): if self.showAll: self.stream.writeln() self.printErrorList('ERROR', self.errors) self.printErrorList('FAIL', self.failures) def printErrorList(self, flavor, errors): for test, err in errors: self.colorizer.write(""="" * 70, 'red') self.stream.writeln() self.colorizer.write(flavor, 'red') self.stream.writeln("": %s"" % test.id()) self.colorizer.write(""-"" * 70, 'red') self.stream.writeln() self.stream.writeln(""%s"" % err) test = subunit.ProtocolTestCase(sys.stdin, passthrough=None) if sys.version_info[0:2] <= (2, 6): runner = unittest.TextTestRunner(verbosity=2) else: runner = unittest.TextTestRunner(verbosity=2, resultclass=NovaTestResult) if runner.run(test).wasSuccessful(): exit_code = 0 else: exit_code = 1 sys.exit(exit_code) ",0,381
openstack%2Fcinder~stable%2Fstein~Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba,openstack/cinder,stable/stein,Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba,doc: Fix rbd driver marked support multiattach,MERGED,2019-07-24 15:50:02.000000000,2019-08-04 20:26:18.000000000,2019-08-04 20:26:18.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-24 15:50:02.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/742eb13901b9f42c8902e4420323b22e56be3db6', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\nWith commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 ,\nmultiattach support is enabled in RBD driver.\n\nChange-Id: Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba\nCloses-Bug: #1835383\n(cherry picked from commit f0ad03e456d954fc6e64b224575bd99fb29cb812)\n'}]",0,672552,742eb13901b9f42c8902e4420323b22e56be3db6,17,13,1,29062,,,0,"doc: Fix rbd driver marked support multiattach

According to stein release highlights, rbd driver is added
support multiattach in the cinder section notes.
With commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 ,
multiattach support is enabled in RBD driver.

Change-Id: Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba
Closes-Bug: #1835383
(cherry picked from commit f0ad03e456d954fc6e64b224575bd99fb29cb812)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/672552/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.ini'],1,742eb13901b9f42c8902e4420323b22e56be3db6,bug/1835383-stable/stein,driver.rbd=complete,driver.rbd=missing,1,1
openstack%2Fcinder~master~Ie865107dcb39bc078dbc669ba64989dc1ea62a64,openstack/cinder,master,Ie865107dcb39bc078dbc669ba64989dc1ea62a64,Add key-manager to sevice catalog,MERGED,2019-06-11 11:22:40.000000000,2019-08-04 20:26:15.000000000,2019-08-04 20:26:15.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9542}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-11 11:22:40.000000000', 'files': ['cinder/context.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e269cc6687af71b19e2903af48a104d5b1f052b1', 'message': 'Add key-manager to sevice catalog\n\nKey-manager needed primarily in castellan to reuse\nexisting token from context in castellan.\n\nChange-Id: Ie865107dcb39bc078dbc669ba64989dc1ea62a64\nRelated-Bug: #1827047\n'}]",0,664558,e269cc6687af71b19e2903af48a104d5b1f052b1,37,31,1,8478,,,0,"Add key-manager to sevice catalog

Key-manager needed primarily in castellan to reuse
existing token from context in castellan.

Change-Id: Ie865107dcb39bc078dbc669ba64989dc1ea62a64
Related-Bug: #1827047
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/664558/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/context.py'],1,e269cc6687af71b19e2903af48a104d5b1f052b1,," 'image', 'key-manager')]", 'image')],1,1
openstack%2Fcinder~master~Ia4dc1ccfdccceac974c5fb14a9cc023c7472f0ea,openstack/cinder,master,Ia4dc1ccfdccceac974c5fb14a9cc023c7472f0ea,[DOCFIX] Correct Cinder Backup Driver Option Value,MERGED,2019-07-19 17:26:56.000000000,2019-08-04 20:26:12.000000000,2019-08-04 20:26:11.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-19 17:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6edb4d8429aedf2ad869b9406fae33b88460d168', 'message': 'Fix Cinder Backup Driver Option Value\n\nChange-Id: Ia4dc1ccfdccceac974c5fb14a9cc023c7472f0ea\nCloses-Bug: #1837240\n'}, {'number': 2, 'created': '2019-07-21 14:21:38.000000000', 'files': ['doc/source/install/cinder-backup-install-rdo.rst', 'doc/source/install/cinder-backup-install-ubuntu.rst', 'doc/source/install/cinder-backup-install-obs.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/377e51a0f91f4f4ea1c6af6a836f46688e9a1c1f', 'message': '[DOCFIX] Correct Cinder Backup Driver Option Value\n\nChange-Id: Ia4dc1ccfdccceac974c5fb14a9cc023c7472f0ea\nCloses-Bug: #1837240\n'}]",1,671781,377e51a0f91f4f4ea1c6af6a836f46688e9a1c1f,48,23,2,29130,,,0,"[DOCFIX] Correct Cinder Backup Driver Option Value

Change-Id: Ia4dc1ccfdccceac974c5fb14a9cc023c7472f0ea
Closes-Bug: #1837240
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/671781/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/cinder-backup-install-rdo.rst'],1,6edb4d8429aedf2ad869b9406fae33b88460d168,bug/1837240, backup_driver = cinder.backup.drivers.swift.SwiftBackupDriver, backup_driver = cinder.backup.drivers.swift,1,1
openstack%2Fcinder~stable%2Frocky~I9da1af4ac6df1d033a9baaba77135b329c87e6f8,openstack/cinder,stable/rocky,I9da1af4ac6df1d033a9baaba77135b329c87e6f8,Add OS-SCH-HNT in extensions list,MERGED,2019-06-24 06:31:00.000000000,2019-08-04 19:49:57.000000000,2019-08-04 19:49:56.000000000,"[{'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29627}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-24 06:31:00.000000000', 'files': ['cinder/api/extensions.py', 'cinder/api/contrib/scheduler_hints.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a02fa540e85084be016984f7acb557297e0907ad', 'message': 'Add OS-SCH-HNT in extensions list\n\nTo have backward compatibility with MV 3.53, we need to include\nOS-SCH-HNT in the ``cinder list-extensions`` response.\n\nChange-Id: I9da1af4ac6df1d033a9baaba77135b329c87e6f8\nCloses-Bug: #1831623\n(cherry picked from commit 9a5bdb308ae0ea72210678853192c813bf7b0c92)\n'}]",0,667020,a02fa540e85084be016984f7acb557297e0907ad,33,21,1,27615,,,0,"Add OS-SCH-HNT in extensions list

To have backward compatibility with MV 3.53, we need to include
OS-SCH-HNT in the ``cinder list-extensions`` response.

Change-Id: I9da1af4ac6df1d033a9baaba77135b329c87e6f8
Closes-Bug: #1831623
(cherry picked from commit 9a5bdb308ae0ea72210678853192c813bf7b0c92)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/667020/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/extensions.py', 'cinder/api/contrib/scheduler_hints.py']",2,a02fa540e85084be016984f7acb557297e0907ad,bug/1831623,"from cinder.api import extensions # NOTE: This class is added to include ""OS-SCH-HNT"" in the list extensions # response and ""OS-SCH-HNT"" is still not loaded as a standard extension. class Scheduler_hints(extensions.ExtensionDescriptor): """"""Pass arbitrary key/value pairs to the scheduler."""""" name = ""SchedulerHints"" alias = ""OS-SCH-HNT"" updated = ""2013-04-18T00:00:00+00:00""",,12,1
openstack%2Fcinder~master~I43fd8185c718f3ce9f24eedd84332e5b578a7d7b,openstack/cinder,master,I43fd8185c718f3ce9f24eedd84332e5b578a7d7b,Add case: force delete snapshot,MERGED,2019-06-20 03:29:51.000000000,2019-08-04 19:49:54.000000000,2019-08-04 19:49:54.000000000,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28452}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-20 03:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/558a86798a4593ca8ff9bf2026fd6484b851859c', 'message': ""Add case: force delete snapshot\n\nThis patch add test case: snapshot can be forced to delete, when\nsnapshot's status is error_deleting.\n\nChange-Id: I43fd8185c718f3ce9f24eedd84332e5b578a7d7b\n""}, {'number': 2, 'created': '2019-06-20 06:37:20.000000000', 'files': ['cinder/tests/unit/volume/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f38fbb646f29ad7e04c7a3f7cd4fdd00a51958ae', 'message': ""Add case: force delete snapshot\n\nThis patch add test case: snapshot can be forced to delete, when\nsnapshot's status is error_deleting.\n\nChange-Id: I43fd8185c718f3ce9f24eedd84332e5b578a7d7b\n""}]",1,666478,f38fbb646f29ad7e04c7a3f7cd4fdd00a51958ae,44,23,2,28452,,,0,"Add case: force delete snapshot

This patch add test case: snapshot can be forced to delete, when
snapshot's status is error_deleting.

Change-Id: I43fd8185c718f3ce9f24eedd84332e5b578a7d7b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/666478/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_snapshot.py'],1,558a86798a4593ca8ff9bf2026fd6484b851859c,delete-snapshot," def test_force_delete_snapshot(self): """"""Test snapshot can be forced to delete."""""" fake_volume = tests_utils.create_volume(self.context) fake_snapshot = tests_utils.create_snapshot(self.context, fake_volume.id, status='error_deleting') # 'error_deleting' snapshot can't be deleted self.assertRaises(exception.InvalidSnapshot, self.volume_api.delete_snapshot, self.context, fake_snapshot) # delete with force self.volume_api.delete_snapshot(self.context, fake_snapshot, force=True) # status is deleting volume = objects.Snapshot.get_by_id(context.get_admin_context(), fake_snapshot.id) self.assertEqual('deleting', fake_snapshot.status) ",,22,0
openstack%2Fcinder~master~If72c1430edfcb66e7d23c2c889b44c5459082414,openstack/cinder,master,If72c1430edfcb66e7d23c2c889b44c5459082414,Mark Datera driver unsupported,MERGED,2019-06-21 17:31:45.000000000,2019-08-04 19:49:51.000000000,2019-08-04 19:49:51.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-06-21 17:31:45.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/datera/datera_iscsi.py', 'releasenotes/notes/datera-mark-unsupported-7b71d9124b3fded2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/32aa53eaf54efa8e5e49e40c195afe8e90f5136d', 'message': ""Mark Datera driver unsupported\n\nThe Datera driver has not successfully run 3rd party CI for\na period greater than 60 days.  This falls out of the\nCinder requirements for 3rd Party CI.  As a result the\ndriver is being marked as unsupported in the Train release\nand will be removed in the 'U' release if the problem is not\ncorrected.\n\nChange-Id: If72c1430edfcb66e7d23c2c889b44c5459082414\n""}]",0,666893,32aa53eaf54efa8e5e49e40c195afe8e90f5136d,41,27,1,7198,,,0,"Mark Datera driver unsupported

The Datera driver has not successfully run 3rd party CI for
a period greater than 60 days.  This falls out of the
Cinder requirements for 3rd Party CI.  As a result the
driver is being marked as unsupported in the Train release
and will be removed in the 'U' release if the problem is not
corrected.

Change-Id: If72c1430edfcb66e7d23c2c889b44c5459082414
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/666893/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/datera/datera_iscsi.py', 'releasenotes/notes/datera-mark-unsupported-7b71d9124b3fded2.yaml']",3,32aa53eaf54efa8e5e49e40c195afe8e90f5136d,ci_unsupported,"--- upgrade: - | The driver for Datera's Storage Systems has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - | The driver for Datera's Storage Systems has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If its support status does not change, it will be removed in the 'U' development cycle. ",,18,1
openstack%2Fpython-openstackclient~master~Id9cc4358e2cc44b7bb4ed11577a7c8f812a5764f,openstack/python-openstackclient,master,Id9cc4358e2cc44b7bb4ed11577a7c8f812a5764f,"Fix typo in ""floating ip set"" properties",ABANDONED,2018-07-20 18:37:46.000000000,2019-08-04 18:43:25.000000000,,"[{'_account_id': 6547}, {'_account_id': 7812}, {'_account_id': 22348}, {'_account_id': 25235}]","[{'number': 1, 'created': '2018-07-20 18:37:46.000000000', 'files': ['openstackclient/locale/tr_TR/LC_MESSAGES/openstackclient.po'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4f6197bc629a19cce90c9ec8286c821375d7daef', 'message': 'Fix typo in ""floating ip set"" properties\n\nEditing a small typo in the command ""openstack help floating ip set""\nthat changes the word ""Assocaite"" to ""Associate"" for better readability.\n\nChange-Id: Id9cc4358e2cc44b7bb4ed11577a7c8f812a5764f\ncloses-bug: 23098\nSigned-off-by: T. Nichole Williams <tribecca@tribecc.us>\n'}]",0,584484,4f6197bc629a19cce90c9ec8286c821375d7daef,10,4,1,25235,,,0,"Fix typo in ""floating ip set"" properties

Editing a small typo in the command ""openstack help floating ip set""
that changes the word ""Assocaite"" to ""Associate"" for better readability.

Change-Id: Id9cc4358e2cc44b7bb4ed11577a7c8f812a5764f
closes-bug: 23098
Signed-off-by: T. Nichole Williams <tribecca@tribecc.us>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/584484/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/locale/tr_TR/LC_MESSAGES/openstackclient.po'],1,4f6197bc629a19cce90c9ec8286c821375d7daef,bug/23098,"msgid ""Associate the floating IP with port (name or ID)""","msgid ""Assocaite the floating IP with port (name or ID)""",1,1
openstack%2Freleases~master~I8b99173fca57103c3a60cc1f2ca6bc90114d23d7,openstack/releases,master,I8b99173fca57103c3a60cc1f2ca6bc90114d23d7,Release octavia-lib 1.3.1,MERGED,2019-08-03 16:09:35.000000000,2019-08-04 18:28:55.000000000,2019-08-04 18:28:55.000000000,"[{'_account_id': 2245}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 16:09:35.000000000', 'files': ['deliverables/train/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cc127db8090cf4fce609a5aaa91c944b1e702c2e', 'message': 'Release octavia-lib 1.3.1\n\nThis patch proposes the release of octavia-lib 1.3.1.\n\nChange-Id: I8b99173fca57103c3a60cc1f2ca6bc90114d23d7\n'}]",0,674463,cc127db8090cf4fce609a5aaa91c944b1e702c2e,10,5,1,10273,,,0,"Release octavia-lib 1.3.1

This patch proposes the release of octavia-lib 1.3.1.

Change-Id: I8b99173fca57103c3a60cc1f2ca6bc90114d23d7
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/674463/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia-lib.yaml'],1,cc127db8090cf4fce609a5aaa91c944b1e702c2e,, - version: 1.3.1 projects: - repo: openstack/octavia-lib hash: 43e957f9fe42505b421c882b6706d74132aebd7d,,4,0
openstack%2Ftempest~master~I7db428c02bbe3ae8ecdc3679817cb20b7a8a63dd,openstack/tempest,master,I7db428c02bbe3ae8ecdc3679817cb20b7a8a63dd,Remove the Pike stable branch jobs from master gate,MERGED,2019-07-13 16:04:34.000000000,2019-08-04 17:22:45.000000000,2019-08-04 17:22:44.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-13 16:04:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1114de6b0c6fd6698fd6842932a18680032cf1b8', 'message': 'Remove the Pike stable branch jobs from master gate\n\nTempest 21.0.0 is released now, which marks the end of support\nfor Pike release - https://review.opendev.org/#/c/670700/\n\nWe do not need to run the Pike stable job om master gate now.\nDepends-On: https://review.opendev.org/#/c/670700/\n\nChange-Id: I7db428c02bbe3ae8ecdc3679817cb20b7a8a63dd\n'}]",0,670701,1114de6b0c6fd6698fd6842932a18680032cf1b8,51,8,1,8556,,,0,"Remove the Pike stable branch jobs from master gate

Tempest 21.0.0 is released now, which marks the end of support
for Pike release - https://review.opendev.org/#/c/670700/

We do not need to run the Pike stable job om master gate now.
Depends-On: https://review.opendev.org/#/c/670700/

Change-Id: I7db428c02bbe3ae8ecdc3679817cb20b7a8a63dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/01/670701/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1114de6b0c6fd6698fd6842932a18680032cf1b8,release-tempest-21.0.0,, name: tempest-full-pike parent: tempest-full nodeset: openstack-single-node-xenial override-checkout: stable/pike - job: - tempest-full-pike: irrelevant-files: *tempest-irrelevant-files - tempest-full-pike,0,9
openstack%2Fos-ken~master~If9a09aa250139d8585445c3a892f71074e7637c7,openstack/os-ken,master,If9a09aa250139d8585445c3a892f71074e7637c7,Add Python 3 Train unit tests,MERGED,2019-07-05 17:55:39.000000000,2019-08-04 14:25:18.000000000,2019-08-04 14:25:18.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-07-05 17:55:39.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/8f7851a72748563ff9d1eaa75971e89769083d9b', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: If9a09aa250139d8585445c3a892f71074e7637c7\nStory: #2005924\nTask: #34225\n'}]",0,669434,8f7851a72748563ff9d1eaa75971e89769083d9b,7,9,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: If9a09aa250139d8585445c3a892f71074e7637c7
Story: #2005924
Task: #34225
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/34/669434/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,8f7851a72748563ff9d1eaa75971e89769083d9b,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",3,3
openstack%2Fwhereto~master~I6af9bdb5968c00e23e272b983839380f2f9f17cb,openstack/whereto,master,I6af9bdb5968c00e23e272b983839380f2f9f17cb,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-02 06:35:45.000000000,2019-08-04 13:41:33.000000000,2019-08-04 13:41:33.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 06:35:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/whereto/commit/fce8065ac95cc97fe82f0d65cf27b465ae5f3190', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I6af9bdb5968c00e23e272b983839380f2f9f17cb\n'}]",0,674198,fce8065ac95cc97fe82f0d65cf27b465ae5f3190,7,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I6af9bdb5968c00e23e272b983839380f2f9f17cb
",git fetch https://review.opendev.org/openstack/whereto refs/changes/98/674198/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fce8065ac95cc97fe82f0d65cf27b465ae5f3190,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fblazar-nova~master~Ic6637a9668929100c9dbb95933acc11117f0980b,openstack/blazar-nova,master,Ic6637a9668929100c9dbb95933acc11117f0980b,Avoid tox-install.sh,ABANDONED,2019-06-05 06:55:47.000000000,2019-08-04 13:38:22.000000000,,"[{'_account_id': 6547}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 06:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/46fb236f194956cb659d715842d80cab58f75c7c', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install nova now directly\nfrom pypi - or use the current branch in CI system using tox-siblings.\n\nUpdate tox.ini for this change. Use new location for constraints file.\n\nAdd nova to requirements file.\n\nDepends-On: https://review.opendev.org/663234\nChange-Id: Ic6637a9668929100c9dbb95933acc11117f0980b\n'}, {'number': 2, 'created': '2019-06-05 08:02:36.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/626689f8a2cff1b0097eaeb2f03eaeef180e489a', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install nova now directly\nfrom pypi - or use the current branch in CI system using tox-siblings.\n\nUpdate tox.ini for this change. Use new location for constraints file.\n\nAdd nova to requirements file.\n\nUpdate sphinx requirements to pass requirements check.\n\nDepends-On: https://review.opendev.org/663234\nChange-Id: Ic6637a9668929100c9dbb95933acc11117f0980b\n'}]",0,663252,626689f8a2cff1b0097eaeb2f03eaeef180e489a,7,3,2,6547,,,0,"Avoid tox-install.sh

Instead of using tox-install.sh, we can install nova now directly
from pypi - or use the current branch in CI system using tox-siblings.

Update tox.ini for this change. Use new location for constraints file.

Add nova to requirements file.

Update sphinx requirements to pass requirements check.

Depends-On: https://review.opendev.org/663234
Change-Id: Ic6637a9668929100c9dbb95933acc11117f0980b
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/52/663252/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'lower-constraints.txt', 'tox.ini']",4,46fb236f194956cb659d715842d80cab58f75c7c,tox-siblings,install_command = pip install {opts} {packages} deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} deps = -r{toxinidir}/test-requirements.txt,5,70
openstack%2Fcompute-hyperv~master~I3073d24c5c0827760dcc412e4c380d062253342e,openstack/compute-hyperv,master,I3073d24c5c0827760dcc412e4c380d062253342e,Avoid tox-install.sh,ABANDONED,2019-06-05 06:52:48.000000000,2019-08-04 13:38:17.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 06:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/18abe77bf11ad9e35d917c39dd5922e79eebba17', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install nova now directly\nfrom pypi - or use the current branch in CI system using tox-siblings.\n\nUpdate tox.ini for this change. Use new location for constraints file.\n\nAdd nova to requirements file.\n\nDepends-On: https://review.opendev.org/663234\nChange-Id: I3073d24c5c0827760dcc412e4c380d062253342e\n'}, {'number': 2, 'created': '2019-06-05 08:01:24.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/76b8a4de06c3285411b691efc04674a93a654957', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install nova now directly\nfrom pypi - or use the current branch in CI system using tox-siblings.\n\nUpdate tox.ini for this change. Use new location for constraints file.\n\nAdd nova to requirements file.\n\nDepends-On: https://review.opendev.org/663234\nChange-Id: I3073d24c5c0827760dcc412e4c380d062253342e\n'}]",0,663251,76b8a4de06c3285411b691efc04674a93a654957,6,2,2,6547,,,0,"Avoid tox-install.sh

Instead of using tox-install.sh, we can install nova now directly
from pypi - or use the current branch in CI system using tox-siblings.

Update tox.ini for this change. Use new location for constraints file.

Add nova to requirements file.

Depends-On: https://review.opendev.org/663234
Change-Id: I3073d24c5c0827760dcc412e4c380d062253342e
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/51/663251/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'tox.ini']",3,18abe77bf11ad9e35d917c39dd5922e79eebba17,,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/requirements.txt -egit+https://github.com/openstack/nova#egg=nova -egit+https://github.com/openstack/nova#egg=nova,5,60
openstack%2Fopenstackclient~master~Ib74d40fad1ff368d774990f3df17b64990f6b32a,openstack/openstackclient,master,Ib74d40fad1ff368d774990f3df17b64990f6b32a,Remove deprecated PBR option 'warnerrors',NEW,2019-01-03 13:31:43.000000000,2019-08-04 13:35:28.000000000,,"[{'_account_id': 841}, {'_account_id': 11444}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-03 13:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/bf928eaa651a102a9f2ddb4baaa24aecdf7fd519', 'message': ""Replace deprecated PBR option 'warnerrors' by 'warning-is-error'\n\nPBR option 'warnerrors' has been deprecated and replaced by\n'warning-is-error', PBR version 2.0.\nAnd enable it again, as it was before 'warnerrors' had been broken\nby PBR 1.10 and disabled in python client.\n\nChange-Id: Ib74d40fad1ff368d774990f3df17b64990f6b32a\nStory: 2004693\n""}, {'number': 2, 'created': '2019-01-03 15:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/477ec1520de8b35e99085fd2805f99eae473c2cd', 'message': 'Remove deprecated PBR option \'warnerrors\'\n\nPBR option \'warnerrors\' has been deprecated and replaced by\nsphinx-build option ""sphinx-build -W ..."" in tox.ini,\nas recommended by OpenStack Project Testing Interface:\n\n  https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Ib74d40fad1ff368d774990f3df17b64990f6b32a\nStory: 2004693\n'}, {'number': 3, 'created': '2019-01-03 15:51:56.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/4831dd9311727a952ae4061ef38fe14176345480', 'message': 'Remove deprecated PBR option \'warnerrors\'\n\nPBR option \'warnerrors\' has been deprecated and replaced by\nsphinx-build option ""sphinx-build -W ..."" in tox.ini,\nas recommended by OpenStack Project Testing Interface:\n\n  https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Ib74d40fad1ff368d774990f3df17b64990f6b32a\nStory: 2004693\n'}]",5,628177,4831dd9311727a952ae4061ef38fe14176345480,15,3,3,11444,,,0,"Remove deprecated PBR option 'warnerrors'

PBR option 'warnerrors' has been deprecated and replaced by
sphinx-build option ""sphinx-build -W ..."" in tox.ini,
as recommended by OpenStack Project Testing Interface:

  https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation

Change-Id: Ib74d40fad1ff368d774990f3df17b64990f6b32a
Story: 2004693
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/77/628177/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bf928eaa651a102a9f2ddb4baaa24aecdf7fd519,bug/2004693,warning-is-error = 1,# TODO(jaegernandi): Set to True again once pbr 1.11.0 is out. warnerrors = False,1,2
openstack%2Fpython-openstackclient~master~I199f17e95c509a33f809ac85c65f685a37acd198,openstack/python-openstackclient,master,I199f17e95c509a33f809ac85c65f685a37acd198,openstack port create support --extra-dhcp-option,MERGED,2019-05-07 03:31:42.000000000,2019-08-04 13:28:10.000000000,2019-08-01 21:56:43.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 1131}, {'_account_id': 6873}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 22378}, {'_account_id': 23360}, {'_account_id': 26458}, {'_account_id': 28706}, {'_account_id': 30200}, {'_account_id': 30380}, {'_account_id': 30384}, {'_account_id': 30388}, {'_account_id': 30395}, {'_account_id': 30413}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-07 03:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a75819aff6dabd71c24c309f592ac47e886555a', 'message': 'openstack port create support --extra-dhcp-opt\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 2, 'created': '2019-05-07 05:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/714af7eebd6655705775cf28172a2222f23aceab', 'message': 'openstack port create support --extra-dhcp-opt\n\nneutron create-port API  has extra_dhcp_opts parameter，this parameter can set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 3, 'created': '2019-05-13 02:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1852a0c20dfb3f21573076f6377b5d5d51405f98', 'message': 'openstack port create support --extra-dhcp-opt\n\nneutron create-port API  has extra_dhcp_opts parameter，this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 4, 'created': '2019-05-16 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ec2fdea53f7c3a3aeec2e759d0a1656302bc0d18', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter，this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 5, 'created': '2019-05-23 07:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/541f274d9d2d8c905064547887ba9bc546a1c9ae', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 6, 'created': '2019-05-23 07:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/30881608c4b612a750d8343d0153816bf6f00bac', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 7, 'created': '2019-05-27 12:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/76d8a66393c3c9783e1ecae420bf6ffb33be2918', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 8, 'created': '2019-05-28 02:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/52c5ca1d5885944dee5795e6dd6beb147616f282', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 9, 'created': '2019-05-28 03:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/63ed8a69d63940b4495ee0de6193dd33eb02f8f4', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 10, 'created': '2019-05-28 14:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7df4500e30c0095159756ef8a73973f4de1b38e3', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 11, 'created': '2019-06-12 09:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6e80c08cdca0df39a6b4a0bba437b43cd559ce4', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 12, 'created': '2019-06-27 09:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1a5b1e7ba08ee2706a3d59de0467f44831bf6aa2', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}, {'number': 13, 'created': '2019-07-25 06:13:11.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py', 'releasenotes/notes/allow-port-create-with-extra-dhcp-options-c2c40e4002b52e2a.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/68809fce5a1073659001a87aee4f9407affd5d0e', 'message': 'openstack port create support --extra-dhcp-option\n\nneutron create-port API  has extra_dhcp_opts parameter, this parameter\ncan set port with special extra dhcp options.\n\nChange-Id: I199f17e95c509a33f809ac85c65f685a37acd198\n'}]",41,657519,68809fce5a1073659001a87aee4f9407affd5d0e,69,17,13,30380,,,0,"openstack port create support --extra-dhcp-option

neutron create-port API  has extra_dhcp_opts parameter, this parameter
can set port with special extra dhcp options.

Change-Id: I199f17e95c509a33f809ac85c65f685a37acd198
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/19/657519/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py']",2,0a75819aff6dabd71c24c309f592ac47e886555a,," parser.add_argument( '--extra-dhcp-opt', metavar='opt_name=<dhcp_option_name>[,opt_value=<value>,ip_version={4,6}]', default=[], action=parseractions.MultiKeyValueCommaAction, dest='extra_dhcp_opts', required_keys=['opt_name'], optional_keys=['opt_value', ""ip_version""], help=_('Extra dhcp options to be assigned to this port: ' 'opt_name=<dhcp_option_name>,opt_value=<value>,' 'ip_version={4,6}. You can repeat this option.')) if len(parsed_args.extra_dhcp_opts) > 0: attrs[""extra_dhcp_opts""] = parsed_args.extra_dhcp_opts ", # TODO(singhj): Add support for extended options: # dhcp,43,2
openstack%2Fkolla~stable%2Fqueens~I05433f5bb2313e2adff39850a970d4430340c852,openstack/kolla,stable/queens,I05433f5bb2313e2adff39850a970d4430340c852,Update build profiles for Placement split,ABANDONED,2019-08-02 11:05:41.000000000,2019-08-04 07:39:57.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 11:05:41.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1194069ee6359e6aaea8ed1a0fb52c203188e3f5', 'message': 'Update build profiles for Placement split\n\nThe Placement API is now a separate project, but anyone\nbuilding Nova is likely to want it. This change ensures\nthat it is built alongside Nova.\n\nChange-Id: I05433f5bb2313e2adff39850a970d4430340c852\n(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)\n'}]",0,674266,1194069ee6359e6aaea8ed1a0fb52c203188e3f5,5,4,1,30491,,,0,"Update build profiles for Placement split

The Placement API is now a separate project, but anyone
building Nova is likely to want it. This change ensures
that it is built alongside Nova.

Change-Id: I05433f5bb2313e2adff39850a970d4430340c852
(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/66/674266/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,1194069ee6359e6aaea8ed1a0fb52c203188e3f5,," 'placement', 'placement', 'placement',",,3,0
openstack%2Fkolla~stable%2Frocky~I05433f5bb2313e2adff39850a970d4430340c852,openstack/kolla,stable/rocky,I05433f5bb2313e2adff39850a970d4430340c852,Update build profiles for Placement split,ABANDONED,2019-08-02 11:05:18.000000000,2019-08-04 07:39:45.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 11:05:18.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ad0a328c51943f2b91622a066718922a37203b5', 'message': 'Update build profiles for Placement split\n\nThe Placement API is now a separate project, but anyone\nbuilding Nova is likely to want it. This change ensures\nthat it is built alongside Nova.\n\nChange-Id: I05433f5bb2313e2adff39850a970d4430340c852\n(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)\n'}]",0,674265,2ad0a328c51943f2b91622a066718922a37203b5,6,4,1,30491,,,0,"Update build profiles for Placement split

The Placement API is now a separate project, but anyone
building Nova is likely to want it. This change ensures
that it is built alongside Nova.

Change-Id: I05433f5bb2313e2adff39850a970d4430340c852
(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/674265/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,2ad0a328c51943f2b91622a066718922a37203b5,," 'placement', 'placement', 'placement',",,3,0
openstack%2Fgovernance~master~Ic8f0e86999f87d8b03019d0f7e560f11707e7ca6,openstack/governance,master,Ic8f0e86999f87d8b03019d0f7e560f11707e7ca6,Remove U release name poll,ABANDONED,2019-08-03 05:09:35.000000000,2019-08-04 02:58:26.000000000,,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 05:09:35.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/c2a8919dc7a97a4aecc7254e6e0fc507cf2a9cf4', 'message': ""Remove U release name poll\n\nThe information here is comically wrong now.  Let's clear it out and\nmake way for new data.\n\nChange-Id: Ic8f0e86999f87d8b03019d0f7e560f11707e7ca6\n""}]",0,674437,c2a8919dc7a97a4aecc7254e6e0fc507cf2a9cf4,5,2,1,12898,,,0,"Remove U release name poll

The information here is comically wrong now.  Let's clear it out and
make way for new data.

Change-Id: Ic8f0e86999f87d8b03019d0f7e560f11707e7ca6
",git fetch https://review.opendev.org/openstack/governance refs/changes/37/674437/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,c2a8919dc7a97a4aecc7254e6e0fc507cf2a9cf4,,,U Tony Breeds 2019-07-01 2019-07-29 2019-08-05 China,0,1
openstack%2Fnova~master~Id45587adb6ecd8e0bdef344c90979eaea61e61b8,openstack/nova,master,Id45587adb6ecd8e0bdef344c90979eaea61e61b8,doc: correct the information of 'cpu_map',MERGED,2019-07-29 11:46:31.000000000,2019-08-04 00:59:50.000000000,2019-08-02 17:38:36.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30209}]","[{'number': 1, 'created': '2019-07-29 11:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0db70aee743815fc291c99929f846949b35d2629', 'message': ""doc: correct the information of 'cpu_map'\n\nlibvirt has split the CPU feature flags file 'cpu_map.xml' into\na bunch of flag files for each CPU model, which are stored under\ndirectory 'src/cpu_map'.\n\nUpdate this change accordingly.\n\nChange-Id: Id45587adb6ecd8e0bdef344c90979eaea61e61b8\n""}, {'number': 2, 'created': '2019-07-30 13:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/235670e34262e2fd4f8daa63688249406ef7c14b', 'message': ""doc: correct the information of 'cpu_map'\n\nlibvirt has split the CPU feature flags file 'cpu_map.xml' into\na bunch of flag files for each CPU model, which are stored under\ndirectory 'src/cpu_map'.\n\nUpdate this change accordingly.\n\nChange-Id: Id45587adb6ecd8e0bdef344c90979eaea61e61b8\n""}, {'number': 3, 'created': '2019-08-02 09:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b2e2a19ac66ca9422893a9528e280f57840c8ac', 'message': ""doc: correct the information of 'cpu_map'\n\nlibvirt has split the CPU feature flags file 'cpu_map.xml' into\na bunch of flag files for each CPU model, which are stored under\ndirectory 'src/cpu_map/'.\n\nUpdate this change accordingly.\n\nChange-Id: Id45587adb6ecd8e0bdef344c90979eaea61e61b8\n""}, {'number': 4, 'created': '2019-08-02 12:29:35.000000000', 'files': ['nova/conf/libvirt.py', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4945e6dbd4f818f8cefea6aa364d94910f9d2036', 'message': ""doc: correct the information of 'cpu_map'\n\nlibvirt has split the CPU feature flags file 'cpu_map.xml' into\na bunch of flag files for each CPU model, which are stored under\ndirectory 'src/cpu_map/'.\n\nUpdate this change accordingly.\n\nChange-Id: Id45587adb6ecd8e0bdef344c90979eaea61e61b8\n""}]",8,673272,4945e6dbd4f818f8cefea6aa364d94910f9d2036,49,14,4,30209,,,0,"doc: correct the information of 'cpu_map'

libvirt has split the CPU feature flags file 'cpu_map.xml' into
a bunch of flag files for each CPU model, which are stored under
directory 'src/cpu_map/'.

Update this change accordingly.

Change-Id: Id45587adb6ecd8e0bdef344c90979eaea61e61b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/673272/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/libvirt.py', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'nova/virt/libvirt/utils.py']",3,0db70aee743815fc291c99929f846949b35d2629,,# files under https://github.com/libvirt/libvirt/blob/master/src/cpu/cpu_map.,# https://github.com/libvirt/libvirt/blob/master/src/cpu/cpu_map.xml.,11,11
openstack%2Fneutron~master~I4597c83bfce6267ef93bb8f7b0de62fa3ac94db4,openstack/neutron,master,I4597c83bfce6267ef93bb8f7b0de62fa3ac94db4,Fix log directory permissions for functional job,MERGED,2019-08-02 21:23:03.000000000,2019-08-03 21:54:27.000000000,2019-08-03 21:54:26.000000000,"[{'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-08-02 21:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b7300365c01d7e4c1e4cd6030765f55626c68aa', 'message': 'WIP: Fix log directory permissions for functional job\n\nChange-Id: I4597c83bfce6267ef93bb8f7b0de62fa3ac94db4\nCloses-Bug: 1838811\n'}, {'number': 2, 'created': '2019-08-03 12:08:45.000000000', 'files': ['roles/setup_logdir/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86feb7916b6a69a7d4076cb3fc59e392ab1b73c1', 'message': 'Fix log directory permissions for functional job\n\nAfter [0] devstack no longer changes the ownership of the whole\n/opt/stack tree to the stack user unconditionally. So we need to create\n/opt/stack/logs with the correct owner directly.\n\n[0] https://review.opendev.org/203698\n\nChange-Id: I4597c83bfce6267ef93bb8f7b0de62fa3ac94db4\nCloses-Bug: 1838811\n'}]",0,674426,86feb7916b6a69a7d4076cb3fc59e392ab1b73c1,20,8,2,13252,,,0,"Fix log directory permissions for functional job

After [0] devstack no longer changes the ownership of the whole
/opt/stack tree to the stack user unconditionally. So we need to create
/opt/stack/logs with the correct owner directly.

[0] https://review.opendev.org/203698

Change-Id: I4597c83bfce6267ef93bb8f7b0de62fa3ac94db4
Closes-Bug: 1838811
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/674426/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup_logdir/tasks/main.yaml'],1,5b7300365c01d7e4c1e4cd6030765f55626c68aa,bug/1838811, owner: stack," owner: ""{{ ansible_user }}""",1,1
openstack%2Fironic~stable%2Fstein~Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03,openstack/ironic,stable/stein,Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03,Fix serial/wwn gathering for ansible+python3,MERGED,2019-07-24 07:04:07.000000000,2019-08-03 21:18:21.000000000,2019-08-03 21:18:21.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15064}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-24 07:04:07.000000000', 'files': ['releasenotes/notes/bug-2006266-85da234583ca0c32.yaml', 'ironic/drivers/modules/ansible/playbooks/roles/discover/tasks/roothints.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1b27bb71512c25a4fb2f38d09d623ec98974896a', 'message': 'Fix serial/wwn gathering for ansible+python3\n\nChange-Id: Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03\nStory: #2006266\nTask: #35957\n(cherry picked from commit 54054c0e5ab5ad250b51d3521e980ca5f4931a75)\n'}]",0,672407,1b27bb71512c25a4fb2f38d09d623ec98974896a,21,10,1,10239,,,0,"Fix serial/wwn gathering for ansible+python3

Change-Id: Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03
Story: #2006266
Task: #35957
(cherry picked from commit 54054c0e5ab5ad250b51d3521e980ca5f4931a75)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/672407/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2006266-85da234583ca0c32.yaml', 'ironic/drivers/modules/ansible/playbooks/roles/discover/tasks/roothints.yaml']",2,1b27bb71512c25a4fb2f38d09d623ec98974896a,ansible_fix_wwn_fact_python3-stable/stein," devices: ""{{ ansible_devices.keys() | list }}"""," devices: ""{{ ansible_devices.keys() }}""",7,1
openstack%2Fos-client-config~master~Id917c1d2035ff4d7792203d1287b68ea7f7891cd,openstack/os-client-config,master,Id917c1d2035ff4d7792203d1287b68ea7f7891cd,Add Python 3 Train unit tests,MERGED,2019-07-05 18:35:40.000000000,2019-08-03 20:22:37.000000000,2019-08-03 20:22:37.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 18:35:40.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/2a0a6a079a3fdaadc1eaa8d43dee61f42107c927', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Id917c1d2035ff4d7792203d1287b68ea7f7891cd\nStory: #2005924\nTask: #34233\n'}]",0,669450,2a0a6a079a3fdaadc1eaa8d43dee61f42107c927,19,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Id917c1d2035ff4d7792203d1287b68ea7f7891cd
Story: #2005924
Task: #34233
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/50/669450/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,2a0a6a079a3fdaadc1eaa8d43dee61f42107c927,python3-train, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7, Programming Language :: Python :: 3.5,3,3
openstack%2Fos-ken~master~If2fec081c51311b54342c56664a87e430b3b544f,openstack/os-ken,master,If2fec081c51311b54342c56664a87e430b3b544f,Change openstack-dev to openstack-discuss in setup.cfg,ABANDONED,2019-01-22 12:03:46.000000000,2019-08-03 19:59:32.000000000,,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-22 12:03:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/55f29ed0a54b694f416fa5270fe3c4842c064047', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: If2fec081c51311b54342c56664a87e430b3b544f\n'}]",0,632444,55f29ed0a54b694f416fa5270fe3c4842c064047,9,7,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: If2fec081c51311b54342c56664a87e430b3b544f
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/44/632444/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,55f29ed0a54b694f416fa5270fe3c4842c064047,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fironic~stable%2Frocky~Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,openstack/ironic,stable/rocky,Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,Ansible driver: fix deployment with serial specified as root device hint,MERGED,2019-08-02 13:07:59.000000000,2019-08-03 19:48:04.000000000,2019-08-03 19:48:04.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 13:07:59.000000000', 'files': ['ironic/drivers/modules/ansible/playbooks/library/facts_wwn.py', 'releasenotes/notes/bug-2006275-a5ca234683ca4c32.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/faa0e659285ffb3b7e70517b3a34779f17d1425a', 'message': 'Ansible driver: fix deployment with serial specified as root device hint\n\nChange-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b\nStory: #2006275\nTask: #35975\n(cherry picked from commit ba207ba3720c501499c990bcf6c3ca335055c589)\n'}]",0,674311,faa0e659285ffb3b7e70517b3a34779f17d1425a,10,6,1,15064,,,0,"Ansible driver: fix deployment with serial specified as root device hint

Change-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b
Story: #2006275
Task: #35975
(cherry picked from commit ba207ba3720c501499c990bcf6c3ca335055c589)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/674311/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ansible/playbooks/library/facts_wwn.py', 'releasenotes/notes/bug-2006275-a5ca234683ca4c32.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py']",3,faa0e659285ffb3b7e70517b3a34779f17d1425a,ansible_fix_root_device_hint-stable/rocky," hints = {""wwn"": ""fake wwn"", ""size"": ""12345"", ""rotational"": True, ""serial"": ""HELLO""} expected = {""wwn"": ""fake wwn"", ""size"": 12345, ""rotational"": True, ""serial"": ""hello""}"," hints = {""wwn"": ""fake wwn"", ""size"": ""12345"", ""rotational"": True} expected = {""wwn"": ""fake wwn"", ""size"": 12345, ""rotational"": True}",13,3
openstack%2Fmagnum~master~I3890dadba51bd1a112ac24bfb3a1e15afe96d3e1,openstack/magnum,master,I3890dadba51bd1a112ac24bfb3a1e15afe96d3e1,Enable DeprecationWarning in test environments,MERGED,2016-10-26 07:48:31.000000000,2019-08-03 19:30:29.000000000,2016-11-22 17:19:05.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 12404}, {'_account_id': 15123}, {'_account_id': 21469}]","[{'number': 1, 'created': '2016-10-26 07:48:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/97cb24ba012b12f02cb93517f2bc829eb8a79819', 'message': 'Enable DeprecationWarning in test environments\n\nMany deprecations are triggered early (on imports, for example).\nTo make sure all DeprecationWarning messages are emitted we enable\nthem via the PYTHONWARNINGS environment variable.\n\nChange-Id: I3890dadba51bd1a112ac24bfb3a1e15afe96d3e1\n'}]",0,390746,97cb24ba012b12f02cb93517f2bc829eb8a79819,11,5,1,23733,,,0,"Enable DeprecationWarning in test environments

Many deprecations are triggered early (on imports, for example).
To make sure all DeprecationWarning messages are emitted we enable
them via the PYTHONWARNINGS environment variable.

Change-Id: I3890dadba51bd1a112ac24bfb3a1e15afe96d3e1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/46/390746/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97cb24ba012b12f02cb93517f2bc829eb8a79819,, PYTHONWARNINGS=default::DeprecationWarning,,1,0
openstack%2Fironic~stable%2Fstein~Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,openstack/ironic,stable/stein,Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,Ansible driver: fix deployment with serial specified as root device hint,MERGED,2019-08-02 13:07:42.000000000,2019-08-03 19:29:07.000000000,2019-08-03 19:29:07.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 13:07:42.000000000', 'files': ['ironic/drivers/modules/ansible/playbooks/library/facts_wwn.py', 'releasenotes/notes/bug-2006275-a5ca234683ca4c32.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c4ba3f2d6cbddca4dd0e30a96005a93051ef727', 'message': 'Ansible driver: fix deployment with serial specified as root device hint\n\nChange-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b\nStory: #2006275\nTask: #35975\n(cherry picked from commit ba207ba3720c501499c990bcf6c3ca335055c589)\n'}]",0,674310,3c4ba3f2d6cbddca4dd0e30a96005a93051ef727,10,6,1,15064,,,0,"Ansible driver: fix deployment with serial specified as root device hint

Change-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b
Story: #2006275
Task: #35975
(cherry picked from commit ba207ba3720c501499c990bcf6c3ca335055c589)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/674310/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ansible/playbooks/library/facts_wwn.py', 'releasenotes/notes/bug-2006275-a5ca234683ca4c32.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py']",3,3c4ba3f2d6cbddca4dd0e30a96005a93051ef727,ansible_fix_root_device_hint-stable/stein," hints = {""wwn"": ""fake wwn"", ""size"": ""12345"", ""rotational"": True, ""serial"": ""HELLO""} expected = {""wwn"": ""fake wwn"", ""size"": 12345, ""rotational"": True, ""serial"": ""hello""}"," hints = {""wwn"": ""fake wwn"", ""size"": ""12345"", ""rotational"": True} expected = {""wwn"": ""fake wwn"", ""size"": 12345, ""rotational"": True}",13,3
openstack%2Fopenstacksdk~master~I3a595eb774bf04a53e1dd09484058ed148b6c122,openstack/openstacksdk,master,I3a595eb774bf04a53e1dd09484058ed148b6c122,Move the history lesson into the docs,MERGED,2019-08-01 14:14:44.000000000,2019-08-03 19:20:05.000000000,2019-08-03 19:20:05.000000000,"[{'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-08-01 14:14:44.000000000', 'files': ['doc/source/contributor/history.rst', 'doc/source/contributor/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b98e7098c80aa10171db89edde3107acfbf31573', 'message': ""Move the history lesson into the docs\n\nIt's not really the most important thing now is it?\n\nChange-Id: I3a595eb774bf04a53e1dd09484058ed148b6c122\n""}]",0,674045,b98e7098c80aa10171db89edde3107acfbf31573,8,4,1,2,,,0,"Move the history lesson into the docs

It's not really the most important thing now is it?

Change-Id: I3a595eb774bf04a53e1dd09484058ed148b6c122
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/45/674045/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/history.rst', 'doc/source/contributor/index.rst', 'README.rst']",3,b98e7098c80aa10171db89edde3107acfbf31573,,More information about its history can be found at https://docs.openstack.org/openstacksdk/latest/contributor/history.html,"A Brief History --------------- .. TODO(shade) This history section should move to the docs. We can put a link to the published URL here in the README, but it's too long. openstacksdk started its life as three different libraries: shade, os-client-config and python-openstacksdk. ``shade`` started its life as some code inside of OpenStack Infra's `nodepool`_ project, and as some code inside of the `Ansible OpenStack Modules`_. Ansible had a bunch of different OpenStack related modules, and there was a ton of duplicated code. Eventually, between refactoring that duplication into an internal library, and adding the logic and features that the OpenStack Infra team had developed to run client applications at scale, it turned out that we'd written nine-tenths of what we'd need to have a standalone library. Because of its background from nodepool, shade contained abstractions to work around deployment differences and is resource oriented rather than service oriented. This allows a user to think about Security Groups without having to know whether Security Groups are provided by Nova or Neutron on a given cloud. On the other hand, as an interface that provides an abstraction, it deviates from the published OpenStack REST API and adds its own opinions, which may not get in the way of more advanced users with specific needs. ``os-client-config`` was a library for collecting client configuration for using an OpenStack cloud in a consistent and comprehensive manner, which introduced the ``clouds.yaml`` file for expressing named cloud configurations. ``python-openstacksdk`` was a library that exposed the OpenStack APIs to developers in a consistent and predictable manner. After a while it became clear that there was value in both the high-level layer that contains additional business logic and the lower-level SDK that exposes services and their resources faithfully and consistently as Python objects. Even with both of those layers, it is still beneficial at times to be able to make direct REST calls and to do so with the same properly configured `Session`_ from `python-requests`_. This led to the merge of the three projects. The original contents of the shade library have been moved into ``openstack.cloud`` and os-client-config has been moved in to ``openstack.config``. Future releases of shade will provide a thin compatibility layer that subclasses the objects from ``openstack.cloud`` and provides different argument defaults where needed for compatibility. Similarly future releases of os-client-config will provide a compatibility layer shim around ``openstack.config``. .. _nodepool: https://docs.openstack.org/infra/nodepool/ .. _Ansible OpenStack Modules: http://docs.ansible.com/ansible/latest/list_of_cloud_modules.html#openstack .. _Session: http://docs.python-requests.org/en/master/user/advanced/#session-objects .. _python-requests: http://docs.python-requests.org/en/master/",57,57
openstack%2Fopenstacksdk~master~Iecb7cd02cc6648c6e78666da0d237fc28643d2ae,openstack/openstacksdk,master,Iecb7cd02cc6648c6e78666da0d237fc28643d2ae,Fix README example for cloud layer,MERGED,2019-08-01 14:04:46.000000000,2019-08-03 19:20:04.000000000,2019-08-03 19:20:04.000000000,"[{'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-08-01 14:04:46.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e702b020ca1b70a6866608c0c010f6efb6d3dae0', 'message': ""Fix README example for cloud layer\n\nThis was showing 'import openstack.cloud' but then using openstack\ndirectly. Fix that.\n\nThen, reorganize a little bit.\n\nChange-Id: Iecb7cd02cc6648c6e78666da0d237fc28643d2ae\n""}]",0,674041,e702b020ca1b70a6866608c0c010f6efb6d3dae0,8,4,1,2,,,0,"Fix README example for cloud layer

This was showing 'import openstack.cloud' but then using openstack
directly. Fix that.

Then, reorganize a little bit.

Change-Id: Iecb7cd02cc6648c6e78666da0d237fc28643d2ae
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/41/674041/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e702b020ca1b70a6866608c0c010f6efb6d3dae0,,"Cloud Layer =========== ``openstacksdk`` contains a higher-level layer based on logical operations. .. code-block:: python import openstack # Initialize and turn on debug logging openstack.enable_logging(debug=True) for server in conn.list_servers(): print(server.to_dict()) The benefit is mostly seen in more complicated operations that take multiple steps and where the steps vary across providers: .. code-block:: python import openstack # Initialize and turn on debug logging openstack.enable_logging(debug=True) # Initialize connection # Cloud configs are read with openstack.config conn = openstack.connect(cloud='mordred') # Upload an image to the cloud image = conn.create_image( 'ubuntu-trusty', filename='ubuntu-trusty.qcow2', wait=True) # Find a flavor with at least 512M of RAM flavor = conn.get_flavor_by_ram(512) # Boot a server, wait for it to boot, and then do whatever is needed # to get a public ip for it. conn.create_server( 'my-server', image=image, flavor=flavor, wait=True, auto_ip=True) ","openstack.cloud =============== Create a server using objects configured with the ``clouds.yaml`` file: .. code-block:: python import openstack.cloud # Initialize and turn on debug logging openstack.enable_logging(debug=True) # Initialize connection # Cloud configs are read with openstack.config conn = openstack.connect(cloud='mordred') # Upload an image to the cloud image = conn.create_image( 'ubuntu-trusty', filename='ubuntu-trusty.qcow2', wait=True) # Find a flavor with at least 512M of RAM flavor = conn.get_flavor_by_ram(512) # Boot a server, wait for it to boot, and then do whatever is needed # to get a public ip for it. conn.create_server( 'my-server', image=image, flavor=flavor, wait=True, auto_ip=True) ",41,28
openstack%2Fopenstacksdk~master~I50d179abc528a884bae4b4af72936b634b26e93b,openstack/openstacksdk,master,I50d179abc528a884bae4b4af72936b634b26e93b,Add CloudRegion helper method for arbitrary endpoints,MERGED,2019-08-01 20:32:22.000000000,2019-08-03 19:18:39.000000000,2019-08-03 19:18:39.000000000,"[{'_account_id': 1}, {'_account_id': 2903}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-08-01 20:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ea3ec5c0c0ba8efa6a8f9e0533a724488d494a0a', 'message': ""Add CloudRegion helper method for arbitrary endpoints\n\nSometimes you are faced with dealing with a non-standard service and\nyou don't want to type\n\n   c.session.auth.get_endpoint(\n      c.session, service_type='example-service-type',\n      region_name=c.config.region_name, interface=c.config.interface))\n\nAdd a helper method so you don't have to.\n\nChange-Id: I50d179abc528a884bae4b4af72936b634b26e93b\n""}, {'number': 2, 'created': '2019-08-01 22:53:16.000000000', 'files': ['openstack/config/cloud_region.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9a24ee966274d03fffc96bc058a82b449660e799', 'message': ""Add CloudRegion helper method for arbitrary endpoints\n\nSometimes you are faced with dealing with a non-standard service and\nyou don't want to type\n\n   c.session.auth.get_endpoint(\n      c.session, service_type='example-service-type',\n      region_name=c.config.region_name, interface=c.config.interface))\n\nAdd a helper method so you don't have to.\n\nChange-Id: I50d179abc528a884bae4b4af72936b634b26e93b\n""}]",0,674130,9a24ee966274d03fffc96bc058a82b449660e799,13,5,2,2,,,0,"Add CloudRegion helper method for arbitrary endpoints

Sometimes you are faced with dealing with a non-standard service and
you don't want to type

   c.session.auth.get_endpoint(
      c.session, service_type='example-service-type',
      region_name=c.config.region_name, interface=c.config.interface))

Add a helper method so you don't have to.

Change-Id: I50d179abc528a884bae4b4af72936b634b26e93b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/674130/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/cloud_region.py'],1,ea3ec5c0c0ba8efa6a8f9e0533a724488d494a0a,," def get_endpoint_from_catalog(self, service_type): session = self.get_session() return session.auth.get_endpoint( session, service_type=service_type, region_name=self.get_region_name(service_type), interface=self.get_interface(service_type)) ",,8,0
openstack%2Fkolla~master~Iab036be2b25867a268f4cef6f735dc64f8910fa0,openstack/kolla,master,Iab036be2b25867a268f4cef6f735dc64f8910fa0,TrivialFix: remove unused ganesha nfs repo file,MERGED,2019-07-28 08:36:11.000000000,2019-08-03 18:29:32.000000000,2019-08-03 18:09:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-28 08:36:11.000000000', 'files': ['docker/base/nfs_ganesha.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/92b3b5699661d3b7707d48cf2fc4801118aca1ab', 'message': 'TrivialFix: remove unused ganesha nfs repo file\n\nChange-Id: Iab036be2b25867a268f4cef6f735dc64f8910fa0\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,673162,92b3b5699661d3b7707d48cf2fc4801118aca1ab,9,4,1,30491,,,0,"TrivialFix: remove unused ganesha nfs repo file

Change-Id: Iab036be2b25867a268f4cef6f735dc64f8910fa0
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/673162/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/nfs_ganesha.repo'],1,92b3b5699661d3b7707d48cf2fc4801118aca1ab,rm-ganesha-nfs-repo,,[nfs_ganesha] baseurl = http://download.ceph.com/nfs-ganesha/rpm-V2.5-stable/luminous/$basearch gpgcheck = 1 gpgkey = https://download.ceph.com/keys/release.asc name = nfs-ganesha stable repo ,0,5
openstack%2Fkolla-ansible~master~I82e6a91b2c541e38cf8e97896842149b31244688,openstack/kolla-ansible,master,I82e6a91b2c541e38cf8e97896842149b31244688,Remove unnecessary option from group_vars/all.yml,MERGED,2019-08-02 02:07:59.000000000,2019-08-03 18:09:03.000000000,2019-08-03 18:09:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-02 02:07:59.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1ab06d2446f7e540b2c02a9a7d7dcc39216d891', 'message': 'Remove unnecessary option from group_vars/all.yml\n\nWe often specific the project name after ""{{ node_config_directory }}"",\nfor example,\n``{{ node_config_directory }}/cinder-api/:{{ container_config_directory }}/:ro``.\nAs the  ""{{ project }}"" option is not configured, This line was\ngenerated with:\n``/etc/kolla//cinder-api/:...``\nThere would be double slash exists. It\'s OK, but confusing.\n\nChange-Id: I82e6a91b2c541e38cf8e97896842149b31244688\nCloses-Bug: #1838259\n'}]",0,674150,a1ab06d2446f7e540b2c02a9a7d7dcc39216d891,7,3,1,19779,,,0,"Remove unnecessary option from group_vars/all.yml

We often specific the project name after ""{{ node_config_directory }}"",
for example,
``{{ node_config_directory }}/cinder-api/:{{ container_config_directory }}/:ro``.
As the  ""{{ project }}"" option is not configured, This line was
generated with:
``/etc/kolla//cinder-api/:...``
There would be double slash exists. It's OK, but confusing.

Change-Id: I82e6a91b2c541e38cf8e97896842149b31244688
Closes-Bug: #1838259
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/674150/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,a1ab06d2446f7e540b2c02a9a7d7dcc39216d891,bug/1838259,"node_config_directory: ""/etc/kolla""","# The project to generate configuration files for project: """" node_config_directory: ""/etc/kolla/{{ project }}""",1,4
openstack%2Fironic~master~Id175e0573b9ff76fd1b6c2e57af774e943ae1476,openstack/ironic,master,Id175e0573b9ff76fd1b6c2e57af774e943ae1476,Enable testing adoption in the CI,MERGED,2019-07-23 14:48:42.000000000,2019-08-03 17:13:23.000000000,2019-08-03 11:08:29.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-23 14:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c017c75d364958a367be5796379566801419a70d', 'message': 'Enable testing adoption in the CI\n\nChange-Id: Id175e0573b9ff76fd1b6c2e57af774e943ae1476\nDepends-On: https://review.opendev.org/672286\n'}, {'number': 2, 'created': '2019-07-23 16:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64a92171478d7116a0065c389344e476b2ddb45d', 'message': 'Enable testing adoption in the CI\n\nChange-Id: Id175e0573b9ff76fd1b6c2e57af774e943ae1476\nDepends-On: https://review.opendev.org/672286\n'}, {'number': 3, 'created': '2019-07-25 08:10:36.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/363e50cab81bfd4ad73b27bcac6ac5b567ec0447', 'message': 'Enable testing adoption in the CI\n\nChange-Id: Id175e0573b9ff76fd1b6c2e57af774e943ae1476\nDepends-On: https://review.opendev.org/672286\n'}]",0,672304,363e50cab81bfd4ad73b27bcac6ac5b567ec0447,29,8,3,10239,,,0,"Enable testing adoption in the CI

Change-Id: Id175e0573b9ff76fd1b6c2e57af774e943ae1476
Depends-On: https://review.opendev.org/672286
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/672304/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic']",2,c017c75d364958a367be5796379566801419a70d,adoption,"IRONIC_POLICY_FILE=$IRONIC_CONF_DIR/policy.conf# Enable testing adoption. Dangerous: disables hiding BMC credentials! IRONIC_TEMPEST_ADOPTION=$(trueorfalse IRONIC_TEMPEST_ADOPTION False) if [[ $IRONIC_TEMPEST_ADOPTION == True ]]; then # The policy_add command is quite inflexible test -f $IRONIC_POLICY_FILE || echo ""{\n}"" > $IRONIC_POLICY_FILE iniset $TEMPEST_CONFIG baremetal_feature_enabled adoption True policy_add $IRONIC_POLICY_FILE show_passwords True fi",,11,0
openstack%2Fpuppet-tripleo~master~Ia9cab3080a6e0ef7433fa0be19b98f8e63bae587,openstack/puppet-tripleo,master,Ia9cab3080a6e0ef7433fa0be19b98f8e63bae587,Enable service token in nova and cinder,MERGED,2019-07-12 01:17:21.000000000,2019-08-03 17:08:18.000000000,2019-08-03 17:08:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-12 01:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d05a7d046ca8255418511a2096d96751bc3b6ba', 'message': 'Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: Ia9cab3080a6e0ef7433fa0be19b98f8e63bae587\n'}, {'number': 2, 'created': '2019-07-12 07:51:52.000000000', 'files': ['manifests/profile/base/nova.pp', 'manifests/profile/base/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e3c36139a070f3a2c1c7266c57aed7bb424709a', 'message': 'Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: Ia9cab3080a6e0ef7433fa0be19b98f8e63bae587\n'}]",0,670424,4e3c36139a070f3a2c1c7266c57aed7bb424709a,18,8,2,9816,,,0,"Enable service token in nova and cinder

This patch enables service token feature in nova and cinder, which
can be used to avoid problems in inter-component request caused by
token expiration for long running tasks.

Depends-on: https://review.opendev.org/#/c/666467/
Depends-on: https://review.opendev.org/#/c/666471/
Depends-on: https://review.opendev.org/#/c/666746/
Change-Id: Ia9cab3080a6e0ef7433fa0be19b98f8e63bae587
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/670424/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova.pp', 'manifests/profile/base/cinder.pp']",2,2d05a7d046ca8255418511a2096d96751bc3b6ba,service_token, include ::cinder::keystone::service_token,,2,0
openstack%2Fzun~master~I81fbadd030e486516c6bdcf0526e89a5d58d3e26,openstack/zun,master,I81fbadd030e486516c6bdcf0526e89a5d58d3e26,Use placement for unified resource management,MERGED,2018-07-30 07:28:10.000000000,2019-08-03 17:01:51.000000000,2019-08-03 17:01:51.000000000,"[{'_account_id': 6873}, {'_account_id': 11536}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 21428}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-07-30 07:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d014a15abd82e80a44d10a9c48082fbe6dceab9a', 'message': 'Use placement for unified resource management\n\nplacement restapi integration\n\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nPartially-Closes-Implements: blueprint use-placement-resource-management\n'}, {'number': 2, 'created': '2019-07-07 15:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c4922892dc119ed76b70d17ba9a6dc001828bf67', 'message': 'Use placement for unified resource management\n\nplacement restapi integration\n\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nPartially-Closes-Implements: blueprint use-placement-resource-management\n'}, {'number': 3, 'created': '2019-07-07 15:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fb08836ce9d2f8adcb7d49dde1fb1d47e7988998', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 4, 'created': '2019-07-07 20:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/320f57ade9d390470e78000a9c18465d78ee3c7e', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 5, 'created': '2019-07-07 21:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ae451f8ed26c7eb4eb2291cd2314d1d37570930a', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 6, 'created': '2019-07-07 23:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/84ab0dbb7ef3b772bf97b3c8530b9565416b4614', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 7, 'created': '2019-07-20 21:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/dd0e2562d2fad063b95e00d37557b4141b59bd5f', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 8, 'created': '2019-07-20 23:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a048490a1d67d09d865e56cae4584a77e79a1330', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 9, 'created': '2019-07-21 15:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9e2daac1f5fdb64d332e70c73f9b375b2c8b95c5', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 10, 'created': '2019-07-21 21:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7e8adc299ec4fb0efeca2d30c718bf457285099d', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 11, 'created': '2019-07-21 22:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/21f30b3080b448ac0f3113a6c5f79c85052715fb', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 12, 'created': '2019-07-21 23:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1f254123eedbed8f51251fe4004baacaab7b34f9', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 13, 'created': '2019-07-27 16:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/dee65faff02c38dca5eff130cbf0baba52f55f0b', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 14, 'created': '2019-07-27 20:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c82c42a0db239772eb83e06c2e823d68e7b12497', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 15, 'created': '2019-07-27 23:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/57c544c12fc436860df811bf7db0aee4ef079e70', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 16, 'created': '2019-07-28 16:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fb3c88e61d6ed27fb413ce93549b9189a8889bfb', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 17, 'created': '2019-07-28 20:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d86884c1ec797fffe8fa6aa1082810c859fd50da', 'message': '[WIP] Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 18, 'created': '2019-07-28 21:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/73566ff44e8372027fa97a1887667b62f0dee8d9', 'message': 'Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 19, 'created': '2019-07-28 23:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/75b8678d5db59a61eda83e3eb3a04522a0568f30', 'message': 'Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 20, 'created': '2019-07-29 02:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/08351a421840d5a610f998bbe4aa7e9e5af6797b', 'message': 'Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}, {'number': 21, 'created': '2019-07-29 04:12:22.000000000', 'files': ['zun/compute/api.py', 'zun/tests/unit/scheduler/client/test_query.py', 'zun/common/keystone.py', 'zun/tests/unit/fake_requests.py', 'zun/scheduler/client/__init__.py', 'zun/tests/unit/scheduler/client/__init__.py', 'zun/tests/unit/objects/test_objects.py', 'requirements.txt', 'zun/scheduler/client/query.py', 'zun/objects/request_group.py', 'zun/tests/unit/objects/utils.py', 'zun/compute/compute_node_tracker.py', 'zun/common/clients.py', 'zun/scheduler/client/report.py', 'zun/common/utils.py', 'zun/tests/unit/scheduler/client/test_report.py', 'zun/objects/__init__.py', 'lower-constraints.txt', 'zun/conf/placement_client.py', 'zun/objects/fields.py', 'zun/tests/unit/compute/test_provider_tree.py', 'zun/compute/provider_tree.py', 'zun/conf/compute.py', 'zun/scheduler/utils.py', 'zun/common/exception.py', 'zun/conf/__init__.py', 'zun/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/0fb82e70a8d09489b0a1069f8d389a6956bd1df6', 'message': 'Use placement for unified resource management\n\nplacement restapi integration\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\nChange-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26\nImplements: blueprint use-placement-resource-management\n'}]",18,586960,0fb82e70a8d09489b0a1069f8d389a6956bd1df6,56,9,21,23365,,,0,"Use placement for unified resource management

placement restapi integration

Co-Authored-By: Hongbin Lu <hongbin034@gmail.com>
Change-Id: I81fbadd030e486516c6bdcf0526e89a5d58d3e26
Implements: blueprint use-placement-resource-management
",git fetch https://review.opendev.org/openstack/zun refs/changes/60/586960/21 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/scheduler/test_placement.py', 'zun/conf/__init__.py', 'zun/conf/placement.py', 'zun/scheduler/placement_client.py']",4,d014a15abd82e80a44d10a9c48082fbe6dceab9a,bp/use-placement-resource-management,"# Copyright (c) 2014 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import functools from keystoneauth1 import exceptions as ks_exc from keystoneauth1 import loading as keystone from oslo_log import log as logging from six.moves.urllib import parse from zun.common.i18n import _ import zun.conf CONF = zun.conf.CONF LOG = logging.getLogger(__name__) WARN_EVERY = 10 def warn_limit(self, msg): if self._warn_count: self._warn_count -= 1 else: self._warn_count = WARN_EVERY LOG.warning(msg) def safe_connect(f): @functools.wraps(f) def wrapper(self, *a, **k): try: return f(self, *a, **k) except ks_exc.EndpointNotFound: warn_limit( self, _('The placement API endpoint not found. Placement is ' 'optional in Newton, but required in Ocata. Please ' 'enable the placement service before upgrading.')) except ks_exc.MissingAuthPlugin: warn_limit( self, _('No authentication information found for placement ' 'API. Placement is optional in Newton, but required ' 'in Ocata. Please enable the placement service ' 'before upgrading.')) except ks_exc.Unauthorized: warn_limit( self, _('Placement service credentials do not work. ' 'Placement is optional in Newton, but required ' 'in Ocata. Please enable the placement service ' 'before upgrading.')) except ks_exc.DiscoveryFailure: # TODO(_gryf): Looks like DiscoveryFailure is not the only missing # exception here. In Pike we should take care about keystoneauth1 # failures handling globally. warn_limit(self, _('Discovering suitable URL for placement API ' 'failed.')) except ks_exc.ConnectFailure: msg = _('Placement API service is not responding.') LOG.warning(msg) return wrapper def _merge_resources(original_resources, new_resources, sign=1): """"""Merge a list of new resources with existing resources. Either add the resources (if sign is 1) or subtract (if sign is -1). If the resulting value is 0 do not include the resource in the results. """""" all_keys = set(original_resources.keys()) | set(new_resources.keys()) for key in all_keys: value = (original_resources.get(key, 0) + (sign * new_resources.get(key, 0))) if value: original_resources[key] = value else: original_resources.pop(key, None) def _move_operation_alloc_request(source_allocs, dest_alloc_req): """"""_move_operation_alloc_request Given existing allocations for a source host and a new allocation request for a destination host, return a new allocation request that contains resources claimed against both source and destination, accounting for shared providers. Also accounts for a resize to the same host where the source and dest compute node resource providers are going to be the same. In that case we sum the resource allocations for the single provider. :param source_allocs: Dict, keyed by resource provider UUID, of resources allocated on the source host :param dest_alloc_request: The allocation request for resources against the destination host """""" LOG.debug(""Doubling-up allocation request for move operation."") # Remove any allocations against resource providers that are # already allocated against on the source host (like shared storage # providers) cur_rp_uuids = set(source_allocs.keys()) new_rp_uuids = set(a['resource_provider']['uuid'] for a in dest_alloc_req['allocations']) - cur_rp_uuids current_allocs = [ { 'resource_provider': { 'uuid': cur_rp_uuid, }, 'resources': alloc['resources'], } for cur_rp_uuid, alloc in source_allocs.items() ] new_alloc_req = {'allocations': current_allocs} for alloc in dest_alloc_req['allocations']: if alloc['resource_provider']['uuid'] in new_rp_uuids: new_alloc_req['allocations'].append(alloc) elif not new_rp_uuids: # If there are no new_rp_uuids that means we're resizing to # the same host so we need to sum the allocations for # the compute node (and possibly shared providers) using both # the current and new allocations. # Note that we sum the allocations rather than take the max per # resource class between the current and new allocations because # the compute node/resource tracker is going to adjust for # decrementing any old allocations as necessary, the scheduler # shouldn't make assumptions about that. for current_alloc in current_allocs: # Find the matching resource provider allocations by UUID. if (current_alloc['resource_provider']['uuid'] == alloc['resource_provider']['uuid']): # Now sum the current allocation resource amounts with # the new allocation resource amounts. _merge_resources(current_alloc['resources'], alloc['resources']) LOG.debug(""New allocation request containing both source and "" ""destination hosts in move operation: %s"", new_alloc_req) return new_alloc_req def get_placement_request_id(response): if response is not None: return response.headers.get( 'openstack-request-id', response.headers.get('x-openstack-request-id')) class SchedulerReportClient(object): """"""Client class for updating the scheduler."""""" def __init__(self): # A dict, keyed by the resource provider UUID, of ResourceProvider # objects that will have their inventories and allocations tracked by # the placement API for the compute host self._resource_providers = {} # A dict, keyed by resource provider UUID, of sets of aggregate UUIDs # the provider is associated with self._provider_aggregate_map = {} # A dict, keyed by resource provider UUID, of sets of traits UUIDs # the provider is associated with self._provider_traits_map = {} auth_plugin = keystone.load_auth_from_conf_options( CONF, 'placement') self._client = keystone.load_session_from_conf_options( CONF, 'placement', auth=auth_plugin) self._warn_count = 0 self.ks_filter = {'service_type': 'placement', 'region_name': CONF.placement.os_region_name, 'interface': CONF.placement.os_interface} def get(self, url, version=None): kwargs = {} if version is not None: # TODO(mriedem): Perform some version discovery at some point. kwargs = { 'headers': { 'OpenStack-API-Version': 'placement %s' % version }, } return self._client.get( url, endpoint_filter=self.ks_filter, raise_exc=False, **kwargs) def post(self, url, data, version=None): # NOTE(sdague): using json= instead of data= sets the # media type to application/json for us. Placement API is # more sensitive to this than other APIs in the OpenStack # ecosystem. kwargs = {} if version is not None: # TODO(mriedem): Perform some version discovery at some point. kwargs = { 'headers': { 'OpenStack-API-Version': 'placement %s' % version }, } return self._client.post( url, json=data, endpoint_filter=self.ks_filter, raise_exc=False, **kwargs) def put(self, url, data, version=None): # NOTE(sdague): using json= instead of data= sets the # media type to application/json for us. Placement API is # more sensitive to this than other APIs in the OpenStack # ecosystem. kwargs = {} if version is not None: # TODO(mriedem): Perform some version discovery at some point. kwargs = { 'headers': { 'OpenStack-API-Version': 'placement %s' % version }, } if data: kwargs['json'] = data return self._client.put( url, endpoint_filter=self.ks_filter, raise_exc=False, **kwargs) def delete(self, url, version=None): kwargs = {} if version is not None: # TODO(mriedem): Perform some version discovery at some point. kwargs = { 'headers': { 'OpenStack-API-Version': 'placement %s' % version }, } return self._client.delete( url, endpoint_filter=self.ks_filter, raise_exc=False, **kwargs) @safe_connect def get_allocation_candidates(self, resources): """"""Returns a tuple of (allocation_requests, provider_summaries). The allocation requests are a collection of potential JSON objects that can be passed to the PUT /allocations/{consumer_uuid} Placement REST API to claim resources against one or more resource providers that meet the requested resource constraints. The provider summaries is a dict, keyed by resource provider UUID, of inventory and capacity information for any resource provider involved in the allocation requests. :returns: A tuple with a list of allocation request dicts and a dict of provider information or (None, None) if the request failed :param resources: A dict, keyed by resource class name, of requested amounts of those resources """""" resource_query = "","".join( sorted(""%s:%s"" % (rc, amount) for (rc, amount) in resources.items())) qs_params = { 'resources': resource_query, } url = ""/allocation_candidates?%s"" % parse.urlencode(qs_params) resp = self.get(url, version='1.16') if resp.status_code == 200: data = resp.json() return data['allocation_requests'], data['provider_summaries'] msg = _(""Failed to retrieve allocation candidates from placement API "" ""for filters %(resources)s. "" ""Got %(status_code)d: %(err_text)s."") args = { 'resources': resources, 'status_code': resp.status_code, 'err_text': resp.text, } LOG.error(msg, args) return None, None @safe_connect def get_resource_provider(self, uuid): """"""Queries the placement API for a resource provider record. Returns a dict of resource provider information if found or None if no such resource provider could be found. :param uuid: UUID identifier for the resource provider to look up """""" resp = self.get(""/resource_providers/%s"" % uuid) if resp.status_code == 200: data = resp.json() return data elif resp.status_code == 404: return None else: placement_req_id = get_placement_request_id(resp) msg = _(""[%(placement_req_id)s] Failed to retrieve resource "" ""provider record from placement API for UUID %(uuid)s. "" ""Got %(status_code)d: %(err_text)s."") args = { 'uuid': uuid, 'status_code': resp.status_code, 'err_text': resp.text, 'placement_req_id': placement_req_id, } LOG.error(msg, args) # NOTE(jaypipes): Currently, this method is ONLY used in two places: # 1. By the scheduler to allocate resources on the selected destination # hosts. # 2. By the conductor LiveMigrationTask to allocate resources on a forced # destination host. This is a short-term fix for Pike which should be # replaced in Queens by conductor calling the scheduler in the force # host case. # This method should not be called by the resource tracker; instead, the # _allocate_for_instance() method is used which does not perform any # checking that a move operation is in place. @safe_connect def claim_resources(self, consumer_uuid, alloc_request, project_id, user_id, attempt=0): """"""Creates allocation records for the supplied instance UUID. We check to see if resources have already been claimed for this consumer. If so, we assume that a move operation is underway and the scheduler is attempting to claim resources against the new (destination host). In order to prevent compute nodes currently performing move operations from being scheduled to improperly, we create a ""doubled-up"" allocation that consumes resources on *both* the source and the destination host during the move operation. When the move operation completes, the destination host (via _allocate_for_instance()) will end up setting allocations for the instance only on the destination host thereby freeing up resources on the source host appropriately. :note: This method will attempt to retry a claim that fails with a concurrent update up to 3 times :param consumer_uuid: The instance's UUID. :param alloc_request: The JSON body of the request to make to the placement's PUT /allocations API :param project_id: The project_id associated with the allocations. :param user_id: The user_id associated with the allocations. :param attempt: The attempt at claiming this allocation request (used in recursive retries) :returns: True if the allocations were created, False otherwise. """""" # Ensure we don't change the supplied alloc request since it's used in # a loop within the scheduler against multiple instance claims ar = copy.deepcopy(alloc_request) url = '/allocations/%s' % consumer_uuid payload = ar # We first need to determine if this is a move operation and if so # create the ""doubled-up"" allocation that exists for the duration of # the move operation against both the source and destination hosts r = self.get(url) if r.status_code == 200: current_allocs = r.json()['allocations'] if current_allocs: payload = _move_operation_alloc_request(current_allocs, ar) payload['project_id'] = project_id payload['user_id'] = user_id r = self.put(url, payload, version='1.17') if r.status_code != 204: LOG.warning( 'Unable to submit allocation for instance ' '%(uuid)s (%(code)i %(text)s)', {'uuid': consumer_uuid, 'code': r.status_code, 'text': r.text}) return r.status_code == 204 @safe_connect def put_allocations(self, rp_uuid, consumer_uuid, alloc_data, project_id, user_id): """"""Creates allocation records for the supplied instance UUID. :note Currently we only allocate against a single resource provider. Once shared storage and things like NUMA allocations are a reality, this will change to allocate against multiple providers. :param rp_uuid: The UUID of the resource provider to allocate against. :param consumer_uuid: The instance's UUID. :param alloc_data: Dict, keyed by resource class, of amounts to consume. :param project_id: The project_id associated with the allocations. :param user_id: The user_id associated with the allocations. :returns: True if the allocations were created, False otherwise. """""" payload = { 'allocations': [ { 'resource_provider': { 'uuid': rp_uuid, }, 'resources': alloc_data, }, ], 'project_id': project_id, 'user_id': user_id, } url = '/allocations/%s' % consumer_uuid r = self.put(url, payload, version='1.8') if r.status_code == 406: # microversion 1.8 not available so try the earlier way # TODO(melwitt): Remove this when we can be sure all placement # servers support version 1.8. payload.pop('project_id') payload.pop('user_id') r = self.put(url, payload) if r.status_code != 204: LOG.warning( 'Unable to submit allocation for instance ' '%(uuid)s (%(code)i %(text)s)', {'uuid': consumer_uuid, 'code': r.status_code, 'text': r.text}) return r.status_code == 204 @safe_connect def delete_allocation_for_instance(self, uuid): url = '/allocations/%s' % uuid r = self.delete(url) if r: LOG.info('Deleted allocation for instance %s', uuid) else: # Check for 404 since we don't need to log a warning if we tried to # delete something which doesn't actually exist. if r.status_code != 404: LOG.warning( 'Unable to delete allocation for instance ' '%(uuid)s: (%(code)i %(text)s)', {'uuid': uuid, 'code': r.status_code, 'text': r.text}) ",,1282,0
openstack%2Fzun-tempest-plugin~master~I242b0716e1ce3a9361fc2776aa10b8d3f973ceda,openstack/zun-tempest-plugin,master,I242b0716e1ce3a9361fc2776aa10b8d3f973ceda,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-02 07:05:53.000000000,2019-08-03 16:49:36.000000000,2019-08-03 16:49:36.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-08-02 07:05:53.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/f2564f08d3dcaa8e3b5529849002950b090d592d', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I242b0716e1ce3a9361fc2776aa10b8d3f973ceda\n'}]",0,674207,f2564f08d3dcaa8e3b5529849002950b090d592d,8,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I242b0716e1ce3a9361fc2776aa10b8d3f973ceda
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/07/674207/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f2564f08d3dcaa8e3b5529849002950b090d592d,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fkolla-ansible~stable%2Fqueens~Iee39cf00b743ab0776354749c6e162814b5584d8,openstack/kolla-ansible,stable/queens,Iee39cf00b743ab0776354749c6e162814b5584d8,openvswitch: always run handler to to ensure OVS bridges are up,MERGED,2019-07-19 14:52:45.000000000,2019-08-03 16:44:30.000000000,2019-08-03 16:44:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-19 14:52:45.000000000', 'files': ['ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/openvswitch/tasks/upgrade.yml', 'ansible/roles/openvswitch/tasks/deploy.yml', 'ansible/roles/openvswitch/tasks/ensure-ovs-bridge.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da171abc262777c3a57246a2c0102ad3ba27915b', 'message': 'openvswitch: always run handler to to ensure OVS bridges are up\n\nWhen editing external bridge configuration and running a reconfigure\non openvswitch, handler ""Ensuring OVS bridge is properly setup""\nneeds to run, but doesn\'t.\n\nThis moves the task from handlers to own file and always includes it\nafter running the handlers.\n\nChange-Id: Iee39cf00b743ab0776354749c6e162814b5584d8\nCloses-Bug: #1794504\n(cherry picked from commit 8736817a989213df0f40a72f7e7163d9792aee43)\n'}]",0,671751,da171abc262777c3a57246a2c0102ad3ba27915b,7,4,1,15197,,,0,"openvswitch: always run handler to to ensure OVS bridges are up

When editing external bridge configuration and running a reconfigure
on openvswitch, handler ""Ensuring OVS bridge is properly setup""
needs to run, but doesn't.

This moves the task from handlers to own file and always includes it
after running the handlers.

Change-Id: Iee39cf00b743ab0776354749c6e162814b5584d8
Closes-Bug: #1794504
(cherry picked from commit 8736817a989213df0f40a72f7e7163d9792aee43)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/671751/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/openvswitch/tasks/upgrade.yml', 'ansible/roles/openvswitch/tasks/deploy.yml', 'ansible/roles/openvswitch/tasks/ensure-ovs-bridge.yml']",4,da171abc262777c3a57246a2c0102ad3ba27915b,bug/1794504-stable/queens,"--- - name: Ensuring OVS bridge is properly setup command: docker exec openvswitch_db /usr/local/bin/kolla_ensure_openvswitch_configured {{ item.0 }} {{ item.1 }} register: status changed_when: status.stdout.find('changed') != -1 when: - inventory_hostname in groups[""network""] or (inventory_hostname in groups[""compute""] and computes_need_external_bridge | bool ) with_together: - ""{{ neutron_bridge_name.split(',') }}"" - ""{{ neutron_external_interface.split(',') }}"" ",,15,12
openstack%2Fkolla~stable%2Fstein~I05433f5bb2313e2adff39850a970d4430340c852,openstack/kolla,stable/stein,I05433f5bb2313e2adff39850a970d4430340c852,Update build profiles for Placement split,MERGED,2019-08-02 11:01:34.000000000,2019-08-03 16:44:29.000000000,2019-08-03 16:44:28.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-02 11:01:34.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0d7fedb6ba5ac945e0f3f7d3360ff0e4fbba8f13', 'message': 'Update build profiles for Placement split\n\nThe Placement API is now a separate project, but anyone\nbuilding Nova is likely to want it. This change ensures\nthat it is built alongside Nova.\n\nChange-Id: I05433f5bb2313e2adff39850a970d4430340c852\n(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)\n'}]",0,674264,0d7fedb6ba5ac945e0f3f7d3360ff0e4fbba8f13,9,5,1,14826,,,0,"Update build profiles for Placement split

The Placement API is now a separate project, but anyone
building Nova is likely to want it. This change ensures
that it is built alongside Nova.

Change-Id: I05433f5bb2313e2adff39850a970d4430340c852
(cherry picked from commit d4e89eb932d660b4e610460b3ec9792a3e08091c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/674264/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,0d7fedb6ba5ac945e0f3f7d3360ff0e4fbba8f13,," 'placement', 'placement', 'placement',",,3,0
openstack%2Fkolla-ansible~stable%2Fstein~Iac04082ad39a9d823c515ba11c5db9af50ed225f,openstack/kolla-ansible,stable/stein,Iac04082ad39a9d823c515ba11c5db9af50ed225f,CI: clean up requirements installation,MERGED,2019-07-26 12:13:30.000000000,2019-08-03 16:44:28.000000000,2019-08-03 16:44:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-26 12:13:30.000000000', 'files': ['tests/test-openstack.sh', 'tests/deploy.sh', 'tests/test-scenario-nfv.sh', 'tools/setup_gate.sh', 'tests/test-ironic.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e9707bfe506aad32c89316fe6024f341634b470', 'message': ""CI: clean up requirements installation\n\nWe install kolla-ansible requirements in Zuul's Ansible playbooks.\nThis patch cleans up the installation in scripts so that they are\nonly concerned with auxiliary requirements:\n- ansible (since we do not track it in requirements)\n- ara (for log summaries)\n- openstack clients (for first init and tests after deployment)\n\nAdditionally this patch installs openstack clients in a separate\nvirtualenv.\nNote that all kolla-ansible requirements, ansible and ara are still\ninstalled system-wide.\n\nChange-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 8a543098d68a4b945e62ce5c92ece0f5d73946bc)\n""}]",0,672965,9e9707bfe506aad32c89316fe6024f341634b470,8,4,1,30491,,,0,"CI: clean up requirements installation

We install kolla-ansible requirements in Zuul's Ansible playbooks.
This patch cleans up the installation in scripts so that they are
only concerned with auxiliary requirements:
- ansible (since we do not track it in requirements)
- ara (for log summaries)
- openstack clients (for first init and tests after deployment)

Additionally this patch installs openstack clients in a separate
virtualenv.
Note that all kolla-ansible requirements, ansible and ara are still
installed system-wide.

Change-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 8a543098d68a4b945e62ce5c92ece0f5d73946bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/672965/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/deploy.sh', 'tests/test-scenario-nfv.sh', 'tools/setup_gate.sh', 'tests/test-ironic.sh']",5,9e9707bfe506aad32c89316fe6024f341634b470,ironic-ci-stable/stein, . ~/openstackclient-venv/bin/activate, . ~/ironic-venv/bin/activate,26,13
openstack%2Fkolla-ansible~stable%2Fstein~I9773a7c4f7a5d31a83c10562057ce772439b9693,openstack/kolla-ansible,stable/stein,I9773a7c4f7a5d31a83c10562057ce772439b9693,CI: Test ironic also when nova role is modified,MERGED,2019-07-26 12:12:22.000000000,2019-08-03 16:38:41.000000000,2019-08-03 16:38:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-26 12:12:22.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/667eba2c70d1b3aa435b58181f63cab5c392f60a', 'message': 'CI: Test ironic also when nova role is modified\n\nChange-Id: I9773a7c4f7a5d31a83c10562057ce772439b9693\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 55d813004df888f443ae10fdb21d49cf5f76917d)\n'}]",0,672964,667eba2c70d1b3aa435b58181f63cab5c392f60a,8,4,1,30491,,,0,"CI: Test ironic also when nova role is modified

Change-Id: I9773a7c4f7a5d31a83c10562057ce772439b9693
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 55d813004df888f443ae10fdb21d49cf5f76917d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/672964/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,667eba2c70d1b3aa435b58181f63cab5c392f60a,ironic-ci-stable/stein, - ^ansible/roles/(ironic|nova)/, - ^ansible\/roles\/ironic\/.*,1,1
openstack%2Fkolla-ansible~stable%2Fstein~Ie669e57ce2af53257b4ca05f45193cb73f48827a,openstack/kolla-ansible,stable/stein,Ie669e57ce2af53257b4ca05f45193cb73f48827a,Add CI job for ironic,MERGED,2019-07-26 12:09:13.000000000,2019-08-03 16:38:40.000000000,2019-08-03 16:38:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-07-26 12:09:13.000000000', 'files': ['tests/test-openstack.sh', 'tests/get_logs.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh', 'tests/test-ironic.sh', 'tests/templates/ironic-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0d636413e0994c08e431b68d4a04e1396f386bf', 'message': 'Add CI job for ironic\n\nAdds four new CI jobs for testing centos/ubuntu binary/source deploys\nwith ironic enabled. These are run only when there are changes to the\nironic role.\n\nPerforms some simple testing by creating a node using the fake-hardware\nhardware type and creating a server.\n\nChange-Id: Ie669e57ce2af53257b4ca05f45193cb73f48827a\nDepends-On: https://review.opendev.org/664011\n(cherry picked from commit 845040ad3f2a477f5ab823391390e84355dd140e)\n'}]",0,672962,b0d636413e0994c08e431b68d4a04e1396f386bf,7,3,1,30491,,,0,"Add CI job for ironic

Adds four new CI jobs for testing centos/ubuntu binary/source deploys
with ironic enabled. These are run only when there are changes to the
ironic role.

Performs some simple testing by creating a node using the fake-hardware
hardware type and creating a server.

Change-Id: Ie669e57ce2af53257b4ca05f45193cb73f48827a
Depends-On: https://review.opendev.org/664011
(cherry picked from commit 845040ad3f2a477f5ab823391390e84355dd140e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/672962/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/get_logs.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh', 'tests/templates/ironic-overrides.j2', 'tests/test-ironic.sh']",10,b0d636413e0994c08e431b68d4a04e1396f386bf,ironic-ci-stable/stein,"#!/bin/bash set -o xtrace set -o errexit set -o pipefail # Enable unbuffered output for Ansible in Jenkins. export PYTHONUNBUFFERED=1 # Adapted from the function of the same name in the ironic devstack plugin. function wait_for_placement_resources { # After nodes have been enrolled, we need to wait for both ironic and # nova's periodic tasks to populate the resource tracker with available # nodes and resources. Wait up to 2 minutes for a given resource before # timing out. local expected_count=1 local resource_class=""RC0"" curl -L -o jq https://github.com/stedolan/jq/releases/download/jq-1.5/jq-linux64 chmod +x jq # TODO(mgoddard): switch to Placement OSC plugin, once it exists local token token=$(openstack token issue -f value -c id) local endpoint endpoint=$(openstack endpoint list --service placement --interface public -f value -c URL) if [[ -z $endpoint ]]; then echo ""Cannot find Placement API endpoint"" return 1 fi local i local count echo ""Waiting 2 minutes for Nova resource tracker to pick up $expected_count nodes"" for i in $(seq 1 120); do # Fetch provider UUIDs from Placement local providers providers=$(curl -sH ""X-Auth-Token: $token"" $endpoint/resource_providers \ | ./jq -r '.resource_providers[].uuid') local p # Total count of the resource class, has to be equal to nodes count count=0 for p in $providers; do local amount # A resource class inventory record looks something like # {""max_unit"": 1, ""min_unit"": 1, ""step_size"": 1, ""reserved"": 0, ""total"": 1, ""allocation_ratio"": 1} # Subtract reserved from total (defaulting both to 0) amount=$(curl -sH ""X-Auth-Token: $token"" $endpoint/resource_providers/$p/inventories \ | ./jq "".inventories.CUSTOM_$resource_class as \$cls | (\$cls.total // 0) - (\$cls.reserved // 0)"") if [ $amount -gt 0 ]; then count=$(( count + $amount )) fi done if [ $count -ge $expected_count ]; then return 0 fi sleep 1 done echo ""Timed out waiting for Nova to track $expected_count nodes"" return 1 } function create_resources { # Create a bare metal node and port. openstack baremetal node create \ --name node-0 \ --driver fake-hardware \ --network-interface noop \ --property cpu_arch=x86_64 \ --resource-class rc0 node_uuid=$(openstack baremetal node show node-0 -f value -c uuid) openstack baremetal port create \ 00:11:22:33:44:55 \ --node $node_uuid openstack baremetal node power off node-0 openstack baremetal node manage node-0 --wait openstack baremetal node provide node-0 --wait # Create a bare metal flavor in nova. openstack flavor create \ baremetal \ --vcpus 1 \ --ram 1024 \ --disk 10 \ --property resources:CUSTOM_RC0=1 \ --property resources:VCPU=0 \ --property resources:MEMORY_MB=0 \ --property resources:DISK_GB=0 \ --public } function test_ironic_logged { # Assumes init-runonce has been executed. . /etc/kolla/admin-openrc.sh . ~/ironic-venv/bin/activate # Smoke test ironic API. if ! openstack baremetal driver list | grep fake-hardware; then echo ""No active conductors with fake-hardware driver"" exit 1 fi openstack baremetal node list openstack baremetal port list create_resources wait_for_placement_resources echo ""TESTING: Server creation"" openstack server create --wait --image cirros --flavor baremetal --key-name mykey --network demo-net kolla_boot_test openstack --debug server list # If the status is not ACTIVE, print info and exit 1 if [[ $(openstack server show kolla_boot_test -f value -c status) != ""ACTIVE"" ]]; then echo ""FAILED: Instance is not active"" openstack --debug server show kolla_boot_test return 1 fi echo ""SUCCESS: Server creation"" echo ""TESTING: Server deletion"" openstack server delete --wait kolla_boot_test echo ""SUCCESS: Server deletion"" } function test_ironic { echo ""Testing Ironic"" if ! test_ironic_logged > /tmp/logs/ansible/test-ironic 2>&1; then echo ""Testing Ironic failed. See ansible/test-ironic for details"" return 1 else echo ""Successfully tested Ironic. See ansible/test-ironic for details"" fi } test_ironic ",,259,3
openstack%2Fkayobe~master~I6164d9f1d89a3d8124922f3bac9c4bea1b505e45,openstack/kayobe,master,I6164d9f1d89a3d8124922f3bac9c4bea1b505e45,Fix typo in upgrade documentation,MERGED,2019-08-02 12:43:47.000000000,2019-08-03 16:30:45.000000000,2019-08-03 16:30:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 12:43:47.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b4274360470b7c5a587799bc2da10510fb14fe2', 'message': 'Fix typo in upgrade documentation\n\nChange-Id: I6164d9f1d89a3d8124922f3bac9c4bea1b505e45\n'}]",0,674296,4b4274360470b7c5a587799bc2da10510fb14fe2,6,2,1,15197,,,0,"Fix typo in upgrade documentation

Change-Id: I6164d9f1d89a3d8124922f3bac9c4bea1b505e45
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/674296/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,4b4274360470b7c5a587799bc2da10510fb14fe2,typo-fix,followed by ``kayobe overcloud service configuration save`` to gather the,followed by ``kayobe ovecloud service configuration save`` to gather the,1,1
openstack%2Fkolla-ansible~master~I1c9764fb9bbda08a71186091aced67433ad4e3d6,openstack/kolla-ansible,master,I1c9764fb9bbda08a71186091aced67433ad4e3d6,Fix handling of docker restart policy,MERGED,2019-07-12 15:24:50.000000000,2019-08-03 16:27:46.000000000,2019-08-03 16:27:45.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-12 15:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8fd02b8ee90d6bce4f6523332ba7b7db176e9492', 'message': ""Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 2, 'created': '2019-07-12 16:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72035296b79d449938851863706d84923515a76a', 'message': ""Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 3, 'created': '2019-07-12 16:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c99fb5a032062c3e22e682e722b6157d21f2b09d', 'message': ""WIP: Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 4, 'created': '2019-07-12 18:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9add756055ce6d0716878ea4849801341a4bd64', 'message': ""WIP: Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 5, 'created': '2019-07-17 19:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06f5d0fced871eb566cee1b8c135f34a40daa26e', 'message': ""WIP: Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 6, 'created': '2019-07-17 20:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ad2f9595a2cf109b4fa7c0b0de020690a391831', 'message': ""WIP: Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 7, 'created': '2019-07-18 07:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d80a0aa271406f4d3b01904741d95383b3ae0da6', 'message': ""WIP: Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 8, 'created': '2019-07-18 10:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1a36df621c5840d57cc5bed02f986c6215a5d04', 'message': ""WIP: Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 9, 'created': '2019-07-18 13:39:40.000000000', 'files': ['ansible/roles/blazar/tasks/bootstrap_service.yml', 'ansible/roles/congress/tasks/bootstrap_service.yml', 'ansible/roles/qinling/tasks/bootstrap_service.yml', 'ansible/roles/mongodb/tasks/bootstrap.yml', 'ansible/roles/barbican/tasks/bootstrap_service.yml', 'ansible/roles/placement/tasks/bootstrap_service.yml', 'ansible/roles/gnocchi/tasks/bootstrap_service.yml', 'ansible/roles/trove/tasks/bootstrap_service.yml', 'ansible/roles/horizon/tasks/bootstrap_service.yml', 'ansible/roles/heat/tasks/bootstrap_service.yml', 'tests/test_kolla_docker.py', 'ansible/roles/zun/tasks/bootstrap_service.yml', 'ansible/roles/watcher/tasks/bootstrap_service.yml', 'ansible/roles/mistral/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/create_cells.yml', 'ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/manila/tasks/bootstrap_service.yml', 'ansible/roles/panko/tasks/bootstrap_service.yml', 'tests/templates/globals-default.j2', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/ironic/tasks/rolling_upgrade.yml', 'ansible/roles/sahara/tasks/bootstrap_service.yml', 'ansible/roles/ironic/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/vitrage/tasks/bootstrap_service.yml', 'ansible/roles/senlin/tasks/bootstrap_service.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/bootstrap_service.yml', 'ansible/roles/octavia/tasks/bootstrap_service.yml', 'ansible/roles/ceph/tasks/generate_cluster.yml', 'ansible/roles/aodh/tasks/bootstrap_service.yml', 'ansible/roles/monasca/tasks/bootstrap_service.yml', 'ansible/roles/ceilometer/tasks/bootstrap_service.yml', 'ansible/roles/freezer/tasks/bootstrap_service.yml', 'ansible/roles/searchlight/tasks/bootstrap_service.yml', 'ansible/roles/solum/tasks/bootstrap_service.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml', 'ansible/roles/karbor/tasks/bootstrap_service.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/neutron/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/magnum/tasks/bootstrap_service.yml', 'ansible/roles/murano/tasks/bootstrap_service.yml', 'ansible/roles/rally/tasks/bootstrap_service.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/cinder/tasks/bootstrap_service.yml', 'ansible/roles/tacker/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/tasks/bootstrap_cluster.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/cloudkitty/tasks/bootstrap_service.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cyborg/tasks/bootstrap_service.yml', 'ansible/library/kolla_docker.py', 'ansible/roles/glance/tasks/rolling_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a737b19686c821c32778bb847c6548d51eef002', 'message': ""Fix handling of docker restart policy\n\nDocker has no restart policy named 'never'. It has 'no'.\nThis has bitten us already (see [1]) and might bite us again whenever\nwe want to change the restart policy to 'no'.\n\nThis patch makes our docker integration honor all valid restart policies\nand only valid restart policies.\nAll relevant docker restart policy usages are patched as well.\n\nI added some FIXMEs around which are relevant to kolla-ansible docker\nintegration. They are not fixed in here to not alter behavior.\n\n[1] https://review.opendev.org/667363\n\nChange-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",2,670586,6a737b19686c821c32778bb847c6548d51eef002,24,6,9,30491,,,0,"Fix handling of docker restart policy

Docker has no restart policy named 'never'. It has 'no'.
This has bitten us already (see [1]) and might bite us again whenever
we want to change the restart policy to 'no'.

This patch makes our docker integration honor all valid restart policies
and only valid restart policies.
All relevant docker restart policy usages are patched as well.

I added some FIXMEs around which are relevant to kolla-ansible docker
integration. They are not fixed in here to not alter behavior.

[1] https://review.opendev.org/667363

Change-Id: I1c9764fb9bbda08a71186091aced67433ad4e3d6
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/670586/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/blazar/tasks/bootstrap_service.yml', 'ansible/roles/congress/tasks/bootstrap_service.yml', 'ansible/roles/qinling/tasks/bootstrap_service.yml', 'ansible/roles/mongodb/tasks/bootstrap.yml', 'ansible/roles/barbican/tasks/bootstrap_service.yml', 'ansible/roles/placement/tasks/bootstrap_service.yml', 'ansible/roles/gnocchi/tasks/bootstrap_service.yml', 'ansible/roles/trove/tasks/bootstrap_service.yml', 'ansible/roles/horizon/tasks/bootstrap_service.yml', 'ansible/roles/heat/tasks/bootstrap_service.yml', 'tests/test_kolla_docker.py', 'ansible/roles/zun/tasks/bootstrap_service.yml', 'ansible/roles/watcher/tasks/bootstrap_service.yml', 'ansible/roles/mistral/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/create_cells.yml', 'ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/manila/tasks/bootstrap_service.yml', 'ansible/roles/panko/tasks/bootstrap_service.yml', 'tests/templates/globals-default.j2', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/ironic/tasks/rolling_upgrade.yml', 'ansible/roles/sahara/tasks/bootstrap_service.yml', 'ansible/roles/ironic/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/vitrage/tasks/bootstrap_service.yml', 'ansible/roles/senlin/tasks/bootstrap_service.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/designate/tasks/bootstrap_service.yml', 'ansible/roles/octavia/tasks/bootstrap_service.yml', 'ansible/roles/ceph/tasks/generate_cluster.yml', 'ansible/roles/aodh/tasks/bootstrap_service.yml', 'ansible/roles/monasca/tasks/bootstrap_service.yml', 'ansible/roles/ceilometer/tasks/bootstrap_service.yml', 'ansible/roles/freezer/tasks/bootstrap_service.yml', 'ansible/roles/searchlight/tasks/bootstrap_service.yml', 'ansible/roles/solum/tasks/bootstrap_service.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml', 'ansible/roles/karbor/tasks/bootstrap_service.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/roles/neutron/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/magnum/tasks/bootstrap_service.yml', 'ansible/roles/murano/tasks/bootstrap_service.yml', 'ansible/roles/rally/tasks/bootstrap_service.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/cinder/tasks/bootstrap_service.yml', 'ansible/roles/tacker/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/bootstrap_service.yml', 'ansible/roles/mariadb/tasks/bootstrap_cluster.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/cloudkitty/tasks/bootstrap_service.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cyborg/tasks/bootstrap_service.yml', 'ansible/library/kolla_docker.py', 'ansible/roles/glance/tasks/rolling_upgrade.yml']",59,8fd02b8ee90d6bce4f6523332ba7b7db176e9492,fix-docker-restart-policy-handling, restart_policy: no restart_policy: no restart_policy: no," restart_policy: ""never"" restart_policy: ""never"" restart_policy: ""never""",80,85
openstack%2Foctavia-lib~master~I5f42dac1987e0f90860beb12fc842e77cd627820,openstack/octavia-lib,master,I5f42dac1987e0f90860beb12fc842e77cd627820,Update for storyboard,MERGED,2019-08-03 15:32:58.000000000,2019-08-03 16:08:41.000000000,2019-08-03 16:08:41.000000000,"[{'_account_id': 5263}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 15:32:58.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/43e957f9fe42505b421c882b6706d74132aebd7d', 'message': 'Update for storyboard\n\nThis repo uses storyboard since some time and not anymore launchpad:\n\nUpdate the openstackdocstheme options so that the ""Report a bug"" link\npoints to storyboard and not to launchpad.\n\nChange-Id: I5f42dac1987e0f90860beb12fc842e77cd627820\n'}]",0,674461,43e957f9fe42505b421c882b6706d74132aebd7d,8,3,1,6547,,,0,"Update for storyboard

This repo uses storyboard since some time and not anymore launchpad:

Update the openstackdocstheme options so that the ""Report a bug"" link
points to storyboard and not to launchpad.

Change-Id: I5f42dac1987e0f90860beb12fc842e77cd627820
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/61/674461/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,43e957f9fe42505b421c882b6706d74132aebd7d,,use_storyboard = True,bug_project = 'openstack/octavia-lib' bug_tag = '',2,4
openstack%2Fkolla-ansible~master~I10552e256edbddd5b1f8a8a7f8805262e72ce8d8,openstack/kolla-ansible,master,I10552e256edbddd5b1f8a8a7f8805262e72ce8d8,CI: fix checks for upgrade and multinode jobs,MERGED,2019-07-26 15:10:52.000000000,2019-08-03 15:58:33.000000000,2019-08-01 09:33:30.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-26 15:10:52.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93ac16ae6bca01424fe2aebbacfb58cfa005c2ea', 'message': 'CI: fix checks for upgrade and multinode jobs\n\nMultinode jobs did not run sanity checks for all the hosts,\nonly primary. Now they check all.\n\nAdditionally upgrades are now checked using the proper\n(pre-upgrade) scripts (not that it matters too much as they\nare the same atm) and both checks are done, not only failures,\nbut also config.\n\nChange-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",1,673006,93ac16ae6bca01424fe2aebbacfb58cfa005c2ea,11,4,1,30491,,,0,"CI: fix checks for upgrade and multinode jobs

Multinode jobs did not run sanity checks for all the hosts,
only primary. Now they check all.

Additionally upgrades are now checked using the proper
(pre-upgrade) scripts (not that it matters too much as they
are the same atm) and both checks are done, not only failures,
but also config.

Change-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/673006/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,93ac16ae6bca01424fe2aebbacfb58cfa005c2ea,ci-fix-checks," tasks: # NOTE(yoctozepto): setting vars as facts for all to have them around in all the plays - set_fact: kolla_inventory_path: ""/etc/kolla/inventory"" logs_dir: ""/tmp/logs"" kolla_ansible_src_dir: ""{{ ansible_env.PWD }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" need_build_image: false build_image_tag: ""change_{{ zuul.change | default('none') }}"" is_upgrade: ""{{ 'upgrade' in scenario }}"" is_ceph: ""{{ 'ceph' in scenario }}"" # NOTE(yoctozepto): each host checks itself - hosts: all tasks: - name: Pre-upgrade sanity checks block: - name: Run pre-upgrade check-failure.sh script shell: cmd: tests/check-failure.sh - name: Run pre-upgrade check-config.sh script shell: cmd: tests/check-config.sh executable: /bin/bash chdir: ""{{ kolla_ansible_src_dir }}"" when: is_upgrade - hosts: primary tasks: # Upgrade: update config. - block:# NOTE(yoctozepto): each host checks itself - hosts: all tasks:"," vars: kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" is_ceph: ""{{ 'ceph' in scenario }}"" tasks: vars: kolla_inventory_path: ""/etc/kolla/inventory"" logs_dir: ""/tmp/logs"" kolla_ansible_src_dir: ""{{ ansible_env.PWD }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" need_build_image: false build_image_tag: ""change_{{ zuul.change | default('none') }}"" is_upgrade: ""{{ 'upgrade' in scenario }}"" is_ceph: ""{{ 'ceph' in scenario }}"" # Upgrade: update config. - block: - name: Run check-failure.sh script script: cmd: check-failure.sh",33,17
openstack%2Fproject-config~master~I92606456f94b3cbbb1c5a3d609201d19474c1327,openstack/project-config,master,I92606456f94b3cbbb1c5a3d609201d19474c1327,Remove in-tree jobs for neutron-classifier,MERGED,2019-08-02 16:06:31.000000000,2019-08-03 15:44:34.000000000,2019-08-03 15:44:34.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 16:06:31.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7829d18052b5b73cdaab4881c028ba6ac00ee287', 'message': 'Remove in-tree jobs for neutron-classifier\n\nAll these jobs are in-tree now, remove them here.\n\nChange-Id: I92606456f94b3cbbb1c5a3d609201d19474c1327\n'}]",0,674340,7829d18052b5b73cdaab4881c028ba6ac00ee287,7,3,1,6547,,,0,"Remove in-tree jobs for neutron-classifier

All these jobs are in-tree now, remove them here.

Change-Id: I92606456f94b3cbbb1c5a3d609201d19474c1327
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/674340/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,7829d18052b5b73cdaab4881c028ba6ac00ee287,classifier,, name: x/neutron-classifier templates: - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - check-requirements - project:,0,7
openstack%2Foctavia-lib~master~Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f,openstack/octavia-lib,master,Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f,Fix docstring and avoid such errors,MERGED,2019-08-03 15:27:25.000000000,2019-08-03 15:42:19.000000000,2019-08-03 15:42:19.000000000,"[{'_account_id': 5263}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 15:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/281d626fe9a9290b45b4e31695aaa19943406441', 'message': 'Fix docstring and avoid such errors\n\nDocs in octavia where failing with:\nDocstring of octavia.api.drivers.amphora_driver.v1.driver.AmphoraProviderDriver.create_vip_port:\n10:Unexpected indentation.\n\nThe broken docstring is in octavia_lib/api/drivers/provider_base.py. Fix\nthat docstring and build apidocs - like octavia does - so that all\ndocstrings in this repo get tested.\n\nFor building apidocs, add the needed configuration to the sphinx files\nand require the package.\n\nChange-Id: Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}, {'number': 2, 'created': '2019-08-03 15:29:20.000000000', 'files': ['octavia_lib/api/drivers/provider_base.py', 'doc/source/reference/index.rst', 'doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/05b8ca95fd8b3a63ff46e9b584237cf99b32ac69', 'message': 'Fix docstring and avoid such errors\n\nDocs in octavia where failing with:\nDocstring of octavia.api.drivers.amphora_driver.v1.driver.AmphoraProviderDriver.create_vip_port:\n10:Unexpected indentation.\n\nThe broken docstring is in octavia_lib/api/drivers/provider_base.py. Fix\nthat docstring and build apidocs - like octavia does - so that all\ndocstrings in this repo get tested.\n\nFor building apidocs, add the needed configuration to the sphinx files\nand require the package.\n\nChange-Id: Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\n'}]",1,674460,05b8ca95fd8b3a63ff46e9b584237cf99b32ac69,9,3,2,6547,,,0,"Fix docstring and avoid such errors

Docs in octavia where failing with:
Docstring of octavia.api.drivers.amphora_driver.v1.driver.AmphoraProviderDriver.create_vip_port:
10:Unexpected indentation.

The broken docstring is in octavia_lib/api/drivers/provider_base.py. Fix
that docstring and build apidocs - like octavia does - so that all
docstrings in this repo get tested.

For building apidocs, add the needed configuration to the sphinx files
and require the package.

Change-Id: Iad03f19083d9a5429dcfed3499d1c3e2d56cbb0f
Co-Authored-By: Jeremy Stanley <fungi@yuggoth.org>
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/60/674460/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/api/drivers/provider_base.py', 'doc/source/reference/index.rst', 'doc/source/conf.py', 'doc/requirements.txt']",4,281d626fe9a9290b45b4e31695aaa19943406441,,sphinxcontrib-apidoc>=0.2.1 # BSD,,18,4
openstack%2Fkolla-ansible~stable%2Fqueens~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/queens,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-28 07:27:59.000000000,2019-08-03 15:29:37.000000000,2019-08-03 15:29:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 07:27:59.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73747860dc943661deca4260342d90b25dadd9f7', 'message': 'Avoid parallel discover_hosts (nova-related race condition)\n\nIn a rare event both kolla-ansible and nova-scheduler try to do\nthe mapping at the same time and one of them fails.\nSince kolla-ansible runs host discovery on each deployment,\nthere is no need to change the default of no periodic host discovery.\n\nI added some notes for future. They are not critical.\nI made the decision explicit in the comments.\nI changed the task name to satisfy recommendations.\nI removed the variable because it is not used (to avoid future doubts).\n\nCloses-Bug: #1832987\nChange-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)\n(cherry picked from commit ed3d1e37ffa3c513957e184693d5ae7e451e92d8)\n'}]",0,668104,73747860dc943661deca4260342d90b25dadd9f7,10,3,1,30491,,,0,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
(cherry picked from commit ed3d1e37ffa3c513957e184693d5ae7e451e92d8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/668104/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2']",2,73747860dc943661deca4260342d90b25dadd9f7,bug/1832987-queens,# NOTE(yoctozepto): kolla-ansible handles cell mapping by itself on each deploy # periodic run must be disabled to avoid random failures (where both try to map) # -1 is default and means periodic discovery is disabled discover_hosts_in_cells_interval = -1,discover_hosts_in_cells_interval = 60,6,3
openstack%2Fironic~master~I1fe60ae235b920071023c65f24dea48f5e3b5c6c,openstack/ironic,master,I1fe60ae235b920071023c65f24dea48f5e3b5c6c,Baremetal provisioning in UEFI secure boot mode for iLO drivers,ABANDONED,2015-10-07 11:27:51.000000000,2019-08-03 15:22:30.000000000,,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 20311}]","[{'number': 1, 'created': '2015-10-07 11:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1187d52f1683b0b62a9f95d1d4a772981303495', 'message': 'Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot for\niLO drivers.\n\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nImplements: blueprint secure-baremetal-deploy-in-uefi\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n'}, {'number': 2, 'created': '2015-10-08 03:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bdbafafe871300dd2548ee3b920fd4eb8c87784', 'message': 'Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot for\niLO drivers. It add new boolean configuration parameter named\nforce_deploy_in_secure_boot under ilo section.\n\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nImplements: blueprint secure-baremetal-deploy-in-uefi\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n'}, {'number': 3, 'created': '2015-11-17 05:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4039a9cc6685ecfe8414c7e65e784e19a2f24110', 'message': 'Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot for\niLO drivers. It add new boolean configuration parameter named\nforce_deploy_in_secure_boot under ilo section.\n\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nImplements: blueprint secure-baremetal-deploy-in-uefi\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n'}, {'number': 4, 'created': '2015-12-05 09:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b55af01374fcb3bf08c36aa722a0f6ce18fae7ad', 'message': 'Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot for\niLO drivers. It add new boolean configuration parameter named\nforce_deploy_in_secure_boot under ilo section.\n\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nImplements: blueprint secure-baremetal-deploy-in-uefi\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n'}, {'number': 5, 'created': '2015-12-21 05:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3cfa15ab053620e57dd4cc64c0f28ad5e9f076e', 'message': 'Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot for\niLO drivers. It add new boolean configuration parameter named\nforce_deploy_in_secure_boot under ilo section.\n\nPartial-bug: #1526755\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n'}, {'number': 6, 'created': '2016-01-08 05:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29f0632fcc586e4805480a8d5f46bdfe262deb13', 'message': ""Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot\nenvironment for iLO drivers when flavor requests node with\ncapabilities 'secure_boot:True' and signed deploy ramdisk is used\nfor deploy.\nIt add new boolean configuration parameter named\n'secure_deploy_mode' under '[deploy]' section.\n\nPartial-bug: #1526755\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 7, 'created': '2016-05-24 10:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67b63e2529ab4a8b588f8f322d3b9c8ee70431d6', 'message': ""Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot\nenvironment for iLO drivers when flavor requests node with\ncapabilities 'secure_deploy:True' and signed deploy ramdisk is used\nfor deploy.\n\nPartial-bug: #1526755\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 8, 'created': '2016-06-14 06:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/801f52414f40707565f3f4c08867c5758e108bd8', 'message': ""Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot\nenvironment for iLO drivers when flavor requests node with\ncapabilities 'secure_deploy:True' and signed deploy ramdisk is used\nfor deploy.\n\nPartial-bug: #1526755\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 9, 'created': '2016-08-04 04:16:22.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_vendor.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/ilo/deploy.py', 'doc/source/drivers/ilo.rst', 'ironic/drivers/modules/ilo/vendor.py', 'releasenotes/notes/ilo-driver-provisioning-in-uefi-secure-boot-e29b8864e8d9828f.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bbab8b7c486e437ccd980a5fadac5f8b31dc8ba6', 'message': ""Baremetal provisioning in UEFI secure boot mode for iLO drivers\n\nThis commit implements baremetal provisioning in UEFI secure boot\nenvironment for iLO drivers when flavor requests node with\ncapabilities 'secure_deploy:True' and signed deploy ramdisk is used\nfor deploy.\n\nPartial-bug: #1526755\nChange-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c\nDepends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}]",12,231927,bbab8b7c486e437ccd980a5fadac5f8b31dc8ba6,53,9,9,11076,,,0,"Baremetal provisioning in UEFI secure boot mode for iLO drivers

This commit implements baremetal provisioning in UEFI secure boot
environment for iLO drivers when flavor requests node with
capabilities 'secure_deploy:True' and signed deploy ramdisk is used
for deploy.

Partial-bug: #1526755
Change-Id: I1fe60ae235b920071023c65f24dea48f5e3b5c6c
Depends-On: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/231927/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/deploy.py', 'ironic/tests/unit/drivers/modules/ilo/test_deploy.py']",4,d1187d52f1683b0b62a9f95d1d4a772981303495,secure_boot," CONF.ilo.force_deploy_in_secure_boot = False CONF.ilo.force_deploy_in_secure_boot = False CONF.ilo.force_deploy_in_secure_boot = False @mock.patch.object(ilo_deploy, '_update_secure_boot_mode', spec_set=True, autospec=True) @mock.patch.object(manager_utils, 'node_power_action', spec_set=True, autospec=True) def test__prepare_node_for_deploy_inst_info_secure(self, func_node_power_action, func_update_secure): instance_info = {'capabilities': '{""secure_boot"": ""true""}'} CONF.ilo.force_deploy_in_secure_boot = True with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.node.instance_info = instance_info ilo_deploy._prepare_node_for_deploy(task) func_node_power_action.assert_called_once_with(task, states.POWER_OFF) func_update_secure.assert_called_once_with(task, True) bootmode = driver_utils.get_node_capability(task.node, ""boot_mode"") self.assertIsNone(bootmode) deploy_boot_mode = task.node.instance_info.get('deploy_boot_mode') self.assertIsNone(deploy_boot_mode) CONF.ilo.force_deploy_in_secure_boot = False def _test_pass_deploy_info_good(self, cleanup_vmedia_boot_mock, continue_deploy_mock, get_boot_iso_mock, setup_vmedia_mock, set_boot_device_mock, func_update_boot_mode, func_update_secure_boot_mode, notify_ramdisk_to_proceed_mock, force_deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = force_deploy_in_secure_boot if force_deploy_in_secure_boot: self.assertFalse(func_update_secure_boot_mode.called) else: func_update_secure_boot_mode.assert_called_once_with(task, True) def test_pass_deploy_info_good(self): self._test_pass_deploy_info_good(force_deploy_in_secure_boot=False) def test_pass_deploy_info_good_force_secure(self): self._test_pass_deploy_info_good(force_deploy_in_secure_boot=True) def _test_pass_deploy_info_create_boot_iso_fail( update_secure_boot_mode_mock, force_deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = force_deploy_in_secure_boot if force_deploy_in_secure_boot: self.assertFalse(update_secure_boot_mode_mock.called) else: update_secure_boot_mode_mock.assert_called_once_with(task, True) def test_pass_deploy_info_create_boot_iso_fail(self): self._test_pass_deploy_info_create_boot_iso_fail( force_deploy_in_secure_boot=False) def test_pass_deploy_info_create_boot_iso_fail_secure(self): self._test_pass_deploy_info_create_boot_iso_fail( force_deploy_in_secure_boot=True) def _test_pass_deploy_info_boot_option_local( finish_deploy_mock, force_deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = force_deploy_in_secure_boot if force_deploy_in_secure_boot: self.assertFalse(func_update_secure_boot_mode.called) else: func_update_secure_boot_mode.assert_called_once_with(task, True) def test_pass_deploy_info_boot_option_local(self): self._test_pass_deploy_info_boot_option_local( force_deploy_in_secure_boot=False) def test_pass_deploy_info_boot_option_local_secure(self): self._test_pass_deploy_info_boot_option_local( force_deploy_in_secure_boot=True) set_boot_device_mock, notify_ramdisk_to_proceed_mock, force_deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = force_deploy_in_secure_boot if force_deploy_in_secure_boot: self.assertFalse(func_update_secure_boot_mode.called) else: func_update_secure_boot_mode.assert_called_once_with(task, True) self._test_pass_deploy_info_whole_disk_image( force_deploy_in_secure_boot=False) self._test_pass_deploy_info_whole_disk_image( force_deploy_in_secure_boot=False) def test_pass_deploy_info_whole_disk_image_local_secure_boot(self): self.node.instance_info = {'capabilities': '{""boot_option"": ""local""}'} self.node.save() self._test_pass_deploy_info_whole_disk_image( force_deploy_in_secure_boot=True) def test_pass_deploy_info_whole_disk_image_secure_boot(self): self._test_pass_deploy_info_whole_disk_image( force_deploy_in_secure_boot=True) def _test_continue_deploy_netboot(self, cleanup_vmedia_boot_mock, do_agent_iscsi_deploy_mock, configure_vmedia_boot_mock, reboot_and_finish_deploy_mock, boot_mode_cap_mock, update_secure_boot_mock, deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = deploy_in_secure_boot if deploy_in_secure_boot: self.assertFalse(update_secure_boot_mock.called) else: update_secure_boot_mock.assert_called_once_with(task, True) def test_continue_deploy_netboot(self): self._test_continue_deploy_netboot(deploy_in_secure_boot=False) def test_continue_deploy_netboot_secure(self): self._test_continue_deploy_netboot(deploy_in_secure_boot=True) def _test_continue_deploy_localboot(self, cleanup_vmedia_boot_mock, do_agent_iscsi_deploy_mock, configure_local_boot_mock, reboot_and_finish_deploy_mock, boot_mode_cap_mock, update_secure_boot_mock, deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = deploy_in_secure_boot if deploy_in_secure_boot: self.assertFalse(update_secure_boot_mock.called) else: update_secure_boot_mock.assert_called_once_with(task, True) def test_continue_deploy_localboot(self): self._test_continue_deploy_localboot(deploy_in_secure_boot=False) def test_continue_deploy_localboot_secure(self): self._test_continue_deploy_localboot(deploy_in_secure_boot=True) def _test_continue_deploy_localboot_uefi(self, cleanup_vmedia_boot_mock, do_agent_iscsi_deploy_mock, configure_local_boot_mock, reboot_and_finish_deploy_mock, boot_mode_cap_mock, update_secure_boot_mock, deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = deploy_in_secure_boot if deploy_in_secure_boot: self.assertFalse(update_secure_boot_mock.called) else: update_secure_boot_mock.assert_called_once_with(task, True) def test_continue_deploy_localboot_uefi(self): self._test_continue_deploy_localboot_uefi(deploy_in_secure_boot=False) def test_continue_deploy_localboot_uefi_secure(self): self._test_continue_deploy_localboot_uefi(deploy_in_secure_boot=True) def _test_vendorpassthru_pass_deploy_info(self, set_boot_device_mock, func_update_boot_mode, func_update_secure_boot_mode, pxe_vendorpassthru_mock, deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = deploy_in_secure_boot if deploy_in_secure_boot: self.assertFalse(func_update_secure_boot_mode.called) else: func_update_secure_boot_mode.assert_called_once_with(task, True) def test_vendorpassthru_pass_deploy_info(self): self._test_vendorpassthru_pass_deploy_info( deploy_in_secure_boot=False) def test_vendorpassthru_pass_deploy_info_secure(self): self._test_vendorpassthru_pass_deploy_info( deploy_in_secure_boot=True) def _test_vendorpassthru_continue_deploy(self, func_update_boot_mode, func_update_secure_boot_mode, pxe_vendorpassthru_mock, deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = deploy_in_secure_boot if deploy_in_secure_boot: self.assertFalse(func_update_secure_boot_mode.called) else: func_update_secure_boot_mode.assert_called_once_with(task, True) def test_vendorpassthru_continue_deploy(self): self._test_vendorpassthru_continue_deploy(deploy_in_secure_boot=False) def test_vendorpassthru_continue_deploy_secure(self): self._test_vendorpassthru_continue_deploy(deploy_in_secure_boot=True) def _test_reboot_to_instance(self, func_update_secure_boot_mode, func_update_boot_mode, check_deploy_success_mock, agent_reboot_to_instance_mock, deploy_in_secure_boot=False): CONF.ilo.force_deploy_in_secure_boot = deploy_in_secure_boot if deploy_in_secure_boot: self.assertFalse(func_update_secure_boot_mode.called) else: func_update_secure_boot_mode.assert_called_once_with(task, True) def test_reboot_to_instance(self): self._test_reboot_to_instance(deploy_in_secure_boot=False) def test_reboot_to_instance_secure(self): self._test_reboot_to_instance(deploy_in_secure_boot=True) "," def test_pass_deploy_info_good(self, cleanup_vmedia_boot_mock, continue_deploy_mock, get_boot_iso_mock, setup_vmedia_mock, set_boot_device_mock, func_update_boot_mode, func_update_secure_boot_mode, notify_ramdisk_to_proceed_mock): func_update_secure_boot_mode.assert_called_once_with(task, True) def test_pass_deploy_info_create_boot_iso_fail( update_secure_boot_mode_mock): update_secure_boot_mode_mock.assert_called_once_with(task, True) def test_pass_deploy_info_boot_option_local( finish_deploy_mock): func_update_secure_boot_mode.assert_called_once_with(task, True) set_boot_device_mock, notify_ramdisk_to_proceed_mock): func_update_secure_boot_mode.assert_called_once_with(task, True) self._test_pass_deploy_info_whole_disk_image() self._test_pass_deploy_info_whole_disk_image() def test_continue_deploy_netboot(self, cleanup_vmedia_boot_mock, do_agent_iscsi_deploy_mock, configure_vmedia_boot_mock, reboot_and_finish_deploy_mock, boot_mode_cap_mock, update_secure_boot_mock): update_secure_boot_mock.assert_called_once_with(task, True) def test_continue_deploy_localboot(self, cleanup_vmedia_boot_mock, do_agent_iscsi_deploy_mock, configure_local_boot_mock, reboot_and_finish_deploy_mock, boot_mode_cap_mock, update_secure_boot_mock): update_secure_boot_mock.assert_called_once_with(task, True) def test_continue_deploy_localboot_uefi(self, cleanup_vmedia_boot_mock, do_agent_iscsi_deploy_mock, configure_local_boot_mock, reboot_and_finish_deploy_mock, boot_mode_cap_mock, update_secure_boot_mock): update_secure_boot_mock.assert_called_once_with(task, True) def test_vendorpassthru_pass_deploy_info(self, set_boot_device_mock, func_update_boot_mode, func_update_secure_boot_mode, pxe_vendorpassthru_mock): func_update_secure_boot_mode.assert_called_once_with(task, True) def test_vendorpassthru_continue_deploy(self, func_update_boot_mode, func_update_secure_boot_mode, pxe_vendorpassthru_mock): func_update_secure_boot_mode.assert_called_once_with(task, True) def test_reboot_to_instance(self, func_update_secure_boot_mode, func_update_boot_mode, check_deploy_success_mock, agent_reboot_to_instance_mock): func_update_secure_boot_mode.assert_called_once_with(task, True)",235,59
openstack%2Fironic-specs~master~Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762,openstack/ironic-specs,master,Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762,Baremetal provisioning in UEFI secure boot mode,ABANDONED,2015-10-02 05:28:01.000000000,2019-08-03 15:22:05.000000000,,"[{'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 22255}]","[{'number': 1, 'created': '2015-10-02 05:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c1875f02a54d5f4ed04b4f1ee5d4dc4b26a146df', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 2, 'created': '2015-10-22 10:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7389af016e112477be9d72fe7a23c5ce01ae6224', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 3, 'created': '2015-11-25 11:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/13640efa7d74d3970ca08263fa75ed3434ea5d72', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 4, 'created': '2015-11-25 16:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/027588a1eb52b31d7b8dce67c16eccd4cdc6c157', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 5, 'created': '2015-12-17 11:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/31a5fdd48f8c3bea81e0552312c7f17d28929e39', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nRelated-bug: #1526755\n\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 6, 'created': '2016-01-07 05:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b59d7059ceea45089feec8a707372377aa8545f3', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 7, 'created': '2016-03-15 10:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bab4fec8dd70b713e15dd284ed0fef443b7281d7', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nPartial-Bug: 1526755\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 8, 'created': '2016-05-04 05:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b10b388d8c0dbaab9d16776137f3f2bc6ccb3e86', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nPartial-Bug: 1526755\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 9, 'created': '2016-06-01 03:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ee33cb9b04c95d4ad1d130ea6de917c17daf6e35', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nPartial-Bug: 1526755\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 10, 'created': '2017-03-22 04:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a563f2650c55269f6b583ce7ad4a07f7af880abb', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nPartial-Bug: 1526755\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 11, 'created': '2017-04-25 07:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/718ecd8943d1bbfcbf7463ca21c964018f6feab7', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nPartial-Bug: 1526755\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}, {'number': 12, 'created': '2017-05-06 09:34:17.000000000', 'files': ['specs/approved/secure-baremetal-deploy-in-uefi.rst', 'specs/not-implemented/secure-baremetal-deploy-in-uefi.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e4edf89bc8f0936c857dec3b9ff9713b282afc8f', 'message': ""Baremetal provisioning in UEFI secure boot mode\n\nThis spec proposes mechanism to provision a node in UEFI secure\nboot environment when flavor requests node with capabilities\n'secure_boot:True' and signed deploy ramdisk is used for deploy.\n\nPartial-Bug: 1526755\nChange-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762\n""}]",40,230274,e4edf89bc8f0936c857dec3b9ff9713b282afc8f,56,8,12,11076,,,0,"Baremetal provisioning in UEFI secure boot mode

This spec proposes mechanism to provision a node in UEFI secure
boot environment when flavor requests node with capabilities
'secure_boot:True' and signed deploy ramdisk is used for deploy.

Partial-Bug: 1526755
Change-Id: Ic6c5db9ceab43c4fd70b41bc12ac21b3f09a9762
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/74/230274/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/secure-baremetal-deploy-in-uefi.rst'],1,c1875f02a54d5f4ed04b4f1ee5d4dc4b26a146df,bug/1526755,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================== Baremetal provisioning using UEFI secure boot ================================================== https://blueprints.launchpad.net/ironic/+spec/secure-baremetal-deploy-in-uefi Some of the enterprise environment requires that all the software used within organization are signed and those signatures gets validated everytime that software gets used. For such customers it is important that end-to-end baremetal provisioning happens using UEFI secure boot. Problem description =================== Ironic performs the barematal provisioning using BIOS or UEFI boot mode. It does not support provisioning in UEFI secure boot environment. Ironic does support bringing up the instance in UEFI secure boot mode. For end-to-end secure deploy, Ironic should support signed deploy ramdisk. It should bring up the deploy ramdisk in UEFI secure boot environment and complete the provisioning. The provisioned instance should then run under UEFI secure boot environment. Proposed change =============== Operator can request UEFI secure boot instance by setting the capability ``secure_boot=True`` in the flavor. When such a request is received Ironic should check new configuration variable ``force_deploy_in_secure_boot``. If this variable is set to ``True``, driver should change the boot mode of the baremetal to UEFI secure boot and initiate provisioning. This newly introduced config variable would be checked only when the deploy request is with the capability ``secure_boot=True``. Default value of configuration variable ``force_deploy_in_secure_boot`` would be ``False``. The operator needs to use signed deploy kernel (signed deploy iso in case of virtual media based drivers) when configuration variable ``force_deploy_in_secure_boot`` is enabled as the baremetal would be booted in UEFI secure boot mode. DIB (Disk-Image-Builder) supports creation of signed kernel and iso for distros like Ubuntu, Fedora etc. No additional changes required in DIB to support this feature. Alternatives ------------ One can use glance image property to indicate the deploy kernel/ramdisk are signed. For virtual media based drivers, glance image property would be set to deploy iso. Drivers could use this image property when provisioning request is made with the capability ``secure_boot=True`` to enable UEFI secure boot during node provisioning. Such a mechanism have two drawbacks:- 1. It is image dependent and cannot be enforced as a provisioning policy. 2. It will not work in standalone Ironic setup. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- None RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Security impact --------------- This will provide enhnaced security to baremetal provisioning for the users who have requirement to keep UEFI secure boot enabled all through out baremetal provisioning. Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- * Deployer needs to use signed deploy kernel for pxe based deploys. Signed deploy iso image needs to be used for virtual media based deploy. * Deployers needs to update new configuration variable ``force_deploy_in_secure_boot`` to enable the feature. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Shivanand Tendulker <stendulker> Work Items ---------- * Implement feature for iscsi_ilo, pxe_ilo and agent_ilo drivers. * Introduce new configuration variable ``force_deploy_in_secure_boot`` under ``ilo`` section in ironic.conf Dependencies ============ None Testing ======= Unit tests will be added for newly added code. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== iLO drivers page will have change in documentation describing this feature. References ========== None ",,176,0
openstack%2Fironic-specs~master~I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e,openstack/ironic-specs,master,I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e,Group management of Ironic nodes,ABANDONED,2015-10-15 13:30:37.000000000,2019-08-03 15:20:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6287}, {'_account_id': 6618}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 12356}]","[{'number': 1, 'created': '2015-10-15 13:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7782df40b4d7d7b41909b356a97eb9da6f119443', 'message': 'Ironic Group Management\n\nThis spec proposes grouping of Ironic nodes to perform group\nmanagement operations using proposed CLI and REST APIs.\n\nChange-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e\n'}, {'number': 2, 'created': '2015-10-16 04:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f667189bbe9c75dc04a7fc33af0ccdcf083a77e8', 'message': 'Group management of Ironic nodes\n\nThis spec proposes grouping of Ironic nodes to perform group\nmanagement operations using proposed CLI and REST APIs.\n\nChange-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e\n'}, {'number': 3, 'created': '2015-10-26 05:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1d63818b688f0730e3245ebf986eb11afec0e2fe', 'message': 'Group management of Ironic nodes\n\nThis spec proposes grouping of Ironic nodes to perform group\nmanagement operations using proposed CLI and REST APIs.\n\nChange-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e\n'}, {'number': 4, 'created': '2016-04-19 10:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/25773ad9c8507fb58ea1aa07899d212535895714', 'message': 'Group management of Ironic nodes\n\nThis spec proposes grouping of Ironic nodes to perform group\nmanagement operations using proposed CLI and REST APIs.\n\nPartial-Bug: 1526487\n\nChange-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e\n'}, {'number': 5, 'created': '2016-04-20 06:12:59.000000000', 'files': ['specs/approved/node-group-management.rst', 'specs/not-implemented/node-group-management.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/988f574a25f987426d17ab9faf52dd7beda171bc', 'message': 'Group management of Ironic nodes\n\nThis spec proposes grouping of Ironic nodes to perform group\nmanagement operations using proposed CLI and REST APIs.\n\nPartial-Bug: 1526487\n\nChange-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e\n'}]",58,235344,988f574a25f987426d17ab9faf52dd7beda171bc,24,9,5,11076,,,0,"Group management of Ironic nodes

This spec proposes grouping of Ironic nodes to perform group
management operations using proposed CLI and REST APIs.

Partial-Bug: 1526487

Change-Id: I8d0d8dad3fd1be07ac1a137e77cb00e20cb1e97e
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/44/235344/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/node-group-management.rst'],1,7782df40b4d7d7b41909b356a97eb9da6f119443,bug/1526487,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================== Group management of Ironic nodes ================================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/ironic/+spec/node-group-management In a data centre, administrators group their servers for ease of management. They perform common operations related to power, firmware upgrade etc as a group operation. Today, Ironic allows management operations only at a per-node-basis. One cannot group the servers for performing group management tasks. Problem description =================== Typical data center administrator creates server groups based on certain server hardware properties e.g. Rack, Server Model, Firmware versions, type of storage attached etc. This kind of logical grouping helps them in efficient management of the servers. These kind of logical grouping helps in performing common tasks on all the nodes in that group in one-go. The group management tasks include, firmware upgrade, power operations etc. Some of the enterprise class servers are pre-loaded with management software to perform such group operations. Currently, Ironic recognizes only single node entity allowing management operations on single node at a time. Once the nodes are enrolled into Ironic, one cannot use the available group management software to perform operations at group level. This could interfere with the state of node maintained by Ironic. To overcome this:- * Operators would need to maintain the server grouping separately and perform required management operations using Ironic CLI/REST API using scripts. Or * Need to temporarily take out group of nodes from OpenStack to initiate group operations. This is cumbersome and may not be feasible at all the time. Ironic support for group management will enhance scalability and ease of use. Moreover, group management capability is common in hardware such as blades and chassis. Some hardware has built-in support for rack-level or logical group management. Extending Ironic to support group management will enhance scalability, speed up hardware deployment significantly, and enable users to take advantage of native hardware group management capabilities. Proposed change =============== Ironic should allow following operations to enable grouping of bare metals:- * Allow support new group table that would maintain the node group information. If hardware supports node discovery (e.g HP Chassis Mananger) all the nodes within a chassis), user can use such mechanism to discover nodes and group them together into one group after enrolling them. * Viewing of the group list * Viewing details of a group * Addition/Removal of node(s) to a group * Change power state of nodes in a given group * Enroll/dis-enroll member nodes of a group from Ironic. Similarly, it can support other operations like firmware settings, zapping and cleaning operations to invoke these operations at group level. These actions would get triggered by moving all the nodes in the group into 'manageable' state. Group can support filters as a option wherein the said operation is executed only on the nodes that match filtering criteria. Ex. Operator may want to power-on the nodes within a group which are in power-off state. The ironic group operations may cause the conductor to lock the Nodes belonging to other conductors as nodes get alloted to a conductor based on hash-ring algorithm. Group operations are more of management transactions and do not load the conductor as much as if it was performed individually on each nodes (because group operations are performed by some other entity). Hence we could allow these operations across conductors and do not make hash-ring sensitive to groups. Also, number of nodes in a group can vary vastly making hash-ring balancing a tougher thing to do where all nodes in a group being managed by same conductor. Alternatives ------------ Users need to create and maintain groups of nodes using offline tools(scripts) by querying ironic nodes. User can perform group operations on nodes in a group by using ironic CLI/API through the scripts. During Liberty release, feature to enable ``tagging`` of the node was enabled, which is similar to grouping, but one cannot perform any operations based on ``tag``. Enhancing ``tagging`` could be one way to implement group management feature. The hardware with group management capability can use its native feature to implement group management. While hardware that does not have native group management capability can enhance tagging to implement group management. Data model impact ----------------- Need to fill more details. The group management feature has impact on database. New table needs to be created to store group related information. Corresponding data migration changes needs to be done. It is not required that all nodes should be part of any group. No impact on the existing instances. State Machine Impact -------------------- None REST API impact --------------- * Create a group:: POST /v1/groups { 'group': { 'name': 'testgroup', 'target_power_state': 'none', 'target_firmware_settings': 'none', 'target_cleaning': 'none', 'target_zapping': 'none', 'target_provision_state': 'none', 'node_members': [] } } where: * 'target_power_state': To request specified power state for all the member nodes. * 'target_firmware_settings': To request specified firmware settings for all the member nodes. * 'target_cleaning': To request cleaning operation for all the member nodes. * 'target_zapping': To request zapping operation for all the member nodes. * 'target_provision_state': To request specified provision sate for all the member nodes. * 'node_members': List of members of group. * It will return http code 201 upon successful completion of the request. Appropriate 4XX code would be returned upon failure. **Note:** Group operations can be user-defined as done in the case of 'cleaning' feature where in 'clean-step' can be defined with appopriate priorities. Groups can have 'group_step' on similar lines. * Viewing of groups:: GET /v1/groups/detail { 'group': [ { 'name': 'testgroup', 'uuid': <group_uuid>, 'node_members': [ <node_uuid>, <node_uuid> ], 'target_power_state': 'none', 'target_firmware_settings': 'none', 'target_cleaning': 'none' 'target_zapping': 'none' 'target_provision_state': 'none' } ] } * It will return http code 200 upon successful completion of the request. Appropriate 4XX code would be returned upon failure. * Viewing details of a given group:: Get /v1/groups/<group_uuid> { 'name': 'testgroup' 'uuid': <group_uuid> 'node_members': [ { 'uuid': '<node_uuid>', 'power_state': 'power on' 'provision_state': 'active' 'last_error': 'none' }, { 'uuid': '<node_uuid>', 'power_state': 'power on' 'provision_state': 'active' 'last_error': 'none' } ], 'target_power_state': 'none', 'target_firmware_settings': 'none', 'target_cleaning': 'none' 'target_zapping': 'none' 'target_provision_state': 'none' } * It will return http code 200 upon successful completion of the request. Appropriate 4XX code would be returned upon failure. * This operation can also be performed by passing group ``name`` instead of its ``uuid`` * Adding Node(s) to a group:: PATCH /v1/groups { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'node_members': [ <uuid>, <uuid> ] } } * It will return http code 200 upon successful completion of the request. Appropriate 4XX code would be returned upon failure. * Removing member nodes from a group:: PATCH /v1/groups { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'node_members': [] } } * It will return http code 200 upon successful completion of the request. Appropriate 4XX code would be returned upon failure. * Removing member nodes from a group and dis-enrolled them from Ironic:: PATCH /v1/groups { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'node_members': [], 'delete_all_members': True } } * When ``delete_all_members`` is set to ``True`` all member nodes in the group would be dis-enrolled from the Ironic using ``ironic node-delete`` operation. * It will return http code 200 upon successful completion of the request. Appropriate 4XX code would be returned upon failure. * Performing power operation on a group:: PATCH /v1/groups { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'target_power_state': 'power on' } } * It will return http code 202 upon successfully accepting the request. Appropriate 4XX code would be returned upon failure. * Perform cleaning operation on a group:: PATCH /v1/groups { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'target_cleaning': True } } * It will return http code 202 upon successfully accepting the request. Appropriate 4XX code would be returned upon failure. * Perform any operation on filtered nodes in a group:: PATCH /v1/group { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'node_filter': {}, 'target_power_state': 'power on' } } * Where 'node_filter' is the dictionary containing key/values of node properties to filter the nodes within the group. * It will return http code 202 upon successfully accepting the request. Appropriate 4XX code would be returned upon failure. **Note:** Nodes with matching filter ``node_filter`` criteria will be powered-on. * Delete a group with/without dis-enrolling member nodes:: DELETE /v1/groups { 'group': { 'uuid': 'group_uuid', 'name': 'testgroup' 'delete_all_members': False } } * When ``delete_all_members`` is set to ``True`` group will be deleted and all node members in the group would be dis-enrolled from the Ironic (Equivalent to Ironic node-delete). * Default value for attribute ``delete_all_members`` will be ``False``. In this case, group will be deleted but all its member nodes will remain enrolled into Ironic. * It will return http code 200 upon successfully completing the request. Appropriate 4XX code would be returned upon failure. Client (CLI) impact ------------------- Ironic should support following new CLI commands: **Note:** Need to fill details on expected o/p for all commands. * ironic node-group-create <group_name> [-n <node_uuid> -n <node_uuid> ...] * ironic node-group-list * ironic node-group-show [--fields <field=val> [<field=val> ...]] <group_uuid> One or more node fields. Only nodes matching with given field values will be fetched from the server. Ex: To fetch nodes with power state 'on' ironic node-group-show --fields power_state=""power on"" \ 0d5da45b-63a1-49dc-bfc4-63dabcc6ba74 * ironic node-group-update <group-uuid> add \ node_members=[<n_uuid>, <n_uuid> ...] * ironic node-group-update <group-uuid> remove node_members=[] \ [delete_all_members] If ``delete_all_members`` is specified, it will perform ``ironic node-delete`` operation on all nodes in the group. * ironic node-group-set-power-state <group_uuid> 'on' * ironic node-group-set-power-state <group_uuid> \ --filter={'node_power_state'='off'} 'on' * ironic node-group-delete <group_name> [-e delete_all_members=True/False] If ``delete_all_members`` is specified, it will perform ``ironic node-delete`` operation on all nodes in the group. * Enhance ironic node-create to accept group name as an optional argument. ironic node-create [...] [-g group_uuid] **Note:** All group operations can be performed by specifying group uuid or group name, wherever applicable. RPC API impact -------------- Need to fill. Driver API impact ----------------- Drivers need to support group level power and management interfaces. These APIs would be optional. Nova driver impact ------------------ None Security impact --------------- Need to fill. Other end user impact --------------------- Need to fill. Scalability impact ------------------ Need to fill. Performance Impact ------------------ Need to fill. Other deployer impact --------------------- None Developer impact ---------------- Need to fill. Implementation ============== Assignee(s) ----------- Primary assignee: stendulker@gmai.com Work Items ---------- * New group relates APIs/RPC calls. * Making hash-ring group sensitive. * Ironic CLI changes to add new group related options. * Driver changes to support group management feature. Dependencies ============ None Testing ======= Need to fill. Upgrades and Backwards Compatibility ==================================== Need to fill. Documentation Impact ==================== Need to fill. References ========== * New driver interface for BIOS configuration https://review.openstack.org/#/c/209612/ ",,467,0
openstack%2Fcookbook-openstack-block-storage~stable%2Fqueens~I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27,openstack/cookbook-openstack-block-storage,stable/queens,I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27,Fixes wrong service type reference for wsgi banner,MERGED,2019-06-05 11:11:33.000000000,2019-08-03 15:18:39.000000000,2019-08-03 15:18:39.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}, {'_account_id': 30309}]","[{'number': 1, 'created': '2019-06-05 11:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/10ab1ec91131ac08e5dc7572c89711dd027b94b2', 'message': 'Fixes wrong service type reference for wsgi banner\n\nChange-Id: I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27\nSigned-off-by: Manuel Torrinha <manuel.torrinha@tecnico.ulisboa.pt>\n'}, {'number': 2, 'created': '2019-08-02 21:42:23.000000000', 'files': ['templates/default/wsgi-template.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/9188783b2525a9c7ed618df6dc20a62f2b9aaa80', 'message': 'Fixes wrong service type reference for wsgi banner\n\nChange-Id: I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27\nSigned-off-by: Manuel Torrinha <manuel.torrinha@tecnico.ulisboa.pt>\n'}]",0,663301,9188783b2525a9c7ed618df6dc20a62f2b9aaa80,13,4,2,30309,,,0,"Fixes wrong service type reference for wsgi banner

Change-Id: I0b3f40c3e87f4b79edf907216d5d81bb43f5fb27
Signed-off-by: Manuel Torrinha <manuel.torrinha@tecnico.ulisboa.pt>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/01/663301/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/default/wsgi-template.conf.erb'],1,10ab1ec91131ac08e5dc7572c89711dd027b94b2,attribute_fix,"<%= node[""openstack""][""block-storage""][""custom_template_banner""] %>","<%= node[""openstack""][""compute""][""custom_template_banner""] %>",1,1
openstack%2Fironic~stable%2Frocky~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,stable/rocky,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:30:30.000000000,2019-08-03 12:11:02.000000000,2019-08-03 12:11:02.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 08:30:30.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ironic-functional-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-functional-python2/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/60d24ec9429f222bdae831b98bd0d3e6eb36d853', 'message': ""CI: stop using pyghmi from git master\n\nIt's just a library we consume, there is no reason to use its\ngit head. Currently 1.4.0 is breaking us.\n\nThe stable version of this patch was reworked to cover legacy jobs.\n\nStory: #2006301\nTask: #36014\nChange-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df\n(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)\n""}]",0,673447,60d24ec9429f222bdae831b98bd0d3e6eb36d853,20,8,1,10239,,,0,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

The stable version of this patch was reworked to cover legacy jobs.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/673447/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-ironic-functional-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-functional-python2/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml']",10,60d24ec9429f222bdae831b98bd0d3e6eb36d853,,," export PROJECTS=""x/pyghmi $PROJECTS""",0,14
openstack%2Fcharm-octavia-diskimage-retrofit~master~I9c1b41599d347bc6d3883be944d21348c4993cd0,openstack/charm-octavia-diskimage-retrofit,master,I9c1b41599d347bc6d3883be944d21348c4993cd0,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:14.000000000,2019-08-03 10:40:57.000000000,2019-08-03 10:40:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:57:14.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/25632d43d31f73673633b0313eb3339aa626c839', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I9c1b41599d347bc6d3883be944d21348c4993cd0\nPartial-Bug: #1838783\n'}]",0,674391,25632d43d31f73673633b0313eb3339aa626c839,7,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I9c1b41599d347bc6d3883be944d21348c4993cd0
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/91/674391/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,25632d43d31f73673633b0313eb3339aa626c839,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,7e2a8bb7-114c-4ec0-82c5-1fec4e6bd93c,1,1
openstack%2Fcharm-tempest~master~I84cb2fcc194b123c643cb648e8014e77d428a706,openstack/charm-tempest,master,I84cb2fcc194b123c643cb648e8014e77d428a706,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:34.000000000,2019-08-03 10:30:01.000000000,2019-08-03 10:30:01.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:57:34.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/728ab29a5d70d8d6d5a0758d5dabb91251cb6a29', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I84cb2fcc194b123c643cb648e8014e77d428a706\nPartial-Bug: #1838783\n'}]",0,674393,728ab29a5d70d8d6d5a0758d5dabb91251cb6a29,7,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I84cb2fcc194b123c643cb648e8014e77d428a706
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/93/674393/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,728ab29a5d70d8d6d5a0758d5dabb91251cb6a29,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-gnocchi~master~I6834d6b5a838108670a1e542bd0d0002af9b8ee8,openstack/charm-gnocchi,master,I6834d6b5a838108670a1e542bd0d0002af9b8ee8,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:36.000000000,2019-08-03 10:29:26.000000000,2019-08-03 10:29:26.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:55:36.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/d6d8f89391c505094e01fa61af2178a641bc2eed', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I6834d6b5a838108670a1e542bd0d0002af9b8ee8\nPartial-Bug: #1838783\n'}]",0,674381,d6d8f89391c505094e01fa61af2178a641bc2eed,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I6834d6b5a838108670a1e542bd0d0002af9b8ee8
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/81/674381/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d6d8f89391c505094e01fa61af2178a641bc2eed,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-barbican-vault~master~Id6294fc82d0db0c7b3b12c30c94298b9458be77d,openstack/charm-barbican-vault,master,Id6294fc82d0db0c7b3b12c30c94298b9458be77d,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:27.000000000,2019-08-03 10:29:21.000000000,2019-08-03 10:29:21.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:54:27.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/bb7b7fbdacc7437538329f961235a1f10d531ba4', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Id6294fc82d0db0c7b3b12c30c94298b9458be77d\nPartial-Bug: #1838783\n'}]",0,674376,bb7b7fbdacc7437538329f961235a1f10d531ba4,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Id6294fc82d0db0c7b3b12c30c94298b9458be77d
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/76/674376/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,bb7b7fbdacc7437538329f961235a1f10d531ba4,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-barbican~master~I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab,openstack/charm-barbican,master,I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:04.000000000,2019-08-03 10:25:42.000000000,2019-08-03 10:25:42.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:54:04.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/c0b11b86715e16e9c2a16fc7cc799432275987a5', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab\nPartial-Bug: #1838783\n'}]",0,674374,c0b11b86715e16e9c2a16fc7cc799432275987a5,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I5f0b7508c54eb16d7a6ed4a10104ca78478f70ab
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/74/674374/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,c0b11b86715e16e9c2a16fc7cc799432275987a5,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-barbican-softhsm~master~Icd946cb40e7d07644eb2f68d8fed52881afaa93c,openstack/charm-barbican-softhsm,master,Icd946cb40e7d07644eb2f68d8fed52881afaa93c,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:16.000000000,2019-08-03 10:23:35.000000000,2019-08-03 10:23:35.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:54:16.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/af98eb37b57c1a49242ead32f8de84415bb1cb2b', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Icd946cb40e7d07644eb2f68d8fed52881afaa93c\nPartial-Bug: #1838783\n'}]",0,674375,af98eb37b57c1a49242ead32f8de84415bb1cb2b,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Icd946cb40e7d07644eb2f68d8fed52881afaa93c
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/75/674375/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,af98eb37b57c1a49242ead32f8de84415bb1cb2b,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-ceph-fs~master~Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc,openstack/charm-ceph-fs,master,Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:54:39.000000000,2019-08-03 10:22:19.000000000,2019-08-03 10:22:19.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:54:39.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/63540434ac601a01623ad985291cbd8873b8afc7', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc\nPartial-Bug: #1838783\n'}]",0,674377,63540434ac601a01623ad985291cbd8873b8afc7,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Iac4d36d9a98dc4c0d09c21ce851e497de27cd1fc
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/77/674377/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,63540434ac601a01623ad985291cbd8873b8afc7,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-manila~master~I765d4cd3942d4fa0a8efb904db867bf5ba0eb387,openstack/charm-manila,master,I765d4cd3942d4fa0a8efb904db867bf5ba0eb387,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:54.000000000,2019-08-03 10:22:09.000000000,2019-08-03 10:22:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:55:54.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/be0313dc17479827b5a1f5e99f9a01850a3431b1', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I765d4cd3942d4fa0a8efb904db867bf5ba0eb387\nPartial-Bug: #1838783\n'}]",0,674383,be0313dc17479827b5a1f5e99f9a01850a3431b1,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I765d4cd3942d4fa0a8efb904db867bf5ba0eb387
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/83/674383/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,be0313dc17479827b5a1f5e99f9a01850a3431b1,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-manila-generic~master~I15d87f1cb1e372ef324f4f9177f4385874c7cdda,openstack/charm-manila-generic,master,I15d87f1cb1e372ef324f4f9177f4385874c7cdda,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:56:07.000000000,2019-08-03 10:22:06.000000000,2019-08-03 10:22:06.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:56:07.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/5fd4fb9b4a520af670474d6d87854e7694e10519', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I15d87f1cb1e372ef324f4f9177f4385874c7cdda\nPartial-Bug: #1838783\n'}]",0,674384,5fd4fb9b4a520af670474d6d87854e7694e10519,8,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I15d87f1cb1e372ef324f4f9177f4385874c7cdda
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/84/674384/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,5fd4fb9b4a520af670474d6d87854e7694e10519,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Ftripleo-common~master~I984a35f9e007e7124be690418ce48bd9fe1d364d,openstack/tripleo-common,master,I984a35f9e007e7124be690418ce48bd9fe1d364d,support conductor group feature in ironic conductor,MERGED,2019-08-01 08:48:18.000000000,2019-08-03 10:14:25.000000000,2019-08-03 10:14:25.000000000,"[{'_account_id': 1926}, {'_account_id': 2874}, {'_account_id': 6926}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 08:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f49d485704c64646f9bf0a9c8f491af16d7ee5c8', 'message': 'support conductor group feature in ironic conductor\n\nChange-Id: I984a35f9e007e7124be690418ce48bd9fe1d364d\nCloses-bug: #1838612\n'}, {'number': 2, 'created': '2019-08-02 04:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/267a9e5c21fdf1127ea8d57c729e9e6c583ec949', 'message': 'support conductor group feature in ironic conductor\n\nChange-Id: I984a35f9e007e7124be690418ce48bd9fe1d364d\nCloses-bug: #1838612\n'}, {'number': 3, 'created': '2019-08-02 05:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/facdff0b88dbf9c3ac03cea34e62887233b27c5d', 'message': 'support conductor group feature in ironic conductor\n\nChange-Id: I984a35f9e007e7124be690418ce48bd9fe1d364d\nCloses-bug: #1838612\n'}, {'number': 4, 'created': '2019-08-02 06:06:42.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/tests/actions/test_base.py', 'tripleo_common/actions/base.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/051733b13e47e9dd9132e8dfbb37150fe06b940d', 'message': 'support conductor group feature in ironic conductor\n\nChange-Id: I984a35f9e007e7124be690418ce48bd9fe1d364d\nCloses-bug: #1838612\n'}]",3,673956,051733b13e47e9dd9132e8dfbb37150fe06b940d,21,7,4,2874,,,0,"support conductor group feature in ironic conductor

Change-Id: I984a35f9e007e7124be690418ce48bd9fe1d364d
Closes-bug: #1838612
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/673956/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/nodes.py'],1,f49d485704c64646f9bf0a9c8f491af16d7ee5c8,bug/1838612," conductor_group = node.get(""conductor_group"") if conductor_group: create_map[""conductor_group""] = conductor_group",,3,0
openstack%2Fsahara-plugin-vanilla~master~I22afd66ee1df11b87a4d09c27f0c997708eb1a63,openstack/sahara-plugin-vanilla,master,I22afd66ee1df11b87a4d09c27f0c997708eb1a63,Imported Translations from Zanata,MERGED,2019-08-03 07:32:41.000000000,2019-08-03 09:53:44.000000000,2019-08-03 09:53:43.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 07:32:41.000000000', 'files': ['sahara_plugin_vanilla/locale/ne/LC_MESSAGES/sahara_plugin_vanilla.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/7d9be6f485305d417c022e9b1430452570ce3dbd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I22afd66ee1df11b87a4d09c27f0c997708eb1a63\n'}]",0,674440,7d9be6f485305d417c022e9b1430452570ce3dbd,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I22afd66ee1df11b87a4d09c27f0c997708eb1a63
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/40/674440/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_vanilla/locale/ne/LC_MESSAGES/sahara_plugin_vanilla.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",2,7d9be6f485305d417c022e9b1430452570ce3dbd,zanata/translations,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-vanilla\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:28+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 08:43+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Current Series Release Notes"" msgstr ""Current Series रिलीज नोट्स"" msgid ""Sahara Vanilla Plugin Release Notes"" msgstr ""Sahara Vanilla प्लगइन रिलीज नोट्स"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series रिलीज नोट्स"" ",,122,0
openstack%2Fsahara-plugin-ambari~master~If3572695addf2fc88d63bd91215693cafb8c133b,openstack/sahara-plugin-ambari,master,If3572695addf2fc88d63bd91215693cafb8c133b,Imported Translations from Zanata,MERGED,2019-08-03 06:55:06.000000000,2019-08-03 09:42:39.000000000,2019-08-03 09:42:39.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 06:55:06.000000000', 'files': ['releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/0641cb160b4d28fad90bbb5b3ab4d02aad5a1e44', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If3572695addf2fc88d63bd91215693cafb8c133b\n'}]",0,674438,0641cb160b4d28fad90bbb5b3ab4d02aad5a1e44,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If3572695addf2fc88d63bd91215693cafb8c133b
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/38/674438/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'],1,0641cb160b4d28fad90bbb5b3ab4d02aad5a1e44,zanata/translations,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-ambari\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:26+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 09:12+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""1.0.0"" msgstr ""१.०.०"" msgid ""Bug Fixes"" msgstr ""बग फिक्स"" msgid ""Current Series Release Notes"" msgstr ""Current Series रिलीज नोट्स"" msgid """" ""Fixed several bugs which prevented sahara-image-pack from generating Ambari-"" ""based Ubuntu images."" msgstr """" ""धेरै बगहरू स्थिर गरियो जसले sahara-image-packलाई Ambari-based Ubuntu छविहरू "" ""उत्पादन गर्नबाट रोक्छ।"" msgid ""Sahara Ambari Plugin Release Notes"" msgstr ""Sahara Ambari प्लगइन रिलीज नोट्स"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series रिलीज नोट्स"" ",,37,0
openstack%2Fsahara-plugin-spark~master~Id97a81c122483f1dc434dfaefce58d2e52ea159b,openstack/sahara-plugin-spark,master,Id97a81c122483f1dc434dfaefce58d2e52ea159b,see if sahara-buildimages-spark works,NEW,2019-07-25 14:28:00.000000000,2019-08-03 09:37:32.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-25 14:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/62bf30bd2e680d98a31bdbd3a762e76fc31df4ec', 'message': 'see if sahara-buildimages-spark works\n\nChange-Id: Id97a81c122483f1dc434dfaefce58d2e52ea159b\n'}, {'number': 2, 'created': '2019-08-01 13:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/1eb7bea6b4e88e27d5f636cb2b49f5f849f670d8', 'message': 'see if sahara-buildimages-spark works\n\nDepends-On: Id846249cecabd729b1dcdbb35756070ed6072fef\n\nChange-Id: Id97a81c122483f1dc434dfaefce58d2e52ea159b\n'}]",0,672739,1eb7bea6b4e88e27d5f636cb2b49f5f849f670d8,7,3,2,23078,,,0,"see if sahara-buildimages-spark works

Depends-On: Id846249cecabd729b1dcdbb35756070ed6072fef

Change-Id: Id97a81c122483f1dc434dfaefce58d2e52ea159b
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/39/672739/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,62bf30bd2e680d98a31bdbd3a762e76fc31df4ec,,,,0,0
openstack%2Fkolla-cli~master~I0266763f08ffa1445cf985ed0abff0c693e17ef5,openstack/kolla-cli,master,I0266763f08ffa1445cf985ed0abff0c693e17ef5,Use openstackdocstheme and add docs check into zuul,MERGED,2019-08-02 15:56:05.000000000,2019-08-03 05:41:52.000000000,2019-08-03 05:41:52.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-02 15:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/0884e678437c4857766246993549eeaf9927b482', 'message': 'Add tox docs check into zuul\n\nChange-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5\n'}, {'number': 2, 'created': '2019-08-03 03:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/6a340f711b46c33e6ff1ae90252fd7b1cd63f0f8', 'message': 'Add tox docs check into zuul\n\nChange-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5\n'}, {'number': 3, 'created': '2019-08-03 04:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/cb0be19a82a458ee32efc83b460ed877afdda387', 'message': ""Add tox docs check into zuul\n\n1. Add tox docs check into zuul\n2. Update doc's theme to openstack\n\nChange-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5\n""}, {'number': 4, 'created': '2019-08-03 04:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a6a0ef573af82c8725208837d929cf4eed54f445', 'message': ""Use openstackdocstheme and add docs check into zuul\n\n1. Update doc's theme to openstack\n2. Add tox docs check into zuul\n\nChange-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5\n""}, {'number': 5, 'created': '2019-08-03 04:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/96c9829534c012ad75f07ae5d08e3595cc4cd185', 'message': ""Use openstackdocstheme and add docs check into zuul\n\n1. Update doc's theme to openstack\n2. Add tox docs check into zuul\n3. tiny changes, adjust the import order\n\nChange-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5\n""}, {'number': 6, 'created': '2019-08-03 04:46:06.000000000', 'files': ['.zuul.yaml', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/4a0d70ead93b5d2ebca08324496205a7c1f0bfb1', 'message': ""Use openstackdocstheme and add docs check into zuul\n\n1. Update doc's theme to openstack\n2. Add tox docs check into zuul\n3. tiny changes, adjust the import order\n\nChange-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5\n""}]",1,674335,4a0d70ead93b5d2ebca08324496205a7c1f0bfb1,19,3,6,28614,,,0,"Use openstackdocstheme and add docs check into zuul

1. Update doc's theme to openstack
2. Add tox docs check into zuul
3. tiny changes, adjust the import order

Change-Id: I0266763f08ffa1445cf985ed0abff0c693e17ef5
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/35/674335/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0884e678437c4857766246993549eeaf9927b482,, - publish-openstack-docs-pti,,1,0
openstack%2Frequirements~master~Ia13e555b07bf9cf677db5a6f5ae105fdec15b506,openstack/requirements,master,Ia13e555b07bf9cf677db5a6f5ae105fdec15b506,update constraint for octavia-lib to new release 1.3.0,MERGED,2019-08-02 16:44:35.000000000,2019-08-03 05:33:23.000000000,2019-08-03 05:33:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 16:44:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1de770f40830febe5b8ead9d0958a222f2348c28', 'message': 'update constraint for octavia-lib to new release 1.3.0\n\nChange-Id: Ia13e555b07bf9cf677db5a6f5ae105fdec15b506\nmeta:version: 1.3.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Change-Id: I8310a6379a2caa156ed225d1e07be68536c56863\nmeta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>\nmeta:release:Code-Review+1: Maciej Józefczyk <mjozefcz@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,674350,1de770f40830febe5b8ead9d0958a222f2348c28,14,2,1,11131,,,0,"update constraint for octavia-lib to new release 1.3.0

Change-Id: Ia13e555b07bf9cf677db5a6f5ae105fdec15b506
meta:version: 1.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Michael Johnson <johnsomor@gmail.com>
meta:release:Commit: Michael Johnson <johnsomor@gmail.com>
meta:release:Change-Id: I8310a6379a2caa156ed225d1e07be68536c56863
meta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+1: Maciej Józefczyk <mjozefcz@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/674350/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1de770f40830febe5b8ead9d0958a222f2348c28,new-release,octavia-lib===1.3.0,octavia-lib===1.2.0,1,1
openstack%2Foctavia-tempest-plugin~master~I75c648026d43d533b21367f3adf77014b07e89a3,openstack/octavia-tempest-plugin,master,I75c648026d43d533b21367f3adf77014b07e89a3,Add missing keystoneauth1 to requirements.txt,MERGED,2019-08-01 11:31:53.000000000,2019-08-03 04:46:23.000000000,2019-08-03 04:46:23.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 11:31:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/42e54aadd9cd2f83ac278741002ec6fe736087cd', 'message': 'Add missing keystoneauth1 to requirements.txt\n\nThe keystoneauth1 library is imported by the Barbican client manager but\nwas missing in the requirements.txt file.\n\nChange-Id: I75c648026d43d533b21367f3adf77014b07e89a3\n'}]",0,674009,42e54aadd9cd2f83ac278741002ec6fe736087cd,10,4,1,6469,,,0,"Add missing keystoneauth1 to requirements.txt

The keystoneauth1 library is imported by the Barbican client manager but
was missing in the requirements.txt file.

Change-Id: I75c648026d43d533b21367f3adf77014b07e89a3
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/09/674009/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,42e54aadd9cd2f83ac278741002ec6fe736087cd,,keystoneauth1>=3.3.0 # Apache-2.0,,1,0
openstack%2Fsenlin~master~I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700,openstack/senlin,master,I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700,Update Cirros Example file,MERGED,2019-08-02 18:32:59.000000000,2019-08-03 02:47:52.000000000,2019-08-03 02:47:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2019-08-02 18:32:59.000000000', 'files': ['examples/profiles/nova_server/cirros_basic.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/01ec49946e1128b4c00027c7eb33c3e4e4c8dcbf', 'message': 'Update Cirros Example file\n\nChange image name in cirros example profile to match latest cirros\nversion shipped with devstack.\n\nChange-Id: I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700\n'}]",0,674403,01ec49946e1128b4c00027c7eb33c3e4e4c8dcbf,6,2,1,27224,,,0,"Update Cirros Example file

Change image name in cirros example profile to match latest cirros
version shipped with devstack.

Change-Id: I5dfd89c3eda0a2a0bf3b25473bd13c91054fb700
",git fetch https://review.opendev.org/openstack/senlin refs/changes/03/674403/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/profiles/nova_server/cirros_basic.yaml'],1,01ec49946e1128b4c00027c7eb33c3e4e4c8dcbf,updateCirrosExample," image: ""cirros-0.4.0-x86_64-disk"""," image: ""cirros-0.3.5-x86_64-disk""",1,1
openstack%2Fcyborg~master~Icb8c6dc89c381cdcf73e279248b723bd416acccb,openstack/cyborg,master,Icb8c6dc89c381cdcf73e279248b723bd416acccb,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:15:26.000000000,2019-08-03 02:20:17.000000000,2019-08-03 02:20:17.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 11:15:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/15001360251815f5db3a2fad31fdc107668889b8', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: Icb8c6dc89c381cdcf73e279248b723bd416acccb\n'}]",0,668433,15001360251815f5db3a2fad31fdc107668889b8,7,2,1,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Icb8c6dc89c381cdcf73e279248b723bd416acccb
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/33/668433/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,15001360251815f5db3a2fad31fdc107668889b8,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fneutron-lbaas~stable%2Frocky~I93fcddf2d32b93cc108f273b4519a9b859d14523,openstack/neutron-lbaas,stable/rocky,I93fcddf2d32b93cc108f273b4519a9b859d14523,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:25:05.000000000,2019-08-03 02:00:14.000000000,2019-08-03 02:00:13.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 23:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/6f2077d86e08cbe4aa4a185efa71614446fcfdfa', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I93fcddf2d32b93cc108f273b4519a9b859d14523\n'}, {'number': 2, 'created': '2019-07-02 15:29:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/ed182665100cdabd2de5b829da26e9e7e9916441', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I93fcddf2d32b93cc108f273b4519a9b859d14523\n'}]",0,668268,ed182665100cdabd2de5b829da26e9e7e9916441,9,3,2,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
neutron-lbaas.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I93fcddf2d32b93cc108f273b4519a9b859d14523
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/68/668268/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6f2077d86e08cbe4aa4a185efa71614446fcfdfa,constraints-updates,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky},3,3
openstack%2Foctavia-tempest-plugin~master~I9eba013fb0b87afc44187e259b594f9b93bcc5d9,openstack/octavia-tempest-plugin,master,I9eba013fb0b87afc44187e259b594f9b93bcc5d9,Set irrelevant files on CI jobs,MERGED,2019-06-23 13:27:10.000000000,2019-08-03 01:59:04.000000000,2019-08-03 01:59:04.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-23 13:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/879971c8f10bcdb1a04c2aac933e2832cc31057f', 'message': 'Set irrelevant files on CI jobs\n\nAll jobs are triggered regardless of files changed, except for files\nalready defined in octavia-dsvm-base. This means many jobs that not\nimpacted by a given change will be run in CI. Not only this is a waste\nof resources but the job may also fail (e.g. timeouts) and block changes\nfrom merging.\n\nThis patch defines a more granular set of irrelevant files per job. For\nexample, it prevents active-standby jobs from running when a change is\nlimited to normal scenario files.\n\nChange-Id: I9eba013fb0b87afc44187e259b594f9b93bcc5d9\n'}, {'number': 2, 'created': '2019-06-23 14:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/770e933577c005a1bfcb1342ce97522be5129a6a', 'message': 'Set irrelevant files on CI jobs\n\nAll jobs are triggered regardless of files changed, except for files\nalready defined in octavia-dsvm-base. This means many jobs that are not\nimpacted by a given change will be run in CI. Not only this is a waste\nof CI resources but undeeded jobs may also fail (e.g. timeouts), thus\nblocking changes from merging.\n\nThis patch defines a more granular set of irrelevant files per job. For\nexample, it prevents active-standby jobs from running when a change is\nlimited to normal scenario files.\n\nChange-Id: I9eba013fb0b87afc44187e259b594f9b93bcc5d9\n'}, {'number': 3, 'created': '2019-07-01 18:24:55.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/531c5062c4cff602e455522c90fd9ce546f5ade1', 'message': 'Set irrelevant files on CI jobs\n\nAll jobs are triggered regardless of files changed, except for files\nalready defined in octavia-dsvm-base. This means many jobs that are not\nimpacted by a given change will be run in CI. Not only this is a waste\nof CI resources but undeeded jobs may also fail (e.g. timeouts), thus\nblocking changes from merging.\n\nThis patch defines a more granular set of irrelevant files per job. For\nexample, it prevents active-standby jobs from running when a change is\nlimited to normal scenario files.\n\nChange-Id: I9eba013fb0b87afc44187e259b594f9b93bcc5d9\n'}]",24,666988,531c5062c4cff602e455522c90fd9ce546f5ade1,19,4,3,6469,,,0,"Set irrelevant files on CI jobs

All jobs are triggered regardless of files changed, except for files
already defined in octavia-dsvm-base. This means many jobs that are not
impacted by a given change will be run in CI. Not only this is a waste
of CI resources but undeeded jobs may also fail (e.g. timeouts), thus
blocking changes from merging.

This patch defines a more granular set of irrelevant files per job. For
example, it prevents active-standby jobs from running when a change is
limited to normal scenario files.

Change-Id: I9eba013fb0b87afc44187e259b594f9b93bcc5d9
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/88/666988/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,879971c8f10bcdb1a04c2aac933e2832cc31057f,, irrelevant-files: &common-irrelevant-files irrelevant-files: - *common-irrelevant-files - ^octavia_tempest_plugin/tests/(?!scenario|.*\.py) irrelevant-files: - *common-irrelevant-files - ^octavia_tempest_plugin/tests/(?!scenario|.*\.py) irrelevant-files: - *common-irrelevant-files - ^octavia_tempest_plugin/tests/(?!barbican_scenario|.*\.py) irrelevant-files: - *common-irrelevant-files - ^octavia_tempest_plugin/tests/(?!act_stdby_scenario|.*\.py), irrelevant-files:,13,1
openstack%2Fneutron-lbaas~stable%2Frocky~I813574625f6e3cf89e193ce850dec319a5b605ff,openstack/neutron-lbaas,stable/rocky,I813574625f6e3cf89e193ce850dec319a5b605ff,Remove the release notes job from stable/rocky,MERGED,2019-07-02 15:29:21.000000000,2019-08-03 01:50:47.000000000,2019-08-03 01:50:47.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 15:29:21.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7a23682bf1021a1028046745793684d2a11fa5aa', 'message': 'Remove the release notes job from stable/rocky\n\nThe release notes tools require the master branch to have the\nfull release notes configuration. Since neutron-lbaas has been retired\nthese no longer exist.\nBecause of this, the docs team recommends removing the release notes\njobs from the stable branches[1].\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \\\n    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56\n\nChange-Id: I813574625f6e3cf89e193ce850dec319a5b605ff\n'}]",0,668697,7a23682bf1021a1028046745793684d2a11fa5aa,7,3,1,11628,,,0,"Remove the release notes job from stable/rocky

The release notes tools require the master branch to have the
full release notes configuration. Since neutron-lbaas has been retired
these no longer exist.
Because of this, the docs team recommends removing the release notes
jobs from the stable branches[1].

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \
    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56

Change-Id: I813574625f6e3cf89e193ce850dec319a5b605ff
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/97/668697/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,7a23682bf1021a1028046745793684d2a11fa5aa,,, - release-notes-jobs,0,1
openstack%2Fneutron-lbaas~stable%2Fqueens~I7731864366b8271cb698f8f68fdd650b074a28ff,openstack/neutron-lbaas,stable/queens,I7731864366b8271cb698f8f68fdd650b074a28ff,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:27:38.000000000,2019-08-03 01:45:03.000000000,2019-08-03 01:45:03.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 23:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5b71d3641fb2c6e533857ed0afeab372107acfa0', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I7731864366b8271cb698f8f68fdd650b074a28ff\n'}, {'number': 2, 'created': '2019-07-02 15:36:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c771aa7902b3c190d23a2cd664fa15441af7422b', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I7731864366b8271cb698f8f68fdd650b074a28ff\n'}]",0,668269,c771aa7902b3c190d23a2cd664fa15441af7422b,9,3,2,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
neutron-lbaas.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I7731864366b8271cb698f8f68fdd650b074a28ff
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/69/668269/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5b71d3641fb2c6e533857ed0afeab372107acfa0,constraints-updates, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages},1,1
openstack%2Fneutron-lbaas~stable%2Fqueens~I655a9bb5797bea103d36f104042d3e1c70b4a706,openstack/neutron-lbaas,stable/queens,I655a9bb5797bea103d36f104042d3e1c70b4a706,Remove the release notes job from stable/queens,MERGED,2019-07-02 15:35:17.000000000,2019-08-03 01:43:22.000000000,2019-08-03 01:43:22.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 15:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/25b8a94e80d7735018457b58e1c42932ea0c5d45', 'message': 'Remove the release notes job from stable/rocky\n\nThe release notes tools require the master branch to have the\nfull release notes configuration. Since neutron-lbaas has been retired\nthese no longer exist.\nBecause of this, the docs team recommends removing the release notes\njobs from the stable branches[1].\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \\\n    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56\n\nChange-Id: I655a9bb5797bea103d36f104042d3e1c70b4a706\n'}, {'number': 2, 'created': '2019-07-02 15:36:36.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/4c2d6876eb590d875b4786240227d967fb01e2f5', 'message': 'Remove the release notes job from stable/queens\n\nThe release notes tools require the master branch to have the\nfull release notes configuration. Since neutron-lbaas has been retired\nthese no longer exist.\nBecause of this, the docs team recommends removing the release notes\njobs from the stable branches[1].\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \\\n    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56\n\nChange-Id: I655a9bb5797bea103d36f104042d3e1c70b4a706\n'}]",0,668700,4c2d6876eb590d875b4786240227d967fb01e2f5,8,3,2,11628,,,0,"Remove the release notes job from stable/queens

The release notes tools require the master branch to have the
full release notes configuration. Since neutron-lbaas has been retired
these no longer exist.
Because of this, the docs team recommends removing the release notes
jobs from the stable branches[1].

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-doc/ \
    %23openstack-doc.2019-07-02.log.html#t2019-07-02T05:58:56

Change-Id: I655a9bb5797bea103d36f104042d3e1c70b4a706
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/00/668700/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,25b8a94e80d7735018457b58e1c42932ea0c5d45,,, - release-notes-jobs,0,1
openstack%2Fcongress-dashboard~master~Icf49a1b46f1c6e57038ca07daeb2214ec0f05446,openstack/congress-dashboard,master,Icf49a1b46f1c6e57038ca07daeb2214ec0f05446,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-12 07:31:20.000000000,2019-08-03 00:40:50.000000000,2019-08-03 00:40:50.000000000,"[{'_account_id': 15197}, {'_account_id': 18591}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-12 07:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/85fb18ccfabf3d4789047228591a05127df2f451', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: Icf49a1b46f1c6e57038ca07daeb2214ec0f05446\n'}, {'number': 2, 'created': '2019-07-30 08:54:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/968699d269b5e6eea4925de58f2dc50d18daaeb8', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Icf49a1b46f1c6e57038ca07daeb2214ec0f05446\n'}]",1,670455,968699d269b5e6eea4925de58f2dc50d18daaeb8,11,5,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Icf49a1b46f1c6e57038ca07daeb2214ec0f05446
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/55/670455/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,85fb18ccfabf3d4789047228591a05127df2f451,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fironic-tempest-plugin~master~I0178c2b906449802ce38059d4191a63b4b317226,openstack/ironic-tempest-plugin,master,I0178c2b906449802ce38059d4191a63b4b317226,Support for testing adoption in the standalone job,MERGED,2019-07-23 13:09:59.000000000,2019-08-03 00:28:29.000000000,2019-08-03 00:28:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-23 13:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3439fc11ba7291bef0e3bbfaf87046062bcc73db', 'message': ""Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\n1. It's destructive\n2. It requires reading ipmi_password from driver_info.\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 2, 'created': '2019-07-23 18:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/dbae4afb9bc6409e2beb394110dcb582bac0b533', 'message': ""Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\n1. It's destructive\n2. It requires reading ipmi_password from driver_info.\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 3, 'created': '2019-07-24 06:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/fb5fc793d276cbffd575d18ef77b6f849a8d10d6', 'message': ""Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\n1. It's destructive\n2. It requires reading ipmi_password from driver_info.\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 4, 'created': '2019-07-24 06:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/2b2a4a4d505bd5044f4833b7bacc60ff5e8c0a52', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 5, 'created': '2019-07-24 09:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/695691d74eab273fdc0e41b385bea1075cdb01d3', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 6, 'created': '2019-07-24 10:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/337d40e52c01878717eeef32830799fffecbdc2b', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 7, 'created': '2019-07-24 10:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/065783c4ebc77163e6b796592938c708d66c6af0', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 8, 'created': '2019-07-24 11:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/65694370f0593021ff57141464182afbfedddb9f', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 9, 'created': '2019-07-24 13:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/1d8508fa528385f17d8adcf09de44b35f02e202a', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 10, 'created': '2019-07-24 14:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9dfe319ad6389d04c425efa19282794927be1631', 'message': ""[WIP] Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node).\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}, {'number': 11, 'created': '2019-07-25 08:08:42.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_adoption.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/52ca009a4cf047c4da97066d435e29061934999a', 'message': ""Support for testing adoption in the standalone job\n\nThis change adds a test for adoption. It's off by default because\nit's destructive (removes and re-adds a node) and requires reading\n(or guessing) the BMC credentials.\n\nChange-Id: I0178c2b906449802ce38059d4191a63b4b317226\n""}]",20,672286,52ca009a4cf047c4da97066d435e29061934999a,50,4,11,10239,,,0,"Support for testing adoption in the standalone job

This change adds a test for adoption. It's off by default because
it's destructive (removes and re-adds a node) and requires reading
(or guessing) the BMC credentials.

Change-Id: I0178c2b906449802ce38059d4191a63b4b317226
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/86/672286/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_adoption.py']",3,3439fc11ba7291bef0e3bbfaf87046062bcc73db,adoption,"# # Copyright 2017 Mirantis Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest.common import utils from tempest import config from tempest.lib import decorators from ironic_tempest_plugin.tests.scenario import \ baremetal_standalone_manager as bsm LOG = logging.getLogger(__name__) CONF = config.CONF class BaremetalAdoptionIpmiWholedisk( bsm.BaremetalStandaloneScenarioTest): driver = 'ipmi' image_ref = CONF.baremetal.whole_disk_image_ref wholedisk_image = True deploy_interface = 'iscsi' # 1.37 is required to be able to copy traits api_microversion = '1.37' @classmethod def skip_checks(cls): super(BaremetalAdoptionIpmiWholedisk, cls).skip_checks() if not CONF.baremetal_feature_enabled.adoption: skip_msg = (""Adoption feature is not enabled"") raise cls.skipException(skip_msg) @decorators.idempotent_id('2f51890e-20d9-43ef-af39-41b335ec066b') @utils.services('image', 'network') def test_adoption(self): # First, prepare a deployed node. self.boot_node() # Now record all up-to-date node information for creation node = self.get_node(self.node['uuid']) body = {'driver_info': node['driver_info'], 'instance_info': node['instance_info'], 'drive': node['driver'], 'properties': node['properties']} for key, value in node.items(): if key.endswith('_interface') and value: body[key] = value traits = node['traits'] _, vifs = self.client.vif_list(node['uuid']) # Delete the active node using maintenance self.update_node(node['uuid'], [{'op': 'replace', 'path': '/maintenance', 'value': True}]) self.client.delete_node(node['uuid']) # Now create an identical node and attach VIFs self.client.create_node_raw(**body) if traits: self.client.set_node_traits(node['uuid'], traits) self.set_node_provision_state(node['uuid'], 'manage') self.wait_provisioning_state(node['uuid'], 'manageable', timeout=300, interval=5) for vif in vifs['vifs']: self.vif_attach(node['uuid'], vif['id']) # Now adoption! self.set_node_provision_state(node['uuid'], 'adopt') self.wait_provisioning_state(node['uuid'], 'active', timeout=300, interval=5) ",,94,0
openstack%2Fironic~stable%2Fstein~I979358ead1e19f9b24f23117d0cba3479e33707b,openstack/ironic,stable/stein,I979358ead1e19f9b24f23117d0cba3479e33707b,IPA does not boot up after cleaning reboot for 'redfish' bios interface,MERGED,2019-07-29 14:01:22.000000000,2019-08-03 00:28:25.000000000,2019-08-03 00:28:25.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-29 14:01:22.000000000', 'files': ['ironic/drivers/modules/redfish/bios.py', 'releasenotes/notes/story-2006217-redfish-bios-cleaning-fails-fee32f04dd97cbd2.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bff4ddfbc65326f965403dd55dad89247f8ae1c', 'message': ""IPA does not boot up after cleaning reboot for 'redfish' bios interface\n\nThe clean steps of 'redfish' bios interface does not set up deploy ramdisk\nbefore initiating the cleaning reboot of bare metal.\n\nChange-Id: I979358ead1e19f9b24f23117d0cba3479e33707b\nStory: 2006217\nTask: 35810\n(cherry picked from commit ddc0fb831b80ac60446cc47c7ec4e1d0848411b5)\n""}]",0,673296,6bff4ddfbc65326f965403dd55dad89247f8ae1c,33,9,1,23851,,,0,"IPA does not boot up after cleaning reboot for 'redfish' bios interface

The clean steps of 'redfish' bios interface does not set up deploy ramdisk
before initiating the cleaning reboot of bare metal.

Change-Id: I979358ead1e19f9b24f23117d0cba3479e33707b
Story: 2006217
Task: 35810
(cherry picked from commit ddc0fb831b80ac60446cc47c7ec4e1d0848411b5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/673296/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/bios.py', 'releasenotes/notes/story-2006217-redfish-bios-cleaning-fails-fee32f04dd97cbd2.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py']",3,6bff4ddfbc65326f965403dd55dad89247f8ae1c,story_2006217-stable/stein,"from ironic.drivers.modules import deploy_utils from ironic.drivers.modules import pxe as pxe_boot @mock.patch.object(pxe_boot.PXEBoot, 'prepare_ramdisk', spec_set=True, autospec=True) @mock.patch.object(deploy_utils, 'build_agent_options', autospec=True) def test_factory_reset_step1(self, mock_power_action, mock_get_system, mock_build_agent_options, mock_prepare): mock_build_agent_options.return_value = {'a': 'b'} mock_build_agent_options.assert_called_once_with(task.node) mock_prepare.assert_called_once_with(mock.ANY, task, {'a': 'b'}) info = task.node.driver_internal_info self.assertTrue( all(x in info for x in ( 'post_factory_reset_reboot_requested', 'cleaning_reboot', 'skip_current_clean_step'))) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_factory_reset_step2(self, mock_get_system): with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: driver_internal_info = task.node.driver_internal_info driver_internal_info['post_factory_reset_reboot_requested'] = True task.node.driver_internal_info = driver_internal_info task.node.save() task.driver.bios.factory_reset(task) mock_get_system.assert_called_with(task.node) info = task.node.driver_internal_info self.assertNotIn('post_factory_reset_reboot_requested', info) @mock.patch.object(pxe_boot.PXEBoot, 'prepare_ramdisk', spec_set=True, autospec=True) @mock.patch.object(deploy_utils, 'build_agent_options', autospec=True) mock_get_system, mock_build_agent_options, mock_prepare): mock_build_agent_options.return_value = {'a': 'b'} mock_build_agent_options.assert_called_once_with(task.node) mock_prepare.assert_called_once_with(mock.ANY, task, {'a': 'b'}) info = task.node.driver_internal_info self.assertTrue( all(x in info for x in ( 'post_config_reboot_requested', 'cleaning_reboot', 'skip_current_clean_step'))) driver_internal_info = task.node.driver_internal_info driver_internal_info['post_config_reboot_requested'] = True driver_internal_info['requested_bios_attrs'] = requested_attrs task.node.driver_internal_info = driver_internal_info task.node.save() info = task.node.driver_internal_info self.assertNotIn('post_config_reboot_requested', info) self.assertNotIn('requested_bios_attrs', info)"," def test_factory_reset(self, mock_power_action, mock_get_system): mock_get_system): task.node.driver_internal_info[ 'post_config_reboot_requested'] = True task.node.driver_internal_info[ 'requested_bios_attrs'] = requested_attrs task.driver.bios._clear_reboot_requested = mock.MagicMock() task.driver.bios._clear_reboot_requested\ .assert_called_once_with(task)",94,21
openstack%2Fironic-inspector~stable%2Fstein~I634e75ab04253edffb6f19394d3943e9ffe56d13,openstack/ironic-inspector,stable/stein,I634e75ab04253edffb6f19394d3943e9ffe56d13,CI: clean up the required projects list for grenade,MERGED,2019-08-01 08:55:53.000000000,2019-08-03 00:28:24.000000000,2019-08-03 00:28:23.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 08:55:53.000000000', 'files': ['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml', 'zuul.d/legacy-ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c7a4ec8a3b332a320444c664d0e5c45ada048a64', 'message': ""CI: clean up the required projects list for grenade\n\nWe don't need to install libraries from git in this job.\nironic-python-agent is also not needed since we download the ramdisk.\n\nChange-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13\n(cherry picked from commit da69fca0f8c32880604be14100598a1e1da4c7f2)\n""}]",0,673958,c7a4ec8a3b332a320444c664d0e5c45ada048a64,8,3,1,10239,,,0,"CI: clean up the required projects list for grenade

We don't need to install libraries from git in this job.
ironic-python-agent is also not needed since we download the ramdisk.

Change-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13
(cherry picked from commit da69fca0f8c32880604be14100598a1e1da4c7f2)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/58/673958/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml', 'zuul.d/legacy-ironic-inspector-jobs.yaml']",2,c7a4ec8a3b332a320444c664d0e5c45ada048a64,gate-stable/stein,, - openstack/ironic-lib - openstack/ironic-python-agent - x/pyghmi - openstack/python-ironic-inspector-client - openstack/python-ironicclient,0,10
openstack%2Fos-resource-classes~master~I7410ad173a84b30562a1cdad743553dbd432f729,openstack/os-resource-classes,master,I7410ad173a84b30562a1cdad743553dbd432f729,Sync Sphinx requirement,MERGED,2019-08-02 02:58:37.000000000,2019-08-02 23:27:34.000000000,2019-08-02 23:27:34.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 02:58:37.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/8866073511f390665010a805a91168fb4436b2f6', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I7410ad173a84b30562a1cdad743553dbd432f729\n'}]",0,674164,8866073511f390665010a805a91168fb4436b2f6,8,4,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7410ad173a84b30562a1cdad743553dbd432f729
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/64/674164/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8866073511f390665010a805a91168fb4436b2f6,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fironic~master~I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9,openstack/ironic,master,I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9,Follow-up to the IntelIPMIHardware patch,MERGED,2019-07-25 07:41:49.000000000,2019-08-02 23:08:24.000000000,2019-08-02 23:08:24.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 07:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11bd428280ef408939183d013a3ece3efad708d5', 'message': 'Follow-up to the IntelIPMIHardware patch\n\nChange-Id: I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9\n'}, {'number': 2, 'created': '2019-07-26 10:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f69df900114181d028fc0d94600f572352c64c6c', 'message': 'Follow-up to the IntelIPMIHardware patch\n\nChange-Id: I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9\n'}, {'number': 3, 'created': '2019-07-26 10:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4cc74a9accba6da6ac45e982a347dcf0b53eacd0', 'message': 'Follow-up to the IntelIPMIHardware patch\n\nChange-Id: I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9\n'}, {'number': 4, 'created': '2019-07-26 10:47:57.000000000', 'files': ['doc/source/admin/drivers/intel-ipmi.rst', 'ironic/tests/unit/drivers/modules/intel_ipmi/test_management.py', 'ironic/drivers/modules/intel_ipmi/management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/01a9726c04590045eb9095ba849738d568d06fd8', 'message': 'Follow-up to the IntelIPMIHardware patch\n\nChange-Id: I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9\n'}]",8,672652,01a9726c04590045eb9095ba849738d568d06fd8,21,6,4,10206,,,0,"Follow-up to the IntelIPMIHardware patch

Change-Id: I240c27c25f70b0a916bbed6cc4a4122c0bffd9a9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/672652/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/intel-ipmi.rst', 'ironic/tests/unit/drivers/modules/intel_ipmi/test_management.py', 'ironic/drivers/modules/intel_ipmi/management.py']",3,11bd428280ef408939183d013a3ece3efad708d5,intel_ipmi," except (ValueError, TypeError): ""Input value should be string. Accepted values are %s."" % INTEL_SST_PP_CONFIG_HEXA_CODES msg = (_(""Failed to set Intel SST-PP configuration level "" ""%(cfg)s on socket number %(skt)s due to "" ""reason %(exc)s."") % {""cfg"": config, ""skt"": socket, ""exc"": e}) LOG.error(msg)"," except ValueError: ""Input value should be string. Accepted values are "" ""['0x00', '0x01', '0x02']. "" self._configure_intel_speed_select(task, config, socket_count) def _configure_intel_speed_select(self, task, config, socket_count): msg = (""Failed to set Intel SST-PP configuration level "" ""%(cfg)s on socket number %(skt)s due to reason "" ""%(exc)s."" % {""cfg"": config, ""skt"": socket, ""exc"": e}) LOG.exception(msg)",21,18
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,openstack/tripleo-heat-templates,stable/queens,Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,Fix broken metadata_settings for redis templates,MERGED,2019-08-02 17:49:11.000000000,2019-08-02 22:42:01.000000000,2019-08-02 22:42:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9098}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 17:49:11.000000000', 'files': ['docker/services/database/redis.yaml', 'puppet/services/database/redis-base.yaml', 'puppet/services/database/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0f50b4b3aa1fc0c2dc4da5c596b776e1c34c6f2', 'message': 'Fix broken metadata_settings for redis templates\n\nmetadata_settings in docker/services/redis.yaml was returning a list\nof two items rather than one as expected. As a result, the compact/\nmangedby service principals were not being created by novajoin service.\nThis results ina permission issue during overcloud deploy as the\n`getcert` request will hit a permissions issue during Step2.\n\nNote that this only affects Rocky and earlier branches. The issue was\nresolved in Stein when redis service was flattened[1,2].\n\n- Push tls logic into redis-base and consume in child templates.\n- Move away from use_tls_proxy to more accurate internal_tls_enabled\n- Ensure redis service has both service principals created if internal\n  tls is enabled\n[1] - https://review.opendev.org/#/c/635930/\n[2] - https://review.opendev.org/640944\n\nChange-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989\nPartial-bug: #1838679\n(cherry picked from commit b96b049f983662ea0badbca5d4f7b0e95b880338)\n'}]",0,674369,e0f50b4b3aa1fc0c2dc4da5c596b776e1c34c6f2,7,6,1,11589,,,0,"Fix broken metadata_settings for redis templates

metadata_settings in docker/services/redis.yaml was returning a list
of two items rather than one as expected. As a result, the compact/
mangedby service principals were not being created by novajoin service.
This results ina permission issue during overcloud deploy as the
`getcert` request will hit a permissions issue during Step2.

Note that this only affects Rocky and earlier branches. The issue was
resolved in Stein when redis service was flattened[1,2].

- Push tls logic into redis-base and consume in child templates.
- Move away from use_tls_proxy to more accurate internal_tls_enabled
- Ensure redis service has both service principals created if internal
  tls is enabled
[1] - https://review.opendev.org/#/c/635930/
[2] - https://review.opendev.org/640944

Change-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989
Partial-bug: #1838679
(cherry picked from commit b96b049f983662ea0badbca5d4f7b0e95b880338)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/674369/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/database/redis.yaml', 'puppet/services/database/redis-base.yaml', 'puppet/services/database/redis.yaml']",3,e0f50b4b3aa1fc0c2dc4da5c596b776e1c34c6f2,bug/1838679-stable/queens," internal_tls_enabled: {equals : [{get_param: EnableInternalTLS}, true]} - internal_tls_enabled get_attr: [RedisBase, role_data, metadata_settings]"," use_tls_proxy: {equals : [{get_param: EnableInternalTLS}, true]} - use_tls_proxy if: - use_tls_proxy - - service: redis network: {get_param: [ServiceNetMap, RabbitmqNetwork]} type: vip - null",17,22
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,openstack/tripleo-heat-templates,stable/queens,I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,Make nova ephemeral storage backend configurable per-role,MERGED,2019-07-17 15:46:53.000000000,2019-08-02 22:11:40.000000000,2019-08-02 22:11:39.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-07-17 15:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ccacb7ee0e1bf4e329f3ef096d2252e0ce6a53f', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)\n'}, {'number': 2, 'created': '2019-07-22 16:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71faee35716a1ab7ef27afbbc16a8f9a87494d54', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)\n'}, {'number': 3, 'created': '2019-07-25 14:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c4e2a37b47d0ad33ed10023c85d80c37ffe4eb1', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)\n'}, {'number': 4, 'created': '2019-07-29 15:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c9387a553db882dc5afb0c548f9c8292afb8bef', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)\n'}, {'number': 5, 'created': '2019-08-02 14:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbe284f391d5dc4bbd186c0f7cc19885e7dc8d1b', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)\n'}, {'number': 6, 'created': '2019-08-02 16:20:36.000000000', 'files': ['puppet/services/glance-api.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'puppet/services/nova-compute.yaml', 'environments/ceph-ansible/ceph-ansible-per-role.yaml', 'tools/yaml-validate.py', 'docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5f6ec75c30fbc32f3e7d1ba97b9c1eda862d64b', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)\n'}]",0,671324,e5f6ec75c30fbc32f3e7d1ba97b9c1eda862d64b,30,6,6,23811,,,0,"Make nova ephemeral storage backend configurable per-role

When multiple Compute roles are used, admins may want to use different storage
backends on each role.

This change turns NovaEnableRbdBackend into a role specific param.
Any other config that is implicitly enabled by the global NovaEnableRbdBackend
now requires a dedicated param.

Co-Authored-By: ratailor@redhat.com
Change-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c
Implements: blueprint nova-backend-per-role
(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)
(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)
(cherry picked from commit b1febf785df9f7dfadd05637b622fb6568f52003)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/671324/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/glance-api.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'puppet/services/nova-compute.yaml', 'environments/ceph-ansible/ceph-ansible-per-role.yaml', 'tools/yaml-validate.py', 'docker/services/nova-libvirt.yaml']",8,8ccacb7ee0e1bf4e329f3ef096d2252e0ce6a53f,queens," description: Whether to enable the Rbd backend for Nova ephemeral storage. tags: - role_specific - equals: - {get_param: [RoleParameters, NovaEnableRbdBackend]} - true - and: - equals: - {get_param: [RoleParameters, NovaEnableRbdBackend]} - '' - equals: - {get_param: NovaEnableRbdBackend} - true - equals: - {get_param: CinderEnableRbdBackend} - true", description: Whether to enable or not the Rbd backend for Nova - equals: - {get_param: NovaEnableRbdBackend} - true - equals: - {get_param: CinderEnableRbdBackend} - true,186,19
openstack%2Ftripleo-common~master~I169b07553b171fcacb532bf58acc4200e270bfbb,openstack/tripleo-common,master,I169b07553b171fcacb532bf58acc4200e270bfbb,Fix swift-proxy healthcheck,MERGED,2019-08-01 14:43:33.000000000,2019-08-02 22:09:28.000000000,2019-08-02 16:49:18.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 14:43:33.000000000', 'files': ['healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3ddb77e34096a095909ea4dc5a18d478eeb93cab', 'message': ""Fix swift-proxy healthcheck\n\nWith the current swift-proxy healthcheck the container status is\nunhealty even the service is up.\n\nThe used ps/grep won't return the swift proxy processes as the\noutput gets truncated:\n\n()[root@overcloud-controller-0 /]$ ps -e\n    PID TTY          TIME CMD\n      1 ?        00:00:00 dumb-init\n      6 ?        00:02:52 swift-proxy-ser\n     28 ?        00:00:25 swift-proxy-ser\n   4753 pts/1    00:00:00 sh\n   4797 pts/1    00:00:00 ps\n\nAs a result we end up in the else, checking the cache.\n\nThis moves the if to use pgrep instead.\n\nChange-Id: I169b07553b171fcacb532bf58acc4200e270bfbb\n""}]",0,674055,3ddb77e34096a095909ea4dc5a18d478eeb93cab,10,6,1,17216,,,0,"Fix swift-proxy healthcheck

With the current swift-proxy healthcheck the container status is
unhealty even the service is up.

The used ps/grep won't return the swift proxy processes as the
output gets truncated:

()[root@overcloud-controller-0 /]$ ps -e
    PID TTY          TIME CMD
      1 ?        00:00:00 dumb-init
      6 ?        00:02:52 swift-proxy-ser
     28 ?        00:00:25 swift-proxy-ser
   4753 pts/1    00:00:00 sh
   4797 pts/1    00:00:00 ps

As a result we end up in the else, checking the cache.

This moves the if to use pgrep instead.

Change-Id: I169b07553b171fcacb532bf58acc4200e270bfbb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/674055/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/swift-proxy'],1,3ddb77e34096a095909ea4dc5a18d478eeb93cab,swift-proxy-healthcheck,if pgrep -f swift-proxy-server; then,if ps -e | grep --quiet swift-proxy-server; then,1,1
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c,openstack/cookbook-openstack-compute,stable/queens,I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 19:46:48.000000000,2019-08-02 21:57:14.000000000,2019-08-02 21:57:14.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 19:46:48.000000000', 'files': ['Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/421ae68912782cd7f1dcfd74b7acb2c69865096b', 'message': 'Fix Berksfile to request stable/queens branch\n\nWe are in the stable/queens branch and need to use the matching\ndependencies, otherwise things will fail.\n\nChange-Id: I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c\n'}]",0,674415,421ae68912782cd7f1dcfd74b7acb2c69865096b,6,2,1,13252,,,0,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: I7ae5cb83f6bd3774c978f3152a137c20fe7ab20c
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/15/674415/1 && git format-patch -1 --stdout FETCH_HEAD,['Berksfile'],1,421ae68912782cd7f1dcfd74b7acb2c69865096b,," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}"", branch: 'stable/queens'"," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}""",1,1
openstack%2Fsushy~master~I8d234b3e562a46d3be27f6eae83b6f2e99813c83,openstack/sushy,master,I8d234b3e562a46d3be27f6eae83b6f2e99813c83,Action #Bios.ResetBios fails as POST request has no body,MERGED,2019-07-18 07:05:48.000000000,2019-08-02 21:56:24.000000000,2019-08-02 21:56:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 07:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/2e94607e92b47a93e44954ed108727b62843c642', 'message': 'Action #Bios.ResetBios fails as POST request has no body\n\nBios action #Bios.ResetBios fails with HTTP code 415 as BMC expects\nthe POST request with empty body instead of no body.\n\nChange-Id: I8d234b3e562a46d3be27f6eae83b6f2e99813c83\nStory: 2006246\nTask: 35854\n'}, {'number': 2, 'created': '2019-07-22 04:37:50.000000000', 'files': ['releasenotes/notes/story-2006246-reset-bios-return-http-error-415-08170df7fe6300f8.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/system/bios.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/83a6a8cf9173f612f66c34cbf20029d5ef216158', 'message': 'Action #Bios.ResetBios fails as POST request has no body\n\nBios action #Bios.ResetBios fails with HTTP code 415 as BMC expects\nthe POST request with empty body instead of no body.\n\nChange-Id: I8d234b3e562a46d3be27f6eae83b6f2e99813c83\nStory: 2006246\nTask: 35854\n'}]",4,671413,83a6a8cf9173f612f66c34cbf20029d5ef216158,11,4,2,11076,,,0,"Action #Bios.ResetBios fails as POST request has no body

Bios action #Bios.ResetBios fails with HTTP code 415 as BMC expects
the POST request with empty body instead of no body.

Change-Id: I8d234b3e562a46d3be27f6eae83b6f2e99813c83
Story: 2006246
Task: 35854
",git fetch https://review.opendev.org/openstack/sushy refs/changes/13/671413/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/story-2006246-reset-bios-return-http-error-415-08170df7fe6300f8.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/system/bios.py']",3,2e94607e92b47a93e44954ed108727b62843c642,story-2006246,"from six.moves import http_client try: self._conn.post(target_uri) except exceptions.HTTPError as resp: # Send empty payload, if BMC expects body if (resp.status_code == http_client.UNSUPPORTED_MEDIA_TYPE): self._conn.post(target_uri, data={}) ", self._conn.post(target_uri),27,1
openstack%2Fcookbook-openstack-network~stable%2Fqueens~I1432b84fd9cb2d4963b56d49a332b62924cc9111,openstack/cookbook-openstack-network,stable/queens,I1432b84fd9cb2d4963b56d49a332b62924cc9111,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 20:13:10.000000000,2019-08-02 21:52:03.000000000,2019-08-02 21:52:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 20:13:10.000000000', 'files': ['Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/707269930dc47054e4e127e533ac5b0e4d120f9f', 'message': 'Fix Berksfile to request stable/queens branch\n\nWe are in the stable/queens branch and need to use the matching\ndependencies, otherwise things will fail.\n\nChange-Id: I1432b84fd9cb2d4963b56d49a332b62924cc9111\n'}]",0,674417,707269930dc47054e4e127e533ac5b0e4d120f9f,6,2,1,13252,,,0,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: I1432b84fd9cb2d4963b56d49a332b62924cc9111
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/17/674417/1 && git format-patch -1 --stdout FETCH_HEAD,['Berksfile'],1,707269930dc47054e4e127e533ac5b0e4d120f9f,," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}"", branch: 'stable/queens'"," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}""",1,1
openstack%2Fcookbook-openstack-block-storage~stable%2Fqueens~Ie5aa261bec06f1207f2f56784b402e3905cb815c,openstack/cookbook-openstack-block-storage,stable/queens,Ie5aa261bec06f1207f2f56784b402e3905cb815c,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 20:30:01.000000000,2019-08-02 21:48:01.000000000,2019-08-02 21:48:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 20:30:01.000000000', 'files': ['Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/48a4e2336a362258df5088fca496007df4f590b8', 'message': 'Fix Berksfile to request stable/queens branch\n\nWe are in the stable/queens branch and need to use the matching\ndependencies, otherwise things will fail.\n\nChange-Id: Ie5aa261bec06f1207f2f56784b402e3905cb815c\n'}]",0,674421,48a4e2336a362258df5088fca496007df4f590b8,6,2,1,13252,,,0,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: Ie5aa261bec06f1207f2f56784b402e3905cb815c
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/21/674421/1 && git format-patch -1 --stdout FETCH_HEAD,['Berksfile'],1,48a4e2336a362258df5088fca496007df4f590b8,," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}"", branch: 'stable/queens'"," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}""",1,1
openstack%2Fcookbook-openstack-image~stable%2Fqueens~I74864a68e283b78cc9264c17b92512b19ef2ff8a,openstack/cookbook-openstack-image,stable/queens,I74864a68e283b78cc9264c17b92512b19ef2ff8a,Fix Berksfile to request stable/queens branch,MERGED,2019-08-02 20:23:15.000000000,2019-08-02 21:45:01.000000000,2019-08-02 21:45:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 20:23:15.000000000', 'files': ['Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/457babfd9bc32d906a12775936ae6bb718e585fd', 'message': 'Fix Berksfile to request stable/queens branch\n\nWe are in the stable/queens branch and need to use the matching\ndependencies, otherwise things will fail.\n\nChange-Id: I74864a68e283b78cc9264c17b92512b19ef2ff8a\n'}]",0,674419,457babfd9bc32d906a12775936ae6bb718e585fd,6,2,1,13252,,,0,"Fix Berksfile to request stable/queens branch

We are in the stable/queens branch and need to use the matching
dependencies, otherwise things will fail.

Change-Id: I74864a68e283b78cc9264c17b92512b19ef2ff8a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/19/674419/1 && git format-patch -1 --stdout FETCH_HEAD,['Berksfile'],1,457babfd9bc32d906a12775936ae6bb718e585fd,," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}"", branch: 'stable/queens'"," cookbook ""openstack-#{cookbook}"", git: ""https://git.openstack.org/openstack/cookbook-openstack-#{cookbook}""",1,1
openstack%2Ftripleo-ci~master~Ia18962abb58954169a86a0833fee33fcbde81601,openstack/tripleo-ci,master,Ia18962abb58954169a86a0833fee33fcbde81601,Add var to override hash used for repo setup,MERGED,2019-08-02 13:48:50.000000000,2019-08-02 21:40:58.000000000,2019-08-02 21:40:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 13:48:50.000000000', 'files': ['playbooks/tripleo-buildimages/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a902b351f3728a95e4a989527178c66815bdc54', 'message': 'Add var to override hash used for repo setup\n\nThe image build playbook, when used for periodic, requires\na different hash to set up repos. This review adds the\nvar to enable the override.\n\nChange-Id: Ia18962abb58954169a86a0833fee33fcbde81601\n'}]",0,674314,5a902b351f3728a95e4a989527178c66815bdc54,8,6,1,9976,,,0,"Add var to override hash used for repo setup

The image build playbook, when used for periodic, requires
a different hash to set up repos. This review adds the
var to enable the override.

Change-Id: Ia18962abb58954169a86a0833fee33fcbde81601
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/14/674314/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-buildimages/pre.yaml'],1,5a902b351f3728a95e4a989527178c66815bdc54,image-build-params," tasks: - name: Include tripleo-repos include_role: name: tripleo-repos vars: override_repos: ""{{ build_override_repos | default('') }}"" tripleo_repos_repository: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/tripleo-repos'].src_dir }}"" - name: Include bindep role include_role: name: bindep vars: bindep_dir: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/python-tripleoclient'].src_dir }}"" "," roles: - role: bindep bindep_dir: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/python-tripleoclient'].src_dir }}"" - role: tripleo-repos tripleo_repos_repository: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/tripleo-repos'].src_dir }}"" tasks:",14,5
openstack%2Fcharm-ceilometer~master~Icc3617f97b0a28c5a3779b60bde90144d661697a,openstack/charm-ceilometer,master,Icc3617f97b0a28c5a3779b60bde90144d661697a,Ensure that systemd directory exists during series upgrade,MERGED,2019-08-01 14:10:29.000000000,2019-08-02 21:25:53.000000000,2019-08-02 21:25:52.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 14:10:29.000000000', 'files': ['hooks/ceilometer_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/e887e81ac4a8abab987e016c0cb3e2977021421b', 'message': ""Ensure that systemd directory exists during series upgrade\n\nWhen upgrading from trusty to xenial, the charm switches to systemd.\nHowever, the directory /etc/systemd/system/ceilometer-api.service.d\ndoesn't exist as the charm installed on trusty.  This change ensures\nthat the directory does exist during series upgrade.\n\nChange-Id: Icc3617f97b0a28c5a3779b60bde90144d661697a\nCloses-Bug: #1838634\n""}]",0,674042,e887e81ac4a8abab987e016c0cb3e2977021421b,14,4,1,20870,,,0,"Ensure that systemd directory exists during series upgrade

When upgrading from trusty to xenial, the charm switches to systemd.
However, the directory /etc/systemd/system/ceilometer-api.service.d
doesn't exist as the charm installed on trusty.  This change ensures
that the directory does exist during series upgrade.

Change-Id: Icc3617f97b0a28c5a3779b60bde90144d661697a
Closes-Bug: #1838634
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/42/674042/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceilometer_hooks.py'],1,e887e81ac4a8abab987e016c0cb3e2977021421b,bug/1838634, if init_is_systemd(): # NOTE(ajkavangh): ensure systemd override folder exists prior to # attempting to write override.conf # See bug: #1838634 mkdir(os.path.dirname(CEILOMETER_API_SYSTEMD_CONF)),,5,0
openstack%2Fswift~master~I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835,openstack/swift,master,I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835,Make GreenAsyncPile not hang,MERGED,2018-12-07 00:46:34.000000000,2019-08-02 21:18:16.000000000,2019-08-02 21:16:54.000000000,"[{'_account_id': 1179}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 00:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/534392d43d7963118aa130778d1fb851bee8ab2c', 'message': ""Make GreenAsyncPile not hang\n\nIt's probably weird that StreamingPile has this interfaces that swallows\nexceptions, but this seems better than hanging.\n\nChange-Id: I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835\n""}, {'number': 2, 'created': '2019-08-01 22:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c695886aef7fb0dbd123459e89c401fb28f03220', 'message': ""Make GreenAsyncPile not hang\n\nIt's probably weird that StreamingPile has this interfaces that swallows\nexceptions, but this seems better than hanging.\n\nChange-Id: I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835\n""}, {'number': 3, 'created': '2019-08-02 14:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bd867f585545e3fd8e9deb92e98047c112dfe6fe', 'message': ""Make GreenAsyncPile not hang\n\nIt's probably weird that StreamingPile has this interfaces that swallows\nexceptions, but this seems better than hanging.\n\nChange-Id: I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835\n""}, {'number': 4, 'created': '2019-08-02 15:20:05.000000000', 'files': ['test/unit/common/middleware/s3api/test_multi_delete.py', 'swift/common/utils.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/25aeb0ca4905756501e62210a5bc2699c731a1f4', 'message': ""Make GreenAsyncPile not hang\n\nIt's probably weird that StreamingPile has this interfaces that swallows\nexceptions, but this seems better than hanging.\n\nChange-Id: I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835\n""}]",14,623360,25aeb0ca4905756501e62210a5bc2699c731a1f4,24,4,4,1179,,,0,"Make GreenAsyncPile not hang

It's probably weird that StreamingPile has this interfaces that swallows
exceptions, but this seems better than hanging.

Change-Id: I8fe45c0f0d291efc84f3edf5d6b7cd116b5c7835
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/623360/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_multi_delete.py', 'swift/common/utils.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/test_utils.py']",4,534392d43d7963118aa130778d1fb851bee8ab2c,618301," def setUp(self): self.timeout = Timeout(5.0) def tearDown(self): self.timeout.cancel() def _exploder(self, arg): if isinstance(arg, Exception): raise arg else: return arg def test_blocking_last_next_explodes(self): pile = utils.GreenAsyncPile(2) pile.spawn(self._exploder, 1) pile.spawn(self._exploder, 2) pile.spawn(self._exploder, Exception('kaboom')) self.assertEqual(1, next(pile)) self.assertEqual(2, next(pile)) with self.assertRaises(StopIteration): next(pile) def test_no_blocking_last_next_explodes(self): pile = utils.GreenAsyncPile(10) pile.spawn(self._exploder, 1) self.assertEqual(1, next(pile)) pile.spawn(self._exploder, 2) self.assertEqual(2, next(pile)) pile.spawn(self._exploder, Exception('kaboom')) with self.assertRaises(StopIteration): next(pile) def test_exceptions_in_streaming_pile(self): with utils.StreamingPile(2) as pile: results = list(pile.asyncstarmap(self._exploder, [ (1,), (Exception('kaboom'),), (3,), ])) self.assertEqual(results, [1, 3]) def test_exceptions_at_end_of_streaming_pile(self): with utils.StreamingPile(2) as pile: results = list(pile.asyncstarmap(self._exploder, [ (1,), (2,), (Exception('kaboom'),), ])) self.assertEqual(results, [1, 2]) ",,93,9
openstack%2Fironic~master~Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc,openstack/ironic,master,Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc,Update software RAID configuration documentation,MERGED,2019-08-01 12:43:59.000000000,2019-08-02 21:18:01.000000000,2019-08-02 21:18:01.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27420}]","[{'number': 1, 'created': '2019-08-01 12:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3840443353272a096fa28cefc563824b8dc140d', 'message': 'Update software RAID configuration documentation\n\nThis provides a bunch of updates based on user testing of the feature.\nAlso the lines are wrapped and inter-document links are created.\n\nChange-Id: Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc\n'}, {'number': 2, 'created': '2019-08-02 15:50:34.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/521c0868533d0b950e1cf33c57e3426c454357fb', 'message': 'Update software RAID configuration documentation\n\nThis provides a bunch of updates based on user testing of the feature.\nAlso the lines are wrapped and inter-document links are created.\n\nChange-Id: Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc\n'}]",3,674019,521c0868533d0b950e1cf33c57e3426c454357fb,15,7,2,10239,,,0,"Update software RAID configuration documentation

This provides a bunch of updates based on user testing of the feature.
Also the lines are wrapped and inter-document links are created.

Change-Id: Ia3408aee3ebcd4ad5deedaa48967f46134ad2cfc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/674019/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,b3840443353272a096fa28cefc563824b8dc140d,sw-raid,"or out-of-band. Software RAID is supported on all hardware, although with some caveats - see `Software RAID`_ for details. In-band RAID configuration (including software RAID) is done using the Ironic Python Agent ramdisk. For in-band hardware RAID configuration, a hardware manager which supports RAID should be bundled with the ramdisk. command ``openstack baremetal node validate <node-uuid>``. In-band RAID is usually implemented by the ``agent`` RAID interface... _raid-config-examples:Software RAID ============= Building Linux software RAID in-band (via the Ironic Python Agent ramdisk) is supported starting with the Train release. It is requested by using the ``agent`` RAID interface and RAID configuration with all controllers set to ``software``. You can find a software RAID configuration example in :ref:`raid-config-examples`. There are certain limitations to be aware of: * Only the mandatory properties (plus the required ``controller`` property) from `Target RAID configuration`_ are currently supported. * There is no way to select the disks which are used to set up the software RAID, so the Ironic Python Agent will use all available disks. This seems appropriate for servers with 2 or 4 disks, but needs to be considered when disk arrays are attached. * The number of created Software RAID devices must be 1 or 2. If there is only one Software RAID device, it has to be a RAID-1. If there are two, the first one has to be a RAID-1, while the RAID level for the second one can 0, 1, or 1+0. As the first RAID device will be the deployment device, enforcing a RAID-1 reduces the risk of ending up with a non-booting node in case of a disk failure. * Building RAID will fail if the target disks are already partitioned. Wipe the disks using e.g. the ``erase_device_metadata`` clean step before building RAID. * If local boot is going to be used, the ``mdadm`` utility is required on the final instance image (in addition to being present on the ramdisk). Ironic will install the bootloader on all backing devices of the root RAID device. * Regular cleaning will not remove RAID configuration (similarly to hardware RAID). To destroy RAID run the ``delete_configuration`` manual clean step. * There is no support for partition images, only whole-disk images are supported with Software RAID. See :doc:`/install/configure-glance-images`.","or out-of-band. In-band RAID configuration is done using the Ironic Python Agent ramdisk. For in-band RAID configuration using agent ramdisk, a hardware manager which supports RAID should be bundled with the ramdisk.command ``openstack baremetal node validate <node-uuid>``... note:: For software RAID as provided by the generic hardware manager that ships with the Ironic Python Agent, only the mandatory properties (plus the required ``controller`` property) are currently supported.Limitations of Software RAID ============================ There are certain limitations to be aware of when setting up a Software RAID via the Ironic Python Agent: * There is no way to select the disks which are used to set up the software RAID, so the Ironic Python Agent will use all available disks. This seems appropriate for servers with 2 or 4 disks, but needs to be considered when disk arrays are attached. * The number of created Software RAID devices must be 1 or 2. If there is only one Software RAID device, it has to be a RAID-1. If there are two, the first one has to be a RAID-1, while the RAID level for the second one can 0, 1, or 1+0. As the first RAID device will be the deployment device, enforcing a RAID-1 reduces the risk of ending up with a non-booting node in case of a disk failure. * There is no support for partition images, only whole-disk images are supported with Software RAID.",45,24
openstack%2Fopenstack-ansible-os_congress~master~I355442124435db1891c65803051750a8d0a85c98,openstack/openstack-ansible-os_congress,master,I355442124435db1891c65803051750a8d0a85c98,service_setup: refactor service setup to a single file,MERGED,2019-07-30 13:59:39.000000000,2019-08-02 21:07:23.000000000,2019-08-02 21:07:23.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 13:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/2cdc686ca074126fcd7382299c964c3bf8e431a8', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I355442124435db1891c65803051750a8d0a85c98\n'}, {'number': 2, 'created': '2019-08-01 14:33:41.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/congress_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/efce93beac80b270c69fac6e230c8f976fb2e1d2', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I355442124435db1891c65803051750a8d0a85c98\n'}]",0,673525,efce93beac80b270c69fac6e230c8f976fb2e1d2,10,4,2,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I355442124435db1891c65803051750a8d0a85c98
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/25/673525/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/congress_service_setup.yml']",3,2cdc686ca074126fcd7382299c964c3bf8e431a8,osa/service-refactor,,"--- # Copyright 2017, taseer94@gmail.com # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the service delegate_to: ""{{ congress_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ congress_service_setup_host_python_interpreter }}"" block: - name: Add service to the keystone service catalog os_keystone_service: cloud: default state: present name: ""{{ congress_service_name }}"" service_type: ""{{ congress_service_type }}"" description: ""{{ congress_service_description }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 - name: Add service user os_user: cloud: default state: present name: ""{{ congress_service_user_name }}"" password: ""{{ congress_service_password }}"" domain: default default_project: ""{{ congress_service_project_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service when: not congress_service_in_ldap | bool until: add_service is success retries: 5 delay: 10 no_log: True - name: Add service user to admin role os_user_role: cloud: default state: present user: ""{{ congress_service_user_name }}"" role: ""{{ congress_role_name }}"" project: ""{{ congress_service_project_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service when: not congress_service_in_ldap | bool until: add_service is success retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: present service: ""{{ congress_service_name }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ congress_service_region }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: - interface: ""public"" url: ""{{ congress_service_publicurl }}"" - interface: ""internal"" url: ""{{ congress_service_internalurl }}"" - interface: ""admin"" url: ""{{ congress_service_adminurl }}"" ",170,94
openstack%2Fcharm-aodh~master~Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514,openstack/charm-aodh,master,Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:53:31.000000000,2019-08-02 21:07:07.000000000,2019-08-02 21:07:07.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:53:31.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/230fb5a8c63bc25c13fc3d3d55420227fea3f67a', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514\nPartial-Bug: #1838783\n'}]",0,674373,230fb5a8c63bc25c13fc3d3d55420227fea3f67a,8,4,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Iafedd8280ba1cd1e200ec0f8e9eec67400b3d514
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/73/674373/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,230fb5a8c63bc25c13fc3d3d55420227fea3f67a,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,32418e43-ec7d-4749-974a-326fdab61914,1,1
openstack%2Fcharm-designate~master~Ib5159c885b81a392595375fc3801ccd13d0d1b1a,openstack/charm-designate,master,Ib5159c885b81a392595375fc3801ccd13d0d1b1a,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:07.000000000,2019-08-02 21:02:58.000000000,2019-08-02 21:02:58.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:55:07.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c3b888c07b90ddf08b671857db04855207d09444', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Ib5159c885b81a392595375fc3801ccd13d0d1b1a\nPartial-Bug: #1838783\n'}]",0,674379,c3b888c07b90ddf08b671857db04855207d09444,8,4,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Ib5159c885b81a392595375fc3801ccd13d0d1b1a
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/79/674379/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,c3b888c07b90ddf08b671857db04855207d09444,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Frpm-packaging~master~Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a,openstack/rpm-packaging,master,Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a,openstackdocstheme: update to 1.31.0,MERGED,2019-08-02 20:20:26.000000000,2019-08-02 20:57:42.000000000,2019-08-02 20:57:42.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 20:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b19fe4903fa43f248c45a85d666d8d039547ccb8', 'message': 'openstackdocstheme: update to 1.31.0\n\nChange-Id: Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a\n'}, {'number': 2, 'created': '2019-08-02 20:38:10.000000000', 'files': ['openstack/openstackdocstheme/openstackdocstheme.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b914ead3b75cc9dc91a1c482e6f1771a476c8330', 'message': 'openstackdocstheme: update to 1.31.0\n\nChange-Id: Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a\n'}]",0,674418,b914ead3b75cc9dc91a1c482e6f1771a476c8330,11,4,2,6593,,,0,"openstackdocstheme: update to 1.31.0

Change-Id: Iccc5595cfd4f3a608c888d263bb30cbc6be8b63a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/674418/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstackdocstheme/openstackdocstheme.spec.j2'],1,b19fe4903fa43f248c45a85d666d8d039547ccb8,,{% set upstream_version = upstream_version('1.31.0') %},{% set upstream_version = upstream_version('1.30.0') %},1,1
openstack%2Fopenstack-ansible-os_designate~master~Id9e94865467a9076ee15a9caebcc2cc97847d079,openstack/openstack-ansible-os_designate,master,Id9e94865467a9076ee15a9caebcc2cc97847d079,service_setup: refactor service setup to a single file,MERGED,2019-07-30 11:35:12.000000000,2019-08-02 20:55:01.000000000,2019-08-02 20:55:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/380d7abacf6e085d82bcf466210906ce8a54fef2', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\nservice_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Id9e94865467a9076ee15a9caebcc2cc97847d079\n'}, {'number': 2, 'created': '2019-08-01 14:29:54.000000000', 'files': ['tasks/designate_service_setup.yml', 'tasks/main.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/0ac2ef7a6ac1e19f55773ee6468372bcb5142756', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Id9e94865467a9076ee15a9caebcc2cc97847d079\n'}]",0,673484,0ac2ef7a6ac1e19f55773ee6468372bcb5142756,12,4,2,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Id9e94865467a9076ee15a9caebcc2cc97847d079
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/84/673484/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/designate_service_setup.yml', 'tasks/main.yml', 'tasks/service_setup.yml']",3,380d7abacf6e085d82bcf466210906ce8a54fef2,osa/service-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/service_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the OS service delegate_to: ""{{ _service_setup_host }}"" vars: ansible_python_interpreter: ""{{ _service_setup_host_python_interpreter }}"" block: - name: Add service project os_project: cloud: default state: present name: ""{{ _project_name }}"" description: ""{{ _project_description | default('') }}"" domain_id: ""default"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _project_name is defined until: add_service is success retries: 5 delay: 10 - name: Add services to the keystone service catalog os_keystone_service: cloud: default state: ""{{ item.state | default('present') }}"" name: ""{{ item.name }}"" service_type: ""{{ item.type }}"" description: ""{{ item.description | default('') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service with_items: ""{{ _service_catalog }}"" when: _service_catalog is defined until: add_service is success retries: 5 delay: 10 - name: Add keystone roles os_keystone_role: cloud: default state: present name: ""{{ item.role }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 - name: Add service users os_user: cloud: default state: present name: ""{{ item.name }}"" password: ""{{ item.password }}"" domain: default default_project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'password' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users to the role os_user_role: cloud: default state: present user: ""{{ item.name }}"" role: ""{{ item.role }}"" project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: ""{{ item.state | default('present') }}"" service: ""{{ item.service }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ _service_region | default('RegionOne') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: ""{{ _service_endpoints }}"" when: _service_endpoints is defined ",,170,93
openstack%2Fcharm-designate-bind~master~Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4,openstack/charm-designate-bind,master,Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:21.000000000,2019-08-02 20:51:39.000000000,2019-08-02 20:51:39.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:55:21.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/b7b6f250e6c1ddf500863261b9296d53169ecd19', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4\nPartial-Bug: #1838783\n'}]",0,674380,b7b6f250e6c1ddf500863261b9296d53169ecd19,7,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Ief27c421ec2d0ec80e476f4a06fa09758bebf3e4
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/80/674380/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b7b6f250e6c1ddf500863261b9296d53169ecd19,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fcharm-keystone-ldap~master~I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937,openstack/charm-keystone-ldap,master,I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:55:45.000000000,2019-08-02 20:50:58.000000000,2019-08-02 20:50:58.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:55:45.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/242d353bdc6dc854c3723a50d64b08411053c5c0', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937\nPartial-Bug: #1838783\n'}]",0,674382,242d353bdc6dc854c3723a50d64b08411053c5c0,7,3,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I0870dd2a7ee1fe7f3d63a42aa551e1e4808ff937
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/82/674382/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,242d353bdc6dc854c3723a50d64b08411053c5c0,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fopenstack-ansible-os_heat~master~I321979a96acc04a25b5287fb2f61fa03cda66e81,openstack/openstack-ansible-os_heat,master,I321979a96acc04a25b5287fb2f61fa03cda66e81,Convert dynamic includes to static imports,MERGED,2019-08-01 11:09:57.000000000,2019-08-02 20:42:40.000000000,2019-08-02 20:42:40.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-08-01 11:09:57.000000000', 'files': ['tasks/main.yml', 'tasks/heat_init_systemd.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/cd66c12e7ffbbf720cbfa35947cfefd3cf4fedd8', 'message': 'Convert dynamic includes to static imports\n\nWhen task/role files are included using include_tasks, tags are not\npassed to the included tasks. As a result, tags like neutron-config\ndo not have the intended effect. This patch changes include_tasks\nto import_tasks for all cases where dynamic vars or loops are not used\nso that tags are properly handled.\n\nAlso heat_init_systemd is finally dropped, as it is not used anymore.\n\nReference -\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1815043\n\nChange-Id: I321979a96acc04a25b5287fb2f61fa03cda66e81\n'}]",0,674003,cd66c12e7ffbbf720cbfa35947cfefd3cf4fedd8,7,3,1,28619,,,0,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like neutron-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Also heat_init_systemd is finally dropped, as it is not used anymore.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I321979a96acc04a25b5287fb2f61fa03cda66e81
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/03/674003/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/heat_init_systemd.yml', 'vars/main.yml']",3,cd66c12e7ffbbf720cbfa35947cfefd3cf4fedd8,static_imports," {% set _ = value.update( { 'service_key': key, 'enabled': 'yes', 'state': 'started', 'config_overrides': value.init_config_overrides } ) %} {% set _ = value.pop('init_config_overrides') -%}", {% set _ = value.update({'service_key': key}) %},18,83
openstack%2Fopenstack-ansible-os_blazar~master~I0af7cd2087a03b16c2f7ffd818cf5074c233e89a,openstack/openstack-ansible-os_blazar,master,I0af7cd2087a03b16c2f7ffd818cf5074c233e89a,service_setup: refactor service setup to a single file,MERGED,2019-07-30 12:26:28.000000000,2019-08-02 20:36:38.000000000,2019-08-02 20:36:38.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 12:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/bd5c682b402b1de357e6d6df8a2668e859ecafd9', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I0af7cd2087a03b16c2f7ffd818cf5074c233e89a\n'}, {'number': 2, 'created': '2019-08-01 14:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/ba14f1f9adb35b1e941c54aa17fa8cd050e0b0a9', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I0af7cd2087a03b16c2f7ffd818cf5074c233e89a\n'}, {'number': 3, 'created': '2019-08-01 15:29:19.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/blazar_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/cffac775bbffc98c3b6592255c09182c10b5b18f', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I0af7cd2087a03b16c2f7ffd818cf5074c233e89a\n'}]",0,673498,cffac775bbffc98c3b6592255c09182c10b5b18f,14,4,3,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I0af7cd2087a03b16c2f7ffd818cf5074c233e89a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/98/673498/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/blazar_service_setup.yml', 'openstack-ansible-os_congress']",4,bd5c682b402b1de357e6d6df8a2668e859ecafd9,osa/service-refactor,Subproject commit c2f0c9a16c8ab00b7c5e9df52c45f8a566f90a2a,,171,95
openstack%2Fopenstack-ansible-os_cinder~master~I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b,openstack/openstack-ansible-os_cinder,master,I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b,service_setup: region override,MERGED,2019-07-30 12:36:44.000000000,2019-08-02 20:32:32.000000000,2019-08-02 20:32:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 12:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/73fa3eb2cb6569b31fa7392c5db76d87d08adcfb', 'message': 'service_setup: region override\n\nDuring original patch ability to override region was missing. This patch\nreturn functionality of defining region during keystone service creation\n\nChange-Id: I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b\n'}, {'number': 2, 'created': '2019-08-01 14:07:06.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/97cb48bc852b3ba45e677eb7c06e6673aa5fc160', 'message': 'service_setup: region override\n\nDuring original patch ability to override region was missing. This patch\nreturn functionality of defining region during keystone service creation\n\nIt also updates a bit service_setup with ability to provide domain.\n\nChange-Id: I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b\n'}]",0,673500,97cb48bc852b3ba45e677eb7c06e6673aa5fc160,14,4,2,28619,,,0,"service_setup: region override

During original patch ability to override region was missing. This patch
return functionality of defining region during keystone service creation

It also updates a bit service_setup with ability to provide domain.

Change-Id: I7b0cd5b5552777bbdb6037edb635d8edaad5fc5b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/00/673500/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,73fa3eb2cb6569b31fa7392c5db76d87d08adcfb,osa/service-refactor," _service_region: ""{{ cinder_service_region }}""",,1,0
openstack%2Fpaunch~stable%2Fstein~Idaf5d4871ad1231f2592238a7925857af8f40548,openstack/paunch,stable/stein,Idaf5d4871ad1231f2592238a7925857af8f40548,Generate addition drop-in dependencies for podman containers,MERGED,2019-08-01 16:53:27.000000000,2019-08-02 20:27:36.000000000,2019-08-02 15:15:35.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 16:53:27.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d105c6e9a21fc70bc5bfdf5a9d9796badb019704', 'message': 'Generate addition drop-in dependencies for podman containers\n\nIf a container managed by Paunch and has the drop-in file enabled, we\nwant to start the containers with the script provided by the Paunch rpm:\npaunch-start-podman-container\n\nThe script will take care of proper ordering when creating systemd scope\nfiles.\n\nPartial-Bug: #1838668\nChange-Id: Idaf5d4871ad1231f2592238a7925857af8f40548\n(cherry picked from commit b33aeea9728233aca852a3e132f23fca71ac42df)\n'}]",0,674090,d105c6e9a21fc70bc5bfdf5a9d9796badb019704,10,4,1,20778,,,0,"Generate addition drop-in dependencies for podman containers

If a container managed by Paunch and has the drop-in file enabled, we
want to start the containers with the script provided by the Paunch rpm:
paunch-start-podman-container

The script will take care of proper ordering when creating systemd scope
files.

Partial-Bug: #1838668
Change-Id: Idaf5d4871ad1231f2592238a7925857af8f40548
(cherry picked from commit b33aeea9728233aca852a3e132f23fca71ac42df)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/90/674090/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,d105c6e9a21fc70bc5bfdf5a9d9796badb019704,podman-drop-in,"DROP_IN_MARKER_FILE = '/etc/sysconfig/podman_drop_in' # If the service depends on other services, it must be stopped # in a specific order. The host can be configured to prevent # systemd from stopping the associated systemd scopes too early, # so make sure to generate the start command accordingly. if (len(cconfig.get('depends_on', [])) > 0 and os.path.exists(DROP_IN_MARKER_FILE)): start_cmd = '/usr/libexec/paunch-start-podman-container %s' % container else: start_cmd = '/usr/bin/podman start %s' % container 'start_cmd': start_cmd,ExecStart=%(start_cmd)s",ExecStart=/usr/bin/podman start %(name)s,14,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I61fe5fe2f13f924a55e477c3496168550b76ba05,openstack/openstack-ansible-os_cloudkitty,master,I61fe5fe2f13f924a55e477c3496168550b76ba05,service_setup: refactor service setup to a single file,MERGED,2019-07-30 14:41:01.000000000,2019-08-02 20:00:53.000000000,2019-08-02 20:00:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-30 14:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/d7e8ad173619db01f2072931ab044710918515cd', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I61fe5fe2f13f924a55e477c3496168550b76ba05\n'}, {'number': 2, 'created': '2019-08-01 13:58:39.000000000', 'files': ['tasks/cloudkitty_service_setup.yml', 'tasks/main.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/99de75a151dcd403780bdce276a0bbc78831a117', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I61fe5fe2f13f924a55e477c3496168550b76ba05\n'}]",0,673542,99de75a151dcd403780bdce276a0bbc78831a117,10,4,2,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I61fe5fe2f13f924a55e477c3496168550b76ba05
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/42/673542/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/cloudkitty_service_setup.yml', 'tasks/main.yml', 'tasks/service_setup.yml']",3,d7e8ad173619db01f2072931ab044710918515cd,osa/service-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/service_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the OS service delegate_to: ""{{ _service_setup_host }}"" vars: ansible_python_interpreter: ""{{ _service_setup_host_python_interpreter }}"" block: - name: Add service project os_project: cloud: default state: present name: ""{{ _project_name }}"" description: ""{{ _project_description | default('') }}"" domain_id: ""default"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _project_name is defined until: add_service is success retries: 5 delay: 10 - name: Add services to the keystone service catalog os_keystone_service: cloud: default state: ""{{ item.state | default('present') }}"" name: ""{{ item.name }}"" service_type: ""{{ item.type }}"" description: ""{{ item.description | default('') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service with_items: ""{{ _service_catalog }}"" when: _service_catalog is defined until: add_service is success retries: 5 delay: 10 - name: Add keystone roles os_keystone_role: cloud: default state: present name: ""{{ item.role }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 - name: Add service users os_user: cloud: default state: present name: ""{{ item.name }}"" password: ""{{ item.password }}"" domain: default default_project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'password' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users to the role os_user_role: cloud: default state: present user: ""{{ item.name }}"" role: ""{{ item.role }}"" project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: ""{{ item.state | default('present') }}"" service: ""{{ item.service }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ _service_region | default('RegionOne') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: ""{{ _service_endpoints }}"" when: _service_endpoints is defined ",,171,108
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,openstack/tripleo-heat-templates,stable/rocky,I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c,Make nova ephemeral storage backend configurable per-role,MERGED,2019-07-17 15:39:21.000000000,2019-08-02 19:49:05.000000000,2019-08-02 19:49:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-07-17 15:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1febf785df9f7dfadd05637b622fb6568f52003', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n'}, {'number': 2, 'created': '2019-07-22 16:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6364a5a7c81f3d970605fba0132106045a1303c7', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n'}, {'number': 3, 'created': '2019-07-25 14:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ef806d5285a4cced076fc6be4849b38db31479c', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n'}, {'number': 4, 'created': '2019-07-29 14:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09b3e5f1af8612ba731bc1eee4b7990a3378ca06', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n'}, {'number': 5, 'created': '2019-07-29 15:00:42.000000000', 'files': ['puppet/services/glance-api.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'puppet/services/nova-compute.yaml', 'environments/ceph-ansible/ceph-ansible-per-role.yaml', 'tools/yaml-validate.py', 'docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4709b809e4a1a7ac899a8cfd0d59a21f0b1efa5', 'message': 'Make nova ephemeral storage backend configurable per-role\n\nWhen multiple Compute roles are used, admins may want to use different storage\nbackends on each role.\n\nThis change turns NovaEnableRbdBackend into a role specific param.\nAny other config that is implicitly enabled by the global NovaEnableRbdBackend\nnow requires a dedicated param.\n\nCo-Authored-By: ratailor@redhat.com\nChange-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)\n(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)\n'}]",0,671322,f4709b809e4a1a7ac899a8cfd0d59a21f0b1efa5,37,7,5,23811,,,0,"Make nova ephemeral storage backend configurable per-role

When multiple Compute roles are used, admins may want to use different storage
backends on each role.

This change turns NovaEnableRbdBackend into a role specific param.
Any other config that is implicitly enabled by the global NovaEnableRbdBackend
now requires a dedicated param.

Co-Authored-By: ratailor@redhat.com
Change-Id: I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c
Implements: blueprint nova-backend-per-role
(cherry picked from commit 65d7e55f549875636d314fff09707ca2650084a0)
(cherry picked from commit ed8d9da9b688a17d9a2c7cddf9a53722a8d359bf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/671322/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/glance-api.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'puppet/services/nova-compute.yaml', 'environments/ceph-ansible/ceph-ansible-per-role.yaml', 'tools/yaml-validate.py', 'docker/services/nova-libvirt.yaml']",8,b1febf785df9f7dfadd05637b622fb6568f52003,," description: Whether to enable the Rbd backend for Nova ephemeral storage. tags: - role_specific - equals: - {get_param: [RoleParameters, NovaEnableRbdBackend]} - true - and: - equals: - {get_param: [RoleParameters, NovaEnableRbdBackend]} - '' - equals: - {get_param: NovaEnableRbdBackend} - true - equals: - {get_param: CinderEnableRbdBackend} - true", description: Whether to enable or not the Rbd backend for Nova - equals: - {get_param: NovaEnableRbdBackend} - true - equals: - {get_param: CinderEnableRbdBackend} - true,199,20
openstack%2Fpuppet-pacemaker~master~I357f7b86dda6d6813f39dd6d276b94aeee87af12,openstack/puppet-pacemaker,master,I357f7b86dda6d6813f39dd6d276b94aeee87af12,Pin rspec-puppet-facts if older ruby,MERGED,2019-08-02 16:21:53.000000000,2019-08-02 19:43:09.000000000,2019-08-02 18:42:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 16:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/a0f4b94436647461380fb3a26605d3dfeeee463a', 'message': 'Pin rspec-puppet-facts if older ruby\n\n1.9.5 version of rspec-puppet-facts requires a newer ruby. Since we\nstill test with centos7 (which has older ruby), we need to add a\nconditional to pull in the correct rspec-puppet-facts version\n\nChange-Id: I357f7b86dda6d6813f39dd6d276b94aeee87af12\n'}, {'number': 2, 'created': '2019-08-02 16:36:44.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ffbed58789fbf290817d68ca24b931098661bac0', 'message': 'Pin rspec-puppet-facts if older ruby\n\n1.9.5 version of rspec-puppet-facts requires a newer ruby. Since we\nstill test with centos7 (which has older ruby), we need to add a\nconditional to pull in the correct rspec-puppet-facts version\n\nChange-Id: I357f7b86dda6d6813f39dd6d276b94aeee87af12\n'}]",0,674347,ffbed58789fbf290817d68ca24b931098661bac0,9,3,2,14985,,,0,"Pin rspec-puppet-facts if older ruby

1.9.5 version of rspec-puppet-facts requires a newer ruby. Since we
still test with centos7 (which has older ruby), we need to add a
conditional to pull in the correct rspec-puppet-facts version

Change-Id: I357f7b86dda6d6813f39dd6d276b94aeee87af12
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/47/674347/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a0f4b94436647461380fb3a26605d3dfeeee463a,fix-ci," # rspec-puppet-facts >= 1.9.5 requires ruby 2.1.0+ if RUBY_VERSION.to_f >= 2.1 else gem 'rspec-puppet-facts', '< 1.9.5' :require => false end",,5,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,stable/rocky,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-08-02 11:05:44.000000000,2019-08-02 19:27:51.000000000,2019-08-02 19:27:31.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 11:05:44.000000000', 'files': ['puppet/services/manila-backend-cephfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3585f3614269bcb875f2ad0eb55345ca113ffe3c', 'message': 'Transport ManilaCephFSDataPoolName to Manila CephFS template\n\nThis is necessary to configure the Manila CephFS backend\ncorrectly when user customizes the CephFS pool name.\n\nChange-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0\nDepends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nCloses-Bug: 1837099\n(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)\n(cherry picked from commit e7c3496a97c41f7069d1837e85ddb414a0ed3fa2)\n'}]",0,674267,3585f3614269bcb875f2ad0eb55345ca113ffe3c,8,3,1,6796,,,0,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)
(cherry picked from commit e7c3496a97c41f7069d1837e85ddb414a0ed3fa2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/674267/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/manila-backend-cephfs.yaml'],1,3585f3614269bcb875f2ad0eb55345ca113ffe3c,, ManilaCephFSDataPoolName: default: manila_data type: string manila::backend::cephfs::pool_name: {get_param: ManilaCephFSDataPoolName},,4,0
openstack%2Fcinder~master~I6b854745462af993fe143ca9cacbf863fb80686e,openstack/cinder,master,I6b854745462af993fe143ca9cacbf863fb80686e,Fix ceph driver error during incremental backup creation,ABANDONED,2019-08-02 02:17:05.000000000,2019-08-02 19:21:49.000000000,,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-08-02 02:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22b18da7ddc1319b0812e6df26ef3629d1e8df40', 'message': ""Unable to create cinder incremental backup\n\nDuring the incremental backups creation, unexpectedly the\n'_cleanup_incomplete_backup_operations' method is called\naborting the backup.\n\nThis happens when using ceph mimic with Python 3.x.\nThe connections with Librbd[1] suddenly abort connections\nbefore accessing the data.\n\nThe fix is to extend the connection and close it at the\nend of the method.\n\nChange-Id: I6b854745462af993fe143ca9cacbf863fb80686e\nCloses-Bug: #1838691\n""}, {'number': 2, 'created': '2019-08-02 14:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff6c14837dfa6da1e0bb156cd064084b81356db6', 'message': ""Unable to create cinder incremental backup\n\nDuring the incremental backups creation, unexpectedly the\n'_cleanup_incomplete_backup_operations' method is called\naborting the backup.\n\nThis happens when using ceph mimic with Python 3.x.\nThe connections with Librbd suddenly abort connections\nbefore accessing the data.\n\nThe fix is to extend the connection and close it at the\nend of the method.\n\nChange-Id: I6b854745462af993fe143ca9cacbf863fb80686e\nCloses-Bug: #1838691\n""}, {'number': 3, 'created': '2019-08-02 16:43:21.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22ed7cc757dee5fe43cbbcc7b16522a04fbbf17e', 'message': ""Fix ceph driver error during incremental backup creation\n\nDuring the incremental backups creation, unexpectedly the\n'_cleanup_incomplete_backup_operations' method is called\naborting the backup.\n\nThis happens when using ceph mimic with Python 3.x.\nThe connections with Librbd suddenly abort connections\nbefore accessing the data.\n\nThe fix is to extend the connection and close it at the\nend of the method.\n\nChange-Id: I6b854745462af993fe143ca9cacbf863fb80686e\nCloses-Bug: #1838691\n""}]",2,674152,22ed7cc757dee5fe43cbbcc7b16522a04fbbf17e,32,15,3,20813,,,0,"Fix ceph driver error during incremental backup creation

During the incremental backups creation, unexpectedly the
'_cleanup_incomplete_backup_operations' method is called
aborting the backup.

This happens when using ceph mimic with Python 3.x.
The connections with Librbd suddenly abort connections
before accessing the data.

The fix is to extend the connection and close it at the
end of the method.

Change-Id: I6b854745462af993fe143ca9cacbf863fb80686e
Closes-Bug: #1838691
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/674152/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,22b18da7ddc1319b0812e6df26ef3629d1e8df40,bug/1838691, snaps = base_rbd.list_snaps() try: if snaps is None: return False for snap in snaps: if snap['name'] == snap_name: return True, try: snaps = base_rbd.list_snaps() if snaps is None: return False for snap in snaps: if snap['name'] == snap_name: return True ,8,8
openstack%2Fkeystone~stable%2Frocky~Ica473ba71b224cdc0acf815f82d534b6c70a7f54,openstack/keystone,stable/rocky,Ica473ba71b224cdc0acf815f82d534b6c70a7f54,"Revert ""Blacklist bandit 1.6.0""",MERGED,2019-06-26 16:24:47.000000000,2019-08-02 19:02:39.000000000,2019-08-02 19:02:39.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-26 16:24:47.000000000', 'files': ['keystone/notifications.py', 'keystone/common/authorization.py', 'keystone/assignment/core.py', 'keystone/common/sql/migrate_repo/versions/104_drop_user_name_domainid_constraint.py', 'keystone/oauth1/core.py', 'keystone/identity/backends/sql_model.py', 'keystone/common/policies/base.py', 'keystone/common/sql/migrate_repo/versions/097_drop_user_name_domainid_constraint.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c220cc450cabb652c4b0afab265b93c7a7aa2afd', 'message': 'Revert ""Blacklist bandit 1.6.0""\n\nThis reverts commit ebac8330d8ac81c491a1cb0e16eb23b93d7932ee.\n\nUsing the glob that I had not yet had enough coffee to do correctly is a\nbetter solution, and allows us to fix new failures in 1.6.0 which would\nbreak us again when 1.6.1 was released.\n\nChange-Id: Ica473ba71b224cdc0acf815f82d534b6c70a7f54\n(cherry picked from commit dc3175afb16fedaf5216b5d4a7a521d16636b4d1)\n'}]",0,667675,c220cc450cabb652c4b0afab265b93c7a7aa2afd,10,5,1,10343,,,0,"Revert ""Blacklist bandit 1.6.0""

This reverts commit ebac8330d8ac81c491a1cb0e16eb23b93d7932ee.

Using the glob that I had not yet had enough coffee to do correctly is a
better solution, and allows us to fix new failures in 1.6.0 which would
break us again when 1.6.1 was released.

Change-Id: Ica473ba71b224cdc0acf815f82d534b6c70a7f54
(cherry picked from commit dc3175afb16fedaf5216b5d4a7a521d16636b4d1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/667675/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/authorization.py', 'keystone/notifications.py', 'keystone/assignment/core.py', 'keystone/common/sql/migrate_repo/versions/104_drop_user_name_domainid_constraint.py', 'keystone/oauth1/core.py', 'keystone/identity/backends/sql_model.py', 'keystone/common/policies/base.py', 'keystone/common/sql/migrate_repo/versions/097_drop_user_name_domainid_constraint.py', 'setup.cfg', 'tox.ini']",10,c220cc450cabb652c4b0afab265b93c7a7aa2afd,pin-bandit, bandit -r keystone -x 'keystone/tests/*'commands = bandit -r keystone -x 'keystone/tests/*', bandit -r keystone -x testscommands = bandit -r keystone -x tests,15,14
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c,openstack/tripleo-heat-templates,stable/rocky,Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c,Remove scen009 (non-voting) from gate,MERGED,2019-07-31 17:52:41.000000000,2019-08-02 18:35:57.000000000,2019-08-02 18:35:57.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-31 17:52:41.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0de8eafc0c0880b2a54b23aa960b0f9f78541180', 'message': 'Remove scen009 (non-voting) from gate\n\nNon-voting jobs should not run on gate.\nSeen at https://review.opendev.org/#/c/673254/\n\nChange-Id: Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c\n'}]",0,673886,0de8eafc0c0880b2a54b23aa960b0f9f78541180,10,11,1,8175,,,0,"Remove scen009 (non-voting) from gate

Non-voting jobs should not run on gate.
Seen at https://review.opendev.org/#/c/673254/

Change-Id: Ifb9ea8a79591a9d1319e32a0b2b26c1377d7ca7c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/673886/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0de8eafc0c0880b2a54b23aa960b0f9f78541180,ruck_sprint13,, - tripleo-ci-centos-7-scenario009-multinode-oooq-container,0,1
openstack%2Fheat~master~I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b,openstack/heat,master,I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b,Add heat resource for creating Aodh loadbalancer_member_health alarm type[1],MERGED,2019-05-31 04:53:03.000000000,2019-08-02 18:27:31.000000000,2019-08-02 18:27:30.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2019-05-31 04:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a1f277d470d1b3d2be14f4eb8aba2f285593dd2d', 'message': 'Add heat resource for aodh_loadbalancer_member_health alarm type\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n'}, {'number': 2, 'created': '2019-06-03 23:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eb5f6a2d98fe6ce6e28adf0e81b9417d72e46b5f', 'message': 'Add heat resource for aodh_loadbalancer_member_health alarm type\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n'}, {'number': 3, 'created': '2019-06-06 03:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/485797e5841dfebe48d3202d5aba3b5c7dc2fcf9', 'message': 'Add heat resource for creating Aodh loadbalancer_member_health[1] alarm type\n\nAodh loadbalancer_member_health[1] alarm was implemented here[2]\nThe loadbalancer_member_health[1] alarm type is documented in the Aodh documentation here[1]\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n'}, {'number': 4, 'created': '2019-06-17 00:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fbd71e3fa73544350be9a94c2ec8a9ff2a9f4feb', 'message': ""Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]\n\nAodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch\nadds a corresponding heat resource for managing it's lifecycle.\n\n - Add new resource OS:Aodh:LBMemberHealthAlarm\n - Add unit test for LoadBalancerMemberHealthAlarms\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n""}, {'number': 5, 'created': '2019-06-19 22:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6f07914d4199c074200003500ef554e3cd3f417a', 'message': ""Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]\n\nAodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch\nadds a corresponding heat resource for managing it's lifecycle.\n\n - Add new resource OS:Aodh:LBMemberHealthAlarm\n - Add unit test for LoadBalancerMemberHealthAlarms\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n\nDepends-On: https://review.opendev.org/#/c/666168/\n""}, {'number': 6, 'created': '2019-06-25 06:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/58654a0e67fe988e17bdf1e4487ae1d27f37aa6a', 'message': ""Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]\n\nAodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch\nadds a corresponding heat resource for managing it's lifecycle.\n\n - Add new resource OS:Aodh:LBMemberHealthAlarm\n - Add unit test for LoadBalancerMemberHealthAlarms\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n""}, {'number': 7, 'created': '2019-06-27 02:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/388ecc0b935271416e353fc94f8ef5ef644c397c', 'message': ""Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]\n\nAodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch\nadds a corresponding heat resource for managing it's lifecycle.\n\n - Add new resource OS:Aodh:LBMemberHealthAlarm\n - Add unit test for LoadBalancerMemberHealthAlarms\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n""}, {'number': 8, 'created': '2019-07-17 02:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/79e5ced8ca48584d427193dcec9a03ab958123e8', 'message': ""Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]\n\nAodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch\nadds a corresponding heat resource for managing it's lifecycle.\n\n - Add new resource OS:Aodh:LBMemberHealthAlarm\n - Add unit test for LoadBalancerMemberHealthAlarms\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\n""}, {'number': 9, 'created': '2019-08-02 00:41:21.000000000', 'files': ['heat/tests/openstack/aodh/test_alarm.py', 'heat/engine/resources/openstack/aodh/alarm.py', 'releasenotes/notes/add-aodh-lbmemberhealth-alarm-c59502aac1944b8b.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/3fda946ff30e48e00044a3e7dac0e6af0c095d59', 'message': ""Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]\n\nAodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch\nadds a corresponding heat resource for managing it's lifecycle.\n\n - Add new resource OS:Aodh:LBMemberHealthAlarm\n - Add unit test for LoadBalancerMemberHealthAlarms\n\n[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5\n[2]: https://review.opendev.org/#/c/654221/\n\nChange-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b\nTask: 34767\n""}]",28,662381,3fda946ff30e48e00044a3e7dac0e6af0c095d59,51,12,9,30447,,,0,"Add heat resource for creating Aodh loadbalancer_member_health alarm type[1]

Aodh loadbalancer_member_health alarm was implemented in 654221[2]. This patch
adds a corresponding heat resource for managing it's lifecycle.

 - Add new resource OS:Aodh:LBMemberHealthAlarm
 - Add unit test for LoadBalancerMemberHealthAlarms

[1]: https://docs.openstack.org/aodh/latest/contributor/architecture.html#id5
[2]: https://review.opendev.org/#/c/654221/

Change-Id: I26582fbd0b980d848f7e4cdb8bb2c8833385fe9b
Task: 34767
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/662381/9 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/aodh/test_alarm.py', 'heat/engine/resources/openstack/aodh/alarm.py']",2,a1f277d470d1b3d2be14f4eb8aba2f285593dd2d,aodh-lbmemberhealth-alarm,"class LBMemberHealthAlarm(alarm_base.BaseAlarm): """"""A resource that implements a Loadb;alancer Member Health Alarm. Allows users to define alarms which can be evaluated based on the health of one or more members of a loadbalancer pool. """""" alarm_type = ""loadbalancer_member_health"" support_status = support.SupportStatus(version='10.0.0') PROPERTIES = ( LOADBALANCER_MEMBER_HEALTH_RULE ) = ( 'loadbalancer_member_health_rule' ) LOADBALANCER_MEMBER_HEALTH_RULE_PROPERTIES = ( POOL_ID, STACK_ID, AUTOSCALING_GROUP_ID ) = ( ""pool_id"", ""stack_id"", ""autoscaling_group_id"" ) properties_schema = { LOADBALANCER_MEMBER_HEALTH_RULE: properties.Schema( properties.Schema.MAP, _('Description'), update_allowed=False, required=True, schema={ POOL_ID: properties.Schema( properties.Schema.STRING, _(""POOL_ID Description""), required=True, ), STACK_ID: properties.Schema( properties.Schema.STRING, _(""STACK_ID Description""), required=True, ), AUTOSCALING_GROUP_ID: properties.Schema( properties.Schema.STRING, _(""AUTOSCALING_GROUP_ID Description""), required=True, ), }, ), } properties_schema.update(alarm_base.common_properties_schema) def get_alarm_props(self, props): """"""Apply all relevant compatibility xforms."""""" kwargs = self.actions_to_urls(props) kwargs['type'] = self.alarm_type for prop in (self.POOL_ID, self.STACK_ID, self.AUTOSCALING_GROUP_ID): if prop in kwargs: del kwargs[prop] loadbalancer_member_health_rule = props.get( self.LOADBALANCER_MEMBER_HEALTH_RULE) if loadbalancer_member_health_rule: kwargs[self.LOADBALANCER_MEMBER_HEALTH_RULE] = \ loadbalancer_member_health_rule return kwargs def handle_create(self): props = self.get_alarm_props(self.properties) props['name'] = self.physical_resource_name() alarm = self.client().alarm.create(props) self.resource_id_set(alarm['alarm_id']) 'OS::Aodh::LBMemberHealthAlarm': LBMemberHealthAlarm,",,167,0
openstack%2Fopenstack-helm-infra~master~Idffaefb350f380a86d0ae5fa854fc31b3659bf2e,openstack/openstack-helm-infra,master,Idffaefb350f380a86d0ae5fa854fc31b3659bf2e,WIP: Add enhancement to mariadb backup,ABANDONED,2019-05-28 22:09:42.000000000,2019-08-02 18:19:49.000000000,,"[{'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28875}]","[{'number': 1, 'created': '2019-05-28 22:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c21a3173be1d0f9ce91062a7ea8f8f6f3a903fa6', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 2, 'created': '2019-05-28 23:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f3e9f661e9f7769245b66fabe00e265c8a72bb7b', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 3, 'created': '2019-05-29 00:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20ab6f662f924e71e89cf00f016f7709324abb7d', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 4, 'created': '2019-05-29 13:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d9a7c335935ccbdf503894a46fc8f3a3837ede0', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 5, 'created': '2019-05-29 18:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7383b04ff03c1a898c589e77451688e84f0a3ae0', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 6, 'created': '2019-05-29 21:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7e9fe6369762a22cc9048e182c2c002a7e4270a', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 7, 'created': '2019-05-30 15:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c13c029e438c766d9a22c2a86170816d02de0db', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 8, 'created': '2019-05-30 17:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a491471a0e48e8264fde0a60813a85c727954d8', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 9, 'created': '2019-05-30 18:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/33bdf205d5358734ca0e359c56e98c8c6fd9f28e', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 10, 'created': '2019-05-30 19:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/95edb242fc01c0b9e7a1651dc56795639e2fb40b', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 11, 'created': '2019-05-30 21:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41f77196694d39bc837aa95c3942bcbb9c0aa7a3', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 12, 'created': '2019-05-30 22:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccd0b60ee4130bad64ee95b597484402fc1d5dc3', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 13, 'created': '2019-05-31 00:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09ce2277038aa4b883ff7e9655064e2850148efc', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 14, 'created': '2019-05-31 11:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25d29362de2016d09b5f4972f78001c0fe523725', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 15, 'created': '2019-05-31 14:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5383697edd83ebb7e8b8533808d99bfb517992fd', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 16, 'created': '2019-05-31 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/026e9fcffbfb13d503b006c85187858b5b94dc0e', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 17, 'created': '2019-06-10 20:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5d0c49604e3bfe9443247a527e4fa50351294c1', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 18, 'created': '2019-06-10 21:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0d4fdc722a915fd19b0995811bc2ffe71402591', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 19, 'created': '2019-06-10 22:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd8473b3925c8dc751e5521415fa39d1a51b15cd', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 20, 'created': '2019-06-11 00:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee2eb17372c853400948921fb1d560868eb974a1', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 21, 'created': '2019-06-11 16:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf1dfd6ba223c479560d65ce3791f6a5f36e3b5f', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 22, 'created': '2019-06-11 16:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e441f9a8e0e58c21dce4706772e5843fb10c8859', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 23, 'created': '2019-06-11 18:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/692a242f0c5d5dbb50909a755ec8bb095843135f', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 24, 'created': '2019-06-11 20:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4fe4df07b26cbdb112088111a7261a0084198d8', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 25, 'created': '2019-06-12 16:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8d682bf0b631cf1fdbee59e27ae1e7e02f26ebf', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 26, 'created': '2019-06-12 20:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d2e9089c153fdb827b9e1bb8b03bc36dd6fc1af', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 27, 'created': '2019-06-13 13:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ac4d286c07f9249e818ac4fe77f007446a0ddd6', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 28, 'created': '2019-06-13 14:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/216fd6d1407335527f3badc33aeb273d008b2f31', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 29, 'created': '2019-06-14 13:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81ee7741b25d9a775913292eea2635ecc9f7b6fd', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 30, 'created': '2019-06-14 18:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f45a3dd2bbcf7fea839ca9933f9306e9479ae0d', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 31, 'created': '2019-06-14 23:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5873c72be4a7dc671732e030e9374732e1174656', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 32, 'created': '2019-06-15 00:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/867369cc7aa37774838a8bec73bff5a121277d20', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 33, 'created': '2019-06-15 12:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/08e340bd85c32e0173994fc287ac494a0cd7a628', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 34, 'created': '2019-06-19 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d83ca1f782ac5e645ae402bebf5746d884965ebf', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 35, 'created': '2019-06-20 19:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aeab7db4a9f9ac9ce6713c792bb335a029092f9a', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 36, 'created': '2019-06-20 20:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7a4fb6d1b4bb6a81e00cf0ce5059bf7bcd529f8', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 37, 'created': '2019-06-20 23:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8e5de35e910e3f6a3d81d4a3646b21fa387550a', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 38, 'created': '2019-06-21 18:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4ceb97b2cc8cedc3a78336a6f85c46c35b515a8', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 39, 'created': '2019-06-24 16:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ffd6a6a3f5ed94d66edeaea49d93b4e95e3305f4', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 40, 'created': '2019-06-24 18:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/544bb499d4685befaec648be8cdbd5aab6345c57', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 41, 'created': '2019-06-24 19:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10b1c414f5bded10d9800f73f78fb0447bd9144a', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 42, 'created': '2019-06-24 20:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9fd02bbd85845f0ae355b9323ca71dd78d277a5', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 43, 'created': '2019-06-25 02:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c5378ea39c41a8b4b1c9ce0f524a8777ed0382d', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 44, 'created': '2019-07-03 19:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d253910092900ece7cde945e87b5ba7602b42565', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 45, 'created': '2019-07-03 21:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad00ccdf9fd447ecc84ae521198525ad7b5c03d4', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 46, 'created': '2019-07-04 02:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6577ffc8549880d7fc939fe4d02d4b3c34a5967', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 47, 'created': '2019-07-05 13:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73e14a95cf90fa6ee486b81932973993e1cb9d2e', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 48, 'created': '2019-07-05 14:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2dcc0f308ee2ef2659442228f1b700b0e52f92a6', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 49, 'created': '2019-07-05 16:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0350a41b264157f64b50e70225c36475868a76d3', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 50, 'created': '2019-07-05 18:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99f4e6473e735da79c3bee19cc9f14d32f811f6c', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 51, 'created': '2019-07-05 19:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7924801df3327d69bfb4cd58c4ff8d22337b2dd', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 52, 'created': '2019-07-05 19:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd702ce032b74f5943ad3f91baadfafc756833b2', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 53, 'created': '2019-07-05 20:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb9cf9d4a3c0a1061d25f376130442e44d0ba244', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 54, 'created': '2019-07-06 02:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0da97ec4fdd2213d91ec72d659febea404fbdd5', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 55, 'created': '2019-07-10 16:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b693e6e1271f4412b99749626064127cdb24dbf', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 56, 'created': '2019-07-10 17:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cea8e79743b3ba733ae76630b329e3e3ba93601', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 57, 'created': '2019-07-10 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6081ab8953fbf6983d3b20b300a59cd4760967b1', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 58, 'created': '2019-07-15 20:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ba0499a44ccf2551695dda066e83d0dd45290fd', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 59, 'created': '2019-07-19 01:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/902ab3f052b63f6a18246d5110a648ab68d0ae76', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 60, 'created': '2019-07-19 15:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb8c44704656c7c3dd61b53a40d5502d8d3e0445', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 61, 'created': '2019-07-19 18:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/619eb3f55c18782dc13e1393c30a898b7bfd168f', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 62, 'created': '2019-07-19 19:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/22e96e018ba14b5ffc19db0586d67afed7516069', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job\n\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 63, 'created': '2019-07-26 02:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f3a95829a4f68889fe740aa0c172136064b69d79', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job for remote backup\n  * Add test job for pvc backup\n\nDepend-On: https://review.opendev.org/#/c/672738\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 64, 'created': '2019-07-26 03:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15ef58cb51ccd7f37a98fe2697497d54aa1336a5', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job for remote backup\n  * Add test job for pvc backup\n\nDepend-On: https://review.opendev.org/#/c/672738\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}, {'number': 65, 'created': '2019-07-26 13:05:08.000000000', 'files': ['mariadb/templates/bin/_remote_retrieve_mariadb.sh.tpl', 'tools/deployment/osh-infra-logging/065-fluentd.sh', 'mariadb/templates/bin/_common_backup_restore.sh.tpl', 'mariadb/templates/secret-mariadb-backup-ks.yaml', 'mariadb/values.yaml', 'tools/deployment/backup-restore/080-setup-client.sh', 'tools/deployment/backup-restore/100-ceph-radosgateway.sh', 'tools/deployment/backup-restore/mariadb-backup-remote-test.sh', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'mariadb/templates/bin/_restore_mariadb.sh.tpl', 'mariadb/templates/bin/_remote_store_mariadb.sh.tpl', 'mariadb/templates/bin/_backup_mariadb.sh.tpl', 'mariadb/templates/cron-job-backup-mariadb.yaml', 'tools/deployment/osh-infra-logging/070-kibana.sh', 'tools/deployment/backup-restore/070-mariadb.sh', 'mariadb/templates/configmap-bin.yaml', 'tools/deployment/backup-restore/wait-for-pods.sh', 'zuul.d/project.yaml', 'tools/deployment/backup-restore/090-keystone.sh', 'mariadb/templates/secrets-os-backup.yaml', 'tools/deployment/backup-restore/mariadb-backup-pvc-test.sh', 'zuul.d/jobs.yaml', 'mariadb/templates/job-ks-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e5e8b89619f1ce7a5b04efcc62b8b291675a996', 'message': 'WIP: Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add test job for remote backup\n  * Add test job for pvc backup\n\nDepend-On: https://review.opendev.org/#/c/672738\nChange-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e\n'}]",26,661853,1e5e8b89619f1ce7a5b04efcc62b8b291675a996,147,5,65,28875,,,0,"WIP: Add enhancement to mariadb backup

  * Enabling swift remote capability to the backup script
  * Enabling swift remote capability to the restore script
  * Add test job for remote backup
  * Add test job for pvc backup

Depend-On: https://review.opendev.org/#/c/672738
Change-Id: Idffaefb350f380a86d0ae5fa854fc31b3659bf2e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/661853/64 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_remote_retrieve_mariadb.sh.tpl', 'mariadb/templates/bin/_common_backup_restore.sh.tpl', 'mariadb/templates/pod-test.yaml', 'mariadb/templates/secrets/_openstack_admin_backup.rc.tpl', 'mariadb/values.yaml', 'mariadb/templates/bin/_restore_mariadb.sh.tpl', 'tools/deployment/backup-restore/mariadb-backup-test.sh', 'mariadb/templates/bin/_remote_store_mariadb.sh.tpl', 'mariadb/templates/monitoring/prometheus/bin/_create-mysql-user.sh.tpl', 'mariadb/templates/statefulset.yaml', 'mariadb/templates/deployment-ingress.yaml', 'mariadb/templates/bin/_backup_mariadb.sh.tpl', 'mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'mariadb/templates/deployment-error.yaml', 'mariadb/templates/secrets-os-backup.yaml', 'zuul.d/jobs.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml']",19,c21a3173be1d0f9ce91062a7ea8f8f6f3a903fa6,,, - name: pod-tmp mountPath: /tmp - name: pod-tmp emptyDir: {},839,136
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,openstack/tripleo-heat-templates,stable/rocky,Ic781905b63a0635b7bd0c7079fa84ca1e7f93989,Fix broken metadata_settings for redis templates,MERGED,2019-08-01 18:46:58.000000000,2019-08-02 17:49:11.000000000,2019-08-02 16:33:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9098}, {'_account_id': 9914}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 18:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/446de6c034cd0f20a7491327b669b9cd8d7739e4', 'message': 'Fix broken metadata_settings for redis templates\n\nmetadata_settings in docker/services/redis.yaml was returning a list\nof two items rather than one as expected. As a result, the compact/\nmangedby service principals were not being created by novajoin service.\nThis results ina permission issue during overcloud deploy as the\n`getcert` request will hit a permissions issue during Step2.\n\n- Push tls logic into redis-base and consume in child templates.\n- Move away from use_tls_proxy to more accurate internal_tls_enabled\n- Ensure redis service has both service principals created if internal\n  tls is enabled\n\nChange-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989\nPartial-bug: #1838679\n'}, {'number': 2, 'created': '2019-08-01 19:11:09.000000000', 'files': ['docker/services/database/redis.yaml', 'puppet/services/database/redis-base.yaml', 'puppet/services/database/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b96b049f983662ea0badbca5d4f7b0e95b880338', 'message': 'Fix broken metadata_settings for redis templates\n\nmetadata_settings in docker/services/redis.yaml was returning a list\nof two items rather than one as expected. As a result, the compact/\nmangedby service principals were not being created by novajoin service.\nThis results ina permission issue during overcloud deploy as the\n`getcert` request will hit a permissions issue during Step2.\n\nNote that this only affects Rocky and earlier branches. The issue was\nresolved in Stein when redis service was flattened[1,2].\n\n- Push tls logic into redis-base and consume in child templates.\n- Move away from use_tls_proxy to more accurate internal_tls_enabled\n- Ensure redis service has both service principals created if internal\n  tls is enabled\n[1] - https://review.opendev.org/#/c/635930/\n[2] - https://review.opendev.org/640944\n\nChange-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989\nPartial-bug: #1838679\n'}]",0,674106,b96b049f983662ea0badbca5d4f7b0e95b880338,14,7,2,11589,,,0,"Fix broken metadata_settings for redis templates

metadata_settings in docker/services/redis.yaml was returning a list
of two items rather than one as expected. As a result, the compact/
mangedby service principals were not being created by novajoin service.
This results ina permission issue during overcloud deploy as the
`getcert` request will hit a permissions issue during Step2.

Note that this only affects Rocky and earlier branches. The issue was
resolved in Stein when redis service was flattened[1,2].

- Push tls logic into redis-base and consume in child templates.
- Move away from use_tls_proxy to more accurate internal_tls_enabled
- Ensure redis service has both service principals created if internal
  tls is enabled
[1] - https://review.opendev.org/#/c/635930/
[2] - https://review.opendev.org/640944

Change-Id: Ic781905b63a0635b7bd0c7079fa84ca1e7f93989
Partial-bug: #1838679
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/674106/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/database/redis.yaml', 'puppet/services/database/redis-base.yaml', 'puppet/services/database/redis.yaml']",3,446de6c034cd0f20a7491327b669b9cd8d7739e4,bug/1838679," internal_tls_enabled: {equals : [{get_param: EnableInternalTLS}, true]} - internal_tls_enabled get_attr: [RedisBase, role_data, metadata_settings]"," use_tls_proxy: {equals : [{get_param: EnableInternalTLS}, true]} - use_tls_proxy if: - use_tls_proxy - - service: redis network: {get_param: [ServiceNetMap, RabbitmqNetwork]} type: vip - null",17,22
openstack%2Fplacement~master~Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf,openstack/placement,master,Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf,Use expanding bindparam in provider_ids_from_rp_ids in_,MERGED,2019-08-01 14:27:41.000000000,2019-08-02 17:38:44.000000000,2019-08-02 17:38:44.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 14:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7e74bfd9ff7e978ae82b9ed2b36e99ae7636ffb3', 'message': 'Use expanding bindparam in provider_ids_from_rp_ids in_\n\nThis was explored as part of discussion with zzzeek on various\nways to make a statement with a large in_ be more performant.\n\nBatching the queries by chunking rp_ids did not help, but an\nexpanding bindparam did: it makes the surrounding method about\n50% faster [1].\n\n[1] With the caveat that profiling and benchmarking are very\ndifferent things, and in this case it is profiling results\nwhich are being analysed.\n\nChange-Id: Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf\n'}, {'number': 2, 'created': '2019-08-01 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d53da46c88d188f4b319c61818ef0dcd00f31539', 'message': 'Use expanding bindparam in provider_ids_from_rp_ids in_\n\nThis was explored as part of discussion with zzzeek on various\nways to make a statement with a large in_ be more performant.\n\nBatching the queries by chunking rp_ids did not help, but an\nexpanding bindparam did: it makes the surrounding method about\n50% faster [1].\n\nbindparam expanding was added in sqlalchemy 1.2.0 so we bump\nthe requirements here to the latest 1.2.x bugfix release,\n1.2.19.\n\n[1] With the caveat that profiling and benchmarking are very\ndifferent things, and in this case it is profiling results\nwhich are being analysed.\n\nChange-Id: Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf\n'}, {'number': 3, 'created': '2019-08-01 21:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6ee6f610f07ebf82ee5844d3e0327dc3fd823221', 'message': 'Use expanding bindparam in provider_ids_from_rp_ids in_\n\nThis was explored as part of discussion with zzzeek on various\nways to make a statement with a large in_ be more performant.\n\nBatching the queries by chunking rp_ids did not help, but an\nexpanding bindparam did: it makes the surrounding method about\n50% faster [1].\n\nbindparam expanding was added in sqlalchemy 1.2.0 so we bump\nthe requirements here to the latest 1.2.x bugfix release,\n1.2.19.\n\n[1] With the caveat that profiling and benchmarking are very\ndifferent things, and in this case it is profiling results\nwhich are being analysed.\n\nChange-Id: Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf\n'}, {'number': 4, 'created': '2019-08-02 14:30:36.000000000', 'files': ['placement/objects/research_context.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/d4d9457aa10c3309cae00b40598b3cec8b1c793a', 'message': 'Use expanding bindparam in provider_ids_from_rp_ids in_\n\nThis was explored as part of discussion with zzzeek on various\nways to make a statement with a large in_ be more performant.\n\nBatching the queries by chunking rp_ids did not help, but an\nexpanding bindparam did: it makes the surrounding method about\n50% faster [1].\n\nbindparam expanding was added in sqlalchemy 1.2.0 so we bump\nthe requirements here to the latest 1.2.x bugfix release,\n1.2.19.\n\n[1] With the caveat that profiling and benchmarking are very\ndifferent things, and in this case it is profiling results\nwhich are being analysed.\n\nChange-Id: Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf\n'}]",1,674048,d4d9457aa10c3309cae00b40598b3cec8b1c793a,14,4,4,11564,,,0,"Use expanding bindparam in provider_ids_from_rp_ids in_

This was explored as part of discussion with zzzeek on various
ways to make a statement with a large in_ be more performant.

Batching the queries by chunking rp_ids did not help, but an
expanding bindparam did: it makes the surrounding method about
50% faster [1].

bindparam expanding was added in sqlalchemy 1.2.0 so we bump
the requirements here to the latest 1.2.x bugfix release,
1.2.19.

[1] With the caveat that profiling and benchmarking are very
different things, and in this case it is profiling results
which are being analysed.

Change-Id: Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf
",git fetch https://review.opendev.org/openstack/placement refs/changes/48/674048/3 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,7e74bfd9ff7e978ae82b9ed2b36e99ae7636ffb3,cd/de-tuple," sel = sa.select(cols).where( me.c.id.in_(sa.bindparam('rps', expanding=True))) for r in context.session.execute(sel, {'rps': list(rp_ids)}):", sel = sa.select(cols).where(me.c.id.in_(rp_ids)) for r in context.session.execute(sel):,3,2
openstack%2Fplacement~master~I4acb16d13976d64d47f798ebbec626a73b79b4f5,openstack/placement,master,I4acb16d13976d64d47f798ebbec626a73b79b4f5,Use __slots__ in commonly used objects,MERGED,2019-08-02 09:29:01.000000000,2019-08-02 17:38:43.000000000,2019-08-02 17:38:43.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 09:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9914ce8a9dc8eac980f53ceacaa94ed089220cfb', 'message': ""Use __slots__ in commonly used objects\n\nWhen making a nested provider GET /allocation_candidates request\nthat returns around 6500 providers in the providers summary section,\nwe make ~22000 ResourceProvider and ProviderSummary objects, 7500\nAllocationRequest objects and 30000 ProviderSummaryResource objects.\n\nIn aggregate, creating and accessing these objects contributes a\nmeasurable cpu time cost. Using __slots__ [1] can speed up attribute\naccess (I measured it, it does), so lets use it for the common\nobjects. There's no evidence (yet) of other objects being an issue\nso we won't do this wholesale.\n\nA unit test is updated to change a mock from a public ResourceProvider\nmethod (set_aggregates) to a private function (_set_aggregates)\nbecause one of the limitations of __slots__ is it makes the\nslotted objects difficult to mock. In this case the test is still\ntesting the same thing.\n\nSubsequent patches will explore why we need 22000 ProviderSummary\nobjects when we're only producing 6500 resulting summaries to see\nif there is a cleanup that can be done there.\n\n[1] https://docs.python.org/3/reference/datamodel.html#slots\n\nChange-Id: I4acb16d13976d64d47f798ebbec626a73b79b4f5\n""}, {'number': 2, 'created': '2019-08-02 14:18:33.000000000', 'files': ['placement/objects/allocation_candidate.py', 'placement/tests/unit/handlers/test_aggregate.py', 'placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5d3243f4b923ca27bcbaa0919498498337046470', 'message': ""Use __slots__ in commonly used objects\n\nWhen making a nested provider GET /allocation_candidates request\nthat returns around 6500 providers in the providers summary section,\nwe make ~22000 ResourceProvider and ProviderSummary objects, 7500\nAllocationRequest objects and 30000 ProviderSummaryResource objects.\n\nIn aggregate, creating and accessing these objects contributes a\nmeasurable cpu time cost. Using __slots__ [1] can speed up attribute\naccess (I measured it, it does), so lets use it for the common\nobjects. There's no evidence (yet) of other objects being an issue\nso we won't do this wholesale.\n\nA unit test is updated to change a mock from a public ResourceProvider\nmethod (set_aggregates) to a private function (_set_aggregates)\nbecause one of the limitations of __slots__ is it makes the\nslotted objects difficult to mock. In this case the test is still\ntesting the same thing.\n\nSubsequent patches will explore why we need 22000 ProviderSummary\nobjects when we're only producing 6500 resulting summaries to see\nif there is a cleanup that can be done there.\n\n[1] https://docs.python.org/3/reference/datamodel.html#slots\n\nChange-Id: I4acb16d13976d64d47f798ebbec626a73b79b4f5\n""}]",9,674239,5d3243f4b923ca27bcbaa0919498498337046470,15,4,2,11564,,,0,"Use __slots__ in commonly used objects

When making a nested provider GET /allocation_candidates request
that returns around 6500 providers in the providers summary section,
we make ~22000 ResourceProvider and ProviderSummary objects, 7500
AllocationRequest objects and 30000 ProviderSummaryResource objects.

In aggregate, creating and accessing these objects contributes a
measurable cpu time cost. Using __slots__ [1] can speed up attribute
access (I measured it, it does), so lets use it for the common
objects. There's no evidence (yet) of other objects being an issue
so we won't do this wholesale.

A unit test is updated to change a mock from a public ResourceProvider
method (set_aggregates) to a private function (_set_aggregates)
because one of the limitations of __slots__ is it makes the
slotted objects difficult to mock. In this case the test is still
testing the same thing.

Subsequent patches will explore why we need 22000 ProviderSummary
objects when we're only producing 6500 resulting summaries to see
if there is a cleanup that can be done there.

[1] https://docs.python.org/3/reference/datamodel.html#slots

Change-Id: I4acb16d13976d64d47f798ebbec626a73b79b4f5
",git fetch https://review.opendev.org/openstack/placement refs/changes/39/674239/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/allocation_candidate.py', 'placement/tests/unit/handlers/test_aggregate.py', 'placement/objects/resource_provider.py']",3,9914ce8a9dc8eac980f53ceacaa94ed089220cfb,cd/de-tuple," __slots__ = ('_context', 'id', 'uuid', 'name', 'generation', 'parent_provider_uuid', 'root_provider_uuid', 'updated_at', 'created_at') ",,15,2
openstack%2Fneutron-tempest-plugin~master~I6cec868daa0139f6a49807883f901d2eac84fe14,openstack/neutron-tempest-plugin,master,I6cec868daa0139f6a49807883f901d2eac84fe14,"Force the kill of the ""nc"" process only if timeout",MERGED,2019-08-02 13:45:08.000000000,2019-08-02 17:38:40.000000000,2019-08-02 17:38:40.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 13:45:08.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/31993d50fd449e2d3ba02f3d4d94989130cd2118', 'message': 'Force the kill of the ""nc"" process only if timeout\n\nIf the file is received correctly, the ""nc"" process in the remote\nmachine will end gracefully. Only in case of socket timeout, will force\nthe completion of the process before returning.\n\nChange-Id: I6cec868daa0139f6a49807883f901d2eac84fe14\nRelated-Bug: #1838068\n'}]",0,674312,31993d50fd449e2d3ba02f3d4d94989130cd2118,9,4,1,16688,,,0,"Force the kill of the ""nc"" process only if timeout

If the file is received correctly, the ""nc"" process in the remote
machine will end gracefully. Only in case of socket timeout, will force
the completion of the process before returning.

Change-Id: I6cec868daa0139f6a49807883f901d2eac84fe14
Related-Bug: #1838068
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/12/674312/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_qos.py'],1,31993d50fd449e2d3ba02f3d4d94989130cd2118,bug/1838068, self._kill_nc_process(ssh_client), self._kill_nc_process(ssh_client),1,1
openstack%2Fpuppet-nova~master~I0400fdbaf098121c0f5e380379b7cfb660963ddd,openstack/puppet-nova,master,I0400fdbaf098121c0f5e380379b7cfb660963ddd,Implement class to configure parameters to use service token,MERGED,2019-06-20 02:02:33.000000000,2019-08-02 17:21:38.000000000,2019-08-02 17:21:38.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 02:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a10aad90b236040fb408ed50fee28de85f10f721', 'message': 'WIP: Add configuration parameters to use service token\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 2, 'created': '2019-06-20 05:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4466258f313884211f869f9cfbf007dedde5cbbe', 'message': 'WIP: Add configuration parameters to use service token\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 3, 'created': '2019-06-20 05:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2e083986d1f3893d31d59ea130d52d66f58a3b89', 'message': 'WIP: Add configuration parameters to use service token\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 4, 'created': '2019-06-20 07:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3f23ec2de279128f85dd5288d9130c46405557c0', 'message': 'WIP: Add configuration parameters to use service token\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 5, 'created': '2019-06-21 00:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5378d3198f5701501bb595fadc44cdca2b71bc7d', 'message': 'Implement class to configure parameters to use service_token\n\nThis patch introduces nova::keystone::service_token class\nto configure parameters to enable service token feature\nin Nova.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 6, 'created': '2019-06-21 01:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/556c871ae3f50635a20981b5a59a2a4d4324ccc5', 'message': 'Implement class to configure parameters to use service_token\n\nThis patch introduces nova::keystone::service_token class\nto configure parameters to enable service token feature\nin Nova.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 7, 'created': '2019-06-24 00:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/077c1c83db52aa6e51afca26650fd64f36641d40', 'message': 'Implement class to configure parameters to use service token\n\nThis patch introduces nova::keystone::service_user class\nto configure parameters to enable service token feature\nin Nova.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 8, 'created': '2019-06-24 01:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c365a470c657c6ea7cb77b2e10bc16de20a6889f', 'message': 'Implement class to configure parameters to use service token\n\nThis patch introduces nova::keystone::service_user class\nto configure parameters to enable service token feature\nin Nova.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 9, 'created': '2019-07-12 01:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ab4397c476cf29a81311b2c355acfb8b7202af97', 'message': 'Implement class to configure parameters to use service token\n\nThis patch introduces nova::keystone::service_user class\nto configure parameters to enable service token feature\nin Nova.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}, {'number': 10, 'created': '2019-08-01 03:52:22.000000000', 'files': ['manifests/keystone/service_user.pp', 'spec/classes/nova_keystone_authtoken_spec.rb', 'releasenotes/notes/service_token-aa4c96bd76469c56.yaml', 'spec/classes/nova_keystone_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9cde9d9326e296ee8f23eacf48e770a4badc59b8', 'message': 'Implement class to configure parameters to use service token\n\nThis patch introduces nova::keystone::service_user class\nto configure parameters to enable service token feature\nin Nova.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nChange-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd\n'}]",9,666471,9cde9d9326e296ee8f23eacf48e770a4badc59b8,40,6,10,9816,,,0,"Implement class to configure parameters to use service token

This patch introduces nova::keystone::service_user class
to configure parameters to enable service token feature
in Nova.

Depends-on: https://review.opendev.org/#/c/666467/
Change-Id: I0400fdbaf098121c0f5e380379b7cfb660963ddd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/71/666471/7 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/service_token.pp', 'manifests/compute.pp']",2,a10aad90b236040fb408ed50fee28de85f10f721,service_token, include ::nova::keystone::service_token,,102,0
openstack%2Fproject-config~master~I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4,openstack/project-config,master,I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4,Make gerritbot notify #openstack-neutron IRC channel of stable reviews,MERGED,2019-08-02 11:24:10.000000000,2019-08-02 17:03:56.000000000,2019-08-02 17:03:56.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 11:24:10.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f74dd6b1391dabf6d4a01f70d45479dcacdcda1', 'message': 'Make gerritbot notify #openstack-neutron IRC channel of stable reviews\n\nCurrently the openstackgerrit gerritbot is only notifying the\n#openstack-neutron IRC channel of reviews submitted to master.\nSo add notifications for stable branches, as per this discussion:\n\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-neutron/%23openstack-neutron.2019-08-02.log.html#t2019-08-02T08:47:29\n\nChange-Id: I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4\n'}]",0,674273,0f74dd6b1391dabf6d4a01f70d45479dcacdcda1,9,6,1,2394,,,0,"Make gerritbot notify #openstack-neutron IRC channel of stable reviews

Currently the openstackgerrit gerritbot is only notifying the
#openstack-neutron IRC channel of reviews submitted to master.
So add notifications for stable branches, as per this discussion:

http://eavesdrop.openstack.org/irclogs/%23openstack-neutron/%23openstack-neutron.2019-08-02.log.html#t2019-08-02T08:47:29

Change-Id: I716ab52ea7d6f5676d6cef5f2067cfdb495f8dc4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/674273/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,0f74dd6b1391dabf6d4a01f70d45479dcacdcda1,gerritbot-neutron-stable, - ^stable/.*,,1,0
openstack%2Fkolla-ansible~stable%2Frocky~Ia4ec794bb2b18aca2592b62a35066c237192a0f3,openstack/kolla-ansible,stable/rocky,Ia4ec794bb2b18aca2592b62a35066c237192a0f3,Ensure keystone endpoint is updatable,MERGED,2019-08-02 13:54:21.000000000,2019-08-02 17:03:11.000000000,2019-08-02 17:03:10.000000000,"[{'_account_id': 7488}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-02 13:54:21.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19a1a38671efb40b1fb62b429a672e396514d59a', 'message': 'Ensure keystone endpoint is updatable\n\nChange-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3\n(cherry picked from commit 6191c775c1fc90c5ded5054286c84a519ad75ec4)\n'}]",0,674316,19a1a38671efb40b1fb62b429a672e396514d59a,7,4,1,24072,,,0,"Ensure keystone endpoint is updatable

Change-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3
(cherry picked from commit 6191c775c1fc90c5ded5054286c84a519ad75ec4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/674316/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,19a1a38671efb40b1fb62b429a672e396514d59a,,"# NOTE(jeffrey4l): Since keystone-manage bootstrap cloud not update the endpoint, # run kolla_keystone_service module again. - name: Creating the Keystone service and endpoint kolla_toolbox: module_name: ""kolla_keystone_service"" module_args: service_name: ""keystone"" service_type: ""identity"" description: ""Openstack Identity Service"" endpoint_region: ""{{ openstack_region_name }}"" url: ""{{ item.url }}"" interface: ""{{ item.interface }}"" region_name: ""{{ openstack_region_name }}"" auth: ""{{ openstack_keystone_auth }}"" endpoint_type: ""{{ openstack_interface }}"" run_once: True with_items: - { interface: admin, url: ""{{ keystone_admin_url }}"" } - { interface: internal, url: ""{{ keystone_internal_url }}"" } - { interface: public, url: ""{{ keystone_public_url }}"" } ",,21,0
openstack%2Fkolla-ansible~stable%2Fstein~Ic19264191a0ed418fa959fdc122cef543446fbe5,openstack/kolla-ansible,stable/stein,Ic19264191a0ed418fa959fdc122cef543446fbe5,ceph-nfs: Add rpcbind to Ubuntu host bootstrap,MERGED,2019-08-02 11:52:13.000000000,2019-08-02 17:03:10.000000000,2019-08-02 17:03:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-02 11:52:13.000000000', 'files': ['doc/source/reference/storage/ceph-guide.rst', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92090b25a459b2ce550cdaf8724f03d89ab46d45', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n(cherry picked from commit efcaf400b89d83db59871b97421d71d934b5b168)\n'}]",0,674279,92090b25a459b2ce550cdaf8724f03d89ab46d45,8,4,1,30491,,,0,"ceph-nfs: Add rpcbind to Ubuntu host bootstrap

* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind
udp test on startup (was fixed later)
* Add rpcbind package to be installed by kolla-ansible bootstrap when
ceph_nfs is enabled
* Update Ceph deployment docs with a note

Change-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5
(cherry picked from commit efcaf400b89d83db59871b97421d71d934b5b168)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/674279/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/ceph-guide.rst', 'ansible/roles/baremetal/defaults/main.yml']",2,92090b25a459b2ce550cdaf8724f03d89ab46d45,bug/ceph_nfs_ubuntu-stable/stein,"# Ubuntu 18+ bundles nfs-ganesha 2.6.0 with Ceph Mimic packages, # which does udp rpcbind test even with NFSv3 disabled - therefore # rpcbind needs to be installed, when Ceph NFS is enabled. - ""{% if enable_ceph_nfs|bool %}rpcbind{% endif %}""",,51,19
openstack%2Fpuppet-ceph~stable%2Fmimic~I11f134bed59da706a03ce4a70d941145c16f8175,openstack/puppet-ceph,stable/mimic,I11f134bed59da706a03ce4a70d941145c16f8175,Resolve puppet overwriting a pre-existing bootstrap-osd auth entry,MERGED,2019-04-29 09:41:22.000000000,2019-08-02 16:57:31.000000000,2019-08-02 16:57:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 19564}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-04-29 09:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/083a562f6efda8e6d7efa8189a8a5fef935ba244', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n'}, {'number': 2, 'created': '2019-05-03 16:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b02aa854c03656178f60ad90d5f2db49ff3fc2a0', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)\n'}, {'number': 3, 'created': '2019-06-25 15:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/a7f88c8a3d7e732ab59ea523dd1545bc7b6284d3', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)\n'}, {'number': 4, 'created': '2019-06-26 19:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/eb036d49bff69c352a7d73639e8335d4c198d5f8', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)\n'}, {'number': 5, 'created': '2019-07-31 16:52:21.000000000', 'files': ['manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b90c642c687f392a809cf95975a6774ebdc34eb8', 'message': 'Resolve puppet overwriting a pre-existing bootstrap-osd auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. puppet-ceph has been overwriting this keyring in memory and\non the filesystem. This patch updates ceph::osd to exract the\nclient keyring from memory and write it to the filesystem. This will\nmeans ceph::key will not need to create the client.bootstrap-osd keyring.\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: I11f134bed59da706a03ce4a70d941145c16f8175\nPartial-bug: 1769722\n(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)\n'}]",0,656279,b90c642c687f392a809cf95975a6774ebdc34eb8,32,6,5,6796,,,0,"Resolve puppet overwriting a pre-existing bootstrap-osd auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. puppet-ceph has been overwriting this keyring in memory and
on the filesystem. This patch updates ceph::osd to exract the
client keyring from memory and write it to the filesystem. This will
means ceph::key will not need to create the client.bootstrap-osd keyring.

Depends-On: https://review.opendev.org/#/c/667387/
Change-Id: I11f134bed59da706a03ce4a70d941145c16f8175
Partial-bug: 1769722
(cherry picked from commit d833c03b975c922a28281918a2ac71a3dd7a2104)
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/79/656279/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,083a562f6efda8e6d7efa8189a8a5fef935ba244,bug/1769722," #name of the bootstrap osd keyring $bootstrap_osd_keyring = ""/var/lib/ceph/bootstrap-osd/${cluster_name}.keyring"" exec { ""extract-bootstrap-osd-keyring-${name}"": command => ""/bin/true # comment to satisfy puppet syntax requirements ceph auth get client.bootstrap-osd > ${bootstrap_osd_keyring} "", creates => ""${bootstrap_osd_keyring}"", } Exec[$ceph_check_udev] -> Exec[""extract-bootstrap-osd-keyring-${name}""] Exec[""extract-bootstrap-osd-keyring-${name}""] -> Exec[$ceph_prepare] ", Exec[$ceph_check_udev] -> Exec[$ceph_prepare],11,1
openstack%2Fcharms.openstack~master~Ic48aabb3650a7198ef8298aa0eef152b4851e9a3,openstack/charms.openstack,master,Ic48aabb3650a7198ef8298aa0eef152b4851e9a3,Determine amqp port from relation data,MERGED,2019-08-02 16:17:22.000000000,2019-08-02 16:44:02.000000000,2019-08-02 16:44:02.000000000,"[{'_account_id': 935}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 16:17:22.000000000', 'files': ['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/405b4b75bcb9efb405c2170452a32a3c442caec6', 'message': 'Determine amqp port from relation data\n\nThe non-SSL port 5672 was hard coded.\n\nSet the amqp port based on relation data.\n\nChange-Id: Ic48aabb3650a7198ef8298aa0eef152b4851e9a3\nCloses-Bug: #1838783\n'}]",0,674346,405b4b75bcb9efb405c2170452a32a3c442caec6,7,3,1,20805,,,0,"Determine amqp port from relation data

The non-SSL port 5672 was hard coded.

Set the amqp port based on relation data.

Change-Id: Ic48aabb3650a7198ef8298aa0eef152b4851e9a3
Closes-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/46/674346/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py']",2,405b4b75bcb9efb405c2170452a32a3c442caec6,bug/1838783," auto_accessors = ['vip', 'private_address', 'password', 'ssl_port'] def __init__(self, vip=None, ssl=False): self._ssl = ssl def ssl_port(self): if self._ssl: return '5671' return None def test_class_ssl(self): fake = FakeRabbitMQRelation(ssl=True) adapters.ch_ip.format_ipv6_addr.side_effect = lambda x: x mq = adapters.RabbitMQRelationAdapter(fake) self.assertEqual(mq.vhost, 'vhost') self.assertEqual(mq.username, 'fakename') self.assertEqual(mq.host, 'private-address') # TODO: can't do the following 2 lines as not dynamic accessors # fake._vip = 'vip1' # self.assertEqual(mq.host, 'vip1') self.assertEqual(mq.hosts, 'host1,host2') self.assertEqual( mq.transport_url, 'rabbit://fakename:password@host1:5671,' 'fakename:password@host2:5671/vhost' ) "," auto_accessors = ['vip', 'private_address', 'password'] def __init__(self, vip=None):",39,5
openstack%2Ftripleo-validations~stable%2Fstein~Ib8ae41451f245d4e2d40864cc36515a07a1878bf,openstack/tripleo-validations,stable/stein,Ib8ae41451f245d4e2d40864cc36515a07a1878bf,Adds molecule tests for ctlplane-ip-range validation,MERGED,2019-08-01 11:07:25.000000000,2019-08-02 16:33:24.000000000,2019-08-02 16:33:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d3cd7c726596dbcfc99c4927e29dd3e44b74084c', 'message': 'Adds molecule tests for ctlplane-ip-range validation\n\nChange-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf\n(cherry picked from commit 49aa25278db5031d0543169ad2e12676ca89fc7d)\n'}, {'number': 2, 'created': '2019-08-01 11:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2819c5a0b730080074bc67ae837a7bb13d300bf9', 'message': 'Adds molecule tests for ctlplane-ip-range validation\n\nChange-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf\n(cherry picked from commit 49aa25278db5031d0543169ad2e12676ca89fc7d)\n'}, {'number': 3, 'created': '2019-08-01 12:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/083a6a2b97feb9e28af4bf85c03e78efe79f66b1', 'message': 'Adds molecule tests for ctlplane-ip-range validation\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf\n(cherry picked from commit 49aa25278db5031d0543169ad2e12676ca89fc7d)\n'}, {'number': 4, 'created': '2019-08-01 14:02:47.000000000', 'files': ['roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/Dockerfile.j2', 'roles/ctlplane-ip-range/molecule/default/playbook.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6d3c81eeff56cc214b2fe780f3520ab64f548cc6', 'message': 'Adds molecule tests for ctlplane-ip-range validation\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf\n(cherry picked from commit 49aa25278db5031d0543169ad2e12676ca89fc7d)\n'}]",0,674002,6d3c81eeff56cc214b2fe780f3520ab64f548cc6,9,4,4,11491,,,0,"Adds molecule tests for ctlplane-ip-range validation

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf
(cherry picked from commit 49aa25278db5031d0543169ad2e12676ca89fc7d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/02/674002/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/Dockerfile.j2', 'roles/ctlplane-ip-range/molecule/default/playbook.yml']",3,d3cd7c726596dbcfc99c4927e29dd3e44b74084c,molecule-stable-stein,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all gather_facts: no tasks: - name: prepare directory tree for hiera file: path: /etc/puppet state: directory - name: populate a hiera config copy: dest: /etc/puppet/hiera.yaml content: | :backends: - yaml - json :yaml: :datadir: ""/etc/puppet/"" :hierarchy: - ""common"" - name: populate hiera content copy: dest: /etc/puppet/common.yaml content: | tripleo_undercloud_conf_file: /undercloud.conf - name: Test good values block: - name: populate undercloud.conf with right range length copy: dest: /undercloud.conf content: | [ctlplane-subnet] dhcp_start = 192.168.12.10 dhcp_end = 192.168.12.100 - include_role: name: ctlplane-ip-range - name: Test failing block: - name: populate undercloud.conf with wrong range length copy: dest: /undercloud.conf content: | [ctlplane-subnet] dhcp_start = 192.168.12.10 dhcp_end = 192.168.12.20 - include_role: name: ctlplane-ip-range rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The ctlplane-ip-range validation didn't properly detect too short range! ",,167,0
openstack%2Freleases~master~I8310a6379a2caa156ed225d1e07be68536c56863,openstack/releases,master,I8310a6379a2caa156ed225d1e07be68536c56863,Release octavia-lib 1.3.0,MERGED,2019-07-31 23:57:40.000000000,2019-08-02 16:24:36.000000000,2019-08-02 16:24:36.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-31 23:57:40.000000000', 'files': ['deliverables/train/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a9e1e2425bfe3dd326d8246af4c8398ffaa82863', 'message': 'Release octavia-lib 1.3.0\n\nThis patch proposes the release of octavia-lib 1.3.0.\n\nChange-Id: I8310a6379a2caa156ed225d1e07be68536c56863\n'}]",0,673928,a9e1e2425bfe3dd326d8246af4c8398ffaa82863,10,6,1,11628,,,0,"Release octavia-lib 1.3.0

This patch proposes the release of octavia-lib 1.3.0.

Change-Id: I8310a6379a2caa156ed225d1e07be68536c56863
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/673928/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia-lib.yaml'],1,a9e1e2425bfe3dd326d8246af4c8398ffaa82863,,include-pypi-link: true - version: 1.3.0 projects: - repo: openstack/octavia-lib hash: 54a9d2c6d46c4b3e7e78f0289596f4e8b6ea469b,include-pypi-link: yes,5,1
openstack%2Fkolla-cli~master~I8b98e96a5f8be1d86f388a2fd702eacd3ad07986,openstack/kolla-cli,master,I8b98e96a5f8be1d86f388a2fd702eacd3ad07986,Move sphinx-build into tox,MERGED,2019-07-31 16:35:46.000000000,2019-08-02 16:23:35.000000000,2019-08-02 16:23:35.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-31 16:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/db65a7560329e22b484367558029a2e22cf0cf9d', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 2, 'created': '2019-08-01 13:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/b5f492f85ce0910fd459e1566103e7aa59e5e9cd', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 3, 'created': '2019-08-01 13:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/daa78ece238fb8a0356f32cfcf9c33a7ee0543a8', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 4, 'created': '2019-08-01 13:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/b490fd7f30f390c6151d9e26bf9970d907650716', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 5, 'created': '2019-08-01 13:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d718be034051beaba51019d42f67600953b37c58', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 6, 'created': '2019-08-01 14:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a637f24460cecf2e7fcbde967456d6e7582f72f0', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 7, 'created': '2019-08-01 15:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/06c89592c2b71b67cf1e8c07d0e202c3a894350c', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 8, 'created': '2019-08-02 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/0ac2248be28fe0799f47674002490ac5a4e27904', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}, {'number': 9, 'created': '2019-08-02 15:44:02.000000000', 'files': ['builddocs.sh', 'doc/source/kolla_cli.tests.functional.rst', 'test-requirements.txt', 'doc/source/kolla_cli.common.ansible.rst', 'doc/source/kollacli.rst', 'doc/source/conf.py', 'doc/source/kolla_cli.common.rst', 'doc/source/kolla_cli.api.rst', 'doc/source/kollacli.common.ansible.rst', 'kolla_cli/common/inventory.py', 'doc/source/index.rst', 'kolla_cli/tests/functional/test_service.py', 'doc/source/kolla_cli.commands.rst', 'doc/source/kollacli.commands.rst', 'doc/source/kollacli.common.rst', 'doc/source/kolla_cli.tests.rst', 'doc/source/kolla_cli.rst', 'doc/source/kolla_cli.tests.unit.rst', 'doc/source/modules.rst', 'kolla_cli/common/utils.py', 'doc/source/kollacli.api.rst', 'tox.ini', 'kolla_cli/tests/functional/test_group.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/3babfbaedad283ade0ae3fff452da22b2add0724', 'message': 'Move sphinx-build into tox\n\nChange-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986\n'}]",0,673871,3babfbaedad283ade0ae3fff452da22b2add0724,20,3,9,28614,,,0,"Move sphinx-build into tox

Change-Id: I8b98e96a5f8be1d86f388a2fd702eacd3ad07986
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/71/673871/9 && git format-patch -1 --stdout FETCH_HEAD,"['builddocs.sh', 'test-requirements.txt', 'tox.ini']",3,db65a7560329e22b484367558029a2e22cf0cf9d,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = rm -rf doc/build sphinx-build -W -b html doc/source doc/build/html,commands = ./builddocs.sh,8,5
openstack%2Fnova~master~I6a10f55f777917d6caf2f09aa5b2ca7c4676b749,openstack/nova,master,I6a10f55f777917d6caf2f09aa5b2ca7c4676b749,Add method 'all_required_traits' to scheduler utils,MERGED,2019-07-11 12:59:52.000000000,2019-08-02 16:20:14.000000000,2019-08-02 16:20:14.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-07-11 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8baa118a120476a8e2aa1e0573369e2d99d032fa', 'message': ""Add method 'get_all_required_traits' to scheduler utils\n\nIn order to set required CPU flags to libvirt, we have to first get all\nrequired traits.\n\nChange-Id: I6a10f55f777917d6caf2f09aa5b2ca7c4676b749\nImplements: blueprint cpu-model-selection\n""}, {'number': 2, 'created': '2019-07-12 04:57:19.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d4b32e1bd432a5cb6f8098edbce4b347a7ec035', 'message': ""Add method 'all_required_traits' to scheduler utils\n\nIn order to set required CPU flags to libvirt, we have to first get all\nrequired traits.\n\nChange-Id: I6a10f55f777917d6caf2f09aa5b2ca7c4676b749\nImplements: blueprint cpu-model-selection\n""}]",3,670297,2d4b32e1bd432a5cb6f8098edbce4b347a7ec035,36,13,2,27614,,,0,"Add method 'all_required_traits' to scheduler utils

In order to set required CPU flags to libvirt, we have to first get all
required traits.

Change-Id: I6a10f55f777917d6caf2f09aa5b2ca7c4676b749
Implements: blueprint cpu-model-selection
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/670297/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,8baa118a120476a8e2aa1e0573369e2d99d032fa,bp/cpu-model-selection," def test_get_all_required_traits(self): flavor = objects.Flavor(vcpus=1, memory_mb=1024, root_gb=10, ephemeral_gb=5, swap=0, extra_specs={ 'trait:HW_CPU_X86_SSE': 'required', 'trait:HW_CPU_X86_AVX': 'required', 'trait:HW_CPU_X86_AVX2': 'forbidden'}) expected_resources = utils.ResourceRequest() expected_resources._rg_by_id[None] = objects.RequestGroup( use_same_provider=False, resources={ 'VCPU': 1, 'MEMORY_MB': 1024, 'DISK_GB': 15, }, required_traits={ 'HW_CPU_X86_SSE', 'HW_CPU_X86_AVX' }, forbidden_traits={ 'HW_CPU_X86_AVX2' } ) resource = self._test_resources_from_request_spec(expected_resources, flavor) expected_result = {'HW_CPU_X86_SSE', 'HW_CPU_X86_AVX'} self.assertEqual(expected_result, resource.get_all_required_traits) ",,39,0
openstack%2Fpython-tripleoclient~stable%2Fstein~Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,openstack/python-tripleoclient,stable/stein,Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,Use static inventory YAML file for saving execution time,MERGED,2019-08-01 09:39:30.000000000,2019-08-02 15:57:37.000000000,2019-08-02 15:57:37.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-08-01 09:39:30.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af8dadea92283c22c117200d377dca842d5836bc', 'message': 'Use static inventory YAML file for saving execution time\n\nThe validations execution will use now a static inventory file to speed\nup things a bit. Note that this file will be removed after execution.\n\nChange-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 4f55cdf59ad871dccf107e191c9c738c22fe26f4)\n'}]",0,673984,af8dadea92283c22c117200d377dca842d5836bc,14,9,1,11491,,,0,"Use static inventory YAML file for saving execution time

The validations execution will use now a static inventory file to speed
up things a bit. Note that this file will be removed after execution.

Change-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 4f55cdf59ad871dccf107e191c9c738c22fe26f4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/673984/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",3,af8dadea92283c22c117200d377dca842d5836bc,bp/validation-framework-stable/stein," static_inventory = oooutils.get_tripleo_ansible_inventory( ssh_user='heat-admin', stack=parsed_args.plan, return_inventory_file_path=True) failed_val = False inventory=static_inventory, print('[SUCCESS] - {}\n{}'.format(playbook, oooutils.indent(output))) except Exception as e: failed_val = True LOG.error('[FAILED] - {}\n{}'.format( LOG.debug(_('Removing static tripleo ansible inventory file')) oooutils.cleanup_tripleo_ansible_inventory_file( static_inventory) if failed_val: LOG.error(_('One or more validations have failed!')) sys.exit(1) sys.exit(0) "," inventory='/usr/bin/tripleo-ansible-inventory', print('[SUCCESS] - {}\n{}'.format( playbook, oooutils.indent(output))) except Exception as e: print('[FAILED] - {}\n{}'.format(",43,11
openstack%2Fpython-tripleoclient~stable%2Fstein~I188604f7767b51a0f485bd79ff3497af56586b13,openstack/python-tripleoclient,stable/stein,I188604f7767b51a0f485bd79ff3497af56586b13,Don't use local connection by default for the validations,MERGED,2019-08-01 09:39:30.000000000,2019-08-02 15:53:26.000000000,2019-08-02 15:53:26.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 09:39:30.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/439fcbf3d353ae433a5211d07bee8e16dad84590', 'message': ""Don't use local connection by default for the validations\n\nWhen using local connection, all the validations targeting the overcloud\nnodes are failing. Let's use the connection mode from the Ansible\ninventory.\n\nChange-Id: I188604f7767b51a0f485bd79ff3497af56586b13\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 82887ef228659c7494f51b7e37eb177ff98b69bc)\n""}]",0,673983,439fcbf3d353ae433a5211d07bee8e16dad84590,13,8,1,11491,,,0,"Don't use local connection by default for the validations

When using local connection, all the validations targeting the overcloud
nodes are failing. Let's use the connection mode from the Ansible
inventory.

Change-Id: I188604f7767b51a0f485bd79ff3497af56586b13
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 82887ef228659c7494f51b7e37eb177ff98b69bc)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/673983/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py']",2,439fcbf3d353ae433a5211d07bee8e16dad84590,bp/validation-framework-stable/stein,," connection='local',",0,2
openstack%2Fpython-tripleoclient~stable%2Fstein~I6f8f55963f3f5261ec1497b650e0ca509d31dd32,openstack/python-tripleoclient,stable/stein,I6f8f55963f3f5261ec1497b650e0ca509d31dd32,Add plan parameter to run_ansible_playbook function,MERGED,2019-08-01 09:39:30.000000000,2019-08-02 15:53:25.000000000,2019-08-02 15:53:25.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 09:39:30.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57070c82c9105a5ada7c9bd45af762ec276b98d5', 'message': 'Add plan parameter to run_ansible_playbook function\n\nThis patch adds a new parameter called \'plan\' (Defaults to ""overcloud"")\nto the \'run_ansible_playbook\' function. It will allow to execute\nValidations with Ansible in a different plan or stack that the default\none through the TripleO CLI. Note That it was already possible only\nwhile using Mistral but not for Ansible.\n\nThis patch also brings:\n- Change the default values of the \'tags\' and \'skip_tags\' arguments\n  to \'None\' and fixes their non Pythonic tests.\n- Add \'--stack\' alias to the \'--plan\' argument for \'validator run\'\n  command.\n\nChange-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 17e56a01d5d1efbb9307addb80a92fe242595412)\n'}]",0,673982,57070c82c9105a5ada7c9bd45af762ec276b98d5,14,8,1,11491,,,0,"Add plan parameter to run_ansible_playbook function

This patch adds a new parameter called 'plan' (Defaults to ""overcloud"")
to the 'run_ansible_playbook' function. It will allow to execute
Validations with Ansible in a different plan or stack that the default
one through the TripleO CLI. Note That it was already possible only
while using Mistral but not for Ansible.

This patch also brings:
- Change the default values of the 'tags' and 'skip_tags' arguments
  to 'None' and fixes their non Pythonic tests.
- Add '--stack' alias to the '--plan' argument for 'validator run'
  command.

Change-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 17e56a01d5d1efbb9307addb80a92fe242595412)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/673982/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",4,57070c82c9105a5ada7c9bd45af762ec276b98d5,bp/validation-framework-stable/stein," '--plan', '--stack', dest='plan', plan=parsed_args.plan,"," '--plan', action='store',",24,11
openstack%2Fcharm-percona-cluster~master~I3a548d7941084f862d40ccdbb59f5d4706557432,openstack/charm-percona-cluster,master,I3a548d7941084f862d40ccdbb59f5d4706557432,use indentation instead of backticks - driveby formatting and minor fixes,MERGED,2019-08-02 15:10:02.000000000,2019-08-02 15:32:51.000000000,2019-08-02 15:32:51.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 15:10:02.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/bd12b35b80c52830db3eb05b92a6e79e005bff31', 'message': 'use indentation instead of backticks - driveby formatting and minor fixes\n\nChange-Id: I3a548d7941084f862d40ccdbb59f5d4706557432\n'}]",0,674329,bd12b35b80c52830db3eb05b92a6e79e005bff31,6,2,1,30561,,,0,"use indentation instead of backticks - driveby formatting and minor fixes

Change-Id: I3a548d7941084f862d40ccdbb59f5d4706557432
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/29/674329/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,bd12b35b80c52830db3eb05b92a6e79e005bff31,workaround-for-codeblocks-plus-formatting," - If neither 'vip' nor 'dns-ha' is set and the charm is related to hacluster - If both 'vip' and 'dns-ha' are set, as they are mutually exclusive - If 'dns-ha' is set and 'os-access-hostname' is not set - If the 'access' binding is not set and 'dns-ha' is set, consumers of the db may not be allowed to connectThe 'cluster' endpoint binding is used to determine which network space units within the percona-cluster deployment should use for communication with each other; the 'shared-db' endpoint binding is used to determine which network space should be used for access to MySQL databases services from other charms. **NOTE:** Spaces must be configured in the underlying provider prior to attempting to use them. **NOTE:** Existing deployments using the access-network configuration option will continue to function; this option is preferred over any network space binding provided for the 'shared-db' relation if set. juju run-action mysql/N backup * Get that backup off the mysql/N unit and somewhere safe. juju scp -- -r mysql/N:/opt/backups/mysql /path/to/local/backup/dirThe leader node will remain up for the time being. This is to ensure the leader has the latest sequence number and will be considered the most up to date by the cluster. juju run-action hacluster/N pause juju run-action percona-cluster/N pause juju upgrade-series prepare $MACHINE_NUMBER $SERIES juju upgrade-series complete $MACHINE_NUMBER juju run-action mysql/N complete-cluster-series-upgrade juju set-series percona-cluster xenial juju config mysql source=distro Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0 blocked idle 1 10.5.0.20 3306/tcp MySQL is down. Sequence Number: 355. Safe To Bootstrap: 0 hacluster/0 active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 blocked idle 2 10.5.0.17 3306/tcp MySQL is down. Sequence Number: 355. Safe To Bootstrap: 0 hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2* blocked idle 3 10.5.0.27 3306/tcp MySQL is down. Sequence Number: 355. Safe To Bootstrap: 0 hacluster/2* active idle 10.5.0.27 Unit is ready and clustered Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0* blocked idle 1 10.5.0.20 3306/tcp MySQL is down. Sequence Number: 1318. Safe To Bootstrap: 0 hacluster/0* active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 blocked idle 2 10.5.0.17 3306/tcp MySQL is down. Sequence Number: 1318. Safe To Bootstrap: 0 hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2 blocked idle 3 10.5.0.27 3306/tcp MySQL is down. Sequence Number: 1325. Safe To Bootstrap: 0 hacluster/2 active idle 10.5.0.27 Unit is ready and clustered juju run-action --wait percona-cluster/2 bootstrap-pxc Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0* waiting idle 1 10.5.0.20 3306/tcp Unit waiting for cluster bootstrap hacluster/0* active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 waiting idle 2 10.5.0.17 3306/tcp Unit waiting for cluster bootstrap hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2 waiting idle 3 10.5.0.27 3306/tcp Unit waiting for cluster bootstrap hacluster/2 active idle 10.5.0.27 Unit is ready and clustered juju run-action percona-cluster/0 notify-bootstrapped --wait After the model settles, the output should show all nodes in active and ready Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0* active idle 1 10.5.0.20 3306/tcp Unit is ready hacluster/0* active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 active idle 2 10.5.0.17 3306/tcp Unit is ready hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2 active idle 3 10.5.0.27 3306/tcp Unit is ready hacluster/2 active idle 10.5.0.27 Unit is ready and clustered","If neither 'vip' nor 'dns-ha' is set and the charm is related to hacluster If both 'vip' and 'dns-ha' are set, as they are mutually exclusive If 'dns-ha' is set and 'os-access-hostname' is not set If the 'access' binding is not set and 'dns-ha' is set, consumers of the db may not be allowed to connectThe 'cluster' endpoint binding is used to determine which network space units within the percona-cluster deployment should use for communication with each other; the 'shared-db' endpoint binding is used to determine which network space should be used for access to MySQL databases services from other charms. **NOTE:** Spaces must be configured in the underlying provider prior to attempting to use them. **NOTE:** Existing deployments using the access-network configuration option will continue to function; this option is preferred over any network space binding provided for the 'shared-db' relation if set.```sh juju run-action mysql/N backup ``` * Get that backup off the mysql/N unit and somehwere safe. ```sh juju scp -- -r mysql/N:/opt/backups/mysql /path/to/local/backup/dir ```The leader node will remain up for the time being. This is to ensure the leader has the latest sequence number and will be considered the most up to date by the cluster. ```sh juju run-action hacluster/N pause juju run-action percona-cluster/N pause ``````sh juju upgrade-series prepare $MACHINE_NUMBER $SERIES ``````sh juju upgrade-series complete $MACHINE_NUMBER ``````sh juju run-action mysql/N complete-cluster-series-upgrade ``````sh juju set-series percona-cluster xenial juju config mysql source=distro ``````sh Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0 blocked idle 1 10.5.0.20 3306/tcp MySQL is down. Sequence Number: 355. Safe To Bootstrap: 0 hacluster/0 active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 blocked idle 2 10.5.0.17 3306/tcp MySQL is down. Sequence Number: 355. Safe To Bootstrap: 0 hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2* blocked idle 3 10.5.0.27 3306/tcp MySQL is down. Sequence Number: 355. Safe To Bootstrap: 0 hacluster/2* active idle 10.5.0.27 Unit is ready and clustered ``````sh Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0* blocked idle 1 10.5.0.20 3306/tcp MySQL is down. Sequence Number: 1318. Safe To Bootstrap: 0 hacluster/0* active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 blocked idle 2 10.5.0.17 3306/tcp MySQL is down. Sequence Number: 1318. Safe To Bootstrap: 0 hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2 blocked idle 3 10.5.0.27 3306/tcp MySQL is down. Sequence Number: 1325. Safe To Bootstrap: 0 hacluster/2 active idle 10.5.0.27 Unit is ready and clustered ``````sh juju run-action --wait percona-cluster/2 bootstrap-pxc ``````sh Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0* waiting idle 1 10.5.0.20 3306/tcp Unit waiting for cluster bootstrap hacluster/0* active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 waiting idle 2 10.5.0.17 3306/tcp Unit waiting for cluster bootstrap hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2 waiting idle 3 10.5.0.27 3306/tcp Unit waiting for cluster bootstrap hacluster/2 active idle 10.5.0.27 Unit is ready and clustered ``````sh juju run-action percona-cluster/0 notify-bootstrapped --wait ``` After the model settles, the ouput should show all nodes in active and ready```sh Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 0 10.5.0.32 5000/tcp Unit is ready percona-cluster/0* active idle 1 10.5.0.20 3306/tcp Unit is ready hacluster/0* active idle 10.5.0.20 Unit is ready and clustered percona-cluster/1 active idle 2 10.5.0.17 3306/tcp Unit is ready hacluster/1 active idle 10.5.0.17 Unit is ready and clustered percona-cluster/2 active idle 3 10.5.0.27 3306/tcp Unit is ready hacluster/2 active idle 10.5.0.27 Unit is ready and clustered ``` ### Documentation",70,86
openstack%2Fnova~master~Iff9730d19486122cd5ce174b0129546edf2a3224,openstack/nova,master,Iff9730d19486122cd5ce174b0129546edf2a3224,trivial: Remove unused function parameter,MERGED,2019-07-19 18:17:15.000000000,2019-08-02 15:32:30.000000000,2019-08-02 15:32:30.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-19 18:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f373d964b2ad2b60929150f14c57497de01f1941', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-07-21 13:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe7699ea1ac474058668af07f8634a69328f4db1', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-07-22 16:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7a207d66dbd16943c783634657fff43551285b1', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-07-23 17:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad83c3c19827115a7293d67d089ce0f53cea1a05', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-07-24 15:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec9ea4cd92a57f6b40e989b83faaacba815fb131', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-07-25 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4e9d552f2e1e19c1e92b2b142cbaf5476cfeb1a', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-08-01 18:07:35.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1fd180a9b1fcaab78f440ecfb69ee4958110d58', 'message': ""trivial: Remove unused function parameter\n\nThe 'never_serialize_result' parameter of the\n'get_host_numa_usage_from_instance' function has no callers that aren't\ntests. Remove it.\n\nChange-Id: Iff9730d19486122cd5ce174b0129546edf2a3224\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,671796,d1fd180a9b1fcaab78f440ecfb69ee4958110d58,93,16,7,15334,,,0,"trivial: Remove unused function parameter

The 'never_serialize_result' parameter of the
'get_host_numa_usage_from_instance' function has no callers that aren't
tests. Remove it.

Change-Id: Iff9730d19486122cd5ce174b0129546edf2a3224
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/671796/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py']",2,f373d964b2ad2b60929150f14c57497de01f1941,bp/cpu-resources,"def get_host_numa_usage_from_instance(host, instance, free=False): :returns: An instance of ``objects.NUMATopology`` or a dict, depending on the original format of the ``host.numa_topology`` field. if jsonify_result:","def get_host_numa_usage_from_instance(host, instance, free=False, never_serialize_result=False): :param never_serialize_result: if True result will always be an instance of objects.NUMATopology :returns: a objects.NUMATopology instance if never_serialize_result was True, else numa_usage in the format it was on the host if jsonify_result and not never_serialize_result:",4,17
openstack%2Fopenstack-helm-images~master~Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159,openstack/openstack-helm-images,master,Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159,Add support for DPDK to opensuse openvswitch image,MERGED,2019-07-16 10:14:33.000000000,2019-08-02 15:28:55.000000000,2019-08-02 15:25:19.000000000,"[{'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 16353}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 29668}, {'_account_id': 30220}, {'_account_id': 30232}]","[{'number': 1, 'created': '2019-07-16 10:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/17f145d708ba747c14f01b9df47764c9d153a12f', 'message': 'Add support for DPDK to opensuse openvswitch image\n\nThis patch adds a leap 15.0 openvswitch image with DPDK support by\ninstalling both ovs and dpdk available packages. The versions are:\n\nopenvswitch 2.11\ndpdk 18.11.0\n\nChange-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2019-07-17 08:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/138fe55fc1613c36a82fca97e046b62f82fd01e2', 'message': 'Add support for DPDK to opensuse openvswitch image\n\nThis patch adds a leap 15.0 openvswitch image with DPDK support by\ninstalling both ovs and dpdk available packages. The versions are:\n\nopenvswitch 2.11\ndpdk 18.11.0\n\nChange-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2019-07-18 17:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/24677f9cca04b9a985d3e677a77bc4a42d62c634', 'message': 'Add support for DPDK to opensuse openvswitch image\n\nThis patch adds a leap 15.0 openvswitch image with DPDK support by\ninstalling both ovs and dpdk available packages. The versions are:\n\nopenvswitch 2.11\ndpdk 18.11.0\n\nChange-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 4, 'created': '2019-07-18 17:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4e486f2a4189ad29e8b518873b8806eb93396ecf', 'message': 'Add support for DPDK to opensuse openvswitch image\n\nThis patch adds a leap 15.0 openvswitch image with DPDK support by\ninstalling both ovs and dpdk available packages. The versions are:\n\nopenvswitch 2.11\ndpdk 18.11.0\n\nChange-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 5, 'created': '2019-07-22 15:27:49.000000000', 'files': ['openvswitch/Dockerfile.suse_15-dpdk', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/86be43387b3d91d407eaae287a8575a4ca8f21af', 'message': 'Add support for DPDK to opensuse openvswitch image\n\nThis patch adds a leap 15.0 openvswitch image with DPDK support by\ninstalling both ovs and dpdk available packages. The versions are:\n\nopenvswitch 2.11\ndpdk 18.11.0\n\nChange-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",6,670997,86be43387b3d91d407eaae287a8575a4ca8f21af,33,14,5,21883,,,0,"Add support for DPDK to opensuse openvswitch image

This patch adds a leap 15.0 openvswitch image with DPDK support by
installing both ovs and dpdk available packages. The versions are:

openvswitch 2.11
dpdk 18.11.0

Change-Id: Idc1973f5ea3dd3be2e4cf1c964cf0e60c849a159
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/97/670997/5 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/Dockerfile.suse_15-dpdk'],1,17f145d708ba747c14f01b9df47764c9d153a12f,,ARG FROM=docker.io/opensuse/leap:15 FROM ${FROM} LABEL maintainers=mbuil@suse.com RUN set -ex ;\ zypper refresh ;\ zypper up -y ;\ zypper install -y bash ;\ zypper install -y \ openvswitch ;\ zypper install -y dpdk ,,11,0
openstack%2Fopenstack-ansible-os_manila~master~I301dd383ac148f0d7c3d5e3dd8af0421edc64536,openstack/openstack-ansible-os_manila,master,I301dd383ac148f0d7c3d5e3dd8af0421edc64536,Test using integrated build,ABANDONED,2019-07-29 16:08:51.000000000,2019-08-02 15:23:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-29 16:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/6007d6e239f2c52e747f6bc7b88f086daf65d4e8', 'message': 'Test using integrated build\n\nIn order to do a more complete verification of any patches,\nwe add a full uncontainerised OpenStack deployment to the\nfunctional testing using the integrated repo.\n\nChange-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536\n'}, {'number': 2, 'created': '2019-07-29 17:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/c2b32bd2f8703907673c3512166d1ed3f289e706', 'message': 'Test using integrated build\n\nIn order to do a more complete verification of any patches,\nwe add a full uncontainerised OpenStack deployment to the\nfunctional testing using the integrated repo.\n\nChange-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536\n'}, {'number': 3, 'created': '2019-07-29 19:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/77a83281584e8475b9369091fb2b51b1be160733', 'message': 'Test using integrated build\n\nIn order to do a more complete verification of any patches,\nwe add a full uncontainerised OpenStack deployment to the\nfunctional testing using the integrated repo.\n\nChange-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536\n'}, {'number': 4, 'created': '2019-07-31 10:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/3904a5901faa9487a0b0b59c40e299e553c302ff', 'message': 'Test using integrated build\n\nIn order to do a more complete verification of any patches,\nwe add a full uncontainerised OpenStack deployment to the\nfunctional testing using the integrated repo.\n\nDepends-On: https://review.opendev.org/673780\nChange-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536\n'}, {'number': 5, 'created': '2019-08-02 15:21:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/dcd75abd57882541fa9316388925b36c60907bed', 'message': 'Test using integrated build\n\nIn order to do a more complete verification of any patches,\nwe add a full uncontainerised OpenStack deployment to the\nfunctional testing using the integrated repo.\n\nChange-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536\n'}]",0,673329,dcd75abd57882541fa9316388925b36c60907bed,9,1,5,28619,,,0,"Test using integrated build

In order to do a more complete verification of any patches,
we add a full uncontainerised OpenStack deployment to the
functional testing using the integrated repo.

Change-Id: I301dd383ac148f0d7c3d5e3dd8af0421edc64536
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/29/673329/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6007d6e239f2c52e747f6bc7b88f086daf65d4e8,osa/integrated_tests, - openstack-ansible-linters - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs,,3,0
openstack%2Fopenstack-ansible-os_tempest~master~I85c8bd602246a26c12e6ec91582f4207332ca8cf,openstack/openstack-ansible-os_tempest,master,I85c8bd602246a26c12e6ec91582f4207332ca8cf,Add manila test,ABANDONED,2019-07-31 10:23:51.000000000,2019-08-02 15:20:15.000000000,,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-31 10:23:51.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b3c6163d1a9a6c835d624d00405b11bc959a1e61', 'message': 'Add manila test\n\nWhen tempest_service_available_manila is set to true, manila test\nshould be executed.\n\nChange-Id: I85c8bd602246a26c12e6ec91582f4207332ca8cf\n'}]",0,673780,b3c6163d1a9a6c835d624d00405b11bc959a1e61,4,4,1,28619,,,0,"Add manila test

When tempest_service_available_manila is set to true, manila test
should be executed.

Change-Id: I85c8bd602246a26c12e6ec91582f4207332ca8cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/80/673780/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b3c6163d1a9a6c835d624d00405b11bc959a1e61,," - ""{{ (tempest_service_available_manila | bool) | ternary('manila_tempest_tests.tests.scenario.test_share_basic_ops', '') }}""",,1,0
openstack%2Fsahara~master~Id846249cecabd729b1dcdbb35756070ed6072fef,openstack/sahara,master,Id846249cecabd729b1dcdbb35756070ed6072fef,DNM build spark image on ubuntu,NEW,2019-08-01 13:30:34.000000000,2019-08-02 15:20:04.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 13:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/80c6e154bd2a6f63ee74d609bf42b2673c3ec7f3', 'message': 'DNM build spark image on ubuntu\n\nChange-Id: Id846249cecabd729b1dcdbb35756070ed6072fef\n'}, {'number': 2, 'created': '2019-08-02 13:57:04.000000000', 'files': ['tools/gate/build-images'], 'web_link': 'https://opendev.org/openstack/sahara/commit/0aa7794968c32e82de32af1651544fb9c7406176', 'message': 'DNM build spark image on ubuntu\n\nChange-Id: Id846249cecabd729b1dcdbb35756070ed6072fef\n'}]",0,674032,0aa7794968c32e82de32af1651544fb9c7406176,5,2,2,23078,,,0,"DNM build spark image on ubuntu

Change-Id: Id846249cecabd729b1dcdbb35756070ed6072fef
",git fetch https://review.opendev.org/openstack/sahara refs/changes/32/674032/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/build-images'],1,80c6e154bd2a6f63ee74d609bf42b2673c3ec7f3,," build_images ""spark"" ""2.3"" ""ubuntu-trusty"""," build_images ""spark"" ""2.3"" ""centos7""",1,1
openstack%2Ftripleo-heat-templates~master~I246d0f365c1b8eef7730a1abe0507555e23e6408,openstack/tripleo-heat-templates,master,I246d0f365c1b8eef7730a1abe0507555e23e6408,Fix missing syslog name in libvirt log setting,MERGED,2019-08-02 08:19:35.000000000,2019-08-02 15:18:22.000000000,2019-08-02 15:18:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-02 08:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/939355e0210c49c598e554c4e8a74933006a3e8a', 'message': 'Fix missing syslog tag in libvirt log setting\n\nThe commit I6e5ac7f5971df5998db22c5d392084fddf77d34a  makes libvirt\nto directly send logs to rsyslog to avoid duplicated header, but\nin fact it was not working properly because of missing syslog tag\nspecified.\n\nThis patch fixes the wrong value specified there, so that we have\nthe log surely directed to syslog.\n\nChange-Id: I246d0f365c1b8eef7730a1abe0507555e23e6408\n'}, {'number': 2, 'created': '2019-08-02 08:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41fc979004d6812fb593d46e336d384de6d9a009', 'message': 'Fix missing syslog tag in libvirt log setting\n\nThe commit I6e5ac7f5971df5998db22c5d392084fddf77d34a  makes libvirt\ndirectly send logs to rsyslog to avoid duplicated header, but in fact\nit was not working properly because of missing syslog tag specified.\n\nThis patch fixes the wrong value specified there, so that we have\nthe log surely directed to syslog.\n\nChange-Id: I246d0f365c1b8eef7730a1abe0507555e23e6408\n'}, {'number': 3, 'created': '2019-08-02 08:25:02.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/387f9d984fdfcbd85eeb23cc0072ad0fae51bf95', 'message': 'Fix missing syslog name in libvirt log setting\n\nThe commit I6e5ac7f5971df5998db22c5d392084fddf77d34a  makes libvirt\ndirectly send logs to rsyslog to avoid duplicated header, but in fact\nit was not working properly because of missing syslog name specified.\n\nThis patch fixes the wrong value passed there, so that we have\nthe log surely directed to syslog.\n\nChange-Id: I246d0f365c1b8eef7730a1abe0507555e23e6408\n'}]",1,674219,387f9d984fdfcbd85eeb23cc0072ad0fae51bf95,12,6,3,9816,,,0,"Fix missing syslog name in libvirt log setting

The commit I6e5ac7f5971df5998db22c5d392084fddf77d34a  makes libvirt
directly send logs to rsyslog to avoid duplicated header, but in fact
it was not working properly because of missing syslog name specified.

This patch fixes the wrong value passed there, so that we have
the log surely directed to syslog.

Change-Id: I246d0f365c1b8eef7730a1abe0507555e23e6408
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/674219/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,939355e0210c49c598e554c4e8a74933006a3e8a,libvirt-log-fix," nova::compute::libvirt::log_outputs: ""3:syslog:libvirtd"""," nova::compute::libvirt::log_outputs: ""3:syslog""",1,1
openstack%2Fironic~master~Id8686bd6f9bd6555f92ae64542442c43a61e55e7,openstack/ironic,master,Id8686bd6f9bd6555f92ae64542442c43a61e55e7,SQUASH: Use ksa adapter for Nova communication,ABANDONED,2019-07-23 21:31:25.000000000,2019-08-02 15:15:28.000000000,,"[{'_account_id': 6873}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 14629}, {'_account_id': 22348}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-07-23 21:31:25.000000000', 'files': ['requirements.txt', 'ironic/conf/nova.py', 'ironic/common/nova.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/544d4fb655a0514a5530109d549d9090ea23565d', 'message': ""SQUASH: Use ksa adapter for Nova communication\n\nA start on using a keystoneauth1 Adapter instead of python-novaclient to\ntalk to the nova service for power-update events.\n\nThis is not complete: I didn't test anything.\n\nChange-Id: Id8686bd6f9bd6555f92ae64542442c43a61e55e7\n""}]",12,672369,544d4fb655a0514a5530109d549d9090ea23565d,9,6,1,14070,,,0,"SQUASH: Use ksa adapter for Nova communication

A start on using a keystoneauth1 Adapter instead of python-novaclient to
talk to the nova service for power-update events.

This is not complete: I didn't test anything.

Change-Id: Id8686bd6f9bd6555f92ae64542442c43a61e55e7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/672369/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic/conf/nova.py', 'ironic/common/nova.py', 'lower-constraints.txt']",4,544d4fb655a0514a5530109d549d9090ea23565d,bp/nova-support-instance-power-update,keystoneauth1==3.15.0,keystoneauth1==3.4.0python-novaclient==14.1.0,40,84
openstack%2Fpython-tripleoclient~master~Iaf08f7d7b919b154797cf8f10663f349424cd6a2,openstack/python-tripleoclient,master,Iaf08f7d7b919b154797cf8f10663f349424cd6a2,Close resources correctly,MERGED,2019-08-01 18:49:04.000000000,2019-08-02 15:14:12.000000000,2019-08-02 15:14:12.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 18:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/052da053d7604d84473cd8eeb717a1ad52712dc6', 'message': ""Close resources correctly\n\nUnder python3 not closing file handles or network resources correctly\nresults in warnings being shown to the end user. This change switches\nthe resource usage to properly close when we're done.\n\nChange-Id: Iaf08f7d7b919b154797cf8f10663f349424cd6a2\nRelated-Bug: #1837393\n""}, {'number': 2, 'created': '2019-08-01 22:57:29.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_plan.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6521585912896c2c290c0ca15e6d5132aea77196', 'message': ""Close resources correctly\n\nUnder python3 not closing file handles or network resources correctly\nresults in warnings being shown to the end user. This change switches\nthe resource usage to properly close when we're done.\n\nChange-Id: Iaf08f7d7b919b154797cf8f10663f349424cd6a2\nRelated-Bug: #1837393\n""}]",0,674107,6521585912896c2c290c0ca15e6d5132aea77196,13,5,2,14985,,,0,"Close resources correctly

Under python3 not closing file handles or network resources correctly
results in warnings being shown to the end user. This change switches
the resource usage to properly close when we're done.

Change-Id: Iaf08f7d7b919b154797cf8f10663f349424cd6a2
Related-Bug: #1837393
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/07/674107/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/v1/overcloud_plan.py']",4,052da053d7604d84473cd8eeb717a1ad52712dc6,bug/1837393, f.close(),,82,68
openstack%2Fopenstack-helm-infra~master~Iac52ca82e95bb372dbcbca0eeea3b262215e9c12,openstack/openstack-helm-infra,master,Iac52ca82e95bb372dbcbca0eeea3b262215e9c12,RabbitMQ: Dont remove definitions.json and erlang cookie when resetting,MERGED,2019-07-31 17:43:26.000000000,2019-08-02 15:03:18.000000000,2019-08-02 15:03:18.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-07-31 17:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3764265c826c68f69ee094bfe60f57b55f970f4c', 'message': 'RabbitMQ: Dont remove definitions.json and erlang cookie when resetting\n\nThis PS udpated the reset node function to leave the assets generated\nvia init containers in place when resetting the node.\n\nChange-Id: Iac52ca82e95bb372dbcbca0eeea3b262215e9c12\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-07-31 18:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/483c791b0416492de12668790da42ce929a8a6a2', 'message': 'RabbitMQ: Dont remove definitions.json and erlang cookie when resetting\n\nThis PS udpated the reset node function to leave the assets generated\nvia init containers in place when resetting the node.\n\nChange-Id: Iac52ca82e95bb372dbcbca0eeea3b262215e9c12\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-08-02 02:05:05.000000000', 'files': ['rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eef8ea131aaeb9996755dba23286bee80e19e451', 'message': 'RabbitMQ: Dont remove definitions.json and erlang cookie when resetting\n\nThis PS udpated the reset node function to leave the assets generated\nvia init containers in place when resetting the node.\n\nChange-Id: Iac52ca82e95bb372dbcbca0eeea3b262215e9c12\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,673883,eef8ea131aaeb9996755dba23286bee80e19e451,22,7,3,23928,,,0,"RabbitMQ: Dont remove definitions.json and erlang cookie when resetting

This PS udpated the reset node function to leave the assets generated
via init containers in place when resetting the node.

Change-Id: Iac52ca82e95bb372dbcbca0eeea3b262215e9c12
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/83/673883/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'],1,3764265c826c68f69ee094bfe60f57b55f970f4c,bunny-reset-fix, find /var/lib/rabbitmq/ ! -name 'definitions.json' ! -name '.erlang.cookie' -type f -exec rm -rf {} +, rm -rf /var/lib/rabbitmq/*,1,1
openstack%2Fkayobe~master~Icf54da6a0d1439fc416b556707a62df300daa9bf,openstack/kayobe,master,Icf54da6a0d1439fc416b556707a62df300daa9bf,Build placement images by default,MERGED,2019-07-18 12:54:46.000000000,2019-08-02 14:59:10.000000000,2019-08-02 14:59:10.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-07-18 12:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3250c0c21df37c3871d3e65772c457ccfbe00e33', 'message': 'Build placement images by default\n\nplacement has been split from nova, see:\n\nhttps://github.com/openstack/kolla/commit/2f657085c67302ab54dcb64b335a2f3732ba4de4#diff-c5172145fe90316d5c16e60e61a592a2\n\nChange-Id: Icf54da6a0d1439fc416b556707a62df300daa9bf\nStory: 2006248\nTask: 35857\n'}, {'number': 2, 'created': '2019-08-02 11:26:25.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9bae1c5d1c0d3ba6f8c48283e316ec796cbf7a5e', 'message': 'Build placement images by default\n\nplacement has been split from nova, see:\n\nhttps://github.com/openstack/kolla/commit/2f657085c67302ab54dcb64b335a2f3732ba4de4#diff-c5172145fe90316d5c16e60e61a592a2\n\nChange-Id: Icf54da6a0d1439fc416b556707a62df300daa9bf\nStory: 2006248\nTask: 35857\n'}]",2,671478,9bae1c5d1c0d3ba6f8c48283e316ec796cbf7a5e,12,4,2,28048,,,0,"Build placement images by default

placement has been split from nova, see:

https://github.com/openstack/kolla/commit/2f657085c67302ab54dcb64b335a2f3732ba4de4#diff-c5172145fe90316d5c16e60e61a592a2

Change-Id: Icf54da6a0d1439fc416b556707a62df300daa9bf
Story: 2006248
Task: 35857
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/78/671478/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,3250c0c21df37c3871d3e65772c457ccfbe00e33,placement-fix, - regex: placement enabled: True,,2,0
openstack%2Fironic~master~Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf,openstack/ironic,master,Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf,Use openstacksdk for accessing ironic-inspector,MERGED,2019-07-09 11:48:07.000000000,2019-08-02 14:48:39.000000000,2019-08-02 14:48:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-09 11:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0034a3efde0da3fe03990352ccd0f211fd232198', 'message': '[WIP] Use openstacksdk for accessing ironic-inspector\n\nChange-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf\n'}, {'number': 2, 'created': '2019-07-09 12:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2bb51f0f05b9ed3f69046147f3ea27b25dd2e61', 'message': 'Use openstacksdk for accessing ironic-inspector\n\nChange-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf\n'}, {'number': 3, 'created': '2019-07-24 16:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c191ddc666a37516ed349c4d3723b13c09117a7c', 'message': 'Use openstacksdk for accessing ironic-inspector\n\nChange-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf\n'}, {'number': 4, 'created': '2019-07-26 08:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a80714830eec989bb64a40127bbc926df26a7d13', 'message': 'Use openstacksdk for accessing ironic-inspector\n\nChange-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf\n'}, {'number': 5, 'created': '2019-07-31 13:23:56.000000000', 'files': ['requirements.txt', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'driver-requirements.txt', 'lower-constraints.txt', 'releasenotes/notes/deprecated-inspector-opts-0520b08dbcd10681.yaml', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py', 'doc/source/admin/inspection.rst', 'ironic/tests/unit/drivers/test_generic.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6774c294d8f097154165ff76ba54bef7401475c', 'message': 'Use openstacksdk for accessing ironic-inspector\n\nChange-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf\n'}]",2,669855,d6774c294d8f097154165ff76ba54bef7401475c,30,9,5,10239,,,0,"Use openstacksdk for accessing ironic-inspector

Change-Id: Ibe4f6bf0b38364b5dd214e6c7e58d45a4d71ffdf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/669855/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'driver-requirements.txt', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'lower-constraints.txt', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py', 'doc/source/admin/inspection.rst']",9,0034a3efde0da3fe03990352ccd0f211fd232198,inspector-sdk,,You must additionally install python-ironic-inspector-client_ to use this functionality. .. _python-ironic-inspector-client: https://pypi.org/project/python-ironic-inspector-client,23,88
openstack%2Fnova~stable%2Fstein~I43e34b3ff1424d42632a3e8f842c93508905aa1a,openstack/nova,stable/stein,I43e34b3ff1424d42632a3e8f842c93508905aa1a,Fix AttributeError in RT._update_usage_from_migration,MERGED,2019-07-31 15:45:48.000000000,2019-08-02 14:29:52.000000000,2019-08-02 14:29:51.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-31 15:45:48.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd09686232c485225951eabadadae143d2b95e7d', 'message': 'Fix AttributeError in RT._update_usage_from_migration\n\nChange Ieb539c9a0cfbac743c579a1633234537a8e3e3ee in Stein\nadded some logging in _update_usage_from_migration to log\nthe flavor for an inbound and outbound migration.\n\nIf an instance is resized and then the resize is immediately\nconfirmed, it\'s possible to race with ComputeManager._confirm_resize\nsetting the instance.old_flavor to None before the migration\nstatus is changed to ""confirmed"" while the update_available_resource\nperiodic is running which will result in _update_usage_from_migration\nhitting an AttributeError when trying to log instance.old_flavor.flavorid\nsince instance.old_flavor is None.\n\nThere are a few key points there:\n\n- We get into _update_usage_from_migration because the\n  _update_available_resource method gets in-progress migrations\n  related to the host (in this case the source compute) and the\n  migration is consider in-progress until its status is ""confirmed"".\n\n- The instance is not in the tracked_instances dict when\n  _update_usage_from_migration runs because RT only tracks instances\n  where the instance.host matches the RT.host and in this case the\n  instance has been resized to another compute and the instance.host\n  is pointing at the dest compute.\n\nThe fix here is to simply check if we got the instance.old_flavor and\nnot log the message if we do not have it, which gets us back to the old\nbehavior.\n\nThis bug was found by noticing it in CI job logs - there is a link to\nhits in logstash in the bug report.\n\nAs for the ""incoming and not tracked"" case in _update_usage_from_migration\nI have not modified that since I am not sure we have the same race nor\nhave I seen it in CI logs.\n\nChange-Id: I43e34b3ff1424d42632a3e8f842c93508905aa1a\nCloses-Bug: #1834349\n(cherry picked from commit 818419c9d313bd6151d1a05b3a087a15116f61b8)\n'}]",0,673856,dd09686232c485225951eabadadae143d2b95e7d,20,6,1,6873,,,0,"Fix AttributeError in RT._update_usage_from_migration

Change Ieb539c9a0cfbac743c579a1633234537a8e3e3ee in Stein
added some logging in _update_usage_from_migration to log
the flavor for an inbound and outbound migration.

If an instance is resized and then the resize is immediately
confirmed, it's possible to race with ComputeManager._confirm_resize
setting the instance.old_flavor to None before the migration
status is changed to ""confirmed"" while the update_available_resource
periodic is running which will result in _update_usage_from_migration
hitting an AttributeError when trying to log instance.old_flavor.flavorid
since instance.old_flavor is None.

There are a few key points there:

- We get into _update_usage_from_migration because the
  _update_available_resource method gets in-progress migrations
  related to the host (in this case the source compute) and the
  migration is consider in-progress until its status is ""confirmed"".

- The instance is not in the tracked_instances dict when
  _update_usage_from_migration runs because RT only tracks instances
  where the instance.host matches the RT.host and in this case the
  instance has been resized to another compute and the instance.host
  is pointing at the dest compute.

The fix here is to simply check if we got the instance.old_flavor and
not log the message if we do not have it, which gets us back to the old
behavior.

This bug was found by noticing it in CI job logs - there is a link to
hits in logstash in the bug report.

As for the ""incoming and not tracked"" case in _update_usage_from_migration
I have not modified that since I am not sure we have the same race nor
have I seen it in CI logs.

Change-Id: I43e34b3ff1424d42632a3e8f842c93508905aa1a
Closes-Bug: #1834349
(cherry picked from commit 818419c9d313bd6151d1a05b3a087a15116f61b8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/673856/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,dd09686232c485225951eabadadae143d2b95e7d,bug/1834349," # We could be racing with confirm_resize setting the # instance.old_flavor field to None before the migration status # is ""confirmed"" so if we did not find the flavor in the outgoing # resized instance we won't track it. if itype: LOG.debug('Starting to track outgoing migration %s with ' 'flavor %s', migration.uuid, itype.flavorid, instance=instance)"," LOG.debug('Starting to track outgoing migration %s with flavor %s', migration.uuid, itype.flavorid, instance=instance)",31,2
openstack%2Fopenstack-helm-infra~master~I695beb9463c3ef590dd16888dfe712b24a308856,openstack/openstack-helm-infra,master,I695beb9463c3ef590dd16888dfe712b24a308856,[476959] Change the nagios state information policy,ABANDONED,2018-10-25 16:46:52.000000000,2019-08-02 14:21:57.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 27995}]","[{'number': 1, 'created': '2018-10-25 16:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a1b0c01a3035963c13e6aa737034df938a1e4fa', 'message': '[476959] Change the nagios state information policy\n\nChange-Id: I695beb9463c3ef590dd16888dfe712b24a308856\n'}, {'number': 2, 'created': '2018-10-25 18:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81d37ea141ab809a11046d2d79e282f8e85366f3', 'message': '[476959] Change the nagios state information policy\n\nNagios uses the “state_retention_file” configuration parameter by default to retain the state information for hosts and services between the restarts.\nBut for the kubernetes controlled deployments, we can disable this.\nCurrently it is using big chunk of storage space(>26G)\n\nChange-Id: I695beb9463c3ef590dd16888dfe712b24a308856\n'}, {'number': 3, 'created': '2018-10-25 19:14:16.000000000', 'files': ['nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2a823181f8cd643cba182a7312165d995e09771', 'message': '[476959] Change the nagios state information policy\n\nNagios uses the “state_retention_file” configuration parameter by default.\n(ie, retain the state information for hosts and services between the restarts)\n\nBut for the kubernetes controlled deployments, we can disable this.\nCurrently it is using big chunk of storage space(>26G)\n\nChange-Id: I695beb9463c3ef590dd16888dfe712b24a308856\n'}]",2,613374,f2a823181f8cd643cba182a7312165d995e09771,10,5,3,18295,,,0,"[476959] Change the nagios state information policy

Nagios uses the “state_retention_file” configuration parameter by default.
(ie, retain the state information for hosts and services between the restarts)

But for the kubernetes controlled deployments, we can disable this.
Currently it is using big chunk of storage space(>26G)

Change-Id: I695beb9463c3ef590dd16888dfe712b24a308856
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/74/613374/2 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,2a1b0c01a3035963c13e6aa737034df938a1e4fa,, retain_state_information: 0, retain_state_information: 1,1,1
openstack%2Fopenstack-helm-images~master~I55635e745934020eaed00c8de4e552a19e491596,openstack/openstack-helm-images,master,I55635e745934020eaed00c8de4e552a19e491596,Removing the UCP health check URLs and checking only the availablity,ABANDONED,2019-07-03 15:31:33.000000000,2019-08-02 14:21:42.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-03 15:31:33.000000000', 'files': ['prometheus-openstack-exporter/exporter/check_os_api.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5d8b4640ad1fe1ceee7ccf6f4f3016831f8dbe85', 'message': 'Removing the UCP health check URLs and checking only the availablity\n\nChange-Id: I55635e745934020eaed00c8de4e552a19e491596\n'}]",1,668939,5d8b4640ad1fe1ceee7ccf6f4f3016831f8dbe85,6,4,1,18295,,,0,"Removing the UCP health check URLs and checking only the availablity

Change-Id: I55635e745934020eaed00c8de4e552a19e491596
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/39/668939/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-openstack-exporter/exporter/check_os_api.py'],1,5d8b4640ad1fe1ceee7ccf6f4f3016831f8dbe85,," 'shipyard': {'path': '/', 'expect': [200,201,202,300,204], 'name': 'shipyard'}, 'armada': {'path': '/', 'expect': [200,201,202,300,204], 'name': 'armada'}, 'deckhand': {'path': '/', 'expect': [200,201,202,300,204], 'name': 'deckhand'}, 'drydock': {'path': '/', 'expect': [200,201,202,300,204], 'name': 'drydock'}, 'promenade': {'path': '/', 'expect': [200,201,202,300,204], 'name': 'promenade'},"," 'shipyard': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'shipyard'}, 'armada': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'armada'}, 'deckhand': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'deckhand'}, 'drydock': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'drydock'}, 'promenade': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'promenade'},",5,5
openstack%2Frally-openstack~master~I2c54cb4406849d412706f0faf1f7cbff5f31a772,openstack/rally-openstack,master,I2c54cb4406849d412706f0faf1f7cbff5f31a772,check the task state after creating image,MERGED,2019-07-31 07:46:20.000000000,2019-08-02 14:21:22.000000000,2019-08-02 14:21:22.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 07:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/966ebf773669451b95acd6cf4a8d3ea28f9be309', 'message': 'check the task state after creating image\n\nThe operation is not really done while the status of image is ACTIVE, nova\nwould update the properties of new image and do some operation on server,\nso it is better to check the task state.\n\nChange-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772\n'}, {'number': 2, 'created': '2019-07-31 10:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cd9e34bf830120a53610a098c4df38c2379df134', 'message': 'check the task state after creating image\n\nThe operation is not really done while the status of image is ACTIVE, nova\nwould update the properties of new image and do some operation on server,\nso it is better to check the task state.\n\nChange-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772\n'}, {'number': 3, 'created': '2019-07-31 10:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/823dc5159df934c9fd2da7c581fa1859c278834f', 'message': 'check the task state after creating image\n\nThe operation is not really done while the status of image is ACTIVE, nova\nwould update the properties of new image and do some operation on server,\nso it is better to check the task state.\n\nChange-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772\n'}, {'number': 4, 'created': '2019-07-31 11:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1f8dec5e6bdb8bb9517cd4059c05685e69aaf89f', 'message': 'check the task state after creating image\n\nThe operation is not really done while the status of image is ACTIVE, nova\nwould update the properties of new image and do some operation on server,\nso it is better to check the task state.\n\nChange-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772\n'}, {'number': 5, 'created': '2019-08-01 07:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/de162af19049df509c5639a0233a41058596aa96', 'message': 'check the task state after creating image\n\nThe operation is not really done while the status of image is ACTIVE, nova\nwould update the properties of new image and do some operation on server,\nso it is better to check the task state.\n\nChange-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772\n'}, {'number': 6, 'created': '2019-08-02 00:59:06.000000000', 'files': ['tests/unit/scenarios/nova/test_utils.py', 'rally_openstack/scenarios/nova/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0470f7ffbe00b7ebc93edcf00643b3f494c99ef4', 'message': 'check the task state after creating image\n\nThe operation is not really done while the status of image is ACTIVE, nova\nwould update the properties of new image and do some operation on server,\nso it is better to check the task state.\n\nChange-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772\n'}]",1,673748,0470f7ffbe00b7ebc93edcf00643b3f494c99ef4,16,2,6,21528,,,0,"check the task state after creating image

The operation is not really done while the status of image is ACTIVE, nova
would update the properties of new image and do some operation on server,
so it is better to check the task state.

Change-Id: I2c54cb4406849d412706f0faf1f7cbff5f31a772
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/48/673748/5 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/nova/servers.py'],1,966ebf773669451b95acd6cf4a8d3ea28f9be309,snapshotserver," while getattr(server, ""OS-EXT-STS:task_state""): self.sleep_between( CONF.openstack.nova_server_image_create_poll_interval, CONF.openstack.nova_server_image_create_timeout)",,4,0
openstack%2Ftempest~master~I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd,openstack/tempest,master,I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd,Fix Glance test by adding a skipcheck,ABANDONED,2019-07-23 19:26:44.000000000,2019-08-02 14:11:03.000000000,,"[{'_account_id': 6167}, {'_account_id': 10068}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 28701}, {'_account_id': 30666}, {'_account_id': 30683}, {'_account_id': 30690}, {'_account_id': 30746}]","[{'number': 1, 'created': '2019-07-23 19:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/07317c5fd4ab8fe52cc62bffe472aaad6b7feed4', 'message': ""If glance does not have any resource type association，we will get\nIndexError when getting resource_name from list_resource_types's\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method: Adding a skipcheck if the deployment does not have image metadata\n\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n""}, {'number': 2, 'created': '2019-07-23 19:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4eec96d308f825132bf4a370e7ecdee6875fd56e', 'message': ""Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，we will get\nIndexError when getting resource_name from list_resource_types's\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n""}, {'number': 3, 'created': '2019-07-23 19:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/814e44d8569eb38ea5ae4c87e1aa472a6e6d3526', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 4, 'created': '2019-07-23 20:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6a50783a9548ac2f2b64d003d33a3695c518ae2', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 5, 'created': '2019-07-23 20:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bef7594588f6e4d2e5dbc272d7ceefa9b473402d', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 6, 'created': '2019-07-24 21:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fcee18ed50760ee3d5482d04af907eb52af51610', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 7, 'created': '2019-07-25 13:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9da7a4458802ac6fe5c16e99b3966ff6289e000d', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 8, 'created': '2019-07-25 13:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/faa5cc287fa9cf837efd5131094d3c2da5ea84ec', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 9, 'created': '2019-07-25 14:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/91e2845fd04ec188e25978c8a7f4d31f4094df40', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 10, 'created': '2019-07-25 14:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/41798d9081620c0119f83f57227c3a2466b979fb', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}, {'number': 11, 'created': '2019-07-25 14:24:34.000000000', 'files': ['tempest/api/image/v2/test_images_metadefs_namespace_properties.py', 'tempest/api/image/v2/test_images_metadefs_resource_types.py', 'tempest/api/image/v2/test_images_metadefs_namespaces.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5aab7221b882dc625e184196966d80b8a5b41506', 'message': 'Fix Glance test by adding a skipcheck\n\nIf glance does not have any resource type association，it will experience an\nIndexError when getting resource_name from list_resource_types\nresponse body because the response body does not have any resource_types.\n\nThis patch fixes this bug with the following method:\nAdding a skipcheck if the deployment does not have image metadata\n\nCloses-Bug: #1807559\nChange-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd\n'}]",6,672346,5aab7221b882dc625e184196966d80b8a5b41506,33,11,11,30666,,,0,"Fix Glance test by adding a skipcheck

If glance does not have any resource type association，it will experience an
IndexError when getting resource_name from list_resource_types
response body because the response body does not have any resource_types.

This patch fixes this bug with the following method:
Adding a skipcheck if the deployment does not have image metadata

Closes-Bug: #1807559
Change-Id: I82fcc93e9c3effebd9158ca2fbf75f6b41740dfd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/672346/10 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v2/test_images_metadefs_namespace_properties.py', 'tempest/api/image/v2/test_images_metadefs_resource_types.py', 'tempest/api/image/v2/test_images_metadefs_namespaces.py']",3,07317c5fd4ab8fe52cc62bffe472aaad6b7feed4,bug/1807559," resource_types = body['resource_types'] if (resource_types == []): raise self.skipTest('No metadata resource_type defined, skipping glance test')",,9,0
openstack%2Fcharm-neutron-openvswitch~master~If1f669de09e2499e74e88e2b72203047e7f9f957,openstack/charm-neutron-openvswitch,master,If1f669de09e2499e74e88e2b72203047e7f9f957,Stop using veth pairs to connect qdhcp ns,MERGED,2019-06-19 13:51:26.000000000,2019-08-02 13:58:11.000000000,2019-07-02 09:10:09.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 13:51:26.000000000', 'files': ['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'templates/ocata/dhcp_agent.ini', 'hooks/charmhelpers/contrib/python/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7578326c592a81e6cc6737f360fc2b15ed175cf0', 'message': 'Stop using veth pairs to connect qdhcp ns\n\nveth pairs are currently being used to connect the qdhcp namespace\nto the underlying bridge. This behaviour appears to only be needed\nfor old kernels with limited namespaces support (pre trusty).\n\nChange-Id: If1f669de09e2499e74e88e2b72203047e7f9f957\nCloses-Bug: #1832021\n'}]",0,666293,7578326c592a81e6cc6737f360fc2b15ed175cf0,22,5,1,12549,,,0,"Stop using veth pairs to connect qdhcp ns

veth pairs are currently being used to connect the qdhcp namespace
to the underlying bridge. This behaviour appears to only be needed
for old kernels with limited namespaces support (pre trusty).

Change-Id: If1f669de09e2499e74e88e2b72203047e7f9f957
Closes-Bug: #1832021
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/93/666293/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'templates/ocata/dhcp_agent.ini', 'hooks/charmhelpers/contrib/python/__init__.py']",4,7578326c592a81e6cc6737f360fc2b15ed175cf0,bug/1832021,,,3,3
openstack%2Fkolla-ansible~master~Ia4ec794bb2b18aca2592b62a35066c237192a0f3,openstack/kolla-ansible,master,Ia4ec794bb2b18aca2592b62a35066c237192a0f3,Ensure keystone endpoint is updatable,MERGED,2018-03-29 07:36:35.000000000,2019-08-02 13:54:21.000000000,2019-01-17 09:42:21.000000000,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 23942}]","[{'number': 1, 'created': '2018-03-29 07:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4075caba594113b993c49934dfe60ddb2b7deff', 'message': 'Ensure keystone endpoint is updatable\n\nChange-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3\n'}, {'number': 2, 'created': '2018-03-29 08:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/133ff62c3c9fa63a56c674ef749d729979d4a46a', 'message': 'Ensure keystone endpoint is updatable\n\nChange-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3\n'}, {'number': 3, 'created': '2018-11-03 00:18:33.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6191c775c1fc90c5ded5054286c84a519ad75ec4', 'message': 'Ensure keystone endpoint is updatable\n\nChange-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3\n'}]",1,557639,6191c775c1fc90c5ded5054286c84a519ad75ec4,15,6,3,7488,,,0,"Ensure keystone endpoint is updatable

Change-Id: Ia4ec794bb2b18aca2592b62a35066c237192a0f3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/557639/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,b4075caba594113b993c49934dfe60ddb2b7deff,,"# NOTE(jeffrey4l): Since keystone-manage bootstrap cloud not update the endpoint, # run kolla_keystone_service module again. - name: Creating the Keystone service and endpoint kolla_toolbox: module_name: ""kolla_keystone_service"" module_args: service_name: ""keystone"" service_type: ""identity"" description: ""Openstack Identity Service"" endpoint_region: ""{{ openstack_region_name }}"" url: ""{{ item.url }}"" interface: ""{{ item.interface }}"" region_name: ""{{ openstack_region_name }}"" auth: ""{{ openstack_keystone_auth }}"" endpoint_type: ""{{ openstack_interface }}"" run_once: True with_items: - { interface: admin, url: ""{{ keystone_admin_endpoint }}"" } - { interface: internal, url: ""{{ keystone_internal_endpoint }}"" } - { interface: public, url: ""{{ keystone_public_endpoint }}"" } ",,21,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ie08cfd0d8dc4835712df0b937170b631aebd10c8,openstack/openstack-ansible-os_cloudkitty,master,Ie08cfd0d8dc4835712df0b937170b631aebd10c8,Add distribution of metrics.yml,MERGED,2019-07-31 09:07:18.000000000,2019-08-02 13:51:21.000000000,2019-08-02 13:51:21.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-31 09:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/4114f18306404b41a96cf2edf420e0a28aff29c8', 'message': ""Add distribution of metrics.yml\n\nAs cloudkitty requires metrics.yml to be present in etc directory\nto be fully operational, we're distributing this file by default[1]\ncloudkitty_metrics_overrides variable added in order to override default\n\n[1] http://logs.openstack.org/30/673530/2/check/openstack-ansible-functional-ubuntu-bionic/c6eee8a/logs/openstack/openstack1/cloudkitty-processor.service.journal.log.txt.gz#_Jul_30_14_44_00\n\nChange-Id: Ie08cfd0d8dc4835712df0b937170b631aebd10c8\n""}, {'number': 2, 'created': '2019-07-31 09:39:10.000000000', 'files': ['tasks/cloudkitty_post_install.yml', 'templates/cloudkitty-metrics.yml.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/f0e09192218d05673b1b23105c1abdf107e4936d', 'message': ""Add distribution of metrics.yml\n\nAs cloudkitty requires metrics.yml to be present in etc directory\nto be fully operational, we're distributing this file by default[1]\ncloudkitty_metrics_overrides variable added in order to override default\n\n[1] http://logs.openstack.org/30/673530/2/check/openstack-ansible-functional-ubuntu-bionic/c6eee8a/logs/openstack/openstack1/cloudkitty-processor.service.journal.log.txt.gz#_Jul_30_14_44_00\n\nChange-Id: Ie08cfd0d8dc4835712df0b937170b631aebd10c8\n""}]",0,673768,f0e09192218d05673b1b23105c1abdf107e4936d,9,3,2,28619,,,0,"Add distribution of metrics.yml

As cloudkitty requires metrics.yml to be present in etc directory
to be fully operational, we're distributing this file by default[1]
cloudkitty_metrics_overrides variable added in order to override default

[1] http://logs.openstack.org/30/673530/2/check/openstack-ansible-functional-ubuntu-bionic/c6eee8a/logs/openstack/openstack1/cloudkitty-processor.service.journal.log.txt.gz#_Jul_30_14_44_00

Change-Id: Ie08cfd0d8dc4835712df0b937170b631aebd10c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/68/673768/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/cloudkitty_post_install.yml', 'templates/cloudkitty-metrics.yml.j2', 'defaults/main.yml']",3,4114f18306404b41a96cf2edf420e0a28aff29c8,cloudkitty_metrics,cloudkitty_metrics_overrides: {},,99,0
openstack%2Fnova~master~I63411214c412af93501b27eb39f97bf980b21760,openstack/nova,master,I63411214c412af93501b27eb39f97bf980b21760,Add Migration.cross_cell_move and get_by_uuid,MERGED,2018-10-29 19:08:49.000000000,2019-08-02 13:35:59.000000000,2019-06-18 19:24:49.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25540}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-10-29 19:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/899ae07ca80d6438b68b32fbc0a34a31a7d10815', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 2, 'created': '2018-10-30 00:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d3b1f0c245b2f223408c9f3129c1fd20a17ae54', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 3, 'created': '2018-11-06 17:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06a9b42397f8d79d041f20d945453fe00f65749c', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 4, 'created': '2018-11-30 17:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/815c59e2099f7344a6e08731a1ca758b5f607a95', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 5, 'created': '2018-11-30 22:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c80a6357ce89056ceb4639616e9c681122d01b3', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 6, 'created': '2018-12-18 03:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c339d3e9bd2f593757c3c1cdada57c95d73bc4d5', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 7, 'created': '2018-12-31 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb742f14d212d333f451ad20860e50da5a4f348b', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 8, 'created': '2019-01-16 03:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/591d4967e35037ccb220b8e21ddc6a1626fef794', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 9, 'created': '2019-01-17 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6787417c33d483a35593295f89c163b687a6ab75', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 10, 'created': '2019-01-25 19:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6842a7cce6e2ebfe4ccdbb86d5de559add2fc0b7', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 11, 'created': '2019-01-30 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e316e0612ed9a9787266e1457da130f8f144178', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 12, 'created': '2019-02-05 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c871def6d0b9b2a7ca56353e1ae8a7b8160e3db', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 13, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76627ca2e47c884bb272c8a6dd35f2e412efeb2e', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 14, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da4e07e0f5d9ce4d3fccf563bd3c5321c2874af5', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 15, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f768b65bd22c52b09998566e5ef6f0df346b9d10', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 16, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0344ab56aa63c1a191afecf4ce16d308025bab14', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 17, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2716edc526546dac5913082d8911dd51bb5c247f', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 18, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10daec22844b01054d9427b9b6a7657728f1bfdc', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 19, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f38861ee4e83832a9476a0dba4556716f4f24cb', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 20, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eee28c69b2165c1c3f992929c1a13406cc7688f5', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 21, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87c6af7bc8fe1cae092734833f6dfad005fe6d0c', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 22, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fe42d4de62ab1b876861c495a75792dbf694d14', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 23, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb7683e7925424d5271ef23ca451f2f4073d85d', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 24, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7857b5ec54917ac2fd4c310e827c76d54f01c15', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 25, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a16eeb39f74922ef42b2d7a81dee9e7f2315e22', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 26, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acae4fea82cc7654874580fa0e8b577e9560fd4d', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 27, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ab60a79d5f8dd2acf86dc0b4041f2e659ebcc64', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 28, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/146a0a342062a834abb083c6fa791bd7948a9c03', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 29, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb7111be38bcdc80fd02b7e63579632f3610e31c', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 30, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7374388e3ff709e4464038b82fb2de96f723325', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 31, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dfbe603307dfae16ac5a5f57a5ff6d6a549438a', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 32, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89f7073018d75db7e633f1a6e2fc8881db4fe313', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 33, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86e83d0026c200ce6d6479f8a5d9c55b37499b33', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 34, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd37370b325366147c1c2489601a53c3695ce337', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 35, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/befc7ef80c6d9b110341622c1fb57367b9a444d4', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 36, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23295ca423be3d85331ed23848215f3cbb729248', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}, {'number': 37, 'created': '2019-06-12 21:22:52.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_migration.py', 'nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/db/sqlalchemy/migrate_repo/versions/397_migrations_cross_cell_move.py', 'nova/api/openstack/compute/migrations.py', 'nova/tests/functional/api_sample_tests/test_migrations.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1cf3da87027d87251920c2df665b850abb31178e', 'message': 'Add Migration.cross_cell_move and get_by_uuid\n\nThis adds a new boolean column, cross_cell_move,\nto the migrations table in the cell database and\ncorresponding field in the Migrations versioned\nobject. This will be used to track cross-cell\nresize operations. Also, a Migration.get_by_uuid()\nmethod is added to the versioned object because\nwhile doing a cross-cell resize, we will need to\nbe able to lookup a migration record via its uuid\nwhich will be unique across cell databases, unlike\nits id value which is specific to each cell database.\n\nNote that we opt to not store the source/dest cell\nUUIDs directly in the migrations table because the\nmigrations records are stored in the cell database and\nwe prefer to keep the cell information (which is in the\nAPI) separated from the cell database, especially in\ncase the cell UUID maps to something that does not\nexist later (like if the cell is split).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I63411214c412af93501b27eb39f97bf980b21760\n'}]",13,614012,1cf3da87027d87251920c2df665b850abb31178e,426,23,37,6873,,,0,"Add Migration.cross_cell_move and get_by_uuid

This adds a new boolean column, cross_cell_move,
to the migrations table in the cell database and
corresponding field in the Migrations versioned
object. This will be used to track cross-cell
resize operations. Also, a Migration.get_by_uuid()
method is added to the versioned object because
while doing a cross-cell resize, we will need to
be able to lookup a migration record via its uuid
which will be unique across cell databases, unlike
its id value which is specific to each cell database.

Note that we opt to not store the source/dest cell
UUIDs directly in the migrations table because the
migrations records are stored in the cell database and
we prefer to keep the cell information (which is in the
API) separated from the cell database, especially in
case the cell UUID maps to something that does not
exist later (like if the cell is split).

Part of blueprint cross-cell-resize

Change-Id: I63411214c412af93501b27eb39f97bf980b21760
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/614012/37 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/392_migrations_cross_cell_move.py', 'nova/api/openstack/compute/migrations.py', 'nova/tests/functional/api_sample_tests/test_migrations.py', 'nova/objects/migration.py']",10,899ae07ca80d6438b68b32fbc0a34a31a7d10815,bp/cross-cell-resize," # Version 1.6: Added cross_cell_move and get_by_uuid(). VERSION = '1.6' 'cross_cell_move': fields.BooleanField(default=False), if target_version < (1, 6) and 'cross_cell_move' in primitive: del primitive['cross_cell_move'] def get_by_uuid(cls, context, migration_uuid): db_migration = db.migration_get_by_uuid(context, migration_uuid) return cls._from_db_object(context, cls(), db_migration) @base.remotable_classmethod", VERSION = '1.5',97,10
openstack%2Fnova~master~I73dbe60bed1176a8db41b71b0729b0ba5366a042,openstack/nova,master,I73dbe60bed1176a8db41b71b0729b0ba5366a042,nit: fix the test case of migration obj_make_compatible,MERGED,2019-08-01 08:57:35.000000000,2019-08-02 13:35:44.000000000,2019-08-02 02:53:33.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-01 08:57:35.000000000', 'files': ['nova/tests/unit/objects/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6199d576c2414ba5c04f28cf9b5bb736fd6638d', 'message': 'nit: fix the test case of migration obj_make_compatible\n\nRelated-on: https://review.opendev.org/#/c/614012\nChange-Id: I73dbe60bed1176a8db41b71b0729b0ba5366a042\n'}]",0,673961,a6199d576c2414ba5c04f28cf9b5bb736fd6638d,24,9,1,26458,,,0,"nit: fix the test case of migration obj_make_compatible

Related-on: https://review.opendev.org/#/c/614012
Change-Id: I73dbe60bed1176a8db41b71b0729b0ba5366a042
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/673961/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/objects/test_migration.py'],1,a6199d576c2414ba5c04f28cf9b5bb736fd6638d,nit_fixed," self.assertNotIn('cross_cell_move', primitive)"," self.assertNotIn('cross_cell_resize', primitive)",1,1
openstack%2Ftripleo-common~stable%2Fstein~I45adc2b610783c42394ed701fec4e7abbf3de974,openstack/tripleo-common,stable/stein,I45adc2b610783c42394ed701fec4e7abbf3de974,Bump ceph/daemon container image to v4.0.1,MERGED,2019-07-30 10:25:05.000000000,2019-08-02 13:30:28.000000000,2019-08-02 13:30:27.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 10:25:05.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d015a5fa9e2a071d88c762649d766c5d35a8158', 'message': 'Bump ceph/daemon container image to v4.0.1\n\nTested via https://review.opendev.org/562213\n\nChange-Id: I45adc2b610783c42394ed701fec4e7abbf3de974\n(cherry picked from commit 9448a6380a473687145571e7d8934e1626c0cb33)\n'}]",0,673465,2d015a5fa9e2a071d88c762649d766c5d35a8158,15,5,1,6796,,,0,"Bump ceph/daemon container image to v4.0.1

Tested via https://review.opendev.org/562213

Change-Id: I45adc2b610783c42394ed701fec4e7abbf3de974
(cherry picked from commit 9448a6380a473687145571e7d8934e1626c0cb33)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/65/673465/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,2d015a5fa9e2a071d88c762649d766c5d35a8158,," 'ceph_tag': 'v4.0.1-stable-4.0-nautilus-centos-7-x86_64',"," 'ceph_tag': 'v4.0.0-stable-4.0-nautilus-centos-7-x86_64',",3,3
openstack%2Fkolla-ansible~stable%2Frocky~I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,openstack/kolla-ansible,stable/rocky,I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,"During deploy, always sync DB",MERGED,2019-07-12 13:11:15.000000000,2019-08-02 13:29:22.000000000,2019-08-02 13:29:22.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-12 13:11:15.000000000', 'files': ['ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/congress/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/441c5a03f7e788336f3a7c1cb15dcec207073b07', 'message': ""During deploy, always sync DB\n\nA common class of problems goes like this:\n\n* kolla-ansible deploy\n* Hit a problem, often in ansible/roles/*/tasks/bootstrap.yml\n* Re-run kolla-ansible deploy\n* Service fails to start\n\nThis happens because the DB is created during the first run, but for some\nreason we fail before performing the DB sync. This means that on the second run\nwe don't include ansible/roles/*/tasks/bootstrap_service.yml because the DB\nalready exists, and therefore still don't perform the DB sync. However this\ntime, the command may complete without apparent error.\n\nWe should be less careful about when we perform the DB sync, and do it whenever\nit is necessary. There is an argument for not doing the sync during a\n'reconfigure' command, although we will not change that here.\n\nThis change only always performs the DB sync during 'deploy' and\n'reconfigure' commands.\n\nChange-Id: I82d30f3fcf325a3fdff3c59f19a1f88055b566cc\nCloses-Bug: #1823766\nCloses-Bug: #1797814\n(cherry picked from commit d5e5e885d11e338806425839a361d868c1f4ff10)\n""}]",0,670548,441c5a03f7e788336f3a7c1cb15dcec207073b07,13,3,1,14826,,,0,"During deploy, always sync DB

A common class of problems goes like this:

* kolla-ansible deploy
* Hit a problem, often in ansible/roles/*/tasks/bootstrap.yml
* Re-run kolla-ansible deploy
* Service fails to start

This happens because the DB is created during the first run, but for some
reason we fail before performing the DB sync. This means that on the second run
we don't include ansible/roles/*/tasks/bootstrap_service.yml because the DB
already exists, and therefore still don't perform the DB sync. However this
time, the command may complete without apparent error.

We should be less careful about when we perform the DB sync, and do it whenever
it is necessary. There is an argument for not doing the sync during a
'reconfigure' command, although we will not change that here.

This change only always performs the DB sync during 'deploy' and
'reconfigure' commands.

Change-Id: I82d30f3fcf325a3fdff3c59f19a1f88055b566cc
Closes-Bug: #1823766
Closes-Bug: #1797814
(cherry picked from commit d5e5e885d11e338806425839a361d868c1f4ff10)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/670548/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/congress/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml']",32,441c5a03f7e788336f3a7c1cb15dcec207073b07,bug/1823766,, register: database when: database.changed or use_preconfigured_databases | bool,0,68
openstack%2Fswift~master~Ia832e9bab13167948f01bc50aa8a61974ce189fb,openstack/swift,master,Ia832e9bab13167948f01bc50aa8a61974ce189fb,Ignore 404s from handoffs for objects when calculating quorum,MERGED,2019-07-22 22:21:20.000000000,2019-08-02 13:23:27.000000000,2019-08-02 13:17:54.000000000,"[{'_account_id': 1179}, {'_account_id': 9625}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 22:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/67f1a6314c6ccb3be61899d1962d7943bad49f93', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 2, 'created': '2019-07-23 14:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ed39dbdfea0fcb885c1f3f55ae67d463e73de1af', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 3, 'created': '2019-07-24 20:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aea2da88ccfcd14517bdcf71de2994d8d455c048', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 4, 'created': '2019-07-24 20:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8fc252e6a42c647f53cdf364dfa4dfa952c28c1d', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 5, 'created': '2019-07-25 00:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79617532d0b3ea4d31350bd004276c466b446a62', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nCloses-Bug: #1837819\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 6, 'created': '2019-07-25 15:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2e3a069b90c6e358ebfeed302c32efafd33ae37c', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nCloses-Bug: #1837819\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 7, 'created': '2019-07-29 23:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b29d43397e3ed8ada1c7ffa16120faf193675db6', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nUpgradeImpact:\n--------------\nThis may cause an increase in 503 Service Unavailable responses served\nby proxy-servers. This should more accurately reflect the state of the\nsystem. However, if you need to return to the previous behavior where\nsuch requests would have been served with a 404 Not Found response, you\ncan set\n\n    consider_404s_from_object_handoffs = True\n\nin your proxy-server.conf\n\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nCloses-Bug: #1837819\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}, {'number': 8, 'created': '2019-08-01 21:08:42.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'test/probe/test_object_handoff.py', 'test/probe/test_object_failures.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3189410f9d5be3a845dbd47fdd77584f4b76da8a', 'message': ""Ignore 404s from handoffs for objects when calculating quorum\n\nWe previously realized we needed to do that for accounts and containers\nwhere the consequences of treating the 404 as authoritative were more\nobvious: we'd cache the non-existence which prevented writes until it\nfell out of cache.\n\nThe same basic logic applies for objects, though: if we see\n\n    (Timeout, Timeout, Timeout, 404, 404, 404)\n\non a triple-replica policy, we don't really have any reason to think\nthat a 404 is appropriate. In fact, it seems reasonably likely that\nthere's a thundering-herd problem where there are too many concurrent\nrequests for data that *definitely is there*. By responding with a 503,\nwe apply some back-pressure to clients, who hopefully have some\nexponential backoff in their retries.\n\nThe situation gets a bit more complicated with erasure-coded data, but\nthe same basic principle applies. We're just more likely to have\nconfirmation that there *is* data out there, we just can't reconstruct\nit (right now).\n\nNote that we *still want to check* those handoffs, of course. Our\nfail-in-place strategy has us replicate (and, more recently,\nreconstruct) to handoffs to maintain durability; it'd be silly *not* to\nlook.\n\nUpgradeImpact:\n--------------\nBe aware that this may cause an increase in 503 Service Unavailable\nresponses served by proxy-servers. However, this should more accurately\nreflect the state of the system.\n\nCo-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>\nChange-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb\nCloses-Bug: #1837819\nRelated-Bug: #1833612\nRelated-Change: I53ed04b5de20c261ddd79c98c629580472e09961\nRelated-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec\n""}]",31,672186,3189410f9d5be3a845dbd47fdd77584f4b76da8a,32,5,8,15343,,,0,"Ignore 404s from handoffs for objects when calculating quorum

We previously realized we needed to do that for accounts and containers
where the consequences of treating the 404 as authoritative were more
obvious: we'd cache the non-existence which prevented writes until it
fell out of cache.

The same basic logic applies for objects, though: if we see

    (Timeout, Timeout, Timeout, 404, 404, 404)

on a triple-replica policy, we don't really have any reason to think
that a 404 is appropriate. In fact, it seems reasonably likely that
there's a thundering-herd problem where there are too many concurrent
requests for data that *definitely is there*. By responding with a 503,
we apply some back-pressure to clients, who hopefully have some
exponential backoff in their retries.

The situation gets a bit more complicated with erasure-coded data, but
the same basic principle applies. We're just more likely to have
confirmation that there *is* data out there, we just can't reconstruct
it (right now).

Note that we *still want to check* those handoffs, of course. Our
fail-in-place strategy has us replicate (and, more recently,
reconstruct) to handoffs to maintain durability; it'd be silly *not* to
look.

UpgradeImpact:
--------------
Be aware that this may cause an increase in 503 Service Unavailable
responses served by proxy-servers. However, this should more accurately
reflect the state of the system.

Co-Authored-By: Thiago da Silva <thiagodasilva@gmail.com>
Change-Id: Ia832e9bab13167948f01bc50aa8a61974ce189fb
Closes-Bug: #1837819
Related-Bug: #1833612
Related-Change: I53ed04b5de20c261ddd79c98c629580472e09961
Related-Change: Ief44ed39d97f65e4270bf73051da9a2dd0ddbaec
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/672186/8 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py']",3,67f1a6314c6ccb3be61899d1962d7943bad49f93,bug/1833612, if 'handoff_index' in node and \ # throw out 404s from handoff nodes unless the data is really, if self.server_type != 'Object' and 'handoff_index' in node and \ # throw out 404s from handoff nodes unless the db is really,33,15
openstack%2Fswift~master~I023b8a46c06e9a2755b5aa890a7992ef9633cba9,openstack/swift,master,I023b8a46c06e9a2755b5aa890a7992ef9633cba9,sharding: better handle get_shard_ranges failures,MERGED,2019-04-25 20:05:26.000000000,2019-08-02 13:21:20.000000000,2019-08-02 13:17:51.000000000,"[{'_account_id': 7233}, {'_account_id': 9625}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-25 20:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8a34dff5cd46efc21faab12506e4f6e014618fad', 'message': ""sharding: better handle get_shard_ranges failures\n\nThe contract for ReplConnection.replicate() is that if we can get a\nresponse, we return it, and if we can't (because of a timeout, or a\nsocket error, or some other http_client error like BadStatusLine), we\nreturn None to indicate the error.\n\nPreviously, _fetch_and_merge_shard_ranges() always assumed the\nresponse would have a `status` attribute and raise an AttributeError\nwhen response was None. Now it will treat that case like other\nget_shard_range failures.\n\nChange-Id: I023b8a46c06e9a2755b5aa890a7992ef9633cba9\n""}, {'number': 2, 'created': '2019-07-13 00:48:08.000000000', 'files': ['swift/container/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bc5f4c061122aee5965cfb055beb3cb079073536', 'message': ""sharding: better handle get_shard_ranges failures\n\nThe contract for ReplConnection.replicate() is that if we can get a\nresponse, we return it, and if we can't (because of a timeout, or a\nsocket error, or some other http_client error like BadStatusLine), we\nreturn None to indicate the error.\n\nPreviously, _fetch_and_merge_shard_ranges() always assumed the\nresponse would have a `status` attribute and raise an AttributeError\nwhen response was None. Now it will treat that case like other\nget_shard_range failures.\n\nChange-Id: I023b8a46c06e9a2755b5aa890a7992ef9633cba9\n""}]",0,655784,bc5f4c061122aee5965cfb055beb3cb079073536,18,7,2,15343,,,0,"sharding: better handle get_shard_ranges failures

The contract for ReplConnection.replicate() is that if we can get a
response, we return it, and if we can't (because of a timeout, or a
socket error, or some other http_client error like BadStatusLine), we
return None to indicate the error.

Previously, _fetch_and_merge_shard_ranges() always assumed the
response would have a `status` attribute and raise an AttributeError
when response was None. Now it will treat that case like other
get_shard_range failures.

Change-Id: I023b8a46c06e9a2755b5aa890a7992ef9633cba9
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/655784/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/replicator.py'],1,8a34dff5cd46efc21faab12506e4f6e014618fad,655784, if response and is_success(response.status):, if is_success(response.status):,1,1
openstack%2Fdevstack~master~I80c96603a41ef9d289712ef15b464859aa9257be,openstack/devstack,master,I80c96603a41ef9d289712ef15b464859aa9257be,Un-quote metadata address if it is IPv6,MERGED,2019-07-31 16:21:25.000000000,2019-08-02 13:17:48.000000000,2019-08-02 13:17:47.000000000,"[{'_account_id': 1131}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 16:21:25.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a54919180b1316b998739f8b2ba0cc4b79c6b759', 'message': 'Un-quote metadata address if it is IPv6\n\nIn lib/neutron-legacy, the Nova metadata host address is\nun-quoted if it is IPv6, i.e. 2001:db8::1, not [2001:db8::1].\nWe should be doing the same in lib/neutron.\n\nChange-Id: I80c96603a41ef9d289712ef15b464859aa9257be\n'}]",0,673864,a54919180b1316b998739f8b2ba0cc4b79c6b759,11,4,1,1131,,,0,"Un-quote metadata address if it is IPv6

In lib/neutron-legacy, the Nova metadata host address is
un-quoted if it is IPv6, i.e. 2001:db8::1, not [2001:db8::1].
We should be doing the same in lib/neutron.

Change-Id: I80c96603a41ef9d289712ef15b464859aa9257be
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/673864/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,a54919180b1316b998739f8b2ba0cc4b79c6b759,unqoute-ipv6-metadata,NEUTRON_META_DATA_HOST=${NEUTRON_META_DATA_HOST:-$(ipv6_unquote $SERVICE_HOST)} iniset $NEUTRON_META_CONF DEFAULT nova_metadata_host $NEUTRON_META_DATA_HOST, iniset $NEUTRON_META_CONF DEFAULT nova_metadata_host $SERVICE_HOST,2,1
openstack%2Fneutron~master~I26115932ef4775f157297be1637ee26a4fca4666,openstack/neutron,master,I26115932ef4775f157297be1637ee26a4fca4666,Fix default RPC worker count,MERGED,2019-08-01 19:58:30.000000000,2019-08-02 13:17:45.000000000,2019-08-02 13:17:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6593}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-01 19:58:30.000000000', 'files': ['neutron/service.py', 'neutron/tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61d149c0123997accc5c48994d7a4d1514eb49c9', 'message': 'Fix default RPC worker count\n\nThe help for the rpc_workers config option is:\n\n    Number of RPC worker processes for service.  If not specified, the\n    default is equal to half the number of API workers.\n\nHowever, this does not accurately describe the current behaviour,\nwhich is to default to half the _default_ number of API workers.  This\ncan make a big difference; for example on a 256-CPU machine with 256GB\nof RAM which has api_workers configured to 8 but rpc_workers not\nconfigured to anything, this will result in 64 RPC workers, which is 8\nfor every API worker!\n\nTherefore tweak the default to rely on the actual value of\napi_workers, which may be different than the default value.\n\nChange-Id: I26115932ef4775f157297be1637ee26a4fca4666\nRelated-Bug: #1838688\nCloses-Bug: #1838689\n'}]",0,674125,61d149c0123997accc5c48994d7a4d1514eb49c9,18,7,1,2394,,,0,"Fix default RPC worker count

The help for the rpc_workers config option is:

    Number of RPC worker processes for service.  If not specified, the
    default is equal to half the number of API workers.

However, this does not accurately describe the current behaviour,
which is to default to half the _default_ number of API workers.  This
can make a big difference; for example on a 256-CPU machine with 256GB
of RAM which has api_workers configured to 8 but rpc_workers not
configured to anything, this will result in 64 RPC workers, which is 8
for every API worker!

Therefore tweak the default to rely on the actual value of
api_workers, which may be different than the default value.

Change-Id: I26115932ef4775f157297be1637ee26a4fca4666
Related-Bug: #1838688
Closes-Bug: #1838689
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/674125/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/service.py', 'neutron/tests/unit/test_service.py']",2,61d149c0123997accc5c48994d7a4d1514eb49c9,fix-rpc-workers-default," def test_rpc_workers_default_api_workers_default(self): def test_rpc_workers_default_api_workers_set(self): cfg.CONF.set_override('api_workers', 18) self._test_rpc_workers(None, 9) ", def test_rpc_workers_default(self):,6,2
openstack%2Fopenstack-helm~master~I83f5de1c32201a7534a65667b87b90bd46e156a8,openstack/openstack-helm,master,I83f5de1c32201a7534a65667b87b90bd46e156a8,Remove dependency for db_sync on keystone-rabbit-init,MERGED,2019-07-24 08:11:21.000000000,2019-08-02 13:09:14.000000000,2019-08-02 13:09:14.000000000,"[{'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-07-24 08:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/687590f20d976d27b53b540131d9cc1b4520d52a', 'message': 'Remove dependency for db_sync on keystone-rabbit-init\n\nThe patch adjusts dependency and removes dependency for db_sync on\nkeystone-rabbit-init job.\n\nChange-Id: I83f5de1c32201a7534a65667b87b90bd46e156a8\n'}, {'number': 2, 'created': '2019-07-26 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/faa570f31d82218bf614cb962dd7e0b142379980', 'message': 'Remove dependency for db_sync on keystone-rabbit-init\n\nThe patch adjusts dependency and removes dependency for db_sync on\nkeystone-rabbit-init job.\n\nChange-Id: I83f5de1c32201a7534a65667b87b90bd46e156a8\n'}, {'number': 3, 'created': '2019-07-26 10:30:10.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab7c203cf9b4583d2a61ebf5e9700b6a6854005a', 'message': 'Remove dependency for db_sync on keystone-rabbit-init\n\nThe patch adjusts dependency and removes dependency for db_sync on\nkeystone-rabbit-init job.\n\nChange-Id: I83f5de1c32201a7534a65667b87b90bd46e156a8\n'}]",0,672418,ab7c203cf9b4583d2a61ebf5e9700b6a6854005a,17,8,3,29954,,,0,"Remove dependency for db_sync on keystone-rabbit-init

The patch adjusts dependency and removes dependency for db_sync on
keystone-rabbit-init job.

Change-Id: I83f5de1c32201a7534a65667b87b90bd46e156a8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/672418/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,687590f20d976d27b53b540131d9cc1b4520d52a,,, db_sync: jobs: - keystone-rabbit-init,0,3
openstack%2Fironic~master~Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,openstack/ironic,master,Ie0d56da52ae8476d9f9860c967e8e31253a63c5b,Ansible driver: fix deployment with serial specified as root device hint,MERGED,2019-07-24 13:59:58.000000000,2019-08-02 13:07:59.000000000,2019-08-02 11:17:14.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15064}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-24 13:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1b0ccca2713878ae132561d0d6ba77f12cd248d', 'message': 'Ansible driver: fix deployment with serial specified as root device hint\n\nChange-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b\nStory: #2006275\nTask: #35975\n'}, {'number': 2, 'created': '2019-07-25 08:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6be5b60c42e16d2211cb41a114e6c41f46df7ac3', 'message': 'Ansible driver: fix deployment with serial specified as root device hint\n\nChange-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b\nStory: #2006275\nTask: #35975\n'}, {'number': 3, 'created': '2019-07-26 07:38:28.000000000', 'files': ['ironic/drivers/modules/ansible/playbooks/library/facts_wwn.py', 'releasenotes/notes/bug-2006275-a5ca234683ca4c32.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba207ba3720c501499c990bcf6c3ca335055c589', 'message': 'Ansible driver: fix deployment with serial specified as root device hint\n\nChange-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b\nStory: #2006275\nTask: #35975\n'}]",6,672530,ba207ba3720c501499c990bcf6c3ca335055c589,69,9,3,15064,,,0,"Ansible driver: fix deployment with serial specified as root device hint

Change-Id: Ie0d56da52ae8476d9f9860c967e8e31253a63c5b
Story: #2006275
Task: #35975
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/672530/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ansible/playbooks/library/facts_wwn.py', 'releasenotes/notes/bug-2006275-a5ca234683ca4c32.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py']",3,a1b0ccca2713878ae132561d0d6ba77f12cd248d,ansible_fix_root_device_hint," hints = {""wwn"": ""fake wwn"", ""size"": ""12345"", ""rotational"": True, ""serial"": ""HELLO""} expected = {""wwn"": ""fake wwn"", ""size"": 12345, ""rotational"": True, ""serial"": ""hello""}"," hints = {""wwn"": ""fake wwn"", ""size"": ""12345"", ""rotational"": True} expected = {""wwn"": ""fake wwn"", ""size"": 12345, ""rotational"": True}",13,3
openstack%2Fnova~master~Iad71b6e15bb91e51080cd9f940410dc9af791963,openstack/nova,master,Iad71b6e15bb91e51080cd9f940410dc9af791963,(Re-)enable vnc console tests in nova-multi-cell job,MERGED,2019-06-25 15:42:52.000000000,2019-08-02 13:04:58.000000000,2019-08-02 13:04:58.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 15:42:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a24d883e8cef62532161b7528b4436b41b0fd10b', 'message': '(Re-)enable vnc console tests in nova-multi-cell job\n\nThis reverts commit 47b73030cba7d67fe308c5b89c2a64e93d74bcd6.\n\nThe dependent devstack change fixes the issue so we can enable\nvnc console tempest testing in the nova-multi-cell job.\n\nDepends-On: https://review.opendev.org/661391/\n\nChange-Id: Iad71b6e15bb91e51080cd9f940410dc9af791963\nRelated-Bug: #1830417\n'}]",0,667388,a24d883e8cef62532161b7528b4436b41b0fd10b,43,16,1,6873,,,0,"(Re-)enable vnc console tests in nova-multi-cell job

This reverts commit 47b73030cba7d67fe308c5b89c2a64e93d74bcd6.

The dependent devstack change fixes the issue so we can enable
vnc console tempest testing in the nova-multi-cell job.

Depends-On: https://review.opendev.org/661391/

Change-Id: Iad71b6e15bb91e51080cd9f940410dc9af791963
Related-Bug: #1830417
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/667388/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a24d883e8cef62532161b7528b4436b41b0fd10b,bug/1830417,, # NOTE(mriedem): Skip novnc tests until bug 1830417 is fixed. vnc_console: false,0,2
openstack%2Fcinder~master~Iac785eef9be4b9cdb5c739ee0a87949805282867,openstack/cinder,master,Iac785eef9be4b9cdb5c739ee0a87949805282867,Fix DetachedInstanceError for VolumeAttachment,MERGED,2019-07-02 10:05:03.000000000,2019-08-02 13:04:47.000000000,2019-08-01 21:47:05.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-02 10:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdcca1a5c253415b91cb9954cf7d6f6161263df7', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n'}, {'number': 2, 'created': '2019-07-02 15:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff0e1800d15a77ca8b9af57dd77610431bf277ff', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n'}, {'number': 3, 'created': '2019-07-03 14:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02f9ca7084672336c0941836a61e724f9962884d', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n'}, {'number': 4, 'created': '2019-07-08 22:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6eb3e21875da5af0a48d03f07c6130b547596e17', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n'}, {'number': 5, 'created': '2019-07-31 19:06:54.000000000', 'files': ['cinder/tests/unit/objects/test_volume.py', 'releasenotes/notes/detachedinstanceerror-64be35894c624eae.yaml', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n'}]",2,668646,2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7,163,38,5,9535,,,0,"Fix DetachedInstanceError for VolumeAttachment

Patch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the
DetachedInstanceError for VolumeAttachment OVOs but only partially, as
apparently it was dependent on the SQLAlchemy version due to the use os
""hasattr"".

This patch replaces ""hasattr"" with a check on the object's dictionary,
which will never trigger a Lazy Load.

Closes-Bug: #1834845
Change-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/668646/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_volume.py', 'releasenotes/notes/detachedinstanceerror-64be35894c624eae.yaml', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",4,fdcca1a5c253415b91cb9954cf7d6f6161263df7,bug/1834845,"from sqlalchemy.orm import attributes def test_from_db_object_no_volume(self): original_get = attributes.InstrumentedAttribute.__get__ def my_get(get_self, instance, owner): self.assertNotEquals('volume', get_self.key) return original_get(get_self, instance, owner) # Volume field is not loaded attach = fake_volume.models.VolumeAttachment(id=fake.ATTACHMENT_ID, volume_id=fake.VOLUME_ID) patch_str = 'sqlalchemy.orm.attributes.InstrumentedAttribute.__get__' with mock.patch(patch_str, side_effect=my_get): objects.VolumeAttachment._from_db_object( self.context, objects.VolumeAttachment(), attach) attachment = fake_volume.volume_attachment_ovo(self.context) attachment = fake_volume.volume_attachment_ovo(self.context)", attachment = fake_volume.fake_volume_attachment_obj(self.context) attachment = fake_volume.fake_volume_attachment_obj(self.context),35,9
openstack%2Ftripleo-ansible~master~Ia5b12fe05903a4c33132d9c862f0543cfdb11418,openstack/tripleo-ansible,master,Ia5b12fe05903a4c33132d9c862f0543cfdb11418,Fix wrong indentation in ansible-autodoc.py sphinx extension.,ABANDONED,2019-08-02 10:45:58.000000000,2019-08-02 12:51:09.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-02 10:45:58.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5f49cd46310bdb9d8cb0b9199fde078b2736712', 'message': 'Fix wrong indentation in ansible-autodoc.py sphinx extension.\n\nThis patch fixes issue when trying to build documentation with sphinx\n1.8.x and python 2.7.x but was passing smoothly with python 3 and sphinx\n> 2.x.\n\nChange-Id: Ia5b12fe05903a4c33132d9c862f0543cfdb11418\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,674260,b5f49cd46310bdb9d8cb0b9199fde078b2736712,4,6,1,11491,,,0,"Fix wrong indentation in ansible-autodoc.py sphinx extension.

This patch fixes issue when trying to build documentation with sphinx
1.8.x and python 2.7.x but was passing smoothly with python 3 and sphinx
> 2.x.

Change-Id: Ia5b12fe05903a4c33132d9c862f0543cfdb11418
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/674260/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/ansible-autodoc.py'],1,b5f49cd46310bdb9d8cb0b9199fde078b2736712,, else: test_section.append(test_list) section.append(test_section), else: test_section.append(test_list) section.append(test_section),3,3
openstack%2Fptgbot~master~Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e,openstack/ptgbot,master,Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e,Add Python 3 Train unit tests,MERGED,2019-07-15 03:39:04.000000000,2019-08-02 12:35:03.000000000,2019-08-02 12:35:02.000000000,"[{'_account_id': 308}, {'_account_id': 7634}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 30384}, {'_account_id': 30395}]","[{'number': 1, 'created': '2019-07-15 03:39:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/6b50af14a6057d5fb369c1cfe57afaa6290f8e7c', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e\n'}]",0,670753,6b50af14a6057d5fb369c1cfe57afaa6290f8e7c,12,8,1,30077,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ie5535c3b8b6526f2ed8a8c99c62e5a770dd5a31e
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/53/670753/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6b50af14a6057d5fb369c1cfe57afaa6290f8e7c,, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fptgbot~master~Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f,openstack/ptgbot,master,Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f,Clean up stale data presence on a #newday command,MERGED,2019-07-12 14:57:37.000000000,2019-08-02 12:35:02.000000000,2019-08-02 12:35:02.000000000,"[{'_account_id': 308}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 14:57:37.000000000', 'files': ['ptgbot/db.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/18dbbc69f46f9ba8a91525407569b19ce173bfbe', 'message': 'Clean up stale data presence on a #newday command\n\nData presence was not reset on a new day cleanup, while it\nis almost certainly stale at this point. Hopefully.\n\nChange-Id: Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f\n'}]",0,670578,18dbbc69f46f9ba8a91525407569b19ce173bfbe,7,3,1,308,,,0,"Clean up stale data presence on a #newday command

Data presence was not reset on a new day cleanup, while it
is almost certainly stale at this point. Hopefully.

Change-Id: Ifc4cdedf6c365f92e5ff001d1485c8fee21b396f
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/78/670578/1 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/db.py', 'README.rst']",2,18dbbc69f46f9ba8a91525407569b19ce173bfbe,clear-presence, Removes existing now/next/location/presence entries. This command is meant to be run at the start of a new day," Removes now/next/location entries, to be run at the start of a new day",3,1
openstack%2Fptgbot~master~I62539a8c7130eac5eb666af019b7c94078666656,openstack/ptgbot,master,I62539a8c7130eac5eb666af019b7c94078666656,Reset to OrderedDict on new day cleanup,MERGED,2019-07-12 14:57:37.000000000,2019-08-02 12:35:01.000000000,2019-08-02 12:35:01.000000000,"[{'_account_id': 308}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 14:57:37.000000000', 'files': ['ptgbot/db.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/170c75cd1655bb624f579267735990b3aaddb73f', 'message': 'Reset to OrderedDict on new day cleanup\n\nWhile originally created as an OrderedDict, some data tables\nwere reset to a basic dictionary on a #newday command.\n\nChange-Id: I62539a8c7130eac5eb666af019b7c94078666656\n'}]",0,670577,170c75cd1655bb624f579267735990b3aaddb73f,7,3,1,308,,,0,"Reset to OrderedDict on new day cleanup

While originally created as an OrderedDict, some data tables
were reset to a basic dictionary on a #newday command.

Change-Id: I62539a8c7130eac5eb666af019b7c94078666656
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/77/670577/1 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/db.py'],1,170c75cd1655bb624f579267735990b3aaddb73f,clear-presence, self.data['now'] = OrderedDict() self.data['next'] = OrderedDict() self.data['location'] = OrderedDict(), self.data['now'] = {} self.data['next'] = {} self.data['location'] = {},3,3
openstack%2Ftripleo-common~master~Ie41ba6de1170a9c9ffc94889e47bce9ef1200521,openstack/tripleo-common,master,Ie41ba6de1170a9c9ffc94889e47bce9ef1200521,Fix ansible-generate-inventory action,MERGED,2019-07-31 15:33:56.000000000,2019-08-02 12:25:29.000000000,2019-08-01 09:41:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-31 15:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/683a5bec59afcdf20698a9526d08eb049aa0c2e6', 'message': ""Fix ansible-generate-inventory action\n\nansible-generate-inventory action raises Exception\nwhen 'ansible_python_interpreter' input is passed to it.\n\nThis patch fixes it and also update unit test to cover\nmissing part.\n\nChange-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521\n""}, {'number': 2, 'created': '2019-07-31 15:36:04.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a35576e9e6154a33e64413750e9da01603b7722', 'message': ""Fix ansible-generate-inventory action\n\nansible-generate-inventory action raises Exception\nwhen 'ansible_python_interpreter' input is passed to it.\n\nThis patch fixes it and also update unit test to cover\nmissing part.\n\nCloses-Bug: #1838536\nChange-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521\n""}]",0,673850,6a35576e9e6154a33e64413750e9da01603b7722,12,10,2,13861,,,0,"Fix ansible-generate-inventory action

ansible-generate-inventory action raises Exception
when 'ansible_python_interpreter' input is passed to it.

This patch fixes it and also update unit test to cover
missing part.

Closes-Bug: #1838536
Change-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/673850/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,683a5bec59afcdf20698a9526d08eb049aa0c2e6,bug/1838536," 'sa': {'children': ['Controller'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sb': {'children': ['Controller'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sd': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'se': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'ceph_client': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'clients': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sg': {'children': ['CustomRole'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sh': {'children': ['CustomRole'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}},",,27,2
openstack%2Fkayobe~master~Ia0ed200d73811c1787ec4f08dc72079cadc40675,openstack/kayobe,master,Ia0ed200d73811c1787ec4f08dc72079cadc40675,Fix parsing of etc/kayobe/ceph.yml with no variables defined,MERGED,2019-07-17 15:19:42.000000000,2019-08-02 12:19:17.000000000,2019-08-02 12:19:17.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 15:19:42.000000000', 'files': ['etc/kayobe/ceph.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4fa517b461478128198db88659915957e89545a8', 'message': 'Fix parsing of etc/kayobe/ceph.yml with no variables defined\n\nTrivialFix\n\nChange-Id: Ia0ed200d73811c1787ec4f08dc72079cadc40675\n'}]",0,671316,4fa517b461478128198db88659915957e89545a8,7,3,1,28048,,,0,"Fix parsing of etc/kayobe/ceph.yml with no variables defined

TrivialFix

Change-Id: Ia0ed200d73811c1787ec4f08dc72079cadc40675
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/671316/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/ceph.yml'],1,4fa517b461478128198db88659915957e89545a8,ceph-fix, ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes,,4,0
openstack%2Fdevstack~master~Id885fc5a769bce8111f1052a1b55d26be817c890,openstack/devstack,master,Id885fc5a769bce8111f1052a1b55d26be817c890,Configure console proxy ports in nova-cpu.conf,MERGED,2019-05-24 20:24:06.000000000,2019-08-02 12:07:35.000000000,2019-08-02 12:07:35.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 20:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cbac1c641527d7af8063c17f3ea0c09887566b80', 'message': 'Configure console proxy ports in nova-cpu.conf\n\nIn change I8934d0b9392f2976347391c8a650ad260f337762, we began\nconfiguring console proxy ports for multiple cells in the nova\ncontroller config files to avoid ""Address already in use"" errors from\nport collisions when running multiple cells on a single host.\n\nThis correspondingly configures the console proxy ports in the nova\ncompute config file based on what cell we\'re in, according to the\nNOVA_CPU_CELL variable.\n\nThe base_url config for serial console is also added where the default\nwas previously used. The url is taken from the config option default in\nthe nova code: nova/conf/serial_console.py [1].\n\nCloses-Bug: #1830417\n\n[1] https://github.com/openstack/nova/blob/8f00b5d/nova/conf/serial_console.py#L54\n\nChange-Id: Id885fc5a769bce8111f1052a1b55d26be817c890\n'}, {'number': 2, 'created': '2019-06-06 16:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2aee1b25bd6e57675d1bbc8d69bfe45dbb454dee', 'message': 'Configure console proxy ports in nova-cpu.conf\n\nIn change I8934d0b9392f2976347391c8a650ad260f337762, we began\nconfiguring console proxy ports for multiple cells in the nova\ncontroller config files to avoid ""Address already in use"" errors from\nport collisions when running multiple cells on a single host.\n\nThis correspondingly configures the console proxy ports in the nova\ncompute config file based on what cell we\'re in, according to the\nNOVA_CPU_CELL variable.\n\nThe base_url config for serial console is also added where the default\nwas previously used. The url is taken from the config option default in\nthe nova code: nova/conf/serial_console.py [1].\n\nCloses-Bug: #1830417\n\n[1] https://github.com/openstack/nova/blob/8f00b5d/nova/conf/serial_console.py#L54\n\nChange-Id: Id885fc5a769bce8111f1052a1b55d26be817c890\n'}, {'number': 3, 'created': '2019-07-03 09:46:00.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7d902f6b60298d56359a07a63b2355373e54956', 'message': 'Configure console proxy ports in nova-cpu.conf\n\nIn change I8934d0b9392f2976347391c8a650ad260f337762, we began\nconfiguring console proxy ports for multiple cells in the nova\ncontroller config files to avoid ""Address already in use"" errors from\nport collisions when running multiple cells on a single host.\n\nThis correspondingly configures the console proxy ports in the nova\ncompute config file based on what cell we\'re in, according to the\nNOVA_CPU_CELL variable.\n\nThe base_url config for serial console is also added where the default\nwas previously used. The url is taken from the config option default in\nthe nova code: nova/conf/serial_console.py [1].\n\n[1] https://github.com/openstack/nova/blob/8f00b5d/nova/conf/serial_console.py#L54\n\nChange-Id: Id885fc5a769bce8111f1052a1b55d26be817c890\nCloses-Bug: #1830417\n'}]",3,661391,d7d902f6b60298d56359a07a63b2355373e54956,31,7,3,4690,,,0,"Configure console proxy ports in nova-cpu.conf

In change I8934d0b9392f2976347391c8a650ad260f337762, we began
configuring console proxy ports for multiple cells in the nova
controller config files to avoid ""Address already in use"" errors from
port collisions when running multiple cells on a single host.

This correspondingly configures the console proxy ports in the nova
compute config file based on what cell we're in, according to the
NOVA_CPU_CELL variable.

The base_url config for serial console is also added where the default
was previously used. The url is taken from the config option default in
the nova code: nova/conf/serial_console.py [1].

[1] https://github.com/openstack/nova/blob/8f00b5d/nova/conf/serial_console.py#L54

Change-Id: Id885fc5a769bce8111f1052a1b55d26be817c890
Closes-Bug: #1830417
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/661391/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,cbac1c641527d7af8063c17f3ea0c09887566b80,nova-multi-cell," # If we are running multiple cells (and thus multiple console proxies) # on a single host, we offset the ports to avoid collisions. # We need to correspondingly configure the console proxy port for # nova-compute and we can use the NOVA_CPU_CELL variable to know which # cell we are for calculating the offset. # Stagger the offset based on the total number of possible console # proxies (novnc, xvpvnc, spice, serial) so that their ports will not # collide if all are enabled. offset=$(((NOVA_CPU_CELL - 1) * 4)) NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} # Use the old URL when installing older novnc source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_lite.html""} XVPVNCPROXY_URL=${XVPVNCPROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/console""} SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6082 + offset))/spice_auto.html""} iniset $NOVA_CPU_CONF serial_console base_url ""ws://$SERVICE_HOST:$((6083 + offset))/"""," NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:6080/vnc_auto.html""} # Use the old URL when installing older novnc source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:6080/vnc_auto.html""} NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:6080/vnc_lite.html""} XVPVNCPROXY_URL=${XVPVNCPROXY_URL:-""http://$SERVICE_HOST:6081/console""} SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:6082/spice_auto.html""}",16,6
openstack%2Ftripleo-heat-templates~master~Ife25df81f19b31200c42e67723c82a9668d35cc3,openstack/tripleo-heat-templates,master,Ife25df81f19b31200c42e67723c82a9668d35cc3,Use puppet tasks to configure Apache MPM,ABANDONED,2019-08-01 14:54:24.000000000,2019-08-02 12:05:25.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 14:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d2093ab99e37a46f5a1bce0852c81a471cb78da', 'message': ""Use puppet tasks to configure Apache MPM\n\nContainer puppet tasks does not fit for this purpose as\nit is executed only once per a bootstrap node.\n\nWe want Apache configurations included for all controllers,\nso use puppet_tasks for that with the added 'apache' tag.\n\nRelated-Bug: #1835414\n\nChange-Id: Ife25df81f19b31200c42e67723c82a9668d35cc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-08-01 15:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20938a8d6b07bc865884c4ff9927f9d27f3d1458', 'message': ""Use puppet tasks to configure Apache MPM\n\nContainer puppet tasks does not fit for this purpose as\nit is executed only once per a bootstrap node.\n\nWe want Apache configurations included for all controllers,\nso use puppet_tasks for that with the added 'apache' tag.\n\nWe rely on the puppet base profiles of the services to include\nthe required apache configs.\n\nRelated-Bug: #1835414\nDepends-On: https://review.opendev.org/674069\n\nChange-Id: Ife25df81f19b31200c42e67723c82a9668d35cc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-08-02 08:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4440d433eccc1f4b59add4a96f089b0647932781', 'message': ""Use puppet tasks to configure Apache MPM\n\nContainer puppet tasks does not fit for this purpose as\nit is executed only once per a bootstrap node.\n\nWe want Apache configurations included for all controllers,\nso use puppet_tasks for that with the added 'apache' tag.\n\nWe rely on the puppet base profiles of the services to include\nthe required apache configs.\n\nRelated-Bug: #1835414\nDepends-On: https://review.opendev.org/674069\nDepends-On: https://review.opendev.org/674220\n\nChange-Id: Ife25df81f19b31200c42e67723c82a9668d35cc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-08-02 09:05:59.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'puppet/manifests/overcloud_common.pp', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/460b05bcfb55cb46313c1b8184669549ccb28230', 'message': ""Use puppet tasks to configure Apache MPM\n\nContainer puppet tasks does not fit for this purpose as\nit is executed only once per a bootstrap node.\n\nWe want Apache configurations included for all controllers,\nso use puppet_tasks for that with the added 'apache' tag.\n\nWe rely on the puppet base profiles of the services to include\nthe required apache configs.\n\nAlso, noop service resources for puppet step config via\nthe common puppet step config manifest.\n\nRelated-Bug: #1835414\nDepends-On: https://review.opendev.org/674069\n\nChange-Id: Ife25df81f19b31200c42e67723c82a9668d35cc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,674058,460b05bcfb55cb46313c1b8184669549ccb28230,9,3,4,6926,,,0,"Use puppet tasks to configure Apache MPM

Container puppet tasks does not fit for this purpose as
it is executed only once per a bootstrap node.

We want Apache configurations included for all controllers,
so use puppet_tasks for that with the added 'apache' tag.

We rely on the puppet base profiles of the services to include
the required apache configs.

Also, noop service resources for puppet step config via
the common puppet step config manifest.

Related-Bug: #1835414
Depends-On: https://review.opendev.org/674069

Change-Id: Ife25df81f19b31200c42e67723c82a9668d35cc3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/674058/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",21,8d2093ab99e37a46f5a1bce0852c81a471cb78da,bug/1835414," puppet_tags: aodh_api_paste_ini,aodh_config,apache config_image: {get_param: ContainerAodhConfigImage}"," puppet_tags: aodh_api_paste_ini,aodh_config config_image: &aodh_config_image {get_param: ContainerAodhConfigImage} container_puppet_tasks: step_3: config_volume: 'aodh' step_config: | include ::tripleo::profile::base::apache config_image: *aodh_config_image",42,187
openstack%2Fos-vif~master~Iacccbabe71f3b68bdf28ecc349571887f191a3cd,openstack/os-vif,master,Iacccbabe71f3b68bdf28ecc349571887f191a3cd,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-26 03:26:07.000000000,2019-08-02 11:58:39.000000000,2019-08-02 11:58:39.000000000,"[{'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25733}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-26 03:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9c5406d21f7e1b671d5a80cd364b90b7fb12149a', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Iacccbabe71f3b68bdf28ecc349571887f191a3cd\n'}, {'number': 2, 'created': '2019-07-26 03:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/fc2a90dfe729088e2b88d659c0aa880f711ecdd7', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Iacccbabe71f3b68bdf28ecc349571887f191a3cd\n'}, {'number': 3, 'created': '2019-07-29 06:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2700c27561cfd6fe87d482f508db3305932048d1', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Iacccbabe71f3b68bdf28ecc349571887f191a3cd\n'}, {'number': 4, 'created': '2019-08-01 02:28:49.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2540f858cdcfe0d00740c809c26bc43e01a8ba82', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Iacccbabe71f3b68bdf28ecc349571887f191a3cd\n'}]",5,672857,2540f858cdcfe0d00740c809c26bc43e01a8ba82,22,7,4,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Iacccbabe71f3b68bdf28ecc349571887f191a3cd
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/57/672857/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9c5406d21f7e1b671d5a80cd364b90b7fb12149a,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Frpm-packaging~master~Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51,openstack/rpm-packaging,master,Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51,nova: Remove nova-consoleauth,MERGED,2019-08-01 15:28:29.000000000,2019-08-02 11:57:51.000000000,2019-08-02 11:57:51.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 15:28:29.000000000', 'files': ['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-consoleauth.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1e1acaae45e63857b13dafb356a44da460b5413e', 'message': 'nova: Remove nova-consoleauth\n\nThis was dropped upstream in I0498599fd636aa9e30df932f0d893db5efa23260\n\nChange-Id: Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51\n'}]",0,674074,1e1acaae45e63857b13dafb356a44da460b5413e,13,5,1,6593,,,0,"nova: Remove nova-consoleauth

This was dropped upstream in I0498599fd636aa9e30df932f0d893db5efa23260

Change-Id: Ib7dfb2f4ede834314b6c7fe4ecf2d50a5b91eb51
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/674074/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-consoleauth.service']",2,1e1acaae45e63857b13dafb356a44da460b5413e,,,[Unit] Description=OpenStack Nova VNC console auth Server After=syslog.target network.target [Service] Type=notify NotifyAccess=all TimeoutStartSec=0 Restart=on-failure User=nova ExecStart=/usr/bin/nova-consoleauth [Install] WantedBy=multi-user.target ,0,52
openstack%2Fcharm-neutron-gateway~master~I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e,openstack/charm-neutron-gateway,master,I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e,Stop using veth pairs to connect qdhcp ns,MERGED,2019-06-19 13:51:19.000000000,2019-08-02 11:55:46.000000000,2019-07-02 09:11:01.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 13:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/54d3707648b7714d6ff0fbf32e2a06bc7c865ddc', 'message': 'Stop using veth pairs to connect qdhcp ns\n\nveth pairs are currently being used to connect the qdhcp namespace\nto the underlying bridge. This behaviour appears to only be needed\nfor old kernels with limited namespaces support (pre trusty).\n\nChange-Id: I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e\nCloses-Bug: #1832021\n'}, {'number': 2, 'created': '2019-06-20 17:14:54.000000000', 'files': ['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/l3_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'tests/basic_deployment.py', 'templates/icehouse/l3_agent.ini', 'templates/queens/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/newton/l3_agent.ini', 'templates/stein/l3_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/bbc20dbe49e13fc2166cfae3a10eff57cad56553', 'message': 'Stop using veth pairs to connect qdhcp ns\n\nveth pairs are currently being used to connect the qdhcp namespace\nto the underlying bridge. This behaviour appears to only be needed\nfor old kernels with limited namespaces support (pre trusty).\n\nChange-Id: I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e\nCloses-Bug: #1832021\n'}]",0,666292,bbc20dbe49e13fc2166cfae3a10eff57cad56553,24,5,2,12549,,,0,"Stop using veth pairs to connect qdhcp ns

veth pairs are currently being used to connect the qdhcp namespace
to the underlying bridge. This behaviour appears to only be needed
for old kernels with limited namespaces support (pre trusty).

Change-Id: I3b090f07c995cbf375dcc1dfdbadf0d7f10ec78e
Closes-Bug: #1832021
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/92/666292/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/icehouse/dhcp_agent.ini', 'templates/mitaka/l3_agent.ini', 'templates/mitaka/dhcp_agent.ini', 'templates/icehouse/l3_agent.ini', 'templates/queens/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/newton/l3_agent.ini', 'templates/stein/l3_agent.ini']",8,54d3707648b7714d6ff0fbf32e2a06bc7c865ddc,bug/1832021,ovs_use_veth = False,ovs_use_veth = False{% else %} ovs_use_veth = True,8,22
openstack%2Ftripleo-heat-templates~master~I3e5b4372a01b29bf13179d8a16acc36da9c5caab,openstack/tripleo-heat-templates,master,I3e5b4372a01b29bf13179d8a16acc36da9c5caab,Fix generating Apache configs by container-puppet,MERGED,2019-07-04 13:31:36.000000000,2019-08-02 11:53:33.000000000,2019-07-31 18:31:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-04 13:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/502f999a3e09d43eae1190025129e80d2687d1e4', 'message': ""Ensure purging of the deleted httpd module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf remains in the\ncontainers running apache service, while puppet might want to remove\nthat file from the configuration, f.e. if switching MPM to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-07-05 08:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b2e4061a613f95b0cd3555d58a745ccc52befb2', 'message': ""Ensure purging of the deleted httpd module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf remains in the\ncontainers running apache service, while puppet might want to remove\nthat file from the configuration, f.e. if switching MPM to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-07-08 15:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2fb42315de93b82349a80d506d5bc012a5e9439', 'message': ""Ensure purging of the deleted httpd module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf remains in the\ncontainers running apache service, while puppet might want to remove\nthat file from the configuration, f.e. if switching MPM to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\n\nAdditionally, puppet configuration steps for httpd require the\nexec tag to be included in puppet_config. This is because\npuppetlabs-apache ensures the modules config dir via an exec call\nexecuted per each of its ::mod sub-classes.\n\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-07-08 17:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec6f1bcc33e4ab215458f783cd84afe655d1a9d6', 'message': ""Ensure purging of the deleted httpd module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf remains in the\ncontainers running apache service, while puppet might want to remove\nthat file from the configuration, f.e. if switching MPM to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2019-07-09 08:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bae9bc709d36c50a22ef4943dc84ad6055a1001b', 'message': ""Ensure purging of the deleted httpd module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf remains in the\ncontainers running apache service, while puppet might want to remove\nthat file from the configuration, f.e. if switching MPM to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2019-07-09 08:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/743900bd27cbfdb68c2082bf7f2ed7159943d61d', 'message': ""Ensure purging of the deleted httpd module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf remains in the\ncontainers running apache service, while puppet might want to remove\nthat file from the configuration, f.e. if switching MPM to 'event'.\n\nAs we cannot use kolla's extended start due to the conflicting src\npaths, enforce the wanted state of such files via direct bind-mounting.\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2019-07-09 09:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21f74e288e6a98998daee85bccaf81ac7243bc89', 'message': ""Ensure purging/syncing the apache module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nremains in the containers running apache service, while puppet might\nwant to remove that file from the configuration, or alter it in other\nway, f.e. when switching MPM 'prefork' to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2019-07-09 14:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e18287a4eda108c3a24a022a5edf675c94da3103', 'message': ""Ensure purging/syncing the apache module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nremains in the containers running apache service, while puppet might\nwant to remove that file from the configuration, or alter it in other\nway, f.e. when switching MPM 'prefork' to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files for\nthe related *_api service containers.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 9, 'created': '2019-07-09 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e96a6f8cf767b88d2a3c48de5675e75fd627d7a1', 'message': ""Ensure purging/syncing the apache module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nremains in the containers running apache service, while puppet might\nwant to remove that file from the configuration, or alter it in other\nway, f.e. when switching MPM 'prefork' to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files for\nthe related *_api service containers.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 10, 'created': '2019-07-09 15:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9a65b00d9faf11c13a0c952ca2eceba0cea8f46', 'message': ""Ensure purging/syncing the apache module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nremains in the containers running apache service, while puppet might\nwant to remove that file from the configuration, or alter it in other\nway, f.e. when switching MPM 'prefork' to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nExplicitly inculde puppet apache base profile for puppet_config of\ncontainers running API services in WSGI mode. This is needed to ensure\nthe HTTPD configuration early.\n\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 11, 'created': '2019-07-09 17:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03351b9b668586c05daaafdcca6c529a71dbbb9f', 'message': ""Ensure purging/syncing the apache module configs\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nremains in the containers running apache service, while puppet might\nwant to remove that file from the configuration, or alter it in other\nway, f.e. when switching MPM 'prefork' to 'event'.\n\nMake kolla extended start enforcing the wanted state of such files.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd 'apache' to the default puppet tags, so that container-puppet-tasks\nensure an appropriate apache configuration prior to the main deployment\nsteps.\n\nAlso add the missing kolla config for the placement API\n/etc/httpd/conf.d path.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 12, 'created': '2019-07-11 10:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0d83b7de84b6c0921c7a91505fd5dc95fd7764', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip service tags with container-puppet\n(new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of the\nremoved by puppet files, like conflicting Apache MPM modules.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool:\n  * Remove files missing in the source for the destination\n    (puppet-generated) path. Acieved via using rsync --delete.\n  * Purge obsoleted/irrelevant files in the destingation\n    (puppet-generated) before rsyncing new contents into it\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 13, 'created': '2019-07-11 10:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e431af99cc9c6620bcffb2214fae4aceca16c2ca', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip service tags with container-puppet\n(new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool:\n  * Remove files missing in the source for the destination\n    (puppet-generated) path. Acieved via using rsync --delete.\n  * Purge obsoleted/irrelevant files in the destingation\n    (puppet-generated) before rsyncing new contents into it\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 14, 'created': '2019-07-11 15:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14cebce99e9fdbbe4db5c48856b776319e883118', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip service tags with container-puppet\n(new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 15, 'created': '2019-07-11 16:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a284c3fc48ee432294da1dee61388700972a15a7', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip service tags with container-puppet\n(new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 16, 'created': '2019-07-12 08:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8ef44b64b00e8595a98f47f45a62844b8dd99b2', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip service tags with container-puppet\n(new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 17, 'created': '2019-07-15 09:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48bb11c9579ae2f4e6e85f5b49b35cacce6ef7a8', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip Apache service tags with\ncontainer-puppet (new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 18, 'created': '2019-07-15 15:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30580f4e19449f74dcd488bfdc35efeb4d58e33f', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip Apache service tags with\ncontainer-puppet (new feature as of Puppet 4.4).\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 19, 'created': '2019-07-16 08:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d0bc10c5c9e50a32b80e5b01cb59121934645bb', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\nWhen there is no kolla extended start used for the init-like\ncontainers, use the direct bind-mount for the apache module configs.\n\nDue to the conflicting kolla config src path, use another entry for the\nhttpd configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc stores\nfor puppet-generated stuff the corresponding service w/o conflicts\nwith the produced Apache configs.\n\nAdd apache to the default puppet tags applied with the container-puppet\ntool. This allows to configure httpd backend for WSGI applications\nrunning in containers. Also skip Apache service tags with\ncontainer-puppet (new feature as of Puppet 4.4).\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 20, 'created': '2019-07-16 13:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24e6c6dd0f190172b1c819e607fc8dec2dfb3cfb', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 21, 'created': '2019-07-16 15:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1472877af9ced4726be5ecdf7ae3cabf99669f42', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 22, 'created': '2019-07-17 12:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06214e299ed62afa83ef47b79e1c94c3ef61c856', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 23, 'created': '2019-07-19 13:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2716efe89b334cf76c7910d904ec6524cab51d55', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 24, 'created': '2019-07-19 18:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3408241174d5da019fc9f950d569ecc9e564d489', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 25, 'created': '2019-07-29 12:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d62a7425430ecb5301f6c466fca4bd97c8598da1', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 26, 'created': '2019-07-29 14:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e4be4951493971da96b09643e4c1a43ec1254c0', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 27, 'created': '2019-07-29 15:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07f85b5ce16b4fd8c6d5de4b579682d19bbb2a91', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 28, 'created': '2019-07-30 07:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4672d823c775b7a0d7a9703ad670548aa1d1a3d9', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 29, 'created': '2019-07-30 11:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14154ebc3a3b4e577aaa360a6dab1b195cf98e11', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 30, 'created': '2019-07-31 08:18:57.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'common/container-puppet.py', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80d12514d5cd3c20057bd01588e5d5d15d131ca9', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",22,669178,80d12514d5cd3c20057bd01588e5d5d15d131ca9,151,10,30,6926,,,0,"Fix generating Apache configs by container-puppet

The changes listed below provide a single unit of work required to
configure Apache backend for WSGI-based OpenStack API services
w/o conflicts causing containers startup failures.

W/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM
or other conflicting httpd modules might remain in the containers
and cause startup failures. While puppet removes such conflicts from
the configuration, f.e. when switching MPM 'prefork' to 'event', and we
expect it never gets into container configs.

Make kolla extended start properly enforcing the wanted state of
/etc/httpd, including conf.d and conf.modules.d, and also any of the
removed by puppet files, like conflicting Apache MPM modules.

Add container-puppet tasks to ensure apache MPM configs generated
before the main config steps that require Apache started in the
service container.

Additionally, ensure consistent mirroring across config-data
paths for the container-puppet tool. Purge obsoleted/irrelevant files
in the destingation (puppet-generated) before rsyncing new contents
into it.

Closes-Bug: #1835414

Change-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/669178/18 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",20,502f999a3e09d43eae1190025129e80d2687d1e4,bug/1835414," - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.modules.d"" dest: ""/etc/httpd/conf.modules.d"" merge: false preserve_properties: true",,81,1
openstack%2Fkolla-ansible~master~Ic19264191a0ed418fa959fdc122cef543446fbe5,openstack/kolla-ansible,master,Ic19264191a0ed418fa959fdc122cef543446fbe5,ceph-nfs: Add rpcbind to Ubuntu host bootstrap,MERGED,2019-07-05 09:56:29.000000000,2019-08-02 11:52:13.000000000,2019-07-17 16:02:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-05 09:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e652738798f7fb2a97cb84d54384f9d1e0bb92e', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 2, 'created': '2019-07-08 10:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2d37b5cff1888556837c8b4d2be7d92168c1c0a', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\nDepends-On: https://review.opendev.org/662412/\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 3, 'created': '2019-07-08 14:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84a87e733dae7c2c8d2a4ddb5479c82d01a9830c', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 4, 'created': '2019-07-09 07:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bca1a4db572072b8999dd3d8749f634e4eac8f07', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 5, 'created': '2019-07-09 09:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/612bfaed09de2f662a13c18a795bb9f3dc53614b', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 6, 'created': '2019-07-09 09:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ff5ab09bbfd7c4dbf88c780d313a00bb005db24', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 7, 'created': '2019-07-09 10:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dcf9cbaa618bdd8a24a9f06eea935b9e75bcebbb', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 8, 'created': '2019-07-09 11:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e4cc31c49d521cffb6a7abb6806cd60608fd374', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 9, 'created': '2019-07-09 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/419f6241ea9948b353dac88db9b699bd964dec00', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 10, 'created': '2019-07-10 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f976147c5163a7a9943450a2ebb442b2e65ee3a', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 11, 'created': '2019-07-10 15:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ea17c11469cbf6419c21bd90a12886901bf7760', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed in later versions)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n\nDepends-On: https://review.opendev.org/662412/\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 12, 'created': '2019-07-15 12:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4dfbe6d95e2eaca74610ab3cc75a04b46d0e9155', 'message': 'DNM: Troubleshoot ceph-nfs on ubuntu\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 13, 'created': '2019-07-15 12:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca5b6fd273cab3f68989259c0e5a63ee3fd22a15', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 14, 'created': '2019-07-15 16:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfe44fe32d1566e7b2b98405dded23aabd3d817c', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 15, 'created': '2019-07-16 08:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92813e9948b81b9655419b9523423fe611ef857d', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 16, 'created': '2019-07-16 08:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bb0c3c3b4507cd0d803b99cc97eabf75b58bff7', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}, {'number': 17, 'created': '2019-07-16 17:38:22.000000000', 'files': ['doc/source/reference/storage/ceph-guide.rst', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efcaf400b89d83db59871b97421d71d934b5b168', 'message': 'ceph-nfs: Add rpcbind to Ubuntu host bootstrap\n\n* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind\nudp test on startup (was fixed later)\n* Add rpcbind package to be installed by kolla-ansible bootstrap when\nceph_nfs is enabled\n* Update Ceph deployment docs with a note\n\nChange-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5\n'}]",25,669315,efcaf400b89d83db59871b97421d71d934b5b168,52,5,17,22629,,,0,"ceph-nfs: Add rpcbind to Ubuntu host bootstrap

* Ubuntu ships with nfs-ganesha 2.6.0, which requires to do an rpcbind
udp test on startup (was fixed later)
* Add rpcbind package to be installed by kolla-ansible bootstrap when
ceph_nfs is enabled
* Update Ceph deployment docs with a note

Change-Id: Ic19264191a0ed418fa959fdc122cef543446fbe5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/669315/14 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/templates/ganesha.conf.j2'],1,4e652738798f7fb2a97cb84d54384f9d1e0bb92e,bug/ceph_nfs_ubuntu, components { ALL = FULL_DEBUG; },,3,0
openstack%2Fkayobe~master~I1a9e0471f34183c85002de30c395b82baa5f3ef4,openstack/kayobe,master,I1a9e0471f34183c85002de30c395b82baa5f3ef4,Bump version of stackhpc.dell-powerconnect-switch,MERGED,2019-07-26 08:58:37.000000000,2019-08-02 11:51:40.000000000,2019-08-02 11:51:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-07-26 08:58:37.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3f105c21525ed9ad6a475106e3a71a7d26bceff', 'message': ""Bump version of stackhpc.dell-powerconnect-switch\n\nVersion v1.1.0 includes useful updates needed for supporting the\nPowerConnect 6248, such as support for 'enable' and quirky differences\nin the CLI.\n\nChange-Id: I1a9e0471f34183c85002de30c395b82baa5f3ef4\n""}]",0,672920,a3f105c21525ed9ad6a475106e3a71a7d26bceff,7,3,1,10910,,,0,"Bump version of stackhpc.dell-powerconnect-switch

Version v1.1.0 includes useful updates needed for supporting the
PowerConnect 6248, such as support for 'enable' and quirky differences
in the CLI.

Change-Id: I1a9e0471f34183c85002de30c395b82baa5f3ef4
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/672920/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,a3f105c21525ed9ad6a475106e3a71a7d26bceff,powerconnect-update, version: v1.1.0, version: v1.0.0,1,1
openstack%2Fdiskimage-builder~master~Ib55f6875c5cb461c3c530b51d7420ce3dc8da360,openstack/diskimage-builder,master,Ib55f6875c5cb461c3c530b51d7420ce3dc8da360,support alternate portage directories,MERGED,2019-07-18 17:33:52.000000000,2019-08-02 11:17:43.000000000,2019-07-29 06:29:02.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 17:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1eec719309b22bf18d1016384c3bf3fdec8ae7d7', 'message': 'support alternate portage directories\n\nthe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.  Unfortunately we can only do\nthis for one of the three vars, but we can infer from that one variable\nwhat the other two are likely to be.  We also allow these variables to\nbe user overridable.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 2, 'created': '2019-07-18 18:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/410fb77ef0bbb1a47e8b55e8d0f98a86f79cfdb7', 'message': 'support alternate portage directories\n\nthe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.  Unfortunately we can only do\nthis for one of the three vars, but we can infer from that one variable\nwhat the other two are likely to be.  We also allow these variables to\nbe user overridable.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 3, 'created': '2019-07-18 18:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b371c4ffa7924ad38a0bb79f453970ee33d1b626', 'message': 'support alternate portage directories\n\nthe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.  Unfortunately we can only do\nthis for one of the three vars, but we can infer from that one variable\nwhat the other two are likely to be.  We also allow these variables to\nbe user overridable.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 4, 'created': '2019-07-18 19:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b7fa86cf59ae5344d88dd86a97b916775549d654', 'message': 'support alternate portage directories\n\nthe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 5, 'created': '2019-07-18 21:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ba2927f4b7a534bf9b9b31232a02ff93fb2d391a', 'message': 'support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 6, 'created': '2019-07-21 23:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0ee4712d0b7be5d0969249bddc5faecee25bb856', 'message': 'support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 7, 'created': '2019-07-25 05:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3aa87b90130d27dcb26c471dbdb35a0ce01ef35d', 'message': 'support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 8, 'created': '2019-07-25 14:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b76b7deaa95cccfadb52277cfc5c5aed490a27a5', 'message': 'support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 9, 'created': '2019-07-26 04:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b69bce6d8fa3c4c51e324bcf0f5fc7aae479416a', 'message': 'support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.  Systemd is not on the 17.0\nprofile yet.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 10, 'created': '2019-07-26 05:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/aa839b47dc89cee37bfa50c191082ae552e6fc32', 'message': 'support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Due to this we need to query portage\nfor the location it is configured to use.  Systemd is not on the 17.0\nprofile yet.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n'}, {'number': 11, 'created': '2019-07-26 22:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6e682950c80b936c93d0fe45d7a70f2ab9982921', 'message': ""support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Some portage related variables need to\nbe set deterministically.  17.1 is no enabled for Systemd's profile.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n""}, {'number': 12, 'created': '2019-07-26 22:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0185321d8b8b9e6928de1623c913d717b752cc31', 'message': ""support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Some portage related variables need to\nbe set deterministically.  17.1 is no enabled for Systemd's profile.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n""}, {'number': 13, 'created': '2019-07-26 23:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/262ba49a240bfbe89193d1385dff75efcf5cb5a8', 'message': ""support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Some portage related variables need to\nbe set deterministically.  17.1 is no enabled for Systemd's profile.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n""}, {'number': 14, 'created': '2019-07-26 23:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/034d9bfc278cd1580e616e5d3887b3491b627bf2', 'message': ""support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Some portage related variables need to\nbe set deterministically.  17.1 is no enabled for Systemd's profile.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n""}, {'number': 15, 'created': '2019-07-26 23:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ed7af13b376e7acae410f562158285a477221b4', 'message': ""support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Some portage related variables need to\nbe set deterministically.  17.1 is no enabled for Systemd's profile.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n""}, {'number': 16, 'created': '2019-07-27 00:30:21.000000000', 'files': ['diskimage_builder/elements/gentoo/root.d/10-gentoo-image', 'diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash', 'diskimage_builder/elements/gentoo/cleanup.d/05-unmount', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-00-set-profile', 'diskimage_builder/elements/gentoo/finalise.d/99-cleanup', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python', 'diskimage_builder/elements/gentoo/pre-finalise.d/01-gentoo-cache', 'diskimage_builder/elements/gentoo/root.d/50-gentoo-cache', 'diskimage_builder/elements/gentoo/bin/install-packages', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f1d7e902e39264a0dd9584d7da11e7e62339d0a6', 'message': ""support alternate portage directories\n\nThe 17.1 profile changed the defaults used in portage for where we store\nour repo, distfiles and binpkgs.  Some portage related variables need to\nbe set deterministically.  17.1 is no enabled for Systemd's profile.\n\nChange-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360\n""}]",6,671530,f1d7e902e39264a0dd9584d7da11e7e62339d0a6,49,5,16,14288,,,0,"support alternate portage directories

The 17.1 profile changed the defaults used in portage for where we store
our repo, distfiles and binpkgs.  Some portage related variables need to
be set deterministically.  17.1 is no enabled for Systemd's profile.

Change-Id: Ib55f6875c5cb461c3c530b51d7420ce3dc8da360
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/30/671530/16 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash', 'diskimage_builder/elements/gentoo/cleanup.d/05-unmount', 'diskimage_builder/elements/gentoo/finalise.d/99-cleanup', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-04-install-desired-python', 'diskimage_builder/elements/gentoo/pre-finalise.d/01-gentoo-cache', 'diskimage_builder/elements/gentoo/root.d/50-gentoo-cache', 'diskimage_builder/elements/gentoo/bin/install-packages', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays']",8,1eec719309b22bf18d1016384c3bf3fdec8ae7d7,gentoo-17.1-profile, if [[ ! -f ${GENTOO_REPODIR}/profiles ]]; then, if [[ ! -f /usr/portage/profiles ]]; then,37,20
openstack%2Fkolla~stable%2Fstein~I1822a8c610db72654bbacc7148e25a837090b680,openstack/kolla,stable/stein,I1822a8c610db72654bbacc7148e25a837090b680,ceph mds cap 'allow *' in extend_start,MERGED,2019-08-02 08:28:43.000000000,2019-08-02 11:04:38.000000000,2019-08-02 11:04:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-02 08:28:43.000000000', 'files': ['docker/ceph/ceph-mon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2f45d6810e341cd89a20d5fceff0179cde768acc', 'message': ""ceph mds cap 'allow *' in extend_start\n\nThis applies the fix made in kolla-ansible (see [1])\nto kolla ceph mon image directly.\n\n[1] https://review.opendev.org/670035\n\nChange-Id: I1822a8c610db72654bbacc7148e25a837090b680\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit b1d4ed51f41721c86a33d766fdfd80aaccf1df60)\n""}]",0,674222,2f45d6810e341cd89a20d5fceff0179cde768acc,9,5,1,30491,,,0,"ceph mds cap 'allow *' in extend_start

This applies the fix made in kolla-ansible (see [1])
to kolla ceph mon image directly.

[1] https://review.opendev.org/670035

Change-Id: I1822a8c610db72654bbacc7148e25a837090b680
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit b1d4ed51f41721c86a33d766fdfd80aaccf1df60)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/674222/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/extend_start.sh'],1,2f45d6810e341cd89a20d5fceff0179cde768acc,fix-ceph-mds-cap-stable/stein," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow *' --cap mgr 'allow *'"," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow' --cap mgr 'allow *'",1,1
openstack%2Fkolla~master~I05433f5bb2313e2adff39850a970d4430340c852,openstack/kolla,master,I05433f5bb2313e2adff39850a970d4430340c852,Update build profiles for Placement split,MERGED,2019-07-30 16:40:32.000000000,2019-08-02 11:01:34.000000000,2019-07-31 09:56:14.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-30 16:40:32.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4e89eb932d660b4e610460b3ec9792a3e08091c', 'message': 'Update build profiles for Placement split\n\nThe Placement API is now a separate project, but anyone\nbuilding Nova is likely to want it. This change ensures\nthat it is built alongside Nova.\n\nChange-Id: I05433f5bb2313e2adff39850a970d4430340c852\n'}]",0,673579,d4e89eb932d660b4e610460b3ec9792a3e08091c,10,5,1,17669,,,0,"Update build profiles for Placement split

The Placement API is now a separate project, but anyone
building Nova is likely to want it. This change ensures
that it is built alongside Nova.

Change-Id: I05433f5bb2313e2adff39850a970d4430340c852
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/673579/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,d4e89eb932d660b4e610460b3ec9792a3e08091c,," 'placement', 'placement', 'placement',",,3,0
openstack%2Fdiskimage-builder~master~I41d906a99470599da3cfac7aaa0350232ce79316,openstack/diskimage-builder,master,I41d906a99470599da3cfac7aaa0350232ce79316,fix comments / spelling errors in gentoo element,MERGED,2019-07-29 13:55:26.000000000,2019-08-02 10:59:03.000000000,2019-07-30 07:22:26.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-29 13:55:26.000000000', 'files': ['diskimage_builder/elements/gentoo/bin/install-packages'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/559d2bcf3b516b6d108fc139a8d6ac3c96c5e784', 'message': 'fix comments / spelling errors in gentoo element\n\nChange-Id: I41d906a99470599da3cfac7aaa0350232ce79316\n'}]",0,673295,559d2bcf3b516b6d108fc139a8d6ac3c96c5e784,15,5,1,14288,,,0,"fix comments / spelling errors in gentoo element

Change-Id: I41d906a99470599da3cfac7aaa0350232ce79316
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/95/673295/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/gentoo/bin/install-packages'],1,559d2bcf3b516b6d108fc139a8d6ac3c96c5e784,gentoo-minor-nits,"# iterate over the array, exporting each 'line'"," #export GENTOO_EMERGE_ENV=('USE=""-build""' 'FEATURES=""binpkg-multi-instance buildpkg parallel-fetch parallel-install""')# itterate over the array, exporting each 'line'",1,2
openstack%2Fironic~master~I42ee6a46c002c14c785216834558223cbf9d319b,openstack/ironic,master,I42ee6a46c002c14c785216834558223cbf9d319b,RAID create fails if 'controller' is missing in 'target_raid_config',MERGED,2019-07-31 15:43:48.000000000,2019-08-02 10:56:56.000000000,2019-08-02 10:56:56.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-07-31 15:43:48.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent_base_vendor.py', 'releasenotes/notes/story-2006316-raid-create-fails-c3661e185fb11c9f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b304d188029eda293825d5e8ac56abc427e0bade', 'message': ""RAID create fails if 'controller' is missing in 'target_raid_config'\n\nRAID creation fails with KeyError if none of the 'logical_disks'\nin 'target_raid_config' have 'controller' parameter.\n\nStory: 2006316\nTask: 36043\nChange-Id: I42ee6a46c002c14c785216834558223cbf9d319b\n""}]",0,673854,b304d188029eda293825d5e8ac56abc427e0bade,18,8,1,11076,,,0,"RAID create fails if 'controller' is missing in 'target_raid_config'

RAID creation fails with KeyError if none of the 'logical_disks'
in 'target_raid_config' have 'controller' parameter.

Story: 2006316
Task: 36043
Change-Id: I42ee6a46c002c14c785216834558223cbf9d319b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/673854/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent_base_vendor.py', 'releasenotes/notes/story-2006316-raid-create-fails-c3661e185fb11c9f.yaml']",3,b304d188029eda293825d5e8ac56abc427e0bade,software_raid,--- fixes: - | Fixes an issue in creation of RAID if none of the 'logical_disks' in 'target_raid_config' have 'controller' parameter. See `story 2006316 <https://storyboard.openstack.org/#!/story/2006316>`__ for details. ,,34,1
openstack%2Fcookbook-openstack-compute~master~Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b,openstack/cookbook-openstack-compute,master,Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b,placement_api: create valid apache config before installing package,MERGED,2019-07-25 07:29:34.000000000,2019-08-02 10:48:35.000000000,2019-08-02 10:48:34.000000000,"[{'_account_id': 11109}, {'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 07:29:34.000000000', 'files': ['recipes/placement_api.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/ff074af903390c07e07514df7ffc00a6bfc1475e', 'message': 'placement_api: create valid apache config before installing package\n\nIf apache is (re)starting while the chef-client installs the\nnova-placement-api package, it may pick up the vanilla apache2 conf file\nbefore chef-client gets around to fixing it which may result in apache2\nfailing due to a non-working configuration.\n\nThis changeset eliminates the race by creating a valid configuration\nbefore installing the software. The solution is based on the assumption\nthat no reasonably configured package manager will overwrite an\nexisting, user-created configuration file.\n\nbackport: queens\n\nChange-Id: Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b\n'}]",0,672649,ff074af903390c07e07514df7ffc00a6bfc1475e,9,4,1,11109,,,0,"placement_api: create valid apache config before installing package

If apache is (re)starting while the chef-client installs the
nova-placement-api package, it may pick up the vanilla apache2 conf file
before chef-client gets around to fixing it which may result in apache2
failing due to a non-working configuration.

This changeset eliminates the race by creating a valid configuration
before installing the software. The solution is based on the assumption
that no reasonably configured package manager will overwrite an
existing, user-created configuration file.

backport: queens

Change-Id: Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/49/672649/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/placement_api.rb'],1,ff074af903390c07e07514df7ffc00a6bfc1475e,disable_vanilla_placement,"# Create valid apache site configuration file before installing package platform_options = node['openstack']['compute']['platform'] platform_options['api_placement_packages'].each do |pkg| package pkg do options platform_options['package_overrides'] action :upgrade end end service 'disable nova-placement-api service' do service_name platform_options['api_placement_service'] supports status: true, restart: true action [:disable, :stop] end nova_user = node['openstack']['compute']['user'] nova_group = node['openstack']['compute']['group'] execute 'placement-api: nova-manage api_db sync' do timeout node['openstack']['compute']['dbsync_timeout'] user nova_user group nova_group command 'nova-manage api_db sync' action :run end","platform_options = node['openstack']['compute']['platform'] platform_options['api_placement_packages'].each do |pkg| package pkg do options platform_options['package_overrides'] action :upgrade end end nova_user = node['openstack']['compute']['user'] nova_group = node['openstack']['compute']['group'] execute 'placement-api: nova-manage api_db sync' do timeout node['openstack']['compute']['dbsync_timeout'] user nova_user group nova_group command 'nova-manage api_db sync' action :run end service 'disable nova-placement-api service' do service_name platform_options['api_placement_service'] supports status: true, restart: true action [:disable, :stop] end ",26,25
openstack%2Fkolla-ansible~stable%2Fstein~I6d205fe327f198e699519ebe9d589b9ee77a62d2,openstack/kolla-ansible,stable/stein,I6d205fe327f198e699519ebe9d589b9ee77a62d2,Fix fluentd monasca pos path for Debian/Ubuntu x86_64,MERGED,2019-07-31 19:34:46.000000000,2019-08-02 10:48:24.000000000,2019-08-01 10:45:24.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-31 19:34:46.000000000', 'files': ['ansible/roles/common/templates/conf/input/09-monasca.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da20cc978c1bf59c60a71779e1814125c43754ae', 'message': 'Fix fluentd monasca pos path for Debian/Ubuntu x86_64\n\nChange-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2\nCloses-Bug: #1837274\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 19b345de3eae2266f13dcb3c3efa1b3c49fe892a)\n'}]",0,673897,da20cc978c1bf59c60a71779e1814125c43754ae,10,6,1,30491,,,0,"Fix fluentd monasca pos path for Debian/Ubuntu x86_64

Change-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2
Closes-Bug: #1837274
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 19b345de3eae2266f13dcb3c3efa1b3c49fe892a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/673897/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/09-monasca.conf.j2'],1,da20cc978c1bf59c60a71779e1814125c43754ae,cp2,"{% set fluentd_dir = 'td-agent' if (kolla_base_distro in ['ubuntu', 'debian'] and ansible_architecture == 'x86_64') else 'fluentd' %} pos_file /var/run/{{ fluentd_dir }}/monasca-agent.pos pos_file /var/run/{{ fluentd_dir }}/monasca-grafana.pos", pos_file /var/run/fluentd/monasca-agent.pos pos_file /var/run/fluentd/monasca-grafana.pos,3,3
openstack%2Fmurano-dashboard~master~I8bdb38e29209aff92f51532812b409e48462a0af,openstack/murano-dashboard,master,I8bdb38e29209aff92f51532812b409e48462a0af,Hide availability zones that are not available,MERGED,2019-07-25 23:24:44.000000000,2019-08-02 10:46:18.000000000,2019-08-01 01:06:23.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 23:24:44.000000000', 'files': ['muranodashboard/tests/unit/dynamic_ui/test_fields.py', 'muranodashboard/dynamic_ui/fields.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/5838b9143509f58c64efd10a2b13249915ce5799', 'message': ""Hide availability zones that are not available\n\nAvailability zones that were unavailable should have been filtered\nfrom the list, but weren't due to incomplete filtering.\n\nThis commit specifically tests whether the AZ status is available\nbefore allowing it in the list of choices.\n\nThis filtering mechanism is the same as how the OpenStack dashboard\n'Launch Instance' dialog handles availability zone availability.\n\nChange-Id: I8bdb38e29209aff92f51532812b409e48462a0af\n""}]",0,672838,5838b9143509f58c64efd10a2b13249915ce5799,9,2,1,18418,,,0,"Hide availability zones that are not available

Availability zones that were unavailable should have been filtered
from the list, but weren't due to incomplete filtering.

This commit specifically tests whether the AZ status is available
before allowing it in the list of choices.

This filtering mechanism is the same as how the OpenStack dashboard
'Launch Instance' dialog handles availability zone availability.

Change-Id: I8bdb38e29209aff92f51532812b409e48462a0af
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/38/672838/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/tests/unit/dynamic_ui/test_fields.py', 'muranodashboard/dynamic_ui/fields.py']",2,5838b9143509f58c64efd10a2b13249915ce5799,, for az in availability_zones if az.zoneState['available']], for az in availability_zones if az.zoneState],5,3
openstack%2Fironic~master~I0e6ab307ecd0caaf7b79edff67373be3490bfed7,openstack/ironic,master,I0e6ab307ecd0caaf7b79edff67373be3490bfed7,Fixes power-on failure for 'ilo' hardware type,MERGED,2019-07-26 15:31:27.000000000,2019-08-02 10:44:24.000000000,2019-08-01 18:32:47.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-26 15:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/acb31a6ee87aa68590ba2dfedb1575862a52d8e7', 'message': ""Fixes power-on failure for 'ilo' hardware type\n\nServer fails to return success for power-on operation if no\nbootable device is found.\n\nChange-Id: I0e6ab307ecd0caaf7b79edff67373be3490bfed7\nStory: 2006288\nTask: 35997\n""}, {'number': 2, 'created': '2019-07-29 11:05:09.000000000', 'files': ['ironic/drivers/modules/ilo/power.py', 'releasenotes/notes/story-2006288-ilo-power-on-fails-with-no-boot-device-b698fef59b04e515.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/49140989d185a021bc346ea55d7a63b91541baac', 'message': ""Fixes power-on failure for 'ilo' hardware type\n\nServer fails to return success for power-on operation if no\nbootable device is found.\n\nChange-Id: I0e6ab307ecd0caaf7b79edff67373be3490bfed7\nStory: 2006288\nTask: 35997\n""}]",4,673008,49140989d185a021bc346ea55d7a63b91541baac,23,8,2,11076,,,0,"Fixes power-on failure for 'ilo' hardware type

Server fails to return success for power-on operation if no
bootable device is found.

Change-Id: I0e6ab307ecd0caaf7b79edff67373be3490bfed7
Story: 2006288
Task: 35997
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/673008/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/power.py', 'releasenotes/notes/story-2006288-ilo-power-on-fails-with-no-boot-device-b698fef59b04e515.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_power.py']",3,acb31a6ee87aa68590ba2dfedb1575862a52d8e7,story_2006288," 'InPost']) get_post_mock.side_effect = ['PowerOff', 'PowerOff', 'InPost']"," 'FinishedPost']) get_post_mock.side_effect = ['PowerOff', 'PowerOff', 'FinishedPost']",20,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,stable/stein,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-08-01 16:00:42.000000000,2019-08-02 10:41:05.000000000,2019-08-02 10:41:04.000000000,"[{'_account_id': 6796}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 16:00:42.000000000', 'files': ['deployment/manila/manila-backend-cephfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7c3496a97c41f7069d1837e85ddb414a0ed3fa2', 'message': 'Transport ManilaCephFSDataPoolName to Manila CephFS template\n\nThis is necessary to configure the Manila CephFS backend\ncorrectly when user customizes the CephFS pool name.\n\nChange-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0\nDepends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nCloses-Bug: 1837099\n(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)\n'}]",0,674084,e7c3496a97c41f7069d1837e85ddb414a0ed3fa2,10,4,1,16643,,,0,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
(cherry picked from commit dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/674084/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-backend-cephfs.yaml'],1,e7c3496a97c41f7069d1837e85ddb414a0ed3fa2,bug/1837099-stable/stein, ManilaCephFSDataPoolName: default: manila_data type: string manila::backend::cephfs::pool_name: {get_param: ManilaCephFSDataPoolName},,4,0
openstack%2Fpuppet-tripleo~stable%2Frocky~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,stable/rocky,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-08-01 17:06:59.000000000,2019-08-02 10:41:03.000000000,2019-08-02 10:41:03.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 17:06:59.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe10653c3face414a0a81e080cbbcfd31d59aa7e', 'message': 'Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)\n(cherry picked from commit 3c4748b46238002acda87a65c4150f0ce3d579cb)\n'}]",0,674093,fe10653c3face414a0a81e080cbbcfd31d59aa7e,8,3,1,16643,,,0,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)
(cherry picked from commit 3c4748b46238002acda87a65c4150f0ce3d579cb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/93/674093/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,fe10653c3face414a0a81e080cbbcfd31d59aa7e,bug/1837099-stable/stein-stable/rocky," $manila_cephfs_pool_name = hiera('manila::backend::cephfs::pool_name', 'manila_data') ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => $manila_cephfs_pool_name;"," ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => 'manila_data';",2,1
openstack%2Ftripleo-heat-templates~master~Ia65af7a9d6ae106a61ec52912bebba72830d5f28,openstack/tripleo-heat-templates,master,Ia65af7a9d6ae106a61ec52912bebba72830d5f28,Wire-in Apache MPM module parameters and switch it,MERGED,2019-07-17 17:05:28.000000000,2019-08-02 10:34:07.000000000,2019-07-31 18:38:15.000000000,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 8648}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-17 17:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0711d0353fdacad38fd1844bba9ae0dc204c018f', 'message': ""Wire-in Apache MPM module parameters\n\nAllow to configure Apache MPM module for the containerized API/WSGI'ish\nservices running Apache as a backend. The default is 'prefork' and\nprovides no upgrade nor update impact.\n\nWe hope that switching the default from 'prefork' to 'event' might\nalleviate the related heartbeats threading issue.\n\nMerge the missing TLSProxyBase config settings for Octavia API and Horizon.\nMerge the missing ApacheServiceBase config settting for Ironix PXE.\nThis is needed to apply the base Apache service hiera\nsettings, including MPM module switches, for those as well.\n\nDepends-On: https://review.opendev.org/671321\nRelated-bug: #1829062\n\nChange-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-07-19 20:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a27eb02c98a7b35a74691c9fc0ed74bd5e31496', 'message': ""Wire-in Apache MPM module parameters\n\nAllow to configure Apache MPM module for the containerized API/WSGI'ish\nservices running Apache as a backend. The default is 'prefork' and\nprovides no upgrade nor update impact.\n\nWe hope that switching the default from 'prefork' to 'event' might\nalleviate the related heartbeats threading issue.\n\nMerge the missing ApacheServiceBase config settings for Octavia API,\nHorizon and Ironix PXE. This is needed to apply the base Apache\nservice hiera settings, including MPM module switches, for those\nas well.\n\nDepends-On: https://review.opendev.org/671321\nRelated-bug: #1829062\n\nChange-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-07-30 11:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af067dde6f04efe830a68874d5f0ac2e9eaa6cc4', 'message': ""Wire-in Apache MPM module parameters\n\nAllow to configure Apache MPM module for the containerized API/WSGI'ish\nservices running Apache as a backend. The default is 'prefork' and\nprovides no upgrade nor update impact.\n\nWe hope that switching the default from 'prefork' to 'event' might\nalleviate the related heartbeats threading issue.\n\nMerge the missing ApacheServiceBase config settings for Octavia API,\nHorizon and Ironix PXE. This is needed to apply the base Apache\nservice hiera settings, including MPM module switches, for those\nas well.\n\nDepends-On: https://review.opendev.org/671321\nRelated-bug: #1829062\n\nChange-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-07-30 11:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92a1ab982572e9e6886ce43d8d2e5a58b3cc43a6', 'message': ""Wire-in Apache MPM module parameters and switch it\n\nAllow to configure Apache MPM module for the containerized API/WSGI'ish\nservices running Apache as a backend. Change the default from 'prefork'\nto 'event', which is a low level change and should provide no sensible\nupgrade impact. This alleviates the related heartbeats threading issue\narising with the monkey-patched eventlet.\n\nMerge the missing ApacheServiceBase config settings for Octavia API,\nHorizon and Ironix PXE. This is needed to apply the base Apache\nservice hiera settings, including MPM module switches, for those\nas well.\n\nRelated-bug: #1829062\n\nChange-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2019-07-31 08:18:57.000000000', 'files': ['releasenotes/notes/apache_mpm_tuning-679c7362ddb72111.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09cfcc1464dce0eb7c05caf42375290bbaae4199', 'message': ""Wire-in Apache MPM module parameters and switch it\n\nAllow to configure Apache MPM module for the containerized API/WSGI'ish\nservices running Apache as a backend. Change the default from 'prefork'\nto 'event', which is a low level change and should provide no sensible\nupgrade impact. This alleviates the related heartbeats threading issue\narising with the monkey-patched eventlet.\n\nMerge the missing ApacheServiceBase config settings for Octavia API,\nHorizon and Ironix PXE. This is needed to apply the base Apache\nservice hiera settings, including MPM module switches, for those\nas well.\n\nRelated-bug: #1829062\n\nChange-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",4,671335,09cfcc1464dce0eb7c05caf42375290bbaae4199,39,16,5,6926,,,0,"Wire-in Apache MPM module parameters and switch it

Allow to configure Apache MPM module for the containerized API/WSGI'ish
services running Apache as a backend. Change the default from 'prefork'
to 'event', which is a low level change and should provide no sensible
upgrade impact. This alleviates the related heartbeats threading issue
arising with the monkey-patched eventlet.

Merge the missing ApacheServiceBase config settings for Octavia API,
Horizon and Ironix PXE. This is needed to apply the base Apache
service hiera settings, including MPM module switches, for those
as well.

Related-bug: #1829062

Change-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/671335/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache_mpm_tuning-679c7362ddb72111.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",21,0711d0353fdacad38fd1844bba9ae0dc204c018f,bug/1835414," ApacheMPMModule: default: 'prefork' description: Specifies the used MPM module for Apache. constraints: - allowed_values: ['prefork', 'event'] use_mpm_prefork: {equals: [{get_param: ApacheMPMModule}, 'prefork']} - use_mpm_prefork - apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::prefork::serverlimit: { get_param: ApacheServerLimit } tripleo::profile::base::apache::mpm_module: 'prefork' - apache::mod::event::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::event::serverlimit: { get_param: ApacheServerLimit } tripleo::profile::base::apache::mpm_module: 'event' - if:", apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::prefork::serverlimit: { get_param: ApacheServerLimit },180,3
openstack%2Fsahara-plugin-storm~master~Ide19f60443e8084de136fb3a76802faec0e2a8eb,openstack/sahara-plugin-storm,master,Ide19f60443e8084de136fb3a76802faec0e2a8eb,Imported Translations from Zanata,MERGED,2019-08-02 10:04:57.000000000,2019-08-02 10:33:36.000000000,2019-08-02 10:33:36.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 10:04:57.000000000', 'files': ['sahara_plugin_storm/locale/ne/LC_MESSAGES/sahara_plugin_storm.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/6d488c2c9a283e188a3fe891415a5ea393f47f2c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ide19f60443e8084de136fb3a76802faec0e2a8eb\n'}]",0,674252,6d488c2c9a283e188a3fe891415a5ea393f47f2c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ide19f60443e8084de136fb3a76802faec0e2a8eb
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/52/674252/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_storm/locale/ne/LC_MESSAGES/sahara_plugin_storm.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",2,6d488c2c9a283e188a3fe891415a5ea393f47f2c,zanata/translations,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-storm\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:26+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 04:40+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Current Series Release Notes"" msgstr ""वर्तमान श्रृंखला रिलीज नोट्स"" msgid ""Sahara Storm Plugin Release Notes"" msgstr ""Sahara Storm प्लगइन रिलीज नोट्स"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series रिलीज नोट्स"" ",,65,0
openstack%2Fsahara-plugin-spark~master~Ibff2e50adc83a7eff57da2970228075d51bf1f08,openstack/sahara-plugin-spark,master,Ibff2e50adc83a7eff57da2970228075d51bf1f08,Imported Translations from Zanata,MERGED,2019-08-02 08:55:36.000000000,2019-08-02 10:20:49.000000000,2019-08-02 10:20:49.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 08:55:36.000000000', 'files': ['sahara_plugin_spark/locale/ne/LC_MESSAGES/sahara_plugin_spark.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/493d83fcd430f1319a4dbeff0ec90915e90ca15e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibff2e50adc83a7eff57da2970228075d51bf1f08\n'}]",0,674232,493d83fcd430f1319a4dbeff0ec90915e90ca15e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibff2e50adc83a7eff57da2970228075d51bf1f08
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/32/674232/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_spark/locale/ne/LC_MESSAGES/sahara_plugin_spark.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",2,493d83fcd430f1319a4dbeff0ec90915e90ca15e,zanata/translations,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-spark\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:26+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 08:15+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""1.0.0"" msgstr ""१.०.०"" msgid ""Adding abilitiy to create spark images using Sahara Image Pack."" msgstr ""Sahara Image Pack प्रयोग गरेर स्पार्क छविहरू सिर्जना गर्ने क्षमता थप्दै।"" msgid ""Current Series Release Notes"" msgstr ""Current Series रिलीज नोट्स"" msgid ""New Features"" msgstr ""नयाँ सुविधाहरू"" msgid ""Sahara Spark Plugin Release Notes"" msgstr ""Sahara Spark Plugin नोट जारी गर्नुहोस्"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series नोट जारी गर्नुहोस्"" ",,95,0
openstack%2Foctavia~master~Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,openstack/octavia,master,Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,"Add support for monitor_{address,port} in UDP members",MERGED,2019-05-24 14:43:22.000000000,2019-08-02 10:00:23.000000000,2019-08-02 10:00:23.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-05-24 14:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d79ce08755e1c10aab660d4bce0f79dcc9d6e8f', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n""}, {'number': 2, 'created': '2019-05-27 07:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/433a97a64d722acda3081d0b02eac60fe9d544c5', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n""}, {'number': 3, 'created': '2019-06-28 07:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7457a72dcc9894c13268d7da4e8b5ede2a415d53', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n""}, {'number': 4, 'created': '2019-07-27 15:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b4be51d74be935fe9966013577093c223746b8e0', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n""}, {'number': 5, 'created': '2019-07-30 07:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e6814d1fe332326e9832a404263ed504aa49b5c1', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n""}, {'number': 6, 'created': '2019-07-30 10:32:24.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-support-for-monitoring-address-and-port-in-udp-members-ff83395544f228cf.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/65e132a734f005f090a384bfa129482d195c6d6e', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n""}]",0,661308,65e132a734f005f090a384bfa129482d195c6d6e,22,6,6,29244,,,0,"Add support for monitor_{address,port} in UDP members

UDP members didn't support monitor_address and monitor_port parameters.
Setting those values didn't have any effects.

This commit enables the support of both parameters.

Story: 2005775
Task: 33492

Change-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/661308/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/lvs/templates/macros.j2', 'octavia/common/jinja/lvs/jinja_cfg.py']",2,0d79ce08755e1c10aab660d4bce0f79dcc9d6e8f,udp_states," 'enabled': member.enabled, 'monitor_address': member.monitor_address, 'monitor_port': member.monitor_port", 'enabled': member.enabled,4,2
openstack%2Fpuppet-tripleo~stable%2Fstein~I3deb3e944ed4911962d204357bb3134569f153f6,openstack/puppet-tripleo,stable/stein,I3deb3e944ed4911962d204357bb3134569f153f6,Allow to configure Apache MPM module,ABANDONED,2019-08-01 09:25:42.000000000,2019-08-02 09:59:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 09:25:42.000000000', 'files': ['releasenotes/notes/apache_mpm_tuning-deafdf6610ce57b2.yaml', 'manifests/profile/base/apache.pp', 'spec/classes/tripleo_profile_base_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/68320a5b94be74cfc260fb6ba813ea4a1ef6716b', 'message': ""Allow to configure Apache MPM module\n\nDefaults to 'prefork', which ensures there is no upgrade/update impact.\n\nRelated-bug: #1829062\n\nChange-Id: I3deb3e944ed4911962d204357bb3134569f153f6\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 6fb9d8e6cd48283b551f3580072669622da2006c)\n""}]",0,673974,68320a5b94be74cfc260fb6ba813ea4a1ef6716b,5,2,1,6926,,,0,"Allow to configure Apache MPM module

Defaults to 'prefork', which ensures there is no upgrade/update impact.

Related-bug: #1829062

Change-Id: I3deb3e944ed4911962d204357bb3134569f153f6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 6fb9d8e6cd48283b551f3580072669622da2006c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/673974/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache_mpm_tuning-deafdf6610ce57b2.yaml', 'manifests/profile/base/apache.pp', 'spec/classes/tripleo_profile_base_apache_spec.rb']",3,68320a5b94be74cfc260fb6ba813ea4a1ef6716b,bug/1835414," is_expected.to contain_class('apache::mod::prefork') context 'Change MPM module' do let(:params) {{ :mpm_module => 'event', }} it 'should trigger complete configuration' do is_expected.to contain_class('apache::mod::event') end end",,25,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3e5b4372a01b29bf13179d8a16acc36da9c5caab,openstack/tripleo-heat-templates,stable/stein,I3e5b4372a01b29bf13179d8a16acc36da9c5caab,Fix generating Apache configs by container-puppet,ABANDONED,2019-07-17 12:45:56.000000000,2019-08-02 09:59:47.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-17 12:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64b57d8459c2912a7bb9c4eedf932bbe61db6a9a', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nDue to conflicting kolla config src paths, use another entry for the\nmodule configs for extended start to pick it up from\n/vsr/lib/kolla_config/etc. So that /var/lib/kolla_config/src/etc can be\nused for the puppet-generated /etc/httpd/conf.d stuff w/o conflicts\nwith /etc/httpd/conf.modules.d.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 1472877af9ced4726be5ecdf7ae3cabf99669f42)\n""}, {'number': 2, 'created': '2019-08-01 09:22:51.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'common/container-puppet.py', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db2d8637d9bcf71514a083ed68b2f201295bffbe', 'message': ""Fix generating Apache configs by container-puppet\n\nThe changes listed below provide a single unit of work required to\nconfigure Apache backend for WSGI-based OpenStack API services\nw/o conflicts causing containers startup failures.\n\nW/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM\nor other conflicting httpd modules might remain in the containers\nand cause startup failures. While puppet removes such conflicts from\nthe configuration, f.e. when switching MPM 'prefork' to 'event', and we\nexpect it never gets into container configs.\n\nMake kolla extended start properly enforcing the wanted state of\n/etc/httpd, including conf.d and conf.modules.d, and also any of the\nremoved by puppet files, like conflicting Apache MPM modules.\n\nAdd container-puppet tasks to ensure apache MPM configs generated\nbefore the main config steps that require Apache started in the\nservice container.\n\nAdditionally, ensure consistent mirroring across config-data\npaths for the container-puppet tool. Purge obsoleted/irrelevant files\nin the destingation (puppet-generated) before rsyncing new contents\ninto it.\n\nCloses-Bug: #1835414\n\nChange-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 1472877af9ced4726be5ecdf7ae3cabf99669f42)\n""}]",0,671254,db2d8637d9bcf71514a083ed68b2f201295bffbe,15,4,2,6926,,,0,"Fix generating Apache configs by container-puppet

The changes listed below provide a single unit of work required to
configure Apache backend for WSGI-based OpenStack API services
w/o conflicts causing containers startup failures.

W/o this change /etc/httpd/conf.modules.d/00-mpm.conf shipped with RPM
or other conflicting httpd modules might remain in the containers
and cause startup failures. While puppet removes such conflicts from
the configuration, f.e. when switching MPM 'prefork' to 'event', and we
expect it never gets into container configs.

Make kolla extended start properly enforcing the wanted state of
/etc/httpd, including conf.d and conf.modules.d, and also any of the
removed by puppet files, like conflicting Apache MPM modules.

Add container-puppet tasks to ensure apache MPM configs generated
before the main config steps that require Apache started in the
service container.

Additionally, ensure consistent mirroring across config-data
paths for the container-puppet tool. Purge obsoleted/irrelevant files
in the destingation (puppet-generated) before rsyncing new contents
into it.

Closes-Bug: #1835414

Change-Id: I3e5b4372a01b29bf13179d8a16acc36da9c5caab
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 1472877af9ced4726be5ecdf7ae3cabf99669f42)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/671254/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'common/container-puppet.py', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",21,64b57d8459c2912a7bb9c4eedf932bbe61db6a9a,bug/1835414," config_image: &aodh_config_image {get_param: DockerAodhConfigImage} - source: ""/var/lib/kolla/config_files/etc/httpd/conf.modules.d"" dest: ""/etc/httpd/conf.modules.d"" merge: false preserve_properties: true - /var/lib/config-data/aodh/etc/httpd/:/var/lib/kolla/config_files/etc/httpd/:ro container_puppet_tasks: step_3: config_volume: 'aodh' step_config: | noop_resource('service') include ::tripleo::profile::base::apache config_image: *aodh_config_image", config_image: {get_param: DockerAodhConfigImage},310,32
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia65af7a9d6ae106a61ec52912bebba72830d5f28,openstack/tripleo-heat-templates,stable/stein,Ia65af7a9d6ae106a61ec52912bebba72830d5f28,Wire-in Apache MPM module parameters and switch it,ABANDONED,2019-08-01 09:30:34.000000000,2019-08-02 09:59:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 09:30:34.000000000', 'files': ['releasenotes/notes/apache_mpm_tuning-679c7362ddb72111.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a21ec5fcf6b253bd02b2057a00ac42b2ceca89b5', 'message': ""Wire-in Apache MPM module parameters and switch it\n\nAllow to configure Apache MPM module for the containerized API/WSGI'ish\nservices running Apache as a backend. Change the default from 'prefork'\nto 'event', which is a low level change and should provide no sensible\nupgrade impact. This alleviates the related heartbeats threading issue\narising with the monkey-patched eventlet.\n\nMerge the missing ApacheServiceBase config settings for Octavia API,\nHorizon and Ironix PXE. This is needed to apply the base Apache\nservice hiera settings, including MPM module switches, for those\nas well.\n\nRelated-bug: #1829062\nDepends-On: https://review.opendev.org/673974\n\nChange-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 09cfcc1464dce0eb7c05caf42375290bbaae4199)\n""}]",0,673978,a21ec5fcf6b253bd02b2057a00ac42b2ceca89b5,4,2,1,6926,,,0,"Wire-in Apache MPM module parameters and switch it

Allow to configure Apache MPM module for the containerized API/WSGI'ish
services running Apache as a backend. Change the default from 'prefork'
to 'event', which is a low level change and should provide no sensible
upgrade impact. This alleviates the related heartbeats threading issue
arising with the monkey-patched eventlet.

Merge the missing ApacheServiceBase config settings for Octavia API,
Horizon and Ironix PXE. This is needed to apply the base Apache
service hiera settings, including MPM module switches, for those
as well.

Related-bug: #1829062
Depends-On: https://review.opendev.org/673974

Change-Id: Ia65af7a9d6ae106a61ec52912bebba72830d5f28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 09cfcc1464dce0eb7c05caf42375290bbaae4199)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/673978/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache_mpm_tuning-679c7362ddb72111.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",21,a21ec5fcf6b253bd02b2057a00ac42b2ceca89b5,bug/1835414," ApacheMPMModule: type: string default: 'event' description: Specifies the used MPM module for Apache. constraints: - allowed_values: ['prefork', 'event'] use_mpm_prefork: {equals: [{get_param: ApacheMPMModule}, 'prefork']} - use_mpm_prefork - apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::prefork::serverlimit: { get_param: ApacheServerLimit } tripleo::profile::base::apache::mpm_module: 'prefork' - apache::mod::event::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::event::serverlimit: { get_param: ApacheServerLimit } tripleo::profile::base::apache::mpm_module: 'event' - if:", apache::mod::prefork::maxclients: { get_param: ApacheMaxRequestWorkers } apache::mod::prefork::serverlimit: { get_param: ApacheServerLimit },199,3
openstack%2Freleases~master~I587da735ebef104c7e255d33a70a6ff2583c29cc,openstack/releases,master,I587da735ebef104c7e255d33a70a6ff2583c29cc,Release ironic-tempest-plugin 1.4.0,MERGED,2019-07-23 14:53:42.000000000,2019-08-02 09:55:51.000000000,2019-08-02 09:55:51.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 14:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e22439a91d95e756bc99fe18d36c465e497124d2', 'message': 'Release ironic-tempest-plugin 1.4.0\n\nChange-Id: I587da735ebef104c7e255d33a70a6ff2583c29cc\n'}, {'number': 2, 'created': '2019-07-23 16:12:32.000000000', 'files': ['deliverables/train/ironic-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b08eb990f4a8460d227be2196cbed221f68e234c', 'message': 'Release ironic-tempest-plugin 1.4.0\n\nChange-Id: I587da735ebef104c7e255d33a70a6ff2583c29cc\n'}]",5,672307,b08eb990f4a8460d227be2196cbed221f68e234c,16,5,2,10239,,,0,"Release ironic-tempest-plugin 1.4.0

Change-Id: I587da735ebef104c7e255d33a70a6ff2583c29cc
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/672307/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-tempest-plugin.yaml'],1,e22439a91d95e756bc99fe18d36c465e497124d2,,include-pypi-link: falsereleases: - version: 1.4.0 projects: - repo: openstack/ironic-tempest-plugin hash: 75e91b0e5de7d303f1be7a32ae5585633501167c,include-pypi-link: no,6,1
openstack%2Fkolla-ansible~stable%2Fqueens~I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,openstack/kolla-ansible,stable/queens,I82d30f3fcf325a3fdff3c59f19a1f88055b566cc,"During deploy, always sync DB",MERGED,2019-07-12 13:23:02.000000000,2019-08-02 09:55:33.000000000,2019-08-02 09:55:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-12 13:23:02.000000000', 'files': ['ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/congress/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e219a91738048ff16f2caed4c24f85832211aad', 'message': ""During deploy, always sync DB\n\nA common class of problems goes like this:\n\n* kolla-ansible deploy\n* Hit a problem, often in ansible/roles/*/tasks/bootstrap.yml\n* Re-run kolla-ansible deploy\n* Service fails to start\n\nThis happens because the DB is created during the first run, but for some\nreason we fail before performing the DB sync. This means that on the second run\nwe don't include ansible/roles/*/tasks/bootstrap_service.yml because the DB\nalready exists, and therefore still don't perform the DB sync. However this\ntime, the command may complete without apparent error.\n\nWe should be less careful about when we perform the DB sync, and do it whenever\nit is necessary. There is an argument for not doing the sync during a\n'reconfigure' command, although we will not change that here.\n\nThis change only always performs the DB sync during 'deploy' and\n'reconfigure' commands.\n\nChange-Id: I82d30f3fcf325a3fdff3c59f19a1f88055b566cc\nCloses-Bug: #1823766\nCloses-Bug: #1797814\n(cherry picked from commit d5e5e885d11e338806425839a361d868c1f4ff10)\n""}]",0,670549,8e219a91738048ff16f2caed4c24f85832211aad,8,4,1,14826,,,0,"During deploy, always sync DB

A common class of problems goes like this:

* kolla-ansible deploy
* Hit a problem, often in ansible/roles/*/tasks/bootstrap.yml
* Re-run kolla-ansible deploy
* Service fails to start

This happens because the DB is created during the first run, but for some
reason we fail before performing the DB sync. This means that on the second run
we don't include ansible/roles/*/tasks/bootstrap_service.yml because the DB
already exists, and therefore still don't perform the DB sync. However this
time, the command may complete without apparent error.

We should be less careful about when we perform the DB sync, and do it whenever
it is necessary. There is an argument for not doing the sync during a
'reconfigure' command, although we will not change that here.

This change only always performs the DB sync during 'deploy' and
'reconfigure' commands.

Change-Id: I82d30f3fcf325a3fdff3c59f19a1f88055b566cc
Closes-Bug: #1823766
Closes-Bug: #1797814
(cherry picked from commit d5e5e885d11e338806425839a361d868c1f4ff10)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/670549/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/congress/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml']",31,8e219a91738048ff16f2caed4c24f85832211aad,bug/1823766,, register: database when: database.changed or use_preconfigured_databases | bool,2,65
openstack%2Fpython-ironic-inspector-client~master~I24f3c101646ae0157ab1c7a4bf6c81784a356477,openstack/python-ironic-inspector-client,master,I24f3c101646ae0157ab1c7a4bf6c81784a356477,CI: clean up required projects,MERGED,2019-07-30 08:24:19.000000000,2019-08-02 09:43:27.000000000,2019-08-02 09:22:45.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 08:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/49e515815fa0c7040843428202bbadfe6ca35703', 'message': 'CI: clean up required projects\n\nChange-Id: I24f3c101646ae0157ab1c7a4bf6c81784a356477\n'}, {'number': 2, 'created': '2019-07-30 09:40:56.000000000', 'files': ['zuul.d/python-ironic-inspector-client-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/dd1628e20ede390a63cdb91598846d6115525566', 'message': 'CI: clean up required projects\n\nChange-Id: I24f3c101646ae0157ab1c7a4bf6c81784a356477\n'}]",0,673442,dd1628e20ede390a63cdb91598846d6115525566,17,7,2,10239,,,0,"CI: clean up required projects

Change-Id: I24f3c101646ae0157ab1c7a4bf6c81784a356477
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/42/673442/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/python-ironic-inspector-client-jobs.yaml'],1,49e515815fa0c7040843428202bbadfe6ca35703,gate,, - openstack/ironic-lib - openstack/ironic-python-agent - x/pyghmi - openstack/python-ironicclient,0,4
openstack%2Fsushy~master~Ifd83b72a283e44d890c98ae646ef831467ed4af8,openstack/sushy,master,Ifd83b72a283e44d890c98ae646ef831467ed4af8,Add MappedListField,MERGED,2019-07-17 09:42:05.000000000,2019-08-02 09:35:13.000000000,2019-08-02 09:35:13.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 30013}]","[{'number': 1, 'created': '2019-07-17 09:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/369da44f6a4b08d2501b6ee51cd9d4324b74ac69', 'message': 'Add MappedListField\n\nThe MappedList field supports a list of mapped instances. This type of\nfield is being used by the `SupportedControllerProtocols` and the\n`SupportedDeviceProtocols` fields of a Storage Controller in the\nStorage resource.\n\nChange-Id: Ifd83b72a283e44d890c98ae646ef831467ed4af8\n'}, {'number': 2, 'created': '2019-07-22 11:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/46e883957afa3a1c0cc41206517dc7d05a0f25d4', 'message': 'Add MappedListField\n\nThe MappedList field supports a list of mapped instances. This type of\nfield is being used by the `SupportedControllerProtocols` and the\n`SupportedDeviceProtocols` fields of a Storage Controller in the\nStorage resource.\n\nChange-Id: Ifd83b72a283e44d890c98ae646ef831467ed4af8\n'}, {'number': 3, 'created': '2019-07-24 16:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1bee5802d2b91fce0408cf79a7f561b2f2542d46', 'message': 'Add MappedListField\n\nThe MappedList field supports a list of mapped instances. This type of\nfield is being used by the `SupportedControllerProtocols` and the\n`SupportedDeviceProtocols` fields of a Storage Controller in the\nStorage resource.\n\nChange-Id: Ifd83b72a283e44d890c98ae646ef831467ed4af8\n'}, {'number': 4, 'created': '2019-07-26 07:37:44.000000000', 'files': ['sushy/tests/unit/resources/test_base.py', 'releasenotes/notes/add-mapped-list-field-04c671f7a73d83f6.yaml', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/base.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/d182d6fac1098c046cfa57b07eea8a3c0c5a5038', 'message': 'Add MappedListField\n\nThe MappedList field supports a list of mapped instances. This type of\nfield is being used by the `SupportedControllerProtocols` and the\n`SupportedDeviceProtocols` fields of a Storage Controller in the\nStorage resource.\n\nChange-Id: Ifd83b72a283e44d890c98ae646ef831467ed4af8\n'}]",10,671228,d182d6fac1098c046cfa57b07eea8a3c0c5a5038,19,5,4,30013,,,0,"Add MappedListField

The MappedList field supports a list of mapped instances. This type of
field is being used by the `SupportedControllerProtocols` and the
`SupportedDeviceProtocols` fields of a Storage Controller in the
Storage resource.

Change-Id: Ifd83b72a283e44d890c98ae646ef831467ed4af8
",git fetch https://review.opendev.org/openstack/sushy refs/changes/28/671228/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/test_base.py', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/base.py']",4,369da44f6a4b08d2501b6ee51cd9d4324b74ac69,add-mappedlist-field,"class MappedListField(MappedField): """"""Field taking a list of values with a mapping for the values"""""" def __init__(self, *args, **kwargs): super(MappedListField, self).__init__(*args, **kwargs) def _load(self, body, resource, nested_in=None): """"""Load the mapped list. :param body: parent JSON body. :param resource: parent resource. :param nested_in: parent resource name (for error reporting only). :returns: a new list object containing the mapped values. """""" nested_in = (nested_in or []) + self._path mapping_adapter = self._adapter # changing adapter so that list from the json body can pe parsed as is self._adapter = lambda x: x values = super(MappedListField, self)._load(body, resource) self._adapter = mapping_adapter # restoring the adapter for refresh if values is None: return None # Initialize the list that will contain each mapped instance instances = [] for value in values: instance = self._adapter(value) if instance is not None: instances.append(instance) return instances ",,50,9
openstack%2Fnetworking-ovn~master~I70fe9d99f585c3df8692975f8cc993d3db951b24,openstack/networking-ovn,master,I70fe9d99f585c3df8692975f8cc993d3db951b24,Update api-ref location,MERGED,2019-07-30 17:54:25.000000000,2019-08-02 09:33:44.000000000,2019-08-02 09:33:43.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-30 17:54:25.000000000', 'files': ['doc/source/contributor/design/loadbalancer.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6517a2f119538598716a9b57ec779706c6d336da', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I70fe9d99f585c3df8692975f8cc993d3db951b24\n""}]",0,673600,6517a2f119538598716a9b57ec779706c6d336da,10,5,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I70fe9d99f585c3df8692975f8cc993d3db951b24
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/673600/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/design/loadbalancer.rst'],1,6517a2f119538598716a9b57ec779706c6d336da,retire-api-site,https://docs.openstack.org/api-ref/load-balancer/v2/[4] https://docs.openstack.org/api-ref/load-balancer/v2/index.html#status-codes,https://developer.openstack.org/api-ref/load-balancer/v2/[4] https://developer.openstack.org/api-ref/load-balancer/v2/index.html#status-codes,2,2
openstack%2Ftripleo-heat-templates~master~I32d6fb755723beb7b78623e50bd58dddb3e8e794,openstack/tripleo-heat-templates,master,I32d6fb755723beb7b78623e50bd58dddb3e8e794,Role Extra Config Post hook points to the wrong Heat resource.,ABANDONED,2019-08-01 15:34:58.000000000,2019-08-02 09:32:21.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 15:34:58.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2e5bc1520ead99908cb29cd8b2e48c06bdaace7', 'message': 'Role Extra Config Post hook points to the wrong Heat resource.\n\nHaving {{role.name}}ExtraConfigPost will\nmake to execute resources like,\ntype: OS::TripleO::NodeExtraConfigPost\n\nIn this case we need to execute each extra config\nstep depending on the role name.\n\nChange-Id: I32d6fb755723beb7b78623e50bd58dddb3e8e794\n'}]",0,674075,e2e5bc1520ead99908cb29cd8b2e48c06bdaace7,4,6,1,20775,,,0,"Role Extra Config Post hook points to the wrong Heat resource.

Having {{role.name}}ExtraConfigPost will
make to execute resources like,
type: OS::TripleO::NodeExtraConfigPost

In this case we need to execute each extra config
step depending on the role name.

Change-Id: I32d6fb755723beb7b78623e50bd58dddb3e8e794
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/674075/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,e2e5bc1520ead99908cb29cd8b2e48c06bdaace7,, type: OS::TripleO::{{role.name}}ExtraConfigPost, type: OS::TripleO::NodeExtraConfigPost,1,1
openstack%2Fnova~stable%2Frocky~I79b40ca40400c67b0805926096317afd875ffabb,openstack/nova,stable/rocky,I79b40ca40400c67b0805926096317afd875ffabb,Fix python3 compatibility of rbd get_fsid,MERGED,2019-06-11 07:40:06.000000000,2019-08-02 09:26:28.000000000,2019-08-02 05:34:20.000000000,"[{'_account_id': 6737}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11805}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-11 07:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72bd50561aaa5ef98517972cc5a3406d8858d67f', 'message': ""Fix python3 compatibility of rbd get_fsid\n\nIn py3 librados's get_fsid() function returns a binary string\nwhich breaks comparison when compared with the same value as a\nstring. This is currently breakin the logic that compares ceph\ncluster fsids when deciding whether the image used to boot an\ninstance is cow-clonable.\n\nChange-Id: I79b40ca40400c67b0805926096317afd875ffabb\nCloses-Bug: #1816468\n(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)\n(cherry picked from commit a2f1920933c4ae3d50c2df642caeba48409ec3c3)\n""}, {'number': 2, 'created': '2019-07-31 20:29:23.000000000', 'files': ['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/25fd08755e363f442f4ad390c1cb7de301fc7dfb', 'message': ""Fix python3 compatibility of rbd get_fsid\n\nIn py3 librados's get_fsid() function returns a binary string\nwhich breaks comparison when compared with the same value as a\nstring. This is currently breakin the logic that compares ceph\ncluster fsids when deciding whether the image used to boot an\ninstance is cow-clonable.\n\nChange-Id: I79b40ca40400c67b0805926096317afd875ffabb\nCloses-Bug: #1816468\n(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)\n(cherry picked from commit b4b47a59c7ff1d60e69dbdea07de9163948cb680)\n""}]",1,664513,25fd08755e363f442f4ad390c1cb7de301fc7dfb,39,10,2,6737,,,0,"Fix python3 compatibility of rbd get_fsid

In py3 librados's get_fsid() function returns a binary string
which breaks comparison when compared with the same value as a
string. This is currently breakin the logic that compares ceph
cluster fsids when deciding whether the image used to boot an
instance is cow-clonable.

Change-Id: I79b40ca40400c67b0805926096317afd875ffabb
Closes-Bug: #1816468
(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)
(cherry picked from commit b4b47a59c7ff1d60e69dbdea07de9163948cb680)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/664513/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py']",2,72bd50561aaa5ef98517972cc5a3406d8858d67f,bug/1816468,from oslo_utils import encodeutils return encodeutils.safe_decode(client.cluster.get_fsid()) fsid = encodeutils.safe_decode(fsid), return client.cluster.get_fsid(),10,1
openstack%2Foctavia-tempest-plugin~master~I446de2920d3f01b2dc224e8ffab46274cddfefa1,openstack/octavia-tempest-plugin,master,I446de2920d3f01b2dc224e8ffab46274cddfefa1,Fix typo in active/standby scenario error handling,ABANDONED,2019-08-02 06:37:49.000000000,2019-08-02 09:06:41.000000000,,"[{'_account_id': 6469}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-02 06:37:49.000000000', 'files': ['octavia_tempest_plugin/tests/act_stdby_scenario/v2/test_active_standby_iptables.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/65beed82b9d0fef61fcde9bb642072ab0889eaf2', 'message': 'Fix typo in active/standby scenario error handling\n\nThe following IndexError exception is thrown when amphora ssh key file\nis missing:\n\nFile [..]/octavia_tempest_plugin/tests/act_stdby_scenario/v2/\\\ntest_active_standby_iptables.py, line 237, in _get_amphora_ssh_key\n        .format(key_file))\n    IndexError: tuple index out of range\n\nChange-Id: I446de2920d3f01b2dc224e8ffab46274cddfefa1\n'}]",0,674199,65beed82b9d0fef61fcde9bb642072ab0889eaf2,4,2,1,29244,,,0,"Fix typo in active/standby scenario error handling

The following IndexError exception is thrown when amphora ssh key file
is missing:

File [..]/octavia_tempest_plugin/tests/act_stdby_scenario/v2/\
test_active_standby_iptables.py, line 237, in _get_amphora_ssh_key
        .format(key_file))
    IndexError: tuple index out of range

Change-Id: I446de2920d3f01b2dc224e8ffab46274cddfefa1
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/99/674199/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/act_stdby_scenario/v2/test_active_standby_iptables.py'],1,65beed82b9d0fef61fcde9bb642072ab0889eaf2,," raise Exception(""Could not find amphora ssh key file {0}."""," raise Exception(""Could not find amphora ssh key file {1}.""",1,1
openstack%2Ftripleo-common~master~Ib33b3591a553910f03fb5c5e81847059b0e94b9c,openstack/tripleo-common,master,Ib33b3591a553910f03fb5c5e81847059b0e94b9c,Noop service resources for puppet step config,ABANDONED,2019-08-02 08:20:50.000000000,2019-08-02 09:00:58.000000000,,[],"[{'number': 1, 'created': '2019-08-02 08:20:50.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cebece21e77c922f8f1d651e0876d25f19889508', 'message': 'Noop service resources for puppet step config\n\nSimilarly to container-puppet tooling, we need to\nnoop the service puppet resources globally.\n\nThis enables configuring Apache MPM for t-h-t.\n\nRelated-Bug: #1835414\n\nChange-Id: Ib33b3591a553910f03fb5c5e81847059b0e94b9c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,674220,cebece21e77c922f8f1d651e0876d25f19889508,2,0,1,6926,,,0,"Noop service resources for puppet step config

Similarly to container-puppet tooling, we need to
noop the service puppet resources globally.

This enables configuring Apache MPM for t-h-t.

Related-Bug: #1835414

Change-Id: Ib33b3591a553910f03fb5c5e81847059b0e94b9c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/674220/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,cebece21e77c922f8f1d651e0876d25f19889508,bug/1835414," step_config.write('noop_resource(""service"")\n')",,1,0
openstack%2Fcharm-masakari-monitors~master~I9fd8d984b144ca8424b981210f62257fca57e54e,openstack/charm-masakari-monitors,master,I9fd8d984b144ca8424b981210f62257fca57e54e,Remove hardcoded ppa from install function,MERGED,2019-08-01 14:59:49.000000000,2019-08-02 08:41:12.000000000,2019-08-02 08:41:12.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 14:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/a6be1d09843433d5efb359938d83d202e300605f', 'message': 'Remove hardcoded ppa from install function\n\nChange-Id: I9fd8d984b144ca8424b981210f62257fca57e54e\nCloses-Bug: 1838578\n'}, {'number': 2, 'created': '2019-08-02 08:10:36.000000000', 'files': ['src/lib/charm/openstack/masakari_monitors.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/7d5991845b2aba8a90387585b01fed95dab1f77a', 'message': 'Remove hardcoded ppa from install function\n\nChange-Id: I9fd8d984b144ca8424b981210f62257fca57e54e\nCloses-Bug: 1838578\n'}]",0,674061,7d5991845b2aba8a90387585b01fed95dab1f77a,9,3,2,22799,,,0,"Remove hardcoded ppa from install function

Change-Id: I9fd8d984b144ca8424b981210f62257fca57e54e
Closes-Bug: 1838578
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/61/674061/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/masakari_monitors.py'],1,a6be1d09843433d5efb359938d83d202e300605f,bug/1838578,, # TODO: Stop using the PPA; https://bugs.launchpad.net/bugs/1838578 charmhelpers.fetch.add_source('ppa:gnuoy/bionic-stein'),0,2
openstack%2Fkolla~master~I2970b6c0d0684a00a59ff3b2d9eebb3d04495345,openstack/kolla,master,I2970b6c0d0684a00a59ff3b2d9eebb3d04495345,Fixes Fluentd on Ubuntu deploys.,ABANDONED,2019-07-20 08:49:44.000000000,2019-08-02 08:40:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-07-20 08:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd4fa2f5b7ba3c9c73f7112cc53dff279468c299', 'message': 'Fixes Fluentd on Ubuntu binary deploys.\n\nFluentd needs /var/run/fluentd which is missing.\n\nChange-Id: I2970b6c0d0684a00a59ff3b2d9eebb3d04495345\nCloses-Bug: #1837274\n'}, {'number': 2, 'created': '2019-07-21 08:09:11.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7f0d6ff7cd3e7f6ec96b8fbebedfbed5e7aa0338', 'message': 'Fixes Fluentd on Ubuntu deploys.\n\nFluentd needs /var/run/fluentd which is missing.\n\nChange-Id: I2970b6c0d0684a00a59ff3b2d9eebb3d04495345\nCloses-Bug: #1837274\n'}]",1,671888,7f0d6ff7cd3e7f6ec96b8fbebedfbed5e7aa0338,19,5,2,30523,,,0,"Fixes Fluentd on Ubuntu deploys.

Fluentd needs /var/run/fluentd which is missing.

Change-Id: I2970b6c0d0684a00a59ff3b2d9eebb3d04495345
Closes-Bug: #1837274
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/671888/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,fd4fa2f5b7ba3c9c73f7112cc53dff279468c299,bug/1837274, && mkdir -p /var/run/fluentd \ && chown -R td-agent: /etc/td-agent /var/run/fluentd, && chown -R td-agent: /etc/td-agent,2,1
openstack%2Fkolla~master~I1822a8c610db72654bbacc7148e25a837090b680,openstack/kolla,master,I1822a8c610db72654bbacc7148e25a837090b680,ceph mds cap 'allow *' in extend_start,MERGED,2019-08-01 16:36:41.000000000,2019-08-02 08:28:43.000000000,2019-08-02 08:12:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-01 16:36:41.000000000', 'files': ['docker/ceph/ceph-mon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b1d4ed51f41721c86a33d766fdfd80aaccf1df60', 'message': ""ceph mds cap 'allow *' in extend_start\n\nThis applies the fix made in kolla-ansible (see [1])\nto kolla ceph mon image directly.\n\n[1] https://review.opendev.org/670035\n\nChange-Id: I1822a8c610db72654bbacc7148e25a837090b680\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",0,674088,b1d4ed51f41721c86a33d766fdfd80aaccf1df60,10,5,1,30491,,,0,"ceph mds cap 'allow *' in extend_start

This applies the fix made in kolla-ansible (see [1])
to kolla ceph mon image directly.

[1] https://review.opendev.org/670035

Change-Id: I1822a8c610db72654bbacc7148e25a837090b680
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/674088/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/extend_start.sh'],1,b1d4ed51f41721c86a33d766fdfd80aaccf1df60,fix-ceph-mds-cap," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow *' --cap mgr 'allow *'"," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow' --cap mgr 'allow *'",1,1
openstack%2Ftripleo-heat-templates~master~I6e5ac7f5971df5998db22c5d392084fddf77d34a,openstack/tripleo-heat-templates,master,I6e5ac7f5971df5998db22c5d392084fddf77d34a,Record libvirt log using rsyslog running on host,MERGED,2019-05-13 02:52:35.000000000,2019-08-02 08:23:28.000000000,2019-07-30 00:03:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25402}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-13 02:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/181a50a7ce95ad7fac32bf1631b6307ebdc449ab', 'message': 'Record libvirt log using rsyslog running on host\n\nCurrently libvirt records log to stdout, and journald traps these logs\nand resends them to host syslog.\nThis causes duplicated timestamp recorded for each log line, because\nlibvirt sends log with timestamp, and also rsyslog assignes timestamp\nwhen it recieves log records.\n\nThis patch makes libvirt send log directly to rsyslog running on host,\nto remove the duplicated timestamp assignment.\n\nChange-Id: I6e5ac7f5971df5998db22c5d392084fddf77d34a\n'}, {'number': 2, 'created': '2019-05-29 23:00:25.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06c5ab5b3f486eb0f2e507b8cc8cc07cdefacd88', 'message': 'Record libvirt log using rsyslog running on host\n\nCurrently libvirt records log to stdout, and journald traps these logs\nand resends them to host syslog.\nThis causes duplicated timestamp recorded for each log line, because\nlibvirt sends log with timestamp, and also rsyslog assignes timestamp\nwhen it recieves log records.\n\nThis patch makes libvirt send log directly to rsyslog running on host,\nto remove the duplicated timestamp assignment.\n\nChange-Id: I6e5ac7f5971df5998db22c5d392084fddf77d34a\n'}]",1,658719,06c5ab5b3f486eb0f2e507b8cc8cc07cdefacd88,17,9,2,9816,,,0,"Record libvirt log using rsyslog running on host

Currently libvirt records log to stdout, and journald traps these logs
and resends them to host syslog.
This causes duplicated timestamp recorded for each log line, because
libvirt sends log with timestamp, and also rsyslog assignes timestamp
when it recieves log records.

This patch makes libvirt send log directly to rsyslog running on host,
to remove the duplicated timestamp assignment.

Change-Id: I6e5ac7f5971df5998db22c5d392084fddf77d34a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/658719/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,181a50a7ce95ad7fac32bf1631b6307ebdc449ab,libvirt-log," nova::compute::libvirt::log_outputs: ""3:syslog""",,1,0
openstack%2Frpm-packaging~master~Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24,openstack/rpm-packaging,master,Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24,Add nova cell initialization to unit file,MERGED,2019-07-31 21:58:52.000000000,2019-08-02 08:01:07.000000000,2019-08-02 08:01:07.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 21:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/875bf17490e9a1a01b5089a44976cf688134289c', 'message': 'Add nova cell initialization to unit file\n\nWithout this patch, the nova-conductor service will fail due to not\nhaving an initialized cell0. This initialization needs to happen after\nthe api_db setup, but before the main db sync, according to the install\ndocs[1]. This patch adds the necessary step to the nova-api service unit\nfile and corrects the sequence order.\n\n[1] https://docs.openstack.org/nova/latest/install/controller-install-obs.html#install-and-configure-components\n\nChange-Id: Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24\n'}, {'number': 2, 'created': '2019-08-01 17:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a162b28c504db75426ab0782d9d84d6a48bb17b5', 'message': 'Add nova cell initialization to unit file\n\nWithout this patch, the nova-conductor service will fail due to not\nhaving an initialized cell0. This initialization needs to happen after\nthe api_db setup, but before the main db sync, according to the install\ndocs[1]. This patch adds the necessary step to the nova-api service unit\nfile and corrects the sequence order.\n\n[1] https://docs.openstack.org/nova/latest/install/controller-install-obs.html#install-and-configure-components\n\nChange-Id: Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24\n'}, {'number': 3, 'created': '2019-08-01 18:05:54.000000000', 'files': ['openstack/nova/openstack-nova-api.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1739bf468ef27c57607f66f75be8011585c6c53e', 'message': 'Add nova cell initialization to unit file\n\nWithout this patch, the nova-conductor service will fail due to not\nhaving an initialized cell0. This initialization needs to happen after\nthe api_db setup, but before the main db sync, according to the install\ndocs[1]. This patch adds the necessary step to the nova-api service unit\nfile and corrects the sequence order.\n\n[1] https://docs.openstack.org/nova/latest/install/controller-install-obs.html#install-and-configure-components\n\nChange-Id: Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24\n'}]",0,673922,1739bf468ef27c57607f66f75be8011585c6c53e,18,5,3,8482,,,0,"Add nova cell initialization to unit file

Without this patch, the nova-conductor service will fail due to not
having an initialized cell0. This initialization needs to happen after
the api_db setup, but before the main db sync, according to the install
docs[1]. This patch adds the necessary step to the nova-api service unit
file and corrects the sequence order.

[1] https://docs.openstack.org/nova/latest/install/controller-install-obs.html#install-and-configure-components

Change-Id: Ic08c2aedd4c9ffb980e61af0dd9d320a89bafa24
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/673922/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/nova/openstack-nova-api.service'],1,875bf17490e9a1a01b5089a44976cf688134289c,nova-cells,ExecStartPre=-/usr/bin/nova-manage cell_v2 map_cell0 ExecStartPre=-/usr/bin/nova-manage db sync,ExecStartPre=-/usr/bin/nova-manage db sync,2,1
openstack%2Fpython-swiftclient~master~I3dac826c1f208569c5f40431f59a2045e5744415,openstack/python-swiftclient,master,I3dac826c1f208569c5f40431f59a2045e5744415,Fix up requests so we can send non-RFC-compliant headers on py3,MERGED,2019-07-25 18:38:02.000000000,2019-08-02 07:55:23.000000000,2019-08-02 07:55:22.000000000,"[{'_account_id': 597}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 18:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/277f9046ced0a1535bf03784f7b310ebd6ca26ab', 'message': 'Fix up requests so we can send non-RFC-compliant headers on py3\n\nChange-Id: I3dac826c1f208569c5f40431f59a2045e5744415\n'}, {'number': 2, 'created': '2019-07-25 21:21:51.000000000', 'files': ['swiftclient/client.py', 'tests/functional/test_swiftclient.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/7175069b3e95c38070bb4373019f78c87ab103d0', 'message': 'Fix up requests so we can send non-RFC-compliant headers on py3\n\nChange-Id: I3dac826c1f208569c5f40431f59a2045e5744415\n'}]",0,672808,7175069b3e95c38070bb4373019f78c87ab103d0,9,3,2,15343,,,0,"Fix up requests so we can send non-RFC-compliant headers on py3

Change-Id: I3dac826c1f208569c5f40431f59a2045e5744415
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/08/672808/2 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/client.py', 'tests/functional/test_swiftclient.py']",2,277f9046ced0a1535bf03784f7b310ebd6ca26ab,,"import six def test_post_object_unicode_header_name(self): self.conn.post_object(self.containername, self.objectname, {u'x-object-meta-\U0001f44d': u'\U0001f44d'}) # Note that we can't actually read this header back on py3; see # https://bugs.python.org/issue37093 # We'll have to settle for just testing that the POST doesn't blow up # with a UnicodeDecodeError if six.PY2: headers = self.conn.head_object( self.containername, self.objectname) self.assertIn(u'x-object-meta-\U0001f44d', headers) self.assertEqual(u'\U0001f44d', headers.get(u'x-object-meta-\U0001f44d')) ",,21,2
openstack%2Fmistral~master~If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14,openstack/mistral,master,If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14,A1 B should be tasks rather than workflow levels,MERGED,2019-08-01 13:38:28.000000000,2019-08-02 07:46:00.000000000,2019-08-02 07:46:00.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 29811}]","[{'number': 1, 'created': '2019-08-01 13:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ce65ecda2c183104c3272ec5f549e34c3590155a', 'message': 'A1, B grade should be a task rather than a workflow level\n\nChange-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14\n'}, {'number': 2, 'created': '2019-08-02 02:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/53214acc20e02892df8a16aa244ba856006eb931', 'message': 'A1,B should be tasks rather than workflow levels\n\nrecheck no bug\nIn Mistral Workflow Language v2 specification document\nTask A1 and Task B should be in the task area otherwise there will be an error\n\nChange-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14\n'}, {'number': 3, 'created': '2019-08-02 03:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a13396e488fca6713ad1c66b1d73c3bde96904f8', 'message': 'A1,B should be tasks rather than workflow levels\n\nrecheck no bug\nIn Mistral Workflow Language v2 specification document\nTask A1 and Task B should be in the task area\notherwise there will be an error\n\nChange-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14\n'}, {'number': 4, 'created': '2019-08-02 04:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c5806aabf2636678c35a6a4771b6c6e005c3914f', 'message': 'A1 B should be tasks rather than workflow levels\n\nrecheck no bug A1 and B should be in the task area\n\nChange-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14\n'}, {'number': 5, 'created': '2019-08-02 06:36:57.000000000', 'files': ['doc/source/user/wf_lang_v2.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1a2ff63733e53ee39b59f877c56065afb443343a', 'message': 'A1 B should be tasks rather than workflow levels\n\nrecheck no bug A1 and B should be in the task area\n\nChange-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14\n'}]",0,674033,1a2ff63733e53ee39b59f877c56065afb443343a,15,4,5,29811,,,0,"A1 B should be tasks rather than workflow levels

recheck no bug A1 and B should be in the task area

Change-Id: If8ff2a19068fd3aebb3f9d3a55d9ed6dfaefdb14
",git fetch https://review.opendev.org/openstack/mistral refs/changes/33/674033/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/wf_lang_v2.rst'],1,ce65ecda2c183104c3272ec5f549e34c3590155a,bug/manual," A1: # $.my_var will always evaluate to ""branch value"" because A1 belongs # to the same branch as A and runs after A. When using ""$"" to access # context variables branch values have higher priority. # In order to access global context reliably we need to use YAQL/Jinja # function 'global'. So global(my_var) will always evaluate to # 'global value'. action: my_action1 param1=<% $.my_var %> param2=<% global(my_var) %> B: # $.my_var will evaluate to ""global value"" if task A completes # before task B and ""null"", if not. It's because A and B are # parallel and 'publish' in A doesn't apply to B, only # 'publish-global' does. In this example global(my_var) has the same # meaning as $.my_var because there's no ambiguity from what context # we should take variable 'my_var'. action: my_action2 param1=<% $.my_var %> param2=<% global(my_var) %>"," A1: # $.my_var will always evaluate to ""branch value"" because A1 belongs # to the same branch as A and runs after A. When using ""$"" to access # context variables branch values have higher priority. # In order to access global context reliably we need to use YAQL/Jinja # function 'global'. So global(my_var) will always evaluate to # 'global value'. action: my_action1 param1=<% $.my_var %> param2=<% global(my_var) %> B: # $.my_var will evaluate to ""global value"" if task A completes # before task B and ""null"", if not. It's because A and B are # parallel and 'publish' in A doesn't apply to B, only # 'publish-global' does. In this example global(my_var) has the same # meaning as $.my_var because there's no ambiguity from what context # we should take variable 'my_var'. action: my_action2 param1=<% $.my_var %> param2=<% global(my_var) %>",17,17
openstack%2Fnova~master~Ia7156e61e263b312f736288fc54be086b6257d3d,openstack/nova,master,Ia7156e61e263b312f736288fc54be086b6257d3d,Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470,MERGED,2019-07-25 09:08:23.000000000,2019-08-02 07:39:48.000000000,2019-08-02 02:53:23.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-25 09:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/418fceb3803b393bd8ca85ba1b59ff7c58708bf9', 'message': ""Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470\n\nRemove the now-unused '_test_' function.\n\nChange-Id: Ia7156e61e263b312f736288fc54be086b6257d3d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-07-25 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fe71fb87d02be8818322e43294b1de994e7c47f', 'message': ""Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470\n\nRemove the now-unused '_test_' function.\n\nChange-Id: Ia7156e61e263b312f736288fc54be086b6257d3d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-08-01 18:07:35.000000000', 'files': ['nova/compute/claims.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed3eeaabc3b647cf0e66e4281d4c9e35bc1fca30', 'message': ""Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470\n\nRemove the now-unused '_test_' function.\n\nChange-Id: Ia7156e61e263b312f736288fc54be086b6257d3d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,672669,ed3eeaabc3b647cf0e66e4281d4c9e35bc1fca30,32,15,3,15334,,,0,"Follow-up for I2936ce8cb293dc80e1a426094fdae6e675461470

Remove the now-unused '_test_' function.

Change-Id: Ia7156e61e263b312f736288fc54be086b6257d3d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/672669/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/claims.py'],1,418fceb3803b393bd8ca85ba1b59ff7c58708bf9,bp/cpu-resources,," def _test(self, type_, unit, total, used, requested, limit): """"""Test if the given type of resource needed for a claim can be safely allocated. """""" LOG.info('Total %(type)s: %(total)d %(unit)s, used: %(used).02f ' '%(unit)s', {'type': type_, 'total': total, 'unit': unit, 'used': used}, instance=self.instance) if limit is None: # treat resource as unlimited: LOG.info('%(type)s limit not specified, defaulting to unlimited', {'type': type_}, instance=self.instance) return free = limit - used # Oversubscribed resource policy info: LOG.info('%(type)s limit: %(limit).02f %(unit)s, ' 'free: %(free).02f %(unit)s', {'type': type_, 'limit': limit, 'free': free, 'unit': unit}, instance=self.instance) if requested > free: return (_('Free %(type)s %(free).02f ' '%(unit)s < requested %(requested)d %(unit)s') % {'type': type_, 'free': free, 'unit': unit, 'requested': requested}) ",0,29
openstack%2Fpuppet-aodh~master~I49fafc2269e86feaab452c9a9f561a3726530328,openstack/puppet-aodh,master,I49fafc2269e86feaab452c9a9f561a3726530328,test,ABANDONED,2019-08-02 07:32:06.000000000,2019-08-02 07:37:53.000000000,,[],"[{'number': 1, 'created': '2019-08-02 07:32:06.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/eb67ea5115ddc76ad19ded41bb1c19438145f0f2', 'message': 'test\n\nChange-Id: I49fafc2269e86feaab452c9a9f561a3726530328\n'}]",0,674214,eb67ea5115ddc76ad19ded41bb1c19438145f0f2,2,0,1,9414,,,0,"test

Change-Id: I49fafc2269e86feaab452c9a9f561a3726530328
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/14/674214/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,eb67ea5115ddc76ad19ded41bb1c19438145f0f2,test,Teatestm and repository tags,Team and repository tags,1,1
openstack%2Fpython-mistralclient~master~I8455772eee4865d535b3002e2d922149fb8f8a6e,openstack/python-mistralclient,master,I8455772eee4865d535b3002e2d922149fb8f8a6e,Some resource managers are not using the base underscore methods,MERGED,2019-07-30 12:17:05.000000000,2019-08-02 07:33:29.000000000,2019-08-02 07:33:29.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-07-30 12:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/3c4cea5cd0b815b31dc0514ce4808f653455c906', 'message': 'Some resource managers are not using the base underscore methods\n\nRefactor the base class so they can use these methods\n\nChange-Id: I8455772eee4865d535b3002e2d922149fb8f8a6e\nCloses-bug: #1765087\n'}, {'number': 2, 'created': '2019-07-30 12:31:15.000000000', 'files': ['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/base.py', 'mistralclient/api/v2/workflows.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/051e9fa22b1b17d8c0405d940c7f7c593fcff28d', 'message': 'Some resource managers are not using the base underscore methods\n\nRefactor the base class so they can use these methods\n\nChange-Id: I8455772eee4865d535b3002e2d922149fb8f8a6e\nCloses-bug: #1765087\n'}]",0,673493,051e9fa22b1b17d8c0405d940c7f7c593fcff28d,9,3,2,19134,,,0,"Some resource managers are not using the base underscore methods

Refactor the base class so they can use these methods

Change-Id: I8455772eee4865d535b3002e2d922149fb8f8a6e
Closes-bug: #1765087
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/93/673493/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/base.py', 'mistralclient/api/v2/workflows.py']",4,3c4cea5cd0b815b31dc0514ce4808f653455c906,bug/1765087," return self._create( '/workflows?scope=%s&namespace=%s' % (scope, namespace), definition, response_key='workflows', dump_json=False, headers={'content-type': 'text/plain'}, is_iter_resp=True ) is_iter_resp = True response_key = 'workflows' is_iter_resp = False response_key = None return self._update( '%s?namespace=%s&scope=%s' % (url_pre, namespace, scope), definition, response_key=response_key, dump_json=False, headers={'content-type': 'text/plain'}, is_iter_resp=is_iter_resp, ) return self._validate( '/workflows/validate', definition, dump_json=False, headers={'content-type': 'text/plain'} )","from keystoneauth1 import exceptions try: resp = self.http_client.post( '/workflows?scope=%s&namespace=%s' % (scope, namespace), definition, headers={'content-type': 'text/plain'} ) except exceptions.HttpError as ex: self._raise_api_exception(ex.response) if resp.status_code != 201: self._raise_api_exception(resp) return [self.resource_class(self, resource_data) for resource_data in base.extract_json(resp, 'workflows')] try: resp = self.http_client.put( '%s?namespace=%s&scope=%s' % (url_pre, namespace, scope), definition, headers={'content-type': 'text/plain'} ) except exceptions.HttpError as ex: self._raise_api_exception(ex.response) if resp.status_code != 200: self._raise_api_exception(resp) return self.resource_class(self, base.extract_json(resp, None)) return [self.resource_class(self, resource_data) for resource_data in base.extract_json(resp, 'workflows')] try: resp = self.http_client.post( '/workflows/validate', definition, headers={'content-type': 'text/plain'} ) except exceptions.HttpError as ex: self._raise_api_exception(ex.response) if resp.status_code != 200: self._raise_api_exception(resp) return base.extract_json(resp, None)",96,137
openstack%2Fpython-swiftclient~master~I45b210cf380a68bd88187c91fa2d63a8b2bb709b,openstack/python-swiftclient,master,I45b210cf380a68bd88187c91fa2d63a8b2bb709b,Delete/overwrite symlinks better,MERGED,2019-07-27 06:07:51.000000000,2019-08-02 07:17:54.000000000,2019-08-02 07:17:54.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-27 06:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/116c7158075e2a5055d1749537a72c0814a5e5d6', 'message': ""Delete/overwrite symlinks better\n\nPreviously, when deleting a symlink that points to an xLO, we'd clean\nup the xLO's segments then delete the symlink, leaving the xLO itself\nbusted.\n\nSimilar trouble would come from overwriting a symlink pointing to an\nxLO. Check for a Content-Location in the HEAD response and leave such\nsegments.\n\nChange-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b\n""}, {'number': 2, 'created': '2019-08-01 20:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/d14aa9aa2fe78463651928015cd36174bd865051', 'message': ""Delete/overwrite symlinks better\n\nPreviously, when deleting a symlink that points to an xLO, we'd clean\nup the xLO's segments then delete the symlink, leaving the xLO itself\nbusted.\n\nSimilar trouble would come from overwriting a symlink pointing to an\nxLO. Check for a Content-Location in the HEAD response and leave such\nsegments.\n\nChange-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b\n""}, {'number': 3, 'created': '2019-08-02 03:44:01.000000000', 'files': ['tests/unit/test_service.py', 'tests/unit/test_shell.py', 'swiftclient/service.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/78753987468cb6b04d0b4e06b432e22f5a7189bd', 'message': ""Delete/overwrite symlinks better\n\nPreviously, when deleting a symlink that points to an xLO, we'd clean\nup the xLO's segments then delete the symlink, leaving the xLO itself\nbusted.\n\nSimilar trouble would come from overwriting a symlink pointing to an\nxLO. Check for a Content-Location in the HEAD response and leave such\nsegments.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b\n""}]",2,673123,78753987468cb6b04d0b4e06b432e22f5a7189bd,11,3,3,15343,,,0,"Delete/overwrite symlinks better

Previously, when deleting a symlink that points to an xLO, we'd clean
up the xLO's segments then delete the symlink, leaving the xLO itself
busted.

Similar trouble would come from overwriting a symlink pointing to an
xLO. Check for a Content-Location in the HEAD response and leave such
segments.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/23/673123/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_service.py', 'swiftclient/service.py']",2,116c7158075e2a5055d1749537a72c0814a5e5d6,673123," if not options['leave_segments'] and not headers.get( 'content-location'): headers=_headers, query_string='symlink=get')", if not options['leave_segments']: headers=_headers),12,9
openstack%2Fironic-python-agent~master~Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e,openstack/ironic-python-agent,master,Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e,Repair building tinyipa images after the move to ipa-builder,MERGED,2019-08-01 13:16:18.000000000,2019-08-02 07:10:58.000000000,2019-08-02 01:45:48.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-01 13:16:18.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'playbooks/ironic-python-agent-buildimage/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/248a4ccda5f4ee42f59b552a3871afe020b18afb', 'message': 'Repair building tinyipa images after the move to ipa-builder\n\nChange-Id: Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e\n'}]",0,674026,248a4ccda5f4ee42f59b552a3871afe020b18afb,14,4,1,10239,,,0,"Repair building tinyipa images after the move to ipa-builder

Change-Id: Ie74e75a67ddb7012f41e8f6076a70610b5e1aa6e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/26/674026/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'playbooks/ironic-python-agent-buildimage/run.yaml']",2,248a4ccda5f4ee42f59b552a3871afe020b18afb,gate," export IPA_SOURCE_DIR={{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent pushd {{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent-builder/tinyipa make mv tinyipa*.tar.gz* ""$IPA_SOURCE_DIR/UPLOAD_TAR"" mv tinyipa*.* ""$IPA_SOURCE_DIR/UPLOAD_RAW"" mv tiny-instance-uec*.tar.gz ""$IPA_SOURCE_DIR/UPLOAD_TAR"" make clean popd", (cd imagebuild/tinyipa && make) mv imagebuild/tinyipa/tinyipa*.tar.gz* UPLOAD_TAR mv imagebuild/tinyipa/tinyipa*.* UPLOAD_RAW mv imagebuild/tinyipa/tiny-instance-uec*.tar.gz UPLOAD_TAR (cd imagebuild/tinyipa && make clean),9,5
openstack%2Ftripleo-ci~master~If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5,openstack/tripleo-ci,master,If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5,Add to_build as an acceptable feastureset_override,MERGED,2019-07-31 13:22:26.000000000,2019-08-02 07:05:24.000000000,2019-08-02 07:05:24.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 13:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3bf2ae7a531b39bcd5365b73bbf43450a28d9d26', 'message': 'Add to_build as an acceptable feastureset_override\n\nThis is required to determine when to  build images.\nThe variable is used in oooq ansible but is passed\nper job.\n\nChange-Id: If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5\n'}, {'number': 2, 'created': '2019-08-01 18:24:56.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/08983b9afa8e9ee7529e75cd96de2e49d9b8e42e', 'message': 'Add to_build as an acceptable feastureset_override\n\nThis is required to determine when to  build images.\nThe variable is used in oooq ansible but is passed\nper job.\n\nChange-Id: If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5\n'}]",0,673808,08983b9afa8e9ee7529e75cd96de2e49d9b8e42e,17,5,2,9976,,,0,"Add to_build as an acceptable feastureset_override

This is required to determine when to  build images.
The variable is used in oooq ansible but is passed
per job.

Change-Id: If5dd1aaf30c37a02a5e0e6708b7f3d3e89ddbdc5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/673808/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,3bf2ae7a531b39bcd5365b73bbf43450a28d9d26,fs-override-build, - 'to_build',,1,0
openstack%2Fpython-magnumclient~master~I74cbd96361c7fbdff5f428b92af77409dfa993af,openstack/python-magnumclient,master,I74cbd96361c7fbdff5f428b92af77409dfa993af,Fix author-email in setup.cfg,ABANDONED,2019-01-24 02:35:52.000000000,2019-08-02 06:52:59.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 02:35:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/7d8127a2cebb3b7bcd2e53d4255ac80d307b656f', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I74cbd96361c7fbdff5f428b92af77409dfa993af\n'}]",0,632868,7d8127a2cebb3b7bcd2e53d4255ac80d307b656f,6,4,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I74cbd96361c7fbdff5f428b92af77409dfa993af
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/68/632868/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7d8127a2cebb3b7bcd2e53d4255ac80d307b656f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpython-magnumclient~master~Id5bba154fc2395544e395b368b789851292d3b8f,openstack/python-magnumclient,master,Id5bba154fc2395544e395b368b789851292d3b8f,Mailing lists change openstack-dev to openstack-discuss,ABANDONED,2019-07-01 11:30:26.000000000,2019-08-02 06:51:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-07-01 11:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/6c411adc2bdbcc1fbba23edba15ab786eaf2188a', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: Id5bba154fc2395544e395b368b789851292d3b8f\n'}, {'number': 2, 'created': '2019-08-02 06:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/d12d542a367b12c7bf10a40143b3942768f59a7f', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: Id5bba154fc2395544e395b368b789851292d3b8f\n'}]",0,668441,d12d542a367b12c7bf10a40143b3942768f59a7f,5,2,2,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Id5bba154fc2395544e395b368b789851292d3b8f
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/41/668441/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6c411adc2bdbcc1fbba23edba15ab786eaf2188a,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftempest-lib~master~I5b708317df88a96df61eb02868022cdab601acd6,openstack/tempest-lib,master,I5b708317df88a96df61eb02868022cdab601acd6,Sync Sphinx requirement,ABANDONED,2019-08-02 03:07:34.000000000,2019-08-02 06:08:25.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:07:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/3f41350f7eeff9d07689d6de090c0876e8c16aa5', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I5b708317df88a96df61eb02868022cdab601acd6\n'}]",0,674173,3f41350f7eeff9d07689d6de090c0876e8c16aa5,4,2,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I5b708317df88a96df61eb02868022cdab601acd6
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/73/674173/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3f41350f7eeff9d07689d6de090c0876e8c16aa5,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.2.0,!=1.3b1,<1.3,>=1.1.2 # BSD",2,1
openstack%2Fswift~master~I0c3a235b8905e02d2e202215f7f0b43db295b79b,openstack/swift,master,I0c3a235b8905e02d2e202215f7f0b43db295b79b,Negative test for non-empty chunked put symlink,MERGED,2019-08-01 14:34:27.000000000,2019-08-02 05:49:07.000000000,2019-08-02 05:48:04.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 14:34:27.000000000', 'files': ['test/unit/common/middleware/test_symlink.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7678e94a2c3907df13d271b0d4c82054bbb0bf8a', 'message': 'Negative test for non-empty chunked put symlink\n\nChange-Id: I0c3a235b8905e02d2e202215f7f0b43db295b79b\nRelated-Change-Id: I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21\n'}]",0,674052,7678e94a2c3907df13d271b0d4c82054bbb0bf8a,12,2,1,1179,,,0,"Negative test for non-empty chunked put symlink

Change-Id: I0c3a235b8905e02d2e202215f7f0b43db295b79b
Related-Change-Id: I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/674052/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_symlink.py'],1,7678e94a2c3907df13d271b0d4c82054bbb0bf8a,673121," def test_symlink_chunked_put_error(self): self.app.register('PUT', '/v1/a/c/symlink', swob.HTTPCreated, {}) req = Request.blank('/v1/a/c/symlink', method='PUT', headers={'X-Symlink-Target': 'c1/o'}, environ={'wsgi.input': io.BytesIO(b'this has a body')}) self.assertIsNone(req.content_length) # sanity status, headers, body = self.call_sym(req) self.assertEqual(status, '400 Bad Request') ",,10,0
openstack%2Fpython-swiftclient~master~I8669130f8477a577781e17c6d428aacff53cab92,openstack/python-swiftclient,master,I8669130f8477a577781e17c6d428aacff53cab92,Drag forward prettytable in lower-constraints,MERGED,2019-07-25 21:21:51.000000000,2019-08-02 05:48:03.000000000,2019-08-02 05:48:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 21:21:51.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/5bd66947fc3d8987d4b24d5119a346031004229e', 'message': 'Drag forward prettytable in lower-constraints\n\nApparently version 0.7 got unpublished recently.\n\nChange-Id: I8669130f8477a577781e17c6d428aacff53cab92\n'}]",0,672830,5bd66947fc3d8987d4b24d5119a346031004229e,6,2,1,15343,,,0,"Drag forward prettytable in lower-constraints

Apparently version 0.7 got unpublished recently.

Change-Id: I8669130f8477a577781e17c6d428aacff53cab92
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/30/672830/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,5bd66947fc3d8987d4b24d5119a346031004229e,,PrettyTable==0.7.1,PrettyTable==0.7,1,1
openstack%2Fkeystone~master~I96e758297764db7afbfa09f4e5d951167038836a,openstack/keystone,master,I96e758297764db7afbfa09f4e5d951167038836a,Fix typo: RBACKEnforcer -> RBACEnforcer,MERGED,2019-08-01 00:57:01.000000000,2019-08-02 05:48:00.000000000,2019-08-02 05:48:00.000000000,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 15343}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 00:57:01.000000000', 'files': ['keystone/server/flask/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fcff2aed6a74c4b30d9a2427e6e12b14a8883c94', 'message': 'Fix typo: RBACKEnforcer -> RBACEnforcer\n\nChange-Id: I96e758297764db7afbfa09f4e5d951167038836a\n'}]",0,673931,fcff2aed6a74c4b30d9a2427e6e12b14a8883c94,14,5,1,15343,,,0,"Fix typo: RBACKEnforcer -> RBACEnforcer

Change-Id: I96e758297764db7afbfa09f4e5d951167038836a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/31/673931/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/server/flask/common.py'],1,fcff2aed6a74c4b30d9a2427e6e12b14a8883c94,, 'enforcer.RBACEnforcer.enforce_call()`) has not been called; API ', 'enforcer.RBACKEnforcer.enforce_call()`) has not been called; API ',1,1
openstack%2Fnetworking-midonet~master~I9856dbe76813ae2d68c57ad90a7f68c8bb020863,openstack/networking-midonet,master,I9856dbe76813ae2d68c57ad90a7f68c8bb020863,Remove py35 job,MERGED,2019-08-01 09:36:49.000000000,2019-08-02 05:42:15.000000000,2019-08-02 05:42:15.000000000,"[{'_account_id': 156}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 09:36:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c405a30f636effd04c6ce50760b2e3efecb3eece', 'message': 'Remove py35 job\n\nChange-Id: I9856dbe76813ae2d68c57ad90a7f68c8bb020863\n'}]",0,673981,c405a30f636effd04c6ce50760b2e3efecb3eece,7,3,1,6854,,,0,"Remove py35 job

Change-Id: I9856dbe76813ae2d68c57ad90a7f68c8bb020863
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/81/673981/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c405a30f636effd04c6ce50760b2e3efecb3eece,remove-py35,, - openstack-tox-py35: required-projects: - openstack/neutron-vpnaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - x/tap-as-a-service,0,6
openstack%2Fplacement~master~I1e1522eae7b4360cf57c34164612ae228fad14a3,openstack/placement,master,I1e1522eae7b4360cf57c34164612ae228fad14a3,Remove ProviderIds namedtuple,MERGED,2019-07-31 11:41:17.000000000,2019-08-02 05:34:40.000000000,2019-08-02 05:34:40.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 11:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bb91e84d26f77a768ea3cfd3750451b76035aba7', 'message': 'Remove ProviderIds namedtuple\n\nIt turns out that all the callers of methods that return ProviderIds\naccess the data using attributes that are already present on the object\nprovided by the sql alchemy RowProxy object. Creating a namedtuple is\nredundant and adds some processing cost [1].\n\nHowever, the AnchorIds namedtuple used in the same file _is_ necessary\nbecause it provides a hashable type required by the set that wraps\nthe collection of AnchorIds.\n\nThe other user of namedtuple, RPCandidate, in\nplacement/objects/rp_candidates.py has a specific interface for which\na namedtuple is correct.\n\n[1] provider_ids_from_rp_ids was identified as being a major contributor\nwhen doing performance profiling. Most of the cost is executing with the\ndatabase, but the tuple creation is a factor.\n\nChange-Id: I1e1522eae7b4360cf57c34164612ae228fad14a3\n'}, {'number': 2, 'created': '2019-08-01 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ffba5fac0d157214150c7a71e487478997725bb7', 'message': 'Remove ProviderIds namedtuple\n\nIt turns out that all the callers of methods that return ProviderIds\naccess the data using attributes that are already present on the object\nprovided by a sql alchemy RowProxy object (which is the result of\niterating a ResultProxy object, returned by sqla.execute()). Creating\na namedtuple is redundant and adds some processing cost [1].\n\nHowever, the AnchorIds namedtuple used in the same file _is_ necessary\nbecause it provides a hashable type required by the set that wraps\nthe collection of AnchorIds.\n\nThe other user of namedtuple, RPCandidate, in\nplacement/objects/rp_candidates.py has a specific interface for which\na namedtuple is correct.\n\n[1] provider_ids_from_rp_ids was identified as being a major contributor\nwhen doing performance profiling. Most of the cost is executing with the\ndatabase, but the tuple creation is a factor.\n\nChange-Id: I1e1522eae7b4360cf57c34164612ae228fad14a3\n'}, {'number': 3, 'created': '2019-08-01 21:48:09.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/8626b6517b8e975fbcbd59842b9316608886b6c7', 'message': 'Remove ProviderIds namedtuple\n\nIt turns out that all the callers of methods that return ProviderIds\naccess the data using attributes that are already present on the object\nprovided by a sql alchemy RowProxy object (which is the result of\niterating a ResultProxy object, returned by sqla.execute()). Creating\na namedtuple is redundant and adds some processing cost [1].\n\nHowever, the AnchorIds namedtuple used in the same file _is_ necessary\nbecause it provides a hashable type required by the set that wraps\nthe collection of AnchorIds.\n\nThe other user of namedtuple, RPCandidate, in\nplacement/objects/rp_candidates.py has a specific interface for which\na namedtuple is correct.\n\n[1] provider_ids_from_rp_ids was identified as being a major contributor\nwhen doing performance profiling. Most of the cost is executing with the\ndatabase, but the tuple creation is a factor.\n\nChange-Id: I1e1522eae7b4360cf57c34164612ae228fad14a3\n'}]",4,673788,8626b6517b8e975fbcbd59842b9316608886b6c7,13,4,3,11564,,,0,"Remove ProviderIds namedtuple

It turns out that all the callers of methods that return ProviderIds
access the data using attributes that are already present on the object
provided by a sql alchemy RowProxy object (which is the result of
iterating a ResultProxy object, returned by sqla.execute()). Creating
a namedtuple is redundant and adds some processing cost [1].

However, the AnchorIds namedtuple used in the same file _is_ necessary
because it provides a hashable type required by the set that wraps
the collection of AnchorIds.

The other user of namedtuple, RPCandidate, in
placement/objects/rp_candidates.py has a specific interface for which
a namedtuple is correct.

[1] provider_ids_from_rp_ids was identified as being a major contributor
when doing performance profiling. Most of the cost is executing with the
database, but the tuple creation is a factor.

Change-Id: I1e1522eae7b4360cf57c34164612ae228fad14a3
",git fetch https://review.opendev.org/openstack/placement refs/changes/88/673788/3 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,bb91e84d26f77a768ea3cfd3750451b76035aba7,cd/de-tuple," keyed by internal provider Id, of sqla objects describing those providers. :returns: dict, keyed by internal provider Id, of sqla objects ret[r['id']] = r """"""Given the UUID of a resource provider, returns an object with the internal ID, the UUID, the parent provider's internal ID, parent provider's UUID, the root provider's internal ID and the root provider UUID. :returns: Object containing the internal IDs and UUIDs of the return res","ProviderIds = collections.namedtuple( 'ProviderIds', 'id uuid parent_id parent_uuid root_id root_uuid') keyed by internal provider Id, of ProviderIds namedtuples describing those providers. :returns: dict, keyed by internal provider Id, of ProviderIds namedtuples ret[r['id']] = ProviderIds(**r) """"""Given the UUID of a resource provider, returns a namedtuple (ProviderIds) with the internal ID, the UUID, the parent provider's internal ID, parent provider's UUID, the root provider's internal ID and the root provider UUID. :returns: ProviderIds object containing the internal IDs and UUIDs of the return ProviderIds(**dict(res))",8,12
openstack%2Fplacement~master~I51f2a77b0f21c6145457bb33fe4db931edca4c99,openstack/placement,master,I51f2a77b0f21c6145457bb33fe4db931edca4c99,Bump os-traits minimum to 0.16.0,MERGED,2019-08-01 09:05:42.000000000,2019-08-02 05:34:39.000000000,2019-08-02 05:34:39.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 09:05:42.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/d04168088c20ea8b0e8bc43e661085b7d5e80374', 'message': 'Bump os-traits minimum to 0.16.0\n\nos-traits 0.16.0 was just released, adding 3 standard traits.\nRequire it.\n\nChange-Id: I51f2a77b0f21c6145457bb33fe4db931edca4c99\n'}]",0,673964,d04168088c20ea8b0e8bc43e661085b7d5e80374,13,3,1,11564,,,0,"Bump os-traits minimum to 0.16.0

os-traits 0.16.0 was just released, adding 3 standard traits.
Require it.

Change-Id: I51f2a77b0f21c6145457bb33fe4db931edca4c99
",git fetch https://review.opendev.org/openstack/placement refs/changes/64/673964/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,d04168088c20ea8b0e8bc43e661085b7d5e80374,cd/trait-canary, $.traits.`len`: 270 # Number of standard traits, $.traits.`len`: 267 # Number of standard traits,3,3
openstack%2Fproject-config~master~I09f7106969e761120f8f87e7457eec6a27e03b41,openstack/project-config,master,I09f7106969e761120f8f87e7457eec6a27e03b41,FN can now support 100 nodes - turning up quota,MERGED,2019-08-02 02:07:00.000000000,2019-08-02 04:27:25.000000000,2019-08-02 04:27:25.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 02:07:00.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e50caa6dd0a45cfbeedfff17492873ae80559634', 'message': 'FN can now support 100 nodes - turning up quota\n\nChange-Id: I09f7106969e761120f8f87e7457eec6a27e03b41\n'}]",0,674149,e50caa6dd0a45cfbeedfff17492873ae80559634,7,3,1,20754,,,0,"FN can now support 100 nodes - turning up quota

Change-Id: I09f7106969e761120f8f87e7457eec6a27e03b41
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/674149/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,e50caa6dd0a45cfbeedfff17492873ae80559634,674091, max-servers: 100, max-servers: 60,1,1
openstack%2Fswift~master~I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21,openstack/swift,master,I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21,symlink: Allow symlinks to be created via chunk-encoded PUTs,MERGED,2019-07-27 04:40:51.000000000,2019-08-02 04:18:02.000000000,2019-08-02 04:17:00.000000000,"[{'_account_id': 1179}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-27 04:40:51.000000000', 'files': ['swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a1455b3a3566a1a0d5680e540d19ba6dc417b1db', 'message': ""symlink: Allow symlinks to be created via chunk-encoded PUTs\n\n... provided they're still zero bytes.\n\nChange-Id: I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21\n""}]",0,673121,a1455b3a3566a1a0d5680e540d19ba6dc417b1db,13,4,1,15343,,,0,"symlink: Allow symlinks to be created via chunk-encoded PUTs

... provided they're still zero bytes.

Change-Id: I66f2f16d7cf0b9cb0888e3b9b1a17b9112233d21
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/673121/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py']",2,a1455b3a3566a1a0d5680e540d19ba6dc417b1db,,"import io def test_symlink_chunked_put(self): self.app.register('PUT', '/v1/a/c/symlink', swob.HTTPCreated, {}) req = Request.blank('/v1/a/c/symlink', method='PUT', headers={'X-Symlink-Target': 'c1/o'}, environ={'wsgi.input': io.BytesIO(b'')}) self.assertIsNone(req.content_length) # sanity status, headers, body = self.call_sym(req) self.assertEqual(status, '201 Created') method, path, hdrs = self.app.calls_with_headers[0] val = hdrs.get('X-Object-Sysmeta-Symlink-Target') self.assertEqual(val, 'c1/o') self.assertNotIn('X-Object-Sysmeta-Symlink-Target-Account', hdrs) val = hdrs.get('X-Object-Sysmeta-Container-Update-Override-Etag') self.assertEqual(val, '%s; symlink_target=c1/o' % MD5_OF_EMPTY_STRING) ",,21,1
openstack%2Fopenstack-helm-infra~master~Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097,openstack/openstack-helm-infra,master,Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097,Elasticsearch: Add cron job to verify snapshot repositories,MERGED,2019-07-26 18:02:17.000000000,2019-08-02 04:04:17.000000000,2019-08-02 04:04:17.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-26 18:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9af134d919dcee258b8b19c728f7f97b2225f7ce', 'message': 'Elasticsearch: Add cron job to verify snapshot repositories\n\nThis adds a cron job to manually verify all snapshot repositories\nare registered to any active master and data nodes. This is to\naddress scenarios where master and data nodes do not have the\ndesired snapshot repositories registered following node outages\nor reboots\n\nChange-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-26 18:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0baf41c1672eb50c8644d1a1079b15559c0bcee2', 'message': 'Elasticsearch: Add cron job to verify snapshot repositories\n\nThis adds a cron job to manually verify all snapshot repositories\nare registered to any active master and data nodes. This is to\naddress scenarios where master and data nodes do not have the\ndesired snapshot repositories registered following node outages\nor reboots\n\nChange-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-31 20:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7debb41d4d4ec033c9983a10529628798793cd9b', 'message': 'Elasticsearch: Add cron job to verify snapshot repositories\n\nThis adds a cron job to manually verify all snapshot repositories\nare registered to any active master and data nodes. This is to\naddress scenarios where master and data nodes do not have the\ndesired snapshot repositories registered following node outages\nor reboots\n\nChange-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-07-31 21:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d4d8ebdf62beccabd8e4143489b38c0d78ae2a5', 'message': 'Elasticsearch: Add cron job to verify snapshot repositories\n\nThis adds a cron job to manually verify all snapshot repositories\nare registered to any active master and data nodes. This is to\naddress scenarios where master and data nodes do not have the\ndesired snapshot repositories registered following node outages\nor reboots\n\nChange-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-08-01 20:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/08e621af5bde3e6976c678b0b6ac835fb8c85762', 'message': 'Elasticsearch: Add cron job to verify snapshot repositories\n\nThis adds a cron job to manually verify all snapshot repositories\nare registered to any active master and data nodes. This is to\naddress scenarios where master and data nodes do not have the\ndesired snapshot repositories registered following node outages\nor reboots\n\nChange-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-08-02 02:02:14.000000000', 'files': ['elasticsearch/templates/configmap-bin-elasticsearch.yaml', 'tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'elasticsearch/templates/bin/_verify-repositories.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc20c6c8b6de08659be7e469388fe2f6ac231dd1', 'message': 'Elasticsearch: Add cron job to verify snapshot repositories\n\nThis adds a cron job to manually verify all snapshot repositories\nare registered to any active master and data nodes. This is to\naddress scenarios where master and data nodes do not have the\ndesired snapshot repositories registered following node outages\nor reboots\n\nChange-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,673029,bc20c6c8b6de08659be7e469388fe2f6ac231dd1,23,4,6,17591,,,0,"Elasticsearch: Add cron job to verify snapshot repositories

This adds a cron job to manually verify all snapshot repositories
are registered to any active master and data nodes. This is to
address scenarios where master and data nodes do not have the
desired snapshot repositories registered following node outages
or reboots

Change-Id: Ie6f42e95c3ca4dc2ec70f2852a2bde11e59ec097
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/29/673029/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/configmap-bin-elasticsearch.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'elasticsearch/templates/bin/_verify-repositories.sh.tpl']",4,9af134d919dcee258b8b19c728f7f97b2225f7ce,es-verify-cron,"#!/bin/bash {{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{ $envAll := . }} set -ex function verify_snapshot_repository() { curl -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ -XPOST ""${ELASTICSEARCH_HOST}/_snapshot/$1/_verify"" } {{ range $repository := $envAll.Values.conf.elasticsearch.snapshots.repositories }} verify_snapshot_repository {{$repository.name}} {{ end }} ",,126,0
openstack%2Fpython-swiftclient~master~I68ee44ef33f95c838686e18366e1ae45b54dfd42,openstack/python-swiftclient,master,I68ee44ef33f95c838686e18366e1ae45b54dfd42,Test for upload over symlink to SLO,ABANDONED,2019-08-01 21:10:49.000000000,2019-08-02 03:44:33.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 21:10:49.000000000', 'files': ['tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9da11e8ed46920e127aa416654671e1c17b4137a', 'message': 'Test for upload over symlink to SLO\n\nRelated-Change-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b\nChange-Id: I68ee44ef33f95c838686e18366e1ae45b54dfd42\n'}]",0,674135,9da11e8ed46920e127aa416654671e1c17b4137a,4,2,1,1179,,,0,"Test for upload over symlink to SLO

Related-Change-Id: I45b210cf380a68bd88187c91fa2d63a8b2bb709b
Change-Id: I68ee44ef33f95c838686e18366e1ae45b54dfd42
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/35/674135/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/test_shell.py'],1,9da11e8ed46920e127aa416654671e1c17b4137a,673123," def test_upload_over_symlink_to_slo(self, connection): # Upload delete existing segments connection.return_value.head_container.return_value = { 'x-storage-policy': 'one'} connection.return_value.attempts = 0 connection.return_value.head_object.side_effect = [ {'x-static-large-object': 'true', 'content-location': '/v1/a/c/manifest', 'content-length': '2'}, ] connection.return_value.get_object.return_value = ( {'content-location': '/v1/a/c/manifest'}, b'[{""name"": ""container1/old_seg1""},' b' {""name"": ""container2/old_seg2""}]' ) connection.return_value.put_object.return_value = EMPTY_ETAG connection.return_value.delete_object.return_value = None argv = ["""", ""upload"", ""container"", self.tmpfile] swiftclient.shell.main(argv) connection.return_value.put_object.assert_called_with( 'container', self.tmpfile.lstrip('/'), mock.ANY, content_length=0, headers={'x-object-meta-mtime': mock.ANY}, response_dict={}) self.assertEqual([], connection.return_value.delete_object.mock_calls) @mock.patch('swiftclient.service.Connection')",,29,0
openstack%2Ftempest~master~I07820f10387552f93a9d8891b58a8c7fcdb83046,openstack/tempest,master,I07820f10387552f93a9d8891b58a8c7fcdb83046,Introduce bashate,MERGED,2019-07-30 09:06:34.000000000,2019-08-02 02:53:28.000000000,2019-08-02 02:53:28.000000000,"[{'_account_id': 6167}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-30 09:06:34.000000000', 'files': ['tools/format.sh', 'tools/generate-tempest-plugins-list.sh', '.zuul.yaml', 'tools/tempest-plugin-sanity.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/de1153b361cac47f7bf9f92a0c6a9933d67ed647', 'message': 'Introduce bashate\n\nThis commit introduces bashate[0] which is a code style checker for bash\nscripts. We already have some bash scripts in Tempest repo. So, it might\nbe good to check the style automatically.\n\nSome scripts under the tools directory are also fixed due to the bashate\nviolation.\n\nChange-Id: I07820f10387552f93a9d8891b58a8c7fcdb83046\n'}]",0,673458,de1153b361cac47f7bf9f92a0c6a9933d67ed647,8,4,1,5689,,,0,"Introduce bashate

This commit introduces bashate[0] which is a code style checker for bash
scripts. We already have some bash scripts in Tempest repo. So, it might
be good to check the style automatically.

Some scripts under the tools directory are also fixed due to the bashate
violation.

Change-Id: I07820f10387552f93a9d8891b58a8c7fcdb83046
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/673458/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/format.sh', 'tools/generate-tempest-plugins-list.sh', '.zuul.yaml', 'tools/tempest-plugin-sanity.sh', 'tox.ini']",5,de1153b361cac47f7bf9f92a0c6a9933d67ed647,use-bashate,"envlist = pep8,py36,py37,py27,bashate,pip-check-reqs[testenv:bashate] basepython = python3 # if you want to test out some changes you have made to bashate # against tempest, just set BASHATE_INSTALL_PATH=/path/... to your # modified bashate tree deps = {env:BASHATE_INSTALL_PATH:bashate} whitelist_externals = bash commands = bash -c ""find {toxinidir}/tools \ -not \( -type d -name .?\* -prune \) \ -type f \ -name \*.sh \ -print0 | xargs -0 bashate -v"" ","envlist = pep8,py36,py37,py27,pip-check-reqs",24,8
openstack%2Ftripleo-validations~stable%2Fstein~I2e94b72080b73dc37eefd072217392f34e1291f0,openstack/tripleo-validations,stable/stein,I2e94b72080b73dc37eefd072217392f34e1291f0,Adds molecule testing for controller-ulimits,MERGED,2019-08-01 11:04:33.000000000,2019-08-02 02:25:27.000000000,2019-08-02 02:25:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-08-01 11:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0f04f3710b6730953ed9441a3a8dbf99bffad68a', 'message': 'Adds molecule testing for controller-ulimits\n\nChange-Id: I2e94b72080b73dc37eefd072217392f34e1291f0\n(cherry picked from commit e1d0bde7dd120f42fe1d6301cbdc65e3327615af)\n'}, {'number': 2, 'created': '2019-08-01 12:52:52.000000000', 'files': ['roles/controller-ulimits/molecule/default/Dockerfile.j2', 'roles/controller-ulimits/molecule/default/molecule.yml', 'roles/controller-ulimits/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b7db8b3076b7e495ac6492cf99552e970fc6fb5e', 'message': 'Adds molecule testing for controller-ulimits\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: I2e94b72080b73dc37eefd072217392f34e1291f0\n(cherry picked from commit e1d0bde7dd120f42fe1d6301cbdc65e3327615af)\n'}]",0,673998,b7db8b3076b7e495ac6492cf99552e970fc6fb5e,8,5,2,11491,,,0,"Adds molecule testing for controller-ulimits

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I2e94b72080b73dc37eefd072217392f34e1291f0
(cherry picked from commit e1d0bde7dd120f42fe1d6301cbdc65e3327615af)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/673998/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/controller-ulimits/molecule/default/Dockerfile.j2', 'roles/controller-ulimits/molecule/default/molecule.yml', 'roles/controller-ulimits/molecule/default/playbook.yml']",3,0f04f3710b6730953ed9441a3a8dbf99bffad68a,molecule/controller-ulimits-stable/stein,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all gather_facts: no vars: nofiles_min: 102400 nproc_min: 204800 tasks: - block: - include_role: name: controller-ulimits rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The controller-ulimits failed detecting bad limits ",,129,0
openstack%2Fmistral~master~I8f2054c820f7774eb84155f1843cc871c87ca823,openstack/mistral,master,I8f2054c820f7774eb84155f1843cc871c87ca823,ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html,ABANDONED,2019-08-01 14:35:39.000000000,2019-08-02 02:10:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-01 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cbf6356b869a6e96c598785176950fc306c6ff25', 'message': 'ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html\n\nChange-Id: I8f2054c820f7774eb84155f1843cc871c87ca823\n'}]",0,674053,cbf6356b869a6e96c598785176950fc306c6ff25,3,1,1,29811,,,0,"ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html

Change-Id: I8f2054c820f7774eb84155f1843cc871c87ca823
",git fetch https://review.opendev.org/openstack/mistral refs/changes/53/674053/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,cbf6356b869a6e96c598785176950fc306c6ff25,bug/manual,,,0,0
openstack%2Ftripleo-validations~stable%2Fstein~Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,openstack/tripleo-validations,stable/stein,Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,Adds molecule testing for DNS validation,MERGED,2019-08-01 11:05:34.000000000,2019-08-02 02:00:27.000000000,2019-08-02 02:00:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b57fad89464e65cb26dcda7d4ea8105511615df', 'message': 'Adds molecule testing for DNS validation\n\nChange-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da\n(cherry picked from commit 647e9afc264fab5a0672d372d7244a171104486e)\n'}, {'number': 2, 'created': '2019-08-01 12:53:43.000000000', 'files': ['roles/dns/molecule/default/Dockerfile.j2', 'roles/dns/molecule/default/molecule.yml', 'roles/dns/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8ac7e8d392a76f1712c554822ba3e22d52f173df', 'message': 'Adds molecule testing for DNS validation\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da\n(cherry picked from commit 647e9afc264fab5a0672d372d7244a171104486e)\n'}]",0,674000,8ac7e8d392a76f1712c554822ba3e22d52f173df,7,4,2,11491,,,0,"Adds molecule testing for DNS validation

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da
(cherry picked from commit 647e9afc264fab5a0672d372d7244a171104486e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/00/674000/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/dns/molecule/default/Dockerfile.j2', 'roles/dns/molecule/default/molecule.yml', 'roles/dns/molecule/default/playbook.yml']",3,9b57fad89464e65cb26dcda7d4ea8105511615df,molecule/dns-stable/stein,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: Should get a success include_role: name: dns vars: server_to_lookup: www.redhat.com - name: Should properly fail block: - include_role: name: dns vars: server_to_lookup: role.dns.domain.do-not.exists rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The dns role should have detected a faulty DNS configuration ",,130,0
openstack%2Ftripleo-validations~stable%2Fstein~I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,openstack/tripleo-validations,stable/stein,I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,Adds molecule tests for undercloud-disk-space,MERGED,2019-08-01 11:06:03.000000000,2019-08-02 01:45:39.000000000,2019-08-02 01:45:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a95ad30c28db5551c8a57d738cd328ceda8765ed', 'message': 'Adds molecule tests for undercloud-disk-space\n\nChange-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5\n(cherry picked from commit 5adfef9d9a61402617591ef58315b9cd62f60907)\n'}, {'number': 2, 'created': '2019-08-01 12:53:59.000000000', 'files': ['roles/undercloud-disk-space/molecule/default/molecule.yml', 'roles/undercloud-disk-space/molecule/default/Dockerfile.j2', 'roles/undercloud-disk-space/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/110d27f4e702aa9e7a4658defc68455674ee013e', 'message': 'Adds molecule tests for undercloud-disk-space\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5\n(cherry picked from commit 5adfef9d9a61402617591ef58315b9cd62f60907)\n'}]",0,674001,110d27f4e702aa9e7a4658defc68455674ee013e,7,4,2,11491,,,0,"Adds molecule tests for undercloud-disk-space

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5
(cherry picked from commit 5adfef9d9a61402617591ef58315b9cd62f60907)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/01/674001/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-disk-space/molecule/default/molecule.yml', 'roles/undercloud-disk-space/molecule/default/Dockerfile.j2', 'roles/undercloud-disk-space/molecule/default/playbook.yml']",3,a95ad30c28db5551c8a57d738cd328ceda8765ed,molecule/undercloud-disk-space-stable/stein,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all gather_facts: false vars: volumes: - {mount: /var, min_size: 20} - {mount: /, min_size: 150} tasks: - block: - include_role: name: undercloud-disk-space rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The validation did not detect a too small disk space ",,127,0
openstack%2Ftripleo-validations~stable%2Fstein~Ie3226b708665b1733891d592a54cc6f2398899df,openstack/tripleo-validations,stable/stein,Ie3226b708665b1733891d592a54cc6f2398899df,Adds molecule testing for controller-token,MERGED,2019-08-01 11:05:06.000000000,2019-08-02 01:45:39.000000000,2019-08-02 01:45:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/86e200d5fc1fc19356e48eec7801ec5d574c2df3', 'message': 'Adds molecule testing for controller-token\n\nChange-Id: Ie3226b708665b1733891d592a54cc6f2398899df\n(cherry picked from commit 1ace29c69400173e05346dbc4906e003f72899b6)\n'}, {'number': 2, 'created': '2019-08-01 12:53:25.000000000', 'files': ['roles/controller-token/molecule/default/playbook.yml', 'roles/controller-token/molecule/default/Dockerfile.j2', 'roles/controller-token/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0386bc224ab3a921cee56ef1372a038aa90a528e', 'message': 'Adds molecule testing for controller-token\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: Ie3226b708665b1733891d592a54cc6f2398899df\n(cherry picked from commit 1ace29c69400173e05346dbc4906e003f72899b6)\n'}]",0,673999,0386bc224ab3a921cee56ef1372a038aa90a528e,7,4,2,11491,,,0,"Adds molecule testing for controller-token

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ie3226b708665b1733891d592a54cc6f2398899df
(cherry picked from commit 1ace29c69400173e05346dbc4906e003f72899b6)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/99/673999/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/controller-token/molecule/default/Dockerfile.j2', 'roles/controller-token/molecule/default/playbook.yml', 'roles/controller-token/molecule/default/molecule.yml']",3,86e200d5fc1fc19356e48eec7801ec5d574c2df3,molecule/controller-token-stable/stein,"--- driver: name: docker log: true platforms: - name: centos7 hostname: centos7 image: centos:7 pkg_extras: python-setuptools python-enum34 easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: fedora28 hostname: fedora28 image: fedora:28 pkg_extras: python*-setuptools python*-enum environment: <<: *env provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""../../../../library"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,137,0
openstack%2Ftempest~master~Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c,openstack/tempest,master,Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c,Fix indentation in releasenotes,MERGED,2019-07-29 05:11:50.000000000,2019-08-02 01:28:11.000000000,2019-08-02 01:28:11.000000000,"[{'_account_id': 6167}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-29 05:11:50.000000000', 'files': ['releasenotes/notes/12/12.2.0-add-new-identity-clients-3c3afd674a395bde.yaml', 'releasenotes/notes/14/14.0.0-add-image-clients-af94564fb34ddca6.yaml', 'releasenotes/notes/12/12.1.0-identity-clients-as-library-e663c6132fcac6c2.yaml', 'releasenotes/notes/12/12.2.0-volume-clients-as-library-9a3444dd63c134b3.yaml', 'releasenotes/notes/tempest-stein-release-18bad34136a2e6ef.yaml', 'releasenotes/notes/13/13.0.0-add-new-identity-clients-as-library-5f7ndha733nwdsn9.yaml', 'releasenotes/notes/15/15.0.0-add-image-clients-tests-49dbc0a0a4281a77.yaml', 'releasenotes/notes/tempest-rocky-release-0fc3312053923380.yaml', 'releasenotes/notes/make-object-storage-client-as-stable-interface-d1b07c7e8f17bef6.yaml', 'releasenotes/notes/add-domain-param-in-cliclient-a270fcf35c8f09e6.yaml', 'releasenotes/notes/12/12.1.0-image-clients-as-library-86d17caa26ce3961.yaml', 'releasenotes/notes/intermediate-train-release-0146c624cff9a57f.yaml', 'releasenotes/notes/12/12.1.0-add_subunit_describe_calls-5498a37e6cd66c4b.yaml', 'releasenotes/notes/migrate-object-storage-as-stable-interface-42014c7b43ecb254.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f6538e01868bca1a2b1df6688d4828fd9e8dbd5', 'message': 'Fix indentation in releasenotes\n\nThis commit fixes indentations in releasenotes. Due to the indentations,\nthe html contents are rendered as block quotes which is awkward.\n\nChange-Id: Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c\n'}]",0,673208,4f6538e01868bca1a2b1df6688d4828fd9e8dbd5,8,4,1,5689,,,0,"Fix indentation in releasenotes

This commit fixes indentations in releasenotes. Due to the indentations,
the html contents are rendered as block quotes which is awkward.

Change-Id: Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/08/673208/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/12/12.2.0-add-new-identity-clients-3c3afd674a395bde.yaml', 'releasenotes/notes/14/14.0.0-add-image-clients-af94564fb34ddca6.yaml', 'releasenotes/notes/12/12.1.0-identity-clients-as-library-e663c6132fcac6c2.yaml', 'releasenotes/notes/12/12.2.0-volume-clients-as-library-9a3444dd63c134b3.yaml', 'releasenotes/notes/tempest-stein-release-18bad34136a2e6ef.yaml', 'releasenotes/notes/13/13.0.0-add-new-identity-clients-as-library-5f7ndha733nwdsn9.yaml', 'releasenotes/notes/15/15.0.0-add-image-clients-tests-49dbc0a0a4281a77.yaml', 'releasenotes/notes/tempest-rocky-release-0fc3312053923380.yaml', 'releasenotes/notes/make-object-storage-client-as-stable-interface-d1b07c7e8f17bef6.yaml', 'releasenotes/notes/add-domain-param-in-cliclient-a270fcf35c8f09e6.yaml', 'releasenotes/notes/12/12.1.0-image-clients-as-library-86d17caa26ce3961.yaml', 'releasenotes/notes/intermediate-train-release-0146c624cff9a57f.yaml', 'releasenotes/notes/12/12.1.0-add_subunit_describe_calls-5498a37e6cd66c4b.yaml', 'releasenotes/notes/migrate-object-storage-as-stable-interface-42014c7b43ecb254.yaml']",14,4f6538e01868bca1a2b1df6688d4828fd9e8dbd5,fix-indent, * bulk_middleware_client * capabilities_client, * bulk_middleware_client * capabilities_client,63,63
openstack%2Fneutron~master~I33bd17c723b3e8d409415bda008440f8ed9cfa68,openstack/neutron,master,I33bd17c723b3e8d409415bda008440f8ed9cfa68,Relax subnet pool network affinity constraints,MERGED,2019-06-26 05:34:52.000000000,2019-08-02 01:28:09.000000000,2019-08-02 01:28:09.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-06-26 05:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dfa828ec3677ecdd8ce5996a5c5aa3c226bf161', 'message': '[WIP] Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 2, 'created': '2019-06-26 19:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a1a9444ad8c8aad5341312f5713fe9ba6a07485', 'message': '[WIP] Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\nDepends-On: https://review.opendev.org/#/c/667644/\n'}, {'number': 3, 'created': '2019-06-27 18:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0cadd7692101f4733601b05f9e79203de9f7e2c', 'message': '[WIP] Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 4, 'created': '2019-06-30 19:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bab7df8b5a725422836d7de362cfbd2aeeb3072e', 'message': '[WIP] Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 5, 'created': '2019-07-08 14:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58ad2a35dc808d10094e40f307e96d7571cc21d5', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 6, 'created': '2019-07-08 14:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81cdf2a4a121ed3407101458b56481747b6bd2b6', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 7, 'created': '2019-07-09 16:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc98d1f8c4b31528803a732670b5e6a2bc16cae3', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nCloses: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 8, 'created': '2019-07-10 16:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0740c33f50361c25b54579a5a118b0be0c3a7e12', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nCloses: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 9, 'created': '2019-07-16 13:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac8de36e93a67a64cd0e94c44b568de73736878d', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nCloses: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 10, 'created': '2019-07-16 15:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a750b349f9f76e7c7153652b98cdb79c960762b', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nCloses: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 11, 'created': '2019-07-22 14:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d0982078ccb949bf77cca2eb43ad0db38d847f3', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nCloses: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 12, 'created': '2019-07-31 15:02:16.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'releasenotes/notes/relax-subnetpool-network-affinity-837c1fc28f835de5.yaml', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/address_scope.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32182010c2c2050f37221824788a91d762081a0f', 'message': 'Relax subnet pool network affinity constraints\n\nThis change relaxes the constraint that all subnets of the same\naddress family on a network must be allocated from the same subnet\npool. It allows subnets that share the same address scope to\nco-exist on a network. If there is no address scope involved the\nsubnet pool / network affinity constraints continue to  enforced\nas done previously.\n\nChange-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68\nCloses: 1830240\nImplements: subnets-different-pools-same-net\n'}]",63,667511,32182010c2c2050f37221824788a91d762081a0f,107,14,12,4187,,,0,"Relax subnet pool network affinity constraints

This change relaxes the constraint that all subnets of the same
address family on a network must be allocated from the same subnet
pool. It allows subnets that share the same address scope to
co-exist on a network. If there is no address scope involved the
subnet pool / network affinity constraints continue to  enforced
as done previously.

Change-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68
Closes: 1830240
Implements: subnets-different-pools-same-net
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/667511/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/objects/address_scope.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py']",3,4dfa828ec3677ecdd8ce5996a5c5aa3c226bf161,bp/subnets-different-pools-same-net," context.get_admin_context(),",,40,5
openstack%2Ftripleo-validations~stable%2Fstein~I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,openstack/tripleo-validations,stable/stein,I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,Adds Molecule to haproxy validation role,MERGED,2019-08-01 11:04:00.000000000,2019-08-02 01:21:11.000000000,2019-08-02 01:21:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/28657ab13c7a3ca44d9027007db8e3ddab3040d9', 'message': 'Adds Molecule to haproxy validation role\n\nChange-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc\n(cherry picked from commit 06bb613979a4c4e1c297c3f8feed244af1142046)\n'}, {'number': 2, 'created': '2019-08-01 12:52:34.000000000', 'files': ['roles/haproxy/molecule/default/playbook.yml', 'roles/haproxy/molecule/default/molecule.yml', 'roles/haproxy/molecule/default/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f8366f746033317faeed18cc3f74ead62b4a9695', 'message': 'Adds Molecule to haproxy validation role\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc\n(cherry picked from commit 06bb613979a4c4e1c297c3f8feed244af1142046)\n'}]",0,673997,f8366f746033317faeed18cc3f74ead62b4a9695,7,4,2,11491,,,0,"Adds Molecule to haproxy validation role

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc
(cherry picked from commit 06bb613979a4c4e1c297c3f8feed244af1142046)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/673997/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/haproxy/molecule/default/playbook.yml', 'roles/haproxy/molecule/default/molecule.yml', 'roles/haproxy/molecule/default/Dockerfile.j2']",3,28657ab13c7a3ca44d9027007db8e3ddab3040d9,molecule/haproxy-stable/stein,"# Molecule managed # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install python sudo python-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ",,154,0
openstack%2Ffreezer-api~master~I3d580b4422826d02cbced24df8fa688890557dcb,openstack/freezer-api,master,I3d580b4422826d02cbced24df8fa688890557dcb,Replace git.openstack.org with opendev.org,ABANDONED,2019-04-23 03:01:47.000000000,2019-08-02 01:19:16.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28471}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-04-23 03:01:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f9d3c588f63439f9d3cd11b88d1dca3fdb2a6221', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I3d580b4422826d02cbced24df8fa688890557dcb\n'}]",0,654683,f9d3c588f63439f9d3cd11b88d1dca3fdb2a6221,7,5,1,28614,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I3d580b4422826d02cbced24df8fa688890557dcb
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/83/654683/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f9d3c588f63439f9d3cd11b88d1dca3fdb2a6221,,- `Source Code Repository <https://opendev.org/openstack/freezer-api/>`__,- `Source Code Repository <https://git.openstack.org/cgit/openstack/freezer-api>`__,1,1
openstack%2Fcongress-dashboard~master~If22ab1fffe3edec4795d29e4f74ca8776f62bfd9,openstack/congress-dashboard,master,If22ab1fffe3edec4795d29e4f74ca8776f62bfd9,Update json module to jsonutils,ABANDONED,2019-03-01 02:48:49.000000000,2019-08-02 01:17:35.000000000,,"[{'_account_id': 18591}, {'_account_id': 18955}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 29313}, {'_account_id': 30356}, {'_account_id': 30427}, {'_account_id': 30429}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-03-01 02:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/d34690fe756c7a7b3e524c832968652a0251a5ec', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and congress use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9\n'}, {'number': 2, 'created': '2019-03-05 04:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/5568fa5515be65de68a9d312694b5b858cbc83b2', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and congress use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9\n'}, {'number': 3, 'created': '2019-03-05 04:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/c118bff6c9efdbeff142afe85bae66d039ab21a2', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and congress use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9\n'}, {'number': 4, 'created': '2019-03-05 04:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/7c3c4bad91112bf191108a17c297dfb519a075f8', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and congress use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9\n'}, {'number': 5, 'created': '2019-05-13 17:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/cc1c07e819307f5504367c5a4d5919d97a57f259', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and congress use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9\n'}, {'number': 6, 'created': '2019-05-17 07:17:26.000000000', 'files': ['congress_dashboard/policies/views.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/04025c24142d7cf7cd95d8c1875466654a5eb852', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and congress use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9\n'}]",3,640249,04025c24142d7cf7cd95d8c1875466654a5eb852,22,11,6,28614,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and congress use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/49/640249/6 && git format-patch -1 --stdout FETCH_HEAD,"['congress_dashboard/policies/views.py', 'requirements.txt', 'lower-constraints.txt']",3,d34690fe756c7a7b3e524c832968652a0251a5ec,,oslo.serialization==2.18.0,oslo.serialization==2.25.0,5,5
openstack%2Ftripleo-validations~stable%2Fstein~I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c,openstack/tripleo-validations,stable/stein,I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c,Make Verify the RAM requirements task failing again,MERGED,2019-07-16 12:43:46.000000000,2019-08-02 01:15:34.000000000,2019-08-02 01:15:34.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-16 12:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5a0c5cdfd9e076c7d6d4eaa67287de23ded6756b', 'message': 'Make Verify the RAM requirements task failing again\n\nCommit 5bd41653b6bf097bc505b56ff539c26e440cdadb changes the tasks to use\nthe debug module instead of fail module.\n\nThis patch makes that task failing again and removes the useless\nverify.yml file.\n\nChange-Id: I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 4e6c26df546ee24903352f66d4a2e5d95fff10ad)\n'}, {'number': 2, 'created': '2019-08-01 12:48:10.000000000', 'files': ['roles/undercloud-ram/tasks/main.yml', 'roles/undercloud-ram/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/23dd988ac3c85891f3b2998d3625952e46b79908', 'message': 'Make Verify the RAM requirements task failing again\n\nCommit 5bd41653b6bf097bc505b56ff539c26e440cdadb changes the tasks to use\nthe debug module instead of fail module.\n\nThis patch makes that task failing again and removes the useless\nverify.yml file.\n\nChange-Id: I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 4e6c26df546ee24903352f66d4a2e5d95fff10ad)\n'}]",0,671020,23dd988ac3c85891f3b2998d3625952e46b79908,8,5,2,11491,,,0,"Make Verify the RAM requirements task failing again

Commit 5bd41653b6bf097bc505b56ff539c26e440cdadb changes the tasks to use
the debug module instead of fail module.

This patch makes that task failing again and removes the useless
verify.yml file.

Change-Id: I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 4e6c26df546ee24903352f66d4a2e5d95fff10ad)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/671020/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-ram/tasks/main.yml', 'roles/undercloud-ram/molecule/default/verify.yml']",2,5a0c5cdfd9e076c7d6d4eaa67287de23ded6756b,molecule-stable-stein,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",1,16
openstack%2Ftripleo-validations~stable%2Fstein~If1658d887aaa8559df919d787223ddff295bac50,openstack/tripleo-validations,stable/stein,If1658d887aaa8559df919d787223ddff295bac50,Add Molecule tests for the role xfs-check-ftype.,MERGED,2019-07-10 10:37:34.000000000,2019-08-02 01:15:34.000000000,2019-08-02 01:15:34.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-10 10:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f954a927eb1e44e5c4d3b5e3636a954cf226ceea', 'message': 'Add Molecule tests for the role xfs-check-ftype.\n\nChange-Id: If1658d887aaa8559df919d787223ddff295bac50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 3619fe33e98a136f232fcfb26045594a0a3081b9)\n'}, {'number': 2, 'created': '2019-08-01 12:48:10.000000000', 'files': ['roles/xfs-check-ftype/molecule/default/playbook.yml', 'roles/xfs-check-ftype/molecule/default/molecule.yml', 'roles/xfs-check-ftype/molecule/default/Dockerfile.j2', 'roles/xfs-check-ftype/molecule/default/prepare.yml', 'roles/xfs-check-ftype/molecule/default/verify.yml', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c7923e06ae367b280ad290bf763bec347f9173ef', 'message': 'Add Molecule tests for the role xfs-check-ftype.\n\nChange-Id: If1658d887aaa8559df919d787223ddff295bac50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 3619fe33e98a136f232fcfb26045594a0a3081b9)\n'}]",0,670028,c7923e06ae367b280ad290bf763bec347f9173ef,10,6,2,11491,,,0,"Add Molecule tests for the role xfs-check-ftype.

Change-Id: If1658d887aaa8559df919d787223ddff295bac50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 3619fe33e98a136f232fcfb26045594a0a3081b9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/28/670028/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/xfs-check-ftype/molecule/default/playbook.yml', 'roles/xfs-check-ftype/molecule/default/molecule.yml', 'roles/xfs-check-ftype/molecule/default/Dockerfile.j2', 'roles/xfs-check-ftype/molecule/default/prepare.yml', 'roles/xfs-check-ftype/molecule/default/verify.yml', '.pre-commit-config.yaml']",6,f954a927eb1e44e5c4d3b5e3636a954cf226ceea,molecule-stable-stein, rev: v4.1.0, rev: v4.0.1,182,1
openstack%2Ftripleo-validations~stable%2Fstein~I0551ab56324ede7f1d33e0e9a680c26ea164023c,openstack/tripleo-validations,stable/stein,I0551ab56324ede7f1d33e0e9a680c26ea164023c,Add Molecule tests for the role undercloud-ram.,MERGED,2019-07-09 15:55:59.000000000,2019-08-02 01:15:32.000000000,2019-08-02 01:15:32.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-09 15:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/183b659af82b49d5487be17e88a414a2ef9323f9', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)\n'}, {'number': 2, 'created': '2019-07-10 10:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/014bb18930036bd5e4112e86b7d29c46c9b976ef', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)\n'}, {'number': 3, 'created': '2019-07-26 01:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c273d1dd15923d0ed0ea19c7c2a12315d6824fcd', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)\n'}, {'number': 4, 'created': '2019-07-26 13:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c3ba7fa143e585332052280ad652085bd14d07d2', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)\n'}, {'number': 5, 'created': '2019-08-01 12:48:10.000000000', 'files': ['roles/undercloud-ram/molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'roles/undercloud-ram/molecule/default/Dockerfile.j2', 'roles/undercloud-ram/molecule/default/playbook.yml', 'roles/undercloud-ram/tasks/main.yml', 'roles/undercloud-ram/molecule/default/verify.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ee5b42e8d32e6409252ba9a1ea6f5967760643fd', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)\n'}]",1,669898,ee5b42e8d32e6409252ba9a1ea6f5967760643fd,20,5,5,11491,,,0,"Add Molecule tests for the role undercloud-ram.

Change-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Signed-off-by: Luke Short <ekultails@gmail.com>
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/669898/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-ram/molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'roles/undercloud-ram/molecule/default/Dockerfile.j2', 'roles/undercloud-ram/molecule/default/playbook.yml', 'roles/undercloud-ram/tasks/main.yml', 'roles/undercloud-ram/molecule/default/verify.yml', 'tox.ini']",7,183b659af82b49d5487be17e88a414a2ef9323f9,molecule-stable-stein,"minversion = 3.8 envlist = pep8,py35,py36,py27,molecule [testenv:molecule] deps = ansi2html docker>=3.7 mock molecule>=2.22rc3 pytest pytest-cov pytest-html pytest-molecule>=1.0rc1 pytest-xdist selinux commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {posargs:roles}","minversion = 2.0 envlist = py35,py36,py27,pep8",161,4
openstack%2Fdesignate-dashboard~master~I2c6d07c80d9a4af225a20ccd466240809788b390,openstack/designate-dashboard,master,I2c6d07c80d9a4af225a20ccd466240809788b390,Fix py35/py36 gate jobs,ABANDONED,2019-07-04 14:23:54.000000000,2019-08-02 01:13:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-04 14:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/e8f9ed607402e33efbaf9119bfdb1d0f5da0ee78', 'message': 'Fix py35/py36 gate jobs\n\npy35/py36 jobs are failing\npython 3.6 pycache also includes links - so those also\nneed to be removed by tox testenv\n\nChange-Id: I2c6d07c80d9a4af225a20ccd466240809788b390\n'}, {'number': 2, 'created': '2019-07-04 14:27:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/910db2ab4aa7906c86f435f6b11b9a1f5dd1ec9c', 'message': 'Fix py35/py36 gate jobs\n\npy35/py36 jobs are failing\npython 3.6 pycache also includes links - so those also\nneed to be removed by tox testenv\n\nChange-Id: I2c6d07c80d9a4af225a20ccd466240809788b390\n'}]",1,669189,910db2ab4aa7906c86f435f6b11b9a1f5dd1ec9c,5,2,2,28614,,,0,"Fix py35/py36 gate jobs

py35/py36 jobs are failing
python 3.6 pycache also includes links - so those also
need to be removed by tox testenv

Change-Id: I2c6d07c80d9a4af225a20ccd466240809788b390
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/89/669189/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e8f9ed607402e33efbaf9119bfdb1d0f5da0ee78,," find . -type f -name ""*.pyc"" -delete -o -type l -name ""*.py[c|o]"" -delete"," find . -type f -name ""*.pyc"" -delete",1,1
openstack%2Fdesignate-dashboard~master~I97ed4bc0e722180315eb992233ac7829f0f7bbe7,openstack/designate-dashboard,master,I97ed4bc0e722180315eb992233ac7829f0f7bbe7,Sync Sphinx requirement,ABANDONED,2019-06-18 15:11:44.000000000,2019-08-02 01:13:29.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-18 15:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/3f7cf62e0415b3b777af5c514c44bf5720be7f05', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I97ed4bc0e722180315eb992233ac7829f0f7bbe7\n'}, {'number': 2, 'created': '2019-06-18 15:12:50.000000000', 'files': ['doc/source/user/index.rst', 'test-requirements.txt', 'README.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/5fa57dc887dc478632c31f1cf56f7a1adbe6b0f3', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: I97ed4bc0e722180315eb992233ac7829f0f7bbe7\n'}]",0,666018,5fa57dc887dc478632c31f1cf56f7a1adbe6b0f3,10,5,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: I97ed4bc0e722180315eb992233ac7829f0f7bbe7
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/18/666018/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'README.rst', 'HACKING.rst']",3,3f7cf62e0415b3b777af5c514c44bf5720be7f05,,=====================================,===============================================,5,4
openstack%2Ftripleo-common~master~I5829addb715c4836dd27750daa67f2e472084b34,openstack/tripleo-common,master,I5829addb715c4836dd27750daa67f2e472084b34,Add docker/podman packages to nova_libvirt container,MERGED,2019-07-29 15:00:57.000000000,2019-08-02 01:08:54.000000000,2019-08-02 01:08:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-29 15:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c21835c3921e4dbab53ff6ea49d1dec329a10525', 'message': 'Add docker packages to nova_libvirt container\n\nThe nova_libvirt containers need to be able to launch containers for\nthe virtlogd process to be not managed by paunch.\n\nRelated-Bug: #1838272\n\nChange-Id: I5829addb715c4836dd27750daa67f2e472084b34\n'}, {'number': 2, 'created': '2019-07-29 15:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cbfc2e164aff8aa1555719438b67706171fdc98a', 'message': 'Add docker/podman packages to nova_libvirt container\n\nThe nova_libvirt containers need to be able to launch containers for\nthe virtlogd process to be not managed by paunch.\n\nRelated-Bug: #1838272\n\nChange-Id: I5829addb715c4836dd27750daa67f2e472084b34\n'}, {'number': 3, 'created': '2019-07-29 15:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bed363197e00944aa039bd78478fba06a4920a69', 'message': 'Add docker/podman packages to nova_libvirt container\n\nThe nova_libvirt containers need to be able to launch containers for\nthe virtlogd process to be not managed by paunch.\n\nRelated-Bug: #1838272\n\nChange-Id: I5829addb715c4836dd27750daa67f2e472084b34\n'}, {'number': 4, 'created': '2019-08-01 07:04:54.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f6eb3c8db7f72acc54e80531b8f083ed084679f6', 'message': ""Add docker/podman packages to nova_libvirt container\n\nThe nova_libvirt containers need to be able to launch containers for\nthe virtlogd process to be not managed by paunch.\n\nWe only add docker if distro_python_version.startswith('2') . This\napplies to\n- nova_libvirt_packages_append\n- neutron_metadata_agent_ovn_packages_append\n- neutron_l3_agent_packages_append\n- neutron_dhcp_agent_packages\n\nRelated-Bug: #1838272\n\nChange-Id: I5829addb715c4836dd27750daa67f2e472084b34\n""}]",9,673307,f6eb3c8db7f72acc54e80531b8f083ed084679f6,27,9,4,17216,,,0,"Add docker/podman packages to nova_libvirt container

The nova_libvirt containers need to be able to launch containers for
the virtlogd process to be not managed by paunch.

We only add docker if distro_python_version.startswith('2') . This
applies to
- nova_libvirt_packages_append
- neutron_metadata_agent_ovn_packages_append
- neutron_l3_agent_packages_append
- neutron_dhcp_agent_packages

Related-Bug: #1838272

Change-Id: I5829addb715c4836dd27750daa67f2e472084b34
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/673307/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,c21835c3921e4dbab53ff6ea49d1dec329a10525,bug/1838272,"# {% set nova_libvirt_packages_append = [ 'openstack-nova-migration', 'openssl-perl', 'docker', 'podman', 'seccomp' ] %}","{% set nova_libvirt_packages_append = ['openstack-nova-migration', 'openssl-perl'] %}",8,1
openstack%2Fopenstack-helm-infra~master~I29608cd8b6ce1e30615a0f92853939d7bbae9972,openstack/openstack-helm-infra,master,I29608cd8b6ce1e30615a0f92853939d7bbae9972,Ceph-Client: update configmap name for defragosds cronjob,MERGED,2019-08-01 15:11:48.000000000,2019-08-02 00:21:41.000000000,2019-08-02 00:21:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 26628}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-08-01 15:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b0530c44b0a12caa6b4657b8d3a4fb23bbdb9c6f', 'message': 'Ceph-Client: correct confignames and update crontime for defragosds cronjob\n\nThis is to update the configmap names using by defragosds cronjob and also\nto update cronjob time to run every 15 minutes so that gates will run the\ncode.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 2, 'created': '2019-08-01 15:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb6fea592a8e0ba31f74ef2eb10a3f8e1b6bfe6a', 'message': 'Ceph-Client: update configmap names and crontime for defragosds cronjob\n\nThis is to update the configmap names using by defragosds cronjob and also\nto update cronjob time to run every 15 minutes so that gates will run the\ncode.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 3, 'created': '2019-08-01 15:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/abd2bf7f35c62874a19e9f90a99768a4c583faa9', 'message': 'Ceph-Client: update configmap names and crontime for defragosds cronjob\n\nThis is to update the configmap names using by defragosds cronjob and also\nto update cronjob time to run every 15 minutes so that gates will run the\ncode.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 4, 'created': '2019-08-01 16:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/603c41fbeef3c909b98c92862275855cecb69cb5', 'message': 'Ceph-Client: update configmap names and crontime for defragosds cronjob\n\nThis is to update the configmap names using by defragosds cronjob and also\nto update cronjob time to run every 15 minutes so that gates will run the\ncode.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 5, 'created': '2019-08-01 16:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e880f76f84824a8a30cc92e97eb54794ad64507', 'message': 'Ceph-Client: update configmap names and crontime for defragosds cronjob\n\nThis is to update the configmap names using by defragosds cronjob and also\nto update cronjob time to run every 15 minutes so that gates will run the\ncode.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 6, 'created': '2019-08-01 16:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdabe722c07d07b23cf3d556c9f4be8846689944', 'message': 'Ceph-Client: update configmap name for defragosds cronjob\n\nThis is to update the configmap names using by defragosds cronjob.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 7, 'created': '2019-08-01 17:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e21f76c3c871ed5d5fbf60170b289274583db2e', 'message': 'Ceph-Client: update configmap name for defragosds cronjob\n\nThis is to update configmap names using by defragosds cronjob also\nto create manaul jobs out from cronjobs so that gates will run through\nthe cronjob code.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}, {'number': 8, 'created': '2019-08-01 17:22:53.000000000', 'files': ['ceph-client/templates/cronjob-defragosds.yaml', 'tools/deployment/osh-infra-logging/020-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acd5d11bc22a38eac88fb2b9ea647053d9e78180', 'message': 'Ceph-Client: update configmap name for defragosds cronjob\n\nThis is to update configmap names using by defragosds cronjob.\n\nChange-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972\n'}]",4,674070,acd5d11bc22a38eac88fb2b9ea647053d9e78180,25,7,8,28372,,,0,"Ceph-Client: update configmap name for defragosds cronjob

This is to update configmap names using by defragosds cronjob.

Change-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/70/674070/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/cronjob-defragosds.yaml', 'ceph-client/values.yaml']",2,b0530c44b0a12caa6b4657b8d3a4fb23bbdb9c6f,," # Execute every 15 minutes cron: ""*/15 * * * *"""," # Execute the 1st of each month cron: ""0 0 1 * *""",6,6
openstack%2Fneutron-lib~master~I53c6538dfbeea9691d95c6c555f0c56ae13d1a33,openstack/neutron-lib,master,I53c6538dfbeea9691d95c6c555f0c56ae13d1a33,Ensure that extended ethertypes still work by name,MERGED,2019-07-30 21:18:46.000000000,2019-08-02 00:20:52.000000000,2019-08-02 00:20:52.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-07-30 21:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7428260e190e2728fa897a379e7304f3adef478d', 'message': ""Ensure that extended ethertypes still work by name\n\nWhen the change to add support for extended ethertypes was introduced,\none scenario for backwards compatibility was not addressed in the\nvalidator: using the canonical string names for ethertypes.  This was\npreviously supported in the original implementation, using 'IPv4' or\n'IPv6' for example.\n\nSince the list of canonical ethertype names is available from os-ken we\nconsume it from there, which adds an additional dependency for\nneutron-lib.\n\nChange-Id: I53c6538dfbeea9691d95c6c555f0c56ae13d1a33\n""}, {'number': 2, 'created': '2019-07-30 21:29:27.000000000', 'files': ['neutron_lib/tests/unit/api/validators/test_validators.py', 'requirements.txt', 'neutron_lib/api/validators/__init__.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/24aef1398b5b69967696aa8cb6598ab1be37c626', 'message': ""Ensure that extended ethertypes still work by name\n\nWhen the change to add support for extended ethertypes was introduced,\none scenario for backwards compatibility was not addressed in the\nvalidator: using the canonical string names for ethertypes.  This was\npreviously supported in the original implementation, using 'IPv4' or\n'IPv6' for example.\n\nSince the list of canonical ethertype names is available from os-ken we\nconsume it from there, which adds an additional dependency for\nneutron-lib.\n\nRelated-Bug: #1838473\nChange-Id: I53c6538dfbeea9691d95c6c555f0c56ae13d1a33\n""}]",0,673692,24aef1398b5b69967696aa8cb6598ab1be37c626,10,5,2,13995,,,0,"Ensure that extended ethertypes still work by name

When the change to add support for extended ethertypes was introduced,
one scenario for backwards compatibility was not addressed in the
validator: using the canonical string names for ethertypes.  This was
previously supported in the original implementation, using 'IPv4' or
'IPv6' for example.

Since the list of canonical ethertype names is available from os-ken we
consume it from there, which adds an additional dependency for
neutron-lib.

Related-Bug: #1838473
Change-Id: I53c6538dfbeea9691d95c6c555f0c56ae13d1a33
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/92/673692/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/validators/test_validators.py', 'requirements.txt', 'neutron_lib/api/validators/__init__.py', 'lower-constraints.txt']",4,7428260e190e2728fa897a379e7304f3adef478d,ethertype_validator_fix,os-ken==0.3.0,,30,6
openstack%2Fmagnum~master~I0ddfd7fde55302809a98bb8a6d745de4079b9a87,openstack/magnum,master,I0ddfd7fde55302809a98bb8a6d745de4079b9a87,Add Python 3 Train unit tests,MERGED,2019-07-02 02:42:08.000000000,2019-08-01 23:46:15.000000000,2019-08-01 23:46:15.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 8556}, {'_account_id': 11805}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 02:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5c7b5205fce9eeeff38445421a74002127787d44', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0ddfd7fde55302809a98bb8a6d745de4079b9a87\n'}, {'number': 2, 'created': '2019-07-19 14:49:05.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/58230546272e698d3390b9b2f7aedd09fdea7808', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0ddfd7fde55302809a98bb8a6d745de4079b9a87\nStory: #2005924\nTask: #34219\n'}]",0,668570,58230546272e698d3390b9b2f7aedd09fdea7808,20,7,2,27822,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0ddfd7fde55302809a98bb8a6d745de4079b9a87
Story: #2005924
Task: #34219
",git fetch https://review.opendev.org/openstack/magnum refs/changes/70/668570/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5c7b5205fce9eeeff38445421a74002127787d44,python3-train,"envlist = py37,py36,py27,pep8","envlist = py36,py27,pep8",3,3
openstack%2Fironic~master~I55b85d52ec905150322633b07ecdacd293bf1a57,openstack/ironic,master,I55b85d52ec905150322633b07ecdacd293bf1a57,Creation of UEFI ISO fails with efiboot.img,MERGED,2019-07-13 15:38:36.000000000,2019-08-01 23:27:29.000000000,2019-08-01 23:27:28.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-07-13 15:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/029479d238c4238d77e5f47a9a14d8e0ffcca53a', 'message': 'Creation of UEFI ISO fails with efiboot.img\n\nCreation for UEFI boot mode when efiboot.img file is provided and\nthe directory of location of grub.cfg file set using config\n``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img\nfile.\n\nChange-Id: I55b85d52ec905150322633b07ecdacd293bf1a57\nStory: 2006218\nTask: 35811\n'}, {'number': 2, 'created': '2019-07-20 15:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/919cc05193205239368ba94e29db362756805e46', 'message': 'Creation of UEFI ISO fails with efiboot.img\n\nCreation for UEFI boot mode when efiboot.img file is provided and\nthe directory of location of grub.cfg file set using config\n``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img\nfile.\n\nChange-Id: I55b85d52ec905150322633b07ecdacd293bf1a57\nStory: 2006218\nTask: 35811\n'}, {'number': 3, 'created': '2019-07-22 10:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aec7e66464fdfe8e125e2d66a3c3b8e54f629dc4', 'message': 'Creation of UEFI ISO fails with efiboot.img\n\nCreation for UEFI boot mode when efiboot.img file is provided and\nthe directory of location of grub.cfg file set using config\n``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img\nfile.\n\nChange-Id: I55b85d52ec905150322633b07ecdacd293bf1a57\nStory: 2006218\nTask: 35811\n'}, {'number': 4, 'created': '2019-07-23 04:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffcb60364615d35d47697a5830d6e97d71e165dd', 'message': 'Creation of UEFI ISO fails with efiboot.img\n\nCreation for UEFI boot mode when efiboot.img file is provided and\nthe directory of location of grub.cfg file set using config\n``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img\nfile.\n\nChange-Id: I55b85d52ec905150322633b07ecdacd293bf1a57\nStory: 2006218\nTask: 35811\n'}, {'number': 5, 'created': '2019-07-26 14:36:11.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/story-2006218-uefi-iso-creation-fails-ba0180991fdd0783.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/13dcb33faaf38a3ae97174eda1b8cfc1800b2b9b', 'message': 'Creation of UEFI ISO fails with efiboot.img\n\nCreation for UEFI boot mode when efiboot.img file is provided and\nthe directory of location of grub.cfg file set using config\n``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img\nfile.\n\nChange-Id: I55b85d52ec905150322633b07ecdacd293bf1a57\nStory: 2006218\nTask: 35811\n'}]",9,670698,13dcb33faaf38a3ae97174eda1b8cfc1800b2b9b,76,12,5,11076,,,0,"Creation of UEFI ISO fails with efiboot.img

Creation for UEFI boot mode when efiboot.img file is provided and
the directory of location of grub.cfg file set using config
``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img
file.

Change-Id: I55b85d52ec905150322633b07ecdacd293bf1a57
Story: 2006218
Task: 35811
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/670698/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py', 'releasenotes/notes/story-2006218-uefi-iso-creation-fails-ba0180991fdd0783.yaml']",3,029479d238c4238d77e5f47a9a14d8e0ffcca53a,story_2006218,--- fixes: - | Fixes an issue in ISO creation for UEFI boot mode when efiboot.img file is provided and the directory of location of grub.cfg file set using config ``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img file. See `story 2006218 <https://storyboard.openstack.org/#!/story/2006218>`__ for details. ,,14,4
openstack%2Fopenstack-ansible-os_ironic~master~I429cffc8782c19fb2522520238ac356ab3c0a038,openstack/openstack-ansible-os_ironic,master,I429cffc8782c19fb2522520238ac356ab3c0a038,redhat: add qemu-img-ev to dependencies,MERGED,2019-07-31 20:06:04.000000000,2019-08-01 23:09:04.000000000,2019-08-01 23:09:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-07-31 20:06:04.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/5d74ab936af32bdf5f00f6e96b3f0708aac90ce5', 'message': 'redhat: add qemu-img-ev to dependencies\n\nIronic needs qemu-img in order to be able to convert images so this\ncommit adds it to the list of dependencies.\n\nChange-Id: I429cffc8782c19fb2522520238ac356ab3c0a038\n'}]",0,673905,5d74ab936af32bdf5f00f6e96b3f0708aac90ce5,12,3,1,1004,,,0,"redhat: add qemu-img-ev to dependencies

Ironic needs qemu-img in order to be able to convert images so this
commit adds it to the list of dependencies.

Change-Id: I429cffc8782c19fb2522520238ac356ab3c0a038
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/05/673905/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,5d74ab936af32bdf5f00f6e96b3f0708aac90ce5,, - qemu-img-ev,,1,0
openstack%2Fmagnum~master~I9a167c082d685f02766349ba9e301afd52d0d284,openstack/magnum,master,I9a167c082d685f02766349ba9e301afd52d0d284,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 02:45:27.000000000,2019-08-01 22:56:53.000000000,2019-08-01 22:56:53.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 15197}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 02:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3568672e60cccccfc71ec676c42ff3df362e88a0', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I9a167c082d685f02766349ba9e301afd52d0d284\n'}, {'number': 2, 'created': '2019-07-02 05:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/994ca9a3b14b99f04620a1f3907b60538f0ba19a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I9a167c082d685f02766349ba9e301afd52d0d284\n'}, {'number': 3, 'created': '2019-07-30 08:52:25.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5438a3c6e306b41fdef69de5772f7d682a32a55c', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I9a167c082d685f02766349ba9e301afd52d0d284\n'}]",1,668572,5438a3c6e306b41fdef69de5772f7d682a32a55c,13,5,3,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9a167c082d685f02766349ba9e301afd52d0d284
",git fetch https://review.opendev.org/openstack/magnum refs/changes/72/668572/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,3568672e60cccccfc71ec676c42ff3df362e88a0,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2,<2.0.0;python_version=='2.7' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD",2,2
openstack%2Fopenstack-helm~master~I23b35aee298e2e414e93ff34cd0a7012a9099e3d,openstack/openstack-helm,master,I23b35aee298e2e414e93ff34cd0a7012a9099e3d,Allow allowPrivilegeEscalation,MERGED,2019-08-01 00:22:18.000000000,2019-08-01 22:45:19.000000000,2019-08-01 22:45:19.000000000,"[{'_account_id': 7769}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-08-01 00:22:18.000000000', 'files': ['cinder/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50c982eab03a0d04487479680c02f74bc6ef3e29', 'message': 'Allow allowPrivilegeEscalation\n\nCinder requires rootwrap functionality that we cannot disable\nallowPrivilegeEscalation. This patch set removes the line\nthat disables it by default.\n\nChange-Id: I23b35aee298e2e414e93ff34cd0a7012a9099e3d\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,673930,50c982eab03a0d04487479680c02f74bc6ef3e29,10,6,1,20466,,,0,"Allow allowPrivilegeEscalation

Cinder requires rootwrap functionality that we cannot disable
allowPrivilegeEscalation. This patch set removes the line
that disables it by default.

Change-Id: I23b35aee298e2e414e93ff34cd0a7012a9099e3d
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/673930/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/values.yaml'],1,50c982eab03a0d04487479680c02f74bc6ef3e29,rm-priv,, allowPrivilegeEscalation: false,0,1
openstack%2Fmagnum-ui~master~Ia622efbbf222a3a0d58e1582976b4a45b4b1da23,openstack/magnum-ui,master,Ia622efbbf222a3a0d58e1582976b4a45b4b1da23,Update sphinx dependency,MERGED,2019-06-21 05:53:58.000000000,2019-08-01 22:25:56.000000000,2019-08-01 22:25:56.000000000,"[{'_account_id': 6484}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 05:53:58.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/baccaeb7939e5183dbd69e4936d4ef2e6a151e5e', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ia622efbbf222a3a0d58e1582976b4a45b4b1da23\n'}]",0,666775,baccaeb7939e5183dbd69e4936d4ef2e6a151e5e,7,5,1,27822,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Ia622efbbf222a3a0d58e1582976b4a45b4b1da23
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/75/666775/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,baccaeb7939e5183dbd69e4936d4ef2e6a151e5e,Bug#1,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmagnum~master~Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd,openstack/magnum,master,Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd,Set train-dev as the default tag for heat-container-agent,MERGED,2019-07-25 22:02:50.000000000,2019-08-01 22:22:53.000000000,2019-08-01 22:22:52.000000000,"[{'_account_id': 6484}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 22:02:50.000000000', 'files': ['releasenotes/notes/heat-container-agent-for-train-e63bc1559750fe9c.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c6bf1da085383795d4f412c6af78693ee395badf', 'message': ""Set train-dev as the default tag for heat-container-agent\n\nBased on the policy of heat-container-agent tag, now it's updated\nas train-dev and as long as we release Train, it will be updated\nwith train-stable.\n\nChange-Id: Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd\n""}]",0,672832,c6bf1da085383795d4f412c6af78693ee395badf,10,4,1,6484,,,0,"Set train-dev as the default tag for heat-container-agent

Based on the policy of heat-container-agent tag, now it's updated
as train-dev and as long as we release Train, it will be updated
with train-stable.

Change-Id: Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd
",git fetch https://review.opendev.org/openstack/magnum refs/changes/32/672832/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/heat-container-agent-for-train-e63bc1559750fe9c.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'playbooks/container-builder-vars.yaml']",4,c6bf1da085383795d4f412c6af78693ee395badf,heat-container-agent-train-dev, tag: train-dev, tag: stein-dev,7,3
openstack%2Fopenstacksdk~master~I5e3b4c70bc0875a1dfcc587b60a95258a61b4407,openstack/openstacksdk,master,I5e3b4c70bc0875a1dfcc587b60a95258a61b4407,Update links,MERGED,2019-07-30 05:06:52.000000000,2019-08-01 22:07:23.000000000,2019-08-01 22:07:23.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-30 05:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c96ef178501a1daa4b680083775796261d55980b', 'message': 'Update links\n\nThe openstacksdk docs are published at docs.o.o, not developer.o.o since\nsome time. Fix links to point to current version of docs.\n\nChange-Id: I5e3b4c70bc0875a1dfcc587b60a95258a61b4407\n'}, {'number': 2, 'created': '2019-07-30 05:16:48.000000000', 'files': ['examples/clustering/event.py', 'examples/compute/list.py', 'examples/compute/find.py', 'examples/dns/list.py', 'examples/network/create.py', 'examples/identity/list.py', 'examples/network/find.py', 'examples/network/security_group_rules.py', 'examples/clustering/profile_type.py', 'examples/image/download.py', 'examples/clustering/policy.py', 'examples/clustering/action.py', 'examples/compute/delete.py', 'examples/image/create.py', 'examples/image/import.py', 'examples/compute/create.py', 'examples/clustering/profile.py', 'examples/network/list.py', 'examples/image/delete.py', 'examples/connect.py', 'examples/network/delete.py', 'examples/clustering/cluster.py', 'examples/clustering/node.py', 'examples/image/list.py', 'examples/clustering/receiver.py', 'examples/clustering/policy_type.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7d25db261094d32c01e63f645ef4c8a7b195c431', 'message': 'Update links\n\nThe openstacksdk docs are published at docs.o.o, not developer.o.o since\nquite some time. Fix links to point to current version of docs.\n\nAdd missing links, thus removing some TODOs.\n\nChange-Id: I5e3b4c70bc0875a1dfcc587b60a95258a61b4407\n'}]",0,673401,7d25db261094d32c01e63f645ef4c8a7b195c431,16,5,2,6547,,,0,"Update links

The openstacksdk docs are published at docs.o.o, not developer.o.o since
quite some time. Fix links to point to current version of docs.

Add missing links, thus removing some TODOs.

Change-Id: I5e3b4c70bc0875a1dfcc587b60a95258a61b4407
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/673401/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/clustering/cluster.py', 'examples/clustering/profile_type.py', 'examples/clustering/event.py', 'examples/clustering/policy.py', 'examples/clustering/action.py', 'examples/clustering/node.py', 'examples/clustering/receiver.py', 'examples/clustering/policy_type.py', 'examples/clustering/profile.py']",9,c96ef178501a1daa4b680083775796261d55980b,retire-api-site,https://docs.openstack.org/openstacksdk/latest/user/guides/clustering.html,https://developer.openstack.org/sdks/python/openstacksdk/user/guides/cluster.html,9,9
openstack%2Fpython-openstackclient~master~I52891fe36c84d0df3e868ab4f3c8e2357e9ba529,openstack/python-openstackclient,master,I52891fe36c84d0df3e868ab4f3c8e2357e9ba529,Mention compute service set --up|--down requires 2.11 or greater,MERGED,2019-07-24 16:03:39.000000000,2019-08-01 21:56:42.000000000,2019-08-01 21:56:41.000000000,"[{'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 16:03:39.000000000', 'files': ['doc/source/cli/command-objects/compute-service.rst', 'openstackclient/compute/v2/service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b52a831f6b92daaba100e09299ec967679adf308', 'message': 'Mention compute service set --up|--down requires 2.11 or greater\n\nThis simply updates the docs for the compute service set --up\nand --down options to mention that --os-compute-api-version 2.11\nor greater is required to use those options.\n\nChange-Id: I52891fe36c84d0df3e868ab4f3c8e2357e9ba529\n'}]",1,672554,b52a831f6b92daaba100e09299ec967679adf308,9,3,1,6873,,,0,"Mention compute service set --up|--down requires 2.11 or greater

This simply updates the docs for the compute service set --up
and --down options to mention that --os-compute-api-version 2.11
or greater is required to use those options.

Change-Id: I52891fe36c84d0df3e868ab4f3c8e2357e9ba529
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/54/672554/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/compute-service.rst', 'openstackclient/compute/v2/service.py']",2,b52a831f6b92daaba100e09299ec967679adf308,forced_down," help=_('Force up service. Requires ``--os-compute-api-version`` ' '2.11 or greater.'), help=_('Force down service. Requires ``--os-compute-api-version`` ' '2.11 or greater.'),"," help=_('Force up service'), help=_('Force down service'),",7,4
openstack%2Fpython-openstackclient~master~Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6,openstack/python-openstackclient,master,Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6,Support IPv6 addresses better,MERGED,2017-11-30 22:57:29.000000000,2019-08-01 21:54:02.000000000,2019-08-01 21:54:02.000000000,"[{'_account_id': 970}, {'_account_id': 1131}, {'_account_id': 6482}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 30105}]","[{'number': 1, 'created': '2017-11-30 22:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/17c8b2a32db478403810aaf29983da035abdb59b', 'message': 'Display IPv6 addresses better\n\nCurrently, the IPv6 ""any"" address is displayed as None\nin the ""IP Range"" column, change this to ""::/0"".\n\nAlso change to display the Ethertype column by default\ninstead of with --long, since easily knowing IPv4 or IPv6\nis useful.\n\nChange-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6\nCloses-bug: #1735575\n'}, {'number': 2, 'created': '2017-12-12 04:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/520ed0d2ead49c89ba881400db960591f45fe846', 'message': 'Support IPv6 addresses better\n\nWhen adding a security group rule, if no IP address is given\nwe will use \'0.0.0.0/0\', but if the ethertype is IPv6 we will\nleave it as None.  Change this to be \'::/0\' to match what we\ndo for IPv4 - use the ""any"" address.  The neutron server\ntreats them both the same when checking for duplicates.\n\nBecause there are most likely entries in the DB using None\nfor the IP, print them as \'0.0.0.0/0\' or \'::/0\' so it is more\nobvious what address they are actually referring to.\n\nAlso change to display the Ethertype column by default\ninstead of with --long, since easily knowing IPv4 or IPv6\nis useful.\n\nChange-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6\nCloses-bug: #1735575\n'}, {'number': 3, 'created': '2019-05-31 19:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/049094334b6ef8c979e7ebeee2f7816a06e3beaa', 'message': 'Support IPv6 addresses better\n\nWhen adding a security group rule, if no IP address is given\nwe will use \'0.0.0.0/0\', but if the ethertype is IPv6 we will\nleave it as None.  Change this to be \'::/0\' to match what we\ndo for IPv4 - use the ""any"" address.  The neutron server\ntreats them both the same when checking for duplicates.\n\nBecause there are most likely entries in the DB using None\nfor the IP, print them as \'0.0.0.0/0\' or \'::/0\' so it is more\nobvious what address they are actually referring to.\n\nAlso change to display the Ethertype column by default\ninstead of with --long, since easily knowing IPv4 or IPv6\nis useful.\n\nChange-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6\nCloses-bug: #1735575\n'}, {'number': 4, 'created': '2019-06-03 20:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a762de12561bc0924ec867c4de97114d8d3ea43d', 'message': 'Support IPv6 addresses better\n\nWhen adding a security group rule, if no IP address is given\nwe will use \'0.0.0.0/0\', but if the ethertype is IPv6 we will\nleave it as None.  Change this to be \'::/0\' to match what we\ndo for IPv4 - use the ""any"" address.  The neutron server\ntreats them both the same when checking for duplicates.\n\nBecause there are most likely entries in the DB using None\nfor the IP, print them as \'0.0.0.0/0\' or \'::/0\' so it is more\nobvious what address they are actually referring to.\n\nAlso change to display the Ethertype column by default\ninstead of with --long, since easily knowing IPv4 or IPv6\nis useful.\n\nChange-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6\nCloses-bug: #1735575\n'}, {'number': 5, 'created': '2019-06-05 18:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3b5aa4a02ae7ec1acef4da1f295ca36e84b08984', 'message': 'Support IPv6 addresses better\n\nWhen adding a security group rule, if no IP address is given\nwe will use \'0.0.0.0/0\', but if the ethertype is IPv6 we will\nleave it as None.  Change this to be \'::/0\' to match what we\ndo for IPv4 - use the ""any"" address.  The neutron server\ntreats them both the same when checking for duplicates.\n\nBecause there are most likely entries in the DB using None\nfor the IP, print them as \'0.0.0.0/0\' or \'::/0\' so it is more\nobvious what address they are actually referring to.\n\nAlso change to display the Ethertype column by default\ninstead of with --long, since easily knowing IPv4 or IPv6\nis useful.\n\nChange-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6\nCloses-bug: #1735575\n'}, {'number': 6, 'created': '2019-07-16 02:36:45.000000000', 'files': ['doc/source/cli/command-objects/security-group-rule.rst', 'openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_compute.py', 'releasenotes/notes/better-ipv6-address-suppport-security-group-rules-95272847349982e5.yaml', 'openstackclient/network/v2/security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/969e6abd20570ae64b3d1fd049da1521fa148b5c', 'message': 'Support IPv6 addresses better\n\nWhen adding a security group rule, if no IP address is given\nwe will use \'0.0.0.0/0\', but if the ethertype is IPv6 we will\nleave it as None.  Change this to be \'::/0\' to match what we\ndo for IPv4 - use the ""any"" address.  The neutron server\ntreats them both the same when checking for duplicates.\n\nBecause there are most likely entries in the DB using None\nfor the IP, print them as \'0.0.0.0/0\' or \'::/0\' so it is more\nobvious what address they are actually referring to.\n\nAlso change to display the Ethertype column by default\ninstead of with --long, since easily knowing IPv4 or IPv6\nis useful.\n\nChange-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6\nCloses-bug: #1735575\n'}]",0,524420,969e6abd20570ae64b3d1fd049da1521fa148b5c,36,7,6,1131,,,0,"Support IPv6 addresses better

When adding a security group rule, if no IP address is given
we will use '0.0.0.0/0', but if the ethertype is IPv6 we will
leave it as None.  Change this to be '::/0' to match what we
do for IPv4 - use the ""any"" address.  The neutron server
treats them both the same when checking for duplicates.

Because there are most likely entries in the DB using None
for the IP, print them as '0.0.0.0/0' or '::/0' so it is more
obvious what address they are actually referring to.

Also change to display the Ethertype column by default
instead of with --long, since easily knowing IPv4 or IPv6
is useful.

Change-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6
Closes-bug: #1735575
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/524420/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_compute.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/security_group_rule.py']",4,17c8b2a32db478403810aaf29983da035abdb59b,bug/1735575," ""default for IPv4 rule: 0.0.0.0/0), "" ""default for IPv6 rule: ::/0)""), parser.add_argument( '--ethertype', metavar='<ethertype>', choices=['IPv4', 'IPv6'], help=_(""Ethertype of network traffic "" ""(IPv4, IPv6; default: based on IP protocol)"") ) def _get_ethertype(self, parsed_args, protocol): ethertype = 'IPv4' if parsed_args.ethertype is not None: ethertype = parsed_args.ethertype elif self._is_ipv6_protocol(protocol): ethertype = 'IPv6' return ethertype attrs['ethertype'] = self._get_ethertype(parsed_args, attrs['protocol']) elif attrs['ethertype'] == 'IPv6': attrs['remote_ip_prefix'] = '::/0' ethertype = self._get_ethertype(parsed_args, protocol) elif ethertype == 'IPv6': remote_ip = '::/0' 'Ethertype', column_headers = column_headers + ('Direction',) 'ethertype', columns = columns + ('direction',) ""Ethertype"","," ""default for IPv4 rule: 0.0.0.0/0)""), if parsed_args.ethertype: attrs['ethertype'] = parsed_args.ethertype elif self._is_ipv6_protocol(attrs['protocol']): attrs['ethertype'] = 'IPv6' else: attrs['ethertype'] = 'IPv4' column_headers = column_headers + ('Direction', 'Ethertype',) columns = columns + ('direction', 'ether_type',)",68,37
openstack%2Fkeystone~master~I5de14b5bd2d96c2f78152eda48842d388109e02b,openstack/keystone,master,I5de14b5bd2d96c2f78152eda48842d388109e02b,Deprecate keystone.conf.memcache socket_timeout,MERGED,2019-07-25 05:56:02.000000000,2019-08-01 21:47:09.000000000,2019-08-01 21:47:09.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-25 05:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/914f6ef2a8a509ec48d0d83361d87d44edcf4f72', 'message': 'Deprecate keystone.conf.memcache socket_timeout\n\nChange-Id: I5de14b5bd2d96c2f78152eda48842d388109e02b\nCloses-Bug: #1837407\n'}, {'number': 2, 'created': '2019-07-26 11:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f46593d389c4a8d1c169cffac445a0aafcc53746', 'message': 'Deprecate keystone.conf.memcache socket_timeout\n\nChange-Id: I5de14b5bd2d96c2f78152eda48842d388109e02b\nCloses-Bug: #1837407\n'}, {'number': 3, 'created': '2019-08-01 04:08:55.000000000', 'files': ['keystone/conf/memcache.py', 'releasenotes/notes/deprecated-socket_timeout-option-d3358b4f2310706c.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4b747fa083ad09ae8ba92dadc63ac0b830c7e562', 'message': 'Deprecate keystone.conf.memcache socket_timeout\n\nChange-Id: I5de14b5bd2d96c2f78152eda48842d388109e02b\nPartial-Bug: #1838037\nCloses-Bug: #1837407\n'}]",7,672629,4b747fa083ad09ae8ba92dadc63ac0b830c7e562,17,5,3,19779,,,0,"Deprecate keystone.conf.memcache socket_timeout

Change-Id: I5de14b5bd2d96c2f78152eda48842d388109e02b
Partial-Bug: #1838037
Closes-Bug: #1837407
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/672629/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/memcache.py', 'releasenotes/notes/deprecated-socket_timeout-option-d3358b4f2310706c.yaml']",2,914f6ef2a8a509ec48d0d83361d87d44edcf4f72,bug/1838037,"--- deprecations: - | The timeout configuration option for memcache of Keystone's definition isn't actually used anywhere [0], it would appear to be a broken knob. In fact oslo.cache has a duplicate option that appears to be used instead [1]. We can deprecate the keystone-specific option and point people to the oslo.cache option. [0] https://opendev.org/openstack/keystone/src/commit/a0aa21c237f7b42077fc945f157844deb77be5ef/keystone/conf/memcache.py#L26-L32 [1] https://opendev.org/openstack/oslo.cache/src/commit/a5023ba2754dd537c802d4a59290ff6378bd6285/oslo_cache/_opts.py#L85-L89 ",,17,0
openstack%2Fnetworking-bgpvpn~master~I95fd291ef583145e8549650b870247d306da8b95,openstack/networking-bgpvpn,master,I95fd291ef583145e8549650b870247d306da8b95,Update api-ref location,MERGED,2019-07-22 18:55:00.000000000,2019-08-01 21:42:37.000000000,2019-08-01 21:42:37.000000000,"[{'_account_id': 55}, {'_account_id': 841}, {'_account_id': 12021}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-22 18:55:00.000000000', 'files': ['doc/source/user/drivers/opencontrail/index.rst', 'doc/source/user/api.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9ec426c0c5257735d7d6da6fda5fe508515d4dc8', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I95fd291ef583145e8549650b870247d306da8b95\n""}]",0,672137,9ec426c0c5257735d7d6da6fda5fe508515d4dc8,9,5,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I95fd291ef583145e8549650b870247d306da8b95
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/37/672137/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/drivers/opencontrail/index.rst', 'doc/source/user/api.rst']",2,9ec426c0c5257735d7d6da6fda5fe508515d4dc8,retire-api-site,This API is documented in the `Neutron API Reference <https://docs.openstack.org/api-ref/network/v2/#bgp-mpls-vpn-interconnection>`_.,This API is documented in the `Neutron API Reference <https://developer.openstack.org/api-ref/networking/v2/#bgp-mpls-vpn-interconnection>`_.,5,5
openstack%2Frequirements~master~I16496f325858094862d99b568dd01c0b65f8db2e,openstack/requirements,master,I16496f325858094862d99b568dd01c0b65f8db2e,update constraint for openstacksdk to new release 0.32.0,MERGED,2019-08-01 09:44:25.000000000,2019-08-01 21:32:20.000000000,2019-08-01 21:32:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 09:44:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e021ce6144933d0443eb6342ebe8accd9066daa9', 'message': 'update constraint for openstacksdk to new release 0.32.0\n\nChange-Id: I16496f325858094862d99b568dd01c0b65f8db2e\nmeta:version: 0.32.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+1: David Shrewsbury <dshrewsb@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,673987,e021ce6144933d0443eb6342ebe8accd9066daa9,6,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.32.0

Change-Id: I16496f325858094862d99b568dd01c0b65f8db2e
meta:version: 0.32.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+1: David Shrewsbury <dshrewsb@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/673987/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e021ce6144933d0443eb6342ebe8accd9066daa9,new-release,openstacksdk===0.32.0,openstacksdk===0.31.2,1,1
openstack%2Fneutron~master~I769a5a59926cc42dcf0cdda5964bd42c8a864a34,openstack/neutron,master,I769a5a59926cc42dcf0cdda5964bd42c8a864a34,use callback payloads for PROVISIONING_COMPLETE,MERGED,2019-07-31 15:18:23.000000000,2019-08-01 21:32:15.000000000,2019-08-01 21:32:14.000000000,"[{'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-31 15:18:23.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/provisioning_blocks.py', 'neutron/tests/unit/db/test_provisioning_blocks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e124f5b6478735d3bcd63305de69dd55ca90ac79', 'message': 'use callback payloads for PROVISIONING_COMPLETE\n\nThis patch switches over to callback payloads for PROVISIONING_COMPLETE\nevents.\n\nNeutronLibImpact\n\nChange-Id: I769a5a59926cc42dcf0cdda5964bd42c8a864a34\n'}]",0,673843,e124f5b6478735d3bcd63305de69dd55ca90ac79,13,9,1,5367,,,0,"use callback payloads for PROVISIONING_COMPLETE

This patch switches over to callback payloads for PROVISIONING_COMPLETE
events.

NeutronLibImpact

Change-Id: I769a5a59926cc42dcf0cdda5964bd42c8a864a34
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/673843/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/provisioning_blocks.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/db/test_provisioning_blocks.py']",4,e124f5b6478735d3bcd63305de69dd55ca90ac79,use-callback-payloads," payload=mock.ANY) payload = self.provisioned.mock_calls[0][2]['payload'] self.assertEqual(self.ctx, payload.context) self.assertEqual(port2.id, payload.resource_id)"," context=self.ctx, object_id=port2.id)",25,15
openstack%2Fneutron~stable%2Frocky~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/rocky,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-31 07:24:29.000000000,2019-08-01 21:32:05.000000000,2019-08-01 21:32:05.000000000,"[{'_account_id': 4694}, {'_account_id': 8150}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-31 07:24:29.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80389bb4ee8a9cd52401187b278e339c69d9f295', 'message': ""Retry trunk status updates failing with StaleDataError\n\nThis is an approximate partial fix to #1828375.\n\nupdate_trunk_status and update_subport_bindings rpc messages are\nprocessed concurrently and possibly out of order on the server side.\nTherefore they may race with each other.\n\nThe status update race combined with\n1) the versioning feature of sqlalchemy used in the standardattributes\n   table and\n2) the less than serializable isolation level of some DB backends (like\n   MySQL InnoDB)\ndoes raise StaleDataErrors and by that leaves some trunk subports in\nDOWN status.\n\nThis change retries the trunk status update (to BUILD) blindly when\nStaleDataError was caught. In my local testbed this practically\nfixes #1828375.\n\nHowever theoretically the retry may cover up other real errors (when the\ncause of the StaleDataError was a different status not just a different\nrevision count).\n\nTo the best of my understanding a proper fix would entail guaranteeing\nthe in order processing of the above rpc messages - which likely won't\never happen.\n\nI'm not sure at all if this change is worth merging - let me know what\nyou think.\n\nConflicts:\n    neutron/services/trunk/rpc/server.py\n    neutron/tests/unit/services/trunk/rpc/test_server.py\n\nChange-Id: Ie581809f24f9547b55a87423dac7db933862d66a\nPartial-Bug: #1828375\n(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)\n(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)\n""}]",0,673744,80389bb4ee8a9cd52401187b278e339c69d9f295,15,5,1,11975,,,0,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/673744/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,80389bb4ee8a9cd52401187b278e339c69d9f295,bug/1828375,"from sqlalchemy.orm import exc def test_udate_subport_bindings_staledataerror(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) port_data = {portbindings.HOST_ID: 'trunk_host_id'} self.core_plugin.update_port( self.context, parent_port['port']['id'], {'port': port_data}) subports = [] for vid in range(0, 3): with self.port() as new_port: new_port[portbindings.HOST_ID] = 'trunk_host_id' obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin self.mock_update_port.return_value = {portbindings.VIF_TYPE: portbindings.VIF_TYPE_BINDING_FAILED} mock_trunk_obj = mock.Mock(port_id=parent_port['port']['id']) mock_trunk_obj.update.side_effect = exc.StaleDataError with mock.patch.object( trunk_obj.Trunk, 'get_object', return_value=mock_trunk_obj): self.assertRaises( exc.StaleDataError, test_obj.update_subport_bindings, self.context, subports=subports) self.assertEqual(3, mock_trunk_obj.update.call_count) def test_udate_subport_bindings_noretryerror(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) port_data = {portbindings.HOST_ID: 'trunk_host_id'} self.core_plugin.update_port( self.context, parent_port['port']['id'], {'port': port_data}) subports = [] for vid in range(0, 3): with self.port() as new_port: new_port[portbindings.HOST_ID] = 'trunk_host_id' obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin self.mock_update_port.return_value = {portbindings.VIF_TYPE: portbindings.VIF_TYPE_BINDING_FAILED} mock_trunk_obj = mock.Mock(port_id=parent_port['port']['id']) mock_trunk_obj.update.side_effect = KeyError with mock.patch.object( trunk_obj.Trunk, 'get_object', return_value=mock_trunk_obj): self.assertRaises( KeyError, test_obj.update_subport_bindings, self.context, subports=subports) self.assertEqual(1, mock_trunk_obj.update.call_count) ",,95,5
openstack%2Fneutron~stable%2Fqueens~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/queens,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-31 07:24:46.000000000,2019-08-01 21:32:02.000000000,2019-08-01 21:32:02.000000000,"[{'_account_id': 4694}, {'_account_id': 8150}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-31 07:24:46.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/10191fd81706f302f2114c8a196d5e0a0cd1b5db', 'message': ""Retry trunk status updates failing with StaleDataError\n\nThis is an approximate partial fix to #1828375.\n\nupdate_trunk_status and update_subport_bindings rpc messages are\nprocessed concurrently and possibly out of order on the server side.\nTherefore they may race with each other.\n\nThe status update race combined with\n1) the versioning feature of sqlalchemy used in the standardattributes\n   table and\n2) the less than serializable isolation level of some DB backends (like\n   MySQL InnoDB)\ndoes raise StaleDataErrors and by that leaves some trunk subports in\nDOWN status.\n\nThis change retries the trunk status update (to BUILD) blindly when\nStaleDataError was caught. In my local testbed this practically\nfixes #1828375.\n\nHowever theoretically the retry may cover up other real errors (when the\ncause of the StaleDataError was a different status not just a different\nrevision count).\n\nTo the best of my understanding a proper fix would entail guaranteeing\nthe in order processing of the above rpc messages - which likely won't\never happen.\n\nI'm not sure at all if this change is worth merging - let me know what\nyou think.\n\nConflicts:\n    neutron/services/trunk/rpc/server.py\n    neutron/tests/unit/services/trunk/rpc/test_server.py\n\nChange-Id: Ie581809f24f9547b55a87423dac7db933862d66a\nPartial-Bug: #1828375\n(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)\n(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)\n""}]",0,673745,10191fd81706f302f2114c8a196d5e0a0cd1b5db,14,5,1,11975,,,0,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/673745/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,10191fd81706f302f2114c8a196d5e0a0cd1b5db,bug/1828375-stable/queens,"from sqlalchemy.orm import exc def test_udate_subport_bindings_staledataerror(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) port_data = {portbindings.HOST_ID: 'trunk_host_id'} self.core_plugin.update_port( self.context, parent_port['port']['id'], {'port': port_data}) subports = [] for vid in range(0, 3): with self.port() as new_port: new_port[portbindings.HOST_ID] = 'trunk_host_id' obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin self.mock_update_port.return_value = {portbindings.VIF_TYPE: portbindings.VIF_TYPE_BINDING_FAILED} mock_trunk_obj = mock.Mock(port_id=parent_port['port']['id']) mock_trunk_obj.update.side_effect = exc.StaleDataError with mock.patch.object( trunk_obj.Trunk, 'get_object', return_value=mock_trunk_obj): self.assertRaises( exc.StaleDataError, test_obj.update_subport_bindings, self.context, subports=subports) self.assertEqual(3, mock_trunk_obj.update.call_count) def test_udate_subport_bindings_noretryerror(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) port_data = {portbindings.HOST_ID: 'trunk_host_id'} self.core_plugin.update_port( self.context, parent_port['port']['id'], {'port': port_data}) subports = [] for vid in range(0, 3): with self.port() as new_port: new_port[portbindings.HOST_ID] = 'trunk_host_id' obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin self.mock_update_port.return_value = {portbindings.VIF_TYPE: portbindings.VIF_TYPE_BINDING_FAILED} mock_trunk_obj = mock.Mock(port_id=parent_port['port']['id']) mock_trunk_obj.update.side_effect = KeyError with mock.patch.object( trunk_obj.Trunk, 'get_object', return_value=mock_trunk_obj): self.assertRaises( KeyError, test_obj.update_subport_bindings, self.context, subports=subports) self.assertEqual(1, mock_trunk_obj.update.call_count) ",,95,5
openstack%2Fdevstack~stable%2Fpike~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/pike,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:45:44.000000000,2019-08-01 21:32:00.000000000,2019-08-01 21:32:00.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 07:45:44.000000000', 'files': ['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a16a376a5b747096799bab2aea8510f21c8cb06', 'message': 'zuul: new variable to easily populate TEMPEST_PLUGINS\n\nTEMPEST_PLUGINS contains the list of the tempest plugins installed\nalongside tempest by lib/tempest.\nIf TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins\nvariable is used to fill it by combining its items with\nthe base devstack path.\n\nChange-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4\n(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)\n'}]",0,673433,5a16a376a5b747096799bab2aea8510f21c8cb06,19,3,1,10459,,,0,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/33/673433/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/write-devstack-local-conf/library/devstack_local_conf.py', 'roles/write-devstack-local-conf/library/test.py', 'roles/write-devstack-local-conf/tasks/main.yaml', 'roles/write-devstack-local-conf/README.rst']",4,5a16a376a5b747096799bab2aea8510f21c8cb06,," .. zuul:rolevar:: tempest_plugins :type: list A list of tempest plugins which are installed alongside tempest. The list of values will be combined with the base devstack directory and used to populate the ``TEMPEST_PLUGINS`` variable. If the variable already exists, its value is *not* changed.",,94,42
openstack%2Fnova~stable%2Frocky~I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,openstack/nova,stable/rocky,I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,Avoid crashing while getting libvirt capabilities with unknown arch names,MERGED,2019-07-25 14:35:08.000000000,2019-08-01 21:31:54.000000000,2019-08-01 21:31:54.000000000,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-25 14:35:08.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b86a9caccb37c1800f3b5e6f4b29218a7539479', 'message': ""Avoid crashing while getting libvirt capabilities with unknown arch names\n\nIn _get_instance_capabilities() we get a list of host capabilities and then\nbuild a list of arches supported by the virt type of an instance to arrive\nat the list of possibilities for the instance. We check each of those\nagainst our enum, but fail to gracefully skip unsupported values should we\nencounter one.\n\nThis patch makes that graceful, and also introduces an unsupported arch to\nthe test stub to make sure we always skip it. Note that we do not warn\nbecause this happens once per instance in a periodic task, and since the\nsituation is caused by a (somewhat permanent) mismatch of libvirt and\nnova version support, isn't something that needs to be remedied by an\noperator.\n\nCloses-Bug: #1820125\nChange-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4\n(cherry picked from commit 71df650d0a390d2b6b19928db4379e723e9f5cde)\n""}]",0,672746,2b86a9caccb37c1800f3b5e6f4b29218a7539479,10,6,1,6873,,,0,"Avoid crashing while getting libvirt capabilities with unknown arch names

In _get_instance_capabilities() we get a list of host capabilities and then
build a list of arches supported by the virt type of an instance to arrive
at the list of possibilities for the instance. We check each of those
against our enum, but fail to gracefully skip unsupported values should we
encounter one.

This patch makes that graceful, and also introduces an unsupported arch to
the test stub to make sure we always skip it. Note that we do not warn
because this happens once per instance in a periodic task, and since the
situation is caused by a (somewhat permanent) mismatch of libvirt and
nova version support, isn't something that needs to be remedied by an
operator.

Closes-Bug: #1820125
Change-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4
(cherry picked from commit 71df650d0a390d2b6b19928db4379e723e9f5cde)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/672746/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2b86a9caccb37c1800f3b5e6f4b29218a7539479,bug/1195361, # Include one that is not known to nova to make sure it # does not trip us up. guest = vconfig.LibvirtConfigGuest() guest.ostype = 'hvm' guest.arch = 'itanic' guest.domtype = ['kvm'] caps.guests.append(guest) ,,19,5
openstack%2Fnova~stable%2Frocky~Id14993db6ea33b2da14caa4b58671fc57c182706,openstack/nova,stable/rocky,Id14993db6ea33b2da14caa4b58671fc57c182706,Fix type error on call to mount device,MERGED,2019-07-08 13:25:40.000000000,2019-08-01 21:31:47.000000000,2019-08-01 21:31:47.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 19490}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-08 13:25:40.000000000', 'files': ['nova/virt/disk/mount/api.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3cd1d9baa74181cbac1765291ad67654b35721d', 'message': 'Fix type error on call to mount device\n\nThe call in nova.virt.disk.mount.api.Mount.mnt_dev() to\nnova.privsep.fs.mount() should include the `options` argument to\nfulfill with the method signature.\n\nThe test test_do_mount_need_to_specify_fs_type has been modified to\ncheck that the caller use the correct signature.\n\nCloses-Bug: 1829506\n\nChange-Id: Id14993db6ea33b2da14caa4b58671fc57c182706\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n(cherry picked from commit d2ef1ce309c28a5416af4cc00662ad6925574004)\n(cherry picked from commit 8371073ac7a3439ea5b6ce9091a91e77cf88020e)\n'}]",0,669664,e3cd1d9baa74181cbac1765291ad67654b35721d,12,7,1,6873,,,0,"Fix type error on call to mount device

The call in nova.virt.disk.mount.api.Mount.mnt_dev() to
nova.privsep.fs.mount() should include the `options` argument to
fulfill with the method signature.

The test test_do_mount_need_to_specify_fs_type has been modified to
check that the caller use the correct signature.

Closes-Bug: 1829506

Change-Id: Id14993db6ea33b2da14caa4b58671fc57c182706
Signed-off-by: Miguel Herranz <miguel@midokura.com>
(cherry picked from commit d2ef1ce309c28a5416af4cc00662ad6925574004)
(cherry picked from commit 8371073ac7a3439ea5b6ce9091a91e77cf88020e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/669664/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/disk/mount/api.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py']",2,e3cd1d9baa74181cbac1765291ad67654b35721d,bug/1829506," mock_mount.assert_called_once_with( None, None, tempdir, None)",,3,1
openstack%2Fnova~stable%2Frocky~I58a4038b04d5a9c28927d914e71609e4deea3d9f,openstack/nova,stable/rocky,I58a4038b04d5a9c28927d914e71609e4deea3d9f,libvirt: move checking CONF.my_ip to init_host(),MERGED,2019-07-22 19:47:43.000000000,2019-08-01 21:31:38.000000000,2019-08-01 21:31:38.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-22 19:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d9376f46395df70b08bb6d7558bf264243dfd8e', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nNOTE(artom) While the following paragraph still applies, the poison\npatch will not be backported. Stubbing out use of\nnetiface.interfaces() is still a good thing to do, however.\n\nThis patch also has a chicken and egg problem with the patch on top of\nit, which poisons use of netifaces.interfaces() in tests. While this\npatch fixes all the tests that break with that poison, it starts\nbreaking different tests because of the move of get_machine_ips() into\ninit_host(). Therefore, while not directly related to the bug, this\npatch also preventatively mocks or stubs out any use of\nget_machine_ips() that will get poisoned with the subsequent patch.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)\n(cherry picked from commit 5da3f6cede32005336b5ec0d152f32b5da374728)\n""}, {'number': 2, 'created': '2019-07-22 19:49:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/65d2e455e323a627ef228ed57a1f0c86d8252665', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nNOTE(artom) While the following paragraph still applies, the poison\npatch will not be backported. Stubbing out use of\nnetifaces.interfaces() is still a good thing to do, however.\n\nThis patch also has a chicken and egg problem with the patch on top of\nit, which poisons use of netifaces.interfaces() in tests. While this\npatch fixes all the tests that break with that poison, it starts\nbreaking different tests because of the move of get_machine_ips() into\ninit_host(). Therefore, while not directly related to the bug, this\npatch also preventatively mocks or stubs out any use of\nget_machine_ips() that will get poisoned with the subsequent patch.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)\n(cherry picked from commit 560317c766afc4a4c4c5017ecfc9ce432fe63ea7)\n""}]",0,672155,65d2e455e323a627ef228ed57a1f0c86d8252665,13,6,2,8864,,,0,"libvirt: move checking CONF.my_ip to init_host()

Migrations use the libvirt driver's get_host_ip_addr() method to
determine the dest_host field of the migration object.
get_host_ip_addr() checks whether CONF.my_ip is actually assigned to
one of the host's interfaces. It does so by calling
get_machine_ips(), which iterates over all of the host's interfaces.
If the host has many interfaces, this can take a long time, and
introduces needless delays in processing the migration.
get_machine_ips() is only used to print a warning, so this patch moves
the get_machine_ips() call to a single method in init_host(). This
way, a warning is still emitted at compute service startup, and
migration progress is not needlessly slowed down.

NOTE(artom) While the following paragraph still applies, the poison
patch will not be backported. Stubbing out use of
netifaces.interfaces() is still a good thing to do, however.

This patch also has a chicken and egg problem with the patch on top of
it, which poisons use of netifaces.interfaces() in tests. While this
patch fixes all the tests that break with that poison, it starts
breaking different tests because of the move of get_machine_ips() into
init_host(). Therefore, while not directly related to the bug, this
patch also preventatively mocks or stubs out any use of
get_machine_ips() that will get poisoned with the subsequent patch.

Closes-bug: 1837075
Change-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f
(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)
(cherry picked from commit 560317c766afc4a4c4c5017ecfc9ce432fe63ea7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/672155/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,2d9376f46395df70b08bb6d7558bf264243dfd8e,bug/1837075," self.stub_out('nova.compute.utils.get_machine_ips', lambda: []) def test_check_my_ip(self, mock_ips, mock_log): drvr._check_my_ip() def test_init_host_checks_ip(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) with mock.patch.object(drvr, '_check_my_ip') as mock_check: drvr.init_host('fake-host') mock_check.assert_called_once_with() @mock.patch('nova.compute.utils.get_machine_ips', new=mock.Mock(return_value=[]))"," def test_get_host_ip_addr_failure(self, mock_ips, mock_log): drvr.get_host_ip_addr()",24,7
openstack%2Fnova~stable%2Frocky~I51673e58fc8d5f051df911630f6d7a928d123a5b,openstack/nova,stable/rocky,I51673e58fc8d5f051df911630f6d7a928d123a5b,Revert resize: wait for events according to hybrid plug,MERGED,2019-07-12 20:22:09.000000000,2019-08-01 21:31:31.000000000,2019-08-01 21:31:30.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-12 20:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e22e19653a5fc67ceab651f221fca0325f26cdb', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\n(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)\nConflicts in nova/tests/unit/objects/test_migration.py due to\n1cf3da87027d87251920c2df665b850abb31178e\'s addition of\ntest_obj_make_compatible() and test_get_by_uuid().\n\n(cherry picked from commit e34d0fee85b486ac282ffd6d155666e62890b2bf)\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 2, 'created': '2019-07-12 23:24:00.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9892abd2f096c05a2885a4902128941a24f5670', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\n(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)\nConflicts in nova/tests/unit/objects/test_migration.py due to\n1cf3da87027d87251920c2df665b850abb31178e\'s addition of\ntest_obj_make_compatible() and test_get_by_uuid().\n\n(cherry picked from commit 7a3a8f325ef6eaa97de1cf74efbaa0079f61a9e6)\nNOTE(artom) uuidsentinel was moved to oslo_utils.fixture in Stein, in\nRocky it was still in nova.tests.\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}]",0,670648,d9892abd2f096c05a2885a4902128941a24f5670,16,5,2,8864,,,0,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

For same host resize reverts we do not update the binding host as the
host does not change, as such for same host resize we do not receive
bind time events. For same host revert we therefore do not wait for
bind time events in the compute manager.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)
Conflicts in nova/tests/unit/objects/test_migration.py due to
1cf3da87027d87251920c2df665b850abb31178e's addition of
test_obj_make_compatible() and test_get_by_uuid().

(cherry picked from commit 7a3a8f325ef6eaa97de1cf74efbaa0079f61a9e6)
NOTE(artom) uuidsentinel was moved to oslo_utils.fixture in Stein, in
Rocky it was still in nova.tests.

Closes-bug: #1832028
Closes-Bug: #1833902
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Change-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/670648/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",9,7e22e19653a5fc67ceab651f221fca0325f26cdb,bug/1832028," power_on=True, events=None): events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and utils.is_neutron() and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) def _test_finish_revert_migration(self, power_on, migration): vifs_already_plugged=None, external_events=None): self.assertEqual(self.events_passed_to_fake_create, external_events) ins_ref.migration_context = objects.MigrationContext( migration_id=migration.id) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_vif), network_model.VIF(id=uuids.hybrid_vif, details={'ovs_hybrid_plug': True})]) if migration.is_same_host(): # Same host is all plug-time self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif), ('network-vif-plugged', uuids.hybrid_vif)] else: # For different host migration only non-hybrid plug # (""normal"") VIFs ""emit"" plug-time events. self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif)] with mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration) as mock_get_mig: self.drvr.finish_revert_migration( context.get_admin_context(), ins_ref, network_info, None, power_on) mock_get_mig.assert_called_with(mock.ANY, migration.id, ins_ref.uuid) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=False, migration=migration) def test_finish_revert_migration_same_host(self): migration = objects.Migration(id=42, source_compute='fake-host', dest_compute='fake-host') self._test_finish_revert_migration(power_on=True, migration=migration) def test_finish_revert_migration_diff_host(self): migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration) ins_ref.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration) mock_rmtree, mock_looping_call, mock_get_mig): drvr.finish_revert_migration(context, ins_ref, network_model.NetworkInfo()) mock_get_mig.assert_called_with(mock.ANY, 42, ins_ref.uuid) instance.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') side_effect=fake_get_guest_xml), mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration) ) as (mock_img_bkend, mock_cdan, mock_gifsm, mock_ggxml, mock_get_mig): drvr.finish_revert_migration('', instance, network_model.NetworkInfo(), power_on=False) mock_get_mig.assert_called_with(mock.ANY, 42, instance.uuid) ins_ref.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') mock.patch.object(drvr, '_get_guest_xml'), mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration)) as ( mock_image, mock_cdn, mock_ggx, mock_get_mig): drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) mock_get_mig.assert_called_with(mock.ANY, 42, ins_ref.uuid) ins_ref.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') mock.patch.object(drvr, '_get_guest_xml'), mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration)) as ( mock_rbd, mock_image, mock_cdn, mock_ggx, mock_get_mig): drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) mock_get_mig.assert_called_with(mock.ANY, 42, ins_ref.uuid)"," power_on=True): power_on=power_on) if utils.is_neutron() and CONF.vif_plugging_timeout and power_on: def _test_finish_revert_migration(self, power_on): vifs_already_plugged=None): self.drvr.finish_revert_migration( context.get_admin_context(), ins_ref, [], None, power_on) self._test_finish_revert_migration(True) self._test_finish_revert_migration(False) mock_rmtree, mock_looping_call): drvr.finish_revert_migration(context, ins_ref, []) side_effect=fake_get_guest_xml)): drvr.finish_revert_migration('', instance, None, power_on=False) mock.patch.object(drvr, '_get_guest_xml')) as ( mock_image, mock_cdn, mock_ggx): drvr.finish_revert_migration('', ins_ref, None, power_on=False) mock.patch.object(drvr, '_get_guest_xml')) as ( mock_rbd, mock_image, mock_cdn, mock_ggx): drvr.finish_revert_migration('', ins_ref, None, power_on=False)",352,44
openstack%2Foctavia~master~I9bdd6f2913c0da2b0772b4b694309ef993289360,openstack/octavia,master,I9bdd6f2913c0da2b0772b4b694309ef993289360,Add failover logging to show the amphora details.,MERGED,2019-06-25 09:52:00.000000000,2019-08-01 21:30:29.000000000,2019-08-01 21:30:29.000000000,"[{'_account_id': 6469}, {'_account_id': 9057}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-06-25 09:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9aabc241c73258a195d2e31cd6a6f0651cbfe817', 'message': ""Add failover logging to show the amphora details.\n\nWhen failover occurs, Octavia health-manager doesn't log any\ninformation about the loadbalancer.  Due to this, operators can't\nspecify which loadbalancer got failed and which user was affected\nby the failover.\n\nThis commit fix this issue by logging not only amphora_id but also\nthe linking information (e.g. loadbalancer_id, compute_id, ..).\n\nChange-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360\nTask: 34312\nStory: 2005947\n""}, {'number': 2, 'created': '2019-06-26 03:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a086bd3ee5008e832341cfaad42a9bdf1d69e136', 'message': ""Add failover logging to show the amphora details.\n\nWhen failover occurs, Octavia health-manager doesn't log any\ninformation about the loadbalancer.  Due to this, operators can't\nspecify which loadbalancer got failed and which user was affected\nby the failover.\n\nThis commit fix this issue by logging not only amphora_id but also\nthe linking information (e.g. loadbalancer_id, compute_id, ..).\n\nChange-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360\nTask: 34312\nStory: 2005947\n""}, {'number': 3, 'created': '2019-07-03 23:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b90a1aa36368031bac77e748b1224b753aba2035', 'message': ""Add failover logging to show the amphora details.\n\nWhen failover occurs, Octavia health-manager doesn't log any\ninformation about the loadbalancer.  Due to this, operators can't\nspecify which loadbalancer got failed and which user was affected\nby the failover.\n\nThis commit fix this issue by logging not only amphora_id but also\nthe linking information (e.g. loadbalancer_id, compute_id, ..).\n\nChange-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360\nTask: 34312\nStory: 2005947\n""}, {'number': 4, 'created': '2019-07-11 03:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/10f7b1eda2954a8cb39e848e67e146abf2722fd0', 'message': ""Add failover logging to show the amphora details.\n\nWhen failover occurs, Octavia health-manager doesn't log any\ninformation about the loadbalancer.  Due to this, operators can't\nspecify which loadbalancer got failed and which user was affected\nby the failover.\n\nThis commit fix this issue by logging not only amphora_id but also\nthe linking information (e.g. loadbalancer_id, compute_id, ..)\nwhen performing/completed the failover.\n\nChange-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360\nTask: 34312\nStory: 2005947\n""}, {'number': 5, 'created': '2019-07-29 03:15:22.000000000', 'files': ['octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/93e06a9239a0f4b2bcdcdca9e13e800e75b1f237', 'message': ""Add failover logging to show the amphora details.\n\nWhen failover occurs, Octavia health-manager doesn't log any\ninformation about the loadbalancer.  Due to this, operators can't\nspecify which loadbalancer got failed and which user was affected\nby the failover.\n\nThis commit fix this issue by logging not only amphora_id but also\nthe linking information (e.g. loadbalancer_id, compute_id, ..)\nwhen performing/completed the failover.\n\nChange-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360\nTask: 34312\nStory: 2005947\n""}]",6,667316,93e06a9239a0f4b2bcdcdca9e13e800e75b1f237,42,8,5,9057,,,0,"Add failover logging to show the amphora details.

When failover occurs, Octavia health-manager doesn't log any
information about the loadbalancer.  Due to this, operators can't
specify which loadbalancer got failed and which user was affected
by the failover.

This commit fix this issue by logging not only amphora_id but also
the linking information (e.g. loadbalancer_id, compute_id, ..)
when performing/completed the failover.

Change-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360
Task: 34312
Story: 2005947
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/667316/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",2,9aabc241c73258a195d2e31cd6a6f0651cbfe817,bug/2005947," LOG.info(""Perform failover for an amphora: %s"", { 'id': amphora_id, 'load_balancer_id': amp.load_balancer_id, 'lb_network_ip': amp.lb_network_ip, 'compute_id': amp.compute_id, 'role': amp.role })",,16,0
openstack%2Freleases~master~I608e09d219379e00cca15c5ff165bb63aecfe9f2,openstack/releases,master,I608e09d219379e00cca15c5ff165bb63aecfe9f2,Raise YAML compliance to 1.2,MERGED,2019-07-08 19:33:57.000000000,2019-08-01 20:49:25.000000000,2019-08-01 20:49:25.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 19:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3358e697113c6c89aa5a1a3b11f2fb264412a154', 'message': ""Raise YAML compliance to 1.2\n\nThe YAML 1.2 spec was released in 2009. It's probably been enough time\nthat it's safe to move to it.\n\nThe only issue for out YAML usage was 1.2 dropped the use of Yes, No, On,\nand Off as valid boolean values.\n\nChange-Id: I608e09d219379e00cca15c5ff165bb63aecfe9f2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2019-07-10 16:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/75c3a690f8e580ccf9bb988fcedd51661c33e969', 'message': ""Raise YAML compliance to 1.2\n\nThe YAML 1.2 spec was released in 2009. It's probably been enough time\nthat it's safe to move to it.\n\nThe only issue for out YAML usage was 1.2 dropped the use of Yes, No, On,\nand Off as valid boolean values.\n\nChange-Id: I608e09d219379e00cca15c5ff165bb63aecfe9f2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 3, 'created': '2019-07-31 14:34:46.000000000', 'files': ['deliverables/queens/python-neutronclient.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/queens/oslo.policy.yaml', 'deliverables/newton/python-designateclient.yaml', 'deliverables/rocky/oslo.messaging.yaml', 'deliverables/ocata/oslo.privsep.yaml', 'deliverables/rocky/oslo.cache.yaml', 'deliverables/train/neutron-lib.yaml', 'deliverables/stein/oslo.serialization.yaml', 'deliverables/stein/networking-odl.yaml', 'deliverables/stein/python-magnumclient.yaml', 'deliverables/stein/solum-tempest-plugin.yaml', 'deliverables/mitaka/python-ironic-inspector-client.yaml', 'deliverables/pike/requirements.yaml', 'deliverables/mitaka/oslo.versionedobjects.yaml', 'deliverables/queens/python-designateclient.yaml', 'deliverables/queens/tricircle.yaml', 'deliverables/ocata/ironic-lib.yaml', 'deliverables/pike/python-octaviaclient.yaml', 'deliverables/mitaka/tempest.yaml', 'deliverables/pike/tosca-parser.yaml', 'deliverables/rocky/mistral-tempest-plugin.yaml', 'deliverables/rocky/vitrage-tempest-plugin.yaml', 'deliverables/stein/mox3.yaml', 'deliverables/stein/python-manilaclient.yaml', 'deliverables/newton/oslo.utils.yaml', 'deliverables/stein/barbican-tempest-plugin.yaml', 'deliverables/train/python-cyborgclient.yaml', 'deliverables/pike/osprofiler.yaml', 'deliverables/stein/python-brick-cinderclient-ext.yaml', 'deliverables/stein/python-cloudkittyclient.yaml', 'deliverables/ocata/os-vif.yaml', 'deliverables/stein/oslo.utils.yaml', 'deliverables/queens/python-searchlightclient.yaml', 'deliverables/rocky/networking-baremetal.yaml', 'deliverables/train/congress-tempest-plugin.yaml', 'deliverables/rocky/python-monascaclient.yaml', 'deliverables/newton/requirements.yaml', 'deliverables/newton/python-zaqarclient.yaml', 'deliverables/stein/tempest.yaml', 'deliverables/rocky/os-traits.yaml', 'deliverables/pike/neutron-lib.yaml', 'deliverables/train/oslo.serialization.yaml', 'deliverables/train/taskflow.yaml', 'deliverables/ocata/octavia.yaml', 'deliverables/rocky/neutron-lib.yaml', 'deliverables/liberty/vmware-nsx.yaml', 'deliverables/ocata/python-novaclient.yaml', 'deliverables/rocky/keystoneauth.yaml', 'deliverables/train/octavia-tempest-plugin.yaml', 'deliverables/train/oslotest.yaml', 'deliverables/train/ironic-tempest-plugin.yaml', 'deliverables/_independent/os-service-types.yaml', 'deliverables/_independent/requestsexceptions.yaml', 'deliverables/newton/oslo.serialization.yaml', 'deliverables/ocata/cloudkitty-dashboard.yaml', 'deliverables/newton/pycadf.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/queens/requirements.yaml', 'deliverables/pike/python-saharaclient.yaml', 'deliverables/stein/ceilometermiddleware.yaml', 'deliverables/queens/python-brick-cinderclient-ext.yaml', 'deliverables/rocky/designate-tempest-plugin.yaml', 'deliverables/stein/python-glanceclient.yaml', 'deliverables/stein/python-zaqarclient.yaml', 'deliverables/_independent/openstackclient.yaml', 'deliverables/queens/ironic-lib.yaml', 'deliverables/rocky/networking-generic-switch-tempest-plugin.yaml', 'deliverables/stein/oslo.concurrency.yaml', 'deliverables/train/python-heatclient.yaml', 'deliverables/stein/oslo.db.yaml', 'deliverables/stein/python-saharaclient.yaml', 'deliverables/rocky/networking-sfc.yaml', 'deliverables/newton/oslo.messaging.yaml', 'deliverables/liberty/python-ironicclient.yaml', 'deliverables/stein/python-ironic-inspector-client.yaml', 'deliverables/stein/python-swiftclient.yaml', 'deliverables/rocky/watcher-tempest-plugin.yaml', 'deliverables/pike/heat-translator.yaml', 'deliverables/stein/neutron-lib.yaml', 'deliverables/rocky/cinder-tempest-plugin.yaml', 'deliverables/rocky/requirements.yaml', 'deliverables/rocky/oslo.serialization.yaml', 'deliverables/rocky/python-aodhclient.yaml', 'deliverables/queens/mistral.yaml', 'deliverables/queens/osc-placement.yaml', 'deliverables/_independent/eslint-config-openstack.yaml', 'deliverables/stein/networking-ovn.yaml', 'deliverables/pike/os-vif.yaml', 'deliverables/train/zun-tempest-plugin.yaml', 'deliverables/stein/cloudkitty.yaml', 'deliverables/stein/python-congressclient.yaml', 'deliverables/pike/python-zaqarclient.yaml', 'deliverables/mitaka/oslo.serialization.yaml', 'deliverables/queens/networking-baremetal.yaml', 'deliverables/mitaka/oslo.messaging.yaml', 'deliverables/newton/python-muranoclient.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/stein/pycadf.yaml', 'deliverables/newton/ceilometermiddleware.yaml', 'deliverables/newton/python-swiftclient.yaml', 'deliverables/pike/os-client-config.yaml', 'deliverables/mitaka/oslo.db.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/stein/oslo.vmware.yaml', 'deliverables/newton/oslo.middleware.yaml', 'deliverables/ocata/python-designateclient.yaml', 'deliverables/train/oslo.log.yaml', 'deliverables/stein/openstacksdk.yaml', 'deliverables/newton/django_openstack_auth.yaml', 'deliverables/train/shade.yaml', 'deliverables/pike/python-manilaclient.yaml', 'deliverables/newton/oslo.concurrency.yaml', 'deliverables/queens/os-client-config.yaml', 'deliverables/_independent/neutron-lbaas-dashboard.yaml', 'deliverables/rocky/kuryr-tempest-plugin.yaml', 'deliverables/_independent/reno.yaml', 'deliverables/stein/python-qinlingclient.yaml', 'deliverables/_independent/syntribos.yaml', 'deliverables/mitaka/python-cloudkittyclient.yaml', 'deliverables/train/python-cinderclient.yaml', 'deliverables/_independent/tosca-parser.yaml', 'deliverables/queens/debtcollector.yaml', 'deliverables/rocky/neutron-tempest-plugin.yaml', 'deliverables/train/oslo.config.yaml', 'deliverables/mitaka/oslotest.yaml', 'deliverables/stein/ironic-lib.yaml', 'deliverables/stein/osc-placement.yaml', 'deliverables/stein/keystone-tempest-plugin.yaml', 'deliverables/stein/oslo.versionedobjects.yaml', 'deliverables/queens/futurist.yaml', 'deliverables/newton/keystoneauth.yaml', 'deliverables/stein/python-muranoclient.yaml', 'deliverables/newton/python-magnumclient.yaml', 'deliverables/rocky/python-swiftclient.yaml', 'deliverables/queens/neutron-lbaas-dashboard.yaml', 'deliverables/rocky/oslotest.yaml', 'deliverables/queens/ceilometermiddleware.yaml', 'deliverables/rocky/ec2api-tempest-plugin.yaml', 'deliverables/pike/keystoneauth.yaml', 'deliverables/train/octavia-dashboard.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/train/requirements.yaml', 'deliverables/stein/os-brick.yaml', 'deliverables/ocata/python-watcherclient.yaml', 'deliverables/stein/octavia-tempest-plugin.yaml', 'deliverables/train/os-client-config.yaml', 'deliverables/liberty/requirements.yaml', 'deliverables/train/mox3.yaml', 'deliverables/train/oslo.db.yaml', 'deliverables/juno/requirements.yaml', 'deliverables/pike/networking-bgpvpn.yaml', 'deliverables/pike/python-ironicclient.yaml', 'deliverables/queens/python-swiftclient.yaml', 'deliverables/rocky/octavia-dashboard.yaml', 'deliverables/rocky/neutron-lbaas-dashboard.yaml', 'deliverables/_independent/xstatic-magic-search.yaml', 'deliverables/train/oslo.limit.yaml', 'deliverables/stein/neutron-tempest-plugin.yaml', 'deliverables/stein/os-client-config.yaml', 'deliverables/stein/networking-baremetal.yaml', 'deliverables/stein/oslo.privsep.yaml', 'deliverables/queens/oslotest.yaml', 'deliverables/mitaka/debtcollector.yaml', 'deliverables/ocata/cloudkitty.yaml', 'deliverables/ocata/oslo.serialization.yaml', 'deliverables/train/heat-translator.yaml', 'deliverables/newton/python-manilaclient.yaml', 'deliverables/queens/oslo.middleware.yaml', 'deliverables/queens/tooz.yaml', 'deliverables/rocky/python-keystoneclient.yaml', 'deliverables/rocky/murano-tempest-plugin.yaml', 'deliverables/newton/octavia.yaml', 'deliverables/newton/python-ceilometerclient.yaml', 'deliverables/newton/python-vitrageclient.yaml', 'deliverables/rocky/taskflow.yaml', 'deliverables/mitaka/ironic-ui.yaml', 'deliverables/ocata/futurist.yaml', 'deliverables/rocky/blazar-tempest-plugin.yaml', 'deliverables/queens/networking-odl.yaml', 'deliverables/newton/python-senlinclient.yaml', 'deliverables/stein/cinder-tempest-plugin.yaml', 'deliverables/pike/python-mistralclient.yaml', 'deliverables/rocky/python-blazarclient.yaml', 'deliverables/rocky/oslo.vmware.yaml', 'deliverables/queens/taskflow.yaml', 'deliverables/newton/oslo.rootwrap.yaml', 'deliverables/ocata/glance.yaml', 'deliverables/rocky/oslo.i18n.yaml', 'deliverables/_independent/karma-subunit-reporter.yaml', 'deliverables/ocata/django_openstack_auth.yaml', 'deliverables/train/networking-sfc.yaml', 'deliverables/mitaka/oslo.privsep.yaml', 'deliverables/pike/cloudkitty-dashboard.yaml', 'deliverables/rocky/osc-placement.yaml', 'deliverables/rocky/tosca-parser.yaml', 'deliverables/pike/python-novaclient.yaml', 'deliverables/rocky/tooz.yaml', 'deliverables/stein/python-cinderclient.yaml', 'deliverables/newton/stevedore.yaml', 'deliverables/queens/oslo.db.yaml', 'deliverables/newton/tooz.yaml', 'deliverables/rocky/oslo.versionedobjects.yaml', 'deliverables/queens/python-monascaclient.yaml', 'deliverables/train/oslo.vmware.yaml', 'deliverables/queens/networking-bgpvpn.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/train/tosca-parser.yaml', 'deliverables/_independent/python-wsmanclient.yaml', 'deliverables/ocata/automaton.yaml', 'deliverables/train/heat-tempest-plugin.yaml', 'deliverables/queens/tempest.yaml', 'deliverables/train/glance.yaml', 'deliverables/train/python-zaqarclient.yaml', 'deliverables/train/python-vitrageclient.yaml', 'deliverables/rocky/octavia.yaml', 'deliverables/stein/kuryr-tempest-plugin.yaml', 'deliverables/rocky/python-ironic-inspector-client.yaml', 'deliverables/pike/python-brick-cinderclient-ext.yaml', 'deliverables/pike/python-glanceclient.yaml', 'deliverables/queens/tosca-parser.yaml', 'deliverables/newton/python-tackerclient.yaml', 'deliverables/rocky/python-neutronclient.yaml', 'deliverables/mitaka/oslo.i18n.yaml', 'deliverables/newton/os-vif.yaml', 'deliverables/train/networking-baremetal.yaml', 'deliverables/mitaka/mox3.yaml', 'deliverables/train/mistral-lib.yaml', 'deliverables/queens/glance-store.yaml', 'deliverables/train/osprofiler.yaml', 'deliverables/queens/python-pankoclient.yaml', 'deliverables/queens/python-heatclient.yaml', 'deliverables/stein/designate.yaml', 'deliverables/mitaka/python-openstackclient.yaml', 'deliverables/train/os-acc.yaml', 'deliverables/pike/os-brick.yaml', 'deliverables/mitaka/python-keystoneclient.yaml', 'deliverables/rocky/tempest-tripleo-ui.yaml', 'deliverables/_independent/designate-tempest-plugin.yaml', 'deliverables/ocata/python-tackerclient.yaml', 'deliverables/ocata/tricircle.yaml', 'deliverables/ocata/debtcollector.yaml', 'deliverables/rocky/osprofiler.yaml', 'deliverables/ocata/oslo.cache.yaml', 'deliverables/train/tricircle.yaml', 'deliverables/queens/mox3.yaml', 'deliverables/ocata/oslo.context.yaml', 'deliverables/queens/python-novaclient.yaml', 'deliverables/newton/tempest.yaml', 'deliverables/stein/glance-store.yaml', 'deliverables/pike/networking-hyperv.yaml', 'deliverables/train/python-glanceclient.yaml', 'deliverables/rocky/python-tackerclient.yaml', 'deliverables/newton/networking-ovn.yaml', 'deliverables/pike/python-zunclient.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/stein/python-ironicclient.yaml', 'deliverables/newton/python-monascaclient.yaml', 'deliverables/train/searchlight-ui.yaml', 'deliverables/train/futurist.yaml', 'deliverables/_independent/cinderlib.yaml', 'deliverables/train/python-octaviaclient.yaml', 'deliverables/ocata/oslo.config.yaml', 'deliverables/queens/python-ironicclient.yaml', 'deliverables/_independent/xstatic-angular-smart-table.yaml', 'deliverables/_independent/pylockfile.yaml', 'deliverables/newton/oslo.reports.yaml', 'deliverables/stein/blazar-tempest-plugin.yaml', 'deliverables/pike/mistral-lib.yaml', 'deliverables/train/oslo.context.yaml', 'deliverables/train/python-neutronclient.yaml', 'deliverables/_independent/xstatic-font-awesome.yaml', 'deliverables/stein/senlin-tempest-plugin.yaml', 'deliverables/pike/networking-odl.yaml', 'deliverables/mitaka/oslo.service.yaml', 'deliverables/mitaka/taskflow.yaml', 'deliverables/ocata/tooz.yaml', 'deliverables/rocky/solum-tempest-plugin.yaml', 'deliverables/stein/automaton.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/stein/mistral-tempest-plugin.yaml', 'deliverables/stein/octavia.yaml', 'deliverables/_independent/xstatic-json2yaml.yaml', 'deliverables/rocky/congress-tempest-plugin.yaml', 'deliverables/queens/oslo.versionedobjects.yaml', 'deliverables/_independent/xstatic-angular-uuid.yaml', 'deliverables/stein/python-novaclient.yaml', 'deliverables/queens/python-cloudkittyclient.yaml', 'deliverables/ocata/python-muranoclient.yaml', 'deliverables/rocky/tricircle.yaml', 'deliverables/mitaka/oslo.reports.yaml', 'deliverables/pike/python-karborclient.yaml', 'deliverables/ocata/python-troveclient.yaml', 'deliverables/stein/oslo.context.yaml', 'deliverables/train/kuryr-tempest-plugin.yaml', 'deliverables/pike/python-heatclient.yaml', 'deliverables/pike/ironic-ui.yaml', 'deliverables/ocata/ironic-ui.yaml', 'deliverables/train/osc-placement.yaml', 'deliverables/ocata/oslo.vmware.yaml', 'deliverables/stein/futurist.yaml', 'deliverables/stein/python-openstackclient.yaml', 'deliverables/rocky/os-vif.yaml', 'deliverables/queens/networking-hyperv.yaml', 'deliverables/rocky/python-brick-cinderclient-ext.yaml', 'deliverables/train/osc-lib.yaml', 'deliverables/mitaka/automaton.yaml', 'deliverables/newton/os-win.yaml', 'doc/source/reference/using.rst', 'deliverables/newton/oslo.db.yaml', 'deliverables/newton/python-mistralclient.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/rocky/python-muranoclient.yaml', 'deliverables/stein/ironic-ui.yaml', 'deliverables/mitaka/python-designateclient.yaml', 'deliverables/stein/networking-bgpvpn.yaml', 'deliverables/mitaka/os-win.yaml', 'deliverables/queens/networking-generic-switch.yaml', 'deliverables/mitaka/keystoneauth.yaml', 'deliverables/rocky/heat-tempest-plugin.yaml', 'deliverables/train/python-zunclient.yaml', 'deliverables/mitaka/stevedore.yaml', 'deliverables/stein/python-senlinclient.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/rocky/networking-midonet.yaml', 'deliverables/stein/python-neutronclient.yaml', 'deliverables/ocata/designate.yaml', 'deliverables/rocky/oslo.policy.yaml', 'deliverables/stein/os-acc.yaml', 'deliverables/stein/python-pankoclient.yaml', 'deliverables/newton/oslo.config.yaml', 'deliverables/stein/ironic-tempest-plugin.yaml', 'deliverables/train/magnum-tempest-plugin.yaml', 'deliverables/queens/python-congressclient.yaml', 'deliverables/_independent/doc8.yaml', 'deliverables/ocata/neutron-lib.yaml', 'deliverables/rocky/glance-store.yaml', 'deliverables/newton/python-ironicclient.yaml', 'deliverables/pike/python-pankoclient.yaml', 'deliverables/pike/osc-lib.yaml', 'deliverables/rocky/manila-tempest-plugin.yaml', 'deliverables/_independent/xstatic-angular-notify.yaml', 'deliverables/train/python-blazarclient.yaml', 'deliverables/mitaka/oslo.policy.yaml', 'deliverables/train/python-qinlingclient.yaml', 'deliverables/rocky/networking-odl.yaml', 'deliverables/mitaka/oslo.cache.yaml', 'deliverables/train/ceilometermiddleware.yaml', 'deliverables/ocata/python-cloudkittyclient.yaml', 'deliverables/mitaka/python-neutronclient.yaml', 'deliverables/pike/glance.yaml', 'deliverables/queens/os-vif.yaml', 'deliverables/rocky/debtcollector.yaml', 'deliverables/rocky/python-designateclient.yaml', 'deliverables/train/oslo.i18n.yaml', 'deliverables/rocky/python-senlinclient.yaml', 'deliverables/mitaka/osprofiler.yaml', 'deliverables/stein/python-vitrageclient.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/mitaka/python-novaclient.yaml', 'deliverables/newton/python-heatclient.yaml', 'deliverables/rocky/keystone-tempest-plugin.yaml', 'deliverables/pike/python-ironic-inspector-client.yaml', 'deliverables/train/python-freezerclient.yaml', 'deliverables/train/python-searchlightclient.yaml', 'deliverables/queens/neutron-lib.yaml', 'deliverables/rocky/networking-generic-switch.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/mitaka/python-manilaclient.yaml', 'deliverables/train/networking-hyperv.yaml', 'deliverables/train/neutron-lbaas-dashboard.yaml', 'deliverables/ocata/python-senlinclient.yaml', 'deliverables/stein/python-keystoneclient.yaml', 'deliverables/_independent/xstatic-angular-vis.yaml', 'deliverables/train/ec2-api.yaml', 'deliverables/newton/osprofiler.yaml', 'deliverables/rocky/openstacksdk.yaml', 'deliverables/stein/python-tackerclient.yaml', 'deliverables/train/openstacksdk.yaml', 'deliverables/newton/oslo.privsep.yaml', 'deliverables/ocata/os-brick.yaml', 'deliverables/pike/oslo.messaging.yaml', 'deliverables/newton/python-glanceclient.yaml', 'deliverables/rocky/python-heatclient.yaml', 'deliverables/mitaka/python-monascaclient.yaml', 'deliverables/queens/os-win.yaml', 'deliverables/mitaka/python-brick-cinderclient-ext.yaml', 'deliverables/pike/python-swiftclient.yaml', 'deliverables/mitaka/python-swiftclient.yaml', 'deliverables/queens/python-blazarclient.yaml', 'deliverables/pike/os-win.yaml', 'deliverables/train/placement.yaml', 'deliverables/pike/python-vitrageclient.yaml', 'deliverables/stein/oslo.cache.yaml', 'deliverables/train/glance-store.yaml', 'deliverables/ocata/networking-hyperv.yaml', 'deliverables/stein/networking-bagpipe.yaml', 'deliverables/train/stevedore.yaml', 'deliverables/stein/networking-hyperv.yaml', 'deliverables/_independent/xstatic-d3.yaml', 'deliverables/queens/oslo.context.yaml', 'deliverables/newton/mox3.yaml', 'deliverables/rocky/oslo.middleware.yaml', 'deliverables/pike/os-traits.yaml', 'deliverables/train/keystonemiddleware.yaml', 'deliverables/pike/python-magnumclient.yaml', 'deliverables/newton/python-searchlightclient.yaml', 'deliverables/stein/monasca-tempest-plugin.yaml', 'deliverables/queens/oslo.concurrency.yaml', 'deliverables/stein/oswin-tempest-plugin.yaml', 'deliverables/ocata/oslo.middleware.yaml', 'deliverables/_independent/ironic-tempest-plugin.yaml', 'deliverables/newton/cliff.yaml', 'deliverables/ocata/python-ironic-inspector-client.yaml', 'deliverables/train/python-ironicclient.yaml', 'deliverables/train/octavia-lib.yaml', 'deliverables/train/manila-tempest-plugin.yaml', 'deliverables/_independent/os-traits.yaml', 'deliverables/_independent/xstatic-mdi.yaml', 'deliverables/rocky/magnum-tempest-plugin.yaml', 'deliverables/rocky/telemetry-tempest-plugin.yaml', 'deliverables/queens/octavia-dashboard.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/stein/python-monascaclient.yaml', 'deliverables/stein/mistral.yaml', 'deliverables/train/cloudkitty-dashboard.yaml', 'deliverables/train/murano-tempest-plugin.yaml', 'deliverables/stein/oslotest.yaml', 'deliverables/newton/oslo.vmware.yaml', 'deliverables/train/python-novaclient.yaml', 'deliverables/_independent/hacking.yaml', 'deliverables/queens/os-traits.yaml', 'deliverables/ocata/keystonemiddleware.yaml', 'deliverables/_independent/murano-pkg-check.yaml', 'deliverables/stein/oslo.policy.yaml', 'deliverables/newton/python-aodhclient.yaml', 'deliverables/stein/debtcollector.yaml', 'deliverables/stein/freezer-tempest-plugin.yaml', 'deliverables/_independent/xstatic-bootstrap-scss.yaml', 'deliverables/queens/heat-translator.yaml', 'deliverables/newton/mistral.yaml', 'deliverables/ocata/python-mistralclient.yaml', 'deliverables/rocky/networking-ovn.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/pike/python-monascaclient.yaml', 'deliverables/train/ec2api-tempest-plugin.yaml', 'deliverables/train/python-troveclient.yaml', 'deliverables/queens/ironic-ui.yaml', 'deliverables/rocky/mistral.yaml', 'deliverables/_independent/xstatic-angular-gettext.yaml', 'deliverables/stein/zun-tempest-plugin.yaml', 'deliverables/stein/taskflow.yaml', 'deliverables/train/oslo.cache.yaml', 'deliverables/ocata/oslo.log.yaml', 'deliverables/_independent/python-storyboardclient.yaml', 'deliverables/newton/oslosphinx.yaml', 'deliverables/rocky/designate.yaml', 'deliverables/stein/telemetry-tempest-plugin.yaml', 'deliverables/queens/networking-bagpipe.yaml', 'deliverables/mitaka/os-client-config.yaml', 'deliverables/rocky/oslo.rootwrap.yaml', 'deliverables/queens/python-keystoneclient.yaml', 'deliverables/stein/python-troveclient.yaml', 'deliverables/train/trove-tempest-plugin.yaml', 'deliverables/queens/python-mistralclient.yaml', 'deliverables/ocata/mistral.yaml', 'deliverables/ocata/osprofiler.yaml', 'deliverables/train/zaqar-tempest-plugin.yaml', 'deliverables/train/barbican-tempest-plugin.yaml', 'deliverables/ocata/cliff.yaml', 'deliverables/queens/oslosphinx.yaml', 'deliverables/rocky/python-octaviaclient.yaml', 'deliverables/train/oslo.privsep.yaml', 'deliverables/rocky/networking-bgpvpn.yaml', 'deliverables/pike/ironic-lib.yaml', 'deliverables/ocata/oslo.messaging.yaml', 'deliverables/mitaka/oslo.concurrency.yaml', 'deliverables/queens/oslo.config.yaml', 'deliverables/train/telemetry-tempest-plugin.yaml', 'deliverables/ocata/python-heatclient.yaml', 'openstack_releases/yamlutils.py', 'deliverables/rocky/networking-bagpipe.yaml', 'deliverables/pike/networking-sfc.yaml', 'deliverables/ocata/os-win.yaml', 'deliverables/train/vitrage-tempest-plugin.yaml', 'deliverables/rocky/python-saharaclient.yaml', 'deliverables/train/pycadf.yaml', 'deliverables/pike/python-troveclient.yaml', 'deliverables/mitaka/keystonemiddleware.yaml', 'deliverables/queens/openstacksdk.yaml', 'deliverables/ocata/python-neutronclient.yaml', 'deliverables/train/networking-bgpvpn.yaml', 'deliverables/ocata/python-cinderclient.yaml', 'deliverables/_independent/rally-openstack.yaml', 'deliverables/queens/networking-sfc.yaml', 'deliverables/newton/networking-hyperv.yaml', 'deliverables/ocata/python-openstackclient.yaml', 'deliverables/newton/neutron-lib.yaml', 'deliverables/stein/python-watcherclient.yaml', 'deliverables/stein/python-freezerclient.yaml', 'deliverables/stein/congress-tempest-plugin.yaml', 'deliverables/pike/python-aodhclient.yaml', 'deliverables/rocky/oswin-tempest-plugin.yaml', 'deliverables/rocky/shade.yaml', 'deliverables/queens/os-brick.yaml', 'deliverables/rocky/keystonemiddleware.yaml', 'deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/liberty/oslo.service.yaml', 'deliverables/queens/python-magnumclient.yaml', 'deliverables/rocky/python-cinderclient.yaml', 'deliverables/_independent/xstatic-bootswatch.yaml', 'deliverables/rocky/oslo.concurrency.yaml', 'deliverables/stein/designate-tempest-plugin.yaml', 'deliverables/stein/oslo.middleware.yaml', 'deliverables/ocata/python-monascaclient.yaml', 'deliverables/stein/octavia-dashboard.yaml', 'deliverables/stein/tosca-parser.yaml', 'deliverables/pike/python-neutronclient.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/rocky/oslo.context.yaml', 'deliverables/rocky/octavia-tempest-plugin.yaml', 'deliverables/rocky/oslo.service.yaml', 'deliverables/train/cloudkitty.yaml', 'deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/queens/oslo.messaging.yaml', 'deliverables/ocata/python-saharaclient.yaml', 'deliverables/stein/python-aodhclient.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/train/python-senlinclient.yaml', 'deliverables/rocky/cloudkitty-dashboard.yaml', 'deliverables/queens/cliff.yaml', 'deliverables/rocky/python-mistralclient.yaml', 'deliverables/rocky/os-client-config.yaml', 'deliverables/queens/automaton.yaml', 'deliverables/stein/tooz.yaml', 'deliverables/ocata/mox3.yaml', 'deliverables/pike/python-congressclient.yaml', 'deliverables/pike/networking-baremetal.yaml', 'deliverables/stein/cliff.yaml', 'deliverables/pike/python-searchlightclient.yaml', 'deliverables/rocky/python-novaclient.yaml', 'deliverables/train/python-tackerclient.yaml', 'deliverables/mitaka/oslosphinx.yaml', 'deliverables/stein/python-blazarclient.yaml', 'deliverables/train/debtcollector.yaml', 'deliverables/_independent/xstatic-roboto-fontface.yaml', 'deliverables/stein/trove-tempest-plugin.yaml', 'deliverables/rocky/python-troveclient.yaml', 'deliverables/ocata/oslosphinx.yaml', 'deliverables/rocky/heat-translator.yaml', 'deliverables/rocky/python-manilaclient.yaml', 'deliverables/train/python-cloudkittyclient.yaml', 'deliverables/queens/osprofiler.yaml', 'deliverables/queens/python-glanceclient.yaml', 'deliverables/ocata/oslo.versionedobjects.yaml', 'deliverables/rocky/python-openstackclient.yaml', 'deliverables/_independent/rally.yaml', 'deliverables/stein/requirements.yaml', 'deliverables/mitaka/python-muranoclient.yaml', 'deliverables/stein/os-traits.yaml', 'deliverables/rocky/pycadf.yaml', 'deliverables/pike/python-keystoneclient.yaml', 'deliverables/rocky/mox3.yaml', 'deliverables/newton/python-troveclient.yaml', 'deliverables/train/senlin-tempest-plugin.yaml', 'deliverables/rocky/python-ironicclient.yaml', 'deliverables/newton/oslo.i18n.yaml', 'deliverables/rocky/tempest.yaml', 'deliverables/train/oslo.policy.yaml', 'deliverables/stein/osprofiler.yaml', 'deliverables/train/watcher-tempest-plugin.yaml', 'deliverables/stein/cloudkitty-dashboard.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/stein/python-mistralclient.yaml', 'deliverables/rocky/ironic-ui.yaml', 'deliverables/stein/oslo.messaging.yaml', 'deliverables/kilo/requirements.yaml', 'deliverables/train/keystone-tempest-plugin.yaml', 'deliverables/queens/networking-midonet.yaml', 'deliverables/train/oslo.utils.yaml', 'deliverables/_independent/xstatic-angular-material.yaml', 'deliverables/mitaka/cloudkitty-dashboard.yaml', 'deliverables/pike/keystonemiddleware.yaml', 'deliverables/stein/heat-translator.yaml', 'deliverables/mitaka/tooz.yaml', 'deliverables/ocata/python-manilaclient.yaml', 'deliverables/rocky/futurist.yaml', 'deliverables/ocata/tempest.yaml', 'deliverables/train/oslo.rootwrap.yaml', 'deliverables/train/python-designateclient.yaml', 'deliverables/ocata/oslotest.yaml', 'deliverables/ocata/python-congressclient.yaml', 'deliverables/newton/osc-lib.yaml', 'deliverables/stein/oslo.log.yaml', 'deliverables/stein/glance.yaml', 'deliverables/mitaka/python-glanceclient.yaml', 'deliverables/ocata/glance-store.yaml', 'deliverables/queens/octavia.yaml', 'deliverables/ocata/python-ironicclient.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/queens/oslo.vmware.yaml', 'deliverables/queens/python-watcherclient.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/pike/networking-bagpipe.yaml', 'deliverables/newton/python-ironic-inspector-client.yaml', 'deliverables/rocky/cloudkitty.yaml', 'deliverables/rocky/python-vitrageclient.yaml', 'deliverables/stein/os-resource-classes.yaml', 'deliverables/mitaka/python-cliff.yaml', 'deliverables/stein/osc-lib.yaml', 'deliverables/train/neutron-tempest-plugin.yaml', 'deliverables/queens/python-tackerclient.yaml', 'deliverables/newton/oslo.cache.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/ocata/oslo.rootwrap.yaml', 'deliverables/pike/mox3.yaml', 'deliverables/stein/python-zunclient.yaml', 'deliverables/queens/python-troveclient.yaml', 'deliverables/rocky/oslo.db.yaml', 'deliverables/newton/python-watcherclient.yaml', 'deliverables/newton/oslo.service.yaml', 'deliverables/train/mistral-tempest-plugin.yaml', 'deliverables/queens/python-karborclient.yaml', 'deliverables/_independent/monasca-tempest-plugin.yaml', 'deliverables/queens/python-manilaclient.yaml', 'deliverables/mitaka/requirements.yaml', 'deliverables/ocata/python-ceilometerclient.yaml', 'deliverables/ocata/python-glanceclient.yaml', 'deliverables/newton/keystonemiddleware.yaml', 'deliverables/rocky/networking-hyperv.yaml', 'deliverables/queens/glance.yaml', 'deliverables/train/python-watcherclient.yaml', 'deliverables/rocky/cliff.yaml', 'deliverables/_independent/vitrage-tempest-plugin.yaml', 'deliverables/rocky/python-glanceclient.yaml', 'deliverables/queens/python-openstackclient.yaml', 'deliverables/ocata/oslo.concurrency.yaml', 'deliverables/newton/oslo.versionedobjects.yaml', 'deliverables/train/freezer-web-ui.yaml', 'deliverables/train/designate.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/ocata/ceilometermiddleware.yaml', 'deliverables/rocky/oslo.privsep.yaml', 'deliverables/pike/python-blazarclient.yaml', 'deliverables/stein/tricircle.yaml', 'deliverables/mitaka/django-openstack-auth.yaml', 'deliverables/rocky/cloudkitty-tempest-plugin.yaml', 'deliverables/train/os-ken.yaml', 'deliverables/mitaka/oslo.rootwrap.yaml', 'deliverables/queens/oslo.privsep.yaml', 'deliverables/train/python-muranoclient.yaml', 'deliverables/newton/python-openstackclient.yaml', 'deliverables/mitaka/futurist.yaml', 'deliverables/_independent/oswin-tempest-plugin.yaml', 'deliverables/pike/octavia.yaml', 'deliverables/ocata/python-brick-cinderclient-ext.yaml', 'deliverables/rocky/os-win.yaml', 'deliverables/stein/searchlight-ui.yaml', 'deliverables/train/networking-generic-switch.yaml', 'deliverables/queens/keystonemiddleware.yaml', 'deliverables/newton/os-brick.yaml', 'deliverables/queens/shade.yaml', 'deliverables/stein/cloudkitty-tempest-plugin.yaml', 'deliverables/queens/python-aodhclient.yaml', 'deliverables/train/octavia.yaml', 'deliverables/queens/designate.yaml', 'deliverables/kilo/python-muranoclient.yaml', 'deliverables/mitaka/oslo.middleware.yaml', 'deliverables/train/python-ironic-inspector-client.yaml', 'deliverables/stein/heat-tempest-plugin.yaml', 'deliverables/_independent/bashate.yaml', 'deliverables/pike/networking-ovn.yaml', 'deliverables/rocky/barbican-tempest-plugin.yaml', 'deliverables/ocata/python-zaqarclient.yaml', 'deliverables/rocky/senlin-tempest-plugin.yaml', 'deliverables/stein/networking-midonet.yaml', 'deliverables/_independent/xstatic-angular.yaml', 'deliverables/ocata/osc-lib.yaml', 'deliverables/stein/python-heatclient.yaml', 'deliverables/newton/python-cloudkittyclient.yaml', 'deliverables/train/python-monascaclient.yaml', 'deliverables/pike/tricircle.yaml', 'deliverables/mitaka/python-cinderclient.yaml', 'deliverables/train/python-congressclient.yaml', 'deliverables/ocata/python-vitrageclient.yaml', 'deliverables/pike/python-designateclient.yaml', 'deliverables/rocky/python-cloudkittyclient.yaml', 'deliverables/train/ironic-lib.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/rocky/ironic-lib.yaml', 'deliverables/rocky/python-karborclient.yaml', 'deliverables/rocky/osc-lib.yaml', 'deliverables/train/python-manilaclient.yaml', 'deliverables/pike/tempest.yaml', 'deliverables/rocky/python-pankoclient.yaml', 'deliverables/stein/manila-tempest-plugin.yaml', 'deliverables/ocata/keystoneauth.yaml', 'deliverables/train/python-saharaclient.yaml', 'deliverables/ocata/taskflow.yaml', 'deliverables/queens/python-cinderclient.yaml', 'deliverables/ocata/oslo.policy.yaml', 'deliverables/mitaka/vmware-nsx.yaml', 'deliverables/ocata/oslo.service.yaml', 'deliverables/_independent/xstatic-angular-bootstrap.yaml', 'deliverables/train/python-magnumclient.yaml', 'deliverables/rocky/mistral-lib.yaml', 'deliverables/rocky/zaqar-tempest-plugin.yaml', 'deliverables/ocata/python-keystoneclient.yaml', 'deliverables/_independent/yaql.yaml', 'deliverables/pike/glance-store.yaml', 'deliverables/rocky/python-watcherclient.yaml', 'deliverables/pike/pycadf.yaml', 'deliverables/mitaka/glance-store.yaml', 'deliverables/stein/watcher-tempest-plugin.yaml', 'deliverables/train/ironic-ui.yaml', 'deliverables/queens/osc-lib.yaml', 'deliverables/train/oslo.messaging.yaml', 'deliverables/ocata/python-searchlightclient.yaml', 'deliverables/pike/python-ceilometerclient.yaml', 'deliverables/queens/networking-ovn.yaml', 'deliverables/mitaka/ceilometermiddleware.yaml', 'deliverables/queens/oslo.rootwrap.yaml', 'deliverables/pike/python-openstackclient.yaml', 'deliverables/queens/python-vitrageclient.yaml', 'deliverables/train/monasca-tempest-plugin.yaml', 'deliverables/train/os-win.yaml', 'deliverables/newton/python-neutronclient.yaml', 'deliverables/newton/oslo.log.yaml', 'deliverables/ocata/pycadf.yaml', 'deliverables/mitaka/oslo.utils.yaml', 'deliverables/stein/os-ken.yaml', 'deliverables/newton/glance-store.yaml', 'deliverables/stein/oslo.service.yaml', 'deliverables/mitaka/octavia.yaml', 'deliverables/rocky/monasca-tempest-plugin.yaml', 'deliverables/newton/debtcollector.yaml', 'deliverables/train/automaton.yaml', 'deliverables/newton/ironic-ui.yaml', 'deliverables/pike/python-muranoclient.yaml', 'deliverables/queens/oslo.utils.yaml', 'deliverables/newton/python-brick-cinderclient-ext.yaml', 'deliverables/mitaka/python-ironicclient.yaml', 'deliverables/train/tempest.yaml', 'deliverables/mitaka/python-ceilometerclient.yaml', 'deliverables/ocata/python-aodhclient.yaml', 'deliverables/train/tempest-horizon.yaml', 'deliverables/stein/oslo.rootwrap.yaml', 'deliverables/newton/glance.yaml', 'deliverables/rocky/os-brick.yaml', 'deliverables/stein/murano-tempest-plugin.yaml', 'deliverables/_independent/xstatic-filesaver.yaml', 'deliverables/stein/mistral-lib.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/train/oslo.service.yaml', 'deliverables/rocky/stevedore.yaml', 'deliverables/stein/os-vif.yaml', 'deliverables/newton/taskflow.yaml', 'deliverables/pike/designate.yaml', 'deliverables/pike/networking-midonet.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/queens/python-senlinclient.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/stein/octavia-lib.yaml', 'deliverables/train/python-mistralclient.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.context.yaml', 'deliverables/queens/cloudkitty.yaml', 'deliverables/rocky/python-cyborgclient.yaml', 'deliverables/queens/keystoneauth.yaml', 'deliverables/rocky/automaton.yaml', 'deliverables/liberty/python-glanceclient.yaml', 'deliverables/rocky/python-zaqarclient.yaml', 'deliverables/rocky/os-acc.yaml', 'deliverables/newton/oslotest.yaml', 'deliverables/train/oslo.versionedobjects.yaml', 'deliverables/ocata/networking-ovn.yaml', 'deliverables/queens/oslo.service.yaml', 'deliverables/mitaka/python-zaqarclient.yaml', 'deliverables/pike/cliff.yaml', 'deliverables/rocky/oslo.config.yaml', 'deliverables/ocata/python-swiftclient.yaml', 'deliverables/stein/python-octaviaclient.yaml', 'deliverables/newton/python-keystoneclient.yaml', 'deliverables/pike/django_openstack_auth.yaml', 'deliverables/train/oswin-tempest-plugin.yaml', 'deliverables/queens/requestsexceptions.yaml', 'deliverables/newton/oslo.policy.yaml', 'deliverables/_independent/networking-odl.yaml', 'deliverables/newton/python-cinderclient.yaml', 'deliverables/mitaka/python-heatclient.yaml', 'deliverables/queens/python-saharaclient.yaml', 'deliverables/ocata/requirements.yaml', 'deliverables/pike/oslo.i18n.yaml', 'deliverables/queens/pycadf.yaml', 'deliverables/newton/python-congressclient.yaml', 'deliverables/mitaka/oslo.config.yaml', 'deliverables/stein/stevedore.yaml', 'deliverables/stein/python-karborclient.yaml', 'deliverables/stein/networking-generic-switch.yaml', 'deliverables/train/python-openstackclient.yaml', 'deliverables/mitaka/python-mistralclient.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/stein/ec2api-tempest-plugin.yaml', 'deliverables/ocata/oslo.db.yaml', 'deliverables/_independent/xstatic-angular-lrdragndrop.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml', 'deliverables/rocky/glance.yaml', 'deliverables/ocata/oslo.reports.yaml', 'deliverables/liberty/glance-store.yaml', 'deliverables/stein/os-win.yaml', 'deliverables/pike/ironic-python-agent.yaml', 'deliverables/queens/mistral-lib.yaml', 'deliverables/ocata/oslo.i18n.yaml', 'deliverables/stein/keystonemiddleware.yaml', 'deliverables/mitaka/python-troveclient.yaml', 'deliverables/newton/ironic-lib.yaml', 'deliverables/rocky/python-congressclient.yaml', 'deliverables/mitaka/ironic-lib.yaml', 'deliverables/rocky/ironic-tempest-plugin.yaml', 'deliverables/_independent/os-testr.yaml', 'deliverables/pike/cloudkitty.yaml', 'deliverables/train/freezer-tempest-plugin.yaml', 'deliverables/_independent/bandit.yaml', 'deliverables/ocata/stevedore.yaml', 'deliverables/_independent/heat-translator.yaml', 'deliverables/pike/python-cloudkittyclient.yaml', 'deliverables/mitaka/oslo.log.yaml', 'deliverables/ocata/python-magnumclient.yaml', 'deliverables/pike/mistral.yaml', 'deliverables/stein/oslo.upgradecheck.yaml', 'deliverables/queens/stevedore.yaml', 'deliverables/pike/python-cinderclient.yaml', 'deliverables/stein/ec2-api.yaml', 'deliverables/rocky/python-magnumclient.yaml', 'deliverables/_independent/sphinx-feature-classification.yaml', 'deliverables/pike/ceilometermiddleware.yaml', 'deliverables/train/oslo.reports.yaml', 'deliverables/_independent/xstatic-jasmine.yaml', 'deliverables/stein/oslo.i18n.yaml', 'deliverables/stein/keystoneauth.yaml', 'deliverables/train/python-karborclient.yaml', 'deliverables/newton/oslo.context.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/queens/python-ironic-inspector-client.yaml', 'deliverables/rocky/oslo.log.yaml', 'deliverables/rocky/ceilometermiddleware.yaml', 'deliverables/stein/magnum-tempest-plugin.yaml', 'deliverables/stein/neutron-lbaas-dashboard.yaml', 'deliverables/train/oslo.concurrency.yaml', 'deliverables/train/python-aodhclient.yaml', 'deliverables/stein/zaqar-tempest-plugin.yaml', 'deliverables/train/oslo.upgradecheck.yaml', 'deliverables/ocata/oslo.utils.yaml', 'deliverables/rocky/oslo.utils.yaml', 'deliverables/stein/tempest-horizon.yaml', 'deliverables/_independent/python-karborclient.yaml', 'deliverables/stein/python-designateclient.yaml', 'deliverables/train/designate-tempest-plugin.yaml', 'deliverables/newton/python-novaclient.yaml', 'deliverables/train/networking-odl.yaml', 'deliverables/_independent/python-tempestconf.yaml', 'deliverables/mitaka/os-brick.yaml', 'deliverables/mitaka/pycadf.yaml', 'deliverables/_independent/networking-generic-switch.yaml', 'deliverables/_independent/xstatic-jsencrypt.yaml', 'deliverables/train/python-pankoclient.yaml', 'deliverables/rocky/ec2-api.yaml', 'deliverables/stein/python-cyborgclient.yaml', 'deliverables/stein/networking-sfc.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/stein/oslo.reports.yaml', 'deliverables/queens/python-zunclient.yaml', 'deliverables/pike/python-tackerclient.yaml', 'deliverables/ocata/os-client-config.yaml', 'deliverables/newton/automaton.yaml', 'deliverables/queens/python-muranoclient.yaml', 'deliverables/rocky/python-zunclient.yaml', 'deliverables/pike/python-watcherclient.yaml', 'deliverables/_independent/os-net-config.yaml', 'deliverables/mitaka/python-aodhclient.yaml', 'deliverables/newton/os-client-config.yaml', 'deliverables/stein/vitrage-tempest-plugin.yaml', 'deliverables/newton/futurist.yaml', 'deliverables/train/python-keystoneclient.yaml', 'deliverables/train/tooz.yaml', 'deliverables/_independent/devstack-tools.yaml', 'deliverables/mitaka/oslo.context.yaml', 'deliverables/newton/cloudkitty-dashboard.yaml', 'deliverables/queens/oslo.reports.yaml', 'deliverables/stein/shade.yaml', 'deliverables/train/oslo.middleware.yaml', 'deliverables/queens/python-zaqarclient.yaml', 'deliverables/_independent/karbor-dashboard.yaml', 'deliverables/mitaka/python-tackerclient.yaml', 'deliverables/train/os-vif.yaml', 'deliverables/train/python-swiftclient.yaml', 'deliverables/_independent/xstatic-js-yaml.yaml', 'deliverables/train/cliff.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/pike/shade.yaml', 'deliverables/pike/requestsexceptions.yaml', 'deliverables/queens/cloudkitty-dashboard.yaml', 'deliverables/queens/oslo.log.yaml', 'deliverables/stein/oslo.config.yaml', 'deliverables/mitaka/oslo.vmware.yaml', 'deliverables/queens/oslo.i18n.yaml', 'deliverables/newton/python-saharaclient.yaml', 'deliverables/rocky/python-qinlingclient.yaml', 'deliverables/stein/placement.yaml', 'deliverables/train/mistral.yaml', 'deliverables/rocky/oslo.reports.yaml', 'deliverables/pike/neutron-lbaas-dashboard.yaml', 'deliverables/rocky/zun-tempest-plugin.yaml', 'deliverables/train/solum-tempest-plugin.yaml', 'deliverables/queens/oslo.serialization.yaml', 'deliverables/rocky/trove-tempest-plugin.yaml', 'deliverables/stein/python-searchlightclient.yaml', 'deliverables/pike/python-senlinclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1704aa624ae3220a5ed550d379ac6a5633d9650a', 'message': ""Raise YAML compliance to 1.2\n\nThe YAML 1.2 spec was released in 2009. It's probably been enough time\nthat it's safe to move to it.\n\nThe only issue for out YAML usage was 1.2 dropped the use of Yes, No, On,\nand Off as valid boolean values.\n\nChange-Id: I608e09d219379e00cca15c5ff165bb63aecfe9f2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",3,669746,1704aa624ae3220a5ed550d379ac6a5633d9650a,23,5,3,11904,,,0,"Raise YAML compliance to 1.2

The YAML 1.2 spec was released in 2009. It's probably been enough time
that it's safe to move to it.

The only issue for out YAML usage was 1.2 dropped the use of Yes, No, On,
and Off as valid boolean values.

Change-Id: I608e09d219379e00cca15c5ff165bb63aecfe9f2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/669746/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-neutronclient.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/queens/oslo.policy.yaml', 'deliverables/newton/python-designateclient.yaml', 'deliverables/rocky/oslo.messaging.yaml', 'deliverables/ocata/oslo.privsep.yaml', 'deliverables/rocky/oslo.cache.yaml', 'deliverables/train/neutron-lib.yaml', 'deliverables/stein/oslo.serialization.yaml', 'deliverables/stein/networking-odl.yaml', 'deliverables/stein/python-magnumclient.yaml', 'deliverables/stein/solum-tempest-plugin.yaml', 'deliverables/mitaka/python-ironic-inspector-client.yaml', 'deliverables/pike/requirements.yaml', 'deliverables/mitaka/oslo.versionedobjects.yaml', 'deliverables/queens/python-designateclient.yaml', 'deliverables/queens/tricircle.yaml', 'deliverables/ocata/ironic-lib.yaml', 'deliverables/pike/python-octaviaclient.yaml', 'deliverables/mitaka/tempest.yaml', 'deliverables/pike/tosca-parser.yaml', 'deliverables/rocky/mistral-tempest-plugin.yaml', 'deliverables/rocky/vitrage-tempest-plugin.yaml', 'deliverables/stein/mox3.yaml', 'deliverables/stein/python-manilaclient.yaml', 'deliverables/newton/oslo.utils.yaml', 'deliverables/stein/barbican-tempest-plugin.yaml', 'deliverables/train/python-cyborgclient.yaml', 'deliverables/pike/osprofiler.yaml', 'deliverables/stein/python-brick-cinderclient-ext.yaml', 'deliverables/stein/python-cloudkittyclient.yaml', 'deliverables/ocata/os-vif.yaml', 'deliverables/stein/oslo.utils.yaml', 'deliverables/queens/python-searchlightclient.yaml', 'deliverables/rocky/networking-baremetal.yaml', 'deliverables/train/congress-tempest-plugin.yaml', 'deliverables/rocky/python-monascaclient.yaml', 'deliverables/newton/requirements.yaml', 'deliverables/newton/python-zaqarclient.yaml', 'deliverables/stein/tempest.yaml', 'deliverables/rocky/os-traits.yaml', 'deliverables/pike/neutron-lib.yaml', 'deliverables/train/oslo.serialization.yaml', 'deliverables/train/taskflow.yaml', 'deliverables/ocata/octavia.yaml', 'deliverables/rocky/neutron-lib.yaml', 'deliverables/ocata/python-novaclient.yaml', 'deliverables/rocky/keystoneauth.yaml', 'deliverables/train/octavia-tempest-plugin.yaml', 'deliverables/train/oslotest.yaml', 'deliverables/train/ironic-tempest-plugin.yaml', 'deliverables/_independent/os-service-types.yaml', 'deliverables/_independent/requestsexceptions.yaml', 'deliverables/newton/oslo.serialization.yaml', 'deliverables/ocata/cloudkitty-dashboard.yaml', 'deliverables/newton/pycadf.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/queens/requirements.yaml', 'deliverables/pike/python-saharaclient.yaml', 'deliverables/stein/ceilometermiddleware.yaml', 'deliverables/queens/python-brick-cinderclient-ext.yaml', 'deliverables/rocky/designate-tempest-plugin.yaml', 'deliverables/stein/python-glanceclient.yaml', 'deliverables/stein/python-zaqarclient.yaml', 'deliverables/_independent/openstackclient.yaml', 'deliverables/queens/ironic-lib.yaml', 'deliverables/rocky/networking-generic-switch-tempest-plugin.yaml', 'deliverables/stein/oslo.concurrency.yaml', 'deliverables/train/python-heatclient.yaml', 'deliverables/stein/oslo.db.yaml', 'deliverables/stein/python-saharaclient.yaml', 'deliverables/rocky/networking-sfc.yaml', 'deliverables/newton/oslo.messaging.yaml', 'deliverables/liberty/python-ironicclient.yaml', 'deliverables/stein/python-ironic-inspector-client.yaml', 'deliverables/stein/python-swiftclient.yaml', 'deliverables/rocky/watcher-tempest-plugin.yaml', 'deliverables/pike/heat-translator.yaml', 'deliverables/stein/neutron-lib.yaml', 'deliverables/rocky/cinder-tempest-plugin.yaml', 'deliverables/rocky/requirements.yaml', 'deliverables/rocky/oslo.serialization.yaml', 'deliverables/rocky/python-aodhclient.yaml', 'deliverables/queens/mistral.yaml', 'deliverables/_independent/os-resource-classes.yaml', 'deliverables/queens/osc-placement.yaml', 'deliverables/_independent/eslint-config-openstack.yaml', 'deliverables/stein/networking-ovn.yaml', 'deliverables/pike/os-vif.yaml', 'deliverables/train/zun-tempest-plugin.yaml', 'deliverables/stein/cloudkitty.yaml', 'deliverables/stein/python-congressclient.yaml', 'deliverables/pike/python-zaqarclient.yaml', 'deliverables/mitaka/oslo.serialization.yaml', 'deliverables/queens/networking-baremetal.yaml', 'deliverables/mitaka/oslo.messaging.yaml', 'deliverables/newton/python-muranoclient.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/stein/pycadf.yaml', 'deliverables/newton/ceilometermiddleware.yaml', 'deliverables/newton/python-swiftclient.yaml', 'deliverables/pike/os-client-config.yaml', 'deliverables/mitaka/oslo.db.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/stein/oslo.vmware.yaml', 'deliverables/newton/oslo.middleware.yaml', 'deliverables/ocata/python-designateclient.yaml', 'deliverables/train/oslo.log.yaml', 'deliverables/stein/openstacksdk.yaml', 'deliverables/newton/django_openstack_auth.yaml', 'deliverables/train/shade.yaml', 'deliverables/pike/python-manilaclient.yaml', 'deliverables/newton/oslo.concurrency.yaml', 'deliverables/queens/os-client-config.yaml', 'deliverables/_independent/neutron-lbaas-dashboard.yaml', 'deliverables/rocky/kuryr-tempest-plugin.yaml', 'deliverables/_independent/reno.yaml', 'deliverables/stein/python-qinlingclient.yaml', 'deliverables/_independent/syntribos.yaml', 'deliverables/mitaka/python-cloudkittyclient.yaml', 'deliverables/train/python-cinderclient.yaml', 'deliverables/_independent/tosca-parser.yaml', 'deliverables/queens/debtcollector.yaml', 'deliverables/rocky/neutron-tempest-plugin.yaml', 'deliverables/train/oslo.config.yaml', 'deliverables/mitaka/oslotest.yaml', 'deliverables/stein/ironic-lib.yaml', 'deliverables/stein/osc-placement.yaml', 'deliverables/stein/keystone-tempest-plugin.yaml', 'deliverables/stein/oslo.versionedobjects.yaml', 'deliverables/queens/futurist.yaml', 'deliverables/newton/keystoneauth.yaml', 'deliverables/stein/python-muranoclient.yaml', 'deliverables/newton/python-magnumclient.yaml', 'deliverables/rocky/python-swiftclient.yaml', 'deliverables/queens/neutron-lbaas-dashboard.yaml', 'deliverables/rocky/oslotest.yaml', 'deliverables/queens/ceilometermiddleware.yaml', 'deliverables/rocky/ec2api-tempest-plugin.yaml', 'deliverables/pike/keystoneauth.yaml', 'deliverables/train/octavia-dashboard.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/train/requirements.yaml', 'deliverables/stein/os-brick.yaml', 'deliverables/ocata/python-watcherclient.yaml', 'deliverables/stein/octavia-tempest-plugin.yaml', 'deliverables/train/os-client-config.yaml', 'deliverables/liberty/requirements.yaml', 'deliverables/train/mox3.yaml', 'deliverables/train/oslo.db.yaml', 'deliverables/juno/requirements.yaml', 'deliverables/pike/networking-bgpvpn.yaml', 'deliverables/pike/python-ironicclient.yaml', 'deliverables/queens/python-swiftclient.yaml', 'deliverables/rocky/octavia-dashboard.yaml', 'deliverables/rocky/neutron-lbaas-dashboard.yaml', 'deliverables/_independent/xstatic-magic-search.yaml', 'deliverables/stein/neutron-tempest-plugin.yaml', 'deliverables/stein/os-client-config.yaml', 'deliverables/stein/networking-baremetal.yaml', 'deliverables/stein/oslo.privsep.yaml', 'deliverables/queens/oslotest.yaml', 'deliverables/mitaka/debtcollector.yaml', 'deliverables/ocata/cloudkitty.yaml', 'deliverables/ocata/oslo.serialization.yaml', 'deliverables/train/heat-translator.yaml', 'deliverables/newton/python-manilaclient.yaml', 'deliverables/queens/oslo.middleware.yaml', 'deliverables/queens/tooz.yaml', 'deliverables/rocky/python-keystoneclient.yaml', 'deliverables/rocky/murano-tempest-plugin.yaml', 'deliverables/newton/octavia.yaml', 'deliverables/newton/python-ceilometerclient.yaml', 'deliverables/newton/python-vitrageclient.yaml', 'deliverables/rocky/taskflow.yaml', 'deliverables/mitaka/ironic-ui.yaml', 'deliverables/ocata/futurist.yaml', 'deliverables/rocky/blazar-tempest-plugin.yaml', 'deliverables/queens/networking-odl.yaml', 'deliverables/newton/python-senlinclient.yaml', 'deliverables/stein/cinder-tempest-plugin.yaml', 'deliverables/pike/python-mistralclient.yaml', 'deliverables/rocky/python-blazarclient.yaml', 'deliverables/rocky/oslo.vmware.yaml', 'deliverables/queens/taskflow.yaml', 'deliverables/newton/oslo.rootwrap.yaml', 'deliverables/ocata/glance.yaml', 'deliverables/rocky/oslo.i18n.yaml', 'deliverables/_independent/karma-subunit-reporter.yaml', 'deliverables/ocata/django_openstack_auth.yaml', 'deliverables/train/networking-sfc.yaml', 'deliverables/mitaka/oslo.privsep.yaml', 'deliverables/pike/cloudkitty-dashboard.yaml', 'deliverables/rocky/osc-placement.yaml', 'deliverables/rocky/tosca-parser.yaml', 'deliverables/pike/python-novaclient.yaml', 'deliverables/rocky/tooz.yaml', 'deliverables/stein/python-cinderclient.yaml', 'deliverables/newton/stevedore.yaml', 'deliverables/queens/oslo.db.yaml', 'deliverables/newton/tooz.yaml', 'deliverables/rocky/oslo.versionedobjects.yaml', 'deliverables/queens/python-monascaclient.yaml', 'deliverables/train/oslo.vmware.yaml', 'deliverables/queens/networking-bgpvpn.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/train/tosca-parser.yaml', 'deliverables/_independent/python-wsmanclient.yaml', 'deliverables/ocata/automaton.yaml', 'deliverables/train/heat-tempest-plugin.yaml', 'deliverables/queens/tempest.yaml', 'deliverables/train/glance.yaml', 'deliverables/train/python-zaqarclient.yaml', 'deliverables/train/python-vitrageclient.yaml', 'deliverables/rocky/octavia.yaml', 'deliverables/stein/kuryr-tempest-plugin.yaml', 'deliverables/rocky/python-ironic-inspector-client.yaml', 'deliverables/pike/python-brick-cinderclient-ext.yaml', 'deliverables/pike/python-glanceclient.yaml', 'deliverables/queens/tosca-parser.yaml', 'deliverables/newton/python-tackerclient.yaml', 'deliverables/rocky/python-neutronclient.yaml', 'deliverables/mitaka/oslo.i18n.yaml', 'deliverables/newton/os-vif.yaml', 'deliverables/train/networking-baremetal.yaml', 'deliverables/mitaka/mox3.yaml', 'deliverables/train/mistral-lib.yaml', 'deliverables/queens/glance-store.yaml', 'deliverables/train/osprofiler.yaml', 'deliverables/queens/python-pankoclient.yaml', 'deliverables/queens/python-heatclient.yaml', 'deliverables/stein/designate.yaml', 'deliverables/mitaka/python-openstackclient.yaml', 'deliverables/train/os-acc.yaml', 'deliverables/pike/os-brick.yaml', 'deliverables/mitaka/python-keystoneclient.yaml', 'deliverables/rocky/tempest-tripleo-ui.yaml', 'deliverables/_independent/designate-tempest-plugin.yaml', 'deliverables/ocata/python-tackerclient.yaml', 'deliverables/ocata/tricircle.yaml', 'deliverables/ocata/debtcollector.yaml', 'deliverables/rocky/osprofiler.yaml', 'deliverables/ocata/oslo.cache.yaml', 'deliverables/train/tricircle.yaml', 'deliverables/queens/mox3.yaml', 'deliverables/ocata/oslo.context.yaml', 'deliverables/queens/python-novaclient.yaml', 'deliverables/newton/tempest.yaml', 'deliverables/stein/glance-store.yaml', 'deliverables/pike/networking-hyperv.yaml', 'deliverables/train/python-glanceclient.yaml', 'deliverables/rocky/python-tackerclient.yaml', 'deliverables/newton/networking-ovn.yaml', 'deliverables/pike/python-zunclient.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/stein/python-ironicclient.yaml', 'deliverables/newton/python-monascaclient.yaml', 'deliverables/train/searchlight-ui.yaml', 'deliverables/train/futurist.yaml', 'deliverables/_independent/cinderlib.yaml', 'deliverables/train/python-octaviaclient.yaml', 'deliverables/ocata/oslo.config.yaml', 'deliverables/queens/python-ironicclient.yaml', 'deliverables/_independent/xstatic-angular-smart-table.yaml', 'deliverables/_independent/pylockfile.yaml', 'deliverables/newton/oslo.reports.yaml', 'deliverables/stein/blazar-tempest-plugin.yaml', 'deliverables/pike/mistral-lib.yaml', 'deliverables/train/oslo.context.yaml', 'deliverables/train/python-neutronclient.yaml', 'deliverables/_independent/xstatic-font-awesome.yaml', 'deliverables/stein/senlin-tempest-plugin.yaml', 'deliverables/pike/networking-odl.yaml', 'deliverables/mitaka/oslo.service.yaml', 'deliverables/mitaka/taskflow.yaml', 'deliverables/ocata/tooz.yaml', 'deliverables/rocky/solum-tempest-plugin.yaml', 'deliverables/stein/automaton.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/stein/mistral-tempest-plugin.yaml', 'deliverables/stein/octavia.yaml', 'deliverables/_independent/xstatic-json2yaml.yaml', 'deliverables/rocky/congress-tempest-plugin.yaml', 'deliverables/queens/oslo.versionedobjects.yaml', 'deliverables/_independent/xstatic-angular-uuid.yaml', 'deliverables/stein/python-novaclient.yaml', 'deliverables/queens/python-cloudkittyclient.yaml', 'deliverables/ocata/python-muranoclient.yaml', 'deliverables/rocky/tricircle.yaml', 'deliverables/mitaka/oslo.reports.yaml', 'deliverables/pike/python-karborclient.yaml', 'deliverables/ocata/python-troveclient.yaml', 'deliverables/stein/oslo.context.yaml', 'deliverables/train/kuryr-tempest-plugin.yaml', 'deliverables/pike/python-heatclient.yaml', 'deliverables/pike/ironic-ui.yaml', 'deliverables/ocata/ironic-ui.yaml', 'deliverables/train/osc-placement.yaml', 'deliverables/ocata/oslo.vmware.yaml', 'deliverables/stein/futurist.yaml', 'deliverables/stein/python-openstackclient.yaml', 'deliverables/rocky/os-vif.yaml', 'deliverables/queens/networking-hyperv.yaml', 'deliverables/rocky/python-brick-cinderclient-ext.yaml', 'deliverables/train/osc-lib.yaml', 'deliverables/mitaka/automaton.yaml', 'deliverables/newton/os-win.yaml', 'doc/source/reference/using.rst', 'deliverables/newton/oslo.db.yaml', 'deliverables/newton/python-mistralclient.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/rocky/python-muranoclient.yaml', 'deliverables/stein/ironic-ui.yaml', 'deliverables/mitaka/python-designateclient.yaml', 'deliverables/stein/networking-bgpvpn.yaml', 'deliverables/mitaka/os-win.yaml', 'deliverables/queens/networking-generic-switch.yaml', 'deliverables/mitaka/keystoneauth.yaml', 'deliverables/rocky/heat-tempest-plugin.yaml', 'deliverables/train/python-zunclient.yaml', 'deliverables/mitaka/stevedore.yaml', 'deliverables/stein/python-senlinclient.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/rocky/networking-midonet.yaml', 'deliverables/stein/python-neutronclient.yaml', 'deliverables/ocata/designate.yaml', 'deliverables/rocky/oslo.policy.yaml', 'deliverables/stein/os-acc.yaml', 'deliverables/stein/python-pankoclient.yaml', 'deliverables/newton/oslo.config.yaml', 'deliverables/stein/ironic-tempest-plugin.yaml', 'deliverables/train/magnum-tempest-plugin.yaml', 'deliverables/queens/python-congressclient.yaml', 'deliverables/_independent/doc8.yaml', 'deliverables/ocata/neutron-lib.yaml', 'deliverables/rocky/glance-store.yaml', 'deliverables/newton/python-ironicclient.yaml', 'deliverables/pike/python-pankoclient.yaml', 'deliverables/pike/osc-lib.yaml', 'deliverables/rocky/manila-tempest-plugin.yaml', 'deliverables/_independent/xstatic-angular-notify.yaml', 'deliverables/train/python-blazarclient.yaml', 'deliverables/mitaka/oslo.policy.yaml', 'deliverables/train/python-qinlingclient.yaml', 'deliverables/rocky/networking-odl.yaml', 'deliverables/mitaka/oslo.cache.yaml', 'deliverables/train/ceilometermiddleware.yaml', 'deliverables/ocata/python-cloudkittyclient.yaml', 'deliverables/mitaka/python-neutronclient.yaml', 'deliverables/pike/glance.yaml', 'deliverables/queens/os-vif.yaml', 'deliverables/rocky/debtcollector.yaml', 'deliverables/rocky/python-designateclient.yaml', 'deliverables/train/oslo.i18n.yaml', 'deliverables/rocky/python-senlinclient.yaml', 'deliverables/mitaka/osprofiler.yaml', 'deliverables/stein/python-vitrageclient.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/mitaka/python-novaclient.yaml', 'deliverables/newton/python-heatclient.yaml', 'deliverables/rocky/keystone-tempest-plugin.yaml', 'deliverables/pike/python-ironic-inspector-client.yaml', 'deliverables/train/python-freezerclient.yaml', 'deliverables/train/python-searchlightclient.yaml', 'deliverables/queens/neutron-lib.yaml', 'deliverables/rocky/networking-generic-switch.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/mitaka/python-manilaclient.yaml', 'deliverables/train/networking-hyperv.yaml', 'deliverables/train/neutron-lbaas-dashboard.yaml', 'deliverables/ocata/python-senlinclient.yaml', 'deliverables/stein/python-keystoneclient.yaml', 'deliverables/_independent/xstatic-angular-vis.yaml', 'deliverables/train/ec2-api.yaml', 'deliverables/newton/osprofiler.yaml', 'deliverables/rocky/openstacksdk.yaml', 'deliverables/stein/python-tackerclient.yaml', 'deliverables/train/openstacksdk.yaml', 'deliverables/newton/oslo.privsep.yaml', 'deliverables/ocata/os-brick.yaml', 'deliverables/pike/oslo.messaging.yaml', 'deliverables/newton/python-glanceclient.yaml', 'deliverables/rocky/python-heatclient.yaml', 'deliverables/mitaka/python-monascaclient.yaml', 'deliverables/queens/os-win.yaml', 'deliverables/mitaka/python-brick-cinderclient-ext.yaml', 'deliverables/pike/python-swiftclient.yaml', 'deliverables/mitaka/python-swiftclient.yaml', 'deliverables/queens/python-blazarclient.yaml', 'deliverables/pike/os-win.yaml', 'deliverables/train/placement.yaml', 'deliverables/pike/python-vitrageclient.yaml', 'deliverables/stein/oslo.cache.yaml', 'deliverables/train/glance-store.yaml', 'deliverables/ocata/networking-hyperv.yaml', 'deliverables/stein/networking-bagpipe.yaml', 'deliverables/train/stevedore.yaml', 'deliverables/stein/networking-hyperv.yaml', 'deliverables/_independent/xstatic-d3.yaml', 'deliverables/queens/oslo.context.yaml', 'deliverables/newton/mox3.yaml', 'deliverables/rocky/oslo.middleware.yaml', 'deliverables/pike/os-traits.yaml', 'deliverables/train/keystonemiddleware.yaml', 'deliverables/pike/python-magnumclient.yaml', 'deliverables/newton/python-searchlightclient.yaml', 'deliverables/stein/monasca-tempest-plugin.yaml', 'deliverables/queens/oslo.concurrency.yaml', 'deliverables/stein/oswin-tempest-plugin.yaml', 'deliverables/ocata/oslo.middleware.yaml', 'deliverables/_independent/ironic-tempest-plugin.yaml', 'deliverables/newton/cliff.yaml', 'deliverables/ocata/python-ironic-inspector-client.yaml', 'deliverables/train/python-ironicclient.yaml', 'deliverables/train/octavia-lib.yaml', 'deliverables/train/manila-tempest-plugin.yaml', 'deliverables/_independent/os-traits.yaml', 'deliverables/_independent/xstatic-mdi.yaml', 'deliverables/rocky/magnum-tempest-plugin.yaml', 'deliverables/rocky/telemetry-tempest-plugin.yaml', 'deliverables/queens/octavia-dashboard.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/stein/python-monascaclient.yaml', 'deliverables/stein/mistral.yaml', 'deliverables/train/cloudkitty-dashboard.yaml', 'deliverables/train/murano-tempest-plugin.yaml', 'deliverables/stein/oslotest.yaml', 'deliverables/newton/oslo.vmware.yaml', 'deliverables/train/python-novaclient.yaml', 'deliverables/_independent/hacking.yaml', 'deliverables/queens/os-traits.yaml', 'deliverables/ocata/keystonemiddleware.yaml', 'deliverables/_independent/murano-pkg-check.yaml', 'deliverables/stein/oslo.policy.yaml', 'deliverables/newton/python-aodhclient.yaml', 'deliverables/stein/debtcollector.yaml', 'deliverables/stein/freezer-tempest-plugin.yaml', 'deliverables/_independent/xstatic-bootstrap-scss.yaml', 'deliverables/queens/heat-translator.yaml', 'deliverables/newton/mistral.yaml', 'deliverables/ocata/python-mistralclient.yaml', 'deliverables/rocky/networking-ovn.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/pike/python-monascaclient.yaml', 'deliverables/train/ec2api-tempest-plugin.yaml', 'deliverables/train/python-troveclient.yaml', 'deliverables/queens/ironic-ui.yaml', 'deliverables/rocky/mistral.yaml', 'deliverables/_independent/xstatic-angular-gettext.yaml', 'deliverables/stein/zun-tempest-plugin.yaml', 'deliverables/stein/taskflow.yaml', 'deliverables/train/oslo.cache.yaml', 'deliverables/ocata/oslo.log.yaml', 'deliverables/_independent/python-storyboardclient.yaml', 'deliverables/newton/oslosphinx.yaml', 'deliverables/rocky/designate.yaml', 'deliverables/stein/telemetry-tempest-plugin.yaml', 'deliverables/queens/networking-bagpipe.yaml', 'deliverables/mitaka/os-client-config.yaml', 'deliverables/rocky/oslo.rootwrap.yaml', 'deliverables/queens/python-keystoneclient.yaml', 'deliverables/stein/python-troveclient.yaml', 'deliverables/train/trove-tempest-plugin.yaml', 'deliverables/queens/python-mistralclient.yaml', 'deliverables/ocata/mistral.yaml', 'deliverables/ocata/osprofiler.yaml', 'deliverables/train/zaqar-tempest-plugin.yaml', 'deliverables/train/barbican-tempest-plugin.yaml', 'deliverables/ocata/cliff.yaml', 'deliverables/queens/oslosphinx.yaml', 'deliverables/rocky/python-octaviaclient.yaml', 'deliverables/train/oslo.privsep.yaml', 'deliverables/rocky/networking-bgpvpn.yaml', 'deliverables/pike/ironic-lib.yaml', 'deliverables/ocata/oslo.messaging.yaml', 'deliverables/mitaka/oslo.concurrency.yaml', 'deliverables/queens/oslo.config.yaml', 'deliverables/train/telemetry-tempest-plugin.yaml', 'deliverables/ocata/python-heatclient.yaml', 'openstack_releases/yamlutils.py', 'deliverables/rocky/networking-bagpipe.yaml', 'deliverables/pike/networking-sfc.yaml', 'deliverables/ocata/os-win.yaml', 'deliverables/train/vitrage-tempest-plugin.yaml', 'deliverables/rocky/python-saharaclient.yaml', 'deliverables/train/pycadf.yaml', 'deliverables/pike/python-troveclient.yaml', 'deliverables/mitaka/keystonemiddleware.yaml', 'deliverables/queens/openstacksdk.yaml', 'deliverables/ocata/python-neutronclient.yaml', 'deliverables/train/networking-bgpvpn.yaml', 'deliverables/ocata/python-cinderclient.yaml', 'deliverables/_independent/rally-openstack.yaml', 'deliverables/queens/networking-sfc.yaml', 'deliverables/newton/networking-hyperv.yaml', 'deliverables/ocata/python-openstackclient.yaml', 'deliverables/newton/neutron-lib.yaml', 'deliverables/stein/python-watcherclient.yaml', 'deliverables/stein/python-freezerclient.yaml', 'deliverables/stein/congress-tempest-plugin.yaml', 'deliverables/pike/python-aodhclient.yaml', 'deliverables/rocky/oswin-tempest-plugin.yaml', 'deliverables/rocky/shade.yaml', 'deliverables/queens/os-brick.yaml', 'deliverables/rocky/keystonemiddleware.yaml', 'deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/liberty/oslo.service.yaml', 'deliverables/queens/python-magnumclient.yaml', 'deliverables/rocky/python-cinderclient.yaml', 'deliverables/_independent/xstatic-bootswatch.yaml', 'deliverables/rocky/oslo.concurrency.yaml', 'deliverables/stein/designate-tempest-plugin.yaml', 'deliverables/stein/oslo.middleware.yaml', 'deliverables/ocata/python-monascaclient.yaml', 'deliverables/stein/octavia-dashboard.yaml', 'deliverables/stein/tosca-parser.yaml', 'deliverables/pike/python-neutronclient.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/rocky/oslo.context.yaml', 'deliverables/rocky/octavia-tempest-plugin.yaml', 'deliverables/rocky/oslo.service.yaml', 'deliverables/train/cloudkitty.yaml', 'deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/queens/oslo.messaging.yaml', 'deliverables/ocata/python-saharaclient.yaml', 'deliverables/stein/python-aodhclient.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/train/python-senlinclient.yaml', 'deliverables/rocky/cloudkitty-dashboard.yaml', 'deliverables/queens/cliff.yaml', 'deliverables/rocky/python-mistralclient.yaml', 'deliverables/rocky/os-client-config.yaml', 'deliverables/queens/automaton.yaml', 'deliverables/stein/tooz.yaml', 'deliverables/ocata/mox3.yaml', 'deliverables/pike/python-congressclient.yaml', 'deliverables/pike/networking-baremetal.yaml', 'deliverables/stein/cliff.yaml', 'deliverables/pike/python-searchlightclient.yaml', 'deliverables/rocky/python-novaclient.yaml', 'deliverables/train/python-tackerclient.yaml', 'deliverables/mitaka/oslosphinx.yaml', 'deliverables/stein/python-blazarclient.yaml', 'deliverables/train/debtcollector.yaml', 'deliverables/_independent/xstatic-roboto-fontface.yaml', 'deliverables/stein/trove-tempest-plugin.yaml', 'deliverables/rocky/python-troveclient.yaml', 'deliverables/ocata/oslosphinx.yaml', 'deliverables/rocky/heat-translator.yaml', 'deliverables/rocky/python-manilaclient.yaml', 'deliverables/train/python-cloudkittyclient.yaml', 'deliverables/queens/osprofiler.yaml', 'deliverables/queens/python-glanceclient.yaml', 'deliverables/ocata/oslo.versionedobjects.yaml', 'deliverables/rocky/python-openstackclient.yaml', 'deliverables/_independent/rally.yaml', 'deliverables/stein/requirements.yaml', 'deliverables/mitaka/python-muranoclient.yaml', 'deliverables/stein/os-traits.yaml', 'deliverables/rocky/pycadf.yaml', 'deliverables/pike/python-keystoneclient.yaml', 'deliverables/rocky/mox3.yaml', 'deliverables/newton/python-troveclient.yaml', 'deliverables/train/senlin-tempest-plugin.yaml', 'deliverables/rocky/python-ironicclient.yaml', 'deliverables/newton/oslo.i18n.yaml', 'deliverables/rocky/tempest.yaml', 'deliverables/train/oslo.policy.yaml', 'deliverables/stein/osprofiler.yaml', 'deliverables/train/watcher-tempest-plugin.yaml', 'deliverables/stein/cloudkitty-dashboard.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/stein/python-mistralclient.yaml', 'deliverables/rocky/ironic-ui.yaml', 'deliverables/stein/oslo.messaging.yaml', 'deliverables/kilo/requirements.yaml', 'deliverables/train/keystone-tempest-plugin.yaml', 'deliverables/queens/networking-midonet.yaml', 'deliverables/train/oslo.utils.yaml', 'deliverables/_independent/xstatic-angular-material.yaml', 'deliverables/mitaka/cloudkitty-dashboard.yaml', 'deliverables/pike/keystonemiddleware.yaml', 'deliverables/stein/heat-translator.yaml', 'deliverables/mitaka/tooz.yaml', 'deliverables/ocata/python-manilaclient.yaml', 'deliverables/rocky/futurist.yaml', 'deliverables/ocata/tempest.yaml', 'deliverables/train/oslo.rootwrap.yaml', 'deliverables/train/python-designateclient.yaml', 'deliverables/ocata/oslotest.yaml', 'deliverables/ocata/python-congressclient.yaml', 'deliverables/newton/osc-lib.yaml', 'deliverables/stein/oslo.log.yaml', 'deliverables/stein/glance.yaml', 'deliverables/mitaka/python-glanceclient.yaml', 'deliverables/ocata/glance-store.yaml', 'deliverables/queens/octavia.yaml', 'deliverables/ocata/python-ironicclient.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/queens/oslo.vmware.yaml', 'deliverables/queens/python-watcherclient.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/pike/networking-bagpipe.yaml', 'deliverables/newton/python-ironic-inspector-client.yaml', 'deliverables/rocky/cloudkitty.yaml', 'deliverables/rocky/python-vitrageclient.yaml', 'deliverables/stein/os-resource-classes.yaml', 'deliverables/mitaka/python-cliff.yaml', 'deliverables/stein/osc-lib.yaml', 'deliverables/train/neutron-tempest-plugin.yaml', 'deliverables/queens/python-tackerclient.yaml', 'deliverables/newton/oslo.cache.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/ocata/oslo.rootwrap.yaml', 'deliverables/pike/mox3.yaml', 'deliverables/stein/python-zunclient.yaml', 'deliverables/queens/python-troveclient.yaml', 'deliverables/rocky/oslo.db.yaml', 'deliverables/newton/python-watcherclient.yaml', 'deliverables/newton/oslo.service.yaml', 'deliverables/train/mistral-tempest-plugin.yaml', 'deliverables/queens/python-karborclient.yaml', 'deliverables/_independent/monasca-tempest-plugin.yaml', 'deliverables/queens/python-manilaclient.yaml', 'deliverables/mitaka/requirements.yaml', 'deliverables/ocata/python-ceilometerclient.yaml', 'deliverables/ocata/python-glanceclient.yaml', 'deliverables/newton/keystonemiddleware.yaml', 'deliverables/rocky/networking-hyperv.yaml', 'deliverables/queens/glance.yaml', 'deliverables/train/python-watcherclient.yaml', 'deliverables/rocky/cliff.yaml', 'deliverables/_independent/vitrage-tempest-plugin.yaml', 'deliverables/rocky/python-glanceclient.yaml', 'deliverables/queens/python-openstackclient.yaml', 'deliverables/ocata/oslo.concurrency.yaml', 'deliverables/newton/oslo.versionedobjects.yaml', 'deliverables/train/freezer-web-ui.yaml', 'deliverables/train/designate.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/ocata/ceilometermiddleware.yaml', 'deliverables/rocky/oslo.privsep.yaml', 'deliverables/pike/python-blazarclient.yaml', 'deliverables/stein/tricircle.yaml', 'deliverables/mitaka/django-openstack-auth.yaml', 'deliverables/rocky/cloudkitty-tempest-plugin.yaml', 'deliverables/train/os-ken.yaml', 'deliverables/mitaka/oslo.rootwrap.yaml', 'deliverables/queens/oslo.privsep.yaml', 'deliverables/train/python-muranoclient.yaml', 'deliverables/newton/python-openstackclient.yaml', 'deliverables/mitaka/futurist.yaml', 'deliverables/_independent/oswin-tempest-plugin.yaml', 'deliverables/pike/octavia.yaml', 'deliverables/ocata/python-brick-cinderclient-ext.yaml', 'deliverables/rocky/os-win.yaml', 'deliverables/stein/searchlight-ui.yaml', 'deliverables/train/networking-generic-switch.yaml', 'deliverables/queens/keystonemiddleware.yaml', 'deliverables/newton/os-brick.yaml', 'deliverables/queens/shade.yaml', 'deliverables/stein/cloudkitty-tempest-plugin.yaml', 'deliverables/queens/python-aodhclient.yaml', 'deliverables/train/octavia.yaml', 'deliverables/queens/designate.yaml', 'deliverables/kilo/python-muranoclient.yaml', 'deliverables/mitaka/oslo.middleware.yaml', 'deliverables/train/python-ironic-inspector-client.yaml', 'deliverables/stein/heat-tempest-plugin.yaml', 'deliverables/_independent/bashate.yaml', 'deliverables/pike/networking-ovn.yaml', 'deliverables/rocky/barbican-tempest-plugin.yaml', 'deliverables/ocata/python-zaqarclient.yaml', 'deliverables/train/keystoneauth.yaml', 'deliverables/rocky/senlin-tempest-plugin.yaml', 'deliverables/stein/networking-midonet.yaml', 'deliverables/_independent/xstatic-angular.yaml', 'deliverables/ocata/osc-lib.yaml', 'deliverables/stein/python-heatclient.yaml', 'deliverables/newton/python-cloudkittyclient.yaml', 'deliverables/train/python-monascaclient.yaml', 'deliverables/pike/tricircle.yaml', 'deliverables/mitaka/python-cinderclient.yaml', 'deliverables/train/python-congressclient.yaml', 'deliverables/ocata/python-vitrageclient.yaml', 'deliverables/pike/python-designateclient.yaml', 'deliverables/rocky/python-cloudkittyclient.yaml', 'deliverables/train/ironic-lib.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/rocky/ironic-lib.yaml', 'deliverables/rocky/python-karborclient.yaml', 'deliverables/rocky/osc-lib.yaml', 'deliverables/train/python-manilaclient.yaml', 'deliverables/pike/tempest.yaml', 'deliverables/rocky/python-pankoclient.yaml', 'deliverables/stein/manila-tempest-plugin.yaml', 'deliverables/ocata/keystoneauth.yaml', 'deliverables/train/python-saharaclient.yaml', 'deliverables/ocata/taskflow.yaml', 'deliverables/queens/python-cinderclient.yaml', 'deliverables/ocata/oslo.policy.yaml', 'deliverables/mitaka/vmware-nsx.yaml', 'deliverables/ocata/oslo.service.yaml', 'deliverables/_independent/xstatic-angular-bootstrap.yaml', 'deliverables/train/python-magnumclient.yaml', 'deliverables/rocky/mistral-lib.yaml', 'deliverables/rocky/zaqar-tempest-plugin.yaml', 'deliverables/ocata/python-keystoneclient.yaml', 'deliverables/_independent/yaql.yaml', 'deliverables/pike/glance-store.yaml', 'deliverables/rocky/python-watcherclient.yaml', 'deliverables/pike/pycadf.yaml', 'deliverables/mitaka/glance-store.yaml', 'deliverables/stein/watcher-tempest-plugin.yaml', 'deliverables/train/ironic-ui.yaml', 'deliverables/queens/osc-lib.yaml', 'deliverables/train/oslo.messaging.yaml', 'deliverables/ocata/python-searchlightclient.yaml', 'deliverables/pike/python-ceilometerclient.yaml', 'deliverables/queens/networking-ovn.yaml', 'deliverables/mitaka/ceilometermiddleware.yaml', 'deliverables/queens/oslo.rootwrap.yaml', 'deliverables/pike/python-openstackclient.yaml', 'deliverables/queens/python-vitrageclient.yaml', 'deliverables/train/monasca-tempest-plugin.yaml', 'deliverables/train/os-win.yaml', 'deliverables/newton/python-neutronclient.yaml', 'deliverables/newton/oslo.log.yaml', 'deliverables/ocata/pycadf.yaml', 'deliverables/mitaka/oslo.utils.yaml', 'deliverables/stein/os-ken.yaml', 'deliverables/newton/glance-store.yaml', 'deliverables/stein/oslo.service.yaml', 'deliverables/mitaka/octavia.yaml', 'deliverables/rocky/monasca-tempest-plugin.yaml', 'deliverables/newton/debtcollector.yaml', 'deliverables/train/automaton.yaml', 'deliverables/newton/ironic-ui.yaml', 'deliverables/pike/python-muranoclient.yaml', 'deliverables/queens/oslo.utils.yaml', 'deliverables/newton/python-brick-cinderclient-ext.yaml', 'deliverables/mitaka/python-ironicclient.yaml', 'deliverables/train/tempest.yaml', 'deliverables/mitaka/python-ceilometerclient.yaml', 'deliverables/ocata/python-aodhclient.yaml', 'deliverables/train/tempest-horizon.yaml', 'deliverables/stein/oslo.rootwrap.yaml', 'deliverables/newton/glance.yaml', 'deliverables/rocky/os-brick.yaml', 'deliverables/stein/murano-tempest-plugin.yaml', 'deliverables/_independent/xstatic-filesaver.yaml', 'deliverables/stein/mistral-lib.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/train/oslo.service.yaml', 'deliverables/rocky/stevedore.yaml', 'deliverables/stein/os-vif.yaml', 'deliverables/newton/taskflow.yaml', 'deliverables/pike/designate.yaml', 'deliverables/pike/networking-midonet.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/queens/python-senlinclient.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/stein/octavia-lib.yaml', 'deliverables/train/python-mistralclient.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.context.yaml', 'deliverables/queens/cloudkitty.yaml', 'deliverables/rocky/python-cyborgclient.yaml', 'deliverables/queens/keystoneauth.yaml', 'deliverables/rocky/automaton.yaml', 'deliverables/liberty/python-glanceclient.yaml', 'deliverables/rocky/python-zaqarclient.yaml', 'deliverables/rocky/os-acc.yaml', 'deliverables/newton/oslotest.yaml', 'deliverables/train/oslo.versionedobjects.yaml', 'deliverables/ocata/networking-ovn.yaml', 'deliverables/queens/oslo.service.yaml', 'deliverables/mitaka/python-zaqarclient.yaml', 'deliverables/pike/cliff.yaml', 'deliverables/rocky/oslo.config.yaml', 'deliverables/ocata/python-swiftclient.yaml', 'deliverables/stein/python-octaviaclient.yaml', 'deliverables/newton/python-keystoneclient.yaml', 'deliverables/pike/django_openstack_auth.yaml', 'deliverables/train/oswin-tempest-plugin.yaml', 'deliverables/queens/requestsexceptions.yaml', 'deliverables/newton/oslo.policy.yaml', 'deliverables/_independent/networking-odl.yaml', 'deliverables/newton/python-cinderclient.yaml', 'deliverables/mitaka/python-heatclient.yaml', 'deliverables/queens/python-saharaclient.yaml', 'deliverables/ocata/requirements.yaml', 'deliverables/pike/oslo.i18n.yaml', 'deliverables/queens/pycadf.yaml', 'deliverables/newton/python-congressclient.yaml', 'deliverables/mitaka/oslo.config.yaml', 'deliverables/stein/stevedore.yaml', 'deliverables/stein/python-karborclient.yaml', 'deliverables/stein/networking-generic-switch.yaml', 'deliverables/train/python-openstackclient.yaml', 'deliverables/mitaka/python-mistralclient.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/stein/ec2api-tempest-plugin.yaml', 'deliverables/ocata/oslo.db.yaml', 'deliverables/_independent/xstatic-angular-lrdragndrop.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml', 'deliverables/rocky/glance.yaml', 'deliverables/ocata/oslo.reports.yaml', 'deliverables/liberty/glance-store.yaml', 'deliverables/stein/os-win.yaml', 'deliverables/pike/ironic-python-agent.yaml', 'deliverables/queens/mistral-lib.yaml', 'deliverables/ocata/oslo.i18n.yaml', 'deliverables/stein/keystonemiddleware.yaml', 'deliverables/mitaka/python-troveclient.yaml', 'deliverables/newton/ironic-lib.yaml', 'deliverables/rocky/python-congressclient.yaml', 'deliverables/mitaka/ironic-lib.yaml', 'deliverables/rocky/ironic-tempest-plugin.yaml', 'deliverables/_independent/os-testr.yaml', 'deliverables/pike/cloudkitty.yaml', 'deliverables/train/freezer-tempest-plugin.yaml', 'deliverables/_independent/bandit.yaml', 'deliverables/ocata/stevedore.yaml', 'deliverables/_independent/heat-translator.yaml', 'deliverables/pike/python-cloudkittyclient.yaml', 'deliverables/mitaka/oslo.log.yaml', 'deliverables/ocata/python-magnumclient.yaml', 'deliverables/pike/mistral.yaml', 'deliverables/stein/oslo.upgradecheck.yaml', 'deliverables/queens/stevedore.yaml', 'deliverables/pike/python-cinderclient.yaml', 'deliverables/stein/ec2-api.yaml', 'deliverables/rocky/python-magnumclient.yaml', 'deliverables/_independent/sphinx-feature-classification.yaml', 'deliverables/pike/ceilometermiddleware.yaml', 'deliverables/train/oslo.reports.yaml', 'deliverables/_independent/xstatic-jasmine.yaml', 'deliverables/stein/oslo.i18n.yaml', 'deliverables/stein/keystoneauth.yaml', 'deliverables/train/python-karborclient.yaml', 'deliverables/newton/oslo.context.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/queens/python-ironic-inspector-client.yaml', 'deliverables/rocky/oslo.log.yaml', 'deliverables/rocky/ceilometermiddleware.yaml', 'deliverables/stein/magnum-tempest-plugin.yaml', 'deliverables/stein/neutron-lbaas-dashboard.yaml', 'deliverables/train/oslo.concurrency.yaml', 'deliverables/train/python-aodhclient.yaml', 'deliverables/stein/zaqar-tempest-plugin.yaml', 'deliverables/train/oslo.upgradecheck.yaml', 'deliverables/ocata/oslo.utils.yaml', 'deliverables/rocky/oslo.utils.yaml', 'deliverables/stein/tempest-horizon.yaml', 'deliverables/_independent/python-karborclient.yaml', 'deliverables/stein/python-designateclient.yaml', 'deliverables/train/designate-tempest-plugin.yaml', 'deliverables/newton/python-novaclient.yaml', 'deliverables/train/networking-odl.yaml', 'deliverables/_independent/python-tempestconf.yaml', 'deliverables/mitaka/os-brick.yaml', 'deliverables/mitaka/pycadf.yaml', 'deliverables/_independent/networking-generic-switch.yaml', 'deliverables/_independent/xstatic-jsencrypt.yaml', 'deliverables/train/python-pankoclient.yaml', 'deliverables/rocky/ec2-api.yaml', 'deliverables/stein/python-cyborgclient.yaml', 'deliverables/stein/networking-sfc.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/stein/oslo.reports.yaml', 'deliverables/queens/python-zunclient.yaml', 'deliverables/pike/python-tackerclient.yaml', 'deliverables/ocata/os-client-config.yaml', 'deliverables/newton/automaton.yaml', 'deliverables/queens/python-muranoclient.yaml', 'deliverables/rocky/python-zunclient.yaml', 'deliverables/pike/python-watcherclient.yaml', 'deliverables/_independent/os-net-config.yaml', 'deliverables/mitaka/python-aodhclient.yaml', 'deliverables/newton/os-client-config.yaml', 'deliverables/stein/vitrage-tempest-plugin.yaml', 'deliverables/newton/futurist.yaml', 'deliverables/train/python-keystoneclient.yaml', 'deliverables/train/tooz.yaml', 'deliverables/_independent/devstack-tools.yaml', 'deliverables/mitaka/oslo.context.yaml', 'deliverables/newton/cloudkitty-dashboard.yaml', 'deliverables/queens/oslo.reports.yaml', 'deliverables/stein/shade.yaml', 'deliverables/train/oslo.middleware.yaml', 'deliverables/queens/python-zaqarclient.yaml', 'deliverables/_independent/karbor-dashboard.yaml', 'deliverables/mitaka/python-tackerclient.yaml', 'deliverables/train/os-vif.yaml', 'deliverables/train/python-swiftclient.yaml', 'deliverables/_independent/xstatic-js-yaml.yaml', 'deliverables/train/cliff.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/pike/shade.yaml', 'deliverables/pike/requestsexceptions.yaml', 'deliverables/queens/cloudkitty-dashboard.yaml', 'deliverables/queens/oslo.log.yaml', 'deliverables/stein/oslo.config.yaml', 'deliverables/mitaka/oslo.vmware.yaml', 'deliverables/queens/oslo.i18n.yaml', 'deliverables/newton/python-saharaclient.yaml', 'deliverables/rocky/python-qinlingclient.yaml', 'deliverables/stein/placement.yaml', 'deliverables/train/mistral.yaml', 'deliverables/rocky/oslo.reports.yaml', 'deliverables/pike/neutron-lbaas-dashboard.yaml', 'deliverables/rocky/zun-tempest-plugin.yaml', 'deliverables/train/solum-tempest-plugin.yaml', 'deliverables/queens/oslo.serialization.yaml', 'deliverables/rocky/trove-tempest-plugin.yaml', 'deliverables/stein/python-searchlightclient.yaml', 'deliverables/pike/python-senlinclient.yaml']",919,3358e697113c6c89aa5a1a3b11f2fb264412a154,ruamel,include-pypi-link: true,include-pypi-link: yes,919,920
openstack%2Ftempest~master~I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8,openstack/tempest,master,I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8,"Revert ""Use memcached based cache in nova in all devstack-tempest jobs""",MERGED,2019-07-31 11:07:31.000000000,2019-08-01 20:43:06.000000000,2019-08-01 14:01:52.000000000,"[{'_account_id': 4146}, {'_account_id': 4694}, {'_account_id': 5689}, {'_account_id': 5690}, {'_account_id': 5803}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 16222}, {'_account_id': 16688}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28006}]","[{'number': 1, 'created': '2019-07-31 11:07:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/924a035886da43cd51cd5763c1f5ed9f44a502b6', 'message': 'Revert ""Use memcached based cache in nova in all devstack-tempest jobs""\n\nThis reverts commit eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e.\n\nThis break jobs that do not deploy nova, like ironic, see e.g. http://logs.openstack.org/98/670698/5/check/ironic-standalone/d9d3d0e/job-output.txt.gz#_2019-07-31_03_56_36_492216\n\nChange-Id: I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8\n'}]",0,673784,924a035886da43cd51cd5763c1f5ed9f44a502b6,25,21,1,13252,,,0,"Revert ""Use memcached based cache in nova in all devstack-tempest jobs""

This reverts commit eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e.

This break jobs that do not deploy nova, like ironic, see e.g. http://logs.openstack.org/98/670698/5/check/ironic-standalone/d9d3d0e/job-output.txt.gz#_2019-07-31_03_56_36_492216

Change-Id: I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/673784/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,924a035886da43cd51cd5763c1f5ed9f44a502b6,bug/1836642,," post-config: # TODO(slaweq): remove this hardcoded options when # https://bugs.launchpad.net/devstack/+bug/1837980 # will be fixed and Devstack will support configuration # of cache in Nova $NOVA_CONF: cache: memcache_servers: ""localhost:11211"" backend: ""dogpile.cache.memcached"" enabled: ""True""",0,10
openstack%2Fansible-role-thales-hsm~master~I054ad78fedde279a056808e4abf1256ad80cb92e,openstack/ansible-role-thales-hsm,master,I054ad78fedde279a056808e4abf1256ad80cb92e,Fix typo in client playbook,MERGED,2019-08-01 20:17:16.000000000,2019-08-01 20:35:21.000000000,2019-08-01 20:35:21.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 20:17:16.000000000', 'files': ['tasks/client.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/93f475c08d2538220fb78015bd66d135e2b73bc2', 'message': 'Fix typo in client playbook\n\nChange-Id: I054ad78fedde279a056808e4abf1256ad80cb92e\n'}]",0,674128,93f475c08d2538220fb78015bd66d135e2b73bc2,6,2,1,7973,,,0,"Fix typo in client playbook

Change-Id: I054ad78fedde279a056808e4abf1256ad80cb92e
",git fetch https://review.opendev.org/openstack/ansible-role-thales-hsm refs/changes/28/674128/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/client.yaml'],1,93f475c08d2538220fb78015bd66d135e2b73bc2,, register: st, registers: st,1,1
openstack%2Ftripleo-ansible~master~I2923b06665342f3f565d52748bf50d1a66ed9950,openstack/tripleo-ansible,master,I2923b06665342f3f565d52748bf50d1a66ed9950,Updates old references to ceph_docker_* ansible variables,MERGED,2019-07-30 10:48:54.000000000,2019-08-01 20:06:06.000000000,2019-08-01 20:06:06.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-30 10:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/399042e2d9f832cc71d1588219096c27743c087b', 'message': 'Updates old references to ceph_docker_* ansible variables\n\nReplaces some ceph-ansible variables name to match the changes\nintroduced with PR #4002\n\nChange-Id: I2923b06665342f3f565d52748bf50d1a66ed9950\n'}, {'number': 2, 'created': '2019-07-31 12:12:09.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/edac939ae23b44c60ab0a58d8de8905a1bacb946', 'message': 'Updates old references to ceph_docker_* ansible variables\n\nReplaces some ceph-ansible variables name to match the changes\nintroduced with PR #4002\n\nChange-Id: I2923b06665342f3f565d52748bf50d1a66ed9950\n'}]",1,673478,edac939ae23b44c60ab0a58d8de8905a1bacb946,21,9,2,6796,,,0,"Updates old references to ceph_docker_* ansible variables

Replaces some ceph-ansible variables name to match the changes
introduced with PR #4002

Change-Id: I2923b06665342f3f565d52748bf50d1a66ed9950
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/673478/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml'],1,399042e2d9f832cc71d1588219096c27743c087b,, rgw_swift_account_in_url: 'true' ceph_container_image: ceph/daemon ceph_container_image_tag: v4.0.1-stable-4.0-nautilus-centos-7-x86_64 ceph_container_registry: 192.168.24.1:8787, ceph_docker_image: ceph/daemon ceph_docker_image_tag: v4.0.0-stable-4.0-nautilus-centos-7-x86_64 ceph_docker_registry: 192.168.24.1:8787 docker: truedocker: true,4,5
openstack%2Freleases~master~I2f6414d0f71baad58335702743f2180f8da3273f,openstack/releases,master,I2f6414d0f71baad58335702743f2180f8da3273f,Add stable-branch-mode:none option,MERGED,2019-07-15 10:30:13.000000000,2019-08-01 20:02:59.000000000,2019-08-01 20:02:59.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-15 10:30:13.000000000', 'files': ['doc/source/reference/using.rst', 'openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/schema.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f7c9e782f57af9318551db799d60a6800e03f79', 'message': 'Add stable-branch-mode:none option\n\nSome ""other"" deliverables like tempest and patrole never\ncreate stable branches. This allows to clearly mark such\ndeliverables and add a corner case in validation tests.\n\nChange-Id: I2f6414d0f71baad58335702743f2180f8da3273f\n'}]",0,670808,3f7c9e782f57af9318551db799d60a6800e03f79,11,5,1,308,,,0,"Add stable-branch-mode:none option

Some ""other"" deliverables like tempest and patrole never
create stable branches. This allows to clearly mark such
deliverables and add a corner case in validation tests.

Change-Id: I2f6414d0f71baad58335702743f2180f8da3273f
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/670808/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/using.rst', 'openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/schema.yaml']",4,3f7c9e782f57af9318551db799d60a6800e03f79,stable-branch-mode-none," enum: [ ""std"", ""tagless"", ""upstream"", ""none"" ]"," enum: [ ""std"", ""tagless"", ""upstream"" ]",37,1
openstack%2Fnova~stable%2Frocky~I5dc65924fee65f6340d1495a9b1b992001c30731,openstack/nova,stable/rocky,I5dc65924fee65f6340d1495a9b1b992001c30731,docs: Correct issues with 'openstack quota set' commands,MERGED,2019-07-10 15:26:02.000000000,2019-08-01 19:49:31.000000000,2019-08-01 19:49:31.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-10 15:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34298d03b1326008a66809f82dd11c88559fd21d', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 2, 'created': '2019-07-10 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19cedf822a6b1d38a83f6aace0fc6dfa40cb5bcc', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n(cherry picked from commit efd9344f2ee9995d242bb236cfeb152b87bb17e7)\n(cherry picked from commit fcde2cab24d5b66888e46270df13bf978ccbabbc)\n""}, {'number': 3, 'created': '2019-07-11 12:26:36.000000000', 'files': ['doc/source/admin/quotas.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5982c92fa883e40cf01faf58b84e5f93fd7ebdbb', 'message': ""docs: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n(cherry picked from commit 426790237e75eb184191bee1de50ee493252a717)\n(cherry picked from commit 75a3ae933759fb89abd7ee9847fb6685c22a862c)\n""}]",0,670097,5982c92fa883e40cf01faf58b84e5f93fd7ebdbb,13,4,3,15334,,,0,"docs: Correct issues with 'openstack quota set' commands

Change Ic857918b15496049b5ccacde9515f130cc0bd7e9 against
openstack-manuals updated the quotas document to use openstackclient
commands in place of novaclient commands. It missed the fact that you
need to pass the '--class' parameter if you wish to set a quota for a
class rather than a project. Correct this.

Change-Id: I5dc65924fee65f6340d1495a9b1b992001c30731
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1834057
(cherry picked from commit 426790237e75eb184191bee1de50ee493252a717)
(cherry picked from commit 75a3ae933759fb89abd7ee9847fb6685c22a862c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/670097/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/quotas.rst'],1,34298d03b1326008a66809f82dd11c88559fd21d,bug/1834057, +----------------------+----------+ | Field | Value | +----------------------+----------+ | backup-gigabytes | 1000 | | backups | 10 | | cores | 20 | | fixed-ips | -1 | | floating-ips | 50 | | gigabytes | 1000 | | health_monitors | None | | injected-file-size | 10240 | | injected-files | 5 | | injected-path-size | 255 | | instances | 10 | | key-pairs | 100 | | l7_policies | None | | listeners | None | | load_balancers | None | | location | None | | name | None | | networks | 10 | | per-volume-gigabytes | -1 | | pools | None | | ports | 50 | | project | None | | project_name | project | | properties | 128 | | ram | 51200 | | rbac_policies | 10 | | routers | 10 | | secgroup-rules | 100 | | secgroups | 10 | | server-group-members | 10 | | server-groups | 10 | | snapshots | 10 | | subnet_pools | -1 | | subnets | 10 | | volumes | 10 | +----------------------+----------+ $ openstack quota set --class --instances 15 default +----------------------+----------------------------------+ | Field | Value | +----------------------+----------------------------------+ | backup-gigabytes | 1000 | | backups | 10 | | cores | 32 | | fixed-ips | -1 | | floating-ips | 10 | | gigabytes | 1000 | | health_monitors | None | | injected-file-size | 10240 | | injected-files | 5 | | injected-path-size | 255 | | instances | 10 | | key-pairs | 100 | | l7_policies | None | | listeners | None | | load_balancers | None | | location | None | | name | None | | networks | 20 | | per-volume-gigabytes | -1 | | pools | None | | ports | 60 | | project | c8156b55ec3b486193e73d2974196993 | | project_name | project | | properties | 128 | | ram | 65536 | | rbac_policies | 10 | | routers | 10 | | secgroup-rules | 50 | | secgroups | 50 | | server-group-members | 10 | | server-groups | 10 | | snapshots | 10 | | subnet_pools | -1 | | subnets | 20 | | volumes | 10 | +----------------------+----------------------------------+ To update quotas for a project: $ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_NAME To update quotas for a class: .. code-block:: console $ openstack quota set --class --QUOTA_NAME QUOTA_VALUE CLASS_NAME $ openstack quota set --gigabytes 2000 PROJECT_NAME +----------------------+----------------------------------+ | Field | Value | +----------------------+----------------------------------+ | ... | ... | | gigabytes | 2000 | | ... | ... | +----------------------+----------------------------------+, +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 10 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+ $ openstack quota set --instances 15 default +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 10 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+ $ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_OR_CLASS $ openstack quota set --floating-ips 20 PROJECT_OR_CLASS +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 20 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+,96,59
openstack%2Fnova~stable%2Frocky~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,stable/rocky,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-04 09:20:13.000000000,2019-08-01 19:49:24.000000000,2019-08-01 19:49:24.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 09:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2590474bae307ab06e1a06b209af490fde1ef5ff', 'message': ""Stabilize unshelve notification sample tests\n\nThe notification sample test for unshelve waits for the instance to\nreach ACTIVE state and then asserts if unshelve.end notification is\nemitted properly. However the instance.vm_state is set to ACTIVE earlier[1]\nthan emitting the unshelve.end notification[2]. This can cause two\ndifferent test case failure.\n\n1) _test_unshelve_server() fails with no ushelve.end notification\nreceived.\n\n2) _test_shelve_and_shelve_offload_server() also has a unshelve action\nat the end and that test step also only waits for the the ACTIVE state.\nSo the unshelve.end notification from the end of\n_test_shelve_and_shelve_offload_server() can bleed into the\n_test_unshelve_server() step causing that it receive one more\nnotifications.\n\nSo this patch adds an extra\nself._wait_for_notification('instance.unshelve.end') call to each test\nstep to prevent the instability.\n\n[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326\n[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329\n[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836\n\nConflicts:\n      nova/tests/functional/notification_sample_tests/test_instance.py\nConflicts due to:\n* Ie7a886f5b389c2f0bb9dc66129e4562cc09ba1b5\n* I019e88fabd1d386c0d6395a7b1969315873485fd\n\nCloses-Bug: #1835070\n\nChange-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1\n(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)\n(cherry picked from commit 3bc6ff029ff24083844db363010988d8d08cff00)\n""}, {'number': 2, 'created': '2019-07-04 11:04:23.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a85ce04fa39e60e672e4fa2d7912f6880079c6ef', 'message': ""Stabilize unshelve notification sample tests\n\nThe notification sample test for unshelve waits for the instance to\nreach ACTIVE state and then asserts if unshelve.end notification is\nemitted properly. However the instance.vm_state is set to ACTIVE earlier[1]\nthan emitting the unshelve.end notification[2]. This can cause two\ndifferent test case failure.\n\n1) _test_unshelve_server() fails with no ushelve.end notification\nreceived.\n\n2) _test_shelve_and_shelve_offload_server() also has a unshelve action\nat the end and that test step also only waits for the the ACTIVE state.\nSo the unshelve.end notification from the end of\n_test_shelve_and_shelve_offload_server() can bleed into the\n_test_unshelve_server() step causing that it receive one more\nnotifications.\n\nSo this patch adds an extra\nself._wait_for_notification('instance.unshelve.end') call to each test\nstep to prevent the instability.\n\n[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326\n[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329\n[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836\n\nConflicts:\n      nova/tests/functional/notification_sample_tests/test_instance.py\nConflicts due to:\n* I019e88fabd1d386c0d6395a7b1969315873485fd\n\nCloses-Bug: #1835070\n\nChange-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1\n(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)\n(cherry picked from commit 3bc6ff029ff24083844db363010988d8d08cff00)\n""}]",0,669118,a85ce04fa39e60e672e4fa2d7912f6880079c6ef,13,6,2,9708,,,0,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Conflicts:
      nova/tests/functional/notification_sample_tests/test_instance.py
Conflicts due to:
* I019e88fabd1d386c0d6395a7b1969315873485fd

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)
(cherry picked from commit 3bc6ff029ff24083844db363010988d8d08cff00)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/669118/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,2590474bae307ab06e1a06b209af490fde1ef5ff,bug/1835070," self._wait_for_state_change(self.api, server, 'ACTIVE') self._wait_for_notification('instance.unshelve.end') self._wait_for_notification('instance.unshelve.end')",,3,0
openstack%2Fnova~stable%2Frocky~I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,openstack/nova,stable/rocky,I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,doc: Fix a parameter of NotificationPublisher,MERGED,2019-07-11 04:03:36.000000000,2019-08-01 19:49:17.000000000,2019-08-01 19:49:16.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-11 04:03:36.000000000', 'files': ['doc/source/reference/notifications.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7793f4d759d35841848597e27faadb1903df21e9', 'message': ""doc: Fix a parameter of NotificationPublisher\n\nThe 'binary' parameter has been changed to the 'source'\nsince I95b5b0826190d396efe7bfc017f6081a6356da65.\nBut the notification document has not been updated yet.\n\nReplace the 'binary' parameter with the 'source' parameter.\n\nConflicts:\n    doc/source/reference/notifications.rst\n\n    A conflict is due to not including\n    Icfebf894185fc83f5fa77e8e10a42ba9dbb37755\n    in stable/rocky\n\nChange-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52\nCloses-Bug: #1836005\n(cherry picked from commit de31466fdb09dd367b23660f71b4ca06f83271a2)\n(cherry picked from commit 5ba20d128cd0dee8b9b2a429a71e1bac5b0220df)\n""}]",1,670225,7793f4d759d35841848597e27faadb1903df21e9,10,4,1,7634,,,0,"doc: Fix a parameter of NotificationPublisher

The 'binary' parameter has been changed to the 'source'
since I95b5b0826190d396efe7bfc017f6081a6356da65.
But the notification document has not been updated yet.

Replace the 'binary' parameter with the 'source' parameter.

Conflicts:
    doc/source/reference/notifications.rst

    A conflict is due to not including
    Icfebf894185fc83f5fa77e8e10a42ba9dbb37755
    in stable/rocky

Change-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52
Closes-Bug: #1836005
(cherry picked from commit de31466fdb09dd367b23660f71b4ca06f83271a2)
(cherry picked from commit 5ba20d128cd0dee8b9b2a429a71e1bac5b0220df)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/670225/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/notifications.rst'],1,7793f4d759d35841848597e27faadb1903df21e9,bug/1836005,with a `host` and a `source` string parameter or it can be generated from a,with a `host` and a `binary` string parameter or it can be generated from a,1,1
openstack%2Fnova~stable%2Frocky~Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,openstack/nova,stable/rocky,Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,Perf: Use dicts for ProviderTree roots,MERGED,2019-07-10 20:22:47.000000000,2019-08-01 19:49:09.000000000,2019-08-01 19:49:09.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-10 20:22:47.000000000', 'files': ['nova/compute/provider_tree.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00e5e3a7443dd31720244497013b040729490dcd', 'message': ""Perf: Use dicts for ProviderTree roots\n\nProviderTree used to keep track of root providers in a list. Since we\ndon't yet have sharing providers, this would always be a list of one for\nnon-ironic deployments, or N for ironic deployments of N nodes.\n\nTo find a provider (by name or UUID), we would iterate over this list,\nan O(N) operation. For large ironic deployments, this added up fast -\nsee the referenced bug.\n\nWith this change, we store roots in two dicts: one keyed by UUID, one\nkeyed by name. To find a provider, we first check these dicts. If the\nprovider we're looking for is a root, this is now O(1). (If it's a\nchild, it would still be O(N), because we iterate over all the roots\nlooking for a descendant that matches. But ironic deployments don't have\nchild providers (yet?) (right?) so that should be n/a. For non-ironic\ndeployments it's unchanged: O(M) where M is the number of descendants,\nwhich should be very small for the time being.)\n\nTest note: Existing tests in nova.tests.unit.compute.test_provider_tree\nthoroughly cover all the affected code paths. There was one usage of\nProviderTree.roots that was untested and broken (even before this\nchange) which is now fixed.\n\nConflicts (rocky backport):\n  nova/compute/provider_tree.py\n     The return_root kwarg to _find_with_lock was added in stein.\n  nova/tests/unit/virt/libvirt/test_driver.py\n     and\n  nova/virt/libvirt/driver.py\n     are n/a because the code iterating over the provider tree roots was\n     added in stein (for vgpu handling)\n\nChange-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2\nCloses-Bug: #1816086\n(cherry picked from commit 8c797450cbff5194fb6791cd0a07fa060dc8af72)\n(cherry picked from commit 754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c)\n""}]",3,670182,00e5e3a7443dd31720244497013b040729490dcd,14,6,1,14070,,,0,"Perf: Use dicts for ProviderTree roots

ProviderTree used to keep track of root providers in a list. Since we
don't yet have sharing providers, this would always be a list of one for
non-ironic deployments, or N for ironic deployments of N nodes.

To find a provider (by name or UUID), we would iterate over this list,
an O(N) operation. For large ironic deployments, this added up fast -
see the referenced bug.

With this change, we store roots in two dicts: one keyed by UUID, one
keyed by name. To find a provider, we first check these dicts. If the
provider we're looking for is a root, this is now O(1). (If it's a
child, it would still be O(N), because we iterate over all the roots
looking for a descendant that matches. But ironic deployments don't have
child providers (yet?) (right?) so that should be n/a. For non-ironic
deployments it's unchanged: O(M) where M is the number of descendants,
which should be very small for the time being.)

Test note: Existing tests in nova.tests.unit.compute.test_provider_tree
thoroughly cover all the affected code paths. There was one usage of
ProviderTree.roots that was untested and broken (even before this
change) which is now fixed.

Conflicts (rocky backport):
  nova/compute/provider_tree.py
     The return_root kwarg to _find_with_lock was added in stein.
  nova/tests/unit/virt/libvirt/test_driver.py
     and
  nova/virt/libvirt/driver.py
     are n/a because the code iterating over the provider tree roots was
     added in stein (for vgpu handling)

Change-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2
Closes-Bug: #1816086
(cherry picked from commit 8c797450cbff5194fb6791cd0a07fa060dc8af72)
(cherry picked from commit 754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/670182/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/provider_tree.py'],1,00e5e3a7443dd31720244497013b040729490dcd,bug/1816086,"import six self.roots_by_uuid = {} self.roots_by_name = {} @property def roots(self): return six.itervalues(self.roots_by_uuid) self.roots_by_uuid[provider.uuid] = provider self.roots_by_name[provider.name] = provider del self.roots_by_uuid[found.uuid] del self.roots_by_name[found.name] self.roots_by_uuid[uuid] = p self.roots_by_name[name] = p # Optimization for large number of roots (e.g. ironic): if name_or_uuid # represents a root, this is O(1). found = self.roots_by_uuid.get(name_or_uuid) if found: return found found = self.roots_by_name.get(name_or_uuid) if found: return found # Okay, it's a child; do it the hard way.", self.roots = [] self.roots.append(provider) self.roots.remove(found) self.roots.append(p),23,4
openstack%2Fmagnum~master~If61efbde56e1d7dd0ed88d76fa42dd00501cc938,openstack/magnum,master,If61efbde56e1d7dd0ed88d76fa42dd00501cc938,Add oslo_log command options to magnum-db-manage,MERGED,2017-10-13 14:38:10.000000000,2019-08-01 19:46:06.000000000,2019-08-01 19:46:06.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 10068}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-13 14:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0f5e48a15bee92d880edd39d501a2f8ebb0f6131', 'message': ""Add oslo_log command options to magnum-db-manage\n\nAs we all know, 'command magnum-api' and 'magnum-conductor' have\nmany options such as 'log-file' and 'use-syslog'. But as for\nmagnum-db-magnum, these are not available.\nAdd oslo_log command options will help.\n\nChange-Id: If61efbde56e1d7dd0ed88d76fa42dd00501cc938\n""}, {'number': 2, 'created': '2018-03-23 23:47:43.000000000', 'files': ['magnum/cmd/db_manage.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f553558e53827bf0c2859e04d31267dffd339a25', 'message': ""Add oslo_log command options to magnum-db-manage\n\nAs we all know, 'command magnum-api' and 'magnum-conductor' have\nmany options such as 'log-file' and 'use-syslog'. But as for\nmagnum-db-magnum, these are not available.\nAdd oslo_log command options will help.\n\nChange-Id: If61efbde56e1d7dd0ed88d76fa42dd00501cc938\n""}]",0,511882,f553558e53827bf0c2859e04d31267dffd339a25,14,7,2,27066,,,0,"Add oslo_log command options to magnum-db-manage

As we all know, 'command magnum-api' and 'magnum-conductor' have
many options such as 'log-file' and 'use-syslog'. But as for
magnum-db-magnum, these are not available.
Add oslo_log command options will help.

Change-Id: If61efbde56e1d7dd0ed88d76fa42dd00501cc938
",git fetch https://review.opendev.org/openstack/magnum refs/changes/82/511882/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/cmd/db_manage.py'],1,0f5e48a15bee92d880edd39d501a2f8ebb0f6131,dbmanage-log-options,from oslo_log import log as logging logging.register_options(CONF),,2,0
openstack%2Fmagnum~master~I1e6e570d4db575d611212198d11ee4b84884ab23,openstack/magnum,master,I1e6e570d4db575d611212198d11ee4b84884ab23,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-02 03:33:17.000000000,2019-08-01 19:46:05.000000000,2019-08-01 19:46:04.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 03:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c5df3c38d649187a9ad05e79cb90bea6e68621db', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I1e6e570d4db575d611212198d11ee4b84884ab23\n'}, {'number': 2, 'created': '2019-07-02 04:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d1e6d8e13100f95bf78454658e431e3c98a452fd', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I1e6e570d4db575d611212198d11ee4b84884ab23\n'}, {'number': 3, 'created': '2019-08-01 01:41:33.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/749a792eb4e6a3c1db5cb49181a4085c3bd544fa', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I1e6e570d4db575d611212198d11ee4b84884ab23\n'}]",0,668585,749a792eb4e6a3c1db5cb49181a4085c3bd544fa,14,5,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I1e6e570d4db575d611212198d11ee4b84884ab23
",git fetch https://review.opendev.org/openstack/magnum refs/changes/85/668585/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",5,c5df3c38d649187a9ad05e79cb90bea6e68621db,openstackdocstheme,,"project = u'Magnum Release Notes'# Remove setting of version/release # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = ''# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",3,58
openstack%2Fmagnum~master~I2355733fc45554b7c1f14df51b40dede811b5518,openstack/magnum,master,I2355733fc45554b7c1f14df51b40dede811b5518,Add missing ws separator between words,MERGED,2019-04-02 06:01:35.000000000,2019-08-01 19:46:03.000000000,2019-08-01 19:46:03.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 20190}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-02 06:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a60b0f48f138c05b1d672f185c979ff6798836be', 'message': 'Add missing ws separator between words\n\nThis is to add missing ws separator between words.\n\nChange-Id: I2355733fc45554b7c1f14df51b40dede811b5518\n'}, {'number': 2, 'created': '2019-06-04 01:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/67e8dcd700292744e557071e2a0d1e2ddc88050f', 'message': 'Add missing ws separator between words\n\nThis is to add missing ws separator between words.\n\nChange-Id: I2355733fc45554b7c1f14df51b40dede811b5518\n'}, {'number': 3, 'created': '2019-06-04 01:47:10.000000000', 'files': ['magnum/conf/cluster.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1e8d5a73957e15826e3eaae0406ab90ff63a4aab', 'message': 'Add missing ws separator between words\n\nThis is to add missing ws separator between words.\n\nChange-Id: I2355733fc45554b7c1f14df51b40dede811b5518\n'}]",3,649225,1e8d5a73957e15826e3eaae0406ab90ff63a4aab,17,6,3,20190,,,0,"Add missing ws separator between words

This is to add missing ws separator between words.

Change-Id: I2355733fc45554b7c1f14df51b40dede811b5518
",git fetch https://review.opendev.org/openstack/magnum refs/changes/25/649225/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conf/cluster.py'],1,a60b0f48f138c05b1d672f185c979ff6798836be,missing_ws, help=_('The timeout in seconds to wait for the load balancers ', help=_('The timeout in seconds to wait for the load balancers',1,1
openstack%2Fmagnum~master~I115b5788d60f48b2e4adc5947bf5fda0652c5ebb,openstack/magnum,master,I115b5788d60f48b2e4adc5947bf5fda0652c5ebb,Fix missing print format error,MERGED,2019-04-12 07:00:49.000000000,2019-08-01 19:46:02.000000000,2019-08-01 19:46:02.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 20190}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-04-12 07:00:49.000000000', 'files': ['magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b1d359e6b2175de54082b1ea90d25ff46ff0b41b', 'message': ""Fix missing print format error\n\nMissing print format will cause 'ValueError: unsupported\nformat character' error, this is to fix it.\n\nChange-Id: I115b5788d60f48b2e4adc5947bf5fda0652c5ebb\n""}]",0,651985,b1d359e6b2175de54082b1ea90d25ff46ff0b41b,10,6,1,20190,,,0,"Fix missing print format error

Missing print format will cause 'ValueError: unsupported
format character' error, this is to fix it.

Change-Id: I115b5788d60f48b2e4adc5947bf5fda0652c5ebb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/85/651985/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/common/exception.py'],1,b1d359e6b2175de54082b1ea90d25ff46ff0b41b,missing_print_format," ""min_node_count = %(min_node_count)s, "" ""max_node_count = %(max_node_count)s"")"," ""min_node_count = %(min_node_count), "" ""max_node_count = %(max_node_count)"")",2,2
openstack%2Fmagnum~master~Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa,openstack/magnum,master,Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa,Update current k8s version after upgrade,MERGED,2019-07-22 21:46:20.000000000,2019-08-01 19:45:57.000000000,2019-08-01 19:45:57.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-07-22 21:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8a8472c12d2b5910ced04fbbafc1e69688d4488d', 'message': ""Log current k8s version after upgrade\n\nAfter a k8s version upgrade, the initial KUBE_TAG in heat-params will be\nout of date. The patch will append a new KUBE_TAG to log and indicate\nthe current k8s version to make sure it's always consistent.\n\nStory: 2002210\nTask: 35949\n\nChange-Id: Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa\n""}, {'number': 2, 'created': '2019-07-25 21:36:29.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/903c8a4de7451b93408aa59c56402117176ff3c9', 'message': ""Update current k8s version after upgrade\n\nAfter a k8s version upgrade, the initial KUBE_TAG in heat-params will be\nout of date. The patch will append a new KUBE_TAG to log and update\nthe current k8s version to make sure it's always consistent.\n\nStory: 2002210\nTask: 35949\n\nChange-Id: Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa\n""}]",0,672182,903c8a4de7451b93408aa59c56402117176ff3c9,12,5,2,6484,,,0,"Update current k8s version after upgrade

After a k8s version upgrade, the initial KUBE_TAG in heat-params will be
out of date. The patch will append a new KUBE_TAG to log and update
the current k8s version to make sure it's always consistent.

Story: 2002210
Task: 35949

Change-Id: Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa
",git fetch https://review.opendev.org/openstack/magnum refs/changes/82/672182/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh'],1,8a8472c12d2b5910ced04fbbafc1e69688d4488d,story/2002210-35949," # Appending the new KUBE_TAG into the heat-parms to log and indicate the current k8s version echo ""KUBE_TAG=$new_kube_tag"" >> /etc/sysconfig/heat-params", # FIXME(flwang): The KUBE_TAG could be out of date after a successful upgrade,2,1
openstack%2Fmagnum~master~Iaf6ab7172367bc96d19f2d1236cc038460a7d461,openstack/magnum,master,Iaf6ab7172367bc96d19f2d1236cc038460a7d461,Support py3.x for make cert scripts,MERGED,2019-07-30 00:14:38.000000000,2019-08-01 19:44:59.000000000,2019-08-01 19:44:59.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-07-30 00:14:38.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/fb8d018501f42c9a4db79ece817d358a07174b5f', 'message': 'Support py3.x for make cert scripts\n\nInstead of using ""print xxx"", it\'d better to use ""print(xxx)""\nto make it supports both py2.x and py3.x for make-cert.sh and\nmake-cert-client.sh\n\nTask: 36024\nStory: 2006283\n\nChange-Id: Iaf6ab7172367bc96d19f2d1236cc038460a7d461\n'}]",0,673376,fb8d018501f42c9a4db79ece817d358a07174b5f,9,5,1,6484,,,0,"Support py3.x for make cert scripts

Instead of using ""print xxx"", it'd better to use ""print(xxx)""
to make it supports both py2.x and py3.x for make-cert.sh and
make-cert-client.sh

Task: 36024
Story: 2006283

Change-Id: Iaf6ab7172367bc96d19f2d1236cc038460a7d461
",git fetch https://review.opendev.org/openstack/magnum refs/changes/76/673376/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh']",2,fb8d018501f42c9a4db79ece817d358a07174b5f,story/2006283-36024," $MAGNUM_URL/certificates/$CLUSTER_UUID | python -c 'import sys, json; print(json.load(sys.stdin)[""pem""])' > ${CA_CERT} csr_req=$(python -c ""import json; fp = open('${_CSR}'); print(json.dumps({'cluster_uuid': '$CLUSTER_UUID', 'csr': fp.read()})); fp.close()"") $MAGNUM_URL/certificates | python -c 'import sys, json; print(json.load(sys.stdin)[""pem""])' > ${_CERT}"," $MAGNUM_URL/certificates/$CLUSTER_UUID | python -c 'import sys, json; print json.load(sys.stdin)[""pem""]' > ${CA_CERT} csr_req=$(python -c ""import json; fp = open('${_CSR}'); print json.dumps({'cluster_uuid': '$CLUSTER_UUID', 'csr': fp.read()}); fp.close()"") $MAGNUM_URL/certificates | python -c 'import sys, json; print json.load(sys.stdin)[""pem""]' > ${_CERT}",6,6
openstack%2Ftripleo-validations~stable%2Fstein~Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,openstack/tripleo-validations,stable/stein,Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,New validation: ensure services status,MERGED,2019-08-01 11:01:17.000000000,2019-08-01 19:42:53.000000000,2019-08-01 19:42:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:01:17.000000000', 'files': ['roles/service-status/tasks/main.yaml', 'roles/service-status/meta/main.yml', 'playbooks/service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/87c293917e081f106b202eeb986a0316139752e0', 'message': ""New validation: ensure services status\n\nThis new validation ensures we don't have any failed systemd unit.\n\nFailed units might lead to unexpected errors when we want to update\nor upgrade the system, so we have to ensure we don't have anything\nin a failed state.\n\nSince this check is pretty generic and useful, it can also be called\nas a post-deploy, post-upgrade task. This ensures we have a corret\nstate AFTER such actions as well.\n\nChange-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf\n(cherry picked from commit 1265e2f6675b95bf7487fe041066d8de3164e39e)\n""}]",0,673995,87c293917e081f106b202eeb986a0316139752e0,8,4,1,11491,,,0,"New validation: ensure services status

This new validation ensures we don't have any failed systemd unit.

Failed units might lead to unexpected errors when we want to update
or upgrade the system, so we have to ensure we don't have anything
in a failed state.

Since this check is pretty generic and useful, it can also be called
as a post-deploy, post-upgrade task. This ensures we have a corret
state AFTER such actions as well.

Change-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf
(cherry picked from commit 1265e2f6675b95bf7487fe041066d8de3164e39e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/95/673995/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/service-status/meta/main.yml', 'roles/service-status/tasks/main.yaml', 'playbooks/service-status.yaml']",3,87c293917e081f106b202eeb986a0316139752e0,validate/containers-stable/stein,"--- - hosts: undercloud, overcloud vars: metadata: name: Ensure services state description: > Detect services status on the target host and fails if we find a failed service. groups: - prep - pre-deployment - pre-upgrade - post-deployment - post-upgrade roles: - service-status ",,58,0
openstack%2Fpython-tripleoclient~stable%2Fstein~I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,openstack/python-tripleoclient,stable/stein,I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,Mock deployment action in upgrade tests,MERGED,2019-08-01 09:42:29.000000000,2019-08-01 19:20:45.000000000,2019-08-01 19:20:45.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-08-01 09:42:29.000000000', 'files': ['tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/38070104592d6ad6e15a184df64bbb0d48858f25', 'message': ""Mock deployment action in upgrade tests\n\nWithout properly mocking the deployment action, these tests are trying\nto execute deployment code including temp file creation which can lead\nto package build failures. This change mocks out the deployment take\naction for the UpgradeRun so we're only testing the upgrade code\nitself.\n\nChange-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da\nCloses-Bug: #1838506\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d)\n""}]",0,673986,38070104592d6ad6e15a184df64bbb0d48858f25,9,7,1,11491,,,0,"Mock deployment action in upgrade tests

Without properly mocking the deployment action, these tests are trying
to execute deployment code including temp file creation which can lead
to package build failures. This change mocks out the deployment take
action for the UpgradeRun so we're only testing the upgrade code
itself.

Change-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da
Closes-Bug: #1838506
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/673986/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'],1,38070104592d6ad6e15a184df64bbb0d48858f25,," @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' 'take_action') mock_enable_ssh_admin, mock_overcloud_deploy): mock_overcloud_deploy.assert_called_once_with(parsed_args) @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' 'take_action') add_env, mock_get_stack, mock_overcloud_deploy): mock_overcloud_deploy.assert_called_once_with(parsed_args)"," mock_enable_ssh_admin): add_env, mock_get_stack):",9,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic2c4dcabe3754727806d2a4248e1ba182e83309a,openstack/tripleo-heat-templates,stable/queens,Ic2c4dcabe3754727806d2a4248e1ba182e83309a,[rocky/queens] fix task name nova_api -> nova_compute,MERGED,2019-08-01 08:20:25.000000000,2019-08-01 19:14:13.000000000,2019-08-01 19:14:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-08-01 08:20:25.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7b15693dba043503876e486cf372c5ddcb21181', 'message': '[rocky/queens] fix task name nova_api -> nova_compute\n\nChange-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a\n(cherry picked from commit 65e48b0c1e3edcafee29ad6cc753637c14bd9acd)\n'}]",0,673952,c7b15693dba043503876e486cf372c5ddcb21181,11,6,1,17216,,,0,"[rocky/queens] fix task name nova_api -> nova_compute

Change-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a
(cherry picked from commit 65e48b0c1e3edcafee29ad6cc753637c14bd9acd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/673952/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,c7b15693dba043503876e486cf372c5ddcb21181,fix_task_name-queens, - name: libvirt-guests unit to stop nova_compute container before shutdown VMs, - name: libvirt-guests unit to stop nova_api container before shutdown VMs,1,1
openstack%2Fopenstack-helm-infra~master~Ie3c7bbc46d87960e3d62badc6b766145b651b8fe,openstack/openstack-helm-infra,master,Ie3c7bbc46d87960e3d62badc6b766145b651b8fe,This change is to fix the index pattern in kibana for syslog to match what is currently the default for elasticsearch. ,ABANDONED,2019-08-01 19:03:17.000000000,2019-08-01 19:11:54.000000000,,[{'_account_id': 17591}],"[{'number': 1, 'created': '2019-08-01 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bec6e07d61a26652f1ff5ec9cd8bdbe4ae66c0b3', 'message': 'This change is to fix the index pattern in kibana for syslog\nto match what is currently the default for elasticsearch. \n\nCurrently the pattern in elasticsearch is kernel_syslog, however\nthe index pattern set in kibana is kernel-*\n\nChange-Id: Ie3c7bbc46d87960e3d62badc6b766145b651b8fe\n'}]",0,674109,bec6e07d61a26652f1ff5ec9cd8bdbe4ae66c0b3,3,1,1,28025,,,0,"This change is to fix the index pattern in kibana for syslog
to match what is currently the default for elasticsearch. 

Currently the pattern in elasticsearch is kernel_syslog, however
the index pattern set in kibana is kernel-*

Change-Id: Ie3c7bbc46d87960e3d62badc6b766145b651b8fe
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/09/674109/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,bec6e07d61a26652f1ff5ec9cd8bdbe4ae66c0b3,,,,0,0
openstack%2Fopenstack-zuul-jobs~master~If8bc020f2dfc0f374aad8086963739d995b88236,openstack/openstack-zuul-jobs,master,If8bc020f2dfc0f374aad8086963739d995b88236,Use absolute zuul_work_dir,ABANDONED,2019-08-01 18:52:54.000000000,2019-08-01 19:02:31.000000000,,[],"[{'number': 1, 'created': '2019-08-01 18:52:54.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a2bf75b5456407dbbf4e99bc365b6ea4bab56e54', 'message': 'Use absolute zuul_work_dir\n\nzuul_work_dir should be an absolute directory, update tox-py35-on-zuul\nwith using a variable.\n\nChange-Id: If8bc020f2dfc0f374aad8086963739d995b88236\n'}]",0,674108,a2bf75b5456407dbbf4e99bc365b6ea4bab56e54,2,0,1,6547,,,0,"Use absolute zuul_work_dir

zuul_work_dir should be an absolute directory, update tox-py35-on-zuul
with using a variable.

Change-Id: If8bc020f2dfc0f374aad8086963739d995b88236
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/674108/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,a2bf75b5456407dbbf4e99bc365b6ea4bab56e54,zuul_work_dir," zuul_work_dir: ""{{ zuul.projects['opendev.org/zuul/zuul'].src_dir }}""", zuul_work_dir: src/opendev.org/zuul/zuul,1,1
openstack%2Fpython-magnumclient~master~I24f981b3d0205112709944279665d50fc64b29ce,openstack/python-magnumclient,master,I24f981b3d0205112709944279665d50fc64b29ce,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 02:55:38.000000000,2019-08-01 18:48:53.000000000,2019-08-01 18:48:53.000000000,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 29425}]","[{'number': 1, 'created': '2018-12-04 02:55:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/d942ce5f26ca4f539861d2b284bd99bc8d8204e9', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I24f981b3d0205112709944279665d50fc64b29ce\n'}]",0,621887,d942ce5f26ca4f539861d2b284bd99bc8d8204e9,11,6,1,26490,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I24f981b3d0205112709944279665d50fc64b29ce
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/87/621887/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d942ce5f26ca4f539861d2b284bd99bc8d8204e9,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpython-magnumclient~master~I6bed1f2df2c50234657112869b585439afa1b550,openstack/python-magnumclient,master,I6bed1f2df2c50234657112869b585439afa1b550,Add Python 3 Train unit tests,MERGED,2019-07-05 15:51:53.000000000,2019-08-01 18:46:04.000000000,2019-08-01 18:46:04.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-07-05 15:51:53.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a19d01355fc0af787c328b1eedac332652c78921', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I6bed1f2df2c50234657112869b585439afa1b550\nStory: #2005924\nTask: #34219\n'}]",0,669380,a19d01355fc0af787c328b1eedac332652c78921,9,5,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I6bed1f2df2c50234657112869b585439afa1b550
Story: #2005924
Task: #34219
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/80/669380/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a19d01355fc0af787c328b1eedac332652c78921,python3-train,"envlist = py27,py37,pypy,pep8","envlist = py36,py27,pypy,pep8",3,3
openstack%2Fpython-magnumclient~master~Ia4f1ce4be215262fc89ceac30a2edb878ebd9937,openstack/python-magnumclient,master,Ia4f1ce4be215262fc89ceac30a2edb878ebd9937,"Support network, subnet and FIP when creating cluster",MERGED,2019-07-30 03:45:19.000000000,2019-08-01 18:43:33.000000000,2019-08-01 18:43:33.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 03:45:19.000000000', 'files': ['magnumclient/v1/clusters.py', 'magnumclient/osc/v1/clusters.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/5ad8b7dcf7b8d6b8f78612219d5b8240ff55aded', 'message': 'Support network, subnet and FIP when creating cluster\n\nChange-Id: Ia4f1ce4be215262fc89ceac30a2edb878ebd9937\nTask: 36027\nStory: 2006208\n'}]",0,673395,5ad8b7dcf7b8d6b8f78612219d5b8240ff55aded,8,3,1,6484,,,0,"Support network, subnet and FIP when creating cluster

Change-Id: Ia4f1ce4be215262fc89ceac30a2edb878ebd9937
Task: 36027
Story: 2006208
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/95/673395/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/v1/clusters.py', 'magnumclient/osc/v1/clusters.py']",2,5ad8b7dcf7b8d6b8f78612219d5b8240ff55aded,story/2006208-36027," parser.add_argument( '--fixed-network', dest='fixed_network', metavar='<fixed-network>', help=_('The private Neutron network name to connect to this ' 'Cluster template.')) parser.add_argument( '--fixed-subnet', dest='fixed_subnet', metavar='<fixed-subnet>', help=_('The private Neutron subnet name to connect to Cluster.')) parser.add_argument( '--floating-ip-enabled', dest='floating_ip_enabled', default=[], action='append_const', const=True, help=_('Indicates whether created Clusters should have a ' 'floating ip.')) parser.add_argument( '--floating-ip-disabled', dest='floating_ip_enabled', action='append_const', const=False, help=_('Disables floating ip creation on the new Cluster')) if len(parsed_args.floating_ip_enabled) > 1: raise exceptions.InvalidAttribute( '--floating-ip-enabled and ' '--floating-ip-disabled are ' 'mutually exclusive and ' 'should be specified only once.') elif len(parsed_args.floating_ip_enabled) == 1: args['floating_ip_enabled'] = parsed_args.floating_ip_enabled[0] if parsed_args.fixed_network is not None: args[""fixed_network""] = parsed_args.fixed_network if parsed_args.fixed_subnet is not None: args[""fixed_subnet""] = parsed_args.fixed_subnet ",,43,0
openstack%2Fopenstack-helm-infra~master~I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3,openstack/openstack-helm-infra,master,I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3,Elasticsearch: Manually verify snapshot repositories,MERGED,2019-07-24 18:54:38.000000000,2019-08-01 18:36:37.000000000,2019-08-01 18:36:37.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-24 18:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e2da919ca93d563c052aa21c86a342cf7d097ba', 'message': 'Elasticsearch: Manually verify snapshot repositories\n\nThis updates the script for registering snapshot repositories to\ninclude a manual verification of the repositories created. This\nsimply allows for inspection of all master and data nodes the\nrepository is verified with to provide additional visibility into\nthe state of all repositories\n\nChange-Id: I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-24 20:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/985cf15253d3452fcf38e7eb666c0eb90f7ddde8', 'message': 'Elasticsearch: Manually verify snapshot repositories\n\nThis updates the script for registering snapshot repositories to\ninclude a manual verification of the repositories created. This\nsimply allows for inspection of all master and data nodes the\nrepository is verified with to provide additional visibility into\nthe state of all repositories\n\nChange-Id: I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-24 20:37:28.000000000', 'files': ['elasticsearch/templates/bin/_register-repository.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8130e6bdc5ffb85f93ce7858cbc65f1f8f055a43', 'message': 'Elasticsearch: Manually verify snapshot repositories\n\nThis updates the script for registering snapshot repositories to\ninclude a manual verification of the repositories created. This\nsimply allows for inspection of all master and data nodes the\nrepository is verified with to provide additional visibility into\nthe state of all repositories\n\nChange-Id: I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,672578,8130e6bdc5ffb85f93ce7858cbc65f1f8f055a43,13,4,3,17591,,,0,"Elasticsearch: Manually verify snapshot repositories

This updates the script for registering snapshot repositories to
include a manual verification of the repositories created. This
simply allows for inspection of all master and data nodes the
repository is verified with to provide additional visibility into
the state of all repositories

Change-Id: I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/672578/2 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/bin/_register-repository.sh.tpl'],1,4e2da919ca93d563c052aa21c86a342cf7d097ba,verify-snapshot-repositories,"function verify_snapshot_repository() { curl -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ ""${ELASTICSEARCH_HOST}/_snapshot/$1/_verify"" } verify_snapshot_respitory {{$repository.name}}",,6,0
openstack%2Fcharm-percona-cluster~master~I5fc4b7822a4550e53e97655771938a903f92fcb1,openstack/charm-percona-cluster,master,I5fc4b7822a4550e53e97655771938a903f92fcb1,Do not add former leader to hosts,MERGED,2019-08-01 14:56:47.000000000,2019-08-01 18:35:50.000000000,2019-08-01 18:35:50.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 14:56:47.000000000', 'files': ['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/475b889020271dd09003fafc5459d1a2617ce0a5', 'message': 'Do not add former leader to hosts\n\nAfter a cold boot, the leader has likely changed. Do not add this node\nas a former leader to the hosts list. This may cause changes to\nmysqld.cnf and an unwanted attempted restart of mysql.\n\nChange-Id: I5fc4b7822a4550e53e97655771938a903f92fcb1\nClose-Bug: #1838648\n'}]",0,674059,475b889020271dd09003fafc5459d1a2617ce0a5,11,5,1,20805,,,0,"Do not add former leader to hosts

After a cold boot, the leader has likely changed. Do not add this node
as a former leader to the hosts list. This may cause changes to
mysqld.cnf and an unwanted attempted restart of mysql.

Change-Id: I5fc4b7822a4550e53e97655771938a903f92fcb1
Close-Bug: #1838648
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/59/674059/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py']",2,475b889020271dd09003fafc5459d1a2617ce0a5,bug/1838648," # However, in a cold boot scenario do not add the ""old"" leader # when it matches this host. if (leader_ip not in hosts and leader_ip != get_cluster_host_ip()):", if leader_ip not in hosts:,23,1
openstack%2Fcharm-deployment-guide~master~I51048f043d3b97bf1274f904d98eda534451deef,openstack/charm-deployment-guide,master,I51048f043d3b97bf1274f904d98eda534451deef,re-write of deployment section,MERGED,2019-07-31 21:16:51.000000000,2019-08-01 18:26:32.000000000,2019-08-01 18:26:32.000000000,"[{'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 21:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/50fa425656a35591af995445aa3929e444b7c48d', 'message': 're-write of deployment section\n\nChange-Id: I51048f043d3b97bf1274f904d98eda534451deef\n'}, {'number': 2, 'created': '2019-08-01 15:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e23374ae502d72f4ccb43585297abe14e3905b54', 'message': 're-write of deployment section\n\nChange-Id: I51048f043d3b97bf1274f904d98eda534451deef\n'}, {'number': 3, 'created': '2019-08-01 17:30:03.000000000', 'files': ['deploy-guide/source/app-ceph-rbd-mirror.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f7cb3beaf9a3006b5ae64353443e48d346b92793', 'message': 're-write of deployment section\n\nChange-Id: I51048f043d3b97bf1274f904d98eda534451deef\n'}]",9,673918,f7cb3beaf9a3006b5ae64353443e48d346b92793,13,3,3,30561,,,0,"re-write of deployment section

Change-Id: I51048f043d3b97bf1274f904d98eda534451deef
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/18/673918/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ceph-rbd-mirror.rst'],1,50fa425656a35591af995445aa3929e444b7c48d,rewrite-deployment-section-of-ceph-rbd-mirror-appendix,"This section will cover the essential commands for deploying two Ceph clusters (site 'a' and site 'b') with RBD mirroring between them. Two scenarios will be shown: #. Both clusters within the same model #. Each cluster within a separate model Notes that apply to both scenarios: - each cluster/site employs 7 units (3 ``ceph-osd``, 3 ``ceph-mon``, and 1 ``ceph-rbd-mirror``) - application names are used to distinguish between applications in site 'a' from those in site 'b' - the ``ceph-osd`` units use block device ``/dev/vdd`` for OSD storage Using one model --------------- Create the common model ``sites-ab``: .. code:: juju add-model sites-ab Deploy units for site 'a': .. code:: juju deploy -n 3 ceph-osd ceph-osd-a --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-a juju deploy ceph-rbd-mirror ceph-rbd-mirror-a Deploy units for site 'b': .. code:: juju deploy -n 3 ceph-osd ceph-osd-b --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-b juju deploy ceph-rbd-mirror ceph-rbd-mirror-b Add relations between application endpoints. Notice how ``ceph-mon`` in one site gets related to ``ceph-rbd-mirror`` in the other site (the ""inter-site"" relations): For site 'a', .. code:: juju add-relation ceph-mon-a ceph-osd-a juju add-relation ceph-mon-a ceph-rbd-mirror-a:ceph-local juju add-relation ceph-mon-a ceph-rbd-mirror-b:ceph-remote For site 'b', .. code:: juju add-relation ceph-mon-b ceph-osd-b juju add-relation ceph-mon-b ceph-rbd-mirror-b:ceph-local juju add-relation ceph-mon-b ceph-rbd-mirror-a:ceph-remote Verify the output of ``juju status`` for the model (only partial output is shown): .. code:: juju status -m sites-ab Unit Workload Agent Machine Public address Ports Message ceph-mon-a/0* active idle 3 10.5.0.20 Unit is ready and clustered ceph-mon-a/1 active idle 4 10.5.0.9 Unit is ready and clustered ceph-mon-a/2 active idle 5 10.5.0.10 Unit is ready and clustered ceph-mon-b/0* active idle 10 10.5.0.4 Unit is ready and clustered ceph-mon-b/1 active idle 11 10.5.0.11 Unit is ready and clustered ceph-mon-b/2 active idle 12 10.5.0.24 Unit is ready and clustered ceph-osd-a/0* active idle 0 10.5.0.3 Unit is ready (1 OSD) ceph-osd-a/1 active idle 1 10.5.0.12 Unit is ready (1 OSD) ceph-osd-a/2 active idle 2 10.5.0.7 Unit is ready (1 OSD) ceph-osd-b/0* active idle 7 10.5.0.21 Unit is ready (1 OSD) ceph-osd-b/1 active idle 8 10.5.0.6 Unit is ready (1 OSD) ceph-osd-b/2 active idle 9 10.5.0.23 Unit is ready (1 OSD) ceph-rbd-mirror-a/0* waiting idle 6 10.5.0.30 Waiting for pools to be created ceph-rbd-mirror-b/0* waiting idle 13 10.5.0.39 Waiting for pools to be created You're done. Note that Ceph pools have not yet been initialised. This can be done by other charms or directly within Ceph. Using two models ---------------- For this scenario we use model names ``site-a`` and ``site-b``. For site 'a', .. code:: juju add-model site-a juju deploy -n 3 ceph-osd ceph-osd-a --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-a juju deploy ceph-rbd-mirror ceph-rbd-mirror-a For site 'b', .. code:: juju add-model site-b juju deploy -n 3 ceph-osd ceph-osd-b --config osd-devices=/dev/vdd juju deploy -n 3 ceph-mon ceph-mon-b juju deploy ceph-rbd-mirror ceph-rbd-mirror-b Add relations between local application endpoints as before: .. code:: juju add-relation -m site-a ceph-mon-a ceph-osd-a juju add-relation -m site-a ceph-mon-a ceph-rbd-mirror-a:ceph-local juju add-relation -m site-b ceph-mon-b ceph-osd-b juju add-relation -m site-b ceph-mon-b ceph-rbd-mirror-b:ceph-local To create the inter-site relations one must export one of the application endpoints from each model by means of an ""offer"". Here, we make offers for ``ceph-rbd-mirror`` in each model: .. code:: juju switch site-a juju offer ceph-rbd-mirror-a:ceph-remote Application ""ceph-rbd-mirror-a"" endpoints [ceph-remote] available at ""admin/site-a.ceph-rbd-mirror-a"" juju switch site-b juju offer ceph-rbd-mirror-b:ceph-remote application ""ceph-rbd-mirror-b"" endpoints [ceph-remote] available at ""admin/site-b.ceph-rbd-mirror-b"" These *cross model relations* can now be made by referring to the offer URLs (included in the output above) as if they were applications in the local model: .. code:: juju add-relation -m site-a ceph-mon-a admin/site-b.ceph-rbd-mirror-b juju add-relation -m site-b ceph-mon-b admin/site-a.ceph-rbd-mirror-a Verify the output of ``juju status`` for both models (only partial output is shown): .. code:: juju status -m site-a Unit Workload Agent Machine Public address Ports Message ceph-mon-a/0* active idle 3 10.5.0.23 Unit is ready and clustered ceph-mon-a/1 active idle 4 10.5.0.5 Unit is ready and clustered ceph-mon-a/2 active idle 5 10.5.0.9 Unit is ready and clustered ceph-osd-a/0* active idle 0 10.5.0.19 Unit is ready (1 OSD) ceph-osd-a/1 active idle 1 10.5.0.7 Unit is ready (1 OSD) ceph-osd-a/2 active idle 2 10.5.0.10 Unit is ready (1 OSD) ceph-rbd-mirror-a/0* waiting idle 6 10.5.0.11 Waiting for pools to be created juju status -m site-b Unit Workload Agent Machine Public address Ports Message ceph-mon-b/0* active idle 3 10.5.0.29 Unit is ready and clustered ceph-mon-b/1 active idle 4 10.5.0.4 Unit is ready and clustered ceph-mon-b/2 active idle 5 10.5.0.8 Unit is ready and clustered ceph-osd-b/0* active idle 0 10.5.0.13 Unit is ready (1 OSD) ceph-osd-b/1 active idle 1 10.5.0.24 Unit is ready (1 OSD) ceph-osd-b/2 active idle 2 10.5.0.33 Unit is ready (1 OSD) Ceph-rbd-mirror-b/0* waiting idle 6 10.5.0.27 Waiting for pools to be created You're done. Minimal two-cluster test bundles can be found in the ``ceph-rbd-mirror`` charm's ``src/tests/bundles`` subdirectory. Examples include both clusters deployed in one model as well as in separate models.", Example bundles with a minimal test configuration can be found in the ``tests/bundles`` subdirectory of the ``ceph-rbd-mirror`` charm. Both examples of two Ceph clusters deployed in one model and Ceph clusters deployed in separate models are available. To make use of cross model relations you must first set up an offer to export a application endpoint from a model. In this example we use the model names ``site-a`` and ``site-b``. .. code:: juju switch site-a juju offer ceph-mon:rbd-mirror site-a-rbd-mirror juju switch site-b juju offer ceph-mon:rbd-mirror site-b-rbd-mirror After creating the offers we can import the remote offer to a model and add a relation between applications just like we normally would do in a single-model deployment. .. code:: juju switch site-a juju consume admin/site-b.site-b-rbd-mirror juju add-relation ceph-rbd-mirror:ceph-remote site-b-rbd-mirror juju switch site-b juju consume admin/site-a.site-a-rbd-mirror juju add-relation ceph-rbd-mirror:ceph-remote site-a-rbd-mirror,172,32
openstack%2Ftripleo-ansible~master~I4e28be86e28dd227a682362af56833fe97035a88,openstack/tripleo-ansible,master,I4e28be86e28dd227a682362af56833fe97035a88,Introduce tripleo-config role,MERGED,2019-07-08 14:12:21.000000000,2019-08-01 18:13:28.000000000,2019-08-01 18:13:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 14:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b3f7e17582d773162ef960f6bf627859d5871ea', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 2, 'created': '2019-07-08 14:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f42538fac24fd1aad8e4a2e4e3dc98517d21291e', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 3, 'created': '2019-07-08 18:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e791202fc70f988b01b25facd13a70cacb02620e', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 4, 'created': '2019-07-08 18:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/895ef63118c757fd9d694b13a8295a16173ce10f', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 5, 'created': '2019-07-08 18:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dbeb32b4c42df6ed5e429756d98e278c1844df65', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 6, 'created': '2019-07-08 18:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b36afe89b07f2808bbf77f9dea1949cd6517977f', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 7, 'created': '2019-07-08 19:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/665996fbe5dc860c5dc2a0cf4c5840a6c4fb782c', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume\nthe ansible-config_template action plugin to generate configuration\nfiles.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 8, 'created': '2019-07-18 18:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28658532f138d86f498dd10aac767690a7a32b2e', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 9, 'created': '2019-07-18 18:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50a59b3a83b96772fcdde117e409c759e15dd63e', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 10, 'created': '2019-07-18 18:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e63be3d13b5c10c25d0d5ff35c2333c2dc814623', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 11, 'created': '2019-07-18 19:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c841776998a59633e866479184f4cb71a42939ed', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 12, 'created': '2019-07-26 14:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0f488bb394a817bb3cdbcc9728dafb700edbd1a', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 13, 'created': '2019-07-26 18:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a79c0543927aac24b308bf5fec9d5486718c47e9', 'message': 'WIP - Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 14, 'created': '2019-07-26 21:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb2319f58b514c9f086d67bdb819b5333211c79e', 'message': 'Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 15, 'created': '2019-07-29 13:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e52559e17c421ee4daeb2034c69dde997bda930c', 'message': 'Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 16, 'created': '2019-07-29 22:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a768dd5b1f21a40b16e7a79a67325c519bb2aec', 'message': 'Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2019-07-29 23:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61321f506018f7012eb2ef8f66815de3dec5f248', 'message': 'Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2019-07-30 01:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c3fe56d80cc8c47a163ce0b5b949f97bec58b08', 'message': 'Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\n'}, {'number': 19, 'created': '2019-07-30 18:02:29.000000000', 'files': ['tripleo_ansible/roles/tripleo-config/defaults/main.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo-config.rst', 'ansible-test-env.rc', 'zuul.d/playbooks/run.yml', 'tripleo_ansible/ansible-role-requirements.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-config/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-config/tasks/main.yml', 'zuul.d/playbooks/pre.yml', 'tox.ini', 'tripleo_ansible/roles/tripleo-config/meta/main.yml', 'tripleo_ansible/roles/tripleo-config/templates/ini-config.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96b9fc6540a0aedfebfe96553fc5cd834fde27a8', 'message': 'Introduce tripleo-config role\n\nThis basic role will provide an interface to TripleO so we can consume the\nansible-config_template action plugin to generate configuration files.\n\nChange-Id: I4e28be86e28dd227a682362af56833fe97035a88\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",20,669672,96b9fc6540a0aedfebfe96553fc5cd834fde27a8,55,5,19,3153,,,0,"Introduce tripleo-config role

This basic role will provide an interface to TripleO so we can consume the
ansible-config_template action plugin to generate configuration files.

Change-Id: I4e28be86e28dd227a682362af56833fe97035a88
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/669672/18 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-config/defaults/main.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-config/README.md', 'tripleo_ansible/roles/tripleo-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo-config.rst', 'tripleo_ansible/roles/tripleo-config/vars/main.yml', 'tripleo_ansible/ansible-role-requirements.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-config/handlers/main.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-config/tasks/main.yml', 'tox.ini', 'tripleo_ansible/roles/tripleo-config/meta/main.yml', 'tripleo_ansible/roles/tripleo-config/templates/ini-config.j2']",16,1b3f7e17582d773162ef960f6bf627859d5871ea,tripleo-config,# {{ ansible_managed }} ,,356,0
openstack%2Fproject-config~master~I4e7c4d646334b7e7207d02e86a25768335cae123,openstack/project-config,master,I4e7c4d646334b7e7207d02e86a25768335cae123,Adding another pool to FN for expanded memory test,MERGED,2019-08-01 17:02:49.000000000,2019-08-01 18:13:06.000000000,2019-08-01 18:13:06.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 20754}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 17:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e383728e3e8308065d0c96aa02887eac6949ded', 'message': 'Adding another pool to FN for expanded memory test\n\nChange-Id: I4e7c4d646334b7e7207d02e86a25768335cae123\n'}, {'number': 2, 'created': '2019-08-01 17:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/abfc6dc16521f0c0e20b46022b8f4c1c0e1b0a51', 'message': 'Adding another pool to FN for expanded memory test\n\nChange-Id: I4e7c4d646334b7e7207d02e86a25768335cae123\n'}, {'number': 3, 'created': '2019-08-01 17:46:33.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f2f32b8d55c7661acf94c1ccd49d744dc0bbc78f', 'message': 'Adding another pool to FN for expanded memory test\n\nChange-Id: I4e7c4d646334b7e7207d02e86a25768335cae123\n'}]",4,674091,f2f32b8d55c7661acf94c1ccd49d744dc0bbc78f,14,4,3,20754,,,0,"Adding another pool to FN for expanded memory test

Change-Id: I4e7c4d646334b7e7207d02e86a25768335cae123
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/674091/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,6e383728e3e8308065d0c96aa02887eac6949ded,674091, - name: expanded-memory-test max-servers: 10 labels: - name: centos-7-expanded min-ram: 16000 flavor-name: '8cpu-16GBram-80GBdisk' boot-from-volume: true volume-size: 80 diskimage: centos-7 key-name: infra-root-keys-2018-06-15 - name: ubuntu-xenial-expanded min-ram: 16000 flavor-name: '8cpu-16GBram-80GBdisk' boot-from-volume: true volume-size: 80 diskimage: ubuntu-xenial key-name: infra-root-keys-2018-06-15 - name: ubuntu-bionic-expanded min-ram: 16000 flavor-name: '8cpu-16GBram-80GBdisk' boot-from-volume: true volume-size: 80 diskimage: ubuntu-bionic key-name: infra-root-keys-2018-06-15,,24,0
openstack%2Frpm-packaging~master~Ieea000d29858d289159b13c681b99d132a5ef2ef,openstack/rpm-packaging,master,Ieea000d29858d289159b13c681b99d132a5ef2ef,Remove nova-consoleauth service,ABANDONED,2019-08-01 17:11:37.000000000,2019-08-01 18:05:36.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-01 17:11:37.000000000', 'files': ['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-consoleauth.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/db934f4a4ae9760d0bd6ea7aed6f10e46e96e639', 'message': 'Remove nova-consoleauth service\n\nIt was removed upstream[1] and now the missing binary breaks the build,\nso remove it from the package.\n\n[1] https://review.opendev.org/652969\n\nChange-Id: Ieea000d29858d289159b13c681b99d132a5ef2ef\n'}]",0,674095,db934f4a4ae9760d0bd6ea7aed6f10e46e96e639,5,3,1,8482,,,0,"Remove nova-consoleauth service

It was removed upstream[1] and now the missing binary breaks the build,
so remove it from the package.

[1] https://review.opendev.org/652969

Change-Id: Ieea000d29858d289159b13c681b99d132a5ef2ef
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/674095/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-consoleauth.service']",2,db934f4a4ae9760d0bd6ea7aed6f10e46e96e639,nova-cells,,[Unit] Description=OpenStack Nova VNC console auth Server After=syslog.target network.target [Service] Type=notify NotifyAccess=all TimeoutStartSec=0 Restart=on-failure User=nova ExecStart=/usr/bin/nova-consoleauth [Install] WantedBy=multi-user.target ,0,52
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,stable/queens,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-07-09 11:17:40.000000000,2019-08-01 18:01:28.000000000,2019-08-01 18:01:27.000000000,"[{'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 11:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c41efbca9d24a6d8146e30d9a322c37e85e09648', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n      deployment/octavia/octavia-deployment-config.j2.yaml\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n'}, {'number': 2, 'created': '2019-07-09 11:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43cffd035c9fa70f9f689f1523e858e1983dae3f', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n(cherry picked from commit fb7503fd11084786dfc0bf15de154168ec9698e0)\n'}, {'number': 3, 'created': '2019-07-30 19:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b3c8a060040ca1d02b20a2f88ae396f059e50e2', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n\nCloses-bug: #1833942\n\nDepends-On: https://review.opendev.org/#/c/669824/\nDepends-On: https://review.opendev.org/#/c/669829/\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n'}, {'number': 4, 'created': '2019-07-31 12:21:54.000000000', 'files': ['puppet/services/octavia-base.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2065e2be485c756d4bdd868c9594e47d5b80373', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nConflicts:\n      deployment/octavia/octavia-base.yaml\n\nCloses-bug: #1833942\n\nDepends-On: https://review.opendev.org/#/c/669824/\nDepends-On: https://review.opendev.org/#/c/669829/\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)\n(cherry picked from commit 992ad5437cf21696958ca86f6675d23848f7c547)\n'}]",0,669848,b2065e2be485c756d4bdd868c9594e47d5b80373,22,5,4,6579,,,0,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Conflicts:
      deployment/octavia/octavia-base.yaml

Closes-bug: #1833942

Depends-On: https://review.opendev.org/#/c/669824/
Depends-On: https://review.opendev.org/#/c/669829/
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)
(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)
(cherry picked from commit 992ad5437cf21696958ca86f6675d23848f7c547)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/669848/3 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/octavia-base.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'docker/services/octavia/octavia-deployment-config.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml']",5,c41efbca9d24a6d8146e30d9a322c37e85e09648,OctaviaServerCertsKeyPassphrase-32chars,"--- fixes: - The passphrase for config option 'server_certs_key_passphrase', is used as a Fernet key in Octavia and thus must be 32 bytes long. In the case of an operator-provided passphrase, TripleO will validate that. ",,576,0
openstack%2Ftripleo-common~stable%2Fqueens~Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,openstack/tripleo-common,stable/queens,Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long,MERGED,2019-07-09 09:40:53.000000000,2019-08-01 18:01:26.000000000,2019-08-01 18:01:26.000000000,"[{'_account_id': 6579}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 09:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4879293d0471c7761c9b4ed6da8642770854ff22', 'message': 'Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long\n\nConflicts:\n      tripleo_common/utils/passwords.py\n\nRelated-Bug: #1833942\n\nChange-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\n(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)\n(cherry picked from commit 94620dd5e67fa3a0775b2df1ae312533e392a7f9)\n(cherry picked from commit 9c2b4f1801ef5c7e66bda0e1c3d23aae584eb8e1)\n'}, {'number': 2, 'created': '2019-07-29 12:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aaaab82aa397d94fedce71349d6be4478eb17c8f', 'message': 'Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long\n\nConflicts:\n      tripleo_common/utils/passwords.py\n\nRelated-Bug: #1833942\n\nChange-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\n(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)\n(cherry picked from commit 94620dd5e67fa3a0775b2df1ae312533e392a7f9)\n(cherry picked from commit 35913d62664424075392dcaca6324164fb19380a)\n'}, {'number': 3, 'created': '2019-07-29 12:09:57.000000000', 'files': ['releasenotes/notes/fix-generated-server_certs_key_passphrase-60cba4653109992c.yaml', 'tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32d7bb44ab61cb0fcca1a78dfa822511d1d640d4', 'message': 'Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long\n\nConflicts:\n      tripleo_common/utils/passwords.py\n\nRelated-Bug: #1833942\n\nChange-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\n(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)\n(cherry picked from commit 94620dd5e67fa3a0775b2df1ae312533e392a7f9)\n(cherry picked from commit 35913d62664424075392dcaca6324164fb19380a)\n'}]",0,669829,32d7bb44ab61cb0fcca1a78dfa822511d1d640d4,18,4,3,6579,,,0,"Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long

Conflicts:
      tripleo_common/utils/passwords.py

Related-Bug: #1833942

Change-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)
(cherry picked from commit 94620dd5e67fa3a0775b2df1ae312533e392a7f9)
(cherry picked from commit 35913d62664424075392dcaca6324164fb19380a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/669829/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-generated-server_certs_key_passphrase-60cba4653109992c.yaml', 'tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py']",3,4879293d0471c7761c9b4ed6da8642770854ff22,OctaviaServerCertsKeyPassphrase-32chars," elif name.startswith(""OctaviaServerCertsKeyPassphrase""): passwords[name] = passutils.generate_password( size=32)",,9,0
openstack%2Fpython-tripleoclient~master~I993fc09fd571fb93d78ffdbecf1823e806f744f4,openstack/python-tripleoclient,master,I993fc09fd571fb93d78ffdbecf1823e806f744f4,Pass deployment_options to config download,MERGED,2019-07-31 16:23:34.000000000,2019-08-01 18:01:25.000000000,2019-08-01 18:01:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-31 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f9c4f391392abc892d654d5102c8e20056767f0', 'message': 'Pass deployment_options to config download\n\nhttps://review.opendev.org/673862 allows config_download\nworkflow to take deployment_options as a input, this patch\npasses it to the workflow so ansible_python_interpreter\nis set correctly in generated inventory and thus used\nduring ansible deployment.\n\nDepends-On: https://review.opendev.org/#/c/673862/\nCloses-Bug: #1838540\nChange-Id: I993fc09fd571fb93d78ffdbecf1823e806f744f4\n'}, {'number': 2, 'created': '2019-08-01 03:50:36.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac7ae9e8d638676196c4897a30c978d51a091900', 'message': 'Pass deployment_options to config download\n\nhttps://review.opendev.org/673862 allows config_download\nworkflow to take deployment_options as a input, this patch\npasses it to the workflow so ansible_python_interpreter\nis set correctly in generated inventory and thus used\nduring ansible deployment.\n\nDepends-On: https://review.opendev.org/#/c/673862/\nCloses-Bug: #1838540\nChange-Id: I993fc09fd571fb93d78ffdbecf1823e806f744f4\n'}]",1,673868,ac7ae9e8d638676196c4897a30c978d51a091900,15,10,2,13861,,,0,"Pass deployment_options to config download

https://review.opendev.org/673862 allows config_download
workflow to take deployment_options as a input, this patch
passes it to the workflow so ansible_python_interpreter
is set correctly in generated inventory and thus used
during ansible deployment.

Depends-On: https://review.opendev.org/#/c/673862/
Closes-Bug: #1838540
Change-Id: I993fc09fd571fb93d78ffdbecf1823e806f744f4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/68/673868/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",2,8f9c4f391392abc892d654d5102c8e20056767f0,bug/1838540," deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter verbosity=self.app_args.verbose_level, deployment_options=deployment_options)", verbosity=self.app_args.verbose_level),11,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I69e0cf06d96389201258e8fb2f112aec15f64013,openstack/tripleo-heat-templates,stable/queens,I69e0cf06d96389201258e8fb2f112aec15f64013,Fix logging for metrics_qdr,MERGED,2019-03-15 13:32:10.000000000,2019-08-01 18:01:24.000000000,2019-08-01 18:01:24.000000000,"[{'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-03-15 13:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67a3d72f0584c881d22988f2d83539e891aee71a', 'message': 'Fix logging for metrics_qdr\n\n- metrics_qdr logs in debug mode which makes it the log file to grow quickly\n- current log file path does not match with the path fluentd is tailing\n- current log file patch conflicts with general purpose QDR composable service\n\nThis patch fixes all avove mentioned issues.\n\nChange-Id: I69e0cf06d96389201258e8fb2f112aec15f64013\nResolves-Bug: #1804464\n(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)\n(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)\n'}, {'number': 2, 'created': '2019-06-25 18:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc8a83c20e84defdef6609960907e8408a39c555', 'message': 'Fix logging for metrics_qdr\n\n- metrics_qdr logs in debug mode which makes it the log file to grow quickly\n- current log file path does not match with the path fluentd is tailing\n- current log file patch conflicts with general purpose QDR composable service\n\nThis patch fixes all avove mentioned issues.\n\nChange-Id: I69e0cf06d96389201258e8fb2f112aec15f64013\nResolves-Bug: #1804464\n(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)\n(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)\n'}, {'number': 3, 'created': '2019-06-25 18:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/381375961ad06b3a9a8913b0e915dfe28ad6c9cd', 'message': 'Fix logging for metrics_qdr\n\n- metrics_qdr logs in debug mode which makes it the log file to grow quickly\n- current log file path does not match with the path fluentd is tailing\n- current log file patch conflicts with general purpose QDR composable service\n\nThis patch fixes all avove mentioned issues.\n\nChange-Id: I69e0cf06d96389201258e8fb2f112aec15f64013\nResolves-Bug: #1804464\n(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)\n(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)\n'}, {'number': 4, 'created': '2019-07-31 19:22:13.000000000', 'files': ['docker/services/metrics/qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2366ae6eba44d9bf3986ef00e8dbfd820dc0b04', 'message': 'Fix logging for metrics_qdr\n\n- metrics_qdr logs in debug mode which makes it the log file to grow quickly\n- current log file path does not match with the path fluentd is tailing\n- current log file patch conflicts with general purpose QDR composable service\n\nThis patch fixes all avove mentioned issues.\n\nChange-Id: I69e0cf06d96389201258e8fb2f112aec15f64013\nResolves-Bug: #1804464\n(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)\n(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)\n'}]",0,643584,f2366ae6eba44d9bf3986ef00e8dbfd820dc0b04,21,5,4,5241,,,0,"Fix logging for metrics_qdr

- metrics_qdr logs in debug mode which makes it the log file to grow quickly
- current log file path does not match with the path fluentd is tailing
- current log file patch conflicts with general purpose QDR composable service

This patch fixes all avove mentioned issues.

Change-Id: I69e0cf06d96389201258e8fb2f112aec15f64013
Resolves-Bug: #1804464
(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)
(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/643584/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/metrics/qdr.yaml'],1,67a3d72f0584c881d22988f2d83539e891aee71a,saf_client_side, path: /var/log/containers/qdrouterd/metrics-qdr.log qdr::log_enable: 'info+' qdr::log_output: '/var/log/qdrouterd/metrics-qdr.log', path: /var/log/qdrouterd/metrics-qdr.log,3,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I0ad395b3417be4354e04ebed977a278abbc3a664,openstack/tripleo-heat-templates,stable/stein,I0ad395b3417be4354e04ebed977a278abbc3a664,Clean docker and podman after executing an update or upgrade,MERGED,2019-07-12 09:16:15.000000000,2019-08-01 18:01:22.000000000,2019-08-01 18:01:22.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-12 09:16:15.000000000', 'files': ['deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/463576dc6aae8f8c425d372ced12d6c70101576b', 'message': 'Clean docker and podman after executing an update or upgrade\n\nAfter running a major upgrade or minor update we will\nhave in the nodes some leftover containers data\nthat might not be used anymore.\n\nResolves: rhbz#1677535\n\nChange-Id: I0ad395b3417be4354e04ebed977a278abbc3a664\n(cherry picked from commit 4070b62e8c1318ab878a916114fb8252e3a952cb)\n'}]",0,670478,463576dc6aae8f8c425d372ced12d6c70101576b,24,7,1,20775,,,0,"Clean docker and podman after executing an update or upgrade

After running a major upgrade or minor update we will
have in the nodes some leftover containers data
that might not be used anymore.

Resolves: rhbz#1677535

Change-Id: I0ad395b3417be4354e04ebed977a278abbc3a664
(cherry picked from commit 4070b62e8c1318ab878a916114fb8252e3a952cb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/670478/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'deployment/podman/podman-baremetal-ansible.yaml']",2,463576dc6aae8f8c425d372ced12d6c70101576b,651786-stable/stein, - name: Clean podman when: - step|int == 3 - container_cli == 'podman' block: - name: Purge Podman block: - name: Clean podman images shell: podman image prune -a - name: Clean podman volumes shell: podman volume prune -f post_update_tasks: - name: Clean podman when: - step|int == 3 - container_cli == 'podman' block: - name: Purge Podman block: - name: Clean podman images shell: podman image prune -a - name: Clean podman volumes shell: podman volume prune -f,,63,0
openstack%2Fcyborg~master~Ie32e1a820e7847517a3e1a6027f3a47c709cd82e,openstack/cyborg,master,Ie32e1a820e7847517a3e1a6027f3a47c709cd82e,P4: Basic changes for objects layer.,MERGED,2019-07-12 08:15:00.000000000,2019-08-01 17:23:37.000000000,2019-08-01 17:23:37.000000000,"[{'_account_id': 11878}, {'_account_id': 14131}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-07-12 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/345a9ebb2dafe9e42b37fd8dbf12b4ab63a1c018', 'message': 'P4: Basic changes for objects layer.\n\nChange-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e\n'}, {'number': 2, 'created': '2019-07-12 15:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5b2118f1b28b25811a082a72bcdb5d96e09abedb', 'message': 'P4: Basic changes for objects layer.\n\nChange-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e\n'}, {'number': 3, 'created': '2019-07-29 06:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/35c27df9c5b9f834d10f8ab785c436359d4e29c6', 'message': 'P4: Basic changes for objects layer.\n\nChange-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e\n'}, {'number': 4, 'created': '2019-07-30 04:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6a0c909576ffd76b3dd90ffcccf6d1ea504f6fa5', 'message': 'P4: Basic changes for objects layer.\n\nChange-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e\n'}, {'number': 5, 'created': '2019-07-31 07:26:55.000000000', 'files': ['cyborg/objects/accelerator.py', 'cyborg/objects/fields.py', 'cyborg/objects/physical_function.py', 'cyborg/objects/virtual_function.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/be36ee9d2da5aa521626a210231777c5faf6291b', 'message': 'P4: Basic changes for objects layer.\n\nChange-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e\n'}]",0,670465,be36ee9d2da5aa521626a210231777c5faf6291b,19,5,5,21672,,,0,"P4: Basic changes for objects layer.

Change-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/65/670465/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/objects/accelerator.py', 'cyborg/objects/fields.py', 'cyborg/objects/physical_function.py', 'cyborg/objects/virtual_function.py']",4,345a9ebb2dafe9e42b37fd8dbf12b4ab63a1c018,nova-integ,,"# Copyright 2018 Huawei Technologies Co.,LTD. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from oslo_versionedobjects import base as object_base from cyborg.common import exception from cyborg.db import api as dbapi from cyborg.objects import base from cyborg.objects import fields as object_fields from cyborg.objects.deployable import Deployable LOG = logging.getLogger(__name__) @base.CyborgObjectRegistry.register class VirtualFunction(Deployable): # Version 1.0: Initial version VERSION = '1.0' def create(self, context): # To ensure the creating type is VF if self.type != 'vf': raise exception.InvalidDeployType() super(VirtualFunction, self).create(context) def save(self, context): # To ensure the saving type is VF if self.type != 'vf': raise exception.InvalidDeployType() super(VirtualFunction, self).save(context) @classmethod def get_by_filter(cls, context, filters, sort_key='created_at', sort_dir='desc', limit=None, marker=None, join=None): obj_dpl_list = [] filters['type'] = 'vf' db_dpl_list = cls.dbapi.deployable_get_by_filters(context, filters, sort_key=sort_key, sort_dir=sort_dir, limit=limit, marker=marker, join_columns=join) for db_dpl in db_dpl_list: obj_dpl = cls._from_db_object(cls(context), db_dpl) obj_dpl_list.append(obj_dpl) return obj_dpl_list ",3,282
openstack%2Fpuppet-tripleo~stable%2Fstein~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,stable/stein,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-07-31 23:16:47.000000000,2019-08-01 17:06:59.000000000,2019-08-01 09:40:36.000000000,"[{'_account_id': 6796}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 23:16:47.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3c4748b46238002acda87a65c4150f0ce3d579cb', 'message': 'Allow for customization of the Manila CephFS pool name\n\nManila needs to know the CephFS pool name, which the deployer\nmight want to customize when the Ceph cluster is externally managed.\n\nChange-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nPartial-Bug: 1837099\n(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)\n'}]",0,673927,3c4748b46238002acda87a65c4150f0ce3d579cb,11,4,1,16643,,,0,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/673927/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,3c4748b46238002acda87a65c4150f0ce3d579cb,bug/1837099-stable/stein," $manila_cephfs_pool_name = hiera('manila::backend::cephfs::pool_name', 'manila_data') ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => $manila_cephfs_pool_name;"," ""${manila_cephfs_backend}/ganesha_rados_store_pool_name"": value => 'manila_data';",2,1
openstack%2Fheat~stable%2Frocky~I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,openstack/heat,stable/rocky,I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,Allow update of previously-replaced resources,MERGED,2019-07-29 03:09:51.000000000,2019-08-01 17:00:26.000000000,2019-08-01 17:00:26.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 03:09:51.000000000', 'files': ['heat/engine/check_resource.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c86cfa6e8358046ce2b9064a3d2b2cb634a0ae4f', 'message': ""Allow update of previously-replaced resources\n\nThe convergence prototype ignored checks of resources that had previously\nbeen replaced by another resource. However, it turns out that this was\nunnecessary in the final version of the prototype:\n\nhttps://github.com/zaneb/heat-convergence-prototype/commit/e9d2f833a53de1ab09e7d936a4826d36ed7bb68d\n\nKeeping this limitation prevents us from allowing users to roll back to a\npreviously-existing resource if creating the replacement fails, other than\nby using the automated rollback mechanism (which is special-cased).\n\nSince the graph for the traversal is calculated at the start of the update,\nthere's no need to limit which nodes are allowed to be checked. Only the\nselected resource will have an is_update=True node in the traversal graph.\nRemoving this additional restriction allows us to improve the algorithm\nthat chooses which resource to update. Since a new traversal ID is stored\nbefore we calculate the traversal graph, we can guarantee that no new\nresource checks will start (though some may still be happening) while the\nalgorithm is choosing, so there's no danger of it picking a resource that\nlater gets replaced.\n\nSince we're no longer treating automatic rollback as a special case, reset\nthe replaced_by field whenever we update a previously-replaced resource.\n\nChange-Id: I04e7ad90944c2d03ce0e59ba16af9d60d6e01222\nStory: #2003579\nTask: 26197\n(cherry picked from commit e34da892901dbba709d3854f8979eee32594d916)\n""}]",0,673197,c86cfa6e8358046ce2b9064a3d2b2cb634a0ae4f,7,2,1,8833,,,0,"Allow update of previously-replaced resources

The convergence prototype ignored checks of resources that had previously
been replaced by another resource. However, it turns out that this was
unnecessary in the final version of the prototype:

https://github.com/zaneb/heat-convergence-prototype/commit/e9d2f833a53de1ab09e7d936a4826d36ed7bb68d

Keeping this limitation prevents us from allowing users to roll back to a
previously-existing resource if creating the replacement fails, other than
by using the automated rollback mechanism (which is special-cased).

Since the graph for the traversal is calculated at the start of the update,
there's no need to limit which nodes are allowed to be checked. Only the
selected resource will have an is_update=True node in the traversal graph.
Removing this additional restriction allows us to improve the algorithm
that chooses which resource to update. Since a new traversal ID is stored
before we calculate the traversal graph, we can guarantee that no new
resource checks will start (though some may still be happening) while the
algorithm is choosing, so there's no danger of it picking a resource that
later gets replaced.

Since we're no longer treating automatic rollback as a special case, reset
the replaced_by field whenever we update a previously-replaced resource.

Change-Id: I04e7ad90944c2d03ce0e59ba16af9d60d6e01222
Story: #2003579
Task: 26197
(cherry picked from commit e34da892901dbba709d3854f8979eee32594d916)
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/673197/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/check_resource.py', 'heat/engine/resource.py']",2,c86cfa6e8358046ce2b9064a3d2b2cb634a0ae4f,, self.replaced_by = None, self.replaced_by = None,1,9
openstack%2Fpython-openstackclient~master~Id37f86ce5a2142737e7280fcb8335449621fdd2f,openstack/python-openstackclient,master,Id37f86ce5a2142737e7280fcb8335449621fdd2f,WIP - Compute 'force_service_down' API returns 400 with latest version,ABANDONED,2019-06-25 04:58:13.000000000,2019-08-01 16:56:23.000000000,,"[{'_account_id': 970}, {'_account_id': 3085}, {'_account_id': 6873}, {'_account_id': 8716}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 29238}]","[{'number': 1, 'created': '2019-06-25 04:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b387d96ba926f99ff12802df3224e279a3e095bd', 'message': ""Compute 'force_service_down' API returns 400 with latest version\n\nPresently, you can update service state/status if the\n--os-compute-api-version is <= 2.52 but if --os-compute-api-version\nis >=2.53, then it returns an error.\n\n $openstack --os-compute-api-version 2.53 compute service set\n <service_id>  --up\n\n Output:\n openstack compute service set: error: too few arguments\n\nThis patch fixes this issue by checking os-compute-api-version by\nallowing to use service-id if os-compute-api-version is >=2.53.\n\nCloses-Bug: #1821584\n\nChange-Id: Id37f86ce5a2142737e7280fcb8335449621fdd2f\n""}, {'number': 2, 'created': '2019-06-25 05:38:25.000000000', 'files': ['openstackclient/compute/v2/service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7c847ae6d9d43af4eb17b7ff1b048f3f04573d2a', 'message': ""WIP - Compute 'force_service_down' API returns 400 with latest version\n\nPresently, you can update service state/status if the\n--os-compute-api-version is <= 2.52 but if --os-compute-api-version\nis >=2.53, then it returns an error.\n\n $openstack --os-compute-api-version 2.53 compute service set\n <service_id>  --up\n\n Output:\n openstack compute service set: error: too few arguments\n\nThis patch fixes this issue by checking os-compute-api-version by\nallowing to use service-id if os-compute-api-version is >=2.53.\n\nCloses-Bug: #1821584\n\nChange-Id: Id37f86ce5a2142737e7280fcb8335449621fdd2f\n""}]",20,667264,7c847ae6d9d43af4eb17b7ff1b048f3f04573d2a,14,9,2,29238,,,0,"WIP - Compute 'force_service_down' API returns 400 with latest version

Presently, you can update service state/status if the
--os-compute-api-version is <= 2.52 but if --os-compute-api-version
is >=2.53, then it returns an error.

 $openstack --os-compute-api-version 2.53 compute service set
 <service_id>  --up

 Output:
 openstack compute service set: error: too few arguments

This patch fixes this issue by checking os-compute-api-version by
allowing to use service-id if os-compute-api-version is >=2.53.

Closes-Bug: #1821584

Change-Id: Id37f86ce5a2142737e7280fcb8335449621fdd2f
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/667264/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/service.py'],1,b387d96ba926f99ff12802df3224e279a3e095bd,bug/1821584," ""--host"", default=None, help=_(""Name of host. This option requires"" "" --os-compute-api-version"" "" from 2.1 to 2.52"") ""--service"", default=None, help=_(""Name of service (Binary name). This option requires"" "" --os-compute-api-version 2.1 to 2.52"") parser.add_argument( ""--id"", default=None, metavar=""<service_id>"", help=_(""ID of the service as a UUID. This option requires"" "" --os-compute-api-version 2.53 or higher"") ) help=_(""Reason for disabling the service (in quotes)."" help=_('Force up service. This option requires at least' ' --os-compute-api-version 2.11'), help=_('Force down service. This option requires at least' ' --os-compute-api-version 2.11'), def _validate_arguments(self, parsed_args): if (compute_client.api_version <= api_versions.APIVersion( '2.52')): if ((parsed_args.host and parsed_args.service) is None): msg = _(""host and service is required for"" "" --os-compute-api-version from 2.1 "" ""to 2.52"") raise exceptions.CommandError(msg) if parsed_args.id: msg = _(""Needs to set --os-compute-api-version from 2.53 and "" "" higher to pass id"") raise exceptions.CommandError(msg) else: if (parsed_args.id is None): msg = _(""ID of the service as a UUID is required "" ""for version 2.53 or higher"") raise exceptions.CommandError(msg) if (parsed_args.host or parsed_args.service): msg = _(""Host and service parameters are not accepted from "" ""version >=2.53"") raise exceptions.CommandError(msg) if ((parsed_args.enable or parsed_args.disable or parsed_args.up or parsed_args.down) is False): msg = _(""Please set any one of these enable/disable/up/down "" ""options"") raise exceptions.CommandError(msg) force_down = None if parsed_args.down: force_down = True if parsed_args.up: force_down = False if force_down is not None: if compute_client.api_version < api_versions.APIVersion('2.11'): msg = _('--os-compute-api-version 2.11 or later is ' 'required') raise exceptions.CommandError(msg) def _service_set_2_52(self, parsed_args): compute_client = self.app.client_manager.compute cs = compute_client.services enabled = None if parsed_args.enable: enabled = True if parsed_args.disable: enabled = False result = 0 if enabled is not None: try: cs.disable(parsed_args.host, parsed_args.service) except Exception: status = ""enabled"" if enabled else ""disabled"" LOG.error(""Failed to set service status to %s"", status) result += 1 if force_down is not None: try: cs.force_down(parsed_args.host, parsed_args.service, msg = _(""Compute service %(service)s of host %(host)s"" "" failed to set."") % {""service"": parsed_args.service, ""host"": parsed_args.host} def _service_set(self, parsed_args): compute_client = self.app.client_manager.compute cs = compute_client.services enabled = None if parsed_args.enable: enabled = True if parsed_args.disable: enabled = False result = 0 if enabled is not None: try: if enabled: cs.enable(parsed_args.id) else: if parsed_args.disable_reason: cs.disable_log_reason(parsed_args.id, parsed_args.disable_reason) else: cs.disable(parsed_args.id) except Exception: status = ""enabled"" if enabled else ""disabled"" LOG.error(""Failed to set service status to %s"", status) result += 1 force_down = None if parsed_args.down: force_down = True if parsed_args.up: force_down = False if force_down is not None: try: cs.force_down(parsed_args.id, force_down=force_down) except Exception: state = ""down"" if force_down else ""up"" LOG.error(""Failed to set service state to %s"", state) result += 1 if result > 0: msg = _(""Compute service of host %(service_id)s failed to "" ""set."") % {""service_id"": parsed_args.id} raise exceptions.CommandError(msg) def take_action(self, parsed_args): compute_client = self.app.client_manager.compute self._validate_arguments(parsed_args) if (compute_client.api_version <= api_versions.APIVersion( '2.52')): self._service_set_2_52(parsed_args) else: self._service_set(parsed_args)"," ""host"", help=_(""Name of host"") ""service"", help=_(""Name of service (Binary name)"") help=_(""Reason for disabling the service (in quotes). "" help=_('Force up service'), help=_('Force down service'), def take_action(self, parsed_args): cs = compute_client.services result = 0 enabled = None try: if parsed_args.enable: enabled = True if parsed_args.disable: enabled = False if enabled is not None: cs.disable(parsed_args.host, parsed_args.service) except Exception: status = ""enabled"" if enabled else ""disabled"" LOG.error(""Failed to set service status to %s"", status) result += 1 if force_down is not None: if compute_client.api_version < api_versions.APIVersion( '2.11'): msg = _('--os-compute-api-version 2.11 or later is ' 'required') raise exceptions.CommandError(msg) try: cs.force_down(parsed_args.host, parsed_args.service, msg = _(""Compute service %(service)s of host %(host)s failed to "" ""set."") % {""service"": parsed_args.service, ""host"": parsed_args.host}",147,31
openstack%2Fneutron-fwaas~stable%2Fstein~Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,openstack/neutron-fwaas,stable/stein,Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,Fix removing non-last port from the group,MERGED,2019-06-26 05:29:36.000000000,2019-08-01 16:47:45.000000000,2019-08-01 16:47:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 13995}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30103}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-26 05:29:36.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/df11d0b932ee2d518a180dfa0dac8b5205b67f84', 'message': 'Fix removing non-last port from the group\n\nWhen a firewall group has few ports, and some of those are removed\nthe status of the firewall group should not become INACTIVE\n\nChange-Id: Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c\nCloses-Bug: #1832450\n(cherry picked from commit fbea371e652b6aa634c5c974b0a9c6ee4066e90a)\n'}]",0,667510,df11d0b932ee2d518a180dfa0dac8b5205b67f84,14,9,1,20363,,,0,"Fix removing non-last port from the group

When a firewall group has few ports, and some of those are removed
the status of the firewall group should not become INACTIVE

Change-Id: Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c
Closes-Bug: #1832450
(cherry picked from commit fbea371e652b6aa634c5c974b0a9c6ee4066e90a)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/10/667510/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py']",3,df11d0b932ee2d518a180dfa0dac8b5205b67f84,," # Set last-port to True if there are no ports in the new group, # but the old group had ports fwg_with_rules['last-port'] = (old_firewall_group['ports'] and not(new_firewall_group['ports']))", fwg_with_rules['last-port'] = not ( set(new_firewall_group['ports']) - set(old_firewall_group['ports']) ),27,4
openstack%2Fpatrole~master~Ib854afe939791180153cccc4b0313e5b25842f7e,openstack/patrole,master,Ib854afe939791180153cccc4b0313e5b25842f7e,Update api-ref location,MERGED,2019-07-25 15:32:20.000000000,2019-08-01 16:40:15.000000000,2019-08-01 16:40:15.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-25 15:32:20.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_images_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_security_groups_rbac.py', 'patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/tests/api/compute/test_tenant_networks_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_volume_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_hosts_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ip_pools_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_hypervisor_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_bulk_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_virtual_interfaces_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_fixed_ips_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_actions_rbac.py', 'doc/source/rbac-overview.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/ee00c05e9a2727a081318f540c7670d15fd134fc', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib854afe939791180153cccc4b0313e5b25842f7e\n""}]",0,672759,ee00c05e9a2727a081318f540c7670d15fd134fc,14,4,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib854afe939791180153cccc4b0313e5b25842f7e
",git fetch https://review.opendev.org/openstack/patrole refs/changes/59/672759/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/compute/test_images_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_security_groups_rbac.py', 'patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/tests/api/compute/test_tenant_networks_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_volume_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_hosts_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ip_pools_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_hypervisor_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_bulk_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_virtual_interfaces_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_fixed_ips_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_actions_rbac.py', 'doc/source/rbac-overview.rst']",14,ee00c05e9a2727a081318f540c7670d15fd134fc,retire-api-site,.. _Keystone Roles API: https://docs.openstack.org/api-ref/identity/v3/#roles,.. _Keystone Roles API: https://developer.openstack.org/api-ref/identity/v3/#roles,17,17
openstack%2Fcharm-ceph-rbd-mirror~master~Idff68a51ec858a79d99668dbb6396bf6045f5c82,openstack/charm-ceph-rbd-mirror,master,Idff68a51ec858a79d99668dbb6396bf6045f5c82,add link to charms deployment guide,MERGED,2019-07-30 22:07:49.000000000,2019-08-01 16:36:26.000000000,2019-08-01 16:36:26.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-07-30 22:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/3dea7d3cfb4f04d6efc5879847739d95b287b459', 'message': 'add link to charms deployment guide\n\nChange-Id: Idff68a51ec858a79d99668dbb6396bf6045f5c82\n'}, {'number': 2, 'created': '2019-07-30 23:12:10.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/625a804178c491ca48f06f162180e4870e74a27c', 'message': 'add link to charms deployment guide\n\nChange-Id: Idff68a51ec858a79d99668dbb6396bf6045f5c82\n'}]",3,673702,625a804178c491ca48f06f162180e4870e74a27c,15,5,2,30561,,,0,"add link to charms deployment guide

Change-Id: Idff68a51ec858a79d99668dbb6396bf6045f5c82
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/02/673702/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,3dea7d3cfb4f04d6efc5879847739d95b287b459,add-link-to-deploy-guide," The charm is written for Two-way Replication, which gives you the ability toFor more information on charms and RBD Mirroring see the [Ceph RBD Mirroring][ceph-rbd-mirroring] section of the [OpenStack Charms Deployment Guide][charms-deploy-guide]. [ceph-rbd-mirroring]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ceph-rbd-mirror.html [charms-deploy-guide]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/index.html "," The charm is written for Two-way Replication, which give you the ability to",8,1
openstack%2Freviewstats~master~I316a5b937f854accb01506ba960b2b532b38c9c5,openstack/reviewstats,master,I316a5b937f854accb01506ba960b2b532b38c9c5,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:38:36.000000000,2019-08-01 16:23:03.000000000,2019-08-01 16:23:03.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-01 11:38:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/905c2da520ee285a2b6f5059bd5e831c60640fd4', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I316a5b937f854accb01506ba960b2b532b38c9c5\n'}]",0,668446,905c2da520ee285a2b6f5059bd5e831c60640fd4,7,3,1,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I316a5b937f854accb01506ba960b2b532b38c9c5
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/46/668446/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,905c2da520ee285a2b6f5059bd5e831c60640fd4,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fopenstack-helm-infra~master~Id24c4a0cca64674890dae3599edc0c90d9534e90,openstack/openstack-helm-infra,master,Id24c4a0cca64674890dae3599edc0c90d9534e90,Nagios: Updated the alert for Ceph OSD Down,MERGED,2019-07-11 20:18:22.000000000,2019-08-01 16:15:51.000000000,2019-08-01 16:15:51.000000000,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28208}, {'_account_id': 28618}, {'_account_id': 29974}, {'_account_id': 30010}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-07-11 20:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20e4716f5825721791e58cc22ed00af72ea1026f', 'message': '[Fix] Updated the alert for Ceph OSD Down\n\nEarlier the Nagios alert monitor was percent based as in when the percent of OSD\ndown is greater than 80, it will send alert.\n>check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down is\nmore than 80 percent!OK- CEPH OSDs down is less than 80 percent\n\nUpdated the code in nagios values.yaml to send alert when even 1 OSD is\ndown:\n>check_prom_alert!ceph_osd_down!CRITICAL- CEPH OSDs down count is more\nthan zero!OK- CEPH OSDs down count is zero\n\nChange-Id: Id24c4a0cca64674890dae3599edc0c90d9534e90\n'}, {'number': 2, 'created': '2019-07-19 16:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ed089821e9ca448d0d61b4630a374fe7ae5d635', 'message': 'Nagios: Updated the alert for Ceph OSD Down\n\nEarlier the Nagios alert monitor was percent based as in when the percent of OSD\ndown is greater than 80, it will send alert.\n>check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down is\nmore than 80 percent!OK- CEPH OSDs down is less than 80 percent\n\nUpdated the code in nagios values.yaml to send alert when even 1 OSD is\ndown:\n>check_prom_alert!ceph_osd_down!CRITICAL- CEPH OSDs down count is more\nthan zero!OK- CEPH OSDs down count is zero\n\nChange-Id: Id24c4a0cca64674890dae3599edc0c90d9534e90\n'}, {'number': 3, 'created': '2019-07-19 19:26:38.000000000', 'files': ['nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47565d2d191f22ad3c09340c9d393d0561b164eb', 'message': 'Nagios: Updated the alert for Ceph OSD Down\n\nEarlier the Nagios alert monitor was percent based as in when the percent of OSD\ndown is greater than 80, it will send alert.\n>check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down is\nmore than 80 percent!OK- CEPH OSDs down is less than 80 percent\n\nUpdated the code in nagios values.yaml to send alert when even 1 OSD is\ndown:\n>check_prom_alert!ceph_osd_down!CRITICAL- One or more CEPH OSDs are down\n>for more than 5 minutes!OK- All the CEPH OSDs are up\n\nChange-Id: Id24c4a0cca64674890dae3599edc0c90d9534e90\n'}]",2,670389,47565d2d191f22ad3c09340c9d393d0561b164eb,24,11,3,30582,,,0,"Nagios: Updated the alert for Ceph OSD Down

Earlier the Nagios alert monitor was percent based as in when the percent of OSD
down is greater than 80, it will send alert.
>check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down is
more than 80 percent!OK- CEPH OSDs down is less than 80 percent

Updated the code in nagios values.yaml to send alert when even 1 OSD is
down:
>check_prom_alert!ceph_osd_down!CRITICAL- One or more CEPH OSDs are down
>for more than 5 minutes!OK- All the CEPH OSDs are up

Change-Id: Id24c4a0cca64674890dae3599edc0c90d9534e90
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/670389/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,20e4716f5825721791e58cc22ed00af72ea1026f,ceph-osd, check_command check_prom_alert!ceph_osd_down!CRITICAL- CEPH OSDs down count is more than zero!OK- CEPH OSDs down count is zero, check_command check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down are more than 80 percent!OK- CEPH OSDs down is less than 80 percent,1,1
openstack%2Ftripleo-heat-templates~master~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,master,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-07-18 18:17:23.000000000,2019-08-01 16:00:42.000000000,2019-08-01 09:40:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-18 18:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd7f1332754d935e0d4a448ab64a70220f439fea', 'message': 'Transport ManilaCephFSDataPoolName to Manila CephFS template\n\nThis is necessary to configure the Manila CephFS backend\ncorrectly when user customizes the CephFS pool name.\n\nChange-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0\nDepends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nCloses-Bug: 1837099\n'}, {'number': 2, 'created': '2019-07-30 10:55:55.000000000', 'files': ['deployment/manila/manila-backend-cephfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f', 'message': 'Transport ManilaCephFSDataPoolName to Manila CephFS template\n\nThis is necessary to configure the Manila CephFS backend\ncorrectly when user customizes the CephFS pool name.\n\nChange-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0\nDepends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6\nCloses-Bug: 1837099\n'}]",0,671541,dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f,26,8,2,6796,,,0,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/671541/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-backend-cephfs.yaml'],1,dd7f1332754d935e0d4a448ab64a70220f439fea,bug/1837099, ManilaCephFSDataPoolName: default: manila_data type: string manila::backend::cephfs::pool_name: {get_param: ManilaCephFSDataPoolName},,4,0
openstack%2Fironic~master~Idea529476107b8520bfe5e812711587c06145514,openstack/ironic,master,Idea529476107b8520bfe5e812711587c06145514,Update ironic installation,ABANDONED,2019-06-11 07:46:59.000000000,2019-08-01 15:50:43.000000000,,"[{'_account_id': 4571}, {'_account_id': 10379}, {'_account_id': 12860}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-11 07:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bef239441813bf16490d5e1a298ab22b0050de56', 'message': 'Add KeyStone config in common-prerequisites\n\nWe need to config keystone_authtoken in ironic config, this needs\nironic user created firstly. Moving KeyStone config\nto common-prerequisites, this will helpful for user deployment.\n\nChange-Id: Idea529476107b8520bfe5e812711587c06145514\n'}, {'number': 2, 'created': '2019-06-11 08:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a6275f4ae37974ff35c3091f6f8c3e72590853e7', 'message': 'Add note in ironic-api installation\n\nWe need to config keystone_authtoken in ironic config, this needs\nironic user created firstly. Add a note and link for KeyStone config,\nthis will helpful for user deployment.\n\nChange-Id: Idea529476107b8520bfe5e812711587c06145514\n'}, {'number': 3, 'created': '2019-06-14 01:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/987ca44ae3a29d733cf6358d18136d1f39ac4b70', 'message': 'Update ironic-api installation\n\nMade the following changes:\n1. We need to config keystone_authtoken in ironic config, this needs\nironic user created firstly. Add a note and link for KeyStone config,\nthis will helpful for user deployment.\n2. IRONIC_NODE is a legacy config.\n3. HTTPs needs extra config, otherwise if will raise warnning.\n\nTrivialFix\nChange-Id: Idea529476107b8520bfe5e812711587c06145514\n'}, {'number': 4, 'created': '2019-06-14 01:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64bb64176ca5d5e7d3e62ac05006d9feffd061e9', 'message': 'Update ironic installation\n\nMade the following changes:\n1. We need to config keystone_authtoken in ironic config, this needs\nironic user created firstly. Add a note and link for KeyStone config,\nthis will helpful for user deployment.\n2. IRONIC_NODE is a legacy config.\n3. HTTPs needs extra config, otherwise if will raise warnning.\n\nTrivialFix\nChange-Id: Idea529476107b8520bfe5e812711587c06145514\n'}, {'number': 5, 'created': '2019-06-14 13:30:34.000000000', 'files': ['doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/enrollment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b4e0b8fe5d41c8225517e7f8fd440c9dea4fdc7', 'message': 'Update ironic installation\n\nMade the following changes:\n1. We need to config keystone_authtoken in ironic config, this needs\nironic user created firstly. Add a note and link for KeyStone config,\nthis will helpful for user deployment.\n2. IRONIC_NODE is a legacy config.\n3. HTTPs needs extra config, otherwise if will raise warnning.\n\nTrivialFix\nChange-Id: Idea529476107b8520bfe5e812711587c06145514\n'}]",2,664518,7b4e0b8fe5d41c8225517e7f8fd440c9dea4fdc7,21,7,5,12860,,,0,"Update ironic installation

Made the following changes:
1. We need to config keystone_authtoken in ironic config, this needs
ironic user created firstly. Add a note and link for KeyStone config,
this will helpful for user deployment.
2. IRONIC_NODE is a legacy config.
3. HTTPs needs extra config, otherwise if will raise warnning.

TrivialFix
Change-Id: Idea529476107b8520bfe5e812711587c06145514
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/664518/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/configure-identity.rst', 'doc/source/install/include/common-prerequisites.inc']",2,bef239441813bf16490d5e1a298ab22b0050de56,," Configure the Identity service for the Bare Metal service --------------------------------------------------------- #. Create the Bare Metal service user (for example, ``ironic``). The service uses this to authenticate with the Identity service. Use the ``service`` tenant and give the user the ``admin`` role: .. code-block:: console $ openstack user create --password IRONIC_PASSWORD \ --email ironic@example.com ironic $ openstack role add --project service --user ironic admin #. You must register the Bare Metal service with the Identity service so that other OpenStack services can locate it. To register the service: .. code-block:: console $ openstack service create --name ironic --description \ ""Ironic baremetal provisioning service"" baremetal #. Create the endpoint, and replace ``IRONIC_NODE`` with your Bare Metal service's API node: .. code-block:: console $ openstack endpoint create --region RegionOne \ baremetal admin http://$IRONIC_NODE:6385 $ openstack endpoint create --region RegionOne \ baremetal public http://$IRONIC_NODE:6385 $ openstack endpoint create --region RegionOne \ baremetal internal http://$IRONIC_NODE:6385 For more advanced Identity config for Bare Metal service, please see in :doc:`/install/configure-identity`",,36,31
openstack%2Fcinder~master~Iaebfd31bc2c4fd304a11c49da23f5f5efc513757,openstack/cinder,master,Iaebfd31bc2c4fd304a11c49da23f5f5efc513757,Correcting typo in environment spelling,MERGED,2019-07-31 06:24:30.000000000,2019-08-01 15:48:36.000000000,2019-07-31 15:57:42.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-31 06:24:30.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2b0de24c6b87681d9eba47fac313bbc2009a580', 'message': 'Correcting typo in environment spelling\n\nThere is a typographical error in tempest-and-cinderlib-run.yaml.\nCorrecting spelling from enviroment to environment.\n\nChange-Id: Iaebfd31bc2c4fd304a11c49da23f5f5efc513757\n'}]",0,673740,f2b0de24c6b87681d9eba47fac313bbc2009a580,29,25,1,29775,,,0,"Correcting typo in environment spelling

There is a typographical error in tempest-and-cinderlib-run.yaml.
Correcting spelling from enviroment to environment.

Change-Id: Iaebfd31bc2c4fd304a11c49da23f5f5efc513757
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/673740/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,f2b0de24c6b87681d9eba47fac313bbc2009a580,fix-environment-spell, # This environment variable is used by the optional tempest-gabbi, # This enviroment variable is used by the optional tempest-gabbi,1,1
openstack%2Foslo.log~master~Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,openstack/oslo.log,master,Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,Use upper constraints from opendev.org,ABANDONED,2019-04-25 09:45:46.000000000,2019-08-01 15:19:25.000000000,,"[{'_account_id': 1736}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-25 09:45:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6eceb160eaaebbc6ea04768f62876738aa61c2d1', 'message': 'Use upper constraints from opendev.org\n\noslo.cache uses a simple curl command in its tox_install.sh\nto fetch the upper-constraints, and curl does not follow redirects\nthat are now in place due to move to opendev.org.\n\nThis breaks running tox-based tests w/o overriding the\nUPPER_CONSTRAINTS_FILE which upstream CI does,\nfor example running tox locally.\n\nChange-Id: Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb\n'}]",0,655645,6eceb160eaaebbc6ea04768f62876738aa61c2d1,7,4,1,9542,,,0,"Use upper constraints from opendev.org

oslo.cache uses a simple curl command in its tox_install.sh
to fetch the upper-constraints, and curl does not follow redirects
that are now in place due to move to opendev.org.

This breaks running tox-based tests w/o overriding the
UPPER_CONSTRAINTS_FILE which upstream CI does,
for example running tox locally.

Change-Id: Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/45/655645/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6eceb160eaaebbc6ea04768f62876738aa61c2d1,opendev-u-c,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-heat-templates~master~I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3,openstack/tripleo-heat-templates,master,I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3,Add deployment notice,ABANDONED,2019-05-31 13:59:03.000000000,2019-08-01 15:17:39.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-31 13:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8837e32a084cac33c6949a572ba0f1816988b795', 'message': 'Add deployment notice\n\nThis change adds a deployment notice to the task list which will\nprovide a warning to the end user when the current configuration\ncould lead to an inconsistent deployment experience.\n\nChange-Id: I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-05-31 20:06:01.000000000', 'files': ['deployment/aide/aide-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a51aafdb0c75b13f49849564ca7396b7db1ad8e', 'message': 'Add deployment notice\n\nThis change adds a deployment notice to the task list which will\nprovide a warning to the end user when the current configuration\ncould lead to an inconsistent deployment experience.\n\nChange-Id: I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,662473,2a51aafdb0c75b13f49849564ca7396b7db1ad8e,8,3,2,7353,,,0,"Add deployment notice

This change adds a deployment notice to the task list which will
provide a warning to the end user when the current configuration
could lead to an inconsistent deployment experience.

Change-Id: I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/662473/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/aide/aide-baremetal-ansible.yaml'],1,8837e32a084cac33c6949a572ba0f1816988b795,puppet2ansible," - name: Check for aide which aide environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" changed_when: false failed_when: false register: aide_check - name: Check package state and install properties debug: msg: >- The option `EnablePackageInstall` is set to false though the application appears to be installed. Because the service is present it will be configured however with the aide template enabled and the package state option disabled the current configuration could lead to an inconsistent deployment across the fleet. Please check the deployment options and included templates accordingly. when: - not (EnablePackageInstall | default(false) | bool) - aide_check.rc == 0 - name: Run aide setup when: - aide_check.rc == 0 block: - name: Check for aide db stat: path: ""{{ aide_db_path }}"" register: aide_db_path_check - name: Ensure aide DB config is set lineinfile: path: ""{{ aide_conf_path }}"" line: ""{{ item.line }}"" create: true when: - item.condition | bool with_items: - line: ""database=file:{{ aide_db_path }}"" condition: true - line: ""database_out=file:{{ aide_db_temp_path }}"" condition: ""{{ not (aide_db_path_check.stat.exists | bool) }}"" - line: ""database_new=file:{{ aide_db_temp_path }}"" condition: ""{{ not (aide_db_path_check.stat.exists | bool) }}"" - name: Initialize aide database command: >- /usr/sbin/aide --init --config {{ aide_conf_path }} no_log: true args: creates: ""{{ aide_db_path }}"" - name: Check for tmp aide db stat: path: ""{{ aide_db_temp_path }}"" register: aide_db_temp_path_check - name: Copy aide db copy: src: ""{{ aide_db_temp_path }}"" dest: ""{{ aide_db_path }}"" remote_src: yes when: - aide_db_temp_path_check.stat.exists | bool - not (aide_db_path_check.stat.exists | bool) - name: Set aide command fact with email | {{ aide_mua_path }} -s '{{ ansible_fqdn }} - AIDE integrity check' {{ aide_email }} when: - aide_email.find(""v="" ~ ""@"") == -1 - name: Email aide block when: - aide_email.find(""v="" ~ ""@"") != -1 block: - name: Ensure audit directory exists file: path: ""/var/log/audit"" state: directory - name: Set aide command fact set_fact: aide_command: >- /usr/sbin/aide --check --config {{ aide_conf_path }} > /var/log/audit/aide_$(date +%Y-%m-%d).log - name: Create aide cron entry cron: name: ""aide"" job: ""{{ aide_command }}"" user: ""{{ aide_cron_user }}"" hour: ""{{ aide_hour | string }}"" minute: ""{{ aide_minute | string }}"" upgrade_tasks: - name: Ensure Aide is installed and updated package: name: aide state: latest when: - EnablePackageInstall | default(false) | bool - name: Initialize aide database command: >- /usr/sbin/aide --init --config {{ aide_conf_path }} - name: Check for tmp aide db stat: path: ""{{ aide_db_temp_path }}"" register: aide_db_temp_path_check - name: Copy new aide db copy: src: ""{{ aide_db_temp_path }}"" dest: ""{{ aide_db_path }}"" remote_src: yes when: - aide_db_temp_path_check.stat.exists | bool"," - name: Check for aide db stat: path: ""{{ aide_db_path }}"" register: aide_db_path_check - name: Ensure aide DB config is set lineinfile: path: ""{{ aide_conf_path }}"" line: ""{{ item.line }}"" create: true when: - item.condition | bool with_items: - line: ""database=file:{{ aide_db_path }}"" condition: true - line: ""database_out=file:{{ aide_db_temp_path }}"" condition: ""{{ not (aide_db_path_check.stat.exists | bool) }}"" - line: ""database_new=file:{{ aide_db_temp_path }}"" condition: ""{{ not (aide_db_path_check.stat.exists | bool) }}"" - name: Initialize aide database /usr/sbin/aide --init --config {{ aide_conf_path }} no_log: true args: creates: ""{{ aide_db_path }}"" - name: Check for tmp aide db stat: path: ""{{ aide_db_temp_path }}"" register: aide_db_temp_path_check - name: Copy aide db copy: src: ""{{ aide_db_temp_path }}"" dest: ""{{ aide_db_path }}"" remote_src: yes when: - aide_db_temp_path_check.stat.exists | bool - not (aide_db_path_check.stat.exists | bool) - name: Set aide command fact with email set_fact: aide_command: >- /usr/sbin/aide --check --config {{ aide_conf_path }} | {{ aide_mua_path }} -s '{{ ansible_fqdn }} - AIDE integrity check' {{ aide_email }} when: - aide_email.find(""v="" ~ ""@"") == -1 - name: Email aide block when: - aide_email.find(""v="" ~ ""@"") != -1 block: - name: Ensure audit directory exists file: path: ""/var/log/audit"" state: directory - name: Set aide command fact > /var/log/audit/aide_$(date +%Y-%m-%d).log - name: Create aide cron entry cron: name: ""aide"" job: ""{{ aide_command }}"" user: ""{{ aide_cron_user }}"" hour: ""{{ aide_hour | string }}"" minute: ""{{ aide_minute | string }}"" upgrade_tasks: - name: Ensure Aide is installed and updated package: name: aide state: latest when: - EnablePackageInstall | default(false) | bool - name: Initialize aide database command: >- /usr/sbin/aide --init --config {{ aide_conf_path }} - name: Check for tmp aide db stat: path: ""{{ aide_db_temp_path }}"" register: aide_db_temp_path_check - name: Copy new aide db copy: src: ""{{ aide_db_temp_path }}"" dest: ""{{ aide_db_path }}"" remote_src: yes when: - aide_db_temp_path_check.stat.exists | bool",110,84
openstack%2Ftripleo-heat-templates~master~I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e,openstack/tripleo-heat-templates,master,I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e,Add deployment notice,ABANDONED,2019-05-31 13:48:43.000000000,2019-08-01 15:17:28.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-31 13:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea157613ebb52dd8b717f45cd9a0d681d901084e', 'message': 'Add deployment notice\n\nThis change adds a deployment notice to the task list which will\nprovide a warning to the end user when the current configuration\ncould lead to an inconsistent deployment experience.\n\nChange-Id: I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-05-31 20:05:03.000000000', 'files': ['deployment/tuned/tuned-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f133ff3505989c388a984f1df6e161b4183a03be', 'message': 'Add deployment notice\n\nThis change adds a deployment notice to the task list which will\nprovide a warning to the end user when the current configuration\ncould lead to an inconsistent deployment experience.\n\nChange-Id: I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,662468,f133ff3505989c388a984f1df6e161b4183a03be,16,6,2,7353,,,0,"Add deployment notice

This change adds a deployment notice to the task list which will
provide a warning to the end user when the current configuration
could lead to an inconsistent deployment experience.

Change-Id: I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/662468/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tuned/tuned-baremetal-ansible.yaml'],1,ea157613ebb52dd8b717f45cd9a0d681d901084e,puppet2ansible, - name: Check package state and install properties debug: msg: >- The option `EnablePackageInstall` is set to false though the application appears to be installed. Because the service is present it will be configured however with the tuned template enabled and the package state option disabled the current configuration could lead to an inconsistent deployment across the fleet. Please check the deployment options and included templates accordingly. when: - not (EnablePackageInstall | default(false) | bool) - tuned_check.rc == 0 ,,13,0
openstack%2Fos-client-config~master~I756f1276304029365fb893c12974b2314f2b1286,openstack/os-client-config,master,I756f1276304029365fb893c12974b2314f2b1286,Fix broken link to openstacksdk,MERGED,2019-07-30 17:58:21.000000000,2019-08-01 15:12:11.000000000,2019-08-01 15:12:11.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-30 17:58:21.000000000', 'files': ['doc/source/user/using.rst'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/65db8609e1ad6c611c79bd204c4eb78c3aa41721', 'message': 'Fix broken link to openstacksdk\n\nThe openstackdocsdk has moved to docs.o.o and moved the linked page\naround, fix the link.\n\nChange-Id: I756f1276304029365fb893c12974b2314f2b1286\n'}]",0,673603,65db8609e1ad6c611c79bd204c4eb78c3aa41721,7,3,1,6547,,,0,"Fix broken link to openstacksdk

The openstackdocsdk has moved to docs.o.o and moved the linked page
around, fix the link.

Change-Id: I756f1276304029365fb893c12974b2314f2b1286
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/03/673603/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/using.rst'],1,65db8609e1ad6c611c79bd204c4eb78c3aa41721,retire-api-site,`openstack.connection.Connection <https://docs.openstack.org/openstacksdk/latest//user/guides/connect_from_config.html>`_,`openstack.connection.Connection <https://developer.openstack.org/sdks/python/openstacksdk/users/guides/connect_from_config.html>`_,1,1
openstack%2Fnova~stable%2Fstein~Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,openstack/nova,stable/stein,Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,Avoid logging traceback when detach device not found,MERGED,2019-07-25 22:15:50.000000000,2019-08-01 15:07:15.000000000,2019-08-01 12:56:05.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-25 22:15:50.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d83342226470e1957525978d7bec7d98db9bb695', 'message': ""Avoid logging traceback when detach device not found\n\nWe use the oslo.utils save_and_reraise_exception context manager in our\ndetach device code and catch specific exceptions that mean 'not found'\nand raise DeviceNotFound instead. When we do that, the\nsave_and_reraise_exception context manager logs an ERROR traceback of\nthe original exception, for informational purposes. This is misleading\nwhen trying to debug other issues, as it makes it look like the caught\nexception caused a problem.\n\nThis passes the reraise=False keyword arg to the context manager and\nsets the 'reraise' attribute to True only if we are not going to raise\na different exception.\n\nRelated-Bug: #1836212\n\nChange-Id: Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3\n(cherry picked from commit 738774b942dab21d8c03c70b4e74b6a487515ff5)\n""}]",0,672833,d83342226470e1957525978d7bec7d98db9bb695,12,6,1,4690,,,0,"Avoid logging traceback when detach device not found

We use the oslo.utils save_and_reraise_exception context manager in our
detach device code and catch specific exceptions that mean 'not found'
and raise DeviceNotFound instead. When we do that, the
save_and_reraise_exception context manager logs an ERROR traceback of
the original exception, for informational purposes. This is misleading
when trying to debug other issues, as it makes it look like the caught
exception caused a problem.

This passes the reraise=False keyword arg to the context manager and
sets the 'reraise' attribute to True only if we are not going to raise
a different exception.

Related-Bug: #1836212

Change-Id: Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3
(cherry picked from commit 738774b942dab21d8c03c70b4e74b6a487515ff5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/672833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']",2,d83342226470e1957525978d7bec7d98db9bb695,bug/1836212," with excutils.save_and_reraise_exception(reraise=False) as ctx: # Re-raise the original exception if we're not raising # DeviceNotFound instead. This will avoid logging of a # ""Original exception being dropped"" traceback. ctx.reraise = True", with excutils.save_and_reraise_exception():,10,1
openstack%2Ftripleo-heat-templates~master~Iadde822bf362c90098394930bf158ba905fb32de,openstack/tripleo-heat-templates,master,Iadde822bf362c90098394930bf158ba905fb32de,Matches updates for ceph-ansible variables name change,MERGED,2019-05-29 07:59:08.000000000,2019-08-01 14:47:56.000000000,2019-08-01 10:45:50.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 14270}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-29 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a96e785e73c7eb674e6f231a80fc5e625f8afdde', 'message': 'Matches updates for ceph-ansible variables name change\n\nReplaces some ceph-ansible variables name to match the changes\nintroduced with PR #4002\n\nChange-Id: Iadde822bf362c90098394930bf158ba905fb32de\n'}, {'number': 2, 'created': '2019-07-30 10:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c7d4a4d9c7e2856505122176e5a2c8ed0a45b15', 'message': 'Matches updates for ceph-ansible variables name change\n\nReplaces some ceph-ansible variables name to match the changes\nintroduced with PR #4002\n\nChange-Id: Iadde822bf362c90098394930bf158ba905fb32de\n'}, {'number': 3, 'created': '2019-07-30 10:36:45.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a194079f0d5a79d620bb39d126f0bfe8cad2d58', 'message': 'Matches updates for ceph-ansible variables name change\n\nReplaces some ceph-ansible variables name to match the changes\nintroduced with PR #4002\n\nChange-Id: Iadde822bf362c90098394930bf158ba905fb32de\n'}]",1,661907,1a194079f0d5a79d620bb39d126f0bfe8cad2d58,19,8,3,6796,,,0,"Matches updates for ceph-ansible variables name change

Replaces some ceph-ansible variables name to match the changes
introduced with PR #4002

Change-Id: Iadde822bf362c90098394930bf158ba905fb32de
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/661907/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml']",2,a96e785e73c7eb674e6f231a80fc5e625f8afdde,ceph_ansible_pr_4002, ceph_mgr_container_extra_env: '-e MGR_DASHBOARD=0', ceph_mgr_docker_extra_env: '-e MGR_DASHBOARD=0',5,6
openstack%2Fneutron~master~I74d9f449fb24f64548b0f6db4d5562f7447efb25,openstack/neutron,master,I74d9f449fb24f64548b0f6db4d5562f7447efb25,Pass get_networks() callback to interface driver,MERGED,2019-07-14 13:25:38.000000000,2019-08-01 14:45:18.000000000,2019-07-31 23:53:46.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-07-14 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c90a65a48030fe70172290e3f8bfa9839d4c576', 'message': '[POC][DNM] Pass get_networks() callback to interface driver\n\nIn order to support out of tree interface drivers it is required\nto pass a callback to allow the drivers to query information about\nthe network.\n\n- Allow passing **kwargs to interface drivers\n- Pass get_networks() as `get_networks_cb` kw arg\n  `get_networks_cb` has the same API as\n  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`\n   minus the the request context which will be embeded in the callback\n   itself.\n\nThe out of tree interface drivers in question are:\n\nMultiInterfaceDriver - a per-physnet interface driver that delegates\n                       operations on a per-physnet basis.\nIPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)\n                       networks.\n\nThose drivers are a part of networking-mlnx[1], Their implementation\nis vendor agnostic so they can later be moved to a more common place\nif desired.\n\n[1] https://github.com/openstack/networking-mlnx\n\nTODO: add unit-test\n\nChange-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25\nCloses-Bug: #1834176\n'}, {'number': 2, 'created': '2019-07-15 10:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33731c9f5d7f082f2f9bfb3029f9b64bd5c77d0c', 'message': '[POC][DNM] Pass get_networks() callback to interface driver\n\nIn order to support out of tree interface drivers it is required\nto pass a callback to allow the drivers to query information about\nthe network.\n\n- Allow passing **kwargs to interface drivers\n- Pass get_networks() as `get_networks_cb` kw arg\n  `get_networks_cb` has the same API as\n  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`\n   minus the the request context which will be embeded in the callback\n   itself.\n\nThe out of tree interface drivers in question are:\n\nMultiInterfaceDriver - a per-physnet interface driver that delegates\n                       operations on a per-physnet basis.\nIPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)\n                       networks.\n\nThose drivers are a part of networking-mlnx[1], Their implementation\nis vendor agnostic so they can later be moved to a more common place\nif desired.\n\n[1] https://github.com/openstack/networking-mlnx\n\nTODO: add unit-test\n\nChange-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25\nCloses-Bug: #1834176\n'}, {'number': 3, 'created': '2019-07-21 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83b580e94f64b4f0567fdb4ed099ad98cf04b672', 'message': 'Pass get_networks() callback to interface driver\n\nIn order to support out of tree interface drivers it is required\nto pass a callback to allow the drivers to query information about\nthe network.\n\n- Allow passing **kwargs to interface drivers\n- Pass get_networks() as `get_networks_cb` kw arg\n  `get_networks_cb` has the same API as\n  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`\n   minus the the request context which will be embeded in the callback\n   itself.\n\nThe out of tree interface drivers in question are:\n\nMultiInterfaceDriver - a per-physnet interface driver that delegates\n                       operations on a per-physnet basis.\nIPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)\n                       networks.\n\nThose drivers are a part of networking-mlnx[1], Their implementation\nis vendor agnostic so they can later be moved to a more common place\nif desired.\n\n[1] https://github.com/openstack/networking-mlnx\n\nChange-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25\nCloses-Bug: #1834176\n'}, {'number': 4, 'created': '2019-07-21 14:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a601ea09e89b90081f09ef9271368915773475c', 'message': 'Pass get_networks() callback to interface driver\n\nIn order to support out of tree interface drivers it is required\nto pass a callback to allow the drivers to query information about\nthe network.\n\n- Allow passing **kwargs to interface drivers\n- Pass get_networks() as `get_networks_cb` kw arg\n  `get_networks_cb` has the same API as\n  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`\n   minus the the request context which will be embeded in the callback\n   itself.\n\nThe out of tree interface drivers in question are:\n\nMultiInterfaceDriver - a per-physnet interface driver that delegates\n                       operations on a per-physnet basis.\nIPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)\n                       networks.\n\nThose drivers are a part of networking-mlnx[1], Their implementation\nis vendor agnostic so they can later be moved to a more common place\nif desired.\n\n[1] https://github.com/openstack/networking-mlnx\n\nChange-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25\nCloses-Bug: #1834176\n'}, {'number': 5, 'created': '2019-07-23 10:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f444e84820fd849db6274b5802a91654660668e', 'message': 'Pass get_networks() callback to interface driver\n\nIn order to support out of tree interface drivers it is required\nto pass a callback to allow the drivers to query information about\nthe network.\n\n- Allow passing **kwargs to interface drivers\n- Pass get_networks() as `get_networks_cb` kw arg\n  `get_networks_cb` has the same API as\n  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`\n   minus the the request context which will be embeded in the callback\n   itself.\n\nThe out of tree interface drivers in question are:\n\nMultiInterfaceDriver - a per-physnet interface driver that delegates\n                       operations on a per-physnet basis.\nIPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)\n                       networks.\n\nThose drivers are a part of networking-mlnx[1], Their implementation\nis vendor agnostic so they can later be moved to a more common place\nif desired.\n\n[1] https://github.com/openstack/networking-mlnx\n\nChange-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25\nCloses-Bug: #1834176\n'}, {'number': 6, 'created': '2019-07-30 17:40:03.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/linux/interface.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e80d2251e6b1cf8521418a703cff7cb149cb8e1', 'message': 'Pass get_networks() callback to interface driver\n\nIn order to support out of tree interface drivers it is required\nto pass a callback to allow the drivers to query information about\nthe network.\n\n- Allow passing **kwargs to interface drivers\n- Pass get_networks() as `get_networks_cb` kw arg\n  `get_networks_cb` has the same API as\n  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`\n   minus the the request context which will be embeded in the callback\n   itself.\n\nThe out of tree interface drivers in question are:\n\nMultiInterfaceDriver - a per-physnet interface driver that delegates\n                       operations on a per-physnet basis.\nIPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)\n                       networks.\n\nThose drivers are a part of networking-mlnx[1], Their implementation\nis vendor agnostic so they can later be moved to a more common place\nif desired.\n\n[1] https://github.com/openstack/networking-mlnx\n\nChange-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25\nCloses-Bug: #1834176\n'}]",9,670723,0e80d2251e6b1cf8521418a703cff7cb149cb8e1,39,9,6,28714,,,0,"Pass get_networks() callback to interface driver

In order to support out of tree interface drivers it is required
to pass a callback to allow the drivers to query information about
the network.

- Allow passing **kwargs to interface drivers
- Pass get_networks() as `get_networks_cb` kw arg
  `get_networks_cb` has the same API as
  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`
   minus the the request context which will be embeded in the callback
   itself.

The out of tree interface drivers in question are:

MultiInterfaceDriver - a per-physnet interface driver that delegates
                       operations on a per-physnet basis.
IPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)
                       networks.

Those drivers are a part of networking-mlnx[1], Their implementation
is vendor agnostic so they can later be moved to a more common place
if desired.

[1] https://github.com/openstack/networking-mlnx

Change-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25
Closes-Bug: #1834176
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/670723/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/common/utils.py']",4,4c90a65a48030fe70172290e3f8bfa9839d4c576,bug/1834176,"def load_interface_driver(conf, **kwargs): :param kwargs: additional keyword parameters to be passed to the interface driver return loaded_class(conf, **kwargs)",def load_interface_driver(conf): return loaded_class(conf),16,8
openstack%2Fsahara-tests~master~Ic72c0cd85d3d42a62071825c242df599d2442f99,openstack/sahara-tests,master,Ic72c0cd85d3d42a62071825c242df599d2442f99,Update api-ref location and some links,MERGED,2019-07-30 17:25:39.000000000,2019-08-01 14:36:49.000000000,2019-08-01 14:36:49.000000000,"[{'_account_id': 6547}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-30 17:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/94f98e79b52228ce2450570a7a79e641368967bd', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ic72c0cd85d3d42a62071825c242df599d2442f99\n""}, {'number': 2, 'created': '2019-07-30 17:45:51.000000000', 'files': ['sahara_tempest_plugin/tests/api/test_cluster_templates.py', 'sahara_tempest_plugin/tests/api/test_jobs.py', 'sahara_tests/scenario/defaults/edp-examples/json-api-examples/v1.1/README.rst', 'sahara_tempest_plugin/tests/api/test_job_binary_internals.py', 'sahara_tempest_plugin/tests/api/test_job_binaries.py', 'sahara_tempest_plugin/tests/api/test_job_templates.py'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/20f56dc725e44fbb40ddfd161eaebd1fc1ede78a', 'message': ""Update api-ref location and some links\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nAt the same time, fix the links that have been broken by\nthe separation between API v1.1 and v2.\n\nChange-Id: Ic72c0cd85d3d42a62071825c242df599d2442f99\n""}]",0,673585,20f56dc725e44fbb40ddfd161eaebd1fc1ede78a,9,4,2,6547,,,0,"Update api-ref location and some links

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

At the same time, fix the links that have been broken by
the separation between API v1.1 and v2.

Change-Id: Ic72c0cd85d3d42a62071825c242df599d2442f99
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/85/673585/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_tempest_plugin/tests/api/test_cluster_templates.py', 'sahara_tempest_plugin/tests/api/test_jobs.py', 'sahara_tests/scenario/defaults/edp-examples/json-api-examples/v1.1/README.rst', 'sahara_tempest_plugin/tests/api/test_job_binary_internals.py', 'sahara_tempest_plugin/tests/api/test_job_binaries.py', 'sahara_tempest_plugin/tests/api/test_job_templates.py']",6,94f98e79b52228ce2450570a7a79e641368967bd,retire-api-site, # NOTE: Link to the API documentation: https://docs.openstack.org/, # NOTE: Link to the API documentation: https://developer.openstack.org/,6,6
openstack%2Ftripleo-quickstart-extras~master~I58082b307cb5b3f9ff908c29c8e24b9b970561de,openstack/tripleo-quickstart-extras,master,I58082b307cb5b3f9ff908c29c8e24b9b970561de,Move os_tempest role var at the top of play level,MERGED,2019-07-26 17:05:21.000000000,2019-08-01 14:19:15.000000000,2019-08-01 14:19:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27379}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-26 17:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e8f410ff728f22b5463c510f17f52e717c3726c5', 'message': 'Move os_tempest role var at playbook level\n\nVars used under os_tempest role has lower precedence over\nvars used over playbook level leading to cause undefined\nvar when python_venv_build handler runs leading to flushing\nall vars.\n\nMove the os_tempest vars at playbook level fixes the same.\n\nChange-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-29 06:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/18078167ea3c14537ce0bbefdb3c3762b62e1d16', 'message': ""Move os_tempest role var at playbook level\n\nVars used under os_tempest role has lower precedence over\nvars used over playbook level leading to cause undefined\nvar when python_venv_build handler[1.] runs leading to flushing\nall vars.\n\n[1.] https://opendev.org/openstack/ansible-role-python_venv_build/src/branch/master/handlers/main.yml#L16\n\nMove the os_tempest vars at playbook level fixes the following\nissue.\n```\nRUNNING HANDLER [python_venv_build : venv changed]\nfatal: [undercloud]: FAILED! => {}\nMSG:\nThe conditional check 'tempest_install_method == 'source'' failed.\nThe error was: error while evaluating conditional\n(tempest_install_method == 'source'): 'tempest_install_method'\nis undefined\n```\n\nChange-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 3, 'created': '2019-07-30 04:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/796be9475d30465be9c96f3d9b491e57eb6f2212', 'message': ""Move os_tempest role var at task level\n\nOnce tempest run finishes using os_tempest role,\npython_venv_build noop handler[1.] is called and the playbook\nfails with tempest_install_method undefined var.\nIt is kind of special case, moving the var at task level\nfixes the issue.\n\n[1.] https://opendev.org/openstack/ansible-role-python_venv_build/src/branch/master/handlers/main.yml#L16\n\nBelow is the issue happens.\n```\nRUNNING HANDLER [python_venv_build : venv changed]\nfatal: [undercloud]: FAILED! => {}\nMSG:\nThe conditional check 'tempest_install_method == 'source'' failed.\nThe error was: error while evaluating conditional\n(tempest_install_method == 'source'): 'tempest_install_method'\nis undefined\n```\n\nChange-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 4, 'created': '2019-07-31 07:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/22f071d4f727ab4c5024dcdd0ee5002465ac6f09', 'message': ""Move os_tempest role var at the top of play level\n\nOnce tempest run finishes using os_tempest role,\npython_venv_build noop handler[1.] is called and the playbook\nfails with tempest_install_method undefined var as it's scope\nis only for that task when role is called.\n\nMoving the var at the top of the play keeps the scope of the\nvar for the whole play.\n\nCloses-Bug: #https://bugs.launchpad.net/tripleo/+bug/1838496\n\nChange-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 5, 'created': '2019-08-01 08:03:23.000000000', 'files': ['playbooks/multinode-validate.yml', 'playbooks/multinode-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/02548d8c939947fbf2829fcc4ef1ce0da6f627fc', 'message': ""Move os_tempest role var at the top of play level\n\nOnce tempest run finishes using os_tempest role,\npython_venv_build noop handler[1.] is called and the playbook\nfails with tempest_install_method undefined var as it's scope\nis only for that task when role is called.\n\nMoving the var at the top of the play keeps the scope of the\nvar for the whole play.\n\nCloses-Bug: #https://bugs.launchpad.net/tripleo/+bug/1838496\n\nChange-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",8,673021,02548d8c939947fbf2829fcc4ef1ce0da6f627fc,46,12,5,12393,,,0,"Move os_tempest role var at the top of play level

Once tempest run finishes using os_tempest role,
python_venv_build noop handler[1.] is called and the playbook
fails with tempest_install_method undefined var as it's scope
is only for that task when role is called.

Moving the var at the top of the play keeps the scope of the
var for the whole play.

Closes-Bug: #https://bugs.launchpad.net/tripleo/+bug/1838496

Change-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/21/673021/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-validate.yml', 'playbooks/multinode-standalone.yml']",2,e8f410ff728f22b5463c510f17f52e717c3726c5,os_tempest_fix, vars: tempest_install_method: distro tempest_cloud_name: 'standalone', vars: tempest_install_method: distro tempest_cloud_name: 'standalone',7,7
openstack%2Fnova~stable%2Fstein~I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,openstack/nova,stable/stein,I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,Cleanup when hitting MaxRetriesExceeded from no host_available,MERGED,2019-07-30 14:16:07.000000000,2019-08-01 13:41:27.000000000,2019-08-01 13:41:27.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-30 14:16:07.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/functional/regressions/test_bug_1837955.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcc2b9e33ed2b3d9f469b458e0f46011fe9883ac', 'message': 'Cleanup when hitting MaxRetriesExceeded from no host_available\n\nPrior to this patch there was a condition when no\nhost_available was true and an exception would get\nraised without first cleaning up the instance.\nThis causes instances to get indefinitely stuck in\na scheduling state.\n\nThis patch fixes this by calling the clean up function\nand then exits build_instances using a return statement.\n\nThe related functional regression recreate test is updated\nto show this fixes the bug.\n\nChange-Id: I6a2c63a4c33e783100208fd3f45eb52aad49e3d6\nCloses-bug: #1837955\n(cherry picked from commit b98d4ba6d54f5ca2999a8fe6b6d7dfcc134061df)\n'}]",0,673533,fcc2b9e33ed2b3d9f469b458e0f46011fe9883ac,9,5,1,6873,,,0,"Cleanup when hitting MaxRetriesExceeded from no host_available

Prior to this patch there was a condition when no
host_available was true and an exception would get
raised without first cleaning up the instance.
This causes instances to get indefinitely stuck in
a scheduling state.

This patch fixes this by calling the clean up function
and then exits build_instances using a return statement.

The related functional regression recreate test is updated
to show this fixes the bug.

Change-Id: I6a2c63a4c33e783100208fd3f45eb52aad49e3d6
Closes-bug: #1837955
(cherry picked from commit b98d4ba6d54f5ca2999a8fe6b6d7dfcc134061df)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/673533/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/regressions/test_bug_1837955.py']",3,fcc2b9e33ed2b3d9f469b458e0f46011fe9883ac,bug/1837955," server = self._wait_for_state_change(self.api, server, 'ERROR') self._wait_for_unversioned_notification( 'compute_task.build_instances') server = self.api.get_server(server['id']) self.assertIn('fault', server) self.assertIn('Exceeded maximum number of retries', server['fault']['message'])"," # FIXME(mriedem): This is bug 1837955 where the status is stuck in # BUILD rather than the vm_state being set to error and the task_state # being set to None. Uncomment this when the bug is fixed. # server = self._wait_for_state_change(self.api, server, 'ERROR') # FIXME(mriedem): Uncomment this when bug 1837955 is fixed. # self._wait_for_unversioned_notification( # 'compute_task.build_instances') # server = self.api.get_server(server['id']) # self.assertIn('fault', server) # self.assertIn('Exceeded maximum number of retries', # server['fault']['message']) # TODO(mriedem): Remove this when the bug is fixed. We need to assert # something before the bug is fixed to show the failure so check the # logs. for x in range(20): logs = self.stdlog.logger.output if 'MaxRetriesExceeded' in logs: break time.sleep(.5) else: self.fail('Timed out waiting for MaxRetriesExceeded to show up ' 'in the logs.')",33,37
openstack%2Fnova~stable%2Fstein~I4ca64dd60d883356880680fb1f04cee4136c2e00,openstack/nova,stable/stein,I4ca64dd60d883356880680fb1f04cee4136c2e00,Add functional regression test for bug 1837955,MERGED,2019-07-30 14:16:07.000000000,2019-08-01 13:41:20.000000000,2019-08-01 13:41:19.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-30 14:16:07.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1837955.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d2e27fd018e08617964dc38321ebfa8f1a5a4f9', 'message': 'Add functional regression test for bug 1837955\n\nThis adds a functional regression recreate test for\nbug 1837955 which was introduced with change\nIae904afb6cb4fcea8bb27741d774ffbe986a5fb4 in the Queens\nrelease.\n\nIn this scenario, the primary (and potentially alternate)\nhosts for a server build fail and reschedule to conductor.\nEventually all alternate hosts are exhausted and specifically\ntrying to claim allocations against the alternates fails,\nprobably because between the time of initial scheduling and\nrescheduling something else took up the spare capacity on the\nalternate host.\n\nWhen this happens, MaxRetriesExceeded is raised but the\ninstance is stuck in BUILD status rather than set to ERROR\nstatus with a fault message.\n\nChange-Id: I4ca64dd60d883356880680fb1f04cee4136c2e00\nRelated-Bug: #1837955\n(cherry picked from commit 5cc39fc51eee6e39f584394283f009aa6809d17b)\n'}]",0,673532,0d2e27fd018e08617964dc38321ebfa8f1a5a4f9,7,3,1,6873,,,0,"Add functional regression test for bug 1837955

This adds a functional regression recreate test for
bug 1837955 which was introduced with change
Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4 in the Queens
release.

In this scenario, the primary (and potentially alternate)
hosts for a server build fail and reschedule to conductor.
Eventually all alternate hosts are exhausted and specifically
trying to claim allocations against the alternates fails,
probably because between the time of initial scheduling and
rescheduling something else took up the spare capacity on the
alternate host.

When this happens, MaxRetriesExceeded is raised but the
instance is stuck in BUILD status rather than set to ERROR
status with a fault message.

Change-Id: I4ca64dd60d883356880680fb1f04cee4136c2e00
Related-Bug: #1837955
(cherry picked from commit 5cc39fc51eee6e39f584394283f009aa6809d17b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/673532/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1837955.py'],1,0d2e27fd018e08617964dc38321ebfa8f1a5a4f9,bug/1837955,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from nova import exception from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_image class BuildRescheduleClaimFailsTestCase( integrated_helpers.ProviderUsageBaseTestCase): """"""Regression test case for bug 1837955 where a server build fails on the primary host and then attempting to allocate resources on the alternate host, the alternate host is full and the allocations claim in placement fails, resulting in the build failing due to MaxRetriesExceeded and the server going to ERROR status. """""" compute_driver = 'fake.SmallFakeDriver' def _wait_for_unversioned_notification(self, event_type): for x in range(20): # wait up to 10 seconds for notification in fake_notifier.NOTIFICATIONS: if notification.event_type == event_type: return notification time.sleep(.5) self.fail('Timed out waiting for unversioned notification %s. Got: %s' % (event_type, fake_notifier.NOTIFICATIONS)) def test_build_reschedule_alt_host_alloc_fails(self): # Start two compute services so we have one alternate host. # Set cpu_allocation_ratio=1.0 to make placement inventory # and allocations for VCPU easier to manage. self.flags(cpu_allocation_ratio=1.0) for x in range(2): self._start_compute('host%i' % x) def fake_instance_claim(_self, _context, _inst, nodename, *a, **kw): # Before triggering the reschedule to the other host, max out the # capacity on the alternate host. alt_nodename = 'host0' if nodename == 'host1' else 'host1' rp_uuid = self._get_provider_uuid_by_host(alt_nodename) inventories = self._get_provider_inventory(rp_uuid) # Fake some other consumer taking all of the VCPU on the alt host. # Since we set cpu_allocation_ratio=1.0 the total is the total # capacity for VCPU on the host. total_vcpu = inventories['VCPU']['total'] alt_consumer = '7d32d0bc-af16-44b2-8019-a24925d76152' allocs = { 'allocations': { rp_uuid: { 'resources': { 'VCPU': total_vcpu } } }, 'project_id': self.api.project_id, 'user_id': self.api.project_id } resp = self.placement_api.put( '/allocations/%s' % alt_consumer, allocs, version='1.12') self.assertEqual(204, resp.status, resp.content) raise exception.ComputeResourcesUnavailable(reason='overhead!') # Stub out the instance claim (regardless of which host the scheduler # picks as the primary) to trigger a reschedule. self.stub_out('nova.compute.manager.resource_tracker.ResourceTracker.' 'instance_claim', fake_instance_claim) # Now that our stub is in place, try to create a server and wait for it # to go to ERROR status. server = self._build_minimal_create_server_request( self.api, 'test_build_reschedule_alt_host_alloc_fails', image_uuid=fake_image.get_valid_image_id(), networks=[{'port': self.neutron.port_1['id']}]) server = self.api.post_server({'server': server}) # FIXME(mriedem): This is bug 1837955 where the status is stuck in # BUILD rather than the vm_state being set to error and the task_state # being set to None. Uncomment this when the bug is fixed. # server = self._wait_for_state_change(self.api, server, 'ERROR') # Wait for the MaxRetriesExceeded fault to be recorded. # set_vm_state_and_notify sets the vm_state to ERROR before the fault # is recorded but after the notification is sent. So wait for the # unversioned notification to show up and then get the fault. # FIXME(mriedem): Uncomment this when bug 1837955 is fixed. # self._wait_for_unversioned_notification( # 'compute_task.build_instances') # server = self.api.get_server(server['id']) # self.assertIn('fault', server) # self.assertIn('Exceeded maximum number of retries', # server['fault']['message']) # TODO(mriedem): Remove this when the bug is fixed. We need to assert # something before the bug is fixed to show the failure so check the # logs. for x in range(20): logs = self.stdlog.logger.output if 'MaxRetriesExceeded' in logs: break time.sleep(.5) else: self.fail('Timed out waiting for MaxRetriesExceeded to show up ' 'in the logs.') ",,114,0
openstack%2Fnova~stable%2Fstein~I927ff1d8c8f45405833d6012b7d7af37b98b10a0,openstack/nova,stable/stein,I927ff1d8c8f45405833d6012b7d7af37b98b10a0,Handle Invalid exceptions as expected in attach_interface,MERGED,2019-07-23 22:49:49.000000000,2019-08-01 13:41:13.000000000,2019-08-01 13:41:13.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-23 22:49:49.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9261764c90403d1b2e33790be96efea89068427', 'message': 'Handle Invalid exceptions as expected in attach_interface\n\nThe bug prompting this is a tempest test which is requesting\na port attachment to a server but not specifying a port or\nnetwork to use, so nova-compute looks for a valid network\nand finds there are two and raises NetworkAmbiguous. This\nis treated as a 400 error in the API but because this is a\nsynchronous RPC call from nova-api to nova-compute,\noslo.messaging logs an exception traceback for the unexpected\nerror. That traceback is pretty gross in the compute logs for\nsomething that is a user error and the cloud operator has\nnothing to do to fix it.\n\nWe can handle the traceback by registering our expected\nexceptions for the attach_interface method with oslo.messaging,\nwhich is what this change does.\n\nWhile looking to just add NetworkAmbiguous it became clear that\nlots of different user errors can be raised from this method\nand none of those should result in a traceback, so this change\njust expects Invalid and its subclasses.\n\nThe one exception is InterfaceAttachFailed which is raised when\nsomething in allocate_port_for_instance or driver.attach_interface\nfails. That is an unexpected situation so the parent class for\nInterfaceAttachFailed is changed from Invalid to NovaException so\nit continues to be traced in the logs as an exception.\nInterfaceAttachFailedNoNetwork is kept as Invalid since it is a\nuser error (trying to attach an interface when the user has no\naccess to any networks).\n\ntest_tagged_attach_interface_raises is adjusted to show the\nExpectedException handling for one of the Invalid cases.\n\nChange-Id: I927ff1d8c8f45405833d6012b7d7af37b98b10a0\nCloses-Bug: #1823198\n(cherry picked from commit ade6c9393632e830c2368825568769853fce3b99)\n'}]",0,672384,e9261764c90403d1b2e33790be96efea89068427,11,6,1,6873,,,0,"Handle Invalid exceptions as expected in attach_interface

The bug prompting this is a tempest test which is requesting
a port attachment to a server but not specifying a port or
network to use, so nova-compute looks for a valid network
and finds there are two and raises NetworkAmbiguous. This
is treated as a 400 error in the API but because this is a
synchronous RPC call from nova-api to nova-compute,
oslo.messaging logs an exception traceback for the unexpected
error. That traceback is pretty gross in the compute logs for
something that is a user error and the cloud operator has
nothing to do to fix it.

We can handle the traceback by registering our expected
exceptions for the attach_interface method with oslo.messaging,
which is what this change does.

While looking to just add NetworkAmbiguous it became clear that
lots of different user errors can be raised from this method
and none of those should result in a traceback, so this change
just expects Invalid and its subclasses.

The one exception is InterfaceAttachFailed which is raised when
something in allocate_port_for_instance or driver.attach_interface
fails. That is an unexpected situation so the parent class for
InterfaceAttachFailed is changed from Invalid to NovaException so
it continues to be traced in the logs as an exception.
InterfaceAttachFailedNoNetwork is kept as Invalid since it is a
user error (trying to attach an interface when the user has no
access to any networks).

test_tagged_attach_interface_raises is adjusted to show the
ExpectedException handling for one of the Invalid cases.

Change-Id: I927ff1d8c8f45405833d6012b7d7af37b98b10a0
Closes-Bug: #1823198
(cherry picked from commit ade6c9393632e830c2368825568769853fce3b99)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/672384/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,e9261764c90403d1b2e33790be96efea89068427,bug/1823198, # TODO(mriedem): There are likely race failures which can result in # NotFound and QuotaError exceptions getting traced as well. @messaging.expected_exceptions( # Do not log a traceback for user errors. We use Invalid generically # since this method can raise lots of different exceptions: # AttachInterfaceNotSupported # NetworkInterfaceTaggedAttachNotSupported # NetworkAmbiguous # PortNotUsable # PortInUse # PortNotUsableDNS # AttachSRIOVPortNotSupported # NetworksWithQoSPolicyNotSupported exception.Invalid),,21,4
openstack%2Ftripleo-quickstart-extras~master~Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb,openstack/tripleo-quickstart-extras,master,Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb,Undercloud minion role,MERGED,2019-05-30 22:02:51.000000000,2019-08-01 13:29:03.000000000,2019-07-31 20:47:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-05-30 22:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d0b757cfd67dc3d1c412e0eeee7871034d45d1f', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 2, 'created': '2019-05-30 22:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08f5b874b8fb7902e25eae3a028f27c7cc117b77', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 3, 'created': '2019-06-01 14:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/640d708fa372d98fb131a2f74fd9c46cb38d0e8b', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 4, 'created': '2019-06-01 15:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38e112f1e5eeb63edd3dc532a0e56df43a5e7c2f', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 5, 'created': '2019-06-03 22:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b9740f3366b34964e1ea1a84e66fefcc8f9d86f7', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 6, 'created': '2019-06-04 14:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d653c4923ba1d2976543bcb1c02c44217d508a5f', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 7, 'created': '2019-06-04 22:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bf27c235147522fb36bbfccc750ab2ecd4c922d', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 8, 'created': '2019-06-05 19:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d594700a84437a37e076dc5028cff9f187ef4be0', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 9, 'created': '2019-06-05 20:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95bc23f36ae49cc1d5fe8798451eea35246dc25d', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 10, 'created': '2019-06-05 23:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d84da5f210cbc0b0cd11461f6c4e834abc454391', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 11, 'created': '2019-06-05 23:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3f6edd2e4d61a21c6473d0a10d112d3e2e3a032f', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 12, 'created': '2019-06-06 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/78acedec45283334132deacd374e7235e01af47a', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 13, 'created': '2019-06-06 21:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ad953ed70c73164e41bd5a2b1568d714fd8b421', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 14, 'created': '2019-06-07 13:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cb88391f2542de62d17f2d5bf36161cd0159d295', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 15, 'created': '2019-06-07 14:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c0c91bd6e017e2b55c861257eb42942c0e0200b8', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 16, 'created': '2019-06-07 18:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a27b8148d5aee63076d8266b7925fab38ba7240', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 17, 'created': '2019-06-07 20:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6fdbe54b7b1f7746bb4adf1156d9c8a8dc9e190', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 18, 'created': '2019-06-07 23:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a48602ae9d18b10b57f758c4ca2fe7603703bf8f', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 19, 'created': '2019-06-10 19:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f8cc5f75345d72a5478229aaf7d4e8e5e13cc2ad', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 20, 'created': '2019-06-11 21:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/20da07677769b6532e46ce8a13c59ad75501aa68', 'message': 'WIP: Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 21, 'created': '2019-06-12 14:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f139da9c6e8fac49e21c039c203b9c93dffad47', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 22, 'created': '2019-06-28 19:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac8eebc516de7d6ecb45565492b2715d79958f3f', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 23, 'created': '2019-07-23 15:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/544af36342ac2a756136f0f4a16925202d1bebfe', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 24, 'created': '2019-07-23 15:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6d482b3f2a49517a9310d4515c9dd08bbaf7b5e0', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 25, 'created': '2019-07-25 14:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/25fed3249142e75d7aea43c8a9711a274d073753', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 26, 'created': '2019-07-25 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d11fe3d6a2b71969da911083872f80a3bd933309', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 27, 'created': '2019-07-25 19:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ca546553cd6590c103a409c5f23c4779d49bd403', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 28, 'created': '2019-07-25 20:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a005e2cbe8d7c46b176475cf4c79bf79de3d3f95', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 29, 'created': '2019-07-25 23:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d77617a5601095cb8c3647711384933db7a78370', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 30, 'created': '2019-07-29 19:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23272ef53faa072b5ab428bd357af1c7d4975bc0', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}, {'number': 31, 'created': '2019-07-29 21:36:28.000000000', 'files': ['roles/undercloud-minion-deploy/defaults/main.yml', 'roles/undercloud-minion-deploy/README.md', 'roles/undercloud-minion-deploy/templates/minion-install.sh.j2', 'roles/undercloud-minion-deploy/templates/hieradata-overrides-t-h-t-minion.yaml.j2', 'playbooks/multinode-undercloud-minion.yml', 'roles/undercloud-minion-deploy/meta/main.yml', 'roles/undercloud-minion-deploy/templates/minion.conf.j2', 'roles/undercloud-minion-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/undercloud-minion-deploy/templates/minion-parameter-defaults.yaml.j2', 'roles/undercloud-setup/tasks/write-outputs.yml', 'roles/undercloud-minion-deploy/tasks/create-scripts.yml', 'roles/undercloud-minion-deploy/tasks/main.yml', 'roles/undercloud-deploy/tasks/gather-outputs.yml', 'roles/undercloud-minion-deploy/tasks/install-minion.yml', 'playbooks/multinode-minion.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/89128aed0afc9de1dd345246c4f0eee824bb8055', 'message': 'Undercloud minion role\n\nProvide a playbook and undercloud minion deploy role\n\nDepends-On: https://review.opendev.org/#/c/672318/\nChange-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb\n'}]",9,662343,89128aed0afc9de1dd345246c4f0eee824bb8055,118,8,31,14985,,,0,"Undercloud minion role

Provide a playbook and undercloud minion deploy role

Depends-On: https://review.opendev.org/#/c/672318/
Change-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/662343/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-minion-deploy/defaults/main.yml', 'roles/undercloud-minion-deploy/README.md', 'roles/undercloud-minion-deploy/templates/minion-install.sh.j2', 'roles/undercloud-minion-deploy/templates/hieradata-overrides-t-h-t-minion.yaml.j2', 'playbooks/multinode-undercloud-minion.yml', 'roles/undercloud-minion-deploy/meta/main.yml', 'roles/undercloud-minion-deploy/templates/minion.conf.j2', 'roles/undercloud-minion-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/undercloud-minion-deploy/templates/minion-parameter-defaults.yaml.j2', 'roles/undercloud-setup/tasks/write-outputs.yml', 'roles/undercloud-minion-deploy/tasks/create-scripts.yml', 'roles/undercloud-minion-deploy/tasks/main.yml', 'roles/undercloud-deploy/tasks/gather-outputs.yml', 'roles/undercloud-minion-deploy/tasks/install-minion.yml']",14,0d0b757cfd67dc3d1c412e0eeee7871034d45d1f,bp/undercloud-minion,--- - name: Run dstat on the minion prior to minion install include_role: name: validate-perf when: step_install_minion|bool - name: Install the minion shell: > set -o pipefail && {{ working_dir }}/minion-install.sh 2>&1 {{ timestamper_cmd }} > {{ minion_install_log }} when: step_install_minion|bool ,,1069,0
openstack%2Fnova~stable%2Fstein~I8278d4ea993ed1600919e34c9759600c8c7dbb41,openstack/nova,stable/stein,I8278d4ea993ed1600919e34c9759600c8c7dbb41,Fix GET /servers/detail host_status performance regression,MERGED,2019-07-10 00:59:38.000000000,2019-08-01 13:06:21.000000000,2019-08-01 13:06:21.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-10 00:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd8041951cc12862ba75bf4ff489adee3ace6874', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nThis reverts commit 0cecd2ac324dc9a20e7d60987b9ef6e5082c426d.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n(cherry picked from commit ab7d923ae7ed4d7525649bc16ff012c1bedca0f5)\n""}, {'number': 2, 'created': '2019-07-10 01:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eec9b1818593b78c98056b52122bf25172151970', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nNOTE(mriedem): This backport does not revert commit\n0cecd2ac324dc9a20e7d60987b9ef6e5082c426d since that\nchange was only in Train.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n(cherry picked from commit ab7d923ae7ed4d7525649bc16ff012c1bedca0f5)\n""}, {'number': 3, 'created': '2019-07-10 19:42:30.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef10d8d9a67855895f4ea9f9c49e1976b84e1547', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nNOTE(mriedem): This backport does not revert commit\n0cecd2ac324dc9a20e7d60987b9ef6e5082c426d since that\nchange was only in Train.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n(cherry picked from commit ab7d923ae7ed4d7525649bc16ff012c1bedca0f5)\n""}]",1,669958,ef10d8d9a67855895f4ea9f9c49e1976b84e1547,19,8,3,6873,,,0,"Fix GET /servers/detail host_status performance regression

Change I82b11b8866ac82b05eae04351605d52fa8b91453 moved the
host_status extended server attribute processing from an
extension to the main servers view builder. This, however,
caused a regression in the detailed listing of servers because
it didn't incorporate the caching mechanism used previously
by the extension so now for each server with details when
microversion 2.16 or greater is used (and the request passes
the policy check), we get the host status per server even if
we have multiple servers on the same host.

This moves the host_status processing out of the show() method
when listing servers with details and processes them in aggregate
similar to security groups and attached volumes.

One catch is the show() method handles instances from down cells
for us so we have to handle that separately in the new host_status
processing, but it's trivial (just don't get host_status for
instances without a host field set).

NOTE(mriedem): This backport does not revert commit
0cecd2ac324dc9a20e7d60987b9ef6e5082c426d since that
change was only in Train.

Change-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41
Closes-Bug: #1830260
(cherry picked from commit ab7d923ae7ed4d7525649bc16ff012c1bedca0f5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/669958/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py']",3,cd8041951cc12862ba75bf4ff489adee3ace6874,bug/1830260," host=""node-fake"", self.mock_get_instance_host_status = self.useFixture( fixtures.MockPatchObject( compute_api.API, 'get_instance_host_status', return_value='UP')).mock server_dict['server']['hostId'] = nova_utils.generate_hostid( 'node-fake', server_dict['server']['tenant_id']) server_dict['server'][""OS-EXT-SRV-ATTR:host""] = ""node-fake"" host=""node-fake"", self.assertEqual(2, len(servers_list['servers'])) # We should have only gotten the host status once per host (and the # 2 servers in the response are using the same host). self.mock_get_instance_host_status.assert_called_once()"," self.useFixture(fixtures.MockPatchObject( compute_api.API, 'get_instance_host_status', return_value='UP')).mock",91,8
openstack%2Fnova~stable%2Fstein~Id3c847be32d8a1037722d08bf52e4b88dc5adc97,openstack/nova,stable/stein,Id3c847be32d8a1037722d08bf52e4b88dc5adc97,Restore RT.old_resources if ComputeNode.save() fails,MERGED,2019-07-22 13:14:10.000000000,2019-08-01 13:06:14.000000000,2019-08-01 13:06:14.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-22 13:14:10.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39ed79ea09fbab590092ef6b1bd4899270f19c9b', 'message': 'Restore RT.old_resources if ComputeNode.save() fails\n\nWhen starting nova-compute for the first time with a new node,\nthe ResourceTracker will create a new ComputeNode record in\n_init_compute_node but without all of the fields set on the\nComputeNode, for example ""free_disk_gb"".\n\nLater _update_usage_from_instances will set some fields on the\nComputeNode record (even if there are no instances on the node,\nwhy - I don\'t know) like free_disk_gb.\n\nThis will make the eventual call from _update() to _resource_change()\nupdate the value in the old_resouces dict and return True, and then\n_update() will try to update those ComputeNode changes to the database.\nIf that update fails, for example due to a DBConnectionError, the\nvalue in old_resources will still be for the current version of the node\nin memory but not what is actually in the database.\n\nNote that this failure does not result in the compute service failing\nto start because ComputeManager._update_available_resource_for_node\ntraps the Exception and just logs it.\n\nA subsequent trip through the RT._update() method - because of the\nupdate_available_resource periodic task - will call _resource_change\nbut because old_resource matches the current state of the node, it\nreturns False and the RT does not attempt to persist the changes to\nthe DB. _update() will then go on to call _update_to_placement\nwhich will create the resource provider in placement along with its\ninventory, making it potentially a candidate for scheduling.\n\nThis can be a problem later in the scheduler because the\nHostState._update_from_compute_node method may skip setting fields\non the HostState object if free_disk_gb is not set in the\nComputeNode record - which can then break filters and weighers\nlater in the scheduling process (see bug 1834691 and bug 1834694).\n\nThe fix proposed here is simple: if the ComputeNode.save() in\nRT._update() fails, restore the previous value in old_resources\nso that the subsequent run through _resource_change will compare the\ncorrect state of the object and retry the update.\n\nAn alternative to this would be killing the compute service on startup\nif there is a DB error but that could have unintended side effects,\nespecially if the DB error is transient and can be fixed on the next\ntry.\n\nObviously the scheduler code needs to be more robust also, but those\nimprovements are left for separate changes related to the other bugs\nmentioned above.\n\nAlso, ComputeNode.update_from_virt_driver could be updated to set\nfree_disk_gb if possible to workaround the tight coupling in the\nHostState._update_from_compute_node code, but that\'s also sort of\na whack-a-mole type change best made separately.\n\nChange-Id: Id3c847be32d8a1037722d08bf52e4b88dc5adc97\nCloses-Bug: #1834712\n(cherry picked from commit 11cb42f396fdbc1d973e1a1b592c00896f646015)\n'}]",0,672038,39ed79ea09fbab590092ef6b1bd4899270f19c9b,15,8,1,6873,,,0,"Restore RT.old_resources if ComputeNode.save() fails

When starting nova-compute for the first time with a new node,
the ResourceTracker will create a new ComputeNode record in
_init_compute_node but without all of the fields set on the
ComputeNode, for example ""free_disk_gb"".

Later _update_usage_from_instances will set some fields on the
ComputeNode record (even if there are no instances on the node,
why - I don't know) like free_disk_gb.

This will make the eventual call from _update() to _resource_change()
update the value in the old_resouces dict and return True, and then
_update() will try to update those ComputeNode changes to the database.
If that update fails, for example due to a DBConnectionError, the
value in old_resources will still be for the current version of the node
in memory but not what is actually in the database.

Note that this failure does not result in the compute service failing
to start because ComputeManager._update_available_resource_for_node
traps the Exception and just logs it.

A subsequent trip through the RT._update() method - because of the
update_available_resource periodic task - will call _resource_change
but because old_resource matches the current state of the node, it
returns False and the RT does not attempt to persist the changes to
the DB. _update() will then go on to call _update_to_placement
which will create the resource provider in placement along with its
inventory, making it potentially a candidate for scheduling.

This can be a problem later in the scheduler because the
HostState._update_from_compute_node method may skip setting fields
on the HostState object if free_disk_gb is not set in the
ComputeNode record - which can then break filters and weighers
later in the scheduling process (see bug 1834691 and bug 1834694).

The fix proposed here is simple: if the ComputeNode.save() in
RT._update() fails, restore the previous value in old_resources
so that the subsequent run through _resource_change will compare the
correct state of the object and retry the update.

An alternative to this would be killing the compute service on startup
if there is a DB error but that could have unintended side effects,
especially if the DB error is transient and can be fixed on the next
try.

Obviously the scheduler code needs to be more robust also, but those
improvements are left for separate changes related to the other bugs
mentioned above.

Also, ComputeNode.update_from_virt_driver could be updated to set
free_disk_gb if possible to workaround the tight coupling in the
HostState._update_from_compute_node code, but that's also sort of
a whack-a-mole type change best made separately.

Change-Id: Id3c847be32d8a1037722d08bf52e4b88dc5adc97
Closes-Bug: #1834712
(cherry picked from commit 11cb42f396fdbc1d973e1a1b592c00896f646015)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/672038/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,39ed79ea09fbab590092ef6b1bd4899270f19c9b,bug/1834712,from oslo_utils import excutils # _resource_change will update self.old_resources if it detects changes # but we want to restore those if compute_node.save() fails. nodename = compute_node.hypervisor_hostname old_compute = self.old_resources[nodename] try: compute_node.save() except Exception: # Restore the previous state in self.old_resources so that on # the next trip through here _resource_change does not have # stale data to compare. with excutils.save_and_reraise_exception(logger=LOG): self.old_resources[nodename] = old_compute, compute_node.save(),40,1
openstack%2Fnova~stable%2Fstein~I76163c46b1f01ba7ff592d162b106ea2e5bb34cb,openstack/nova,stable/stein,I76163c46b1f01ba7ff592d162b106ea2e5bb34cb,Fix no propagation of nova context request_id,MERGED,2019-07-13 12:15:46.000000000,2019-08-01 13:00:07.000000000,2019-08-01 13:00:07.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-13 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fdd2518408a6819b347e5db823ce2f261cd3f8a', 'message': 'Fix no propagation of nova context request_id\n\nNova context request_id is not propagated for\nport binding operations in neutron.\nSo fix it.\n\nChange-Id: I76163c46b1f01ba7ff592d162b106ea2e5bb34cb\nCloses-Bug: #1829914\n(cherry picked from commit e11b589474e6e469442277d1e17d3140e8bf0d6b)\n'}, {'number': 2, 'created': '2019-07-14 02:59:26.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb551ddd74fafa3be1c168e9e49e052d2ff75a4b', 'message': 'Fix no propagation of nova context request_id\n\nNova context request_id is not propagated for\nport binding operations in neutron.\nSo fix it.\n\nConflicts:\n  nova/tests/unit/network/test_neutronv2.py\n\n  The conflict is due to not including\n  I1788389d11a9f3b6b0bd0b75d2184be9e90983bb in stable/stein\n\nChange-Id: I76163c46b1f01ba7ff592d162b106ea2e5bb34cb\nCloses-Bug: #1829914\n(cherry picked from commit e11b589474e6e469442277d1e17d3140e8bf0d6b)\n'}]",0,670694,bb551ddd74fafa3be1c168e9e49e052d2ff75a4b,16,8,2,7634,,,0,"Fix no propagation of nova context request_id

Nova context request_id is not propagated for
port binding operations in neutron.
So fix it.

Conflicts:
  nova/tests/unit/network/test_neutronv2.py

  The conflict is due to not including
  I1788389d11a9f3b6b0bd0b75d2184be9e90983bb in stable/stein

Change-Id: I76163c46b1f01ba7ff592d162b106ea2e5bb34cb
Closes-Bug: #1829914
(cherry picked from commit e11b589474e6e469442277d1e17d3140e8bf0d6b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/670694/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/fixtures.py']",3,2fdd2518408a6819b347e5db823ce2f261cd3f8a,bug/1829914," def fake_create_port_binding(context, client, port_id, data): def fake_delete_port_binding(context, client, port_id, host):"," def fake_create_port_binding(client, port_id, data): def fake_delete_port_binding(client, port_id, host):",41,23
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic2c4dcabe3754727806d2a4248e1ba182e83309a,openstack/tripleo-heat-templates,stable/rocky,Ic2c4dcabe3754727806d2a4248e1ba182e83309a,[rocky/queens] fix task name nova_api -> nova_compute,MERGED,2019-07-26 07:30:37.000000000,2019-08-01 12:38:32.000000000,2019-08-01 12:38:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-26 07:30:37.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65e48b0c1e3edcafee29ad6cc753637c14bd9acd', 'message': '[rocky/queens] fix task name nova_api -> nova_compute\n\nChange-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a\n'}]",0,672900,65e48b0c1e3edcafee29ad6cc753637c14bd9acd,16,7,1,17216,,,0,"[rocky/queens] fix task name nova_api -> nova_compute

Change-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/672900/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,65e48b0c1e3edcafee29ad6cc753637c14bd9acd,fix_task_name, - name: libvirt-guests unit to stop nova_compute container before shutdown VMs, - name: libvirt-guests unit to stop nova_api container before shutdown VMs,1,1
openstack%2Fcharm-masakari-monitors~master~I3326067da7f36779462e951447ad61d2a8ccdd3c,openstack/charm-masakari-monitors,master,I3326067da7f36779462e951447ad61d2a8ccdd3c,"Add gitreview, zuul config, fix coverage, fix lint",MERGED,2019-07-31 21:16:49.000000000,2019-08-01 12:11:26.000000000,2019-08-01 12:11:26.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 21:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/6f3446f5cb51d19285347ea3c2c813e8364a5ae9', 'message': 'Add gitreview and fix minor lint error (blocking build)\n\nChange-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c\n'}, {'number': 2, 'created': '2019-07-31 21:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/b5a5217a83fe68edc6bd094f7282b9f25efffeed', 'message': 'Add gitreview and fix minor lint error (blocking build)\n\nPartial-bug: #1838578\n\nChange-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c\n'}, {'number': 3, 'created': '2019-08-01 01:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/a35fc10eb5b402a7b529b7a0b7d20941d166fac1', 'message': 'Add gitreview, zuul config, and fix minor lint error\n\nPartial-bug: #1838578\n\nChange-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c\n'}, {'number': 4, 'created': '2019-08-01 02:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/6b0353b64cd35d875ffeee98df7846879dd7267b', 'message': 'Add gitreview, zuul config, and fix minor lint error\n\nPartial-bug: #1838578\n\nChange-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c\n'}, {'number': 5, 'created': '2019-08-01 03:15:59.000000000', 'files': ['requirements.txt', '.gitreview', 'test-requirements.txt', 'src/lib/charm/openstack/masakari_monitors.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/5a66794cca1d9d9ad74cf99b712fce52951fec88', 'message': 'Add gitreview, zuul config, fix coverage, fix lint\n\nPartial-bug: #1838578\n\nChange-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c\n'}]",0,673917,5a66794cca1d9d9ad74cf99b712fce52951fec88,20,4,5,20635,,,0,"Add gitreview, zuul config, fix coverage, fix lint

Partial-bug: #1838578

Change-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/17/673917/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'src/lib/charm/openstack/masakari_monitors.py']",2,6f3446f5cb51d19285347ea3c2c813e8364a5ae9,bug/1838578, # charmhelpers.fetch.add_source('ppa:corey.bryant/bionic-stein'), #charmhelpers.fetch.add_source('ppa:corey.bryant/bionic-stein'),5,1
openstack%2Ftripleo-heat-templates~master~I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,openstack/tripleo-heat-templates,master,I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,Generate addition drop-in dependencies for podman containers,MERGED,2019-07-09 16:57:36.000000000,2019-08-01 11:48:51.000000000,2019-08-01 11:48:50.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-09 16:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2652d3d24d894325c98ac786df9788413f4f3239', 'message': 'WIP generate addition drop-in dependencies for podman containers\n\nChange-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32\n'}, {'number': 2, 'created': '2019-07-09 23:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/431688c614bc33cf2c530e8f83f3fb2be3df1f1c', 'message': 'WIP generate addition drop-in dependencies for podman containers\n\nDepends-On: Idaf5d4871ad1231f2592238a7925857af8f40548\nDepends-On: I286479b76e2840ff048f2deb08d475a41e04cbba\nChange-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32\n'}, {'number': 3, 'created': '2019-07-12 12:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a39cfe6508b03afd02eff4fa16aad730bd846211', 'message': 'WIP generate addition drop-in dependencies for podman containers\n\nDepends-On: Idaf5d4871ad1231f2592238a7925857af8f40548\nDepends-On: I286479b76e2840ff048f2deb08d475a41e04cbba\nChange-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32\n'}, {'number': 4, 'created': '2019-07-22 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae447bdee43fe47e956f06c043e7ee1d640bba58', 'message': 'Generate addition drop-in dependencies for podman containers\n\nAdding a new parameter: SystemdDropInDependencies (true by default).\nWhich when set to True will create /etc/sysconfig/podman_drop_in on the\nhost; to tell paunch to use paunch-start-podman-container script to\nstart the containers.\n\nThis file makes paunch generate additional systemd\ndependencies for containers that have special\nstart/stop ordering constraints. It ensures that\nthose constraints are enforced on reboot/shutdown.\n\nDepends-On: Idaf5d4871ad1231f2592238a7925857af8f40548\nChange-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32\n'}, {'number': 5, 'created': '2019-07-31 21:23:04.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a06cc5f93f79d8dc0f65f1f42f4277310e2e24cb', 'message': 'Generate addition drop-in dependencies for podman containers\n\nAdding a new parameter: SystemdDropInDependencies (true by default).\nWhich when set to True will create /etc/sysconfig/podman_drop_in on the\nhost; to tell paunch to use paunch-start-podman-container script to\nstart the containers.\n\nThis file makes paunch generate additional systemd\ndependencies for containers that have special\nstart/stop ordering constraints. It ensures that\nthose constraints are enforced on reboot/shutdown.\n\nDepends-On: Idaf5d4871ad1231f2592238a7925857af8f40548\nChange-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32\n'}]",0,669910,a06cc5f93f79d8dc0f65f1f42f4277310e2e24cb,28,6,5,20778,,,0,"Generate addition drop-in dependencies for podman containers

Adding a new parameter: SystemdDropInDependencies (true by default).
Which when set to True will create /etc/sysconfig/podman_drop_in on the
host; to tell paunch to use paunch-start-podman-container script to
start the containers.

This file makes paunch generate additional systemd
dependencies for containers that have special
start/stop ordering constraints. It ensures that
those constraints are enforced on reboot/shutdown.

Depends-On: Idaf5d4871ad1231f2592238a7925857af8f40548
Change-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/669910/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,2652d3d24d894325c98ac786df9788413f4f3239,podman-drop-in, DropInDependencies: default: true description: tell the container manager (e.g. paunch) to inject additional ordering dependencies for the systemd scopes associated to podman containers. type: boolean drop_in_dependencies_enabled: {get_param: DropInDependencies} - if: - drop_in_dependencies_enabled - - name: Configure paunch to generate drop-in dependencies copy: dest: /etc/sysconfig/podman_drop_in content: | This file makes paunch generate additional systemd dependencies for containers that have special start/stop ordering constraints. It ensures that those constraints are enforced on reboot/shutdown. - - name: Configure paunch to not generate drop-in dependencies file: path: /etc/sysconfig/podman_drop_in state: absent,,21,0
openstack%2Fpaunch~master~Idaf5d4871ad1231f2592238a7925857af8f40548,openstack/paunch,master,Idaf5d4871ad1231f2592238a7925857af8f40548,Generate addition drop-in dependencies for podman containers,MERGED,2019-07-09 20:25:48.000000000,2019-08-01 11:48:49.000000000,2019-08-01 11:48:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-09 20:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/a3febfff0bd25fe41c2d0c7b1e727fc1adf8fda3', 'message': 'WIP generate addition drop-in dependencies for podman containers\n\nChange-Id: Idaf5d4871ad1231f2592238a7925857af8f40548\n'}, {'number': 2, 'created': '2019-07-16 15:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ef06ffb3ab53813aa185c2112a0cb0908b8e7332', 'message': 'WIP generate addition drop-in dependencies for podman containers\n\nChange-Id: Idaf5d4871ad1231f2592238a7925857af8f40548\n'}, {'number': 3, 'created': '2019-07-22 16:32:35.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/b33aeea9728233aca852a3e132f23fca71ac42df', 'message': 'Generate addition drop-in dependencies for podman containers\n\nIf a container managed by Paunch and has the drop-in file enabled, we\nwant to start the containers with the script provided by the Paunch rpm:\npaunch-start-podman-container\n\nThe script will take care of proper ordering when creating systemd scope\nfiles.\n\nChange-Id: Idaf5d4871ad1231f2592238a7925857af8f40548\n'}]",2,669941,b33aeea9728233aca852a3e132f23fca71ac42df,24,7,3,20778,,,0,"Generate addition drop-in dependencies for podman containers

If a container managed by Paunch and has the drop-in file enabled, we
want to start the containers with the script provided by the Paunch rpm:
paunch-start-podman-container

The script will take care of proper ordering when creating systemd scope
files.

Change-Id: Idaf5d4871ad1231f2592238a7925857af8f40548
",git fetch https://review.opendev.org/openstack/paunch refs/changes/41/669941/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,a3febfff0bd25fe41c2d0c7b1e727fc1adf8fda3,podman-drop-in,"DROP_IN_MARKER_FILE = '/etc/sysconfig/podman_drop_in' # If the service depends on other services, it must be stopped # in a specific order. The host can be configured to prevent # systemd from stopping the associated systemd scopes too early, # so make sure to generate the start command accordingly. if len(cconfig.get('depends_on', [])) > 0 and \ os.path.exists(DROP_IN_MARKER_FILE): start_cmd = '/usr/libexec/paunch-start-podman-container %' % container else: start_cmd = '/usr/bin/podman start %' % container 'start_cmd': start_cmd,ExecStart=%(start_cmd)s",ExecStart=/usr/bin/podman start %(name)s,13,1
openstack%2Ftripleo-validations~master~Ib8ae41451f245d4e2d40864cc36515a07a1878bf,openstack/tripleo-validations,master,Ib8ae41451f245d4e2d40864cc36515a07a1878bf,Adds molecule tests for ctlplane-ip-range validation,MERGED,2019-07-23 06:03:13.000000000,2019-08-01 11:07:25.000000000,2019-07-23 18:12:52.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-23 06:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1c2275822b88e2684bf86460c76ff36ee076dca0', 'message': 'Adds molecule tests for ctlplane-ip-range validation\n\nChange-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf\n'}, {'number': 2, 'created': '2019-07-23 07:45:01.000000000', 'files': ['roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/Dockerfile.j2', 'roles/ctlplane-ip-range/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/49aa25278db5031d0543169ad2e12676ca89fc7d', 'message': 'Adds molecule tests for ctlplane-ip-range validation\n\nChange-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf\n'}]",0,672205,49aa25278db5031d0543169ad2e12676ca89fc7d,11,6,2,28223,,,0,"Adds molecule tests for ctlplane-ip-range validation

Change-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/05/672205/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/Dockerfile.j2', 'roles/ctlplane-ip-range/molecule/default/playbook.yml']",3,1c2275822b88e2684bf86460c76ff36ee076dca0,molecule/ctlplane-ip-range,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all gather_facts: no tasks: - name: prepare directory tree for hiera file: path: /etc/puppet state: directory - name: populate a hiera config copy: dest: /etc/puppet/hiera.yaml content: | :backends: - yaml - json :yaml: :datadir: ""/etc/puppet/"" :hierarchy: - ""common"" - name: populate hiera content copy: dest: /etc/puppet/common.yaml content: | tripleo_undercloud_conf_file: /undercloud.conf - name: Test good values block: - name: populate undercloud.conf with right range length copy: dest: /undercloud.conf content: | [ctlplane-subnet] dhcp_start = 192.168.12.10 dhcp_end = 192.168.12.100 - include_role: name: ctlplane-ip-range - name: Test failing block: - name: populate undercloud.conf with wrong range length copy: dest: /undercloud.conf content: | [ctlplane-subnet] dhcp_start = 192.168.12.10 dhcp_end = 192.168.12.20 - include_role: name: ctlplane-ip-range rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The undercloud-ram role should have detected that there is not enough RAM ",,167,0
openstack%2Ftripleo-validations~master~I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,openstack/tripleo-validations,master,I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,Adds molecule tests for undercloud-disk-space,MERGED,2019-07-22 14:05:30.000000000,2019-08-01 11:06:03.000000000,2019-07-23 15:26:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-22 14:05:30.000000000', 'files': ['roles/undercloud-disk-space/molecule/default/molecule.yml', 'roles/undercloud-disk-space/molecule/default/Dockerfile.j2', 'roles/undercloud-disk-space/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5adfef9d9a61402617591ef58315b9cd62f60907', 'message': 'Adds molecule tests for undercloud-disk-space\n\nChange-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5\n'}]",0,672050,5adfef9d9a61402617591ef58315b9cd62f60907,9,9,1,28223,,,0,"Adds molecule tests for undercloud-disk-space

Change-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/50/672050/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-disk-space/molecule/default/molecule.yml', 'roles/undercloud-disk-space/molecule/default/Dockerfile.j2', 'roles/undercloud-disk-space/molecule/default/playbook.yml']",3,5adfef9d9a61402617591ef58315b9cd62f60907,molecule/undercloud-disk-space,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all gather_facts: false vars: volumes: - {mount: /var, min_size: 20} - {mount: /, min_size: 150} tasks: - block: - include_role: name: undercloud-disk-space rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The validation did not detect a too small disk space ",,127,0
openstack%2Ftripleo-validations~master~Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,openstack/tripleo-validations,master,Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,Adds molecule testing for DNS validation,MERGED,2019-07-22 09:48:30.000000000,2019-08-01 11:05:34.000000000,2019-07-23 17:42:50.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-22 09:48:30.000000000', 'files': ['roles/dns/molecule/default/Dockerfile.j2', 'roles/dns/molecule/default/molecule.yml', 'roles/dns/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/647e9afc264fab5a0672d372d7244a171104486e', 'message': 'Adds molecule testing for DNS validation\n\nChange-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da\n'}]",0,672003,647e9afc264fab5a0672d372d7244a171104486e,8,5,1,28223,,,0,"Adds molecule testing for DNS validation

Change-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/672003/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/dns/molecule/default/Dockerfile.j2', 'roles/dns/molecule/default/molecule.yml', 'roles/dns/molecule/default/playbook.yml']",3,647e9afc264fab5a0672d372d7244a171104486e,molecule/dns,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: Should get a success include_role: name: dns vars: server_to_lookup: www.redhat.com - name: Should properly fail block: - include_role: name: dns vars: server_to_lookup: role.dns.domain.do-not.exists rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The dns role should have detected a faulty DNS configuration ",,130,0
openstack%2Ftripleo-validations~master~Ie3226b708665b1733891d592a54cc6f2398899df,openstack/tripleo-validations,master,Ie3226b708665b1733891d592a54cc6f2398899df,Adds molecule testing for controller-token,MERGED,2019-07-23 08:56:02.000000000,2019-08-01 11:05:06.000000000,2019-07-23 17:42:51.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-23 08:56:02.000000000', 'files': ['roles/controller-token/molecule/default/playbook.yml', 'roles/controller-token/molecule/default/Dockerfile.j2', 'roles/controller-token/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ace29c69400173e05346dbc4906e003f72899b6', 'message': 'Adds molecule testing for controller-token\n\nChange-Id: Ie3226b708665b1733891d592a54cc6f2398899df\n'}]",0,672229,1ace29c69400173e05346dbc4906e003f72899b6,10,6,1,28223,,,0,"Adds molecule testing for controller-token

Change-Id: Ie3226b708665b1733891d592a54cc6f2398899df
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/29/672229/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/controller-token/molecule/default/Dockerfile.j2', 'roles/controller-token/molecule/default/playbook.yml', 'roles/controller-token/molecule/default/molecule.yml']",3,1ace29c69400173e05346dbc4906e003f72899b6,molecule/controller-token,"--- driver: name: docker log: true platforms: - name: centos7 hostname: centos7 image: centos:7 pkg_extras: python-setuptools python-enum34 easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: fedora28 hostname: fedora28 image: fedora:28 pkg_extras: python*-setuptools python*-enum environment: <<: *env provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""../../../../library"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,137,0
openstack%2Ftripleo-validations~master~I2e94b72080b73dc37eefd072217392f34e1291f0,openstack/tripleo-validations,master,I2e94b72080b73dc37eefd072217392f34e1291f0,Adds molecule testing for controller-ulimits,MERGED,2019-07-23 09:25:53.000000000,2019-08-01 11:04:33.000000000,2019-07-23 17:42:53.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-23 09:25:53.000000000', 'files': ['roles/controller-ulimits/molecule/default/Dockerfile.j2', 'roles/controller-ulimits/molecule/default/molecule.yml', 'roles/controller-ulimits/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e1d0bde7dd120f42fe1d6301cbdc65e3327615af', 'message': 'Adds molecule testing for controller-ulimits\n\nChange-Id: I2e94b72080b73dc37eefd072217392f34e1291f0\n'}]",0,672242,e1d0bde7dd120f42fe1d6301cbdc65e3327615af,8,5,1,28223,,,0,"Adds molecule testing for controller-ulimits

Change-Id: I2e94b72080b73dc37eefd072217392f34e1291f0
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/42/672242/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/controller-ulimits/molecule/default/Dockerfile.j2', 'roles/controller-ulimits/molecule/default/molecule.yml', 'roles/controller-ulimits/molecule/default/playbook.yml']",3,e1d0bde7dd120f42fe1d6301cbdc65e3327615af,molecule/controller-ulimits,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all gather_facts: no vars: nofiles_min: 102400 nproc_min: 204800 tasks: - block: - include_role: name: controller-ulimits rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The controller-ulimits failed detecting bad limits ",,129,0
openstack%2Ftripleo-validations~master~I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,openstack/tripleo-validations,master,I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,Adds Molecule to haproxy validation role,MERGED,2019-07-22 13:21:53.000000000,2019-08-01 11:04:00.000000000,2019-07-23 17:42:54.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-22 13:21:53.000000000', 'files': ['roles/haproxy/molecule/default/playbook.yml', 'roles/haproxy/molecule/default/molecule.yml', 'roles/haproxy/molecule/default/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/06bb613979a4c4e1c297c3f8feed244af1142046', 'message': 'Adds Molecule to haproxy validation role\n\nChange-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc\n'}]",0,672041,06bb613979a4c4e1c297c3f8feed244af1142046,8,5,1,28223,,,0,"Adds Molecule to haproxy validation role

Change-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/41/672041/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/haproxy/molecule/default/playbook.yml', 'roles/haproxy/molecule/default/molecule.yml', 'roles/haproxy/molecule/default/Dockerfile.j2']",3,06bb613979a4c4e1c297c3f8feed244af1142046,molecule/haproxy,"# Molecule managed # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install python sudo python-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ",,154,0
openstack%2Ftripleo-validations~master~I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,openstack/tripleo-validations,master,I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,Add molecule testing on undercloud-debug role,MERGED,2019-07-22 12:36:12.000000000,2019-08-01 11:03:33.000000000,2019-07-23 17:42:55.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-22 12:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/364b2f645014b30e5c92abdd403cde3e3b05d5cb', 'message': 'Add molecule testing on undercloud-debug role\n\nChange-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d\n'}, {'number': 2, 'created': '2019-07-22 13:19:14.000000000', 'files': ['roles/undercloud-debug/molecule/default/playbook.yml', 'roles/undercloud-debug/molecule/default/Dockerfile.j2', 'roles/undercloud-debug/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/95e9eabaa6d4218550278f4b05116bf2de7629d7', 'message': 'Add molecule testing on undercloud-debug role\n\nChange-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d\n'}]",0,672030,95e9eabaa6d4218550278f4b05116bf2de7629d7,10,6,2,28223,,,0,"Add molecule testing on undercloud-debug role

Change-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/30/672030/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-debug/molecule/default/playbook.yml', 'roles/undercloud-debug/molecule/default/Dockerfile.j2', 'roles/undercloud-debug/molecule/default/molecule.yml']",3,364b2f645014b30e5c92abdd403cde3e3b05d5cb,molecule/undercloud-debug,"--- driver: name: docker log: true platforms: - name: centos7 hostname: centos7 image: centos:7 pkg_extras: python-setuptools sudo easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: fedora28 hostname: fedora28 image: fedora:28 pkg_extras: python*-setuptools sudo environment: <<: *env provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,142,0
openstack%2Ftripleo-validations~master~Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,openstack/tripleo-validations,master,Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,New validation: ensure services status,MERGED,2019-05-02 14:41:56.000000000,2019-08-01 11:01:17.000000000,2019-07-29 21:09:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-02 14:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/96216ec19fceab6985a2958fb39abf29597b37c8', 'message': ""New validation: ensure services status\n\nThis new validation ensures we don't have any failed systemd unit.\n\nFailed units might lead to unexpected errors when we want to update\nor upgrade the system, so we have to ensure we don't have anything\nin a failed state.\n\nSince this check is pretty generic and useful, it can also be called\nas a post-deploy, post-upgrade task. This ensures we have a corret\nstate AFTER such actions as well.\n\nChange-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf\n""}, {'number': 2, 'created': '2019-05-02 15:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3b4afa60d7b1253d24905656ff377336f978d9b7', 'message': ""New validation: ensure services status\n\nThis new validation ensures we don't have any failed systemd unit.\n\nFailed units might lead to unexpected errors when we want to update\nor upgrade the system, so we have to ensure we don't have anything\nin a failed state.\n\nSince this check is pretty generic and useful, it can also be called\nas a post-deploy, post-upgrade task. This ensures we have a corret\nstate AFTER such actions as well.\n\nChange-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf\n""}, {'number': 3, 'created': '2019-05-13 07:56:47.000000000', 'files': ['roles/service-status/tasks/main.yaml', 'roles/service-status/meta/main.yml', 'playbooks/service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1265e2f6675b95bf7487fe041066d8de3164e39e', 'message': ""New validation: ensure services status\n\nThis new validation ensures we don't have any failed systemd unit.\n\nFailed units might lead to unexpected errors when we want to update\nor upgrade the system, so we have to ensure we don't have anything\nin a failed state.\n\nSince this check is pretty generic and useful, it can also be called\nas a post-deploy, post-upgrade task. This ensures we have a corret\nstate AFTER such actions as well.\n\nChange-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf\n""}]",7,656784,1265e2f6675b95bf7487fe041066d8de3164e39e,20,10,3,28223,,,0,"New validation: ensure services status

This new validation ensures we don't have any failed systemd unit.

Failed units might lead to unexpected errors when we want to update
or upgrade the system, so we have to ensure we don't have anything
in a failed state.

Since this check is pretty generic and useful, it can also be called
as a post-deploy, post-upgrade task. This ensures we have a corret
state AFTER such actions as well.

Change-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/656784/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/service-status/meta/main.yml', 'roles/service-status/tasks/main.yaml', 'playbooks/service-status.yaml']",3,96216ec19fceab6985a2958fb39abf29597b37c8,validate/containers,"--- - hosts: undercloud, overcloud vars: metadata: name: Ensure services state description: > Detect services status on the target host and fails if we find a failed service. groups: - prep - pre-deployment - pre-upgrade - post-deployment - post-upgrade roles: - service-status ",,53,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9eb274071f3fc2258addd9d2f0c1a5406a702573,openstack/tripleo-heat-templates,stable/stein,I9eb274071f3fc2258addd9d2f0c1a5406a702573,Upgrade fixes for RabbitMQ and Pacemaker,MERGED,2019-07-12 13:40:56.000000000,2019-08-01 10:45:52.000000000,2019-08-01 10:45:52.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-07-12 13:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eed1551353ad5177e8ae7a29a8254208fc73c638', 'message': ""Upgrade fixes for RabbitMQ and Pacemaker\n\nOverride also RabbitMQ long node names (FQDNs) in addition to the\nshort node names we've been already overriding. This allows RabbitMQ\nto start correctly.\n\nAlso remove a superfluous when condition in the pacemaker validation\ntask.\n\nDepends-On: Ia152aed696be15119ba5b75177ef82bc786c4b05\nChange-Id: I9eb274071f3fc2258addd9d2f0c1a5406a702573\nCloses-Bug: #1832588\n""}, {'number': 2, 'created': '2019-07-12 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5734fe840418c6dd4f977b796e2d555b0ca1de94', 'message': ""Upgrade fixes for RabbitMQ and Pacemaker\n\nOverride also RabbitMQ long node names (FQDNs) in addition to the\nshort node names we've been already overriding. This allows RabbitMQ\nto start correctly.\n\nAlso remove a superfluous when condition in the pacemaker validation\ntask.\n\nDepends-On: Ia152aed696be15119ba5b75177ef82bc786c4b05\nChange-Id: I9eb274071f3fc2258addd9d2f0c1a5406a702573\nCloses-Bug: #1832588\n""}, {'number': 3, 'created': '2019-07-31 10:52:22.000000000', 'files': ['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e329424f238ae36d582b1010866a5da4837a078', 'message': ""Upgrade fixes for RabbitMQ and Pacemaker\n\nOverride also RabbitMQ long node names (FQDNs) in addition to the\nshort node names we've been already overriding. This allows RabbitMQ\nto start correctly.\n\nAlso remove a superfluous when condition in the pacemaker validation\ntask.\n\nDepends-On: Ia152aed696be15119ba5b75177ef82bc786c4b05\nChange-Id: I9eb274071f3fc2258addd9d2f0c1a5406a702573\nCloses-Bug: #1832588\n(cherry-picked from 47d1430da57e757f8234d1cce65ad5fee46fa21c)\n""}]",3,670555,6e329424f238ae36d582b1010866a5da4837a078,16,6,3,11090,,,0,"Upgrade fixes for RabbitMQ and Pacemaker

Override also RabbitMQ long node names (FQDNs) in addition to the
short node names we've been already overriding. This allows RabbitMQ
to start correctly.

Also remove a superfluous when condition in the pacemaker validation
task.

Depends-On: Ia152aed696be15119ba5b75177ef82bc786c4b05
Change-Id: I9eb274071f3fc2258addd9d2f0c1a5406a702573
Closes-Bug: #1832588
(cherry-picked from 47d1430da57e757f8234d1cce65ad5fee46fa21c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/670555/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",2,eed1551353ad5177e8ae7a29a8254208fc73c638,bug/1832588," oslo_messaging_rpc_node_names_upgraded: ""{{ oslo_messaging_rpc_node_names }}"" oslo_messaging_rpc_node_names_upgraded: ""{{ oslo_messaging_rpc_node_names_upgraded|default([]) + [item] }}"" loop: ""{{ oslo_messaging_rpc_node_names }}"" upgrade. You need to use the limit option in order oslo_messaging_rpc_short_node_names_upgraded | length == 0 or oslo_messaging_rpc_node_names_upgraded is not defined or oslo_messaging_rpc_node_names_upgraded | length == 0 - name: add the oslo_messaging_rpc long name to hiera data for the upgrade include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: oslo_messaging_rpc_node_names_override tripleo_upgrade_value: ""{{oslo_messaging_rpc_node_names_upgraded}}"" tripleo_upgrade_key: ""{{item}}"" loop: - oslo_messaging_rpc_short_node_names_override - oslo_messaging_rpc_node_names_override when: oslo_messaging_rpc_short_node_names_upgraded | length == oslo_messaging_rpc_node_names | length"," loop: ""{{ oslo_messaging_rpc_short_node_names }}"" upgrade. You need to use the limit option in order oslo_messaging_rpc_short_node_names_upgraded | length == 0 tripleo_upgrade_key: oslo_messaging_rpc_short_node_names_override when: oslo_messaging_rpc_short_node_names_upgraded | length == oslo_messaging_rpc_short_node_names | length",39,11
openstack%2Ftripleo-validations~master~Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,openstack/tripleo-validations,master,Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,Enable fact gathering for needed validations,MERGED,2019-07-18 11:26:44.000000000,2019-08-01 10:34:06.000000000,2019-07-31 17:40:36.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-18 11:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9ae2a503f3aa97af85698444250a3b7229d6a130', 'message': ""Small optimization for validations run: ignore facts\n\nMost of the validations don't rely on the facts, although they are\ngathered by default.\n\nThis patch intends to disable fact gathering for most of the\nvalidations, while keeping the two only ones using them.\n\nThis means a ~4s gain on a validation run, which is already a good\npoint.\n\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n""}, {'number': 2, 'created': '2019-07-18 12:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fd58639f44db85ea63bcb681b93452af5c21f042', 'message': ""Small optimization for validations run: ignore facts\n\nMost of the validations don't rely on the facts, although they are\ngathered by default.\n\nThis patch intends to disable fact gathering for most of the\nvalidations, while keeping the two only ones using them.\n\nThis means a ~4s gain on a validation run, which is already a good\npoint.\n\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n""}, {'number': 3, 'created': '2019-07-22 07:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a973ad4da43819f701e2aaf2ca633f53eede3a37', 'message': ""Small optimization for validations run: ignore facts\n\nMost of the validations don't rely on the facts, although they are\ngathered by default.\n\nThis patch intends to disable fact gathering for most of the\nvalidations, while keeping the two only ones using them.\n\nThis means a ~4s gain on a validation run, which is already a good\npoint.\n\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n""}, {'number': 4, 'created': '2019-07-23 13:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/056197a07cfd02000fbd49390861635ae821d966', 'message': 'Enable fact gathering for needed validations\n\nImplicit fact gathering is disabled since\nhttps://review.opendev.org/672278\n\nThis means, for some validations, we must explicitely enable fact\ngathering.\n\nDepends-On: https://review.opendev.org/672278\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n'}, {'number': 5, 'created': '2019-07-23 13:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a10f7d323e2d04f805c03a8b7e7897562ceae963', 'message': 'Enable fact gathering for needed validations\n\nImplicit fact gathering is disabled since\nhttps://review.opendev.org/672278\n\nThis means, for some validations, we must explicitly enable fact\ngathering.\n\nDepends-On: https://review.opendev.org/672278\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n'}, {'number': 6, 'created': '2019-07-23 13:58:12.000000000', 'files': ['playbooks/undercloud-ram.yaml', 'playbooks/undercloud-cpu.yaml', 'playbooks/undercloud-selinux-mode.yaml', 'playbooks/repos.yaml', 'playbooks/check-latest-minor-version.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2affbb11f82afcdfcd77c282f718c92595cad291', 'message': 'Enable fact gathering for needed validations\n\nImplicit fact gathering is disabled since\nhttps://review.opendev.org/672278\n\nThis means, for some validations, we must explicitly enable fact\ngathering.\n\nDepends-On: https://review.opendev.org/672278\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n'}]",11,671460,2affbb11f82afcdfcd77c282f718c92595cad291,24,7,6,28223,,,0,"Enable fact gathering for needed validations

Implicit fact gathering is disabled since
https://review.opendev.org/672278

This means, for some validations, we must explicitly enable fact
gathering.

Depends-On: https://review.opendev.org/672278
Change-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/671460/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/containerized-undercloud-docker.yaml', 'playbooks/undercloud-service-status.yaml', 'playbooks/ctlplane-ip-range.yaml', 'playbooks/undercloud-process-count.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/openshift-nw-requirements.yaml', 'playbooks/ceph-health.yaml', 'playbooks/undercloud-selinux-mode.yaml', 'playbooks/repos.yaml', 'playbooks/stonith-exists.yaml', 'playbooks/default-node-count.yaml', 'playbooks/undercloud-debug.yaml', 'playbooks/openshift-hw-requirements.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/no-op-firewall-nova-driver.yaml', 'playbooks/node-disks.yaml', 'playbooks/image-serve.yaml', 'playbooks/no-op.yaml', 'playbooks/ironic-boot-configuration.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/dhcp-introspection.yaml', 'playbooks/undercloud-disk-space.yaml', 'playbooks/deployment-images.yaml', 'playbooks/ceilometerdb-size.yaml', 'playbooks/stack-health.yaml', 'playbooks/nova-status.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'playbooks/undercloud-disk-space-pre-upgrade.yaml', 'playbooks/openstack-endpoints.yaml', 'playbooks/check-latest-minor-version.yaml', 'playbooks/switch-vlans.yaml', 'playbooks/collect-flavors-and-verify-profiles.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/undercloud-heat-purge-deleted.yaml', 'playbooks/network-environment.yaml', 'playbooks/check-ftype.yaml', 'playbooks/512e.yaml', 'playbooks/controller-ulimits.yaml', 'playbooks/ceph-ansible-installed.yaml', 'playbooks/haproxy.yaml', 'playbooks/ntp.yaml', 'playbooks/undercloud-tokenflush.yaml', 'playbooks/node-health.yaml', 'playbooks/check-network-gateway.yaml', 'playbooks/dhcp-provisioning.yaml', 'playbooks/dns.yaml']",49,9ae2a503f3aa97af85698444250a3b7229d6a130,optimization/no-fact-gathering, gather_facts: no,,49,0
openstack%2Ftripleo-validations~master~Ib46f5993eeac6ec39a603da3b8e943c960d7c52d,openstack/tripleo-validations,master,Ib46f5993eeac6ec39a603da3b8e943c960d7c52d,"Correct ""repos"" validation and adds Molecule tests",MERGED,2019-07-25 13:26:50.000000000,2019-08-01 10:31:47.000000000,2019-07-26 01:44:36.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-25 13:26:50.000000000', 'files': ['roles/repos/tasks/main.yml', 'roles/repos/molecule/default/Dockerfile.j2', 'roles/repos/molecule/default/molecule.yml', 'roles/repos/molecule/default/verify.yml', 'roles/repos/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fa974b9fb9f1e9d3d2ebe5ec5d95095ea018703e', 'message': 'Correct ""repos"" validation and adds Molecule tests\n\nThe way `yum repolist\' works isn\'t consistent on CentOS-7 and Fedora. On\nthe first, it does fail on a broken repository, spitting an error on\nSTDERR and exiting with 1.\n\nOn Fedora, it sadly just ignores the failing repository with a single\nline, and exits with 0.\n\nThis patch intends to make the validation more resilient, and adds\nMolecule testing in order to ensure it\'s actually working as expected.\n\nChange-Id: Ib46f5993eeac6ec39a603da3b8e943c960d7c52d\n'}]",0,672722,fa974b9fb9f1e9d3d2ebe5ec5d95095ea018703e,12,5,1,28223,,,0,"Correct ""repos"" validation and adds Molecule tests

The way `yum repolist' works isn't consistent on CentOS-7 and Fedora. On
the first, it does fail on a broken repository, spitting an error on
STDERR and exiting with 1.

On Fedora, it sadly just ignores the failing repository with a single
line, and exits with 0.

This patch intends to make the validation more resilient, and adds
Molecule testing in order to ensure it's actually working as expected.

Change-Id: Ib46f5993eeac6ec39a603da3b8e943c960d7c52d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/672722/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repos/tasks/main.yml', 'roles/repos/molecule/default/Dockerfile.j2', 'roles/repos/molecule/default/molecule.yml', 'roles/repos/molecule/default/verify.yml', 'roles/repos/molecule/default/playbook.yml']",5,fa974b9fb9f1e9d3d2ebe5ec5d95095ea018703e,molecule/repos,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: test role without failure include_role: name: repos - name: run with failure block: - name: inject faulty repository yum_repository: name: faulty description: really faulty repository baseurl: http://this.repository.do-not.exists/like-not-at-all enabled: yes - name: execute role include_role: name: repos rescue: - name: clean host error meta: clear_host_errors - name: Molecule output debug: msg: Successfully detected first broken repository - name: run with another failure block: - name: remove faulty repository yum_repository: name: faulty state: absent - name: push another faulty repository with working DNS yum_repository: name: faulty-bis description: faulty repository with working DNS baseurl: http://download.fedoraproject.org/pub/fedora/blah enabled: yes - name: execute role include_role: name: repos rescue: - name: clean host error meta: clear_host_errors - name: Molecule output debug: msg: Successfully detected second faulty repository. Exiting! - name: End play meta: end_play - name: Fail the test fail: msg: | The repos validation failed detecting broken/non-working repository ",,184,14
openstack%2Fmagnum~master~I820fbe0659222ba31baf43ca09d2bbb0030ed61f,openstack/magnum,master,I820fbe0659222ba31baf43ca09d2bbb0030ed61f,Add information about the cluster in magnum event notifications,MERGED,2019-07-11 14:02:00.000000000,2019-08-01 10:26:30.000000000,2019-08-01 10:26:30.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 30678}]","[{'number': 1, 'created': '2019-07-11 14:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c25525420161e37208b923ade0818693065203b5', 'message': 'Add information about the cluster in magnum event notifications\n\nUpdate magnum CADF event notifications so they include relevant information about the cluster in the target attribute. Do not randomly generate target UUID but include cluster UUID and other relevant info.\n\nChange-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f\n'}, {'number': 2, 'created': '2019-07-23 08:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc3f6da988ff39c9b176c3d873dee2e60a5dc6c8', 'message': 'Add information about the cluster in magnum event notifications\n\nUpdate magnum CADF event notifications so they include relevant\ninformation about the cluster in the target attribute.\nDo not randomly generate target UUID but include cluster UUID\nand other relevant info.\n\nChange-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f\n'}, {'number': 3, 'created': '2019-07-26 09:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e2b0b7a3978ffe08badd2e4b23b8dc11d54ac8cb', 'message': 'Add information about the cluster in magnum event notifications\n\nMagnum is sending notifications like cluster create but has no\ndetails regarding the cluster, like cluster UUID. Notifications\nfrom other OpenStack projects contain full detailed information\n(e.g. instance UUID in Nova instance create notification).\nDetailed notifications are important for other OpenStack\nprojects like Searchlight or third party projects that cache\ninformation regarding OpenStack objects or have custom actions\nrunning on notification. Caching systems can efficiently update\none single object (e.g. cluster), while without notifications\nthey need to periodically retrieve object list, which is\ninefficient.\n\nChange-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f\n'}, {'number': 4, 'created': '2019-07-29 08:24:50.000000000', 'files': ['releasenotes/notes/add-information-about-cluster-in-event-notifications-a3c992ab24b32fbd.yaml', 'magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/tests/unit/db/utils.py', 'magnum/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e5eade03dc36f74f57dba756f43d15a198155b2d', 'message': 'Add information about the cluster in magnum event notifications\n\nMagnum is sending notifications like cluster create but has no\ndetails regarding the cluster, like cluster UUID. Notifications\nfrom other OpenStack projects contain full detailed information\n(e.g. instance UUID in Nova instance create notification).\nDetailed notifications are important for other OpenStack\nprojects like Searchlight or third party projects that cache\ninformation regarding OpenStack objects or have custom actions\nrunning on notification. Caching systems can efficiently update\none single object (e.g. cluster), while without notifications\nthey need to periodically retrieve object list, which is\ninefficient.\n\nChange-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f\nStory: #2006297\nTask: 36009\n'}]",0,670312,e5eade03dc36f74f57dba756f43d15a198155b2d,22,5,4,30678,,,0,"Add information about the cluster in magnum event notifications

Magnum is sending notifications like cluster create but has no
details regarding the cluster, like cluster UUID. Notifications
from other OpenStack projects contain full detailed information
(e.g. instance UUID in Nova instance create notification).
Detailed notifications are important for other OpenStack
projects like Searchlight or third party projects that cache
information regarding OpenStack objects or have custom actions
running on notification. Caching systems can efficiently update
one single object (e.g. cluster), while without notifications
they need to periodically retrieve object list, which is
inefficient.

Change-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f
Story: #2006297
Task: 36009
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/670312/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/service/periodic.py', 'magnum/tests/unit/service/test_periodic.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/tests/unit/db/utils.py', 'magnum/conductor/utils.py']",5,c25525420161e37208b923ade0818693065203b5,add-cluster-information-in-event-notifications,"from pycadf import attachmentdef _get_event_target(cluster_obj=None): if cluster_obj: target = resource.Resource( id=cluster_obj.uuid, name=cluster_obj.name, typeURI='service/magnum/cluster' ) target.add_attachment(attach_val=attachment.Attachment( typeURI='service/magnum/cluster', content={ 'status': cluster_obj.status, 'status_reason': cluster_obj.status_reason, 'project_id': cluster_obj.project_id, 'created_at': cluster_obj.created_at, 'updated_at': cluster_obj.updated_at, 'cluster_template_id': cluster_obj.cluster_template_id, 'keypair': cluster_obj.keypair, 'docker_volume_size:': cluster_obj.docker_volume_size, 'labels': cluster_obj.labels, 'master_flavor_id': cluster_obj.master_flavor_id, 'flavor_id': cluster_obj.flavor_id, 'stack_id': cluster_obj.stack_id, 'health_status': cluster_obj.health_status, 'create_timeout': cluster_obj.create_timeout, 'api_address': cluster_obj.api_address, 'discovery_url': cluster_obj.discovery_url, 'node_addresses': cluster_obj.node_addresses, 'master_addresses': cluster_obj.master_addresses, 'node_count': cluster_obj.node_count, 'master_count': cluster_obj.master_count, }, name='cluster_data' )) return target return resource.Resource(typeURI='service/magnum/cluster') def notify_about_cluster_operation(context, action, outcome, cluster_obj=None): :param cluster_obj: the cluster the notification is related to target=_get_event_target(cluster_obj=cluster_obj),","def notify_about_cluster_operation(context, action, outcome): target=resource.Resource(typeURI='service/magnum/cluster'),",88,24
openstack%2Fmagnum~stable%2Fstein~If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,openstack/magnum,stable/stein,If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,Fix openstack-cloud-controller-manager restarts,MERGED,2019-06-19 14:36:22.000000000,2019-08-01 10:26:29.000000000,2019-08-01 10:26:29.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 7822}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-19 14:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2d56306614bd4dfc29178a10d9696abfcb91bbaa', 'message': ""Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during\ncluster creation.\n\nThis happens because cloud-controller-manager starts running before\nneeded secrets exist in kubernetes. Cloud-controller-manager lists secrets \nand if the secrets exists it uses it and moves on, but if the secret \ndoesn't exist it starts a watch until it does. As this is not allowed the\npod fails.\n\nThis is triggered by Issue \nhttps://github.com/kubernetes/cloud-provider-openstack/issues/545\n\nStory: 2005270\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n(cherry picked from commit 21acb8dc9afbc3c1b2a786c4041213fa7e8761dc)\n""}, {'number': 2, 'created': '2019-07-25 17:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c5ff440a30b2b7b296dac25947c21af127c70b9e', 'message': ""Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during\ncluster creation.\n\nThis happens because cloud-controller-manager starts running before\nneeded secrets exist in kubernetes. Cloud-controller-manager lists secrets\nand if the secrets exists it uses it and moves on, but if the secret\ndoesn't exist it starts a watch until it does. As this is not allowed the\npod fails.\n\nThis is triggered by Issue \nhttps://github.com/kubernetes/cloud-provider-openstack/issues/545\n\nStory: 2005270\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n(cherry picked from commit 21acb8dc9afbc3c1b2a786c4041213fa7e8761dc)\n""}, {'number': 3, 'created': '2019-08-01 08:24:58.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1ce4b7e7b9774df5897aa7a7382ad01e592b28cc', 'message': ""Fix openstack-cloud-controller-manager restarts\n\nOpenstack-cloud-controller-manager restarts several times during\ncluster creation.\n\nThis happens because cloud-controller-manager starts running before\nneeded secrets exist in kubernetes. Cloud-controller-manager lists secrets\nand if the secrets exists it uses it and moves on, but if the secret\ndoesn't exist it starts a watch until it does. As this is not allowed the\npod fails.\n\nThis is triggered by Issue \nhttps://github.com/kubernetes/cloud-provider-openstack/issues/545\n\nStory: 2005270\n\nChange-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n(cherry picked from commit 21acb8dc9afbc3c1b2a786c4041213fa7e8761dc)\n""}]",0,666308,1ce4b7e7b9774df5897aa7a7382ad01e592b28cc,18,8,3,9995,,,0,"Fix openstack-cloud-controller-manager restarts

Openstack-cloud-controller-manager restarts several times during
cluster creation.

This happens because cloud-controller-manager starts running before
needed secrets exist in kubernetes. Cloud-controller-manager lists secrets
and if the secrets exists it uses it and moves on, but if the secret
doesn't exist it starts a watch until it does. As this is not allowed the
pod fails.

This is triggered by Issue 
https://github.com/kubernetes/cloud-provider-openstack/issues/545

Story: 2005270

Change-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
(cherry picked from commit 21acb8dc9afbc3c1b2a786c4041213fa7e8761dc)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/08/666308/3 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'],1,2d56306614bd4dfc29178a10d9696abfcb91bbaa,feature/fix-openstack_cloud_controller_manager-restarts-stable/stein, - watch,,1,0
openstack%2Fmagnum~master~I23056513dcc6f0cb0c7d41aa529f6a2e77679db9,openstack/magnum,master,I23056513dcc6f0cb0c7d41aa529f6a2e77679db9,Fix py3 issue of heat-container-agent,MERGED,2019-07-26 04:56:07.000000000,2019-08-01 10:25:41.000000000,2019-08-01 10:25:41.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 26926}]","[{'number': 1, 'created': '2019-07-26 04:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/223ac0ca3bfac20755a9e3b71d5217cffa497cb3', 'message': 'Fix py3 issue of heat-container-agent\n\nNow the default python version of rawhide has been upgraded to\npython 3.7.4, and the basestring has been removed from py3.\nThis patch fixes the issue.\n\nStory: 2006283\n\nChange-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9\n'}, {'number': 2, 'created': '2019-07-28 22:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8e20146c2568789e4761477f72720e7296f3aa59', 'message': 'Fix py3 issue of heat-container-agent\n\nNow the default python version of rawhide has been upgraded to\npython 3.7.4, this patch fixes those py2->py3 issues which followed\nfrom the origin heat-agent commits[1][2].\n\n[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2\n[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853\n\nStory: 2006283\n\nChange-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9\n'}, {'number': 3, 'created': '2019-07-28 23:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5bfbb658c5df8512c72841bef512945853e2fb82', 'message': 'Fix py3 issue of heat-container-agent\n\nNow the default python version of rawhide has been upgraded to\npython 3.7.4, this patch fixes those py2->py3 issues which followed\nfrom the origin heat-agent commits[1][2].\n\n[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2\n[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853\n\nStory: 2006283\n\nChange-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9\n'}, {'number': 4, 'created': '2019-07-29 03:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/15e2f9f78ed36f3f30513eea768eac8d1e73060e', 'message': 'Fix py3 issue of heat-container-agent\n\nNow the default python version of rawhide has been upgraded to\npython 3.7.4, this patch fixes those py2->py3 issues which followed\nfrom the origin heat-agent commits[1][2].\n\n[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2\n[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853\n\nStory: 2006283\n\nChange-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9\n'}, {'number': 5, 'created': '2019-07-30 00:07:16.000000000', 'files': ['dockerfiles/heat-container-agent/scripts/hooks/script', 'dockerfiles/heat-container-agent/scripts/55-heat-config', 'dockerfiles/heat-container-agent/scripts/heat-config-notify', 'dockerfiles/heat-container-agent/scripts/hooks/docker-compose', 'dockerfiles/heat-container-agent/scripts/hooks/atomic'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bd23e58825cdcbbbc573ae37a59372f0f5157551', 'message': 'Fix py3 issue of heat-container-agent\n\nNow the default python version of rawhide has been upgraded to\npython 3.7.4, this patch fixes those py2->py3 issues which followed\nfrom the origin heat-agent commits[1][2].\n\n[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2\n[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853\n\nTask: 35989\nStory: 2006283\n\nChange-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9\n'}]",4,672865,bd23e58825cdcbbbc573ae37a59372f0f5157551,21,4,5,6484,,,0,"Fix py3 issue of heat-container-agent

Now the default python version of rawhide has been upgraded to
python 3.7.4, this patch fixes those py2->py3 issues which followed
from the origin heat-agent commits[1][2].

[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2
[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853

Task: 35989
Story: 2006283

Change-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/672865/4 && git format-patch -1 --stdout FETCH_HEAD,['dockerfiles/heat-container-agent/scripts/55-heat-config'],1,223ac0ca3bfac20755a9e3b71d5217cffa497cb3,story/2006283-35989,"import six not isinstance(hot_input['value'], six.string_types):"," not isinstance(hot_input['value'], basestring):",2,1
openstack%2Fmagnum~master~I11579ff6b83d133c71c2cbf49ee4b20996dfb918,openstack/magnum,master,I11579ff6b83d133c71c2cbf49ee4b20996dfb918,"Allow setting network, subnet and FIP when creating cluster",MERGED,2019-07-17 03:58:18.000000000,2019-08-01 10:25:37.000000000,2019-08-01 10:25:37.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-07-17 03:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4b7611c052d7621bbb7b7ec28577bddffc6bee0c', 'message': '[WIP]Allow setting network, subnet and FIP when creating cluster\n\nWhen using a public cluster template, user still need the capability\nto reuse their existing network/subnet, and they also need to be\nable to turn of/off the floatingip to overwrite the setting in the\npublic template. This patch supports that by adding those three\nitems as parameters when creating cluster.\n\nStory: 2006208\nTask: 35797\n\nChange-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918\n'}, {'number': 2, 'created': '2019-07-18 03:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/acb8a2646ebcbf9e302101dcd8826aba5fea21f9', 'message': '[WIP]Allow setting network, subnet and FIP when creating cluster\n\nWhen using a public cluster template, user still need the capability\nto reuse their existing network/subnet, and they also need to be\nable to turn of/off the floatingip to overwrite the setting in the\npublic template. This patch supports that by adding those three\nitems as parameters when creating cluster.\n\nStory: 2006208\nTask: 35797\n\nChange-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918\n'}, {'number': 3, 'created': '2019-07-22 02:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/66ea26267e143abc5954cb20e1fd42e72c8934b4', 'message': '[WIP]Allow setting network, subnet and FIP when creating cluster\n\nWhen using a public cluster template, user still need the capability\nto reuse their existing network/subnet, and they also need to be\nable to turn of/off the floatingip to overwrite the setting in the\npublic template. This patch supports that by adding those three\nitems as parameters when creating cluster.\n\nStory: 2006208\nTask: 35797\n\nChange-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918\n'}, {'number': 4, 'created': '2019-07-25 22:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a09f0f2af16fa5515fcc20b1831af4ce5475f68b', 'message': 'Allow setting network, subnet and FIP when creating cluster\n\nWhen using a public cluster template, user still need the capability\nto reuse their existing network/subnet, and they also need to be\nable to turn of/off the floatingip to overwrite the setting in the\npublic template. This patch supports that by adding those three\nitems as parameters when creating cluster.\n\nStory: 2006208\nTask: 35797\n\nChange-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918\n'}, {'number': 5, 'created': '2019-07-25 23:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/552f293d3d7e88a56ba804df90c0fb9d604697cc', 'message': 'Allow setting network, subnet and FIP when creating cluster\n\nWhen using a public cluster template, user still need the capability\nto reuse their existing network/subnet, and they also need to be\nable to turn of/off the floatingip to overwrite the setting in the\npublic template. This patch supports that by adding those three\nitems as parameters when creating cluster.\n\nStory: 2006208\nTask: 35797\n\nChange-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918\n'}, {'number': 6, 'created': '2019-07-31 08:41:50.000000000', 'files': ['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/api/controllers/v1/bay.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'releasenotes/notes/allow-setting-network-subnet-FIP-when-creating-cluster-ae0cda35ade28a9f.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/db/sqlalchemy/alembic/versions/47380964133d_add_network_subnet_fip_to_cluster.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/api/controllers/v1/cluster.py', 'contrib/drivers/heat/dcos_centos_template_def.py', 'magnum/db/sqlalchemy/models.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/objects/cluster.py', 'magnum/tests/unit/objects/test_objects.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/32989b4f7b1fdee40768188289bce4a8baf624b7', 'message': 'Allow setting network, subnet and FIP when creating cluster\n\nWhen using a public cluster template, user still need the capability\nto reuse their existing network/subnet, and they also need to be\nable to turn of/off the floatingip to overwrite the setting in the\npublic template. This patch supports that by adding those three\nitems as parameters when creating cluster.\n\nStory: 2006208\nTask: 35797\n\nChange-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918\n'}]",0,671182,32989b4f7b1fdee40768188289bce4a8baf624b7,23,5,6,6484,,,0,"Allow setting network, subnet and FIP when creating cluster

When using a public cluster template, user still need the capability
to reuse their existing network/subnet, and they also need to be
able to turn of/off the floatingip to overwrite the setting in the
public template. This patch supports that by adding those three
items as parameters when creating cluster.

Story: 2006208
Task: 35797

Change-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918
",git fetch https://review.opendev.org/openstack/magnum refs/changes/82/671182/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allow-setting-network-subnet-FIP-when-creating-cluster-ae0cda35ade28a9f.yaml', 'magnum/db/sqlalchemy/alembic/versions/47380964133d_add_network_subnet_fip_to_cluster.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/db/sqlalchemy/models.py', 'magnum/objects/cluster.py']",5,4b7611c052d7621bbb7b7ec28577bddffc6bee0c,story/2006208," 'container_version': fields.StringField(nullable=True), 'fixed_network': fields.StringField(nullable=True), 'fixed_subnet': fields.StringField(nullable=True), 'floating_ip_enabled': fields.BooleanField(default=True),", 'container_version': fields.StringField(nullable=True),108,1
openstack%2Fneutron-lbaas~stable%2Fqueens~If1a8017260f2c17f6b63cf2029fcc16d8b178a18,openstack/neutron-lbaas,stable/queens,If1a8017260f2c17f6b63cf2029fcc16d8b178a18,Allow to create loadbalancer with chinese character,MERGED,2019-06-04 15:37:59.000000000,2019-08-01 10:14:29.000000000,2019-08-01 10:14:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-06-04 15:37:59.000000000', 'files': ['neutron_lbaas/drivers/haproxy/templates/haproxy.loadbalancer.j2', 'neutron_lbaas/tests/unit/drivers/haproxy/sample_configs/sample_configs.py', 'neutron_lbaas/drivers/haproxy/jinja_cfg.py', 'neutron_lbaas/drivers/haproxy/templates/haproxy_base.j2'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/2d49d9954a738c5942b0d0a15ffe3595dae5c137', 'message': ""Allow to create loadbalancer with chinese character\n\nBecause loadbalancer's name will be written in haproxy configuration,\nbut chinese character can't be written correctly.\nThe patch use replaces loadbalancer's name with loadbalancer's id\nin the templates.\n\nChange-Id: If1a8017260f2c17f6b63cf2029fcc16d8b178a18\nStory: 2001946\nTask: 15064\n(cherry picked from commit 1502dc16f5ffa76211e5ab88cf1e67fe2c9b8245)\n""}]",0,663067,2d49d9954a738c5942b0d0a15ffe3595dae5c137,27,6,1,6469,,,0,"Allow to create loadbalancer with chinese character

Because loadbalancer's name will be written in haproxy configuration,
but chinese character can't be written correctly.
The patch use replaces loadbalancer's name with loadbalancer's id
in the templates.

Change-Id: If1a8017260f2c17f6b63cf2029fcc16d8b178a18
Story: 2001946
Task: 15064
(cherry picked from commit 1502dc16f5ffa76211e5ab88cf1e67fe2c9b8245)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/67/663067/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/drivers/haproxy/templates/haproxy.loadbalancer.j2', 'neutron_lbaas/tests/unit/drivers/haproxy/sample_configs/sample_configs.py', 'neutron_lbaas/drivers/haproxy/jinja_cfg.py', 'neutron_lbaas/drivers/haproxy/templates/haproxy_base.j2']",4,2d49d9954a738c5942b0d0a15ffe3595dae5c137,story/2001946-stable/queens,# Configuration for {{ loadbalancer_id }},# Configuration for {{ loadbalancer_name }},8,9
openstack%2Fkolla-ansible~stable%2Fstein~Iea6d12c07a2f4152f2038d3de2ef589479b3332b,openstack/kolla-ansible,stable/stein,Iea6d12c07a2f4152f2038d3de2ef589479b3332b,Format internal Fluentd logs,MERGED,2019-07-16 15:19:54.000000000,2019-08-01 10:00:19.000000000,2019-08-01 10:00:19.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 15:19:54.000000000', 'files': ['ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b3eca856b07cd2ea9e934084875bd3fe725d39e', 'message': ""Format internal Fluentd logs\n\nThis change formats internal Fluent logs in a similar way to other\nlogs. It makes it easier for a user to identify issues with Fluent\nparsing logs. Any failure to parse a log will be ingested into the\nlogging framework and can easily be located by searching for\n'pattern not match' or by filtering for Fluent log warnings.\n\nChange-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b\n(cherry picked from commit d89a89c26bd0348e48049f9cddfeb5219dce9282)\n""}]",0,671078,7b3eca856b07cd2ea9e934084875bd3fe725d39e,15,6,1,28048,,,0,"Format internal Fluentd logs

This change formats internal Fluent logs in a similar way to other
logs. It makes it easier for a user to identify issues with Fluent
parsing logs. Any failure to parse a log will be ingested into the
logging framework and can easily be located by searching for
'pattern not match' or by filtering for Fluent log warnings.

Change-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b
(cherry picked from commit d89a89c26bd0348e48049f9cddfeb5219dce9282)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/671078/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'],1,7b3eca856b07cd2ea9e934084875bd3fe725d39e,cp2,"# Rename internal Fluent message field to match other logs. This removes # all other fields by default, including the original message field. This is # intented to avoid duplication of the log message and to prevent passing # invalid dimensions to Monasca, if it is enabled. Note that if this step # is moved to the format folder, then it will applied after the second step # below which will break the logic. <filter fluent.**> @type parser key_name message format /^(?<Payload>.*)$/ </filter> <filter fluent.**> @type record_transformer <record> Hostname ""#{Socket.gethostname}"" programname ${tag_parts[0]} log_level ${tag_parts[1]} </record> </filter> ",,21,0
openstack%2Fcyborg~master~I7ddb2ad1c345070feeb6ad74fa1399d78933b15e,openstack/cyborg,master,I7ddb2ad1c345070feeb6ad74fa1399d78933b15e,P3: Changes for services.,MERGED,2019-07-12 08:15:00.000000000,2019-08-01 09:47:19.000000000,2019-08-01 09:47:19.000000000,"[{'_account_id': 14131}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-07-12 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dd89ce042e5949cdf71f033be9f2c15429ace602', 'message': 'P3: Changes for services.\n\nChange-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e\n'}, {'number': 2, 'created': '2019-07-12 15:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/443802cd180a01cef4550d9ec367b8c0212d9c72', 'message': 'P3: Changes for services.\n\nChange-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e\n'}, {'number': 3, 'created': '2019-07-29 06:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ca8920a5360feb71d2de5e25d84f19a6705cfcdf', 'message': 'P3: Changes for services.\n\nChange-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e\n'}, {'number': 4, 'created': '2019-07-30 04:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7524dddc5cbb6add9eefcb5a954174e031db6f7c', 'message': 'P3: Changes for services.\n\nChange-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e\n'}, {'number': 5, 'created': '2019-07-31 07:26:55.000000000', 'files': ['cyborg/services/client/report.py', 'cyborg/services/report.py', 'cyborg/image/glance.py', 'cyborg/services/__init__.py', 'cyborg/common/placement_client.py', 'cyborg/image/api.py', 'cyborg/services/client/__init__.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d582f73fead09cef380c49059c19ad3297c33bd4', 'message': 'P3: Changes for services.\n\nChange-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e\n'}]",6,670464,d582f73fead09cef380c49059c19ad3297c33bd4,23,5,5,21672,,,0,"P3: Changes for services.

Change-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/64/670464/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/services/client/report.py', 'cyborg/services/report.py', 'cyborg/image/glance.py', 'cyborg/services/__init__.py', 'cyborg/common/placement_client.py', 'cyborg/image/api.py', 'cyborg/services/client/__init__.py']",7,dd89ce042e5949cdf71f033be9f2c15429ace602,nova-integ,,"# Copyright 2018 Intel, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Client for call other project API."""""" ",93,2187
openstack%2Fpython-tripleoclient~master~I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,openstack/python-tripleoclient,master,I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,Mock deployment action in upgrade tests,MERGED,2019-07-31 14:08:21.000000000,2019-08-01 09:42:29.000000000,2019-07-31 23:43:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11082}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23215}]","[{'number': 1, 'created': '2019-07-31 14:08:21.000000000', 'files': ['tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d', 'message': ""Mock deployment action in upgrade tests\n\nWithout properly mocking the deployment action, these tests are trying\nto execute deployment code including temp file creation which can lead\nto package build failures. This change mocks out the deployment take\naction for the UpgradeRun so we're only testing the upgrade code\nitself.\n\nChange-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da\nCloses-Bug: #1838506\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,673828,e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d,13,8,1,11491,,,0,"Mock deployment action in upgrade tests

Without properly mocking the deployment action, these tests are trying
to execute deployment code including temp file creation which can lead
to package build failures. This change mocks out the deployment take
action for the UpgradeRun so we're only testing the upgrade code
itself.

Change-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da
Closes-Bug: #1838506
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/673828/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'],1,e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d,," @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' 'take_action') mock_enable_ssh_admin, mock_overcloud_deploy): mock_overcloud_deploy.assert_called_once_with(parsed_args) @mock.patch('tripleoclient.v1.overcloud_deploy.DeployOvercloud.' 'take_action') add_env, mock_get_stack, mock_overcloud_deploy): mock_overcloud_deploy.assert_called_once_with(parsed_args)"," mock_enable_ssh_admin): add_env, mock_get_stack):",9,2
openstack%2Ftripleo-common~master~I86b914f8e20704da2d566d137718b4b7fb02ad95,openstack/tripleo-common,master,I86b914f8e20704da2d566d137718b4b7fb02ad95,Add deployment_options input to config_download workflow,MERGED,2019-07-31 16:04:20.000000000,2019-08-01 09:41:10.000000000,2019-08-01 09:41:10.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-31 16:04:20.000000000', 'files': ['workbooks/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/71b285b345bd3240450cacc7047d0184dc415102', 'message': ""Add deployment_options input to config_download workflow\n\nInventory is generated as a part of config_download_deploy\nworkflow but 'deployment_options' input needed to set\n'ansible_python_interpreter' input for 'ansible-generate-inventory'\naction is missing as a input to the workflow.\nThis patch adds it.\n\nPartial-Bug: #1838540\nChange-Id: I86b914f8e20704da2d566d137718b4b7fb02ad95\n""}]",0,673862,71b285b345bd3240450cacc7047d0184dc415102,10,7,1,13861,,,0,"Add deployment_options input to config_download workflow

Inventory is generated as a part of config_download_deploy
workflow but 'deployment_options' input needed to set
'ansible_python_interpreter' input for 'ansible-generate-inventory'
action is missing as a input to the workflow.
This patch adds it.

Partial-Bug: #1838540
Change-Id: I86b914f8e20704da2d566d137718b4b7fb02ad95
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/673862/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/deployment.yaml'],1,71b285b345bd3240450cacc7047d0184dc415102,bug/1838540," deployment_options: <% $.get('deployment_options', {}) %> - deployment_options: {}",,2,0
openstack%2Ftripleo-upgrade~stable%2Fstein~I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5,openstack/tripleo-upgrade,stable/stein,I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-07-31 11:54:21.000000000,2019-08-01 09:40:47.000000000,2019-08-01 09:40:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 21537}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-07-31 11:54:21.000000000', 'files': ['templates/workarounds.sh.j2', 'templates/fast-forward-upgrade/undercloud_workarounds_post.sh.j2', 'templates/fast-forward-upgrade/workarounds.sh.j2', 'README.rst', 'setup.cfg', 'templates/fast-forward-upgrade/undercloud_workarounds_pre.sh.j2', 'templates/update_workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0f237f36a013079f698d9ce63ab271a3381f954b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5\n(cherry picked from commit b8232161c02828f71388904c14ba1f4396ecbb79)\n'}]",0,673795,0f237f36a013079f698d9ce63ab271a3381f954b,8,7,1,26343,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5
(cherry picked from commit b8232161c02828f71388904c14ba1f4396ecbb79)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/95/673795/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'templates/fast-forward-upgrade/undercloud_workarounds_post.sh.j2', 'templates/fast-forward-upgrade/workarounds.sh.j2', 'README.rst', 'setup.cfg', 'templates/fast-forward-upgrade/undercloud_workarounds_pre.sh.j2', 'templates/update_workarounds.sh.j2']",7,0f237f36a013079f698d9ce63ab271a3381f954b,,curl -4 'https://review.opendev.org/changes/{{workaround.patch_id}}/revisions/current/patch?download' | \,curl -4 'https://review.openstack.org/changes/{{workaround.patch_id}}/revisions/current/patch?download' | \,9,9
openstack%2Ftripleo-upgrade~stable%2Fstein~I542b82b0bec05faf320861027f2f51572fe931c2,openstack/tripleo-upgrade,stable/stein,I542b82b0bec05faf320861027f2f51572fe931c2,Remove check for openvswitch package.,MERGED,2019-07-31 11:44:08.000000000,2019-08-01 09:40:45.000000000,2019-08-01 09:40:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-07-31 11:44:08.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/43ca4a2c2bac5efc51230c3c0fe56be5bdcfc266', 'message': ""Remove check for openvswitch package.\n\nThe package task does ensure that a package is installed,\nwhen the intention of this task was to simply check if\nthe openvswitch package was installed. However, if it's\ninstalled, Ansible will try to install the latest available\nversion and that update needs to be handled in the Undercloud\nupgrade itself, not in the previous steps. For that reason,\nthis patch removes the task and relies on the following one\nwhich checks that the OpenVSwitch service is running to fail\nif the package wasn't installed.\n\nChange-Id: I542b82b0bec05faf320861027f2f51572fe931c2\n(cherry picked from commit b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9)\n""}]",0,673791,43ca4a2c2bac5efc51230c3c0fe56be5bdcfc266,8,6,1,26343,,,0,"Remove check for openvswitch package.

The package task does ensure that a package is installed,
when the intention of this task was to simply check if
the openvswitch package was installed. However, if it's
installed, Ansible will try to install the latest available
version and that update needs to be handled in the Undercloud
upgrade itself, not in the previous steps. For that reason,
this patch removes the task and relies on the following one
which checks that the OpenVSwitch service is running to fail
if the package wasn't installed.

Change-Id: I542b82b0bec05faf320861027f2f51572fe931c2
(cherry picked from commit b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/673791/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,43ca4a2c2bac5efc51230c3c0fe56be5bdcfc266,,,"- name: Ensure Openvswitch is installed package: name: ""{{ 'openvswitch' if use_oooq|bool else 'rhosp-openvswitch' }}"" state: present ",0,5
openstack%2Ftripleo-upgrade~stable%2Fstein~Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,openstack/tripleo-upgrade,stable/stein,Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,Drop MongoDB service from custom roles_data.,MERGED,2019-07-31 11:10:59.000000000,2019-08-01 09:40:44.000000000,2019-08-01 09:40:43.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-07-31 11:10:59.000000000', 'files': ['tasks/common/adjust-roles-data.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/589dfcaeece5985aa12d7b748cada77f1a4a1cdb', 'message': 'Drop MongoDB service from custom roles_data.\n\nAs documented in the Stein upgrades guide [0], we need to\nremove the MongDB service from the roles_data in the case\na custom one was appended during upgrade prepare step.\n\n[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup\n\nChange-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f\n(cherry picked from commit 359db7c0006c13e4f754003e911ce861f577b3e8)\n'}]",0,673786,589dfcaeece5985aa12d7b748cada77f1a4a1cdb,8,6,1,26343,,,0,"Drop MongoDB service from custom roles_data.

As documented in the Stein upgrades guide [0], we need to
remove the MongDB service from the roles_data in the case
a custom one was appended during upgrade prepare step.

[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup

Change-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f
(cherry picked from commit 359db7c0006c13e4f754003e911ce861f577b3e8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/673786/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",2,589dfcaeece5985aa12d7b748cada77f1a4a1cdb,,- name: adjust role-data for R->S upgrade,- name: adjust role-data for P->Q upgrade,7,1
openstack%2Ftripleo-upgrade~stable%2Fstein~Ib83e508950df729901fffa072402b581be95c746,openstack/tripleo-upgrade,stable/stein,Ib83e508950df729901fffa072402b581be95c746,Upgrade undercloud.conf with the right parameters,MERGED,2019-07-31 11:50:07.000000000,2019-08-01 09:40:43.000000000,2019-08-01 09:40:42.000000000,"[{'_account_id': 8042}, {'_account_id': 8532}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-07-31 11:50:07.000000000', 'files': ['defaults/main.yml', 'tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d41b46d0b07cf748082cf314479847e99fff609', 'message': ""Upgrade undercloud.conf with the right parameters\n\nThis patch adds the new parameters required for the OSP15 major\nupgrades workflow.  This patch also adds the undercloud_hiera file\nif the hieradata_override is not defined in undercloud.conf, if it\nis then it will append the needed hiera configuration into the existing\nfile.\nIf the docker_insecure_registries option exists in the file, it's\nvalue is merged with new namespace values and set as\ncontainer_insecure_registries.  The docker_insecure_registries is\nremoved after the value is used.\n\nChange-Id: Ib83e508950df729901fffa072402b581be95c746\n(cherry picked from commit 3a97b561fa3becea25d0c2385850c1139358228d)\n""}]",0,673794,5d41b46d0b07cf748082cf314479847e99fff609,7,6,1,26343,,,0,"Upgrade undercloud.conf with the right parameters

This patch adds the new parameters required for the OSP15 major
upgrades workflow.  This patch also adds the undercloud_hiera file
if the hieradata_override is not defined in undercloud.conf, if it
is then it will append the needed hiera configuration into the existing
file.
If the docker_insecure_registries option exists in the file, it's
value is merged with new namespace values and set as
container_insecure_registries.  The docker_insecure_registries is
removed after the value is used.

Change-Id: Ib83e508950df729901fffa072402b581be95c746
(cherry picked from commit 3a97b561fa3becea25d0c2385850c1139358228d)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/94/673794/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'tasks/upgrade/configure_uc_containers.yml']",2,5d41b46d0b07cf748082cf314479847e99fff609,adapt-tripleo-upgrade-stable/stein,"- name: check hieradata_override parameter already defined in {{ undercloud_conf }} shell: | awk -F '=' '/^hieradata_override/ {gsub(/[[:space:]]/, """", $2); print $2 }' {{ undercloud_conf }} failed_when: false register: defined_hieradata_override - name: check container_insecure_registries already defined in {{ undercloud_conf }} shell: | awk -F '=' '/^container_insecure_registries/ {gsub(/[[:space:]]/, """", $2); print $2 }' {{ undercloud_conf }} failed_when: false register: defined_container_registry - name: set container_insecure_registries for undercloud upgrade option: container_insecure_registries when: defined_container_registry.stdout_lines|length == 0- name: adjust existing container_insecure_registries for undercloud upgrade regexp: '^(container_insecure_registries\s*=)(.*)' - name: adjust existing container_insecure_registries for undercloud upgrade from docker_insecure_registries vars: reg_list: '{{ defined_container_registry.stdout.split("","")|union([def_namespace])|union([ceph_namespace])|unique|join("","") }}' replace: path: ""{{ undercloud_conf }}"" regexp: '^(container_insecure_registries\s*=)(.*)' replace: '\1 {{ reg_list }}' when: - defined_container_registry.stdout_lines|length != 0 - def_namespace is defined - ceph_namespace is defined - name: remove docker_insecure_registries from undercloud config file if present ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: docker_insecure_registries state: absent - name: set hieradata_override to {{ undercloud_conf }} when not existing block: - name: Create undercloud hiera file lineinfile: state: present create: true path: ""{{ undercloud_hiera }}"" regexp: '^glance_backend' line: ""glance_backend: 'file'"" - name: Configure hieradata_override parameter ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: hieradata_override value: ""{{ undercloud_hiera }}"" when: defined_hieradata_override.stdout_lines|length == 0 - name: modify hieradata_override configuration when defined in {{ undercloud_conf }} lineinfile: state: present path: ""{{ defined_hieradata_override.stdout }}"" regexp: '^glance_backend' line: ""glance_backend: 'file'"" when: defined_hieradata_override.stdout_lines|length != 0", - name: set docker_insecure_registries for undercloud upgrade option: docker_insecure_registries when: defined_insecure_registry.stdout_lines|length == 0- name: adjust existing docker_insecure_registries for undercloud upgrade regexp: '^(docker_insecure_registries\s*=)(.*)',66,5
openstack%2Ftripleo-upgrade~stable%2Fstein~I70d387b381b6ce297507cbfe669ea7be902df605,openstack/tripleo-upgrade,stable/stein,I70d387b381b6ce297507cbfe669ea7be902df605,Migrate from with_X loop.,MERGED,2019-07-31 11:47:52.000000000,2019-08-01 09:40:41.000000000,2019-08-01 09:40:41.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-31 11:47:52.000000000', 'files': ['tasks/common/controller_post_script.yml', 'tasks/common/load_roles_from_inventory.yaml', 'tasks/update/create-overcloud-update-scripts.yaml', 'tasks/upgrade/controller_node_upgrade.yml', 'tasks/common/create_http_test_scripts.yml', 'tasks/update/overcloud_update_run.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/common/controller_post_scripts.yml', 'tasks/upgrade/use_oooq.yaml', 'tasks/upgrade/controller_post_upgrade.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/common/adjust-roles-data.yaml', 'tasks/common/convert_roles_data.yaml', 'tasks/common/convert_nic_templates.yaml', 'tasks/fast-forward-upgrade/convert_roles_data.yaml', 'tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/common/queens_to_rocky_adjust_nic_templates.yaml', 'tasks/upgrade/undercloud_ssl_camap.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/954653a8613f0b97ec661abbeef32922c751e8a6', 'message': 'Migrate from with_X loop.\n\nWith the release of Ansible 2.5, the recommended way to perform\n loops is the use the new loop keyword instead of with_X style loops.\nThis review addresses aforementioned change for common tasks\nwithin tripleo-upgrade role.\n\nChange-Id: I70d387b381b6ce297507cbfe669ea7be902df605\n(cherry picked from commit b25817a233bcb5f836319cce10bb04bbb732c4f7)\n'}]",0,673792,954653a8613f0b97ec661abbeef32922c751e8a6,9,6,1,26343,,,0,"Migrate from with_X loop.

With the release of Ansible 2.5, the recommended way to perform
 loops is the use the new loop keyword instead of with_X style loops.
This review addresses aforementioned change for common tasks
within tripleo-upgrade role.

Change-Id: I70d387b381b6ce297507cbfe669ea7be902df605
(cherry picked from commit b25817a233bcb5f836319cce10bb04bbb732c4f7)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/92/673792/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/controller_post_script.yml', 'tasks/common/load_roles_from_inventory.yaml', 'tasks/update/create-overcloud-update-scripts.yaml', 'tasks/upgrade/controller_node_upgrade.yml', 'tasks/common/create_http_test_scripts.yml', 'tasks/update/overcloud_update_run.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/common/controller_post_scripts.yml', 'tasks/upgrade/use_oooq.yaml', 'tasks/upgrade/controller_post_upgrade.yml', 'tasks/common/convert_ceph_params.yaml', 'tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/common/adjust-roles-data.yaml', 'tasks/common/convert_roles_data.yaml', 'tasks/common/convert_nic_templates.yaml', 'tasks/fast-forward-upgrade/convert_roles_data.yaml', 'tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'tasks/common/queens_to_rocky_adjust_nic_templates.yaml', 'tasks/upgrade/undercloud_ssl_camap.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml', 'tasks/update/create-undercloud-update-scripts.yaml']",24,954653a8613f0b97ec661abbeef32922c751e8a6,refactor_flatten-stable/stein, loop: '{{ pre_undercloud_update_workarounds|default([]) + post_undercloud_update_workarounds|default([]) }}', with_items: - '{{ pre_undercloud_update_workarounds|default([]) }}' - '{{ post_undercloud_update_workarounds|default([]) }}',79,99
openstack%2Ftripleo-heat-templates~stable%2Fstein~I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0,openstack/tripleo-heat-templates,stable/stein,I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0,ceph-base: Disable ceph-ansible firewall tasks,MERGED,2019-07-31 18:38:35.000000000,2019-08-01 09:40:37.000000000,2019-08-01 09:40:37.000000000,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 18:38:35.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/954abc8e9b0920ef5cb7b0c997af3af0409d72b8', 'message': ""ceph-base: Disable ceph-ansible firewall tasks\n\nTripleO already manages firewall rules so we don't need to have both\nenabled in the same time.\nIt's currently not an issue because the firewall rules aren't apply by\nceph-ansible on containerized deployment but it will be enabled soon.\n\nChange-Id: I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0\nCo-Authored-By: Dimitri Savineau <dsavinea@redhat.com>\n""}]",0,673894,954abc8e9b0920ef5cb7b0c997af3af0409d72b8,10,6,1,25402,,,0,"ceph-base: Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Change-Id: I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0
Co-Authored-By: Dimitri Savineau <dsavinea@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/673894/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,954abc8e9b0920ef5cb7b0c997af3af0409d72b8,, configure_firewall: false,,1,0
openstack%2Fmagnum~master~I77d4de731b366e9c92fbf44b6e808a093cc39427,openstack/magnum,master,I77d4de731b366e9c92fbf44b6e808a093cc39427,Remove extra spaces,ABANDONED,2018-07-28 19:37:03.000000000,2019-08-01 09:34:39.000000000,,"[{'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 17499}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26297}, {'_account_id': 28411}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-07-28 19:37:03.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2292933e5559e2a7f09598b925c07f9c020a8e14', 'message': 'Remove extra spaces\n\nChange-Id: I77d4de731b366e9c92fbf44b6e808a093cc39427\n'}]",0,586838,2292933e5559e2a7f09598b925c07f9c020a8e14,11,9,1,28543,,,0,"Remove extra spaces

Change-Id: I77d4de731b366e9c92fbf44b6e808a093cc39427
",git fetch https://review.opendev.org/openstack/magnum refs/changes/38/586838/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2292933e5559e2a7f09598b925c07f9c020a8e14,,* **Release notes:** https://docs.openstack.org/releasenotes/magnum/index.html,* ** Release notes:** https://docs.openstack.org/releasenotes/magnum/index.html,1,1
openstack%2Fnetworking-midonet~master~I702c506ee89e1336eea06a53cf8ca1239606ccbd,openstack/networking-midonet,master,I702c506ee89e1336eea06a53cf8ca1239606ccbd,Add cover job to gate queue,ABANDONED,2019-06-06 10:27:36.000000000,2019-08-01 09:33:12.000000000,,"[{'_account_id': 6547}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:27:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b1e7930a962ee823d016b35e85a92079b112c897', 'message': 'Add cover job to gate queue\n\nAll voting jobs should be on gate queue as well.\n\nChange-Id: I702c506ee89e1336eea06a53cf8ca1239606ccbd\n'}]",0,663589,b1e7930a962ee823d016b35e85a92079b112c897,6,3,1,6854,,,0,"Add cover job to gate queue

All voting jobs should be on gate queue as well.

Change-Id: I702c506ee89e1336eea06a53cf8ca1239606ccbd
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/89/663589/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b1e7930a962ee823d016b35e85a92079b112c897,cover, - openstack-tox-cover: required-projects: - openstack/neutron - openstack/neutron-vpnaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - x/tap-as-a-service,,7,0
openstack%2Freleases~master~I623d359fe133d930d4ba994fbb59f92d09a80a96,openstack/releases,master,I623d359fe133d930d4ba994fbb59f92d09a80a96,Release ironic-inspector 8.2.3 for Stein,MERGED,2019-07-24 07:19:14.000000000,2019-08-01 09:30:38.000000000,2019-08-01 09:30:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 07:19:14.000000000', 'files': ['deliverables/stein/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cc0e7e0a14b33deecdc1a560698a3a4a32a9531c', 'message': 'Release ironic-inspector 8.2.3 for Stein\n\nChange-Id: I623d359fe133d930d4ba994fbb59f92d09a80a96\n'}]",0,672410,cc0e7e0a14b33deecdc1a560698a3a4a32a9531c,8,4,1,10239,,,0,"Release ironic-inspector 8.2.3 for Stein

Change-Id: I623d359fe133d930d4ba994fbb59f92d09a80a96
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/672410/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-inspector.yaml'],1,cc0e7e0a14b33deecdc1a560698a3a4a32a9531c,ironic-inspector-stein, - projects: - hash: ecee3d255f346da22148d15aa1b910e7b7aafd57 repo: openstack/ironic-inspector version: 8.2.3,,4,0
openstack%2Foctavia~master~I776063356177254420f748ffa3c272d160ad60a5,openstack/octavia,master,I776063356177254420f748ffa3c272d160ad60a5,DNM: test centos-minimal++,ABANDONED,2019-07-23 17:11:02.000000000,2019-08-01 09:29:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-23 17:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2fccbaad74a4c35a58e7d9ec52df200aeff232b', 'message': 'DNM: test centos-minimal++\n\nDepends-On: https://review.opendev.org/#/c/672329/\nChange-Id: I776063356177254420f748ffa3c272d160ad60a5\n'}, {'number': 2, 'created': '2019-07-23 17:33:45.000000000', 'files': ['octavia/version.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3f5a56ecffb9d2135596dc26a684115eed86d31', 'message': 'DNM: test centos-minimal++\n\nDepends-On: https://review.opendev.org/#/c/672329/\nChange-Id: I776063356177254420f748ffa3c272d160ad60a5\n'}]",0,672332,d3f5a56ecffb9d2135596dc26a684115eed86d31,5,1,2,6469,,,0,"DNM: test centos-minimal++

Depends-On: https://review.opendev.org/#/c/672329/
Change-Id: I776063356177254420f748ffa3c272d160ad60a5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/32/672332/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a2fccbaad74a4c35a58e7d9ec52df200aeff232b,,,,1,0
openstack%2Freleases~master~Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2,openstack/releases,master,Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2,Release 0.32.0 of openstacksdk,MERGED,2019-07-30 17:16:11.000000000,2019-08-01 09:29:08.000000000,2019-08-01 09:29:07.000000000,"[{'_account_id': 308}, {'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 17:16:11.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/218779fa8f307ecd61c2cfa3d981fe45a96e5be2', 'message': 'Release 0.32.0 of openstacksdk\n\nChange-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2\n'}]",0,673581,218779fa8f307ecd61c2cfa3d981fe45a96e5be2,9,5,1,2,,,0,"Release 0.32.0 of openstacksdk

Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/673581/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,218779fa8f307ecd61c2cfa3d981fe45a96e5be2,, - projects: - hash: f162b71cb84439dfeef27f84afc79d1d34c38a9b repo: openstack/openstacksdk version: 0.32.0,,4,0
openstack%2Fpuppet-tripleo~master~I3deb3e944ed4911962d204357bb3134569f153f6,openstack/puppet-tripleo,master,I3deb3e944ed4911962d204357bb3134569f153f6,Allow to configure Apache MPM module,MERGED,2019-07-17 15:35:05.000000000,2019-08-01 09:25:42.000000000,2019-07-22 18:51:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-17 15:35:05.000000000', 'files': ['releasenotes/notes/apache_mpm_tuning-deafdf6610ce57b2.yaml', 'manifests/profile/base/apache.pp', 'spec/classes/tripleo_profile_base_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6fb9d8e6cd48283b551f3580072669622da2006c', 'message': ""Allow to configure Apache MPM module\n\nDefaults to 'prefork', which ensures there is no upgrade/update impact.\n\nRelated-bug: #1829062\n\nChange-Id: I3deb3e944ed4911962d204357bb3134569f153f6\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",1,671321,6fb9d8e6cd48283b551f3580072669622da2006c,18,6,1,6926,,,0,"Allow to configure Apache MPM module

Defaults to 'prefork', which ensures there is no upgrade/update impact.

Related-bug: #1829062

Change-Id: I3deb3e944ed4911962d204357bb3134569f153f6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/671321/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache_mpm_tuning-deafdf6610ce57b2.yaml', 'manifests/profile/base/apache.pp', 'spec/classes/tripleo_profile_base_apache_spec.rb']",3,6fb9d8e6cd48283b551f3580072669622da2006c,bug/1829062," is_expected.to contain_class('apache::mod::prefork') context 'Change MPM module' do let(:params) {{ :mpm_module => 'event', }} it 'should trigger complete configuration' do is_expected.to contain_class('apache::mod::event') end end",,25,1
openstack%2Fmagnum~master~Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13,openstack/magnum,master,Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13,Update api-ref location,MERGED,2019-07-22 16:30:31.000000000,2019-08-01 09:22:54.000000000,2019-08-01 09:22:54.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:30:31.000000000', 'files': ['magnum/api/http_error.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b43c0a32c049d056db07bd79f8063515925fd9f8', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13\n""}]",0,672089,b43c0a32c049d056db07bd79f8063515925fd9f8,9,7,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13
",git fetch https://review.opendev.org/openstack/magnum refs/changes/89/672089/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/api/http_error.py'],1,b43c0a32c049d056db07bd79f8063515925fd9f8,retire-api-site," links = {'rel': 'help', 'href': 'http://docs.openstack.org'"," links = {'rel': 'help', 'href': 'http://developer.openstack.org'",1,1
openstack%2Fmagnum~master~Ibcee41efca92f07799008abb344f4241bc05563f,openstack/magnum,master,Ibcee41efca92f07799008abb344f4241bc05563f,"Update ""auth_uri"" and ""auth_url"" in install docs",ABANDONED,2019-07-16 11:30:52.000000000,2019-08-01 09:18:18.000000000,,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-07-16 11:30:52.000000000', 'files': ['doc/source/install/common/configure_2_edit_magnum_conf.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/cef02033fd7e1188a44e1e865c6e3241277c1123', 'message': 'Update ""auth_uri"" and ""auth_url"" in install docs\n\nBeginning with the Queens release, the keystone install guide\nrecommends running all interfaces on the same port[1]\n\nIn addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",\naccording to [2] and [3]\n\n[1] https://review.openstack.org/#/c/541857\n[2] https://review.opendev.org/#/c/508522\n[3] https://review.opendev.org/#/c/614082/\n\nChange-Id: Ibcee41efca92f07799008abb344f4241bc05563f\n'}]",0,671012,cef02033fd7e1188a44e1e865c6e3241277c1123,8,6,1,26233,,,0,"Update ""auth_uri"" and ""auth_url"" in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port[1]

In addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",
according to [2] and [3]

[1] https://review.openstack.org/#/c/541857
[2] https://review.opendev.org/#/c/508522
[3] https://review.opendev.org/#/c/614082/

Change-Id: Ibcee41efca92f07799008abb344f4241bc05563f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/671012/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common/configure_2_edit_magnum_conf.rst'],1,cef02033fd7e1188a44e1e865c6e3241277c1123,update_auth_url, www_authenticate_uri = http://controller:5000/v3 auth_url = http://controller:5000, auth_uri = http://controller:5000/v3 auth_url = http://controller:35357,2,2
openstack%2Fnetworking-ovn~master~I1ba5926575564eb5a2c0e01423d920e824c83a9b,openstack/networking-ovn,master,I1ba5926575564eb5a2c0e01423d920e824c83a9b,DNM Replace default ipv6 gw router,ABANDONED,2019-07-30 08:48:47.000000000,2019-08-01 09:17:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-30 08:48:47.000000000', 'files': ['devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fd65c15269e02dd1e3e244b7e33a885ac94e4f32', 'message': 'DNM Replace default ipv6 gw router\n\nTesting only.\n\nChange-Id: I1ba5926575564eb5a2c0e01423d920e824c83a9b\n'}]",0,673454,fd65c15269e02dd1e3e244b7e33a885ac94e4f32,4,2,1,24791,,,0,"DNM Replace default ipv6 gw router

Testing only.

Change-Id: I1ba5926575564eb5a2c0e01423d920e824c83a9b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/54/673454/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/networking-ovn'],1,fd65c15269e02dd1e3e244b7e33a885ac94e4f32,, sudo ip -6 route replace $FIXED_RANGE_V6 via $IPV6_PUBLIC_NETWORK_GATEWAY dev $ext_gw_ifc, # NOTE(numans): Commenting the below code for now as this is breaking # the CI after xenial upgrade. # https://bugs.launchpad.net/networking-ovn/+bug/1648670 # sudo ip -6 route replace $FIXED_RANGE_V6 via $IPV6_PUBLIC_NETWORK_GATEWAY dev $ext_gw_ifc,1,4
openstack%2Fkolla-ansible~stable%2Fstein~I0a2484d878d5c86977fb232a57c52f874ca7a34c,openstack/kolla-ansible,stable/stein,I0a2484d878d5c86977fb232a57c52f874ca7a34c,Don't drop unmatched Kolla service logs,MERGED,2019-07-16 15:06:08.000000000,2019-08-01 09:12:25.000000000,2019-08-01 09:12:25.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 15:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/003ca68b158eb5627d13ae22b1076290caf3721c', 'message': ""Don't drop unmatched Kolla service logs\n\nKolla service logs which don't match a Fluentd rewriterule get dropped.\nThis change prevents that by tagging them with 'unmatched'.\n\nChange-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c\n(cherry picked from commit cfeb9dd9ef1d891904c9112c35b2189d5032815c)\n""}, {'number': 2, 'created': '2019-07-16 15:16:27.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32fbd49ad6ae7c52581dee0a34b7a64618767f34', 'message': ""Don't drop unmatched Kolla service logs\n\nKolla service logs which don't match a Fluentd rewriterule get dropped.\nThis change prevents that by tagging them with 'unmatched'.\n\nChange-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c\n(cherry picked from commit cfeb9dd9ef1d891904c9112c35b2189d5032815c)\n""}]",0,671076,32fbd49ad6ae7c52581dee0a34b7a64618767f34,14,6,2,28048,,,0,"Don't drop unmatched Kolla service logs

Kolla service logs which don't match a Fluentd rewriterule get dropped.
This change prevents that by tagging them with 'unmatched'.

Change-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c
(cherry picked from commit cfeb9dd9ef1d891904c9112c35b2189d5032815c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/671076/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2']",2,003ca68b158eb5627d13ae22b1076290caf3721c,cp2, rewriterule35 programname .+ unmatched,,6,0
openstack%2Fmanila~master~I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e,openstack/manila,master,I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e,Add manila-ui config instructions,MERGED,2019-07-19 07:09:46.000000000,2019-08-01 09:01:58.000000000,2019-07-31 16:53:28.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-19 07:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bba07ee92995bf2c2ec9aef84c2c67386ae51c0b', 'message': ""Add manila-ui config to devstack\n\nWhen deploy the manila, and deploy the manila-ui is necessary,\nOtherwise we can't use the dashboard properly.\n\nChange-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e\n""}, {'number': 2, 'created': '2019-07-23 09:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2d7d7fa65cda1249d5adfb47b1378648e09d9097', 'message': ""Add manila-ui config to devstack\n\nWhen deploy the manila, and deploy the manila-ui is necessary,\nOtherwise we can't use the dashboard properly.\n\nChange-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e\n""}, {'number': 3, 'created': '2019-07-25 01:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9958cec4ecd46a0efa57a0c4740071737baf0130', 'message': ""Add manila-ui config to devstack\n\nWhen deploy the manila, and deploy the manila-ui is necessary,\nOtherwise we can't use the dashboard properly.\n\nChange-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e\n""}, {'number': 4, 'created': '2019-07-28 09:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1d61c39eb1230834dad2690150e63032d35776bf', 'message': ""Add manila-ui config to manila/devstack docs\n\nWhen deploy the manila, and deploy the manila-ui is necessary,\nOtherwise we can't use the dashboard properly. \nTherefore, when deploying the DevStack manila service, it is necessary\nto add a manila UI prompt.\n\nChange-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e\n""}, {'number': 5, 'created': '2019-07-30 01:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9eb2c397080fbc3c6c079bff5cb0f161dbff31b7', 'message': ""Add manila-ui config instructions\n\nIn Devstack, even though horizon and manila plugins are enabled, if the\nmanila ui plugin is not explicitly enabled it won't show up.\n\nThis change adds config instructions in the readme and in the manila\ncontributor docs to enable Manila UI when deploying with Devstack.\n\nChange-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e\n""}, {'number': 6, 'created': '2019-07-31 10:47:07.000000000', 'files': ['doc/source/contributor/development-environment-devstack.rst', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/25506de0e477afc3bd499847530f76bb3f9e7635', 'message': ""Add manila-ui config instructions\n\nIn Devstack, even though horizon and manila plugins are enabled, if the\nmanila ui plugin is not explicitly enabled it won't show up.\n\nThis change adds config instructions in the readme and in the manila\ncontributor docs to enable Manila UI when deploying with Devstack.\n\nChange-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e\n""}]",20,671663,25506de0e477afc3bd499847530f76bb3f9e7635,73,13,6,26458,,,0,"Add manila-ui config instructions

In Devstack, even though horizon and manila plugins are enabled, if the
manila ui plugin is not explicitly enabled it won't show up.

This change adds config instructions in the readme and in the manila
contributor docs to enable Manila UI when deploying with Devstack.

Change-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/671663/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/README.rst', 'devstack/settings']",2,bba07ee92995bf2c2ec9aef84c2c67386ae51c0b,,enable_service manila-ui,,5,0
openstack%2Fnetworking-ovn~master~If6b150f2e817296b7ee94d30736247aae4727615,openstack/networking-ovn,master,If6b150f2e817296b7ee94d30736247aae4727615,DO NOT REVIEW: Ignore unnecessary Neutron Workers,ABANDONED,2019-06-14 15:22:23.000000000,2019-08-01 08:57:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-14 15:22:23.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/221638431dd0763929c1885b0952474f3c346601', 'message': 'DO NOT REVIEW: Ignore unnecessary Neutron Workers\n\nChange-Id: If6b150f2e817296b7ee94d30736247aae4727615\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,665417,221638431dd0763929c1885b0952474f3c346601,3,1,1,6773,,,0,"DO NOT REVIEW: Ignore unnecessary Neutron Workers

Change-Id: If6b150f2e817296b7ee94d30736247aae4727615
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/17/665417/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,221638431dd0763929c1885b0952474f3c346601,limit-idls,"from neutron import wsgi as n_wsgi if utils.get_method_class(trigger) not in (worker.MaintenanceWorker, n_wsgi.WorkerService): return",,4,0
openstack%2Fironic-inspector~master~I634e75ab04253edffb6f19394d3943e9ffe56d13,openstack/ironic-inspector,master,I634e75ab04253edffb6f19394d3943e9ffe56d13,CI: clean up the required projects list for grenade,MERGED,2019-07-30 08:22:07.000000000,2019-08-01 08:56:20.000000000,2019-08-01 08:54:09.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 08:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a561292092f932b0f0992b29075ea95e0dbe38fb', 'message': ""CI: clean up the required projects list for grenade\n\nWe don't need to install libraries from git in this job.\nironic-python-agent is also not needed since we download the ramdisk.\n\nChange-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13\n""}, {'number': 2, 'created': '2019-07-30 09:27:13.000000000', 'files': ['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml', 'zuul.d/legacy-ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/da69fca0f8c32880604be14100598a1e1da4c7f2', 'message': ""CI: clean up the required projects list for grenade\n\nWe don't need to install libraries from git in this job.\nironic-python-agent is also not needed since we download the ramdisk.\n\nChange-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13\n""}]",2,673439,da69fca0f8c32880604be14100598a1e1da4c7f2,16,7,2,10239,,,0,"CI: clean up the required projects list for grenade

We don't need to install libraries from git in this job.
ironic-python-agent is also not needed since we download the ramdisk.

Change-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/39/673439/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml', 'zuul.d/legacy-ironic-inspector-jobs.yaml']",2,a561292092f932b0f0992b29075ea95e0dbe38fb,gate,, - openstack/ironic-lib - openstack/ironic-python-agent - x/pyghmi - openstack/python-ironic-inspector-client - openstack/python-ironicclient,0,9
openstack%2Fsushy~master~Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba,openstack/sushy,master,Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba,Retry Virtual Media eject action on HTTP 400 response,MERGED,2019-07-17 14:17:59.000000000,2019-08-01 08:46:25.000000000,2019-08-01 08:46:25.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-07-17 14:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f7cef67b7a4cb166e3f5f8aed6ae2c369689c325', 'message': 'Retry Virtual Media eject action on HTTP 400 response\n\nWhen attempting to eject virtual media and HTTP server responds\nwith HTTP error 400, retry the same HTTP query with empty\nJSON document.\n\nThis change simply extends HTTP error code list when this\nretry should happen to account for Dell server(s) - unlike\nHPE ones (which return error 415), Dell returns 400.\n\nSee also: https://review.opendev.org/#/c/636845/\n\nChange-Id: Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba\nStory: 2004995\nTask: 35845\n'}, {'number': 2, 'created': '2019-07-22 07:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/680d4e44830718883ac2579806a559b26425fb26', 'message': 'Retry Virtual Media eject action on HTTP 400 response\n\nWhen attempting to eject virtual media and HTTP server responds\nwith HTTP error 400, retry the same HTTP query with empty\nJSON document.\n\nThis change simply extends HTTP error code list when this\nretry should happen to account for Dell server(s) - unlike\nHPE ones (which return error 415), Dell returns 400.\n\nSee also: https://review.opendev.org/#/c/636845/\n\nChange-Id: Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba\nStory: 2004995\nTask: 35845\n'}, {'number': 3, 'created': '2019-07-31 13:07:36.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/219d93aecd534b7a75dba49507523127dbde45b6', 'message': 'Retry Virtual Media eject action on HTTP 400 response\n\nWhen attempting to eject virtual media and HTTP server responds\nwith HTTP error 400, retry the same HTTP query with empty\nJSON document.\n\nThis change simply extends HTTP error code list when this\nretry should happen to account for Dell server(s) - unlike\nHPE ones (which return error 415), Dell returns 400.\n\nSee also: https://review.opendev.org/#/c/636845/\n\nChange-Id: Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba\nStory: 2004995\nTask: 35845\n'}]",0,671306,219d93aecd534b7a75dba49507523127dbde45b6,17,5,3,26340,,,0,"Retry Virtual Media eject action on HTTP 400 response

When attempting to eject virtual media and HTTP server responds
with HTTP error 400, retry the same HTTP query with empty
JSON document.

This change simply extends HTTP error code list when this
retry should happen to account for Dell server(s) - unlike
HPE ones (which return error 415), Dell returns 400.

See also: https://review.opendev.org/#/c/636845/

Change-Id: Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba
Story: 2004995
Task: 35845
",git fetch https://review.opendev.org/openstack/sushy refs/changes/06/671306/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",2,f7cef67b7a4cb166e3f5f8aed6ae2c369689c325,03-add-vmedia-eject-param," def test_eject_media_pass_empty_dict_415(self): def test_eject_media_pass_empty_dict_400(self): target_uri = (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1/Actions"" ""/VirtualMedia.EjectMedia"") self.conn.post.side_effect = [exceptions.HTTPError( method='POST', url=target_uri, response=mock.MagicMock( status_code=http_client.BAD_REQUEST)), '200'] self.sys_virtual_media.eject_media() post_calls = [ mock.call(target_uri), mock.call(target_uri, data={})] self.sys_virtual_media._conn.post.assert_has_calls(post_calls) self.assertTrue(self.sys_virtual_media._is_stale)", def test_eject_media_pass_empty_dict(self):,17,2
openstack%2Foctavia-tempest-plugin~master~I6e7ff85f4c05efe73c839350463c853877559ca4,openstack/octavia-tempest-plugin,master,I6e7ff85f4c05efe73c839350463c853877559ca4,DNM: Create two listeners in scenario test,ABANDONED,2019-06-27 12:04:03.000000000,2019-08-01 08:35:07.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 12:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9660e5f37c233930b4c75c4beed18c4c188e13a3', 'message': 'DNM: Create two listeners in scenario test\n\nThis is expected to fail on amphorae with HAProxy >1.6\n\nChange-Id: I6e7ff85f4c05efe73c839350463c853877559ca4\n'}, {'number': 2, 'created': '2019-06-27 17:07:47.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b86ba60672e846ff57d9650368183ad18a1cec61', 'message': 'DNM: Create two listeners in scenario test\n\nThis is expected to fail on amphorae with HAProxy >1.6\n\nChange-Id: I6e7ff85f4c05efe73c839350463c853877559ca4\n'}]",2,667908,b86ba60672e846ff57d9650368183ad18a1cec61,9,3,2,6469,,,0,"DNM: Create two listeners in scenario test

This is expected to fail on amphorae with HAProxy >1.6

Change-Id: I6e7ff85f4c05efe73c839350463c853877559ca4
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/08/667908/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_listener.py'],1,9660e5f37c233930b4c75c4beed18c4c188e13a3,," listener2_name = data_utils.rand_name(""lb_member_listener2-CRUD"") listener2_kwargs = { const.NAME: listener2_name, const.PROTOCOL: self.protocol, const.PROTOCOL_PORT: 81, const.LOADBALANCER_ID: self.lb_id, } listener2 = self.mem_listener_client.create_listener( **listener2_kwargs) self.addCleanup( self.mem_listener_client.cleanup_listener, listener2[const.ID], lb_client=self.mem_lb_client, lb_id=self.lb_id) ",,14,0
openstack%2Fkolla-ansible~master~Ibefa20ed6d812e6774e962d991deda417e0c1ac5,openstack/kolla-ansible,master,Ibefa20ed6d812e6774e962d991deda417e0c1ac5,Configure ganesha policy when ceph-nfs enabled,ABANDONED,2019-07-19 08:56:47.000000000,2019-08-01 08:28:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-19 08:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0b9bc3d0dde8e918aba94eb61f77886328ce4b0', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}, {'number': 2, 'created': '2019-07-19 11:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/888b9d4aabab39ac0cefda1f2ac15437f8a074ed', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}, {'number': 3, 'created': '2019-07-22 09:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3411dd21332ab8f72b988c01e404071aea7f3d4', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}, {'number': 4, 'created': '2019-07-23 10:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f86926a28ba1a16ae6927d6bd59d5e08b27ca8f3', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}, {'number': 5, 'created': '2019-07-24 07:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f978a59166da74bc5a46e03f3c3eef5b02f528d', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}, {'number': 6, 'created': '2019-07-25 10:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40428dbff3162837ac90f0ebb1e3d53f16ca82ae', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}, {'number': 7, 'created': '2019-07-26 15:20:25.000000000', 'files': ['ansible/roles/baremetal/handlers/main.yml', 'ansible/roles/baremetal/templates/dbus_org_ganesha_nfsd_conf.j2', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'doc/source/user/operating-kolla.rst', 'ansible/roles/baremetal/tasks/post-install.yml', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7893a93feccc30538c38cdcac82deb29c9f504c2', 'message': ""Configure ganesha policy when ceph-nfs enabled\n\nceph-nfs uses nfs-ganesha, when using dbus integration\nganesha needs to have it's dbus policy configured correctly.\n\nChange-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5\n""}]",2,671684,7893a93feccc30538c38cdcac82deb29c9f504c2,30,3,7,22629,,,0,"Configure ganesha policy when ceph-nfs enabled

ceph-nfs uses nfs-ganesha, when using dbus integration
ganesha needs to have it's dbus policy configured correctly.

Change-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/671684/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/templates/dbus_org_ganesha_nfsd_conf.j2', 'ansible/roles/baremetal/tasks/post-install.yml']",2,f0b9bc3d0dde8e918aba94eb61f77886328ce4b0,bug/ceph_nfs_dbus,- name: Configure dbus ganesha policy become: True template: src: something.j2 dest: /etc/dbus/system.d/org.ganesha.nfsd.conf register: dbus_ganesha_configured when: enable_ceph_nfs | bool - name: Reload dbus service become: True systemd: name: dbus state: reloaded when: enable_ceph_nfs | bool ,,36,0
openstack%2Fmagnum~master~I70b165a8170dc52b9e763d828b2f6d4ee6ced41d,openstack/magnum,master,I70b165a8170dc52b9e763d828b2f6d4ee6ced41d,Update keystone_authtoken config reference,MERGED,2019-06-12 22:21:03.000000000,2019-08-01 08:25:20.000000000,2019-08-01 08:25:19.000000000,"[{'_account_id': 6484}, {'_account_id': 7822}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-06-12 22:21:03.000000000', 'files': ['doc/source/admin/troubleshooting-guide.rst', 'doc/source/install/common/configure_2_edit_magnum_conf.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/720f56944493855b1131923cd0a44648a4292a83', 'message': ""Update keystone_authtoken config reference\n\nThe auth_uri parameter of keystonemiddleware was renamed to\n'www_authenticate_uri'[1], so update the documentation accordingly.\n\n[1] https://review.opendev.org/508522\n\nChange-Id: I70b165a8170dc52b9e763d828b2f6d4ee6ced41d\n""}]",0,665025,720f56944493855b1131923cd0a44648a4292a83,10,6,1,8482,,,0,"Update keystone_authtoken config reference

The auth_uri parameter of keystonemiddleware was renamed to
'www_authenticate_uri'[1], so update the documentation accordingly.

[1] https://review.opendev.org/508522

Change-Id: I70b165a8170dc52b9e763d828b2f6d4ee6ced41d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/25/665025/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/troubleshooting-guide.rst', 'doc/source/install/common/configure_2_edit_magnum_conf.rst']",2,720f56944493855b1131923cd0a44648a4292a83,fix-auth-uri, www_authenticate_uri = http://controller:5000/v3, auth_uri = http://controller:5000/v3,4,4
openstack%2Fopenstack-helm~master~I6cc80c81b2742edad57359e7ba90c71dd8fa561f,openstack/openstack-helm,master,I6cc80c81b2742edad57359e7ba90c71dd8fa561f,Support bond port with auto_bridge_add,ABANDONED,2019-08-01 06:51:10.000000000,2019-08-01 07:50:49.000000000,,[],"[{'number': 1, 'created': '2019-08-01 06:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09f3262dbb69bf6c3458cae79d605943f04fc277', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port\n\nChange-Id: I6cc80c81b2742edad57359e7ba90c71dd8fa561f\n'}, {'number': 2, 'created': '2019-08-01 07:08:34.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6c2438af36617661c072655710515a6a1d3dc8e', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port\n\nChange-Id: I6cc80c81b2742edad57359e7ba90c71dd8fa561f\n'}]",0,673946,b6c2438af36617661c072655710515a6a1d3dc8e,3,0,2,30752,,,0,"Support bond port with auto_bridge_add

In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port

Change-Id: I6cc80c81b2742edad57359e7ba90c71dd8fa561f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/673946/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml']",2,09f3262dbb69bf6c3458cae79d605943f04fc277,, # type: bond/ethernet # port_name: (be different to bridge name) # br-ex1: null (or the interference to be bind to the bridge), # type: bond # br-ex1: null,21,22
openstack%2Fcinder~master~Ic2463338b698c5cf805c0ae06d0229f54f64b3fc,openstack/cinder,master,Ic2463338b698c5cf805c0ae06d0229f54f64b3fc,Prevent double-attachment race in attachment_reserve,MERGED,2019-07-17 22:33:39.000000000,2019-08-01 07:45:49.000000000,2019-07-31 18:10:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30127}]","[{'number': 1, 'created': '2019-07-17 22:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/126918c5f08ce29864c83485297fd3054cef5858', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nTODO: write some unit tests\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 2, 'created': '2019-07-22 19:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70b3988c9bef5113cc542be55d19567ed2fc333c', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 3, 'created': '2019-07-24 15:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79186b23b1bb1aa63399efad87ed5b1d801f2a10', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 4, 'created': '2019-07-26 17:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c68fe664a35099d8c20c767f4b4af012d208e17', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 5, 'created': '2019-07-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d62b7f7c7da5a1a5a32a984ae85d3a7f5a548665', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 6, 'created': '2019-07-29 15:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87524240cf396cacc0215d13d861aedeac0bfe1f', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 7, 'created': '2019-07-29 16:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2835f0298d7c75667465fe08863db494bca39aab', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}, {'number': 8, 'created': '2019-07-29 16:59:13.000000000', 'files': ['cinder/tests/unit/attachments/test_attachments_api.py', 'cinder/cmd/api.py', 'cinder/wsgi/wsgi.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f3a77b66f9aa1b185310c8cbe33b358da6cc39a', 'message': 'Prevent double-attachment race in attachment_reserve\n\nIf multiple attachments are requested simultaneously,\na volume can be attached to an instance more than once.\n\nThis fixes this problem by detecting that a race has\noccurred in _attachment_reserve, and backing out one of\nthe invalid attachment records.\n\nThis means that if the attachment API is called\nrepeatedly and quickly for the same volume, some requests\nmay fail, but this is much better than incorrectly\ncreating multiple attachments.\n\nCloses-Bug: #1833736\n\nChange-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc\n'}]",28,671370,7f3a77b66f9aa1b185310c8cbe33b358da6cc39a,161,37,8,4523,,,0,"Prevent double-attachment race in attachment_reserve

If multiple attachments are requested simultaneously,
a volume can be attached to an instance more than once.

This fixes this problem by detecting that a race has
occurred in _attachment_reserve, and backing out one of
the invalid attachment records.

This means that if the attachment API is called
repeatedly and quickly for the same volume, some requests
may fail, but this is much better than incorrectly
creating multiple attachments.

Closes-Bug: #1833736

Change-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/671370/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/api.py', 'cinder/wsgi/wsgi.py', 'cinder/volume/api.py']",3,126918c5f08ce29864c83485297fd3054cef5858,bug/1833736,"from cinder import coordination @coordination.synchronized('{f_name}-{attachment_ref.volume_id}') # This method has a synchronized() lock on the volume id # because we have to prevent race conditions around checking # for duplicate attachment requests to the same host. LOG.debug(""EMH in attachment_update"") LOG.debug(""attachment_ref id: %s"", attachment_ref.id) LOG.debug(""connector: %s"", connector) if (len(volume_ref.volume_attachment) > 1 and not (volume_ref.multiattach or self._is_multiattach(volume_ref.volume_type))): connection_hosts = set([a.connector['host'] for a in volume_ref.volume_attachment if a.connector]) # Check whether all connection hosts are unique # Multiple attachments to different hosts is permitted to # support Nova instance migration. if len(connection_hosts) < len(volume_ref.volume_attachment): # We raced, and all connection hosts are not unique # Remove one that doesn't have connection_info yet, and fail for a in volume_ref.volume_attachment: if not a.connection_info: LOG.debug(""removing attachment: %s"", a) a.destroy() msg = _('duplicate connectors detected on volume %(vol)s') % {'vol': volume_ref.id} raise exception.InvalidVolume(reason=msg) volume_ref.refresh() # Reload volume attachment list ",,42,0
openstack%2Fneutron~master~Ia65ecaf7b48926b74505226a5922b85e2cb593a6,openstack/neutron,master,Ia65ecaf7b48926b74505226a5922b85e2cb593a6,Initialize modifiable list of resources in CacheBackedPluginApi.,MERGED,2019-07-23 10:45:33.000000000,2019-08-01 07:45:26.000000000,2019-08-01 05:50:49.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11600}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-23 10:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/773315ad502608a141dfe5229669e2cbdbab9d36', 'message': 'Initialize modifiable list of resources in CacheBackedPluginApi.\n\nCurrently, if one wanted to add any other resources (including custom\nobjects), there is no simply way to achieve that, since list of defined\nresource types are hardcoded in create_cache_for_l2_agent function,\nwhich is called in __init__ of the CacheBackedPluginApi. Even if we\nderive from it, we must call super() on descendant, otherwise we end up\nwith uninitialized PluginApi part. But if we do the super() on it, we\nend up on having hardcoded resources only, and creating a new remote\nresource cache object will make a new set of listeners, while the\nlisteners for the old object still exists, and may cause memory leaks.\nRemoteResourceWatcher class have only initializers for those listeners,\nand there is no obvious way to stop/clean them.\n\nIn this patch we propose to move create_cache_for_l2_agent function to\nCacheBackedPluginApi class, and make resource list to be class\nattribute, so that it can be easily modified.\n\nChange-Id: Ia65ecaf7b48926b74505226a5922b85e2cb593a6\nCloses-Bug: 1837529\n'}, {'number': 2, 'created': '2019-07-23 11:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43b341c09a86f4197663ba7e6064ef39bee205f1', 'message': 'Initialize modifiable list of resources in CacheBackedPluginApi.\n\nCurrently, if one wanted to add any other resources (including custom\nobjects), there is no simply way to achieve that, since list of defined\nresource types are hardcoded in create_cache_for_l2_agent function,\nwhich is called in __init__ of the CacheBackedPluginApi. Even if we\nderive from it, we must call super() on descendant, otherwise we end up\nwith uninitialized PluginApi part. But if we do the super() on it, we\nend up on having hardcoded resources only, and creating a new remote\nresource cache object will make a new set of listeners, while the\nlisteners for the old object still exists, and may cause memory leaks.\nRemoteResourceWatcher class have only initializers for those listeners,\nand there is no obvious way to stop/clean them.\n\nIn this patch we propose to move create_cache_for_l2_agent function to\nCacheBackedPluginApi class, and make resource list to be class\nattribute, so that it can be easily modified.\n\nChange-Id: Ia65ecaf7b48926b74505226a5922b85e2cb593a6\nCloses-Bug: 1837529\n'}, {'number': 3, 'created': '2019-07-26 11:51:53.000000000', 'files': ['neutron/tests/unit/agent/test_rpc.py', 'neutron/agent/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2db02023eec96d825749490d40c750a37b97daec', 'message': 'Initialize modifiable list of resources in CacheBackedPluginApi.\n\nCurrently, if one wanted to add any other resources (including custom\nobjects), there is no simple way to achieve that, since list of defined\nresource types is hardcoded in create_cache_for_l2_agent function,\nwhich is called in __init__ of the CacheBackedPluginApi. Even if we\nderive from it, we must call super() on descendant, otherwise we end up\nwith uninitialized PluginApi part. But if we do the super() on it, we\nend up on having hardcoded resources only, and creating a new remote\nresource cache object will make a new set of listeners, while the\nlisteners for the old object still exist, and may cause memory leaks.\nRemoteResourceWatcher class have only initializers for those listeners,\nand there is no obvious way to stop/clean them.\n\nIn this patch we propose to move create_cache_for_l2_agent function to\nCacheBackedPluginApi class, and make resource list to be class\nattribute, so that it can be easily modified.\n\nChange-Id: Ia65ecaf7b48926b74505226a5922b85e2cb593a6\nCloses-Bug: 1837529\n'}]",7,672261,2db02023eec96d825749490d40c750a37b97daec,22,9,3,13692,,,0,"Initialize modifiable list of resources in CacheBackedPluginApi.

Currently, if one wanted to add any other resources (including custom
objects), there is no simple way to achieve that, since list of defined
resource types is hardcoded in create_cache_for_l2_agent function,
which is called in __init__ of the CacheBackedPluginApi. Even if we
derive from it, we must call super() on descendant, otherwise we end up
with uninitialized PluginApi part. But if we do the super() on it, we
end up on having hardcoded resources only, and creating a new remote
resource cache object will make a new set of listeners, while the
listeners for the old object still exist, and may cause memory leaks.
RemoteResourceWatcher class have only initializers for those listeners,
and there is no obvious way to stop/clean them.

In this patch we propose to move create_cache_for_l2_agent function to
CacheBackedPluginApi class, and make resource list to be class
attribute, so that it can be easily modified.

Change-Id: Ia65ecaf7b48926b74505226a5922b85e2cb593a6
Closes-Bug: 1837529
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/672261/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/test_rpc.py', 'neutron/agent/rpc.py']",2,773315ad502608a141dfe5229669e2cbdbab9d36,bug/1837529," RESOURCE_TYPES = [resources.PORT, resources.SECURITYGROUP, resources.SECURITYGROUPRULE, resources.NETWORK, resources.SUBNET] self.remote_resource_cache = None self._create_cache_for_l2_agent() def _create_cache_for_l2_agent(self): """"""Create a push-notifications cache for L2 agent related resources."""""" objects.register_objects() rcache = resource_cache.RemoteResourceCache(self.RESOURCE_TYPES) rcache.start_watcher() self.remote_resource_cache = rcache","def create_cache_for_l2_agent(): """"""Create a push-notifications cache for L2 agent related resources."""""" objects.register_objects() resource_types = [ resources.PORT, resources.SECURITYGROUP, resources.SECURITYGROUPRULE, resources.NETWORK, resources.SUBNET ] rcache = resource_cache.RemoteResourceCache(resource_types) rcache.start_watcher() return rcache self.remote_resource_cache = create_cache_for_l2_agent()",42,17
openstack%2Ftripleo-docs~master~If42152e768b590f14716e38f65d8f9ce2a94c46f,openstack/tripleo-docs,master,If42152e768b590f14716e38f65d8f9ce2a94c46f,Correcting typo in achieve spelling,MERGED,2019-07-31 03:08:13.000000000,2019-08-01 07:17:12.000000000,2019-08-01 07:17:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 03:08:13.000000000', 'files': ['doc/source/install/advanced_deployment/baremetal_overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/130aa09fdba2e8dd99ef192e70fd6bf3146bbd65', 'message': 'Correcting typo in achieve spelling\n\nThere is a typographical errors in baremetal_overcloud.rst. Correcting\nspelling from acheive to achieve.\n\nChange-Id: If42152e768b590f14716e38f65d8f9ce2a94c46f\n'}]",0,673719,130aa09fdba2e8dd99ef192e70fd6bf3146bbd65,6,2,1,29775,,,0,"Correcting typo in achieve spelling

There is a typographical errors in baremetal_overcloud.rst. Correcting
spelling from acheive to achieve.

Change-Id: If42152e768b590f14716e38f65d8f9ce2a94c46f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/19/673719/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/baremetal_overcloud.rst'],1,130aa09fdba2e8dd99ef192e70fd6bf3146bbd65,fix-acheive-spell," API), one way to achieve this would be to set up a network representing the"," API), one way to acheive this would be to set up a network representing the",1,1
openstack%2Fopenstack-helm~master~I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51,openstack/openstack-helm,master,I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51,"In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add. For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA. For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port",ABANDONED,2019-07-27 11:48:12.000000000,2019-08-01 07:16:04.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 29668}]","[{'number': 1, 'created': '2019-07-27 11:48:12.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84528f5efea549592857d83ac89b881c02ac35d4', 'message': 'In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port\n\nChange-Id: I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51\n'}]",4,673135,84528f5efea549592857d83ac89b881c02ac35d4,6,3,1,30752,,,0,"In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port

Change-Id: I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/673135/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml']",2,84528f5efea549592857d83ac89b881c02ac35d4,, # br-ex: # br_name: br-ex # type: bond # bond_mode: (active-backup/balance-slb/balance-tcp) # slaves: # - eth1 # - eth2 # br-ex1: null, # br-physnet1: eth3 # br0: if0 # br1: iface_two,44,10
openstack%2Fdevstack~master~Ie66f721757c05c671448ca350a5b137768599f68,openstack/devstack,master,Ie66f721757c05c671448ca350a5b137768599f68,[dnm] testing shortcutting some osc calls for gate,NEW,2019-08-01 01:47:15.000000000,2019-08-01 06:57:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-01 01:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/16749436bddc9638062cfb29e89973d82f93eee9', 'message': '[dnm] testing shortcutting some osc calls for gate\n\nChange-Id: Ie66f721757c05c671448ca350a5b137768599f68\n'}, {'number': 2, 'created': '2019-08-01 04:06:24.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5e25def5ed6dd67a740c1fc340a7087b7bbc8e8', 'message': '[dnm] testing shortcutting some osc calls for gate\n\nChange-Id: Ie66f721757c05c671448ca350a5b137768599f68\n'}]",0,673936,e5e25def5ed6dd67a740c1fc340a7087b7bbc8e8,4,1,2,7118,,,0,"[dnm] testing shortcutting some osc calls for gate

Change-Id: Ie66f721757c05c671448ca350a5b137768599f68
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/673936/2 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,16749436bddc9638062cfb29e89973d82f93eee9,only-create, # Adds role to user and get it openstack role add $1 \ --user $2 \ --project $3 \ $domain_args --role $1 \ --user $2 \ --project $3 \ $domain_args \ | grep '^|\s[a-f0-9]\+' | get_field 1) # Adds role to user and get it openstack role add $1 \ --user $2 \ --domain $3 --role $1 \ --user $2 \ --domain $3 \ | grep '^|\s[a-f0-9]\+' | get_field 1) # Adds role to group and get it openstack role add $1 \ --group $2 \ --project $3 --role $1 \ --group $2 \ --project $3 \ -f value) # Creates new endpoint endpoint_id=$(openstack endpoint create \ $1 $2 $3 --region $4 -f value -c id)," # Gets domain id openstack domain show $1 \ -f value -c id 2>/dev/null || # Gets user role id --role $1 \ --user $2 \ --project $3 \ $domain_args \ | grep '^|\s[a-f0-9]\+' | get_field 1) if [[ -z ""$user_role_id"" ]]; then # Adds role to user and get it openstack role add $1 \ --user $2 \ --project $3 \ $domain_args user_role_id=$(openstack role assignment list \ --role $1 \ --user $2 \ --project $3 \ $domain_args \ | grep '^|\s[a-f0-9]\+' | get_field 1) fi # Gets user role id --role $1 \ --user $2 \ --domain $3 \ | grep '^|\s[a-f0-9]\+' | get_field 1) if [[ -z ""$user_role_id"" ]]; then # Adds role to user and get it openstack role add $1 \ --user $2 \ --domain $3 user_role_id=$(openstack role assignment list \ --role $1 \ --user $2 \ --domain $3 \ | grep '^|\s[a-f0-9]\+' | get_field 1) fi # Gets group role id --role $1 \ --group $2 \ --project $3 \ -f value) if [[ -z ""$group_role_id"" ]]; then # Adds role to group and get it openstack role add $1 \ --group $2 \ --project $3 group_role_id=$(openstack role assignment list \ --role $1 \ --group $2 \ --project $3 \ -f value) fi # Gets service id openstack service show $2 -f value -c id 2>/dev/null || endpoint_id=$(openstack endpoint list \ --service $1 \ --interface $2 \ --region $4 \ -c ID -f value) if [[ -z ""$endpoint_id"" ]]; then # Creates new endpoint endpoint_id=$(openstack endpoint create \ $1 $2 $3 --region $4 -f value -c id) fi ",29,67
openstack%2Ftripleo-ansible~master~I3e56810e8dca7611e7b336df4cb73e62bf161dc8,openstack/tripleo-ansible,master,I3e56810e8dca7611e7b336df4cb73e62bf161dc8,Disable ceph-ansible firewall tasks,MERGED,2019-07-30 10:37:32.000000000,2019-08-01 06:17:32.000000000,2019-07-30 16:25:07.000000000,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 10:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5de1737771368eab01bf72610e6229702104e840', 'message': ""ceph-base: Disable ceph-ansible firewall tasks\n\nTripleO already manages firewall rules so we don't need to have both\nenabled in the same time.\nIt's currently not an issue because the firewall rules aren't apply by\nceph-ansible on containerized deployment but it will be enabled soon.\n\nChange-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8\n""}, {'number': 2, 'created': '2019-07-30 10:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ca2aef55a2f8b6d1f9624759b1265112a512748', 'message': ""Disable ceph-ansible firewall tasks\n\nTripleO already manages firewall rules so we don't need to have both\nenabled in the same time.\nIt's currently not an issue because the firewall rules aren't apply by\nceph-ansible on containerized deployment but it will be enabled soon.\n\nChange-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8\n""}, {'number': 3, 'created': '2019-07-30 10:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c171e988c6a01d386f31dbb7a17a1fc3bce2743', 'message': ""Disable ceph-ansible firewall tasks\n\nTripleO already manages firewall rules so we don't need to have both\nenabled in the same time.\nIt's currently not an issue because the firewall rules aren't apply by\nceph-ansible on containerized deployment but it will be enabled soon.\n\nChange-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8\n""}, {'number': 4, 'created': '2019-07-30 11:06:04.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89e8ee8d2a8c3294f17b5330f31d89e5cb822834', 'message': ""Disable ceph-ansible firewall tasks\n\nTripleO already manages firewall rules so we don't need to have both\nenabled in the same time.\nIt's currently not an issue because the firewall rules aren't apply by\nceph-ansible on containerized deployment but it will be enabled soon.\n\nCo-Authored-By: Dimitri Savineau <dsavinea@redhat.com>\nChange-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8\n""}]",2,673470,89e8ee8d2a8c3294f17b5330f31d89e5cb822834,16,6,4,25402,,,0,"Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Co-Authored-By: Dimitri Savineau <dsavinea@redhat.com>
Change-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/673470/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml'],1,5de1737771368eab01bf72610e6229702104e840,ceph_ansible_disable_firewall,configure_firewall: false,,1,0
openstack%2Foctavia~master~Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3,openstack/octavia,master,Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3,Build amphora image using centos-minimal element,MERGED,2018-10-22 10:30:53.000000000,2019-08-01 06:13:37.000000000,2019-08-01 06:13:37.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 10:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/730308cb2d5f26c444d7e7d26e8e44928ffe7858', 'message': 'DNM: centos-minimal amphora\n\nChange-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3\n'}, {'number': 2, 'created': '2018-10-22 11:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b76dfa6029b299fe999e1b239cecc7b84a713614', 'message': 'DNM: centos-minimal amphora\n\nChange-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3\n'}, {'number': 3, 'created': '2018-12-24 19:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d4b4ad0d30a01222df10fd0c6f032e666dcdb4e', 'message': 'DNM: centos-minimal amphora\n\nChange-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3\n'}, {'number': 4, 'created': '2019-07-16 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51dd14c48ba4e934583542bf72f9200a6f6a992c', 'message': ""Build amphora image using centos-minimal element\n\nThis patch changes CentOS amphora images to be built using the\ncentos-minimal DIB element. The generated image size is reduce from\napproximately 702 MB to 520 MB. Compatibility with 'centos' AMP_BASEOS\nis kept.\n\nChange-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3\n""}, {'number': 5, 'created': '2019-07-23 22:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d327810fe44dc776c27f1a4e9420fac4e9db1c8a', 'message': ""Build amphora image using centos-minimal element\n\nThis patch changes CentOS amphora images to be built using the\ncentos-minimal DIB element. The generated image size is reduce from\napproximately 702 MB to 520 MB. Compatibility with 'centos' AMP_BASEOS\nis kept.\n\nChange-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3\n""}, {'number': 6, 'created': '2019-07-27 09:27:19.000000000', 'files': ['diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/262ffaa9d71feb1b79b59f7c6a9ea8b7f977415e', 'message': ""Build amphora image using centos-minimal element\n\nThis patch changes CentOS amphora images to be built using the\ncentos-minimal DIB element. The generated image size is reduce from\napproximately 702 MB to 520 MB. Compatibility with 'centos' AMP_BASEOS\nis kept.\n\nChange-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3\n""}]",0,612309,262ffaa9d71feb1b79b59f7c6a9ea8b7f977415e,24,4,6,6469,,,0,"Build amphora image using centos-minimal element

This patch changes CentOS amphora images to be built using the
centos-minimal DIB element. The generated image size is reduce from
approximately 702 MB to 520 MB. Compatibility with 'centos' AMP_BASEOS
is kept.

Change-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/612309/6 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh', 'zuul.d/projects.yaml']",3,730308cb2d5f26c444d7e7d26e8e44928ffe7858,612309,# - neutron-lbaasv2-dsvm-api # - neutron-lbaasv2-dsvm-py3x-api # - neutron-lbaasv2-dsvm-scenario: # voting: false # - neutron-lbaasv2-dsvm-py3x-scenario: # voting: false # - openstack-tox-functional: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^releasenotes/.*$ # - openstack-tox-functional-py35: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^releasenotes/.*$ # - octavia-v1-dsvm-scenario # - octavia-v1-dsvm-py3x-scenario # - octavia-v1-dsvm-scenario-multinode: # voting: false # - octavia-v1-dsvm-py3x-scenario-multinode: # voting: false # - octavia-v2-dsvm-noop-api # - octavia-v2-dsvm-noop-py35-api # - octavia-v2-dsvm-scenario # - octavia-v2-dsvm-py35-scenario# - octavia-v2-dsvm-scenario-ubuntu-bionic: # voting: false # - octavia-grenade: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^(test-|)requirements.txt$ # - ^tox.ini$, - neutron-lbaasv2-dsvm-api - neutron-lbaasv2-dsvm-py3x-api - neutron-lbaasv2-dsvm-scenario: voting: false - neutron-lbaasv2-dsvm-py3x-scenario: voting: false - openstack-tox-functional: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py35: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - octavia-v1-dsvm-scenario - octavia-v1-dsvm-py3x-scenario - octavia-v1-dsvm-scenario-multinode: voting: false - octavia-v1-dsvm-py3x-scenario-multinode: voting: false - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py35-api - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py35-scenario - octavia-v2-dsvm-scenario-ubuntu-bionic: voting: false - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$,54,51
openstack%2Fcyborg~master~Ibb556055afc9c5a8b73a7cc1262c4e6afada8343,openstack/cyborg,master,Ibb556055afc9c5a8b73a7cc1262c4e6afada8343,"P2: Changes for db layer, constants and exceptions.",MERGED,2019-07-12 08:15:00.000000000,2019-08-01 05:59:10.000000000,2019-08-01 05:59:10.000000000,"[{'_account_id': 14131}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-07-12 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c4b4dcde3483540ba7d0c25ffb398464b673e890', 'message': 'P2: Changes for db layer, constants and exceptions.\n\nChange-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343\n'}, {'number': 2, 'created': '2019-07-12 15:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6667b75ffa06ec8378c94a7509bd7e4ee02bd7f1', 'message': 'P2: Changes for db layer, constants and exceptions.\n\nChange-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343\n'}, {'number': 3, 'created': '2019-07-29 06:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6925711f309f55ce4b25d7160afc54bf4614557b', 'message': 'P2: Changes for db layer, constants and exceptions.\n\nChange-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343\n'}, {'number': 4, 'created': '2019-07-30 04:41:04.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/db/sqlalchemy/alembic/versions/c1b5abada09c_update_for_nova_integ.py', 'cyborg/db/api.py', 'cyborg/common/exception.py', 'cyborg/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1b3d9688d8e46691412efa9f652122f063b94af6', 'message': 'P2: Changes for db layer, constants and exceptions.\n\nChange-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343\n'}]",15,670463,1b3d9688d8e46691412efa9f652122f063b94af6,20,6,4,21672,,,0,"P2: Changes for db layer, constants and exceptions.

Change-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/63/670463/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/constants.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/db/sqlalchemy/alembic/versions/c1b5abada09c_update_for_nova_integ.py', 'cyborg/db/api.py', 'cyborg/common/exception.py', 'cyborg/db/sqlalchemy/models.py']",6,c4b4dcde3483540ba7d0c25ffb398464b673e890,nova-integ,"from cyborg.common import constants # The resource provider UUID is nullable for 2 reasons: # A. on creation, till Placement is populated, this will be null. # B. Sub-deployables (such as in networked FPGA cards) will have # this as null. rp_uuid = Column(String(36), nullable=True) # This is nullable because the parent deployable in a networked # FPGA card will have no driver. Only subdeployables have one. driver_name = Column(String(100), nullable=True) # The following fields are needed only for deployables with # num_accelerators > 1 num_accelerators_in_use = Column(Integer, default=0) # TODO Add programming_in_progress field name = Column(String(255), nullable=False, unique=True) Index('extArqs_instance_uuid_idx', 'instance_uuid'), state = Column(Enum(constants.ARQ_INITIAL, constants.ARQ_BOUND, constants.ARQ_BIND_FAILED, constants.ARQ_UNBOUND), device_profile_group_id = Column(Integer, nullable=False, default=0) instance_uuid = Column(String(36), nullable=True)"," name = Column(String(255), nullable=False) Index('extArqs_device_instance_uuid_idx', 'device_instance_uuid'), state = Column(Enum('Initial', 'Bound', 'BindFailed', name='state'), device_instance_uuid = Column(String(36), nullable=True)",234,39
openstack%2Fkolla-ansible~stable%2Fstein~I9e3436a8f946873867900eed5ff0643d84584358,openstack/kolla-ansible,stable/stein,I9e3436a8f946873867900eed5ff0643d84584358,Increase log coverage for Monasca,MERGED,2019-07-16 14:57:31.000000000,2019-08-01 05:57:46.000000000,2019-08-01 05:57:46.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5166566f4abccfec14db73b4a5dbd1d4c17ea659', 'message': 'Increase log coverage for Monasca\n\nMonasca Python service logs prior to this change were being dropped\ndue to missing entries in the Fluent record_transformer config file.\nThis change adds support for ingesting those logs, and explicitly\nremoves support for ingesting Monasca Log API logs to reduce the risk\nof feedback, for example if debug logging is turned on in the Monasca\nLog API.\n\n(cherry picked from commit cb404743be54e8364f061da3e7caf5586c316008)\nChange-Id: I9e3436a8f946873867900eed5ff0643d84584358\n'}, {'number': 2, 'created': '2019-07-16 15:16:27.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81a5ce0927904c47f3d766cb6c7951bd3e0fa42f', 'message': 'Increase log coverage for Monasca\n\nMonasca Python service logs prior to this change were being dropped\ndue to missing entries in the Fluent record_transformer config file.\nThis change adds support for ingesting those logs, and explicitly\nremoves support for ingesting Monasca Log API logs to reduce the risk\nof feedback, for example if debug logging is turned on in the Monasca\nLog API.\n\n(cherry picked from commit cb404743be54e8364f061da3e7caf5586c316008)\nChange-Id: I9e3436a8f946873867900eed5ff0643d84584358\n'}]",0,671070,81a5ce0927904c47f3d766cb6c7951bd3e0fa42f,9,5,2,28048,,,0,"Increase log coverage for Monasca

Monasca Python service logs prior to this change were being dropped
due to missing entries in the Fluent record_transformer config file.
This change adds support for ingesting those logs, and explicitly
removes support for ingesting Monasca Log API logs to reduce the risk
of feedback, for example if debug logging is turned on in the Monasca
Log API.

(cherry picked from commit cb404743be54e8364f061da3e7caf5586c316008)
Change-Id: I9e3436a8f946873867900eed5ff0643d84584358
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/671070/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2']",3,5166566f4abccfec14db73b4a5dbd1d4c17ea659,cp2," exclude_path [""/var/log/kolla/monasca/agent*.log"", ""/var/log/kolla/monasca/grafana.log"", ""/var/log/kolla/monasca/monasca-log-api.log"", ""/var/log/kolla/neutron/dnsmasq.log"","," exclude_path [""/var/log/kolla/neutron/dnsmasq.log"",",15,1
openstack%2Fkolla-ansible~stable%2Fstein~Ie3cbb51424989b01727b5ebaaeba032767073462,openstack/kolla-ansible,stable/stein,Ie3cbb51424989b01727b5ebaaeba032767073462,Ingest non-standard Monasca logs,MERGED,2019-07-16 15:12:56.000000000,2019-08-01 05:52:11.000000000,2019-08-01 05:52:11.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 15:12:56.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/input/09-monasca.conf.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10d6c8d3a68f3f5875c75f5725132134ba3663d6', 'message': 'Ingest non-standard Monasca logs\n\nPresently, errors can appear in Fluentd and Monasca Log API logs due\nto log output from some Monasca services, which do not use Oslo log,\nbeing processed alongside other OpenStack logs which do.\n\nThis change parses these log files separately to prevent these errors.\n\nChange-Id: Ie3cbb51424989b01727b5ebaaeba032767073462\n(cherry picked from commit 4b31fdcf35d83a9ad04173657ba5d228bbc9183d)\n'}]",0,671077,10d6c8d3a68f3f5875c75f5725132134ba3663d6,8,5,1,28048,,,0,"Ingest non-standard Monasca logs

Presently, errors can appear in Fluentd and Monasca Log API logs due
to log output from some Monasca services, which do not use Oslo log,
being processed alongside other OpenStack logs which do.

This change parses these log files separately to prevent these errors.

Change-Id: Ie3cbb51424989b01727b5ebaaeba032767073462
(cherry picked from commit 4b31fdcf35d83a9ad04173657ba5d228bbc9183d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/671077/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/input/09-monasca.conf.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2']",5,10d6c8d3a68f3f5875c75f5725132134ba3663d6,cp5," exclude_path [""/var/log/kolla/monasca/agent*.log"", ""/var/log/kolla/monasca/grafana.log"", ""/var/log/kolla/neutron/dnsmasq.log"","," exclude_path [""/var/log/kolla/neutron/dnsmasq.log"",",32,1
openstack%2Frequirements~master~I7949ac17d6777b9ba5e403c135ca74be066d4553,openstack/requirements,master,I7949ac17d6777b9ba5e403c135ca74be066d4553,update constraint for os-traits to new release 0.16.0,MERGED,2019-07-31 20:36:26.000000000,2019-08-01 05:50:53.000000000,2019-08-01 05:50:53.000000000,"[{'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 20:36:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c5dc68616e8974295e0fd7a2137b97819b2532c', 'message': 'update constraint for os-traits to new release 0.16.0\n\nChange-Id: I7949ac17d6777b9ba5e403c135ca74be066d4553\nmeta:version: 0.16.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256\nmeta:release:Code-Review+1: Chris Dent <cdent@anticdent.org>\nmeta:release:Code-Review+1: ya.wang <wang.ya@99cloud.net>\nmeta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,673908,3c5dc68616e8974295e0fd7a2137b97819b2532c,7,3,1,11131,,,0,"update constraint for os-traits to new release 0.16.0

Change-Id: I7949ac17d6777b9ba5e403c135ca74be066d4553
meta:version: 0.16.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
meta:release:Code-Review+1: Chris Dent <cdent@anticdent.org>
meta:release:Code-Review+1: ya.wang <wang.ya@99cloud.net>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/673908/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3c5dc68616e8974295e0fd7a2137b97819b2532c,new-release,os-traits===0.16.0,os-traits===0.15.0,1,1
openstack%2Frequirements~master~I13f64539f51f255f54ecd17691107d8b592ddbe7,openstack/requirements,master,I13f64539f51f255f54ecd17691107d8b592ddbe7,Updated from generate-constraints,MERGED,2019-07-28 06:20:32.000000000,2019-08-01 05:50:52.000000000,2019-08-01 05:50:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-28 06:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c96df286f03d8203252c877f0285b3b5977bb520', 'message': 'Updated from generate-constraints\n\nChange-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7\n'}, {'number': 2, 'created': '2019-07-30 06:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e74b8a49544ccd7cdacb0e9fde056cc58c44911c', 'message': 'Updated from generate-constraints\n\nChange-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7\n'}, {'number': 3, 'created': '2019-07-30 23:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c3615c3be15284a59318fcfa34ad74795ba2b0d', 'message': 'Updated from generate-constraints\n\nChange-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7\n'}, {'number': 4, 'created': '2019-07-31 15:24:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/883f90206d2d2afeef9007342f4a6f5e27190dda', 'message': 'Updated from generate-constraints\n\nholding back lxml for possible nova impacting issues\n\nChange-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7\n'}]",0,673160,883f90206d2d2afeef9007342f4a6f5e27190dda,19,2,4,11131,,,0,"Updated from generate-constraints

holding back lxml for possible nova impacting issues

Change-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/673160/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c96df286f03d8203252c877f0285b3b5977bb520,openstack/requirements/constraints/noclob,netmiko===2.4.1lxml===4.4.0ruamel.yaml.clib===0.1.0tornado===5.1.1;python_version=='2.7'ruamel.ordereddict===0.4.14;python_version=='2.7'textfsm===1.1.0tzlocal===2.0.0ruamel.yaml===0.16.0google-api-python-client===1.7.10autobahn===19.7.2docutils===0.15.1boto3===1.9.197numpy===1.16.4;python_version=='2.7' numpy===1.17.0;python_version=='3.4' numpy===1.17.0;python_version=='3.5' numpy===1.17.0;python_version=='3.6' numpy===1.17.0;python_version=='3.7'kubernetes===10.0.0pyparsing===2.4.1.1botocore===1.12.197pyrsistent===0.15.4Paste===3.1.0storops===1.2.0jsonschema===3.0.1virtualenv===16.7.2,netmiko===2.4.0lxml===4.3.4tornado===4.5.3;python_version=='2.7'ruamel.ordereddict===0.4.13;python_version=='2.7'textfsm===0.4.1tzlocal===1.5.1ruamel.yaml===0.15.100google-api-python-client===1.7.9autobahn===19.7.1docutils===0.15boto3===1.9.191numpy===1.16.4kubernetes===9.0.0pyparsing===2.4.0botocore===1.12.191pyrsistent===0.15.3Paste===3.0.8storops===1.1.0jsonschema===2.6.0virtualenv===16.6.2,25,20
