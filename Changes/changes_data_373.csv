id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foslo.limit~master~I271c861b0579c7132b63bf90b1470d048adecff2,openstack/oslo.limit,master,I271c861b0579c7132b63bf90b1470d048adecff2,Make callback required,ABANDONED,2018-09-06 07:25:19.000000000,2019-07-01 08:28:18.000000000,,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 07:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/5325be64ee23668e2b9c14be6bd7f118e5309772', 'message': 'Make callback required\n\ncallback is the function provided by service to get the resource\nusage. So it must be required.\n\nChange-Id: I271c861b0579c7132b63bf90b1470d048adecff2\nCloses-bug: #1790954\n'}, {'number': 2, 'created': '2018-09-06 09:34:32.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/f35a68c806af5ca43debfdfa769ed4f8e93c2297', 'message': 'Make callback required\n\ncallback is the function provided by service to get the resource\nusage. So it must be required.\n\nChange-Id: I271c861b0579c7132b63bf90b1470d048adecff2\nCloses-bug: #1790954\n'}]",1,600357,f35a68c806af5ca43debfdfa769ed4f8e93c2297,7,3,2,15054,,,0,"Make callback required

callback is the function provided by service to get the resource
usage. So it must be required.

Change-Id: I271c861b0579c7132b63bf90b1470d048adecff2
Closes-bug: #1790954
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/57/600357/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",2,5325be64ee23668e2b9c14be6bd7f118e5309772,bug/1790954," def __init__(self, claim, callback, verify=True): if not callable(callback):"," def __init__(self, claim, callback=None, verify=True): if callback and not callable(callback):",16,14
openstack%2Foslo.limit~master~Ibc35360dd4a952bbe63ee68ddafd5def0608949d,openstack/oslo.limit,master,Ibc35360dd4a952bbe63ee68ddafd5def0608949d,Add basic enforce func,ABANDONED,2018-08-25 07:15:10.000000000,2019-07-01 08:28:00.000000000,,"[{'_account_id': 2}, {'_account_id': 782}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8871}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-08-25 07:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/c0de115d71ee69074ced0d3e0638f694c51fdaf2', 'message': '[WIP]Add limit check func\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 2, 'created': '2018-08-27 01:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/4e3a8fa8fb0471f4231b81c5cc5f0059aaba5ab8', 'message': '[WIP]Add limit check func\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 3, 'created': '2018-08-27 08:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/e5dc358fdb73c9accfa1b2b6bbf6959da1b244c5', 'message': '[WIP]Add limit check func\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 4, 'created': '2018-08-28 02:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/bee98df1c69160c23a44fe4df54e39ac401e7bf9', 'message': 'Add limit check func\n\nAdd __enter__ func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 5, 'created': '2018-08-28 04:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/7e1e3686a6ecc1c9fd7e238561c3ad7a849ccdec', 'message': 'Add limit check func\n\nAdd __enter__ func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 6, 'created': '2018-08-30 09:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/5722b59eeb3dfe8f41eae3c874ecd64fe7c50ebc', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 7, 'created': '2018-09-06 07:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/5c8dfa6b31b6ba87d33e85137fe7198eb9e632df', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 8, 'created': '2018-09-06 07:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6c22dd81d01dc9a8318e1ef3b05d5b4ae53bf1e1', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 9, 'created': '2018-09-06 07:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/b09376a4565fceaaaa4db4d2b444d27b09dafcea', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 10, 'created': '2018-09-06 09:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/9e7b0272bb3555c3f61154befdf7d8f5636682d7', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 11, 'created': '2018-09-11 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/484098d3b8edfb43e8744d46479a198a691ba742', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 12, 'created': '2018-09-11 11:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/07b258657945179a1d1129333dc335f1176c9888', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 13, 'created': '2018-09-12 02:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/9d4d5ec725c4c8a52de4207c50f82a4c82cbb9b6', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 14, 'created': '2018-10-30 03:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/b59ba27d577ccd1aab3b7f167169104ab01a2139', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 15, 'created': '2018-10-30 06:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/19c1844dab426bcb941e7b5bd2ba0894ddd133bc', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 16, 'created': '2018-10-30 08:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/234a666fb80b5f3fa87a25ad678a029d4733b9af', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 17, 'created': '2018-10-31 06:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/875fd081dc072761074429ddc452926f4c0d262d', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 18, 'created': '2018-10-31 07:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a207d32754803d791adf19c9d0ffda878179cd98', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 19, 'created': '2018-10-31 08:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ec2688f438c8620977962ba88c5aa71ed66954a9', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 20, 'created': '2018-11-05 09:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/916fdc9d79b169400c814391330d02933c2f5cf7', 'message': 'Add limit check func\n\nAdd __enter__, __exit__, func for Enforcer.\n\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}, {'number': 21, 'created': '2018-11-06 08:50:41.000000000', 'files': ['requirements.txt', 'oslo_limit/tests/test_limit.py', 'oslo_limit/exception.py', 'oslo_limit/limit.py', 'lower-constraints.txt', 'oslo_limit/opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/527726576c39f16f05704fc7a84ff576346c680e', 'message': 'Add basic enforce func\n\nAdd the basic enforce func for Enforcer.\n\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nChange-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n'}]",65,596520,527726576c39f16f05704fc7a84ff576346c680e,79,9,21,15054,,,0,"Add basic enforce func

Add the basic enforce func for Enforcer.

Co-Authored-By: Lance Bragstad<lbragstad@gmail.com>
Change-Id: Ibc35360dd4a952bbe63ee68ddafd5def0608949d
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/20/596520/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_limit/exception.py', 'oslo_limit/limit.py', 'lower-constraints.txt']",4,c0de115d71ee69074ced0d3e0638f694c51fdaf2,limit_init,keystoneclient==3.17.0,,59,2
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,stable/queens,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-06-28 21:39:40.000000000,2019-07-01 08:09:13.000000000,2019-07-01 08:09:13.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 21:39:40.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d64f7bfbb422da62306be9d7fa60d03db29754e1', 'message': ""IHA robustness improvements\n\nThis will avoid useless fencing events in case of stonith problems.  The\n'compute-unfence-trigger' resource is simply a dummy resource that is\nonly used to trigger unfence events. If for whatever reason this\nresource is having issues on stop (pcmk bug, node overloaded, etc.) it\nmakes zero sense to have pacemaker do a fencing action against the node.\nLet's just block and show the operator the status and be less harsh in\ngeneral.\n\nTested this and I correctly get the following:\n[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone\n Clone: compute-unfence-trigger-clone\n  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)\n   Meta Attrs: requires=unfencing\n   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)\n               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)\n               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)\n               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)\n               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)\n               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)\n\nCloses-Bug: #1831234\n\nChange-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce\n(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)\n""}]",0,668254,d64f7bfbb422da62306be9d7fa60d03db29754e1,7,3,1,20778,,,0,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/668254/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,d64f7bfbb422da62306be9d7fa60d03db29754e1,iha_fix-stable/queens," op_params => 'stop timeout=20 on-fail=block',",,1,0
openstack%2Fautomaton~master~Ib9a720379ca997f848212eeca68ed9f32e4ed349,openstack/automaton,master,Ib9a720379ca997f848212eeca68ed9f32e4ed349,Add local bindep.txt,MERGED,2019-06-26 16:37:36.000000000,2019-07-01 07:43:43.000000000,2019-07-01 07:43:43.000000000,"[{'_account_id': 6618}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 16:37:36.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/automaton/commit/50f3de69ae2b00f9b6f95756eb072b44fae548d3', 'message': ""Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn documentation zuul job graphviz package ('dot' command) is needed.\nWithout that the job fails with:\n    dot command 'dot' cannot be run (needed for graphviz output),\n    check the graphviz_dot setting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ib9a720379ca997f848212eeca68ed9f32e4ed349\n""}]",0,667679,50f3de69ae2b00f9b6f95756eb072b44fae548d3,7,3,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In documentation zuul job graphviz package ('dot' command) is needed.
Without that the job fails with:
    dot command 'dot' cannot be run (needed for graphviz output),
    check the graphviz_dot setting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ib9a720379ca997f848212eeca68ed9f32e4ed349
",git fetch https://review.opendev.org/openstack/automaton refs/changes/79/667679/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,50f3de69ae2b00f9b6f95756eb072b44fae548d3,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,18,0
openstack%2Fopenstack-ansible~master~I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e,openstack/openstack-ansible,master,I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e,Populate /etc/hosts on deployment host,ABANDONED,2019-06-11 09:00:02.000000000,2019-07-01 07:42:04.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-11 09:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5241831ab53c82e33e72cb9ceb125443155a194b', 'message': 'Populate /etc/hosts on deployment host\n\nThis is pretty useful for sshing directly to containers from the deployment\nhost when unbound is not deployed.\n\nChange-Id: I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e\n'}, {'number': 2, 'created': '2019-06-24 07:50:29.000000000', 'files': ['playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c6beb0939f3924f4be885a0c23e307a73580fe94', 'message': 'Populate /etc/hosts on deployment host\n\nThis is pretty useful for sshing directly to containers from the deployment\nhost when unbound is not deployed.\n\nChange-Id: I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e\n'}]",0,664527,c6beb0939f3924f4be885a0c23e307a73580fe94,7,5,2,4128,,,0,"Populate /etc/hosts on deployment host

This is pretty useful for sshing directly to containers from the deployment
host when unbound is not deployed.

Change-Id: I02d4fcd10dd8f1d0f310e4bbf000c25c396d0b4e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/664527/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openstack-hosts-setup.yml'],1,5241831ab53c82e33e72cb9ceb125443155a194b,deploy-host-etc-hosts," - name: Update /etc/hosts on deployment host hosts: localhost gather_facts: ""{{ osa_gather_facts | default(True) }}"" user: root tasks: - include_role: name: ""openstack_hosts"" tasks_from: ""openstack_update_hosts_file"" tags: - openstack-hosts",,11,0
openstack%2Fpython-novaclient~master~I59c62ad129462c94bc4cc815101fb31ff062d2e3,openstack/python-novaclient,master,I59c62ad129462c94bc4cc815101fb31ff062d2e3,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-04 02:10:03.000000000,2019-07-01 07:39:17.000000000,2019-06-04 14:52:47.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 02:10:03.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3df454525172bad47ae69626e92fd6c4020eaa91', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I59c62ad129462c94bc4cc815101fb31ff062d2e3\n'}]",0,662905,3df454525172bad47ae69626e92fd6c4020eaa91,8,3,1,28239,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I59c62ad129462c94bc4cc815101fb31ff062d2e3
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/05/662905/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3df454525172bad47ae69626e92fd6c4020eaa91,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fswift~master~I166211b690b08521171b489582fa419d756b1972,openstack/swift,master,I166211b690b08521171b489582fa419d756b1972,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-05 04:39:00.000000000,2019-07-01 07:39:12.000000000,2019-06-05 15:18:29.000000000,"[{'_account_id': 330}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 04:39:00.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/98637dc1e7a6ef5641079a6226d12bf106436b35', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I166211b690b08521171b489582fa419d756b1972\n'}]",0,663230,98637dc1e7a6ef5641079a6226d12bf106436b35,8,2,1,28239,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I166211b690b08521171b489582fa419d756b1972
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/663230/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,98637dc1e7a6ef5641079a6226d12bf106436b35,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,2,2
openstack%2Fmistral~master~I22b652e1eb007616e697cb238fcd9e5f010cd693,openstack/mistral,master,I22b652e1eb007616e697cb238fcd9e5f010cd693,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-06 01:40:12.000000000,2019-07-01 07:39:08.000000000,2019-06-06 10:09:43.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-06 01:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2495d76002b152ed95bc66413fb1e1554a05bd75', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I22b652e1eb007616e697cb238fcd9e5f010cd693\n'}, {'number': 2, 'created': '2019-06-06 06:31:49.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6dc981d81471e05eb2e2d1bc2e891e470dbe7125', 'message': 'Bump openstackdocstheme to 1.30.0\n\nSome minor updates including fixing issues with the HTML5 output\ngenerated by Sphinx 2.0, inlining the OpenStack logo rather than\nreferencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option\nfor use in reproducible builds in new release openstackdocstheme 1.30.0.\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I22b652e1eb007616e697cb238fcd9e5f010cd693\n'}]",0,663469,6dc981d81471e05eb2e2d1bc2e891e470dbe7125,12,3,2,28239,,,0,"Bump openstackdocstheme to 1.30.0

Some minor updates including fixing issues with the HTML5 output
generated by Sphinx 2.0, inlining the OpenStack logo rather than
referencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option
for use in reproducible builds in new release openstackdocstheme 1.30.0.
...to pick up many improvements, including the return of table borders.

Change-Id: I22b652e1eb007616e697cb238fcd9e5f010cd693
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/663469/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,2495d76002b152ed95bc66413fb1e1554a05bd75,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fpython-mistralclient~master~I5809b18186ae9779d44f3dd24fa25d45ad0ecff3,openstack/python-mistralclient,master,I5809b18186ae9779d44f3dd24fa25d45ad0ecff3,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-06 02:54:34.000000000,2019-07-01 07:39:05.000000000,2019-06-06 11:34:16.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-06 02:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/e79b687f9b3c12732eeac9bc61396ab672fd33f5', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I5809b18186ae9779d44f3dd24fa25d45ad0ecff3\n'}, {'number': 2, 'created': '2019-06-06 06:36:54.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/1ddb67828198dd390ac6293b21d2d5fc00281832', 'message': 'Bump openstackdocstheme to 1.30.0\n\nSome minor updates including fixing issues with the HTML5 output\ngenerated by Sphinx 2.0, inlining the OpenStack logo rather than\nreferencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option\nfor use in reproducible builds in new release openstackdocstheme 1.30.0\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I5809b18186ae9779d44f3dd24fa25d45ad0ecff3\n'}]",0,663485,1ddb67828198dd390ac6293b21d2d5fc00281832,12,3,2,28239,,,0,"Bump openstackdocstheme to 1.30.0

Some minor updates including fixing issues with the HTML5 output
generated by Sphinx 2.0, inlining the OpenStack logo rather than
referencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option
for use in reproducible builds in new release openstackdocstheme 1.30.0
...to pick up many improvements, including the return of table borders.

Change-Id: I5809b18186ae9779d44f3dd24fa25d45ad0ecff3
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/85/663485/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,e79b687f9b3c12732eeac9bc61396ab672fd33f5,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fneutron~master~I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7,openstack/neutron,master,I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-06 01:37:07.000000000,2019-07-01 07:39:00.000000000,2019-06-06 09:15:56.000000000,"[{'_account_id': 841}, {'_account_id': 9531}, {'_account_id': 16376}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-06 01:37:07.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43d55304053f6569562a6d711301cb2759179288', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7\n'}]",0,663467,43d55304053f6569562a6d711301cb2759179288,11,6,1,28239,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I8853ce602dfaf9e163b77db7cfa0c9d3f2d3fbd7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/663467/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,43d55304053f6569562a6d711301cb2759179288,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fopenstack-ansible-os_octavia~master~Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,openstack/openstack-ansible-os_octavia,master,Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,Use the admin endpoint to upload glance images,MERGED,2019-06-27 06:27:36.000000000,2019-07-01 07:35:39.000000000,2019-06-29 09:00:45.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-27 06:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/926e1b1255f7013d6adb1657e8376f094299abe6', 'message': 'Use the admin endpoint to upload glance images.\n\nThe deploy host may not have access to the public endpoint. The\npublic endpoint SSL certificate may not be trusted. Both of\nthese things will cause a failure to upload the image.\n\nChange-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa\nCloses-Bug: 1831183\n'}, {'number': 2, 'created': '2019-06-27 06:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7970fefafb5c7b723bc332103dfd926b188a9e82', 'message': 'Use the admin endpoint to upload glance images\n\nThe deploy host may not have access to the public endpoint. The\npublic endpoint SSL certificate may not be trusted. Both of\nthese things will cause a failure to upload the image.\n\nChange-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa\nCloses-Bug: 1831183\n'}, {'number': 3, 'created': '2019-06-27 08:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/53cf8cfec9cf48486848640808aab1730c5a79a6', 'message': 'Use the admin endpoint to upload glance images\n\nThe deploy host may not have access to the public endpoint. The\npublic endpoint SSL certificate may not be trusted. Both of\nthese things will cause a failure to upload the image.\n\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa\nCloses-Bug: 1831183\n'}, {'number': 4, 'created': '2019-06-27 21:09:02.000000000', 'files': ['tasks/octavia_amp_image.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711', 'message': 'Use the admin endpoint to upload glance images\n\nThe deploy host may not have access to the public endpoint. The\npublic endpoint SSL certificate may not be trusted. Both of\nthese things will cause a failure to upload the image.\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa\nCloses-Bug: 1831183\n'}]",0,667791,a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711,17,4,4,25023,,,0,"Use the admin endpoint to upload glance images

The deploy host may not have access to the public endpoint. The
public endpoint SSL certificate may not be trusted. Both of
these things will cause a failure to upload the image.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Change-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa
Closes-Bug: 1831183
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/91/667791/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_amp_image.yml'],1,926e1b1255f7013d6adb1657e8376f094299abe6,fix-octavia, --os-interface admin,,1,0
openstack%2Fopenstack-ansible-os_octavia~master~I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,openstack/openstack-ansible-os_octavia,master,I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,Ensure that admin endpoint is used to configure octavia quota,MERGED,2019-06-11 10:30:45.000000000,2019-07-01 07:26:47.000000000,2019-06-29 09:00:45.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-11 10:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/657dfbda7650131d4fee560114da7b28176d7d52', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\n'}, {'number': 2, 'created': '2019-06-26 16:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/1d76fbafea61bf4dde9672649145891836063f72', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: I19ef3733c250617a266fce98d11ab29fb548ab16\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\n'}, {'number': 3, 'created': '2019-06-27 06:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ed7d43ec9aa97ee8cddd9dc7a23f4e79c2dd3fed', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: I19ef3733c250617a266fce98d11ab29fb548ab16\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\nCloses-Bug: 1834394\n'}, {'number': 4, 'created': '2019-06-27 08:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/412fdf747d4ff2bedfdb32fb24b49d08777524d9', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\nCloses-Bug: 1834394\n'}, {'number': 5, 'created': '2019-06-27 10:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ee9a170a43e9b5c3ff57fe364ea4d52ba9e50bd6', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: I3bfe38c74ab5c07db11879706f789d6b701d40e5\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\nCloses-Bug: 1834394\n'}, {'number': 6, 'created': '2019-06-27 20:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f321355d8e403d9b3d620de62b482ac856ad1a03', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: I3bfe38c74ab5c07db11879706f789d6b701d40e5\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\n'}, {'number': 7, 'created': '2019-06-28 09:05:18.000000000', 'files': ['tasks/octavia_security_group.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2b39df7d8de3856185ebef0b24382cd0d8b18cca', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\n'}]",0,664551,2b39df7d8de3856185ebef0b24382cd0d8b18cca,27,4,7,25023,,,0,"Ensure that admin endpoint is used to configure octavia quota

The default is the public endpoint which will fail with an SSL error
for AIO or other non-trusted certificates.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Change-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d
Closes-Bug: 1831160
Closes-Bug: 1828599
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/51/664551/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_security_group.yml'],1,657dfbda7650131d4fee560114da7b28176d7d52,fix-octavia, interface: admin,,1,0
openstack%2Fdevstack-tools~master~I67c3ee446195455e588e72aeebc54d54d8556d28,openstack/devstack-tools,master,I67c3ee446195455e588e72aeebc54d54d8556d28,Update python 3 unit test job,MERGED,2019-02-19 09:06:10.000000000,2019-07-01 07:22:46.000000000,2019-07-01 07:22:46.000000000,"[{'_account_id': 8556}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-02-19 09:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/e65e10ab61c484b55da6f223d283870bbf9aa7da', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I67c3ee446195455e588e72aeebc54d54d8556d28\nStory: #2004073\nTask: #27445\n'}, {'number': 2, 'created': '2019-04-22 06:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/8a0a1a200bf17ef53e8aa0e6af512a28d47c405a', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update unit test job running\nunder Python 3.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I67c3ee446195455e588e72aeebc54d54d8556d28\nStory: #2004073\nTask: #27445\n'}, {'number': 3, 'created': '2019-06-28 19:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/9888adf2b4163771e0a8e16175b8a4f4496b6276', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update unit test job running\nunder Python 3.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I67c3ee446195455e588e72aeebc54d54d8556d28\nStory: #2004073\nTask: #27445\n'}, {'number': 4, 'created': '2019-07-01 01:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/4040915a28847718c3877ca9ac2a498373b96c04', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update unit test job running\nunder Python 3.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I67c3ee446195455e588e72aeebc54d54d8556d28\nStory: #2004073\nTask: #27445\n'}, {'number': 5, 'created': '2019-07-01 07:02:33.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/ae6fb0ab2cb68459795359c4033ae6b45129e6c3', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update unit test job running\nunder Python 3.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I67c3ee446195455e588e72aeebc54d54d8556d28\nStory: #2004073\nTask: #27445\n'}]",1,637762,ae6fb0ab2cb68459795359c4033ae6b45129e6c3,21,4,5,9414,,,0,"Update python 3 unit test job

This is a mechanically generated patch to update unit test job running
under Python 3.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I67c3ee446195455e588e72aeebc54d54d8556d28
Story: #2004073
Task: #27445
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/62/637762/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e65e10ab61c484b55da6f223d283870bbf9aa7da,py37-job, - openstack-python37-jobs,,1,0
openstack%2Ftripleo-quickstart~master~I78e7357eba00baccc6e940c56c8dbaebe85bc8b3,openstack/tripleo-quickstart,master,I78e7357eba00baccc6e940c56c8dbaebe85bc8b3,New config in order to get IPv6 with pacemaker on a single-nic isolated net,ABANDONED,2018-05-23 14:41:45.000000000,2019-07-01 06:48:58.000000000,,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-05-23 14:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/73b6c61ac955a85c28af5030c1a35bd406f460e7', 'message': 'New config in order to get IPv6 with pacemaker on a single-nic isolated net\n\nThere are currently a couple of configurations for IPv6, but they are all with\nmultiple-nic.\n\nChange-Id: I78e7357eba00baccc6e940c56c8dbaebe85bc8b3\n'}, {'number': 2, 'created': '2018-05-24 12:56:41.000000000', 'files': ['config/general_config/pacemaker-ipv6.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f9cba5bafc3cb9b877a93f0ec9049b5a0dd42dd1', 'message': 'New config in order to get IPv6 with pacemaker on a single-nic isolated net\n\nThere are currently a couple of configurations for IPv6, but they are all with\nmultiple-nic.\n\nChange-Id: I78e7357eba00baccc6e940c56c8dbaebe85bc8b3\n'}]",2,570209,f9cba5bafc3cb9b877a93f0ec9049b5a0dd42dd1,14,8,2,28223,,,0,"New config in order to get IPv6 with pacemaker on a single-nic isolated net

There are currently a couple of configurations for IPv6, but they are all with
multiple-nic.

Change-Id: I78e7357eba00baccc6e940c56c8dbaebe85bc8b3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/09/570209/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/pacemaker-ipv6.yml'],1,73b6c61ac955a85c28af5030c1a35bd406f460e7,add-ipv6-config,"# Summary of the feature set. # This is a basic configuration it should match fs001 as # closely as possible with the exception of the network isolation type # Deploy an Openstack environment with ssl undercloud, introspect, and use network isolation # Note: any change in this featureset must also be done in featureset035. # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. overcloud_ipv6: true undercloud_generate_service_certificate: true ssl_overcloud: true overcloud_templates_path: /usr/share/openstack-tripleo-heat-templates step_introspect: true # This enables container deployements after Pike containerized_overcloud: >- {% if release in ['newton', 'ocata', 'pike'] -%} false {%- else -%} true {%- endif -%} delete_docker_cache: true # Tell tripleo about our environment. enable_pacemaker: true network_isolation: true network_isolation_type: ""single-nic-vlans"" network_isolation_args: >- -e {{ overcloud_templates_path }}/environments/net-single-nic-with-vlans-v6.yaml -e {{ overcloud_templates_path }}/environments/network-isolation-v6.yaml -e {{ working_dir }}/network-environment.yaml network_environment_args: ControlPlaneSubnetCidr: ""{{ undercloud_network_cidr|ipaddr('prefix') }}"" ControlPlaneDefaultRoute: ""{{ undercloud_network_cidr|nthhost(1) }}"" EC2MetadataIp: ""{{ undercloud_network_cidr|nthhost(1) }}"" ExternalNetCidr: 2001:db8:fd00:1000::/64 ExternalAllocationPools: [{""start"": ""2001:db8:fd00:1000::10"", ""end"": ""2001:db8:fd00:1000:ffff:ffff:ffff:fffe""}] ExternalInterfaceDefaultRoute: 2001:db8:fd00:1000::1 NeutronExternalNetworkBridge: ""''"" InternalApiNetCidr: fd00:fd00:fd00:2000::/64 InternalApiAllocationPools: [{""start"": ""fd00:fd00:fd00:2000::10"", ""end"": ""fd00:fd00:fd00:2000:ffff:ffff:ffff:fffe""}] StorageNetCidr: fd00:fd00:fd00:3000::/64 StorageAllocationPools: [{""start"": ""fd00:fd00:fd00:3000::10"", ""end"": ""fd00:fd00:fd00:3000:ffff:ffff:ffff:fffe""}] StorageMgmtNetCidr: fd00:fd00:fd00:4000::/64 StorageMgmtAllocationPools: [{""start"": ""fd00:fd00:fd00:4000::10"", ""end"": ""fd00:fd00:fd00:4000:ffff:ffff:ffff:fffe""}] TenantNetCidr: 172.16.0.0/24 TenantAllocationPools: [{""start"": ""172.16.0.10"", ""end"": ""172.16.0.250""}] DnsServers: [ '{{ external_network_cidr6|nthhost(1) }}' ] # This featureset is extremely resource intensive, so we disable telemetry # in order to reduce the overall memory footprint # This is not required in newton telemetry_args: >- {% if release != 'newton' %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %} extra_args: >- --ntp-server pool.ntp.org {% if release not in ['newton', 'ocata', 'pike'] %} -e {{ overcloud_templates_path }}/ci/environments/ovb-ha.yaml {% endif %} # keep the doc gen settings at the bottom of the config file. # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - overcloud-custom-tht-script - ""{% if release not in ['newton', 'ocata', 'pike'] -%}overcloud-prep-containers{%- endif -%}"" - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-install - overcloud-custom-tht-script - ""{% if release not in ['newton', 'ocata', 'pike'] -%}overcloud-prep-containers{%- endif -%}"" - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate # Use the traditional ping test in newton, ocata and pike # Run tempest in queens+ test_ping: >- {% if release in ['newton', 'ocata', 'pike'] -%} true {%- else -%} false {%- endif -%} run_tempest: >- {% if release in ['newton', 'ocata', 'pike'] -%} false {%- else -%} true {%- endif -%} test_white_regex: '' tempest_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' deploy_steps_ansible_workflow: >- {% if release not in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} ",,120,0
openstack%2Fwatcher~master~I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c,openstack/watcher,master,I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c,Fix invalid assert states,MERGED,2019-06-28 09:25:15.000000000,2019-07-01 06:24:53.000000000,2019-07-01 06:24:53.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-28 09:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/37b0a083d0cd93e2943d4585e28397dfe6cddc1a', 'message': 'Fix invalid assert states\n\n""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""\nand ""self.assertTrue(action.state, objects.action.State.FAILED)""\nshould use assertEqual.\n\nChange-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c\n'}, {'number': 2, 'created': '2019-07-01 01:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9251f15ed6d2b3b8384875c94f0b1a16f1add5ce', 'message': 'Fix invalid assert states\n\n""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""\nand ""self.assertTrue(action.state, objects.action.State.FAILED)""\nshould use assertEqual.\n\nChange-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c\n'}, {'number': 3, 'created': '2019-07-01 02:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/69334e0e72c902818363d54dfc0e2b4e7e8e2b5b', 'message': 'Fix invalid assert states\n\n""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""\nand ""self.assertTrue(action.state, objects.action.State.FAILED)""\nshould use assertEqual.\n\nChange-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c\n'}, {'number': 4, 'created': '2019-07-01 03:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b62a7f307a7c3af8fc9c0f6fad0790e15380899d', 'message': 'Fix invalid assert states\n\n""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""\nand ""self.assertTrue(action.state, objects.action.State.FAILED)""\nshould use assertEqual.\n\nCo-Authored-By: Canwei Li <li.canwei2@zte.com.cn>\nChange-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c\n'}, {'number': 5, 'created': '2019-07-01 03:20:27.000000000', 'files': ['watcher/tests/applier/workflow_engine/test_taskflow_action_container.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/8fc4a9cbeec561b5dd4756d335423a721bbc5ef0', 'message': 'Fix invalid assert states\n\n""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""\nand ""self.assertTrue(action.state, objects.action.State.FAILED)""\nshould use assertEqual.\n\nCo-Authored-By: Canwei Li <li.canwei2@zte.com.cn>\nChange-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c\n'}]",0,668124,8fc4a9cbeec561b5dd4756d335423a721bbc5ef0,13,3,5,20190,,,0,"Fix invalid assert states

""self.assertTrue(action.state, objects.action.State.SUCCEEDED)""
and ""self.assertTrue(action.state, objects.action.State.FAILED)""
should use assertEqual.

Co-Authored-By: Canwei Li <li.canwei2@zte.com.cn>
Change-Id: I8e28d651938ca6ed8d12e8a6f5ecf775cf01a39c
",git fetch https://review.opendev.org/openstack/watcher refs/changes/24/668124/5 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/applier/workflow_engine/test_taskflow_action_container.py'],1,37b0a083d0cd93e2943d4585e28397dfe6cddc1a,assertTrue," self.assertEqual(action.state, objects.action.State.SUCCEEDED) self.assertEqual(action.state, objects.action.State.FAILED)"," self.assertTrue(action.state, objects.action.State.SUCCEEDED) self.assertTrue(action.state, objects.action.State.FAILED)",2,2
openstack%2Fwatcher-tempest-plugin~master~I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2,openstack/watcher-tempest-plugin,master,I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2,Refactor strategy tempest,MERGED,2019-05-31 09:25:47.000000000,2019-07-01 06:20:59.000000000,2019-07-01 06:20:59.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 30400}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-31 09:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/e32d505739c98605383bddb2c6a4e3dd20c56a4e', 'message': '[WIP]Refactor strategy tempest\n\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 2, 'created': '2019-06-01 03:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/ceba93a83021e9978ae55d4881cadd6de17cd81f', 'message': '[WIP]Refactor strategy tempest\n\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 3, 'created': '2019-06-01 06:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/a81ffc4325cf2b71916be7953c51615befa20d51', 'message': '[WIP]Refactor strategy tempest\n\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 4, 'created': '2019-06-01 06:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/56ef04bdb41c593d99b2879414978c5db67e6a44', 'message': '[WIP]Refactor strategy tempest\n\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 5, 'created': '2019-06-01 07:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/025f833f665ae5736eb96ab31705cd47f4798069', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 6, 'created': '2019-06-01 07:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/262473d2bd45000c175bbb1e81b4f03f8f9eeb70', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 7, 'created': '2019-06-03 03:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/44aa10ac66aac27adb1fa11c956ee69c8e8984a2', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 8, 'created': '2019-06-03 06:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/3614d6f31e7a55ac8b307392c823008afb1ac318', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 9, 'created': '2019-06-03 07:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/57a169aad6808da4d28db24ab33ca64509adc908', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 10, 'created': '2019-06-04 07:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/e56293b8ffa1cf4057b1579a75623a2db20a2e4e', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 11, 'created': '2019-06-04 11:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/b49314aa8b746b406cd689afe24e511d21985c83', 'message': '[WIP]Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 12, 'created': '2019-06-06 08:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/2e7c962d8589a8b5c0cdb6b560bd00fdd7bc8033', 'message': 'Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 13, 'created': '2019-06-06 08:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/4a18ba6a5a4d9e3aea40fd9951d83d4c060b715b', 'message': 'Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nDepends-on: I950eec50d2cee38bd22c47a70ae6f88bbf049080\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 14, 'created': '2019-06-06 08:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/2676f26063ac4038928dc4eab3a49fa3623aac61', 'message': 'Refactor strategy tempest\n\nDepends-on: I84a68f92fa34cf19487323f2afb89d379b8d80f5\nDepends-on: I950eec50d2cee38bd22c47a70ae6f88bbf049080\nDepends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 15, 'created': '2019-06-10 06:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/de1d5b059d72be4f2f387347f05c31bc7e5648a8', 'message': 'Refactor strategy tempest\n\nDepends-on: I7e441608b38338eecd80e663ed3abe66a89e504f\nDepends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 16, 'created': '2019-06-10 09:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/0224b82f8dd33fce47bf9b9e97d192a725f39832', 'message': 'Refactor strategy tempest\n\nDepends-on: I950eec50d2cee38bd22c47a70ae6f88bbf049080\nDepends-on: I7e441608b38338eecd80e663ed3abe66a89e504f\nDepends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 17, 'created': '2019-06-10 11:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/857d8fb375c39ddba6d2df42293375fecd85ad3f', 'message': 'Refactor strategy tempest\n\nDepends-on: I6f39e8d935195c611f668f71590e1d9ff52ced0d\nDepends-on: I7e441608b38338eecd80e663ed3abe66a89e504f\nDepends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}, {'number': 18, 'created': '2019-06-11 01:16:16.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/base.py', 'watcher_tempest_plugin/tests/scenario/test_execute_strategies.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/d985b042f922574011c0ab1baf243621dc06fb54', 'message': 'Refactor strategy tempest\n\nDepends-on: I950eec50d2cee38bd22c47a70ae6f88bbf049080\nDepends-on: I6f39e8d935195c611f668f71590e1d9ff52ced0d\nDepends-on: I7e441608b38338eecd80e663ed3abe66a89e504f\nDepends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba\nChange-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2\n'}]",0,662416,d985b042f922574011c0ab1baf243621dc06fb54,40,5,18,21692,,,0,"Refactor strategy tempest

Depends-on: I950eec50d2cee38bd22c47a70ae6f88bbf049080
Depends-on: I6f39e8d935195c611f668f71590e1d9ff52ced0d
Depends-on: I7e441608b38338eecd80e663ed3abe66a89e504f
Depends-on: Ic6c44ae44da7c3b9a1c20e9b24a036063af266ba
Change-Id: I65ec65fc6da80eaf5feaaf0e49b295818f4a60b2
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/16/662416/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/test_execute_strategies.py'],1,e32d505739c98605383bddb2c6a4e3dd20c56a4e,refactor_strategy_tempest,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 ZTE Corporation # # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from __future__ import unicode_literals import functools from tempest import config from tempest.lib.common.utils import test_utils from watcher_tempest_plugin.tests.scenario import base CONF = config.CONF class TestExecuteStrategies(base.BaseInfraOptimScenarioTest): """"""Tests for strategies"""""" @classmethod def skip_checks(cls): super(TestExecuteStrategies, cls).skip_checks() @classmethod def resource_setup(cls): super(TestExecuteStrategies, cls).resource_setup() if CONF.compute.min_compute_nodes < 2: raise cls.skipException( ""Less than 2 compute nodes, skipping multinode tests."") if not CONF.compute_feature_enabled.live_migration: raise cls.skipException(""Live migration is not enabled"") cls.initial_compute_nodes_setup = cls.get_compute_nodes_setup() enabled_compute_nodes = [cn for cn in cls.initial_compute_nodes_setup if cn.get('status') == 'enabled'] cls.wait_for_compute_node_setup() if len(enabled_compute_nodes) < 2: raise cls.skipException( ""Less than 2 compute nodes are enabled, "" ""skipping multinode tests."") def test_execute_basic_action_plan(self): self.addCleanup(self.rollback_compute_nodes_status) self._create_one_instance_per_host_with_statistic() self.make_host_statistic() goal_name = ""server_consolidation"" strategy_name = ""basic"" audit_kwargs = { parameters={ ""granularity"": 300, ""period"": 72000, ""aggregation_method"": {""instance"": ""mean"", ""compute_node"": ""mean""} } } self.execute_strategy(goal_name, strategy_name, **audit_kwargs) ",,72,0
openstack%2Foslo.log~master~I4757f93c4194bd821232a2f6cc9abf3be00f15d0,openstack/oslo.log,master,I4757f93c4194bd821232a2f6cc9abf3be00f15d0,Remove incubator migration docs,MERGED,2019-06-13 18:20:17.000000000,2019-07-01 06:00:34.000000000,2019-07-01 06:00:34.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-13 18:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/31baa1e8dac5d6d8139fdbab1bb76ddd6622d26a', 'message': ""Remove incubator migration docs\n\nIncubator logging has been gone for years. Nobody still needs these\ndocs, and on the off chance that I'm wrong they're still available\nin git.\n\nChange-Id: I4757f93c4194bd821232a2f6cc9abf3be00f15d0\n""}, {'number': 2, 'created': '2019-06-26 14:22:13.000000000', 'files': ['doc/source/user/migration.rst', 'doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/e7a680e4d0542d21cc4272501f95572f8cd6c01e', 'message': ""Remove incubator migration docs\n\nIncubator logging has been gone for years. Nobody still needs these\ndocs, and on the off chance that I'm wrong they're still available\nin git.\n\nChange-Id: I4757f93c4194bd821232a2f6cc9abf3be00f15d0\n""}]",0,665204,e7a680e4d0542d21cc4272501f95572f8cd6c01e,9,3,2,6928,,,0,"Remove incubator migration docs

Incubator logging has been gone for years. Nobody still needs these
docs, and on the off chance that I'm wrong they're still available
in git.

Change-Id: I4757f93c4194bd821232a2f6cc9abf3be00f15d0
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/04/665204/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/migration.rst', 'doc/source/user/index.rst']",2,31baa1e8dac5d6d8139fdbab1bb76ddd6622d26a,rm-incubator,, migration,0,120
openstack%2Fcinder~stable%2Frocky~Ia95936f3cea611f9fb7517d3b6849f511be2450b,openstack/cinder,stable/rocky,Ia95936f3cea611f9fb7517d3b6849f511be2450b,[VNX] Fix test case issue,MERGED,2019-06-13 02:34:52.000000000,2019-07-01 05:52:59.000000000,2019-06-18 16:05:39.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26114}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-06-13 02:34:52.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4fd1cdcf62bf83b57d7685d19fa06daa522c9a98', 'message': '[VNX] Fix test case issue\n\nMajor changes:\n1. Fix mock file issue\n2. Fix cg test case issue\n\nChange-Id: Ia95936f3cea611f9fb7517d3b6849f511be2450b\nCloses-bug: #1795957\n(cherry picked from commit 18fbbd1afe2b9151fe521d200b280ae4a0ef6202)\n(cherry picked from commit 053c33cbfc2b4b72d9ca20f617e542452f98944f)\n'}]",0,665046,4fd1cdcf62bf83b57d7685d19fa06daa522c9a98,30,13,1,26114,,,0,"[VNX] Fix test case issue

Major changes:
1. Fix mock file issue
2. Fix cg test case issue

Change-Id: Ia95936f3cea611f9fb7517d3b6849f511be2450b
Closes-bug: #1795957
(cherry picked from commit 18fbbd1afe2b9151fe521d200b280ae4a0ef6202)
(cherry picked from commit 053c33cbfc2b4b72d9ca20f617e542452f98944f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/665046/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py']",2,4fd1cdcf62bf83b57d7685d19fa06daa522c9a98,," provider_location = re.findall('id\^12', volume_updates[0]['provider_location']) self.assertEqual(1, len(provider_location)) provider_location = re.findall('id\^12', volume_updates[0]['provider_location']) self.assertEqual(1, len(provider_location))"," self.assertIsNotNone( re.findall('id^12', volume_updates[0]['provider_location'])) self.assertIsNotNone( re.findall('id^12', volume_updates[0]['provider_location']))",15,10
openstack%2Fwatcher~master~Ic721ca1ec0e8129619bd31db14e78bb87e24f532,openstack/watcher,master,Ic721ca1ec0e8129619bd31db14e78bb87e24f532,[DNM] just test,ABANDONED,2019-06-27 09:07:13.000000000,2019-07-01 05:24:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-27 09:07:13.000000000', 'files': ['watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4c5a53d6418cf0f274536b3461e39936090eaa82', 'message': '[DNM] just test\n\nChange-Id: Ic721ca1ec0e8129619bd31db14e78bb87e24f532\n'}]",0,667822,4c5a53d6418cf0f274536b3461e39936090eaa82,3,1,1,21692,,,0,"[DNM] just test

Change-Id: Ic721ca1ec0e8129619bd31db14e78bb87e24f532
",git fetch https://review.opendev.org/openstack/watcher refs/changes/22/667822/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/collector/nova.py'],1,4c5a53d6418cf0f274536b3461e39936090eaa82,just_test," import time LOG.warning(""Measurements started..."") start = time.time() end = time.time() LOG.warning(""Total time: {0}"".format(end - start)) ",,7,0
openstack%2Fwatcher~stable%2Fstein~I2518bdb1a571e2b0361a4389449d574619474479,openstack/watcher,stable/stein,I2518bdb1a571e2b0361a4389449d574619474479,[DNM] just test,ABANDONED,2019-06-27 11:17:25.000000000,2019-07-01 05:24:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-27 11:17:25.000000000', 'files': ['watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/f88e858e03af8896393a2b2802c86809ab8452b7', 'message': '[DNM] just test\n\nChange-Id: I2518bdb1a571e2b0361a4389449d574619474479\n'}]",0,667901,f88e858e03af8896393a2b2802c86809ab8452b7,3,1,1,21692,,,0,"[DNM] just test

Change-Id: I2518bdb1a571e2b0361a4389449d574619474479
",git fetch https://review.opendev.org/openstack/watcher refs/changes/01/667901/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/collector/nova.py'],1,f88e858e03af8896393a2b2802c86809ab8452b7,just_test," import time LOG.warning(""Measurements started..."") start = time.time() end = time.time() LOG.warning(""Total time: {0}"".format(end - start)) ",,7,0
openstack%2Fironic-python-agent~master~I1b265dcb970fc4578f750090fd120451294c2bc2,openstack/ironic-python-agent,master,I1b265dcb970fc4578f750090fd120451294c2bc2,Adds UEFI support for building coreos image,ABANDONED,2017-05-25 05:37:29.000000000,2019-07-01 05:18:33.000000000,,"[{'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 18781}]","[{'number': 1, 'created': '2017-05-25 05:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c668530b2682d564ddd55e1dafb318d997b8a055', 'message': 'Adds UEFI support for building coreos image\n\nThis commit enable coreos to build UEFI supported\niso deployimage.\n\nChange-Id: I1b265dcb970fc4578f750090fd120451294c2bc2\n'}, {'number': 2, 'created': '2017-05-25 05:46:21.000000000', 'files': ['imagebuild/coreos/iso-image-create'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/30db0c68c03c692c1b22b96a56ad881043e9587b', 'message': 'Adds UEFI support for building coreos image\n\nThis commit enable coreos to build UEFI supported\niso deployimage.\n\nChange-Id: I1b265dcb970fc4578f750090fd120451294c2bc2\n'}]",11,467894,30db0c68c03c692c1b22b96a56ad881043e9587b,10,3,2,22271,,,0,"Adds UEFI support for building coreos image

This commit enable coreos to build UEFI supported
iso deployimage.

Change-Id: I1b265dcb970fc4578f750090fd120451294c2bc2
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/94/467894/2 && git format-patch -1 --stdout FETCH_HEAD,['imagebuild/coreos/iso-image-create'],1,c668530b2682d564ddd55e1dafb318d997b8a055,," echo "" -u uefi bootloader path"" echo "" -s uefi shim path""ARGS=`getopt -o ""o:i:k:u:s:"" -l ""output,initrd,kernel,uefi_boot,uefi_shim:"" \ -u) UEFI=""true""; EFI_BOOTLOADER=$2; shift 2;; -s) SHIM=$2; shift 2;;if [ $UEFI = ""true"" ]; then if [ -z ""$EFI_BOOTLOADER"" ]; then err_print ""Kernel not provided."" show_options exit 1 fi fi err_print ""Could not find isolinux.bin. Install syslinux?""# Create efi boot image if [ $UEFI = ""true"" ]; then if [ -f ""$EFI_BOOTLOADER"" ]; then cp $EFI_BOOTLOADER $TMP_BUILD_DIR/grubx64.efi cp $SHIM $TMP_BUILD_DIR/bootx64.efi sudo dd if=/dev/zero of=$TMP_BUILD_DIR/efiboot.img bs=1K count=5760 sudo mkdosfs -F 12 $TMP_BUILD_DIR/efiboot.img # Creating a temporary mount point: MOUNTPOINT=""$TMP_BUILD_DIR/tmpmount"" mkdir $MOUNTPOINT sudo mount -o loop $TMP_BUILD_DIR/efiboot.img $MOUNTPOINT sudo mkdir -p $MOUNTPOINT/EFI/BOOT sudo cp $TMP_BUILD_DIR/bootx64.efi $MOUNTPOINT/EFI/BOOT sudo cp $TMP_BUILD_DIR/grubx64.efi $MOUNTPOINT/EFI/BOOT sudo umount $MOUNTPOINT rmdir $MOUNTPOINT cp $TMP_BUILD_DIR/efiboot.img $TMP_IMAGE_DIR/isolinux else err_print ""Could not find efi bootloader!"" cleanup exit 1 fi fi# Generate grub.cfg for uefi booting if [ $UEFI = ""true"" ]; then EXTRA_KERNEL_PARAMS="""" EFI_BOOT_DIR=""EFI/BOOT"" mkdir -p ""$TMP_IMAGE_DIR/$EFI_BOOT_DIR"" echo ""Generating grub.cfg"" cat > ""$TMP_IMAGE_DIR/$EFI_BOOT_DIR/grub.cfg"" << END_CONFIG set default=""0"" set timeout=""5"" set hidden_timeout_quiet=false menuentry ""install"" { search --set=root --label VMEDIA_BOOT_ISO linuxefi /vmlinuz usbcore.autosuspend=-1 boot_method=vmedia -- initrdefi /initrd } END_CONFIG fi if [ $UEFI = ""true"" ]; then cd $TMP_IMAGE_DIR && $MKISOFS -r -V ""VMEDIA_BOOT_ISO"" -cache-inodes -J -l -b isolinux/isolinux.bin -no-emul-boot -boot-load-size 4 -boot-info-table -eltorito-alt-boot -e isolinux/efiboot.img -no-emul-boot -o $OUTPUT_FILENAME . else cd $TMP_IMAGE_DIR && $MKISOFS -r -V ""INSTALL_IMAGE"" -cache-inodes -J -l -b isolinux/isolinux.bin -no-emul-boot -boot-load-size 4 -boot-info-table -o $OUTPUT_FILENAME . fi","ARGS=`getopt -o ""o:i:k:"" -l ""output,initrd,kernel:"" \ elif [ -f /usr/lib/ISOLINUX/isolinux.bin ] then cp /usr/lib/ISOLINUX/isolinux.bin ""$TMP_IMAGE_DIR/isolinux"" err_print ""Could not find isolinux.bin. Install syslinux or isolinux?""cd $TMP_IMAGE_DIR && $MKISOFS -r -V ""INSTALL_IMAGE"" -cache-inodes -J -l -b isolinux/isolinux.bin -no-emul-boot -boot-load-size 4 -boot-info-table -o $OUTPUT_FILENAME . ",61,10
openstack%2Fproject-config~master~If90ed8480eeb1768d89bf2d1af5f464ff6326884,openstack/project-config,master,If90ed8480eeb1768d89bf2d1af5f464ff6326884,Removed unused ACL,MERGED,2019-06-25 18:42:26.000000000,2019-07-01 04:50:24.000000000,2019-07-01 04:50:24.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 18:42:26.000000000', 'files': ['gerrit/acls/openstack/ansible-role-tripleo-modify-image.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c3ef766d425922d548872c54bf9d85919daa30af', 'message': 'Removed unused ACL\n\nThis ACL file is not used anywhere, so it is being removed.\n\nChange-Id: If90ed8480eeb1768d89bf2d1af5f464ff6326884\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667437,c3ef766d425922d548872c54bf9d85919daa30af,7,3,1,7353,,,0,"Removed unused ACL

This ACL file is not used anywhere, so it is being removed.

Change-Id: If90ed8480eeb1768d89bf2d1af5f464ff6326884
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/667437/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/ansible-role-tripleo-modify-image.config'],1,c3ef766d425922d548872c54bf9d85919daa30af,retire-role,,"[access ""refs/heads/*""] abandon = group ansible-role-tripleo-modify-image-core label-Code-Review = -2..+2 group ansible-role-tripleo-modify-image-core label-Workflow = -1..+1 group ansible-role-tripleo-modify-image-core [receive] requireChangeId = true requireContributorAgreement = false [submit] mergeContent = true ",0,11
openstack%2Fproject-config~master~I769834c67b3e4948093cfa5782b83d71c64d1f63,openstack/project-config,master,I769834c67b3e4948093cfa5782b83d71c64d1f63,Fix ACLs for retired ansible-role-tripleo-cookiecutter,MERGED,2019-06-27 11:13:40.000000000,2019-07-01 04:50:22.000000000,2019-07-01 04:50:22.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 7353}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 11:13:40.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6214894c8ad7f46545bdb545125c27440120d8fe', 'message': 'Fix ACLs for retired ansible-role-tripleo-cookiecutter\n\nChange https://review.opendev.org/667418 retired\nansible-role-tripleo-cookiecutter but forgot to update the ACL line, do\nthis now.\n\nChange-Id: I769834c67b3e4948093cfa5782b83d71c64d1f63\n'}]",0,667900,6214894c8ad7f46545bdb545125c27440120d8fe,9,5,1,6547,,,0,"Fix ACLs for retired ansible-role-tripleo-cookiecutter

Change https://review.opendev.org/667418 retired
ansible-role-tripleo-cookiecutter but forgot to update the ACL line, do
this now.

Change-Id: I769834c67b3e4948093cfa5782b83d71c64d1f63
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/667900/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,6214894c8ad7f46545bdb545125c27440120d8fe,tripleo-cookie, acl-config: /home/gerrit2/acls/openstack/retired.config, acl-config: /home/gerrit2/acls/openstack/tripleo.config,1,1
openstack%2Fzun-ui~master~Ib959ad72941e12a19e68549e2b397cf1c396508f,openstack/zun-ui,master,Ib959ad72941e12a19e68549e2b397cf1c396508f,Add python37 job,MERGED,2019-06-21 03:37:40.000000000,2019-07-01 04:00:12.000000000,2019-07-01 04:00:12.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11536}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-21 03:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/ec834ef0a751f822687c0dc758dd1d587b781c7d', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib959ad72941e12a19e68549e2b397cf1c396508f\n""}, {'number': 2, 'created': '2019-06-21 06:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/11252028688793e2f93e7fd83e13f70ff4900989', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib959ad72941e12a19e68549e2b397cf1c396508f\n""}, {'number': 3, 'created': '2019-07-01 03:03:26.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/a6972f44ca0094501bdd69fd2cb486fbcb14ebad', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib959ad72941e12a19e68549e2b397cf1c396508f\n""}]",3,666764,a6972f44ca0094501bdd69fd2cb486fbcb14ebad,14,12,3,27822,,,0,"Add python37 job

Since we've entered Train and the runtime proposed include py37[1],
we need to include it in gate as well as local env.
This patch adds the support for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib959ad72941e12a19e68549e2b397cf1c396508f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/64/666764/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,ec834ef0a751f822687c0dc758dd1d587b781c7d,Bug#1,"envlist = pep8,py37,py27-local,py36-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-local","envlist = pep8,py27-local,py36-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-local",3,1
openstack%2Fswift~master~I7b07f0833d675d2939c910f679b54da2b8cda482,openstack/swift,master,I7b07f0833d675d2939c910f679b54da2b8cda482,Fix invalid assert states,MERGED,2019-06-28 09:00:42.000000000,2019-07-01 03:47:03.000000000,2019-07-01 03:45:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79950478e847013e87bcddc7f1c1e9e473ca4729', 'message': 'Fix invalid assert states\n\n""self.assertTrue(policies[1].is_deprecated, True)"" and\n""self.assertTrue(crashy_calls[0], 1)"" are not correct, this is\nto fix them.\n\nChange-Id: I7b07f0833d675d2939c910f679b54da2b8cda482\n'}, {'number': 2, 'created': '2019-07-01 01:25:48.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c46b88ab742761c8918013fa9cc40a169e015474', 'message': 'Fix invalid assert states\n\n""self.assertTrue(policies[1].is_deprecated, True)"" and\n""self.assertTrue(crashy_calls[0], 1)"" are not correct, this is\nto fix them.\n\nChange-Id: I7b07f0833d675d2939c910f679b54da2b8cda482\n'}]",1,668117,c46b88ab742761c8918013fa9cc40a169e015474,10,2,2,20190,,,0,"Fix invalid assert states

""self.assertTrue(policies[1].is_deprecated, True)"" and
""self.assertTrue(crashy_calls[0], 1)"" are not correct, this is
to fix them.

Change-Id: I7b07f0833d675d2939c910f679b54da2b8cda482
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/668117/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_storage_policy.py', 'test/unit/common/test_utils.py']",2,79950478e847013e87bcddc7f1c1e9e473ca4729,assertTrue," self.assertEqual(crashy_calls[0], 1)"," self.assertTrue(crashy_calls[0], 1)",2,2
openstack%2Fosprofiler~master~I50f5f369ec41ddc82f9b66f5910b7805940fb387,openstack/osprofiler,master,I50f5f369ec41ddc82f9b66f5910b7805940fb387,Bring env OSPROFILER_CONNECTION_STRING into effect,MERGED,2019-06-28 06:50:34.000000000,2019-07-01 03:43:02.000000000,2019-06-29 03:44:39.000000000,"[{'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2019-06-28 06:50:34.000000000', 'files': ['osprofiler/cmd/commands.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/ede0ec402eee45e107c1fde429c3332b3e49f60e', 'message': ""Bring env OSPROFILER_CONNECTION_STRING into effect\n\nThe --connection-string is marked required, and parse_args()\nassumes the flag invalid if it's not supplied as command line\nargument, even if env OSPROFILER_CONNECTION_STRING is setted.\n\nWe should not rely on the required=True of argparse module,\nbut check the required args on our own to take env arguments\ninto consideration.\n\nChange-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387\n""}]",0,668098,ede0ec402eee45e107c1fde429c3332b3e49f60e,10,4,1,30170,,,0,"Bring env OSPROFILER_CONNECTION_STRING into effect

The --connection-string is marked required, and parse_args()
assumes the flag invalid if it's not supplied as command line
argument, even if env OSPROFILER_CONNECTION_STRING is setted.

We should not rely on the required=True of argparse module,
but check the required args on our own to take env arguments
into consideration.

Change-Id: I50f5f369ec41ddc82f9b66f5910b7805940fb387
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/98/668098/1 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/cmd/commands.py'],1,ede0ec402eee45e107c1fde429c3332b3e49f60e,cmd-args-check," if not args.conn_str: raise exc.CommandError( ""You must provide connection string via"" "" either --connection-string or "" ""via env[OSPROFILER_CONNECTION_STRING]"") if not args.conn_str: raise exc.CommandError( ""You must provide connection string via"" "" either --connection-string or "" ""via env[OSPROFILER_CONNECTION_STRING]"")"," required=True, required=True,",11,2
openstack%2Ftrove-dashboard~master~I6eda6bb0ec36402f3d3be632b96e9104a1fe305a,openstack/trove-dashboard,master,I6eda6bb0ec36402f3d3be632b96e9104a1fe305a,Update the constraints url,ABANDONED,2019-06-20 16:20:34.000000000,2019-07-01 03:35:15.000000000,,"[{'_account_id': 1736}, {'_account_id': 13157}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 16:20:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/74b8274f77e668f96460d84be6836d19f55f313e', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I6eda6bb0ec36402f3d3be632b96e9104a1fe305a\n'}]",0,666632,74b8274f77e668f96460d84be6836d19f55f313e,3,3,1,29313,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I6eda6bb0ec36402f3d3be632b96e9104a1fe305a
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/32/666632/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,74b8274f77e668f96460d84be6836d19f55f313e,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fhorizon~master~Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c,openstack/horizon,master,Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c,Horizon template loader to index by actual panel directory,ABANDONED,2019-06-21 09:46:29.000000000,2019-07-01 03:25:36.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 09:46:29.000000000', 'files': ['horizon/base.py', 'horizon/loaders.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d82478a355e7d67cb7766a5d5023200a700279e3', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c\nCloses-Bug: #1533910\n'}]",0,666805,d82478a355e7d67cb7766a5d5023200a700279e3,4,2,1,29313,,,0,"Horizon template loader to index by actual panel directory

Since the introduction of Pluggable Settings, specifically
PANEL_DASHBOARD, panel can now be reassigned to a different dashboard
than the directory structure would suggest. This extends the indexing
logic to maintain a lookup dict with keys derived from the actual
panel directory as well.

Change-Id: Ia70dcd1c320861378e9b48be8cbd630bf1a25f2c
Closes-Bug: #1533910
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/666805/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/base.py', 'horizon/loaders.py']",2,d82478a355e7d67cb7766a5d5023200a700279e3,bug/1533910,panel_template_dirs_logical = {} panel_template_dirs_actual = {} template_dir = None if key in panel_template_dirs_logical: template_dir = panel_template_dirs_logical[key] elif key in panel_template_dirs_actual: template_dir = panel_template_dirs_actual.get(key) if template_dir:,panel_template_dirs = {} if key in panel_template_dirs: template_dir = panel_template_dirs[key],28,8
openstack%2Fcyborg~master~Id30a75c83c91b3a01ce12010abd9314630e8f284,openstack/cyborg,master,Id30a75c83c91b3a01ce12010abd9314630e8f284,Update json module to jsonutils,MERGED,2019-06-25 13:10:37.000000000,2019-07-01 03:07:51.000000000,2019-07-01 03:07:51.000000000,"[{'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-06-25 13:10:37.000000000', 'files': ['cyborg/accelerator/common/exception.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/nvmf_client.py', 'cyborg/api/controllers/v1/deployables.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/vhost_client.py', 'cyborg/api/middleware/parsable_error.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/75ecc3ab85f49faad74bb8d3be1f0a9aa6d752c6', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and cyborg use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\nReference link:\n[1]. https://github.com/openstack/cyborg/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: Id30a75c83c91b3a01ce12010abd9314630e8f284\n'}]",0,667362,75ecc3ab85f49faad74bb8d3be1f0a9aa6d752c6,8,7,1,28748,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and cyborg use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

Reference link:
[1]. https://github.com/openstack/cyborg/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: Id30a75c83c91b3a01ce12010abd9314630e8f284
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/62/667362/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/common/exception.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/nvmf_client.py', 'cyborg/api/controllers/v1/deployables.py', 'cyborg/accelerator/drivers/spdk/util/pyspdk/vhost_client.py', 'cyborg/api/middleware/parsable_error.py']",5,75ecc3ab85f49faad74bb8d3be1f0a9aa6d752c6,,from oslo_serialization import jsonutils body = [jsonutils.dumps({'error_message': '\n'.join(app_iter)})],import json body = [json.dumps({'error_message': '\n'.join(app_iter)})],12,13
openstack%2Freleases~master~Ic8711e68bea957e02be805523beac27daf3e70a8,openstack/releases,master,Ic8711e68bea957e02be805523beac27daf3e70a8,Updating tags for TripleO Ansible roles,MERGED,2019-06-28 15:22:36.000000000,2019-07-01 02:49:10.000000000,2019-07-01 02:49:10.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 15:22:36.000000000', 'files': ['deliverables/_independent/ansible-role-redhat-subscription.yaml', 'deliverables/_independent/ansible-role-tripleo-modify-image.yaml', 'deliverables/_independent/ansible-role-chrony.yaml', 'deliverables/rocky/ansible-role-container-registry.yaml', 'deliverables/rocky/ansible-role-tripleo-modify-image.yaml', 'deliverables/_independent/ansible-role-container-registry.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4be7fcc360c485a2a5776ee07e3eff6f4c1f5b02', 'message': ""Updating tags for TripleO Ansible roles\n\n1. Cleanup\n\nansible-role-tripleo-modify-image and ansible-role-container-registry\nare indepenpent, we don't want branch them and only produce tags at this\npoint.\n\n2. New tags\n\nansible-role-chrony: Release 1.0.0, the role is now used by default in\nStein and proved to work fine.\n\nansible-role-container-registry: release 1.1.0\n\nansible-role-redhat-subscription: release 1.0.3\n\nChange-Id: Ic8711e68bea957e02be805523beac27daf3e70a8\nansible-role-tripleo-modify-image: release 1.1.0\n""}]",0,668191,4be7fcc360c485a2a5776ee07e3eff6f4c1f5b02,8,4,1,3153,,,0,"Updating tags for TripleO Ansible roles

1. Cleanup

ansible-role-tripleo-modify-image and ansible-role-container-registry
are indepenpent, we don't want branch them and only produce tags at this
point.

2. New tags

ansible-role-chrony: Release 1.0.0, the role is now used by default in
Stein and proved to work fine.

ansible-role-container-registry: release 1.1.0

ansible-role-redhat-subscription: release 1.0.3

Change-Id: Ic8711e68bea957e02be805523beac27daf3e70a8
ansible-role-tripleo-modify-image: release 1.1.0
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/668191/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/ansible-role-redhat-subscription.yaml', 'deliverables/_independent/ansible-role-tripleo-modify-image.yaml', 'deliverables/_independent/ansible-role-chrony.yaml', 'deliverables/rocky/ansible-role-container-registry.yaml', 'deliverables/rocky/ansible-role-tripleo-modify-image.yaml', 'deliverables/_independent/ansible-role-container-registry.yaml']",6,4be7fcc360c485a2a5776ee07e3eff6f4c1f5b02,tripleo/ansible/roles,releases: - projects: - hash: c41c49db4a5498810638b7f11dbd9db3fac6ffc4 repo: openstack/ansible-role-container-registry version: 1.0.0 - projects: - hash: 54526ccde7417f230bb5a844dd985ef2ec372d6e repo: openstack/ansible-role-container-registry version: 1.1.0,stable-branch-type: tagless,27,26
openstack%2Fpuppet-openstack-integration~stable%2Frocky~Ibcaaf78f8f11e5fb57974451376d12e29ef33db8,openstack/puppet-openstack-integration,stable/rocky,Ibcaaf78f8f11e5fb57974451376d12e29ef33db8,Add implied branch config for pacemaker and ceph,MERGED,2019-06-25 15:34:35.000000000,2019-07-01 02:48:03.000000000,2019-07-01 02:48:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 15:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c1ce62edf0d5e80f465d57d52ebbd28607bb5728', 'message': ""Add implied branch config for stable/mimic\n\nCurrently jobs aren't running because ceph uses different naming\nconventions than openstack.\n\nChange-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8\n""}, {'number': 2, 'created': '2019-06-25 16:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d8f52f31ca2d5dea534909c69f1a5d4854b944ee', 'message': ""Add implied branch config for stable/mimic\n\nCurrently jobs aren't running because ceph uses different naming\nconventions than openstack.\n\nChange-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8\n""}, {'number': 3, 'created': '2019-06-25 16:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9e62b81bb8403722960ebfaeeceb088160cb298e', 'message': ""Add implied branch config for pacemaker and ceph\n\nCurrently jobs aren't running because ceph uses different naming\nconventions than openstack.  Also we branched pacemaker for 0.7.x which\nwill also need jobs running.\n\nChange-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8\n""}, {'number': 4, 'created': '2019-06-25 16:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1dae2210eb64547c3890b73c61f9e56f5ee3ef8b', 'message': ""Add implied branch config for pacemaker and ceph\n\nCurrently jobs aren't running because ceph uses different naming\nconventions than openstack.  Also we branched pacemaker for 0.7.x which\nwill also need jobs running.\n\nChange-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8\n""}, {'number': 5, 'created': '2019-06-26 18:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a07904b66f094d328f14899c4adc7bfab0ae438', 'message': ""Add implied branch config for pacemaker and ceph\n\nCurrently jobs aren't running because ceph uses different naming\nconventions than openstack.  Also we branched pacemaker for 0.7.x which\nwill also need jobs running.\n\nChange-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8\n""}, {'number': 6, 'created': '2019-06-26 18:43:54.000000000', 'files': ['playbooks/prepare-node-integration.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b542a9ffb894a42ae8f3c2ce3a0e33167ddea5ae', 'message': ""Add implied branch config for pacemaker and ceph\n\nCurrently jobs aren't running because ceph uses different naming\nconventions than openstack.  Also we branched pacemaker for 0.7.x which\nwill also need jobs running.\n\nChange-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8\n""}]",0,667387,b542a9ffb894a42ae8f3c2ce3a0e33167ddea5ae,14,4,6,14985,,,0,"Add implied branch config for pacemaker and ceph

Currently jobs aren't running because ceph uses different naming
conventions than openstack.  Also we branched pacemaker for 0.7.x which
will also need jobs running.

Change-Id: Ibcaaf78f8f11e5fb57974451376d12e29ef33db8
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/87/667387/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c1ce62edf0d5e80f465d57d52ebbd28607bb5728,fix-mimic-ci,- pragma: implied-branches: - stable/mimic,,3,0
openstack%2Freleases~master~I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148,openstack/releases,master,I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148,Release octavia-tempest-plugin 1.1.0,MERGED,2019-06-18 16:08:36.000000000,2019-07-01 02:41:51.000000000,2019-07-01 02:41:51.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 16:08:36.000000000', 'files': ['deliverables/train/octavia-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c3284b99dc5361db6a786829d8427b8586d1bc53', 'message': 'Release octavia-tempest-plugin 1.1.0\n\nChange-Id: I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148\n'}]",0,666037,c3284b99dc5361db6a786829d8427b8586d1bc53,11,6,1,6469,,,0,"Release octavia-tempest-plugin 1.1.0

Change-Id: I592d33f4f7a4a9a6fdd92f6900b9bf143a35a148
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/666037/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia-tempest-plugin.yaml'],1,c3284b99dc5361db6a786829d8427b8586d1bc53,,releases: - projects: - hash: 2261d112b2c5a9c25e3eceb701fe131a9782ddf5 repo: openstack/octavia-tempest-plugin version: 1.1.0,,5,0
openstack%2Freleases~master~Ibcc6427016c91e701c7cf7fc19dce15438c17b1c,openstack/releases,master,Ibcc6427016c91e701c7cf7fc19dce15438c17b1c,Neutron Rocky 13.0.4,MERGED,2019-06-24 15:06:57.000000000,2019-07-01 02:41:50.000000000,2019-07-01 02:41:50.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 15:06:57.000000000', 'files': ['deliverables/rocky/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cfc5a179d5c340d4de548a17d15ce965e192674a', 'message': 'Neutron Rocky 13.0.4\n\nChange-Id: Ibcc6427016c91e701c7cf7fc19dce15438c17b1c\n'}]",0,667122,cfc5a179d5c340d4de548a17d15ce965e192674a,11,7,1,1131,,,0,"Neutron Rocky 13.0.4

Change-Id: Ibcc6427016c91e701c7cf7fc19dce15438c17b1c
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/667122/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/neutron.yaml'],1,cfc5a179d5c340d4de548a17d15ce965e192674a,neutron-rocky-13.0.4, - projects: - hash: feab3462b2bf8b06caba6a15b2311309c6c08a50 repo: openstack/neutron version: 13.0.4,,4,0
openstack%2Freleases~master~I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054,openstack/releases,master,I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054,Neutron Stein 14.0.2,MERGED,2019-06-04 18:51:21.000000000,2019-07-01 02:41:49.000000000,2019-07-01 02:41:49.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 30484}, {'_account_id': 30503}]","[{'number': 1, 'created': '2019-06-04 18:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6f5477116f651b04a36649eeb6107ffa6fd135ba', 'message': 'Neutron Stein 14.0.2\n\nChange-Id: I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054\n'}, {'number': 2, 'created': '2019-06-17 15:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f920a0e09013a526c12bb65f458890c435287af2', 'message': 'Neutron Stein 14.0.2\n\nChange-Id: I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054\n'}, {'number': 3, 'created': '2019-06-24 15:05:05.000000000', 'files': ['deliverables/stein/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d249dea8cfdfeb9a4d789e9bfcbfaec3d0d65c94', 'message': 'Neutron Stein 14.0.2\n\nChange-Id: I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054\n'}]",0,663122,d249dea8cfdfeb9a4d789e9bfcbfaec3d0d65c94,29,12,3,1131,,,0,"Neutron Stein 14.0.2

Change-Id: I3d8b5fdec5c9f324978f0d2ed05d4edb01a85054
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/663122/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/neutron.yaml'],1,6f5477116f651b04a36649eeb6107ffa6fd135ba,neutron-stein-14.0.2, - projects: - hash: a9d291bd84ce136196572682133707788fb46d50 repo: openstack/neutron version: 14.0.2,,4,0
openstack%2Freleases~master~If9a51393fb37e8d698856eb06fff4d9d36888074,openstack/releases,master,If9a51393fb37e8d698856eb06fff4d9d36888074,Switch all tempest plugins to cycle-automatic,MERGED,2019-06-20 11:51:25.000000000,2019-07-01 02:26:18.000000000,2019-07-01 02:26:17.000000000,"[{'_account_id': 6469}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4d5c20c0ec320b07323a2b77a5364eb7b82748c8', 'message': 'Switch all tempest plugins to cycle-automatic\n\nSwitch all Train deliverables with type tempest-plugin to the\nnew cycle-automatic model, ensuring their automatic release\nonce (and only once) at the end of the release cycle.\n\nThis is a default setting. Projects that want to do multiple\ntempest plugin releases this cycle can switch back to the\ncycle-with-intermediary model when they push their release\nrequest.\n\nTask: 34190\nChange-Id: If9a51393fb37e8d698856eb06fff4d9d36888074\n'}, {'number': 2, 'created': '2019-06-20 14:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0bb8dd2f9f8d2414aceac29a8cb7b28d5c8b8ab3', 'message': 'Switch all tempest plugins to cycle-automatic\n\nSwitch all Train deliverables with type tempest-plugin to the\nnew cycle-automatic model, ensuring their automatic release\nonce (and only once) at the end of the release cycle.\n\nThis is a default setting. Projects that want to do multiple\ntempest plugin releases this cycle can switch back to the\ncycle-with-intermediary model when they push their release\nrequest.\n\nTask: 34190\nChange-Id: If9a51393fb37e8d698856eb06fff4d9d36888074\n'}, {'number': 3, 'created': '2019-06-20 15:55:21.000000000', 'files': ['deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/train/zun-tempest-plugin.yaml', 'deliverables/train/senlin-tempest-plugin.yaml', 'deliverables/train/vitrage-tempest-plugin.yaml', 'deliverables/train/trove-tempest-plugin.yaml', 'deliverables/train/mistral-tempest-plugin.yaml', 'deliverables/train/watcher-tempest-plugin.yaml', 'deliverables/train/heat-tempest-plugin.yaml', 'deliverables/train/kuryr-tempest-plugin.yaml', 'deliverables/train/manila-tempest-plugin.yaml', 'deliverables/train/octavia-tempest-plugin.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml', 'deliverables/train/zaqar-tempest-plugin.yaml', 'deliverables/train/barbican-tempest-plugin.yaml', 'deliverables/train/ec2api-tempest-plugin.yaml', 'deliverables/train/ironic-tempest-plugin.yaml', 'deliverables/train/keystone-tempest-plugin.yaml', 'deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/train/murano-tempest-plugin.yaml', 'deliverables/train/solum-tempest-plugin.yaml', 'deliverables/train/freezer-tempest-plugin.yaml', 'deliverables/train/magnum-tempest-plugin.yaml', 'deliverables/train/monasca-tempest-plugin.yaml', 'deliverables/train/neutron-tempest-plugin.yaml', 'deliverables/train/oswin-tempest-plugin.yaml', 'deliverables/train/telemetry-tempest-plugin.yaml', 'deliverables/train/designate-tempest-plugin.yaml', 'deliverables/train/sahara-tests.yaml', 'deliverables/train/congress-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a25f7068623d743d3866c4959b366d98c9f22473', 'message': 'Switch all tempest plugins to cycle-automatic\n\nSwitch all Train deliverables with type tempest-plugin to the\nnew cycle-automatic model, ensuring their automatic release\nonce (and only once) at the end of the release cycle.\n\nThis is a default setting. Projects that want to do multiple\ntempest plugin releases this cycle can switch back to the\ncycle-with-intermediary model when they push their release\nrequest.\n\nTask: 34190\nChange-Id: If9a51393fb37e8d698856eb06fff4d9d36888074\n'}]",2,666547,a25f7068623d743d3866c4959b366d98c9f22473,12,6,3,308,,,0,"Switch all tempest plugins to cycle-automatic

Switch all Train deliverables with type tempest-plugin to the
new cycle-automatic model, ensuring their automatic release
once (and only once) at the end of the release cycle.

This is a default setting. Projects that want to do multiple
tempest plugin releases this cycle can switch back to the
cycle-with-intermediary model when they push their release
request.

Task: 34190
Change-Id: If9a51393fb37e8d698856eb06fff4d9d36888074
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/666547/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/blazar-tempest-plugin.yaml', 'deliverables/train/zun-tempest-plugin.yaml', 'deliverables/train/senlin-tempest-plugin.yaml', 'deliverables/train/vitrage-tempest-plugin.yaml', 'deliverables/train/trove-tempest-plugin.yaml', 'deliverables/train/mistral-tempest-plugin.yaml', 'deliverables/train/watcher-tempest-plugin.yaml', 'deliverables/train/heat-tempest-plugin.yaml', 'deliverables/train/kuryr-tempest-plugin.yaml', 'deliverables/train/manila-tempest-plugin.yaml', 'deliverables/train/octavia-tempest-plugin.yaml', 'deliverables/train/cloudkitty-tempest-plugin.yaml', 'deliverables/train/zaqar-tempest-plugin.yaml', 'deliverables/train/barbican-tempest-plugin.yaml', 'deliverables/train/ec2api-tempest-plugin.yaml', 'deliverables/train/ironic-tempest-plugin.yaml', 'deliverables/train/keystone-tempest-plugin.yaml', 'deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/train/murano-tempest-plugin.yaml', 'deliverables/train/solum-tempest-plugin.yaml', 'deliverables/train/freezer-tempest-plugin.yaml', 'deliverables/train/magnum-tempest-plugin.yaml', 'deliverables/train/monasca-tempest-plugin.yaml', 'deliverables/train/neutron-tempest-plugin.yaml', 'deliverables/train/oswin-tempest-plugin.yaml', 'deliverables/train/telemetry-tempest-plugin.yaml', 'deliverables/train/designate-tempest-plugin.yaml', 'deliverables/train/sahara-tests.yaml', 'deliverables/train/congress-tempest-plugin.yaml']",29,4d5c20c0ec320b07323a2b77a5364eb7b82748c8,cycle-automatic,release-model: cycle-automatic,release-model: cycle-with-intermediary,29,29
openstack%2Freleases~master~I83ff63cef18ae297013c3761a373078e580cf58b,openstack/releases,master,I83ff63cef18ae297013c3761a373078e580cf58b,Introduce cycle-automatic release model,MERGED,2019-06-20 11:51:25.000000000,2019-07-01 02:26:13.000000000,2019-07-01 02:26:13.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2b97e7b248e7b440e69619cc71c06fdd67ce91d9', 'message': 'Introduce cycle-automatic release model\n\nFor things like tempest-plugins, the cycle-with-intermediary model\nis a bit overkill, especially now that we encourage multiple\nintermediary releases to qualify.\n\nIntroduce a new \'cycle-automatic\' model for deliverables that only\nneed to be released once, automatically at the end of the cycle.\nThis is limited to ""other"" or ""tempest-plugin"" deliverables.\n\nTask: 31025\nChange-Id: I83ff63cef18ae297013c3761a373078e580cf58b\n'}, {'number': 2, 'created': '2019-06-20 14:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d1444cd880a1ed7b60595e0d6100f7c092bc400a', 'message': 'Introduce cycle-automatic release model\n\nFor things like tempest-plugins, the cycle-with-intermediary model\nis a bit overkill, especially now that we encourage multiple\nintermediary releases to qualify.\n\nIntroduce a new \'cycle-automatic\' model for deliverables that only\nneed to be released once, automatically at the end of the cycle.\nThis is limited to ""other"" or ""tempest-plugin"" deliverables.\n\nTask: 31025\nChange-Id: I83ff63cef18ae297013c3761a373078e580cf58b\n'}, {'number': 3, 'created': '2019-06-20 15:54:57.000000000', 'files': ['doc/source/reference/release_models.rst', 'doc/source/reference/process.rst', 'openstack_releases/schema.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b0f8d79dc07f60aab6832b47cb09a6ce128fbd64', 'message': 'Introduce cycle-automatic release model\n\nFor things like tempest-plugins, the cycle-with-intermediary model\nis a bit overkill, especially now that we encourage multiple\nintermediary releases to qualify.\n\nIntroduce a new \'cycle-automatic\' model for deliverables that only\nneed to be released once, automatically at the end of the cycle.\nThis is limited to ""other"" or ""tempest-plugin"" deliverables.\n\nTask: 31025\nChange-Id: I83ff63cef18ae297013c3761a373078e580cf58b\n'}]",1,666546,b0f8d79dc07f60aab6832b47cb09a6ce128fbd64,12,4,3,308,,,0,"Introduce cycle-automatic release model

For things like tempest-plugins, the cycle-with-intermediary model
is a bit overkill, especially now that we encourage multiple
intermediary releases to qualify.

Introduce a new 'cycle-automatic' model for deliverables that only
need to be released once, automatically at the end of the cycle.
This is limited to ""other"" or ""tempest-plugin"" deliverables.

Task: 31025
Change-Id: I83ff63cef18ae297013c3761a373078e580cf58b
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/666546/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/release_models.rst', 'doc/source/reference/process.rst', 'openstack_releases/schema.yaml']",3,2b97e7b248e7b440e69619cc71c06fdd67ce91d9,cycle-automatic," enum: [""cycle-with-intermediary"", ""cycle-with-milestones"", ""cycle-trailing"", ""untagged"", ""cycle-with-rc"", ""cycle-automatic""]"," enum: [""cycle-with-intermediary"", ""cycle-with-milestones"", ""cycle-trailing"", ""untagged"", ""cycle-with-rc""]",20,1
openstack%2Fmonasca-persister~master~I43617c8ff4c2112850671c4841c47f718ace2146,openstack/monasca-persister,master,I43617c8ff4c2112850671c4841c47f718ace2146,Support set kafka processors option,ABANDONED,2019-06-12 10:07:48.000000000,2019-07-01 01:42:19.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-06-12 10:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/f1e301dc22646f0f6c64625ca019d4b1c6838a74', 'message': 'Support set kafka processors option\n\nAdd options for kafka_metrics and kafka_events.users can set\nprocessors for metrics and alarm history.\n\nChange-Id: I43617c8ff4c2112850671c4841c47f718ace2146\n'}, {'number': 2, 'created': '2019-06-28 01:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/54a8eaf6127bccccf727e7d886a2b8fffbf8fb08', 'message': 'Support set kafka processors option\n\nAdd options for kafka_metrics and kafka_events.users can set\nprocessors for metrics and alarm history.\n\nChange-Id: I43617c8ff4c2112850671c4841c47f718ace2146\n'}, {'number': 3, 'created': '2019-07-01 01:21:27.000000000', 'files': ['docker/Dockerfile', 'monasca_persister/conf/kafka_common.py', 'docker/README.rst', 'monasca_persister/conf/kafka_events.py', 'docker/monasca-persister.conf.j2', 'monasca_persister/conf/kafka_metrics.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/c44fa98d0bc96f72b1caf1db272c2fc3b3738795', 'message': 'Support set kafka processors option\n\nAdd options for kafka_metrics and kafka_events.users can set\nprocessors for metrics and alarm history.\n\nChange-Id: I43617c8ff4c2112850671c4841c47f718ace2146\n'}]",2,664848,c44fa98d0bc96f72b1caf1db272c2fc3b3738795,11,3,3,29970,,,0,"Support set kafka processors option

Add options for kafka_metrics and kafka_events.users can set
processors for metrics and alarm history.

Change-Id: I43617c8ff4c2112850671c4841c47f718ace2146
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/48/664848/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/conf/kafka_events.py', 'docker/monasca-persister.conf.j2', 'monasca_persister/conf/kafka_metrics.py']",3,f1e301dc22646f0f6c64625ca019d4b1c6838a74,process_num_metrics_alarms," cfg.IntOpt('num_processors', help='Number of processes for metrics topic', default=1)",,8,2
openstack%2Fdevstack~master~Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,openstack/devstack,master,Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610,Drop signing_dir option from configure_auth_token_middleware,MERGED,2019-01-04 17:53:03.000000000,2019-07-01 01:30:06.000000000,2019-07-01 01:30:06.000000000,"[{'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-04 17:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/58d8aa0dbae79790e8d0b7cdd121c718a2e1dbcc', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented. In order to not break backward compatibility\nwe ignore the 3rd argument and adjust callers to no longer\ncreate and set that directory.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}, {'number': 2, 'created': '2019-01-04 23:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5c9b64284872b9a1ce452f958cc7ed094963499', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented. In order to not break backward compatibility\nwe ignore the 3rd argument and adjust callers to no longer\ncreate and set that directory.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}, {'number': 3, 'created': '2019-01-05 09:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b46db609a4091c344ca7fa9cb6e3c00d3a14e083', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented. In order to not break backward compatibility\nwe ignore the 3rd argument and adjust callers to no longer\ncreate and set that directory.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}, {'number': 4, 'created': '2019-01-13 15:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/460b29316b67ac0453f5a79df21febaba5a43854', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented. In order to not break backward compatibility\nwe ignore the 3rd argument and adjust callers to no longer\ncreate and set that directory.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}, {'number': 5, 'created': '2019-03-12 15:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b06d58d5667a017365577bd3f52d09f7e62f1988', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented.\n\nIn order to not break backward compatibility we create a new function\nthat is to be used instead and deprecate the old one. Modify the old\nfunction to ignore the 3rd argument and display a deprecation warning.\nAdjust callers to no longer create and set that directory, calling the\nnew function instead.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}, {'number': 6, 'created': '2019-06-28 16:28:29.000000000', 'files': ['lib/placement', 'lib/cinder', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ab64b3236c93c8449edf80165017898b83f1269', 'message': 'Drop signing_dir option from configure_auth_token_middleware\n\nThis is no longer being used due to Keystone PKI tokens no longer\nbeing implemented.\n\nIn order to not break backward compatibility we create a new function\nthat is to be used instead and deprecate the old one. Modify the old\nfunction to ignore the 3rd argument and display a deprecation warning.\nAdjust callers to no longer create and set that directory, calling the\nnew function instead.\n\nChange-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610\n'}]",3,628651,8ab64b3236c93c8449edf80165017898b83f1269,49,10,6,6593,,,0,"Drop signing_dir option from configure_auth_token_middleware

This is no longer being used due to Keystone PKI tokens no longer
being implemented.

In order to not break backward compatibility we create a new function
that is to be used instead and deprecate the old one. Modify the old
function to ignore the 3rd argument and display a deprecation warning.
Adjust callers to no longer create and set that directory, calling the
new function instead.

Change-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/628651/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/swift', 'lib/glance', 'lib/neutron-legacy']",7,58d8aa0dbae79790e8d0b7cdd121c718a2e1dbcc,628651, configure_auth_token_middleware $NEUTRON_CONF nova nova configure_auth_token_middleware $conf_file $Q_ADMIN_USERNAME $section, configure_auth_token_middleware $NEUTRON_CONF nova $NEUTRON_AUTH_CACHE_DIR nova configure_auth_token_middleware $conf_file $Q_ADMIN_USERNAME $NEUTRON_AUTH_CACHE_DIR $section,14,38
openstack%2Ftempest~master~If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04,openstack/tempest,master,If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04,Use assert_flavor_equal to check flavor before and after microversion 2.46,MERGED,2019-06-26 09:43:16.000000000,2019-07-01 00:29:40.000000000,2019-07-01 00:29:39.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-06-26 09:43:16.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/83f524af28cc0e2de76eb3d85ba35986153eabb9', 'message': 'Use assert_flavor_equal to check flavor before and after microversion 2.46\n\nFlavor id is not returned in the server response after microversion 2.46,\nbut we can use base.assert_flavor_equal to check flavor before and after\nmicroversion 2.46.\n\nChange-Id: If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04\n'}]",0,667567,83f524af28cc0e2de76eb3d85ba35986153eabb9,7,3,1,20190,,,0,"Use assert_flavor_equal to check flavor before and after microversion 2.46

Flavor id is not returned in the server response after microversion 2.46,
but we can use base.assert_flavor_equal to check flavor before and after
microversion 2.46.

Change-Id: If04005a3ff5ef4b1faa4d2179ba2987abdd5ef04
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/667567/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,83f524af28cc0e2de76eb3d85ba35986153eabb9,flavor_check," self.assert_flavor_equal(self.flavor_ref, server['flavor'])"," # The flavor id is not returned in the server response after # microversion 2.46 so handle that gracefully. if server['flavor'].get('id'): self.assertEqual(self.flavor_ref, server['flavor']['id'])",1,4
openstack%2Ftempest~master~I4878632cabc75097b6e975a5a2dcce6945d30958,openstack/tempest,master,I4878632cabc75097b6e975a5a2dcce6945d30958,Fix invalid assertIsNone state,MERGED,2019-06-28 09:47:47.000000000,2019-06-30 23:46:15.000000000,2019-06-30 23:46:15.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-06-28 09:47:47.000000000', 'files': ['tempest/tests/cmd/test_run.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1afe4e75af59fcbadb8e29b968747a46073d165', 'message': 'Fix invalid assertIsNone state\n\nThis is to fix invalid assertIsNone state of\n""self.assertIsNone(None, self.run_cmd._build_regex(args))"".\n\nChange-Id: I4878632cabc75097b6e975a5a2dcce6945d30958\n'}]",1,668134,e1afe4e75af59fcbadb8e29b968747a46073d165,7,3,1,20190,,,0,"Fix invalid assertIsNone state

This is to fix invalid assertIsNone state of
""self.assertIsNone(None, self.run_cmd._build_regex(args))"".

Change-Id: I4878632cabc75097b6e975a5a2dcce6945d30958
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/668134/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/cmd/test_run.py'],1,e1afe4e75af59fcbadb8e29b968747a46073d165,assertIsNone, self.assertIsNone(self.run_cmd._build_regex(args))," self.assertIsNone(None, self.run_cmd._build_regex(args))",1,1
openstack%2Fmagnum~master~If42873cd6668c07e4e911e4eef5e4ae2232be66f,openstack/magnum,master,If42873cd6668c07e4e911e4eef5e4ae2232be66f,[k8s] Update prometheus monitoring helm based configuration,MERGED,2019-05-06 16:15:05.000000000,2019-06-30 21:58:40.000000000,2019-06-30 21:58:40.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-05-06 16:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2e9006a2d0d9430e6d14b12a85a3b32cb1fe73a8', 'message': '[wip] [k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.5.1\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 2, 'created': '2019-05-06 16:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1c53e6a6cc05b136dd0c40b9c293a359b21d9c2e', 'message': '[wip] [k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.5.1\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Fix typo on the default prometheus-operator grafana password\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 3, 'created': '2019-05-08 09:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/67d868e8cbd11c56dd855fc4918bc40bad556409', 'message': '[wip] [k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.5.1\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_version to enable the user to\nspecify the stable/prometheus-operator chart to use\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 4, 'created': '2019-06-13 13:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7ac4e632699d5a9738423e4141a495ca7de1b2bd', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_version to enable the user to\nspecify the stable/prometheus-operator chart to use\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 5, 'created': '2019-06-13 14:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9c3a30fa0ede6a6e997640345c6069d4ba02d827', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_version to enable the user to\nspecify the stable/prometheus-operator chart to use\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 6, 'created': '2019-06-13 15:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b743686f81a4b6dd29a8807aad892b6d1a10b87c', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_tag to enable the user to\nspecify the stable/prometheus-operator chart to use\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 7, 'created': '2019-06-14 09:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e80d655444275b81b17ac62ddbf0b373b2f08ed1', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_tag to enable the user to\nspecify the stable/prometheus-operator chart to use\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 8, 'created': '2019-06-19 13:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4a846f722271bc1f7442931ea2c7089a77abf05b', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_tag to enable the user to\nspecify the stable/prometheus-operator chart to use\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 9, 'created': '2019-06-21 17:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/77b99b7efa1d5b00ba2bb9eaf88c52d33eca1bdb', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_tag to enable the user to\nspecify the stable/prometheus-operator chart to use\n* Fix breaking changes on CoreDNS metrics introduced by\nhttps://github.com/openstack/magnum/commit/8fb27da2fc39c8be32ec756c1cc3779ae07d30a4\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 10, 'created': '2019-06-25 09:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/87b1b703eaf5d2820ba732dcdf417fede5db57a2', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_tag to enable the user to\nspecify the stable/prometheus-operator chart to use\n* Fix breaking changes on CoreDNS metrics introduced by\nhttps://github.com/openstack/magnum/commit/8fb27da2fc39c8be32ec756c1cc3779ae07d30a4\n* Fix Graphana dashboard not showing data.\n\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 11, 'created': '2019-06-25 10:08:07.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'releasenotes/notes/helm-install-prometheus-operator-ea87752bc57a0945.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/41b83cef43c21ce3bb68ce0cd76867fd111abf36', 'message': '[k8s] Update prometheus monitoring helm based configuration\n\n* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3\n* Fix an issue where when using Feature Gate Priority the scheduler\nwould evict the prometheus monitoring node-exporter pods\n* Fix an issue where intensive CPU utilization would make the\nmetrics fail intermitently or completly fail\n* Prometheus resources are now calculated based on the MAX_NODE_COUNT\nrequested\n* Change the sampling rate from the standard 30s to 1 minute (Rollback)\n* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap\n* Add label prometheus_operator_chart_tag to enable the user to\nspecify the stable/prometheus-operator chart to use\n* Fix breaking changes on CoreDNS metrics introduced by\nhttps://github.com/openstack/magnum/commit/8fb27da2fc39c8be32ec756c1cc3779ae07d30a4\n* Fix Graphana dashboard not showing data.\n\n\nChange-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f\nTask: 30777\nTask: 30779\nStory: 2005588\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}]",4,657403,41b83cef43c21ce3bb68ce0cd76867fd111abf36,28,4,11,29425,,,0,"[k8s] Update prometheus monitoring helm based configuration

* prometheus-operator chart version upgraded from 0.1.31. to 5.12.3
* Fix an issue where when using Feature Gate Priority the scheduler
would evict the prometheus monitoring node-exporter pods
* Fix an issue where intensive CPU utilization would make the
metrics fail intermitently or completly fail
* Prometheus resources are now calculated based on the MAX_NODE_COUNT
requested
* Change the sampling rate from the standard 30s to 1 minute (Rollback)
* Add the missing tiller CONTAINER_INFRA_PREFIX variable to the ConfigMap
* Add label prometheus_operator_chart_tag to enable the user to
specify the stable/prometheus-operator chart to use
* Fix breaking changes on CoreDNS metrics introduced by
https://github.com/openstack/magnum/commit/8fb27da2fc39c8be32ec756c1cc3779ae07d30a4
* Fix Graphana dashboard not showing data.


Change-Id: If42873cd6668c07e4e911e4eef5e4ae2232be66f
Task: 30777
Task: 30779
Story: 2005588
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/657403/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'doc/source/user/index.rst', 'releasenotes/notes/helm-install-prometheus-operator-ea87752bc57a0945.yaml']",3,2e9006a2d0d9430e6d14b12a85a3b32cb1fe73a8,story/2005588, is not set the password defaults to prom-operator., is not set the password defaults to prom_operator.,63,10
openstack%2Fmagnum~master~Ia443e3a129418048270487bf46af2cff488731f3,openstack/magnum,master,Ia443e3a129418048270487bf46af2cff488731f3,k8s_fedora: Update to kubernetes v1.14.3,MERGED,2019-06-18 20:33:52.000000000,2019-06-30 21:55:38.000000000,2019-06-30 21:55:38.000000000,"[{'_account_id': 6484}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-06-18 20:33:52.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2ad3fd8756e66b4870711ce6d2c43b2a772bce0f', 'message': ""k8s_fedora: Update to kubernetes v1.14.3\n\nThe previous patch I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7\nseems to have missed a few other variables so we're still\ndeploying 1.11 clusters by default.\n\nChange-Id: Ia443e3a129418048270487bf46af2cff488731f3\nstory: 2005380\ntask: 30362\n""}]",0,666166,2ad3fd8756e66b4870711ce6d2c43b2a772bce0f,10,8,1,1004,,,0,"k8s_fedora: Update to kubernetes v1.14.3

The previous patch I7ac0cffcdc8712503e2ea584b12d28ed3a7748b7
seems to have missed a few other variables so we're still
deploying 1.11 clusters by default.

Change-Id: Ia443e3a129418048270487bf46af2cff488731f3
story: 2005380
task: 30362
",git fetch https://review.opendev.org/openstack/magnum refs/changes/66/666166/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'],1,2ad3fd8756e66b4870711ce6d2c43b2a772bce0f,, default: v1.14.3 default: v1.14.3 default: v1.14.3, default: v1.11.6 default: v1.11.6 default: v1.11.6,3,3
openstack%2Fpython-magnumclient~master~Ib2c17cc0c244a89c700f309dc7dd971596fb0957,openstack/python-magnumclient,master,Ib2c17cc0c244a89c700f309dc7dd971596fb0957,Conditional hidden arg for backward compatibility,MERGED,2019-05-15 14:20:50.000000000,2019-06-30 21:52:24.000000000,2019-06-30 21:52:24.000000000,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-05-15 14:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/28a4974c55b275b9988c4babeb4f260481918b6b', 'message': 'Only supply hidden arg if True for backward compatibility\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}, {'number': 2, 'created': '2019-05-24 09:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/dafb43883bf8501271f04b366363b67e3d2c1786', 'message': 'Only supply hidden arg if True for backward compatibility\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}, {'number': 3, 'created': '2019-05-24 09:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/46c1101c75d5f84a5a96798cc5dafcd9f0d0ad53', 'message': 'Only supply hidden arg if True for backward compatibility\n\nAt the moment, the python-magnumclient supplies the ""hidden"" arg when creating\ncluster/cluster templates which is not backward compatible with pre-Stein\nMagnum. This patch addresses the issue.\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}, {'number': 4, 'created': '2019-05-24 09:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/3b86a34ca883c5722c50c84908ddcce816a7245c', 'message': 'Conditional hidden arg for backward compatibility\n\nAt the moment, the python-magnumclient supplies the ""hidden"" arg when\ncreating cluster/cluster templates which is not backward compatible with\npre-Stein Magnum. This patch addresses the issue.\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}, {'number': 5, 'created': '2019-05-28 19:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/17394fd5d109342e8438210cb455a0f98142e6c0', 'message': 'Conditional hidden arg for backward compatibility\n\nAt the moment, the python-magnumclient supplies the ""hidden"" arg when\ncreating cluster/cluster templates which is not backward compatible with\npre-Stein Magnum. This patch addresses the issue.\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}, {'number': 6, 'created': '2019-05-29 10:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e5b1399a1779785b2f80f8bb4c12b95a399a1ef9', 'message': 'Conditional hidden arg for backward compatibility\n\nAt the moment, the python-magnumclient supplies the ""hidden"" arg when\ncreating cluster/cluster templates which is not backward compatible with\npre-Stein Magnum. This patch addresses the issue.\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}, {'number': 7, 'created': '2019-06-03 10:03:16.000000000', 'files': ['magnumclient/osc/v1/cluster_templates.py', 'magnumclient/tests/osc/unit/v1/test_cluster_templates.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/c72512d41aee76ff849c600aae854ee55a80cb12', 'message': 'Conditional hidden arg for backward compatibility\n\nAt the moment, the python-magnumclient supplies the ""hidden"" arg when\ncreating cluster/cluster templates which is not backward compatible with\npre-Stein Magnum. This patch addresses the issue.\n\nStory: 2005539\nTask: 30678\n\nChange-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957\n'}]",0,659298,c72512d41aee76ff849c600aae854ee55a80cb12,22,5,7,28022,,,0,"Conditional hidden arg for backward compatibility

At the moment, the python-magnumclient supplies the ""hidden"" arg when
creating cluster/cluster templates which is not backward compatible with
pre-Stein Magnum. This patch addresses the issue.

Story: 2005539
Task: 30678

Change-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/98/659298/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/osc/v1/cluster_templates.py'],1,28a4974c55b275b9988c4babeb4f260481918b6b,659298, } # NOTE (brtknr): Only supply hidden arg if it is True # for backward compatibility if parsed_args.hidden: args['hidden'] = parsed_args.hidden , 'hidden': parsed_args.hidden },6,1
openstack%2Fpython-magnumclient~master~I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8,openstack/python-magnumclient,master,I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8,Fix coverage test,MERGED,2019-06-03 07:55:57.000000000,2019-06-30 21:52:23.000000000,2019-06-30 21:52:23.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-06-03 07:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/11d29cfe693ac6124a2943b6d90abdd0e3d19822', 'message': 'Fix coverage test\n\nThe coverage test has been broken since forever [1].\n\nFix it by updating coverage test to how other projects do it [2][3].\n\n[1] https://zuul.openstack.org/builds?job_name=openstack-tox-cover&project=openstack%2Fpython-magnumclient\n[2] https://github.com/openstack/nova/blob/stable/stein/tox.ini#L152-L167\n[3] https://github.com/openstack/cinder/blob/stable/stein/tox.ini#L99-L110\n\nChange-Id: I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8\n'}, {'number': 2, 'created': '2019-06-03 09:58:16.000000000', 'files': ['tools/cover.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/440f4b12fc67e8dd615319714bfefcf39dfa57a8', 'message': 'Fix coverage test\n\nThe coverage test has been broken since forever [1].\n\nFix it by updating coverage test to how other projects do it [2][3].\n\n[1] https://zuul.openstack.org/builds?job_name=openstack-tox-cover&project=openstack%2Fpython-magnumclient\n[2] https://github.com/openstack/nova/blob/stable/stein/tox.ini#L152-L167\n[3] https://github.com/openstack/cinder/blob/stable/stein/tox.ini#L99-L110\n\nChange-Id: I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8\n'}]",0,662701,440f4b12fc67e8dd615319714bfefcf39dfa57a8,10,3,2,8064,,,0,"Fix coverage test

The coverage test has been broken since forever [1].

Fix it by updating coverage test to how other projects do it [2][3].

[1] https://zuul.openstack.org/builds?job_name=openstack-tox-cover&project=openstack%2Fpython-magnumclient
[2] https://github.com/openstack/nova/blob/stable/stein/tox.ini#L152-L167
[3] https://github.com/openstack/cinder/blob/stable/stein/tox.ini#L99-L110

Change-Id: I3090e9d9b31dc668d177771de3cf1a8f3ea91ae8
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/01/662701/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/cover.sh', 'tox.ini']",2,11d29cfe693ac6124a2943b6d90abdd0e3d19822,cover,setenv = PYTHON=coverage run --source magnumclient --parallel-mode commands = stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report,commands = {toxinidir}/tools/cover.sh {posargs},8,80
openstack%2Fpython-magnumclient~master~I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4,openstack/python-magnumclient,master,I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4,Blacklist bandit 1.6.0 and cap Sphinx on Python2,MERGED,2019-06-03 07:55:57.000000000,2019-06-30 21:52:22.000000000,2019-06-30 21:52:22.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-06-03 07:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/6db1775844dcf10c8d65ee676480afa2cabb7174', 'message': 'Blacklist bandit 1.6.0\n\nChange-Id: I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4\n'}, {'number': 2, 'created': '2019-06-03 09:34:29.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/3d6e9bdcd0ce13a41359b8837d975b0af284a28d', 'message': 'Blacklist bandit 1.6.0 and cap Sphinx on Python2\n\nChange-Id: I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4\n'}]",0,662700,3d6e9bdcd0ce13a41359b8837d975b0af284a28d,10,3,2,8064,,,0,"Blacklist bandit 1.6.0 and cap Sphinx on Python2

Change-Id: I5d1f67cbf3295af13fa058c301c4a2eec6e0c3b4
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/00/662700/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6db1775844dcf10c8d65ee676480afa2cabb7174,bandit,"bandit!=1.6.0,>=1.1.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fopenstack-zuul-jobs~master~Ie6dd47255995387d143eaa2efe8b1592094415d9,openstack/openstack-zuul-jobs,master,Ie6dd47255995387d143eaa2efe8b1592094415d9,Remove upload-git-mirror test job,MERGED,2019-06-28 20:39:57.000000000,2019-06-30 20:08:42.000000000,2019-06-30 20:08:42.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 20:39:57.000000000', 'files': ['tests/upload-git-mirror.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/466436ccccb933ef3a50ecd3beb6ecd966451386', 'message': 'Remove upload-git-mirror test job\n\nThis has been moved to the zuul-jobs repo.\n\nDepends-On: https://review.opendev.org/668248\nChange-Id: Ie6dd47255995387d143eaa2efe8b1592094415d9\n'}]",0,668249,466436ccccb933ef3a50ecd3beb6ecd966451386,13,3,1,1,,,0,"Remove upload-git-mirror test job

This has been moved to the zuul-jobs repo.

Depends-On: https://review.opendev.org/668248
Change-Id: Ie6dd47255995387d143eaa2efe8b1592094415d9
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/49/668249/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/upload-git-mirror.yaml', 'zuul.d/jobs.yaml']",2,466436ccccb933ef3a50ecd3beb6ecd966451386,,, - job: name: zuul-jobs-upload-git-mirror description: | Tests for the upload-git-mirror role from zuul-jobs parent: base roles: - zuul: zuul/zuul-jobs run: tests/upload-git-mirror.yaml files: - ^roles/upload-git-mirror/.* - ^tests/upload-git-mirror.* nodeset: ubuntu-bionic,0,104
openstack%2Fcharm-swift-storage~master~Ib1c419a0c9710b4489777471226ccd680408f8fe,openstack/charm-swift-storage,master,Ib1c419a0c9710b4489777471226ccd680408f8fe,Sync charm-helpers for lp1826552,MERGED,2019-06-17 12:13:46.000000000,2019-06-30 20:02:08.000000000,2019-06-30 20:02:08.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24504}]","[{'number': 1, 'created': '2019-06-17 12:13:46.000000000', 'files': ['charmhelpers/contrib/ansible/__init__.py', 'charmhelpers/contrib/hardening/defaults/__init__.py', 'charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'charmhelpers/contrib/templating/__init__.py', 'charmhelpers/contrib/hardening/apache/templates/__init__.py', 'charmhelpers/contrib/templating/contexts.py', 'charmhelpers/contrib/ssl/service.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/context.py', 'charmhelpers/contrib/openstack/templates/vendor_data.json', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/hardening/host/templates/__init__.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/mellanox/__init__.py', 'charmhelpers/coordinator.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only', 'charmhelpers/contrib/templating/pyformat.py', 'charmhelpers/contrib/network/ovs/__init__.py', 'charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/saltstack/__init__.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/charmsupport/IMPORT', 'charmhelpers/contrib/ssl/__init__.py', 'charmhelpers/contrib/charmhelpers/IMPORT', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/amulet/deployment.py', 'charmhelpers/contrib/amulet/utils.py', 'charmhelpers/contrib/mellanox/infiniband.py', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'charmhelpers/contrib/templating/jinja.py', 'charmhelpers/contrib/benchmark/__init__.py', 'charmhelpers/contrib/charmhelpers/__init__.py', 'charmhelpers/payload/archive.py', 'charmhelpers/cli/README.rst', 'charmhelpers/contrib/database/__init__.py', 'charmhelpers/contrib/amulet/__init__.py', 'charmhelpers/contrib/unison/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/04a0fc47b0a66adcaba34df0c50ccc956cd95922', 'message': 'Sync charm-helpers for lp1826552\n\nEnsure that charmhelpers directory is up to date.\n\nChange-Id: Ib1c419a0c9710b4489777471226ccd680408f8fe\nNeeded-By: If621587a02746876ee6c35d7af2e878dbc2ac8ef\nPartial-Bug: 1826552\n'}]",0,665652,04a0fc47b0a66adcaba34df0c50ccc956cd95922,11,4,1,24504,,,0,"Sync charm-helpers for lp1826552

Ensure that charmhelpers directory is up to date.

Change-Id: Ib1c419a0c9710b4489777471226ccd680408f8fe
Needed-By: If621587a02746876ee6c35d7af2e878dbc2ac8ef
Partial-Bug: 1826552
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/52/665652/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/ansible/__init__.py', 'charmhelpers/contrib/hardening/defaults/__init__.py', 'charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'charmhelpers/contrib/templating/__init__.py', 'charmhelpers/contrib/hardening/apache/templates/__init__.py', 'charmhelpers/contrib/templating/contexts.py', 'charmhelpers/contrib/ssl/service.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/context.py', 'charmhelpers/contrib/openstack/templates/vendor_data.json', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/hardening/host/templates/__init__.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/mellanox/__init__.py', 'charmhelpers/coordinator.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only', 'charmhelpers/contrib/templating/pyformat.py', 'charmhelpers/contrib/network/ovs/__init__.py', 'charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/saltstack/__init__.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/charmsupport/IMPORT', 'charmhelpers/contrib/ssl/__init__.py', 'charmhelpers/contrib/charmhelpers/IMPORT', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/amulet/deployment.py', 'charmhelpers/contrib/amulet/utils.py', 'charmhelpers/contrib/mellanox/infiniband.py', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'charmhelpers/contrib/templating/jinja.py', 'charmhelpers/contrib/benchmark/__init__.py', 'charmhelpers/contrib/charmhelpers/__init__.py', 'charmhelpers/payload/archive.py', 'charmhelpers/cli/README.rst', 'charmhelpers/contrib/database/__init__.py', 'charmhelpers/contrib/amulet/__init__.py', 'charmhelpers/contrib/unison/__init__.py']",45,04a0fc47b0a66adcaba34df0c50ccc956cd95922,bug/1826552,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Easy file synchronization among peer units using ssh + unison. # # For the -joined, -changed, and -departed peer relations, add a call to # ssh_authorized_peers() describing the peer relation and the desired # user + group. After all peer relations have settled, all hosts should # be able to connect to on another via key auth'd ssh as the specified user. # # Other hooks are then free to synchronize files and directories using # sync_to_peers(). # # For a peer relation named 'cluster', for example: # # cluster-relation-joined: # ... # ssh_authorized_peers(peer_interface='cluster', # user='juju_ssh', group='juju_ssh', # ensure_local_user=True) # ... # # cluster-relation-changed: # ... # ssh_authorized_peers(peer_interface='cluster', # user='juju_ssh', group='juju_ssh', # ensure_local_user=True) # ... # # cluster-relation-departed: # ... # ssh_authorized_peers(peer_interface='cluster', # user='juju_ssh', group='juju_ssh', # ensure_local_user=True) # ... # # Hooks are now free to sync files as easily as: # # files = ['/etc/fstab', '/etc/apt.conf.d/'] # sync_to_peers(peer_interface='cluster', # user='juju_ssh, paths=[files]) # # It is assumed the charm itself has setup permissions on each unit # such that 'juju_ssh' has read + write permissions. Also assumed # that the calling charm takes care of leader delegation. # # Additionally files can be synchronized only to an specific unit: # sync_to_peer(slave_address, user='juju_ssh', # paths=[files], verbose=False) import os import pwd from copy import copy from subprocess import check_call, check_output from charmhelpers.core.host import ( adduser, add_user_to_group, pwgen, remove_password_expiry, ) from charmhelpers.core.hookenv import ( log, hook_name, relation_ids, related_units, relation_set, relation_get, unit_private_ip, INFO, ERROR, ) BASE_CMD = ['unison', '-auto', '-batch=true', '-confirmbigdel=false', '-fastcheck=true', '-group=false', '-owner=false', '-prefer=newer', '-times=true'] def get_homedir(user): try: user = pwd.getpwnam(user) return user.pw_dir except KeyError: log('Could not get homedir for user %s: user exists?' % (user), ERROR) raise Exception def create_private_key(user, priv_key_path, key_type='rsa'): types_bits = { 'rsa': '2048', 'ecdsa': '521', } if key_type not in types_bits: log('Unknown ssh key type {}, using rsa'.format(key_type), ERROR) key_type = 'rsa' if not os.path.isfile(priv_key_path): log('Generating new SSH key for user %s.' % user) cmd = ['ssh-keygen', '-q', '-N', '', '-t', key_type, '-b', types_bits[key_type], '-f', priv_key_path] check_call(cmd) else: log('SSH key already exists at %s.' % priv_key_path) check_call(['chown', user, priv_key_path]) check_call(['chmod', '0600', priv_key_path]) def create_public_key(user, priv_key_path, pub_key_path): if not os.path.isfile(pub_key_path): log('Generating missing ssh public key @ %s.' % pub_key_path) cmd = ['ssh-keygen', '-y', '-f', priv_key_path] p = check_output(cmd).strip() with open(pub_key_path, 'wb') as out: out.write(p) check_call(['chown', user, pub_key_path]) def get_keypair(user): home_dir = get_homedir(user) ssh_dir = os.path.join(home_dir, '.ssh') priv_key = os.path.join(ssh_dir, 'id_rsa') pub_key = '%s.pub' % priv_key if not os.path.isdir(ssh_dir): os.mkdir(ssh_dir) check_call(['chown', '-R', user, ssh_dir]) create_private_key(user, priv_key) create_public_key(user, priv_key, pub_key) with open(priv_key, 'r') as p: _priv = p.read().strip() with open(pub_key, 'r') as p: _pub = p.read().strip() return (_priv, _pub) def write_authorized_keys(user, keys): home_dir = get_homedir(user) ssh_dir = os.path.join(home_dir, '.ssh') auth_keys = os.path.join(ssh_dir, 'authorized_keys') log('Syncing authorized_keys @ %s.' % auth_keys) with open(auth_keys, 'w') as out: for k in keys: out.write('%s\n' % k) def write_known_hosts(user, hosts): home_dir = get_homedir(user) ssh_dir = os.path.join(home_dir, '.ssh') known_hosts = os.path.join(ssh_dir, 'known_hosts') khosts = [] for host in hosts: cmd = ['ssh-keyscan', host] remote_key = check_output(cmd, universal_newlines=True).strip() khosts.append(remote_key) log('Syncing known_hosts @ %s.' % known_hosts) with open(known_hosts, 'w') as out: for host in khosts: out.write('%s\n' % host) def ensure_user(user, group=None): adduser(user, pwgen()) if group: add_user_to_group(user, group) # Remove password expiry (Bug #1686085) remove_password_expiry(user) def ssh_authorized_peers(peer_interface, user, group=None, ensure_local_user=False): """""" Main setup function, should be called from both peer -changed and -joined hooks with the same parameters. """""" if ensure_local_user: ensure_user(user, group) priv_key, pub_key = get_keypair(user) hook = hook_name() if hook == '%s-relation-joined' % peer_interface: relation_set(ssh_pub_key=pub_key) elif hook == '%s-relation-changed' % peer_interface or \ hook == '%s-relation-departed' % peer_interface: hosts = [] keys = [] for r_id in relation_ids(peer_interface): for unit in related_units(r_id): ssh_pub_key = relation_get('ssh_pub_key', rid=r_id, unit=unit) priv_addr = relation_get('private-address', rid=r_id, unit=unit) if ssh_pub_key: keys.append(ssh_pub_key) hosts.append(priv_addr) else: log('ssh_authorized_peers(): ssh_pub_key ' 'missing for unit %s, skipping.' % unit) write_authorized_keys(user, keys) write_known_hosts(user, hosts) authed_hosts = ':'.join(hosts) relation_set(ssh_authorized_hosts=authed_hosts) def _run_as_user(user, gid=None): try: user = pwd.getpwnam(user) except KeyError: log('Invalid user: %s' % user) raise Exception uid = user.pw_uid gid = gid or user.pw_gid os.environ['HOME'] = user.pw_dir def _inner(): os.setgid(gid) os.setuid(uid) return _inner def run_as_user(user, cmd, gid=None): return check_output(cmd, preexec_fn=_run_as_user(user, gid), cwd='/') def collect_authed_hosts(peer_interface): '''Iterate through the units on peer interface to find all that have the calling host in its authorized hosts list''' hosts = [] for r_id in (relation_ids(peer_interface) or []): for unit in related_units(r_id): private_addr = relation_get('private-address', rid=r_id, unit=unit) authed_hosts = relation_get('ssh_authorized_hosts', rid=r_id, unit=unit) if not authed_hosts: log('Peer %s has not authorized *any* hosts yet, skipping.' % (unit), level=INFO) continue if unit_private_ip() in authed_hosts.split(':'): hosts.append(private_addr) else: log('Peer %s has not authorized *this* host yet, skipping.' % (unit), level=INFO) return hosts def sync_path_to_host(path, host, user, verbose=False, cmd=None, gid=None, fatal=False): """"""Sync path to an specific peer host Propagates exception if operation fails and fatal=True. """""" cmd = cmd or copy(BASE_CMD) if not verbose: cmd.append('-silent') # removing trailing slash from directory paths, unison # doesn't like these. if path.endswith('/'): path = path[:(len(path) - 1)] cmd = cmd + [path, 'ssh://%s@%s/%s' % (user, host, path)] try: log('Syncing local path %s to %s@%s:%s' % (path, user, host, path)) run_as_user(user, cmd, gid) except Exception: log('Error syncing remote files') if fatal: raise def sync_to_peer(host, user, paths=None, verbose=False, cmd=None, gid=None, fatal=False): """"""Sync paths to an specific peer host Propagates exception if any operation fails and fatal=True. """""" if paths: for p in paths: sync_path_to_host(p, host, user, verbose, cmd, gid, fatal) def sync_to_peers(peer_interface, user, paths=None, verbose=False, cmd=None, gid=None, fatal=False): """"""Sync all hosts to an specific path The type of group is integer, it allows user has permissions to operate a directory have a different group id with the user id. Propagates exception if any operation fails and fatal=True. """""" if paths: for host in collect_authed_hosts(peer_interface): sync_to_peer(host, user, paths, verbose, cmd, gid, fatal) ",,5047,23
openstack%2Fpython-zunclient~master~Iaad3a772d216987273337f829bb49c6167bf298c,openstack/python-zunclient,master,Iaad3a772d216987273337f829bb49c6167bf298c,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 12:47:07.000000000,2019-06-30 19:22:50.000000000,2019-06-30 19:22:50.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-20 12:47:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/5ab28a43c36516ab645b08907ebecdc88a50a6a0', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iaad3a772d216987273337f829bb49c6167bf298c\n'}]",0,666557,5ab28a43c36516ab645b08907ebecdc88a50a6a0,6,3,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iaad3a772d216987273337f829bb49c6167bf298c
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/57/666557/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ab28a43c36516ab645b08907ebecdc88a50a6a0,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fopenstack-zuul-jobs~master~I960ab96cf370c4305826e0f5c55f49a8d8934406,openstack/openstack-zuul-jobs,master,I960ab96cf370c4305826e0f5c55f49a8d8934406,set package.use values for ovs on Gentoo,ABANDONED,2019-06-29 18:02:30.000000000,2019-06-30 19:04:28.000000000,,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 18:02:30.000000000', 'files': ['tests/multi-node-bridge.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/82855cf5b0ea1640de8acc7374b0ddc74dd99247', 'message': 'set package.use values for ovs on Gentoo\n\nChange-Id: I960ab96cf370c4305826e0f5c55f49a8d8934406\n'}]",2,668303,82855cf5b0ea1640de8acc7374b0ddc74dd99247,6,3,1,14288,,,0,"set package.use values for ovs on Gentoo

Change-Id: I960ab96cf370c4305826e0f5c55f49a8d8934406
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/03/668303/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/multi-node-bridge.yaml'],1,82855cf5b0ea1640de8acc7374b0ddc74dd99247,fix-ovs-install-on-gentoo," - name: Set package.use values for OVS on Gentoo become: yes lineinfile: path: /etc/portage/package.use/ovs line: ""{{ item.line }}"" create: yes with_items: - { line: 'dev-python/twisted conch # for openvswitch' } - { line: 'sys-apps/util-linux caps # for openvswitch' } - { line: 'net-misc/openvswitch -modules # ovs/gre are staticly built' } when: - ansible_distribution == 'Gentoo'",,12,0
openstack%2Fopenstack-zuul-jobs~master~I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01,openstack/openstack-zuul-jobs,master,I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01,DNM: Fix Gentoo ovs install,ABANDONED,2019-06-30 07:21:29.000000000,2019-06-30 19:04:12.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-30 07:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/427b313a4e87039ed0e92e70923db71fb62cc71a', 'message': 'DNM: Test  package.use  for Gentoo\n\nDo not merge, this is for testing https://review.opendev.org/#/c/668303\n\nChange-Id: I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01\n'}, {'number': 2, 'created': '2019-06-30 07:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2a53e9357125eed3c09684d94b7b68d245cd2c3c', 'message': 'DNM: Test  package.use  for Gentoo\n\nDo not merge, this is for testing https://review.opendev.org/#/c/668303\n\nDepends-On: https://review.opendev.org/668319\nChange-Id: I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01\n'}, {'number': 3, 'created': '2019-06-30 08:32:59.000000000', 'files': ['tests/multi-node-bridge.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/de26ec665cb6f32f787975e6c841d5b8baaccbde', 'message': 'DNM: Fix Gentoo ovs install\n\nDo not merge, this is for testing 668319 - to fix the failure\nin https://review.opendev.org/668249.\n\nDepends-On: https://review.opendev.org/668319\nChange-Id: I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01\n'}]",0,668316,de26ec665cb6f32f787975e6c841d5b8baaccbde,9,2,3,6547,,,0,"DNM: Fix Gentoo ovs install

Do not merge, this is for testing 668319 - to fix the failure
in https://review.opendev.org/668249.

Depends-On: https://review.opendev.org/668319
Change-Id: I86cc3b3ace21e0a3424a2f7d7a06842bc591ea01
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/16/668316/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/multi-node-bridge.yaml'],1,427b313a4e87039ed0e92e70923db71fb62cc71a,fix-ovs-install-on-gentoo, - name: Output package.use values for OVS on Gentoo command: cat /etc/portage/package.use/ovs when: - ansible_distribution == 'Gentoo' - name: List package.use for OVS on Gentoo command: ls -l /etc/portage/package.use/ovs when: - ansible_distribution == 'Gentoo' ,,9,0
openstack%2Fcinder~stable%2Focata~I8c581225eada929bc947b13f851bb228000f32fe,openstack/cinder,stable/ocata,I8c581225eada929bc947b13f851bb228000f32fe,Add bindep.txt,MERGED,2019-06-25 14:32:48.000000000,2019-06-30 18:40:18.000000000,2019-06-30 18:40:18.000000000,"[{'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-25 14:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/246deee56724688622b5a73bd4ce18a7ff02018a', 'message': ""This is a combination of 4 commits.\n\n1. Add a local bindep.txt override\n\nThis avoids falling back to the global bindep-fallback.txt which\ninstalls a pretty big environment. Without this change, a lot\nof additional but unnecessary packages are installed on the nodepool\nworkers.\n\nConflicts:\n    tox.ini\nNote(elod.illes): Due to not having patch\nIf247add30d8dc4761dacb82c8d02ea4bd71546f0 on stable/ocata\n\n(cherry picked from commit 2db0497fde2e26f09f23a4af4c8a253fc3190227)\n\n2. Add libssl to bindep\n\nSource builds using cryptography need libssl-dev (and assorted other\nplatform package names) to compile. Adding package declaration for\ndpkg, rpm, and suse.\n\nCloses-bug: #1696262\n(cherry picked from commit 9151ea2719deb28930084c562ed08c404367ed74)\n\n3. Add thin-provisioning-tools to bindep\n\nIf we're going to use auto we should make sure we add\nthin-provisioning-tools to bindep.  I think RHEL/CentOS\nvariants include this by default.\n\n(cherry picked from commit c6a4a6b2f27d1031a6e2398e9f0674ff8dd01d6d)\n\n4. Add thin provisioning package to install guide\n\nOur installation guide walks through configuring storage nodes\nusing the LVM driver. LVM now defaults to thinly provisioned,\nwhich requires thing-provisioning-tools to be installed on the\nhost. So by default, our instructions will result in failure\nwhen we attempt to perform thin provision operations.\n\nThis adds mention of installing the required package for each\nplatform's instructions to get the necessary tools installed.\n\nIt also adds device-mapper-persistent-data to bindep for Red\nHat based platforms to get those thin provisioning tools that\nwere previously missing for these platforms.\n\nTools appear to be installed by default on Suse platforms.\n\nCloses-bug: #1738409\nCloses-bug: #1740262\n(cherry picked from commit 78fa04624d8ab07203a028b256e7001c1ce18679)\n(cherry picked from commit 8518fe30685fd3a47c3f4372b67bd27d28ee19b2)\n\nConflicts:\n    doc/source/install/cinder-storage-install-rdo.rst\n    doc/source/install/cinder-storage-install-ubuntu.rst\nNote(elod.illes): conflict is caused by not having these documentation\nfiles on ocata.\n\nChange-Id: I8c581225eada929bc947b13f851bb228000f32fe\n""}, {'number': 2, 'created': '2019-06-25 14:36:30.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73e5a7bbd54a5fa0462e08842aa9b5fe3ea4d373', 'message': ""Add bindep.txt\n\nThis is a combination of 4 commits to solve the issue created by the\nremoval of global bindep-fallback.txt.\n\n1. Add a local bindep.txt override\n\nThis avoids falling back to the global bindep-fallback.txt which\ninstalls a pretty big environment. Without this change, a lot\nof additional but unnecessary packages are installed on the nodepool\nworkers.\n\nConflicts:\n    tox.ini\nNote(elod.illes): Due to not having patch\nIf247add30d8dc4761dacb82c8d02ea4bd71546f0 on stable/ocata\n\n(cherry picked from commit 2db0497fde2e26f09f23a4af4c8a253fc3190227)\n\n2. Add libssl to bindep\n\nSource builds using cryptography need libssl-dev (and assorted other\nplatform package names) to compile. Adding package declaration for\ndpkg, rpm, and suse.\n\nCloses-bug: #1696262\n(cherry picked from commit 9151ea2719deb28930084c562ed08c404367ed74)\n\n3. Add thin-provisioning-tools to bindep\n\nIf we're going to use auto we should make sure we add\nthin-provisioning-tools to bindep.  I think RHEL/CentOS\nvariants include this by default.\n\n(cherry picked from commit c6a4a6b2f27d1031a6e2398e9f0674ff8dd01d6d)\n\n4. Add thin provisioning package to install guide\n\nOur installation guide walks through configuring storage nodes\nusing the LVM driver. LVM now defaults to thinly provisioned,\nwhich requires thing-provisioning-tools to be installed on the\nhost. So by default, our instructions will result in failure\nwhen we attempt to perform thin provision operations.\n\nThis adds mention of installing the required package for each\nplatform's instructions to get the necessary tools installed.\n\nIt also adds device-mapper-persistent-data to bindep for Red\nHat based platforms to get those thin provisioning tools that\nwere previously missing for these platforms.\n\nTools appear to be installed by default on Suse platforms.\n\nCloses-bug: #1738409\nCloses-bug: #1740262\n(cherry picked from commit 78fa04624d8ab07203a028b256e7001c1ce18679)\n(cherry picked from commit 8518fe30685fd3a47c3f4372b67bd27d28ee19b2)\n\nConflicts:\n    doc/source/install/cinder-storage-install-rdo.rst\n    doc/source/install/cinder-storage-install-ubuntu.rst\nNote(elod.illes): conflict is caused by not having these documentation\nfiles on ocata.\n\nChange-Id: I8c581225eada929bc947b13f851bb228000f32fe\n""}]",0,667375,73e5a7bbd54a5fa0462e08842aa9b5fe3ea4d373,23,16,2,17685,,,0,"Add bindep.txt

This is a combination of 4 commits to solve the issue created by the
removal of global bindep-fallback.txt.

1. Add a local bindep.txt override

This avoids falling back to the global bindep-fallback.txt which
installs a pretty big environment. Without this change, a lot
of additional but unnecessary packages are installed on the nodepool
workers.

Conflicts:
    tox.ini
Note(elod.illes): Due to not having patch
If247add30d8dc4761dacb82c8d02ea4bd71546f0 on stable/ocata

(cherry picked from commit 2db0497fde2e26f09f23a4af4c8a253fc3190227)

2. Add libssl to bindep

Source builds using cryptography need libssl-dev (and assorted other
platform package names) to compile. Adding package declaration for
dpkg, rpm, and suse.

Closes-bug: #1696262
(cherry picked from commit 9151ea2719deb28930084c562ed08c404367ed74)

3. Add thin-provisioning-tools to bindep

If we're going to use auto we should make sure we add
thin-provisioning-tools to bindep.  I think RHEL/CentOS
variants include this by default.

(cherry picked from commit c6a4a6b2f27d1031a6e2398e9f0674ff8dd01d6d)

4. Add thin provisioning package to install guide

Our installation guide walks through configuring storage nodes
using the LVM driver. LVM now defaults to thinly provisioned,
which requires thing-provisioning-tools to be installed on the
host. So by default, our instructions will result in failure
when we attempt to perform thin provision operations.

This adds mention of installing the required package for each
platform's instructions to get the necessary tools installed.

It also adds device-mapper-persistent-data to bindep for Red
Hat based platforms to get those thin provisioning tools that
were previously missing for these platforms.

Tools appear to be installed by default on Suse platforms.

Closes-bug: #1738409
Closes-bug: #1740262
(cherry picked from commit 78fa04624d8ab07203a028b256e7001c1ce18679)
(cherry picked from commit 8518fe30685fd3a47c3f4372b67bd27d28ee19b2)

Conflicts:
    doc/source/install/cinder-storage-install-rdo.rst
    doc/source/install/cinder-storage-install-ubuntu.rst
Note(elod.illes): conflict is caused by not having these documentation
files on ocata.

Change-Id: I8c581225eada929bc947b13f851bb228000f32fe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/667375/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,246deee56724688622b5a73bd4ce18a7ff02018a,bindep-fallback,"[testenv:bindep] # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,38,0
openstack%2Fglance~stable%2Focata~Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f,openstack/glance,stable/ocata,Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f,Add a local bindep.txt override,MERGED,2019-06-27 14:58:08.000000000,2019-06-30 18:40:16.000000000,2019-06-30 18:40:16.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 14:58:08.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/1fbcf0960b1e3727789e3c837e2679e8db202e8b', 'message': 'Add a local bindep.txt override\n\nThis avoids falling back to the global bindep-fallback.txt which\ninstalls a pretty big environment. Without this change, a lot\nof additional but unnecessary packages are installed on the nodepool\nworkers.\n\nChange-Id: Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f\n(cherry picked from commit 8db99e2213e6d597e9e8ac6cd9c00843e1b28eda)\n(cherry picked from commit 5ed509804980dd3013d0e9e4fe7a498b6c90d2e2)\n'}]",0,667954,1fbcf0960b1e3727789e3c837e2679e8db202e8b,8,4,1,17685,,,0,"Add a local bindep.txt override

This avoids falling back to the global bindep-fallback.txt which
installs a pretty big environment. Without this change, a lot
of additional but unnecessary packages are installed on the nodepool
workers.

Change-Id: Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f
(cherry picked from commit 8db99e2213e6d597e9e8ac6cd9c00843e1b28eda)
(cherry picked from commit 5ed509804980dd3013d0e9e4fe7a498b6c90d2e2)
",git fetch https://review.opendev.org/openstack/glance refs/changes/54/667954/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,1fbcf0960b1e3727789e3c837e2679e8db202e8b,bindep-fallback,"[testenv:bindep] # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,33,0
openstack%2Fmanila-specs~master~I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd,openstack/manila-specs,master,I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd,Add update share-type API to Share Types,MERGED,2019-05-24 06:43:02.000000000,2019-06-30 18:37:00.000000000,2019-06-30 18:37:00.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 18058}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26968}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2019-05-24 06:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f474fad3a39f271e88e21e060a489bf8639b08d9', 'message': 'Add update share-type API to Share Types\n\nCurrently, only the name and description and public access of share-type\nis set when the share-type is created, and not allowed to be edited after\nthe share-type is created. We can only set extra spec for share-type. But\nnot name or description or public access for share-type.\n\nAPIImpact\nDOCImpact\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd\nImplements: blueprint update-share-type-name-or-description\n'}, {'number': 2, 'created': '2019-05-30 03:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/525aca644b9cb5eb41a54089fa16ecbbda76bcb8', 'message': 'Add update share-type API to Share Types\n\nCurrently, only the name and description and public access of share-type\nis set when the share-type is created, and not allowed to be edited after\nthe share-type is created. We can only set extra spec for share-type. But\nnot name or description or public access for share-type.\n\nAPIImpact\nDOCImpact\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint update-share-type-name-or-description\nChange-Id: I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd\n'}, {'number': 3, 'created': '2019-06-18 06:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/c864d85a9652ecf6450ca7073acef171bc671aec', 'message': 'Add update share-type API to Share Types\n\nCurrently, only the name and description and public access of share-type\nis set when the share-type is created, and not allowed to be edited after\nthe share-type is created. We can only set extra spec for share-type. But\nnot name or description or public access for share-type.\n\nAPIImpact\nDOCImpact\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint update-share-type-name-or-description\nChange-Id: I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd\n'}, {'number': 4, 'created': '2019-06-24 06:51:02.000000000', 'files': ['specs/train/update-share-type-name-or-description.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2bef7387badbb1149770db693a1b70054654d728', 'message': 'Add update share-type API to Share Types\n\nCurrently, only the name and description and public access of share-type\nis set when the share-type is created, and not allowed to be edited after\nthe share-type is created. We can only set extra spec for share-type. But\nnot name or description or public access for share-type.\n\nAPIImpact\nDOCImpact\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint update-share-type-name-or-description\nChange-Id: I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd\n'}]",50,661209,2bef7387badbb1149770db693a1b70054654d728,32,14,4,30407,,,0,"Add update share-type API to Share Types

Currently, only the name and description and public access of share-type
is set when the share-type is created, and not allowed to be edited after
the share-type is created. We can only set extra spec for share-type. But
not name or description or public access for share-type.

APIImpact
DOCImpact

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Implements: blueprint update-share-type-name-or-description
Change-Id: I306dc02e4bd3d507dfee18fca77b43dfba6c3ccd
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/09/661209/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/update-share-type-name-or-description.rst'],1,f474fad3a39f271e88e21e060a489bf8639b08d9,bp/update-share-type-name-or-description,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================== Update share-type's name and/or description in Stein ==================================================== https://blueprints.launchpad.net/manila/+spec/update-share-type-name-or-description This blueprint proposed to update the name and/or description of ``share-type`` after create an share type, that support update the name and/or description of share-type without change other attribute. Problem description =================== Currently, only the name and description and public access of share-type is set when the share-type is created, and not allowed to be edited after the share-type is created. We can only set extra spec for share-type. But not name or description or public access for share-type. Use Cases --------- As a user, I would like to update the attribute of share-type, and I can set the name or description or public access of share-type after created. I would prefer this when I need a new share-type and do not have to create a new one. Proposed change =============== Add a new function API to the **Share types**. * Add a update share-type API: - Add ``update`` method to ``ShareTypesController`` class. - Add ``name``, ``description`` and ``share_type_access:is_public`` parameters to ``share_type`` of the request body. - Make the ``name`` and ``description`` parameters optional. And their length not more than 255. ``share_type_access:is_public`` parameters is also optional, but it's a **boolean** type. If ``name`` is **NULL**, the name of share type will not updated. If ``description`` is **NULL**, the description of share type will not updated. If ``share_type_access:is_public`` is **NULL**, the public access of share type will not updated. If ``name`` is """", the name of share type is not valid. If ``description`` is """", the description of share type will be empty. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- * URL: * /v2/{project_id}/types/{share_type_id} * Request method: * PUT * Normal http response code(s): * 200(OK) * Expected error http response code(s): * 400(Bad Request), 401(Unauthorized), 403(Forbidden), 404(Not Found), 409(Conflict) The config of update share-type attribute will be able to add to request payload :: { ""share_type"": { ""name"": ""testing"", ""description"": ""share type description"", ""share_type_access:is_public"": true } } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- User will be able to update share-type attribute after created. Manila client may add help to inform users this new function. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: haixin Other contributors: Brin Zhang Work Items ---------- * Add update share-type API to the **Share types**. * Add update share-type API to manilaclient, and it will be supported by 'manila type-update'. * Add functional tests * Add units tests. * Add tempest tests. Dependencies ============ None Testing ======= * Add related unittest * Add related functional test * Add tempest tests Documentation Impact ==================== Add update share-type API information to docs. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,165,0
openstack%2Fdevstack-plugin-ceph~master~I1aa87fc16a37b6051e55c35ae69ef911a87d4c11,openstack/devstack-plugin-ceph,master,I1aa87fc16a37b6051e55c35ae69ef911a87d4c11,tempest: re-enable shelve tests for stable rocky,MERGED,2019-06-28 09:31:30.000000000,2019-06-30 17:06:24.000000000,2019-06-30 17:06:24.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:31:30.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ffcba4bb55b897fb521f3fc8cf7806de95f49aac', 'message': 'tempest: re-enable shelve tests for stable rocky\n\nRelated-Bug: #1653953\nDepends-On: https://review.opendev.org/#/c/668119/\nChange-Id: I1aa87fc16a37b6051e55c35ae69ef911a87d4c11\n'}]",0,668128,ffcba4bb55b897fb521f3fc8cf7806de95f49aac,13,4,1,10135,,,0,"tempest: re-enable shelve tests for stable rocky

Related-Bug: #1653953
Depends-On: https://review.opendev.org/#/c/668119/
Change-Id: I1aa87fc16a37b6051e55c35ae69ef911a87d4c11
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/28/668128/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,ffcba4bb55b897fb521f3fc8cf7806de95f49aac,bug/1653953," if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike|queens) ]]; then"," if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike|queens|rocky) ]]; then",1,1
openstack%2Fdevstack-plugin-ceph~master~I132e26486782918d31a9ac10332f2802342883a9,openstack/devstack-plugin-ceph,master,I132e26486782918d31a9ac10332f2802342883a9,tempest: re-enable shelve tests for stable stein,MERGED,2019-06-28 09:28:25.000000000,2019-06-30 11:23:06.000000000,2019-06-30 11:23:06.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:28:25.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2590c305f164012dca427e54f74eb3d50f72b854', 'message': 'tempest: re-enable shelve tests for stable stein\n\nRelated-Bug: #1653953\nDepends-On: https://review.opendev.org/668118/\nChange-Id: I132e26486782918d31a9ac10332f2802342883a9\n'}]",0,668125,2590c305f164012dca427e54f74eb3d50f72b854,10,5,1,10135,,,0,"tempest: re-enable shelve tests for stable stein

Related-Bug: #1653953
Depends-On: https://review.opendev.org/668118/
Change-Id: I132e26486782918d31a9ac10332f2802342883a9
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/25/668125/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2590c305f164012dca427e54f74eb3d50f72b854,bug/1653953," if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike|queens|rocky) ]]; then"," if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike|queens|rocky|stein) ]]; then",1,1
openstack%2Fnova~master~Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0,openstack/nova,master,Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0,Fix test_flavors to run with correct microversion,MERGED,2019-06-20 10:51:20.000000000,2019-06-30 09:14:08.000000000,2019-06-28 05:39:51.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-20 10:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/414ee53c0a449987201d95c94f56a078e51a811c', 'message': 'Fix test_flavors to run with correct microversion\n\ntest_flavors has microversion tests FlavorsTestV2_55 and\nFlavorsTestV2_61 which are suppose to run all the base class\ntest with respective microversion. But few tests in base class\ndoes not set the microversion in request so they are always being\nrun with 2.1 version even running under FlavorsTestV2_61.\n\nFixing those tests by using the self._build_request() which\nset the microversion on request.\n\nChange-Id: Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0\n'}, {'number': 2, 'created': '2019-06-28 04:09:42.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1339b2f1275a0c675d01931415021ad9092f3e6e', 'message': 'Fix test_flavors to run with correct microversion\n\ntest_flavors has microversion tests FlavorsTestV2_55 and\nFlavorsTestV2_61 which are suppose to run all the base class\ntest with respective microversion. But few tests in base class\ndoes not set the microversion in request so they are always being\nrun with 2.1 version even running under FlavorsTestV2_61.\n\nFixing those tests by using the self._build_request() which\nset the microversion on request.\n\nChange-Id: Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0\n'}]",2,666536,1339b2f1275a0c675d01931415021ad9092f3e6e,24,12,2,8556,,,0,"Fix test_flavors to run with correct microversion

test_flavors has microversion tests FlavorsTestV2_55 and
FlavorsTestV2_61 which are suppose to run all the base class
test with respective microversion. But few tests in base class
does not set the microversion in request so they are always being
run with 2.1 version even running under FlavorsTestV2_61.

Fixing those tests by using the self._build_request() which
set the microversion on request.

Change-Id: Ic9d708e2c5559fa1adccc0e6bdb22f1143ca1fc0
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/666536/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_flavors.py'],1,414ee53c0a449987201d95c94f56a078e51a811c,bp/api-consistency-cleanup, req = self._build_request('/v2/fake/flavors?limit=2') if self.expect_description: expected_flavors[0]['description'] = ( fakes.FLAVORS['1'].description) req = self._build_request(url) if self.expect_description: expected_resp[0]['description'] = ( fakes.FLAVORS['2'].description) if 'detail' in url and self.expect_extra_specs: expected_resp[0]['extra_specs'] = ( fakes.FLAVORS['2'].extra_specs) req = self._build_request( url + '?marker=1&%s=%s&%s=%s' % if self.expect_description: expected_resp[0]['description'] = ( fakes.FLAVORS['2'].description) if 'detail' in url and self.expect_extra_specs: expected_resp[0]['extra_specs'] = ( fakes.FLAVORS['2'].extra_specs) req = self._build_request(url + '&limit=1&marker=1'), req = fakes.HTTPRequest.blank('/v2/fake/flavors?limit=2') req = self.fake_request.blank(self._prefix + url) req = self.fake_request.blank( self._prefix + url + '?marker=1&%s=%s&%s=%s' % req = self.fake_request.blank(self._prefix + url + '&limit=1&marker=1'),20,5
openstack%2Fcharm-specs~master~Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b,openstack/charm-specs,master,Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b,Add cinder-backup-swift spec,MERGED,2018-10-31 15:28:35.000000000,2019-06-30 08:17:26.000000000,2019-06-30 08:17:26.000000000,"[{'_account_id': 935}, {'_account_id': 8108}, {'_account_id': 11582}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 29685}]","[{'number': 1, 'created': '2018-10-31 15:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/b073f5fb3695d86bb84427351f183153128f70e6', 'message': 'add cinder-backend-external-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 2, 'created': '2018-11-06 11:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/322beb318d42e08ccca3fed8bfb142083b11698d', 'message': 'add cinder-backend-external-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 3, 'created': '2019-01-21 11:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/9404ab3d008ca1fb8b7701042021aeba9abf467c', 'message': 'add cinder-backend-external-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 4, 'created': '2019-03-11 16:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/d81b2715a80ecf786ac51a42124d04f52ecf0e2c', 'message': 'add cinder-backend-external-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 5, 'created': '2019-03-11 16:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/d46fcda98e542dbf25b990564606fd19f3f08d8c', 'message': 'add cinder-backend-external-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 6, 'created': '2019-06-20 07:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/84aef7bd8c7fa9abc3a67fce42ebc4db77598b28', 'message': 'Update cinder-backup-swift spec to comply with repository naming\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 7, 'created': '2019-06-20 08:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/23e36a738ad61c1599947d6ca09e3c7632a77103', 'message': 'Add cinder-backup-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}, {'number': 8, 'created': '2019-06-28 20:25:21.000000000', 'files': ['specs/train/backlog/cinder-backup-swift.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/80e70dc1506439446467a7446e37fe786362c7f6', 'message': 'Add cinder-backup-swift spec\n\nChange-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b\n'}]",15,614552,80e70dc1506439446467a7446e37fe786362c7f6,28,7,8,24824,,,0,"Add cinder-backup-swift spec

Change-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/52/614552/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/cinder-backend-external-swift.rst'],1,b073f5fb3695d86bb84427351f183153128f70e6,cinder-backend-swift,".. Copyright 2018 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =============================== External Swift Backup Driver for Cinder =============================== It is possible to use swift API for cinder backup purposes. In one of the configurations the swift API provider is deployed via non-Juju means. This spec is aimed to address this use-case specifically. Problem Description =================== Cinder has support for backing up volumes via Swift API. In order to use it a URL is needed along with authentication details. At least 4 methods are possible to use to authenticate against a swift endpoint: * v1 auth (URL, username, password); * v2 auth (URL, username, password, tenant); * v3 auth (URL, username, password, project domain, project, user domain, username, password); * `swauth <https://swauth.readthedocs.io/en/latest/>`__. The backup to swift functionality is supported on all versions of OpenStack supported at the time of writing. It was `added in 2013.1 <https://blueprints.launchpad.net/cinder/+spec/volume-backups>`__ Backup configuration should be added to cinder.conf and can be propagated from the cinder-backup-like charm to the cinder charm. Extending the existing cinder-backup charm is not favorable as it is ceph-specific. Config options for the swift backend are `present here <https://docs.openstack.org/cinder/rocky/configuration/block-storage/backup/swift-backup-driver.html>`__ Proposed Change =============== Implement a cinder-backup-swift charm based on cinder-backup charm with the following functionality: * config options for configuring the swift backend (auth, url, other parameters); * (optional for the initial implementation) relation-based retrieval of information above. Alternatives ------------ * extend cinder-backup to support swift options (discarded as it is already Ceph-specific); * extend cinder-backup to support clusters not deployed via charms by creating proxy charms (discarded as cinder-backup is Ceph-specific and proxy charms add additional complexity). Implementation ============== Assignee(s) ----------- Primary assignee: yoshikadokawa Gerrit Topic ------------ Use Gerrit topic ""cinder-backend-swift"" for all patches related to this spec. .. code-block:: bash git-review -t cinder-backend-swift Work Items ---------- * implement a cinder-backup-swift charm based on cinder-backup (preferrably using reactive framework) with options relevant to the swift backend; * write unit tests; * write functional tests using the zaza test framework (a functional tests should include deploying swift via swift-proxy and swift-storage charms with config options used to connect to it from the cinder-backend-swift charm). Repositories ------------ The following repository should be created for the new charm: .. code-block:: bash openstack/charm-cinder-backup-swift Documentation ------------- The charm should contain documented options and authentication methods for the target Swift cluster. Security -------- The Swift endpoint might be TLS-terminated, therefore, having an option to provide a CA certificate is a good idea. Testing ------- * unit tests; * functional tests (as mentioned above). Dependencies ============ - A new project will need to be created based on the OpenStack Project `Creator's Guide <https://docs.openstack.org/infra/manual/creators.html>`__ ",,126,0
openstack%2Fironic~master~Id9461015f7352a3cc6278d0eaf2970764cafedb9,openstack/ironic,master,Id9461015f7352a3cc6278d0eaf2970764cafedb9,DRAC: Upgraded RAID delete_config cleaning step,MERGED,2019-06-11 16:45:15.000000000,2019-06-30 07:39:16.000000000,2019-06-29 13:05:09.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 29405}]","[{'number': 1, 'created': '2019-06-11 16:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4dedffa9ccf3e725a100a3a810852a9859f520dc', 'message': 'Upgraded RAID delete_configuration cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 2, 'created': '2019-06-11 16:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6650a66f5f5102496343fdfd63094e035a8a9487', 'message': 'Upgraded RAID delete_configuration cleaning step\n\nThis patch upgrades Delete_configuration cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 3, 'created': '2019-06-12 09:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1e8d2ac45ff158ce1702b4323eb4de0ed15c47b', 'message': 'Upgraded RAID delete_configuration cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 4, 'created': '2019-06-12 10:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db2ab291ebcc309df9248eeff59320b7ee2ad4dd', 'message': 'Upgraded RAID delete_configuration cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 5, 'created': '2019-06-12 13:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f4ea25368a60e413fe723798dbb76cbf71a697c', 'message': 'Upgraded RAID delete_configuration cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 6, 'created': '2019-06-12 18:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e6546cecdff8c15fe9b27db8dd6026bcb335659', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 7, 'created': '2019-06-13 06:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec9d46b08cb6eb6ed9b7c95c43846a8d851ad2ed', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 8, 'created': '2019-06-13 15:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/261c5df49cd8230d0e03fea4688f2f09d7f94850', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\n'}, {'number': 9, 'created': '2019-06-13 21:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b59b30d3372937fa77be69e32df09987a2bddbdd', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\nStory: 2005884\nTask: 33732\n'}, {'number': 10, 'created': '2019-06-17 12:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/302ffaee01e7f3ec75e8f0072bf311e67daa5728', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\nStory: 2005884\nTask: 33732\n'}, {'number': 11, 'created': '2019-06-18 06:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0192a843d7450beeacf41a66d206e2b628f0cff4', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\nStory: 2005884\nTask: 33732\n'}, {'number': 12, 'created': '2019-06-19 06:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99ee93ce2b1ed43d4713c2cf9a86e702c3ae34ad', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\nStory: 2005884\nTask: 33732\n'}, {'number': 13, 'created': '2019-06-28 10:20:21.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/upgrade-delete_configuration-0f0bb43c57278734.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4724d55e962cb08d048a223e73971106da5c3cb6', 'message': 'DRAC: Upgraded RAID delete_config cleaning step\n\nThis upgrades Delete_configuration by cleaning step by\nreplacing delete_virtual_disk with reset_raid_config\nwhich is not only responsible for removing Virtual Disks\nbut also removes Global and Dedicated Hot-Spares.\nIt also removes any foreign drives.\n\nChange-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9\nStory: 2005884\nTask: 33732\n'}]",80,664633,4724d55e962cb08d048a223e73971106da5c3cb6,99,13,13,29405,,,0,"DRAC: Upgraded RAID delete_config cleaning step

This upgrades Delete_configuration by cleaning step by
replacing delete_virtual_disk with reset_raid_config
which is not only responsible for removing Virtual Disks
but also removes Global and Dedicated Hot-Spares.
It also removes any foreign drives.

Change-Id: Id9461015f7352a3cc6278d0eaf2970764cafedb9
Story: 2005884
Task: 33732
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/664633/12 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/modules/drac/releasenotes/notes/upgrade-delete_configuration-0f0bb43c57278734.yaml', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",5,4dedffa9ccf3e725a100a3a810852a9859f520dc,," dracclient.constants.RebootRequired = mock.MagicMock( spec_set=mock_specs.DRACCLIENT_CONSTANTS_REBOOT_REQUIRED_MOD_SPEC, true=mock.sentinel.true, optional=mock.sentinel.optional, false=mock.sentinel.false) ",,235,77
openstack%2Fos-testr~master~I67c57d65accb3822f7f6a03fea96356fae9025b9,openstack/os-testr,master,I67c57d65accb3822f7f6a03fea96356fae9025b9,Update hacking version,MERGED,2019-03-06 14:22:28.000000000,2019-06-30 06:30:52.000000000,2019-06-30 06:30:51.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27078}, {'_account_id': 27781}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-06 14:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/e01920ce7ad63b5febf2538738ed25b7795eb5b7', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9\n'}, {'number': 2, 'created': '2019-03-20 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/f75881f3772e5dfad48db2c912050a8d4aa1f461', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9\n'}, {'number': 3, 'created': '2019-04-13 02:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/55fa33ae4a548e433dde206231eaec7f874a169c', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9\n'}, {'number': 4, 'created': '2019-06-04 06:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/2bf4f878af41d2a6fd200eef507628e9db51a555', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9\n'}, {'number': 5, 'created': '2019-06-30 05:52:12.000000000', 'files': ['test-requirements.txt', 'os_testr/subunit2html.py', 'os_testr/tests/test_ostestr.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/414bbf6d85550d0146f0885c1f5242e753471a81', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9\n'}]",0,641384,414bbf6d85550d0146f0885c1f5242e753471a81,20,7,5,28614,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I67c57d65accb3822f7f6a03fea96356fae9025b9
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/84/641384/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,e01920ce7ad63b5febf2538738ed25b7795eb5b7,,"# E731 skipped as assign a lambda expressionignore = E123,E125,E731,H405","ignore = E123,E125,H405",3,2
openstack%2Fos-testr~master~I1292c179725fcbba4110c05bb836d6074748a481,openstack/os-testr,master,I1292c179725fcbba4110c05bb836d6074748a481,Update the documentation urls,ABANDONED,2017-08-29 08:57:16.000000000,2019-06-30 05:35:15.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-29 08:57:16.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/92ab6e3df47d5f02ae31462c17fa98a49f630fda', 'message': 'Update the documentation urls\n\nChange-Id: I1292c179725fcbba4110c05bb836d6074748a481\n'}]",0,498714,92ab6e3df47d5f02ae31462c17fa98a49f630fda,10,4,1,17954,,,0,"Update the documentation urls

Change-Id: I1292c179725fcbba4110c05bb836d6074748a481
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/14/498714/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'setup.cfg', 'HACKING.rst']",5,92ab6e3df47d5f02ae31462c17fa98a49f630fda,fix-urls,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,8,8
openstack%2Fos-testr~master~Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5,openstack/os-testr,master,Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:39:54.000000000,2019-06-30 05:33:35.000000000,2019-06-30 05:33:35.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-23 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/35db7dcfb4661563a2ef04718e7b725f6f03af3f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\n'}, {'number': 2, 'created': '2019-04-26 10:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/fdf3ab79df3074b4502c8c0860f3748accc60bbb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\nCloses-Bug: #1826529\n'}, {'number': 3, 'created': '2019-06-05 02:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/73b76f3459905e82e06f047c3263175c79f6e7fb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\nCloses-Bug: #1826529\n'}, {'number': 4, 'created': '2019-06-05 02:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/6d4aecf256f9a02131582928480f9fc99c51b6a1', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\nCloses-Bug: #1826529\n'}, {'number': 5, 'created': '2019-06-05 06:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/96e504b0b0f0dc9a4576e27c918da6acc90bb3fb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\nCloses-Bug: #1826529\n'}, {'number': 6, 'created': '2019-06-05 06:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/2769e8dadfe2e76b185b9f07ac502b72964a3043', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\nCloses-Bug: #1826529\n'}, {'number': 7, 'created': '2019-06-25 09:33:30.000000000', 'files': ['os_testr/tests/files/setup.cfg', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/ad00e6d41b441e10f0b4ed81511e66660a9eeaa0', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5\nCloses-Bug: #1826529\n'}]",2,655062,ad00e6d41b441e10f0b4ed81511e66660a9eeaa0,30,8,7,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Update some URLs to latest

Change-Id: Ifcb01ece24fb28d4dc28daa0a638787280fe8eb5
Closes-Bug: #1826529
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/62/655062/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'tox.ini']",3,35db7dcfb4661563a2ef04718e7b725f6f03af3f,bug/1826529, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fcinder~master~Id91996545f7f75c1c62cea34e240b9655b8ff3af,openstack/cinder,master,Id91996545f7f75c1c62cea34e240b9655b8ff3af,Launch driver list generation with the same python interpreter,MERGED,2019-06-28 17:07:53.000000000,2019-06-30 03:51:24.000000000,2019-06-28 22:00:08.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-28 17:07:53.000000000', 'files': ['doc/ext/cinder_driverlist.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dd5232ea5ee36beda56946647fda9002fa0a608', 'message': 'Launch driver list generation with the same python interpreter\n\nIn package building process, there might be build environments\nbecoming more popular without Python 2.x being installed, with\nother words /usr/bin/python does not exist. The existing script\nuses a shebang of ""env python"", which works fine inside a virtualenv\nbut not outside. The easy solution is to just call the script\nwith the same python interpreter we\'re being called with.\n\nChange-Id: Id91996545f7f75c1c62cea34e240b9655b8ff3af\n'}]",0,668207,9dd5232ea5ee36beda56946647fda9002fa0a608,25,21,1,6593,,,0,"Launch driver list generation with the same python interpreter

In package building process, there might be build environments
becoming more popular without Python 2.x being installed, with
other words /usr/bin/python does not exist. The existing script
uses a shebang of ""env python"", which works fine inside a virtualenv
but not outside. The easy solution is to just call the script
with the same python interpreter we're being called with.

Change-Id: Id91996545f7f75c1c62cea34e240b9655b8ff3af
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/668207/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/cinder_driverlist.py'],1,9dd5232ea5ee36beda56946647fda9002fa0a608,,"import sys rv = utils.execute(sys.executable, './tools/generate_driver_list.py', ['docs'])"," rv = utils.execute('./tools/generate_driver_list.py', ['docs'])",2,1
openstack%2Fzun~master~Ibfa5cd8a48502c3dec357437fef0094ab8960a77,openstack/zun,master,Ibfa5cd8a48502c3dec357437fef0094ab8960a77,Endpoint type for glanceclient,MERGED,2019-06-28 20:07:03.000000000,2019-06-30 02:39:25.000000000,2019-06-30 02:39:25.000000000,"[{'_account_id': 10068}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 28721}]","[{'number': 1, 'created': '2019-06-28 20:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/57bd53cac86f501120b0abebb4766dc3b2cb5779', 'message': ""Endpoint type for glanceclient\n\n    At this moment nevertheless of 'endpoint_type' parameter from\n'glance_client' section Zun always tries to interact with Glance\npublic API endpoint. If public API endpoint unaccessible from\ncompute nodes zun-compute service is unable to run new container\nfrom image stored in the glance repository.\n    This patch intended to make Zun use 'endpoint_type' parameter\nfrom 'glance_client' section of zun.conf file and pass the same\ntype of endpoint to the glanceclient.\n\nChange-Id: Ibfa5cd8a48502c3dec357437fef0094ab8960a77\n""}, {'number': 2, 'created': '2019-06-28 21:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5f4262d5766e5394be165a95361fba9e86f9e6b5', 'message': ""Endpoint type for glanceclient\n\n    At this moment nevertheless of 'endpoint_type' parameter from\n'glance_client' section Zun always tries to interact with Glance\npublic API endpoint. If public API endpoint unaccessible from\ncompute nodes zun-compute service is unable to run new container\nfrom image stored in the glance repository.\n    This patch intended to make Zun use 'endpoint_type' parameter\nfrom 'glance_client' section of zun.conf file and pass the same\ntype of endpoint to the glanceclient.\n\nChange-Id: Ibfa5cd8a48502c3dec357437fef0094ab8960a77\n""}, {'number': 3, 'created': '2019-06-29 23:13:29.000000000', 'files': ['zun/tests/unit/common/test_clients.py', 'zun/common/clients.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/bcd102c97e7aa6cff77273aa487c7dd70704d8d0', 'message': ""Endpoint type for glanceclient\n\nAt this moment nevertheless of 'endpoint_type' parameter from\n'glance_client' section Zun always tries to interact with Glance\npublic API endpoint. If public API endpoint unaccessible from\ncompute nodes zun-compute service is unable to run new container\nfrom image stored in the glance repository.\n\nThis patch intended to make Zun use 'endpoint_type' parameter\nfrom 'glance_client' section of zun.conf file and pass the same\ntype of endpoint to the glanceclient.\n\nChange-Id: Ibfa5cd8a48502c3dec357437fef0094ab8960a77\n""}]",1,668241,bcd102c97e7aa6cff77273aa487c7dd70704d8d0,16,4,3,30609,,,0,"Endpoint type for glanceclient

At this moment nevertheless of 'endpoint_type' parameter from
'glance_client' section Zun always tries to interact with Glance
public API endpoint. If public API endpoint unaccessible from
compute nodes zun-compute service is unable to run new container
from image stored in the glance repository.

This patch intended to make Zun use 'endpoint_type' parameter
from 'glance_client' section of zun.conf file and pass the same
type of endpoint to the glanceclient.

Change-Id: Ibfa5cd8a48502c3dec357437fef0094ab8960a77
",git fetch https://review.opendev.org/openstack/zun refs/changes/41/668241/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/common/test_clients.py', 'zun/common/clients.py']",2,57bd53cac86f501120b0abebb4766dc3b2cb5779,glance_endpoint_type," return str(self.keystone().client.session.get_endpoint(**kwargs)) endpoint_type = self._get_client_option('glance', 'endpoint_type') region_name = self._get_client_option('glance', 'region_name') glance_url = self.url_for(service_type='image', interface=endpoint_type, region_name=region_name) endpoint=glance_url,", return self.keystone().session.get_endpoint(**kwargs),12,3
openstack%2Fzun-tempest-plugin~master~I5eb04993f39a4098cde4293fccd07f8458a1cd5d,openstack/zun-tempest-plugin,master,I5eb04993f39a4098cde4293fccd07f8458a1cd5d,Remove tests for docker container,MERGED,2019-06-08 21:56:59.000000000,2019-06-30 00:09:26.000000000,2019-06-30 00:09:26.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-08 21:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/dffe9875396e50b2565eb7d3e5725bc2f7e477fe', 'message': '[WIP] Remove tests for docker container\n\nTests for verifying docker containers is removed from tempest\ntest suite and re-introduce in fullstack tests.\nThis is because tempest tests are supposed to be a pure API tests.\nTouching docker containers are beyond the scope of tempest tests\nso we split them out.\n\nDepends-On: https://review.opendev.org/#/c/658702/\nChange-Id: I5eb04993f39a4098cde4293fccd07f8458a1cd5d\n'}, {'number': 2, 'created': '2019-06-08 22:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/dacd792e947401f95e2bdd58475c9f7fe9dcaed0', 'message': '[WIP] Remove tests for docker container\n\nTests for verifying docker containers is removed from tempest\ntest suite and re-introduce in fullstack tests.\nThis is because tempest tests are supposed to be a pure API tests.\nTouching docker containers are beyond the scope of tempest tests\nso we split them out.\n\nDepends-On: https://review.opendev.org/#/c/658702/\nChange-Id: I5eb04993f39a4098cde4293fccd07f8458a1cd5d\n'}, {'number': 3, 'created': '2019-06-09 16:37:27.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py', 'zun_tempest_plugin/tests/tempest/api/clients.py', 'zun_tempest_plugin/tests/tempest/base.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/552948142d4f4fb1f0f47e54a7e9fca31d353a6c', 'message': 'Remove tests for docker container\n\nTests for verifying docker containers is removed from tempest\ntest suite and re-introduce in fullstack tests.\nThis is because tempest tests are supposed to be a pure API tests.\nTouching docker containers are beyond the scope of tempest tests\nso we split them out.\n\nDepends-On: https://review.opendev.org/#/c/658702/\nChange-Id: I5eb04993f39a4098cde4293fccd07f8458a1cd5d\n'}]",0,664145,552948142d4f4fb1f0f47e54a7e9fca31d353a6c,9,2,3,11536,,,0,"Remove tests for docker container

Tests for verifying docker containers is removed from tempest
test suite and re-introduce in fullstack tests.
This is because tempest tests are supposed to be a pure API tests.
Touching docker containers are beyond the scope of tempest tests
so we split them out.

Depends-On: https://review.opendev.org/#/c/658702/
Change-Id: I5eb04993f39a4098cde4293fccd07f8458a1cd5d
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/45/664145/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_tempest_plugin/tests/tempest/api/test_containers.py', 'zun_tempest_plugin/tests/tempest/api/clients.py']",2,dffe9875396e50b2565eb7d3e5725bc2f7e477fe,,," def list_instances(self, inspect=False): """"""List all containers."""""" res = [] for container in self.containers(all=True): info = self.inspect_container(container['Id']) if not info: continue if inspect: res.append(info) else: res.append(info['Config'].get('Hostname')) return res def list_containers(self): return self.containers(all=True, filters={'name': 'zun-'}) def get_container(self, container_id, docker_auth_url=CONF.docker.api_url): with docker_client(docker_auth_url) as docker: for info in docker.list_instances(inspect=True): if container_id in info['Name']: return info return None def ensure_container_pid_changed( self, container_id, pid, docker_auth_url=CONF.docker.api_url): def is_pid_changed(): container = self.get_container(container_id, docker_auth_url=docker_auth_url) new_pid = container.get('State').get('Pid') if pid != new_pid: return True else: return False utils.wait_for_condition(is_pid_changed) def get_archive(self, container_id, path, docker_auth_url=CONF.docker.api_url): with docker_client(docker_auth_url) as docker: return docker.get_archive(container_id, path)",1,148
openstack%2Frequirements~master~I9755f608e2f82191005a24910f95258586e91ed4,openstack/requirements,master,I9755f608e2f82191005a24910f95258586e91ed4,Updated from generate-constraints,MERGED,2019-06-28 06:17:36.000000000,2019-06-30 00:08:30.000000000,2019-06-30 00:08:30.000000000,"[{'_account_id': 10459}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 06:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/54891ab3b23b7e11611191c268e19139cef95e72', 'message': 'Updated from generate-constraints\n\nChange-Id: I9755f608e2f82191005a24910f95258586e91ed4\n'}, {'number': 2, 'created': '2019-06-29 06:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/738ff2fbf973ef4fc7bf1f11b5e76f29384122bc', 'message': 'Updated from generate-constraints\n\nChange-Id: I9755f608e2f82191005a24910f95258586e91ed4\n'}, {'number': 3, 'created': '2019-06-29 17:48:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d4c1f4dd82ddffa0a0eebeb30e37220a7d4c2044', 'message': 'Updated from generate-constraints\n\nChange-Id: I9755f608e2f82191005a24910f95258586e91ed4\n'}]",0,668092,d4c1f4dd82ddffa0a0eebeb30e37220a7d4c2044,13,3,3,11131,,,0,"Updated from generate-constraints

Change-Id: I9755f608e2f82191005a24910f95258586e91ed4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/668092/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,54891ab3b23b7e11611191c268e19139cef95e72,openstack/requirements/constraints/noclob,python-saharaclient===2.2.1python-ironic-inspector-client===3.6.1tornado===5.1.1;python_version=='2.7'boto3===1.9.179botocore===1.12.179pyzmq===18.0.2storops===1.2.0jsonschema===3.0.1,python-saharaclient===2.2.0python-ironic-inspector-client===3.6.0tornado===4.5.3;python_version=='2.7'boto3===1.9.178botocore===1.12.178pyzmq===18.0.1storops===1.1.0jsonschema===2.6.0,8,8
openstack%2Fzun~master~I4bd1851f608ee657a4f391961e4cff0fac9a1fe4,openstack/zun,master,I4bd1851f608ee657a4f391961e4cff0fac9a1fe4,Introduce fullstack tests,MERGED,2019-05-12 21:45:46.000000000,2019-06-29 23:13:54.000000000,2019-06-29 23:13:54.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-12 21:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/975335fb50eec9779c5e0d680d4137955159fc5b', 'message': '[WIP] Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 2, 'created': '2019-05-25 23:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f7eb30073ee58ffc1b354a3b51887f909d1be6f3', 'message': '[WIP] Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 3, 'created': '2019-06-02 19:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9d0c9a5d5033a9ede5800a3ede227281b85817d8', 'message': '[WIP] Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 4, 'created': '2019-06-02 20:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/18e92192c5e384719cc23e27d13aab3d0104f858', 'message': '[WIP] Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 5, 'created': '2019-06-02 20:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/92bb45d1a374310bc5da5164875ca5fd3dbb982d', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 6, 'created': '2019-06-02 21:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/67a422cd0660568f30859c5c0d585f18416ea7f6', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 7, 'created': '2019-06-02 23:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f8fcb2b723dd29d185ed27666460ee349167f46b', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 8, 'created': '2019-06-03 00:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1417f176e619dfaf74b1897cb5e2fb8e93cc9086', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 9, 'created': '2019-06-03 01:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3a3b2b08231cbcebd37f8066f1bedc2795ebdfc6', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 10, 'created': '2019-06-03 03:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e96901e2d62826ff691f25b41a30f138ecad4833', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 11, 'created': '2019-06-03 03:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/11b754316ab29722eb340152fced97c049ab9b6f', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 12, 'created': '2019-06-04 01:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6a0be1f917fb34d00061fef9a7baf6a37364e4cd', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 13, 'created': '2019-06-04 03:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/64ece27a1dd14628bd936e9a3de6990db96cbde8', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 14, 'created': '2019-06-05 02:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ffdd9be3b5c6b42f951a1768399f31e929742231', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 15, 'created': '2019-06-05 03:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/cd03087f28dff8e988600560e85977a433e8cd82', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 16, 'created': '2019-06-09 19:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a7159fd172fd5d527d84daafaa99ab39c673b663', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 17, 'created': '2019-06-09 20:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/dcb565d981f98faa88d9e98be97fabe36d7efe44', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}, {'number': 18, 'created': '2019-06-10 01:41:15.000000000', 'files': ['zun/tests/fullstack/test_containers.py', 'playbooks/fullstack/run.yaml', 'test-requirements.txt', 'zun/tests/fullstack/__init__.py', '.zuul.yaml', 'zun/tests/fullstack/utils.py', 'lower-constraints.txt', 'zun/tests/fullstack/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/9dcdbecbdd0b9f247e53d887e3c9712250b8174e', 'message': 'Introduce fullstack tests\n\nChange-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4\n'}]",2,658702,9dcdbecbdd0b9f247e53d887e3c9712250b8174e,46,2,18,11536,,,0,"Introduce fullstack tests

Change-Id: I4bd1851f608ee657a4f391961e4cff0fac9a1fe4
",git fetch https://review.opendev.org/openstack/zun refs/changes/02/658702/18 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/fullstack/test_containers.py', 'test-requirements.txt', 'zun/tests/fullstack/__init__.py', 'zun/tests/fullstack/utils.py', 'lower-constraints.txt', 'zun/tests/fullstack/base.py', 'tox.ini']",7,975335fb50eec9779c5e0d680d4137955159fc5b,, [testenv:fullstack] basepython = python3 setenv = {[testenv]setenv} deps = {[testenv]deps} commands = stestr --test-path=./zun/tests/fullstack run {posargs} stestr slowest,,316,0
openstack%2Fzun-ui~master~I09293106f3f0a8c6d0de15e02b1b825d969a3a01,openstack/zun-ui,master,I09293106f3f0a8c6d0de15e02b1b825d969a3a01,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 12:59:07.000000000,2019-06-29 22:11:55.000000000,2019-06-29 22:11:55.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-20 12:59:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/f17ab2ff7834d0404ea02b0db3204a5f7a932b82', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I09293106f3f0a8c6d0de15e02b1b825d969a3a01\n'}]",0,666561,f17ab2ff7834d0404ea02b0db3204a5f7a932b82,6,3,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I09293106f3f0a8c6d0de15e02b1b825d969a3a01
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/61/666561/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f17ab2ff7834d0404ea02b0db3204a5f7a932b82,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fmanila~stable%2Fqueens~Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d,openstack/manila,stable/queens,Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d,DNM: Test devstack fixes to rdo-release,ABANDONED,2019-06-29 00:09:51.000000000,2019-06-29 19:32:00.000000000,,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-29 00:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/429b9954630e212596d35f8f5ff29d50584b0a5c', 'message': 'DNM: Test devstack fixes to rdo-release\n\nChange-Id: Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d\nDepends-On: https://review.opendev.org/#/c/668274/\n'}, {'number': 2, 'created': '2019-06-29 00:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/de2f7e5acb14de5b322415de6a34c0bb67da4831', 'message': 'DNM: Test devstack fixes to rdo-release\n\nChange-Id: Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d\nDepends-On: https://review.opendev.org/#/c/668274/\n'}, {'number': 3, 'created': '2019-06-29 00:51:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/45b2d311361b28679f0b3aee51081ac50170f7dc', 'message': 'DNM: Test devstack fixes to rdo-release\n\nChange-Id: Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d\nDepends-On: https://review.opendev.org/#/c/668276/\n'}]",0,668275,45b2d311361b28679f0b3aee51081ac50170f7dc,14,5,3,16643,,,0,"DNM: Test devstack fixes to rdo-release

Change-Id: Iac5fe867d396d02285b01e7ec2b09f1f3f02df2d
Depends-On: https://review.opendev.org/#/c/668276/
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/668275/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,429b9954630e212596d35f8f5ff29d50584b0a5c,bindep-fallback-stable/queens,,,0,0
openstack%2Ftripleo-heat-templates~master~Id6a7b10acc65ca6cd2135796a80fad0723078871,openstack/tripleo-heat-templates,master,Id6a7b10acc65ca6cd2135796a80fad0723078871,Use Ansible for bootstrap_node hieradata,MERGED,2019-06-13 16:50:07.000000000,2019-06-29 17:41:03.000000000,2019-06-29 17:41:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 16:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/960bf62c2ebcc83fb06f042e2b97eb959731afe5', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 2, 'created': '2019-06-17 12:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6072894fe134fda95135782feb2b52633f48a41f', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 3, 'created': '2019-06-18 02:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d30d4d80b22eaaef0abef0e021eeed3a4f703c1', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 4, 'created': '2019-06-19 13:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec59f054a8bee0ca80479459f02c01851c31e3be', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 5, 'created': '2019-06-19 13:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/045129bf3ca35f3adae854f4cc3f3b90b4e4c9dc', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 6, 'created': '2019-06-19 21:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c70740d55207f020c96c0a45bd77c6ee44f06fc6', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 7, 'created': '2019-06-19 21:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9de2d5986ee9a786fa3dc215106697bc204c53f8', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 8, 'created': '2019-06-20 01:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59bddb4e67215c2d7c7fa2a6354eeb31f55c8ed5', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 9, 'created': '2019-06-21 01:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d627827dd63c5c4011f1ed36b2e93e3a2c1919f', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 10, 'created': '2019-06-21 11:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be2624a1907c452363b7474398f1bc7b5a3e72e3', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 11, 'created': '2019-06-21 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19f6f6b7e5f6a220b24879db3cd903a7fdfdccf5', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 12, 'created': '2019-06-22 12:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5af3cb781035b980da5c5339117775db60c334a4', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 13, 'created': '2019-06-24 22:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/780df01273391cca98e8d98c31ef828524c99ab9', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 14, 'created': '2019-06-24 23:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f18c013b92594bed71bd4da44897235f32728df', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 15, 'created': '2019-06-26 11:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df77888feaddb25a72055a9d58032da24b97b4e8', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 16, 'created': '2019-06-27 01:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ade2a2880835f7be9d7bf7944d6957d7ff8a60c', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 17, 'created': '2019-06-27 21:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb8b00a1d12085e98cc59e1cb926b91c260a809c', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 18, 'created': '2019-06-28 14:22:08.000000000', 'files': ['puppet/all-nodes-config.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f44f3393990188f05257bc0417c6ac46f696a905', 'message': 'Use Ansible for bootstrap_node hieradata\n\nInstead of generating and saving the hieradata in the bootstrap_node\nhieradata file in Heat, use the tripleo-hieradata role instead.\n\nChange-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871\nDepends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}]",2,665176,f44f3393990188f05257bc0417c6ac46f696a905,75,5,18,7144,,,0,"Use Ansible for bootstrap_node hieradata

Instead of generating and saving the hieradata in the bootstrap_node
hieradata file in Heat, use the tripleo-hieradata role instead.

Change-Id: Id6a7b10acc65ca6cd2135796a80fad0723078871
Depends-On: I9ccccbfee44fc7c1375dec7357ccad6cba909c16
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/665176/18 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/all-nodes-config.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2']",3,960bf62c2ebcc83fb06f042e2b97eb959731afe5,bp/reduce-deployment-resources," {{role.name}}HieradataVars: type: json default: {}{%- for role in roles %} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Server hierdata from vars gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} vars_files: - {{role.name}}/hieradata_vars.yaml tasks: - name: Hieradata from vars include_role: name: tripleo-hieradata tasks_from: hieradata_vars.yaml when: tripleo_role_name == '{{role.name}}' tags: - overcloud - pre_deploy_steps {%- endfor %} {{role.name}}/hieradata_vars: {get_param: {{role.name}}HieradataVars}",,34,9
openstack%2Fplacement~master~I3fdd46a0a92bf9666696a1c5f98afc402cf43b33,openstack/placement,master,I3fdd46a0a92bf9666696a1c5f98afc402cf43b33,Prepare objects for allocation request mappings,MERGED,2019-06-03 15:08:42.000000000,2019-06-29 17:01:39.000000000,2019-06-14 11:13:18.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-06-03 15:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/73bc8234c822e5fce9ff8fe893d3b97beff8a0c7', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}, {'number': 2, 'created': '2019-06-03 16:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3e2d5858c82f88ab3258e0f51ebe91d58473356f', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nA small number of confirming tests are added to\ndb.test_allocation_candidates.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}, {'number': 3, 'created': '2019-06-06 18:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f886b19f7145924016203d4bf294d6518856e07d', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nA small number of confirming tests are added to\ndb.test_allocation_candidates.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}, {'number': 4, 'created': '2019-06-07 15:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/db7f6aacfee460eb595ac15395cb3e59758b6071', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nA test is added to validate results. Existing tests which\ncheck the count of results are adjusted to reflect new results:\nThe possible combinations is now increased because we are\naccounting for the suffix as a differentiator.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}, {'number': 5, 'created': '2019-06-07 15:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/66ff8ef0a23c55d56f5124e04933eeba28aa5230', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nA test is added to validate results. Existing tests which\ncheck the count of results are adjusted to reflect new results:\nThe possible combinations is now increased because we are\naccounting for the suffix as a differentiator.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}, {'number': 6, 'created': '2019-06-07 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e61e88c153692032a0757d2465faf07b5322f424', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nA test is added to validate results. Existing tests which\ncheck the count of results are adjusted to reflect new results:\nThe possible combinations is now increased because we are\naccounting for the suffix as a differentiator.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}, {'number': 7, 'created': '2019-06-12 21:19:04.000000000', 'files': ['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/eb07913442974102b36b8127db8491a742f5eee1', 'message': ""Prepare objects for allocation request mappings\n\nWe need to carry a 'suffix' through the process of generating\nallocation requests in order to be able to present those suffixes\nas a 'mappings' key in a forthcoming microversion.\n\nIn this patch, the suffix is tracked, but the data is not used\nwhen presenting results.\n\nA test is added to validate results. Existing tests which\ncheck the count of results are adjusted to reflect new results:\nThe possible combinations is now increased because we are\naccounting for the suffix as a differentiator.\n\nChange-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33\nStory: 2005575\nTask: 33536\n""}]",7,662785,eb07913442974102b36b8127db8491a742f5eee1,29,5,7,11564,,,0,"Prepare objects for allocation request mappings

We need to carry a 'suffix' through the process of generating
allocation requests in order to be able to present those suffixes
as a 'mappings' key in a forthcoming microversion.

In this patch, the suffix is tracked, but the data is not used
when presenting results.

A test is added to validate results. Existing tests which
check the count of results are adjusted to reflect new results:
The possible combinations is now increased because we are
accounting for the suffix as a differentiator.

Change-Id: I3fdd46a0a92bf9666696a1c5f98afc402cf43b33
Story: 2005575
Task: 33536
",git fetch https://review.opendev.org/openstack/placement refs/changes/85/662785/5 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py']",2,73bc8234c822e5fce9ff8fe893d3b97beff8a0c7,story/2005575," context, request, has_trees, sharing, suffix) amount=None, suffix=''): self.suffix = suffix amount=rg_ctx.resources[rp.rc_id], suffix=rg_ctx.suffix)) rg_ctx.context, rg_ctx.resources, rp_summary.resource_provider, suffix=rg_ctx.suffix)def _allocation_request_for_provider(ctx, requested_resources, provider, suffix): amount=amount, suffix=suffix"," context, request, has_trees, sharing) amount=None): amount=rg_ctx.resources[rp.rc_id])) rg_ctx.context, rg_ctx.resources, rp_summary.resource_provider)def _allocation_request_for_provider(ctx, requested_resources, provider): amount=amount,",14,7
openstack%2Fironic~master~I003c71302401928e2bd5a3f571e8cd17b96ef78d,openstack/ironic,master,I003c71302401928e2bd5a3f571e8cd17b96ef78d,Fix invalid assert state,MERGED,2019-06-28 09:32:31.000000000,2019-06-29 16:47:12.000000000,2019-06-29 16:47:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:32:31.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_port.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7adc6c21de4353eeb93e47fa548ea0c9122e7c4d', 'message': 'Fix invalid assert state\n\n""self.assertTrue(pg1.id, mock_upd.call_args[0][2].portgroup_id)""\nshould use assertEqual.\n\nChange-Id: I003c71302401928e2bd5a3f571e8cd17b96ef78d\n'}]",0,668129,7adc6c21de4353eeb93e47fa548ea0c9122e7c4d,8,4,1,20190,,,0,"Fix invalid assert state

""self.assertTrue(pg1.id, mock_upd.call_args[0][2].portgroup_id)""
should use assertEqual.

Change-Id: I003c71302401928e2bd5a3f571e8cd17b96ef78d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/668129/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/api/controllers/v1/test_port.py'],1,7adc6c21de4353eeb93e47fa548ea0c9122e7c4d,assertTrue," self.assertEqual(pg1.id, mock_upd.call_args[0][2].portgroup_id)"," self.assertTrue(pg1.id, mock_upd.call_args[0][2].portgroup_id)",1,1
openstack%2Fopenstack-helm-infra~master~I558c100cbb70475d55122b194ef18287c76a68b3,openstack/openstack-helm-infra,master,I558c100cbb70475d55122b194ef18287c76a68b3,Adding hostname to the node details,MERGED,2019-06-27 13:52:15.000000000,2019-06-29 16:39:09.000000000,2019-06-29 16:39:08.000000000,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28719}, {'_account_id': 30010}, {'_account_id': 30120}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-06-27 13:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9385981974d57acf17d7f25984e6ca369196f07', 'message': 'Adding hostname to the node details\n\nChange-Id: I558c100cbb70475d55122b194ef18287c76a68b3\n'}, {'number': 2, 'created': '2019-06-28 13:22:05.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27ef45017ba29d7b21fede9f1756830cb59e6115', 'message': 'Adding hostname to the node details\n\nChange-Id: I558c100cbb70475d55122b194ef18287c76a68b3\n'}]",0,667930,27ef45017ba29d7b21fede9f1756830cb59e6115,13,10,2,18295,,,0,"Adding hostname to the node details

Change-Id: I558c100cbb70475d55122b194ef18287c76a68b3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/667930/2 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,e9385981974d57acf17d7f25984e6ca369196f07,," label: Server multi: false name: host options: [] query: label_values(node_uname_info, nodename) refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - allValue: current: {} datasource: prometheus hide: 1 includeAll: false label: Instance query: label_values(node_uname_info{nodename=""$host""}, instance)"," label: query: label_values(node_boot_time, instance)",20,2
openstack%2Fneutron~master~Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91,openstack/neutron,master,Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91,Assert HA router has one active hosting agent,MERGED,2019-06-11 16:11:54.000000000,2019-06-29 16:03:24.000000000,2019-06-29 16:03:24.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-11 16:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61b81316b22b5e9cae10c409e0c0c72513ec2b6f', 'message': 'Assert HA router has one active hosting agent\n\nCheck HA router binding state before restart the agent\nfor test case:\ntest_ha_router_restart_agents_no_packet_lost\n\nAnd move the ping check more nearly to the restart action.\n\nChange-Id: Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91\n'}, {'number': 2, 'created': '2019-06-23 11:44:01.000000000', 'files': ['neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5b2c7eed8c2c5c2b3b4bb930551525551e46fbe', 'message': 'Assert HA router has one active hosting agent\n\nCheck HA router binding state before restart the agent\nfor test case:\ntest_ha_router_restart_agents_no_packet_lost\n\nAnd move the ping check more nearly to the restart action.\n\nThis reverts commit bc073849b6aba62a39846b8be98b0da744caab84.\n\nChange-Id: Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91\n'}]",0,664629,f5b2c7eed8c2c5c2b3b4bb930551525551e46fbe,91,9,2,9531,,,0,"Assert HA router has one active hosting agent

Check HA router binding state before restart the agent
for test case:
test_ha_router_restart_agents_no_packet_lost

And move the ping check more nearly to the restart action.

This reverts commit bc073849b6aba62a39846b8be98b0da744caab84.

Change-Id: Ia2eba8d19fcc4d744b7b93623c0f1faf0457bd91
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/664629/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_l3_agent.py'],1,61b81316b22b5e9cae10c409e0c0c72513ec2b6f,test_ha_router_restart_agents_no_packet_lost," self.assertEqual(1, len(l3_active_agents)) # Let's check first if connectivity from external_vm to router's # external gateway IP is possible before we restart agents external_vm.block_until_ping(router_ip)", # Let's check first if connectivity from external_vm to router's # external gateway IP is possible before we restart agents external_vm.block_until_ping(router_ip),5,3
openstack%2Fopenstack-helm-images~master~Ife2cdf2112db3798dbde73bafe436ef3c0c8a870,openstack/openstack-helm-images,master,Ife2cdf2112db3798dbde73bafe436ef3c0c8a870,Nagios: Update plugin for defining hosts and host groups,MERGED,2019-06-28 16:06:03.000000000,2019-06-29 15:56:52.000000000,2019-06-29 15:55:36.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-28 16:06:03.000000000', 'files': ['nagios/plugins/define-nagios-hosts.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/381737ee61af9715cbf8b12c4bf5d43ef6f68dd0', 'message': 'Nagios: Update plugin for defining hosts and host groups\n\nThis renames the check_update_prometheus_hosts plugin to be more\nrepresentative of what the current functionality does, which is\nto simply define nagios hosts. This also updates the behavior of\nthe plugin to no longer force a reload of nagios via a hangup\nsignal when attempting to update the hosts file. The result is a\nsignificant reduction in the logs output by the Nagios service,\nwhich will better enable tracking history of service checks and\nhosts.\n\nInstead of this plugin being run as a recurring check, it can now\nbe run as an init container for the Nagios pod so Nagios has a\ncomprehensive list of its hosts and host groups before starting\nthe service\n\nChange-Id: Ife2cdf2112db3798dbde73bafe436ef3c0c8a870\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,668197,381737ee61af9715cbf8b12c4bf5d43ef6f68dd0,8,3,1,17591,,,0,"Nagios: Update plugin for defining hosts and host groups

This renames the check_update_prometheus_hosts plugin to be more
representative of what the current functionality does, which is
to simply define nagios hosts. This also updates the behavior of
the plugin to no longer force a reload of nagios via a hangup
signal when attempting to update the hosts file. The result is a
significant reduction in the logs output by the Nagios service,
which will better enable tracking history of service checks and
hosts.

Instead of this plugin being run as a recurring check, it can now
be run as an init container for the Nagios pod so Nagios has a
comprehensive list of its hosts and host groups before starting
the service

Change-Id: Ife2cdf2112db3798dbde73bafe436ef3c0c8a870
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/97/668197/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/define-nagios-hosts.py'],1,381737ee61af9715cbf8b12c4bf5d43ef6f68dd0,remove-nagios-reload,," reload_nagios() def reload_nagios(): try: # NOTE(srwilkers): We need the worker PIDs parent, which is the # grandparent of the running process worker_pid = os.getpid() grandparent_pid = os.popen(""ps -p %d -oppid="" % os.getppid()).read().strip() os.kill(int(grandparent_pid), signal.SIGHUP) except Exception as e: print('Unable to reload Nagios with new host configuration') print('Nagios worker PID: {}. Nagios worker grandparent PID: {}'.format(worker_pid, grandparent_pid)) sys.exit(NAGIOS_CRITICAL)",0,14
openstack%2Fkolla-ansible~master~I364c8a71633fac846dbaac8eaa0b78191e6d7d0e,openstack/kolla-ansible,master,I364c8a71633fac846dbaac8eaa0b78191e6d7d0e,Enable deflate when using tls for horizon,MERGED,2019-05-07 03:32:22.000000000,2019-06-29 13:51:04.000000000,2019-05-07 19:34:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-07 03:32:22.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06a8161a18df142be19b5030a970e7e002c68d81', 'message': 'Enable deflate when using tls for horizon\n\ndeflate is disable because of breach attach[0] issue. But it has be\nfixed on horizon size through[1], so we cloud enable deflate all the\ntime.\n\ncompress application/json too in default.\n\n[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0037\n[1] https://review.openstack.org/#/c/596549/\n\nChange-Id: I364c8a71633fac846dbaac8eaa0b78191e6d7d0e\nCloses-Bug: #1827976\n'}]",0,657520,06a8161a18df142be19b5030a970e7e002c68d81,11,4,1,7488,,,0,"Enable deflate when using tls for horizon

deflate is disable because of breach attach[0] issue. But it has be
fixed on horizon size through[1], so we cloud enable deflate all the
time.

compress application/json too in default.

[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0037
[1] https://review.openstack.org/#/c/596549/

Change-Id: I364c8a71633fac846dbaac8eaa0b78191e6d7d0e
Closes-Bug: #1827976
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/657520/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/templates/horizon.conf.j2'],1,06a8161a18df142be19b5030a970e7e002c68d81,,"{% endif %} # Compress HTML, CSS, JavaScript, Json, Text, XML and fonts AddOutputFilterByType DEFLATE application/json","{% else %} # NOTE(Jeffrey4l): Only enable deflate when tls is disabled until the # OSSN-0037 is fixed. # see https://wiki.openstack.org/wiki/OSSN/OSSN-0037 for more information. # Compress HTML, CSS, JavaScript, Text, XML and fonts{% endif %}",4,6
openstack%2Fos-performance-tools~master~Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7,openstack/os-performance-tools,master,Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7,Update python 3 unit test job,MERGED,2019-02-19 09:06:07.000000000,2019-06-29 13:13:35.000000000,2019-06-29 13:13:35.000000000,"[{'_account_id': 8556}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-02-19 09:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/b85bb007931e0e5cd475d6f1e1b136afff823937', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7\nStory: #2004073\nTask: #27445\n'}, {'number': 2, 'created': '2019-04-22 06:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/794e491804d9de0509639e4c4f9fa005ed6ae761', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update a unit test job running\nunder Python 3\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7\nStory: #2004073\nTask: #27445\n'}, {'number': 3, 'created': '2019-06-29 12:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/2eecb32d31ee1e5a29ea125a5935ee5230f43f34', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update a unit test job running\nunder Python 3\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7\nStory: #2004073\nTask: #27445\n'}, {'number': 4, 'created': '2019-06-29 12:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/c7c8b21ebf3f2717c671e5015bb651d7ebc0110a', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update a unit test job running\nunder Python 3\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7\nStory: #2004073\nTask: #27445\n'}, {'number': 5, 'created': '2019-06-29 12:59:41.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/d3680e477d5341356cff2dde29e30738aeabf796', 'message': 'Update python 3 unit test job\n\nThis is a mechanically generated patch to update a unit test job running\nunder Python 3\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7\nStory: #2004073\nTask: #27445\n'}]",0,637759,d3680e477d5341356cff2dde29e30738aeabf796,17,4,5,9414,,,0,"Update python 3 unit test job

This is a mechanically generated patch to update a unit test job running
under Python 3

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: Ib8498d9a06c511cc1bce3d4ab5db520b992d8cd7
Story: #2004073
Task: #27445
",git fetch https://review.opendev.org/openstack/os-performance-tools refs/changes/59/637759/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b85bb007931e0e5cd475d6f1e1b136afff823937,py37-job, - openstack-python37-jobs,,1,0
openstack%2Fos-performance-tools~master~Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7,openstack/os-performance-tools,master,Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7,Removed older version of python added 3.5,ABANDONED,2018-09-29 09:44:05.000000000,2019-06-29 13:01:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 17499}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 27078}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-09-29 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/48aaa8d3a85b89ec743779b55903d3c0d4391215', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\n\nChange-Id: Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7\n'}, {'number': 2, 'created': '2018-12-20 08:10:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/1c30dde6fdb670a245fb9a58a5eb5c098a288c09', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\n\nChange-Id: Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7\n'}]",0,606367,1c30dde6fdb670a245fb9a58a5eb5c098a288c09,18,9,2,17499,,,0,"Removed older version of python added 3.5

In setup.cfg file the python 3.5 is added

Change-Id: Ia23cc695382bb382a088d4c6e8b2c5f4ff0b39d7
",git fetch https://review.opendev.org/openstack/os-performance-tools refs/changes/67/606367/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,48aaa8d3a85b89ec743779b55903d3c0d4391215,,, Programming Language :: Python :: 3.3 Programming Language :: Python :: 3.4,0,2
openstack%2Fos-performance-tools~master~I9c66f7be2b28cab6259483a3cbf71a187d2dc35a,openstack/os-performance-tools,master,I9c66f7be2b28cab6259483a3cbf71a187d2dc35a,Update url in HACKING.rst,ABANDONED,2018-11-16 03:55:34.000000000,2019-06-29 12:50:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-16 03:55:34.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/8963de44b929a739f380bceb0f86055112041ede', 'message': 'Update url in HACKING.rst\n\nChange-Id: I9c66f7be2b28cab6259483a3cbf71a187d2dc35a\n'}]",1,618434,8963de44b929a739f380bceb0f86055112041ede,6,3,1,29423,,,0,"Update url in HACKING.rst

Change-Id: I9c66f7be2b28cab6259483a3cbf71a187d2dc35a
",git fetch https://review.opendev.org/openstack/os-performance-tools refs/changes/34/618434/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,8963de44b929a739f380bceb0f86055112041ede,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fopenstack-ansible-os_tempest~master~I90a88be5df5d70ff51290a7825f6dae8bf045e56,openstack/openstack-ansible-os_tempest,master,I90a88be5df5d70ff51290a7825f6dae8bf045e56,Add tempest plugin for distro installs,MERGED,2019-06-28 11:59:13.000000000,2019-06-29 11:22:51.000000000,2019-06-29 11:22:51.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-28 11:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e0ad9b924674c1f95bd376eabd8052045b2593a7', 'message': ""Add barbican tempest plugin for distro installs\n\nIf we don't, the testing will fail.\n\nChange-Id: I90a88be5df5d70ff51290a7825f6dae8bf045e56\n""}, {'number': 2, 'created': '2019-06-28 12:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/78816aaf9f42edb37f3ea23454451e4a1e797748', 'message': ""Add barbican tempest plugin for distro installs\n\nWithout this patch, testing barbican in the integrated\nwon't find the barbican tempest plugin, which will cause\na failure of the _distro_ jobs.\n\nChange-Id: I90a88be5df5d70ff51290a7825f6dae8bf045e56\n""}, {'number': 3, 'created': '2019-06-28 12:16:02.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c5c1f278d55b987b9546e7324debf6fb051be465', 'message': ""Add tempest plugin for distro installs\n\nWithout this patch, testing barbican (and other projects\nwhich weren't in the integrated historically)\nin the integrated won't find the barbican tempest plugin,\nwhich will cause a failure of the _distro_ jobs.\n\nChange-Id: I90a88be5df5d70ff51290a7825f6dae8bf045e56\n""}]",0,668155,c5c1f278d55b987b9546e7324debf6fb051be465,13,4,3,17068,,,0,"Add tempest plugin for distro installs

Without this patch, testing barbican (and other projects
which weren't in the integrated historically)
in the integrated won't find the barbican tempest plugin,
which will cause a failure of the _distro_ jobs.

Change-Id: I90a88be5df5d70ff51290a7825f6dae8bf045e56
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/55/668155/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,e0ad9b924674c1f95bd376eabd8052045b2593a7,add_barbican_tempest_plugin_for_distro_installs," - ""{{ (tempest_service_available_barbican | bool) | ternary('python-barbican-tempest-plugin', '') }}""",,1,0
openstack%2Fopenstack-ansible-os_octavia~stable%2Frocky~If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088,openstack/openstack-ansible-os_octavia,stable/rocky,If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:02:22.000000000,2019-06-29 09:57:47.000000000,2019-06-29 09:57:46.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:02:22.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/376be585f09dcd12e4f7801a8a0ab9d2cc0b4f87', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088\n'}]",0,666690,376be585f09dcd12e4f7801a8a0ab9d2cc0b4f87,13,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If2a8e276c9c82d0f2ab743ddfd2f36e86cba9088
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/90/666690/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,376be585f09dcd12e4f7801a8a0ab9d2cc0b4f87,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fpython-senlinclient~master~I4f0267e74b90ffbe45a258219bbce927fbc28719,openstack/python-senlinclient,master,I4f0267e74b90ffbe45a258219bbce927fbc28719,Switch to the new canonical constraints URL on master,MERGED,2019-06-22 07:15:07.000000000,2019-06-29 08:50:36.000000000,2019-06-29 08:50:36.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 25138}, {'_account_id': 27224}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-22 07:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/37dc1aaecc3eeda7abebbf6b21fd92ef65bc9cc9', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I4f0267e74b90ffbe45a258219bbce927fbc28719\n'}, {'number': 2, 'created': '2019-06-23 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/3c858904a840c2801b96e8ed0c38ca5a24caef8f', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I4f0267e74b90ffbe45a258219bbce927fbc28719\n'}, {'number': 3, 'created': '2019-06-23 17:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/b1e0756b46766987a2c864f63b7c52feaacac195', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I4f0267e74b90ffbe45a258219bbce927fbc28719\n'}, {'number': 4, 'created': '2019-06-29 06:45:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/dc5f4f8b5d37447829837f21bd0abbbca31adfce', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I4f0267e74b90ffbe45a258219bbce927fbc28719\n'}]",0,666947,dc5f4f8b5d37447829837f21bd0abbbca31adfce,25,5,4,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I4f0267e74b90ffbe45a258219bbce927fbc28719
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/47/666947/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37dc1aaecc3eeda7abebbf6b21fd92ef65bc9cc9,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Ftripleo-heat-templates~master~I0f522b848c586506d9556b6821d03f9c0c302cd8,openstack/tripleo-heat-templates,master,I0f522b848c586506d9556b6821d03f9c0c302cd8,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:05:26.000000000,2019-06-29 08:21:21.000000000,2019-06-29 08:21:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10459}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 05:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc471e30314394bfd1715c8c4ae757e7dba0b430', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8\n'}, {'number': 2, 'created': '2019-04-26 02:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af5af48d0dc4d89a871a073038837db3bd84a325', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8\n'}, {'number': 3, 'created': '2019-04-26 02:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca0ca99a18d8078a60ddae04d300719016c85194', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8\n'}, {'number': 4, 'created': '2019-05-23 05:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc6d162ac2d7f10309f87d8a281f7c05e6b65403', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8\n'}, {'number': 5, 'created': '2019-06-25 06:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc74d982b317fe79fc8362ef64ddd9521cd2ecb9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8\n'}, {'number': 6, 'created': '2019-06-26 02:43:46.000000000', 'files': ['README.rst', 'ci/common/vbmc_setup.yaml', 'environments/services/neutron-ovs-dvr.yaml', 'environments/docker-uc-light.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ovs-dvr.yaml', 'releasenotes/notes/nova_templated_cells_transport_url-275f0b707d9227ab.yaml', 'environments/services/neutron-ovs.yaml', 'extraconfig/tasks/instanceha/check-run-nova-compute', 'releasenotes/notes/fix-str-replace-hostname-issue-393fb6954f12f7e6.yaml', 'releasenotes/notes/nova_templated_cells_db_urls-2eb151090c49c51d.yaml', 'releasenotes/notes/fix-odl-karaf-logging-eca10973e57caa3a.yaml', 'setup.cfg', 'deployment/sahara/sahara-base.yaml', 'tox.ini', 'releasenotes/notes/6.0.0-b52a14a71fc62788.yaml', 'releasenotes/notes/nova_metadata_wsgi-bfb240bc84194d05.yaml', 'releasenotes/notes/nova_qemu_enable_config-c89016b4d93802d6.yaml', 'releasenotes/notes/nova_use_nova_api_db_for_placement-eea44dd48c768f04.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d85e61c36e63860e5a1742b40fa0f9c8e5a84da', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8\n'}]",3,654713,8d85e61c36e63860e5a1742b40fa0f9c8e5a84da,34,9,6,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0f522b848c586506d9556b6821d03f9c0c302cd8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/654713/6 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'ci/common/vbmc_setup.yaml', 'setup.cfg', 'tox.ini']",4,bc471e30314394bfd1715c8c4ae757e7dba0b430,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fnova~stable%2Frocky~I1ea60a6786773f7f61201a6537087718365e94b3,openstack/nova,stable/rocky,I1ea60a6786773f7f61201a6537087718365e94b3,DNM - Test rbd unshelve fix on stable rocky,ABANDONED,2019-06-28 11:03:18.000000000,2019-06-29 08:10:05.000000000,,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-28 11:03:18.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/93ba6f2d621e19a16880c065783c56817a812e7e', 'message': 'DNM - Test rbd unshelve fix on stable rocky\n\nDepends-On: https://review.opendev.org/#/c/668128/\nChange-Id: I1ea60a6786773f7f61201a6537087718365e94b3\n'}]",0,668141,93ba6f2d621e19a16880c065783c56817a812e7e,7,4,1,10135,,,0,"DNM - Test rbd unshelve fix on stable rocky

Depends-On: https://review.opendev.org/#/c/668128/
Change-Id: I1ea60a6786773f7f61201a6537087718365e94b3
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/668141/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,93ba6f2d621e19a16880c065783c56817a812e7e,bug/1653953,,,0,0
openstack%2Fsolum~master~Icc354ec48078f126ea6b31fe9c99da33deecadcb,openstack/solum,master,Icc354ec48078f126ea6b31fe9c99da33deecadcb,TEST,ABANDONED,2019-06-28 03:31:48.000000000,2019-06-29 07:57:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-28 03:31:48.000000000', 'files': ['solum/config.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/26a12bba41bdb0ca04a7ef5b175bc0a896198af4', 'message': 'TEST\n\nChange-Id: Icc354ec48078f126ea6b31fe9c99da33deecadcb\n'}]",0,668083,26a12bba41bdb0ca04a7ef5b175bc0a896198af4,3,1,1,14107,,,0,"TEST

Change-Id: Icc354ec48078f126ea6b31fe9c99da33deecadcb
",git fetch https://review.opendev.org/openstack/solum refs/changes/83/668083/1 && git format-patch -1 --stdout FETCH_HEAD,['solum/config.py'],1,26a12bba41bdb0ca04a7ef5b175bc0a896198af4,,,,1,0
openstack%2Fironic~master~I087c8172b67e83b36344c30cf52812645148d9e4,openstack/ironic,master,I087c8172b67e83b36344c30cf52812645148d9e4,Remove elilo support,MERGED,2018-01-12 11:01:45.000000000,2019-06-29 07:48:49.000000000,2019-06-28 07:51:28.000000000,"[{'_account_id': 4571}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12773}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2018-01-12 11:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28aa61066fff565903f53f8d8f273e73da561b94', 'message': '[WIP] Remove elilo support\n\nChange-Id: I087c8172b67e83b36344c30cf52812645148d9e4\n'}, {'number': 2, 'created': '2018-01-12 11:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5f079e7bfd4de8cd764aa394625dd827d752d2f', 'message': '[WIP] Remove elilo support\n\nChange-Id: I087c8172b67e83b36344c30cf52812645148d9e4\n'}, {'number': 3, 'created': '2018-04-09 22:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9f1d2e58f26e1d38488f9d4375c297aa83e97035', 'message': 'Remove elilo support\n\nStory: #1691454\nTask: #9754\nChange-Id: I087c8172b67e83b36344c30cf52812645148d9e4\n'}, {'number': 4, 'created': '2018-04-18 08:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f148e7cd4f1a67010d227fffe10e59494898bfa', 'message': 'Remove elilo support\n\nStory: #1691454\nTask: #9754\nChange-Id: I087c8172b67e83b36344c30cf52812645148d9e4\n'}, {'number': 5, 'created': '2019-06-06 20:59:09.000000000', 'files': ['ironic/drivers/modules/elilo_efi_pxe_config.template', 'releasenotes/notes/remove-elilo-support-7fc1227f66e59084.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f6639d4eba9a3611bba6e7059dd7cdc44edb2a6', 'message': 'Remove elilo support\n\nStory: #1691454\nTask: #9754\nChange-Id: I087c8172b67e83b36344c30cf52812645148d9e4\n'}]",2,533153,0f6639d4eba9a3611bba6e7059dd7cdc44edb2a6,79,14,5,10239,,,0,"Remove elilo support

Story: #1691454
Task: #9754
Change-Id: I087c8172b67e83b36344c30cf52812645148d9e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/533153/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/elilo_efi_pxe_config.template', 'ironic/drivers/modules/pxe.py', 'ironic/common/pxe_utils.py']",3,28aa61066fff565903f53f8d8f273e73da561b94,temp,def _link_ip_address_pxe_configs(task): ip_address_path = _get_pxe_ip_address_path(port_ip_address)def _get_pxe_ip_address_path(ip_address): if is_uefi_boot_mode: _link_mac_pxe_configs(task) ip_address_path = _get_pxe_ip_address_path(port_ip_address),"def _link_ip_address_pxe_configs(task, hex_form): :param hex_form: Boolean value indicating if the conf file name should be hexadecimal equivalent of supplied ipv4 address. ip_address_path = _get_pxe_ip_address_path(port_ip_address, hex_form)def _get_pxe_ip_address_path(ip_address, hex_form): :param hex_form: Boolean value indicating if the conf file name should be hexadecimal equivalent of supplied ipv4 address. # NOTE(TheJulia): Remove elilo support after the deprecation # period, in the Queens release. # elilo bootloader needs hex based config file name. if hex_form: ip = ip_address.split('.') ip_address = '{0:02X}{1:02X}{2:02X}{3:02X}'.format(*map(int, ip)) # grub2 bootloader needs ip based config file name. If elilo is the bootloader in use, then its configuration file will be created based on hex form of DHCP IP address. # These changes do not have any impact on elilo bootloader. hex_form = True if is_uefi_boot_mode and utils.is_regex_string_in_file(template, '^menuentry'): hex_form = False LOG.warning(""The requested config appears to support elilo. "" ""Support for elilo has been deprecated and will be "" ""removed in the Queens release of OpenStack."") if is_uefi_boot_mode and not CONF.pxe.ipxe_enabled: _link_ip_address_pxe_configs(task, hex_form) else: _link_mac_pxe_configs(task) ip_address_path = _get_pxe_ip_address_path(port_ip_address, False) # NOTE(TheJulia): Remove elilo support after the deprecation # period, in the Queens release. # Get 0AOAOAOA based elilo config file hex_ip_path = _get_pxe_ip_address_path(port_ip_address, True) # Cleaning up config files created for elilo. ironic_utils.unlink_without_raise(hex_ip_path)",6,61
openstack%2Fopenstack-ansible~stable%2Frocky~Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,openstack/openstack-ansible,stable/rocky,Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,Restrict the number of octavia processes and threads in AIO,MERGED,2019-06-28 19:53:11.000000000,2019-06-29 07:07:43.000000000,2019-06-29 00:13:47.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-28 19:53:11.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf8ce46692fbb0361785ebea678d0e4d01a5842d', 'message': 'Restrict the number of octavia processes and threads in AIO\n\nChange-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\n(cherry-picked from commit 856f8042d90663a09f96a9ca699fc42e342f81ed)\n'}]",0,668239,bf8ce46692fbb0361785ebea678d0e4d01a5842d,11,3,1,25023,,,0,"Restrict the number of octavia processes and threads in AIO

Change-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
(cherry-picked from commit 856f8042d90663a09f96a9ca699fc42e342f81ed)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/668239/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,bf8ce46692fbb0361785ebea678d0e4d01a5842d,,## Octavia octavia_wsgi_threads: 1 octavia_wsgi_processes_max: 2 octavia_wsgi_processes: 2 octavia_wsgi_buffer_size: 16384 ,,6,0
openstack%2Fironic~master~Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28,openstack/ironic,master,Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28,Remove CIMC/UCS drivers,MERGED,2019-04-17 05:09:33.000000000,2019-06-29 06:46:59.000000000,2019-06-28 07:45:26.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-04-17 05:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0c9654a3164ed18f738e4dbfe67dcf4d931f873', 'message': ""WIP/DNM: Remove CIMC/UCS drivers\n\nCisco's Third-Party CI was taken down as a result of the\nCTO's office being restructured. Numerous attempts to\nre-engage with Cisco directly and address the various\nknown issues in their drivers have not proven to be\nfruitful.\n\nAdditionally, the drivers are not Python3 compatible,\nand some reports have indicated that the CIMC driver is\nno longer compatible with newer versions.\n\nAs such, the ironic community has little choice but to\nto remove the Cisco UCS/CIMC hardware types and driver\ninterface code.\n\nChange-Id: Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28\n""}, {'number': 2, 'created': '2019-06-03 20:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e22a0523bf0cb0a4486561a04740892feff26f62', 'message': ""Remove CIMC/UCS drivers\n\nCisco's Third-Party CI was taken down as a result of the\nCTO's office being restructured. Numerous attempts to\nre-engage with Cisco directly and address the various\nknown issues in their drivers have not proven to be\nfruitful.\n\nAdditionally, the drivers are not Python3 compatible,\nand some reports have indicated that the CIMC driver is\nno longer compatible with newer versions.\n\nAs such, the ironic community has little choice but to\nto remove the Cisco UCS/CIMC hardware types and driver\ninterface code.\n\nStory: 2005033\nTask: 29522\nChange-Id: Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28\n""}, {'number': 3, 'created': '2019-06-18 21:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/acb68f9511b80cdc3b3e44b9ce1013edd67d54fd', 'message': ""Remove CIMC/UCS drivers\n\nCisco's Third-Party CI was taken down as a result of the\nCTO's office being restructured. Numerous attempts to\nre-engage with Cisco directly and address the various\nknown issues in their drivers have not proven to be\nfruitful.\n\nAdditionally, the drivers are not Python3 compatible,\nand some reports have indicated that the CIMC driver is\nno longer compatible with newer versions.\n\nAs such, the ironic community has little choice but to\nto remove the Cisco UCS/CIMC hardware types and driver\ninterface code.\n\nStory: 2005033\nTask: 29522\nChange-Id: Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28\n""}, {'number': 4, 'created': '2019-06-26 06:44:29.000000000', 'files': ['ironic/drivers/cisco_ucs.py', 'ironic/drivers/modules/cimc/power.py', 'ironic/drivers/modules/ucs/management.py', 'ironic/tests/unit/drivers/modules/cimc/test_management.py', 'ironic/drivers/modules/ucs/__init__.py', 'ironic/tests/unit/drivers/modules/ucs/test_management.py', 'ironic/tests/unit/drivers/modules/cimc/test_power.py', 'ironic/tests/unit/drivers/modules/ucs/__init__.py', 'doc/source/admin/drivers/ucs.rst', 'ironic/drivers/modules/cimc/management.py', 'ironic/common/exception.py', 'ironic/drivers/modules/ucs/helper.py', 'doc/source/admin/upgrade-to-hardware-types.rst', 'doc/source/admin/drivers/cimc.rst', 'ironic/drivers/modules/ucs/power.py', 'driver-requirements.txt', 'ironic/drivers/modules/cimc/common.py', 'doc/source/admin/drivers.rst', 'ironic/tests/unit/drivers/modules/cimc/test_common.py', 'ironic/conf/__init__.py', 'ironic/conf/cisco.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/cimc/__init__.py', 'ironic/tests/unit/drivers/modules/cimc/__init__.py', 'ironic/tests/unit/drivers/modules/ucs/test_helper.py', 'ironic/tests/unit/db/utils.py', 'ironic/conf/opts.py', 'ironic/tests/unit/drivers/modules/ucs/test_power.py', 'ironic/tests/unit/drivers/test_cisco.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f18e52b6443e0f624aaaa6f0b096e91bc34f796', 'message': ""Remove CIMC/UCS drivers\n\nCisco's Third-Party CI was taken down as a result of the\nCTO's office being restructured. Numerous attempts to\nre-engage with Cisco directly and address the various\nknown issues in their drivers have not proven to be\nfruitful.\n\nAdditionally, the drivers are not Python3 compatible,\nand some reports have indicated that the CIMC driver is\nno longer compatible with newer versions.\n\nAs such, the ironic community has little choice but to\nto remove the Cisco UCS/CIMC hardware types and driver\ninterface code.\n\nStory: 2005033\nTask: 29522\nChange-Id: Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28\n""}]",4,653282,5f18e52b6443e0f624aaaa6f0b096e91bc34f796,40,11,4,11655,,,0,"Remove CIMC/UCS drivers

Cisco's Third-Party CI was taken down as a result of the
CTO's office being restructured. Numerous attempts to
re-engage with Cisco directly and address the various
known issues in their drivers have not proven to be
fruitful.

Additionally, the drivers are not Python3 compatible,
and some reports have indicated that the CIMC driver is
no longer compatible with newer versions.

As such, the ironic community has little choice but to
to remove the Cisco UCS/CIMC hardware types and driver
interface code.

Story: 2005033
Task: 29522
Change-Id: Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/653282/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/cisco_ucs.py', 'ironic/drivers/modules/cimc/power.py', 'ironic/drivers/modules/ucs/management.py', 'ironic/tests/unit/drivers/modules/cimc/test_management.py', 'ironic/drivers/modules/ucs/__init__.py', 'ironic/tests/unit/drivers/modules/ucs/test_management.py', 'ironic/tests/unit/drivers/modules/cimc/test_power.py', 'ironic/tests/unit/drivers/modules/ucs/__init__.py', 'doc/source/admin/drivers/ucs.rst', 'ironic/drivers/modules/cimc/management.py', 'ironic/common/exception.py', 'ironic/drivers/modules/ucs/helper.py', 'doc/source/admin/upgrade-to-hardware-types.rst', 'doc/source/admin/drivers/cimc.rst', 'ironic/drivers/modules/ucs/power.py', 'driver-requirements.txt', 'ironic/drivers/modules/cimc/common.py', 'ironic/tests/unit/drivers/modules/cimc/test_common.py', 'ironic/conf/__init__.py', 'ironic/conf/cisco.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/cimc/__init__.py', 'ironic/tests/unit/drivers/modules/cimc/__init__.py', 'ironic/tests/unit/drivers/modules/ucs/test_helper.py', 'ironic/tests/unit/db/utils.py', 'ironic/conf/opts.py', 'ironic/tests/unit/drivers/modules/ucs/test_power.py', 'ironic/tests/unit/drivers/test_cisco.py', 'setup.cfg']",29,f0c9654a3164ed18f738e4dbfe67dcf4d931f873,653282,, cisco-ucs-managed = ironic.drivers.cisco_ucs:CiscoUCSManaged cisco-ucs-standalone = ironic.drivers.cisco_ucs:CiscoUCSStandalone,0,2698
openstack%2Fpython-senlinclient~master~Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31,openstack/python-senlinclient,master,Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31,Fix uint test test_json_format and Solve pep8 msgfmt error,MERGED,2019-06-23 17:09:05.000000000,2019-06-29 06:36:34.000000000,2019-06-29 06:36:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23517}, {'_account_id': 27224}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-23 17:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/bbe45d66a4e90e554994efaae12c53c06795564c', 'message': 'Fix uint test test_json_format\n\nFor json format we only need check the json result.\n\nChange-Id: Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31\n'}, {'number': 2, 'created': '2019-06-23 17:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/236dc4d91f70a564bbb15e53d34b5ddbd13f96b6', 'message': 'Fix uint test test_json_format\n\nFor json format we only need check the json result.\n\nChange-Id: Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31\n'}, {'number': 3, 'created': '2019-06-29 04:29:21.000000000', 'files': ['bindep.txt', 'senlinclient/tests/unit/test_format_utils.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/84beed0efc884d7d83f9f1918da33b5023490886', 'message': ""Fix uint test test_json_format and Solve pep8 msgfmt error\n\nFor json format we only need check the json result.\n\nFor pep8 error:\nxargs: msgfmt: No such file or directory\nERROR: InvocationError for command /bin/bash -c 'find senlinclient..'\nhttp://logs.openstack.org/92/666992/2/gate/openstack-tox-pep8/fdbc082/job-output.txt.gz\n\nWe need to add bindep.txt, like neutron:\nhttps://github.com/openstack/neutron/blob/master/bindep.txt#L5\n\nCo-Authored-By: chenker <chen.ke14@zte.com.cn>\n\nChange-Id: Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31\n""}]",0,666992,84beed0efc884d7d83f9f1918da33b5023490886,20,6,3,22998,,,0,"Fix uint test test_json_format and Solve pep8 msgfmt error

For json format we only need check the json result.

For pep8 error:
xargs: msgfmt: No such file or directory
ERROR: InvocationError for command /bin/bash -c 'find senlinclient..'
http://logs.openstack.org/92/666992/2/gate/openstack-tox-pep8/fdbc082/job-output.txt.gz

We need to add bindep.txt, like neutron:
https://github.com/openstack/neutron/blob/master/bindep.txt#L5

Co-Authored-By: chenker <chen.ke14@zte.com.cn>

Change-Id: Ifb2d2bb3a1043ab1a4c94d30029bb920b4627a31
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/92/666992/1 && git format-patch -1 --stdout FETCH_HEAD,['senlinclient/tests/unit/test_format_utils.py'],1,bbe45d66a4e90e554994efaae12c53c06795564c,new_master," self.assertEqual(jsonutils.loads(expected), jsonutils.loads(self.app.stdout.make_string()))"," self.assertEqual(expected, self.app.stdout.make_string())",1,1
openstack%2Fpuppet-tripleo~master~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,master,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-06-18 18:03:44.000000000,2019-06-29 05:21:36.000000000,2019-06-29 05:21:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 18:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ddccb1f92bc1153c988d2e6981f29976eaa37b99', 'message': ""Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n""}, {'number': 2, 'created': '2019-06-19 21:42:28.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/914cf1f124fa5617373ce2f779b1eff202da2e87', 'message': ""Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n""}]",0,666089,914cf1f124fa5617373ce2f779b1eff202da2e87,24,5,2,16643,,,0,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/666089/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,ddccb1f92bc1153c988d2e6981f29976eaa37b99,bug/1831938,"# [*manila_user_enabled_backends*] # (Optional) List of additional backend stanzas to activate # Defaults to hiera('manila_user_enabled_backends', undef) # $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_user_enabled_backends = hiera('manila_user_enabled_backends', undef) $backends = delete_undef_values(concat([], $manila_generic_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend, $manila_user_enabled_backends)) $manila_enabled_backends = delete($backends, '') "," $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_enabled_backends = delete_undef_values( [ $manila_generic_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend ] )",22,18
openstack%2Fpython-senlinclient~master~I4af359abcfd06ffc51bd71fd2106f89ea3c416d4,openstack/python-senlinclient,master,I4af359abcfd06ffc51bd71fd2106f89ea3c416d4,Solve pep8 msgfmt error,ABANDONED,2019-06-29 03:30:26.000000000,2019-06-29 04:32:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-29 03:30:26.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/e0c82cc6cc15cc15da57496088383a1709b31860', 'message': ""Solve pep8 msgfmt error\n\nChange-Id: I4af359abcfd06ffc51bd71fd2106f89ea3c416d4\nxargs: msgfmt: No such file or directory\nERROR: InvocationError for command /bin/bash -c 'find senlinclient..'\n""}]",0,668283,e0c82cc6cc15cc15da57496088383a1709b31860,3,1,1,28748,,,0,"Solve pep8 msgfmt error

Change-Id: I4af359abcfd06ffc51bd71fd2106f89ea3c416d4
xargs: msgfmt: No such file or directory
ERROR: InvocationError for command /bin/bash -c 'find senlinclient..'
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/83/668283/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e0c82cc6cc15cc15da57496088383a1709b31860,solve_pep8_msgfmt_error,# This file contains runtime (non-python) dependencies # More info at: http://docs.openstack.org/infra/bindep/readme.html # tools/misc-sanity-checks.sh validates .po[t] files gettext [test] ,,5,0
openstack%2Frequirements~stable%2Fstein~Icad9a8cbd0a59af32777f176d14bd7a3f4080c78,openstack/requirements,stable/stein,Icad9a8cbd0a59af32777f176d14bd7a3f4080c78,update constraint for python-saharaclient to new release 2.2.1,MERGED,2019-06-27 09:59:04.000000000,2019-06-29 04:22:39.000000000,2019-06-29 04:22:39.000000000,"[{'_account_id': 10459}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 09:59:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/72a83df4edd56fb45d8d66c71e4df56442cc4940', 'message': 'update constraint for python-saharaclient to new release 2.2.1\n\nChange-Id: Icad9a8cbd0a59af32777f176d14bd7a3f4080c78\nmeta:version: 2.2.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Luigi Toscano <ltoscano@redhat.com>\nmeta:release:Commit: Luigi Toscano <ltoscano@redhat.com>\nmeta:release:Change-Id: If2e10b2c24586a68c3711bfe1e649e82c39e140a\nmeta:release:Code-Review+1: Jeremy Freudberg <jeremyfreudberg@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,667835,72a83df4edd56fb45d8d66c71e4df56442cc4940,9,3,1,11131,,,0,"update constraint for python-saharaclient to new release 2.2.1

Change-Id: Icad9a8cbd0a59af32777f176d14bd7a3f4080c78
meta:version: 2.2.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Luigi Toscano <ltoscano@redhat.com>
meta:release:Commit: Luigi Toscano <ltoscano@redhat.com>
meta:release:Change-Id: If2e10b2c24586a68c3711bfe1e649e82c39e140a
meta:release:Code-Review+1: Jeremy Freudberg <jeremyfreudberg@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/667835/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,72a83df4edd56fb45d8d66c71e4df56442cc4940,new-release,python-saharaclient===2.2.1,python-saharaclient===2.2.0,1,1
openstack%2Fmurano~stable%2Frocky~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/rocky,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 13:59:07.000000000,2019-06-29 04:01:40.000000000,2019-06-29 04:01:40.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 13:59:07.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/9773d2cc3652dc386a3ee076a8ff9452ef8e39fc', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)\n(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)\n'}]",0,668180,9773d2cc3652dc386a3ee076a8ff9452ef8e39fc,6,2,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
",git fetch https://review.opendev.org/openstack/murano refs/changes/80/668180/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,9773d2cc3652dc386a3ee076a8ff9452ef8e39fc,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,21,0
openstack%2Fmurano~stable%2Fpike~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/pike,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 13:56:45.000000000,2019-06-29 04:01:39.000000000,2019-06-29 04:01:39.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 13:56:45.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/1f2d572cfa82a426360b1611040d7330ecc48634', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\nConflicts:\n      tox.ini\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)\n(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)\n(cherry picked from commit 83cbcc50f5d10aa52ea1762a196f214f80bbb058)\n'}]",0,668179,1f2d572cfa82a426360b1611040d7330ecc48634,6,2,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

Conflicts:
      tox.ini

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
(cherry picked from commit 83cbcc50f5d10aa52ea1762a196f214f80bbb058)
",git fetch https://review.opendev.org/openstack/murano refs/changes/79/668179/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,1f2d572cfa82a426360b1611040d7330ecc48634,bindep-fallback," [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False",,21,0
openstack%2Fmurano~stable%2Fqueens~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/queens,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 13:10:00.000000000,2019-06-29 04:01:39.000000000,2019-06-29 04:01:38.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 13:10:00.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/83cbcc50f5d10aa52ea1762a196f214f80bbb058', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\nConflicts:\n      tox.ini\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)\n(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)\n'}]",0,668171,83cbcc50f5d10aa52ea1762a196f214f80bbb058,6,2,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

Conflicts:
      tox.ini

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
",git fetch https://review.opendev.org/openstack/murano refs/changes/71/668171/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,83cbcc50f5d10aa52ea1762a196f214f80bbb058,bindep-fallback," [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False",,21,0
openstack%2Fmurano~stable%2Fstein~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/stein,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 11:47:49.000000000,2019-06-29 04:00:21.000000000,2019-06-29 04:00:20.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 11:47:49.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/61f8206c45d18872782dbcedbc99bd26ecfbeaba', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)\n'}]",0,668152,61f8206c45d18872782dbcedbc99bd26ecfbeaba,6,2,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
",git fetch https://review.opendev.org/openstack/murano refs/changes/52/668152/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,61f8206c45d18872782dbcedbc99bd26ecfbeaba,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,21,0
openstack%2Foctavia~master~I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614,openstack/octavia,master,I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614,Update tox.ini for new upper constraints strategy,MERGED,2019-06-11 05:50:26.000000000,2019-06-29 03:36:51.000000000,2019-06-29 03:36:51.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 05:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5bf014db7666df3ffab73967273b49be24117137', 'message': 'Change the requirement to releases.openstack.org\n\nChange-Id: I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614\n'}, {'number': 2, 'created': '2019-06-28 22:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6c3b1c64a0767fcbb1e80e2d3fa37a546edbd02', 'message': 'Change the requirement to releases.openstack.org\n\nChange-Id: I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614\n'}, {'number': 3, 'created': '2019-06-28 23:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b34f2caa8b17ecd5a4156fb2948af4010fa56e1', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia.\nThis also corrects a lower constraint for oslo.messaging.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614\n'}, {'number': 4, 'created': '2019-06-29 00:07:11.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de30dbb62f98e89219231fbc282083f45417774c', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia.\nThis also corrects a lower constraint for oslo.messaging.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614\n'}]",0,664499,de30dbb62f98e89219231fbc282083f45417774c,13,4,4,28613,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia.
This also corrects a lower constraint for oslo.messaging.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I4cf0ad5d14c4378e33423a4d639ec4d0fcc2a614
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/664499/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5bf014db7666df3ffab73967273b49be24117137,constraints-updates, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fneutron-tempest-plugin~master~Ieca8567965789f8d7763a77cecc82059c30b5ced,openstack/neutron-tempest-plugin,master,Ieca8567965789f8d7763a77cecc82059c30b5ced,Change order of creating vms and plug routers in scenario test,MERGED,2019-06-26 08:26:32.000000000,2019-06-29 03:05:27.000000000,2019-06-29 03:05:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 08:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9de46c54ebf6a6ade7042808d8c3c41e3f08fd9b', 'message': ""Change order of creating vms and plug routers in scenario test\n\nIn scenario test\ntest_connectivity.NetworkConnectivityTest.test_connectivity_through_2_routers\nthere was an issue that first 2 vms were created and after\nthat subnets were plugged into router. That caused race condition\nbetween spawning vms and cloud-init script during boot process\nand configuring metadata service in routers. Because of that\noften instance was booted without SSH key configured properly\nthus there was no possibility to ssh to this VM and test\nwas failing.\n\nAs we don't have any way to ensure that metadata is already\nconfigured inside router, this patch just change order of\noperations that subnets are first plugged into router and\nthan VMs are created. Thanks to this change it should be\nat least much more reliable and test should be working better.\n\nChange-Id: Ieca8567965789f8d7763a77cecc82059c30b5ced\nRelated-Bug: #1830763\n""}, {'number': 2, 'created': '2019-06-26 21:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b63f06ec4b8897c255b388de443ba993986021e5', 'message': ""Change order of creating vms and plug routers in scenario test\n\nIn scenario tests in module\ntest_connectivity there was an issue that first 2 vms\nwere created and after that subnets were plugged into\nrouter. That caused race condition between spawning vms\nand cloud-init script during boot process and configuring\nmetadata service in routers. Because of that often\ninstance was booted without SSH key configured properly\nthus there was no possibility to ssh to this VM and test\nwas failing.\n\nAs we don't have any way to ensure that metadata is already\nconfigured inside router, this patch just change order of\noperations that subnets are first plugged into router and\nthan VMs are created. Thanks to this change it should be\nat least much more reliable and test should be working better.\n\nChange-Id: Ieca8567965789f8d7763a77cecc82059c30b5ced\nRelated-Bug: #1830763\n""}, {'number': 3, 'created': '2019-06-27 07:13:50.000000000', 'files': ['neutron_tempest_plugin/scenario/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6aae0d4b0e7e058e4da992b0cb74be84cedad433', 'message': ""Change order of creating vms and plug routers in scenario test\n\nIn scenario tests in module\ntest_connectivity there was an issue that first 2 vms\nwere created and after that subnets were plugged into\nrouter. That caused race condition between spawning vms\nand cloud-init script during boot process and configuring\nmetadata service in routers. Because of that often\ninstance was booted without SSH key configured properly\nthus there was no possibility to ssh to this VM and test\nwas failing.\n\nAs we don't have any way to ensure that metadata is already\nconfigured inside router, this patch just change order of\noperations that subnets are first plugged into router and\nthan VMs are created. Thanks to this change it should be\nat least much more reliable and test should be working better.\n\nChange-Id: Ieca8567965789f8d7763a77cecc82059c30b5ced\nRelated-Bug: #1830763\n""}]",2,667547,6aae0d4b0e7e058e4da992b0cb74be84cedad433,15,6,3,11975,,,0,"Change order of creating vms and plug routers in scenario test

In scenario tests in module
test_connectivity there was an issue that first 2 vms
were created and after that subnets were plugged into
router. That caused race condition between spawning vms
and cloud-init script during boot process and configuring
metadata service in routers. Because of that often
instance was booted without SSH key configured properly
thus there was no possibility to ssh to this VM and test
was failing.

As we don't have any way to ensure that metadata is already
configured inside router, this patch just change order of
operations that subnets are first plugged into router and
than VMs are created. Thanks to this change it should be
at least much more reliable and test should be working better.

Change-Id: Ieca8567965789f8d7763a77cecc82059c30b5ced
Related-Bug: #1830763
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/47/667547/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_connectivity.py'],1,9de46c54ebf6a6ade7042808d8c3c41e3f08fd9b,bug/1830763," self.wait_for_server_active(vm1['server']) vm2 = self.create_server(networks=[{'port': port_2['id']}], **params) self.wait_for_server_active(vm2['server']) self._create_servers(ap1_internal_port, ap2_internal_port) "," self.create_server(networks=[{'port': port_2['id']}], **params) self._create_servers(ap1_internal_port, ap2_internal_port) ",5,3
openstack%2Fneutron~stable%2Frocky~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,stable/rocky,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-26 08:11:12.000000000,2019-06-29 03:05:25.000000000,2019-06-29 03:05:25.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-26 08:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f44a880f30513db34a30ce3de06b0152e1e7759', 'message': 'Turn CIDR in query filter into proper subnet\n\nUse netaddr.IPNetwork to convert CIDRs in a query\ninto proper subnets.\n\nWhen creating subnets the CIDR is converted into\na proper subnet. i.e a subnet can be created with\ncidr=10.0.0.11/24 in the create request. On create\nthe cidr is turned into a proper subnet resulting\nin a subnet with cidr=10.0.0.0/24.\n\nThis change does the same to CIDRs when used as\nquery filters during a list subnet request, so\nthat the same value that was used to create the\nsubnet can be used to find the subnet.\n\nCloses-Bug: #1831811\nChange-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6\n(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)\n'}, {'number': 2, 'created': '2019-06-27 11:04:04.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/efd09e6295db0a890ad45f894e649afa31f36522', 'message': 'Turn CIDR in query filter into proper subnet\n\nUse netaddr.IPNetwork to convert CIDRs in a query\ninto proper subnets.\n\nWhen creating subnets the CIDR is converted into\na proper subnet. i.e a subnet can be created with\ncidr=10.0.0.11/24 in the create request. On create\nthe cidr is turned into a proper subnet resulting\nin a subnet with cidr=10.0.0.0/24.\n\nThis change does the same to CIDRs when used as\nquery filters during a list subnet request, so\nthat the same value that was used to create the\nsubnet can be used to find the subnet.\n\nConflicts:\n    neutron/db/db_base_plugin_common.py\n\nCloses-Bug: #1831811\nChange-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6\n(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)\n'}]",0,667542,efd09e6295db0a890ad45f894e649afa31f36522,12,5,2,24245,,,0,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Conflicts:
    neutron/db/db_base_plugin_common.py

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/667542/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py']",2,6f44a880f30513db34a30ce3de06b0152e1e7759,bug/1831811-stable/rocky," def test_list_subnets_filtering_by_cidr_used_on_create(self): with self.network() as network: with self.subnet(network=network, gateway_ip='10.0.0.1', cidr='10.0.0.11/24') as v1,\ self.subnet(network=network, gateway_ip='10.0.1.1', cidr='10.0.1.11/24') as v2: subnets = (v1, v2) query_params = ('cidr=10.0.0.11/24&cidr=10.0.1.11/24') self._test_list_resources('subnet', subnets, query_params=query_params) ",,17,0
openstack%2Fneutron~stable%2Fqueens~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,stable/queens,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-26 09:09:08.000000000,2019-06-29 03:05:22.000000000,2019-06-29 03:05:22.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-26 09:09:08.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ecfdb6fd0e89f3b0ff6ca345d18c0db66e2eaeb', 'message': 'Turn CIDR in query filter into proper subnet\n\nUse netaddr.IPNetwork to convert CIDRs in a query\ninto proper subnets.\n\nWhen creating subnets the CIDR is converted into\na proper subnet. i.e a subnet can be created with\ncidr=10.0.0.11/24 in the create request. On create\nthe cidr is turned into a proper subnet resulting\nin a subnet with cidr=10.0.0.0/24.\n\nThis change does the same to CIDRs when used as\nquery filters during a list subnet request, so\nthat the same value that was used to create the\nsubnet can be used to find the subnet.\n\nConflicts:\n    neutron/db/db_base_plugin_common.py\n\nCloses-Bug: #1831811\nChange-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6\n(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)\n'}]",0,667560,4ecfdb6fd0e89f3b0ff6ca345d18c0db66e2eaeb,8,4,1,24245,,,0,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Conflicts:
    neutron/db/db_base_plugin_common.py

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/667560/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py']",2,4ecfdb6fd0e89f3b0ff6ca345d18c0db66e2eaeb,bug/1831811-stable/queens," def test_list_subnets_filtering_by_cidr_used_on_create(self): with self.network() as network: with self.subnet(network=network, gateway_ip='10.0.0.1', cidr='10.0.0.11/24') as v1,\ self.subnet(network=network, gateway_ip='10.0.1.1', cidr='10.0.1.11/24') as v2: subnets = (v1, v2) query_params = ('cidr=10.0.0.11/24&cidr=10.0.1.11/24') self._test_list_resources('subnet', subnets, query_params=query_params) ",,19,0
openstack%2Fneutron~stable%2Frocky~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,stable/rocky,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-28 06:05:33.000000000,2019-06-29 03:05:19.000000000,2019-06-29 03:05:19.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-28 06:05:33.000000000', 'files': ['neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b7ba672d2d952f166c872e2acf609ff2006666b', 'message': 'Treat networks shared by RBAC in same way as shared with all tenants\n\nIn patch [1] handle of networks with ""shared"" flag set to True was\nfixed and it is now possible to use ""rule:shared"" in API policy in\nactions related e.g. to ports or subnets.\nBut network can be shared with some specific tenant only by doing it\nwith RBAC mechanism and in such case it didn\'t work with [1] only.\nIt was like that because context.get_admin_context() was used to get\nnetwork so this returned network had got shared=False set even if\nrequest comes from tenant for which network was shared through RBAC.\n\nNow network will be always get with context which have got set proper\ntenant_id so ""shared"" flag will be set properly even in case if it\'s\nshared through RBAC.\n\n[1] https://review.opendev.org/#/c/652636/\n\nChange-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a\nCloses-Bug: #1833455\n(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)\n'}]",0,668090,9b7ba672d2d952f166c872e2acf609ff2006666b,8,4,1,11975,,,0,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/668090/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/policy.py'],1,9b7ba672d2d952f166c872e2acf609ff2006666b,bug/1833455-stable/rocky," project_id = target_dict.get('project_id') ctx = (context.Context(tenant_id=project_id) if project_id else context.get_admin_context()) network = plugin.get_network(ctx, target_network_id)"," network = plugin.get_network( context.get_admin_context(), target_network_id)",4,2
openstack%2Fneutron~stable%2Fstein~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,stable/stein,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-28 06:05:17.000000000,2019-06-29 03:05:16.000000000,2019-06-29 03:05:16.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-28 06:05:17.000000000', 'files': ['neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc278a925129d19ca1ce0bd0c39523a6c3288363', 'message': 'Treat networks shared by RBAC in same way as shared with all tenants\n\nIn patch [1] handle of networks with ""shared"" flag set to True was\nfixed and it is now possible to use ""rule:shared"" in API policy in\nactions related e.g. to ports or subnets.\nBut network can be shared with some specific tenant only by doing it\nwith RBAC mechanism and in such case it didn\'t work with [1] only.\nIt was like that because context.get_admin_context() was used to get\nnetwork so this returned network had got shared=False set even if\nrequest comes from tenant for which network was shared through RBAC.\n\nNow network will be always get with context which have got set proper\ntenant_id so ""shared"" flag will be set properly even in case if it\'s\nshared through RBAC.\n\n[1] https://review.opendev.org/#/c/652636/\n\nChange-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a\nCloses-Bug: #1833455\n(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)\n'}]",0,668089,fc278a925129d19ca1ce0bd0c39523a6c3288363,8,4,1,11975,,,0,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/668089/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/policy.py'],1,fc278a925129d19ca1ce0bd0c39523a6c3288363,bug/1833455-stable/stein," project_id = target_dict.get('project_id') ctx = (context.Context(tenant_id=project_id) if project_id else context.get_admin_context()) network = plugin.get_network(ctx, target_network_id)"," network = plugin.get_network( context.get_admin_context(), target_network_id)",4,2
openstack%2Fswift~master~Ib7e065c47871876786bcc9ff39737f5d1bb3c12c,openstack/swift,master,Ib7e065c47871876786bcc9ff39737f5d1bb3c12c,Move call to global_conf_callback after loadapp(),MERGED,2019-06-14 23:20:19.000000000,2019-06-29 01:30:55.000000000,2019-06-29 01:29:51.000000000,"[{'_account_id': 597}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-06-14 23:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/61325fc25c8080834322d1938d853cd48db417c1', 'message': ""Move call to global_conf_callback after loadapp()\n\nOtherwise, paste complains about not being able to interpolate values\ninto the replication_semaphore. As long as it gets dropped in before we\nfork(), I think it's OK?\n\nChange-Id: Ib7e065c47871876786bcc9ff39737f5d1bb3c12c\n""}, {'number': 2, 'created': '2019-06-17 20:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52b248c6a4d9d266ad6428a1b9cf377f52dff77a', 'message': ""Move call to global_conf_callback after loadapp()\n\nOtherwise, paste complains about not being able to interpolate values\ninto the replication_semaphore. As long as it gets dropped in before we\nfork(), I think it's OK?\n\nChange-Id: Ib7e065c47871876786bcc9ff39737f5d1bb3c12c\n""}, {'number': 3, 'created': '2019-06-17 20:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/db27ad875ee8647e0629c2a95ffb2805be89ce1c', 'message': ""Move call to global_conf_callback after loadapp()\n\nOtherwise, paste complains about not being able to interpolate values\ninto the replication_semaphore. As long as it gets dropped in before we\nfork(), I think it's OK?\n\nCloses-Bug: 1691075\nChange-Id: Ib7e065c47871876786bcc9ff39737f5d1bb3c12c\n""}, {'number': 4, 'created': '2019-06-22 05:38:43.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ff4459ed6bcaa26bc4df9873577ccad9578a89fc', 'message': ""Move call to global_conf_callback after loadapp()\n\nOtherwise, paste complains about not being able to interpolate values\ninto the replication_semaphore. As long as it gets dropped in before we\nfork(), I think it's OK?\n\nCloses-Bug: 1691075\nChange-Id: Ib7e065c47871876786bcc9ff39737f5d1bb3c12c\n""}]",0,665494,ff4459ed6bcaa26bc4df9873577ccad9578a89fc,13,3,4,15343,,,0,"Move call to global_conf_callback after loadapp()

Otherwise, paste complains about not being able to interpolate values
into the replication_semaphore. As long as it gets dropped in before we
fork(), I think it's OK?

Closes-Bug: 1691075
Change-Id: Ib7e065c47871876786bcc9ff39737f5d1bb3c12c
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/665494/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,61325fc25c8080834322d1938d853cd48db417c1,py3-devstack," loadapp(conf_path, global_conf=global_conf)"," loadapp(conf_path, global_conf=global_conf)",1,1
openstack%2Ftrove-dashboard~master~I8c512c95322cde5e1163ee35154a48826871cb36,openstack/trove-dashboard,master,I8c512c95322cde5e1163ee35154a48826871cb36,Add python37 job,MERGED,2019-06-21 08:26:55.000000000,2019-06-29 01:27:14.000000000,2019-06-29 01:27:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28646}, {'_account_id': 28695}, {'_account_id': 29313}, {'_account_id': 29393}]","[{'number': 1, 'created': '2019-06-21 08:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/165c8e8c2dc30042b1421c64728f79d2a15ce1dc', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I8c512c95322cde5e1163ee35154a48826871cb36\n""}, {'number': 2, 'created': '2019-06-26 06:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/eeb7bbad86b0d4162d70278ef37063c2d7130227', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I8c512c95322cde5e1163ee35154a48826871cb36\n""}, {'number': 3, 'created': '2019-06-26 06:46:29.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/e53d44782f89505d33627d023b83825ec77fc289', 'message': ""Add python37 job\n\nSince we've entered Train and the runtime proposed include py37[1],\nwe need to include it in gate as well as local env.\nThis patch adds the support for the same.\n\nUpdate the constraints url For more detail, see [2]\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I8c512c95322cde5e1163ee35154a48826871cb36\n""}]",5,666784,e53d44782f89505d33627d023b83825ec77fc289,15,7,3,27822,,,0,"Add python37 job

Since we've entered Train and the runtime proposed include py37[1],
we need to include it in gate as well as local env.
This patch adds the support for the same.

Update the constraints url For more detail, see [2]

[1] https://governance.openstack.org/tc/reference/runtimes/train.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I8c512c95322cde5e1163ee35154a48826871cb36
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/84/666784/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,165c8e8c2dc30042b1421c64728f79d2a15ce1dc,Bug#1,"envlist = py27,py36,py37,pep8","envlist = py27,py36,pep8",3,2
openstack%2Fdevstack~stable%2Fqueens~I43e9186fe344c8d2b7167da48dcfdf00835f8ee7,openstack/devstack,stable/queens,I43e9186fe344c8d2b7167da48dcfdf00835f8ee7,DNM: Testing rdo-release fixes,ABANDONED,2019-06-29 00:49:26.000000000,2019-06-29 00:50:21.000000000,,[],"[{'number': 1, 'created': '2019-06-29 00:49:26.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e0b343aed4675cb2f1947043fffbf2ba859c0c26', 'message': 'DNM: Testing rdo-release fixes\n\nChange-Id: I43e9186fe344c8d2b7167da48dcfdf00835f8ee7\n'}]",0,668277,e0b343aed4675cb2f1947043fffbf2ba859c0c26,2,0,1,16643,,,0,"DNM: Testing rdo-release fixes

Change-Id: I43e9186fe344c8d2b7167da48dcfdf00835f8ee7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/668277/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,e0b343aed4675cb2f1947043fffbf2ba859c0c26,," if [[ ""$REQUIREMENTS_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $REQUIREMENTS_BRANCH | sed ""s|stable/||g"") rdo_package=$(curl -s https://repos.fedorapeople.org/repos/openstack/openstack-$rdo_release/ | grep -o 'rdo-release-.[^>]*.noarch.rpm' | sort | tail -1) yum_install https://rdoproject.org/repos/openstack-$rdo_release/$rdo_package fi", yum_install https://rdoproject.org/repos/rdo-release.rpm,8,1
openstack%2Fdevstack~master~I9eeb19d84212686961f540ef3fee58c756d349e0,openstack/devstack,master,I9eeb19d84212686961f540ef3fee58c756d349e0,DNM: Testing rdo-release fixes,ABANDONED,2019-06-29 00:08:12.000000000,2019-06-29 00:49:09.000000000,,[],"[{'number': 1, 'created': '2019-06-29 00:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/697ac27966d4695005185954c5238f124ca73ce9', 'message': 'DNM: Testing rdo-release fixes\n\nChange-Id: I9eeb19d84212686961f540ef3fee58c756d349e0\n'}, {'number': 2, 'created': '2019-06-29 00:09:09.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/31f7aaf8d74491d024e4793891da77ee18538ee6', 'message': 'DNM: Testing rdo-release fixes\n\nChange-Id: I9eeb19d84212686961f540ef3fee58c756d349e0\n'}]",0,668274,31f7aaf8d74491d024e4793891da77ee18538ee6,4,0,2,16643,,,0,"DNM: Testing rdo-release fixes

Change-Id: I9eeb19d84212686961f540ef3fee58c756d349e0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/668274/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,697ac27966d4695005185954c5238f124ca73ce9,bug/1833696,,,0,0
openstack%2Fopenstack-ansible~stable%2Fstein~Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,openstack/openstack-ansible,stable/stein,Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,Restrict the number of octavia processes and threads in AIO,MERGED,2019-06-28 19:56:37.000000000,2019-06-29 00:20:03.000000000,2019-06-29 00:13:46.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-28 19:56:37.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/24728a69a95b4fd007bd8dfb620dc81f5ab9d0f0', 'message': 'Restrict the number of octavia processes and threads in AIO\n\nChange-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\n(cherry-picked from commit 856f8042d90663a09f96a9ca699fc42e342f81ed)\n'}]",0,668240,24728a69a95b4fd007bd8dfb620dc81f5ab9d0f0,8,3,1,25023,,,0,"Restrict the number of octavia processes and threads in AIO

Change-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
(cherry-picked from commit 856f8042d90663a09f96a9ca699fc42e342f81ed)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/668240/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,24728a69a95b4fd007bd8dfb620dc81f5ab9d0f0,,octavia_wsgi_threads: 1 octavia_wsgi_processes_max: 2 octavia_wsgi_processes: 2 octavia_wsgi_buffer_size: 16384,,4,0
openstack%2Frequirements~master~I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928,openstack/requirements,master,I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928,update constraint for os-traits to new release 0.15.0,MERGED,2019-06-28 20:29:12.000000000,2019-06-29 00:12:50.000000000,2019-06-29 00:12:50.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 20:29:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fef2c0a961de86bc04755fd88fbd1a9b279b1d3c', 'message': 'update constraint for os-traits to new release 0.15.0\n\nChange-Id: I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928\nmeta:version: 0.15.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,668245,fef2c0a961de86bc04755fd88fbd1a9b279b1d3c,9,5,1,11131,,,0,"update constraint for os-traits to new release 0.15.0

Change-Id: I1e8e0c953cc5d3e17428d7d1edfab4e56cd3b928
meta:version: 0.15.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/668245/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fef2c0a961de86bc04755fd88fbd1a9b279b1d3c,new-release,os-traits===0.15.0,os-traits===0.14.0,1,1
openstack%2Foctavia~stable%2Frocky~I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d,openstack/octavia,stable/rocky,I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d,Update tox.ini for new upper constraints strategy,ABANDONED,2019-06-28 22:43:11.000000000,2019-06-28 23:54:37.000000000,,[],"[{'number': 1, 'created': '2019-06-28 22:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/832ced8b7f65c1c8a1227f44c64e1f6c7a97ac01', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d\n'}, {'number': 2, 'created': '2019-06-28 22:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3814f8bec315830667190494f34fe4e03974f8c1', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d\n'}, {'number': 3, 'created': '2019-06-28 23:51:06.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9d580a7e5c3fc03dc3404393447535acd023d2f', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d\n'}]",0,668256,b9d580a7e5c3fc03dc3404393447535acd023d2f,4,0,3,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I2cbfc4f9a5a88ce9f92a31f8706eb687506e267d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/668256/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,832ced8b7f65c1c8a1227f44c64e1f6c7a97ac01,constraints-updates, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} -r{toxinidir}/requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} {opts} {packages}deps = -r{toxinidir}/requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky},6,5
openstack%2Fopenstack-helm~master~Ifb50b932155c166634bb8a88363f6c02fbde8389,openstack/openstack-helm,master,Ifb50b932155c166634bb8a88363f6c02fbde8389,Nova: Provide method for removing sections from nova compute conf,MERGED,2019-06-28 12:51:15.000000000,2019-06-28 23:31:17.000000000,2019-06-28 23:31:17.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-28 12:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62d93e89566163861ddf7073463cb45c38a33765', 'message': 'WIP: Nova: Provide method for removing sections from nova compute conf\n\nChange-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-28 12:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69a1c3d66dd4ba417f27a72435f3217eb2109121', 'message': 'WIP: Nova: Provide method for removing sections from nova compute conf\n\nChange-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-28 13:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b34338c58045b88fa34b4d59e0c768a24a279e91', 'message': 'WIP: Nova: Provide method for removing sections from nova compute conf\n\nChange-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-28 21:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46202e193fdfc0f692ce3f774257ffe07a36812f', 'message': 'Nova: Provide method for removing sections from nova compute conf\n\nThis PS provides a method to redact sectionf from the nova compute\nconfiguration file. By default this is configured to redact the\ndb connection strings, and sections.\n\nChange-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-28 21:55:39.000000000', 'files': ['nova/templates/configmap-etc.yaml', 'nova/values.yaml', 'nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd37d61b12a9bc706f1a7a3ef2e7011353c7a7b0', 'message': 'Nova: Provide method for removing sections from nova compute conf\n\nThis PS provides a method to redact sectionf from the nova compute\nconfiguration file. By default this is configured to redact the\ndb connection strings, and sections.\n\nChange-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,668168,fd37d61b12a9bc706f1a7a3ef2e7011353c7a7b0,13,3,5,23928,,,0,"Nova: Provide method for removing sections from nova compute conf

This PS provides a method to redact sectionf from the nova compute
configuration file. By default this is configured to redact the
db connection strings, and sections.

Change-Id: Ifb50b932155c166634bb8a88363f6c02fbde8389
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/68/668168/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/configmap-etc.yaml', 'nova/values.yaml', 'nova/templates/daemonset-compute.yaml']",3,62d93e89566163861ddf7073463cb45c38a33765,nova-no-db-in-computes, subPath: nova-compute.conf, subPath: nova.conf,58,49
openstack%2Ftempest~master~I740a9650796c81b289635045e319a09ec5fdf27f,openstack/tempest,master,I740a9650796c81b289635045e319a09ec5fdf27f,Remove RetryFilter from defaults,MERGED,2019-06-17 19:31:29.000000000,2019-06-28 23:15:44.000000000,2019-06-28 23:15:44.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 19:31:29.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c976a93de84407642caeffa4661094acbe349e5', 'message': 'Remove RetryFilter from defaults\n\nAs of Ic0a03e89903bf925638fa26cca3dac7db710dca3, the RetryFilter is\ndeprecated in Nova and removed from the defaults. Remove it form the\nlist of Tempest defaults as well.\n\nChange-Id: I740a9650796c81b289635045e319a09ec5fdf27f\nDepends-on: https://review.opendev.org/#/c/663953/\n'}]",0,665752,1c976a93de84407642caeffa4661094acbe349e5,16,5,1,8864,,,0,"Remove RetryFilter from defaults

As of Ic0a03e89903bf925638fa26cca3dac7db710dca3, the RetryFilter is
deprecated in Nova and removed from the defaults. Remove it form the
list of Tempest defaults as well.

Change-Id: I740a9650796c81b289635045e319a09ec5fdf27f
Depends-on: https://review.opendev.org/#/c/663953/
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/665752/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,1c976a93de84407642caeffa4661094acbe349e5,retry-filter," default=[""AvailabilityZoneFilter"", ""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"","," default=[""RetryFilter"", ""AvailabilityZoneFilter"", ""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"",",2,3
openstack%2Ftempest~master~I95d0381845fc206732e2a33363f0064046b8c949,openstack/tempest,master,I95d0381845fc206732e2a33363f0064046b8c949,Return the value of 0 instead of '' with flavor's swap attribute,ABANDONED,2019-03-04 08:30:24.000000000,2019-06-28 22:26:12.000000000,,"[{'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-03-04 08:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9bec336c8025650a5f61981cddb1dc2499ddbfdd', 'message': ""Return the value of 0 instead of '' with flavor's swap attribute\n\nThis affects a bug fix code for nova, see patch[1].\n[1] https://review.openstack.org/#/c/639012/\n\nChange-Id: I95d0381845fc206732e2a33363f0064046b8c949\nPartial-Bug: #1815476\n""}, {'number': 2, 'created': '2019-03-11 00:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7d9381ce812948ba4e89f3495748a4eaea650d6', 'message': ""Return the value of 0 instead of '' with flavor's swap attribute\n\nThis affects a bug fix code for nova, see patch[1].\n[1] https://review.openstack.org/#/c/639012/\n\nChange-Id: I95d0381845fc206732e2a33363f0064046b8c949\nPartial-Bug: #1815476\n""}, {'number': 3, 'created': '2019-03-11 00:01:50.000000000', 'files': ['tempest/api/compute/admin/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c4ef7b6f49e32e5a67bd83c4bcc0b00f937ff941', 'message': ""Return the value of 0 instead of '' with flavor's swap attribute\n\nThis affects a bug fix code for nova.\n\nPartial-Bug: #1815476\nDepends-On: https://review.openstack.org/#/c/639012/\nChange-Id: I95d0381845fc206732e2a33363f0064046b8c949\n""}]",0,640693,c4ef7b6f49e32e5a67bd83c4bcc0b00f937ff941,15,6,3,26458,,,0,"Return the value of 0 instead of '' with flavor's swap attribute

This affects a bug fix code for nova.

Partial-Bug: #1815476
Depends-On: https://review.openstack.org/#/c/639012/
Change-Id: I95d0381845fc206732e2a33363f0064046b8c949
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/640693/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_flavors.py'],1,9bec336c8025650a5f61981cddb1dc2499ddbfdd,bug/1815476," self.assertEqual(flavor['swap'], 0)"," self.assertEqual(flavor['swap'], '')",1,1
openstack%2Fnova~master~I1aa8758b1d08011da9e933f9815b0fde7b792797,openstack/nova,master,I1aa8758b1d08011da9e933f9815b0fde7b792797,Remove the string check of the flavor attribute 'swap',ABANDONED,2019-02-25 05:38:36.000000000,2019-06-28 22:26:00.000000000,,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-25 05:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4cef371298d4e5a8fbb9d30ef86b5e9f47b55e4', 'message': 'Creating a flavor only supports the integer type\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 2, 'created': '2019-02-27 00:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ce5ce9657a0852843dfa9803713519d919234e8', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 3, 'created': '2019-03-04 02:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0db05eaf22764b92474443526ed4c5e5f91e5e2', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 4, 'created': '2019-03-05 01:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ac8392546b25316e4064ddafcb62a94e058dd5f', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 5, 'created': '2019-03-18 06:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/000dfa291afcee0fa11fa8d489c65d282dd067cc', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 6, 'created': '2019-05-01 04:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2bcc5505528b92c7485f29d9d63e32a2784881', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 7, 'created': '2019-05-02 02:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df89d7c42bc8503a482b3497b8a5e558279521ec', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}, {'number': 8, 'created': '2019-05-02 06:47:06.000000000', 'files': ['nova/api/openstack/compute/views/flavors.py', 'releasenotes/notes/bug-1815476-5990f8fb0a397fe2.yaml', 'nova/api/openstack/compute/flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf04be9a63a8af81b6039d0236e6be43b183a806', 'message': 'Remove the string check of the flavor attribute \'swap\'\n\nThe ``swap`` attribute limit of the flavor in the object is ""\'swap\':\nfields.IntegerField()"", so after creating the flavor, the return value\nof ``swap`` should be of type \'integer\'(default 0) instead of \'string\'.\n\nCloses-Bug: #1815476\nChange-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797\n'}]",6,639012,bf04be9a63a8af81b6039d0236e6be43b183a806,118,19,8,26458,,,0,"Remove the string check of the flavor attribute 'swap'

The ``swap`` attribute limit of the flavor in the object is ""'swap':
fields.IntegerField()"", so after creating the flavor, the return value
of ``swap`` should be of type 'integer'(default 0) instead of 'string'.

Closes-Bug: #1815476
Change-Id: I1aa8758b1d08011da9e933f9815b0fde7b792797
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/639012/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1815476-5990f8fb0a397fe2.yaml', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/schemas/flavor_manage.py']",3,f4cef371298d4e5a8fbb9d30ef86b5e9f47b55e4,bp/api-consistency-cleanup," 'swap': parameter_types.flavor_swap_param_non_negative,"," 'swap': parameter_types.flavor_param_non_negative,",14,1
openstack%2Foslo.config~master~I00bdd963e0d4f270c0d4b50c05f420317a137fd5,openstack/oslo.config,master,I00bdd963e0d4f270c0d4b50c05f420317a137fd5,Switch to sphinxcontrib-apidoc,MERGED,2019-06-18 16:34:42.000000000,2019-06-28 22:23:43.000000000,2019-06-28 22:23:43.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-18 16:34:42.000000000', 'files': ['doc/source/reference/exceptions.rst', 'doc/source/reference/index.rst', 'doc/source/reference/fixture.rst', 'doc/source/reference/cfgfilter.rst', 'doc/source/reference/opts.rst', 'doc/source/conf.py', 'doc/source/reference/types.rst', 'doc/source/cli/generator.rst', 'doc/source/reference/configopts.rst', 'doc/source/reference/drivers.rst', 'oslo_config/sphinxext.py', 'doc/requirements.txt', 'doc/source/reference/parser.rst', 'doc/source/reference/helpers.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/2610dff995e78fdaa0187b8a3aea17c4b46c7b18', 'message': ""Switch to sphinxcontrib-apidoc\n\nRather than have the API docs hand-curated and scattered throughout\nthe documentation, let's use the apidoc module like all of the other\nOslo projects so our API docs are consistent and easy to find.\n\nThe documents that were exclusively API docs are removed entirely,\nand the ones where API docs were included with other content have\nbeen changed to reference the generated API docs rather than include\nthem inline. The one exception is the drivers because they are in\nprivate modules that don't show up in the API docs. Those are still\nexplicitly documented.\n\nChange-Id: I00bdd963e0d4f270c0d4b50c05f420317a137fd5\n""}]",0,666045,2610dff995e78fdaa0187b8a3aea17c4b46c7b18,13,4,1,6928,,,0,"Switch to sphinxcontrib-apidoc

Rather than have the API docs hand-curated and scattered throughout
the documentation, let's use the apidoc module like all of the other
Oslo projects so our API docs are consistent and easy to find.

The documents that were exclusively API docs are removed entirely,
and the ones where API docs were included with other content have
been changed to reference the generated API docs rather than include
them inline. The one exception is the drivers because they are in
private modules that don't show up in the API docs. Those are still
explicitly documented.

Change-Id: I00bdd963e0d4f270c0d4b50c05f420317a137fd5
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/45/666045/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/exceptions.rst', 'doc/source/reference/index.rst', 'doc/source/reference/fixture.rst', 'doc/source/reference/cfgfilter.rst', 'doc/source/reference/opts.rst', 'doc/source/conf.py', 'doc/source/reference/types.rst', 'doc/source/cli/generator.rst', 'doc/source/reference/configopts.rst', 'doc/source/reference/drivers.rst', 'oslo_config/sphinxext.py', 'doc/requirements.txt', 'doc/source/reference/parser.rst', 'doc/source/reference/helpers.rst']",14,2610dff995e78fdaa0187b8a3aea17c4b46c7b18,apidoc,,.. currentmodule:: oslo_config.cfg .. autofunction:: find_config_files .. autofunction:: set_defaults ,17,103
openstack%2Fopenstack-ansible-os_octavia~master~I3f277ce4c785b379dbfc76a11759b6d35c1dccea,openstack/openstack-ansible-os_octavia,master,I3f277ce4c785b379dbfc76a11759b6d35c1dccea,Drop private argument for include/import role,MERGED,2019-05-17 08:55:57.000000000,2019-06-28 22:21:14.000000000,2019-06-28 22:21:14.000000000,"[{'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-17 08:55:57.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/39343f0576cca7d31c90331084aed0e34bae17fc', 'message': 'Drop private argument for include/import role\n\nSince ansible 2.8 dropped private argument is not supported anymore:\nhttps://github.com/ansible/ansible/issues/45038\n\nChange-Id: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\n'}]",0,659754,39343f0576cca7d31c90331084aed0e34bae17fc,32,5,1,28619,,,0,"Drop private argument for include/import role

Since ansible 2.8 dropped private argument is not supported anymore:
https://github.com/ansible/ansible/issues/45038

Change-Id: I3f277ce4c785b379dbfc76a11759b6d35c1dccea
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/54/659754/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,39343f0576cca7d31c90331084aed0e34bae17fc,drop_private,, private: true,0,1
openstack%2Fpuppet-tripleo~master~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,master,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-05-28 08:51:01.000000000,2019-06-28 21:39:40.000000000,2019-06-14 22:11:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17517}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-05-28 08:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/51f2dc5a8ea3c38b2d751cc86d840db54020f355', 'message': 'WIP IHA robustness\n\nThis will avoid useless fencing events in case of stonith problems.\n\nChange-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce\n'}, {'number': 2, 'created': '2019-05-31 11:31:57.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a', 'message': ""IHA robustness improvements\n\nThis will avoid useless fencing events in case of stonith problems.  The\n'compute-unfence-trigger' resource is simply a dummy resource that is\nonly used to trigger unfence events. If for whatever reason this\nresource is having issues on stop (pcmk bug, node overloaded, etc.) it\nmakes zero sense to have pacemaker do a fencing action against the node.\nLet's just block and show the operator the status and be less harsh in\ngeneral.\n\nTested this and I correctly get the following:\n[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone\n Clone: compute-unfence-trigger-clone\n  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)\n   Meta Attrs: requires=unfencing\n   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)\n               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)\n               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)\n               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)\n               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)\n               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)\n\nCloses-Bug: #1831234\n\nChange-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce\n""}]",0,661702,8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a,21,8,2,20172,,,0,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/661702/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,51f2dc5a8ea3c38b2d751cc86d840db54020f355,iha_fix," op_params => 'op stop timeout=20 on-fail=block',",,1,0
openstack%2Fproject-config~master~Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1,openstack/project-config,master,Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1,Adjust jobs running on zuul-jobs,MERGED,2019-06-28 20:38:31.000000000,2019-06-28 21:04:54.000000000,2019-06-28 21:04:54.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 20:38:31.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/46d747216b7db48c05c08e67040936faf4dd0900', 'message': ""Adjust jobs running on zuul-jobs\n\nWe've added a job and renamed another; make sure both run on\nchanges to zuul-jobs.\n\nChange-Id: Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1\nDepends-On: https://review.opendev.org/668050\n""}]",0,668248,46d747216b7db48c05c08e67040936faf4dd0900,10,4,1,1,,,0,"Adjust jobs running on zuul-jobs

We've added a job and renamed another; make sure both run on
changes to zuul-jobs.

Change-Id: Iebc496e8d62e2492ce7518d69cdc1a0031cef2a1
Depends-On: https://review.opendev.org/668050
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/668248/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,46d747216b7db48c05c08e67040936faf4dd0900,, - zuul-jobs-test-install-nodejs - zuul-jobs-test-upload-git-mirror - zuul-jobs-test-install-nodejs - zuul-jobs-test-upload-git-mirror, - zuul-jobs-upload-git-mirror - zuul-jobs-upload-git-mirror,4,2
openstack%2Fnetworking-ovn~stable%2Frocky~If157e9d4660cc6c566ecad44aa6734af2bd14db1,openstack/networking-ovn,stable/rocky,If157e9d4660cc6c566ecad44aa6734af2bd14db1,Maintenance task: Fix race condition at resource creation,MERGED,2019-06-21 12:50:35.000000000,2019-06-28 20:44:10.000000000,2019-06-28 20:44:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-06-21 12:50:35.000000000', 'files': ['networking_ovn/tests/unit/db/test_maintenance.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/functional/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/72c57893f3f7b382d10c20b0db7a030bfa11be3b', 'message': 'Maintenance task: Fix race condition at resource creation\n\nWhen the maintenance task runs (every 5 minutes) it should take in\nconsideration how old is the resource before considering it to be an\ninconsitency.\n\nPrior to this patch, what could happen is that a resource being created\nwas committed to the neutron database but not yet to the OVN database and\novn_revision_numbers cache table. In the meantime, the maintenance\ntask could run and create that resource before the create_*_postcommit()\ncompleted resulting in a race condition.\n\nUsing a port as an example, the following error would be seeing when\nthat happens (more detailed example in the LP ticket):\n\novsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:\n{""details"":""Transaction causes multiple rows in \\""Logical_Switch_Port\\""\ntable to have identical values (\\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\\"")\nfor index on column \\""name\\"".\n\nThis patch adds a new filter to the get_inconsistent_resources() method\nwhich checks the ""created_at"" column of the resource to see if it\'s older\nthan 60 seconds and ignore if it\'s newer.\n\nCloses-Bug: #1833445\nChange-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)\n'}]",2,666826,72c57893f3f7b382d10c20b0db7a030bfa11be3b,32,4,1,6773,,,0,"Maintenance task: Fix race condition at resource creation

When the maintenance task runs (every 5 minutes) it should take in
consideration how old is the resource before considering it to be an
inconsitency.

Prior to this patch, what could happen is that a resource being created
was committed to the neutron database but not yet to the OVN database and
ovn_revision_numbers cache table. In the meantime, the maintenance
task could run and create that resource before the create_*_postcommit()
completed resulting in a race condition.

Using a port as an example, the following error would be seeing when
that happens (more detailed example in the LP ticket):

ovsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:
{""details"":""Transaction causes multiple rows in \""Logical_Switch_Port\""
table to have identical values (\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\"")
for index on column \""name\"".

This patch adds a new filter to the get_inconsistent_resources() method
which checks the ""created_at"" column of the resource to see if it's older
than 60 seconds and ignore if it's newer.

Closes-Bug: #1833445
Change-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/666826/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/db/test_maintenance.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/functional/test_maintenance.py']",3,72c57893f3f7b382d10c20b0db7a030bfa11be3b,bug/1833445,"@mock.patch('networking_ovn.db.maintenance.INCONSISTENCIES_OLDER_THAN', -1)",,52,9
openstack%2Fnetworking-ovn~master~I3faa2ace51b0ab83d148bed705268a782076fbfe,openstack/networking-ovn,master,I3faa2ace51b0ab83d148bed705268a782076fbfe,Switch networking-ovn-tempest-slow to multinode job,MERGED,2019-05-10 10:24:25.000000000,2019-06-28 20:44:09.000000000,2019-06-28 20:44:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-10 10:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/641e1d3c5629344ba3b662ee002b4264f2eb948d', 'message': 'Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 2, 'created': '2019-05-13 14:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9e0b95f3e849d5fb7798acc7c39bdd1e654e9da1', 'message': 'Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 3, 'created': '2019-05-13 19:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a46f7ece83919c2e80d95d82bd091092812f513b', 'message': 'Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 4, 'created': '2019-06-06 07:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5ead1c76583c5a8fe92d30c7333ac6208557cd4c', 'message': 'Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 5, 'created': '2019-06-06 13:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5c10de23b09f0a63252d56114c139f5ece4e53d9', 'message': 'Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 6, 'created': '2019-06-07 13:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fd6fe9fe570fe281a11ddc43110643dcb4a01fb2', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 7, 'created': '2019-06-07 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0d67d7e75c6b43c21590b121d5cf067a960e73c4', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 8, 'created': '2019-06-07 16:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5006c18d985c63346fbbab0bbae7dd8adab8ace0', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 9, 'created': '2019-06-09 19:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4b31286dea7e073ba778e9068504157dfc668cb5', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 10, 'created': '2019-06-10 08:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/94a4048881e05a8407a9b1a666bc6842e7a9a571', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 11, 'created': '2019-06-17 20:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bf63414892d83bdcd5737400b12c155ed3131d5b', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 12, 'created': '2019-06-17 21:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1d7d3e666f2c7d203a5d4fc34e8d2220c829cedd', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 13, 'created': '2019-06-18 07:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f0abd0d0ce29018b3f044f20e393e2db7b89fbdf', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 14, 'created': '2019-06-19 09:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f786575123b8ef4376528a4456012c0c055da0ab', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 15, 'created': '2019-06-19 12:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7e8ec2400ce1509710b4e1125409fedf590bc890', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 16, 'created': '2019-06-20 21:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e80025a9826e936f15da0d491500b411d6542f67', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 17, 'created': '2019-06-21 07:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f709a4cef15af0285702cad559ef3bff350fefe1', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt also adds new role to install ovn from packages or source\nby zuul and skip installation of ovn by devstack.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 18, 'created': '2019-06-21 10:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/74b22052123580cd51f8df4a48b16b78e4e98082', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 19, 'created': '2019-06-21 13:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/10568b4877eb49159bbe93c6cab5a995e560bd66', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nIt is almost done, I need to check if special ""multinode-setup""\nrole is really needed.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 20, 'created': '2019-06-21 14:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7b275b6453e90b99ef5e8456a59fbd76d2d826b3', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 21, 'created': '2019-06-21 19:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6a767bcb1c691987a9b3d05dbb99d08dc13bb1ff', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 22, 'created': '2019-06-22 09:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d6f073a72bbebaba7dbbfc90b69be69ddd29deb3', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 23, 'created': '2019-06-22 10:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6ae8669fcacb7033eb9e9645e96a486e53774e34', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 24, 'created': '2019-06-22 15:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/dc907f7d96956fb5ee91ce49c9df8ab91af986d2', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 25, 'created': '2019-06-22 22:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e91f2111b59ce6fae1dd7b8d7b726148a64ff8b3', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 26, 'created': '2019-06-23 08:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/514204a53a725db85270e445291e6a7e4fdfc101', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 27, 'created': '2019-06-23 11:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/672796835eea3fe5b725a19e3d0a25e363a9665a', 'message': 'WIP Make networking-ovn-tempest-slow to be multinode job\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 28, 'created': '2019-06-24 05:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7410a707f97c7e5e75432b45b5cab8b21a17ad61', 'message': 'Switch networking-ovn-tempest-slow to multinode job\n\nIt is now running on 2 nodes: all-in-one and compute.\nThis patch introduce also new abstract job\n""networking-ovn-multinode-base"" which can be used for other\nmultinode jobs in the future.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 29, 'created': '2019-06-24 10:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/02539880da409d947e91ed0e491ddead0534ed57', 'message': 'Switch networking-ovn-tempest-slow to multinode job\n\nIt is now running on 2 nodes: all-in-one and compute.\nThis patch introduce also new abstract job\n""networking-ovn-multinode-base"" which can be used for other\nmultinode jobs in the future.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}, {'number': 30, 'created': '2019-06-26 22:05:11.000000000', 'files': ['playbooks/multinode-setup.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3b635cb6f6056ff658a2b3be59a65e9034e296df', 'message': 'Switch networking-ovn-tempest-slow to multinode job\n\nIt is now running on 2 nodes: all-in-one and compute.\nThis patch introduce also new abstract job\n""networking-ovn-multinode-base"" which can be used for other\nmultinode jobs in the future.\n\nChange-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe\n'}]",8,658326,3b635cb6f6056ff658a2b3be59a65e9034e296df,116,9,30,11975,,,0,"Switch networking-ovn-tempest-slow to multinode job

It is now running on 2 nodes: all-in-one and compute.
This patch introduce also new abstract job
""networking-ovn-multinode-base"" which can be used for other
multinode jobs in the future.

Change-Id: I3faa2ace51b0ab83d148bed705268a782076fbfe
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/658326/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,641e1d3c5629344ba3b662ee002b4264f2eb948d,make-slow-job-multinode," nodeset: openstack-two-node-bionic devstack_localrc: OVN_L3_CREATE_PUBLIC_NETWORK: false OVN_SB_REMOTE: ""{{ hostvars['controller']['nodepool']['private_ipv4'] }}"" OVN_NB_REMOTE: ""{{ hostvars['controller']['nodepool']['private_ipv4'] }}"" group-vars: subnode: devstack_services: c-api: false c-sch: false c-vol: false g-api: false g-reg: false keystone: false n-api-meta: false n-api: false n-cauth: false n-cond-cell1: false n-cpu: true n-novnc-cell1: false n-sch: false n-super-cond: false ovn-northd: false ovn-octavia: false ovs-vswitchd: true ovsdb-server: true placement-api: false q-svc: false",,28,0
openstack%2Fnova~master~I90ee8a2081c2a0465441a8d81d161f4887b4e1fb,openstack/nova,master,I90ee8a2081c2a0465441a8d81d161f4887b4e1fb,Add CPUWeigher,MERGED,2016-09-29 14:58:52.000000000,2019-06-28 20:38:15.000000000,2018-04-24 01:09:31.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12813}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-09-29 14:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cac4d0462414157ad7503cbfc108a0a134e03b1', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\n'}, {'number': 2, 'created': '2016-10-03 09:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f7f9cc0d81365cbbb57f379b1136871d0e0bdd2', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\n'}, {'number': 3, 'created': '2016-10-04 12:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d305dde7c17464b19f4314d1f09a2749af382da', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 4, 'created': '2017-01-12 15:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a52b9a36809762ac8d100ca2442899b19e66e1d', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 5, 'created': '2017-11-21 14:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c85a98686365faa620642786f4406725b13e88f1', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 6, 'created': '2018-03-08 10:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/193c1388493f96d4a72d262f76be0aaedc29d215', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 7, 'created': '2018-03-09 09:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d088bb18a33f75028844b5df6e3fda122a8b2b3', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 8, 'created': '2018-03-20 15:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c66fdf9de5201528730f460af2f85775ff3e071f', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 9, 'created': '2018-03-26 13:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3dbc15bae2c2c4541cd02761bce467fe01168c8', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 10, 'created': '2018-04-17 13:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cde0e0585977cb58302445f275ebe1f00846676', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}, {'number': 11, 'created': '2018-04-18 14:22:51.000000000', 'files': ['nova/scheduler/weights/cpu.py', 'nova/tests/unit/scheduler/weights/test_weights_cpu.py', 'doc/source/user/filter-scheduler.rst', 'releasenotes/notes/add-cpu-weigher-2e982c9f9751d631.yaml', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67f52ab36df0f029d745851fc45607736c03e474', 'message': 'Add CPUWeigher\n\nnova provides many different types of filter, providing both resource\nstacking/spreading and affinity/anti-affinity patterns. Curiously\nenough, however, there is no way to configure a stack or spread policy\nof CPUs. Add one.\n\nChange-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb\nImplements: bp vcpu-weighter\n'}]",39,379525,67f52ab36df0f029d745851fc45607736c03e474,172,29,11,15334,,,0,"Add CPUWeigher

nova provides many different types of filter, providing both resource
stacking/spreading and affinity/anti-affinity patterns. Curiously
enough, however, there is no way to configure a stack or spread policy
of CPUs. Add one.

Change-Id: I90ee8a2081c2a0465441a8d81d161f4887b4e1fb
Implements: bp vcpu-weighter
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/379525/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/weights/cpu.py', 'nova/tests/unit/scheduler/weights/test_weights_cpu.py', 'doc/source/filter_scheduler.rst', 'releasenotes/notes/add-cpu-weigher-2e982c9f9751d631.yaml', 'nova/conf/scheduler.py']",5,5cac4d0462414157ad7503cbfc108a0a134e03b1,bp/vcpu-weighter,"cpu_weight_mult_opt = cfg.FloatOpt(""cpu_weight_multiplier"", default=1.0, help=""Multiplier used for weighing cpu. Negative "" ""numbers mean to stack vs spread."") cpu_weight_mult_opt,",,182,1
openstack%2Fnetworking-bagpipe~master~I2187f0e63d366fe7d174d0f86bb548535e9eef49,openstack/networking-bagpipe,master,I2187f0e63d366fe7d174d0f86bb548535e9eef49,Add local bindep.txt,MERGED,2019-06-26 06:29:43.000000000,2019-06-28 20:28:05.000000000,2019-06-28 20:28:05.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 06:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/73921be3162795b8e3014e89fc9a5e6d027cd450', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I2187f0e63d366fe7d174d0f86bb548535e9eef49\n'}, {'number': 2, 'created': '2019-06-26 07:51:41.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I2187f0e63d366fe7d174d0f86bb548535e9eef49\n'}]",0,667520,3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa,11,4,2,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I2187f0e63d366fe7d174d0f86bb548535e9eef49
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/20/667520/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,73921be3162795b8e3014e89fc9a5e6d027cd450,bindep-fallback,# This is a cross-platform list tracking distribution packages needed for install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information. mysql-client [platform:dpkg] mysql-server [platform:dpkg] postgresql-client [platform:dpkg] ,,7,0
openstack%2Ftempest~master~Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa,openstack/tempest,master,Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa,compute: Correctly pass certified_image_ref as image_id,MERGED,2019-06-27 10:42:45.000000000,2019-06-28 20:11:27.000000000,2019-06-28 20:11:27.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-06-27 10:42:45.000000000', 'files': ['tempest/api/compute/servers/test_servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cff4ed761da330db1c3611312687f034d812ac98', 'message': 'compute: Correctly pass certified_image_ref as image_id\n\nIb346d383c430d5151d9aafa6e856dd0a7cae8a23 incorrectly attempted to pass\nthis as imageRef leading to duplicate arguments being used when calling\nthe servers client to create the server.\n\nCloses-Bug: #1834461\nChange-Id: Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa\n'}]",0,667893,cff4ed761da330db1c3611312687f034d812ac98,10,5,1,10135,,,0,"compute: Correctly pass certified_image_ref as image_id

Ib346d383c430d5151d9aafa6e856dd0a7cae8a23 incorrectly attempted to pass
this as imageRef leading to duplicate arguments being used when calling
the servers client to create the server.

Closes-Bug: #1834461
Change-Id: Ic913176b429b3465dcdbc2e4f44eea32f0b17dfa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/667893/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_servers.py'],1,cff4ed761da330db1c3611312687f034d812ac98,bug/1834461," image_id=CONF.compute.certified_image_ref,"," imageRef=CONF.compute.certified_image_ref,",1,1
openstack%2Ftripleo-ansible~master~I11b818e264d89e937072458f00eed19176279b5f,openstack/tripleo-ansible,master,I11b818e264d89e937072458f00eed19176279b5f,bootstrap: update SElinux python binding rpm for EL8,MERGED,2019-06-28 12:48:53.000000000,2019-06-28 19:48:26.000000000,2019-06-28 19:48:26.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/70410c5d9f3aea2f3774c763ea0cc7a176b616e0', 'message': ""bootstrap: update SElinux python binding rpm for EL8\n\nIt's python3-libselinux for RHEL8 & Fedora 28 (Python3).\n\nChange-Id: I11b818e264d89e937072458f00eed19176279b5f\n""}, {'number': 2, 'created': '2019-06-28 13:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/739b49914f3dd5d9bdc854d0c3829b902c8a30db', 'message': ""bootstrap: update SElinux python binding rpm for EL8\n\nIt's python3-libselinux for RHEL8 & Fedora 28 (Python3).\n\nChange-Id: I11b818e264d89e937072458f00eed19176279b5f\n""}, {'number': 3, 'created': '2019-06-28 14:10:40.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87e94e7ebba0fca63481af40ee5353ea3a4fab5a', 'message': ""bootstrap: update SElinux python binding rpm for EL8\n\nIt's python3-libselinux for RHEL8 (Python3).\n\nChange-Id: I11b818e264d89e937072458f00eed19176279b5f\n""}]",2,668166,87e94e7ebba0fca63481af40ee5353ea3a4fab5a,15,4,3,3153,,,0,"bootstrap: update SElinux python binding rpm for EL8

It's python3-libselinux for RHEL8 (Python3).

Change-Id: I11b818e264d89e937072458f00eed19176279b5f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/668166/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",2,70410c5d9f3aea2f3774c763ea0cc7a176b616e0,selinux/py3, - python3-libselinux, - libselinux-python,2,2
openstack%2Ftempest-stress~master~I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf,openstack/tempest-stress,master,I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf,Update home-page,MERGED,2019-01-11 10:03:13.000000000,2019-06-28 19:44:35.000000000,2019-06-28 19:44:35.000000000,"[{'_account_id': 8556}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27078}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-11 10:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/85a706eb124b0a82bfdd3998147220fd2370c568', 'message': 'Updatae home-page\n\nChange-Id: I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf\n'}, {'number': 2, 'created': '2019-01-12 01:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/6f90adb07e5bc685d515831232a9ed550c9cd836', 'message': 'Update home-page\n\nChange-Id: I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf\n'}, {'number': 3, 'created': '2019-06-28 19:23:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/3d0724349a00adda00c8e91609a9078cd54a1986', 'message': 'Update home-page\n\nChange-Id: I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf\n'}]",2,630111,3d0724349a00adda00c8e91609a9078cd54a1986,17,8,3,26297,,,0,"Update home-page

Change-Id: I5a4ccdd7c0cfa967c38287fe6ec5c75351cdffcf
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/11/630111/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,85a706eb124b0a82bfdd3998147220fd2370c568,,home-page = https://git.openstack.org/cgit/openstack/tempest-stress,home-page = http://www.openstack.org/,1,1
openstack%2Fdevstack-tools~master~Ief10c73009cc715a4bd9c92abde829ac54a75b61,openstack/devstack-tools,master,Ief10c73009cc715a4bd9c92abde829ac54a75b61,Update home-page,MERGED,2019-01-11 11:44:34.000000000,2019-06-28 19:39:14.000000000,2019-06-28 19:39:13.000000000,"[{'_account_id': 8556}, {'_account_id': 17499}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-11 11:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/57aa2ca1f9512bf3d896d1c9f8cca193fdf43764', 'message': 'Update home-page\n\nChange-Id: Ief10c73009cc715a4bd9c92abde829ac54a75b61\n'}, {'number': 2, 'created': '2019-05-30 09:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/08b5903ae5770027e49439d35adb3d197c0cbec2', 'message': 'Update home-page\n\nChange-Id: Ief10c73009cc715a4bd9c92abde829ac54a75b61\n'}, {'number': 3, 'created': '2019-06-28 19:24:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/7f1d7155a3292362f1dec5fdd9b6789daa9d0837', 'message': 'Update home-page\n\nChange-Id: Ief10c73009cc715a4bd9c92abde829ac54a75b61\n'}]",2,630170,7f1d7155a3292362f1dec5fdd9b6789daa9d0837,16,6,3,26297,,,0,"Update home-page

Change-Id: Ief10c73009cc715a4bd9c92abde829ac54a75b61
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/70/630170/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,57aa2ca1f9512bf3d896d1c9f8cca193fdf43764,,home-page = https://git.openstack.org/cgit/openstack/devstack-tools,home-page = http://www.openstack.org/,1,1
openstack%2Fbashate~master~Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf,openstack/bashate,master,Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf,extract report object,ABANDONED,2016-06-29 14:12:21.000000000,2019-06-28 19:21:49.000000000,,[{'_account_id': 22499}],"[{'number': 1, 'created': '2016-06-29 14:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/31ad2c1aa4f799e40d30954f9744d7ca47fa0fc4', 'message': 'extract report object\n\nImplementing:\n        # NOTE(mrodden): magic; replace with proper\n        # report class when necessary\n        report = self\n\nChange-Id: Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf\n'}, {'number': 2, 'created': '2016-09-23 18:22:49.000000000', 'files': ['bashate/bashate.py', 'bashate/tests/test_bashate.py'], 'web_link': 'https://opendev.org/openstack/bashate/commit/7987d233c03258a696f1414a90ae6a4659467202', 'message': 'extract report object\n\nImplementing:\n        # NOTE(mrodden): magic; replace with proper\n        # report class when necessary\n        report = self\n\nChange-Id: Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf\n'}]",0,335519,7987d233c03258a696f1414a90ae6a4659467202,8,1,2,22499,,,0,"extract report object

Implementing:
        # NOTE(mrodden): magic; replace with proper
        # report class when necessary
        report = self

Change-Id: Ie4fd21a686b1a5b9d9546dd286cfeee7dddb96bf
",git fetch https://review.opendev.org/openstack/bashate refs/changes/19/335519/1 && git format-patch -1 --stdout FETCH_HEAD,"['bashate/bashate.py', 'bashate/tests/test_bashate.py']",2,31ad2c1aa4f799e40d30954f9744d7ca47fa0fc4,pep8-compatible-report," self.report = bashate.BashateReport() self.run = bashate.BashateRun(self.report) self.report.register_ignores('E001|E011') bashate.check_no_trailing_whitespace(""if "", self.report) self.assertEqual(0, self.report.error_count) self.report.register_ignores('E001,E011') bashate.check_no_trailing_whitespace(""if "", self.report) self.assertEqual(0, self.report.error_count) self.report.register_ignores('E001|E002,E003|E011') bashate.check_no_trailing_whitespace(""if "", self.report) bashate.check_if_then(""if "", self.report) bashate.check_indents("" echo"", self.report) self.assertEqual(0, self.report.error_count) self.report.register_ignores('E001') bashate.check_no_trailing_whitespace(""if "", self.report) self.assertEqual(0, self.report.error_count) @mock.patch('bashate.bashate.BashateReport.print_error') bashate.check_for_do(test_line, self.report) 'bashate.bashate.BashateReport.log_error') self.report = bashate.BashateReport() self.run = bashate.BashateRun(self.report) self.assertEqual(0, self.report.error_count) self.assertEqual(self.report.warning_count, 3) self.report.register_ignores('E001') self.assertEqual(self.report.warning_count, 3) self.assertEqual(self.report.warning_count, 0) self.assertEqual(self.report.error_count, 0) self.assertEqual(self.report.error_count, 0) # this requires bash 4 self.report.register_errors('E042') self.report.register_errors('E043') self.assertEqual(0, self.report.error_count) self.report.register_errors('E005') self.report.register_errors('E040') self.report.register_warnings('E011,E041') self.assertEqual(0, self.report.error_count) self.assertEqual(4, self.report.warning_count) self.assertEqual(0, self.report.error_count)"," self.run = bashate.BashateRun() self.run.register_ignores('E001|E011') bashate.check_no_trailing_whitespace(""if "", self.run) self.assertEqual(0, self.run.error_count) self.run.register_ignores('E001,E011') bashate.check_no_trailing_whitespace(""if "", self.run) self.assertEqual(0, self.run.error_count) self.run.register_ignores('E001|E002,E003|E011') bashate.check_no_trailing_whitespace(""if "", self.run) bashate.check_if_then(""if "", self.run) bashate.check_indents("" echo"", self.run) self.assertEqual(0, self.run.error_count) self.run.register_ignores('E001') bashate.check_no_trailing_whitespace(""if "", self.run) self.assertEqual(0, self.run.error_count) @mock.patch('bashate.bashate.BashateRun.print_error') bashate.check_for_do(test_line, self.run) 'bashate.bashate.BashateRun.log_error') self.run = bashate.BashateRun() self.assertEqual(0, self.run.error_count) self.assertEqual(self.run.warning_count, 3) self.run.register_ignores('E001') self.assertEqual(self.run.warning_count, 3) self.assertEqual(self.run.warning_count, 0) self.assertEqual(self.run.error_count, 0) self.assertEqual(self.run.error_count, 0) self.run.register_errors('E042') self.run.register_errors('E043') self.assertEqual(0, self.run.error_count) self.run.register_errors('E005') self.run.register_errors('E040') self.run.register_warnings('E011,E041') self.assertEqual(0, self.run.error_count) self.assertEqual(4, self.run.warning_count) self.assertEqual(0, self.run.error_count)",70,63
openstack%2Fbashate~master~Ibe417c817ab63a45d8f3cb26e2449792cc2773e0,openstack/bashate,master,Ibe417c817ab63a45d8f3cb26e2449792cc2773e0,Adds directory recursive lookup.,ABANDONED,2016-08-23 09:55:33.000000000,2019-06-28 19:20:58.000000000,,[{'_account_id': 7118}],"[{'number': 1, 'created': '2016-08-23 09:55:33.000000000', 'files': ['requirements.txt', 'bashate/bashate.py'], 'web_link': 'https://opendev.org/openstack/bashate/commit/dc4acec7ec466665960dc068c5005e172938f06c', 'message': 'Adds directory recursive lookup.\n\nbashate only accepts files as arguments. This change adds support\nfor directory lookup, so every bash script file found in the given\ndirectory is analyzed.\n\nChange-Id: Ibe417c817ab63a45d8f3cb26e2449792cc2773e0\nSigned-off-by: Pablo Orviz <orviz@ifca.unican.es>\n'}]",0,359079,dc4acec7ec466665960dc068c5005e172938f06c,6,1,1,9440,,,0,"Adds directory recursive lookup.

bashate only accepts files as arguments. This change adds support
for directory lookup, so every bash script file found in the given
directory is analyzed.

Change-Id: Ibe417c817ab63a45d8f3cb26e2449792cc2773e0
Signed-off-by: Pablo Orviz <orviz@ifca.unican.es>
",git fetch https://review.opendev.org/openstack/bashate refs/changes/79/359079/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'bashate/bashate.py']",2,dc4acec7ec466665960dc068c5005e172938f06c,find_files_recursively,"import magicdef get_files_from_directory(directory): bash_files = [] for root, dirnames, filenames in os.walk(directory): for filename in filenames: fname = os.path.join(root, filename) if magic.from_file(fname).split(',')[0] in [ ""Bourne-Again shell script""]: bash_files.append(fname) return bash_files if not opts.files: files = [] for fname in opts.files: if os.path.isdir(fname): files.extend(get_files_from_directory(fname)) else: files.append(fname) if not files: print(""No bash files found"") sys.exit(0) ", files = opts.files if not files:,25,2
openstack%2Fkeystone~master~I97909ac566ab6e34f5a44204b6a5ccba2868285e,openstack/keystone,master,I97909ac566ab6e34f5a44204b6a5ccba2868285e,Remove redundant parameter passed to assertTrue,MERGED,2019-06-28 09:22:07.000000000,2019-06-28 19:17:23.000000000,2019-06-28 19:17:23.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:22:07.000000000', 'files': ['keystone/tests/unit/test_ldap_pool_livetest.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b0e5c115442657eeaa6adbed41888b453ea5eea', 'message': 'Remove redundant parameter passed to assertTrue\n\nTrue should not be passed to assertTrue, so this is to move it.\n\nChange-Id: I97909ac566ab6e34f5a44204b6a5ccba2868285e\n'}]",0,668122,9b0e5c115442657eeaa6adbed41888b453ea5eea,6,2,1,20190,,,0,"Remove redundant parameter passed to assertTrue

True should not be passed to assertTrue, so this is to move it.

Change-Id: I97909ac566ab6e34f5a44204b6a5ccba2868285e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/668122/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_ldap_pool_livetest.py'],1,9b0e5c115442657eeaa6adbed41888b453ea5eea,assertTrue, self.assertTrue(c1.connected) self.assertTrue(c1.active)," self.assertTrue(c1.connected, True) self.assertTrue(c1.active, True)",2,2
openstack%2Fnova~stable%2Frocky~If53bc8fa8ab4a8a9072061af7afed53fc12c97a5,openstack/nova,stable/rocky,If53bc8fa8ab4a8a9072061af7afed53fc12c97a5,Share snapshot image membership with instance owner,MERGED,2019-03-18 05:32:22.000000000,2019-06-28 19:17:18.000000000,2019-06-28 19:17:18.000000000,"[{'_account_id': 5112}, {'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30123}]","[{'number': 1, 'created': '2019-03-18 05:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d5cd4a64357fa2f3e8c1e635522eb1dce5072e0', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 2, 'created': '2019-03-19 08:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84c463d00d9ab85020437a80b841bff0144f249c', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 3, 'created': '2019-03-20 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73fb2ac0a9b5ec3b1e8cf56b671c6cafa989c7fb', 'message': 'Share snapshot image membership with instance owner\n\nThis is backported with\nExtract compute API _create_image to compute.utils\n(commit 7e229ba40df60b963e0e9450af276c62d4b6bf60)\n\nAnd It has dependency for testing with\nprevent common kwargs from glance client failure\n(commit 5c21a00e89539bbb271ccfa05e4a2ba1cddae58e)\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(backported from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 4, 'created': '2019-04-02 03:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba7a9f073e295bd2be820485bb7ab8611a1e7f98', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nConflicts:\n        nova/compute/api.py\n\nNOTE(seyeongkim): The conflict is due to not having change\n7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 5, 'created': '2019-04-02 05:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44e8317d8dd299cfe5613443d8afd0c73e14d73a', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nConflicts:\n        nova/compute/api.py\n        nova/compute/utils.py\n\nNOTE(seyeongkim): The conflict is due to not having change\n7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.\n\n        nova/tests/functional/test_images.py\n\nNOTE(seyeongkim) The conflict is due to not having correct uuidsentiel\nposition.\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 6, 'created': '2019-04-02 05:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bea8661837fbc67d340716f7c7708b233f0a56c', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nConflicts:\n        nova/compute/api.py\n        nova/compute/utils.py\n\nNOTE(seyeongkim): The conflict is due to not having change\n7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.\n\n        nova/tests/functional/test_images.py\n\nNOTE(seyeongkim) The conflict is due to not having correct uuidsentiel\nposition.\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 7, 'created': '2019-04-02 09:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bce7a5c4137fa78d5e1c80c0b1ba5f0246efce0c', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nConflicts:\n        nova/compute/api.py\n        nova/compute/utils.py\n\nNOTE(seyeongkim): The conflict is due to not having change\n7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.\n\n        nova/tests/functional/test_images.py\n\nNOTE(seyeongkim) The conflict is due to not having correct uuidsentiel\nposition.\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 8, 'created': '2019-04-05 04:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da371252e0c53dd8362623c8828be411fb6187b5', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nConflicts:\n        nova/compute/api.py\n        nova/compute/utils.py\n\nNOTE(seyeongkim): The conflict is due to not having change\n7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.\n\n        nova/tests/functional/test_images.py\n\nNOTE(seyeongkim) The conflict is due to not having correct uuidsentiel\nposition.\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}, {'number': 9, 'created': '2019-04-30 12:13:49.000000000', 'files': ['nova/tests/unit/image/fake.py', 'nova/tests/unit/virt/powervm/test_image.py', 'nova/image/glance.py', 'nova/tests/functional/test_images.py', 'releasenotes/notes/bug-1675791-snapshot-member-access-c40bba36606618f7.yaml', 'nova/virt/hyperv/snapshotops.py', 'nova/tests/unit/image/test_glance.py', 'nova/virt/powervm/image.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/compute/api.py', 'nova/virt/vmwareapi/images.py', 'nova/tests/unit/virt/zvm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca6f6fce691863901b01d37b8f6e3eadb2bcec4', 'message': 'Share snapshot image membership with instance owner\n\nWhen an admin creates a snapshot of another project owners\ninstance, either via the createImage API directly, or via the\nshelve or createBackup APIs, the admin project is the owner\nof the image and the owner of the instance (in another project)\ncannot ""see"" the image. This is a problem, for example, if an\nadmin shelves a tenant user\'s server and then the user tries to\nunshelve the server because the user will not have access to\nget the shelved snapshot image.\n\nThis change fixes the problem by leveraging the sharing feature [1]\nin the v2 image API. When a snapshot is created where the request\ncontext project_id does not match the owner of the instance project_id,\nthe instance owner project_id is granted sharing access to the image.\nBy default, this means the instance owner (tenant user) can get the\nimage directly via the image ID if they know it, but otherwise the image\nis not listed for the user to avoid spamming their image listing. In the\ncase of unshelve, the end user does not need to know the image ID since\nit is stored in the instance system_metadata. Regardless, the user could\naccept the pending image membership if they want to see the snapshot\nshow up when listing available images.\n\nNote that while the non-admin project has access to the snapshot\nimage, they cannot delete it. For example, if the user tries to\ndelete or unshelve a shelved offloaded server, nova will try to\ndelete the snapshot image which will fail and log a warning since\nthe user does not own the image (the admin does). However, the\ndelete/unshelve operations will not fail because the image cannot\nbe deleted, which is an acceptable trade-off.\n\nDue to some very old legacy virt driver code which started in the\nlibvirt driver and was copied to several other drivers, several virt\ndrivers had to be modified to not overwrite the ""visibility=shared""\nimage property by passing ""is_public=False"" when uploading the image\ndata. There was no point in the virt drivers setting is_public=False\nsince the API already controls that. It does mean, however, that\nthe bug fix is not really in effect until both the API and compute\nservice code has this fix.\n\nA functional test is added which depends on tracking the owner/member\nvalues in the _FakeImageService fixture. Impacted unit tests are\nupdated accordingly.\n\n[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing\n\nConflicts:\n        nova/compute/api.py\n        nova/compute/utils.py\n\nNOTE(seyeongkim): The conflict is due to not having change\n7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.\n\n        nova/tests/functional/test_images.py\n\nNOTE(seyeongkim) The conflict is due to not having correct uuidsentiel\nposition.\n\nChange-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5\nCloses-Bug: #1675791\n(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)\n'}]",3,643853,6ca6f6fce691863901b01d37b8f6e3eadb2bcec4,69,11,9,5112,,,0,"Share snapshot image membership with instance owner

When an admin creates a snapshot of another project owners
instance, either via the createImage API directly, or via the
shelve or createBackup APIs, the admin project is the owner
of the image and the owner of the instance (in another project)
cannot ""see"" the image. This is a problem, for example, if an
admin shelves a tenant user's server and then the user tries to
unshelve the server because the user will not have access to
get the shelved snapshot image.

This change fixes the problem by leveraging the sharing feature [1]
in the v2 image API. When a snapshot is created where the request
context project_id does not match the owner of the instance project_id,
the instance owner project_id is granted sharing access to the image.
By default, this means the instance owner (tenant user) can get the
image directly via the image ID if they know it, but otherwise the image
is not listed for the user to avoid spamming their image listing. In the
case of unshelve, the end user does not need to know the image ID since
it is stored in the instance system_metadata. Regardless, the user could
accept the pending image membership if they want to see the snapshot
show up when listing available images.

Note that while the non-admin project has access to the snapshot
image, they cannot delete it. For example, if the user tries to
delete or unshelve a shelved offloaded server, nova will try to
delete the snapshot image which will fail and log a warning since
the user does not own the image (the admin does). However, the
delete/unshelve operations will not fail because the image cannot
be deleted, which is an acceptable trade-off.

Due to some very old legacy virt driver code which started in the
libvirt driver and was copied to several other drivers, several virt
drivers had to be modified to not overwrite the ""visibility=shared""
image property by passing ""is_public=False"" when uploading the image
data. There was no point in the virt drivers setting is_public=False
since the API already controls that. It does mean, however, that
the bug fix is not really in effect until both the API and compute
service code has this fix.

A functional test is added which depends on tracking the owner/member
values in the _FakeImageService fixture. Impacted unit tests are
updated accordingly.

[1] https://developer.openstack.org/api-ref/image/v2/index.html#sharing

Conflicts:
        nova/compute/api.py
        nova/compute/utils.py

NOTE(seyeongkim): The conflict is due to not having change
7e229ba40df60b963e0e9450af276c62d4b6bf60 in Rocky.

        nova/tests/functional/test_images.py

NOTE(seyeongkim) The conflict is due to not having correct uuidsentiel
position.

Change-Id: If53bc8fa8ab4a8a9072061af7afed53fc12c97a5
Closes-Bug: #1675791
(cherry picked from commit 35cc0f5e943642dd8d9dacbf0dac6e260f708d7d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/643853/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/image/fake.py', 'nova/tests/unit/virt/powervm/test_image.py', 'nova/image/glance.py', 'nova/tests/functional/test_images.py', 'releasenotes/notes/bug-1675791-snapshot-member-access-c40bba36606618f7.yaml', 'nova/virt/hyperv/snapshotops.py', 'nova/tests/unit/image/test_glance.py', 'nova/virt/powervm/image.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/compute/api.py', 'nova/virt/vmwareapi/images.py', 'nova/compute/utils.py', 'nova/tests/unit/virt/zvm/test_driver.py']",17,0d5cd4a64357fa2f3e8c1e635522eb1dce5072e0,bug/1675791,," 'is_public': False,",202,26
openstack%2Fnova~stable%2Fstein~I5687480a22542eea31d299442837bd64bf731285,openstack/nova,stable/stein,I5687480a22542eea31d299442837bd64bf731285,Handle PortLimitExceeded in POST /servers/{server_id}/os-interface,MERGED,2019-06-15 13:53:53.000000000,2019-06-28 19:17:12.000000000,2019-06-28 19:17:12.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-15 13:53:53.000000000', 'files': ['nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43926ebca0f9a7f59be96e965e5be70b84501fa3', 'message': 'Handle PortLimitExceeded in POST /servers/{server_id}/os-interface\n\nWhen attaching an interface to a server, if an existing port is not\nspecified, nova-compute will attempt to create a port on either the\nuser-specified network or the network that is available to the tenant.\n\nIf the tenant exceeds their port quota in neutron, a PortLimitExceeded\nexception is raised up from nova-compute [1] which is not being handled\nin the API controller code - which is fixed in this change.\n\nNote that this is one of the few synchronous RPC call operations [2]\nin the compute API so exceptions from the compute service will leak\nback to the API like in this case and need to be handled to avoid a\n500 response to the user.\n\nThe 403 response used here matches how PortLimitExceeded is handled in\nthe server create API [3].\n\n[1] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/network/neutronv2/api.py#L565\n[2] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/compute/rpcapi.py#L489\n[3] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/api/openstack/compute/servers.py#L688\n\nChange-Id: I5687480a22542eea31d299442837bd64bf731285\nCloses-Bug: #1823203\n(cherry picked from commit 8ff0fae42bce9f98fd5897888c3c4c739b4b5f45)\n'}]",0,665513,43926ebca0f9a7f59be96e965e5be70b84501fa3,13,8,1,6873,,,0,"Handle PortLimitExceeded in POST /servers/{server_id}/os-interface

When attaching an interface to a server, if an existing port is not
specified, nova-compute will attempt to create a port on either the
user-specified network or the network that is available to the tenant.

If the tenant exceeds their port quota in neutron, a PortLimitExceeded
exception is raised up from nova-compute [1] which is not being handled
in the API controller code - which is fixed in this change.

Note that this is one of the few synchronous RPC call operations [2]
in the compute API so exceptions from the compute service will leak
back to the API like in this case and need to be handled to avoid a
500 response to the user.

The 403 response used here matches how PortLimitExceeded is handled in
the server create API [3].

[1] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/network/neutronv2/api.py#L565
[2] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/compute/rpcapi.py#L489
[3] https://github.com/openstack/nova/blob/6ebb2c4ca/nova/api/openstack/compute/servers.py#L688

Change-Id: I5687480a22542eea31d299442837bd64bf731285
Closes-Bug: #1823203
(cherry picked from commit 8ff0fae42bce9f98fd5897888c3c4c739b4b5f45)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/665513/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py']",2,43926ebca0f9a7f59be96e965e5be70b84501fa3,bug/1823203,"import six def test_attach_interface_port_limit_exceeded(self): """"""Tests the scenario where nova-compute attempts to create a port to attach but the tenant port quota is exceeded and PortLimitExceeded is raised from the neutron API code which results in a 403 response. """""" with mock.patch.object(self.attachments.compute_api, 'attach_interface', side_effect=exception.PortLimitExceeded): body = {'interfaceAttachment': {}} ex = self.assertRaises( exc.HTTPForbidden, self.attachments.create, self.req, FAKE_UUID1, body=body) self.assertIn('Maximum number of ports exceeded', six.text_type(ex)) ",,18,1
openstack%2Fnova~stable%2Fstein~I53d4b38d12404a1641f667c537404effa837a83d,openstack/nova,stable/stein,I53d4b38d12404a1641f667c537404effa837a83d,Avoid unnecessary joins in InstanceGroup.get_hosts,MERGED,2019-06-10 15:15:23.000000000,2019-06-28 19:17:05.000000000,2019-06-28 19:17:05.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-10 15:15:23.000000000', 'files': ['nova/tests/unit/objects/test_instance_group.py', 'nova/objects/instance_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74e66fe8d4353be95868a68d21d882020cb40f4b', 'message': 'Avoid unnecessary joins in InstanceGroup.get_hosts\n\nThe InstanceList.get_by_filters query is joining on\ninfo_cache, security_groups, metadata and system_metadata\nbecause of how instance_get_all_by_filters_sort in the DB API\nworks if columns_to_join (expected_attrs) is None. The get_hosts\nmethod only cares about the instance.host value of its members\nso those joins are unnecessarily expensive.\n\nThis change simply passes expected_attrs=[] to get_by_filters\nto avoid the joins. A follow up change can further optimize this\ncode by adding a new query method to just get the host values\nfor a list of instance uuids, so a TODO is left in place for that.\nNote that a new query method would need to be remotable and thus\nnot something we can backport.\n\nChange-Id: I53d4b38d12404a1641f667c537404effa837a83d\nPartial-Bug: #1830234\n(cherry picked from commit 15ccf2ddfbf857186fc05f77a7881243c6311062)\n'}]",0,664271,74e66fe8d4353be95868a68d21d882020cb40f4b,16,8,1,6873,,,0,"Avoid unnecessary joins in InstanceGroup.get_hosts

The InstanceList.get_by_filters query is joining on
info_cache, security_groups, metadata and system_metadata
because of how instance_get_all_by_filters_sort in the DB API
works if columns_to_join (expected_attrs) is None. The get_hosts
method only cares about the instance.host value of its members
so those joins are unnecessarily expensive.

This change simply passes expected_attrs=[] to get_by_filters
to avoid the joins. A follow up change can further optimize this
code by adding a new query method to just get the host values
for a list of instance uuids, so a TODO is left in place for that.
Note that a new query method would need to be remotable and thus
not something we can backport.

Change-Id: I53d4b38d12404a1641f667c537404effa837a83d
Partial-Bug: #1830234
(cherry picked from commit 15ccf2ddfbf857186fc05f77a7881243c6311062)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/664271/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_instance_group.py', 'nova/objects/instance_group.py']",2,74e66fe8d4353be95868a68d21d882020cb40f4b,bug/1830234," # Pass expected_attrs=[] to avoid unnecessary joins. # TODO(mriedem): This is pretty inefficient since all we care about # are the hosts. We could optimize this with a single-purpose SQL query # like: # SELECT host FROM instances WHERE deleted=0 AND host IS NOT NULL # AND uuid IN ($filter_uuids) GROUP BY host; filters=filters, expected_attrs=[])", filters=filters),12,3
openstack%2Fnova~stable%2Fstein~I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc,openstack/nova,stable/stein,I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc,Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize,MERGED,2019-06-20 16:44:25.000000000,2019-06-28 19:16:58.000000000,2019-06-28 19:16:58.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-20 16:44:25.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/fake_instance.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a11d5c7f35c17cfafc6b8ba57da88995c35b595', 'message': ""Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize\n\nIt is possible to cold migrate a stopped server. If, however, the\ncold migrate is scheduled to the instance's current host and the\ncompute driver does not support cold migrating to the same host,\nthen UnableToMigrateToSelf was being raised from _prep_resize. If\n_reschedule_resize_or_reraise re-raises that exception, then\n_error_out_instance_on_exception in prep_resize handles it and\nsets the instance vm_state to ACTIVE. This is wrong since the\ninstance power state is unchanged at this point and the instance\nis actually stopped.\n\nThis fixes the problem by wrapping UnableToMigrateToSelf in\nInstanceFaultRollback and raises that from _prep_resize, and\n_error_out_instance_on_exception is called with the initial\nvm_state (STOPPED in this case) so when _error_out_instance_on_exception\nhandles the InstanceFaultRollback exception it sets the instance\nvm_state to STOPPED (what it already was) rather than ACTIVE.\n\nThere were no existing unit tests for the UnableToMigrateToSelf\ncase in _prep_resize so those are added here.\n\nConflicts:\n      nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(mriedem): The conflict is due to some unit tests from change\nI734cc01dce13f9e75a16639faf890ddb1661b7eb not being in Stein.\n\nChange-Id: I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc\nCloses-Bug: #1811235\n(cherry picked from commit d1931ac0630415519f9c3d906caba9c83cc8162a)\n""}]",0,666639,1a11d5c7f35c17cfafc6b8ba57da88995c35b595,10,6,1,6873,,,0,"Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize

It is possible to cold migrate a stopped server. If, however, the
cold migrate is scheduled to the instance's current host and the
compute driver does not support cold migrating to the same host,
then UnableToMigrateToSelf was being raised from _prep_resize. If
_reschedule_resize_or_reraise re-raises that exception, then
_error_out_instance_on_exception in prep_resize handles it and
sets the instance vm_state to ACTIVE. This is wrong since the
instance power state is unchanged at this point and the instance
is actually stopped.

This fixes the problem by wrapping UnableToMigrateToSelf in
InstanceFaultRollback and raises that from _prep_resize, and
_error_out_instance_on_exception is called with the initial
vm_state (STOPPED in this case) so when _error_out_instance_on_exception
handles the InstanceFaultRollback exception it sets the instance
vm_state to STOPPED (what it already was) rather than ACTIVE.

There were no existing unit tests for the UnableToMigrateToSelf
case in _prep_resize so those are added here.

Conflicts:
      nova/tests/unit/compute/test_compute_mgr.py

NOTE(mriedem): The conflict is due to some unit tests from change
I734cc01dce13f9e75a16639faf890ddb1661b7eb not being in Stein.

Change-Id: I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc
Closes-Bug: #1811235
(cherry picked from commit d1931ac0630415519f9c3d906caba9c83cc8162a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/666639/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/fake_instance.py', 'nova/compute/manager.py']",3,1a11d5c7f35c17cfafc6b8ba57da88995c35b595,bug/1811235," # Raise InstanceFaultRollback so that the # _error_out_instance_on_exception context manager in # prep_resize will set the instance.vm_state properly. raise exception.InstanceFaultRollback( inner_exception=exception.UnableToMigrateToSelf( instance_id=instance.uuid, host=self.host)) # Pass instance_state=instance.vm_state because we can resize # a STOPPED server and we don't want to set it back to ACTIVE # in case _prep_resize fails. instance_state = instance.vm_state with self._error_out_instance_on_exception( context, instance, instance_state=instance_state),\ errors_out_migration_ctxt(migration):"," raise exception.UnableToMigrateToSelf( instance_id=instance.uuid, host=self.host) with self._error_out_instance_on_exception(context, instance), \ errors_out_migration_ctxt(migration):",78,4
openstack%2Fnova~stable%2Fstein~Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb,openstack/nova,stable/stein,Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb,Change InstanceFaultRollback handling in _error_out_instance_on_exception,MERGED,2019-06-20 16:44:25.000000000,2019-06-28 19:16:52.000000000,2019-06-28 19:16:52.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-20 16:44:25.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cdaa80078491517af3143690d40d30a5b7591edf', 'message': 'Change InstanceFaultRollback handling in _error_out_instance_on_exception\n\nFor some reason, only NotImplementedError in _error_out_instance_on_exception\nwould use the $instance_state parameter which can be controlled by the\ncaller of the context manager to determine the rollback vm_state. But in the\ncase of InstanceFaultRollback, the caller may want to reset the vm_state\nback to something other than ACTIVE, like if the instance is actually\nSTOPPED and something like prep_resize fails (you can resize a STOPPED\ninstance).\n\nThis change makes _error_out_instance_on_exception handle InstanceFaultRollback\nlike NotImplementedError in that the instance_state parameter is used to reset\nthe instance.vm_state. It also adds a docstring explaining how this context\nmanager works along with some notes/questions about ways to improve it.\n\nChange-Id: Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb\nRelated-Bug: #1811235\n(cherry picked from commit 46cb2fdfe2df333d870aca8e6afc521172b8e061)\n'}]",0,666638,cdaa80078491517af3143690d40d30a5b7591edf,10,6,1,6873,,,0,"Change InstanceFaultRollback handling in _error_out_instance_on_exception

For some reason, only NotImplementedError in _error_out_instance_on_exception
would use the $instance_state parameter which can be controlled by the
caller of the context manager to determine the rollback vm_state. But in the
case of InstanceFaultRollback, the caller may want to reset the vm_state
back to something other than ACTIVE, like if the instance is actually
STOPPED and something like prep_resize fails (you can resize a STOPPED
instance).

This change makes _error_out_instance_on_exception handle InstanceFaultRollback
like NotImplementedError in that the instance_state parameter is used to reset
the instance.vm_state. It also adds a docstring explaining how this context
manager works along with some notes/questions about ways to improve it.

Change-Id: Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb
Related-Bug: #1811235
(cherry picked from commit 46cb2fdfe2df333d870aca8e6afc521172b8e061)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/666638/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,cdaa80078491517af3143690d40d30a5b7591edf,bug/1811235," """"""Context manager to set instance.vm_state after some operation raises Used to handle NotImplementedError and InstanceFaultRollback errors and reset the instance vm_state and task_state. The vm_state is set to the $instance_state parameter and task_state is set to None. For all other types of exceptions, the vm_state is set to ERROR and the task_state is left unchanged (although most callers will have the @reverts_task_state decorator which will set the task_state to None). Re-raises the original exception *except* in the case of InstanceFaultRollback in which case the wrapped `inner_exception` is re-raised. :param context: The nova auth request context for the operation. :param instance: The instance to update. The vm_state will be set by this context manager when an exception is raised. :param instance_state: For NotImplementedError and InstanceFaultRollback this is the vm_state to set the instance to when handling one of those types of exceptions. By default the instance will be set to ACTIVE, but the caller should control this in case there have been no changes to the running state of the instance. For example, resizing a stopped server where prep_resize fails early and does not change the power state of the guest should not set the instance status to ACTIVE but remain STOPPED. This parameter is ignored for all other types of exceptions and the instance vm_state is set to ERROR. """""" # NOTE(mriedem): Why doesn't this method just save off the # original instance.vm_state here rather than use a parameter? Or use # instance_state=None as an override but default to the current # vm_state when rolling back. except (NotImplementedError, exception.InstanceFaultRollback) as error: # Use reraise=False to determine if we want to raise the original # exception or something else. with excutils.save_and_reraise_exception(reraise=False) as ctxt: LOG.info(""Setting instance back to %(state)s after: %(error)s"", if isinstance(error, exception.InstanceFaultRollback): # Raise the wrapped exception. raise error.inner_exception # Else re-raise the NotImplementedError. ctxt.reraise = True # NOTE(mriedem): Why don't we pass clean_task_state=True here?"," except NotImplementedError as error: with excutils.save_and_reraise_exception(): LOG.info(""Setting instance back to %(state)s after: "" ""%(error)s"", except exception.InstanceFaultRollback as error: LOG.info(""Setting instance back to ACTIVE after: %s"", error, instance_uuid=instance_uuid) self._instance_update(context, instance, vm_state=vm_states.ACTIVE, task_state=None) raise error.inner_exception",46,14
openstack%2Fopenstack-ansible-os_octavia~master~I2d778b43e884139636354d0559ca4462749aa6a3,openstack/openstack-ansible-os_octavia,master,I2d778b43e884139636354d0559ca4462749aa6a3,Updated from OpenStack Ansible Tests,MERGED,2019-06-11 22:19:01.000000000,2019-06-28 19:04:45.000000000,2019-06-28 19:04:45.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-11 22:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/969f06227353d6c4e3d23f6ebfa89e249b9b20c5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2d778b43e884139636354d0559ca4462749aa6a3\n'}, {'number': 2, 'created': '2019-06-18 18:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/114f63a86ba0206f141c3c896f5ea7fc79e7f97b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2d778b43e884139636354d0559ca4462749aa6a3\n'}, {'number': 3, 'created': '2019-06-27 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b02d1f6e7ca412b660b516c805d6b1ab97a59d1a', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: I2d778b43e884139636354d0559ca4462749aa6a3\n'}, {'number': 4, 'created': '2019-06-27 10:22:50.000000000', 'files': ['tasks/mq_setup.yml', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9df98e87bb21257adde5a7268fe9db98d67940ad', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2d778b43e884139636354d0559ca4462749aa6a3\n'}]",0,664731,9df98e87bb21257adde5a7268fe9db98d67940ad,15,3,4,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I2d778b43e884139636354d0559ca4462749aa6a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/31/664731/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,969f06227353d6c4e3d23f6ebfa89e249b9b20c5,openstack/openstack-ansible-tests/sync-tests, - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid), - _oslomsg_notify_vhost != _oslomsg_rpc_vhost - _oslomsg_notify_vhost != _oslomsg_rpc_vhost - _oslomsg_notify_userid != _oslomsg_rpc_userid,6,3
openstack%2Fgovernance~master~Icf454704a1503d27c0c526863bfaf103a7d7f8e0,openstack/governance,master,Icf454704a1503d27c0c526863bfaf103a7d7f8e0,Display table of TC Liasons and projects,MERGED,2019-06-28 14:54:03.000000000,2019-06-28 19:01:06.000000000,2019-06-28 19:01:06.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 14:54:03.000000000', 'files': ['doc/source/_exts/tc_liasons.py', 'reference/index.rst', 'doc/source/conf.py', 'reference/tc-liasons.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/db6a6b614afbc3d647082d26a7b36e83b8afe217', 'message': 'Display table of TC Liasons and projects\n\nChange-Id: Icf454704a1503d27c0c526863bfaf103a7d7f8e0\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,668187,db6a6b614afbc3d647082d26a7b36e83b8afe217,14,4,1,8099,,,0,"Display table of TC Liasons and projects

Change-Id: Icf454704a1503d27c0c526863bfaf103a7d7f8e0
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/87/668187/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/tc_liasons.py', 'reference/index.rst', 'doc/source/conf.py', 'reference/tc-liasons.rst']",4,db6a6b614afbc3d647082d26a7b36e83b8afe217,documentation-change,========== TC Liasons ========== OpenStack Project Team TC Liasons ================================= .. liasonstable:: :datafile: ../reference/projects.yaml,,153,0
openstack%2Fgovernance~master~I261d5bbb7d36308b7e460533dc2f20b2feeb19eb,openstack/governance,master,I261d5bbb7d36308b7e460533dc2f20b2feeb19eb,Update assignment script to output to projects.yaml file,MERGED,2019-06-28 11:38:09.000000000,2019-06-28 19:01:05.000000000,2019-06-28 19:01:05.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 11:38:09.000000000', 'files': ['.yamllint', 'tools/assign_liaisons.py', 'openstack_governance/projects.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/69dcd778174194a289f24fd819903f821a872e26', 'message': 'Update assignment script to output to projects.yaml file\n\nChange-Id: I261d5bbb7d36308b7e460533dc2f20b2feeb19eb\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,668150,69dcd778174194a289f24fd819903f821a872e26,12,3,1,8099,,,0,"Update assignment script to output to projects.yaml file

Change-Id: I261d5bbb7d36308b7e460533dc2f20b2feeb19eb
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/50/668150/1 && git format-patch -1 --stdout FETCH_HEAD,"['.yamllint', 'tools/assign_liaisons.py', 'openstack_governance/projects.py']",3,69dcd778174194a289f24fd819903f821a872e26,code-change," def write_project_file(data, filename='reference/projects.yaml'): with open(filename, 'w', encoding='utf-8') as f: yaml.dump( data, f, default_flow_style=False, Dumper=yamlordereddictloader.Dumper, )",,37,37
openstack%2Fgovernance~master~I37cdcef4b46d5eaa621dc1626853e53b87329d00,openstack/governance,master,I37cdcef4b46d5eaa621dc1626853e53b87329d00,Add support for liasons to project pages,MERGED,2019-06-27 17:49:36.000000000,2019-06-28 19:01:05.000000000,2019-06-28 19:01:05.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 17:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/de33f9ac388074f0806c361a9f07f3a8e43187e7', 'message': 'Add support for liasons to project pages\n\nChange-Id: I37cdcef4b46d5eaa621dc1626853e53b87329d00\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 2, 'created': '2019-06-28 11:38:09.000000000', 'files': ['openstack_governance/governance.py', 'doc/source/_exts/teams.py', 'openstack_governance/tests/test_governance.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/5c853172f514110f63b8351cf7da1806280a8821', 'message': 'Add support for liasons to project pages\n\nChange-Id: I37cdcef4b46d5eaa621dc1626853e53b87329d00\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,668003,5c853172f514110f63b8351cf7da1806280a8821,15,3,2,8099,,,0,"Add support for liasons to project pages

Change-Id: I37cdcef4b46d5eaa621dc1626853e53b87329d00
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/03/668003/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_governance/governance.py', 'tools/assign_liaisons.py', 'doc/source/_exts/teams.py', 'openstack_governance/projects.py']",4,de33f9ac388074f0806c361a9f07f3a8e43187e7,code-change," def write_project_file(data, filename='reference/projects.yaml'): with open(filename, 'w', encoding='utf-8') as f: yaml.dump( data, f, default_flow_style=False, Dumper=yamlordereddictloader.Dumper, )",,39,33
openstack%2Fpython-tripleoclient~stable%2Fstein~Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,openstack/python-tripleoclient,stable/stein,Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,Send terminal erase sequence on tripleo deploy,MERGED,2019-06-28 13:22:21.000000000,2019-06-28 18:54:38.000000000,2019-06-28 18:54:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 13:22:21.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d41f81ecad3d4692a5ca97d3ad7760d6287ca82', 'message': ""Send terminal erase sequence on tripleo deploy\n\nWe're seeing some escape sequences being dropped when we run the\ndeployment via the undercloud. This causes a user to have to run a reset\nafter the undercloud installation in order to be able to use their shell\ncommand line again.  We can avoid this if we send an terminal erase line\nsequence to trim the rest of the line at the end of the deploy.\n\nConflicts:\n\ttripleoclient/tests/v1/tripleo/test_tripleo_deploy.py\n\nChange-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5\nCloses-Bug: #1833302\n(cherry picked from commit e1a051d6ac890cd68f5bf5fff251fa445d7ad8f9)\n""}]",0,668174,7d41f81ecad3d4692a5ca97d3ad7760d6287ca82,7,3,1,14985,,,0,"Send terminal erase sequence on tripleo deploy

We're seeing some escape sequences being dropped when we run the
deployment via the undercloud. This causes a user to have to run a reset
after the undercloud installation in order to be able to use their shell
command line again.  We can avoid this if we send an terminal erase line
sequence to trim the rest of the line at the end of the deploy.

Conflicts:
	tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py

Change-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5
Closes-Bug: #1833302
(cherry picked from commit e1a051d6ac890cd68f5bf5fff251fa445d7ad8f9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/668174/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",3,7d41f81ecad3d4692a5ca97d3ad7760d6287ca82,bug/1833302," @mock.patch('tripleoclient.utils.send_cmdline_erase_sequence') mock_chmod, mock_ac, mock_cmdline): mock_cmdline.assert_called_once() @mock.patch('tripleoclient.utils.send_cmdline_erase_sequence') def test_take_action(self, mock_slink, mock_cmdline): mock_cmdline.assert_called_once() @mock.patch('tripleoclient.utils.send_cmdline_erase_sequence') def test_take_action_failure(self, mock_slink, mock_deploy, mock_cmdline): mock_cmdline.assert_called_once()"," mock_chmod, mock_ac): def test_take_action(self, mock_slink): def test_take_action_failure(self, mock_slink, mock_deploy):",28,10
openstack%2Fsahara~master~I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f,openstack/sahara,master,I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f,Add a required dep to fix the buildimages jobs,MERGED,2019-05-06 10:35:28.000000000,2019-06-28 18:48:19.000000000,2019-06-28 18:48:19.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-05-06 10:35:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/6979406464cab58877f38361d3ef70d4871b272e', 'message': 'Add a required dep to fix the buildimages jobs\n\nThe buildimages jobs use CentOS. A change somewhere introduced a\nnew dependency on the devel package of PostgreSQL (namely libpq-fe.h).\nThe issues was fixed by If4ecc6a80bed338a0117adee0e6d361c135d9123\nfor Debian-based distribution; this change fixes it also for RPM-based\ndistributions, where postgresql-devel exists as a package or as alias.\n\nChange-Id: I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f\n'}]",0,657369,6979406464cab58877f38361d3ef70d4871b272e,17,4,1,10459,,,0,"Add a required dep to fix the buildimages jobs

The buildimages jobs use CentOS. A change somewhere introduced a
new dependency on the devel package of PostgreSQL (namely libpq-fe.h).
The issues was fixed by If4ecc6a80bed338a0117adee0e6d361c135d9123
for Debian-based distribution; this change fixes it also for RPM-based
distributions, where postgresql-devel exists as a package or as alias.

Change-Id: I6288c796a1e9a69be6722bf6f3c4ec0a86a6ae4f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/69/657369/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6979406464cab58877f38361d3ef70d4871b272e,fix-buildimages-centos,postgresql-devel [platform:rpm],,1,0
openstack%2Fvitrage~master~Iac3770f6d833340579056998b5fa9c71df5b8660,openstack/vitrage,master,Iac3770f6d833340579056998b5fa9c71df5b8660,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 06:25:12.000000000,2019-06-28 18:45:05.000000000,2019-06-28 18:45:05.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 06:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5ef9c4b25e2154ab92b91601de10f2e86aab807a', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Iac3770f6d833340579056998b5fa9c71df5b8660\n'}, {'number': 2, 'created': '2019-06-24 08:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/dce1274ff0320437836ffdd7eac941b0e131f71d', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nDepends-On: https://review.opendev.org/#/c/667039/1\nChange-Id: Iac3770f6d833340579056998b5fa9c71df5b8660\n'}, {'number': 3, 'created': '2019-06-24 10:20:45.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e5998619ed9315304aeeeae9b6f56373b54569b4', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nDepends-On: https://review.opendev.org/#/c/667039/\nChange-Id: Iac3770f6d833340579056998b5fa9c71df5b8660\n'}]",0,667018,e5998619ed9315304aeeeae9b6f56373b54569b4,18,4,3,11278,,,0,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Depends-On: https://review.opendev.org/#/c/667039/
Change-Id: Iac3770f6d833340579056998b5fa9c71df5b8660
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/18/667018/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5ef9c4b25e2154ab92b91601de10f2e86aab807a,python3-train,"envlist = py37,py36,py27,pep8","envlist = py36,py27,pep8",3,3
openstack%2Fproject-config~master~I1960825a302c3f9a1701d9a7bad52ff163a658bb,openstack/project-config,master,I1960825a302c3f9a1701d9a7bad52ff163a658bb,Remove release-openstack-python-without-pypi,MERGED,2018-01-08 15:50:27.000000000,2019-06-28 18:41:10.000000000,2019-06-28 18:41:10.000000000,"[{'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 4608}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 11904}, {'_account_id': 13294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-08 15:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b0d5c1d93006951f5e953e32eecb10a4ffcba058', 'message': 'Remove release-openstack-python-without-pypi\n\nWith the project template gone, we can get rid of the job.\n\nDepends-On: I77d2ed3a3f1718b22e751aba113c2a3deb36f315\nChange-Id: I1960825a302c3f9a1701d9a7bad52ff163a658bb\n'}, {'number': 2, 'created': '2018-09-27 16:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e636ad650c911cc0eb64b6b171c7e2460790646f', 'message': 'Remove release-openstack-python-without-pypi\n\nWith the project template gone, we can get rid of the job.\n\nDepends-On: I77d2ed3a3f1718b22e751aba113c2a3deb36f315\nChange-Id: I1960825a302c3f9a1701d9a7bad52ff163a658bb\n'}, {'number': 3, 'created': '2018-09-27 18:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2c746f61fc11cab80bb321630b76651342743abc', 'message': 'Remove release-openstack-python-without-pypi\n\nWith the project template gone, we can get rid of the job.\n\nDepends-On: I77d2ed3a3f1718b22e751aba113c2a3deb36f315\nChange-Id: I1960825a302c3f9a1701d9a7bad52ff163a658bb\n'}, {'number': 4, 'created': '2019-06-26 06:54:04.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a4940567dd6e97fa88a2cf9be6a1469ce04474db', 'message': 'Remove release-openstack-python-without-pypi\n\nWith the project template gone, we can get rid of the job.\n\nThe two repos (packstack and swift3) using the job can\npublish to pypi instead.\n\nDepends-On: I77d2ed3a3f1718b22e751aba113c2a3deb36f315\nChange-Id: I1960825a302c3f9a1701d9a7bad52ff163a658bb\n'}]",0,531829,a4940567dd6e97fa88a2cf9be6a1469ce04474db,25,10,4,2,,,0,"Remove release-openstack-python-without-pypi

With the project template gone, we can get rid of the job.

The two repos (packstack and swift3) using the job can
publish to pypi instead.

Depends-On: I77d2ed3a3f1718b22e751aba113c2a3deb36f315
Change-Id: I1960825a302c3f9a1701d9a7bad52ff163a658bb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/531829/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,b0d5c1d93006951f5e953e32eecb10a4ffcba058,publish-everything-to-pypi,," name: release-openstack-python-without-pypi parent: publish-openstack-artifacts description: | Sign and release python tarballs to tarballs.openstack.org, but do not upload to PyPI. pre-run: playbooks/python-tarball/pre.yaml run: playbooks/python-tarball/run.yaml post-run: - playbooks/python-tarball/post.yaml required-projects: - name: openstack/requirements secrets: - gpg_key vars: # NOTE(dhellmann): Library projects using a custom installation # script need to be told where the constraints file is. We can # remove this when tox is no longer part of the CTI for building # sdists. tox_constraints_file: '{{ ansible_user_dir }}/src/git.openstack.org/openstack/requirements/upper-constraints.txt' - job:",0,21
openstack%2Ftripleo-quickstart~master~I3bdad608d5dd5585c7f12c36da69db6d4421b9fa,openstack/tripleo-quickstart,master,I3bdad608d5dd5585c7f12c36da69db6d4421b9fa,Remove featureset057,MERGED,2019-06-27 17:32:06.000000000,2019-06-28 18:35:54.000000000,2019-06-28 18:35:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 17:32:06.000000000', 'files': ['config/general_config/featureset057.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/34512de6dae0d5fe412b795a37dc62ed9500aef5', 'message': 'Remove featureset057\n\nWe are retiring tripleo-ui and this unused featureset references\ntempest-tripleo-ui which is going away.\n\nChange-Id: I3bdad608d5dd5585c7f12c36da69db6d4421b9fa\n'}]",0,667997,34512de6dae0d5fe412b795a37dc62ed9500aef5,12,4,1,14985,,,0,"Remove featureset057

We are retiring tripleo-ui and this unused featureset references
tempest-tripleo-ui which is going away.

Change-Id: I3bdad608d5dd5585c7f12c36da69db6d4421b9fa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/97/667997/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset057.yml'],1,34512de6dae0d5fe412b795a37dc62ed9500aef5,retire-tempest-tripleo-ui,,"# A featureset for running selenium tests for tripleo-ui via tempest # Based off featureset027 extra_args: '' network_isolation: false enable_pacemaker: false overcloud_ipv6: false undercloud_check_sanity: true # containers config containerized_overcloud: false containerized_undercloud: true undercloud_templates_path: /usr/share/openstack-tripleo-heat-templates undercloud_custom_env_files: ""{{ working_dir }}/undercloud-parameter-defaults.yaml"" undercloud_cloud_domain: ""localdomain"" undercloud_undercloud_hostname: ""undercloud.{{ undercloud_cloud_domain }}"" undercloud_resource_registry_args: ""OS::TripleO::Undercloud::Net::SoftwareConfig"": ""{{ undercloud_templates_path }}/net-config-undercloud.yaml"" # turn off image prep step_overcloud_image: false step_glance_upload: false step_register: false step_root_device_size: false step_root_device_hints: false step_introspect: false # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: true undercloud_enable_swift_encryption: true # This enables the deployment of the overcloud with SSL. ssl_overcloud: false # tripleo-ui is not working yet enable_port_forward_for_tripleo_ui: false # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-deploy - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - tempest-setup - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-deploy - overcloud-custom-tht-script - overcloud-prep-containers - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - tempest-setup - ""{% if run_tempest|bool and tempest_format|default('packages') == 'containers' -%}tempest_container{%- endif -%}"" # Tempest configuration, keep always at the end of the file # If `run_tempest` is `true`, run tempests tests, otherwise do not # run them. test_ping: false run_tempest: true test_regex: '' tempest_format: venv tempest_plugins_git: - https://opendev.org/openstack/tempest-tripleo-ui tempest_undercloud: true tempest_overcloud: false # Whitelist tripleo-ui tests tempest_whitelist_uc: - 'tempest_tripleo_ui.tests.scenario.test_basic.TestBasic' tempest_whitelist: >- {{ tempest_whitelist_uc }} tempest_use_headless_chrome: true ",0,87
openstack%2Ftripleo-heat-templates~master~Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3,openstack/tripleo-heat-templates,master,Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3,Configure the Multipathd service,MERGED,2019-06-14 18:47:52.000000000,2019-06-28 18:35:33.000000000,2019-06-28 18:35:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-14 18:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/706cbb71265f4c7ecdd85082d51dddc5ee1fd82f', 'message': ""Configure the Multipathd service\n\nThis is part 2 of a series of patches to properly deploy multipathd.\n\nThis patch configures /etc/multipath.conf, which is required by the\nmultipath daemon. The config file contents are managed using the\n'mpathconf' tool instead of a puppet module, but a tiny puppet wrapper\nis employed to take advantage of the tripleo tooling (e.g. restarting\nthe multipathd container whenever the config file changes).\n\nOther changes include preparing the /etc/multipath directory that must\nbe shared by all all containers that use the service, and making sure\nthe multipath daemon isn't running on the host.\n\nChange-Id: Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3\n""}, {'number': 2, 'created': '2019-06-15 20:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87857f3b26f5d4a8f2f4f12cd33fbf776a22a586', 'message': ""Configure the Multipathd service\n\nThis is part 2 of a series of patches to properly deploy multipathd.\n\nThis patch configures /etc/multipath.conf, which is required by the\nmultipath daemon. The config file contents are managed using the\n'mpathconf' tool instead of a puppet module, but a tiny puppet wrapper\nis employed to take advantage of the tripleo tooling (e.g. restarting\nthe multipathd container whenever the config file changes).\n\nOther changes include:\n- Ensuring the multipath daemon isn't running on the host\n- Preparing the /etc/multipath directory that must be shared by all\n  containers that use the service\n- Adding a volume mount to services that need access to /etc/multipath\n\nChange-Id: Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3\n""}, {'number': 3, 'created': '2019-06-24 14:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91dd8b49f583bd98b7d7b406cadafa5b2f4035f6', 'message': ""Configure the Multipathd service\n\nThis is part 2 of a series of patches to properly deploy multipathd.\n\nThis patch configures /etc/multipath.conf, which is required by the\nmultipath daemon. The config file contents are managed using the\n'mpathconf' tool instead of a puppet module, but a tiny puppet wrapper\nis employed to take advantage of the tripleo tooling (e.g. restarting\nthe multipathd container whenever the config file changes).\n\nOther changes include:\n- Ensuring the multipath daemon isn't running on the host\n- Preparing the /etc/multipath directory that must be shared by all\n  containers that use the service\n- Adding a volume mount to services that need access to /etc/multipath\n\nCloses-Bug: #1834042\nChange-Id: Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3\n""}, {'number': 4, 'created': '2019-06-24 19:11:55.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'environments/multipathd.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/configure-multipathd-d3fb4683b9ffbb4b.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/906d03ea19a4446ed198c321f68791b7fa6e0c47', 'message': ""Configure the Multipathd service\n\nThis is part 2 of a series of patches to properly deploy multipathd.\n\nThis patch configures /etc/multipath.conf, which is required by the\nmultipath daemon. The config file contents are managed using the\n'mpathconf' tool instead of a puppet module, but a tiny puppet wrapper\nis employed to take advantage of the tripleo tooling (e.g. restarting\nthe multipathd container whenever the config file changes).\n\nOther changes include:\n- Ensuring the multipath daemon isn't running on the host\n- Preparing the /etc/multipath directory that must be shared by all\n  containers that use the service\n- Adding a volume mount to services that need access to /etc/multipath\n\nCloses-Bug: #1834042\nChange-Id: Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3\n""}]",4,665456,906d03ea19a4446ed198c321f68791b7fa6e0c47,25,7,4,21129,,,0,"Configure the Multipathd service

This is part 2 of a series of patches to properly deploy multipathd.

This patch configures /etc/multipath.conf, which is required by the
multipath daemon. The config file contents are managed using the
'mpathconf' tool instead of a puppet module, but a tiny puppet wrapper
is employed to take advantage of the tripleo tooling (e.g. restarting
the multipathd container whenever the config file changes).

Other changes include:
- Ensuring the multipath daemon isn't running on the host
- Preparing the /etc/multipath directory that must be shared by all
  containers that use the service
- Adding a volume mount to services that need access to /etc/multipath

Closes-Bug: #1834042
Change-Id: Ib3ce0a753f7220c3ee2556425e9798b0c4a906f3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/665456/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/multipathd.yaml', 'deployment/multipathd/multipathd-container.yaml']",2,706cbb71265f4c7ecdd85082d51dddc5ee1fd82f,bug/1834042," MultipathdEnable: default: false description: Whether to enable the multipath daemon type: boolean MultipathdEnableUserFriendlyNames: default: false description: Whether to enable assigning a user friendly name to each path type: boolean MultipathdEnableFindMultipaths: default: true description: Whether to automatically create a multipath device for each path type: booleanconditions: multipathd_enabled: {equals: [{get_param: MultipathdEnable}, true]} user_friendly_names_enabled: {equals: [{get_param: MultipathdEnableUserFriendlyNames}, true]} find_multipaths_enabled: {equals: [{get_param: MultipathdEnableFindMultipaths}, true]} puppet_tags: exec step_config: str_replace: template: | exec { ""update multipath.conf"": command => ""/usr/sbin/mpathconf CMD --with_multipathd n --user_friendly_names UFN --find_multipaths FM"" } params: CMD: if: - multipathd_enabled - '--enable' - '--disable' UFN: if: - user_friendly_names_enabled - 'y' - 'n' FM: if: - find_multipaths_enabled - 'y' - 'n' - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - /var/lib/config-data/puppet-generated/multipathd/:/var/lib/kolla/config_files/src:ro - /etc/multipath:/etc/multipath:z - name: Check if multipathd is deployed on the host command: systemctl is-enabled --quiet multipathd ignore_errors: True register: multipathd_enabled_result - name: Set fact multipathd_enabled set_fact: multipathd_enabled: ""{{ multipathd_enabled_result.rc == 0 }}"" - name: Stop multipathd on the host service: name=multipathd state=stopped enabled=no when: multipathd_enabled|bool - name: prepare /etc/multipath file: path: /etc/multipath state: directory setype: svirt_sandbox_file_t", step_config: '' - /var/lib/cinder:/var/lib/cinder:z,67,2
openstack%2Ftripleo-heat-templates~master~I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb,openstack/tripleo-heat-templates,master,I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb,Add DockerNovaComputeUlimit to nova_cell_v2_discover_hosts,MERGED,2019-06-20 06:44:00.000000000,2019-06-28 18:35:31.000000000,2019-06-28 18:35:31.000000000,"[{'_account_id': 3153}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 06:44:00.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f9c0d6675d7aab443c318d565ee9ccf66d674ba', 'message': 'Add DockerNovaComputeUlimit to nova_cell_v2_discover_hosts\n\nOne ppc64le this the nova_cell_v2_discover_hosts step fails with\npermission denied due to the maximum locked memory (see[1]).\n\nThis change paves the way to allow us to tweak this via a\nparameter_default\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1709564\n\nChange-Id: I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb\n'}]",0,666497,5f9c0d6675d7aab443c318d565ee9ccf66d674ba,14,6,1,12898,,,0,"Add DockerNovaComputeUlimit to nova_cell_v2_discover_hosts

One ppc64le this the nova_cell_v2_discover_hosts step fails with
permission denied due to the maximum locked memory (see[1]).

This change paves the way to allow us to tweak this via a
parameter_default

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1709564

Change-Id: I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/666497/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,5f9c0d6675d7aab443c318d565ee9ccf66d674ba,, ulimit: {get_param: DockerNovaComputeUlimit},,1,0
openstack%2Fkolla-ansible~stable%2Frocky~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/rocky,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-27 19:36:14.000000000,2019-06-28 18:32:30.000000000,2019-06-28 18:32:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-27 19:36:14.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8c6e54667f6fb127664a9d5c41d25b78f9ac893', 'message': 'Avoid parallel discover_hosts (nova-related race condition)\n\nIn a rare event both kolla-ansible and nova-scheduler try to do\nthe mapping at the same time and one of them fails.\nSince kolla-ansible runs host discovery on each deployment,\nthere is no need to change the default of no periodic host discovery.\n\nI added some notes for future. They are not critical.\nI made the decision explicit in the comments.\nI changed the task name to satisfy recommendations.\nI removed the variable because it is not used (to avoid future doubts).\n\nCloses-Bug: #1832987\nChange-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)\n'}]",0,668033,d8c6e54667f6fb127664a9d5c41d25b78f9ac893,9,4,1,30491,,,0,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/668033/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2']",2,d8c6e54667f6fb127664a9d5c41d25b78f9ac893,bug/1832987-stable/rocky,# NOTE(yoctozepto): kolla-ansible handles cell mapping by itself on each deploy # periodic run must be disabled to avoid random failures (where both try to map) # -1 is default and means periodic discovery is disabled discover_hosts_in_cells_interval = -1,discover_hosts_in_cells_interval = 60,7,3
openstack%2Fopenstack-helm~master~I2865c2b52fd0b6991fe32bae0c7984db2ac437ef,openstack/openstack-helm,master,I2865c2b52fd0b6991fe32bae0c7984db2ac437ef,Please review,ABANDONED,2019-06-28 18:31:48.000000000,2019-06-28 18:32:11.000000000,,[],"[{'number': 1, 'created': '2019-06-28 18:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38a51a2c239bffe378d78b2e0ef2b50515117362', 'message': 'Please review\n\nChange-Id: I2865c2b52fd0b6991fe32bae0c7984db2ac437ef\n'}]",0,668228,38a51a2c239bffe378d78b2e0ef2b50515117362,2,0,1,29298,,,0,"Please review

Change-Id: I2865c2b52fd0b6991fe32bae0c7984db2ac437ef
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/28/668228/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,38a51a2c239bffe378d78b2e0ef2b50515117362,,,,0,0
openstack%2Ftripleo-quickstart-extras~master~Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba,openstack/tripleo-quickstart-extras,master,Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-10 08:45:22.000000000,2019-06-28 18:27:10.000000000,2019-06-28 18:27:09.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-10 08:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/28ff1f4fb633bbe93ff5666e8249736d89f71da1', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba\n'}, {'number': 2, 'created': '2019-06-26 11:08:29.000000000', 'files': ['config/general_config/deprecated/containers_undercloud_minimal.yml', 'config/general_config/deprecated/containers_minimal.yml', 'playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c49afcb85cf25492bbd0c7d0aa7bc7f723e8eb30', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba\n'}]",0,658303,c49afcb85cf25492bbd0c7d0aa7bc7f723e8eb30,17,11,2,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Idaacf0eb69a8ae6a080c8ff189a81f60357f8aba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/658303/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/deprecated/containers_undercloud_minimal.yml', 'config/general_config/deprecated/containers_minimal.yml', 'playbooks/tempest.yml']",3,28ff1f4fb633bbe93ff5666e8249736d89f71da1,, tempest_git_repo: https://opendev.org/openstack/tempest tempest_tempestconf_git_repo: https://opendev.org/openstack/python-tempestconf, tempest_git_repo: https://git.openstack.org/openstack/tempest tempest_tempestconf_git_repo: https://git.openstack.org/openstack/python-tempestconf,4,4
openstack%2Fgovernance~master~I960c680f1e2bae93fea047a4ef805e6e748dc5b9,openstack/governance,master,I960c680f1e2bae93fea047a4ef805e6e748dc5b9,Allow yaml checks to work with mktemp in a different path,MERGED,2019-06-28 11:38:09.000000000,2019-06-28 18:22:56.000000000,2019-06-28 18:22:56.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 11:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c461be0eb82dc2edbe3d5fec65af707655ecfd1c', 'message': 'Allow yaml checks to work with mktemp in a different path\n\nChange-Id: I960c680f1e2bae93fea047a4ef805e6e748dc5b9\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 2, 'created': '2019-06-28 11:41:05.000000000', 'files': ['tools/check_projects_yaml_alphabetized.sh'], 'web_link': 'https://opendev.org/openstack/governance/commit/aaef9cc8f099111fcbc831c2cc62c64cd33924e6', 'message': 'Allow yaml checks to work with mktemp in a different path\n\nChange-Id: I960c680f1e2bae93fea047a4ef805e6e748dc5b9\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,668151,aaef9cc8f099111fcbc831c2cc62c64cd33924e6,9,3,2,8099,,,0,"Allow yaml checks to work with mktemp in a different path

Change-Id: I960c680f1e2bae93fea047a4ef805e6e748dc5b9
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/51/668151/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_projects_yaml_alphabetized.sh'],1,c461be0eb82dc2edbe3d5fec65af707655ecfd1c,code-change,"if [ -x ""$(command -v mktemp)"" ]; then export TMPDIR=`mktemp -d` else export TMPDIR=`/bin/mktemp -d` fi", export TMPDIR=`/bin/mktemp -d`,5,2
openstack%2Fcinder~master~I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1,openstack/cinder,master,I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1,NFS: Retry on intermittent mount failure,MERGED,2019-01-30 02:36:27.000000000,2019-06-28 18:18:36.000000000,2019-06-27 07:43:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12860}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27781}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 29745}, {'_account_id': 30467}]","[{'number': 1, 'created': '2019-01-30 02:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63b92dea2cb29650b03d594732a39b761e970ad4', 'message': ""NFS: Retry on intermittent mount failure\n\nConcurrent backup operations using NFS driver may fail with\nerror 'busy or already mounted' when trying to mount the\nshare. Adding a config option 'backup_mount_attempts' to\nspecify the number of times to retry the mount operation\nbefore raising the exception.\n\nCloses-bug: 1813851\nChange-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1\n""}, {'number': 2, 'created': '2019-02-01 00:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0abbbf5d7c94634057868b297e76a271de89effb', 'message': ""NFS: Retry on intermittent mount failure\n\nConcurrent backup operations using NFS driver may fail with\nerror 'busy or already mounted' when trying to mount the\nshare. Adding a config option 'backup_mount_attempts' to\nspecify the number of times to retry the mount operation\nbefore raising the exception.\n\nCloses-bug: 1813851\nChange-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1\n""}, {'number': 3, 'created': '2019-02-01 00:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c55d9084f9548b72a46751b986ee5f99dc650ae7', 'message': ""NFS: Retry on intermittent mount failure\n\nConcurrent backup operations using NFS driver may fail with\nerror 'busy or already mounted' when trying to mount the\nshare. Adding a config option 'backup_mount_attempts' to\nspecify the number of times to retry the mount operation\nbefore raising the exception.\n\nCloses-bug: 1813851\nChange-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1\n""}, {'number': 4, 'created': '2019-02-01 20:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/630dc7dd0ae4d20a23115fdfbd7253dcb53ff9fa', 'message': ""NFS: Retry on intermittent mount failure\n\nConcurrent backup operations using NFS driver may fail with\nerror 'busy or already mounted' when trying to mount the\nshare. Adding a config option 'backup_mount_attempts' to\nspecify the number of times to retry the mount operation\nbefore raising the exception.\n\nCloses-bug: 1813851\nChange-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1\n""}, {'number': 5, 'created': '2019-06-08 00:01:15.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'releasenotes/notes/bug-1813851-60a4f0ffe386d9b6.yaml', 'cinder/backup/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d960cb0477c3e782463632c94d888bcd121083da', 'message': ""NFS: Retry on intermittent mount failure\n\nConcurrent backup operations using NFS driver may fail with\nerror 'busy or already mounted' when trying to mount the\nshare. Adding a config option 'backup_mount_attempts' to\nspecify the number of times to retry the mount operation\nbefore raising the exception.\n\nCloses-bug: 1813851\nChange-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1\n""}]",9,633861,d960cb0477c3e782463632c94d888bcd121083da,210,53,5,9171,,,0,"NFS: Retry on intermittent mount failure

Concurrent backup operations using NFS driver may fail with
error 'busy or already mounted' when trying to mount the
share. Adding a config option 'backup_mount_attempts' to
specify the number of times to retry the mount operation
before raising the exception.

Closes-bug: 1813851
Change-Id: I35dcc5d61237fa65488eb9b2c8cbd26ee7b2adc1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/633861/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py']",2,63b92dea2cb29650b03d594732a39b761e970ad4,bug/1813851,"import timeimport six cfg.IntOpt('backup_mount_attempts', default=3, help='The number of attempts to mount NFS shares before ' 'raising an error. At least one attempt will be ' 'made to mount an NFS share, regardless of the ' 'value specified.'), def _mount(self, remotefsclient): num_attempts = max(1, CONF.backup_mount_attempts) for attempt in range(num_attempts): try: remotefsclient.mount(self.backup_share) return except Exception as e: if attempt == (num_attempts - 1): LOG.error('Mount failure for %(share)s after ' '%(count)d attempts.', { 'share': self.backup_share, 'count': num_attempts}) raise exception.NfsException(six.text_type(e)) LOG.debug('Mount attempt %(attempt)d failed: %(exc)s.\n' 'Retrying mount ...', {'attempt': attempt, 'exc': e}) time.sleep(1) self._mount(remotefsclient)", remotefsclient.mount(self.backup_share) ,47,3
openstack%2Fneutron~stable%2Fstein~Ib69540b38a3a8a86183ce570b259fba35d9efc30,openstack/neutron,stable/stein,Ib69540b38a3a8a86183ce570b259fba35d9efc30,Add custom ethertype processing,ABANDONED,2019-06-24 19:52:42.000000000,2019-06-28 18:09:00.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-24 19:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6be9fa96f92123f47881fdab1c30f8c3df1019c9', 'message': 'Add custom ethertype processing\n\nThe OVS Firewall blocks traffic that does not have either the IPv4 or\nIPv6 ethertypes at present.  This is a behavior change compared to the\niptables_hybrid firewall, which only operates on IP packets and thus\ndoes not address other ethertypes.\n\nA new RFE has been proposed [1] that describes an API to complement\nsecurity groups that would allow fine grained control by ethertype.  As\na new API this is almost certainly not backportable.  But there are\nOpenStack users that are experiencing issues with this right now on\nclouds as old as Queens.  From the perspective of an operator that may\ndepend on this behavior that is migrating to OVS firewall this looks\nlike a significant regression.\n\nThis is a lightweight change, designed to be acceptable for backports,\nthat sets a configuration option in the neutron openvswitch agent\nconfiguration file for permitted ethertypes and then ensures that the\nrequested ethertypes are permitted on initialization.\n\n[1] https://bugs.launchpad.net/bugs/1832758\n\nChange-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30\n'}, {'number': 2, 'created': '2019-06-25 11:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc064b107745e84dc792c6ca915845b355812746', 'message': 'Add custom ethertype processing\n\nThe OVS Firewall blocks traffic that does not have either the IPv4 or\nIPv6 ethertypes at present.  This is a behavior change compared to the\niptables_hybrid firewall, which only operates on IP packets and thus\ndoes not address other ethertypes.\n\nA new RFE has been proposed [1] that describes an API to complement\nsecurity groups that would allow fine grained control by ethertype.  As\na new API this is almost certainly not backportable.  But there are\nOpenStack users that are experiencing issues with this right now on\nclouds as old as Queens.  From the perspective of an operator that may\ndepend on this behavior that is migrating to OVS firewall this looks\nlike a significant regression.\n\nThis is a lightweight change, designed to be acceptable for backports,\nthat sets a configuration option in the neutron openvswitch agent\nconfiguration file for permitted ethertypes and then ensures that the\nrequested ethertypes are permitted on initialization.\n\n[1] https://bugs.launchpad.net/bugs/1832758\n\nChange-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30\n'}, {'number': 3, 'created': '2019-06-26 13:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56bd9505055e8add2a121d8c3b7e86f9e1058995', 'message': 'Add custom ethertype processing\n\nThe OVS Firewall blocks traffic that does not have either the IPv4 or\nIPv6 ethertypes at present.  This is a behavior change compared to the\niptables_hybrid firewall, which only operates on IP packets and thus\ndoes not address other ethertypes.\n\nA new RFE has been proposed [1] that describes an API to complement\nsecurity groups that would allow fine grained control by ethertype.  As\na new API this is almost certainly not backportable.  But there are\nOpenStack users that are experiencing issues with this right now on\nclouds as old as Queens.  From the perspective of an operator that may\ndepend on this behavior that is migrating to OVS firewall this looks\nlike a significant regression.\n\nThis is a lightweight change, designed to be acceptable for backports,\nthat sets a configuration option in the neutron openvswitch agent\nconfiguration file for permitted ethertypes and then ensures that the\nrequested ethertypes are permitted on initialization.\n\n[1] https://bugs.launchpad.net/bugs/1832758\n\nChange-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30\n'}, {'number': 4, 'created': '2019-06-26 19:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96168571337113a6a854b3c278cfd91066474fdf', 'message': 'Add custom ethertype processing\n\nThe OVS Firewall blocks traffic that does not have either the IPv4 or\nIPv6 ethertypes at present.  This is a behavior change compared to the\niptables_hybrid firewall, which only operates on IP packets and thus\ndoes not address other ethertypes.\n\nA new RFE has been proposed [1] that describes an API to complement\nsecurity groups that would allow fine grained control by ethertype.  As\na new API this is almost certainly not backportable.  But there are\nOpenStack users that are experiencing issues with this right now on\nclouds as old as Queens.  From the perspective of an operator that may\ndepend on this behavior that is migrating to OVS firewall this looks\nlike a significant regression.\n\nThis is a lightweight change, designed to be acceptable for backports,\nthat sets a configuration option in the neutron openvswitch agent\nconfiguration file for permitted ethertypes and then ensures that the\nrequested ethertypes are permitted on initialization.\n\n[1] https://bugs.launchpad.net/bugs/1832758\n\nChange-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30\n'}, {'number': 5, 'created': '2019-06-27 18:56:20.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/conf/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/af8d9f2259e43e833f65258303816cb58489d2a2', 'message': 'Add custom ethertype processing\n\nThe OVS Firewall blocks traffic that does not have either the IPv4 or\nIPv6 ethertypes at present.  This is a behavior change compared to the\niptables_hybrid firewall, which only operates on IP packets and thus\ndoes not address other ethertypes.\n\nA new RFE has been proposed [1] that describes an API to complement\nsecurity groups that would allow fine grained control by ethertype.  As\na new API this is almost certainly not backportable.  But there are\nOpenStack users that are experiencing issues with this right now on\nclouds as old as Queens.  From the perspective of an operator that may\ndepend on this behavior that is migrating to OVS firewall this looks\nlike a significant regression.\n\nThis is a lightweight change, designed to be acceptable for backports,\nthat sets a configuration option in the neutron openvswitch agent\nconfiguration file for permitted ethertypes and then ensures that the\nrequested ethertypes are permitted on initialization.\n\n[1] https://bugs.launchpad.net/bugs/1832758\n\nChange-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30\n'}]",25,667207,af8d9f2259e43e833f65258303816cb58489d2a2,31,11,5,13995,,,0,"Add custom ethertype processing

The OVS Firewall blocks traffic that does not have either the IPv4 or
IPv6 ethertypes at present.  This is a behavior change compared to the
iptables_hybrid firewall, which only operates on IP packets and thus
does not address other ethertypes.

A new RFE has been proposed [1] that describes an API to complement
security groups that would allow fine grained control by ethertype.  As
a new API this is almost certainly not backportable.  But there are
OpenStack users that are experiencing issues with this right now on
clouds as old as Queens.  From the perspective of an operator that may
depend on this behavior that is migrating to OVS firewall this looks
like a significant regression.

This is a lightweight change, designed to be acceptable for backports,
that sets a configuration option in the neutron openvswitch agent
configuration file for permitted ethertypes and then ensures that the
requested ethertypes are permitted on initialization.

[1] https://bugs.launchpad.net/bugs/1832758

Change-Id: Ib69540b38a3a8a86183ce570b259fba35d9efc30
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/667207/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,6be9fa96f92123f47881fdab1c30f8c3df1019c9,custom_ethertypes_stable_branch," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: try: hex_ethertype = hex(int(permitted_ethertype, base=16)) self._add_flow( table=ovs_consts.BASE_INGRESS_TABLE, priority=100, dl_type=hex_ethertype, reg_port=port.ofport, actions='output:{:d}'.format(port.ofport) ) except ValueError: LOG.warning(""custom ethertype %(permitted_ethertype) is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) ",,16,0
openstack%2Fnetworking-ovn~stable%2Fqueens~If157e9d4660cc6c566ecad44aa6734af2bd14db1,openstack/networking-ovn,stable/queens,If157e9d4660cc6c566ecad44aa6734af2bd14db1,Maintenance task: Fix race condition at resource creation,MERGED,2019-06-21 12:50:48.000000000,2019-06-28 17:41:50.000000000,2019-06-28 17:41:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 12:50:48.000000000', 'files': ['networking_ovn/tests/unit/db/test_maintenance.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/functional/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ef5a81d1274d46bd77c2ac4639e47a706dbe33b3', 'message': 'Maintenance task: Fix race condition at resource creation\n\nWhen the maintenance task runs (every 5 minutes) it should take in\nconsideration how old is the resource before considering it to be an\ninconsitency.\n\nPrior to this patch, what could happen is that a resource being created\nwas committed to the neutron database but not yet to the OVN database and\novn_revision_numbers cache table. In the meantime, the maintenance\ntask could run and create that resource before the create_*_postcommit()\ncompleted resulting in a race condition.\n\nUsing a port as an example, the following error would be seeing when\nthat happens (more detailed example in the LP ticket):\n\novsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:\n{""details"":""Transaction causes multiple rows in \\""Logical_Switch_Port\\""\ntable to have identical values (\\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\\"")\nfor index on column \\""name\\"".\n\nThis patch adds a new filter to the get_inconsistent_resources() method\nwhich checks the ""created_at"" column of the resource to see if it\'s older\nthan 60 seconds and ignore if it\'s newer.\n\nCloses-Bug: #1833445\nChange-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)\n'}]",0,666827,ef5a81d1274d46bd77c2ac4639e47a706dbe33b3,16,4,1,6773,,,0,"Maintenance task: Fix race condition at resource creation

When the maintenance task runs (every 5 minutes) it should take in
consideration how old is the resource before considering it to be an
inconsitency.

Prior to this patch, what could happen is that a resource being created
was committed to the neutron database but not yet to the OVN database and
ovn_revision_numbers cache table. In the meantime, the maintenance
task could run and create that resource before the create_*_postcommit()
completed resulting in a race condition.

Using a port as an example, the following error would be seeing when
that happens (more detailed example in the LP ticket):

ovsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:
{""details"":""Transaction causes multiple rows in \""Logical_Switch_Port\""
table to have identical values (\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\"")
for index on column \""name\"".

This patch adds a new filter to the get_inconsistent_resources() method
which checks the ""created_at"" column of the resource to see if it's older
than 60 seconds and ignore if it's newer.

Closes-Bug: #1833445
Change-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/27/666827/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/db/test_maintenance.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/functional/test_maintenance.py']",3,ef5a81d1274d46bd77c2ac4639e47a706dbe33b3,bug/1833445,"@mock.patch('networking_ovn.db.maintenance.INCONSISTENCIES_OLDER_THAN', -1)",,52,9
openstack%2Ftripleo-heat-templates~master~Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2,openstack/tripleo-heat-templates,master,Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2,Update min tox version to 2.0,MERGED,2018-11-09 04:32:09.000000000,2019-06-28 17:30:20.000000000,2019-06-28 17:30:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 17499}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-11-09 04:32:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b46f36c8ae9a78b12f3eeb7d1eee2ca78e5f670', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.  Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2\n'}]",0,616768,1b46f36c8ae9a78b12f3eeb7d1eee2ca78e5f670,11,7,1,28935,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Ie4c122e5fbb77f6e03e384a58745c1a46d91acb2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/616768/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1b46f36c8ae9a78b12f3eeb7d1eee2ca78e5f670,,minversion = 2.0,minversion = 1.6,1,1
openstack%2Ftripleo-heat-templates~master~I630a4a65c30928a8dd8cca59c39792afd7302ca6,openstack/tripleo-heat-templates,master,I630a4a65c30928a8dd8cca59c39792afd7302ca6,Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params,MERGED,2019-06-26 11:46:34.000000000,2019-06-28 17:30:17.000000000,2019-06-28 17:30:17.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-26 11:46:34.000000000', 'files': ['deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/634be405da07195dc7e107c575e715cf3960a250', 'message': 'Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params\n\nWe used to look at CephPoolDefaultPgNum to set the pg_num of all but\nthe Manila pools. This seems counterintuitive, especially because specific\npools pg_num can be overridden using the CephPools parameter. This\nchange deprecates the old Manila specific parameters.\n\nChange-Id: I630a4a65c30928a8dd8cca59c39792afd7302ca6\n'}]",1,667586,634be405da07195dc7e107c575e715cf3960a250,9,5,1,6796,,,0,"Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params

We used to look at CephPoolDefaultPgNum to set the pg_num of all but
the Manila pools. This seems counterintuitive, especially because specific
pools pg_num can be overridden using the CephPools parameter. This
change deprecates the old Manila specific parameters.

Change-Id: I630a4a65c30928a8dd8cca59c39792afd7302ca6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/667586/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mds.yaml'],1,634be405da07195dc7e107c575e715cf3960a250,," CephPoolDefaultPgNum: description: default pg_num to use for the RBD pools type: number default: 128 # DEPRECATED options for compatibility with older versions ManilaCephFSDataPoolPGNum: default: 128 type: number ManilaCephFSMetadataPoolPGNum: default: 128 type: number parameter_groups: - label: deprecated description: Do not use deprecated params, they will be removed. parameters: - ManilaCephFSDataPoolPGNum - ManilaCephFSMetadataPoolPGNum conditions: deprecated_data_pool_pgnum: {not: {equals: [{get_param: ManilaCephFSDataPoolPGNum}, 128]}} deprecated_metadata_pool_pgnum: {not: {equals: [{get_param: ManilaCephFSMetadataPoolPGNum}, 128]}} # Prefer CephPoolDefaultPgNum unless the (deprecated) # params value is different from their default. if: - or: - deprecated_data_pool_pgnum - deprecated_metadata_pool_pgnum - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: ManilaCephFSDataPoolPGNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: ManilaCephFSMetadataPoolPGNum} } - cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: CephPoolDefaultPgNum} }"," ManilaCephFSDataPoolPGNum: default: 128 type: number ManilaCephFSMetadataPoolPGNum: default: 128 type: number cephfs_pools: - { name: {get_param: ManilaCephFSDataPoolName}, pgs: {get_param: ManilaCephFSDataPoolPGNum} } - { name: {get_param: ManilaCephFSMetadataPoolName}, pgs: {get_param: ManilaCephFSMetadataPoolPGNum} }",34,9
openstack%2Ftripleo-common~master~Iaf91f36a189d8e00627c21f14ca992a4d60fa10f,openstack/tripleo-common,master,Iaf91f36a189d8e00627c21f14ca992a4d60fa10f,Don't calculate vips for some services,MERGED,2019-06-27 18:17:35.000000000,2019-06-28 17:30:16.000000000,2019-06-28 17:30:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 18:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bb315928fe2fc158cfa8aba9b365d3d758afc56e', 'message': ""Don't calculate vips for some services\n\nAs we use explicit vips for these services, we should not calculate the\nvip based on the assigned network because in some cases they will be\ndifferent values.\n\nChange-Id: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f\n""}, {'number': 2, 'created': '2019-06-27 22:07:35.000000000', 'files': ['roles/tripleo-hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/372be6468e1dabc5fca2095d963dfbf4b055d7f2', 'message': ""Don't calculate vips for some services\n\nAs we use explicit vips for these services, we should not calculate the\nvip based on the assigned network because in some cases they will be\ndifferent values.\n\nChange-Id: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f\n""}]",4,668009,372be6468e1dabc5fca2095d963dfbf4b055d7f2,15,7,2,7144,,,0,"Don't calculate vips for some services

As we use explicit vips for these services, we should not calculate the
vip based on the assigned network because in some cases they will be
different values.

Change-Id: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/668009/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-hieradata/templates/vip_data.j2'],1,bb315928fe2fc158cfa8aba9b365d3d758afc56e,,"# we set explicit vips for these services, no need to calculate them dynamically {%- if service not in ['redis', 'ganesha', 'keystone_admin_api_vip', 'keystone_public_api_vip'] %}{%- endif %}",,3,0
openstack%2Fkolla~master~Ib82810a8d33dd91d28537058e873724a22067103,openstack/kolla,master,Ib82810a8d33dd91d28537058e873724a22067103,[prometheus/openstack-exporter] Changed repository location and version.,MERGED,2019-06-24 16:29:51.000000000,2019-06-28 17:27:47.000000000,2019-06-28 17:27:47.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-24 16:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3125ef8aed5f1bf300edc1a2be675b622b12dcf', 'message': '[prometheus/openstack-exporter] Changed repository location and version.\n\nVersion 0.0.9 has been released, also the default organization\nhas been changed to its own org[0].\n\n[0] https://github.com/openstack-exporter/openstack-exporter\n\nChange-Id: Ib82810a8d33dd91d28537058e873724a22067103\nSigned-off-by: Jorge Niedbalski <niedbalski@gmail.com>\n'}, {'number': 2, 'created': '2019-06-25 13:50:55.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b692e8215b02648dbfd33af3e586a81da7695ea2', 'message': '[prometheus/openstack-exporter] Changed repository location and version.\n\nVersion 0.0.9 has been released, also the default organization\nhas been changed to its own org[0].\n\n[0] https://github.com/openstack-exporter/openstack-exporter\n\nChange-Id: Ib82810a8d33dd91d28537058e873724a22067103\nSigned-off-by: Jorge Niedbalski <niedbalski@gmail.com>\n'}]",1,667153,b692e8215b02648dbfd33af3e586a81da7695ea2,16,6,2,2276,,,0,"[prometheus/openstack-exporter] Changed repository location and version.

Version 0.0.9 has been released, also the default organization
has been changed to its own org[0].

[0] https://github.com/openstack-exporter/openstack-exporter

Change-Id: Ib82810a8d33dd91d28537058e873724a22067103
Signed-off-by: Jorge Niedbalski <niedbalski@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/667153/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,a3125ef8aed5f1bf300edc1a2be675b622b12dcf,fix-openstack-exporter,ENV prometheus_openstack_exporter_version=0.0.9RUN curl -sSL -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,ENV prometheus_openstack_exporter_version=0.0.7RUN curl -sSL -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/Linaro/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,2,2
openstack%2Fkolla-ansible~master~I623cdd49d2c1ad39db223994904dd2b556c1a5e4,openstack/kolla-ansible,master,I623cdd49d2c1ad39db223994904dd2b556c1a5e4,DNM: kolla-ansible CI test (host: CentOS 7 -> Ubuntu Bionic),ABANDONED,2019-06-26 06:20:09.000000000,2019-06-28 17:27:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-26 06:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d6c2f03b59437e1d987f79df131625ea5826c38', 'message': 'DNM: kolla-ansible CI test (host: CentOS 7 -> Ubuntu Bionic)\n\nChange-Id: I623cdd49d2c1ad39db223994904dd2b556c1a5e4\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-26 06:27:05.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/857aa9663ba442ecc8a7f859c3266ebc76f04db7', 'message': 'DNM: kolla-ansible CI test (host: CentOS 7 -> Ubuntu Bionic)\n\nChange-Id: I623cdd49d2c1ad39db223994904dd2b556c1a5e4\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,667518,857aa9663ba442ecc8a7f859c3266ebc76f04db7,5,1,2,30491,,,0,"DNM: kolla-ansible CI test (host: CentOS 7 -> Ubuntu Bionic)

Change-Id: I623cdd49d2c1ad39db223994904dd2b556c1a5e4
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/667518/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,5d6c2f03b59437e1d987f79df131625ea5826c38,dnm-ci-test, label: ubuntu-bionic label: ubuntu-bionic label: ubuntu-bionic label: ubuntu-bionic, label: centos-7 label: centos-7 label: centos-7 label: centos-7,4,4
openstack%2Fkolla~master~I4cd87ffad39dddc4d34c17f5dd7f536440090944,openstack/kolla,master,I4cd87ffad39dddc4d34c17f5dd7f536440090944,DNM: kolla CI test (host: CentOS 7 -> Ubuntu Bionic),ABANDONED,2019-06-26 06:22:33.000000000,2019-06-28 17:27:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-26 06:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8880e5d461028e0fcb90a476a29908c44d9a10b8', 'message': 'DNM: kolla CI test (host: CentOS 7 -> Ubuntu Bionic)\n\nDepends-On: https://review.opendev.org/667518\nChange-Id: I4cd87ffad39dddc4d34c17f5dd7f536440090944\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-26 06:30:08.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a1993d57027750174edcd20ec08777c2e8b9dca', 'message': 'DNM: kolla CI test (host: CentOS 7 -> Ubuntu Bionic)\n\nDepends-On: https://review.opendev.org/667518\nChange-Id: I4cd87ffad39dddc4d34c17f5dd7f536440090944\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,667519,5a1993d57027750174edcd20ec08777c2e8b9dca,5,1,2,30491,,,0,"DNM: kolla CI test (host: CentOS 7 -> Ubuntu Bionic)

Depends-On: https://review.opendev.org/667518
Change-Id: I4cd87ffad39dddc4d34c17f5dd7f536440090944
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/667519/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/base.yaml'],1,8880e5d461028e0fcb90a476a29908c44d9a10b8,dnm-ci-test, label: ubuntu-bionic, label: centos-7,1,1
openstack%2Ftripleo-common~stable%2Fpike~I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b,openstack/tripleo-common,stable/pike,I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b,Fix regression in validation action,MERGED,2019-06-26 03:50:11.000000000,2019-06-28 17:24:25.000000000,2019-06-28 17:24:25.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 03:50:11.000000000', 'files': ['tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eca1924ec3bde5cad4f6f8545669cc23f14b1997', 'message': 'Fix regression in validation action\n\nRegression with https://review.opendev.org/#/c/656379/\n\nself.stack is dict rather than a python object from action\nheat.stacks_get  and is an input to this action.\n\nChange-Id: I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b\nCloses-Bug: #1834054\nRelated-Bug: #1826925\n(cherry picked from commit 19148898aabc58afb7c93957676c6cf408d0f962)\n'}]",0,667502,eca1924ec3bde5cad4f6f8545669cc23f14b1997,7,3,1,8833,,,0,"Fix regression in validation action

Regression with https://review.opendev.org/#/c/656379/

self.stack is dict rather than a python object from action
heat.stacks_get  and is an input to this action.

Change-Id: I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b
Closes-Bug: #1834054
Related-Bug: #1826925
(cherry picked from commit 19148898aabc58afb7c93957676c6cf408d0f962)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/667502/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_validations.py']",2,eca1924ec3bde5cad4f6f8545669cc23f14b1997,bug/1834054-stable/pike," action_args['stack'] = {'parameters': self.defaults.copy(), 'stack_status': 'CREATE_COMPLETE'} action_args['stack'] = {'parameters': self.defaults.copy(), 'stack_status': 'CREATE_COMPLETE'} action_args['stack'] = {'parameters': self.defaults.copy(), 'stack_status': 'CREATE_COMPLETE'}"," params = self.defaults.copy() self.stack = mock.Mock(status='COMPLETE', parameters=params) params = self.defaults.copy() self.stack = mock.Mock(status='COMPLETE', parameters=params) self.stack = mock.Mock(status='COMPLETE', parameters=params)",7,9
openstack%2Fsahara-plugin-mapr~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-mapr,master,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:15.000000000,2019-06-28 17:17:48.000000000,2019-06-28 17:17:48.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:47:15.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/495691b42d620f3fb33b087b026886ff3ef04410', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}]",0,667307,495691b42d620f3fb33b087b026886ff3ef04410,9,3,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/07/667307/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,495691b42d620f3fb33b087b026886ff3ef04410,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-common~master~Ib7413eff36ba5c93530e2c784de76876aa2c9716,openstack/tripleo-common,master,Ib7413eff36ba5c93530e2c784de76876aa2c9716,DNM: use virtainers for molecule testing,ABANDONED,2019-06-26 19:30:18.000000000,2019-06-28 17:17:44.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-26 19:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/46327f31b1fdcd7d4ca9d5911d5910e096b99408', 'message': 'WIP: use virtainers for molecule testing\n\ntesting...\n\nChange-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716\n'}, {'number': 2, 'created': '2019-06-27 03:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/670a2ace032d193db2fb46266ea7c29dd5e09048', 'message': 'WIP: use virtainers for molecule testing\n\ntesting...\n\nChange-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716\n'}, {'number': 3, 'created': '2019-06-27 07:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6410e107e6dcbd660bd0ef97da0ffd1aeadca28', 'message': 'WIP: use virtainers for molecule testing\n\ntesting...\n\nChange-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716\n'}, {'number': 4, 'created': '2019-06-27 09:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2cb142f26025b116ec0028556054bb2aba1f19e4', 'message': 'WIP: use virtainers for molecule testing\n\ntesting...\n\nChange-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716\n'}, {'number': 5, 'created': '2019-06-27 09:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6ace3f79fc067a3be25e2428e0c4837f18f9718f', 'message': 'WIP: use virtainers for molecule testing\n\ntesting...\n\nChange-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716\n'}, {'number': 6, 'created': '2019-06-27 21:55:53.000000000', 'files': ['roles/tripleo-container-rm/molecule/podman/molecule.yml', 'roles/tripleo-container-rm/molecule/docker/molecule.yml', 'roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-container-rm/tasks/podman.yaml', 'zuul.d/layout.yaml', 'roles/tripleo-container-rm/molecule/podman/playbook.yml', 'roles/tripleo-container-rm/molecule/podman/prepare.yml', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-container-rm/molecule/docker/prepare.yml', 'roles/tripleo-container-rm/molecule/docker/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c508b3eeeb0c9f0a5aed805aefe3325a1ffa5e1', 'message': 'DNM: use virtainers for molecule testing\n\ntesting...\n\nChange-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716\n'}]",0,667713,8c508b3eeeb0c9f0a5aed805aefe3325a1ffa5e1,20,6,6,10969,,,0,"DNM: use virtainers for molecule testing

testing...

Change-Id: Ib7413eff36ba5c93530e2c784de76876aa2c9716
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/667713/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-container-rm/molecule/podman/molecule.yml', 'roles/tripleo-container-rm/molecule/docker/molecule.yml', 'roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-container-rm/tasks/podman.yaml', 'roles/tripleo-container-rm/molecule/podman/playbook.yml', 'roles/tripleo-container-rm/molecule/podman/prepare.yml', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-container-rm/molecule/docker/prepare.yml', 'roles/tripleo-container-rm/molecule/docker/playbook.yml']",9,46327f31b1fdcd7d4ca9d5911d5910e096b99408,virtainer,"--- - name: Converge hosts: all gather_facts: false become: true vars: ansible_python_interpreter: /usr/bin/python3 container_cli: docker container_name: test_container containers_to_rm: - ""{{ container_name }}"" roles: - tripleo-container-rm ",,281,13
openstack%2Fopenstack-ansible-os_sahara~master~Ic8f7f2dc97cb8160bab123a87a2673675cff4c15,openstack/openstack-ansible-os_sahara,master,Ic8f7f2dc97cb8160bab123a87a2673675cff4c15,db_setup: refactor database setup to a common file,MERGED,2019-06-17 17:58:25.000000000,2019-06-28 17:01:25.000000000,2019-06-28 17:01:25.000000000,"[{'_account_id': 1004}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-17 17:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/0b2b0060cd43521161954bb377ab9d4281aa9984', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Ic8f7f2dc97cb8160bab123a87a2673675cff4c15\n'}, {'number': 2, 'created': '2019-06-27 18:45:52.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/sahara_db_sync.yml', 'tasks/sahara_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/0d4cf84f1edd2ebae3c6d203cd186da4a5b8e163', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/668019\n\nChange-Id: Ic8f7f2dc97cb8160bab123a87a2673675cff4c15\n'}]",0,665738,0d4cf84f1edd2ebae3c6d203cd186da4a5b8e163,15,5,2,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Depends-On: https://review.opendev.org/668019

Change-Id: Ic8f7f2dc97cb8160bab123a87a2673675cff4c15
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/38/665738/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/sahara_db_sync.yml', 'tasks/sahara_db_setup.yml']",4,0b2b0060cd43521161954bb377ab9d4281aa9984,osa/db-refactor,,"--- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ sahara_galera_address }}"" name: ""{{ sahara_galera_database }}"" state: ""present"" delegate_to: ""{{ sahara_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ sahara_galera_address }}"" name: ""{{ sahara_galera_user }}"" password: ""{{ sahara_container_mysql_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ sahara_galera_database }}.*:ALL"" delegate_to: ""{{ sahara_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True - name: Perform a Sahara DB sync command: ""{{ sahara_bin }}/sahara-db-manage --config-file {{ sahara_db_config }} upgrade head"" become: yes become_user: ""{{ sahara_system_user_name }}"" changed_when: false ",94,65
openstack%2Ftripleo-heat-templates~stable%2Fstein~I43875eee401bb75e14874c776339a7c2a02d300f,openstack/tripleo-heat-templates,stable/stein,I43875eee401bb75e14874c776339a7c2a02d300f,Allow ssh from all ctlplane network subnets,MERGED,2019-06-25 09:14:50.000000000,2019-06-28 16:59:41.000000000,2019-06-28 16:59:41.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 28223}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-25 09:14:50.000000000', 'files': ['deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcd135f99b82a9430abf908be30f730f264ae153', 'message': ""Allow ssh from all ctlplane network subnets\n\nIn change I89cff59947dda3f51482486c41a3d67c4aa36a3e\nthe default firewall rules where changed so that\nonly the %{hiera('ctlplane_subnet')} is allowed. In\nDCN (spine-and-leaf) the result is that SSH to\nnodes in remote subnets is not possible.\n\nThis change replaces the use of hiera, and instead\nuse the 'net_cidr_map' to create firewall rules for\neach subnet on the ctlplane network. By creating a\nrule for each subnet on the ctlplane SSH will be\nallowed within the L3 ctlplane network.\n\nCloses-Bug: #1834161\nChange-Id: I43875eee401bb75e14874c776339a7c2a02d300f\n(cherry picked from commit a89d46e0380431abed7c21a127c3bcb0d5dceb81)\n""}]",0,667295,dcd135f99b82a9430abf908be30f730f264ae153,14,10,1,24245,,,0,"Allow ssh from all ctlplane network subnets

In change I89cff59947dda3f51482486c41a3d67c4aa36a3e
the default firewall rules where changed so that
only the %{hiera('ctlplane_subnet')} is allowed. In
DCN (spine-and-leaf) the result is that SSH to
nodes in remote subnets is not possible.

This change replaces the use of hiera, and instead
use the 'net_cidr_map' to create firewall rules for
each subnet on the ctlplane network. By creating a
rule for each subnet on the ctlplane SSH will be
allowed within the L3 ctlplane network.

Closes-Bug: #1834161
Change-Id: I43875eee401bb75e14874c776339a7c2a02d300f
(cherry picked from commit a89d46e0380431abed7c21a127c3bcb0d5dceb81)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/667295/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml'],1,dcd135f99b82a9430abf908be30f730f264ae153,feature/firewall," map_merge: repeat: for_each: <%net_cidr%>: {get_param: [ServiceData, net_cidr_map, ctlplane]} template: '003 accept ssh from ctlplane subnet <%net_cidr%>': source: <%net_cidr%> proto: 'tcp' dport: 22"," '003 accept ssh from controlplane': source: ""%{hiera('ctlplane_subnet')}"" proto: 'tcp' dport: 22",9,4
openstack%2Frequirements~master~I7487f80fe1f93c65565d49429bcaa4d763dea167,openstack/requirements,master,I7487f80fe1f93c65565d49429bcaa4d763dea167,update constraint for python-ironic-inspector-client to new release 3.6.1,MERGED,2019-06-28 03:37:49.000000000,2019-06-28 16:58:36.000000000,2019-06-28 16:58:35.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 03:37:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dbb1315163884cd246567ea75f868ea66fe592e7', 'message': 'update constraint for python-ironic-inspector-client to new release 3.6.1\n\nChange-Id: I7487f80fe1f93c65565d49429bcaa4d763dea167\nmeta:version: 3.6.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: If34deae6a6290be40f3d3b286b0af0d902716ce2\nmeta:release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta:release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,668086,dbb1315163884cd246567ea75f868ea66fe592e7,8,5,1,11131,,,0,"update constraint for python-ironic-inspector-client to new release 3.6.1

Change-Id: I7487f80fe1f93c65565d49429bcaa4d763dea167
meta:version: 3.6.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: If34deae6a6290be40f3d3b286b0af0d902716ce2
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/668086/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dbb1315163884cd246567ea75f868ea66fe592e7,new-release,python-ironic-inspector-client===3.6.1,python-ironic-inspector-client===3.6.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia08ec74917b6d80376f59ce04613432ad0b041ea,openstack/tripleo-heat-templates,stable/stein,Ia08ec74917b6d80376f59ce04613432ad0b041ea,Do not assume the CNI config directory exists,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 16:40:45.000000000,2019-06-28 16:40:45.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaf25b8decca6f363337a22a51f9b46776c41eb6', 'message': 'Do not assume the CNI config directory exists\n\nThe upgrade to Stein can fail on task ""Remove default cni config for\ncni0"" with error ""Destination directory /etc/cni/net.d does not\nexist"". Don\'t fail if the directory doesn\'t exist.\n\nChange-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea\nCloses-Bug: #1831238\n(cherry picked from commit c0860d58a4f49cc5728bb09f540c54e693dcfbae)\n'}]",0,667142,aaf25b8decca6f363337a22a51f9b46776c41eb6,8,4,1,8042,,,0,"Do not assume the CNI config directory exists

The upgrade to Stein can fail on task ""Remove default cni config for
cni0"" with error ""Destination directory /etc/cni/net.d does not
exist"". Don't fail if the directory doesn't exist.

Change-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea
Closes-Bug: #1831238
(cherry picked from commit c0860d58a4f49cc5728bb09f540c54e693dcfbae)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/667142/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,aaf25b8decca6f363337a22a51f9b46776c41eb6,bug/1831690, - name: Remove default cni config for cni0 if exists ignore_errors: True - name: Remove default cni config for cni0 if exists ignore_errors: True, - name: Remove default cni config for cni0 - name: Remove default cni config for cni0,4,2
openstack%2Fkolla-ansible~stable%2Fstein~I33f486c4cc2990d270821d70c73e9654004e90e0,openstack/kolla-ansible,stable/stein,I33f486c4cc2990d270821d70c73e9654004e90e0,Updating Jinja filters to conform to Ansible 2.5+,MERGED,2019-06-28 11:54:56.000000000,2019-06-28 16:37:54.000000000,2019-06-28 16:09:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-28 11:54:56.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f4d10614d8a8a869286e4b8f956c9ac3e1bae6f', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI've run the script provided by the ansible team to 'fix' the jinja filters\nto conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active stein files, rather\nthan a cherry pick of 656767.\n\nChange-Id: I33f486c4cc2990d270821d70c73e9654004e90e0\n""}]",0,668153,3f4d10614d8a8a869286e4b8f956c9ac3e1bae6f,9,3,1,30322,,,0,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been deprecated.
I've run the script provided by the ansible team to 'fix' the jinja filters
to conform to the newer syntax.

This fixes the deprecation warnings.

This is a specific run of the script against active stein files, rather
than a cherry pick of 656767.

Change-Id: I33f486c4cc2990d270821d70c73e9654004e90e0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/668153/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml']",13,3f4d10614d8a8a869286e4b8f956c9ac3e1bae6f,," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') is search("".+"")"," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') | search("".+"")",117,118
openstack%2Fopenstack-ansible-os_barbican~master~I165acd8c7568a80f463b32c73dd47102e10fdd07,openstack/openstack-ansible-os_barbican,master,I165acd8c7568a80f463b32c73dd47102e10fdd07,Use secure persmissions for barbican configuration,MERGED,2019-06-28 12:10:26.000000000,2019-06-28 16:37:04.000000000,2019-06-28 16:37:03.000000000,"[{'_account_id': 7973}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-28 12:10:26.000000000', 'files': ['tasks/barbican_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d8eeb07880389599375d4331046114af95cfeb42', 'message': ""Use secure persmissions for barbican configuration\n\nThis contains credentials, it shouldn't be world readable,\nand certainly not writeable by the service user.\n\nChange-Id: I165acd8c7568a80f463b32c73dd47102e10fdd07\n""}]",0,668159,d8eeb07880389599375d4331046114af95cfeb42,8,4,1,6593,,,0,"Use secure persmissions for barbican configuration

This contains credentials, it shouldn't be world readable,
and certainly not writeable by the service user.

Change-Id: I165acd8c7568a80f463b32c73dd47102e10fdd07
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/59/668159/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/barbican_post_install.yml'],1,d8eeb07880389599375d4331046114af95cfeb42,," owner: ""root"" mode: ""0640"""," owner: ""{{ barbican_system_user_name }}"" mode: ""0644""",2,2
openstack%2Ftrove-tempest-plugin~master~I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d,openstack/trove-tempest-plugin,master,I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d,Update hacking version to latest,NEW,2019-01-26 04:04:24.000000000,2019-06-28 16:07:05.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-26 04:04:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/fead6e77bfacdc1b7349a9b6689eeb6bcbf78113', 'message': 'Update hacking version to latest\n\nChange-Id: I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d\n'}]",0,633326,fead6e77bfacdc1b7349a9b6689eeb6bcbf78113,4,3,1,29423,,,0,"Update hacking version to latest

Change-Id: I10544beb28cdf7d8e5b9c3b6a0c69c9a5004319d
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/26/633326/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fead6e77bfacdc1b7349a9b6689eeb6bcbf78113,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.13,>=0.12.0 # Apache-2.0",1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,stable/rocky,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-06-19 17:09:27.000000000,2019-06-28 16:03:32.000000000,2019-06-28 16:03:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-19 17:09:27.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/275d219b0d9183f4a027dbf418ffaf368dd652c8', 'message': ""IHA robustness improvements\n\nThis will avoid useless fencing events in case of stonith problems.  The\n'compute-unfence-trigger' resource is simply a dummy resource that is\nonly used to trigger unfence events. If for whatever reason this\nresource is having issues on stop (pcmk bug, node overloaded, etc.) it\nmakes zero sense to have pacemaker do a fencing action against the node.\nLet's just block and show the operator the status and be less harsh in\ngeneral.\n\nTested this and I correctly get the following:\n[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone\n Clone: compute-unfence-trigger-clone\n  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)\n   Meta Attrs: requires=unfencing\n   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)\n               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)\n               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)\n               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)\n               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)\n               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)\n\nCloses-Bug: #1831234\n\nChange-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce\n(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)\n""}]",0,666405,275d219b0d9183f4a027dbf418ffaf368dd652c8,14,7,1,20778,,,0,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/05/666405/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,275d219b0d9183f4a027dbf418ffaf368dd652c8,iha_fix-stable/rocky," op_params => 'stop timeout=20 on-fail=block',",,1,0
openstack%2Fmistral~master~I683c79fa0a3ab23a16c493ce2314a506dfee9749,openstack/mistral,master,I683c79fa0a3ab23a16c493ce2314a506dfee9749,"Initialize the lazily loaded execution ""input"" field in API",MERGED,2019-06-24 08:13:57.000000000,2019-06-28 15:52:49.000000000,2019-06-28 15:52:48.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-06-24 08:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/74b7e259186ee1abdc635ba0d9f8a717787258e6', 'message': 'Initialize the lazily loaded execution ""input"" field in API\n\n* After the recent change that made all potentially heavy fields\n  of execution objects lazily loaded, some clients using Mistral\n  APIs started crashing because they expect to get ""input"" field\n  in JSON of execution objects that Mistral API returns. It wasn\'t\n  present though because we did not initialize it explicitly in\n  the API controller.\n* Unfortunately, there\'s no easy way now to cover this change in\n  the API tests just for how they are organized: they mock all\n  DB calls and return all fields already initialized. We may want\n  to refactor these tests moving forward.\n\nChange-Id: I683c79fa0a3ab23a16c493ce2314a506dfee9749\n'}, {'number': 2, 'created': '2019-06-24 10:19:09.000000000', 'files': ['mistral/api/controllers/v2/execution.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/dfc3277ffd3b2217cbc45f8635e4008e0f9d1100', 'message': 'Initialize the lazily loaded execution ""input"" field in API\n\n* After the recent change that made all potentially heavy fields\n  of execution objects lazily loaded, some clients using Mistral\n  APIs started crashing because they expect to get ""input"" field\n  in JSON of execution objects that Mistral API returns. It wasn\'t\n  present though because we did not initialize it explicitly in\n  the API controller.\n* Unfortunately, there\'s no easy way now to cover this change in\n  the API tests just for how they are organized: they mock all\n  DB calls and return all fields already initialized. We may want\n  to refactor these tests moving forward.\n\nChange-Id: I683c79fa0a3ab23a16c493ce2314a506dfee9749\n'}]",0,667039,dfc3277ffd3b2217cbc45f8635e4008e0f9d1100,31,8,2,8731,,,0,"Initialize the lazily loaded execution ""input"" field in API

* After the recent change that made all potentially heavy fields
  of execution objects lazily loaded, some clients using Mistral
  APIs started crashing because they expect to get ""input"" field
  in JSON of execution objects that Mistral API returns. It wasn't
  present though because we did not initialize it explicitly in
  the API controller.
* Unfortunately, there's no easy way now to cover this change in
  the API tests just for how they are organized: they mock all
  DB calls and return all fields already initialized. We may want
  to refactor these tests moving forward.

Change-Id: I683c79fa0a3ab23a16c493ce2314a506dfee9749
",git fetch https://review.opendev.org/openstack/mistral refs/changes/39/667039/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/api/controllers/v2/execution.py'],1,74b7e259186ee1abdc635ba0d9f8a717787258e6,init_lazy_loaded_execution_input_field_in_api," _load_deferred_fields(wf_ex, ['params', 'input', 'output']) _load_deferred_fields(wf_ex, ['params', 'input'])"," _load_deferred_fields(wf_ex, ['params', 'output']) _load_deferred_fields(wf_ex, ['params'])",2,2
openstack%2Fpuppet-tripleo~stable%2Frocky~Ic11e0330010f51c39a8a27700cd7d96b466bd532,openstack/puppet-tripleo,stable/rocky,Ic11e0330010f51c39a8a27700cd7d96b466bd532,Switch metrics qdrs to edge mode,MERGED,2019-05-31 19:57:54.000000000,2019-06-28 15:40:26.000000000,2019-06-28 15:40:26.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-05-31 19:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/147a8b69e7db2d036b2e550618c7a468b0cd8041', 'message': 'Switch metrics qdrs to edge mode\n\nWe have proper qdrouterd version available now, so we can do the switch.\n\nChange-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532\n(cherry picked from commit ccbaeac737c845237b7f8f91e2e392fd3a204175)\n'}, {'number': 2, 'created': '2019-06-24 21:05:54.000000000', 'files': ['manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/830047b5478c0032ab7c3ad1d1a2df44b0fa879c', 'message': 'Switch metrics qdrs to edge mode\n\nWe have proper qdrouterd version available now, so we can do the switch.\n\nChange-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532\n(cherry picked from commit ccbaeac737c845237b7f8f91e2e392fd3a204175)\n'}]",0,662564,830047b5478c0032ab7c3ad1d1a2df44b0fa879c,18,6,2,28504,,,0,"Switch metrics qdrs to edge mode

We have proper qdrouterd version available now, so we can do the switch.

Change-Id: Ic11e0330010f51c39a8a27700cd7d96b466bd532
(cherry picked from commit ccbaeac737c845237b7f8f91e2e392fd3a204175)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/662564/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/metrics/qdr.pp'],1,147a8b69e7db2d036b2e550618c7a468b0cd8041,saf_client_side_puppet,"# [*router_mode*] # (optional) Mode in which the qdrouterd service should run. # Defaults to 'edge' # $router_mode = 'edge', router_mode => $router_mode,"," # TO-DO(mmagr): Metrics QDRs gonna run in edge mode as soon as we will # have a newest version of qpid-dispatch-router. Until then we have to run # in interior mode #router_mode => 'edge', router_mode => 'interior',",6,5
openstack%2Fpuppet-tripleo~stable%2Frocky~I30142db8bfa55412b8c8224aeb05916184117a86,openstack/puppet-tripleo,stable/rocky,I30142db8bfa55412b8c8224aeb05916184117a86,Qdr: InternalTLS support.,MERGED,2019-05-31 19:33:56.000000000,2019-06-28 15:40:26.000000000,2019-06-28 15:40:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-05-31 19:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3318e7f2d288b8e5ea044c3a2ad6b9423585cd8a', 'message': 'Qdr: InternalTLS support.\n\nConfiguration changes to provide Internal TLS support\nfor Qdr.\n\nChange-Id: I30142db8bfa55412b8c8224aeb05916184117a86\n(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)\n'}, {'number': 2, 'created': '2019-06-24 21:05:54.000000000', 'files': ['files/certmonger-metrics-qdr-refresh.sh', 'manifests/profile/base/metrics/qdr.pp', 'manifests/certmonger/metrics_qdr.pp', 'manifests/profile/base/certmonger_user.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6192a54b6c882c8b27e72559bdc6582269d11174', 'message': 'Qdr: InternalTLS support.\n\nConfiguration changes to provide Internal TLS support\nfor Qdr.\n\nChange-Id: I30142db8bfa55412b8c8224aeb05916184117a86\n(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)\n'}]",0,662553,6192a54b6c882c8b27e72559bdc6582269d11174,21,5,2,28504,,,0,"Qdr: InternalTLS support.

Configuration changes to provide Internal TLS support
for Qdr.

Change-Id: I30142db8bfa55412b8c8224aeb05916184117a86
(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/662553/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/certmonger-metrics-qdr-refresh.sh', 'manifests/profile/base/metrics/qdr.pp', 'manifests/certmonger/metrics_qdr.pp', 'manifests/profile/base/certmonger_user.pp']",4,3318e7f2d288b8e5ea044c3a2ad6b9423585cd8a,saf_client_side_puppet,"# [*qdr_certificate_specs*] # (Optional) The specifications to give to certmonger fot the certificate(s) # it will create. # Defaults to hiera('tripleo::profile::base::metrics::qdr::certificate_specs', {}). # $qdr_certificate_specs = hiera('tripleo::profile::base::metrics::qdr::certificate_specs', {}), unless empty($qdr_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::metrics_qdr', $qdr_certificate_specs) }",,136,1
openstack%2Fnova~stable%2Fstein~I804dbe7a6d43a670471c773c12cf3da7664a2c19,openstack/nova,stable/stein,I804dbe7a6d43a670471c773c12cf3da7664a2c19,DNM - Test rbd unshelve fix on stable stein,ABANDONED,2019-06-28 09:30:24.000000000,2019-06-28 15:38:25.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:30:24.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c77c85eb42ce8ef23dd6a2739e50fa55926a82b', 'message': 'DNM - Test rbd unshelve fix on stable stein\n\nDepends-On: https://review.opendev.org/#/c/668125/\nChange-Id: I804dbe7a6d43a670471c773c12cf3da7664a2c19\n'}]",0,668126,1c77c85eb42ce8ef23dd6a2739e50fa55926a82b,5,2,1,10135,,,0,"DNM - Test rbd unshelve fix on stable stein

Depends-On: https://review.opendev.org/#/c/668125/
Change-Id: I804dbe7a6d43a670471c773c12cf3da7664a2c19
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/668126/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,1c77c85eb42ce8ef23dd6a2739e50fa55926a82b,bug/1653953,,,0,0
openstack%2Fnetworking-ovn~stable%2Fstein~I1251f33a2a93b0d99574dc94ca000b1f4eb9be99,openstack/networking-ovn,stable/stein,I1251f33a2a93b0d99574dc94ca000b1f4eb9be99,Set ostestr concurrency to 0 to fix networking-ovn gate,MERGED,2019-06-27 12:18:28.000000000,2019-06-28 15:38:21.000000000,2019-06-28 15:38:21.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 12:18:28.000000000', 'files': ['tools/ostestr_compat_shim.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c243b5b68a4b3a1314f134cb8fc71129f5d3bc6f', 'message': 'Set ostestr concurrency to 0 to fix networking-ovn gate\n\nCurrently due to an incompatibility between stestr-2.3.1 and os-testr,\ngate jobs are failing in networking-ovn. This is because ostestr passes\n--concurrency None to stestr and after [1] merged, stestr\nis expecting only integer values. Till [2] is not released in the\nupdated stestr version, run stestr with --concurrency 0.\n--concurrency 0 allows to run as many jobs as there are CPUs in the\nsystem, allowing parallel execution in stestr.\nThis temporarily fixes the issue with tox and the gate failures\nresulting because of this inconsistency. Once [2] is released, this\nchange can be reverted.\n\n[1]: https://github.com/mtreinish/stestr/commit/c93bc81\n[2]: https://github.com/mtreinish/stestr/commit/ac8dac0\n\nRelated-Bug: #1827834\nChange-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99\n(cherry picked from commit b04a2341126becbd7b449be6950cfaae4b01a2e5)\n'}]",0,667910,c243b5b68a4b3a1314f134cb8fc71129f5d3bc6f,8,3,1,6773,,,0,"Set ostestr concurrency to 0 to fix networking-ovn gate

Currently due to an incompatibility between stestr-2.3.1 and os-testr,
gate jobs are failing in networking-ovn. This is because ostestr passes
--concurrency None to stestr and after [1] merged, stestr
is expecting only integer values. Till [2] is not released in the
updated stestr version, run stestr with --concurrency 0.
--concurrency 0 allows to run as many jobs as there are CPUs in the
system, allowing parallel execution in stestr.
This temporarily fixes the issue with tox and the gate failures
resulting because of this inconsistency. Once [2] is released, this
change can be reverted.

[1]: https://github.com/mtreinish/stestr/commit/c93bc81
[2]: https://github.com/mtreinish/stestr/commit/ac8dac0

Related-Bug: #1827834
Change-Id: I1251f33a2a93b0d99574dc94ca000b1f4eb9be99
(cherry picked from commit b04a2341126becbd7b449be6950cfaae4b01a2e5)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/667910/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ostestr_compat_shim.sh'],1,c243b5b68a4b3a1314f134cb8fc71129f5d3bc6f,bug/1827834,"# TODO(Reedip) remove --concurrency 0 once stestr is fixed (*--*) ostestr --concurrency 0 $@;; ('') ostestr --concurrency 0;; (*) ostestr --concurrency 0 --regex ""$@"""," (*--*) ostestr $@;; ('') ostestr;; (*) ostestr --regex ""$@""",4,4
openstack%2Fkolla-ansible~stable%2Fstein~I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e,openstack/kolla-ansible,stable/stein,I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e,Make nova external ceph key extraction tasks non-changing,MERGED,2019-06-27 11:34:29.000000000,2019-06-28 15:35:07.000000000,2019-06-28 15:35:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-27 11:34:29.000000000', 'files': ['ansible/roles/nova/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/282ff67c76a55cbacaeea2755c652ef716c67828', 'message': 'Make nova external ceph key extraction tasks non-changing\n\nThey are used only to obtain keys for the next task.\n\nChange-Id: I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit cc058f45862d87675ddf02d50bea6c557f4c4ce1)\n'}]",0,667905,282ff67c76a55cbacaeea2755c652ef716c67828,7,3,1,30491,,,0,"Make nova external ceph key extraction tasks non-changing

They are used only to obtain keys for the next task.

Change-Id: I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit cc058f45862d87675ddf02d50bea6c557f4c4ce1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/667905/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/external_ceph.yml'],1,282ff67c76a55cbacaeea2755c652ef716c67828,more-idempotency-stable/stein, changed_when: false changed_when: false,,2,0
openstack%2Fkolla-ansible~stable%2Fstein~I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,openstack/kolla-ansible,stable/stein,I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,Disable and remove OracleLinux CI jobs,MERGED,2019-06-28 06:33:30.000000000,2019-06-28 15:35:06.000000000,2019-06-28 15:35:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-28 06:33:30.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff8dff6558373b2e6be71912d1ed075bf2a19682', 'message': 'Disable and remove OracleLinux CI jobs\n\nWe have agreed to remove support for Oracle Linux, starting by\ndisabling\nthe CI jobs.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html\n\nChange-Id: I79f6ec98383b1f59b8317a3720f6f9923d6bb21d\n(cherry picked from commit 6b87514b146cc86226be478223838e28925dc63b)\n'}]",0,668096,ff8dff6558373b2e6be71912d1ed075bf2a19682,7,3,1,24072,,,0,"Disable and remove OracleLinux CI jobs

We have agreed to remove support for Oracle Linux, starting by
disabling
the CI jobs.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: I79f6ec98383b1f59b8317a3720f6f9923d6bb21d
(cherry picked from commit 6b87514b146cc86226be478223838e28925dc63b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/668096/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,ff8dff6558373b2e6be71912d1ed075bf2a19682,disable-oracle-linux-jobs-stable/stein,, name: kolla-ansible-oraclelinux-source parent: kolla-ansible-base nodeset: kolla-ansible-centos voting: false vars: base_distro: oraclelinux install_type: source - job: name: kolla-ansible-oraclelinux-binary parent: kolla-ansible-base nodeset: kolla-ansible-centos voting: false vars: base_distro: oraclelinux install_type: binary - job: name: kolla-ansible-oraclelinux-source-ceph parent: kolla-ansible-base nodeset: kolla-ansible-centos-multi timeout: 9000 voting: false vars: base_distro: oraclelinux install_type: source scenario: ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job:,0,38
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8fe302607544653032a011f1c932647adec5bfa0,openstack/tripleo-heat-templates,stable/stein,I8fe302607544653032a011f1c932647adec5bfa0,Refactor ovn_dbs upgrade_tasks.,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 15:24:57.000000000,2019-06-28 15:24:56.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2accf4d25d87d3be6b1aaf3772d00252a2364f60', 'message': ""Refactor ovn_dbs upgrade_tasks.\n\nReorder the upgrade_tasks for the ovn_dbs service in a similar way\nit's being done for the rest of pacemaker managed services. Also,\nensure indempotency in the case the cluster is down as it will occur\nfor the S to R upgrades workflow.\n\nPartial-Bug: #1831690\nChange-Id: I8fe302607544653032a011f1c932647adec5bfa0\n(cherry picked from commit 05f4b253b84526850959f1b827a261b7573c006c)\n""}]",0,667141,2accf4d25d87d3be6b1aaf3772d00252a2364f60,8,4,1,8042,,,0,"Refactor ovn_dbs upgrade_tasks.

Reorder the upgrade_tasks for the ovn_dbs service in a similar way
it's being done for the rest of pacemaker managed services. Also,
ensure indempotency in the case the cluster is down as it will occur
for the S to R upgrades workflow.

Partial-Bug: #1831690
Change-Id: I8fe302607544653032a011f1c932647adec5bfa0
(cherry picked from commit 05f4b253b84526850959f1b827a261b7573c006c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/667141/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,2accf4d25d87d3be6b1aaf3772d00252a2364f60,bug/1831690," - when: step|int == 0 tags: common block: - name: Get docker ovn-dbs image set_fact: ovn_dbs_docker_image: {get_param: DockerOvnDbsImage} ovn_dbs_docker_image_latest: *ovn_dbs_image_pcmklatest - name: set is_ovn_dbs_bootstrap_node fact set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower}} - name: Check ovn-dbs-bundle cluster resource status pacemaker_resource: resource: ovn-dbs-bundle state: show check_mode: false ignore_errors: true register: ovndbs_pcs_result - name: Set fact ovndbs_pcs_res set_fact: ovndbs_pcs_res: ""{{ ovndbs_pcs_result|succeeded }}"" - name: Prepare the switch to new ovn-dbs container image name in pacemaker block: - name: Get ovn-dbs image id currently used by pacemaker shell: ""{{container_cli}} images | awk '/ovn.* pcmklatest/{print $3}' | uniq"" register: ovn_dbs_current_pcmklatest_id - name: Temporarily tag the current ovn-dbs pcmklatest image id with the upgraded image name container_image: ""{{ovn_dbs_current_pcmklatest_id.stdout}}"" pull_image: false when: ovn_dbs_current_pcmklatest_id.stdout != '' # If ovn-dbs image is not tagged with pcmklatest, then create a new # tag. This could happen if the stack is upgraded without updating the stack before. # In the next step, the block 'ovn_dbs_update_bundle_with_new_image' # will update the ovn-dbs-bundle resource to use the tagged image. # And in step 3, we will fetch the latest image. Ensure we run these # steps when the resource is up and running, otherwise the tagging # will fail. - block: - name: Get the present image used by ovn-dbs-bundle shell: ""pcs resource show ovn-dbs-bundle | grep image | awk '{ split($2, image, \""=\""); print image[2] }'"" register: ovn_dbs_current_image - name: Tag the current image with pcmklatest tag import_role: name: tripleo-container-tag vars: container_image: ""{{ovn_dbs_current_image.stdout}}"" container_image_latest: ""{{ovn_dbs_docker_image_latest}}"" when: - ovn_dbs_current_pcmklatest_id.stdout == '' - ovndbs_pcs_res - ovndbs_pcs_res"," - name: Stop and disable ovn-northd service when: step|int == 1 service: name=ovn-northd state=stopped enabled=no ignore_errors: true - name: Get docker ovn-dbs image set_fact: ovn_dbs_docker_image: {get_param: DockerOvnDbsImage} ovn_dbs_docker_image_latest: *ovn_dbs_image_pcmklatest - name: set is_ovn_dbs_bootstrap_node fact set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower}} - name: Prepare the switch to new ovn-dbs container image name in pacemaker when: - step|int == 0 block: - name: Get ovn-dbs image id currently used by pacemaker shell: ""{{container_cli}} images | awk '/ovn.* pcmklatest/{print $3}' | uniq"" register: ovn_dbs_current_pcmklatest_id - name: Temporarily tag the current ovn-dbs pcmklatest image id with the upgraded image name import_role: name: tripleo-container-tag vars: container_image: ""{{ovn_dbs_current_pcmklatest_id.stdout}}"" container_image_latest: ""{{ovn_dbs_docker_image_latest}}"" pull_image: false when: ovn_dbs_current_pcmklatest_id.stdout != '' # If ovn-dbs image is not tagged with pcmklatest, then create a new # tag. This could happen if the stack is upgraded without updating the stack before. # In the next step, the block 'ovn_dbs_update_bundle_with_new_image' # will update the ovn-dbs-bundle resource to use the tagged image. # And in step 3, we will fetch the latest image. - block: - name: Get the present image used by ovn-dbs-bundle shell: ""pcs resource show ovn-dbs-bundle | grep image | awk '{ split($2, image, \""=\""); print image[2] }'"" register: ovn_dbs_current_image - name: Tag the current image with pcmklatest tag container_image: ""{{ovn_dbs_current_image.stdout}}"" when: - ovn_dbs_current_pcmklatest_id.stdout == '' - name: Check ovn-dbs-bundle cluster resource status pacemaker_resource: resource: ovn-dbs-bundle state: show check_mode: false ignore_errors: true register: ovndbs_pcs_res - ovndbs_pcs_res|succeeded",48,45
openstack%2Fcloudkitty~master~Icfa6f07857d8afba91a2825c051b1d4b3449040e,openstack/cloudkitty,master,Icfa6f07857d8afba91a2825c051b1d4b3449040e,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-27 02:13:23.000000000,2019-06-28 15:23:00.000000000,2019-06-27 08:03:07.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-27 02:13:23.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/22e8c9337ef908886dc0a6f0bfed570a15101480', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Icfa6f07857d8afba91a2825c051b1d4b3449040e\n'}]",0,667770,22e8c9337ef908886dc0a6f0bfed570a15101480,8,9,1,27822,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: Icfa6f07857d8afba91a2825c051b1d4b3449040e
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/70/667770/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,22e8c9337ef908886dc0a6f0bfed570a15101480,openstackdocstheme,openstackdocstheme==1.30.0 # Apache-2.0,openstackdocstheme==1.20.0 # Apache-2.0,2,2
openstack%2Fcloudkitty-dashboard~master~I5abdccda5c90b89362d7c16f11cd6a328c71d43f,openstack/cloudkitty-dashboard,master,I5abdccda5c90b89362d7c16f11cd6a328c71d43f,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-27 09:00:40.000000000,2019-06-28 15:22:17.000000000,2019-06-28 07:42:54.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-27 09:00:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/81cec204207643518a30a74ae0f78bdfa95b2aa4', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I5abdccda5c90b89362d7c16f11cd6a328c71d43f\n'}]",0,667817,81cec204207643518a30a74ae0f78bdfa95b2aa4,8,9,1,27822,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I5abdccda5c90b89362d7c16f11cd6a328c71d43f
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/17/667817/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,81cec204207643518a30a74ae0f78bdfa95b2aa4,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fheat~master~I76c6427b7bbdac2af3b7f01aff1b0541e56b3653,openstack/heat,master,I76c6427b7bbdac2af3b7f01aff1b0541e56b3653,Add doc for multi-clouds support,MERGED,2019-04-02 04:57:55.000000000,2019-06-28 15:16:02.000000000,2019-06-28 15:16:02.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-02 04:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/237c59625a51c7a5bb66a1a7116276b38af041ce', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}, {'number': 2, 'created': '2019-04-02 05:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4d92c5ab784baf2d5252e0260062285cb41d4c03', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}, {'number': 3, 'created': '2019-04-02 06:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/149f8e5e253ba6128b462e80a51369cbd0d9c7c6', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}, {'number': 4, 'created': '2019-04-03 13:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/500ab5d442ad37f04610d949855cd8a3d1dd809b', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}, {'number': 5, 'created': '2019-04-04 05:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b7118d94c782d847690b2ef2e79925f6413d5e5e', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}, {'number': 6, 'created': '2019-04-11 07:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c5b6cdd7d003cdb798f780fa32df3304e3904be', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}, {'number': 7, 'created': '2019-06-25 07:37:34.000000000', 'files': ['doc/source/template_guide/feature_guide.rst', 'doc/source/template_guide/multi-clouds.rst', 'doc/source/template_guide/index.rst', 'releasenotes/notes/add_doc_for_multi_cloud_support-9f6e74ccc2639b4e.yaml', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/fdb5e892bf1004dcee28537fe429ea90b9152807', 'message': 'Add doc for multi-clouds support\n\nAdd doc for multi-clouds support in template guide.\n\nAlso remove redundant credential information in multi-clouds\nintegration test.\n\nChange-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653\nStory: #2002126\nTask: #19808\n'}]",6,649220,fdb5e892bf1004dcee28537fe429ea90b9152807,30,6,7,12404,,,0,"Add doc for multi-clouds support

Add doc for multi-clouds support in template guide.

Also remove redundant credential information in multi-clouds
integration test.

Change-Id: I76c6427b7bbdac2af3b7f01aff1b0541e56b3653
Story: #2002126
Task: #19808
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/649220/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/template_guide/feature_guide.rst', 'doc/source/template_guide/multi-clouds.rst', 'doc/source/template_guide/index.rst', 'releasenotes/notes/add_doc_for_multi_cloud_support-9f6e74ccc2639b4e.yaml', 'heat_integrationtests/prepare_test_env.sh']",5,237c59625a51c7a5bb66a1a7116276b38af041ce,bp/multiple-cloud-support," export OS_CREDENTIAL_SECRET_ID=$(openstack secret store -n heat-multi-cloud-test-cred --payload '{""auth_type"": ""v3applicationcredential"", ""auth"": {""auth_url"": $OS_AUTH_URL, ""application_credential_id"": $app_cred_id, ""application_credential_secret"": ""secret""}}')"," export OS_CREDENTIAL_SECRET_ID=$(openstack secret store -n heat-multi-cloud-test-cred --payload '{""auth_type"": ""v3applicationcredential"", ""auth"": {""auth_url"": $OS_AUTH_URL, ""application_credential_id"": $app_cred_id, ""application_credential_secret"": ""secret""}, ""roles"": [""admin""], ""project_id"": $app_cred_project_id}')",198,1
openstack%2Fneutron~master~Id27326d5deae78ebfad1012efb507fde9e6c1453,openstack/neutron,master,Id27326d5deae78ebfad1012efb507fde9e6c1453,"Disable ""of_inactivity_probe"" in fullstack tests",MERGED,2019-06-24 10:48:12.000000000,2019-06-28 15:15:58.000000000,2019-06-28 15:15:58.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-24 10:48:12.000000000', 'files': ['neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8078469a8693bfa637e607ed848b918e3048ec9', 'message': 'Disable ""of_inactivity_probe"" in fullstack tests\n\nDisable the inactivity probe during the fullstack tests. This probe\nis not tracked nor controller during these tests and usually make\nthem more unstable. As seen in the bug report, in loaded CI nodes,\nsometimes the probe raises an error, stopping the current test:\n\n  reconnect|ERR|tcp:127.0.0.1:56401: no response to inactivity probe\n    after 5 seconds, disconnecting\n\nChange-Id: Id27326d5deae78ebfad1012efb507fde9e6c1453\nCloses-Bug: #1833386\n'}]",0,667064,d8078469a8693bfa637e607ed848b918e3048ec9,30,5,1,16688,,,0,"Disable ""of_inactivity_probe"" in fullstack tests

Disable the inactivity probe during the fullstack tests. This probe
is not tracked nor controller during these tests and usually make
them more unstable. As seen in the bug report, in loaded CI nodes,
sometimes the probe raises an error, stopping the current test:

  reconnect|ERR|tcp:127.0.0.1:56401: no response to inactivity probe
    after 5 seconds, disconnecting

Change-Id: Id27326d5deae78ebfad1012efb507fde9e6c1453
Closes-Bug: #1833386
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/667064/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/resources/config.py'],1,d8078469a8693bfa637e607ed848b918e3048ec9,bug/1833386," 'bridge_mappings': '%s:%s' % (PHYSICAL_NETWORK_NAME, ext_dev), 'of_inactivity_probe': '0',"," 'bridge_mappings': '%s:%s' % (PHYSICAL_NETWORK_NAME, ext_dev)",2,1
openstack%2Fkolla~stable%2Fqueens~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,stable/queens,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-27 09:11:04.000000000,2019-06-28 15:10:27.000000000,2019-06-28 15:10:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 09:11:04.000000000', 'files': ['docker/ceph/ceph-nfs/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/69a7cb5e9061abb474e9ffb9202cbf67c6114f6f', 'message': 'Fix deployment of ceph-nfs container failing due to wrong USER\n\nThe startup script requires to be run as root, not ceph.\nAll other ceph images follow this rule.\n\nAlso removed redundant blank line.\n\nChange-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)\n'}]",0,667826,69a7cb5e9061abb474e9ffb9202cbf67c6114f6f,14,5,1,14826,,,0,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/667826/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-nfs/Dockerfile.j2'],1,69a7cb5e9061abb474e9ffb9202cbf67c6114f6f,fix-ceph-nfs-deploy-stable/queens,, USER ceph,0,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,stable/stein,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-27 08:09:53.000000000,2019-06-28 15:09:13.000000000,2019-06-28 15:09:13.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 30133}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-27 08:09:53.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1425671a384f1634a8057c5ef6fbbe954f1ba4e0', 'message': 'Add /run/libvirt to nova_migration_target container\n\n[1] removed the bind mount from /run inside the nova_migration_target\ncontainer. But the nova-migration-wrapper inside the container needs\naccess to the libvirt socket [2].\n\nThis adds the bind mount of /run/libvirt to the nova_migration_target\ncontainer to fix live migration issues.\n\n[1] https://review.opendev.org/#/c/662109/\n[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31\n\nChange-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015\nCloses-Bug: #1834330\n(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)\n'}]",0,667804,1425671a384f1634a8057c5ef6fbbe954f1ba4e0,16,10,1,17216,,,0,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/667804/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-migration-target-container-puppet.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml']",2,1425671a384f1634a8057c5ef6fbbe954f1ba4e0,bug/1834330,--- fixes: - | https://review.opendev.org/#/c/662109/ removed the bind mount from /run inside the nova_migration_target container. But the nova-migration-wrapper inside the container needs access to the libvirt socket - https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31 . This adds the bind mount of /run/libvirt to the nova_migration_target container to fix live migration issues. ,,10,0
openstack%2Fopenstack-helm-images~master~I9eba37a10b815b83f09560ec678805fe17bda788,openstack/openstack-helm-images,master,I9eba37a10b815b83f09560ec678805fe17bda788,Add Dockerfile and make file for etcdctl-Utility container,ABANDONED,2019-05-15 16:21:53.000000000,2019-06-28 15:01:14.000000000,,"[{'_account_id': 8898}, {'_account_id': 13486}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 29131}, {'_account_id': 29298}, {'_account_id': 30315}, {'_account_id': 30355}, {'_account_id': 30358}]","[{'number': 1, 'created': '2019-05-15 16:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/19db16c66530485236bf9c48e71f6b0329e22216', 'message': '[WIP] Add Dockerfile and make file for etcdctl-Utility container.\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 2, 'created': '2019-05-15 16:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f357f5ef8730f4cc422377247213dc88eb292af9', 'message': 'Add Dockerfile and make file for etcdctl-Utility container.\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 3, 'created': '2019-05-15 16:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b38f1411bf788dd6908765661280872dd23f122d', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis is used to validate etcdctl Utility Container\nis functioning as expected\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 4, 'created': '2019-05-15 18:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bafab7fbec31ba74500c4d0c9cef4c8f2936ec5b', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis is used to validate etcdctl Utility Container\nis functioning as expected\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 5, 'created': '2019-05-15 18:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/38dcdb89cad2aded432ee28d1e1431c4d6166b8c', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis is used to validate etcdctl Utility Container\nis functioning as expected\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 6, 'created': '2019-05-15 19:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/32011c21fabbb1a19fa85d4f6a0a0fb766090b01', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis is used to validate etcdctl Utility Container\nis functioning as expected\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 7, 'created': '2019-05-15 19:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5d4f2351896196de1a60f32354612ffb20425d21', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis is used to validate etcdctl Utility Container\nis functioning as expected\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 8, 'created': '2019-05-15 20:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/804390a1880c0b24b27da2902179cd4132f8de70', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis is used to validate etcdctl Utility Container\nis functioning as expected\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 9, 'created': '2019-05-16 18:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f92fa935dc35565bf4bf0ad233910fad0c35cd32', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis etcdctl utility container will help the Operation user\nto check the state/stats of etcdctl resources in the K8s Cluster\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 10, 'created': '2019-05-16 19:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3b5e81dc3f8c589dabae88888b6a322a12f0425e', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis etcdctl utility container will help the Operation user\nto check the state/stats of etcdctl resources in the K8s Cluster\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}, {'number': 11, 'created': '2019-06-14 10:54:27.000000000', 'files': ['zuul.d/etcdctl-utility.yaml', 'etcdctl-utility/build.sh', 'etcdctl-utility/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/52b9230ba8cd8579c9070b55c17cf748b23d75d5', 'message': 'Add Dockerfile and make file for etcdctl-Utility container\n\nThis etcdctl utility container will help the Operation user\nto check the state/stats of etcdctl resources in the K8s Cluster\n\nChange-Id: I9eba37a10b815b83f09560ec678805fe17bda788\n'}]",9,659336,52b9230ba8cd8579c9070b55c17cf748b23d75d5,35,11,11,29298,,,0,"Add Dockerfile and make file for etcdctl-Utility container

This etcdctl utility container will help the Operation user
to check the state/stats of etcdctl resources in the K8s Cluster

Change-Id: I9eba37a10b815b83f09560ec678805fe17bda788
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/36/659336/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/etcdctl-utility.yaml', 'etcdctl-utility/build.sh', 'etcdctl-utility/Dockerfile.ubuntu_xenial']",3,19db16c66530485236bf9c48e71f6b0329e22216,,"ARG FROM=docker.io/ubuntu:xenial FROM ${FROM} ARG ETCDCTL_VERSION=3.2.18 ARG KUBE_VERSION=1.12.2 RUN set -xe \ && export DEBIAN_FRONTEND=noninteractive \ && apt-get update && apt-get dist-upgrade -y \ && apt-get update && apt-get install -y bash python-oslo.rootwrap moreutils vim sudo screen rsyslog \ && TMP_DIR=$(mktemp --directory) \ && cd ${TMP_DIR} \ && curl -sSL https://github.com/coreos/etcd/releases/download/v${ETCDCTL_VERSION}/etcd-v${ETCDCTL_VERSION}-linux-amd64.tar.gz | tar xfz - ;\ && mv ${TMP_DIR}/etcd-v${ETCDCTL_VERSION}-linux-amd64/etcdctl /usr/local/bin/etcdctl ;\ && chmod +xr /usr/local/bin/etcdctl ;\ && curl -sSL https://dl.k8s.io/v${KUBE_VERSION}/kubernetes-client-linux-amd64.tar.gz | tar -zxv --strip-components=1 \ && mv ${TMP_DIR}/client/bin/kubectl /usr/bin/kubectl \ && chmod +x /usr/bin/kubectl \ && apt-get remove --purge -y wget apt-transport-https && apt-get autoremove -y && apt-get clean && rm -rf /var/lib/apt/lists/* \ && rm -rf ${TMP_DIR} CMD [""/bin/bash""] ",,92,0
openstack%2Fneutron~stable%2Fstein~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,stable/stein,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-26 08:10:43.000000000,2019-06-28 14:59:57.000000000,2019-06-28 14:59:57.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-26 08:10:43.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/350436991874bbec9cb9c846f6314c3a13098060', 'message': 'Turn CIDR in query filter into proper subnet\n\nUse netaddr.IPNetwork to convert CIDRs in a query\ninto proper subnets.\n\nWhen creating subnets the CIDR is converted into\na proper subnet. i.e a subnet can be created with\ncidr=10.0.0.11/24 in the create request. On create\nthe cidr is turned into a proper subnet resulting\nin a subnet with cidr=10.0.0.0/24.\n\nThis change does the same to CIDRs when used as\nquery filters during a list subnet request, so\nthat the same value that was used to create the\nsubnet can be used to find the subnet.\n\nCloses-Bug: #1831811\nChange-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6\n(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)\n'}]",0,667541,350436991874bbec9cb9c846f6314c3a13098060,16,6,1,24245,,,0,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
(cherry picked from commit af773557323580c7b07bd41dd1f524e81530c939)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/667541/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py']",2,350436991874bbec9cb9c846f6314c3a13098060,bug/1831811-stable/stein," def test_list_subnets_filtering_by_cidr_used_on_create(self): with self.network() as network: with self.subnet(network=network, gateway_ip='10.0.0.1', cidr='10.0.0.11/24') as v1,\ self.subnet(network=network, gateway_ip='10.0.1.1', cidr='10.0.1.11/24') as v2: subnets = (v1, v2) query_params = ('cidr=10.0.0.11/24&cidr=10.0.1.11/24') self._test_list_resources('subnet', subnets, query_params=query_params) ",,17,0
openstack%2Fopenstack-helm-images~master~Ifef229b2ce83e9ac62e5676aed87c6c1b495618a,openstack/openstack-helm-images,master,Ifef229b2ce83e9ac62e5676aed87c6c1b495618a,Build Script and Docker file for openstack-utility containers,ABANDONED,2019-04-29 21:33:16.000000000,2019-06-28 14:44:52.000000000,,"[{'_account_id': 12281}, {'_account_id': 13486}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22713}, {'_account_id': 23928}, {'_account_id': 29131}, {'_account_id': 29298}, {'_account_id': 29367}, {'_account_id': 30315}, {'_account_id': 30355}]","[{'number': 1, 'created': '2019-04-29 21:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/450ecb8275f19a2f41a9b02985b4692001dca34a', 'message': 'Build Script and Docker file for openstack-utility containers\n\nChange-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a\n'}, {'number': 2, 'created': '2019-04-29 21:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ef6557db5fb10b2e3109cc91afa0ea39689836a5', 'message': 'Build Script and Docker file for openstack-utility containers\n\nChange-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a\n'}, {'number': 3, 'created': '2019-04-30 18:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c1ab3848bff91bd45ad8a70b2af8a12ea25c260f', 'message': 'Build Script and Docker file for openstack-utility containers\n\nChange-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a\n'}, {'number': 4, 'created': '2019-05-01 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bab0f73038606580ced276c41d9e14073f1d1daf', 'message': 'Build Script and Docker file for openstack-utility containers\n\nChange-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a\n'}, {'number': 5, 'created': '2019-05-01 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/56e8aca6508dca6a6787fbb2b839f34969289ca0', 'message': 'Build Script and Docker file for openstack-utility containers\n\nChange-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a\n'}, {'number': 6, 'created': '2019-05-16 18:45:40.000000000', 'files': ['zuul.d/openstack-utility.yaml', 'openstack-utility/build.sh', 'openstack-utility/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0cc229381cdeabacc3604ae11b78684c833aa2b7', 'message': 'Build Script and Docker file for openstack-utility containers\n\nChange-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a\n'}]",4,656407,0cc229381cdeabacc3604ae11b78684c833aa2b7,43,11,6,29131,,,0,"Build Script and Docker file for openstack-utility containers

Change-Id: Ifef229b2ce83e9ac62e5676aed87c6c1b495618a
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/07/656407/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack-utility/build.sh', 'openstack-utility/Dockerfile.ubuntu_xenial']",2,450ecb8275f19a2f41a9b02985b4692001dca34a,,"FROM ubuntu:16.04 RUN set -xe \ && echo '#!/bin/sh' > /usr/sbin/policy-rc.d \ && echo 'exit 101' >> /usr/sbin/policy-rc.d \ && chmod +x /usr/sbin/policy-rc.d \ && sed -i '/nobody/d' /etc/passwd \ && echo ""nobody:x:65534:65534:nobody:/nonexistent:/bin/bash"" >> /etc/passwd \ && dpkg-divert --local --rename --add /sbin/initctl \ && cp -a /usr/sbin/policy-rc.d /sbin/initctl \ && sed -i 's/^exit.*/exit 0/' /sbin/initctl \ && echo 'force-unsafe-io' > /etc/dpkg/dpkg.cfg.d/docker-apt-speedup \ && echo 'DPkg::Post-Invoke { ""rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin || true""; };' > /etc/apt/apt.conf.d/docker-clean \ && echo 'APT::Update::Post-Invoke { ""rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin || true""; };' >> /etc/apt/apt.conf.d/docker-clean \ && echo 'Dir::Cache::pkgcache """"; Dir::Cache::srcpkgcache """";' >> /etc/apt/apt.conf.d/docker-clean \ && echo 'Acquire::Languages ""none"";' > /etc/apt/apt.conf.d/docker-no-languages \ && echo 'Acquire::GzipIndexes ""true""; Acquire::CompressionTypes::Order:: ""gz"";' > /etc/apt/apt.conf.d/docker-gzip-indexes \ && echo 'Apt::AutoRemove::SuggestsImportant ""false"";' > /etc/apt/apt.conf.d/docker-autoremove-suggests \ && apt-get update && apt-get install -y bash moreutils vim sudo screen rsyslog x11-apps python-oslo.rootwrap python-openstackclient python-glanceclient python-novaclient python-neutronclient python-cinderclient python-heat python3-oslo.rootwrap python3-openstackclient python3-glanceclient python3-novaclient python3-neutronclient python3-cinderclient \ && apt-get clean && rm -rf /var/lib/apt/lists/* CMD [""/bin/bash""] ",,36,0
openstack%2Fcloudkitty~stable%2Frocky~Ia253175b45b8222aaee415ea535fa4102312be5a,openstack/cloudkitty,stable/rocky,Ia253175b45b8222aaee415ea535fa4102312be5a,Fix sqlalchemy grouping on v1 storage,MERGED,2019-06-28 09:18:44.000000000,2019-06-28 14:34:36.000000000,2019-06-28 12:52:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-28 09:18:44.000000000', 'files': ['cloudkitty/storage/v1/sqlalchemy/__init__.py', 'releasenotes/notes/fix-v1-storage-groupby-e865d1315bd390cb.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/df869e4588c937dc0e78680a3b9fe9d0fc937e57', 'message': 'Fix sqlalchemy grouping on v1 storage\n\nThis fixes ""CompileError: Can\'t resolve label reference for\nORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby\nexpression includes a comma.\n\nChange-Id: Ia253175b45b8222aaee415ea535fa4102312be5a\n(cherry picked from commit 5fef2d68f35577a62120ab64a2f67edf2522c259)\n'}]",2,668120,df869e4588c937dc0e78680a3b9fe9d0fc937e57,9,3,1,23060,,,0,"Fix sqlalchemy grouping on v1 storage

This fixes ""CompileError: Can't resolve label reference for
ORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby
expression includes a comma.

Change-Id: Ia253175b45b8222aaee415ea535fa4102312be5a
(cherry picked from commit 5fef2d68f35577a62120ab64a2f67edf2522c259)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/20/668120/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v1/sqlalchemy/__init__.py', 'releasenotes/notes/fix-v1-storage-groupby-e865d1315bd390cb.yaml']",2,df869e4588c937dc0e78680a3b9fe9d0fc937e57,fix-sqlalchemy-erros-v1-storage-stable/rocky,--- fixes: - | ``CompileError: Can't resolve label reference for ORDER BY / GROUP BY.`` errors that were sometimes raised by SQLAlchemy when using the v1 storage backend and grouping on ``tenant_id`` and ``res_type`` have been fixed. ,,7,1
openstack%2Fopenstack-ansible-os_octavia~master~If75b7c3c9367988734b464196fc119e89c65a573,openstack/openstack-ansible-os_octavia,master,If75b7c3c9367988734b464196fc119e89c65a573,db_setup: refactor database setup to a common file,MERGED,2019-06-12 13:17:18.000000000,2019-06-28 14:18:49.000000000,2019-06-28 14:18:49.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-12 13:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9046fca5c752756128b9dd6936f231c7535c1b3a', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: If75b7c3c9367988734b464196fc119e89c65a573\n'}, {'number': 2, 'created': '2019-06-26 14:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8d7c8faedb14b67ab592fc81ac7d1536ef5b65bd', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/667633\n\nChange-Id: If75b7c3c9367988734b464196fc119e89c65a573\n'}, {'number': 3, 'created': '2019-06-27 18:47:02.000000000', 'files': ['tasks/octavia_db_setup.yml', 'tasks/main.yml', 'tasks/db_setup.yml', 'tasks/octavia_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a4fa0be21bc4e3c75100c1a3bdfed3e934a6d531', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/667941\n\nChange-Id: If75b7c3c9367988734b464196fc119e89c65a573\n'}]",0,664888,a4fa0be21bc4e3c75100c1a3bdfed3e934a6d531,19,5,3,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Depends-On: https://review.opendev.org/667941

Change-Id: If75b7c3c9367988734b464196fc119e89c65a573
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/88/664888/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_db_setup.yml', 'tasks/main.yml', 'tasks/db_setup.yml', 'tasks/octavia_db_sync.yml']",4,9046fca5c752756128b9dd6936f231c7535c1b3a,osa/db-refactor,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Perform a octavia DB sync command: ""{{ octavia_bin }}/octavia-db-manage upgrade head"" become: yes become_user: ""{{ octavia_system_user_name }}"" changed_when: false ",,94,65
openstack%2Fopenstack-ansible-os_octavia~master~I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415,openstack/openstack-ansible-os_octavia,master,I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415,Add support for using distribution packages for OpenStack services,MERGED,2019-04-12 11:59:00.000000000,2019-06-28 14:18:48.000000000,2019-06-28 14:18:48.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 26647}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-12 11:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8140012b9b52535ce946922b35b2df691aec62d4', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 2, 'created': '2019-04-12 12:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f0d2183d8dc31ed5779103c996e78865b2af1354', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 3, 'created': '2019-04-12 13:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8b01173b0659086ee98bd9ebd762ce2f3980d84b', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 4, 'created': '2019-04-12 16:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/4a2bf594ebd69f7e861639d0d23e5ec91c92c0b8', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 5, 'created': '2019-04-12 19:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/71fdd406c385ca586490b3792a04dd5cbfa93f64', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 6, 'created': '2019-04-12 21:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9d91ab999b45d87d40bbd4561e9d05513f1ce907', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 7, 'created': '2019-04-13 01:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/29d01f97f3d5df3c0b6e8484a63d435b803aefec', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 8, 'created': '2019-04-18 15:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5214a834fbeae51e003e73633cc154ac3195bb11', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 9, 'created': '2019-04-20 12:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b2ebed47dbeb6bb4fc12288d427d0987d6bf8fce', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepend-On: https://review.opendev.org/653849\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 10, 'created': '2019-04-23 13:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/06d36f14481dd2b5f5807999d6ca626bcd56c60d', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepend-On: https://review.opendev.org/653849\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 11, 'created': '2019-05-06 17:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f28b35907f4e953d22df4f915e3883acff0dd115', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepend-On: https://review.opendev.org/653849\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 12, 'created': '2019-05-07 12:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/163051f4e2c8f56addb8805d1862d98070f67a92', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepends-On: https://review.opendev.org/653849\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 13, 'created': '2019-05-07 14:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ed2aac8ce1d48208dafa447cd9a45c86944476fb', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepends-On: https://review.opendev.org/653849\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 14, 'created': '2019-05-08 17:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2c76800c912f1f152fcb7def994af0268b5fa730', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepends-On: https://review.opendev.org/653849\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 15, 'created': '2019-06-27 08:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/be66b69ff0bb2e81b8643d5308cdcabe11cac7d9', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 16, 'created': '2019-06-27 12:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/3a6ccfb344dc14aa2648f5ce22d164280b296e8f', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nImplements: blueprint openstack-distribution-packages\n'}, {'number': 17, 'created': '2019-06-28 07:11:25.000000000', 'files': ['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'templates/octavia-uwsgi.ini.j2', 'tasks/octavia_install.yml', 'vars/debian.yml', 'defaults/main.yml', 'releasenotes/notes/openstack-distribution-packages-bc0d1d606a362ffc.yaml', 'vars/redhat-7.yml', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6aa925e792e6dc8f303d99595fb6406d22e95952', 'message': 'Add support for using distribution packages for OpenStack services\n\nDistributions provide packages for the OpenStack services so we add\nsupport for using these instead of the pip ones.\n\nChange-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nImplements: blueprint openstack-distribution-packages\n'}]",0,652049,6aa925e792e6dc8f303d99595fb6406d22e95952,53,6,17,26647,,,0,"Add support for using distribution packages for OpenStack services

Distributions provide packages for the OpenStack services so we add
support for using these instead of the pip ones.

Change-Id: I7eb1cbe2c80ee889d2ae08dcfed6a19cc1bd3415
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Implements: blueprint openstack-distribution-packages
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/49/652049/16 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'releasenotes/notes/openstack-distribution-packages-bc0d1d606a362ffc.yaml', 'templates/octavia-uwsgi.ini.j2', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'tasks/octavia_install.yml', 'zuul.d/project.yaml', 'tox.ini', 'defaults/main.yml']",11,8140012b9b52535ce946922b35b2df691aec62d4,bp/openstack-distribution-packages,"# Set installation method. octavia_install_method: ""source"" octavia_bin: ""{{ _octavia_bin }}"" execstarts: ""{{ octavia_uwsgi_bin }}/uwsgi --ini /etc/uwsgi/octavia-api.ini"" execreloads: ""{{ octavia_uwsgi_bin }}/uwsgi --reload /var/run/octavia-api/octavia-api.pid"" program_override: ""{{ octavia_uwsgi_bin }}/uwsgi --ini /etc/uwsgi/octavia-api.ini""","octavia_bin: ""/openstack/venvs/octavia-{{ octavia_venv_tag }}/bin"" execstarts: ""{{ octavia_bin }}/uwsgi --ini /etc/uwsgi/octavia-api.ini"" execreloads: ""{{ octavia_bin }}/uwsgi --reload /var/run/octavia-api/octavia-api.pid"" program_override: ""{{ octavia_bin }}/uwsgi --ini /etc/uwsgi/octavia-api.ini""",119,19
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6531563b4da8cf9a9c93a99243720def182f332b,openstack/tripleo-heat-templates,stable/stein,I6531563b4da8cf9a9c93a99243720def182f332b,Remove baremetal to containerized pacemaker upgrade_tasks.,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 13:57:48.000000000,2019-06-28 13:57:48.000000000,"[{'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0af8eb1c64a3079717c361b04523b0be228d3c1a', 'message': 'Remove baremetal to containerized pacemaker upgrade_tasks.\n\nNow that all pacemaker managed services are containerized\nthere is no need to keep these upgrade_tasks.\n\nPartial-Bug: #1831690\nChange-Id: I6531563b4da8cf9a9c93a99243720def182f332b\n(cherry picked from commit 0e6769b4b8225b780367e323b864e33571e21706)\n'}]",0,667140,0af8eb1c64a3079717c361b04523b0be228d3c1a,8,5,1,8042,,,0,"Remove baremetal to containerized pacemaker upgrade_tasks.

Now that all pacemaker managed services are containerized
there is no need to keep these upgrade_tasks.

Partial-Bug: #1831690
Change-Id: I6531563b4da8cf9a9c93a99243720def182f332b
(cherry picked from commit 0e6769b4b8225b780367e323b864e33571e21706)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/667140/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",10,0af8eb1c64a3079717c361b04523b0be228d3c1a,bug/1831690,," - name: Check for Rabbitmq Kolla configuration stat: path: /var/lib/config-data/puppet-generated/rabbitmq register: rabbit_kolla_config - name: Check if Rabbitmq is already containerized set_fact: rabbit_containerized: ""{{rabbit_kolla_config.stat.isdir | default(false)}}"" - name: Rabbitmq baremetal to container upgrade tasks when: - step|int == 1 - not rabbit_containerized|bool block: - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} check_mode: false state: show ignore_errors: true register: rabbitmq_res - when: (is_rpc_rabbitmq_bootstrap_node) and (rabbitmq_res|succeeded) block: - name: Disable the rabbitmq cluster resource. pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: disable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Delete the stopped rabbitmq cluster resource. pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: delete wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Disable rabbitmq service service: name=rabbitmq-server enabled=no - rabbit_containerized|bool - rabbit_containerized|bool - rabbit_containerized|bool",1,412
openstack%2Fopenstack-ansible-os_cinder~master~I4755fb3cfed4707cd06299c2ff97a5011c62f147,openstack/openstack-ansible-os_cinder,master,I4755fb3cfed4707cd06299c2ff97a5011c62f147,Convert dynamic includes to static imports,MERGED,2019-06-17 08:48:43.000000000,2019-06-28 13:49:18.000000000,2019-06-28 13:49:18.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-17 08:48:43.000000000', 'files': ['tasks/main.yml', 'tasks/cinder_backends.yml', 'tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/bb98ba104e5b28ae6a4a3c3ef2ea5053fc71ce6d', 'message': 'Convert dynamic includes to static imports\n\nWhen task/role files are included using include_tasks, tags are not\npassed to the included tasks. As a result, tags like neutron-config\ndo not have the intended effect. This patch changes include_tasks\nto import_tasks for all cases where dynamic vars or loops are not used\nso that tags are properly handled.\n\nReference -\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1815043\n\nChange-Id: I4755fb3cfed4707cd06299c2ff97a5011c62f147\n'}]",0,665612,bb98ba104e5b28ae6a4a3c3ef2ea5053fc71ce6d,7,3,1,28619,,,0,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like neutron-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I4755fb3cfed4707cd06299c2ff97a5011c62f147
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/12/665612/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/cinder_backends.yml', 'tasks/cinder_install.yml']",3,bb98ba104e5b28ae6a4a3c3ef2ea5053fc71ce6d,static_imports, import_tasks: cinder_install_source.yml import_role:, include_tasks: cinder_install_source.yml include_role:,15,15
openstack%2Fkolla-ansible~stable%2Fstein~I844ecb7bec94e561afb09580f58b1bf83a6d00bd,openstack/kolla-ansible,stable/stein,I844ecb7bec94e561afb09580f58b1bf83a6d00bd,Updating Jinja filters to conform to Ansible 2.5+,ABANDONED,2019-06-28 10:26:39.000000000,2019-06-28 13:48:19.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30322}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 10:26:39.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8c1cad7b6115bb03b2317ffe71044e3fe5521c4', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been\ndeprecated.\n\nI've run the script provided by the ansible team to 'fix' the\njinja filters to conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nChange-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd\nCloses-bug: #1827370\n(cherry picked from commit 84ea42bd7cf3c9931bab4729d6d7ef13940108ac)\n""}]",0,668140,e8c1cad7b6115bb03b2317ffe71044e3fe5521c4,7,4,1,30491,,,0,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been
deprecated.

I've run the script provided by the ansible team to 'fix' the
jinja filters to conform to the newer syntax.

This fixes the deprecation warnings.

Change-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd
Closes-bug: #1827370
(cherry picked from commit 84ea42bd7cf3c9931bab4729d6d7ef13940108ac)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/668140/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml']",13,e8c1cad7b6115bb03b2317ffe71044e3fe5521c4,bug/1827370-stable/stein," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') is search("".+"")"," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') | search("".+"")",117,118
openstack%2Fopenstack-ansible-os_keystone~master~I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f,openstack/openstack-ansible-os_keystone,master,I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f,Convert dynamic includes to static imports,MERGED,2019-06-13 13:47:04.000000000,2019-06-28 13:44:43.000000000,2019-06-28 13:44:43.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-13 13:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/f238dabf99b62d0f568fb7499c1607c8558a34b7', 'message': 'Convert dynamic includes to static imports\n\nWhen task/role files are included using include_tasks, tags are not\npassed to the included tasks. As a result, tags like neutron-config\ndo not have the intended effect. This patch changes include_tasks\nto import_tasks for all cases where dynamic vars or loops are not used\nso that tags are properly handled.\n\nReference -\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1815043\n\nChange-Id: I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f\n'}, {'number': 2, 'created': '2019-06-13 21:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/3cca21eab2ef20e74eb8c56b85c9b4cd52efda35', 'message': 'Convert dynamic includes to static imports\n\nWhen task/role files are included using include_tasks, tags are not\npassed to the included tasks. As a result, tags like neutron-config\ndo not have the intended effect. This patch changes include_tasks\nto import_tasks for all cases where dynamic vars or loops are not used\nso that tags are properly handled.\n\nReference -\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1815043\n\nDepends-On: https://review.opendev.org/665244/\nChange-Id: I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f\n'}, {'number': 3, 'created': '2019-06-28 09:29:11.000000000', 'files': ['tasks/main.yml', 'tasks/keystone_uwsgi.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a2783e4e3f84c2681093c90d5fd2daa0f91dac77', 'message': 'Convert dynamic includes to static imports\n\nWhen task/role files are included using include_tasks, tags are not\npassed to the included tasks. As a result, tags like neutron-config\ndo not have the intended effect. This patch changes include_tasks\nto import_tasks for all cases where dynamic vars or loops are not used\nso that tags are properly handled.\n\nReference -\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html\nhttps://bugs.launchpad.net/openstack-ansible/+bug/1815043\n\nDepends-On: https://review.opendev.org/665244/\nChange-Id: I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f\n'}]",0,665139,a2783e4e3f84c2681093c90d5fd2daa0f91dac77,19,5,3,28619,,,0,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like neutron-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Depends-On: https://review.opendev.org/665244/
Change-Id: I99cf83ef6bf99f23cdbe9d141c6bcf921e81265f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/39/665139/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/keystone_uwsgi.yml']",2,f238dabf99b62d0f568fb7499c1607c8558a34b7,static_imports, import_role:, include_role:,17,17
openstack%2Freleases~master~Idc14c85487f1c7185885de8c3bb7d06b9504df58,openstack/releases,master,Idc14c85487f1c7185885de8c3bb7d06b9504df58,training-labs stable/stein,MERGED,2019-06-22 16:16:43.000000000,2019-06-28 13:43:13.000000000,2019-06-28 13:43:13.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-22 16:16:43.000000000', 'files': ['deliverables/_independent/training-labs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ceec008503948023bd03e03feda02454ff77ab02', 'message': 'training-labs stable/stein\n\nChange-Id: Idc14c85487f1c7185885de8c3bb7d06b9504df58\n'}]",0,666961,ceec008503948023bd03e03feda02454ff77ab02,9,5,1,11109,,,0,"training-labs stable/stein

Change-Id: Idc14c85487f1c7185885de8c3bb7d06b9504df58
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/666961/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/training-labs.yaml'],1,ceec008503948023bd03e03feda02454ff77ab02,labs_stein, - name: stable/stein location: openstack/training-labs: 6eacdc7d8fc6c99b860b587aacd4b67064553046,,3,0
openstack%2Freleases~master~Id06794f165f0c852fb62dcacd53058bdc756899e,openstack/releases,master,Id06794f165f0c852fb62dcacd53058bdc756899e,Do not allow final without RC in cycle-with-rc,MERGED,2019-06-20 12:59:49.000000000,2019-06-28 13:43:09.000000000,2019-06-28 13:43:08.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 12:59:49.000000000', 'files': ['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/1bcdeaaa9f90b4276b0d3a73bbc785e66814450b', 'message': ""Do not allow final without RC in cycle-with-rc\n\nCurrently validation considers it valid to propose final versions\non a cycle-with-rc model without RC first:\n\nhttps://review.opendev.org/#/c/613444/2\n\nRelying on human review to catch that sounds risky. Let's fix it.\n\nChange-Id: Id06794f165f0c852fb62dcacd53058bdc756899e\nTask: 27762\n""}]",0,666562,1bcdeaaa9f90b4276b0d3a73bbc785e66814450b,8,4,1,308,,,0,"Do not allow final without RC in cycle-with-rc

Currently validation considers it valid to propose final versions
on a cycle-with-rc model without RC first:

https://review.opendev.org/#/c/613444/2

Relying on human review to catch that sounds risky. Let's fix it.

Change-Id: Id06794f165f0c852fb62dcacd53058bdc756899e
Task: 27762
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/666562/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py']",2,1bcdeaaa9f90b4276b0d3a73bbc785e66814450b,final-without-rc, # Milestone-based deliverables cannot directly do a final release if len(releases) == 1: if not releases[-1].is_pre_release_version: context.error('A RC release must be present before final release ' 'for deliverables following a milestone-based cycle'), if len(releases) < 2: print('this rule only applies to the final release in a series'),8,8
openstack%2Fcloudkitty~stable%2Fstein~Ia253175b45b8222aaee415ea535fa4102312be5a,openstack/cloudkitty,stable/stein,Ia253175b45b8222aaee415ea535fa4102312be5a,Fix sqlalchemy grouping on v1 storage,MERGED,2019-06-28 09:31:04.000000000,2019-06-28 13:39:45.000000000,2019-06-28 13:39:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-28 09:31:04.000000000', 'files': ['cloudkitty/storage/v1/sqlalchemy/__init__.py', 'releasenotes/notes/fix-v1-storage-groupby-e865d1315bd390cb.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5e16701f4787336dae9732f42399ed64192ec3e4', 'message': 'Fix sqlalchemy grouping on v1 storage\n\nThis fixes ""CompileError: Can\'t resolve label reference for\nORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby\nexpression includes a comma.\n\nChange-Id: Ia253175b45b8222aaee415ea535fa4102312be5a\n(cherry picked from commit 5fef2d68f35577a62120ab64a2f67edf2522c259)\n'}]",0,668127,5e16701f4787336dae9732f42399ed64192ec3e4,13,3,1,23060,,,0,"Fix sqlalchemy grouping on v1 storage

This fixes ""CompileError: Can't resolve label reference for
ORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby
expression includes a comma.

Change-Id: Ia253175b45b8222aaee415ea535fa4102312be5a
(cherry picked from commit 5fef2d68f35577a62120ab64a2f67edf2522c259)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/27/668127/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v1/sqlalchemy/__init__.py', 'releasenotes/notes/fix-v1-storage-groupby-e865d1315bd390cb.yaml']",2,5e16701f4787336dae9732f42399ed64192ec3e4,fix-sqlalchemy-erros-v1-storage-stable/stein,--- fixes: - | ``CompileError: Can't resolve label reference for ORDER BY / GROUP BY.`` errors that were sometimes raised by SQLAlchemy when using the v1 storage backend and grouping on ``tenant_id`` and ``res_type`` have been fixed. ,,7,1
openstack%2Fdiskimage-builder~master~Icb6d998756ce5221e017959dcb59b21f0f023454,openstack/diskimage-builder,master,Icb6d998756ce5221e017959dcb59b21f0f023454,Enable nodepool testing for opensuse 15.1,MERGED,2019-06-26 07:51:27.000000000,2019-06-28 13:28:35.000000000,2019-06-28 06:26:58.000000000,"[{'_account_id': 1}, {'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 07:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/73268d6f1d3f30255be0a52f2108c9f8c2a7f7cc', 'message': 'Enable nodepool testing for opensuse 15.x\n\nThere are several jobs depending on working opensuse 15.x\nimages in nodepool, so it makes sense to ensure its working.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 2, 'created': '2019-06-26 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c2df6938fce756bc04c6ce2183936078f5bc14f7', 'message': 'Enable nodepool testing for opensuse 15.x\n\nThere are several jobs depending on working opensuse 15.x\nimages in nodepool, so it makes sense to ensure its working.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 3, 'created': '2019-06-26 16:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/30803e58abbd08c05fc381f4e46fa92e23a4b92b', 'message': 'DNM: Enable nodepool testing for opensuse 15.x\n\nThere are several jobs depending on working opensuse 15.x\nimages in nodepool, so it makes sense to ensure its working.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 4, 'created': '2019-06-26 17:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cb3459a0c94af585615c78b238149089ffbbcd4f', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 5, 'created': '2019-06-26 20:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/85cdb2d0def33f4e9edc6dfd89850ce805d03e9b', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 6, 'created': '2019-06-26 20:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/296f16b99198aed8b4a1a6007cec3fe70d7b363b', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 7, 'created': '2019-06-26 20:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1ff4f17f3934e245939b37c5ad1fed2b3dfd7c4f', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/#/c/667720/\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 8, 'created': '2019-06-27 06:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/abbc04eff437b45330f96c46fd452996f4b3c94d', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/#/c/667720/\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 9, 'created': '2019-06-27 10:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cc051aaa7821b03e5200c58de87cfbc478bdad9e', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/667896\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 10, 'created': '2019-06-27 10:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f17abf04027c9ea65f085af64ac6e2659acc56f3', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/667896\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 11, 'created': '2019-06-27 15:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/daa2522422a55c1e34c90e0126b3dd08f0e8dcb8', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/667896\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 12, 'created': '2019-06-27 15:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/26500f0d8f31e074fa22932f67311d96a6e485d4', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/667896\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 13, 'created': '2019-06-27 16:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4433f08d86e9a10956a116879bf7758965fa5d19', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/667896\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 14, 'created': '2019-06-27 16:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7fa0efa851194c2b768320961e2ef4a1124a5e22', 'message': 'DNM: Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working.\n\nDepends-On: https://review.opendev.org/667896\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n'}, {'number': 15, 'created': '2019-06-27 17:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d7391d7ef09480212274fb58ab6e477f904f27d5', 'message': ""Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working and we'll need it in\nthe CI.\n\nDepends-On: https://review.opendev.org/667720\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n""}, {'number': 16, 'created': '2019-06-27 17:59:59.000000000', 'files': ['diskimage_builder/elements/simple-init/pkg-map', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/97444ad92edd1103e76bca65ceb7e40b23344abc', 'message': ""Enable nodepool testing for opensuse 15.1\n\nThere are several jobs depending on working opensuse 15.1\nimages in nodepool, so it makes sense to ensure its working.\nAlso upgrade the previously marked experimental opensuse-15.0\njob as it tests the xenial->opensuse combination, which is\nparticularly difficult to keep working and we'll need it in\nthe CI.\n\nChange-Id: Icb6d998756ce5221e017959dcb59b21f0f023454\n""}]",2,667537,97444ad92edd1103e76bca65ceb7e40b23344abc,59,6,16,6593,,,0,"Enable nodepool testing for opensuse 15.1

There are several jobs depending on working opensuse 15.1
images in nodepool, so it makes sense to ensure its working.
Also upgrade the previously marked experimental opensuse-15.0
job as it tests the xenial->opensuse combination, which is
particularly difficult to keep working and we'll need it in
the CI.

Change-Id: Icb6d998756ce5221e017959dcb59b21f0f023454
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/667537/16 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,73268d6f1d3f30255be0a52f2108c9f8c2a7f7cc,nodepool-func, name: dib-nodepool-functional-openstack-opensuse-15-src Test building and booting latest openSUSE 15.x image with Nodepool release: '15.1', name: dib-nodepool-functional-openstack-opensuse-150-src Test building and booting an openSUSE 15.0 image with Nodepool release: '15.0',5,5
openstack%2Fopenstack-ansible-galera_server~master~I0e46377f58118a6bf18ea3c7140167dec8a681c6,openstack/openstack-ansible-galera_server,master,I0e46377f58118a6bf18ea3c7140167dec8a681c6,Make mariadb bind address configurable,ABANDONED,2019-06-28 12:36:23.000000000,2019-06-28 13:08:27.000000000,,"[{'_account_id': 17068}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-28 12:36:23.000000000', 'files': ['templates/my.cnf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/054f6401ba0204f55c7d3dc1f697dfb92f9cb542', 'message': 'Make mariadb bind address configurable\n\nThis will make it possible to restrict the address mariadb\nlistens to, defaulting to everything.\n\nChange-Id: I0e46377f58118a6bf18ea3c7140167dec8a681c6\n'}]",1,668164,054f6401ba0204f55c7d3dc1f697dfb92f9cb542,4,2,1,17068,,,0,"Make mariadb bind address configurable

This will make it possible to restrict the address mariadb
listens to, defaulting to everything.

Change-Id: I0e46377f58118a6bf18ea3c7140167dec8a681c6
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/64/668164/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/my.cnf.j2', 'defaults/main.yml']",2,054f6401ba0204f55c7d3dc1f697dfb92f9cb542,make_bind_address_configurable,"galera_server_bind_address: ""::""",,2,1
openstack%2Ftempest~master~I090dd235dd7911aa9bb0eb13d8e65b501dc206fe,openstack/tempest,master,I090dd235dd7911aa9bb0eb13d8e65b501dc206fe,Add project prefix to blacklist,MERGED,2019-06-20 05:58:04.000000000,2019-06-28 13:04:25.000000000,2019-06-28 13:04:25.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-06-20 05:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fa2bc8aff311f88e8c6b242d023c783a5e4e9be3', 'message': 'Add project prefix to blacklist\n\nThis commit fixes to add prefixes to the blacklist. The blacklist was\nmoved to generate-tempest-plugins-list.py by the recent patch[0].\nHowever, the blacklist was updated by the other patch[1] before that.\nSo, it should have been updated correctly when the conflict was\noccurred.\n\n[0] I707aba930037e86f5f94dac73da957f5afacf935\n[1] Ieecb8989ff8959f1b2c0e5f2f6b8ea2c3ebbcaa9\n\nChange-Id: I090dd235dd7911aa9bb0eb13d8e65b501dc206fe\n'}, {'number': 2, 'created': '2019-06-20 07:24:23.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6617b834ff3066bb99785f9fb433ff8973c8f745', 'message': 'Add project prefix to blacklist\n\nThis commit fixes to add prefixes to the blacklist. The blacklist was\nmoved to generate-tempest-plugins-list.py by the recent patch[0].\nHowever, the blacklist was updated by the other patch[1] before that.\nSo, it should have been updated correctly when the conflict was\noccurred.\n\n[0] I707aba930037e86f5f94dac73da957f5afacf935\n[1] Ieecb8989ff8959f1b2c0e5f2f6b8ea2c3ebbcaa9\n\nChange-Id: I090dd235dd7911aa9bb0eb13d8e65b501dc206fe\n'}]",1,666492,6617b834ff3066bb99785f9fb433ff8973c8f745,17,5,2,5689,,,0,"Add project prefix to blacklist

This commit fixes to add prefixes to the blacklist. The blacklist was
moved to generate-tempest-plugins-list.py by the recent patch[0].
However, the blacklist was updated by the other patch[1] before that.
So, it should have been updated correctly when the conflict was
occurred.

[0] I707aba930037e86f5f94dac73da957f5afacf935
[1] Ieecb8989ff8959f1b2c0e5f2f6b8ea2c3ebbcaa9

Change-Id: I090dd235dd7911aa9bb0eb13d8e65b501dc206fe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/92/666492/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,fa2bc8aff311f88e8c6b242d023c783a5e4e9be3,fix-blacklist," 'openstack/barbican-tempest-plugin', # https://review.opendev.org/#/c/634631/ 'openstack/cyborg-tempest-plugin', # https://review.opendev.org/659687 'x/gce-api', # It looks gce-api doesn't support python3 yet. 'x/intel-nfv-ci-tests', # https://review.opendev.org/#/c/634640/ 'x/networking-ansible', # https://review.opendev.org/#/c/634647/ 'openstack/networking-generic-switch', # https://review.opendev.org/#/c/634846/ 'openstack/networking-l2gw-tempest-plugin', # https://review.opendev.org/#/c/635093/ 'openstack/networking-midonet', # https://review.opendev.org/#/c/635096/ 'x/networking-plumgrid', # https://review.opendev.org/#/c/635096/ 'x/networking-spp', # https://review.opendev.org/#/c/635098/ 'openstack/neutron-dynamic-routing', # https://review.opendev.org/#/c/637718/ 'openstack/neutron-vpnaas', # https://review.opendev.org/#/c/637719/ 'x/nova-lxd', # https://review.opendev.org/#/c/638334/ 'x/valet', # https://review.opendev.org/#/c/638339/"," 'barbican-tempest-plugin', # https://review.opendev.org/#/c/634631/ 'cyborg-tempest-plugin', # https://review.opendev.org/659687 'intel-nfv-ci-tests', # https://review.opendev.org/#/c/634640/ 'networking-ansible', # https://review.opendev.org/#/c/634647/ 'networking-generic-switch', # https://review.opendev.org/#/c/634846/ 'networking-l2gw-tempest-plugin', # https://review.opendev.org/#/c/635093/ 'networking-midonet', # https://review.opendev.org/#/c/635096/ 'networking-plumgrid', # https://review.opendev.org/#/c/635096/ 'networking-spp', # https://review.opendev.org/#/c/635098/ 'neutron-dynamic-routing', # https://review.opendev.org/#/c/637718/ 'neutron-vpnaas', # https://review.opendev.org/#/c/637719/ 'nova-lxd', # https://review.opendev.org/#/c/638334/ 'valet', # https://review.opendev.org/#/c/638339/",14,13
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iddf30278f0cb4eb93fcbd8dc829e247bfb534562,openstack/tripleo-heat-templates,stable/stein,Iddf30278f0cb4eb93fcbd8dc829e247bfb534562,Remove OpenStack packages right before upgrading the operating system,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 13:01:27.000000000,2019-06-28 13:01:27.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34450cc635e8dfc7e6f1bb406cb9e7fd978a2db5', 'message': ""Remove OpenStack packages right before upgrading the operating system\n\nThis could make the upgrade faster, but mainly it's less likely that\nsomething will go wrong when the node goes down for the offline\nupgrade. We want to minimize the chances of that happening, because\nsuch error is extremely unpleasant to deal with (restore from backup\nmight be the only solution at that point).\n\nPartial-Bug: #1831690\nChange-Id: Iddf30278f0cb4eb93fcbd8dc829e247bfb534562\n(cherry picked from commit bf8cde549b60a0621b9188a3d99f1610ba062009)\n""}]",0,667139,34450cc635e8dfc7e6f1bb406cb9e7fd978a2db5,8,4,1,8042,,,0,"Remove OpenStack packages right before upgrading the operating system

This could make the upgrade faster, but mainly it's less likely that
something will go wrong when the node goes down for the offline
upgrade. We want to minimize the chances of that happening, because
such error is extremely unpleasant to deal with (restore from backup
might be the only solution at that point).

Partial-Bug: #1831690
Change-Id: Iddf30278f0cb4eb93fcbd8dc829e247bfb534562
(cherry picked from commit bf8cde549b60a0621b9188a3d99f1610ba062009)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/667139/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,34450cc635e8dfc7e6f1bb406cb9e7fd978a2db5,bug/1831690," - name: remove all OpenStack packages shell: | yum -y remove *el7ost* -- \ -*openvswitch* \ -python2-babel \ -python2-dateutil \ -python2-ipaddress \ -python2-jinja2 \ -python2-markupsafe \ -python2-six when: upgrade_leapp_enabled - name: install leapp and required packages which may have been removed previously package: name: ""{{item}}"" loop: - leapp - subscription-manager", - name: install leapp package: name: leapp,16,2
openstack%2Fmonasca-notification~master~If04a02179d37f5d088881d5d960b3e44b90e1023,openstack/monasca-notification,master,If04a02179d37f5d088881d5d960b3e44b90e1023,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 06:40:38.000000000,2019-06-28 12:50:10.000000000,2019-06-28 12:50:10.000000000,"[{'_account_id': 8556}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-24 06:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/923373c11b07852c48f4cf06ac5e2163c20130c5', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: If04a02179d37f5d088881d5d960b3e44b90e1023\n'}, {'number': 2, 'created': '2019-06-28 11:06:36.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/99ee50666587a4a75269ef65b708de4869f92051', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: If04a02179d37f5d088881d5d960b3e44b90e1023\n'}]",0,667021,99ee50666587a4a75269ef65b708de4869f92051,12,4,2,29360,,,0,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: If04a02179d37f5d088881d5d960b3e44b90e1023
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/21/667021/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,923373c11b07852c48f4cf06ac5e2163c20130c5,python3-train,"envlist = py{27,36,37,py},pep8,cover","envlist = py{27,36,py},pep8,cover",3,3
openstack%2Fkuryr-kubernetes~master~I1cda59f96a939c3c5ebce6c93ba9ed505f89f889,openstack/kuryr-kubernetes,master,I1cda59f96a939c3c5ebce6c93ba9ed505f89f889,Ensure correct exception is catched in case of not found exception,ABANDONED,2019-06-28 12:29:50.000000000,2019-06-28 12:37:45.000000000,,[],"[{'number': 1, 'created': '2019-06-28 12:29:50.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5601a62dc6112fbf865fc6435e22231881ad77cc', 'message': 'Ensure correct exception is catched in case of not found exception\n\nWe are trying to catch a Neutron exception for a Kubernetes call.\nThis patch adds the correct handling in case a Kubernetes exception\nis raised.\n\nChange-Id: I1cda59f96a939c3c5ebce6c93ba9ed505f89f889\n'}]",0,668162,5601a62dc6112fbf865fc6435e22231881ad77cc,2,0,1,27032,,,0,"Ensure correct exception is catched in case of not found exception

We are trying to catch a Neutron exception for a Kubernetes call.
This patch adds the correct handling in case a Kubernetes exception
is raised.

Change-Id: I1cda59f96a939c3c5ebce6c93ba9ed505f89f889
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/668162/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/network_policy.py'],1,5601a62dc6112fbf865fc6435e22231881ad77cc,," except exceptions.K8sResourceNotFound: LOG.debug(""KuryrNetPolicy CRD Object not found: %s"", netpolicy_crd_name)"," except n_exc.NotFound: LOG.debug(""KuryrNetPolicy CRD Object not found: %s"", netpolicy_crd_name)",3,3
openstack%2Fopenstack-helm~master~Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b,openstack/openstack-helm,master,Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b,WIP: Nova: Break out db config,ABANDONED,2019-06-27 20:48:23.000000000,2019-06-28 12:28:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-27 20:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cba0b507ae905c9da66100cf30756946ecaa65c2', 'message': 'WIP: Nova: Break out db config\n\nChange-Id: Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-27 21:04:11.000000000', 'files': ['nova/templates/bin/_nova-api.sh.tpl', 'nova/templates/bin/_nova-conductor.sh.tpl', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'nova/templates/configmap-etc.yaml', 'nova/templates/bin/_nova-console-proxy.sh.tpl', 'nova/values.yaml', 'nova/templates/bin/_nova-scheduler.sh.tpl', 'nova/templates/bin/_nova-consoleauth.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dcd120988a5407e68afa3212b05e8182658671e5', 'message': 'WIP: Nova: Break out db config\n\nChange-Id: Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,668046,dcd120988a5407e68afa3212b05e8182658671e5,4,1,2,23928,,,0,"WIP: Nova: Break out db config

Change-Id: Ia21be3c76322d4a312a5ae349c19a7ecd3ee112b
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/668046/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_nova-api.sh.tpl', 'nova/templates/bin/_nova-conductor.sh.tpl', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'nova/templates/configmap-etc.yaml', 'nova/templates/bin/_nova-console-proxy.sh.tpl', 'nova/values.yaml', 'nova/templates/bin/_nova-scheduler.sh.tpl', 'nova/templates/bin/_nova-consoleauth.sh.tpl']",8,cba0b507ae905c9da66100cf30756946ecaa65c2,stein, --config-file /etc/nova/nova.conf \ --config-file /etc/nova/nova-db.conf, --config-file /etc/nova/nova.conf,74,65
openstack%2Fopenstack-ansible~master~I8de48eb1fb4c8d321098ca54b9e21270edc7ac87,openstack/openstack-ansible,master,I8de48eb1fb4c8d321098ca54b9e21270edc7ac87,Restrict the number of placement processes and threads in AIO,MERGED,2019-06-27 11:10:30.000000000,2019-06-28 12:06:57.000000000,2019-06-28 12:06:57.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-27 11:10:30.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ace885331c5eb15ae68e2a73affd9706d91c6938', 'message': 'Restrict the number of placement processes and threads in AIO\n\nChange-Id: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\n'}]",0,667898,ace885331c5eb15ae68e2a73affd9706d91c6938,18,5,1,25023,,,0,"Restrict the number of placement processes and threads in AIO

Change-Id: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/667898/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,ace885331c5eb15ae68e2a73affd9706d91c6938,fix-octavia,## Placement placement_wsgi_threads: 1 placement_wsgi_processes_max: 2 placement_wsgi_processes: 2 placement_wsgi_buffer_size: 16384 ,,6,0
openstack%2Fopenstack-ansible~master~Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,openstack/openstack-ansible,master,Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89,Restrict the number of octavia processes and threads in AIO,MERGED,2019-06-27 14:37:29.000000000,2019-06-28 11:50:41.000000000,2019-06-28 11:50:41.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-27 14:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3b01d84c908c93499b78d420159de703cb7d1859', 'message': 'Restrict the number of octavia processes and threads in AIO\n\nChange-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\n'}, {'number': 2, 'created': '2019-06-28 07:01:48.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/856f8042d90663a09f96a9ca699fc42e342f81ed', 'message': 'Restrict the number of octavia processes and threads in AIO\n\nChange-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\n'}]",0,667941,856f8042d90663a09f96a9ca699fc42e342f81ed,16,6,2,25023,,,0,"Restrict the number of octavia processes and threads in AIO

Change-Id: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/667941/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,3b01d84c908c93499b78d420159de703cb7d1859,fix-octavia,octavia_wsgi_threads: 1 octavia_wsgi_processes_max: 2 octavia_wsgi_processes: 2 octavia_wsgi_buffer_size: 16384,,4,0
openstack%2Fkolla~stable%2Frocky~I0514c02aaee1a413a7979c3a426e0484df839861,openstack/kolla,stable/rocky,I0514c02aaee1a413a7979c3a426e0484df839861,Run nova api_db sync before db sync,MERGED,2019-06-27 14:25:07.000000000,2019-06-28 11:34:59.000000000,2019-06-28 11:34:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 14:25:07.000000000', 'files': ['docker/nova/nova-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b68632ff7e1e782712d94af6005c6348f6b1c640', 'message': 'Run nova api_db sync before db sync\n\nBackport: Stein, Rocky\n\nSince cells v2 was introduced, nova operators must run two commands to\nmigrate the database schemas of nova\'s databases - nova-manage api_db\nsync and nova-manage db sync. It is necessary to run them in this order,\nsince the db sync may depend on schema changes made to the api\ndatabase in the api_db sync. Executing the db sync first may fail,\nfor example with the following seen in a Queens to Rocky upgrade:\n\n    nova-manage db sync\n    ERROR: Could not access cell0.\n    Has the nova_api database been created?\n    Has the nova_cell0 database been created?\n    Has ""nova-manage api_db sync"" been run?\n    Has ""nova-manage cell_v2 map_cell0"" been run?\n    Is [api_database]/connection set in nova.conf?\n    Is the cell0 database connection URL correct?\n    Error: (pymysql.err.InternalError) (1054, u""Unknown column\n            \'cell_mappings.disabled\' in \'field list\'"") [SQL: u\'SELECT\n    cell_mappings.created_at AS cell_mappings_created_at,\n    cell_mappings.updated_at AS cell_mappings_updated_at,\n    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS\n    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,\n    cell_mappings.transport_url AS cell_mappings_transport_url,\n    cell_mappings.database_connection AS\n    cell_mappings_database_connection, cell_mappings.disabled AS\n    cell_mappings_disabled \\nFROM cell_mappings \\nWHERE\n    cell_mappings.uuid = %(uuid_1)s \\n LIMIT %(param_1)s\'] [parameters:\n    {u\'uuid_1\': \'00000000-0000-0000-0000-000000000000\', u\'param_1\': 1}]\n    (Background on this error at: http://sqlalche.me/e/2j85)\n\nDespite this error, the command actually exits zero, so kolla does not notice\nthe failure.\n\nThis change reorders these two commands to run the api_db sync before the db\nsync.\n\nChange-Id: I0514c02aaee1a413a7979c3a426e0484df839861\nCloses-Bug: #1832860\n(cherry picked from commit 84a07102e2db92333ce416a520151f1a1856f162)\n'}]",0,667939,b68632ff7e1e782712d94af6005c6348f6b1c640,16,6,1,14826,,,0,"Run nova api_db sync before db sync

Backport: Stein, Rocky

Since cells v2 was introduced, nova operators must run two commands to
migrate the database schemas of nova's databases - nova-manage api_db
sync and nova-manage db sync. It is necessary to run them in this order,
since the db sync may depend on schema changes made to the api
database in the api_db sync. Executing the db sync first may fail,
for example with the following seen in a Queens to Rocky upgrade:

    nova-manage db sync
    ERROR: Could not access cell0.
    Has the nova_api database been created?
    Has the nova_cell0 database been created?
    Has ""nova-manage api_db sync"" been run?
    Has ""nova-manage cell_v2 map_cell0"" been run?
    Is [api_database]/connection set in nova.conf?
    Is the cell0 database connection URL correct?
    Error: (pymysql.err.InternalError) (1054, u""Unknown column
            'cell_mappings.disabled' in 'field list'"") [SQL: u'SELECT
    cell_mappings.created_at AS cell_mappings_created_at,
    cell_mappings.updated_at AS cell_mappings_updated_at,
    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS
    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,
    cell_mappings.transport_url AS cell_mappings_transport_url,
    cell_mappings.database_connection AS
    cell_mappings_database_connection, cell_mappings.disabled AS
    cell_mappings_disabled \nFROM cell_mappings \nWHERE
    cell_mappings.uuid = %(uuid_1)s \n LIMIT %(param_1)s'] [parameters:
    {u'uuid_1': '00000000-0000-0000-0000-000000000000', u'param_1': 1}]
    (Background on this error at: http://sqlalche.me/e/2j85)

Despite this error, the command actually exits zero, so kolla does not notice
the failure.

This change reorders these two commands to run the api_db sync before the db
sync.

Change-Id: I0514c02aaee1a413a7979c3a426e0484df839861
Closes-Bug: #1832860
(cherry picked from commit 84a07102e2db92333ce416a520151f1a1856f162)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/667939/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-api/extend_start.sh'],1,b68632ff7e1e782712d94af6005c6348f6b1c640,bug/1832860-stable/rocky, nova-manage db sync nova-manage db sync, nova-manage db sync nova-manage db sync,2,2
openstack%2Fnetworking-ovn~stable%2Frocky~If53d316d0837c989d1153bef97b5de93d7bf85a6,openstack/networking-ovn,stable/rocky,If53d316d0837c989d1153bef97b5de93d7bf85a6,DNM: Test requirements job,ABANDONED,2019-06-14 10:02:24.000000000,2019-06-28 11:33:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-14 10:02:24.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e5ab30baf5bf762a1892f30e5aa450d2e5ff4cb4', 'message': 'DNM: Test requirements job\n\nChange-Id: If53d316d0837c989d1153bef97b5de93d7bf85a6\n'}]",0,665346,e5ab30baf5bf762a1892f30e5aa450d2e5ff4cb4,3,1,1,8655,,,0,"DNM: Test requirements job

Change-Id: If53d316d0837c989d1153bef97b5de93d7bf85a6
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/665346/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,e5ab30baf5bf762a1892f30e5aa450d2e5ff4cb4,dnm,# cookies baked in the oven,,2,0
openstack%2Ftacker~master~I469a04220ad36451d155a5256926d992aa56b5c3,openstack/tacker,master,I469a04220ad36451d155a5256926d992aa56b5c3,"Fix gate error ""mysqladmin: command not found""",MERGED,2019-06-28 07:23:43.000000000,2019-06-28 11:30:02.000000000,2019-06-28 11:30:02.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 07:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c5c6765f139f6149262f2941254b9d705578e401', 'message': 'Fix gate error ""mysqladmin: command not found""\n\nmysqladmin package is required in tools/test-setup.sh\nso adding bindep.txt file for this binary dependencies\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I469a04220ad36451d155a5256926d992aa56b5c3\n'}, {'number': 2, 'created': '2019-06-28 07:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ba86818f9b40a264e1ad780a58442e82cd7c390c', 'message': 'Fix gate error ""mysqladmin: command not found""\n\nmysqladmin package is required in tools/test-setup.sh\nso adding bindep.txt file for this binary dependencies\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I469a04220ad36451d155a5256926d992aa56b5c3\n'}, {'number': 3, 'created': '2019-06-28 08:53:12.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/047f3a7409d0fc99c352871e0bd36df53c36fffb', 'message': 'Fix gate error ""mysqladmin: command not found""\n\nmysqladmin package is required in tools/test-setup.sh\nso adding bindep.txt file for this binary dependencies\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I469a04220ad36451d155a5256926d992aa56b5c3\n'}]",0,668102,047f3a7409d0fc99c352871e0bd36df53c36fffb,8,2,3,8556,,,0,"Fix gate error ""mysqladmin: command not found""

mysqladmin package is required in tools/test-setup.sh
so adding bindep.txt file for this binary dependencies

- http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I469a04220ad36451d155a5256926d992aa56b5c3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/02/668102/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c5c6765f139f6149262f2941254b9d705578e401,,# This is a cross-platform list tracking distribution packages needed by tests; # see http://docs.openstack.org/infra/bindep/ for additional information. mysql-client [platform:dpkg] mysql-server [platform:dpkg] ,,5,0
openstack%2Fnetworking-odl~master~I09a3f79c5aba21bf73cd13215b7418cfab7bd659,openstack/networking-odl,master,I09a3f79c5aba21bf73cd13215b7418cfab7bd659,Fix tempest failures.,ABANDONED,2019-06-28 11:22:52.000000000,2019-06-28 11:23:34.000000000,,[],"[{'number': 1, 'created': '2019-06-28 11:22:52.000000000', 'files': ['devstack/odl-releases/oxygen-latest'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c659cc397fa423298c626c3eca2575744ac885fc', 'message': 'Fix tempest failures.\n\nChange-Id: I09a3f79c5aba21bf73cd13215b7418cfab7bd659\nSigned-off-by: achuthm <achuth.m@altencalsoftlabs.com>\n'}]",0,668145,c659cc397fa423298c626c3eca2575744ac885fc,2,0,1,25550,,,0,"Fix tempest failures.

Change-Id: I09a3f79c5aba21bf73cd13215b7418cfab7bd659
Signed-off-by: achuthm <achuth.m@altencalsoftlabs.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/45/668145/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/odl-releases/oxygen-latest'],1,c659cc397fa423298c626c3eca2575744ac885fc,mymaster,,,0,0
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I41c504823277b8c5ee1b14540cdfbb693fc25a8c,openstack/openstack-ansible-tests,stable/stein,I41c504823277b8c5ee1b14540cdfbb693fc25a8c,Revert defining tempest_install_method for tests,MERGED,2019-06-20 16:51:17.000000000,2019-06-28 11:16:30.000000000,2019-06-28 11:16:29.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-20 16:51:17.000000000', 'files': ['tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/50f38839d845d9094afef362dc84102cac8961e4', 'message': ""Revert defining tempest_install_method for tests\n\nSince [1] is merged, we don't need defining this variable for containers\n\n[1] https://review.opendev.org/665244/\n\nThis reverts commit 1084ff6d5acab882de1a361fc4144ec0630f520d.\n\nChange-Id: I41c504823277b8c5ee1b14540cdfbb693fc25a8c\n(cherry picked from commit 0666b18821ea74cbb2d41228180a2f60a74fa9e7)\n""}]",0,666641,50f38839d845d9094afef362dc84102cac8961e4,8,4,1,28619,,,0,"Revert defining tempest_install_method for tests

Since [1] is merged, we don't need defining this variable for containers

[1] https://review.opendev.org/665244/

This reverts commit 1084ff6d5acab882de1a361fc4144ec0630f520d.

Change-Id: I41c504823277b8c5ee1b14540cdfbb693fc25a8c
(cherry picked from commit 0666b18821ea74cbb2d41228180a2f60a74fa9e7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/41/666641/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/group_vars/all_containers.yml'],1,50f38839d845d9094afef362dc84102cac8961e4,,,tempest_install_method: source,0,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,openstack/tripleo-heat-templates,stable/stein,Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,Avoid checking rc if we're in dry-run mode,MERGED,2019-06-27 18:54:08.000000000,2019-06-28 10:57:26.000000000,2019-06-28 10:57:26.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-27 18:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9285a965526a99d6ecad98f5b1d2b5fc0745243', 'message': 'Avoid checking rc if we\'re in dry-run mode\n\nCurrently running `ansible --check\' against generated playbook fails\nbecause the ""exec"" won\'t be done, hence the registered resource won\'t\nget the ""rc"" entry.\n\nChange-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8\nCloses-Bug: #1834409\n(cherry picked from commit 2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5)\n'}, {'number': 2, 'created': '2019-06-28 05:21:48.000000000', 'files': ['deployment/iscsid/iscsid-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93ead16ca213db8f3ef18a40c55437e324c50740', 'message': 'Avoid checking rc if we\'re in dry-run mode\n\nCurrently running `ansible --check\' against generated playbook fails\nbecause the ""exec"" won\'t be done, hence the registered resource won\'t\nget the ""rc"" entry.\n\nChange-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8\nCloses-Bug: #1834409\n(cherry picked from commit 2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5)\n'}]",0,668023,93ead16ca213db8f3ef18a40c55437e324c50740,12,5,2,14985,,,0,"Avoid checking rc if we're in dry-run mode

Currently running `ansible --check' against generated playbook fails
because the ""exec"" won't be done, hence the registered resource won't
get the ""rc"" entry.

Change-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8
Closes-Bug: #1834409
(cherry picked from commit 2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/668023/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/iscsid/iscsid-container-puppet.yaml'],1,d9285a965526a99d6ecad98f5b1d2b5fc0745243,bug/1834409-stable/stein, when: - iscsi_service_enabled_result is changed - iscsi_service_enabled_result.rc == 0, when: iscsi_service_enabled_result.rc == 0,3,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,stable/queens,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-27 08:12:02.000000000,2019-06-28 10:57:25.000000000,2019-06-28 10:57:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-27 08:12:02.000000000', 'files': ['docker/services/nova-migration-target.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad6effc40d91aa157bec9a5c74ef31fb4cee427f', 'message': 'Add /run/libvirt to nova_migration_target container\n\n[1] removed the bind mount from /run inside the nova_migration_target\ncontainer. But the nova-migration-wrapper inside the container needs\naccess to the libvirt socket [2].\n\nThis adds the bind mount of /run/libvirt to the nova_migration_target\ncontainer to fix live migration issues.\n\n[1] https://review.opendev.org/#/c/662109/\n[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31\n\nChange-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015\nCloses-Bug: #1834330\n(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)\n(cherry picked from commit 1425671a384f1634a8057c5ef6fbbe954f1ba4e0)\n(cherry picked from commit 95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa)\n'}]",0,667807,ad6effc40d91aa157bec9a5c74ef31fb4cee427f,8,7,1,17216,,,0,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)
(cherry picked from commit 1425671a384f1634a8057c5ef6fbbe954f1ba4e0)
(cherry picked from commit 95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/667807/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-migration-target.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml']",2,ad6effc40d91aa157bec9a5c74ef31fb4cee427f,bug/1834330,--- fixes: - | https://review.opendev.org/#/c/662109/ removed the bind mount from /run inside the nova_migration_target container. But the nova-migration-wrapper inside the container needs access to the libvirt socket - https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31 . This adds the bind mount of /run/libvirt to the nova_migration_target container to fix live migration issues. ,,10,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,stable/rocky,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-27 08:11:02.000000000,2019-06-28 10:57:23.000000000,2019-06-28 10:57:23.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-27 08:11:02.000000000', 'files': ['docker/services/nova-migration-target.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa', 'message': 'Add /run/libvirt to nova_migration_target container\n\n[1] removed the bind mount from /run inside the nova_migration_target\ncontainer. But the nova-migration-wrapper inside the container needs\naccess to the libvirt socket [2].\n\nThis adds the bind mount of /run/libvirt to the nova_migration_target\ncontainer to fix live migration issues.\n\n[1] https://review.opendev.org/#/c/662109/\n[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31\n\nChange-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015\nCloses-Bug: #1834330\n(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)\n(cherry picked from commit 1425671a384f1634a8057c5ef6fbbe954f1ba4e0)\n'}]",0,667806,95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa,8,7,1,17216,,,0,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
(cherry picked from commit 537822d47c455cb9e4184744a91d083f2c89609c)
(cherry picked from commit 1425671a384f1634a8057c5ef6fbbe954f1ba4e0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/667806/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-migration-target.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml']",2,95347b3aa94bb4324d8e4aa2c1554fbce6f9beaa,bug/1834330,--- fixes: - | https://review.opendev.org/#/c/662109/ removed the bind mount from /run inside the nova_migration_target container. But the nova-migration-wrapper inside the container needs access to the libvirt socket - https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31 . This adds the bind mount of /run/libvirt to the nova_migration_target container to fix live migration issues. ,,10,0
openstack%2Fpython-tripleoclient~master~Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,openstack/python-tripleoclient,master,Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5,Send terminal erase sequence on tripleo deploy,MERGED,2019-06-18 21:23:53.000000000,2019-06-28 10:57:20.000000000,2019-06-28 10:57:20.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-18 21:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f44ca8e59a3909f726ece4ef43895daeda6c180d', 'message': ""Send terminal erase sequence on tripleo deploy\n\nWe're seeing some escape sequences being dropped when we run the\ndeployment via the undercloud. This causes a user to have to run a reset\nafter the undercloud installation in order to be able to use their shell\ncommand line again.  We can avoid this if we send an terminal erase line\nsequence to trim the rest of the line at the end of the deploy.\n\nChange-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5\nCloses-Bug: #1833302\n""}, {'number': 2, 'created': '2019-06-27 15:33:45.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1a051d6ac890cd68f5bf5fff251fa445d7ad8f9', 'message': ""Send terminal erase sequence on tripleo deploy\n\nWe're seeing some escape sequences being dropped when we run the\ndeployment via the undercloud. This causes a user to have to run a reset\nafter the undercloud installation in order to be able to use their shell\ncommand line again.  We can avoid this if we send an terminal erase line\nsequence to trim the rest of the line at the end of the deploy.\n\nChange-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5\nCloses-Bug: #1833302\n""}]",2,666172,e1a051d6ac890cd68f5bf5fff251fa445d7ad8f9,20,6,2,14985,,,0,"Send terminal erase sequence on tripleo deploy

We're seeing some escape sequences being dropped when we run the
deployment via the undercloud. This causes a user to have to run a reset
after the undercloud installation in order to be able to use their shell
command line again.  We can avoid this if we send an terminal erase line
sequence to trim the rest of the line at the end of the deploy.

Change-Id: Ibb74bfebfaab2cd122abe1bc3cd5bbd2562ccfc5
Closes-Bug: #1833302
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/666172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",3,f44ca8e59a3909f726ece4ef43895daeda6c180d,bug/1833302," @mock.patch('tripleoclient.utils.send_cmdline_erase_sequence') mock_chmod, mock_ac, mock_cmdline): mock_cmdline.assert_called_once() @mock.patch('tripleoclient.utils.send_cmdline_erase_sequence') def test_take_action(self, mock_slink, mock_cmdline): mock_cmdline.assert_called_once() @mock.patch('tripleoclient.utils.send_cmdline_erase_sequence') def test_take_action_failure(self, mock_slink, mock_deploy, mock_cmdline): mock_cmdline.assert_called_once()"," mock_chmod, mock_ac): def test_take_action(self, mock_slink): def test_take_action_failure(self, mock_slink, mock_deploy):",28,10
openstack%2Fpython-novaclient~stable%2Frocky~Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40,openstack/python-novaclient,stable/rocky,Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40,Use SHA256 instead of MD5 in completion cache,MERGED,2019-06-07 18:32:35.000000000,2019-06-28 10:38:00.000000000,2019-06-28 10:37:59.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 18:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8d240dd655ec447f2857171056105619c3a3dd76', 'message': 'Use SHA256 instead of MD5 in completion cache\n\nFIPS 140 are U.S. government computer security standards that specify\nrequirements for cryptography modules. MD5 is not FIPS compliant [1].\nPreviously, MD5 was used as the hash algorithm for the bash completion\ncache. Hosts running in FIPS mode [2] block execution of the MD5 hash.\nThis makes python-novaclient unusable on FIPS-enabled machines. This\npatch replaces MD5 with SHA256, which is FIPS compliant.\n\n[1] https://csrc.nist.gov/projects/hash-functions\n[2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations\n\nChange-Id: Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40\n(cherry picked from commit 2595bac2294ce05e389eaab6636977963d5fc66c)\n'}, {'number': 2, 'created': '2019-06-27 10:28:42.000000000', 'files': ['novaclient/base.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/92002c8046ea5f575bb8a7ed6f4e6a8a29fad22d', 'message': 'Use SHA256 instead of MD5 in completion cache\n\nFIPS 140 are U.S. government computer security standards that specify\nrequirements for cryptography modules. MD5 is not FIPS compliant [1].\nPreviously, MD5 was used as the hash algorithm for the bash completion\ncache. Hosts running in FIPS mode [2] block execution of the MD5 hash.\nThis makes python-novaclient unusable on FIPS-enabled machines. This\npatch replaces MD5 with SHA256, which is FIPS compliant.\n\n[1] https://csrc.nist.gov/projects/hash-functions\n[2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations\n\nChange-Id: Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40\n(cherry picked from commit 2595bac2294ce05e389eaab6636977963d5fc66c)\n(cherry picked from commit e15cc789d9428cd03c2c5fbd6f5023522f2290cc)\n'}]",2,664025,92002c8046ea5f575bb8a7ed6f4e6a8a29fad22d,13,5,2,8864,,,0,"Use SHA256 instead of MD5 in completion cache

FIPS 140 are U.S. government computer security standards that specify
requirements for cryptography modules. MD5 is not FIPS compliant [1].
Previously, MD5 was used as the hash algorithm for the bash completion
cache. Hosts running in FIPS mode [2] block execution of the MD5 hash.
This makes python-novaclient unusable on FIPS-enabled machines. This
patch replaces MD5 with SHA256, which is FIPS compliant.

[1] https://csrc.nist.gov/projects/hash-functions
[2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations

Change-Id: Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40
(cherry picked from commit 2595bac2294ce05e389eaab6636977963d5fc66c)
(cherry picked from commit e15cc789d9428cd03c2c5fbd6f5023522f2290cc)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/25/664025/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/base.py'],1,8d240dd655ec447f2857171056105619c3a3dd76,, uniqifier = hashlib.sha256(username.encode('utf-8') + url.encode('utf-8')).hexdigest(), uniqifier = hashlib.md5(username.encode('utf-8') + url.encode('utf-8')).hexdigest(),2,2
openstack%2Fkolla-ansible~master~I844ecb7bec94e561afb09580f58b1bf83a6d00bd,openstack/kolla-ansible,master,I844ecb7bec94e561afb09580f58b1bf83a6d00bd,Updating Jinja filters to conform to Ansible 2.5+,MERGED,2019-05-02 12:15:17.000000000,2019-06-28 10:26:39.000000000,2019-05-07 19:32:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-05-02 12:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d23c09fdcba6c04dc59155ff129abdbdd3bb1b5a', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been\ndeprecated.\n\nI've run the script provided by the ansible team to 'fix' the\njinja filters to conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nChange-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd\nCloses-bug: #1827370\n""}, {'number': 2, 'created': '2019-05-02 12:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2697e585d71598ac0a4c6d46bab99acae4412996', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been\ndeprecated.\n\nI've run the script provided by the ansible team to 'fix' the\njinja filters to conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nChange-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd\nCloses-bug: #1827370\n""}, {'number': 3, 'created': '2019-05-02 13:58:33.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84ea42bd7cf3c9931bab4729d6d7ef13940108ac', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been\ndeprecated.\n\nI've run the script provided by the ansible team to 'fix' the\njinja filters to conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nChange-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd\nCloses-bug: #1827370\n""}]",0,656767,84ea42bd7cf3c9931bab4729d6d7ef13940108ac,13,5,3,30322,,,0,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been
deprecated.

I've run the script provided by the ansible team to 'fix' the
jinja filters to conform to the newer syntax.

This fixes the deprecation warnings.

Change-Id: I844ecb7bec94e561afb09580f58b1bf83a6d00bd
Closes-bug: #1827370
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/656767/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml']",13,d23c09fdcba6c04dc59155ff129abdbdd3bb1b5a,bug/1827370," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') is search("".+"")"," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') | search("".+"")",117,118
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8cf3e4cf294fee3b71473e2343ad16b184fac665,openstack/tripleo-heat-templates,stable/stein,I8cf3e4cf294fee3b71473e2343ad16b184fac665,Add operating system upgrade preparation via Leapp,MERGED,2019-06-24 15:28:48.000000000,2019-06-28 10:19:38.000000000,2019-06-28 10:19:38.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['puppet/services/pacemaker.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f393a3d40b402e1ce412dcff487052763cf470f', 'message': 'Add operating system upgrade preparation via Leapp\n\nAlso make sure pacemaker cluster is not only stopped but also\ndestroyed on the node being upgraded. This is a prerequisite for\nupgrades via Leapp, otherwise Leapp would assume we expect it to\nupgrade the cluster, and it would fail on validation.\n\nPartial-Bug: #1831690\nChange-Id: I8cf3e4cf294fee3b71473e2343ad16b184fac665\n(cherry picked from commit b0519479c19766e23c82a21a4b476b350f096941)\n'}]",0,667138,7f393a3d40b402e1ce412dcff487052763cf470f,10,4,1,8042,,,0,"Add operating system upgrade preparation via Leapp

Also make sure pacemaker cluster is not only stopped but also
destroyed on the node being upgraded. This is a prerequisite for
upgrades via Leapp, otherwise Leapp would assume we expect it to
upgrade the cluster, and it would fail on validation.

Partial-Bug: #1831690
Change-Id: I8cf3e4cf294fee3b71473e2343ad16b184fac665
(cherry picked from commit b0519479c19766e23c82a21a4b476b350f096941)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/667138/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/pacemaker.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml']",2,7f393a3d40b402e1ce412dcff487052763cf470f,bug/1831690," UpgradeLeappEnabled: description: Use Leapp for operating system upgrade type: boolean default: true UpgradeLeappDebug: description: Print debugging output when running Leapp type: boolean default: true UpgradeLeappRebootTimeout: description: Timeout (seconds) for the OS upgrade phase via Leapp type: number default: 1800 - name: set leapp facts tags: always set_fact: upgrade_leapp_enabled: {get_param: UpgradeLeappEnabled} upgrade_leapp_debug: {get_param: UpgradeLeappDebug} upgrade_leapp_reboot_timeout: {get_param: UpgradeLeappRebootTimeout} - name: system_upgrade_prepare step 3 tags: - never - system_upgrade_prepare when: step|int == 3 block: - name: install leapp package: name: leapp state: latest when: upgrade_leapp_enabled - name: run leapp upgrade (download packages) shell: | leapp upgrade {{ '--debug' if upgrade_leapp_debug|default(true) else '' }} when: upgrade_leapp_enabled - name: system_upgrade_run step 5 tags: - never - system_upgrade_run when: step|int == 5 block: - name: reboot to perform the upgrade reboot: reboot_timeout: ""{{upgrade_leapp_reboot_timeout}}"" when: upgrade_leapp_enabled",,45,0
openstack%2Fkolla~stable%2Fstein~Iae9d37cb76997ba8389e21c7e2a3bf5905abe029,openstack/kolla,stable/stein,Iae9d37cb76997ba8389e21c7e2a3bf5905abe029,Clean up test process,MERGED,2019-06-27 16:02:13.000000000,2019-06-28 09:59:25.000000000,2019-06-28 09:59:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-27 16:02:13.000000000', 'files': ['tests/playbooks/run.yml', 'tests/playbooks/pre.yml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/base.yaml', 'tests/setup_gate.sh', 'tools/gate_run.sh', 'tests/playbooks/post.yml', 'tools/dump_info.sh', 'tox.ini', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cce6d68047b430180fe3225c044af04a38722e9e', 'message': 'Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages of Zuul.\nAdditionally Zuul v3 migration recommendations were applied\nand some unused code removed improving general readability.\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit c7ac0f0de0c65afe54974a7ea727feb27c0f60eb)\n'}]",0,667970,cce6d68047b430180fe3225c044af04a38722e9e,8,4,1,30491,,,0,"Clean up test process

If stestr failed, then no node info was logged.
Logging node info is now handled in pre and post stages of Zuul.
Additionally Zuul v3 migration recommendations were applied
and some unused code removed improving general readability.

Change-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit c7ac0f0de0c65afe54974a7ea727feb27c0f60eb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/667970/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/playbooks/pre.yml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/base.yaml', 'tests/setup_gate.sh', 'tools/gate_run.sh', 'tests/playbooks/post.yml', 'tools/dump_info.sh', 'tox.ini', 'tools/setup_gate.sh']",10,cce6d68047b430180fe3225c044af04a38722e9e,clean-up-test-process-stable/stein,,#!/bin/bash set -o xtrace set -o errexit # Enable unbuffered output for Ansible in Jenkins. export PYTHONUNBUFFERED=1 function setup_registry { sudo mkdir /opt/kolla_registry sudo chmod -R 644 /opt/kolla_registry docker run -d -p 4000:5000 --restart=always -v /opt/kolla_registry/:/var/lib/registry --name registry registry:2 } setup_registry ,62,133
openstack%2Ftripleo-quickstart~master~I164061b6227e8af435b3a8b5d24647b2f0394967,openstack/tripleo-quickstart,master,I164061b6227e8af435b3a8b5d24647b2f0394967,Minimize yum-config-manager console output,ABANDONED,2019-03-21 21:06:25.000000000,2019-06-28 09:47:11.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-03-21 21:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/34b17552bbe48b133f2dfdd25ccdca971feacc0d', 'message': 'Minimize yum-config-manager console output\n\nWe do not need to see a dump of repository config when we disable all\nof them.\n\nWe do want to know only the repository names and their urls when\nwe reconfigure them.\n\nThis lowers considerably the size of builder-undercloud.log file from\n>5000 lines to about 1/3 of that, making it much easier to read and\nalso lowering our logging footprint.\n\nOther callsof yum-config-manager to not have the habit of dumping\nthe repository configuration, so we do not need to touch them. So\nfar, it seems that only --save and --disable ""*"" seem to be extra\nverbose.\n\nChange-Id: I164061b6227e8af435b3a8b5d24647b2f0394967\nRelated-Bug: #1787912\n'}, {'number': 2, 'created': '2019-03-21 21:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5f111d5fbd816891fa88948b202973463c5e0e03', 'message': 'Minimize yum-config-manager console output\n\nWe do not need to see a dump of repository config when we disable all\nof them.\n\nWe do want to know only the repository names and their urls when\nwe reconfigure them.\n\nThis lowers considerably the size of builder-undercloud.log file from\n>5000 lines to about 1/3 of that, making it much easier to read and\nalso lowering our logging footprint.\n\nOther callsof yum-config-manager to not have the habit of dumping\nthe repository configuration, so we do not need to touch them. So\nfar, it seems that only --save and --disable ""*"" seem to be extra\nverbose.\n\nChange-Id: I164061b6227e8af435b3a8b5d24647b2f0394967\nRelated-Bug: #1787912\n'}, {'number': 3, 'created': '2019-03-22 13:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/53667a4ef9442f713c52cf2957e95be7159202fc', 'message': 'Minimize yum-config-manager console output\n\nWe do not need to see a dump of repository config when we disable all\nof them.\n\nWe do want to know only the repository names and their urls when\nwe reconfigure them.\n\nThis lowers considerably the size of builder-undercloud.log file from\n>5000 lines to about 1/3 of that, making it much easier to read and\nalso lowering our logging footprint.\n\nOther callsof yum-config-manager to not have the habit of dumping\nthe repository configuration, so we do not need to touch them. So\nfar, it seems that only --save and --disable ""*"" seem to be extra\nverbose.\n\nChange-Id: I164061b6227e8af435b3a8b5d24647b2f0394967\nRelated-Bug: #1787912\n'}, {'number': 4, 'created': '2019-04-03 12:19:53.000000000', 'files': ['config/release/trunk/queens.yml', 'config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/ocata.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/centosci/ocata-current-tripleo.yml', 'config/release/tripleo-ci/Fedora-28/stein.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/trunk/newton.yml', 'config/release/stable/pike.yml', 'config/release/tripleo-ci/CentOS-7/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-newton-overcloud.yml', 'config/release/centosci/newton.yml', 'config/release/tripleo-ci/CentOS-7/consistent-newton.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/newton.yml', 'config/release/stable/ocata.yml', 'config/release/master-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/centosci/queens-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/trunk/pike.yml', 'config/release/stable/newton.yml', 'config/release/trunk/ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-newton.yml', 'config/release/rocky.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-queens-overcloud.yml', 'config/release/trunk/stein.yml', 'config/release/centosci/rocky-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/consistent-ocata.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/centosci/pike-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/ocata-undercloud-newton-overcloud.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/consistent-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/CentOS-7/rocky-undercloud-queens-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3659a0213ed1111dab177a7351469399ab0db55d', 'message': 'Minimize yum-config-manager console output\n\nWe do not need to see a dump of repository config when we disable all\nof them.\n\nWe do want to know only the repository names and their urls when\nwe reconfigure them.\n\nThis lowers considerably the size of builder-undercloud.log file from\n>5000 lines to about 1/3 of that, making it much easier to read and\nalso lowering our logging footprint.\n\nOther callsof yum-config-manager to not have the habit of dumping\nthe repository configuration, so we do not need to touch them. So\nfar, it seems that only --save and --disable ""*"" seem to be extra\nverbose.\n\nChange-Id: I164061b6227e8af435b3a8b5d24647b2f0394967\nRelated-Bug: #1787912\n'}]",0,645351,3659a0213ed1111dab177a7351469399ab0db55d,21,11,4,24162,,,0,"Minimize yum-config-manager console output

We do not need to see a dump of repository config when we disable all
of them.

We do want to know only the repository names and their urls when
we reconfigure them.

This lowers considerably the size of builder-undercloud.log file from
>5000 lines to about 1/3 of that, making it much easier to read and
also lowering our logging footprint.

Other callsof yum-config-manager to not have the habit of dumping
the repository configuration, so we do not need to touch them. So
far, it seems that only --save and --disable ""*"" seem to be extra
verbose.

Change-Id: I164061b6227e8af435b3a8b5d24647b2f0394967
Related-Bug: #1787912
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/51/645351/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/trunk/queens.yml', 'config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/ocata.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/centosci/ocata-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/trunk/newton.yml', 'config/release/stable/pike.yml', 'config/release/tripleo-ci/CentOS-7/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-newton-overcloud.yml', 'config/release/centosci/newton.yml', 'config/release/tripleo-ci/CentOS-7/consistent-newton.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/newton.yml', 'config/release/stable/ocata.yml', 'config/release/master-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/centosci/queens-current-tripleo.yml', 'config/release/trunk/pike.yml', 'config/release/stable/newton.yml', 'config/release/trunk/ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-newton.yml', 'config/release/rocky.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-queens-overcloud.yml', 'config/release/centosci/rocky-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/consistent-ocata.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/centosci/pike-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/ocata-undercloud-newton-overcloud.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/consistent-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/CentOS-7/rocky-undercloud-queens-overcloud.yml']",41,34b17552bbe48b133f2dfdd25ccdca971feacc0d,oooq/brief-repolist," sudo yum-config-manager --disable ""*"" >/dev/null;"," sudo yum-config-manager --disable ""*""",83,61
openstack%2Ftripleo-heat-templates~stable%2Frocky~I52a74c7b5473340e2afd240d7d6af9ad5bc97544,openstack/tripleo-heat-templates,stable/rocky,I52a74c7b5473340e2afd240d7d6af9ad5bc97544,Don't create symlink for swift container logs,MERGED,2019-06-26 07:09:02.000000000,2019-06-28 09:41:43.000000000,2019-06-28 09:41:43.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 07:09:02.000000000', 'files': ['docker/services/swift-storage.yaml', 'docker/services/swift-proxy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1486301f2c36838774fc5554637d93de9ab78e6', 'message': ""Don't create symlink for swift container logs\n\nlogrotate 3.14.0 silently ignores all files when\nthere is a broken symlink in the container.\n\nReplaces /var/log/containers/swift symlink with directories\n\nOnce we remove the symlinks in update_staks, host_prep_tasks\nwould create those directories.\n\nAssuming that minor update runs before upgrades, this should\ntake care of upgrades too.\n\nConflicts:\n\tdocker/services/swift-proxy.yaml\n\tdocker/services/swift-storage.yaml\n\nChange-Id: I52a74c7b5473340e2afd240d7d6af9ad5bc97544\nCloses-Bug: #1833690\n(cherry picked from commit d3a9614d8a631c1d29683d6426f501b88ecc2f85\n and 90d05216b96adaf93dcf36680954328ed1cb053d)\n""}]",0,667526,b1486301f2c36838774fc5554637d93de9ab78e6,10,4,1,8833,,,0,"Don't create symlink for swift container logs

logrotate 3.14.0 silently ignores all files when
there is a broken symlink in the container.

Replaces /var/log/containers/swift symlink with directories

Once we remove the symlinks in update_staks, host_prep_tasks
would create those directories.

Assuming that minor update runs before upgrades, this should
take care of upgrades too.

Conflicts:
	docker/services/swift-proxy.yaml
	docker/services/swift-storage.yaml

Change-Id: I52a74c7b5473340e2afd240d7d6af9ad5bc97544
Closes-Bug: #1833690
(cherry picked from commit d3a9614d8a631c1d29683d6426f501b88ecc2f85
 and 90d05216b96adaf93dcf36680954328ed1cb053d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/667526/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/swift-storage.yaml', 'docker/services/swift-proxy.yaml']",2,b1486301f2c36838774fc5554637d93de9ab78e6,bug/1833690, - /var/log/containers/swift:/var/log/swift - /var/log/containers/swift local2.* /var/log/containers/swift/swift.log update_tasks: - name: Check swift containers log folder/symlink exists stat: path: /var/log/containers/swift register: swift_log_link - name: Delete if symlink file: path: /var/log/containers/swift state: absent when: swift_log_link.stat.islnk is defined and swift_log_link.stat.islnk, - stat: path=/var/log/swift register: swift_log_stat - name: Create swift logging symlink file: src: /var/log/swift dest: /var/log/containers/swift state: link when: swift_log_stat.stat.exists local2.* /var/log/swift/swift.log,38,20
openstack%2Ftripleo-ci~master~Ic46a4c710327074167923731b6da502e216d610d,openstack/tripleo-ci,master,Ic46a4c710327074167923731b6da502e216d610d,Capture /home/{{ undercloud_user }}/.config/openstack/,MERGED,2019-06-17 11:20:36.000000000,2019-06-28 09:40:39.000000000,2019-06-28 09:40:39.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-17 11:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f99b64d12b0c7f6fcf80a944e6fc2303ed9b750', 'message': 'Capture /home/{{ undercloud_user }}/.config/clouds.yaml\n\nChange-Id: Ic46a4c710327074167923731b6da502e216d610d\n'}, {'number': 2, 'created': '2019-06-17 11:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8033f62f44316b383521a28b5e7d0808752cd11f', 'message': 'Capture /home/{{ undercloud_user }}/.config/openstack/\n\nThe clouds.yaml is located here, capture the content\nof the .config/openstack/ directory.\n\nChange-Id: Ic46a4c710327074167923731b6da502e216d610d\n'}, {'number': 3, 'created': '2019-06-20 10:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d7f7afa0f762cfe33c748e18fa9cea3ac6f7a2c8', 'message': 'Capture /home/{{ undercloud_user }}/.config/openstack/\n\nThe clouds.yaml is located here, capture the content\nof the .config/openstack/ directory.\n\nChange-Id: Ic46a4c710327074167923731b6da502e216d610d\n'}, {'number': 4, 'created': '2019-06-27 10:28:40.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/49be21e7341edfb950358cd4179fbdedf4c537e4', 'message': 'Capture /home/{{ undercloud_user }}/.config/openstack/\n\nThe clouds.yaml is located here, capture the content\nof the .config/openstack/ directory.\n\nChange-Id: Ic46a4c710327074167923731b6da502e216d610d\n'}]",0,665644,49be21e7341edfb950358cd4179fbdedf4c537e4,23,6,4,24245,,,0,"Capture /home/{{ undercloud_user }}/.config/openstack/

The clouds.yaml is located here, capture the content
of the .config/openstack/ directory.

Change-Id: Ic46a4c710327074167923731b6da502e216d610d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/665644/3 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,0f99b64d12b0c7f6fcf80a944e6fc2303ed9b750,capture-clouds.yaml, - /home/{{ undercloud_user }}/.config/clouds.yaml,,1,0
openstack%2Fcloudkitty~master~Ia253175b45b8222aaee415ea535fa4102312be5a,openstack/cloudkitty,master,Ia253175b45b8222aaee415ea535fa4102312be5a,Fix sqlalchemy grouping on v1 storage,MERGED,2019-06-04 13:28:42.000000000,2019-06-28 09:31:04.000000000,2019-06-05 12:47:32.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-04 13:28:42.000000000', 'files': ['cloudkitty/storage/v1/sqlalchemy/__init__.py', 'releasenotes/notes/fix-v1-storage-groupby-e865d1315bd390cb.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5fef2d68f35577a62120ab64a2f67edf2522c259', 'message': 'Fix sqlalchemy grouping on v1 storage\n\nThis fixes ""CompileError: Can\'t resolve label reference for\nORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby\nexpression includes a comma.\n\nChange-Id: Ia253175b45b8222aaee415ea535fa4102312be5a\n'}]",0,663029,5fef2d68f35577a62120ab64a2f67edf2522c259,9,3,1,23060,,,0,"Fix sqlalchemy grouping on v1 storage

This fixes ""CompileError: Can't resolve label reference for
ORDER BY / GROUP BY."" error messages raised by sqlalchemy when the groupby
expression includes a comma.

Change-Id: Ia253175b45b8222aaee415ea535fa4102312be5a
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/29/663029/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v1/sqlalchemy/__init__.py', 'releasenotes/notes/fix-v1-storage-groupby-e865d1315bd390cb.yaml']",2,5fef2d68f35577a62120ab64a2f67edf2522c259,fix-sqlalchemy-erros-v1-storage,--- fixes: - | ``CompileError: Can't resolve label reference for ORDER BY / GROUP BY.`` errors that were sometimes raised by SQLAlchemy when using the v1 storage backend and grouping on ``tenant_id`` and ``res_type`` have been fixed. ,,7,1
openstack%2Fkolla-ansible~stable%2Fpike~I6d3a92e7398601723cf43b48d10fccd740cf664c,openstack/kolla-ansible,stable/pike,I6d3a92e7398601723cf43b48d10fccd740cf664c,Remove zuul-cloner usage,MERGED,2019-06-27 14:46:36.000000000,2019-06-28 09:26:12.000000000,2019-06-28 09:26:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 14:46:36.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd69cc96de9e35755b2752a286ea30301e31caed', 'message': 'Remove zuul-cloner usage\n\nDue to zuul-cloner being finally removed from Zuul v3, we have to\nremove zuul-cloner usage from supported branches to use CI.\nStein and up have it removed by an unrelated change.\nThis simple patch is to go to rocky and below.\n\nSee [1] for Zuul change.\n\n[1] https://review.opendev.org/663151\n\nChange-Id: I6d3a92e7398601723cf43b48d10fccd740cf664c\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 924226df1f227fed8e9acdee7cd1de2b11e96a1b)\n'}]",0,667947,dd69cc96de9e35755b2752a286ea30301e31caed,6,2,1,30491,,,0,"Remove zuul-cloner usage

Due to zuul-cloner being finally removed from Zuul v3, we have to
remove zuul-cloner usage from supported branches to use CI.
Stein and up have it removed by an unrelated change.
This simple patch is to go to rocky and below.

See [1] for Zuul change.

[1] https://review.opendev.org/663151

Change-Id: I6d3a92e7398601723cf43b48d10fccd740cf664c
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 924226df1f227fed8e9acdee7cd1de2b11e96a1b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/667947/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,dd69cc96de9e35755b2752a286ea30301e31caed,remove-zuul-cloner-in-pike,,"function clone_repos { cat > /tmp/clonemap <<EOF clonemap: - name: openstack/kolla dest: ${GIT_PROJECT_DIR}/kolla - name: openstack/requirements dest: ${GIT_PROJECT_DIR}/requirements EOF /usr/zuul-env/bin/zuul-cloner -m /tmp/clonemap --workspace ""$(pwd)"" \ --cache-dir /opt/git https://git.openstack.org \ openstack/kolla openstack/requirements } clone_repos",0,15
openstack%2Fkolla-ansible~stable%2Fqueens~Id4ac65148daf09cb192789a1d73871811cdea342,openstack/kolla-ansible,stable/queens,Id4ac65148daf09cb192789a1d73871811cdea342,Remove zuul-cloner usage,MERGED,2019-06-27 14:43:09.000000000,2019-06-28 09:18:19.000000000,2019-06-28 09:18:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 14:43:09.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20782235c5f5fa16e656f8cf266bc4c83e4347ff', 'message': 'Remove zuul-cloner usage\n\nDue to zuul-cloner being finally removed from Zuul v3, we have to\nremove zuul-cloner usage from supported branches to use CI.\nStein and up have it removed by an unrelated change.\nThis simple patch is to go to rocky and below.\n\nSee [1] for Zuul change.\n\n[1] https://review.opendev.org/663151\n\nChange-Id: Id4ac65148daf09cb192789a1d73871811cdea342\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 924226df1f227fed8e9acdee7cd1de2b11e96a1b)\n'}]",0,667945,20782235c5f5fa16e656f8cf266bc4c83e4347ff,6,2,1,30491,,,0,"Remove zuul-cloner usage

Due to zuul-cloner being finally removed from Zuul v3, we have to
remove zuul-cloner usage from supported branches to use CI.
Stein and up have it removed by an unrelated change.
This simple patch is to go to rocky and below.

See [1] for Zuul change.

[1] https://review.opendev.org/663151

Change-Id: Id4ac65148daf09cb192789a1d73871811cdea342
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 924226df1f227fed8e9acdee7cd1de2b11e96a1b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/667945/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,20782235c5f5fa16e656f8cf266bc4c83e4347ff,remove-zuul-cloner-in-queens,,"function clone_repos { cat > /tmp/clonemap <<EOF clonemap: - name: openstack/kolla dest: ${GIT_PROJECT_DIR}/kolla - name: openstack/requirements dest: ${GIT_PROJECT_DIR}/requirements EOF /usr/zuul-env/bin/zuul-cloner -m /tmp/clonemap --workspace ""$(pwd)"" \ --cache-dir /opt/git https://git.openstack.org \ openstack/kolla openstack/requirements } clone_repos",0,15
openstack%2Fkolla-ansible~stable%2Fstein~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/stein,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-27 16:28:47.000000000,2019-06-28 09:14:54.000000000,2019-06-28 09:14:54.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 16:28:47.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed3d1e37ffa3c513957e184693d5ae7e451e92d8', 'message': 'Avoid parallel discover_hosts (nova-related race condition)\n\nIn a rare event both kolla-ansible and nova-scheduler try to do\nthe mapping at the same time and one of them fails.\nSince kolla-ansible runs host discovery on each deployment,\nthere is no need to change the default of no periodic host discovery.\n\nI added some notes for future. They are not critical.\nI made the decision explicit in the comments.\nI changed the task name to satisfy recommendations.\nI removed the variable because it is not used (to avoid future doubts).\n\nCloses-Bug: #1832987\nChange-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)\n'}]",0,667984,ed3d1e37ffa3c513957e184693d5ae7e451e92d8,11,6,1,30491,,,0,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/667984/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2']",2,ed3d1e37ffa3c513957e184693d5ae7e451e92d8,bug/1832987,# NOTE(yoctozepto): kolla-ansible handles cell mapping by itself on each deploy # periodic run must be disabled to avoid random failures (where both try to map) # -1 is default and means periodic discovery is disabled discover_hosts_in_cells_interval = -1,discover_hosts_in_cells_interval = 60,7,3
openstack%2Fneutron-tempest-plugin~master~I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987,openstack/neutron-tempest-plugin,master,I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987,Update flake8 style enforcement,MERGED,2019-06-27 15:33:36.000000000,2019-06-28 09:09:34.000000000,2019-06-28 09:09:34.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 15:33:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d4fa6dc0f600fd1184c25e946c99735c04451003', 'message': 'Update flake8 style enforcement\n\nAdded enforcement of H204 and H205 extensions to match\nneutron repo, there were no few failures.\n\nChange-Id: I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987\n'}]",0,667965,d4fa6dc0f600fd1184c25e946c99735c04451003,7,3,1,1131,,,0,"Update flake8 style enforcement

Added enforcement of H204 and H205 extensions to match
neutron repo, there were no few failures.

Change-Id: I9809f9f93e5c9dc4b654e2a50b35ed8cf3428987
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/65/667965/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d4fa6dc0f600fd1184c25e946c99735c04451003,,"# H204: Use assert(Not)Equal to check for equality # H205: Use assert(Greater|Less)(Equal) for comparisonenable-extensions = H106,H203,H204,H205,H904","enable-extensions = H106,H203,H904",3,1
openstack%2Fneutron~master~I5af8b5e76ca8fd2fba58d0dd987be37530836480,openstack/neutron,master,I5af8b5e76ca8fd2fba58d0dd987be37530836480,BGP Documentation Updates,MERGED,2019-06-20 03:36:06.000000000,2019-06-28 09:09:32.000000000,2019-06-28 09:09:32.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-20 03:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7809574d84dd4cc9d92414f15750f736d5bfb1f2', 'message': 'BGP Documentation Updates\n\nThis change updates the documentation for neutron-dynamic-routing\nto reflect recent enahncements in DVR compatibility and use of the\nopenstack CLI instead of the neutron CLI.\n\nChange-Id: I5af8b5e76ca8fd2fba58d0dd987be37530836480\nCloses-Bug: #1832603\n'}, {'number': 2, 'created': '2019-06-20 16:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a7de10c5241d21930a19c971e3ad35359d25a70', 'message': 'BGP Documentation Updates\n\nThis change updates the documentation for neutron-dynamic-routing\nto reflect recent enhancements in DVR compatibility and use of the\nopenstack CLI instead of the neutron CLI.\n\nChange-Id: I5af8b5e76ca8fd2fba58d0dd987be37530836480\nCloses-Bug: #1832603\n'}, {'number': 3, 'created': '2019-06-27 21:01:16.000000000', 'files': ['doc/source/admin/config-bgp-dynamic-routing.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fd1cf35a821ed0d0ef52bed812c401ebd19b563', 'message': 'BGP Documentation Updates\n\nThis change updates the documentation for neutron-dynamic-routing\nto reflect recent enhancements in DVR compatibility and use of the\nopenstack CLI instead of the neutron CLI.\n\nChange-Id: I5af8b5e76ca8fd2fba58d0dd987be37530836480\nCloses-Bug: #1832603\n'}]",15,666481,6fd1cf35a821ed0d0ef52bed812c401ebd19b563,24,9,3,4187,,,0,"BGP Documentation Updates

This change updates the documentation for neutron-dynamic-routing
to reflect recent enhancements in DVR compatibility and use of the
openstack CLI instead of the neutron CLI.

Change-Id: I5af8b5e76ca8fd2fba58d0dd987be37530836480
Closes-Bug: #1832603
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/666481/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-bgp-dynamic-routing.rst'],1,7809574d84dd4cc9d92414f15750f736d5bfb1f2,bug/1832603," $ openstack network agent list --agent-type=""bgp"" $ openstack bgp speaker create --ip-version 4 \ $ openstack bgp speaker add network bgpspeaker provider $ openstack bgp speaker show bgpspeaker $ openstack bgp speaker list advertised routes bgpspeaker $ openstack bgp peer create --peer-ip 192.0.2.1 \ $ openstack bgp speaker add peer bgpspeaker bgppeer $ openstack bgp speaker show bgpspeaker $ openstack bgp dragent add speaker 37729181-2224-48d8-89ef-16eca8e2f77e bgpspeaker $ openstack bgp speaker show dragents bgpspeakerFor both floating IP and IPv4 fixed IP addresses, the BGP speaker advertises the floating IP agent gateway on the corresponding compute node as the next-hop IP address. When using IPv6 fixed IP addresses, the BGP speaker advertises the DVR SNAT node as the next-hop IP address.#. Instances with fixed IP's 198.51.100.11, 198.51.100.12, and 198.51.100.13 #. ``advertise_tenant_networks`` is set to ``False`` on the BGP speaker $ openstack bgp speaker list advertised routes bgpspeakerWhen floating IP's are disassociated and ``advertise_tenant_networks`` is set to ``True``, the following routes will be advertised: .. code-block:: console $ openstack bgp speaker list advertised routes bgpspeaker +------------------+--------------+ | destination | next_hop | +------------------+--------------+ | 198.51.100.0/24 | 203.0.113.11 | | 198.51.100.11/32 | 203.0.113.12 | | 198.51.100.12/32 | 203.0.113.13 | | 198.51.100.13/32 | 203.0.113.14 | +------------------+--------------+ DVR lacks support for routing directly to a fixed IPv6 address via the floating IP agent gateway port and thus prevents the BGP speaker from advertising /128 host routes. $ openstack network agent list --agent-type=""bgp"" $ openstack bgp dragent add speaker 37729181-2224-48d8-89ef-16eca8e2f77e bgpspeaker $ openstack bgp dragent add speaker 1a2d33bb-9321-30a2-76ab-22eff3d2f56a bgpspeaker $ openstack bgp speaker show dragents bgpspeaker"," $ neutron agent-list --agent-type=""BGP dynamic routing agent"" $ neutron bgp-speaker-create --ip-version 4 \ $ neutron bgp-speaker-network-add bgpspeaker provider $ neutron bgp-speaker-show bgpspeaker $ neutron bgp-speaker-advertiseroute-list bgpspeaker $ neutron bgp-peer-create --peer-ip 192.0.2.1 \ $ neutron bgp-speaker-peer-add bgpspeaker bgppeer $ neutron bgp-speaker-show bgpspeaker $ neutron bgp-dragent-speaker-add 37729181-2224-48d8-89ef-16eca8e2f77e bgpspeaker $ neutron bgp-dragent-list-hosting-speaker bgpspeaker $ neutron bgp-speaker-list-on-dragent 37729181-2224-48d8-89ef-16eca8e2f77e +--------------------------------------+------------+----------+------------+ | id | name | local_as | ip_version | +--------------------------------------+------------+----------+------------+ | 5f227f14-4f46-4eca-9524-fc5a1eabc358 | bgpspeaker | 1234 | 4 | +--------------------------------------+------------+----------+------------+ In deployments using DVR, the BGP speaker advertises floating IP addresses and self-service networks differently. For floating IP addresses, the BGP speaker advertises the floating IP agent gateway on the corresponding compute node as the next-hop IP address. For self-service networks using SNAT, the BGP speaker advertises the DVR SNAT node as the next-hop IP address. $ neutron bgp-speaker-advertiseroute-list bgpspeaker.. note:: DVR lacks support for routing directly to a fixed IP address via the floating IP agent gateway port and thus prevents the BGP speaker from advertising fixed IP addresses. DVR with IPv6 functions similarly to DVR with IPv4. $ neutron agent-list --agent-type=""BGP dynamic routing agent"" $ neutron bgp-dragent-speaker-add 37729181-2224-48d8-89ef-16eca8e2f77e bgpspeaker $ neutron bgp-dragent-speaker-add 1a2d33bb-9321-30a2-76ab-22eff3d2f56a bgpspeaker $ neutron bgp-dragent-list-hosting-speaker bgpspeaker $ neutron bgp-speaker-list-on-dragent 37729181-2224-48d8-89ef-16eca8e2f77e +--------------------------------------+------------+----------+------------+ | id | name | local_as | ip_version | +--------------------------------------+------------+----------+------------+ | 5f227f14-4f46-4eca-9524-fc5a1eabc358 | bgpspeaker | 1234 | 4 | +--------------------------------------+------------+----------+------------+ $ neutron bgp-speaker-list-on-dragent 1a2d33bb-9321-30a2-76ab-22eff3d2f56a +--------------------------------------+------------+----------+------------+ | id | name | local_as | ip_version | +--------------------------------------+------------+----------+------------+ | 5f227f14-4f46-4eca-9524-fc5a1eabc358 | bgpspeaker | 1234 | 4 | +--------------------------------------+------------+----------+------------+",39,47
openstack%2Fplacement~master~Ia6795ef15a03429c19e66ed6d297f62da72cc052,openstack/placement,master,Ia6795ef15a03429c19e66ed6d297f62da72cc052,Move non-nested perfload shell commands to script,MERGED,2019-06-20 11:39:10.000000000,2019-06-28 09:05:20.000000000,2019-06-28 09:05:20.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-20 11:39:10.000000000', 'files': ['playbooks/perfload.yaml', 'gate/perfload-runner.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/3b040f58f72cf0f92475e0eb194fed545955cf0d', 'message': ""Move non-nested perfload shell commands to script\n\nThe script was embedded in the playbook, which leads to some\npain with regard to editing and reviewing as well as manual\ntesting.\n\nThe disadvantage of doing this is that it can make jobs\nsomewhat less portable between projects, but in this case\nthat's not really an issue.\n\nThere are further improvements that can made to remove duplication\nbetween the nested and non-nested versions of these jobs. This\nchange will make it easier for those changes to be made as\npeople have time.\n\nChange-Id: Ia6795ef15a03429c19e66ed6d297f62da72cc052\n""}]",1,666544,3b040f58f72cf0f92475e0eb194fed545955cf0d,9,4,1,11564,,,0,"Move non-nested perfload shell commands to script

The script was embedded in the playbook, which leads to some
pain with regard to editing and reviewing as well as manual
testing.

The disadvantage of doing this is that it can make jobs
somewhat less portable between projects, but in this case
that's not really an issue.

There are further improvements that can made to remove duplication
between the nested and non-nested versions of these jobs. This
change will make it easier for those changes to be made as
people have time.

Change-Id: Ia6795ef15a03429c19e66ed6d297f62da72cc052
",git fetch https://review.opendev.org/openstack/placement refs/changes/44/666544/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/perfload.yaml', 'gate/perfload-runner.sh']",2,3b040f58f72cf0f92475e0eb194fed545955cf0d,story/2005443,"#!/bin/bash -x WORK_DIR=$1 # Do some performance related information gathering for placement. EXPLANATION="" This output combines output from placeload with timing information gathered via curl. The placeload output is the current maximum microversion of placement followed by an encoded representation of what it has done. Lowercase 'r', 'i', 'a', and 't' indicate successful creation of a resource provider and setting inventory, aggregates, and traits on that resource provider. If there are upper case versions of any of those letters, a failure happened for a single request. The letter will be followed by the HTTP status code and the resource provider uuid. These can be used to find the relevant entry in logs/screen-placement-api.txt.gz. Note that placeload does not exit with an error code when this happens. It merely reports and moves on. Under correct circumstances the right output is a long string of 4000 characters containing 'r', 'i', 'a', 't' in random order (because async). After that are three aggregate uuids, timing information for the placeload run, and then timing information for two identical curl requests for allocation candidates. If no timed requests are present it means that the expected number of resource providers were not created. At this time, only resource providers are counted, not whether they have the correct inventory, aggregates, or traits. "" # This aggregate uuid is a static value in placeload. AGGREGATE=""14a5c8a3-5a99-4e8f-88be-00d85fcb1c17"" TRAIT=""HW_CPU_X86_AVX2"" PLACEMENT_QUERY=""resources=VCPU:1,DISK_GB:10,MEMORY_MB:256&member_of=${AGGREGATE}&required=${TRAIT}"" PLACEMENT_URL=""http://localhost:8000"" LOG=placement-perf.txt LOG_DEST=${WORK_DIR}/logs COUNT=1000 trap ""sudo cp -p $LOG $LOG_DEST"" EXIT function time_candidates { ( echo ""##### TIMING GET /allocation_candidates?${PLACEMENT_QUERY} twice"" time curl -s -H 'x-auth-token: admin' -H 'openstack-api-version: placement latest' ""${PLACEMENT_URL}/allocation_candidates?${PLACEMENT_QUERY}"" > /dev/null time curl -s -H 'x-auth-token: admin' -H 'openstack-api-version: placement latest' ""${PLACEMENT_URL}/allocation_candidates?${PLACEMENT_QUERY}"" > /dev/null ) 2>&1 | tee -a $LOG } function write_allocation { # Take the first allocation request and send it back as a well-formed allocation curl -s -H 'x-auth-token: admin' -H 'openstack-api-version: placement latest' ""${PLACEMENT_URL}/allocation_candidates?${PLACEMENT_QUERY}&limit=5"" \ | jq --arg proj $(uuidgen) --arg user $(uuidgen) '.allocation_requests[0] + {consumer_generation: null, project_id: $proj, user_id: $user}' \ | curl -s -H 'x-auth-token: admin' -H 'content-type: application/json' -H 'openstack-api-version: placement latest' \ -X PUT -d @- ""${PLACEMENT_URL}/allocations/$(uuidgen)"" } function load_candidates { time_candidates for iter in {1..99}; do echo ""##### Writing allocation ${iter}"" | tee -a $LOG write_allocation time_candidates done } function check_placement { local rp_count local code code=0 python -m virtualenv -p python3 .placeload . .placeload/bin/activate # install placeload pip install 'placeload==0.3.0' set +x # load with placeload ( echo ""$EXPLANATION"" # preheat the aggregates to avoid https://bugs.launchpad.net/nova/+bug/1804453 placeload $PLACEMENT_URL 10 echo ""##### TIMING placeload creating $COUNT resource providers with inventory, aggregates and traits."" time placeload $PLACEMENT_URL $COUNT ) 2>&1 | tee -a $LOG rp_count=$(curl -H 'x-auth-token: admin' ${PLACEMENT_URL}/resource_providers |json_pp|grep -c '""name""') # Skip curl and note if we failed to create the required number of rps if [[ $rp_count -ge $COUNT ]]; then load_candidates else ( echo ""Unable to create expected number of resource providers. Expected: ${COUNT}, Got: $rp_count"" echo ""See job-output.txt.gz and logs/screen-placement-api.txt.gz for additional detail."" ) | tee -a $LOG code=1 fi set -x deactivate exit $code } check_placement ",,111,135
openstack%2Fdevstack~master~Ifa196bd33959f1425df9a34cdab4acf4c3b8071b,openstack/devstack,master,Ifa196bd33959f1425df9a34cdab4acf4c3b8071b,Use L3RouterPlugin alias,MERGED,2019-03-21 18:13:27.000000000,2019-06-28 09:05:16.000000000,2019-06-28 09:05:15.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-03-21 18:13:27.000000000', 'files': ['lib/neutron_plugins/ml2'], 'web_link': 'https://opendev.org/openstack/devstack/commit/245445b1bd35e580259f4decd9b0b047fe728794', 'message': ""Use L3RouterPlugin alias\n\nThe 'router' alias for the L3RouterPlugin has been in\nsetup.cfg for a while, let's use it.\n\nChange-Id: Ifa196bd33959f1425df9a34cdab4acf4c3b8071b\n""}]",0,645289,245445b1bd35e580259f4decd9b0b047fe728794,12,8,1,1131,,,0,"Use L3RouterPlugin alias

The 'router' alias for the L3RouterPlugin has been in
setup.cfg for a while, let's use it.

Change-Id: Ifa196bd33959f1425df9a34cdab4acf4c3b8071b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/89/645289/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ml2'],1,245445b1bd35e580259f4decd9b0b047fe728794,,ML2_L3_PLUGIN=${ML2_L3_PLUGIN-router},ML2_L3_PLUGIN=${ML2_L3_PLUGIN-neutron.services.l3_router.l3_router_plugin.L3RouterPlugin},1,1
openstack%2Fnova~master~I0e9f9a488141da599c10af8cabb4f6a5d111104f,openstack/nova,master,I0e9f9a488141da599c10af8cabb4f6a5d111104f,pull out put_allocation call from _heal_*,MERGED,2019-04-24 14:24:31.000000000,2019-06-28 09:03:18.000000000,2019-06-27 21:36:37.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-24 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/055336a35d2717c9f70eb9023803a0f1c7c05998', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelate-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 2, 'created': '2019-04-30 02:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26887033338e028446096a45803cd8d0f8e67025', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelate-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 3, 'created': '2019-04-30 13:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2b849422bbf785306d3785242dbe44424a810e', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelate-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 4, 'created': '2019-05-04 17:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a90be0a46d684a572042f1896838171d39ee8c13', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelate-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 5, 'created': '2019-05-10 09:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e754fc658ba7289a4ed17f943988ee234351b6f', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelate-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 6, 'created': '2019-05-28 08:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/897766aaed2fb7a63d527bab4be0716c7816ea63', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelated-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 7, 'created': '2019-06-26 08:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6be56616e1f1c0c51f6b5d7b5183bb335353c2af', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelated-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}, {'number': 8, 'created': '2019-06-27 08:59:16.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2866609bbb4e70e2b781a80ecc1ad0bccf93813', 'message': 'pull out put_allocation call from _heal_*\n\nBoth allocation healing steps calls the placement API. This patch pulls\nout the placement updating code to a single place. To do that it change\nthe healing steps to only generate / update the allocation individually\nand then at the end of the healing there will be a single placement\nupdate with this allocation.\n\nThis will help us to include the port related allocation into the instance\nallocation by modifying a single place in the code.\n\nRelated-Bug: #1819923\n\nChange-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f\n'}]",7,655459,e2866609bbb4e70e2b781a80ecc1ad0bccf93813,102,17,8,9708,,,0,"pull out put_allocation call from _heal_*

Both allocation healing steps calls the placement API. This patch pulls
out the placement updating code to a single place. To do that it change
the healing steps to only generate / update the allocation individually
and then at the end of the healing there will be a single placement
update with this allocation.

This will help us to include the port related allocation into the instance
allocation by modifying a single place in the code.

Related-Bug: #1819923

Change-Id: I0e9f9a488141da599c10af8cabb4f6a5d111104f
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/655459/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",3,055336a35d2717c9f70eb9023803a0f1c7c05998,bug/1819923," def _heal_missing_alloc(self, ctxt, instance, node_cache): payload = { 'allocations': { node_uuid: {'resources': resources}, }, 'project_id': instance.project_id, 'user_id': instance.user_id, 'consumer_generation': None } return payload def _heal_missing_project_and_user_id(self, allocations, instance): return allocations need_update = False need_update = True allocations = self._heal_missing_alloc(ctxt, instance, node_cache) need_update = True allocations = self._heal_missing_project_and_user_id( allocations, instance) if need_update: if dry_run: output(_('[dry-run] Update or create allocations for instance ' '%(instance)s: %(allocations)s') % {'instance': instance.uuid, 'allocations': allocations}) else: resp = placement.put_allocations(ctxt, instance.uuid, allocations) if resp: output(_('Successfully updated or created allocations for ' 'instance %s.') % instance.uuid) return True else: raise exception.AllocationUpdateFailed( consumer_uuid=instance.uuid, error='') else: output(_('Instance %s already has allocations with ' 'matching consumer project/user.') % instance.uuid) return"," def _heal_missing_alloc( self, ctxt, instance, node_cache, dry_run, output, placement): if dry_run: output(_('[dry-run] Create allocations for instance %(instance)s ' 'on provider %(node_uuid)s: %(resources)s') % {'instance': instance.uuid, 'node_uuid': node_uuid, 'resources': resources}) else: payload = { 'allocations': { node_uuid: {'resources': resources}, }, 'project_id': instance.project_id, 'user_id': instance.user_id, 'consumer_generation': None } resp = placement.put_allocations(ctxt, instance.uuid, payload) if resp: output(_('Successfully created allocations for ' 'instance %(instance)s against resource ' 'provider %(provider)s.') % {'instance': instance.uuid, 'provider': node_uuid}) return True else: raise exception.AllocationCreateFailed( instance=instance.uuid, provider=node_uuid) def _heal_missing_project_and_user_id( self, ctxt, allocations, instance, dry_run, output, placement): if dry_run: output(_('[dry-run] Update allocations for instance ' '%(instance)s: %(allocations)s') % {'instance': instance.uuid, 'allocations': allocations}) else: resp = placement.put_allocations(ctxt, instance.uuid, allocations) if resp: output(_('Successfully updated allocations for ' 'instance %s.') % instance.uuid) return True else: raise exception.AllocationUpdateFailed( consumer_uuid=instance.uuid, error=resp.text) return self._heal_missing_alloc( ctxt, instance, node_cache, dry_run, output, placement) return self._heal_missing_project_and_user_id( ctxt, allocations, instance, dry_run, output, placement) output(_('Instance %s already has allocations with ' 'matching consumer project/user.') % instance.uuid) return",45,55
openstack%2Ftricircle~master~I535a62712b915cfc6a1e759301ea0fa28ffb9389,openstack/tricircle,master,I535a62712b915cfc6a1e759301ea0fa28ffb9389,Add the penstack-python3-train-jobs template,MERGED,2019-06-28 06:55:51.000000000,2019-06-28 08:57:45.000000000,2019-06-28 08:57:44.000000000,"[{'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-06-28 06:55:51.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7b62f9363a00ed4b12badf8113b829801ff4d870', 'message': 'Add the penstack-python3-train-jobs template\n\n[1]https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html\n[2]https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I535a62712b915cfc6a1e759301ea0fa28ffb9389\nSigned-off-by: song baisen <songbaisen@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n'}]",0,668099,7b62f9363a00ed4b12badf8113b829801ff4d870,6,2,1,27215,,,0,"Add the penstack-python3-train-jobs template

[1]https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html
[2]https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I535a62712b915cfc6a1e759301ea0fa28ffb9389
Signed-off-by: song baisen <songbaisen@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/99/668099/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,7b62f9363a00ed4b12badf8113b829801ff4d870,s31,"envlist = py36,py37,py27,pypy,pep8","envlist = py36,py27,pypy,pep8",3,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,openstack/tripleo-heat-templates,stable/queens,I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,Force ansible serial to 1 for the Controller,MERGED,2019-06-11 12:30:06.000000000,2019-06-28 08:48:39.000000000,2019-06-28 08:48:39.000000000,"[{'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-11 12:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52d1b8bcfeec06577647571bd765f291b4e51165', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n""}, {'number': 2, 'created': '2019-06-11 12:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d16e52dfda35f89f4140e831c042c2b733800eb6', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n""}, {'number': 3, 'created': '2019-06-11 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b02dce04cd2a4d0e0fb2ac5011a49326823e628', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 4, 'created': '2019-06-12 12:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78e78dae6bf00d12ec194532ae39795defe1588e', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 5, 'created': '2019-06-12 13:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/750dc5a8c30225d87864468f6644fbe0d6ab7764', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 6, 'created': '2019-06-13 05:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf72cd4bbeda6f0fa862f907b2b482d9fa16f879', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 7, 'created': '2019-06-17 08:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc8de0aec3c26192a636bbce721b875d6ccb09e1', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit effb11b7e351eb9fc6d5762ae41ce5f6ed5ccd7f)\n""}, {'number': 8, 'created': '2019-06-18 07:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa0ba2bd05e719f3ad1bfb3ed99c1ed9c7fbfdd8', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)\n""}, {'number': 9, 'created': '2019-06-19 11:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb67c6eae5401216b0885da8a81875b620f0904e', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)\n""}, {'number': 10, 'created': '2019-06-24 12:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfb2909733072f12e27174eb34148f70cdf60559', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)\n""}, {'number': 11, 'created': '2019-06-27 12:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83ab5d307fd8d0374f5d4994bfb99bd55610a267', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)\n""}, {'number': 12, 'created': '2019-06-27 13:10:57.000000000', 'files': ['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/ControllerOpenstack.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/Messaging.yaml', 'common/deploy-steps.j2', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/BlockStorage.yaml', 'releasenotes/notes/update_serial-785ff794ff88fb2e.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/Database.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfbf68bdacd5c2af69cde6602da038621b3cca28', 'message': ""Force ansible serial to 1 for the Controller\n\nBy introducing update_serial variable we parallelize update\nexecution on non-pacemaker enabled nodes. Custom role data users\nneed to update their role files. By default we do serial 1 making\nsure nothing changes for users who didn't update their role data.\n\nResolves: rhbz#1652057\nCloses-Bug: #1831617\n\nChange-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5\n(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)\n""}]",0,664567,cfbf68bdacd5c2af69cde6602da038621b3cca28,42,6,12,16515,,,0,"Force ansible serial to 1 for the Controller

By introducing update_serial variable we parallelize update
execution on non-pacemaker enabled nodes. Custom role data users
need to update their role files. By default we do serial 1 making
sure nothing changes for users who didn't update their role data.

Resolves: rhbz#1652057
Closes-Bug: #1831617

Change-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5
(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/664567/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/ControllerOpenstack.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/Messaging.yaml', 'common/deploy-steps.j2', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/BlockStorage.yaml', 'releasenotes/notes/update_serial-785ff794ff88fb2e.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/Database.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml']",38,52d1b8bcfeec06577647571bd765f291b4e51165,bug/1831617, update_serial: 1,,72,12
openstack%2Fpython-cloudkittyclient~master~Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651,openstack/python-cloudkittyclient,master,Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651,Add support for /v2/summary to the client,MERGED,2019-06-03 10:58:46.000000000,2019-06-28 08:39:30.000000000,2019-06-28 08:39:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-03 10:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/aa9e9ad2fc075faabc53b52bfdf0d22aec04cef3', 'message': 'Add support for /v2/summary to the client\n\nThis allows to get a summary through the v2 API endpoint via the client\nlibrary and cli tool.\n\nChange-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651\nStory: 2005664\nTask: 30960\n'}, {'number': 2, 'created': '2019-06-03 11:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/108676c9b59d905d6d9c6b11ce30e771d2714b23', 'message': 'Add support for /v2/summary to the client\n\nThis allows to get a summary through the v2 API endpoint via the client\nlibrary and cli tool.\n\nDepends-On: https://review.opendev.org/#/c/660608/\nChange-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651\nStory: 2005664\nTask: 30960\n'}, {'number': 3, 'created': '2019-06-05 09:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/ff3b79991d9b81d8067ec55520767ec011c23a66', 'message': 'Add support for /v2/summary to the client\n\nThis allows to get a summary through the v2 API endpoint via the client\nlibrary and cli tool.\n\nDepends-On: https://review.opendev.org/#/c/660608/\nChange-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651\nStory: 2005664\nTask: 30960\n'}, {'number': 4, 'created': '2019-06-26 15:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/4cc4caa5c3019c0fc202f3b7a28c6425d6801e3b', 'message': 'Add support for /v2/summary to the client\n\nThis allows to get a summary through the v2 API endpoint via the client\nlibrary and cli tool.\n\nDepends-On: https://review.opendev.org/#/c/660608/\nChange-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651\nStory: 2005664\nTask: 30960\n'}, {'number': 5, 'created': '2019-06-27 14:49:34.000000000', 'files': ['cloudkittyclient/v2/client.py', 'cloudkittyclient/v2/summary.py', 'cloudkittyclient/osc.py', 'doc/source/api_reference/v1/collector.rst', 'cloudkittyclient/tests/unit/v2/test_summary.py', 'doc/source/usage.rst', 'cloudkittyclient/tests/functional/v2/test_summary.py', 'doc/source/api_reference/v2/index.rst', 'cloudkittyclient/v2/summary_cli.py', 'doc/source/conf.py', 'doc/source/cli_reference.rst', 'cloudkittyclient/shell.py', 'doc/source/api_reference/v1/rating.rst', 'doc/source/api_reference/v2/scope.rst', 'doc/source/api_reference/v1/storage.rst', 'doc/source/api_reference/v1/index.rst', 'cloudkittyclient/tests/unit/v2/base.py', 'setup.cfg', 'doc/source/api_reference/index.rst', 'releasenotes/notes/add-support-v2-summary-7c1ff903f21f057b.yaml', 'doc/source/api_reference/v1/info.rst', 'doc/source/api_reference/v1/report.rst', 'doc/source/api_reference/v2/summary.rst'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/c138f409b1f54bb2ea4528b4e61757ab19a989b9', 'message': 'Add support for /v2/summary to the client\n\nThis allows to get a summary through the v2 API endpoint via the client\nlibrary and cli tool.\n\nDepends-On: https://review.opendev.org/#/c/660608/\nChange-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651\nStory: 2005664\nTask: 30960\n'}]",3,662730,c138f409b1f54bb2ea4528b4e61757ab19a989b9,17,3,5,23060,,,0,"Add support for /v2/summary to the client

This allows to get a summary through the v2 API endpoint via the client
library and cli tool.

Depends-On: https://review.opendev.org/#/c/660608/
Change-Id: Id63f2419fe3a1eb518a0ffa7ea5fa572b18df651
Story: 2005664
Task: 30960
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/30/662730/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v2/client.py', 'cloudkittyclient/v2/summary.py', 'cloudkittyclient/osc.py', 'doc/source/api_reference/v1/collector.rst', 'cloudkittyclient/tests/unit/v2/test_summary.py', 'doc/source/usage.rst', 'cloudkittyclient/tests/functional/v2/test_summary.py', 'doc/source/api_reference/v2/index.rst', 'cloudkittyclient/v2/summary_cli.py', 'doc/source/conf.py', 'doc/source/cli_reference.rst', 'cloudkittyclient/shell.py', 'doc/source/api_reference/v1/rating.rst', 'doc/source/api_reference/v2/scope.rst', 'doc/source/api_reference/v1/storage.rst', 'doc/source/api_reference/v1/index.rst', 'cloudkittyclient/tests/unit/v2/base.py', 'setup.cfg', 'doc/source/api_reference/index.rst', 'releasenotes/notes/add-support-v2-summary-7c1ff903f21f057b.yaml', 'doc/source/api_reference/v1/info.rst', 'doc/source/api_reference/v1/report.rst', 'doc/source/api_reference/v2/summary.rst']",23,aa9e9ad2fc075faabc53b52bfdf0d22aec04cef3,,===================== summary (/v2/summary) ===================== .. automodule:: cloudkittyclient.v2.summary :members: ,,397,20
openstack%2Fneutron-lib~master~Ibd9cff863eaff940755ccb9c20f39e29e2001cde,openstack/neutron-lib,master,Ibd9cff863eaff940755ccb9c20f39e29e2001cde,Update flake8 style enforcement,MERGED,2019-06-26 20:31:36.000000000,2019-06-28 08:25:08.000000000,2019-06-27 14:00:06.000000000,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 20:31:36.000000000', 'files': ['neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/tests/unit/utils/test_runtime.py', 'neutron_lib/tests/unit/hacking/test_checks.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bf810d24ed715910cf6b10e4fe995315a8c3bb5a', 'message': 'Update flake8 style enforcement\n\nAdded enforcement of H106, H203, H204 and H205 extensions to\nmatch neutron repo, fixing a few failures in the process.\n\nAlso updated to support hacking 1.1.0, bringing in flake8\n2.6.2 and pycodestyle 2.4.0 in the process.  This ensures\nfuture python3 compatibility and a bit better code styling.\n\nChange-Id: Ibd9cff863eaff940755ccb9c20f39e29e2001cde\n'}]",0,667723,bf810d24ed715910cf6b10e4fe995315a8c3bb5a,10,4,1,1131,,,0,"Update flake8 style enforcement

Added enforcement of H106, H203, H204 and H205 extensions to
match neutron repo, fixing a few failures in the process.

Also updated to support hacking 1.1.0, bringing in flake8
2.6.2 and pycodestyle 2.4.0 in the process.  This ensures
future python3 compatibility and a bit better code styling.

Change-Id: Ibd9cff863eaff940755ccb9c20f39e29e2001cde
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/23/667723/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/tests/unit/utils/test_runtime.py', 'neutron_lib/tests/unit/hacking/test_checks.py', 'lower-constraints.txt', 'tox.ini']",5,bf810d24ed715910cf6b10e4fe995315a8c3bb5a,new-flake8,"# H106: Don't put vim configuration in source files # H203: Use assertIs(Not)None to check for None # H204: Use assert(Not)Equal to check for equality # H205: Use assert(Greater|Less)(Equal) for comparisonenable-extensions=H106,H203,H204,H205,H904",enable-extensions=H904,13,9
openstack%2Fkolla-ansible~stable%2Frocky~I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9,openstack/kolla-ansible,stable/rocky,I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9,Remove zuul-cloner usage,MERGED,2019-06-27 14:40:15.000000000,2019-06-28 08:16:03.000000000,2019-06-28 08:16:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 14:40:15.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/924226df1f227fed8e9acdee7cd1de2b11e96a1b', 'message': 'Remove zuul-cloner usage\n\nDue to zuul-cloner being finally removed from Zuul v3, we have to\nremove zuul-cloner usage from supported branches to use CI.\nStein and up have it removed by an unrelated change.\nThis simple patch is to go to rocky and below.\n\nSee [1] for Zuul change.\n\n[1] https://review.opendev.org/663151\n\nChange-Id: I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,667944,924226df1f227fed8e9acdee7cd1de2b11e96a1b,7,3,1,30491,,,0,"Remove zuul-cloner usage

Due to zuul-cloner being finally removed from Zuul v3, we have to
remove zuul-cloner usage from supported branches to use CI.
Stein and up have it removed by an unrelated change.
This simple patch is to go to rocky and below.

See [1] for Zuul change.

[1] https://review.opendev.org/663151

Change-Id: I4b98c2cf207e3511e00ae69e88a9b5b126daa6c9
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/667944/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,924226df1f227fed8e9acdee7cd1de2b11e96a1b,remove-zuul-cloner,,"function clone_repos { cat > /tmp/clonemap <<EOF clonemap: - name: openstack/kolla dest: ${GIT_PROJECT_DIR}/kolla - name: openstack/requirements dest: ${GIT_PROJECT_DIR}/requirements EOF /usr/zuul-env/bin/zuul-cloner -m /tmp/clonemap --workspace ""$(pwd)"" \ --cache-dir /opt/git https://git.openstack.org \ openstack/kolla openstack/requirements } clone_repos",0,15
openstack%2Fpython-swiftclient~master~I18a6327b3acdd4db5ae80097080c043f7c20c353,openstack/python-swiftclient,master,I18a6327b3acdd4db5ae80097080c043f7c20c353,Clean up warnings from newer flake8,MERGED,2019-06-25 22:44:01.000000000,2019-06-28 08:13:46.000000000,2019-06-28 08:13:46.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 22:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/39101b3f082e06e697ed5a9f29ee535ba046f7aa', 'message': 'Clean up warnings from newer flake8\n\nChange-Id: I18a6327b3acdd4db5ae80097080c043f7c20c353\n'}, {'number': 2, 'created': '2019-06-28 04:44:00.000000000', 'files': ['swiftclient/shell.py', 'tests/unit/test_shell.py', 'swiftclient/client.py', 'swiftclient/service.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3b21157a844be5b71fba2216486c3ef412e7ae1a', 'message': 'Clean up warnings from newer flake8\n\nChange-Id: I18a6327b3acdd4db5ae80097080c043f7c20c353\n'}]",0,667478,3b21157a844be5b71fba2216486c3ef412e7ae1a,9,3,2,15343,,,0,"Clean up warnings from newer flake8

Change-Id: I18a6327b3acdd4db5ae80097080c043f7c20c353
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/78/667478/2 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'tests/unit/test_shell.py', 'swiftclient/client.py', 'swiftclient/service.py', 'tox.ini']",5,39101b3f082e06e697ed5a9f29ee535ba046f7aa,,"# W504: line break after binary operator ignore = H101,H301,H306,H401,H403,H404,H405,W504","ignore = H101,H301,H306,H401,H403,H404,H405",7,4
openstack%2Fkolla~stable%2Fstein~I0514c02aaee1a413a7979c3a426e0484df839861,openstack/kolla,stable/stein,I0514c02aaee1a413a7979c3a426e0484df839861,Run nova api_db sync before db sync,MERGED,2019-06-27 14:24:57.000000000,2019-06-28 08:11:31.000000000,2019-06-28 08:11:31.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-06-27 14:24:57.000000000', 'files': ['docker/nova/nova-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/09226a59866e5ace7d573bac2e0772109a2554a0', 'message': 'Run nova api_db sync before db sync\n\nBackport: Stein, Rocky\n\nSince cells v2 was introduced, nova operators must run two commands to\nmigrate the database schemas of nova\'s databases - nova-manage api_db\nsync and nova-manage db sync. It is necessary to run them in this order,\nsince the db sync may depend on schema changes made to the api\ndatabase in the api_db sync. Executing the db sync first may fail,\nfor example with the following seen in a Queens to Rocky upgrade:\n\n    nova-manage db sync\n    ERROR: Could not access cell0.\n    Has the nova_api database been created?\n    Has the nova_cell0 database been created?\n    Has ""nova-manage api_db sync"" been run?\n    Has ""nova-manage cell_v2 map_cell0"" been run?\n    Is [api_database]/connection set in nova.conf?\n    Is the cell0 database connection URL correct?\n    Error: (pymysql.err.InternalError) (1054, u""Unknown column\n            \'cell_mappings.disabled\' in \'field list\'"") [SQL: u\'SELECT\n    cell_mappings.created_at AS cell_mappings_created_at,\n    cell_mappings.updated_at AS cell_mappings_updated_at,\n    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS\n    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,\n    cell_mappings.transport_url AS cell_mappings_transport_url,\n    cell_mappings.database_connection AS\n    cell_mappings_database_connection, cell_mappings.disabled AS\n    cell_mappings_disabled \\nFROM cell_mappings \\nWHERE\n    cell_mappings.uuid = %(uuid_1)s \\n LIMIT %(param_1)s\'] [parameters:\n    {u\'uuid_1\': \'00000000-0000-0000-0000-000000000000\', u\'param_1\': 1}]\n    (Background on this error at: http://sqlalche.me/e/2j85)\n\nDespite this error, the command actually exits zero, so kolla does not notice\nthe failure.\n\nThis change reorders these two commands to run the api_db sync before the db\nsync.\n\nChange-Id: I0514c02aaee1a413a7979c3a426e0484df839861\nCloses-Bug: #1832860\n(cherry picked from commit 84a07102e2db92333ce416a520151f1a1856f162)\n'}]",0,667938,09226a59866e5ace7d573bac2e0772109a2554a0,11,5,1,14826,,,0,"Run nova api_db sync before db sync

Backport: Stein, Rocky

Since cells v2 was introduced, nova operators must run two commands to
migrate the database schemas of nova's databases - nova-manage api_db
sync and nova-manage db sync. It is necessary to run them in this order,
since the db sync may depend on schema changes made to the api
database in the api_db sync. Executing the db sync first may fail,
for example with the following seen in a Queens to Rocky upgrade:

    nova-manage db sync
    ERROR: Could not access cell0.
    Has the nova_api database been created?
    Has the nova_cell0 database been created?
    Has ""nova-manage api_db sync"" been run?
    Has ""nova-manage cell_v2 map_cell0"" been run?
    Is [api_database]/connection set in nova.conf?
    Is the cell0 database connection URL correct?
    Error: (pymysql.err.InternalError) (1054, u""Unknown column
            'cell_mappings.disabled' in 'field list'"") [SQL: u'SELECT
    cell_mappings.created_at AS cell_mappings_created_at,
    cell_mappings.updated_at AS cell_mappings_updated_at,
    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS
    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,
    cell_mappings.transport_url AS cell_mappings_transport_url,
    cell_mappings.database_connection AS
    cell_mappings_database_connection, cell_mappings.disabled AS
    cell_mappings_disabled \nFROM cell_mappings \nWHERE
    cell_mappings.uuid = %(uuid_1)s \n LIMIT %(param_1)s'] [parameters:
    {u'uuid_1': '00000000-0000-0000-0000-000000000000', u'param_1': 1}]
    (Background on this error at: http://sqlalche.me/e/2j85)

Despite this error, the command actually exits zero, so kolla does not notice
the failure.

This change reorders these two commands to run the api_db sync before the db
sync.

Change-Id: I0514c02aaee1a413a7979c3a426e0484df839861
Closes-Bug: #1832860
(cherry picked from commit 84a07102e2db92333ce416a520151f1a1856f162)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/667938/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-api/extend_start.sh'],1,09226a59866e5ace7d573bac2e0772109a2554a0,bug/1832860-stable/stein, nova-manage db sync nova-manage db sync, nova-manage db sync nova-manage db sync,2,2
openstack%2Fopenstack-ansible-os_keystone~master~Idb5ea861a87fe077f7c716f1157acd8e39257c5b,openstack/openstack-ansible-os_keystone,master,Idb5ea861a87fe077f7c716f1157acd8e39257c5b,db_setup: refactor database setup to a common file,MERGED,2019-05-03 20:38:07.000000000,2019-06-28 08:04:55.000000000,2019-06-28 08:04:55.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-03 20:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e59564f5f67cca777b18645c23920f217ff7a58e', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 2, 'created': '2019-05-03 20:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/147e5036af4d330ebbf0557bf14eba6942dc71ab', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 3, 'created': '2019-05-21 13:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/239700203e3ae4bad2be02df8223f88b321b22ca', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 4, 'created': '2019-05-22 03:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a802d8ef5af81c9dba87d5bedf23fd27fb4e3435', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 5, 'created': '2019-05-24 04:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/f97aebc0cfe90eb2e15d0d48ed420ae525d4993e', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 6, 'created': '2019-05-24 14:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/35ef5900917676de97d45f3ff96b9f5d6ed77114', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/660455\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 7, 'created': '2019-05-25 00:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/77cc0fb4738b664f0c8f2d17f62166375d9c517f', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/660455\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 8, 'created': '2019-05-27 04:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/709044cfbebad3b9a74d2037e2431b229c30ff7d', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nWe have been using run_once only for keystone role. As we have a\nkeystone group in the inventory, we re replacing run_once for the\nconditionals to match the pattern across all the other roles.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 9, 'created': '2019-05-31 12:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a17f52d9504d7546c3eec828b2bb1773da93956d', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nWe have been using run_once only for keystone role. As we have a\nkeystone group in the inventory, we re replacing run_once for the\nconditionals to match the pattern across all the other roles.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 10, 'created': '2019-06-12 02:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5485e56544452f4b920cc7ae1b9413a9b6b245aa', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nWe have been using run_once only for keystone role. As we have a\nkeystone group in the inventory, we re replacing run_once for the\nconditionals to match the pattern across all the other roles.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}, {'number': 11, 'created': '2019-06-27 12:36:52.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/keystone_db_sync.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4ea410ffcd199229415d7be392ee1b261da36c1c', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nWe have been using run_once only for keystone role. As we have a\nkeystone group in the inventory, we re replacing run_once for the\nconditionals to match the pattern across all the other roles.\n\nChange-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b\n'}]",2,657036,4ea410ffcd199229415d7be392ee1b261da36c1c,50,7,11,1004,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

We have been using run_once only for keystone role. As we have a
keystone group in the inventory, we re replacing run_once for the
conditionals to match the pattern across all the other roles.

Change-Id: Idb5ea861a87fe077f7c716f1157acd8e39257c5b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/36/657036/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/keystone_db_setup.yml', 'tasks/db_setup.yml']",3,e59564f5f67cca777b18645c23920f217ff7a58e,osa/db-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup Database Service (MariaDB) delegate_to: ""{{ _oslodb_setup_host }}"" tags: - common-mariadb block: - name: Create database for service mysql_db: name: ""{{ item.name }}"" loop: ""{{ _oslodb_databases }}"" - name: Grant access to the database for the service mysql_user: name: ""{{ item.1.username }}"" password: ""{{ item.1.password }}"" host: ""{{ item.1.host | default('%') }}"" priv: ""{{ item.0.name }}.*:{{ item.1.priv | default('ALL') }}"" loop: ""{{ _oslodb_database | subelements('users') }}""",,69,45
openstack%2Fnova~master~Ide343c1c922dac576b1944827dc24caefab59b74,openstack/nova,master,Ide343c1c922dac576b1944827dc24caefab59b74,Prepare _heal_allocations_for_instance for nested allocations,MERGED,2019-02-19 17:54:27.000000000,2019-06-28 07:52:40.000000000,2019-06-27 21:33:43.000000000,"[{'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-19 17:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2de4e963965f0fb4dba1dfae9a984bc4b625150', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 2, 'created': '2019-02-20 08:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1a1f153a73d0333437483e6add47cbf59c5502c', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 3, 'created': '2019-02-20 13:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1904df630d560ade6c7d9f801ab0487db8b013b2', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 4, 'created': '2019-02-21 11:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcac751626002946eacd0b4c822e449e7dd1110f', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 5, 'created': '2019-02-27 13:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4d5922f30ce5f52838f80b242c3077f4eac0bd1', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 6, 'created': '2019-02-27 13:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c64db02cb7fa52024baac0cbe421b6f376b7b19', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 7, 'created': '2019-02-27 17:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7addf7c0431a76b7646e830d8195c591a06dca7', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 8, 'created': '2019-03-13 15:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/399d0fa8b2837ed3e6be956983a44946f64f1216', 'message': 'Refactor _heal_allocations_for_instance (2)\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 9, 'created': '2019-03-18 16:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35bbcb964595a5b830df04692624526e856af7ce', 'message': ""Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nThis remove the last caller of the report client's put_allocations()\nfunction. That unused code will be removed in a separate patch.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n""}, {'number': 10, 'created': '2019-03-27 17:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fad2f660d57ce93e843addd5c49760f1067ee0e9', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 11, 'created': '2019-04-08 16:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/943a19832a186c1f75b53977c287f33278619a32', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 12, 'created': '2019-04-08 16:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/173b3d515f9e696fee5206eb544404e9470f64f5', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 13, 'created': '2019-04-24 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/157fbd9a2733c8df4758dcf7aefa21629236a31a', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 14, 'created': '2019-04-30 02:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f7103e6301d0003798ce343eac63d83905fc1ea', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 15, 'created': '2019-04-30 13:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5be2d1691242284972c0730acaea695f56d3e669', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 16, 'created': '2019-05-04 17:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1947d6214e2b32c762309679bcc8ae8ca31d2bb6', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 17, 'created': '2019-05-10 09:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c5b7aefd07884040edcf27cd512f6c2627cfd8f', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocation exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 18, 'created': '2019-05-28 08:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffabc10eed1e74b11e9a2c7bf62a0718cfe68ae1', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocations exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 19, 'created': '2019-06-26 08:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c644ef043fd2572accfeb81c2bdbff11461bd0', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocations exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}, {'number': 20, 'created': '2019-06-27 08:59:16.000000000', 'files': ['nova/tests/functional/test_report_client.py', 'nova/tests/unit/test_nova_manage.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/307999c58101a5920e23ef181643d3b46bbf987c', 'message': 'Prepare _heal_allocations_for_instance for nested allocations\n\nWhen no allocations exist for an instance the current heal code uses a\nreport client call that can only handle allocations from a single RP.\nThis call is now replaced with a more generic one so in a later patch\nport allocations can be added to this code path too.\n\nRelated-Bug: #1819923\nChange-Id: Ide343c1c922dac576b1944827dc24caefab59b74\n'}]",17,637954,307999c58101a5920e23ef181643d3b46bbf987c,216,18,20,9708,,,0,"Prepare _heal_allocations_for_instance for nested allocations

When no allocations exist for an instance the current heal code uses a
report client call that can only handle allocations from a single RP.
This call is now replaced with a more generic one so in a later patch
port allocations can be added to this code path too.

Related-Bug: #1819923
Change-Id: Ide343c1c922dac576b1944827dc24caefab59b74
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/637954/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,d2de4e963965f0fb4dba1dfae9a984bc4b625150,bug/1819923," allocations = { 'allocations': { node_uuid: {'resources': resources}, }, 'project_id': instance.project_id, 'user_id': instance.user_id, 'consumer_generation': None } if placement._put_allocations(ctxt, instance.uuid, allocations):"," if placement.put_allocations( ctxt, node_uuid, instance.uuid, resources, instance.project_id, instance.user_id, consumer_generation=None):",11,4
openstack%2Ftripleo-heat-templates~stable%2Fstein~Idc3328658a4c5c21fd011c6c4f791e7993559f1a,openstack/tripleo-heat-templates,stable/stein,Idc3328658a4c5c21fd011c6c4f791e7993559f1a,OVS Revalidator and handler threads,MERGED,2019-05-27 08:52:23.000000000,2019-06-28 07:47:40.000000000,2019-06-28 07:47:39.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30229}]","[{'number': 1, 'created': '2019-05-27 08:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c541b2cdeb4ecb297d227aa948e0805b2db3e5cb', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/650626\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}, {'number': 2, 'created': '2019-06-11 07:40:47.000000000', 'files': ['releasenotes/notes/ovs-revalidator-handler-threads.yaml-f5a12d1066b042f1.yaml', 'puppet/services/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1797d56cc59c2db92b87b8fe2db7b3f80e4279f6', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads according to configure lcores\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/661762\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}]",0,661566,1797d56cc59c2db92b87b8fe2db7b3f80e4279f6,14,5,2,30229,,,0,"OVS Revalidator and handler threads

Revalidator and handler threads are not coherent with lcore
Configure these threads according to configure lcores

Change-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a
Closes-Bug: #1822571
Depends-On: https://review.openstack.org/661762
(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/661566/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovs-revalidator-handler-threads.yaml-f5a12d1066b042f1.yaml', 'puppet/services/openvswitch.yaml']",2,c541b2cdeb4ecb297d227aa948e0805b2db3e5cb,bug/1822571-stable/stein, OvsHandlerCores: description: > Number of cores to be used for ovs handler threads. type: number default: 1 tags: - role_specific OvsRevalidatorCores: description: > Number of cores to be used for ovs revalidator threads. type: number default: 1 tags: - role_specific vswitch::dpdk::revalidator_cores: OvsRevalidatorCores vswitch::dpdk::handler_cores: OvsHandlerCores OvsRevalidatorCores: {get_param: OvsRevalidatorCores} OvsHandlerCores: {get_param: OvsHandlerCores},,21,0
openstack%2Fpuppet-openstack-integration~master~Iba69f72b05e70806fc425b72a919d52fd368914d,openstack/puppet-openstack-integration,master,Iba69f72b05e70806fc425b72a919d52fd368914d,Reparent puppet-openstack-base to legacy-base,MERGED,2019-06-25 18:46:54.000000000,2019-06-28 07:29:55.000000000,2019-06-26 15:33:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-25 18:46:54.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2bb40bb6fea5978c24a6e98149176567c4ce9dd1', 'message': ""Reparent puppet-openstack-base to legacy-base\n\nBase has been updated to not include thigns like zuul-cloner (which we\ndepend on). So we need to either remove the usage of this  by using the\nrepos in /home/zuul/src or set the base to legacy-base so zuul-cloner is\nstill included. For now let's just reparent the jobs and work on\nremoving zuul-cloner later.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nChange-Id: Iba69f72b05e70806fc425b72a919d52fd368914d\n""}]",0,667439,2bb40bb6fea5978c24a6e98149176567c4ce9dd1,21,5,1,14985,,,0,"Reparent puppet-openstack-base to legacy-base

Base has been updated to not include thigns like zuul-cloner (which we
depend on). So we need to either remove the usage of this  by using the
repos in /home/zuul/src or set the base to legacy-base so zuul-cloner is
still included. For now let's just reparent the jobs and work on
removing zuul-cloner later.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html

Change-Id: Iba69f72b05e70806fc425b72a919d52fd368914d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/667439/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,2bb40bb6fea5978c24a6e98149176567c4ce9dd1,fix-zuul-cloner, # NOTE(mwhahaha): needed for zuul-cloner (we should probably remove this usage) parent: legacy-base,,2,0
openstack%2Fsenlin~master~I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1,openstack/senlin,master,I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1,Fix api-ref and docs building,MERGED,2019-06-24 20:22:35.000000000,2019-06-28 07:09:30.000000000,2019-06-28 07:09:30.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}]","[{'number': 1, 'created': '2019-06-24 20:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5fe049370d4f490e727fd081d54f865eace6b1df', 'message': 'Fix api-ref building\n\nThe api-ref tox env is currently failing, see\nhttp://zuul.openstack.org/build/fd7de0dbca1940b08878dd62ea750fe7 for one\nexample.\n\nFix it by using the proper requirements file.\n\nChange-Id: I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1\n'}, {'number': 2, 'created': '2019-06-25 05:39:29.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/bc12179412dd2ff7dcd6aef30f9e625eab020247', 'message': 'Fix api-ref and docs building\n\nThe api-ref tox env is currently failing, see\nhttp://zuul.openstack.org/build/fd7de0dbca1940b08878dd62ea750fe7 for one\nexample.\n\nFix it by using the proper requirements file.\n\nAlso, add bindep.txt file so that graphviz is available. The recent\nchange to not install the global fallback broke the docs building.\n\nChange-Id: I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1\n'}]",0,667215,bc12179412dd2ff7dcd6aef30f9e625eab020247,13,4,2,6547,,,0,"Fix api-ref and docs building

The api-ref tox env is currently failing, see
http://zuul.openstack.org/build/fd7de0dbca1940b08878dd62ea750fe7 for one
example.

Fix it by using the proper requirements file.

Also, add bindep.txt file so that graphviz is available. The recent
change to not install the global fallback broke the docs building.

Change-Id: I3b76f1cb529a675da6ad9ba9bec3b72a66b460a1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/15/667215/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5fe049370d4f490e727fd081d54f865eace6b1df,fix-api-ref,deps = -r{toxinidir}/doc/requirements.txt,,1,0
openstack%2Fkolla~master~I7c979dacd89ebead404b751d596ba120b38f00f3,openstack/kolla,master,I7c979dacd89ebead404b751d596ba120b38f00f3,doc: Start using openstackdoctheme's extlink extension,MERGED,2019-06-14 11:11:09.000000000,2019-06-28 06:46:23.000000000,2019-06-28 06:46:23.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-14 11:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5821d85991834fa9163b9d926b160bebeed4809', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I7c979dacd89ebead404b751d596ba120b38f00f3\n""}, {'number': 2, 'created': '2019-06-14 11:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/08f8f5b50e90acf43e5b3b204000f1d2e69674ee', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I7c979dacd89ebead404b751d596ba120b38f00f3\n""}, {'number': 3, 'created': '2019-06-14 13:23:27.000000000', 'files': ['specs/containerize-openstack.rst', 'doc/source/contributor/index.rst', 'doc/source/admin/image-building.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/running-tests.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae1e2e680867559fb97da869086ccfcfc4cbd62d', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I7c979dacd89ebead404b751d596ba120b38f00f3\n""}]",0,665361,ae1e2e680867559fb97da869086ccfcfc4cbd62d,11,4,3,19779,,,0,"doc: Start using openstackdoctheme's extlink extension

This ensures we have version-specific references to other projects [1].
Note that this doesn't mean the URLs are actually valid - we need to do
more work (linkcheck?) here, but it's an improvement nonetheless.

[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: I7c979dacd89ebead404b751d596ba120b38f00f3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/665361/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/containerize-openstack.rst', 'doc/source/contributor/index.rst', 'doc/source/admin/image-building.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/running-tests.rst']",7,b5821d85991834fa9163b9d926b160bebeed4809,no_versioned,For more information see the :oslotest-doc:`oslotest documentation <user/features.html#debugging-with-oslo-debug-helper>`_.,For more information see the `oslotest documentation <https://docs.openstack.org/oslotest/latest/user/features.html#debugging-with-oslo-debug-helper>`_.,30,16
openstack%2Fkolla-ansible~master~I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,openstack/kolla-ansible,master,I79f6ec98383b1f59b8317a3720f6f9923d6bb21d,Disable and remove OracleLinux CI jobs,MERGED,2019-06-10 07:51:39.000000000,2019-06-28 06:33:30.000000000,2019-06-27 14:14:37.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-10 07:51:39.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b87514b146cc86226be478223838e28925dc63b', 'message': 'Disable and remove OracleLinux CI jobs\n\nWe have agreed to remove support for Oracle Linux, starting by\ndisabling\nthe CI jobs.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html\n\nChange-Id: I79f6ec98383b1f59b8317a3720f6f9923d6bb21d\n'}]",0,664216,6b87514b146cc86226be478223838e28925dc63b,14,6,1,14826,,,0,"Disable and remove OracleLinux CI jobs

We have agreed to remove support for Oracle Linux, starting by
disabling
the CI jobs.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: I79f6ec98383b1f59b8317a3720f6f9923d6bb21d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/664216/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,6b87514b146cc86226be478223838e28925dc63b,disable-oracle-linux-jobs,, name: kolla-ansible-oraclelinux-source parent: kolla-ansible-base nodeset: kolla-ansible-centos voting: false vars: base_distro: oraclelinux install_type: source - job: name: kolla-ansible-oraclelinux-binary parent: kolla-ansible-base nodeset: kolla-ansible-centos voting: false vars: base_distro: oraclelinux install_type: binary - job: name: kolla-ansible-oraclelinux-source-ceph parent: kolla-ansible-base nodeset: kolla-ansible-centos-multi timeout: 9000 voting: false vars: base_distro: oraclelinux install_type: source scenario: ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job:,0,38
openstack%2Fkolla~master~I527aba3635ef82e2d2a88ee7f5250bf03e420800,openstack/kolla,master,I527aba3635ef82e2d2a88ee7f5250bf03e420800,Remove Oracle Linux stuff in CI code,MERGED,2019-06-25 17:42:25.000000000,2019-06-28 06:32:44.000000000,2019-06-27 14:05:58.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-25 17:42:25.000000000', 'files': ['tests/playbooks/run.yml', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ccabadc342477b3c16b11ae52e0194c7916966c2', 'message': 'Remove Oracle Linux stuff in CI code\n\nOracle Linux is no longer tested via CI after [1].\nThis patch removes OL support from Zuul files.\n\n[1] https://review.opendev.org/664217\n\nChange-Id: I527aba3635ef82e2d2a88ee7f5250bf03e420800\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,667420,ccabadc342477b3c16b11ae52e0194c7916966c2,18,4,1,30491,,,0,"Remove Oracle Linux stuff in CI code

Oracle Linux is no longer tested via CI after [1].
This patch removes OL support from Zuul files.

[1] https://review.opendev.org/664217

Change-Id: I527aba3635ef82e2d2a88ee7f5250bf03e420800
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/20/667420/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/templates/template_overrides.j2']",2,ccabadc342477b3c16b11ae52e0194c7916966c2,ci-remove-ol-overrides,,"{% elif base_distro == 'oraclelinux' %} {% endraw %} RUN sed -i -e ""s|^baseurl=https://yum$ociregion.oracle.com/repo/OracleLinux|baseurl={{ nodepool_oraclelinux_proxy }}|"" \ /etc/yum.repos.d/oracle-linux-ol7.repo {% raw %}{% elif base_distro == ""oraclelinux"" %} {% endraw %} RUN sed -i -e ""/^mirrorlist/d"" \ -e ""/^metalink/d"" \ -e ""s|^#baseurl=http://mirror.centos.org|baseurl=http://{{ nodepool_mirror_host }}|g"" \ -e ""s|^#baseurl=http://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|g"" \ -e ""s|^baseurl=http://mirror.centos.org|baseurl=http://{{ nodepool_mirror_host }}|g"" \ -e ""s|^baseurl=https://packages.elastic.co|baseurl={{ nodepool_elastic_proxy }}|g"" \ -e ""s|^baseurl=https://packagecloud.io/grafana|baseurl={{ nodepool_grafana_proxy }}|g"" \ -e ""s|^baseurl=https://trunk.rdoproject.org|baseurl=http://{{ nodepool_rdo_proxy }}|g"" \ -e ""s|^baseurl=https://cbs.centos.org/repos|baseurl={{ nodepool_cbs_centos_proxy }}|g"" \ -e ""s|https://repo.percona.com|{{ nodepool_percona_proxy }}|g"" \ /etc/yum.repos.d/*.repo {% raw %}",0,24
openstack%2Fdiskimage-builder~master~I04cc2ee710f0389a8085b1c91d9329784cb28048,openstack/diskimage-builder,master,I04cc2ee710f0389a8085b1c91d9329784cb28048,debootstrap: make default network interface names configurable,MERGED,2019-06-12 14:09:43.000000000,2019-06-28 06:30:45.000000000,2019-06-28 06:30:45.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13515}, {'_account_id': 22348}, {'_account_id': 22584}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-12 14:09:43.000000000', 'files': ['diskimage_builder/elements/debootstrap/README.rst', 'diskimage_builder/elements/debootstrap/install.d/10-debian-networking', 'diskimage_builder/elements/debootstrap/environment.d/20-network-interface-names'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05af0fc8635153dc69c1754592db665d3f064a14', 'message': ""debootstrap: make default network interface names configurable\n\nNowadays, in the time of Predictable Network Interface Names, the\nnetwork interface names 'ethX' are not used that often any more.\nDepending on the virtualization layer and the guest OS names like\n'ens3', 'enp1s0' or 'enp0s31f6' are used.\nThis patch enables the user to set DIB_NETWORK_INTERFACE_NAMES to a\nlist of network interfaces which are brought up using DHCP during\n(first) boot.\n\nChange-Id: I04cc2ee710f0389a8085b1c91d9329784cb28048\nSigned-off-by: Andreas Florath <Andreas.Florath@telekom.de>\n""}]",0,664936,05af0fc8635153dc69c1754592db665d3f064a14,10,6,1,21741,,,0,"debootstrap: make default network interface names configurable

Nowadays, in the time of Predictable Network Interface Names, the
network interface names 'ethX' are not used that often any more.
Depending on the virtualization layer and the guest OS names like
'ens3', 'enp1s0' or 'enp0s31f6' are used.
This patch enables the user to set DIB_NETWORK_INTERFACE_NAMES to a
list of network interfaces which are brought up using DHCP during
(first) boot.

Change-Id: I04cc2ee710f0389a8085b1c91d9329784cb28048
Signed-off-by: Andreas Florath <Andreas.Florath@telekom.de>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/36/664936/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/debootstrap/README.rst', 'diskimage_builder/elements/debootstrap/install.d/10-debian-networking', 'diskimage_builder/elements/debootstrap/environment.d/20-network-interface-names']",3,05af0fc8635153dc69c1754592db665d3f064a14,debian-config-nw-names,export DIB_NETWORK_INTERFACE_NAMES=${DIB_NETWORK_INTERFACE_NAMES:-eth0 eth1} ,,10,2
openstack%2Fkolla~master~I5090eeb20c701a19f0b3f78cfbb44dc87df45948,openstack/kolla,master,I5090eeb20c701a19f0b3f78cfbb44dc87df45948,setup-gate: do not error if directory exists (CI can have it),ABANDONED,2019-06-25 12:31:10.000000000,2019-06-28 06:30:29.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-25 12:31:10.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf728a100a9d4137eab5c64f4134c04723627eac', 'message': 'setup-gate: do not error if directory exists (CI can have it)\n\nChange-Id: I5090eeb20c701a19f0b3f78cfbb44dc87df45948\n'}]",0,667349,cf728a100a9d4137eab5c64f4134c04723627eac,11,4,1,24072,,,0,"setup-gate: do not error if directory exists (CI can have it)

Change-Id: I5090eeb20c701a19f0b3f78cfbb44dc87df45948
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/667349/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,cf728a100a9d4137eab5c64f4134c04723627eac,, sudo mkdir -p /opt/kolla_registry, sudo mkdir /opt/kolla_registry,1,1
openstack%2Fopenstack-ansible-os_nova~master~I0ac8593477cd127c33594fd8f1c209f08b138794,openstack/openstack-ansible-os_nova,master,I0ac8593477cd127c33594fd8f1c209f08b138794,Switch to openSUSE Leap 15.1,MERGED,2019-06-18 17:05:07.000000000,2019-06-28 06:22:40.000000000,2019-06-28 06:22:40.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-18 17:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d5ca98167e30fd929fe2c45c879a37ec99f06fef', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 2, 'created': '2019-06-18 17:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1590b3fd0ba44bfb0230c931890ec5afa1a4033e', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 3, 'created': '2019-06-18 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/aed6e72820d62a8b778268235806cab10d4017a5', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 4, 'created': '2019-06-19 09:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ad377208248aa6853cd32820608b9fd137808f91', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nDepends-On: https://review.opendev.org/666249\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 5, 'created': '2019-06-19 12:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4cc8b079d901a2155fc6f18596f613d6723a3bc8', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nDepends-On: https://review.opendev.org/666249\nDepends-On: https://review.opendev.org/666272\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 6, 'created': '2019-06-19 14:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5b775087c64c611882aab1d60b2226cbe2a4a3c3', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nDepends-On: https://review.opendev.org/666249\nDepends-On: https://review.opendev.org/666272\nDepends-On: https://review.opendev.org/666298\n\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 7, 'created': '2019-06-27 09:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/15b3a1da7b7a475109448ddb4cc4913fec07ea91', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nDepends-On: https://review.opendev.org/666272\nDepends-On: https://review.opendev.org/666298\n\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}, {'number': 8, 'created': '2019-06-27 11:35:49.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/21da07ff19491b64c0641e0200084a4839959fbd', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nDepends-On: https://review.opendev.org/666298\n\nChange-Id: I0ac8593477cd127c33594fd8f1c209f08b138794\n'}]",0,666062,21da07ff19491b64c0641e0200084a4839959fbd,33,4,8,6593,,,0,"Switch to openSUSE Leap 15.1

Depends-On: https://review.opendev.org/666058
Depends-On: https://review.opendev.org/666298

Change-Id: I0ac8593477cd127c33594fd8f1c209f08b138794
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/62/666062/8 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,d5ca98167e30fd929fe2c45c879a37ec99f06fef,," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fcinder~master~I8fa2b3854c083c41987e2c130a1e562a65c65300,openstack/cinder,master,I8fa2b3854c083c41987e2c130a1e562a65c65300,Add MacroSAN cinder driver,ABANDONED,2019-03-15 07:40:29.000000000,2019-06-28 06:10:52.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15296}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29620}, {'_account_id': 29627}, {'_account_id': 29705}]","[{'number': 1, 'created': '2019-03-15 07:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af21111315ab52798427a4505e7023b98c349f66', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 2, 'created': '2019-03-15 07:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83314ca53bf1bd2df318bbeeede7e8af116a7448', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 3, 'created': '2019-06-11 10:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8ba42ae7395343323367fc29f913cfd9d6d11a1', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 4, 'created': '2019-06-12 01:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6144f8e7f9d0d6af17c367955547f1d86788e598', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 5, 'created': '2019-06-13 11:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c49d0fcbc6fdb071643195d1437522c5693043c', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 6, 'created': '2019-06-14 01:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80d4507fd75e648f9b541a248a47b5856139ba4d', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 7, 'created': '2019-06-14 01:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4566c57502f84532e883ad716abacb6860646fd7', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 8, 'created': '2019-06-17 01:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/778728504530c102c1f528fbb121d4138e224de7', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 9, 'created': '2019-06-17 06:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78c2db75f4962a3a9284d5c12ca06170352d191d', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 10, 'created': '2019-06-17 08:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62fe9e56d5cce0a77c66fb239946d002977322b1', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 11, 'created': '2019-06-18 02:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01ed7f6c6cae4ea5be16f90813168795e41de994', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 12, 'created': '2019-06-18 06:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3ac70342dcd7e81ab8d969ca6a8694dfd8b2797', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 13, 'created': '2019-06-18 06:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab366e1d791c8b519544321a41ce62f71da637c7', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 14, 'created': '2019-06-18 06:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ca0f108ba5832a00ea30d5b3dc06d18ca27487e', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 15, 'created': '2019-06-18 06:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/600b48c5707b4299bda30256181959a6b65cc0ac', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 16, 'created': '2019-06-19 01:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03b2f3a2b6558b42bad72cf80cbb9ce6390943c3', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 17, 'created': '2019-06-19 09:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9697578a2b33404c913eaa05b703465a61bf0d83', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 18, 'created': '2019-06-20 01:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a60e4f5d1d95d08f4c6681dd89528cffd1ec8482', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 19, 'created': '2019-06-20 02:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1aba5b70b790a0243c2202d4bc6f025760ee87dc', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 20, 'created': '2019-06-20 07:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa4f74bce70c9e0127a5e2be66ee6650d67ddaf0', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 21, 'created': '2019-06-20 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdb7c18a4b5cab0e2227609fa849bf2ef812eb77', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 22, 'created': '2019-06-26 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c02e911fa9b0e6a1da34e3d705bb5b67a734a49', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}, {'number': 23, 'created': '2019-06-26 11:24:33.000000000', 'files': ['cinder/opts.py', 'cinder/playbooks/cinderlib-run.yaml', 'cinder/playbooks/tempest-and-cinderlib-run.yaml', 'cinder/volume/drivers/macrosan/__init__.py', 'cinder/volume/drivers/macrosan/devop_client.py', 'cinder/playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/post.yaml', 'cinder/volume/drivers/macrosan/driver.py', 'tox.ini', 'cinder/playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml', 'cinder/tests/unit/test_macrosan_drivers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eeda0f69d7e1fdb71cda013fca662124fe800207', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300\n'}]",5,643519,eeda0f69d7e1fdb71cda013fca662124fe800207,892,32,23,29620,,,0,"Add MacroSAN cinder driver

This driver supports below features:
* Volume Create/Delete
* Volume Attach/Detach
* Snapshot Create/Delete
* Create Volume from Snapshot
* Copy Image to Volume
* Copy Volume to Image
* Clone Volume
* Extend volume
* Volume Migration

This patchset includes the unit tests.

DocImpact
Implements: blueprint macrosan-cinder-driver

Change-Id: I8fa2b3854c083c41987e2c130a1e562a65c65300
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/643519/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/drivers/macrosan/__init__.py', 'cinder/volume/drivers/macrosan/devop_client.py', 'test-requirements.txt', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/tests/unit/volume/drivers/macrosan/devop_client.py', 'tox.ini', 'cinder/tests/unit/test_macrosan_drivers.py', 'cinder/tests/unit/volume/drivers/macrosan/driver.py']",9,af21111315ab52798427a4505e7023b98c349f66,bp/macrosan-cinder-driver,"# Copyright (c) 2016 MacroSAN Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Volume Drivers for MacroSAN SAN. """""" import os import re import socket from os_brick.initiator.connector import ISCSIConnector from os_brick.initiator import linuxfc from oslo_config import cfg from oslo_log import log as logging from oslo_utils import timeutils from cinder import context from cinder.exception import VolumeBackendAPIException from cinder import utils from cinder.volume import driver from cinder.volume.drivers.macrosan import devop_client from cinder.volume import qos_specs from cinder.volume import utils as volutils from cinder.volume import volume_types from cinder.zonemanager import utils as fczm_utils LOG = logging.getLogger(__name__) macrosan_opts = [ cfg.StrOpt('macrosan_lun_mode', choices=['normal', 'thick'], default='normal', help='LUN mode to create volume'), cfg.StrOpt('macrosan_pool', help='Pool to use for volume creation'), cfg.BoolOpt('macrosan_thin_lun_use_ssd', default=True, help=""Whether to use ssd as the thin lun's private area""), cfg.IntOpt('macrosan_thin_lun_extent_size', default=8, help=""Set the thin lun's extent size""), cfg.IntOpt('macrosan_thin_lun_low_watermark', default=5, help=""Set the thin lun's low watermark""), cfg.IntOpt('macrosan_thin_lun_high_watermark', default=20, help=""Set the thin lun's high watermark""), cfg.FloatOpt('macrosan_snapshot_resource_ratio', default=1.0, help=""Set snapshot's resource ratio""), cfg.StrOpt('macrosan_sp1_ipaddr', help=""MacroSAN device's SP1 ip address""), cfg.StrOpt('macrosan_sp2_ipaddr', help=""MacroSAN device's SP2 ip address""), cfg.StrOpt('macrosan_iscsi_target_sp1_ipaddr', help=""MacroSAN iscsi target's SP1 ip address""), cfg.StrOpt('macrosan_iscsi_target_sp2_ipaddr', help=""MacroSAN iscsi target's SP2 ip address""), cfg.StrOpt('macrosan_username', help=""Username to login device""), cfg.StrOpt('macrosan_password', help=""Password to login device""), ] CONF = cfg.CONF CONF.register_opts(macrosan_opts) version = '1.0.0' class MacroSANBaseDriver(driver.VolumeDriver): """"""Base driver for MacroSAN SAN."""""" def __init__(self, *args, **kwargs): super(MacroSANBaseDriver, self).__init__(*args, **kwargs) self.configuration.append_config_values(macrosan_opts) self._stats = {} self.use_multipath = True self.owners = ['SP1', 'SP2'] self.owner_idx = 0 self.volume_backend_name = ( self.configuration.safe_get('volume_backend_name') or 'MacroSAN') self.client = None self.storage_protocol = None self.username = '' self.passwd = '' self.lun_mode = self.configuration.macrosan_lun_mode self.pool = self.configuration.macrosan_pool self.lun_params = {} if self.lun_mode == 'thin': self.lun_params = ( {'extent-size': self.configuration.macrosan_thin_lun_extent_size, 'use-ssd': self.configuration.macrosan_thin_lun_use_ssd, 'low-watermark': self.configuration.macrosan_thin_lun_low_watermark, 'high-watermark': self.configuration.macrosan_thin_lun_high_watermark}) self.snapshot_resource_ratio = ( self.configuration.macrosan_snapshot_resource_ratio) self.sp1_ipaddr = ( self.configuration.macrosan_sp1_ipaddr) self.sp2_ipaddr = ( self.configuration.macrosan_sp2_ipaddr) self.username = ( self.configuration.macrosan_username) self.passwd = ( self.configuration.macrosan_password) self.sp1_target_port = ( self.configuration.macrosan_iscsi_target_sp1_ipaddr) self.sp2_target_port = ( self.configuration.macrosan_iscsi_target_sp2_ipaddr) @property def self_node_wwns(self): return [] def _volume_name(self, volume_provider): lun_uuid = re.search('macrosan uuid:(.+)', volume_provider).group(1) return self.client.get_lun_name(lun_uuid) def _snapshot_name(self, snapshotid): return snapshotid.replace('-', '')[:31] @utils.synchronized('MacroSAN', external=True) def do_setup(self, context): self.client = devop_client.Client(self.sp1_ipaddr, self.sp2_ipaddr, self.username, self.passwd) LOG.info('========== MacroSAN Cinder Driver setup complete.') def _get_owner(self): owner = self.owners[self.owner_idx % 2] self.owner_idx += 1 return owner def check_for_setup_error(self): pass def get_raid_list(self, size): raids = self.client.get_raid_list(self.pool) free = sum(raid['free_cap'] for raid in raids) if size > free: raise VolumeBackendAPIException('Pool has not enough' 'free capacity') raids = sorted(raids, key=lambda x: x['free_cap'], reverse=True) selected = [] cap = 0 for raid in raids: if raid['free_cap']: cap += raid['free_cap'] selected.append(raid['name']) if cap >= size: break return selected def _create_volume(self, name, size, strategy): owner = self._get_owner() raids = [] if self.lun_mode != 'thin': raids = self.get_raid_list(size) self.client.create_lun(name, owner, self.pool, raids, self.lun_mode, size, self.lun_params) lun_uuid = self.client.get_lun_uuid(name) if not strategy: return {'provider_location': 'macrosan uuid:%s' % lun_uuid} try: self.client.enable_lun_qos(name, strategy) except Exception as e: self.client.delete_lun(name) raise e return {'provider_location': 'macrosan uuid:%s' % lun_uuid} def _get_qos_strategy(self, vol_type_id): if vol_type_id is None: return '' ctx = context.get_admin_context() volume_type = volume_types.get_volume_type(ctx, vol_type_id) qos_specs_id = volume_type.get('qos_specs_id') if qos_specs_id is None: return '' specs = qos_specs.get_qos_specs(ctx, qos_specs_id)['specs'] return specs.pop('qos-strategy', '').strip() if specs else '' @utils.synchronized('MacroSAN', external=True) def create_volume(self, volume): LOG.info('========== create volume, name: %(name)s,' 'id: %(volume_id)s, size: %(size)s.', {'name': volume['name'], 'volume_id': volume['id'], 'size': volume.size}) self.client.select_sshpool() name = volume['id'] strategy = self._get_qos_strategy(volume['volume_type_id']) return self._create_volume(name, volume.size, strategy) def _delete_volume(self, name): if not self.client.lun_exists(name): return self.client.delete_lun(name) try: migrated_name = self.client.get_lun_name_from_rename_file(name) if not migrated_name: return try: self.client.rename_lun(migrated_name, name) except VolumeBackendAPIException: LOG.info('========== failed to rename %(migrated_name)s' 'to %(name)s', {'migrated_name': migrated_name, 'name': name}) except Exception: return @utils.synchronized('MacroSAN', external=True) def delete_volume(self, volume): LOG.info('========== delete volume, id: %s.', volume['id']) self.client.select_sshpool() name = self._volume_name(volume['provider_location']) self._delete_volume(name) @utils.synchronized('MacroSAN-Attach', external=True) def _attach_volume(self, context, volume, properties, remote=False): return super(MacroSANBaseDriver, self)._attach_volume(context, volume, properties, remote) @utils.synchronized('MacroSAN-Attach', external=True) def _detach_volume(self, context, attach_info, volume, properties, force=False, remote=False): return super(MacroSANBaseDriver, self)._detach_volume(context, attach_info, volume, properties, force, remote) def _create_snapshot(self, snapshot_name, volume_name, volume_size): created = False size = int(max(int(volume_size) * self.snapshot_resource_ratio, 1)) raids = self.get_raid_list(size) try: self.client.get_snapshot_resource(volume_name) except VolumeBackendAPIException: self.client.create_snapshot_resource(volume_name, raids, size) created = True try: self.client.enable_snapshot_resource_autoexpand(volume_name) except Exception: LOG.warning('========== Enable snapshot resource auto' 'expand for volume: %s error', volume_name) try: self.client.enable_snapshot(volume_name) except VolumeBackendAPIException as e: self.client.delete_snapshot_resource(volume_name) raise e try: self.client.create_snapshot_point(volume_name, snapshot_name) pointid = self.client.get_snapshot_pointid(volume_name, snapshot_name) except VolumeBackendAPIException as e: if created: self.client.disable_snapshot(volume_name) self.client.delete_snapshot_resource(volume_name) raise e return int(pointid) @utils.synchronized('MacroSAN', external=True) def create_snapshot(self, snapshot): volume = snapshot['volume'] LOG.info('========== create snapshot,' ' snapshot id: %(snapshot_id)s,' ' volume id: %(volume_id)s,' ' size: %(size)s.', {'snapshot_id': snapshot['id'], 'volume_id': volume['id'], 'size': volume.size}) self.client.select_sshpool() snapshot_name = self._snapshot_name(snapshot['id']) volume_name = self._volume_name(volume['provider_location']) pointid = self._create_snapshot(snapshot_name, volume_name, volume.size) return {'provider_location': 'pointid: %s' % pointid} def _delete_snapshot(self, snapshot_name, volume_name, pointid): self.client.delete_snapshot_point(volume_name, pointid) n = self.client.get_snapshot_point_num(volume_name) if n == 0: self.client.disable_snapshot(volume_name) self.client.delete_snapshot_resource(volume_name) def delete_snapshot(self, snapshot): self.client.select_sshpool() volume = snapshot['volume'] provider = snapshot['provider_location'] m = re.findall(r'pointid: (\d+)', provider) LOG.info('========== delete snapshot,' ' snapshot id: %(snapshot_id)s,' ' pointid: %(point_id)s,' ' volume id: %(volume_id)s.', {'snapshot_id': snapshot['id'], 'point_id': m[0], 'volume_id': volume['id']}) snapshot_name = self._snapshot_name(snapshot['id']) volume_name = self._volume_name(volume['provider_location']) self._delete_snapshot(snapshot_name, volume_name, m[0]) def _connect(self, name, is_view): host = socket.gethostname() conn = self._initialize_connection(name, host, self.self_node_wwns, is_view) device_scan_attempts = self.configuration.num_volume_device_scan_tries protocol = conn['driver_volume_type'] connector = utils.brick_get_connector( protocol, use_multipath=self.use_multipath, device_scan_attempts=device_scan_attempts, conn=conn) try: device = connector.connect_volume(conn['data']) except Exception as e: self._terminate_connection(name, host, True) raise e return {'conn': conn, 'device': device, 'connector': connector} def _disconnect(self, conn, name, is_view): connector = conn['connector'] connector.disconnect_volume(conn['conn']['data'], conn['device']) self._terminate_connection(name, socket.gethostname(), is_view) def _create_volume_from_snapshot(self, volume_name, volume_size, snapshot_name, pointid, snapshot_volumename, snapshot_volumesize): raids = self.get_raid_list(volume_size) self.client.create_lun(volume_name, self._get_owner(), self.pool, raids, 'normal', volume_size, self.lun_params) try: volume_conn = self._connect(volume_name, False) except Exception as e: self._delete_volume(volume_name) raise e try: self.client.create_snapshot_view(snapshot_name, snapshot_volumename, pointid) except Exception as e: self._disconnect(volume_conn, volume_name, False) self._delete_volume(volume_name) raise e try: snapshot_conn = self._connect(snapshot_name, True) except Exception as e: self.client.delete_snapshot_view(snapshot_name) self._disconnect(volume_conn, volume_name, False) self._delete_volume(volume_name) raise e try: volutils.copy_volume(os.path .realpath(snapshot_conn['device']['path']), os.path .realpath(volume_conn['device']['path']), snapshot_volumesize * 1024, self.configuration.volume_dd_blocksize) except Exception as e: self._disconnect(snapshot_conn, snapshot_name, True) self.client.delete_snapshot_view(snapshot_name) self._disconnect(volume_conn, volume_name, False) self._delete_volume(volume_name) raise e else: self._disconnect(snapshot_conn, snapshot_name, True) self.client.delete_snapshot_view(snapshot_name) self._disconnect(volume_conn, volume_name, False) lun_uuid = self.client.get_lun_uuid(volume_name) return {'provider_location': 'macrosan uuid:%s' % lun_uuid} @utils.synchronized('MacroSAN', external=True) def create_volume_from_snapshot(self, volume, snapshot): LOG.info('========== create volume from snapshot.') self.client.select_sshpool() snapshot_volume = snapshot['volume'] provider = snapshot['provider_location'] m = re.findall(r'pointid: (\d+)', provider) pointid = int(m[0]) volume_name = volume['id'] snapshot_name = self._snapshot_name(snapshot['id']) snapshot_volumename = ( self._volume_name(snapshot_volume['provider_location'])) return self._create_volume_from_snapshot(volume_name, volume.size, snapshot_name, pointid, snapshot_volumename, snapshot['volume_size']) def _create_cloned_volume(self, volume_name, volume_size, src_volumename, src_volume_size, snapshot_name): pointid = self._create_snapshot(snapshot_name, src_volumename, src_volume_size) try: return self._create_volume_from_snapshot(volume_name, volume_size, snapshot_name, pointid, src_volumename, src_volume_size) finally: self._delete_snapshot(snapshot_name, src_volumename, pointid) @utils.synchronized('MacroSAN', external=True) def create_cloned_volume(self, volume, src_vref): """"""Creates a clone of the specified volume."""""" LOG.info('========== create cloned volume.') self.client.select_sshpool() volume_name = volume['id'] src_volumename = self._volume_name(src_vref['provider_location']) snapshotid = ( src_vref['id'][:12] + timeutils.utcnow().strftime('%Y%m%d%H%M%S%f')) snapshot_name = self._snapshot_name(snapshotid) return self._create_cloned_volume(volume_name, volume.size, src_volumename, src_vref.size, snapshot_name) def _extend_volume(self, name, moresize): raids = self.get_raid_list(moresize) self.client.extend_lun(name, raids, moresize) @utils.synchronized('MacroSAN', external=True) def extend_volume(self, volume, new_size): LOG.info('========== extend volume, id: %(volume_id)s,' 'size: %(size)s.', {'volume_id': volume['id'], 'size': new_size}) self.client.select_sshpool() name = self._volume_name(volume['provider_location']) moresize = new_size - volume.size self._extend_volume(name, moresize) def ensure_export(self, context, volume): pass def create_export(self, context, volume, connector): pass def remove_export(self, context, volume): pass def get_volume_stats(self, refresh=False): if refresh: self.client.select_sshpool() self._update_volume_stats() return self._stats def _update_volume_stats(self): data = {} data['free_capacity_gb'] = 'infinite' if self.lun_mode != 'thin': raids = self.client.get_raid_list(self.pool) free = sum(raid['free_cap'] for raid in raids) data['free_capacity_gb'] = free data[""volume_backend_name""] = self.volume_backend_name data[""vendor_name""] = 'MacroSAN' data[""driver_version""] = version data[""storage_protocol""] = self.storage_protocol data['total_capacity_gb'] = 'infinite' data['reserved_percentage'] = 0 data['QoS_support'] = False self._stats = data def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status=None): try: original_name = self._volume_name(volume['provider_location']) except Exception: original_name = volume['id'] cur_name = self._volume_name(new_volume['provider_location']) LOG.info('========== update migrated volume,' 'volume: %(original_name)s, new_volume: %(cur_name)s', {'original_name': original_name, 'cur_name': cur_name}) if self.client.lun_exists(original_name): self.client.backup_lun_name_to_rename_file(cur_name, original_name) else: try: self.client.rename_lun(cur_name, original_name) except Exception: LOG.info('========== failed to rename ' '%(cur_name)s to %(original_name)s', {'cur_name': cur_name, 'original_name': original_name}) name_id = new_volume['_name_id'] or new_volume['id'] return {'_name_id': name_id, 'provider_location': new_volume['provider_location']} class MacroSANISCSIDriver(MacroSANBaseDriver, driver.ISCSIDriver): def __init__(self, *args, **kwargs): super(MacroSANISCSIDriver, self).__init__(*args, **kwargs) self.storage_protocol = 'iSCSI' def _get_iscsi_ports(self, host): try: ha_state = self.client.get_ha_state() if ha_state['sp1'] in ['single', 'double']: sp1_ports = [self.sp1_target_port] if ha_state['sp2'] in ['single', 'double']: sp2_ports = [self.sp2_target_port] return sp1_ports, sp2_ports except Exception: raise VolumeBackendAPIException('Parse cinder_macrosan.xml error') def _create_client_initr_tgt(self, client_name, tgt_name, iqn, sp1_ports, sp2_ports): if not self.client.client_exists(client_name): self.client.create_client(client_name) if not self.client.target_exists(tgt_name, 'iSCSI'): self.client.create_target(tgt_name, client_name, sp1_ports, sp2_ports, 'iSCSI') o = self.client.get_client(client_name) if not self.client.initiator_exists(iqn, 'iSCSI'): self.client.create_initiator(iqn, 'iSCSI') if iqn not in o: self.client.add_initiator_to_client(client_name, iqn, 'iSCSI') @property def self_node_wwns(self): connector = ISCSIConnector(utils.get_root_helper()) return [connector.get_initiator()] def _initialize_connection(self, name, host, wwns, is_view=False): client_name = host tgt_name = 'iqn.2010-05.com.macrosan.target:%s' % host LOG.info('initialize_connection, initiator: %(wwpns)s,' ' volume name: %(volume)s.', {'wwpns': wwns, 'volume': name}) sp1_ports, sp2_ports = self._get_iscsi_ports(host) self._create_client_initr_tgt(client_name, tgt_name, wwns[0], sp1_ports, sp2_ports) lun_id = 0 tgt = self.client.get_target_info(tgt_name, 'iSCSI') created = name not in tgt.luns try: if is_view: if created: self.client.add_view_to_target(tgt_name, name, 'iSCSI') lun_id = self.client.get_view_lun_id(tgt_name, name, 'iSCSI') else: if created: self.client.add_lun_to_target(tgt_name, name, 'iSCSI') lun_id = self.client.get_lun_id(tgt_name, name, 'iSCSI') except VolumeBackendAPIException as e: raise e target_ips = sp1_ports + sp2_ports properties = {'target_discovered': False, 'target_portal': '%s:3260' % target_ips[0], 'target_iqn': tgt_name, 'target_lun': lun_id, 'target_iqns': [tgt_name] * len(target_ips), 'target_portals': ['%s:3260' % ip for ip in target_ips], 'target_luns': [lun_id] * len(target_ips)} LOG.info('initialize_connection, iSCSI properties: %s', properties) return {'driver_volume_type': 'iscsi', 'data': properties} @utils.synchronized('MacroSAN', external=True) def initialize_connection(self, volume, connector): LOG.info('========== initialize_connection connector: %s', connector) self.client.select_sshpool() name = self._volume_name(volume['provider_location']) conn = self._initialize_connection(name, connector['host'], [connector['initiator']]) conn['data']['volume_id'] = volume['id'] return conn def _terminate_connection(self, name, host, is_view=False): tgt_name = 'iqn.2010-05.com.macrosan.target:%s' % host try: if is_view: self.client.remove_view_from_target(tgt_name, name, 'iSCSI') else: self.client.remove_lun_from_target(tgt_name, name, 'iSCSI') except VolumeBackendAPIException as e: raise e @utils.synchronized('MacroSAN', external=True) def terminate_connection(self, volume, connector, **kwargs): LOG.info('========== terminate_connection %s', connector) self.client.select_sshpool() name = self._volume_name(volume['provider_location']) self._terminate_connection(name, connector['host']) class MacroSANFCDriver(MacroSANBaseDriver, driver.FibreChannelDriver): def __init__(self, *args, **kwargs): super(MacroSANFCDriver, self).__init__(*args, **kwargs) self.storage_protocol = 'FC' self.fcsan_lookup_service = None def do_setup(self): super(MacroSANFCDriver, self).do_setup() self.fcsan_lookup_service = fczm_utils.create_lookup_service() @property def self_node_wwns(self): fc = linuxfc.LinuxFibreChannel(utils.get_root_helper()) return fc.get_fc_wwpns() def _format_wwn(self, wwn_str): return (':'.join([wwn_str[i:i + 2] for i in range(0, len(wwn_str), 2)])).lower() def get_initr_port_map(self, wwns, tgt_name): def select_fc_ports(ports_in_storage, ports_in_fabric): selected = [] for sp in [1, 2]: for p in ports_in_storage: if p['sp'] == sp and p['wwn'] in ports_in_fabric: selected.append(p) break return selected ti = self.client.get_target_info(tgt_name) if ti: ports = [] ports.extend({'wwn': p, 'sp': 1} for p in ti.sp1_ports) ports.extend({'wwn': p, 'sp': 2} for p in ti.sp2_ports) initr_port_map = {wwn: ports for wwn in wwns} return initr_port_map initr_port_map = {} ports_in_storage = self.client.get_online_fc_ports() ports_in_storage = sorted(ports_in_storage, key=lambda x: x['refcnt']) mapping = (self.fcsan_lookup_service .get_device_mapping_from_network( wwns, [p['wwn'] for p in ports_in_storage])) for fabric in mapping: ports_in_fabric = mapping[fabric]['target_port_wwn_list'] selected_ports = select_fc_ports(ports_in_storage, ports_in_fabric) for initr in mapping[fabric]['initiator_port_wwn_list']: initr_port_map[initr] = selected_ports return initr_port_map def _create_client_initr_tgt(self, client_name, tgt_name, initr_port_map): if not self.client.client_exists(client_name): self.client.create_client(client_name) if not self.client.target_exists(tgt_name): sp1_ports = set() sp2_ports = set() for ports in initr_port_map.values(): for p in ports: if p['sp'] == 1: sp1_ports.add(self._format_wwn(p['wwn'])) else: sp2_ports.add(self._format_wwn(p['wwn'])) self.client.create_target(tgt_name, client_name, sp1_ports, sp2_ports) o = self.client.get_client(client_name) for wwn in initr_port_map: formated_wwn = self._format_wwn(wwn) if not self.client.initiator_exists(formated_wwn): self.client.create_initiator(formated_wwn) if formated_wwn not in o: self.client.add_initiator_to_client(client_name, formated_wwn) def _initialize_connection(self, name, host, wwns, is_view=False): client_name = host tgt_name = 'fc.target:storage-%s' % host LOG.info('initialize_connection, initiator: %(wwpns)s,' ' volume name: %(volume)s.', {'wwpns': wwns, 'volume': name}) tgt_created = False if not self.client.target_exists(tgt_name): tgt_created = True initr_port_map = self.get_initr_port_map(wwns, tgt_name) self._create_client_initr_tgt(client_name, tgt_name, initr_port_map) lun_id = 0 tgt = self.client.get_target_info(tgt_name) created = name not in tgt.luns try: if is_view: if created: self.client.add_view_to_target(tgt_name, name) lun_id = self.client.get_view_lun_id(tgt_name, name) else: if created: self.client.add_lun_to_target(tgt_name, name) lun_id = self.client.get_lun_id(tgt_name, name) except VolumeBackendAPIException as e: raise e properties = {'target_lun': lun_id, 'target_discovered': True, 'target_wwn': tgt.sp1_ports + tgt.sp2_ports} if tgt_created: initr_tgt_map = {} for initr, ports in initr_port_map.items(): initr_tgt_map[initr] = [p['wwn'] for p in ports] properties['initiator_target_map'] = initr_tgt_map LOG.info('initialize_connection, FC properties: %s', properties) return {'driver_volume_type': 'fibre_channel', 'data': properties} @utils.synchronized('MacroSAN', external=True) def initialize_connection(self, volume, connector): LOG.info('========== initialize_connection connector: %s', connector) self.client.select_sshpool() name = self._volume_name(volume['provider_location']) conn = self._initialize_connection(name, connector['host'], connector['wwpns']) conn['data']['volume_id'] = volume['id'] fczm_utils.add_fc_zone(conn) return conn def _terminate_connection(self, name, host, is_view=False): tgt_name = 'fc.target:storage-%s' % host try: if is_view: self.client.remove_view_from_target(tgt_name, name) else: self.client.remove_lun_from_target(tgt_name, name) except VolumeBackendAPIException as e: raise e return {'driver_volume_type': 'fibre_channel', 'data': {}} @utils.synchronized('MacroSAN', external=True) def terminate_connection(self, volume, connector, **kwargs): LOG.info('========== terminate_connection %s', connector) self.client.select_sshpool() name = self._volume_name(volume['provider_location']) info = self._terminate_connection(name, connector['host']) fczm_utils.remove_fc_zone(info) return info ",,3114,0
openstack%2Fneutron~master~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,master,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-21 11:14:54.000000000,2019-06-28 06:05:44.000000000,2019-06-28 00:08:38.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27092}]","[{'number': 1, 'created': '2019-06-21 11:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a61713a8ca8b5562e401f180f66defa7258f91a', 'message': 'Treat networks shared by RBAC in same way as shared with all tenants\n\nIn patch [1] handle of networks with ""shared"" flag set to True was\nfixed and it is now possible to use ""rule:shared"" in API policy in\nactions related e.g. to ports or subnets.\nBut network can be shared with some specific tenant only by doing it\nwith RBAC mechanism and in such case it didn\'t work with [1] only.\nIt was like that because context.get_admin_context() was used to get\nnetwork so this returned network had got shared=False set even if\nrequest comes from tenant for which network was shared through RBAC.\n\nNow network will be always get with context which have got set proper\ntenant_id so ""shared"" flag will be set properly even in case if it\'s\nshared through RBAC.\n\n[1] https://review.opendev.org/#/c/652636/\n\nChange-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a\nCloses-Bug: #1833455\n'}, {'number': 2, 'created': '2019-06-26 22:04:36.000000000', 'files': ['neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5edb080b080bc5d5221f8586fc6ffdca7ab8b67', 'message': 'Treat networks shared by RBAC in same way as shared with all tenants\n\nIn patch [1] handle of networks with ""shared"" flag set to True was\nfixed and it is now possible to use ""rule:shared"" in API policy in\nactions related e.g. to ports or subnets.\nBut network can be shared with some specific tenant only by doing it\nwith RBAC mechanism and in such case it didn\'t work with [1] only.\nIt was like that because context.get_admin_context() was used to get\nnetwork so this returned network had got shared=False set even if\nrequest comes from tenant for which network was shared through RBAC.\n\nNow network will be always get with context which have got set proper\ntenant_id so ""shared"" flag will be set properly even in case if it\'s\nshared through RBAC.\n\n[1] https://review.opendev.org/#/c/652636/\n\nChange-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a\nCloses-Bug: #1833455\n'}]",0,666816,d5edb080b080bc5d5221f8586fc6ffdca7ab8b67,47,11,2,11975,,,0,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/666816/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/policy.py'],1,1a61713a8ca8b5562e401f180f66defa7258f91a,bug/1833455," project_id = target_dict.get('project_id') ctx = (context.Context(tenant_id=project_id) if project_id else context.get_admin_context()) network = plugin.get_network(ctx, target_network_id)"," network = plugin.get_network( context.get_admin_context(), target_network_id)",4,2
openstack%2Ftripleo-validations~master~Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1,openstack/tripleo-validations,master,Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1,Remove Neutron LBaaS,MERGED,2019-06-04 14:14:04.000000000,2019-06-28 05:49:47.000000000,2019-06-28 05:49:47.000000000,"[{'_account_id': 6469}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-04 14:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fb286665215f7d3c3f93bc4cb800d8b448c749af', 'message': 'Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nRelated-Bug: #1831618\nChange-Id: Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1\n'}, {'number': 2, 'created': '2019-06-04 15:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2826364168ea4b60690f088d9800f05951bbc0d9', 'message': 'Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nRelated-Bug: #1831618\nChange-Id: Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1\n'}, {'number': 3, 'created': '2019-06-24 10:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6a2c3a7211a1ab2a2e1c364e7f0301d2b5e581b5', 'message': 'Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nRelated-Bug: #1831618\nChange-Id: Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1\n'}, {'number': 4, 'created': '2019-06-26 07:15:35.000000000', 'files': ['roles/neutron-sanity-check/defaults/main.yml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'releasenotes/notes/remove-neutron-lbaas-e8168b4595506b91.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/33a8cc8492ab5f54b9707811ec11fd04fd1513c5', 'message': 'Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nRelated-Bug: #1831618\nChange-Id: Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1\n'}]",0,663045,33a8cc8492ab5f54b9707811ec11fd04fd1513c5,41,7,4,6469,,,0,"Remove Neutron LBaaS

The project has been retired and there will be no Train release [1].
This patch removes Neutron LBaaS support in tripleo-heat-templates.

[1] https://review.opendev.org/#/c/658494/

Related-Bug: #1831618
Change-Id: Ibf87819d9db72fa5d1bbaeb2019ca94de97f9dd1
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/45/663045/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/neutron-sanity-check/defaults/main.yml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'validations/neutron-sanity-check.yaml', 'releasenotes/notes/remove-neutron-lbaas-e8168b4595506b91.yaml', 'validations/undercloud-neutron-sanity-check.yaml']",6,fb286665215f7d3c3f93bc4cb800d8b448c749af,remove-lbaas,, - /usr/share/neutron/neutron-lbaas-dist.conf - /etc/neutron/lbaas_agent.ini,11,10
openstack%2Fironic-python-agent~master~I409d9e3db05eaf11ccaaaef8784d693f40687328,openstack/ironic-python-agent,master,I409d9e3db05eaf11ccaaaef8784d693f40687328,Add Python 3 Train unit tests,MERGED,2019-06-13 03:34:05.000000000,2019-06-28 05:44:56.000000000,2019-06-28 05:44:56.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-06-13 03:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cd7482fd257162fd3e156dbdc00e3dc2269bf89a', 'message': 'Update Python 3 test runtimes for Train\n\nOne of train goals to have consistent python3 jobs.\n\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I409d9e3db05eaf11ccaaaef8784d693f40687328\n'}, {'number': 2, 'created': '2019-06-24 18:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/964e33c41e8f994a0812caedea8b8257e70b8cf0', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I409d9e3db05eaf11ccaaaef8784d693f40687328\nStory: #2005924\nTask: #34213\n'}, {'number': 3, 'created': '2019-06-25 07:27:32.000000000', 'files': ['zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dc3e26ac19b927c50c10362a2fd6d07779d26984', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I409d9e3db05eaf11ccaaaef8784d693f40687328\nStory: #2005924\nTask: #34213\n'}]",1,665052,dc3e26ac19b927c50c10362a2fd6d07779d26984,14,7,3,24828,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I409d9e3db05eaf11ccaaaef8784d693f40687328
Story: #2005924
Task: #34213
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/665052/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'setup.cfg']",2,cd7482fd257162fd3e156dbdc00e3dc2269bf89a,python3-train, Environment :: OpenStack Intended Audience :: System Administrators Intended Audience :: Information Technology License :: OSI Approved :: Apache Software License Operating System :: OS Independent Programming Language :: Python Programming Language :: Python Programming Language :: Python :: 2 Programming Language :: Python :: 2.7 Programming Language :: Python :: 3 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7 , Development Status :: 4 - Beta Intended Audience :: Developers License :: OSI Approved :: Apache Software License Operating System :: OS Independent Programming Language :: Python,14,6
openstack%2Fpython-swiftclient~master~I3718f69610545b0dbcb0a2ab45b400da3a45682c,openstack/python-swiftclient,master,I3718f69610545b0dbcb0a2ab45b400da3a45682c,Isolate docs requirements,MERGED,2019-06-25 22:44:01.000000000,2019-06-28 05:39:48.000000000,2019-06-28 05:39:48.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 22:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/f00e11c42cbdfec13de37e38ab8095ccb94276f6', 'message': ""Isolate docs requirements\n\n...since modern sphinx won't install on py27.\n\nWhile we're at it, clean up some warnings and treat\nwarnings as errors.\n\nChange-Id: I3718f69610545b0dbcb0a2ab45b400da3a45682c\n""}, {'number': 2, 'created': '2019-06-26 22:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/79903c065855a3eff89f5c791a99f7eb0ec8e6b5', 'message': ""Isolate docs requirements\n\n...since modern sphinx won't install on py27.\n\nWhile we're at it, clean up some warnings and treat warnings as errors.\n\nAlso, fix up how we parse test configs so we can run func tests.\n\nRelated-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1\nChange-Id: I3718f69610545b0dbcb0a2ab45b400da3a45682c\n""}, {'number': 3, 'created': '2019-06-27 23:48:42.000000000', 'files': ['doc/source/_static/.gitignore', 'test-requirements.txt', 'swiftclient/utils.py', 'doc/requirements.txt', 'swiftclient/multithreading.py', 'tox.ini', 'tests/functional/test_swiftclient.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/113eacf3b80f61d366b3e95b558b40f82ff728a4', 'message': ""Isolate docs requirements\n\n...since modern sphinx won't install on py27.\n\nWhile we're at it, clean up some warnings and treat warnings as errors.\n\nAlso, fix up how we parse test configs so we can run func tests.\n\nRelated-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1\nChange-Id: I3718f69610545b0dbcb0a2ab45b400da3a45682c\n""}]",0,667477,113eacf3b80f61d366b3e95b558b40f82ff728a4,10,2,3,15343,,,0,"Isolate docs requirements

...since modern sphinx won't install on py27.

While we're at it, clean up some warnings and treat warnings as errors.

Also, fix up how we parse test configs so we can run func tests.

Related-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1
Change-Id: I3718f69610545b0dbcb0a2ab45b400da3a45682c
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/77/667477/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitignore', 'test-requirements.txt', 'swiftclient/utils.py', 'doc/requirements.txt', 'swiftclient/multithreading.py', 'tox.ini']",6,f00e11c42cbdfec13de37e38ab8095ccb94276f6,,usedevelop = False deps = -r{toxinidir}/doc/requirements.txt python setup.py build_sphinx -Wusedevelop = False deps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,18,5
openstack%2Fneutron~master~I190f7272ae468a8f6cd9d68f33103490f0bacf62,openstack/neutron,master,I190f7272ae468a8f6cd9d68f33103490f0bacf62,Make networking-ovn-tempest-dsvm-ovs-release job voting,MERGED,2019-03-04 16:49:25.000000000,2019-06-28 05:38:45.000000000,2019-06-28 05:38:45.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-04 16:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cb9c72d300334476c18d5af7a6f717b7ec1da58', 'message': 'Make networking-ovn-tempest-dsvm-ovs-release job voting\n\nNow that tripleo has shifted to use OVN by default, introducing bugs\nthat break OVN will have a side-effect of breaking tripleo.  Make the\ncrosscheck job for OVN voting to avoid those kinds of issues.\n\nChange-Id: I190f7272ae468a8f6cd9d68f33103490f0bacf62\n'}, {'number': 2, 'created': '2019-04-03 13:35:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f2b08c55991d26b901884ca5cd558e72ee848af', 'message': 'Make networking-ovn-tempest-dsvm-ovs-release job voting\n\nNow that tripleo has shifted to use OVN by default, introducing bugs\nthat break OVN will have a side-effect of breaking tripleo.  Make the\ncrosscheck job for OVN voting to avoid those kinds of issues.\n\nChange-Id: I190f7272ae468a8f6cd9d68f33103490f0bacf62\n'}]",0,640812,9f2b08c55991d26b901884ca5cd558e72ee848af,91,16,2,13995,,,0,"Make networking-ovn-tempest-dsvm-ovs-release job voting

Now that tripleo has shifted to use OVN by default, introducing bugs
that break OVN will have a side-effect of breaking tripleo.  Make the
crosscheck job for OVN voting to avoid those kinds of issues.

Change-Id: I190f7272ae468a8f6cd9d68f33103490f0bacf62
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/640812/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7cb9c72d300334476c18d5af7a6f717b7ec1da58,ovn_job_voting,, voting: false,0,1
openstack%2Ftripleo-heat-templates~master~I7e236b838328a7a140a0aba0745bd8ac1db00015,openstack/tripleo-heat-templates,master,I7e236b838328a7a140a0aba0745bd8ac1db00015,Add /run/libvirt to nova_migration_target container,MERGED,2019-06-26 12:59:46.000000000,2019-06-28 05:26:22.000000000,2019-06-28 05:26:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 10135}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27478}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 12:59:46.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/537822d47c455cb9e4184744a91d083f2c89609c', 'message': 'Add /run/libvirt to nova_migration_target container\n\n[1] removed the bind mount from /run inside the nova_migration_target\ncontainer. But the nova-migration-wrapper inside the container needs\naccess to the libvirt socket [2].\n\nThis adds the bind mount of /run/libvirt to the nova_migration_target\ncontainer to fix live migration issues.\n\n[1] https://review.opendev.org/#/c/662109/\n[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31\n\nChange-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015\nCloses-Bug: #1834330\n'}]",0,667605,537822d47c455cb9e4184744a91d083f2c89609c,25,15,1,17216,,,0,"Add /run/libvirt to nova_migration_target container

[1] removed the bind mount from /run inside the nova_migration_target
container. But the nova-migration-wrapper inside the container needs
access to the libvirt socket [2].

This adds the bind mount of /run/libvirt to the nova_migration_target
container to fix live migration issues.

[1] https://review.opendev.org/#/c/662109/
[2] https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31

Change-Id: I7e236b838328a7a140a0aba0745bd8ac1db00015
Closes-Bug: #1834330
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/667605/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-migration-target-container-puppet.yaml', 'releasenotes/notes/nova_migration_target_libvirt_socket-585fa579e5b2704d.yaml']",2,537822d47c455cb9e4184744a91d083f2c89609c,bug/1834330,--- fixes: - | https://review.opendev.org/#/c/662109/ removed the bind mount from /run inside the nova_migration_target container. But the nova-migration-wrapper inside the container needs access to the libvirt socket - https://github.com/rdo-packages/nova-distgit/blob/rpm-master/nova-migration-wrapper#L31 . This adds the bind mount of /run/libvirt to the nova_migration_target container to fix live migration issues. ,,10,0
openstack%2Faodh~master~Idee3216c7c1b4f6391d08649637e619ba1a0ac13,openstack/aodh,master,Idee3216c7c1b4f6391d08649637e619ba1a0ac13,Byte encoding of member Id,MERGED,2019-06-12 21:41:42.000000000,2019-06-28 05:23:28.000000000,2019-06-28 05:23:28.000000000,"[{'_account_id': 6924}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-06-12 21:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c470c3e186847a08bc448e0250b57c3e6b650ca4', 'message': 'Ascii encoding of Id\n\nWhen calling for class PartitionCoordinator\nit expects the member id to be encoded in\nascii otherwise it raises MemberNotInGroupError\nexception.\n\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 2, 'created': '2019-06-14 18:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/2d931298c2aad74687a8e84f3bd41567477469e9', 'message': 'Byte encoding of member Id\n\nFrom OSP15 we will be porting to\npython3 due to rhel8, to deal with that change,\nwhen calling for class PartitionCoordinator\nthe member id need to be encoded in\nbyte format otherwise it raises MemberNotInGroupError\nexception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 3, 'created': '2019-06-14 19:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/22fe7526a1282fbaeaedc9c8a6362bcbf9d8904c', 'message': 'Byte encoding of member Id\n\nFrom OSP15 we will be porting to\npython3 due to rhel8, to deal with that change,\nwhen calling for class PartitionCoordinator\nthe member id need to be encoded in\nbyte format otherwise it raises MemberNotInGroupError\nexception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 4, 'created': '2019-06-20 19:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/374f4c5d6fa025570cc6707b18fe0b07d29f5ab4', 'message': 'Byte encoding of member Id\n\nFrom OSP15 we will be porting to\npython3 due to rhel8, to deal with that change,\nwhen calling for class PartitionCoordinator\nthe member id need to be encoded in\nbyte format otherwise it raises MemberNotInGroupError\nexception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 5, 'created': '2019-06-20 21:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f359a2b21d6317e97cffc41a10bec33a54c9731e', 'message': 'Byte encoding of member Id\n\nFrom stein we will be porting to python3.\nTo deal with that, when calling for class PartitionCoordinator\nthe member id need to be encoded in byte format\notherwise it raises MemberNotInGroupError exception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 6, 'created': '2019-06-26 20:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/bf2cf7d86181a2f7e975a07efa31b48323a12a98', 'message': 'Byte encoding of member Id\n\nFrom stein we will be porting to python3.\nTo deal with that, when calling for class PartitionCoordinator\nthe member id need to be encoded in byte format\notherwise it raises MemberNotInGroupError exception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 7, 'created': '2019-06-26 22:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f21c0b5cf7ff073afcf1164da0e9b4eb8c2f76e2', 'message': 'Byte encoding of member Id\n\nFrom stein we will be porting to python3.\nTo deal with that, when calling for class PartitionCoordinator\nthe member id need to be encoded in byte format\notherwise it raises MemberNotInGroupError exception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}, {'number': 8, 'created': '2019-06-27 19:43:48.000000000', 'files': ['aodh/coordination.py', 'aodh/tests/unit/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/9c9112ad1f07fad457cb76612a43394ece840e06', 'message': 'Byte encoding of member Id\n\nFrom stein we will be porting to python3.\nTo deal with that, when calling for class PartitionCoordinator\nthe member id need to be encoded in byte format\notherwise it raises MemberNotInGroupError exception.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2005894\nChange-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13\n'}]",2,665022,9c9112ad1f07fad457cb76612a43394ece840e06,29,5,8,28504,,,0,"Byte encoding of member Id

From stein we will be porting to python3.
To deal with that, when calling for class PartitionCoordinator
the member id need to be encoded in byte format
otherwise it raises MemberNotInGroupError exception.

Closes-Bug: https://storyboard.openstack.org/#!/story/2005894
Change-Id: Idee3216c7c1b4f6391d08649637e619ba1a0ac13
",git fetch https://review.opendev.org/openstack/aodh refs/changes/22/665022/8 && git format-patch -1 --stdout FETCH_HEAD,['aodh/coordination.py'],1,c470c3e186847a08bc448e0250b57c3e6b650ca4,bug_resolve, self._my_id = my_id or uuidutils.generate_uuid().encode('ascii'), self._my_id = my_id or uuidutils.generate_uuid(),1,1
openstack%2Fwatcher~master~Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb,openstack/watcher,master,Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb,improve the process of instance_created.end,MERGED,2019-06-21 09:14:53.000000000,2019-06-28 05:15:45.000000000,2019-06-28 02:29:11.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-21 09:14:53.000000000', 'files': ['watcher/decision_engine/model/notification/nova.py', 'watcher/tests/decision_engine/model/notification/test_nova_notifications.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/dd321e9f2179e6067b971128b940b4972ae2d34f', 'message': ""improve the process of instance_created.end\n\nIn the process of handling instance_created.end,\nthere is a KeyError exception output log. This is because\ninvoking get_instance_by_uuid before creating the instance\nin the data model.\nDuring the review of https://review.opendev.org/#/c/663489/,\nreviewers think that it's better to remove the KeyError exception.\nThis patche seperates the process of instance_created.end from\nother Nova notifications and removes the call of get_instance_by_uuid.\n\nChange-Id: Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb\n""}]",0,666795,dd321e9f2179e6067b971128b940b4972ae2d34f,9,5,1,21692,,,0,"improve the process of instance_created.end

In the process of handling instance_created.end,
there is a KeyError exception output log. This is because
invoking get_instance_by_uuid before creating the instance
in the data model.
During the review of https://review.opendev.org/#/c/663489/,
reviewers think that it's better to remove the KeyError exception.
This patche seperates the process of instance_created.end from
other Nova notifications and removes the call of get_instance_by_uuid.

Change-Id: Ie9e2d4f5b32ee7a5b52bbcd50abfa81dcabab7bb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/95/666795/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/notification/nova.py', 'watcher/tests/decision_engine/model/notification/test_nova_notifications.py']",2,dd321e9f2179e6067b971128b940b4972ae2d34f,instance_create," def test_fake_instance_create(self): self.fake_cdmc.cluster_data_model = mock.Mock() handler = novanotification.VersionedNotification(self.fake_cdmc) message = self.load_message('instance-create-end.json') # get_instance_by_uuid should not be called when creating instance with mock.patch.object(self.fake_cdmc.cluster_data_model, 'get_instance_by_uuid') as mock_get: handler.info( ctxt=self.context, publisher_id=message['publisher_id'], event_type=message['event_type'], payload=message['payload'], metadata=self.FAKE_METADATA, ) mock_get.assert_not_called()",,31,1
openstack%2Ftricircle~master~I661918c66aca69d9e99732d0f5910687e39b8787,openstack/tricircle,master,I661918c66aca69d9e99732d0f5910687e39b8787,update our tox version,MERGED,2019-06-28 02:28:42.000000000,2019-06-28 04:46:28.000000000,2019-06-28 04:46:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-06-28 02:28:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/c7f79f8149c9041b311c7d62f62d5e41a2359d1c', 'message': 'update our tox version\n\nthe tox version we used are too old.\n\nChange-Id: I661918c66aca69d9e99732d0f5910687e39b8787\nSigned-off-by: song baisen <songbaisen@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n'}]",0,668079,c7f79f8149c9041b311c7d62f62d5e41a2359d1c,6,2,1,27215,,,0,"update our tox version

the tox version we used are too old.

Change-Id: I661918c66aca69d9e99732d0f5910687e39b8787
Signed-off-by: song baisen <songbaisen@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/79/668079/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c7f79f8149c9041b311c7d62f62d5e41a2359d1c,s30,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fceilometer~master~I766163d2d9c5483a40169b74fd5b3a65d84829aa,openstack/ceilometer,master,I766163d2d9c5483a40169b74fd5b3a65d84829aa,Change in Ceilometer release notes:,ABANDONED,2018-12-13 04:58:02.000000000,2019-06-28 04:45:54.000000000,,"[{'_account_id': 10311}, {'_account_id': 11278}, {'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 27068}, {'_account_id': 29360}]","[{'number': 1, 'created': '2018-12-13 04:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e6a64af271c114c45455bdbb9839b870859a3af9', 'message': 'Change in Ceilometer release notes:\n\nGrammatical error in docs.\n""The deprecated meter for compute where removed:""\nis replaced by\n""The deprecated meter for compute were removed:""\n\nChange-Id: I766163d2d9c5483a40169b74fd5b3a65d84829aa\nCloses-bug: #1808269\n'}, {'number': 2, 'created': '2018-12-14 09:34:25.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/remove-compute-rate-deprecated-meters-201893c6b686b04a.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/461bd1522342223dc39a917323db3b572fcc615b', 'message': 'Change in Ceilometer release notes:\n\nGrammatical error in docs.\n""The deprecated meter for compute where removed:""\nis replaced by\n""These deprecated meters for compute were removed:""\n\nChange-Id: I766163d2d9c5483a40169b74fd5b3a65d84829aa\nCloses-bug: #1808269\n'}]",1,624857,461bd1522342223dc39a917323db3b572fcc615b,16,7,2,29360,,,0,"Change in Ceilometer release notes:

Grammatical error in docs.
""The deprecated meter for compute where removed:""
is replaced by
""These deprecated meters for compute were removed:""

Change-Id: I766163d2d9c5483a40169b74fd5b3a65d84829aa
Closes-bug: #1808269
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/57/624857/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/remove-compute-rate-deprecated-meters-201893c6b686b04a.yaml']",2,e6a64af271c114c45455bdbb9839b870859a3af9,bug/1808269, The deprecated meter for compute were removed:, The deprecated meter for compute where removed:,3,3
openstack%2Fceilometer~master~I1020cdaafbeba1320a289808bf73cee86ccadbc3,openstack/ceilometer,master,I1020cdaafbeba1320a289808bf73cee86ccadbc3,Add python 3.6 unit test job,ABANDONED,2018-11-08 02:53:51.000000000,2019-06-28 04:45:30.000000000,,"[{'_account_id': 10311}, {'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 28956}, {'_account_id': 29360}]","[{'number': 1, 'created': '2018-11-08 02:53:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/de567e311a7da42edb611581a2d6792f5e58f9c3', 'message': 'Add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I1020cdaafbeba1320a289808bf73cee86ccadbc3\n'}]",0,616399,de567e311a7da42edb611581a2d6792f5e58f9c3,10,6,1,28956,,,0,"Add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I1020cdaafbeba1320a289808bf73cee86ccadbc3
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/99/616399/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,de567e311a7da42edb611581a2d6792f5e58f9c3,py36-first,"envlist = py{27,35,36},pep8","envlist = py{27,35},pep8",1,1
openstack%2Fmurano~master~Id506aad04b878ba516872ef0169664f47f6eaab0,openstack/murano,master,Id506aad04b878ba516872ef0169664f47f6eaab0,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:15:34.000000000,2019-06-28 04:25:17.000000000,2019-06-28 04:25:17.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 08:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/cbb1d30284fd0dbb5ffc8250ab8be482815b07bb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}, {'number': 2, 'created': '2019-04-24 08:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/a30ac8b3532018f2c7468cef5bc5474fa4d279e5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}, {'number': 3, 'created': '2019-06-04 07:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/5c63aa0b79e070033177bd8e1c42b34d46b49ceb', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}, {'number': 4, 'created': '2019-06-04 07:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/bbf17e53464f60a3992f9cadda4b7bad10af2a7e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}, {'number': 5, 'created': '2019-06-25 03:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/de915e4fa3c0e65e3a82563841572fd451b1cdaf', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}, {'number': 6, 'created': '2019-06-25 03:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/afda6e1c0ea8b1461ad59e4a04a5742ff547b496', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}, {'number': 7, 'created': '2019-06-25 06:43:50.000000000', 'files': ['doc/source/user/userguide/install_client.rst', 'doc/source/reference/appendix/articles/murano_gerrit_dashboard.rst', 'doc/source/reference/appendix/articles/image_builders/linux.rst', 'README.rst', 'doc/source/admin/deploy_murano/devstack.rst', 'murano_tempest_tests/README.rst', 'doc/source/admin/deploy_murano/install_manually.rst', 'doc/source/admin/appdev-guide/app_unit_tests.rst', 'doc/source/admin/configure_cloud_foundry_service_broker.rst', 'CONTRIBUTING.rst', 'murano/tests/functional/README.rst', 'doc/source/admin/appdev-guide/encrypting_properties.rst', 'doc/source/reference/appendix/articles/test_docs.rst', 'doc/source/admin/deploy_murano/configure_ssl.rst', 'doc/source/admin/appdev-guide/muranopackages/dynamic_ui.rst', 'doc/source/install/enable-ssl.rst', 'doc/source/reference/appendix/articles/specification/murano-api.rst', 'doc/source/install/import-murano-apps.rst', 'devstack/README.rst', 'doc/source/first-app/README.rst', 'doc/source/install/from-source.rst', 'doc/source/index.rst', 'doc/source/admin/appdev-guide/murano_pl/core_lib.rst', 'doc/source/reference/appendix/articles/guidelines.rst', 'devstack/upgrade/settings', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/ecf8effdfae208e86133e329f5c6a514cf346bc4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nThorough replacement of git.openstack.org URLs with their opendev.org counterparts.\n\nChange-Id: Id506aad04b878ba516872ef0169664f47f6eaab0\n'}]",4,654827,ecf8effdfae208e86133e329f5c6a514cf346bc4,33,4,7,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Thorough replacement of git.openstack.org URLs with their opendev.org counterparts.

Change-Id: Id506aad04b878ba516872ef0169664f47f6eaab0
",git fetch https://review.opendev.org/openstack/murano refs/changes/27/654827/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/deploy_murano/configure_ssl.rst', 'doc/source/admin/appdev-guide/muranopackages/dynamic_ui.rst', 'doc/source/user/userguide/install_client.rst', 'README.rst', 'doc/source/admin/deploy_murano/devstack.rst', 'murano_tempest_tests/README.rst', 'doc/source/install/enable-ssl.rst', 'doc/source/reference/appendix/articles/specification/murano-api.rst', 'doc/source/admin/appdev-guide/app_unit_tests.rst', 'doc/source/first-app/README.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'murano/tests/functional/README.rst', 'doc/source/admin/appdev-guide/murano_pl/core_lib.rst', 'doc/source/admin/appdev-guide/encrypting_properties.rst', 'doc/source/reference/appendix/articles/guidelines.rst', 'doc/source/reference/appendix/articles/test_docs.rst', 'tox.ini']",18,cbb1d30284fd0dbb5ffc8250ab8be482815b07bb,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages}install_command = pip install -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt?h=stable/queens {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}install_command = pip install -chttps://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens {opts} {packages},41,41
openstack%2Freleases~master~If34deae6a6290be40f3d3b286b0af0d902716ce2,openstack/releases,master,If34deae6a6290be40f3d3b286b0af0d902716ce2,Release python-ironic-inspector-client 3.6.1 for Train,MERGED,2019-06-27 15:32:52.000000000,2019-06-28 03:15:04.000000000,2019-06-28 03:15:04.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-27 15:32:52.000000000', 'files': ['deliverables/train/python-ironic-inspector-client.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7ee2e510a9e986bda857299fd81866dddace480', 'message': 'Release python-ironic-inspector-client 3.6.1 for Train\n\nThis release fixes a regression in 3.6.0 that broke TripleO.\n\nChange-Id: If34deae6a6290be40f3d3b286b0af0d902716ce2\n'}]",0,667964,a7ee2e510a9e986bda857299fd81866dddace480,9,6,1,10239,,,0,"Release python-ironic-inspector-client 3.6.1 for Train

This release fixes a regression in 3.6.0 that broke TripleO.

Change-Id: If34deae6a6290be40f3d3b286b0af0d902716ce2
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/667964/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-ironic-inspector-client.yaml'],1,a7ee2e510a9e986bda857299fd81866dddace480,ironic-inspector-client, - projects: - hash: 81ae133bd570ea7359b4797ee5699d2d4233b445 repo: openstack/python-ironic-inspector-client version: 3.6.1,,4,0
openstack%2Ftricircle~master~I8c74f4fec5bce2762bab51b1aff52b090719e433,openstack/tricircle,master,I8c74f4fec5bce2762bab51b1aff52b090719e433,Switch DB _utils to new engine facade,MERGED,2019-06-28 01:16:13.000000000,2019-06-28 03:08:43.000000000,2019-06-28 03:08:43.000000000,"[{'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-06-28 01:16:13.000000000', 'files': ['tricircle/network/segment_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/496d152ceb7ed42eac76e123f3a282d554e9dae8', 'message': 'Switch DB _utils to new engine facade\n\nChange-Id: I8c74f4fec5bce2762bab51b1aff52b090719e433\nSigned-off-by: song baisen <songbaisen@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n'}]",0,668075,496d152ceb7ed42eac76e123f3a282d554e9dae8,6,2,1,27215,,,0,"Switch DB _utils to new engine facade

Change-Id: I8c74f4fec5bce2762bab51b1aff52b090719e433
Signed-off-by: song baisen <songbaisen@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/75/668075/1 && git format-patch -1 --stdout FETCH_HEAD,['tricircle/network/segment_plugin.py'],1,496d152ceb7ed42eac76e123f3a282d554e9dae8,s29,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(context):, with context.session.begin(subtransactions=True):,2,1
openstack%2Fplacement~master~I33a4f529660057e00e6da25fa4fb4263854819d1,openstack/placement,master,I33a4f529660057e00e6da25fa4fb4263854819d1,Mention OsProfiler in the testing doc,MERGED,2019-06-26 12:52:39.000000000,2019-06-28 02:38:40.000000000,2019-06-28 02:38:40.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f6171533fc51b793942e0744af20e7589f3a9b3c', 'message': 'Mention OsProfiler in the testing doc\n\nSince I5a0e805fe04c00c5e7cf316f0ea8d432b940e560 OsProfiler can be used\nwith extracted placement service to trace the wsgi endpoint. This patch\nadds documentations to help using the OsProfiler.\n\nTask: 2005842\nStory: 34191\nChange-Id: I33a4f529660057e00e6da25fa4fb4263854819d1\n'}, {'number': 2, 'created': '2019-06-27 07:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2dd5c75ae296cd54284da0096bd51d1ff76bb895', 'message': 'Mention OsProfiler in the testing doc\n\nSince I5a0e805fe04c00c5e7cf316f0ea8d432b940e560 OsProfiler can be used\nwith extracted placement service to trace the wsgi endpoint. This patch\nadds documentations to help using the OsProfiler.\n\nTask: 2005842\nStory: 34191\nChange-Id: I33a4f529660057e00e6da25fa4fb4263854819d1\n'}, {'number': 3, 'created': '2019-06-27 16:42:12.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/243757dde63839bd1aa6e415223d934402355a57', 'message': 'Mention OsProfiler in the testing doc\n\nSince I5a0e805fe04c00c5e7cf316f0ea8d432b940e560 OsProfiler can be used\nwith extracted placement service to trace the wsgi endpoint. This patch\nadds documentations to help using the OsProfiler.\n\nStory: 2005842\nTask: 34191\nChange-Id: I33a4f529660057e00e6da25fa4fb4263854819d1\n'}]",7,667604,243757dde63839bd1aa6e415223d934402355a57,17,4,3,9708,,,0,"Mention OsProfiler in the testing doc

Since I5a0e805fe04c00c5e7cf316f0ea8d432b940e560 OsProfiler can be used
with extracted placement service to trace the wsgi endpoint. This patch
adds documentations to help using the OsProfiler.

Story: 2005842
Task: 34191
Change-Id: I33a4f529660057e00e6da25fa4fb4263854819d1
",git fetch https://review.opendev.org/openstack/placement refs/changes/04/667604/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,f6171533fc51b793942e0744af20e7589f3a9b3c,story/2005842,Profiling with OsProfiler ------------------------- To use `OsProfiler`_ with placement: * Add a [profiler] section to the placement.conf:: [profiler] connection_string = mysql+pymysql://root:admin@127.0.0.1/osprofiler?charset=utf8 hmac_keys = my-secret-key enabled = True * Include the hmac_keys in your API request:: $ openstack resource provider list --os-profile my-secret-key The openstack client will return the trace id:: Trace ID: 67428cdd-bfaa-496f-b430-507165729246 * Extract the trace in html format:: $ osprofiler trace show --html 67428cdd-bfaa-496f-b430-507165729246 \ --connection-string mysql+pymysql://root:admin@127.0.0.1/osprofiler?charset=utf8 .. _OsProfiler: https://docs.openstack.org/osprofiler/latest/,,26,0
openstack%2Frequirements~master~I1b570061f2d23889a2bbcab4dfa2725b99cea1dd,openstack/requirements,master,I1b570061f2d23889a2bbcab4dfa2725b99cea1dd,Updated from generate-constraints,MERGED,2019-06-27 06:20:55.000000000,2019-06-28 02:38:38.000000000,2019-06-28 02:38:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 06:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7cc3c6d0ed85046b4f2ac4f3da6851b3365a2a84', 'message': 'Updated from generate-constraints\n\nChange-Id: I1b570061f2d23889a2bbcab4dfa2725b99cea1dd\n'}, {'number': 2, 'created': '2019-06-27 06:30:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c468983657ce53328a22c5beb550ea992d4b96dc', 'message': 'Updated from generate-constraints\n\nChange-Id: I1b570061f2d23889a2bbcab4dfa2725b99cea1dd\n'}]",0,667790,c468983657ce53328a22c5beb550ea992d4b96dc,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I1b570061f2d23889a2bbcab4dfa2725b99cea1dd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/667790/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7cc3c6d0ed85046b4f2ac4f3da6851b3365a2a84,openstack/requirements/constraints/noclob,tornado===5.1.1;python_version=='2.7'snowballstemmer===1.9.0pathlib2===2.3.4boto3===1.9.178more-itertools===7.1.0;python_version=='3.4' more-itertools===7.1.0;python_version=='3.5' more-itertools===7.1.0;python_version=='3.6' more-itertools===7.1.0;python_version=='3.7'botocore===1.12.178storops===1.2.0jsonschema===3.0.1alembic===1.0.11,tornado===4.5.3;python_version=='2.7'snowballstemmer===1.2.1pathlib2===2.3.3boto3===1.9.175more-itertools===7.0.0;python_version=='3.4' more-itertools===7.0.0;python_version=='3.5' more-itertools===7.0.0;python_version=='3.6' more-itertools===7.0.0;python_version=='3.7'botocore===1.12.175storops===1.1.0jsonschema===2.6.0alembic===1.0.10,12,12
openstack%2Fneutron~master~If36b56e508fb8ac941ad2f37e483465acb1292a1,openstack/neutron,master,If36b56e508fb8ac941ad2f37e483465acb1292a1,[Follow Up] Add Smart NIC representor port to integration bridge,MERGED,2019-05-29 10:22:06.000000000,2019-06-28 02:38:33.000000000,2019-06-28 02:38:33.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 26622}, {'_account_id': 26682}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-29 10:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f247ce01f82abd9b160e8d2592981624626b3fda', 'message': ""[Follow Up] Add Smart NIC representor port to integration bridge\n\nAdded fulstack tests for L2 OVS agent's ability to bind SmartNIC ports\n\nChange-Id: If36b56e508fb8ac941ad2f37e483465acb1292a1\n""}, {'number': 2, 'created': '2019-06-02 00:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2fae7d4c37904703b00ec1041d689fde8eb36c5', 'message': ""[Follow Up] Add Smart NIC representor port to integration bridge\n\nAdded fulstack tests for L2 OVS agent's ability to bind SmartNIC ports\n\nChange-Id: If36b56e508fb8ac941ad2f37e483465acb1292a1\n""}, {'number': 3, 'created': '2019-06-10 14:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fad20f2415923dc3e9e624358b97eaa7735f6250', 'message': ""[Follow Up] Add Smart NIC representor port to integration bridge\n\nAdded fulstack tests for L2 OVS agent's ability to bind SmartNIC ports\n\nChange-Id: If36b56e508fb8ac941ad2f37e483465acb1292a1\n""}, {'number': 4, 'created': '2019-06-24 06:58:18.000000000', 'files': ['neutron/tests/fullstack/test_ports_binding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bddad0e1aeace0a426b144d625179a398d477726', 'message': ""[Follow Up] Add Smart NIC representor port to integration bridge\n\nAdded fulstack tests for L2 OVS agent's ability to bind SmartNIC ports\n\nChange-Id: If36b56e508fb8ac941ad2f37e483465acb1292a1\n""}]",10,661932,bddad0e1aeace0a426b144d625179a398d477726,76,12,4,22948,,,0,"[Follow Up] Add Smart NIC representor port to integration bridge

Added fulstack tests for L2 OVS agent's ability to bind SmartNIC ports

Change-Id: If36b56e508fb8ac941ad2f37e483465acb1292a1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/661932/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_ports_binding.py'],1,f247ce01f82abd9b160e8d2592981624626b3fda,bluefield,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import portbindings from neutron_lib import constants from oslo_utils import uuidutils from neutron.common import utils as common_utils from neutron.tests.fullstack import base from neutron.tests.fullstack.resources import environment from neutron.tests.fullstack.resources import machine from neutron.tests.unit import testlib_api load_tests = testlib_api.module_load_tests class TestPortsBinding(base.BaseFullStackTestCase): scenarios = [ ('Open vSwitch Agent', {'l2_agent_type': constants.AGENT_TYPE_OVS})] def setUp(self): host_descriptions = [ environment.HostDescription( l2_agent_type=self.l2_agent_type, l3_agent=False)] env = environment.Environment( environment.EnvironmentDescription( agent_down_time=10), host_descriptions) super(TestPortsBinding, self).setUp(env) self.l2_agent_process = self.environment.hosts[0].l2_agent self.l2_agent = self.safe_client.client.list_agents( agent_type=self.l2_agent_type)['agents'][0] self.tenant_id = uuidutils.generate_uuid() self.network = self.safe_client.create_network(self.tenant_id) self.subnet = self.safe_client.create_subnet( self.tenant_id, self.network['id'], '20.0.0.0/24') def _ensure_port_bound(self, port_id): def port_bound(): port = self.safe_client.client.show_port(port_id)['port'] return ( port[portbindings.VIF_TYPE] not in [portbindings.VIF_TYPE_UNBOUND, portbindings.VIF_TYPE_BINDING_FAILED]) common_utils.wait_until_true(port_bound) def _ensure_port_binding_failed(self, port_id): def port_binding_failed(): port = self.safe_client.client.show_port(port_id)['port'] return (port[portbindings.VIF_TYPE] == portbindings.VIF_TYPE_BINDING_FAILED) common_utils.wait_until_true(port_binding_failed) def test_smartnic_port_binding_on_smartnic_agent(self): """"""Test scenario 1. Stop L2 agent and wait until it will be DEAD 2. Set `baremetal_smartnic=True` in agent config 3. Start L2 agent and wait until it is Alive 4. Create SmartNIC port which will be properly bound to host 5. Validate port's bound status """""" self.l2_agent_process = self.environment.hosts[0].l2_agent self.l2_agent = self.safe_client.client.list_agents( agent_type=self.l2_agent_type)['agents'][0] self.l2_agent_process.stop() self._wait_until_agent_down(self.l2_agent['id']) l2_agent_config = self.l2_agent_process.agent_cfg_fixture.config l2_agent_config['agent']['baremetal_smartnic'] = 'True' self.l2_agent_process.agent_cfg_fixture.write_config_to_configfile() self.l2_agent_process.restart() self._wait_until_agent_up(self.l2_agent['id']) port_1 = self.safe_client.create_port( self.tenant_id, self.network['id'], self.environment.hosts[0].hostname, **{""binding:vnic_type"": ""smart-nic"", ""binding:profile"": { ""local_link_information"": [ { ""port_id"": ""port1"", ""hostname"": self.environment.hosts[0].hostname, } ] } } ) vm_1 = self.useFixture( machine.FakeFullstackMachine( self.environment.hosts[0], self.network['id'], self.tenant_id, self.safe_client, neutron_port=port_1)) self._ensure_port_bound(vm_1.neutron_port['id']) def test_smartnic_port_binding_on_non_smartnic_agent(self): """"""Test scenario 1. Create SmartNIC port which will not be properly bound to host 2. Validate port's bound status to be bound failed """""" port_1 = self.safe_client.create_port( self.tenant_id, self.network['id'], self.environment.hosts[0].hostname, **{""binding:vnic_type"": ""smart-nic"", ""binding:profile"": { ""local_link_information"": [ { ""port_id"": ""port1"", ""hostname"": self.environment.hosts[0].hostname, } ] } } ) vm_1 = self.useFixture( machine.FakeFullstackMachine( self.environment.hosts[0], self.network['id'], self.tenant_id, self.safe_client, neutron_port=port_1)) self._ensure_port_binding_failed(vm_1.neutron_port['id']) ",,141,0
openstack%2Fcyborg-tempest-plugin~master~I116c662f1a6f5489fe06841b6a3c7a7ecccfc848,openstack/cyborg-tempest-plugin,master,I116c662f1a6f5489fe06841b6a3c7a7ecccfc848,Enable plugin list feature and add gate job to merge patches,MERGED,2019-05-16 23:16:55.000000000,2019-06-28 02:30:40.000000000,2019-06-28 02:30:40.000000000,"[{'_account_id': 5689}, {'_account_id': 14107}, {'_account_id': 20190}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 25738}, {'_account_id': 29907}]","[{'number': 1, 'created': '2019-05-16 23:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/0d15a58f61ddc810455253a43e6f2a19ad477058', 'message': 'Enable plugin list feature\n\nThis commit enables to run `tempest list-plugins` and `tox -e py37`\nsuccessfully. This makes the tempest plugin sanity job pass, too.\n\nChange-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848\n'}, {'number': 2, 'created': '2019-05-17 02:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/afb4242daab7fc61640e1e910dfdf9dc8d748c51', 'message': 'Enable plugin list feature\n\nThis commit enables to run `tempest list-plugins` and `tox -e py37`\nsuccessfully. This makes the tempest plugin sanity job pass, too. And\nthis commit also fixes README.rst tiny errors to pass the gate check.\n\nChange-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848\n'}, {'number': 3, 'created': '2019-06-25 07:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/3aa9a17d1a3c1d29985baa88bed69088608f12af', 'message': 'Enable plugin list feature and add gate job to merge patches\n\nThis commit enables to run `tempest list-plugins` and `tox -e py37`\nsuccessfully. This makes the tempest plugin sanity job pass, too. And\nthis commit also fixes README.rst tiny errors to pass the gate check.\n\nAlso add the gate job, this can make merge patches.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848\n'}, {'number': 4, 'created': '2019-06-25 07:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/ea4746540f0dca6f88632aae89f0486496e610e7', 'message': 'Enable plugin list feature and add gate job to merge patches\n\nThis commit enables to run `tempest list-plugins` and `tox -e py37`\nsuccessfully. This makes the tempest plugin sanity job pass, too. And\nthis commit also fixes README.rst tiny errors to pass the gate check.\n\nAlso add the gate job, this can make merge patches.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848\n'}, {'number': 5, 'created': '2019-06-25 07:58:01.000000000', 'files': ['README.rst', 'cyborg_tempest_plugin/config.py', '.zuul.yaml', 'cyborg_tempest_plugin/plugin.py', 'setup.cfg', 'tox.ini', 'cyborg_tempest_plugin/tests/test_dummy.py', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/6f6d3ee3610a49d91de3b04da575b72cbc010160', 'message': 'Enable plugin list feature and add gate job to merge patches\n\nThis commit enables to run `tempest list-plugins` and `tox -e py37`\nsuccessfully. This makes the tempest plugin sanity job pass, too. And\nthis commit also fixes README.rst tiny errors to pass the gate check.\n\nAlso add the gate job, this can make merge patches.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848\n'}]",0,659687,6f6d3ee3610a49d91de3b04da575b72cbc010160,17,8,5,5689,,,0,"Enable plugin list feature and add gate job to merge patches

This commit enables to run `tempest list-plugins` and `tox -e py37`
successfully. This makes the tempest plugin sanity job pass, too. And
this commit also fixes README.rst tiny errors to pass the gate check.

Also add the gate job, this can make merge patches.

Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
Change-Id: I116c662f1a6f5489fe06841b6a3c7a7ecccfc848
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/87/659687/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/plugin.py', 'setup.cfg', 'tox.ini', 'cyborg_tempest_plugin/tests/test_dummy.py', '.stestr.conf']",5,0d15a58f61ddc810455253a43e6f2a19ad477058,tempest-sanity-gate,test_path=./cyborg_tempest_plugin/tests,test_path=./cyborg-tempest-plugin/tests,28,6
openstack%2Fwatcher~master~I3fad8d30a15aba493fb91da9337c2515ddea5167,openstack/watcher,master,I3fad8d30a15aba493fb91da9337c2515ddea5167,Add uWSGI support,MERGED,2019-06-21 06:50:29.000000000,2019-06-28 02:29:16.000000000,2019-06-28 02:29:16.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-21 06:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0b3bb46652cc1c2b0bfa94c44f533fe7fa40a55b', 'message': 'Change wsgi mode from mod_wsgi to uwsgi\n\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 2, 'created': '2019-06-21 09:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5260c429678a38de66fc1c9df5743a5b5e546af4', 'message': 'Change wsgi mode from mod_wsgi to uwsgi\n\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 3, 'created': '2019-06-22 02:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4a9d44f075525e29109559bfc695ba4fb7e423ce', 'message': 'Change wsgi mode from mod_wsgi to uwsgi\n\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 4, 'created': '2019-06-22 08:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e7087f9cda699b2cdc5b4f798b945d2e42ba903c', 'message': 'Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 5, 'created': '2019-06-24 04:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e8ad2c7c3adef67c4311695fe55b3a63d8f78f87', 'message': 'Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 6, 'created': '2019-06-24 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/83dbb3a46a8a517485b990ce6f88d3bc23123834', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 7, 'created': '2019-06-24 09:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/eeceef50a3ee8661c5eb0e49a6d1555056dc8c58', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 8, 'created': '2019-06-25 07:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c11879a953e61611643de9ea0f09f7ad88684096', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 9, 'created': '2019-06-26 02:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/bb41d44361929a39f3d68f25176e2de7d483aad9', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 10, 'created': '2019-06-26 03:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7663440491c40f060a7a38304fabe5cfc200f28a', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 11, 'created': '2019-06-26 04:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/179471e8fbec827a8d744ce38d4526ee9e808e99', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 12, 'created': '2019-06-26 07:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b7526cf13ad1d86ccf3d45d76658492df7cc13c1', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 13, 'created': '2019-06-26 09:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ed12d279f935160ff394c2c3cfea365787de29a2', 'message': '[WiP]Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 14, 'created': '2019-06-27 01:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/47d2f803ae97a2803916dfa87af1f150378d15f3', 'message': 'Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nCloses-Bug: #1834392\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}, {'number': 15, 'created': '2019-06-27 06:57:17.000000000', 'files': ['watcher/api/app.wsgi', 'etc/apache2/watcher', 'devstack/lib/watcher', 'watcher/api/wsgi.py', 'devstack/upgrade/upgrade.sh', 'releasenotes/notes/uwsgi-support-8dcea6961e56dad0.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c1a5e443fee632192af0b4f8488d900bbbba6149', 'message': 'Add uWSGI support\n\nThis patch implements uWSGI support for Watcher API service.\nBecause mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.\nMost of Openstack projects have finished it.\n\nCloses-Bug: #1834392\nChange-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167\n'}]",6,666779,c1a5e443fee632192af0b4f8488d900bbbba6149,39,4,15,21692,,,0,"Add uWSGI support

This patch implements uWSGI support for Watcher API service.
Because mod_wsgi is deprecated, using uwsgi to replace of mod_wsgi.
Most of Openstack projects have finished it.

Closes-Bug: #1834392
Change-Id: I3fad8d30a15aba493fb91da9337c2515ddea5167
",git fetch https://review.opendev.org/openstack/watcher refs/changes/79/666779/15 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/watcher'],1,0b3bb46652cc1c2b0bfa94c44f533fe7fa40a55b,bug/1834392,"WATCHER_CONF_DIR=/etc/watcher WATCHER_CONF=$WATCHER_CONF_DIR/watcher.conf# Support entry points installation of console scripts if [[ -d $WATCHER_DIR/bin ]]; then WATCHER_BIN_DIR=$WATCHER_DIR/bin else WATCHER_BIN_DIR=$(get_python_exec_prefix) fi # There are 2 modes, which is ""uwsgi"" which runs with an apache # proxy uwsgi in front of it, or ""mod_wsgi"", which runs in # apache. mod_wsgi is deprecated, don't use it. WATCHER_USE_WSGI_MODE=${WATCHER_USE_WSGI_MODE:-$WSGI_MODE} WATCHER_UWSGI=$WATCHER_BIN_DIR/watcher-api WATCHER_UWSGI_CONF=$WATCHER_CONF_DIR/watcher-uwsgi.iniif [[ ""$WATCHER_USE_WSGI_MODE"" == ""uwsgi"" ]]; then WATCHER_API_URL=""$WATCHER_SERVICE_PROTOCOL://$WATCHER_SERVICE_HOST/infra-optim"" WATCHER_API_URL=""$WATCHER_SERVICE_PROTOCOL://$WATCHER_SERVICE_HOST:$WATCHER_SERVICE_PORT"" if [[ ""$WATCHER_USE_WSGI_MODE"" == ""uwsgi"" ]]; then remove_uwsgi_config ""$WATCHER_UWSGI_CONF"" ""$WATCHER_UWSGI"" else ""$WATCHER_API_URL""\ ""$WATCHER_API_URL""\ ""$WATCHER_API_URL"" if [[ ""$WATCHER_USE_WSGI_MODE"" == ""mod_wsgi"" ]]; then if [[ ""$WATCHER_USE_WSGI_MODE"" == ""uwsgi"" ]]; then write_uwsgi_config ""$WATCHER_UWSGI_CONF"" ""$WATCHER_UWSGI"" ""/infra-optim"" else if [[ ""$WATCHER_USE_WSGI_MODE"" == ""mod_wsgi"" ]]; then if [[ ""$WATCHER_USE_WSGI_MODE"" == ""uwsgi"" ]]; then run_process ""watcher-api"" ""$WATCHER_BIN_DIR/uwsgi --ini $WATCHER_UWSGI_CONF"" else if [[ ""$WATCHER_USE_WSGI_MODE"" == ""uwsgi"" ]]; then stop_process watcher-api else","WATCHER_CONF_DIR=/etc/watcher WATCHER_CONF=$WATCHER_CONF_DIR/watcher.confWATCHER_USE_MOD_WSGI=$(trueorfalse True WATCHER_USE_MOD_WSGI)# Support entry points installation of console scripts if [[ -d $WATCHER_DIR/bin ]]; then WATCHER_BIN_DIR=$WATCHER_DIR/bin WATCHER_BIN_DIR=$(get_python_exec_prefix) if [[ ""$WATCHER_USE_MOD_WSGI"" == ""True"" ]]; then ""$WATCHER_SERVICE_PROTOCOL://$WATCHER_SERVICE_HOST:$WATCHER_SERVICE_PORT"" \ ""$WATCHER_SERVICE_PROTOCOL://$WATCHER_SERVICE_HOST:$WATCHER_SERVICE_PORT"" \ ""$WATCHER_SERVICE_PROTOCOL://$WATCHER_SERVICE_HOST:$WATCHER_SERVICE_PORT"" if [[ ""$WATCHER_USE_MOD_WSGI"" == ""True"" ]]; then if [[ ""$WATCHER_USE_MOD_WSGI"" == ""True"" ]]; then if [[ ""$WATCHER_USE_MOD_WSGI"" == ""True"" ]]; then if [[ ""$WATCHER_USE_MOD_WSGI"" == ""True"" ]]; then if [[ ""$WATCHER_USE_MOD_WSGI"" == ""True"" ]]; then else stop_process watcher-api",34,18
openstack%2Fwatcher~master~I7e441608b38338eecd80e663ed3abe66a89e504f,openstack/watcher,master,I7e441608b38338eecd80e663ed3abe66a89e504f,Configure nova notification format in non-grenade CI jobs,MERGED,2019-06-05 13:34:38.000000000,2019-06-28 02:29:14.000000000,2019-06-28 02:29:14.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-05 13:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/487643d0bca7d35fa557013f9560edd9d1798e0b', 'message': 'Configure nova notification format\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova in the devstack plugin to emit both versioned (for Watcher)\nand unversioned (for Ceilometer) notifications explicitly.\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 2, 'created': '2019-06-06 15:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1c29d598f59c3116e74ac738a8a6b0e68f03b253', 'message': 'Configure nova notification format\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nThe local.conf.* samples are just referenced from the contributor\ndocs but will not fix the devstack-based CI jobs. For that the\nwatcher-tempest-functional job definition is updated to configure\nnova.\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 3, 'created': '2019-06-07 18:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/72f9286ccd8a030fdd8b091b3106e7f3eab6cdb4', 'message': 'Configure nova notification format\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nCloses-Bug: #1831917\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 4, 'created': '2019-06-11 14:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f9ac25a354d20ecb31bf0ed720c272397a2b21f3', 'message': 'Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nFor the grenade run we have to hack the settings file for the\n""new"" devstack local.conf (the master version) which we can remove\nin the U release when the ""old"" side is using stable/stein and is\ndeployed from our devstack/lib/watcher script.\n\nCloses-Bug: #1831917\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 5, 'created': '2019-06-11 17:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1eba61638a34c47d644721e15ac09445038336c7', 'message': 'Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nSince the non-grenade job definitions are zuul v3 native we can\nconfigure nova in the parent job. The grenade job is still a legacy\ndefinition using devstack-gate so we have to pass a variable through\nthat way.\n\nCloses-Bug: #1831917\n\nDepends-On: https://review.opendev.org/662849\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 6, 'created': '2019-06-11 18:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/537d23910ccb2d2121f5c174233851f0fa682005', 'message': 'Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nSince the non-grenade job definitions are zuul v3 native we can\nconfigure nova in the parent job. The grenade job is still a legacy\ndefinition using devstack-gate so we have to pass a variable through\nthat way.\n\nCloses-Bug: #1831917\n\nDepends-On: https://review.opendev.org/662849\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 7, 'created': '2019-06-11 19:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e1b7e0a30a2d6af976720676dd8d0fd75f92eb56', 'message': 'Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nSince the non-grenade job definitions are zuul v3 native we can\nconfigure nova in the parent job. The grenade job is still a legacy\ndefinition using devstack-gate so we have to pass a variable through\nthat way.\n\nCloses-Bug: #1831917\n\nDepends-On: https://review.opendev.org/662849\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 8, 'created': '2019-06-12 00:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6cde6cb15855919c927bbc55b5d9ddd72d33c052', 'message': 'WIP: Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nSince the non-grenade job definitions are zuul v3 native we can\nconfigure nova in the parent job. The grenade job is still a legacy\ndefinition using devstack-gate so we have to pass a variable through\nthat way.\n\nCloses-Bug: #1831917\n\nDepends-On: https://review.opendev.org/662849\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 9, 'created': '2019-06-12 19:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2e28a9cd07f575c7d2f1d4f166e4aad5431a1126', 'message': 'WIP: Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nThis adds an override-defaults file so devstack will load up\nthe nova devstack variable to set the notification_format before\nimporting and stacking the nova lib script.\n\nCloses-Bug: #1831917\n\nDepends-On: https://review.opendev.org/662849\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 10, 'created': '2019-06-13 13:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2e39363fb557710e315c5008283995276d4ebcd9', 'message': 'WIP: Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nThis adds an override-defaults file so devstack will load up\nthe nova devstack variable to set the notification_format before\nimporting and stacking the nova lib script.\n\nCloses-Bug: #1831917\n\nDepends-On: https://review.opendev.org/662849\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 11, 'created': '2019-06-17 16:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c10eedfc241a7e2be1b67623627b3866684d659e', 'message': 'Configure nova notification format in CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nThis adds an override-defaults file so devstack will load up\nthe nova devstack variable to set the notification_format before\nimporting and stacking the nova lib script.\n\nNote that grenade only runs stack.sh on the base (old) side\nso this change has to depend on a devstack stable/stein change\nto add the NOVA_NOTIFICATION_FORMAT variable that we override.\n\nCloses-Bug: #1831917\n\nDepends-On: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}, {'number': 12, 'created': '2019-06-24 17:10:09.000000000', 'files': ['devstack/local.conf.compute', 'devstack/local.conf.controller', 'devstack/override-defaults'], 'web_link': 'https://opendev.org/openstack/watcher/commit/966a4dfa5f030d4b88e4902c9f762a2d6213a670', 'message': 'Configure nova notification format in non-grenade CI jobs\n\nNova used to emit versioned and unversioned notiifcations\nby default but that changed in https://review.opendev.org/603079/\nso now nova emits only unversioned notifications by default.\nWatcher listens for versioned notifications so we need to configure\nnova to emit both versioned (for Watcher) and unversioned\n(for Ceilometer) notifications explicitly.\n\nThis adds an override-defaults file so devstack will load up\nthe nova devstack variable to set the notification_format before\nimporting and stacking the nova lib script.\n\nNote that this only fixes the non-grenade CI jobs since grenade\nrequires separate handling for overriding defaults which is proving\nhard to do and will be addressed in a separate change.\n\nPartial-Bug: #1831917\n\nChange-Id: I7e441608b38338eecd80e663ed3abe66a89e504f\n'}]",17,663332,966a4dfa5f030d4b88e4902c9f762a2d6213a670,59,6,12,6873,,,0,"Configure nova notification format in non-grenade CI jobs

Nova used to emit versioned and unversioned notiifcations
by default but that changed in https://review.opendev.org/603079/
so now nova emits only unversioned notifications by default.
Watcher listens for versioned notifications so we need to configure
nova to emit both versioned (for Watcher) and unversioned
(for Ceilometer) notifications explicitly.

This adds an override-defaults file so devstack will load up
the nova devstack variable to set the notification_format before
importing and stacking the nova lib script.

Note that this only fixes the non-grenade CI jobs since grenade
requires separate handling for overriding defaults which is proving
hard to do and will be addressed in a separate change.

Partial-Bug: #1831917

Change-Id: I7e441608b38338eecd80e663ed3abe66a89e504f
",git fetch https://review.opendev.org/openstack/watcher refs/changes/32/663332/5 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.compute', 'devstack/local.conf.controller']",2,487643d0bca7d35fa557013f9560edd9d1798e0b,bug/1831917,[notifications] # Enable both versioned and unversioned notifications. Watcher only # uses versioned notifications but ceilometer uses unversioned. We # can change this to just versioned when ceilometer handles versioned # notifications from nova: https://bugs.launchpad.net/ceilometer/+bug/1665449 notification_format=both,,12,0
openstack%2Fwatcher-dashboard~master~I4de2134c2505f8c6c4255e489f18fa31c915ef25,openstack/watcher-dashboard,master,I4de2134c2505f8c6c4255e489f18fa31c915ef25,Add py37 in tox.ini and setup.cfg file,MERGED,2019-06-26 06:10:08.000000000,2019-06-28 02:29:13.000000000,2019-06-28 02:29:12.000000000,"[{'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}, {'_account_id': 28748}, {'_account_id': 29313}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-26 06:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/6ec0638b39e694d61cc58b3969392c9ede3f42ed', 'message': 'Add py37\n\nChange-Id: I4de2134c2505f8c6c4255e489f18fa31c915ef25\n'}, {'number': 2, 'created': '2019-06-26 06:41:31.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/31ee1007cdd30dfcdfefe81e891ed5d133a9a50b', 'message': 'Add py37 in tox.ini and setup.cfg file\n\nChange-Id: I4de2134c2505f8c6c4255e489f18fa31c915ef25\n'}]",1,667515,31ee1007cdd30dfcdfefe81e891ed5d133a9a50b,10,13,2,27822,,,0,"Add py37 in tox.ini and setup.cfg file

Change-Id: I4de2134c2505f8c6c4255e489f18fa31c915ef25
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/15/667515/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,6ec0638b39e694d61cc58b3969392c9ede3f42ed,Bug#1,"envlist = py37,py36,py27,pep8","envlist = py36,py27,pep8",2,1
openstack%2Ftripleo-quickstart-extras~master~Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3,openstack/tripleo-quickstart-extras,master,Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3,Remove reference to tempest-tripleo-ui,MERGED,2019-06-27 17:33:37.000000000,2019-06-28 02:24:06.000000000,2019-06-28 02:24:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 17:33:37.000000000', 'files': ['roles/validate-tempest/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4cd07f0a6cb962b06e5f07b8ee0da02e6ba9348d', 'message': 'Remove reference to tempest-tripleo-ui\n\nThe repository is being retired.\n\nChange-Id: Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3\n'}]",0,667999,4cd07f0a6cb962b06e5f07b8ee0da02e6ba9348d,8,4,1,14985,,,0,"Remove reference to tempest-tripleo-ui

The repository is being retired.

Change-Id: Id8e90da9e0cc0d3efd17022ac3d5f1258f9467b3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/99/667999/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/README.md'],1,4cd07f0a6cb962b06e5f07b8ee0da02e6ba9348d,retire-tempest-tripleo-ui," tempest_plugins_git: [https://opendev.org/openstack/keystone-tempest-plugin,"," tempest_plugins_git: [https://opendev.org/openstack/tempest-tripleo-ui, https://opendev.org/openstack/keystone-tempest-plugin,",1,2
openstack%2Ftripleo-heat-templates~master~I17d7f3c1a48f6f8d4f52e01cd26af825450c099a,openstack/tripleo-heat-templates,master,I17d7f3c1a48f6f8d4f52e01cd26af825450c099a,Skip standalone deploys if tox jobs fail,MERGED,2019-06-21 02:53:12.000000000,2019-06-28 02:24:04.000000000,2019-06-28 02:24:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 02:53:12.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45fa045942485a5702596a3c9fc6334db8ea2de0', 'message': ""Skip standalone deploys if tox jobs fail\n\nWe've excluded most jobs from running if the tox jobs fail but we were\nstill running the standalone jobs. Let's skip those too if pep8 or the\nunit tests fail.\n\nChange-Id: I17d7f3c1a48f6f8d4f52e01cd26af825450c099a\n""}]",0,666755,45fa045942485a5702596a3c9fc6334db8ea2de0,27,5,1,14985,,,0,"Skip standalone deploys if tox jobs fail

We've excluded most jobs from running if the tox jobs fail but we were
still running the standalone jobs. Let's skip those too if pep8 or the
unit tests fail.

Change-Id: I17d7f3c1a48f6f8d4f52e01cd26af825450c099a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/666755/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,45fa045942485a5702596a3c9fc6334db8ea2de0,fix-zuul-deps, - tripleo-ci-centos-7-undercloud-containers: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone: dependencies: *deps_unit_lint - tripleo-ci-fedora-28-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: *deps_unit_lint,,8,0
openstack%2Fwatcher~master~I6976759629a4feedee09261cc1dac935e050202a,openstack/watcher,master,I6976759629a4feedee09261cc1dac935e050202a,Add name for instance in Watcher datamodel,MERGED,2019-05-21 08:48:26.000000000,2019-06-28 02:20:27.000000000,2019-06-28 02:20:27.000000000,"[{'_account_id': 6873}, {'_account_id': 14107}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-21 08:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4249a55bee2ee2515855cb97cea0d41b571a5230', 'message': ""Remove redundant key 'hostname'\n\nAnd keep the meaning of field 'human_id' the same as creating datamodel\nwhen updating datamodel from nova's notfication.\n\nThe value of 'human_id' is the same as instance.name because that novaclient\nmade a sync. see the docs:\nhttps://github.com/openstack/python-novaclient/blob/master/novaclient/base.py#L152\n\nWhen updating datamodel from nova's notification, the 'host_name' correspends\ninstance's name.\n\nSince we use 'host_name' update 'human_id'.\n\nChange-Id: I6976759629a4feedee09261cc1dac935e050202a\n""}, {'number': 2, 'created': '2019-06-20 14:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2dd15c60675f914f5646be09d08533182ddc681f', 'message': ""Add name for instance in Watcher datamodel\n\nname is the original key to identify instance except uuid and id,\nwhich can be got by nova show command. It's indepentent with\nhost_name and display_name [1].\n\nNow Watcher create datamodel use human_id: instance.human_id [2].\n\nIn novaclient, human_id have a little different with instance.name\nwhich will do a Case conversion [3].\n\nWhen update datamodel, Watcher user the data from notification in\nwhich content only contains display_name and host_name. Both of them\nhave been processed, which is different from the original name [4].\n\nIn summary, when creating datamodel, use the key name. When updating\ndatamodel, use uuid query name from nova-api, and then update the name.\n\nReferences:\n[1]. https://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/models.py#L231\n[2]. https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L347\n[3]. https://github.com/openstack/python-novaclient/blob/master/novaclient/base.py#L152\n[4]. https://github.com/openstack/nova/blob/fef4696e005b12c2316e652d17d2310d573dd0e7/nova/utils.py#L488\n\nChange-Id: I6976759629a4feedee09261cc1dac935e050202a\n""}, {'number': 3, 'created': '2019-06-21 08:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b1db8de2e29a1f1377c0a6e49e52bf4f709800ad', 'message': ""Add name for instance in Watcher datamodel\n\nNow Watcher's datamodel uses human_id to store the real name of\nthe intance. But the value of human_id is not reliable. About\nthe reason, please see[1].\n\nThe solution is to add a 'name' field to save the name of the\ninstance, and ensure that the value of this field is the same\nwhen the datamodel is created and when the datamodel is updated.\n\nAbout the 'human_id', We will remove it in the future.\n\nReferences:\n[1]. https://bugs.launchpad.net/watcher/+bug/1833665\n\nChange-Id: I6976759629a4feedee09261cc1dac935e050202a\nCloses-Bug: #1833665\n""}, {'number': 4, 'created': '2019-06-22 07:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/53ea4d220b9326852d13808a7129c6155e23334d', 'message': ""Add name for instance in Watcher datamodel\n\nNow Watcher's datamodel uses human_id to store the real name of\nthe intance. But the value of human_id is not reliable. About\nthe reason, please see[1].\n\nThe solution is to add a 'name' field to save the name of the\ninstance, and ensure that the value of this field is the same\nwhen the datamodel is created and when the datamodel is updated.\n\nAbout the 'human_id', We will remove it in the future.\n\nReferences:\n[1]. https://bugs.launchpad.net/watcher/+bug/1833665\n\n20190619 Watcher meeting IRC Log:\n[1]. http://eavesdrop.openstack.org/irclogs/%23openstack-watcher/%23openstack-watcher.2019-06-19.log.html\n[2]. http://eavesdrop.openstack.org/meetings/watcher/2019/watcher.2019-06-19-08.00.log.html#l-47\n\nChange-Id: I6976759629a4feedee09261cc1dac935e050202a\nCloses-Bug: #1833665\n""}, {'number': 5, 'created': '2019-06-26 14:33:58.000000000', 'files': ['watcher/decision_engine/model/notification/nova.py', 'watcher/tests/decision_engine/model/test_element.py', 'watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/b62965c2bf2706eb1ec5dd3e12bc8c339a98364e', 'message': ""Add name for instance in Watcher datamodel\n\nNow Watcher's datamodel uses human_id to store the display_name\nof the intance. But the value of human_id is not reliable. About\nthe reason, please see[1].\n\nThe solution is to add a 'name' field to save the display_name of\nthe instance, and ensure that the value of this field is the same\nwhen the datamodel is created and when the datamodel is updated.\n\nAbout the 'human_id', We will remove it in the future.\n\nReferences:\n[1]. https://bugs.launchpad.net/watcher/+bug/1833665\n\n20190619 Watcher meeting IRC Log:\n[1]. http://eavesdrop.openstack.org/irclogs/%23openstack-watcher/%23openstack-watcher.2019-06-19.log.html\n[2]. http://eavesdrop.openstack.org/meetings/watcher/2019/watcher.2019-06-19-08.00.log.html#l-47\n\nChange-Id: I6976759629a4feedee09261cc1dac935e050202a\nCloses-Bug: #1833665\n""}]",43,660295,b62965c2bf2706eb1ec5dd3e12bc8c339a98364e,33,7,5,28748,,,0,"Add name for instance in Watcher datamodel

Now Watcher's datamodel uses human_id to store the display_name
of the intance. But the value of human_id is not reliable. About
the reason, please see[1].

The solution is to add a 'name' field to save the display_name of
the instance, and ensure that the value of this field is the same
when the datamodel is created and when the datamodel is updated.

About the 'human_id', We will remove it in the future.

References:
[1]. https://bugs.launchpad.net/watcher/+bug/1833665

20190619 Watcher meeting IRC Log:
[1]. http://eavesdrop.openstack.org/irclogs/%23openstack-watcher/%23openstack-watcher.2019-06-19.log.html
[2]. http://eavesdrop.openstack.org/meetings/watcher/2019/watcher.2019-06-19-08.00.log.html#l-47

Change-Id: I6976759629a4feedee09261cc1dac935e050202a
Closes-Bug: #1833665
",git fetch https://review.opendev.org/openstack/watcher refs/changes/95/660295/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/notification/nova.py'],1,4249a55bee2ee2515855cb97cea0d41b571a5230,bug/1833665," 'human_id': instance_data['host_name'],"," 'hostname': instance_data['host_name'], 'human_id': instance_data['display_name'],",1,2
openstack%2Fmanila~master~I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef,openstack/manila,master,I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef,Fix an invalid assert state,MERGED,2019-06-27 09:15:36.000000000,2019-06-28 01:45:40.000000000,2019-06-28 01:45:40.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-27 09:15:36.000000000', 'files': ['manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/10bb9e8efc3b2c8c8c2d6168d1e215fb354b355e', 'message': 'Fix an invalid assert state\n\nin self.assertTrue(2, mock_db_delete_call.call_count), assertEqual\nshould be used.\n\nChange-Id: I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef\n'}]",0,667828,10bb9e8efc3b2c8c8c2d6168d1e215fb354b355e,14,10,1,20190,,,0,"Fix an invalid assert state

in self.assertTrue(2, mock_db_delete_call.call_count), assertEqual
should be used.

Change-Id: I7cdbc9bc5645ddf5ef9d42af1a6bb5f8604cb0ef
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/667828/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/tests/share/test_manager.py'],1,10bb9e8efc3b2c8c8c2d6168d1e215fb354b355e,assert," self.assertEqual(2, mock_db_delete_call.call_count)"," self.assertTrue(2, mock_db_delete_call.call_count)",1,1
openstack%2Fnova~stable%2Fstein~I79b40ca40400c67b0805926096317afd875ffabb,openstack/nova,stable/stein,I79b40ca40400c67b0805926096317afd875ffabb,Fix python3 compatibility of rbd get_fsid,MERGED,2019-06-11 07:39:24.000000000,2019-06-28 01:44:56.000000000,2019-06-28 01:44:55.000000000,"[{'_account_id': 4393}, {'_account_id': 6737}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26515}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-06-11 07:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2f1920933c4ae3d50c2df642caeba48409ec3c3', 'message': ""Fix python3 compatibility of rbd get_fsid\n\nIn py3 librados's get_fsid() function returns a binary string\nwhich breaks comparison when compared with the same value as a\nstring. This is currently breakin the logic that compares ceph\ncluster fsids when deciding whether the image used to boot an\ninstance is cow-clonable.\n\nChange-Id: I79b40ca40400c67b0805926096317afd875ffabb\nCloses-Bug: #1816468\n(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)\n""}, {'number': 2, 'created': '2019-06-12 09:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd06863626f6d4de8755b74f86d91f722e37126b', 'message': ""Fix python3 compatibility of rbd get_fsid\n\nIn py3 librados's get_fsid() function returns a binary string\nwhich breaks comparison when compared with the same value as a\nstring. This is currently breakin the logic that compares ceph\ncluster fsids when deciding whether the image used to boot an\ninstance is cow-clonable.\n\nChange-Id: I79b40ca40400c67b0805926096317afd875ffabb\nCloses-Bug: #1816468\n(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)\n""}, {'number': 3, 'created': '2019-06-18 11:33:31.000000000', 'files': ['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4b47a59c7ff1d60e69dbdea07de9163948cb680', 'message': ""Fix python3 compatibility of rbd get_fsid\n\nIn py3 librados's get_fsid() function returns a binary string\nwhich breaks comparison when compared with the same value as a\nstring. This is currently breakin the logic that compares ceph\ncluster fsids when deciding whether the image used to boot an\ninstance is cow-clonable.\n\nChange-Id: I79b40ca40400c67b0805926096317afd875ffabb\nCloses-Bug: #1816468\n(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)\n""}]",0,664512,b4b47a59c7ff1d60e69dbdea07de9163948cb680,35,12,3,6737,,,0,"Fix python3 compatibility of rbd get_fsid

In py3 librados's get_fsid() function returns a binary string
which breaks comparison when compared with the same value as a
string. This is currently breakin the logic that compares ceph
cluster fsids when deciding whether the image used to boot an
instance is cow-clonable.

Change-Id: I79b40ca40400c67b0805926096317afd875ffabb
Closes-Bug: #1816468
(cherry picked from commit e8b6b0bc78ec229803d1d27f8a4706e2c425bd77)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/664512/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py']",2,a2f1920933c4ae3d50c2df642caeba48409ec3c3,bug/1816468,from oslo_utils import encodeutils return encodeutils.safe_decode(client.cluster.get_fsid()) fsid = encodeutils.safe_decode(fsid), return client.cluster.get_fsid(),10,1
openstack%2Fnova~stable%2Fstein~I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c,openstack/nova,stable/stein,I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c,Noop CantStartEngineError in targets_cell if API DB not configured,MERGED,2019-06-04 13:32:51.000000000,2019-06-28 01:44:49.000000000,2019-06-28 01:44:49.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30105}, {'_account_id': 30381}, {'_account_id': 30388}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 13:32:51.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4bc147c38c5fe7c4adb5925225ced16d2ff4757', 'message': 'Noop CantStartEngineError in targets_cell if API DB not configured\n\nFor reschedules during resize (migrate_server method),\nthe InstanceMapping query in targets_cell is an ""up call""\nto the API DB which will fail with a CantStartEngineError\nif the cell conductor is not configured for the API DB.\n\nThis changes the targets_cell decorator to handle the\nCantStartEngineError and if the API DB is not configured,\nwe assume we\'re in the cell conductor and just ignore the\nerror, otherwise if the API DB is configured we assume\nwe\'re in the super-conductor and reraise as before.\n\nChange-Id: I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c\nCloses-Bug: #1781300\n(cherry picked from commit 22dd4fca3837d6cea3f983b021aa6907695a540b)\n'}]",0,663030,d4bc147c38c5fe7c4adb5925225ced16d2ff4757,40,10,1,6873,,,0,"Noop CantStartEngineError in targets_cell if API DB not configured

For reschedules during resize (migrate_server method),
the InstanceMapping query in targets_cell is an ""up call""
to the API DB which will fail with a CantStartEngineError
if the cell conductor is not configured for the API DB.

This changes the targets_cell decorator to handle the
CantStartEngineError and if the API DB is not configured,
we assume we're in the cell conductor and just ignore the
error, otherwise if the API DB is configured we assume
we're in the super-conductor and reraise as before.

Change-Id: I0a413eb4f8a94500941e53b9a294d7cdb45d2a1c
Closes-Bug: #1781300
(cherry picked from commit 22dd4fca3837d6cea3f983b021aa6907695a540b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/663030/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,d4bc147c38c5fe7c4adb5925225ced16d2ff4757,bug/1781300,from oslo_db import exception as db_exc except db_exc.CantStartEngineError: # Check to see if we can ignore API DB connection failures # because we might already be in the cell conductor. with excutils.save_and_reraise_exception() as err_ctxt: if CONF.api_database.connection is None: err_ctxt.reraise = False, im = None,43,1
openstack%2Fpython-cinderclient~master~I84f590e25c08327461b92164db6bea2aa43e0091,openstack/python-cinderclient,master,I84f590e25c08327461b92164db6bea2aa43e0091,Bump openstackdocstheme to 1.30.0,ABANDONED,2019-06-27 02:53:07.000000000,2019-06-28 01:41:53.000000000,,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-06-27 02:53:07.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d2b6598dbee5889d4a521e14b2d10f217600adc2', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I84f590e25c08327461b92164db6bea2aa43e0091\n'}]",0,667776,d2b6598dbee5889d4a521e14b2d10f217600adc2,4,13,1,27822,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I84f590e25c08327461b92164db6bea2aa43e0091
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/76/667776/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d2b6598dbee5889d4a521e14b2d10f217600adc2,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fmurano~master~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,master,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-25 16:56:22.000000000,2019-06-28 01:41:20.000000000,2019-06-28 01:41:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/cd6401887f20f9978c8ae63dd9e6b1a8040202d8', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n'}, {'number': 2, 'created': '2019-06-26 06:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/f4cef951475c0b297f4e8319124436cf7ef6933d', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n'}, {'number': 3, 'created': '2019-06-26 07:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/eba472c1b07bc2534b58ab392cf6c90b562d0953', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n'}, {'number': 4, 'created': '2019-06-26 10:40:56.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/ddd5378ac8535b48e5ae2885b3187a5b1b88b766', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c\n'}]",2,667410,ddd5378ac8535b48e5ae2885b3187a5b1b88b766,18,4,4,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
",git fetch https://review.opendev.org/openstack/murano refs/changes/10/667410/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,cd6401887f20f9978c8ae63dd9e6b1a8040202d8,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,18,0
openstack%2Fdevstack-plugin-ceph~master~Id82af708240bf818e4afa961cdbeb3a7c0d4c22a,openstack/devstack-plugin-ceph,master,Id82af708240bf818e4afa961cdbeb3a7c0d4c22a,Remove test_shelve_instance scenario blacklist from .zuul.yaml,ABANDONED,2019-06-28 01:37:38.000000000,2019-06-28 01:40:47.000000000,,[{'_account_id': 6873}],"[{'number': 1, 'created': '2019-06-28 01:37:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1cb5aec643952f9f8856c0b3312cb226586d01cf', 'message': ""Remove test_shelve_instance scenario blacklist from .zuul.yaml\n\nWe don't need the test_shelve_instance scenario test in the\nblacklist regex because the plugin.sh script already configures\ntempest with [compute_feature_enabled]shelve=False so the scenario\ntests will already be skipped so the blacklist regex entry is\nredundant.\n\nChange-Id: Id82af708240bf818e4afa961cdbeb3a7c0d4c22a\nRelated-Bug: #1653953\n""}]",1,668076,1cb5aec643952f9f8856c0b3312cb226586d01cf,3,1,1,6873,,,0,"Remove test_shelve_instance scenario blacklist from .zuul.yaml

We don't need the test_shelve_instance scenario test in the
blacklist regex because the plugin.sh script already configures
tempest with [compute_feature_enabled]shelve=False so the scenario
tests will already be skipped so the blacklist regex entry is
redundant.

Change-Id: Id82af708240bf818e4afa961cdbeb3a7c0d4c22a
Related-Bug: #1653953
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/76/668076/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1cb5aec643952f9f8856c0b3312cb226586d01cf,bug/1653953, (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume)|(^cinder_tempest_plugin)) (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume)|(^cinder_tempest_plugin)), (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume|scenario\.test_shelve_instance)|(^cinder_tempest_plugin)) (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume|scenario\.test_shelve_instance)|(^cinder_tempest_plugin)),2,2
openstack%2Fnova-specs~master~I86ff95a3de63979c453af271c4dcd8bd0e80ca3b,openstack/nova-specs,master,I86ff95a3de63979c453af271c4dcd8bd0e80ca3b,Enable rebuild for instances in cell0,MERGED,2019-03-29 13:35:38.000000000,2019-06-28 01:26:56.000000000,2019-06-28 01:26:56.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 27057}]","[{'number': 1, 'created': '2019-03-29 13:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9e1c06a404fc944a3a769e7374e8457af89ee043', 'message': 'Enable rebuild for instances in cell0\n\nPresently, it is allowed to rebuild servers in ERROR state, as long\nas they have successfully started up before.\n\nIf a user tries to rebuild an instance in cell0, the request fails\nwith an exception of type InstanceInvalidState.\n\nThis spec summarizes the changes needed to enable the rebuilding of\ninstances that failed during creation.\n\nPreviously-approved: Stein\nChange-Id: I86ff95a3de63979c453af271c4dcd8bd0e80ca3b\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 2, 'created': '2019-04-10 16:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e8b66c31539e1ca615a11bc668de454895f20d89', 'message': 'Enable rebuild for instances in cell0\n\nPresently, it is allowed to rebuild servers in ERROR state, as long\nas they have successfully started up before.\n\nIf a user tries to rebuild an instance in cell0, the request fails\nwith an exception of type InstanceInvalidState.\n\nThis spec summarizes the changes needed to enable the rebuilding of\ninstances that failed during creation.\n\nPreviously-approved: Stein\nChange-Id: I86ff95a3de63979c453af271c4dcd8bd0e80ca3b\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 3, 'created': '2019-06-07 11:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/577a9c5ac2269d73ed1b5502b3bc002a3450eb9f', 'message': 'Enable rebuild for instances in cell0\n\nPresently, it is allowed to rebuild servers in ERROR state, as long\nas they have successfully started up before.\n\nIf a user tries to rebuild an instance in cell0, the request fails\nwith an exception of type InstanceInvalidState.\n\nThis spec summarizes the changes needed to enable the rebuilding of\ninstances that failed during creation.\n\nPreviously-approved: Stein\nChange-Id: I86ff95a3de63979c453af271c4dcd8bd0e80ca3b\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 4, 'created': '2019-06-28 01:06:15.000000000', 'files': ['specs/train/approved/enable-rebuild-for-instances-in-cell0.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fecd4635c343b03ac64dd2bd714a506c8134ef32', 'message': 'Enable rebuild for instances in cell0\n\nPresently, it is allowed to rebuild servers in ERROR state, as long\nas they have successfully started up before.\n\nIf a user tries to rebuild an instance in cell0, the request fails\nwith an exception of type InstanceInvalidState.\n\nThis spec summarizes the changes needed to enable the rebuilding of\ninstances that failed during creation.\n\nPreviously-approved: Stein\nChange-Id: I86ff95a3de63979c453af271c4dcd8bd0e80ca3b\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}]",46,648686,fecd4635c343b03ac64dd2bd714a506c8134ef32,31,5,4,27057,,,0,"Enable rebuild for instances in cell0

Presently, it is allowed to rebuild servers in ERROR state, as long
as they have successfully started up before.

If a user tries to rebuild an instance in cell0, the request fails
with an exception of type InstanceInvalidState.

This spec summarizes the changes needed to enable the rebuilding of
instances that failed during creation.

Previously-approved: Stein
Change-Id: I86ff95a3de63979c453af271c4dcd8bd0e80ca3b
Implements: blueprint enable-rebuild-for-instances-in-cell0
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/86/648686/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/enable-rebuild-for-instances-in-cell0.rst'],1,9e1c06a404fc944a3a769e7374e8457af89ee043,bp/enable-rebuild-for-instances-in-cell0,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Enable Rebuild for Instances in cell0 ===================================== https://blueprints.launchpad.net/nova/+spec/enable-rebuild-for-instances-in-cell0 This spec summarizes the changes needed to enable the rebuilding of instances that failed to be scheduled because there were not enough resources. Problem description =================== Presently, it is allowed to rebuild servers in ERROR state, as long as they have successfully started up before. But if a user tries to rebuild an instance that was never launched before because scheduler failed to find a valid host due to the lack of available resources, the request fails with an exception of type ``InstanceInvalidState``. We are not addressing the case were the server was never launched due to exceeding the maximum number of build retries. Use Cases --------- #. As an operator I want to be able to perform corrective actions after a server fails to be scheduled because there were not enough resources (i.e. the instance ends up in PENDING state, if configured). Such actions could be adding more capacity or freeing up used resources. Following the execution of these actions I want to be able to rebuild the server that failed. NOTE:: Adding the PENDING state as well as setting instances to it, are out of the scope of this spec, as they are being addressed by another change[1]. Proposed change =============== The flow of the rebuild procedure for instances mapped in cell0 because of scheduling failures caused by lack of resources would then be like this: #. The nova-api, after identifying an instance as being in cell0, should create a new BuildRequest and update the instance mapping. #. At this point the api should also delete the instance records from cell0 DB. If this is a soft delete, then after the successful completion of the operation, we would end up with one record of the instance in the new cell's DB and a record of the same instance in cell0 (deleted=True). A better approach, here, would be to hard delete the instance's information from cell0. While rebuilding the instance and before deleting it from cell0, a user could try to update it (i.e. its metadata, tags, etc). We, then, might end up in race and those changes end up not making it across to the new cell. Although, the window, for this, is really small, we have to metion it here. #. Then the nova-api should make an RPC API call to the conductor's new method ``rebuild_instance_in_cell0``. This new method's purpose is almost (if not exactly) the same as the existing ``schedule_and_build_instances``. So we could either call to it internally or extract parts of it's functionality and reuse them. #. Finally, an RPC API call is needed from the conductor to the compute service of the selected cell. The ``rebuild_instance`` method tries to destroy an existing instance and then re-create it. In this case and since the instance was in cell0, there is nothing to destroy and re-create. So, an RPC API call to the existing method ``build_and_run_instance`` seems appropriate. The only problem is that when an instance fails during build, its network_info field is empty. Currently there is no way to recover the requested networks while trying to rebuild the instance. So the NetworkRequestList object should be stored while building the server. For this: #. A reasonable change would be to extend the RequestSpec object to adding a requested_networks field, where the requested networks will be stored. Note here that the requested networks will be stored in the RequestSpec only when an instance fails during scheduling and is mapped to cell0. As soon as the rebuild procedure starts and the requested networks are retrieved, the new field will be set to None. #. While building the server and when creating the request specification, we should add the list of requested networks in the RequestSpec's requested_networks field. Alternatives ------------ None. Data model impact ----------------- Add a `requested_networks` field in the RequestSpec object that will contain a NetworkRequestList object. Since the RequestSpec is stored as a blob (mediumtext) in the database, no schema modification is needed. REST API impact --------------- A new API microversion is needed. Rebuilding an instance that is mapped to cell0 will continue to fail for older microversions. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- Users will be allowed to rebuild instances that failed due to the lack of resources. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: <ttsiouts> Other contributors: <johnthetubaguy> <strigazi> <belmoreira> Work Items ---------- See `Proposed change`_. Dependencies ============ None. Testing ======= #. Unit and functional tests have to be added to verify the rebuilding of instances in cell0. Documentation Impact ==================== We should update the documentation to state that the rebuild is allowed for instances that have never booted before. References ========== [1] Add PENDING vm state * https://review.openstack.org/#/c/554212/ Discussed at the Dublin PTG: * https://etherpad.openstack.org/p/nova-ptg-rocky (#L459) History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced * - Stein - Re-proposed * - Train - Re-proposed ",,204,0
openstack%2Fneutron~master~Ia3c261b4fccd637691ad442038fb301b0eeb8258,openstack/neutron,master,Ia3c261b4fccd637691ad442038fb301b0eeb8258,Fix of_* config options help messages,MERGED,2019-06-26 10:35:49.000000000,2019-06-28 01:23:27.000000000,2019-06-28 01:23:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-26 10:35:49.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/547d694fa160033a642ccf3f060630de57a9f04d', 'message': 'Fix of_* config options help messages\n\nIn patch [1] of_interface config option was removed and now\nthere is only ""native"" driver available.\nSo there is no need to mention in description of of_* config\noptions that option is used only for \'native\' driver. It is\nused always now.\n\nTrivialFix\n\n[1] https://review.opendev.org/#/c/599496/\n\nChange-Id: Ia3c261b4fccd637691ad442038fb301b0eeb8258\n'}]",0,667575,547d694fa160033a642ccf3f060630de57a9f04d,17,8,1,11975,,,0,"Fix of_* config options help messages

In patch [1] of_interface config option was removed and now
there is only ""native"" driver available.
So there is no need to mention in description of of_* config
options that option is used only for 'native' driver. It is
used always now.

TrivialFix

[1] https://review.opendev.org/#/c/599496/

Change-Id: Ia3c261b4fccd637691ad442038fb301b0eeb8258
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/667575/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/plugins/ml2/drivers/ovs_conf.py'],1,547d694fa160033a642ccf3f060630de57a9f04d,fix-of-config-options-help," help=_(""Address to listen on for OpenFlow connections."")), help=_(""Port to listen on for OpenFlow connections."")), ""the local switch connecting the controller."")), ""OpenFlow request."")), ""A value of 0 disables inactivity probes."")),"," help=_(""Address to listen on for OpenFlow connections. "" ""Used only for 'native' driver."")), help=_(""Port to listen on for OpenFlow connections. "" ""Used only for 'native' driver."")), ""the local switch connecting the controller. "" ""Used only for 'native' driver."")), ""OpenFlow request. "" ""Used only for 'native' driver."")), ""A value of 0 disables inactivity probes. "" ""Used only for 'native' driver."")),",5,10
openstack%2Fneutron~master~I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701,openstack/neutron,master,I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701,Add default value to agent create_or_update_agent new param,MERGED,2019-06-19 05:36:25.000000000,2019-06-28 01:23:24.000000000,2019-06-28 01:23:24.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13438}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-19 05:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3017192a2fcc3539fddd155b6a111611d49a14c3', 'message': 'Add default value to agent create_or_update_agent new param\n\nCommit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a\nnew agent_timestamp parameter to create_or_update_agent.\nAs some other projects use this api, the change should have been\nbackwards compatible.\nAdding default to None will solve this issue.\n\nChange-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701\n'}, {'number': 2, 'created': '2019-06-19 12:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9523224378f38be708ec5cca614111a96c288ca', 'message': 'Add default value to agent create_or_update_agent new param\n\nCommit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a\nnew agent_timestamp parameter to create_or_update_agent.\nAs some other projects use this api, the change should have been\nbackwards compatible.\nAdding default to None will solve this issue.\n\nChange-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701\n'}, {'number': 3, 'created': '2019-06-20 04:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe0a139e6245e6ea1947840f4ba5e02fd4c3cb09', 'message': 'Add default value to agent create_or_update_agent new param\n\nCommit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a\nnew agent_timestamp parameter to create_or_update_agent.\nAs some other projects use this api, the change should have been\nbackwards compatible.\nAdding default to None will solve this issue.\n\nChange-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701\n'}, {'number': 4, 'created': '2019-06-23 11:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26c709ee9e3157f3fd727750f4ddf8828723a495', 'message': 'Add default value to agent create_or_update_agent new param\n\nCommit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a\nnew agent_timestamp parameter to create_or_update_agent.\nAs some other projects use this api, the change should have been\nbackwards compatible.\nAdding default to None will solve this issue.\n\nChange-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701\n'}, {'number': 5, 'created': '2019-06-25 14:13:13.000000000', 'files': ['neutron/db/agents_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0963ce94e01028f8aec3b3af607a2c4d322ec62a', 'message': 'Add default value to agent create_or_update_agent new param\n\nCommit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a\nnew agent_timestamp parameter to create_or_update_agent.\nAs some other projects use this api, the change should have been\nbackwards compatible.\nAdding default to None will solve this issue.\n\nCloses-Bug: #1833589\nChange-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701\n'}]",0,666224,0963ce94e01028f8aec3b3af607a2c4d322ec62a,82,16,5,20363,,,0,"Add default value to agent create_or_update_agent new param

Commit Ifc88dfb3041aa07b197f395172b69399796ba46a recently added a
new agent_timestamp parameter to create_or_update_agent.
As some other projects use this api, the change should have been
backwards compatible.
Adding default to None will solve this issue.

Closes-Bug: #1833589
Change-Id: I2d17f8eaf4d74ae2081f82e3c1a09bdc80b1d701
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/666224/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/agents_db.py'],1,3017192a2fcc3539fddd155b6a111611d49a14c3,bug/1833589," def create_or_update_agent(self, context, agent_state, agent_timestamp=None):"," def create_or_update_agent(self, context, agent_state, agent_timestamp):",1,1
openstack%2Fmistral~master~I9d8e99e7174f2d643ec319b946a6ba3364329112,openstack/mistral,master,I9d8e99e7174f2d643ec319b946a6ba3364329112,Add the deps to testenv of releasenotes,ABANDONED,2019-06-27 02:35:56.000000000,2019-06-28 01:11:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-27 02:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/332b4a20c98b6e6a6a4bf113aeb47c4bfc5f3acc', 'message': 'Add the deps to testenv of releasenotes and api-ref\n\nChange-Id: I9d8e99e7174f2d643ec319b946a6ba3364329112\n'}, {'number': 2, 'created': '2019-06-27 05:45:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d0ccc5e7c06ea3d019d7e81aff963bebac71d8d9', 'message': 'Add the deps to testenv of releasenotes\n\nChange-Id: I9d8e99e7174f2d643ec319b946a6ba3364329112\n'}]",0,667772,d0ccc5e7c06ea3d019d7e81aff963bebac71d8d9,9,2,2,27822,,,0,"Add the deps to testenv of releasenotes

Change-Id: I9d8e99e7174f2d643ec319b946a6ba3364329112
",git fetch https://review.opendev.org/openstack/mistral refs/changes/72/667772/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,332b4a20c98b6e6a6a4bf113aeb47c4bfc5f3acc,Bug#5,deps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt,,2,0
openstack%2Fcloudkitty~master~I88053b68f048839dec23cd5db10ce42a6d98732f,openstack/cloudkitty,master,I88053b68f048839dec23cd5db10ce42a6d98732f,Follow the new PTI for document build,ABANDONED,2019-06-27 03:15:36.000000000,2019-06-28 01:10:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-27 03:15:36.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/fb2f94cd82e1b526de61e9cb3d98bf5c41a4c687', 'message': 'Follow the new PTI for document build\n\nThe detail is described in the following links:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\ndoc8 command is dropped from docs and releasenotes tox envs.\nWe run doc8 in pep8 tox env, so this hurts nothing.\n\nChange-Id: I88053b68f048839dec23cd5db10ce42a6d98732f\n'}]",0,667780,fb2f94cd82e1b526de61e9cb3d98bf5c41a4c687,3,1,1,27822,,,0,"Follow the new PTI for document build

The detail is described in the following links:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

doc8 command is dropped from docs and releasenotes tox envs.
We run doc8 in pep8 tox env, so this hurts nothing.

Change-Id: I88053b68f048839dec23cd5db10ce42a6d98732f
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/80/667780/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,fb2f94cd82e1b526de61e9cb3d98bf5c41a4c687,Bug#1,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,10,7
openstack%2Fopenstack-ansible~master~Id6c2ebd945bb2748facd33421f2cf64ef846185c,openstack/openstack-ansible,master,Id6c2ebd945bb2748facd33421f2cf64ef846185c,Restrict the number of sahara processes and threads in AIO,MERGED,2019-06-27 18:44:44.000000000,2019-06-28 00:59:30.000000000,2019-06-28 00:59:30.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 18:44:44.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/85b91bcaabd461d40ca12eb861bd5a43ecc9c4db', 'message': 'Restrict the number of sahara processes and threads in AIO\n\nChange-Id: Id6c2ebd945bb2748facd33421f2cf64ef846185c\n'}]",0,668019,85b91bcaabd461d40ca12eb861bd5a43ecc9c4db,7,3,1,28008,,,0,"Restrict the number of sahara processes and threads in AIO

Change-Id: Id6c2ebd945bb2748facd33421f2cf64ef846185c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/668019/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,85b91bcaabd461d40ca12eb861bd5a43ecc9c4db,fix-octavia,sahara_wsgi_threads: 1 sahara_wsgi_processes_max: 2 sahara_wsgi_processes: 2 sahara_wsgi_buffer_size: 16384,,4,0
openstack%2Fopenstack-ansible~master~Ia5fda5d417b79189d048c8891b84d57331df1404,openstack/openstack-ansible,master,Ia5fda5d417b79189d048c8891b84d57331df1404,Fix octaiva amphora ram variable name,MERGED,2019-06-27 08:51:01.000000000,2019-06-28 00:59:29.000000000,2019-06-28 00:59:29.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-27 08:51:01.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b065260db6bcbfa44c43d3d118e938a3d8f6113', 'message': 'Fix octaiva amphora ram variable name\n\nChange-Id: Ia5fda5d417b79189d048c8891b84d57331df1404\n'}]",0,667809,2b065260db6bcbfa44c43d3d118e938a3d8f6113,13,4,1,25023,,,0,"Fix octaiva amphora ram variable name

Change-Id: Ia5fda5d417b79189d048c8891b84d57331df1404
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/667809/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,2b065260db6bcbfa44c43d3d118e938a3d8f6113,fix-octavia,octavia_amp_ram: 512,octavia_amp_mem: 512,1,1
openstack%2Faodh~master~I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552,openstack/aodh,master,I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552,TEST,ABANDONED,2019-06-27 02:24:41.000000000,2019-06-28 00:53:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-06-27 02:24:41.000000000', 'files': ['aodh/coordination.py', 'aodh/tests/unit/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/a2ab4fc24b4dcfc9293a40fe9524b059d9ab7156', 'message': 'TEST\n\nChange-Id: I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552\n'}]",0,667771,a2ab4fc24b4dcfc9293a40fe9524b059d9ab7156,3,2,1,14107,,,0,"TEST

Change-Id: I1e38cfb4cd4e38be49f4c3adc1dcb447c8e01552
",git fetch https://review.opendev.org/openstack/aodh refs/changes/71/667771/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/coordination.py', 'aodh/tests/unit/test_coordination.py']",2,a2ab4fc24b4dcfc9293a40fe9524b059d9ab7156,," def test_member_id(self): agent = 'agent'.encode('ascii') coord = self._get_new_started_coordinator({}, agent) self.assertEqual(agent, coord._my_id) ",,8,1
openstack%2Fmistral~master~I9ab552dd4bf3826f358d73a4bddaf1885b1be130,openstack/mistral,master,I9ab552dd4bf3826f358d73a4bddaf1885b1be130,Add bindep.txt file for binary dependencies used in unit tests,MERGED,2019-06-27 09:55:26.000000000,2019-06-28 00:07:24.000000000,2019-06-28 00:07:23.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 09:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2bfbda3d2215568997c091d3487d16571021224d', 'message': 'WIP: add bindep.txt file for binary dependencies used in tests\n\nChange-Id: I9ab552dd4bf3826f358d73a4bddaf1885b1be130\n'}, {'number': 2, 'created': '2019-06-27 11:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4f66828a0ad2b83be2b4d2df60488f7d9fb0ab13', 'message': 'WIP: add bindep.txt file for binary dependencies used in tests\n\nChange-Id: I9ab552dd4bf3826f358d73a4bddaf1885b1be130\n'}, {'number': 3, 'created': '2019-06-27 13:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e1969ceefe33fabfe40a0a3213aec37259a8cd19', 'message': 'Add bindep.txt file for binary dependencies used in tests\n\nDepends-On: I58f1943d427c83c72e9bf17f99f3f870ba7d008b\nChange-Id: I9ab552dd4bf3826f358d73a4bddaf1885b1be130\n'}, {'number': 4, 'created': '2019-06-27 14:15:36.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/26f6e19299e43c443db4002fe1d3a98084adf4fb', 'message': 'Add bindep.txt file for binary dependencies used in unit tests\n\nDepends-On: I58f1943d427c83c72e9bf17f99f3f870ba7d008b\nChange-Id: I9ab552dd4bf3826f358d73a4bddaf1885b1be130\n'}]",0,667834,26f6e19299e43c443db4002fe1d3a98084adf4fb,11,3,4,8731,,,0,"Add bindep.txt file for binary dependencies used in unit tests

Depends-On: I58f1943d427c83c72e9bf17f99f3f870ba7d008b
Change-Id: I9ab552dd4bf3826f358d73a4bddaf1885b1be130
",git fetch https://review.opendev.org/openstack/mistral refs/changes/34/667834/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,2bfbda3d2215568997c091d3487d16571021224d,add_bindep_txt_file,# This is a cross-platform list tracking distribution packages needed by tests; # see http://docs.openstack.org/infra/bindep/ for additional information. mysql-client [platform:dpkg] mysql-server [platform:dpkg] postgresql postgresql-client [platform:dpkg] postgresql-server [platform:rpm],,8,0
openstack%2Fopenstack-ansible~master~Ided0d56d2bd491142e9c098252ed5c0f8d04f831,openstack/openstack-ansible,master,Ided0d56d2bd491142e9c098252ed5c0f8d04f831,Add aio_metal and aio_distro_metal openSUSE 15 jobs,MERGED,2019-06-18 17:02:42.000000000,2019-06-27 23:43:16.000000000,2019-06-27 23:43:16.000000000,"[{'_account_id': 1004}, {'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 17:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a7d0d2eeac972c7cef90f197b110f1ab9436fa10', 'message': ""Add aio_metal and aio_distro_metal openSUSE 15 jobs\n\nopensuse-15 is a nodepool image set referring to the latest\nenabled openSUSE 15.x release, currently pointing to openSUSE 15.1.\n\nWe'd like to transition away from 15.0 as soon as possible. As\npart of the rename to 15 we can actually now test against the\nlatest minor leap 15.x release without continuous job maintenance\neffort.\n\nChange-Id: Ided0d56d2bd491142e9c098252ed5c0f8d04f831\n""}, {'number': 2, 'created': '2019-06-18 17:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/761f8da292aec532012cfa83f490e08fc8292a24', 'message': ""Add aio_metal and aio_distro_metal openSUSE 15 jobs\n\nopensuse-15 is a nodepool image set referring to the latest\nenabled openSUSE 15.x release, currently pointing to openSUSE 15.1.\n\nWe'd like to transition away from 15.0 as soon as possible. As\npart of the rename to 15 we can actually now test against the\nlatest minor leap 15.x release without continuous job maintenance\neffort.\n\nDepends-On: https://review.opendev.org/666066\nChange-Id: Ided0d56d2bd491142e9c098252ed5c0f8d04f831\n""}, {'number': 3, 'created': '2019-06-26 18:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/393a66a085c01ee382284271aa1958b613650c94', 'message': ""Add aio_metal and aio_distro_metal openSUSE 15 jobs\n\nopensuse-15 is a nodepool image set referring to the latest\nenabled openSUSE 15.x release, currently pointing to openSUSE 15.1.\n\nWe'd like to transition away from 15.0 as soon as possible. As\npart of the rename to 15 we can actually now test against the\nlatest minor leap 15.x release without continuous job maintenance\neffort.\n\nChange-Id: Ided0d56d2bd491142e9c098252ed5c0f8d04f831\n""}, {'number': 4, 'created': '2019-06-27 12:02:35.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f7413bdc10acf2120b4d326208fd4265bd44a086', 'message': ""Add aio_metal and aio_distro_metal openSUSE 15 jobs\n\nopensuse-15 is a nodepool image set referring to the latest\nenabled openSUSE 15.x release, currently pointing to openSUSE 15.1.\n\nWe'd like to transition away from 15.0 as soon as possible. As\npart of the rename to 15 we can actually now test against the\nlatest minor leap 15.x release without continuous job maintenance\neffort.\n\nIn order to find problems and test stability of the opensuse-15\ndistro_metal job we add a periodic job to monitor it for the next ~ 1\nmonth and then redecide.\n\nChange-Id: Ided0d56d2bd491142e9c098252ed5c0f8d04f831\n""}]",2,666058,f7413bdc10acf2120b4d326208fd4265bd44a086,18,5,4,6593,,,0,"Add aio_metal and aio_distro_metal openSUSE 15 jobs

opensuse-15 is a nodepool image set referring to the latest
enabled openSUSE 15.x release, currently pointing to openSUSE 15.1.

We'd like to transition away from 15.0 as soon as possible. As
part of the rename to 15 we can actually now test against the
latest minor leap 15.x release without continuous job maintenance
effort.

In order to find problems and test stability of the opensuse-15
distro_metal job we add a periodic job to monitor it for the next ~ 1
month and then redecide.

Change-Id: Ided0d56d2bd491142e9c098252ed5c0f8d04f831
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/666058/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,a7d0d2eeac972c7cef90f197b110f1ab9436fa10,, name: openstack-ansible-deploy-aio_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_distro_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job:,,14,2
openstack%2Fopenstack-ansible-os_ironic~master~Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d,openstack/openstack-ansible-os_ironic,master,Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d,Use ironic credentials when connecting to other APIs.,MERGED,2019-06-27 15:14:45.000000000,2019-06-27 23:32:56.000000000,2019-06-27 23:32:56.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 15:14:45.000000000', 'files': ['templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9f0d4d3b33d4d45163d09dcac2ca26d48b5fe8ce', 'message': 'Use ironic credentials when connecting to other APIs.\n\nWhen ironic is connecting to another service\'s API, it should use\nits own credentials to obtain an authtoken with keystone.\n\nWithout this patch, ironic deployment would fail with an undefined\nvariable ""neutron_service_adminurl"", which is not required.\n\nIt is not defined since a patch removed it from the group vars.\n\n[1]: https://review.opendev.org/#/c/658178/\n\nChange-Id: Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d\n'}]",0,667957,9f0d4d3b33d4d45163d09dcac2ca26d48b5fe8ce,7,3,1,17068,,,0,"Use ironic credentials when connecting to other APIs.

When ironic is connecting to another service's API, it should use
its own credentials to obtain an authtoken with keystone.

Without this patch, ironic deployment would fail with an undefined
variable ""neutron_service_adminurl"", which is not required.

It is not defined since a patch removed it from the group vars.

[1]: https://review.opendev.org/#/c/658178/

Change-Id: Ib8f67b195d1d74cc7997822fa1f5f0ac2176393d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/57/667957/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ironic.conf.j2'],1,9f0d4d3b33d4d45163d09dcac2ca26d48b5fe8ce,remove_old_vars,# Keystone auth using ironic credentials username = {{ ironic_service_user_name }} password = {{ ironic_service_password }} project_name = {{ ironic_service_project_name }} user_domain_id = {{ ironic_service_user_domain_id }} project_domain_id = {{ ironic_service_project_domain_id }},"url = {{ neutron_service_adminurl }} region_name = {{ neutron_service_region }}# Keystone client plugin password option password = {{ neutron_service_password }} # Keystone client plugin username option username = {{ neutron_service_user_name }} project_name = {{ neutron_service_project_name }} user_domain_name = {{ neutron_service_domain_name |default(""Default"") }} project_domain_name = {{ neutron_service_domain_name |default(""Default"") }} # Keystone client plugin authentication URL option",6,10
openstack%2Ftripleo-heat-templates~master~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,master,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-15 15:36:46.000000000,2019-06-27 23:09:01.000000000,2019-06-27 23:09:00.000000000,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-15 15:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34b7ba0fa44bc46e11a603fac662909976bdb0c1', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n""}, {'number': 2, 'created': '2019-04-29 18:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19d0e82961ddd0af95f1cde31a7b8464c3b9e77d', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)\n""}, {'number': 3, 'created': '2019-04-29 19:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00e90fad47583d8173425aaf6feb15997f8038c7', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)\n""}, {'number': 4, 'created': '2019-04-30 14:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/514ac9797bf4ef9db9ab0c3574138ec332daf63c', 'message': ""ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets '' instead of null when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n""}, {'number': 5, 'created': '2019-06-18 17:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d49808f730f0313c3322cbcfd2e9557aae689073', 'message': 'ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets null instead of {} when disable-panko.yaml\nfile is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n'}, {'number': 6, 'created': '2019-06-20 15:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc75b14391978ce44bba5dab1de99bbd40092c47', 'message': 'ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml unable to start\nas it gets the literal item that is passed when\nceilometer_enable_panko condition fails, so as a\nworkaround duplicating the above step when condition\nfails.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n'}, {'number': 7, 'created': '2019-06-21 19:36:44.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fac4c4334ad2b2ef67040d053a58a9ba8857425', 'message': 'ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml updated the\nkolla_config section in template file to include\nnothing related to panko when disable-panko env file is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6\n'}]",4,652699,8fac4c4334ad2b2ef67040d053a58a9ba8857425,43,7,7,28504,,,0,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml updated the
kolla_config section in template file to include
nothing related to panko when disable-panko env file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/652699/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'],1,34b7ba0fa44bc46e11a603fac662909976bdb0c1,bug/1824840, - null, - '',1,1
openstack%2Fdiskimage-builder~master~Id73e913300cf3f0aaea05f7c2e8fdcb753421d04,openstack/diskimage-builder,master,Id73e913300cf3f0aaea05f7c2e8fdcb753421d04,Replace nodepool func jobs,MERGED,2019-06-24 20:41:02.000000000,2019-06-27 23:00:33.000000000,2019-06-27 23:00:33.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 20:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/06b99d87ea55dfbfcc55ab09b9609a8a9792b9ea', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/667217\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 2, 'created': '2019-06-24 20:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ce4d615dc924e87f8c39c25eb3e3516ea9a08929', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/667217\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 3, 'created': '2019-06-24 20:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd94c332cc14204703d408541c2cc8011c6dcf6e', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/667217\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 4, 'created': '2019-06-25 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d1421ad126e0ffd641acc2d791dc3f560c033885', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 5, 'created': '2019-06-25 22:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0178682989f472f527e26fcd279c3f1d14e46ed7', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 6, 'created': '2019-06-25 23:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/123f55eacb909e8f42d42b892d75b32bab1d6030', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 7, 'created': '2019-06-26 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/aeb07f385ce7c61b406f51d0ed2f54edaa323c9c', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 8, 'created': '2019-06-26 17:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b2401da9eaaef65329f12d995d41f9dd2e8112f', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 9, 'created': '2019-06-26 21:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/84e06dece06c589edbecb8318e3955e80664f352', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 10, 'created': '2019-06-27 14:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/72179816eb4e8e2ea537b0a6cec532db3ad62279', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}, {'number': 11, 'created': '2019-06-27 16:00:00.000000000', 'files': ['playbooks/dib-nodepool/debootstrap.yaml', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d32329f596ee881d9ebd4278c26ee817a946d937', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04\n'}]",12,667221,d32329f596ee881d9ebd4278c26ee817a946d937,65,7,11,1,,,0,"Replace nodepool func jobs

These are new nodepool functional jobs designed to give more
flexibility to the DIB/clean projects to define what they need
to test.  Otherwise, they behave very similarly to the current
nodepool functional jobs

Depends-On: https://review.opendev.org/665023
Change-Id: Id73e913300cf3f0aaea05f7c2e8fdcb753421d04
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/21/667221/8 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,06b99d87ea55dfbfcc55ab09b9609a8a9792b9ea,nodepool-func," - job: name: dib-nodepool-functional-openstack-centos-7-src description: | Test building and booting a Centos 7 image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: centos-minimal release: '7' mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-fedora-29-src description: | Test building and booting a Fedora 29 image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: fedora-minimal release: '29' - job: name: dib-nodepool-functional-openstack-ubuntu-trusty-src description: | Test building and booting an Ubuntu trusty image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'trusty' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" - job: name: dib-nodepool-functional-openstack-ubuntu-xenial-src description: | Test building and booting an Ubuntu xenial image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'xenial' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" - job: name: dib-nodepool-functional-openstack-ubuntu-bionic-src description: | Test building and booting an Ubuntu bionic image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'bionic' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" - job: name: dib-nodepool-functional-openstack-gentoo-src description: | Test building and booting a Gentoo image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: gentoo release: '' env-vars: GENTOO_PROFILE: 'default/linux/amd64/17.0/systemd' - job: name: dib-nodepool-functional-openstack-debian-stretch-src description: | Test building and booting a Debian stretch image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: debian-minimal release: 'stretch' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" - job: name: dib-nodepool-functional-openstack-opensuse-423-src description: | Test building and booting an openSUSE 4.23 image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: opensuse-minimal release: '4.23' - job: name: dib-nodepool-functional-openstack-opensuse-150-src description: | Test building and booting an openSUSE 15.0 image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: opensuse-minimal release: '15.0' - job: name: dib-nodepool-functional-openstack-opensuse-tumbleweed-src description: | Test building and booting an openSUSE tumbleweed image with Nodepool and OpenStack parent: nodepool-functional-openstack-src vars: nodepool_diskimage: base_element: opensuse-minimal release: 'tumbleweed'",,130,7
openstack%2Fopenstack-ansible-os_zun~master~Ib975a6d7e81bad87bc7025b0e682081ceeff8da1,openstack/openstack-ansible-os_zun,master,Ib975a6d7e81bad87bc7025b0e682081ceeff8da1,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-05 13:21:22.000000000,2019-06-27 22:54:03.000000000,2019-06-27 22:54:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-05 13:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/abfb4f369297274a3f7770b6590a7f227b2646be', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ib975a6d7e81bad87bc7025b0e682081ceeff8da1\n'}, {'number': 2, 'created': '2019-05-06 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/85272142ff626bce4681629b641e7af6fceb0be9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ib975a6d7e81bad87bc7025b0e682081ceeff8da1\n'}, {'number': 3, 'created': '2019-05-06 11:31:03.000000000', 'files': ['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/5123fcda0f698e03a432ab46b7cc71475f6465fe', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ib975a6d7e81bad87bc7025b0e682081ceeff8da1\n'}]",0,657270,5123fcda0f698e03a432ab46b7cc71475f6465fe,17,3,3,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ib975a6d7e81bad87bc7025b0e682081ceeff8da1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/70/657270/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,abfb4f369297274a3f7770b6590a7f227b2646be,, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning src: https://opendev.org/openstack/openstack-ansible-pip_install src: https://opendev.org/openstack/openstack-ansible-galera_client src: https://opendev.org/openstack/openstack-ansible-memcached_server src: https://opendev.org/openstack/openstack-ansible-openstack_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_container_create src: https://opendev.org/openstack/openstack-ansible-galera_server src: https://opendev.org/openstack/openstack-ansible-rabbitmq_server src: https://opendev.org/openstack/openstack-ansible-openstack_openrc src: https://opendev.org/openstack/openstack-ansible-os_keystone src: https://opendev.org/openstack/openstack-ansible-os_glance src: https://opendev.org/openstack/openstack-ansible-os_neutron src: https://opendev.org/openstack/openstack-ansible-os_tempest src: https://opendev.org/openstack/ansible-role-systemd_service src: https://opendev.org/openstack/ansible-role-python_venv_build, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/openstack-ansible-pip_install src: https://git.openstack.org/openstack/openstack-ansible-galera_client src: https://git.openstack.org/openstack/openstack-ansible-memcached_server src: https://git.openstack.org/openstack/openstack-ansible-openstack_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_container_create src: https://git.openstack.org/openstack/openstack-ansible-galera_server src: https://git.openstack.org/openstack/openstack-ansible-rabbitmq_server src: https://git.openstack.org/openstack/openstack-ansible-openstack_openrc src: https://git.openstack.org/openstack/openstack-ansible-os_keystone src: https://git.openstack.org/openstack/openstack-ansible-os_glance src: https://git.openstack.org/openstack/openstack-ansible-os_neutron src: https://git.openstack.org/openstack/openstack-ansible-os_tempest src: https://git.openstack.org/openstack/ansible-role-systemd_service src: https://git.openstack.org/openstack/ansible-role-python_venv_build,16,16
openstack%2Fkolla~stable%2Fstein~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,stable/stein,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-27 09:10:34.000000000,2019-06-27 22:25:07.000000000,2019-06-27 22:25:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 09:10:34.000000000', 'files': ['docker/ceph/ceph-nfs/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f13852289da0ba996cf03b5773facacb9ab2085b', 'message': 'Fix deployment of ceph-nfs container failing due to wrong USER\n\nThe startup script requires to be run as root, not ceph.\nAll other ceph images follow this rule.\n\nAlso removed redundant blank line.\n\nChange-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)\n'}]",0,667824,f13852289da0ba996cf03b5773facacb9ab2085b,9,5,1,14826,,,0,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/667824/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-nfs/Dockerfile.j2'],1,f13852289da0ba996cf03b5773facacb9ab2085b,fix-ceph-nfs-deploy-stable/stein,, USER ceph,0,3
openstack%2Fdevstack-plugin-ceph~master~Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594,openstack/devstack-plugin-ceph,master,Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594,Add ceph-iscsi support,MERGED,2019-06-24 21:39:24.000000000,2019-06-27 21:44:37.000000000,2019-06-27 21:44:37.000000000,"[{'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 21:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2967303cea8f90ab3c33fc4033c5e811fb878de5', 'message': 'WIP Add ceph-iscsi support\n\nThis patch is a work in progress\n\nThis patch aims to install, configure and start everything needed\nto support running ceph-iscsi.\n\nReference:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n'}, {'number': 2, 'created': '2019-06-25 18:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c5acfcca428d0646d7bb072771e926026428a7d3', 'message': 'WIP Add ceph-iscsi support\n\nThis patch is a work in progress\n\nThis patch aims to install, configure and start everything needed\nto support running ceph-iscsi.\n\nReference:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n'}, {'number': 3, 'created': '2019-06-25 18:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6be901a19f750d6a4b564144a81c0487dbdb3bfe', 'message': 'WIP Add ceph-iscsi support\n\nThis patch is a work in progress\n\nThis patch aims to install, configure and start everything needed\nto support running ceph-iscsi.\n\nReference:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n'}, {'number': 4, 'created': '2019-06-25 20:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/15c7c23568f67f24622333919ebf00a51364b439', 'message': 'WIP Add ceph-iscsi support\n\nThis patch is a work in progress\n\nThis patch aims to install, configure and start everything needed\nto support running ceph-iscsi.\n\nReference:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n'}, {'number': 5, 'created': '2019-06-25 20:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e3d8a32b494bcc18c0f1df262883d48eecb75a89', 'message': 'WIP Add ceph-iscsi support\n\nThis patch is a work in progress\n\nThis patch aims to install, configure and start everything needed\nto support running ceph-iscsi.\n\nReference:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n'}, {'number': 6, 'created': '2019-06-27 18:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2e7aa1e70fc11253b3a21eb2ccc725090f2cbfcb', 'message': ""Add ceph-iscsi support\n\nThis patch adds support for installing, configuring all required\nceph-iscsi related packages and daemons.\n\nThe following packages are required and their deps\ntcmu-runner - this requires kernel version 4.16 and > to work.  Ubuntu\ndoesn't have a prebuilt package for this, so we pull it down and compile it.\nrtslib-fb - has a pypi package\nconfigshell-fb - has a pypi package\ntargetcli-fb - doesn't have a pypi package.\nceph-iscsi - doesn't have a pypi package.\n\nThe reference documentaion to setup ceph-iscsi targets and daemons:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n""}, {'number': 7, 'created': '2019-06-27 18:49:06.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ff1b4231783e2935d7ce1dc07f7af4adc6f05c96', 'message': ""Add ceph-iscsi support\n\nThis patch adds support for installing, configuring all required\nceph-iscsi related packages and daemons. ceph-iscsi requires kernel\nversion 4.16 or greater.\n\nTo enable set\nENABLE_CEPH_ISCSI=True\n\nAdds new config options\nCEPH_ISCSI_TARGET_IQN - the rbd-target-gw iqn to use to export volumes\nCEPH_ISCSI_API_HOST - the rbd-target-api ip to use to listen on\nCEPH_ISCSI_API_PORT - the rbd-target-api port\nCEPH_ISCSI_API_USER - the rbd-target-api user for auth against the api\nCEPH_ISCSI_API_PASSWORD - the rbd-target-api password for auth against the api\n\nThe following packages are required and their deps\ntcmu-runner - this requires kernel version 4.16 and > to work.  Ubuntu\ndoesn't have a prebuilt package for this, so we pull it down and compile it.\nrtslib-fb - has a pypi package\nconfigshell-fb - has a pypi package\ntargetcli-fb - doesn't have a pypi package.\nceph-iscsi - doesn't have a pypi package.\n\nThe reference documentaion to setup ceph-iscsi targets and daemons:\nhttp://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install\n\nChange-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594\n""}]",0,667232,ff1b4231783e2935d7ce1dc07f7af4adc6f05c96,16,3,7,5997,,,0,"Add ceph-iscsi support

This patch adds support for installing, configuring all required
ceph-iscsi related packages and daemons. ceph-iscsi requires kernel
version 4.16 or greater.

To enable set
ENABLE_CEPH_ISCSI=True

Adds new config options
CEPH_ISCSI_TARGET_IQN - the rbd-target-gw iqn to use to export volumes
CEPH_ISCSI_API_HOST - the rbd-target-api ip to use to listen on
CEPH_ISCSI_API_PORT - the rbd-target-api port
CEPH_ISCSI_API_USER - the rbd-target-api user for auth against the api
CEPH_ISCSI_API_PASSWORD - the rbd-target-api password for auth against the api

The following packages are required and their deps
tcmu-runner - this requires kernel version 4.16 and > to work.  Ubuntu
doesn't have a prebuilt package for this, so we pull it down and compile it.
rtslib-fb - has a pypi package
configshell-fb - has a pypi package
targetcli-fb - doesn't have a pypi package.
ceph-iscsi - doesn't have a pypi package.

The reference documentaion to setup ceph-iscsi targets and daemons:
http://docs.ceph.com/docs/master/rbd/iscsi-target-cli-manual-install

Change-Id: Idfac4883b9d31e80124b8f2f1cc60dd9ce18c594
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/32/667232/6 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,2967303cea8f90ab3c33fc4033c5e811fb878de5,,"# iSCSI defaults CEPH_ISCSI_TARGET_IQN=${CEPH_ISCSI_TARGET_IQN:-iqn.2019-01.org.opendev.iscsi-gw:iscsi-igw} CEPH_ISCSI_API_USER=${CEPH_ISCSI_API_USER:-openstack} CEPH_ISCSI_API_PASSWORD=${CEPH_ISCSI_API_PASSWORD:-openstack} CEPH_ISCSI_API_PORT=${CEPH_ISCSI_API_PORT:-5002} CEPH_ISCSI_GATEWAY_CFG=${CEPH_CONF_DIR}/iscsi-gateway.cfg # is_ceph_iscsi_enabled() - checks if iscsi gateway and api support is # enabled function is_ceph_iscsi_enabled { enabled=1 config_name=ENABLE_CEPH_ISCSI config=$(eval echo ""\$$config_name"") if [[ $config == 'True' ]]; then enabled=0 fi return $enabled } # check_os_support_ceph_iscsi() - Make sure kernel supports iscsi requirements function check_os_support_for_iscsi { KERNEL_CONFIG=""/boot/config-$(uname -r)"" target_core=$(grep -E '(CONFIG_TARGET_CORE=m|CONFIG_TARGET_CORE=y)' $KERNEL_CONFIG) tcm_user=$(grep -E '(CONFIG_TCM_USER2=m|CONFIG_TCM_USER2=y)' $KERNEL_CONFIG) iscsi_target=$(grep -E '(CONFIG_ISCSI_TARGET=m|CONFIG_ISCSI_TARGET=y)' $KERNEL_CONFIG) if [ -z ""$target_core"" ] || [ -z ""$tcm_user"" ] || [ -z ""$iscsi_target"" ]; then die ""Ceph iSCSI cannot work. The required kernel modules are not installed."" fi } if [ ""$ENABLE_CEPH_ISCSI"" = ""True"" ]; then sudo killall -w 9 rbd-target-api sudo killall -w 9 rbd-target-gw fi if [ ""$ENABLE_CEPH_ISCSI"" = ""True""]; then _configure_ceph_iscsi fifunction _configure_ceph_iscsi_gateway { iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""cluster_name"" ""ceph"" iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""gateway_keyring"" ""ceph.client.admin.keyring"" iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""api_secure"" ""false"" iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""api_user"" ""$CEPH_ISCSI_API_USER"" iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""api_password"" ""$CEPH_ISCSI_API_PASSWORD"" iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""api_port"" ""$CEPH_ISCSI_API_PORT"" iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""trusted_ip_list"" ""$HOST_IP"" } function _configure_ceph_iscsi { _configure_ceph_iscsi_gateway if [[ $INIT_SYSTEM == 'systemd' ]]; then sudo systemctl daemon-reload sudo systemctl enable tcmu-runner sudo systemctl enable rbd-target-gw sudo systemctl enable rbd-target-api fi } function start_ceph_iscsi { if [[ $INIT_SYSTEM == 'systemd' ]]; then sudo systemctl start tcmu-runner sudo systemctl start rbd-target-gw sudo systemctl start rbd-target-api fi } if [ ""$ENABLE_CEPH_ISCSI"" = ""True"" ]; then CEPH_PACKAGES=""${CEPH_PACKAGES} librbd1 libkmod2 python-pyparsing python-kmod python-pyudev"" CEPH_PACKAGES=""${CEPH_PACKAGES} python-gobject python-urwid python-rados python-rbd"" CEPH_PACKAGES=""${CEPH_PACKAGES} python-netifaces python-crypto python-requests python-flask"" CEPH_PACKAGES=""${CEPH_PACKAGES} python-openssl"" fi ",,80,0
openstack%2Fdiskimage-builder~master~I4209c6d81e4cd9198554028ef50f1e1d7a14b67e,openstack/diskimage-builder,master,I4209c6d81e4cd9198554028ef50f1e1d7a14b67e,Fix cloud-init element for Fedora,NEW,2019-02-25 15:42:44.000000000,2019-06-27 21:08:08.000000000,,"[{'_account_id': 4146}, {'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-02-25 15:42:44.000000000', 'files': ['diskimage_builder/elements/cloud-init/post-install.d/20-enable-cloud-init'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1d6f3c539c16a42d0f78102eb81d14ac00a67c9e', 'message': 'Fix cloud-init element for Fedora\n\nThe cloud-init element had 2 problems on Fedora 29 builds:\n1) The cloud-init systemd units are not enabled upon installation,\n   so cloud-init never runs after booting the image.\n\n2) dbus-daemon must also be enabled or else cloud-init will fail\n   to set the system hostname with hostnamectl.\n\nChange-Id: I4209c6d81e4cd9198554028ef50f1e1d7a14b67e\n'}]",3,639136,1d6f3c539c16a42d0f78102eb81d14ac00a67c9e,8,6,1,17799,,,0,"Fix cloud-init element for Fedora

The cloud-init element had 2 problems on Fedora 29 builds:
1) The cloud-init systemd units are not enabled upon installation,
   so cloud-init never runs after booting the image.

2) dbus-daemon must also be enabled or else cloud-init will fail
   to set the system hostname with hostnamectl.

Change-Id: I4209c6d81e4cd9198554028ef50f1e1d7a14b67e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/36/639136/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/cloud-init/post-install.d/20-enable-cloud-init'],1,1d6f3c539c16a42d0f78102eb81d14ac00a67c9e,cloud-init,"# fedora elif [[ ""${DISTRO_NAME}"" == ""fedora"" ]]; then systemctl enable cloud-config.service systemctl enable cloud-final.service systemctl enable cloud-init-local.service systemctl enable cloud-init.service # cloud-init uses hostnamectl to set the hostname, which requires that the # dbus socket exists. Fedora does not enable this by default so it must # be enabled along with cloud-init systemctl enable dbus-daemon.service",,11,0
openstack%2Ftripleo-quickstart~master~I16fab1835a0a40b690f1cc62afae01e4c812db2d,openstack/tripleo-quickstart,master,I16fab1835a0a40b690f1cc62afae01e4c812db2d,Add tripleo-ansible to tripleo packages in current,MERGED,2019-06-20 16:15:08.000000000,2019-06-27 20:59:05.000000000,2019-06-27 20:59:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 16:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9be9d83f8728503df745c54d3423a63b39b30243', 'message': ""Add tripleo-ansible to tripleo packages in current\n\nWe need to use in jobs the newest tripleo-ansible packages as it's\ndone for all other tripleo related packages.\n\nChange-Id: I16fab1835a0a40b690f1cc62afae01e4c812db2d\n""}, {'number': 2, 'created': '2019-06-24 15:11:05.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/Fedora-28/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca88f618588c04d6c0cf88a78bb97aebac6f95ad', 'message': ""Add tripleo-ansible to tripleo packages in current\n\nWe need to use in jobs the newest tripleo-ansible packages as it's\ndone for all other tripleo related packages.\n\nChange-Id: I16fab1835a0a40b690f1cc62afae01e4c812db2d\n""}]",3,666627,ca88f618588c04d6c0cf88a78bb97aebac6f95ad,26,8,2,10969,,,0,"Add tripleo-ansible to tripleo packages in current

We need to use in jobs the newest tripleo-ansible packages as it's
done for all other tripleo related packages.

Change-Id: I16fab1835a0a40b690f1cc62afae01e4c812db2d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/666627/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml']",4,9be9d83f8728503df745c54d3423a63b39b30243,ta-repo, - tripleo-ansible,,4,0
openstack%2Frelease-schedule-generator~master~Ife4723a8dd2178de5d786c0e7f918d2fcc988230,openstack/release-schedule-generator,master,Ife4723a8dd2178de5d786c0e7f918d2fcc988230,Update home-page,ABANDONED,2019-01-11 11:10:37.000000000,2019-06-27 20:49:31.000000000,,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-11 11:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/release-schedule-generator/commit/1a7f1e76837a20ec09d6c1b53e112e48e7c7dafa', 'message': 'Updatae home-page\n\nChange-Id: Ife4723a8dd2178de5d786c0e7f918d2fcc988230\n'}, {'number': 2, 'created': '2019-01-12 02:50:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/release-schedule-generator/commit/93edab4a69cd9f0f110680df99f941ac300c4581', 'message': 'Update home-page\n\nChange-Id: Ife4723a8dd2178de5d786c0e7f918d2fcc988230\n'}]",1,630149,93edab4a69cd9f0f110680df99f941ac300c4581,9,5,2,26297,,,0,"Update home-page

Change-Id: Ife4723a8dd2178de5d786c0e7f918d2fcc988230
",git fetch https://review.opendev.org/openstack/release-schedule-generator refs/changes/49/630149/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1a7f1e76837a20ec09d6c1b53e112e48e7c7dafa,,home-page = https://git.openstack.org/cgit/openstack/release-schedule-generator,home-page = http://www.openstack.org/,1,1
openstack%2Fopenstack-ansible-os_tempest~master~Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5,openstack/openstack-ansible-os_tempest,master,Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5,Update the list of python3 packages,MERGED,2019-05-29 14:12:02.000000000,2019-06-27 20:37:37.000000000,2019-06-27 20:37:37.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24162}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-29 14:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/bccb2dd989ad4440ef759164c9971ac6db2a459b', 'message': '[wip][redhat] Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions and versions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones, allowing us to declare overrides in\na minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 2, 'created': '2019-05-29 15:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d8163c01800cf5847fb90b0acce26b7b142af3d4', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 3, 'created': '2019-05-29 18:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2f75d699803677ce1322de1c84e3f44b989e5d8f', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 4, 'created': '2019-05-30 15:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f0571766bc99e41b69be2c6b4fbe7ee8193f4b33', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 5, 'created': '2019-05-31 11:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a2ddda08f607b1f2b17681189a9d25b1da7d9792', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 6, 'created': '2019-06-03 14:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b18c339f8ef85f5e27995d524fa0afe0e05cccc9', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 7, 'created': '2019-06-03 16:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2fcf8b039557a23a9dd3145b009bce0e6c1a8562', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 8, 'created': '2019-06-04 13:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/24caf6d4db03047d0b90be903ef4da6863734bbe', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\n'}, {'number': 9, 'created': '2019-06-12 10:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/434deed59e4d1d2fc3c7db9a48e4aca45941f052', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2019-06-12 10:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/43b1ffcf438014c5758293d42b8d94c0ed6bf3c8', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2019-06-25 08:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/63a78bc913e1021a425f32ae37d13c397aa8e45b', 'message': 'Update the list of python3 packages\n\nThis also changes the way we determine the package names so we can\neasily override them for specific distributions.\n\nVariables are loaded based on granularity, the more specific ones\noverriding the more generic ones. This allowing us to declare overrides\nin a minimal number of places.\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2019-06-27 13:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d08f2b8598265b36fd10386a57fd2c6a7071e4d4', 'message': 'Update the list of python3 packages\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2019-06-27 15:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/1f10f62b52a984f46cb4b015b70d27db6cda48c7', 'message': 'Update the list of python3 packages\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2019-06-27 15:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e33e359c314e2a11bbab7e2dd7cfa65f05ff8311', 'message': 'Update the list of python3 packages\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2019-06-27 15:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/25e9eaa300750220f1ca6915f5ff73d8c7886bbd', 'message': 'Update the list of python3 packages\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2019-06-27 15:24:17.000000000', 'files': ['vars/redhat-8.yml', 'vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a0bc2dd8ee84d6929c68a82784c69e61d3c5c78c', 'message': 'Update the list of python3 packages\n\nChange-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",25,661994,a0bc2dd8ee84d6929c68a82784c69e61d3c5c78c,69,16,16,24162,,,0,"Update the list of python3 packages

Change-Id: Ia138880638e25a9cdf7236b97ed27c0dc6a44ac5
Co-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>
Co-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/94/661994/16 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/rhel-8.yml', 'vars/centos-8.yml', 'vars/main.yml']",5,bccb2dd989ad4440ef759164c9971ac6db2a459b,py3, _tempest_services: - aodh - barbican - ceilometer - cinder - congress - designate - heat - horizon - ironic - magnum - manila - mistral - neutron - neutron_fwaas - neutron_vpnaas - novajoin - octavia - sahara - zaqar,,86,29
openstack%2Fneutron~master~Ib14bb31af0e78378123cc64084c613f0caced912,openstack/neutron,master,Ib14bb31af0e78378123cc64084c613f0caced912,Fix compatibility for ip/subnet when create fip,ABANDONED,2017-09-22 06:10:28.000000000,2019-06-27 19:58:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19956}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-22 06:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/782c32eca07b665053759cc4b1f48a83ff6f06f4', 'message': ""Fix compatibility for ip/subnet when create fip\n\nWhen create a fip with subnet_id and ip option specified,\nthe created fip won't be the ip specified, in the original\ncode, it will be replaced with subnet_id, and it will confuse\nusers\n\nChange-Id: Ib14bb31af0e78378123cc64084c613f0caced912\n""}, {'number': 2, 'created': '2017-09-25 11:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28aa8dbf5fc752a1a2f0332bf5d94b037a58037e', 'message': ""Fix compatibility for ip/subnet when create fip\n\nWhen create a fip with subnet_id and ip option specified,\nthe created fip won't be the ip specified, in the original\ncode, it will be replaced with subnet_id, and it will confuse\nusers\n\nChange-Id: Ib14bb31af0e78378123cc64084c613f0caced912\n""}, {'number': 3, 'created': '2017-09-26 06:13:36.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1757c654cf10d692547ca6fd8b41031bf4226cae', 'message': ""Fix compatibility for ip/subnet when create fip\n\nWhen create a fip with subnet_id and ip option specified,\nthe created fip won't be the ip specified, in the original\ncode, it will be replaced with subnet_id, and it will confuse\nusers\n\nCloses-Bug: 1719494\nChange-Id: Ib14bb31af0e78378123cc64084c613f0caced912\n""}]",10,506532,1757c654cf10d692547ca6fd8b41031bf4226cae,32,10,3,19956,,,0,"Fix compatibility for ip/subnet when create fip

When create a fip with subnet_id and ip option specified,
the created fip won't be the ip specified, in the original
code, it will be replaced with subnet_id, and it will confuse
users

Closes-Bug: 1719494
Change-Id: Ib14bb31af0e78378123cc64084c613f0caced912
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/506532/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,782c32eca07b665053759cc4b1f48a83ff6f06f4,bug/1719494, if fip.get('floating_ip_address') or fip.get('subnet_id'): fip_info = dict() if fip.get('floating_ip_address'): fip_info.update({'ip_address': fip['floating_ip_address']}) if fip.get('subnet_id'): fip_info.update({'subnet_id': fip['subnet_id']}) port['fixed_ips'] = [fip_info], if fip.get('floating_ip_address'): port['fixed_ips'] = [ {'ip_address': fip['floating_ip_address']}] if fip.get('subnet_id'): port['fixed_ips'] = [ {'subnet_id': fip['subnet_id']}],7,7
openstack%2Fdevstack~stable%2Frocky~I0d7f9f2baaee2836a719f199939156bd4f53f778,openstack/devstack,stable/rocky,I0d7f9f2baaee2836a719f199939156bd4f53f778,Use neutron-legacy on subnodes in devstack zuul job,MERGED,2019-06-24 20:26:57.000000000,2019-06-27 19:48:00.000000000,2019-06-27 19:48:00.000000000,"[{'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 20:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/83f3cf4748c55c1dfbdf4f971bc65e4d45f2ba87', 'message': 'Use neutron-legacy on subnodes in devstack zuul job\n\nThere are still some issues with lib/neutron thus neutron-legacy is used\non controller node in multinode jobs and in single node jobs.\nBut in ""group-vars"" in devstack job it was configured to use\nlib/neutron which can cause some problems in multinode jobs.\n\nSo lets switch to neutron-legacy on subnodes also until lib/neutron\nwill be ready to use everywhere.\n\nChange-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778\n(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)\n'}, {'number': 2, 'created': '2019-06-24 20:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1c30ee8f5b1cf0695f4902a55e90aac2daf4ac1d', 'message': 'Use neutron-legacy on subnodes in devstack zuul job\n\nThere are still some issues with lib/neutron thus neutron-legacy is used\non controller node in multinode jobs and in single node jobs.\nBut in ""group-vars"" in devstack job it was configured to use\nlib/neutron which can cause some problems in multinode jobs.\n\nSo lets switch to neutron-legacy on subnodes also until lib/neutron\nwill be ready to use everywhere.\n\nCloses-Bug: #1834079\n\nChange-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778\n(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)\n'}, {'number': 3, 'created': '2019-06-25 14:46:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9ffa9aa53b6b7996b082a67e35c283c3ead3bb37', 'message': 'Use neutron-legacy on subnodes in devstack zuul job\n\nThere are still some issues with lib/neutron thus neutron-legacy is used\non controller node in multinode jobs and in single node jobs.\nBut in ""group-vars"" in devstack job it was configured to use\nlib/neutron which can cause some problems in multinode jobs.\n\nSo lets switch to neutron-legacy on subnodes also until lib/neutron\nwill be ready to use everywhere.\n\nCloses-Bug: #1834079\n\nChange-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778\n(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)\n(cherry picked from commit 7a6b3c8a97c8d5e423e2df1a734d073d30442dcf)\n'}]",0,667218,9ffa9aa53b6b7996b082a67e35c283c3ead3bb37,16,6,3,11975,,,0,"Use neutron-legacy on subnodes in devstack zuul job

There are still some issues with lib/neutron thus neutron-legacy is used
on controller node in multinode jobs and in single node jobs.
But in ""group-vars"" in devstack job it was configured to use
lib/neutron which can cause some problems in multinode jobs.

So lets switch to neutron-legacy on subnodes also until lib/neutron
will be ready to use everywhere.

Closes-Bug: #1834079

Change-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778
(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)
(cherry picked from commit 7a6b3c8a97c8d5e423e2df1a734d073d30442dcf)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/667218/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83f3cf4748c55c1dfbdf4f971bc65e4d45f2ba87,neutron-legacy, # We need to keep using the neutron-legacy based services for # now until all issues with the new lib/neutron code are solved q-agt: true # neutron-agent: true, neutron-agent: true,4,1
openstack%2Fkolla~master~I6bf0cbfaffc22147c5bec03b5897719de53366ed,openstack/kolla,master,I6bf0cbfaffc22147c5bec03b5897719de53366ed,Move back to CentOS StorageSIG repos for Ceph and Ganesha,MERGED,2019-06-18 15:09:52.000000000,2019-06-27 19:02:35.000000000,2019-06-27 19:02:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 25402}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-18 15:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ab0f9e2a5e8009db55e04e312b467541a0d5d74a', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n'}, {'number': 2, 'created': '2019-06-20 09:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/66658da8d52cb999e87e931e7e10160135108a02', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n'}, {'number': 3, 'created': '2019-06-20 09:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0af35cbf682093855d71743cc38370058efa2e0b', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n'}, {'number': 4, 'created': '2019-06-26 15:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/046004a2b4bb04cf12aaec0e75abd38ae22828cc', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n(cherry picked from commit 0af35cbf682093855d71743cc38370058efa2e0b)\n'}, {'number': 5, 'created': '2019-06-26 15:27:47.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/base/ceph.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf47864ab1e4fa6192ea96727d01b3e935b7a1fc', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n'}]",4,666015,cf47864ab1e4fa6192ea96727d01b3e935b7a1fc,62,11,5,6796,,,0,"Move back to CentOS StorageSIG repos for Ceph and Ganesha

Recently a new repo was created in CentOS to distribute Ganesha,
and the repo made a dependency of the Ceph Nautilus repo package [1]

When centos-release-ceph-nautilus 1.2-1 will go out, it should not
be necessary to disable the CentOS Ceph repos pulled in by
dependency of the RDO repositories, as done in [2]

1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907
2. https://review.opendev.org/#/c/651601/

Change-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/666015/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/base/ceph.repo']",2,ab0f9e2a5e8009db55e04e312b467541a0d5d74a,,,[ceph] name=ceph baseurl=https://download.ceph.com/rpm-nautilus/el7/$basearch enabled=1 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [ceph-noarch] name=Ceph noarch packages baseurl=https://download.ceph.com/rpm-nautilus/el7/noarch enabled=1 priority=2 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [nfs_ganesha] baseurl = http://download.ceph.com/nfs-ganesha/rpm-V2.7-stable/nautilus/$basearch gpgcheck = 1 gpgkey = https://download.ceph.com/keys/release.asc name = nfs-ganesha stable repo skip_if_unavailable = 1 ,3,23
openstack%2Ftripleo-heat-templates~master~Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,openstack/tripleo-heat-templates,master,Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8,Avoid checking rc if we're in dry-run mode,MERGED,2019-06-27 05:25:09.000000000,2019-06-27 18:54:08.000000000,2019-06-27 18:51:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-27 05:25:09.000000000', 'files': ['deployment/iscsid/iscsid-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5', 'message': 'Avoid checking rc if we\'re in dry-run mode\n\nCurrently running `ansible --check\' against generated playbook fails\nbecause the ""exec"" won\'t be done, hence the registered resource won\'t\nget the ""rc"" entry.\n\nChange-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8\nCloses-Bug: #1834409\n'}]",0,667783,2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5,10,6,1,28223,,,0,"Avoid checking rc if we're in dry-run mode

Currently running `ansible --check' against generated playbook fails
because the ""exec"" won't be done, hence the registered resource won't
get the ""rc"" entry.

Change-Id: Ic8001d4fd8c489f10c565d05ae82060fa3fb6ce8
Closes-Bug: #1834409
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/667783/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/iscsid/iscsid-container-puppet.yaml'],1,2d4430bd7188a7ae49a8cdb15b1dd546b46c7de5,bug/1834409, when: - iscsi_service_enabled_result is changed - iscsi_service_enabled_result.rc == 0, when: iscsi_service_enabled_result.rc == 0,3,1
openstack%2Ftripleo-heat-templates~master~Iafa57b462f5ee205345a8d6e6d460ab68f312099,openstack/tripleo-heat-templates,master,Iafa57b462f5ee205345a8d6e6d460ab68f312099,Enable kill script for Neutron agents,MERGED,2019-06-06 07:18:20.000000000,2019-06-27 18:51:18.000000000,2019-06-27 18:51:17.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-06 07:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a93495165faf3a982c1f4d508ebef782ecf2898', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change:\nhttps://review.opendev.org/663302\n\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 2, 'created': '2019-06-06 11:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e4401d8e4af50485f11c177f11f97517b772694', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change:\nhttps://review.opendev.org/663302\n\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 3, 'created': '2019-06-06 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28ba43d45dba183d03ba94c9b670fdd159991793', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change:\nhttps://review.opendev.org/663302\n\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 4, 'created': '2019-06-07 08:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7ab4509842c19636f8f77aa9d99e55f38caea99', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change:\nhttps://review.opendev.org/663302\n\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 5, 'created': '2019-06-18 08:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c5e73603ea4840f677ea108685557ab26624443', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 6, 'created': '2019-06-18 10:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/310f88f7f34bfbaf9e553afe02f1ef61d0e2fb68', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 7, 'created': '2019-06-18 12:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/078911ca22770764fbced65111fb799e52d87762', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 8, 'created': '2019-06-18 13:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9b279a508595e9adf971f3cde5d8a09af565134', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 9, 'created': '2019-06-18 15:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1be8c63a4a9537587f6f7b2b0c57cc2557b915a', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 10, 'created': '2019-06-19 08:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebd394bb37666d89c5f4d843403020727c5e81a3', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 11, 'created': '2019-06-20 06:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff3021ffef22a7099a1fbe3dbae4a4708d6eef4d', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 12, 'created': '2019-06-21 07:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aae5c166b79bc685aed1b55cce08ca6f60ccd400', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 13, 'created': '2019-06-24 06:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59ac30a8c77255a9c305eae0a4218e9324cb91a6', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 14, 'created': '2019-06-24 06:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5247bc450599f1a74a29f0c2d5f75fe4786a493c', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 15, 'created': '2019-06-24 09:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fa4e2f060235bd8b40bcd6fcd56a474b17f66c7', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 16, 'created': '2019-06-24 09:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4092b39753467541fb48bffaf3de416a0b04d5c4', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 17, 'created': '2019-06-24 15:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77bfd07db07b2a3bbed2ada39ad000095a95ca46', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nIt supports the ""HUP"" and ""9"" signal - first one invokes the ""kill\n--signal HUP"" commande from the container_cli, while the second one will\nstop and delete the container.\nOther signals will return an error, since they aren\'t known.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 18, 'created': '2019-06-25 05:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/002f1e1409270f98f781f131d7ec9536cd435a97', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nIt supports the ""HUP"" and ""9"" signal - first one invokes the ""kill\n--signal HUP"" commande from the container_cli, while the second one will\nstop and delete the container.\nOther signals will return an error, since they aren\'t known.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}, {'number': 19, 'created': '2019-06-26 15:19:38.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'releasenotes/notes/neutron-kill-script-4d8b6a0130f6fcdd.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4c4fcb2a6571c3c6c0969c092187e1f83c6c427', 'message': 'Enable kill script for Neutron agents\n\nNeutron introduced ""kill script"" support for its agents, allowing to do\nmore than a simple ""kill <pid>"".\n\nThis patch intends to activate this new feature, allowing to avoid\ndangling containers with failed exit state.\n\nIt supports the ""HUP"" and ""9"" signal - first one invokes the ""kill\n--signal HUP"" commande from the container_cli, while the second one will\nstop and delete the container.\nOther signals will return an error, since they aren\'t known.\n\nThe kill-script also supports the global Debug flag for a more verbose\noutput.\n\nThis patch also adds a soon to be deprecated parameter\nDockerAdditionalSockets in order to make the change compatible with\nsetups still using Docker (HA deploy on Centos-7 and RHEL-7 for\nexample).\n\nFor more information about Neutron new kill script feature, please have\na look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: https://review.opendev.org/661760\nChange-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099\n'}]",19,663528,e4c4fcb2a6571c3c6c0969c092187e1f83c6c427,88,11,19,28223,,,0,"Enable kill script for Neutron agents

Neutron introduced ""kill script"" support for its agents, allowing to do
more than a simple ""kill <pid>"".

This patch intends to activate this new feature, allowing to avoid
dangling containers with failed exit state.

It supports the ""HUP"" and ""9"" signal - first one invokes the ""kill
--signal HUP"" commande from the container_cli, while the second one will
stop and delete the container.
Other signals will return an error, since they aren't known.

The kill-script also supports the global Debug flag for a more verbose
output.

This patch also adds a soon to be deprecated parameter
DockerAdditionalSockets in order to make the change compatible with
setups still using Docker (HA deploy on Centos-7 and RHEL-7 for
example).

For more information about Neutron new kill script feature, please have
a look at this change: I29dfbedfb7167982323dcff1c4554ee780cc48db

Depends-On: https://review.opendev.org/661760
Change-Id: Iafa57b462f5ee205345a8d6e6d460ab68f312099
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/663528/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/kill-script']",4,9a93495165faf3a982c1f4d508ebef782ecf2898,neutron-agents/kill-container,"#!/bin/bash SIG=$1 PID=$2 NETNS=$(ip netns identify) if [ ""x${NETNS}"" == ""x"" ]; then echo ""No network namespace detected, exiting"" exit 1 fi CLI=""nsenter --net=/run/netns/${NETNS} --preserve-credentials -m -t 1 podman"" # Get container ID based on process cgroups if [ -f /proc/$PID/cgroup ]; then CT_ID=$(awk 'BEGIN {FS=""[-.]""} /name=/{print $3}' /proc/$PID/cgroup) echo ""Stopping container $CT_ID"" $CLI stop $CT_ID echo ""Deleting container $CT_ID"" $CLI rm $CT_ID else echo ""No such PID: ${PID}"" exit 1 fi ",,64,0
openstack%2Ftripleo-common~stable%2Fstein~Ida6c18a983f6330f54a8eb95b40b56b19dd005cf,openstack/tripleo-common,stable/stein,Ida6c18a983f6330f54a8eb95b40b56b19dd005cf,remove plotnetcfg from overcloud image yaml,MERGED,2019-06-26 16:08:55.000000000,2019-06-27 18:51:11.000000000,2019-06-27 18:51:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 16:08:55.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/783a692477a4ff953df79661d9d284d84690fc0e', 'message': 'remove plotnetcfg from overcloud image yaml\n\nplotnetcfg is no longer required and is\nfailing silently in el7 builds.  Remove it.\n\nCloses-Bug: #1834043\nChange-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf\n(cherry picked from commit 73f27fe37538b9df60ef15c1d31d392ab6c85ef4)\n'}]",0,667668,783a692477a4ff953df79661d9d284d84690fc0e,12,4,1,14985,,,0,"remove plotnetcfg from overcloud image yaml

plotnetcfg is no longer required and is
failing silently in el7 builds.  Remove it.

Closes-Bug: #1834043
Change-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf
(cherry picked from commit 73f27fe37538b9df60ef15c1d31d392ab6c85ef4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/667668/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml']",5,783a692477a4ff953df79661d9d284d84690fc0e,,, - plotnetcfg,0,5
openstack%2Ftripleo-common~stable%2Fstein~I46375348b2885d19290ab4334624910a86e215b9,openstack/tripleo-common,stable/stein,I46375348b2885d19290ab4334624910a86e215b9,Overcloud-full image templates for RHEL8,MERGED,2019-06-26 16:08:39.000000000,2019-06-27 18:51:09.000000000,2019-06-27 18:51:09.000000000,"[{'_account_id': 3153}, {'_account_id': 8161}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 16:08:39.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6763c998bebd42f39999d341d731836797edfd0a', 'message': 'Overcloud-full image templates for RHEL8\n\nChange-Id: I46375348b2885d19290ab4334624910a86e215b9\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n(cherry picked from commit f15e6ac387bbc49afa49a5bde35cf3349051ce16)\n'}]",0,667667,6763c998bebd42f39999d341d731836797edfd0a,7,4,1,14985,,,0,"Overcloud-full image templates for RHEL8

Change-Id: I46375348b2885d19290ab4334624910a86e215b9
Signed-off-by: Lon Hohberger <lhh@redhat.com>
(cherry picked from commit f15e6ac387bbc49afa49a5bde35cf3349051ce16)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/67/667667/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-rhel8.yaml']",2,6763c998bebd42f39999d341d731836797edfd0a,,"disk_images: - imagename: overcloud-full type: qcow2 distro: rhel release: 8 elements: - selinux-permissive environment: FS_TYPE: xfs options: - ""--mkfs-options '-s size=4096'"" - imagename: ironic-python-agent type: qcow2 distro: rhel release: 8 elements: - selinux-permissive ",,23,4
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,openstack/tripleo-heat-templates,stable/queens,Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,Fix ipaclient script,MERGED,2019-06-26 15:21:40.000000000,2019-06-27 18:50:02.000000000,2019-06-27 18:50:02.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-26 15:21:40.000000000', 'files': ['extraconfig/services/ipaclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3e215683b9fcf98e6ae9907df361cbd27d08362', 'message': 'Fix ipaclient script\n\nThe parameters for no_ntp_setup, ipa_domain and makehomedir\nneed to be set to whatever is coming in from heat.\n\nChange-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556\n(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)\n'}]",0,667649,c3e215683b9fcf98e6ae9907df361cbd27d08362,10,9,1,14250,,,0,"Fix ipaclient script

The parameters for no_ntp_setup, ipa_domain and makehomedir
need to be set to whatever is coming in from heat.

Change-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556
(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/667649/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/ipaclient.yaml'],1,c3e215683b9fcf98e6ae9907df361cbd27d08362,fix_ipaclient_service-stable/stein-stable/rocky-stable/queens, makehomedir={{ makehomedir }} idm_no_ntp={{ idm_no_ntp }} idm_domain={{ idm_domain }} ,,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,openstack/tripleo-heat-templates,stable/rocky,Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,Fix ipaclient script,MERGED,2019-06-26 15:21:24.000000000,2019-06-27 18:50:00.000000000,2019-06-27 18:50:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-26 15:21:24.000000000', 'files': ['extraconfig/services/ipaclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f19ff99a78f2ec925661b85a54679e0778ce7c9', 'message': 'Fix ipaclient script\n\nThe parameters for no_ntp_setup, ipa_domain and makehomedir\nneed to be set to whatever is coming in from heat.\n\nChange-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556\n(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)\n'}]",0,667648,5f19ff99a78f2ec925661b85a54679e0778ce7c9,11,9,1,14250,,,0,"Fix ipaclient script

The parameters for no_ntp_setup, ipa_domain and makehomedir
need to be set to whatever is coming in from heat.

Change-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556
(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/667648/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/ipaclient.yaml'],1,5f19ff99a78f2ec925661b85a54679e0778ce7c9,fix_ipaclient_service-stable/stein-stable/rocky, makehomedir={{ makehomedir }} idm_no_ntp={{ idm_no_ntp }} idm_domain={{ idm_domain }} ,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,openstack/tripleo-heat-templates,stable/stein,Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,Reintroduce upgrade tasks for stopping pacemaker cluster,MERGED,2019-06-24 15:28:48.000000000,2019-06-27 18:46:24.000000000,2019-06-27 18:46:24.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['puppet/services/pacemaker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c60a77c1b16d848ed9e616ec5351925193c2aa3', 'message': ""Reintroduce upgrade tasks for stopping pacemaker cluster\n\nIt is likely that change I50a1289a864f804d02a2e2bc0ca8738a186beff0\nbroke upgrade CI, even though the job somehow passed on it. MariaDB\nupgrade tasks now cannot remove the container image, because it's\nbeing used by a running container. Let's keep all tasks for stopping\nPacemaker cluster for now, both untagged ones and the ones tagged for\nsystem_upgrade_prepare step.\n\nChange-Id: Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1\nCloses-Bug: #1831022\n(cherry picked from commit f8ca0d41add4254401654c89f146d8c38a3d9ac3)\n""}]",0,667137,6c60a77c1b16d848ed9e616ec5351925193c2aa3,20,6,1,8042,,,0,"Reintroduce upgrade tasks for stopping pacemaker cluster

It is likely that change I50a1289a864f804d02a2e2bc0ca8738a186beff0
broke upgrade CI, even though the job somehow passed on it. MariaDB
upgrade tasks now cannot remove the container image, because it's
being used by a running container. Let's keep all tasks for stopping
Pacemaker cluster for now, both untagged ones and the ones tagged for
system_upgrade_prepare step.

Change-Id: Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1
Closes-Bug: #1831022
(cherry picked from commit f8ca0d41add4254401654c89f146d8c38a3d9ac3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/667137/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/pacemaker.yaml'],1,6c60a77c1b16d848ed9e616ec5351925193c2aa3,bug/1831690, - name: system_upgrade_prepare step 2 tags: - never - system_upgrade_prepare when: step|int == 2 block: - name: Stop pacemaker cluster pacemaker_cluster: state=offline, tags: - never - system_upgrade_prepare,8,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,stable/queens,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-26 14:08:02.000000000,2019-06-27 18:46:21.000000000,2019-06-27 18:46:20.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 14:08:02.000000000', 'files': ['validation-scripts/all-nodes.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/daa050438a0a379bac52e8e66055dd9bed59cd21', 'message': 'Make comparisons case insensitive\n\nIf the values for the conditional checks are ""true"" rather than ""True"",\nthey would be skipped. Let\'s force the variable contents to lowercase to\nremove the possibility of skipping the check when the value is ""true""\n\nChange-Id: I9f288ee2771c0a954beee085b6df650419978422\nCloses-Bug: #1833441\n(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)\n'}]",0,667626,daa050438a0a379bac52e8e66055dd9bed59cd21,8,3,1,14985,,,0,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/667626/1 && git format-patch -1 --stdout FETCH_HEAD,['validation-scripts/all-nodes.sh'],1,daa050438a0a379bac52e8e66055dd9bed59cd21,bug/1833441," if [[ ""${in_network,,}"" == ""true"" ]]; thenif [[ ""${validate_gateways_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_controllers_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_fqdn,,}"" == ""true"" ]];thenif [[ ""${validate_ntp,,}"" == ""true"" ]];then"," if [[ $in_network == ""True"" ]]; thenif [[ $validate_gateways_icmp == ""True"" ]];thenif [[ $validate_controllers_icmp == ""True"" ]];thenif [[ $validate_fqdn == ""True"" ]];thenif [[ $validate_ntp == ""True"" ]];then",5,5
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,stable/rocky,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-26 14:07:01.000000000,2019-06-27 18:46:18.000000000,2019-06-27 18:46:18.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-26 14:07:01.000000000', 'files': ['validation-scripts/all-nodes.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d35daee0d3e7e6b8f00a07c5f164622a75cb101', 'message': 'Make comparisons case insensitive\n\nIf the values for the conditional checks are ""true"" rather than ""True"",\nthey would be skipped. Let\'s force the variable contents to lowercase to\nremove the possibility of skipping the check when the value is ""true""\n\nChange-Id: I9f288ee2771c0a954beee085b6df650419978422\nCloses-Bug: #1833441\n(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)\n'}]",0,667625,5d35daee0d3e7e6b8f00a07c5f164622a75cb101,9,4,1,14985,,,0,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/667625/1 && git format-patch -1 --stdout FETCH_HEAD,['validation-scripts/all-nodes.sh'],1,5d35daee0d3e7e6b8f00a07c5f164622a75cb101,bug/1833441," if [[ ""${in_network,,}"" == ""true"" ]]; thenif [[ ""${validate_gateways_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_controllers_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_fqdn,,}"" == ""true"" ]];thenif [[ ""${validate_ntp,,}"" == ""true"" ]];then"," if [[ $in_network == ""True"" ]]; thenif [[ $validate_gateways_icmp == ""True"" ]];thenif [[ $validate_controllers_icmp == ""True"" ]];thenif [[ $validate_fqdn == ""True"" ]];thenif [[ $validate_ntp == ""True"" ]];then",5,5
openstack%2Fsahara-tests~master~I1b23c2e457ceb6cf396addd5daa6d7bd36989167,openstack/sahara-tests,master,I1b23c2e457ceb6cf396addd5daa6d7bd36989167,scenario tests: allow to use boot_from_volume on NGT,MERGED,2019-04-10 10:07:24.000000000,2019-06-27 18:45:34.000000000,2019-06-27 18:45:34.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-04-10 10:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/d9d55053b89d482719ae998f627cb79b6584410a', 'message': 'Support boot-from-volume for scenario tests\n\nWhen API v2 is used, volumes can be used instead of images.\nAllow scenario tests to use them.\n\nChange-Id: I1b23c2e457ceb6cf396addd5daa6d7bd36989167\n'}, {'number': 2, 'created': '2019-04-10 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/052c46a9395f9438f81f0bf1970e18df64b14dcf', 'message': 'Support boot-from-volume for scenario tests\n\nWhen API v2 is used, volumes can be used instead of images.\nAllow scenario tests to use them.\n\nChange-Id: I1b23c2e457ceb6cf396addd5daa6d7bd36989167\n'}, {'number': 3, 'created': '2019-06-26 13:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/59401cd68f8526b1595fda70638a7398b04cda38', 'message': 'scenario tests: allow to use boot_from_volume on NGT\n\nNode group templates can get boot_from_volume. It works only\nwhen API v2 is enabled.\n\nChange-Id: I1b23c2e457ceb6cf396addd5daa6d7bd36989167\n'}, {'number': 4, 'created': '2019-06-26 13:37:20.000000000', 'files': ['sahara_tests/scenario/validation.py', 'sahara_tests/unit/scenario/test_base.py', 'releasenotes/notes/scenario-boot-from-volume-a87c680b03f560a0.yaml', 'sahara_tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/4ed9f32b3c12ba45d097c8993e63551e6dfff273', 'message': 'scenario tests: allow to use boot_from_volume on NGT\n\nThe key boot_from_volume can now be configured when defining\nnode group templates.\nThi change works only when API v2 is enabled.\n\nChange-Id: I1b23c2e457ceb6cf396addd5daa6d7bd36989167\n'}]",0,651487,4ed9f32b3c12ba45d097c8993e63551e6dfff273,21,4,4,10459,,,0,"scenario tests: allow to use boot_from_volume on NGT

The key boot_from_volume can now be configured when defining
node group templates.
Thi change works only when API v2 is enabled.

Change-Id: I1b23c2e457ceb6cf396addd5daa6d7bd36989167
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/87/651487/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/scenario-boot-from-volume-45378792ea07c353.yaml', 'sahara_tests/unit/scenario/test_base.py', 'sahara_tests/scenario/clients.py', 'sahara_tests/scenario/base.py']",5,d9d55053b89d482719ae998f627cb79b6584410a,boot-from-volume," self._get_image_or_volume(self.testcase['image']), self.cinder = clients.CinderClient(session=session) def _get_image_or_volume(self, image_volume_name): """"""Retrieve the image. If API v2 is used, it looks for a volume if the image is not available."""""" try: return self.glance.get_image_id(image_volume_name) except exc.NotFound as ex: if not self.use_api_v2: six.raise_from(exc.NotFound, ex) # API v2 is used: look for a volume return self.cinder.get_volume_id(image_volume_name) kwargs['default_image_id'] = self._get_image_or_volume("," self.glance.get_image_id(self.testcase['image']), kwargs['default_image_id'] = self.glance.get_image_id(",67,4
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,stable/stein,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-26 14:03:35.000000000,2019-06-27 18:43:32.000000000,2019-06-27 18:43:32.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-26 14:03:35.000000000', 'files': ['validation-scripts/all-nodes.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f736d4471eee45492fe8d1fc06c54dd91d384a62', 'message': 'Make comparisons case insensitive\n\nIf the values for the conditional checks are ""true"" rather than ""True"",\nthey would be skipped. Let\'s force the variable contents to lowercase to\nremove the possibility of skipping the check when the value is ""true""\n\nChange-Id: I9f288ee2771c0a954beee085b6df650419978422\nCloses-Bug: #1833441\n(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)\n'}]",0,667622,f736d4471eee45492fe8d1fc06c54dd91d384a62,9,4,1,14985,,,0,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
(cherry picked from commit 7ac8cf9c281f97b320192ca088c72a1bdf8de9f3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/667622/1 && git format-patch -1 --stdout FETCH_HEAD,['validation-scripts/all-nodes.sh'],1,f736d4471eee45492fe8d1fc06c54dd91d384a62,bug/1833441," if [[ ""${in_network,,}"" == ""true"" ]]; thenif [[ ""${validate_gateways_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_controllers_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_fqdn,,}"" == ""true"" ]];thenif [[ ""${validate_ntp,,}"" == ""true"" ]];then"," if [[ $in_network == ""True"" ]]; thenif [[ $validate_gateways_icmp == ""True"" ]];thenif [[ $validate_controllers_icmp == ""True"" ]];thenif [[ $validate_fqdn == ""True"" ]];thenif [[ $validate_ntp == ""True"" ]];then",5,5
openstack%2Fpython-openstackclient~master~Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058,openstack/python-openstackclient,master,Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058,Fix bug in endpoint group deletion,MERGED,2019-04-26 12:11:01.000000000,2019-06-27 18:36:30.000000000,2019-05-17 21:33:34.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 5575}, {'_account_id': 6482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 12:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/29049a322d6cde5b3934a89160490d8669decf7d', 'message': ""Fix bug in endpoint group deletion\n\nThere is a typo in the endpoint group deletion, due to this you\ncan't remove endpoint groups once assigned. I am adding also the\nunit tests to avoid this kind of issues in the future\n\nTask: 30640\nStory: 2005521\n\nChange-Id: Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058\n""}, {'number': 2, 'created': '2019-04-26 12:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bfedf28e63e7a8ec0a913983e770cafe47366456', 'message': ""Fix bug in endpoint group deletion\n\nThere is a typo in the endpoint group deletion, due to this you\ncan't remove endpoint groups once assigned. I am adding also the\nunit tests to avoid this kind of issues in the future\n\nTask: 30640\nStory: 2005521\n\nChange-Id: Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058\n""}, {'number': 3, 'created': '2019-05-08 21:22:46.000000000', 'files': ['openstackclient/identity/v3/endpoint_group.py', 'openstackclient/tests/unit/identity/v3/test_endpoint_group.py', 'openstackclient/tests/unit/identity/v3/fakes.py', 'releasenotes/notes/bug-2005521-0274fc26bd9b3842.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/04e03b2a1fe34046e2148d3c1d17b9053010c8af', 'message': ""Fix bug in endpoint group deletion\n\nThere is a typo in the endpoint group deletion, due to this you\ncan't remove endpoint groups once assigned. I am adding also the\nunit tests to avoid this kind of issues in the future\n\nTask: 30640\nStory: 2005521\nChange-Id: Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058\n""}]",0,655889,04e03b2a1fe34046e2148d3c1d17b9053010c8af,19,5,3,5575,,,0,"Fix bug in endpoint group deletion

There is a typo in the endpoint group deletion, due to this you
can't remove endpoint groups once assigned. I am adding also the
unit tests to avoid this kind of issues in the future

Task: 30640
Story: 2005521
Change-Id: Ie938f2c9894bb39b4c0ed1f7aa3a6a751a303058
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/655889/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/endpoint_group.py', 'openstackclient/tests/unit/identity/v3/test_endpoint_group.py', 'openstackclient/tests/unit/identity/v3/fakes.py']",3,29049a322d6cde5b3934a89160490d8669decf7d,fix_endpoint_group,"endpoint_group_filters_2 = { 'region_id': endpoint_region, } endpoint_group_file_path = '/tmp/path/to/file'class FakeEndpointGroup(object): """"""Fake one or more endpoint group."""""" @staticmethod def create_one_endpointgroup(attrs=None): """"""Create a fake endpoint group. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object, with id, url, and so on """""" attrs = attrs or {} # set default attributes. endpointgroup_info = { 'id': 'endpoint-group-id-' + uuid.uuid4().hex, 'name': 'endpoint-group-name-' + uuid.uuid4().hex, 'filters': { 'region': 'region-' + uuid.uuid4().hex, 'service_id': 'service-id-' + uuid.uuid4().hex, }, 'description': 'endpoint-group-description-' + uuid.uuid4().hex, 'links': 'links-' + uuid.uuid4().hex, } endpointgroup_info.update(attrs) endpoint = fakes.FakeResource(info=copy.deepcopy(endpointgroup_info), loaded=True) return endpoint @staticmethod def create_one_endpointgroup_filter(attrs=None): """"""Create a fake endpoint project relationship. :param Dictionary attrs: A dictionary with all attributes of endpointgroup filter :return: A FakeResource object with project, endpointgroup and so on """""" attrs = attrs or {} # Set default attribute endpointgroup_filter_info = { 'project': 'project-id-' + uuid.uuid4().hex, 'endpointgroup': 'endpointgroup-id-' + uuid.uuid4().hex, } # Overwrite default attributes if there are some attributes set endpointgroup_filter_info.update(attrs) endpointgroup_filter = fakes.FakeModel( copy.deepcopy(endpointgroup_filter_info)) return endpointgroup_filter ",,557,3
openstack%2Fsahara-tests~master~I9b97c0241cdd99d5def8831de42be49e04a50465,openstack/sahara-tests,master,I9b97c0241cdd99d5def8831de42be49e04a50465,Scenario tests: add the test templates for Stein,MERGED,2019-04-10 10:40:34.000000000,2019-06-27 18:22:10.000000000,2019-06-27 18:22:10.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-04-10 10:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/885bed40fa508373aaa18d23168386dda1fdf7c2', 'message': 'Scenario tests: add the test templates for Stein\n\n- add the needed new templates for Stein (basically a copy of the Rocky\n  ones).\n- remove the Ocata test templates.\n\nChange-Id: I9b97c0241cdd99d5def8831de42be49e04a50465\n'}, {'number': 2, 'created': '2019-05-02 16:08:51.000000000', 'files': ['sahara_tests/scenario/defaults/stein/ambari-2.5.yaml.mako', 'sahara_tests/scenario/defaults/pike/cdh-5.11.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/spark-2.3.yaml.mako', 'sahara_tests/scenario/defaults/stein/cdh-5.9.0.yaml.mako', 'sahara_tests/scenario/defaults/ocata/cdh-5.7.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/vanilla-2.8.2.yaml.mako', 'sahara_tests/scenario/defaults/queens/cdh-5.11.0.yaml.mako', 'sahara_tests/scenario/defaults/storm-1.2.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/ambari-2.6.yaml.mako', 'sahara_tests/scenario/defaults/stein/ambari-2.3.yaml.mako', 'sahara_tests/scenario/defaults/rocky/cdh-5.11.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/spark-2.2.yaml.mako', 'sahara_tests/scenario/defaults/stein/ambari-2.4.yaml.mako', 'sahara_tests/scenario/defaults/stein/storm-1.1.0.yaml.mako', 'releasenotes/notes/test-templates-stein-751a4344bfcca652.yaml', 'sahara_tests/scenario/defaults/stein/storm-1.2.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/vanilla-2.7.5.yaml.mako', 'sahara_tests/scenario/defaults/stein/cdh-5.13.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/cdh-5.11.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/mapr-5.2.0.mrv2.yaml.mako', 'sahara_tests/scenario/defaults/cdh-5.11.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/vanilla-2.7.1.yaml.mako'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/4680504fd4760a58133d33a29ba669f8d8b1e3c1', 'message': 'Scenario tests: add the test templates for Stein\n\n- add the needed new templates for Stein (basically a copy of the Rocky\n  ones).\n- remove the Ocata test templates.\n- fix the name of the storm 1.2 image variable for stein and master.\n- (minor change) fix a comments for CDH 5.11 on all supported versions.\n\nChange-Id: I9b97c0241cdd99d5def8831de42be49e04a50465\n'}]",9,651493,4680504fd4760a58133d33a29ba669f8d8b1e3c1,11,4,2,10459,,,0,"Scenario tests: add the test templates for Stein

- add the needed new templates for Stein (basically a copy of the Rocky
  ones).
- remove the Ocata test templates.
- fix the name of the storm 1.2 image variable for stein and master.
- (minor change) fix a comments for CDH 5.11 on all supported versions.

Change-Id: I9b97c0241cdd99d5def8831de42be49e04a50465
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/93/651493/2 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_tests/scenario/defaults/stein/ambari-2.5.yaml.mako', 'sahara_tests/scenario/defaults/stein/spark-2.3.yaml.mako', 'sahara_tests/scenario/defaults/stein/cdh-5.9.0.yaml.mako', 'sahara_tests/scenario/defaults/ocata/cdh-5.7.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/vanilla-2.8.2.yaml.mako', 'sahara_tests/scenario/defaults/stein/ambari-2.6.yaml.mako', 'sahara_tests/scenario/defaults/stein/ambari-2.3.yaml.mako', 'sahara_tests/scenario/defaults/stein/spark-2.2.yaml.mako', 'sahara_tests/scenario/defaults/stein/ambari-2.4.yaml.mako', 'sahara_tests/scenario/defaults/stein/storm-1.1.0.yaml.mako', 'releasenotes/notes/test-templates-stein-751a4344bfcca652.yaml', 'sahara_tests/scenario/defaults/stein/storm-1.2.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/vanilla-2.7.5.yaml.mako', 'sahara_tests/scenario/defaults/stein/cdh-5.13.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/cdh-5.11.0.yaml.mako', 'sahara_tests/scenario/defaults/stein/mapr-5.2.0.mrv2.yaml.mako', 'sahara_tests/scenario/defaults/stein/vanilla-2.7.1.yaml.mako']",17,885bed40fa508373aaa18d23168386dda1fdf7c2,scenario-stein-support,,,227,121
openstack%2Ftripleo-common~master~I92ac45255bef5186dccbcd3ca0f8aa149e59de54,openstack/tripleo-common,master,I92ac45255bef5186dccbcd3ca0f8aa149e59de54,Add vip_data template to tripleo-hieradata,MERGED,2019-06-19 21:09:09.000000000,2019-06-27 18:03:13.000000000,2019-06-27 18:03:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-19 21:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d9bc6c0f82e09a20e7d3227257957d2759011880', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 2, 'created': '2019-06-20 01:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1264e3745f66c15727927f2262aee39d18b1a5ae', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 3, 'created': '2019-06-20 12:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3291020c42b6abaf91c070ea20a5917ae3ad7ce3', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 4, 'created': '2019-06-21 18:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6144a8aeae746651bb80c17fa6e827b023e484d6', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 5, 'created': '2019-06-22 12:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/07da5925a57dabb201c0aa59c024ff40a334a1d8', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 6, 'created': '2019-06-22 12:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7defe5bd2b153a672f1d4fb46dba0a6aca2e3e53', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 7, 'created': '2019-06-24 22:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/932447a93aeb655dac465cec5de028f42f0959ca', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 8, 'created': '2019-06-26 19:05:01.000000000', 'files': ['roles/tripleo-hieradata/templates/vip_data.j2', 'roles/tripleo-hieradata/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a0100c43a823a28560ebb9b6c3256582596cc855', 'message': 'Add vip_data template to tripleo-hieradata\n\nAdds a jinja2 template for the vip_data hieradata file.\n\nChange-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}]",0,666445,a0100c43a823a28560ebb9b6c3256582596cc855,28,6,8,7144,,,0,"Add vip_data template to tripleo-hieradata

Adds a jinja2 template for the vip_data hieradata file.

Change-Id: I92ac45255bef5186dccbcd3ca0f8aa149e59de54
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/666445/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-hieradata/templates/vip_data.j2', 'roles/tripleo-hieradata/tasks/hieradata_vars.yaml']",2,d9bc6c0f82e09a20e7d3227257957d2759011880,bp/reduce-deployment-resources,- name: Render hieradata from template - vip_data,- name: Render all_nodes hieradata from template,53,1
openstack%2Fdesignate~master~I20c297bd3f802779b53613f1b705d835cfdedfa0,openstack/designate,master,I20c297bd3f802779b53613f1b705d835cfdedfa0,Rewrote bind9 backend unit tests,MERGED,2019-06-18 05:46:58.000000000,2019-06-27 17:51:58.000000000,2019-06-27 17:51:58.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30596}]","[{'number': 1, 'created': '2019-06-18 05:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d787945e1fc57c412cb3c088cc9e21d68530adbd', 'message': 'Rewrote bind9 backend unit tests\n\n* Re-wrote bind9 tests.\n* Removed functional test.\n* Minor updates to other tests for consistency.\n\nChange-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0\n'}, {'number': 2, 'created': '2019-06-18 05:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b9fdba8959e0c7824bf5935d65c8877618c680f9', 'message': 'Rewrote bind9 backend unit tests\n\n* Re-wrote bind9 tests.\n* Removed functional test, as this is already covered.\n* Minor updates to other tests for consistency.\n\nChange-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0\n'}, {'number': 3, 'created': '2019-06-18 06:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/98c38ddd6c08ae2cdac64d6274bea7aef0b51718', 'message': 'Rewrote bind9 backend unit tests\n\n* Re-wrote bind9 tests.\n* Removed functional test, as this is already covered.\n* Minor updates to other tests for consistency.\n\nChange-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0\n'}, {'number': 4, 'created': '2019-06-18 18:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cece6d62141510957d1adbd8ace2786a01f160e0', 'message': 'Rewrote bind9 backend unit tests\n\n* Re-wrote bind9 tests.\n* Removed functional test, as this is already covered.\n* Minor updates to other tests for consistency.\n\nChange-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0\n'}, {'number': 5, 'created': '2019-06-24 00:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/41b67e69fdc7cc689d5926806bf2a8dfc7116699', 'message': 'Rewrote bind9 backend unit tests\n\n* Re-wrote bind9 tests.\n* Removed functional test, as this is already covered.\n* Minor updates to other tests for consistency.\n\nChange-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0\n'}, {'number': 6, 'created': '2019-06-25 20:28:01.000000000', 'files': ['designate/tests/unit/backend/test_bind9.py', 'designate/tests/unit/backend/test_pdns4.py', 'designate/tests/test_backend/test_bind9.py', 'designate/tests/unit/backend/test_nsd4.py', 'designate/tests/unit/backend/test_infoblox.py', 'designate/tests/unit/backend/test_dynect.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/08684a2c8e1f33362e142ae6e50f5067e9424860', 'message': 'Rewrote bind9 backend unit tests\n\n* Re-wrote bind9 tests.\n* Removed functional test, as this is already covered.\n* Minor updates to other tests for consistency.\n\nChange-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0\n'}]",0,665865,08684a2c8e1f33362e142ae6e50f5067e9424860,16,4,6,22623,,,0,"Rewrote bind9 backend unit tests

* Re-wrote bind9 tests.
* Removed functional test, as this is already covered.
* Minor updates to other tests for consistency.

Change-Id: I20c297bd3f802779b53613f1b705d835cfdedfa0
",git fetch https://review.opendev.org/openstack/designate refs/changes/65/665865/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/backend/test_bind9.py', 'designate/tests/unit/backend/test_pdns4.py', 'designate/tests/test_backend/test_bind9.py', 'designate/tests/unit/backend/test_nsd4.py', 'designate/tests/unit/backend/test_infoblox.py', 'designate/tests/unit/backend/test_dynect.py']",6,d787945e1fc57c412cb3c088cc9e21d68530adbd,improved_tests,import designate.testsclass DynECTTestsCase(designate.tests.TestCase):,from designate import testsclass DynECTTestsCase(tests.TestCase):,239,166
openstack%2Fnova~master~I9d6cd6259659a35383c0c9c21db72a9434ba86b1,openstack/nova,master,I9d6cd6259659a35383c0c9c21db72a9434ba86b1,Enhance service restart in functional env,MERGED,2017-10-17 09:09:53.000000000,2019-06-27 17:50:19.000000000,2019-06-27 17:50:19.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17685}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-17 09:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26824c716a1729c37c24982f98052cb1c07ac324', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequnt patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 2, 'created': '2017-10-17 13:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15d46befc75485cf3c9d16291b77008617bbafb1', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequnt patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 3, 'created': '2017-10-17 15:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3890f1a60c9bea1b7732ef8135cbe9af918e7493', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequnt patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 4, 'created': '2018-01-29 16:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/571fbdbf055978c847bc440a5db0ef5011313f0d', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 5, 'created': '2018-03-07 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21af5d23ea9a0f1fe66befea0ae7c85222365ca3', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 6, 'created': '2018-04-25 13:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/776f45646932539103de12f09fa6d331b65ee9ff', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 7, 'created': '2018-04-26 08:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bedab0f47be09efe26b7e6e891da1900c8065ee1', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 8, 'created': '2018-07-03 12:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fb8799ce6c2109c02eb1c0788f86d9f7cb81a04', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 9, 'created': '2018-07-16 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7e396b062b3f91caebfb327eccb254cdd12f47b', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 10, 'created': '2018-07-30 11:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/566b8b6404ea4325075bc2298b8c6998d39cc54d', 'message': 'Enhance service restart in functional env\n\nRecent bug showed that restarting a compute service in the functional\nenv is unrealistic causing faults to slip through. During that bug fix\nonly the minimal change was done in the functional env regarding\ncompute service restart to reproduce the reported fault. However the\nrestart of the compute service could be made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stoping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 11, 'created': '2019-05-01 21:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3077cb3e7384235d9b7a82fa196149a95054b2fb', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 12, 'created': '2019-05-23 09:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf0c20473c4841241891bf0d8babfb96eeb4217d', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 13, 'created': '2019-05-23 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/179cb4ac0a144d19f0d47da47deb4e95eeb0a9cf', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 14, 'created': '2019-05-28 16:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/316aca697c69f4dc35fd12d7a2d550637b9c062a', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 15, 'created': '2019-05-30 07:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e749723a144a6df5df4b0fa340bc0b2e7cf3330', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 16, 'created': '2019-06-05 14:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5798467774020bf3016a9daf81632eb109ab89b2', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 17, 'created': '2019-06-20 09:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7509108f8f325aeff9052f71b31c4be5fe3754c3', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}, {'number': 18, 'created': '2019-06-25 16:11:02.000000000', 'files': ['doc/notification_samples/libvirt-connect-error.json', 'nova/test.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2794748d9c58623045023f34c7793c58ce41447c', 'message': 'Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n'}]",21,512552,2794748d9c58623045023f34c7793c58ce41447c,266,25,18,9708,,,0,"Enhance service restart in functional env

Bugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting
a compute service in the functional env is unrealistic causing faults
to slip through. During that bug fix only the minimal change was done
in the functional env regarding compute service restart to reproduce
the reported fault. However the restart of the compute service could
be made even more realistic.

This patch simulates a compute service restart in the functional env
by stopping the original compute service and starting a totally new
compute service for the same host and node. This way we can make sure
that we get a brand new ComputeManager in the new service and no
state can leak between the old and the new service.

This change revealed another shortcoming of the functional env.
In the real world the nova-compute service could be restarted without
loosing any running servers on the compute host. But with the naive
implementation of this change the compute service is re-created. This
means that a new ComputeManager is instantiated that loads a new
FakeDriver instance as well. That new FakeDriver instance then reports
an empty hypervisor. This behavior is not totally unrealistic as it
simulates such a compute host restart that cleans the hypervisor state
as well (e.g. compute host redeployment). However this type of restart
shows another bug in the code path that destroys and deallocates
evacuated instance from the source host. Therefore this patch
implements the compute service restart in a way that simulates only a
service restart and not a full compute restart. A subsequent patch will
add a test that uses the clean hypervisor case to reproduces the
revealed bug.

Related-Bug: #1724172
Change-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/512552/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/functional/test_servers.py']",2,26824c716a1729c37c24982f98052cb1c07ac324,bug/1724172, self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1), self.restart_compute_service(self.compute1) self.restart_compute_service(self.compute1) self.restart_compute_service(self.compute1) self.restart_compute_service(self.compute1),50,15
openstack%2Fnova~master~I2cf2fcbaebc706f897ce5dfbff47d32117064f9c,openstack/nova,master,I2cf2fcbaebc706f897ce5dfbff47d32117064f9c,Remove global state from the FakeDriver,MERGED,2019-05-01 21:17:29.000000000,2019-06-27 17:50:11.000000000,2019-06-27 17:50:11.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25314}, {'_account_id': 26515}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-01 21:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7efd2cd65c189e3a041db719c348c1e57c0c2274', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the node names the driver reports.\nThis was hard to when more then one compute service is started. Also\nglobal state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this patch replaces the global state with mocking.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 2, 'created': '2019-05-01 21:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/746054c173f1d8e580f054c7ba759274c33a3f3d', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the node names the driver reports.\nThis was hard to when more then one compute service is started. Also\nglobal state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this patch replaces the global state with mocking.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 3, 'created': '2019-05-23 09:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c100095038fd2e301816a14b34cc27129cb3e355', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 4, 'created': '2019-05-23 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/714d4f3454ce82af19f0536c5b084dc3991ae9f3', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 5, 'created': '2019-05-28 16:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14fcd4c24b7714975e58da4042799b02b0464fac', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 6, 'created': '2019-06-05 14:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3eba7566e5bdc5819e26473a5e5ac0ae06c61326', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 7, 'created': '2019-06-20 09:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/294ddf2e96aacca1e3724fcd5221e7e26929328a', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}, {'number': 8, 'created': '2019-06-21 08:39:24.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/regressions/test_bug_1718455.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/functional/regressions/test_bug_1797580.py', 'nova/test.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/tests/functional/regressions/test_bug_1669054.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1702454.py', 'nova/tests/functional/regressions/test_bug_1735407.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/virt/fake.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1815153.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5666fb49239dbed6777481be63276db35ed8118', 'message': 'Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n'}]",10,656709,b5666fb49239dbed6777481be63276db35ed8118,122,23,8,9708,,,0,"Remove global state from the FakeDriver

The virt driver FakeDriver used in both the functional and in the unit
test used a global state to configure the host and node names the driver
reports. This was hard to use when more then one compute service is started.
Also global state is dangerous.

It turned out that only a set of unit tests are using multiple nodes per
compute the rest of the tests can simply use host=<hostname>,
nodes=[<hostname>] setup.

So this removes the global state.

Change-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/656709/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/regressions/test_bug_1718455.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/functional/regressions/test_bug_1797580.py', 'nova/test.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/tests/functional/regressions/test_bug_1669054.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1702454.py', 'nova/tests/functional/regressions/test_bug_1735407.py', 'nova/virt/fake.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1815153.py']",28,7efd2cd65c189e3a041db719c348c1e57c0c2274,bug/1724172," for host in ('host1', 'host2', 'host3'):"," self.addCleanup(fake.restore_nodes) for host in ('host1', 'host2', 'host3'): fake.set_nodes([host])",20,134
openstack%2Ftripleo-common~master~I6e1e1c28dc09c9e04119db910068d62409a5afc8,openstack/tripleo-common,master,I6e1e1c28dc09c9e04119db910068d62409a5afc8,Add all_nodes template to tripleo-hieradata.,MERGED,2019-06-13 16:40:57.000000000,2019-06-27 17:46:58.000000000,2019-06-27 17:46:58.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-13 16:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f78f35d0d1228bfd0502005982ba4d14247e0ee', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 2, 'created': '2019-06-13 16:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cbb2bf649ec5c7cb37e45a6fb6a8d51782178101', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 3, 'created': '2019-06-17 12:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7436b1fe491bc8c959c1b46f53604d04b904252e', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 4, 'created': '2019-06-17 12:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cdcdfde725684894ba7c1c383be32dc59d60ba56', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 5, 'created': '2019-06-17 12:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/17292c92dbcf9328f67cb58c13971305d08aef52', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 6, 'created': '2019-06-19 11:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecea50c0da7920f71d441532ae7504a36dc0e6bb', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 7, 'created': '2019-06-19 13:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9a05b81c49dd26bd8fda9b549dd261444c60cb9', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 8, 'created': '2019-06-20 12:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f78ee3ffd5a115a5bf1fe572715a5b38f9b551d', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 9, 'created': '2019-06-21 18:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0217daa93953605cba0c8f072a695797fec36b04', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 10, 'created': '2019-06-22 12:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7638b5a38417af49be700025e49f13069804fe98', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 11, 'created': '2019-06-22 12:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/83abd04f52f214b6f13cfaae93b763e52cb5131f', 'message': ""Add network hostnames to inventory\n\nThe network IP's are already present in the inventory, this change adds\nthe network hostnames as well. These variables will be used by various\ntasks that render hiera data dynamically based on the Ansible inventory\nonly.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 12, 'created': '2019-06-24 22:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/662b9fa1999a2b756214e947aa1679c44dac93dc', 'message': ""Add all_nodes template to tripleo-hieradata.\n\nAdd a template for the all_nodes hieradata to tripleo-hieradata.\n\nThe network hostnames are also added to the inventory as these vars are\nneeded by the template. The network IP's are already present in the\ninventory. These variables will be used by various tasks that render\nhiera data dynamically based on the Ansible inventory only.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}, {'number': 13, 'created': '2019-06-26 19:05:01.000000000', 'files': ['roles/tripleo-hieradata/templates/all_nodes.j2', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py', 'roles/tripleo-hieradata/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/008af910e7d95aa523c85e3a912f90aa01d7cb1a', 'message': ""Add all_nodes template to tripleo-hieradata.\n\nAdd a template for the all_nodes hieradata to tripleo-hieradata.\n\nThe network hostnames are also added to the inventory as these vars are\nneeded by the template. The network IP's are already present in the\ninventory. These variables will be used by various tasks that render\nhiera data dynamically based on the Ansible inventory only.\n\nChange-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n""}]",0,665173,008af910e7d95aa523c85e3a912f90aa01d7cb1a,42,7,13,7144,,,0,"Add all_nodes template to tripleo-hieradata.

Add a template for the all_nodes hieradata to tripleo-hieradata.

The network hostnames are also added to the inventory as these vars are
needed by the template. The network IP's are already present in the
inventory. These variables will be used by various tasks that render
hiera data dynamically based on the Ansible inventory only.

Change-Id: I6e1e1c28dc09c9e04119db910068d62409a5afc8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/665173/11 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,6f78f35d0d1228bfd0502005982ba4d14247e0ee,bp/reduce-deployment-resources," # Add variables for hostname on each network for net in role_net_hostname_map[role]: hosts[name].update({ ""%s_hostname"" % net: role_net_hostname_map[role][net][idx]}) ",,6,0
openstack%2Fironic~stable%2Fpike~I42239e0ec960507b7345866d768b3ee06738799b,openstack/ironic,stable/pike,I42239e0ec960507b7345866d768b3ee06738799b,Add bindep.txt,MERGED,2019-06-25 16:35:56.000000000,2019-06-27 17:45:15.000000000,2019-06-27 17:45:15.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 16:35:56.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/43c54ec5cac82777e95c709e8c5b5366bccd6326', 'message': ""Add bindep.txt\n\nThis is a combination of 2 commits to solve the dependency issue, which\ncame up after the announced removal of global bindep-fallback.txt\n\n1. Add bindep.txt file\n\nThis is used by `bindep` [0] to assess if needed system packages are\ninstalled.\nIt should allow easier installation of Python packages on a clean\nsystem from source and help packagers too.\nFor now it is just a copy/merge of `devstack/files/[debs|rpms]/ironic`\nfiles with added platform specifiers.\n\nPackages have been tagged with certain bindep profiles:\n- default - needed to run ironic service in production\n- test - needed to compile Python dependencies and for other tox targets,\n  profile of this name is used by various gate jobs\n- devstack - needed to setup VMs posing as HW nodes by the devstack\n  plugin\n- imagebuild - only needed to build various types of deploy ramdisk\n\nNote that DevStack install procedure currently does not use 'bindep',\nand still relies on files in `devstack/files/...` folder.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\n(cherry picked from commit b2fcf4804f61a0c2ca8f3adfacfe32e191c1b214)\n\n2. Update bindep.txt for doc builds\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\nspecifies that doc dependencies need the doc tag in bindep, use it.\n\nLeave test environment in for transition period until we use the new\nscripts.\n\n(cherry picked from commit 6a48eba4a7cbc9d82740ea579e6f7188ab2e8f2c)\n\nChange-Id: I42239e0ec960507b7345866d768b3ee06738799b\n""}]",0,667403,43c54ec5cac82777e95c709e8c5b5366bccd6326,10,6,1,17685,,,0,"Add bindep.txt

This is a combination of 2 commits to solve the dependency issue, which
came up after the announced removal of global bindep-fallback.txt

1. Add bindep.txt file

This is used by `bindep` [0] to assess if needed system packages are
installed.
It should allow easier installation of Python packages on a clean
system from source and help packagers too.
For now it is just a copy/merge of `devstack/files/[debs|rpms]/ironic`
files with added platform specifiers.

Packages have been tagged with certain bindep profiles:
- default - needed to run ironic service in production
- test - needed to compile Python dependencies and for other tox targets,
  profile of this name is used by various gate jobs
- devstack - needed to setup VMs posing as HW nodes by the devstack
  plugin
- imagebuild - only needed to build various types of deploy ramdisk

Note that DevStack install procedure currently does not use 'bindep',
and still relies on files in `devstack/files/...` folder.

[0] http://docs.openstack.org/infra/bindep/index.html

(cherry picked from commit b2fcf4804f61a0c2ca8f3adfacfe32e191c1b214)

2. Update bindep.txt for doc builds

https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation
specifies that doc dependencies need the doc tag in bindep, use it.

Leave test environment in for transition period until we use the new
scripts.

(cherry picked from commit 6a48eba4a7cbc9d82740ea579e6f7188ab2e8f2c)

Change-Id: I42239e0ec960507b7345866d768b3ee06738799b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/667403/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,43c54ec5cac82777e95c709e8c5b5366bccd6326,bindep-fallback,"# these are needed to run ironic with default ipmitool and (i)PXE boot drivers ipmitool [default] ipxe [platform:dpkg default] ipxe-bootimgs [platform:rpm default] open-iscsi [platform:dpkg default] socat [default] xinetd [default] tftpd-hpa [platform:dpkg default] tftp-server [platform:rpm default] # Starting with Debian Jessie (and thus in Ubuntu Xenial too), # pxelinux package provides the pxelinux.0 boot loader, # but such package is absent from Debian Wheezy / Ubuntu Trusty. # Also, in Debian Wheezy / Ubuntu Trusty 'syslinux' depends on syslinux-common, # but only recommends it in Jessie/Xenial. # Make sure syslinux-common is installed for those distros as it provides # *.c32 modules for syslinux # TODO remove distro pinning when Wheezy / Trusty are EOLed (May 2019) # or DevStack stops supporting those. # In the mean time, new Debian-based release codenames will have to be added # as distros can not be pinned with 'if-later-than' specified. pxelinux [platform:ubuntu-xenial platform:debian-jessie default] syslinux [platform:rpm platform:ubuntu-trusty platform:debian-wheezy default] syslinux-common [platform:ubuntu-xenial platform:debian-jessie default] socat [default] # these are needed to create and access VMs when testing with virtual hardware libvirt-bin [platform:dpkg devstack] libvirt [platform:rpm devstack] libvirt-dev [platform:dpkg devstack] libvirt-devel [platform:rpm devstack] python-libvirt [platform:dpkg devstack] libvirt-python [platform:rpm devstack] qemu [platform:dpkg devstack build-image-dib] qemu-kvm [platform:dpkg devstack] qemu-utils [platform:dpkg devstack build-image-dib] sgabios [devstack] ipxe-qemu [platform:dpkg devstack] edk2-ovmf [platform:rpm devstack] ipxe-roms-qemu [platform:rpm devstack] openvswitch [platform:rpm devstack] iptables [devstack] net-tools [platform:rpm devstack] # these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] libssl-dev [platform:dpkg test] # these are needed by infra for python-* jobs postgresql postgresql-client [platform:dpkg] # postgresql-devel [platform:rpm] postgresql-server [platform:rpm] mariadb [platform:rpm] mariadb-server [platform:rpm] # mariadb-devel [platform:rpm] dev-db/mariadb [platform:gentoo] mysql-client [platform:dpkg] mysql-server [platform:dpkg] # libmysqlclient-dev [platform:dpkg] # gettext and graphviz are needed by doc builds only. For transition, # have them in both doc and test. # TODO(jaegerandi): Remove test once infra scripts are updated. # this is needed for compiling translations gettext [test doc] # this is needed to build the FSM diagram graphviz [!platform:gentoo test doc] # these are needed to build a deploy ramdisk # NOTE apparmor is an undeclared dependency for docker on ubuntu, # see https://github.com/docker/docker/issues/9745 apparmor [platform:dpkg imagebuild] docker.io [platform:dpkg imagebuild] docker-io [platform:rpm imagebuild] gnupg [imagebuild] squashfs-tools [platform:dpkg platform:redhat imagebuild] squashfs [platform:suse imagebuild] libguestfs0 [platform:dpkg imagebuild] libguestfs [platform:rpm imagebuild] python-libguestfs [platform:dpkg imagebuild] # for TinyIPA build wget [imagebuild] python-pip [imagebuild] unzip [imagebuild] sudo [imagebuild] gawk [imagebuild] ",,89,0
openstack%2Fheat~master~I43c93df9c0f7bc4f1c7a52907d58a82bf1393512,openstack/heat,master,I43c93df9c0f7bc4f1c7a52907d58a82bf1393512,Update tools/README.rst with bindep info,MERGED,2019-06-27 16:26:24.000000000,2019-06-27 17:19:11.000000000,2019-06-27 17:19:10.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 16:26:24.000000000', 'files': ['tools/README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/c49e0cbc3e806a578ba8cb46100f7f5330df4e4d', 'message': 'Update tools/README.rst with bindep info\n\nDuring local bindep.txt add [1] the old test-requires-* files were\nremoved, but the README was not updated.\n\n[1] If9befe4115c64c2fda52321002ba5fe1124eaf7c\n\nChange-Id: I43c93df9c0f7bc4f1c7a52907d58a82bf1393512\n'}]",0,667983,c49e0cbc3e806a578ba8cb46100f7f5330df4e4d,6,2,1,17685,,,0,"Update tools/README.rst with bindep info

During local bindep.txt add [1] the old test-requires-* files were
removed, but the README was not updated.

[1] If9befe4115c64c2fda52321002ba5fe1124eaf7c

Change-Id: I43c93df9c0f7bc4f1c7a52907d58a82bf1393512
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/667983/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/README.rst'],1,c49e0cbc3e806a578ba8cb46100f7f5330df4e4d,,To test that every Linux package is installed that is necessary to successfully run heat's unit test suit on a clean new Linux distribution run ``tox -e bindep``. This will report missing dependencies (based on bindep.txt in heat repository).,Lists of Linux packages to install in order to successfully run heat's unit test suit on a clean new Linux distribution. test-requires-deb list of DEB packages as of Ubuntu 14.04 Trusty test-requires-rpm list of RPM packages as of Fedora 20,4,8
openstack%2Fcloudkitty~master~I99bff44b24d3dcec2da97281f0b491ac333ed395,openstack/cloudkitty,master,I99bff44b24d3dcec2da97281f0b491ac333ed395,Add a v2 summary endpoint,MERGED,2019-05-22 08:51:59.000000000,2019-06-27 17:19:06.000000000,2019-06-27 17:19:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-05-22 08:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/64f03e0c0316b1ae84385cca032175218fccefd7', 'message': 'Add a v2 summary endpoint\n\nThis adds an endpoint on /v2/summary\n\nChange-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395\nStory: 2005664\nTask: 30961\n'}, {'number': 2, 'created': '2019-05-23 14:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a44e620d1864dacb72f43aa0518bca3a76d35eb1', 'message': 'Add a v2 summary endpoint\n\nThis adds an endpoint on /v2/summary\n\nChange-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395\nStory: 2005664\nTask: 30961\n'}, {'number': 3, 'created': '2019-05-28 13:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bb5c187f32eea750c74d1361c76cdec0d669b0f1', 'message': 'Add a v2 summary endpoint\n\nThis adds an endpoint on /v2/summary\n\nChange-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395\nStory: 2005664\nTask: 30961\n'}, {'number': 4, 'created': '2019-05-28 15:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/fb98e3768717798345cfed704d5b2c65f124bcd3', 'message': 'Add a v2 summary endpoint\n\nThis adds an endpoint on /v2/summary\n\nChange-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395\nStory: 2005664\nTask: 30961\n'}, {'number': 5, 'created': '2019-06-06 08:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1ce563da2564ed3ef6d369d8b2b4fa61cb424655', 'message': 'Add a v2 summary endpoint\n\nThis adds an endpoint on /v2/summary, as a replacement for /v1/summary.\nIt allows to retrieve a summary from the cloudkitty, which can be grouped on\ncustom attributes and filters.\n\nChange-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395\nStory: 2005664\nTask: 30961\n'}, {'number': 6, 'created': '2019-06-26 15:05:28.000000000', 'files': ['cloudkitty/api/v2/utils.py', 'doc/source/api-reference/v2/api_samples/summary/summary_get.json', 'cloudkitty/common/policies/v2/summary.py', 'doc/source/_static/cloudkitty.policy.yaml.sample', 'cloudkitty/api/v2/__init__.py', 'cloudkitty/api/v2/summary/__init__.py', 'doc/source/api-reference/v2/summary/summary_parameters.yml', 'doc/source/api-reference/v2/index.rst', 'cloudkitty/api/v2/base.py', 'cloudkitty/common/policies/__init__.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/api/v2/test_utils.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/tests/gabbi/gabbits/v2-summary.yaml', 'doc/source/api-reference/v2/summary/summary.inc'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/acd2fec6a13a805e1de405efca40795c3d0b0fc6', 'message': 'Add a v2 summary endpoint\n\nThis adds an endpoint on /v2/summary, as a replacement for /v1/summary.\nIt allows to retrieve a summary from the cloudkitty, which can be grouped on\ncustom attributes and filters.\n\nChange-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395\nStory: 2005664\nTask: 30961\n'}]",0,660608,acd2fec6a13a805e1de405efca40795c3d0b0fc6,22,3,6,23060,,,0,"Add a v2 summary endpoint

This adds an endpoint on /v2/summary, as a replacement for /v1/summary.
It allows to retrieve a summary from the cloudkitty, which can be grouped on
custom attributes and filters.

Change-Id: I99bff44b24d3dcec2da97281f0b491ac333ed395
Story: 2005664
Task: 30961
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/08/660608/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v2/utils.py', 'cloudkitty/common/policies/v2/summary.py', 'cloudkitty/tests/api/v2/test_utils.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/tests/gabbi/gabbits/v2-summary.yaml', 'cloudkitty/api/v2/__init__.py', 'cloudkitty/api/v2/summary/__init__.py', 'cloudkitty/api/v2/base.py', 'cloudkitty/common/policies/__init__.py', 'cloudkitty/tests/gabbi/fixtures.py']",10,64f03e0c0316b1ae84385cca032175218fccefd7,,"from cloudkitty.tests.storage.v2 import influx_utilsclass InfluxStorageDataFixture(NowStorageDataFixture): def start_fixture(self): cli = influx_utils.FakeInfluxClient() st = storage.get_storage() st._conn = cli self._get_storage_patch = mock.patch( 'cloudkitty.storage.get_storage', new=lambda **kw: st, ) self._get_storage_patch.start() super(InfluxStorageDataFixture, self).start_fixture() def initialize_data(self): data = test_utils.generate_v2_storage_data( start=ck_utils.get_month_start(), end=ck_utils.utcnow().replace(hour=0), ) self.storage.push([data]) def stop_fixture(self): self._get_storage_patch.stop() ",,351,0
openstack%2Fcinder~master~I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422,openstack/cinder,master,I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422,rename ScaleIO driver to VxFlex OS,MERGED,2019-02-01 11:15:09.000000000,2019-06-27 17:09:39.000000000,2019-06-27 17:09:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23253}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29675}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-02-01 11:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b77d12c850fd57899b1f555de66fa210075ad8e', 'message': 'rename ScaleIO driver to VxFlex Os\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 2, 'created': '2019-02-04 13:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9cf7b2152c042fcc54fccdcb6b292c84dae3c8b', 'message': 'rename ScaleIO driver to VxFlex Os\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 3, 'created': '2019-02-11 06:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/677297f118822803df5b32412c0dad8d959f7e5c', 'message': 'rename ScaleIO driver to VxFlex Os\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 4, 'created': '2019-02-21 07:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3ddae31ac5bc15593db14faf6330a2d1dfd6a37', 'message': 'rename ScaleIO driver to VxFlex Os\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 5, 'created': '2019-03-01 17:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34fccb22ef64fd89bb550af241c7e9d5ce898613', 'message': 'rename ScaleIO driver to VxFlex Os\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 6, 'created': '2019-03-11 08:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b4f02536296717c754c593538df46078ff03f4c', 'message': 'rename ScaleIO driver to VxFlex Os\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 7, 'created': '2019-03-19 15:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4102fa4c76375be26421db2e8b7d84cc0f55f80', 'message': 'rename ScaleIO driver to VxFlex OS\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 8, 'created': '2019-03-20 07:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f70a91a84289bdfc6879968bcd6386b3502f079', 'message': 'rename ScaleIO driver to VxFlex OS\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 9, 'created': '2019-05-06 06:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a5e6333304f125a002d1b7aae7d2df59bbc77a4', 'message': 'rename ScaleIO driver to VxFlex OS\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 10, 'created': '2019-06-06 08:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78fa218d131fc77b69b5c2bfc35314510d8a15ba', 'message': 'rename ScaleIO driver to VxFlex OS\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}, {'number': 11, 'created': '2019-06-11 16:21:09.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_volume.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_attach_detach_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_initialize_connection_snapshot.py', 'cinder/volume/drivers/dell_emc/vxflexos/options.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_versions.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_get_manageable.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/mocks.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_delete_snapshot.py', 'doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst', 'cinder/volume/drivers/dell_emc/vxflexos/__init__.py', 'cinder/volume/drivers/dell_emc/vxflexos/simplecache.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_misc.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_initialize_connection.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_extend_volume.py', 'cinder/volume/drivers/dell_emc/vxflexos/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_manage_existing.py', 'releasenotes/notes/scaleio-vxflexos-rebrand-27dfe2b82d35b6a2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_groups.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_manage_existing_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0eaca453bc1e8a45d8883d95080d0cab01dadcd7', 'message': 'rename ScaleIO driver to VxFlex OS\n\nRename ScaleIO driver to VxFlex OS and move it to\nanother location. Change configuration options names.\n\nChange-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422\nImplements: blueprint scaleio-vxflexos-rebrand\n'}]",25,634397,0eaca453bc1e8a45d8883d95080d0cab01dadcd7,423,54,11,29675,,,0,"rename ScaleIO driver to VxFlex OS

Rename ScaleIO driver to VxFlex OS and move it to
another location. Change configuration options names.

Change-Id: I9fc2ac1ea0945c7e38971db3d83dfd9fe6f6b422
Implements: blueprint scaleio-vxflexos-rebrand
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/634397/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_attach_detach_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_initialize_connection_snapshot.py', 'cinder/volume/drivers/dell_emc/vxflexos/options.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_versions.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_get_manageable.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/mocks.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_delete_snapshot.py', 'doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst', 'cinder/volume/drivers/dell_emc/vxflexos/__init__.py', 'cinder/volume/drivers/dell_emc/vxflexos/simplecache.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_misc.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_initialize_connection.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_extend_volume.py', 'cinder/volume/drivers/dell_emc/vxflexos/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_manage_existing.py', 'releasenotes/notes/scaleio-vxflexos-rebrand-27dfe2b82d35b6a2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_groups.py', 'cinder/tests/unit/volume/drivers/dell_emc/vxflexos/test_manage_existing_snapshot.py']",25,3b77d12c850fd57899b1f555de66fa210075ad8e,scaleio_vxflexos_rebrand,"from cinder.tests.unit.volume.drivers.dell_emc import vxflexos from cinder.tests.unit.volume.drivers.dell_emc.vxflexos import mocksclass TestManageExistingSnapshot(vxflexos.TestVxFlexOsDriver): """"""Test cases for ``VxFlexOsDriver.manage_existing_snapshot()``""""""","from cinder.tests.unit.volume.drivers.dell_emc import scaleio from cinder.tests.unit.volume.drivers.dell_emc.scaleio import mocksclass TestManageExistingSnapshot(scaleio.TestScaleIODriver): """"""Test cases for ``ScaleIODriver.manage_existing_snapshot()``""""""",447,300
openstack%2Ftripleo-common~master~Ida6c18a983f6330f54a8eb95b40b56b19dd005cf,openstack/tripleo-common,master,Ida6c18a983f6330f54a8eb95b40b56b19dd005cf,remove plotnetcfg from overcloud image yaml,MERGED,2019-06-24 17:51:58.000000000,2019-06-27 17:06:58.000000000,2019-06-26 15:55:44.000000000,"[{'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 8449}, {'_account_id': 8873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 17:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cf60951df3e94fdf29a0968810c13608783af9f6', 'message': 'remove plotnetcfg from overcloud image yaml\n\nplotnetcfg is no longer required and is\nfailing silently in el7 builds.  Remove it.\n\nCloses-Bug: #1834043\nChange-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf\n'}, {'number': 2, 'created': '2019-06-24 20:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/445c605151a6c147e2eec2e5133bda0338b8b613', 'message': 'remove plotnetcfg from overcloud image yaml\n\nplotnetcfg is no longer required and is\nfailing silently in el7 builds.  Remove it.\n\nCloses-Bug: #1834043\nDepends-On: https://review.opendev.org/667223 \nChange-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf\n'}, {'number': 3, 'created': '2019-06-24 21:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/45d2d23b7e320c8f3de3182b8d08acbcb8f48bfe', 'message': 'remove plotnetcfg from overcloud image yaml\n\nplotnetcfg is no longer required and is\nfailing silently in el7 builds.  Remove it.\n\nCloses-Bug: #1834043\nDepends-On: https://review.opendev.org/#/c/667230/ \nChange-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf\n'}, {'number': 4, 'created': '2019-06-24 21:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fbc788a10960742e9ae1dbb3ce793decf24be453', 'message': 'remove plotnetcfg from overcloud image yaml\n\nplotnetcfg is no longer required and is\nfailing silently in el7 builds.  Remove it.\n\nCloses-Bug: #1834043\nChange-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf\n'}, {'number': 5, 'created': '2019-06-26 08:23:24.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/73f27fe37538b9df60ef15c1d31d392ab6c85ef4', 'message': 'remove plotnetcfg from overcloud image yaml\n\nplotnetcfg is no longer required and is\nfailing silently in el7 builds.  Remove it.\n\nCloses-Bug: #1834043\nChange-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf\n'}]",0,667169,73f27fe37538b9df60ef15c1d31d392ab6c85ef4,20,7,5,9592,,,0,"remove plotnetcfg from overcloud image yaml

plotnetcfg is no longer required and is
failing silently in el7 builds.  Remove it.

Closes-Bug: #1834043
Change-Id: Ida6c18a983f6330f54a8eb95b40b56b19dd005cf
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/667169/4 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml']",5,cf60951df3e94fdf29a0968810c13608783af9f6,bug/1834043,, - plotnetcfg,0,5
openstack%2Fopenstack-helm-infra~master~I3c01ed0ef7c84cf779d88386c14f7c7bd2003310,openstack/openstack-helm-infra,master,I3c01ed0ef7c84cf779d88386c14f7c7bd2003310,Ceph-Clients: Explicity set prom exporter params,MERGED,2019-06-21 20:00:09.000000000,2019-06-27 16:58:52.000000000,2019-06-27 16:58:52.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-21 20:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f305347496b477dd3ad106e98c1e7e51f4ab06c5', 'message': 'Ceph-Clients: Explicity set prom exporter params\n\nOccasionally the default config can result in attempts\nto bind to ipv6 which fail - so we explicity set the\nhost to ipv4.\n\nChange-Id: I3c01ed0ef7c84cf779d88386c14f7c7bd2003310\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-21 20:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83e9a3fa7d68fd08ffb08e9754e93fc2d6e2905a', 'message': 'Ceph-Clients: Explicity set prom exporter params\n\nOccasionally the default config can result in attempts\nto bind to ipv6 which fail - so we explicity set the\nhost to ipv4.\n\nChange-Id: I3c01ed0ef7c84cf779d88386c14f7c7bd2003310\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-27 14:03:58.000000000', 'files': ['ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57e1e3ce401f31d16182f11efa542c7b803d7984', 'message': 'Ceph-Clients: Explicity set prom exporter params\n\nOccasionally the default config can result in attempts\nto bind to ipv6 which fail - so we explicity set the\nhost to ipv4.\n\nChange-Id: I3c01ed0ef7c84cf779d88386c14f7c7bd2003310\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,666911,57e1e3ce401f31d16182f11efa542c7b803d7984,12,5,3,23928,,,0,"Ceph-Clients: Explicity set prom exporter params

Occasionally the default config can result in attempts
to bind to ipv6 which fail - so we explicity set the
host to ipv4.

Change-Id: I3c01ed0ef7c84cf779d88386c14f7c7bd2003310
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/666911/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/values.yaml'],1,f305347496b477dd3ad106e98c1e7e51f4ab06c5,ingress-k8s-13, prometheus: # server_port: 9283 server_addr: 0.0.0.0,# prometheus: # server_port: 9283,3,2
openstack%2Fopenstack-helm~master~I09c8ae14947898b7e63dab9516a4899106e91cf2,openstack/openstack-helm,master,I09c8ae14947898b7e63dab9516a4899106e91cf2,[neutron] Mend rootwrap privsep indentation,MERGED,2019-06-27 09:55:24.000000000,2019-06-27 16:52:56.000000000,2019-06-27 16:52:56.000000000,"[{'_account_id': 7125}, {'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-27 09:55:24.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67ede005513020c5a6bad999b3f6b59aa7681143', 'message': '[neutron] Mend rootwrap privsep indentation\n\nChange-Id: I09c8ae14947898b7e63dab9516a4899106e91cf2\n'}]",0,667833,67ede005513020c5a6bad999b3f6b59aa7681143,8,5,1,16771,,,0,"[neutron] Mend rootwrap privsep indentation

Change-Id: I09c8ae14947898b7e63dab9516a4899106e91cf2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/667833/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,67ede005513020c5a6bad999b3f6b59aa7681143,privsep," privsep: pods: - dhcp_agent - l3_agent - lb_agent - metadata_agent - ovs_agent - sriov_agent content: | # Command filters to allow privsep daemon to be started via rootwrap. # # This file should be owned by (and only-writeable by) the root user [Filters] # By installing the following, the local admin is asserting that: # # 1. The python module load path used by privsep-helper # command as root (as started by sudo/rootwrap) is trusted. # 2. Any oslo.config files matching the --config-file # arguments below are trusted. # 3. Users allowed to run sudo/rootwrap with this configuration(*) are # also allowed to invoke python ""entrypoint"" functions from # --privsep_context with the additional (possibly root) privileges # configured for that context. # # (*) ie: the user is allowed by /etc/sudoers to run rootwrap as root # # In particular, the oslo.config and python module path must not # be writeable by the unprivileged user. # oslo.privsep default neutron context privsep: PathFilter, privsep-helper, root, --config-file, /etc, --privsep_context, neutron.privileged.default, --privsep_sock_path, / # NOTE: A second `--config-file` arg can also be added above. Since # many neutron components are installed like that (eg: by devstack). # Adjust to suit local requirements."," privsep: pods: - dhcp_agent - l3_agent - lb_agent - metadata_agent - ovs_agent - sriov_agent content: | # Command filters to allow privsep daemon to be started via rootwrap. # # This file should be owned by (and only-writeable by) the root user [Filters] # By installing the following, the local admin is asserting that: # # 1. The python module load path used by privsep-helper # command as root (as started by sudo/rootwrap) is trusted. # 2. Any oslo.config files matching the --config-file # arguments below are trusted. # 3. Users allowed to run sudo/rootwrap with this configuration(*) are # also allowed to invoke python ""entrypoint"" functions from # --privsep_context with the additional (possibly root) privileges # configured for that context. # # (*) ie: the user is allowed by /etc/sudoers to run rootwrap as root # # In particular, the oslo.config and python module path must not # be writeable by the unprivileged user. # oslo.privsep default neutron context privsep: PathFilter, privsep-helper, root, --config-file, /etc, --privsep_context, neutron.privileged.default, --privsep_sock_path, / # NOTE: A second `--config-file` arg can also be added above. Since # many neutron components are installed like that (eg: by devstack). # Adjust to suit local requirements.",36,36
openstack%2Fopenstack-helm-infra~master~I97d0c4385b016d73aa362c0fc293d235b532810c,openstack/openstack-helm-infra,master,I97d0c4385b016d73aa362c0fc293d235b532810c,Ceph-Mgr: update how we set config params,MERGED,2019-06-21 20:03:33.000000000,2019-06-27 16:51:18.000000000,2019-06-27 16:51:18.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-21 20:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5df6173282748e7ea8081828e2f7dd5c85fbd29a', 'message': 'Ceph-Mgr: update how we set config params\n\nThis PS updates the start script to use `config set`, rather\nthan `config-key set` which has been depricated in Mimic.\n\nChange-Id: I97d0c4385b016d73aa362c0fc293d235b532810c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-21 20:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28eddbc88718fee98b10937f52ef96d1d05ee0ec', 'message': 'Ceph-Mgr: update how we set config params\n\nThis PS updates the start script to use `config set`, rather\nthan `config-key set` which has been depricated in Mimic.\n\nChange-Id: I97d0c4385b016d73aa362c0fc293d235b532810c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-22 10:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e6c4553386e271f2a1c0bd6bd95264ceff4e2c8', 'message': 'Ceph-Mgr: update how we set config params\n\nThis PS updates the start script to use `config set`, rather\nthan `config-key set` which has been depricated in Mimic.\n\nChange-Id: I97d0c4385b016d73aa362c0fc293d235b532810c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-27 01:37:02.000000000', 'files': ['ceph-client/templates/bin/mgr/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/248df772fd5b6a43c6f6fb74de19a6057f3a5143', 'message': 'Ceph-Mgr: update how we set config params\n\nThis PS updates the start script to use `config set`, rather\nthan `config-key set` which has been depricated in Mimic.\n\nChange-Id: I97d0c4385b016d73aa362c0fc293d235b532810c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,666912,248df772fd5b6a43c6f6fb74de19a6057f3a5143,19,7,4,23928,,,0,"Ceph-Mgr: update how we set config params

This PS updates the start script to use `config set`, rather
than `config-key set` which has been depricated in Mimic.

Change-Id: I97d0c4385b016d73aa362c0fc293d235b532810c
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/666912/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/mgr/_start.sh.tpl'],1,5df6173282748e7ea8081828e2f7dd5c85fbd29a,ingress-k8s-13,"# ceph config set mgr/<module>/<key> <value> ceph --cluster ""${CLUSTER}"" config set mgr/$module/$key $value","# ceph config-key set mgr/<module>/<key> <value> ceph --cluster ""${CLUSTER}"" config-key set mgr/$module/$key $value",2,2
openstack%2Fopenstack-ansible-galera_server~master~I4cf89ee23e28ce20b4076d4eb81daa04a8055499,openstack/openstack-ansible-galera_server,master,I4cf89ee23e28ce20b4076d4eb81daa04a8055499,Replace opensuse 42.3 functional testing with opensuse-15,MERGED,2019-06-26 17:00:28.000000000,2019-06-27 16:16:49.000000000,2019-06-27 16:16:48.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-26 17:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/96b420334fa234c1f7f6b053fac9468c79b91233', 'message': 'Replace opensuse 42.3 functional testing with opensuse-15\n\nopenSUSE Leap 42.3 is out of maintenance and end of life.\nIt has been superceded by Leap 15.0 and the current version\nas of today is 15.1. by using opensuse-15 we point to the\nlatest 15.x nodeset.\n\nChange-Id: I4cf89ee23e28ce20b4076d4eb81daa04a8055499\n'}, {'number': 2, 'created': '2019-06-27 07:01:50.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/473d2050d43b539fc9dcccf5b5ca0e4e5f22d0a2', 'message': 'Replace opensuse 42.3 functional testing with opensuse-15\n\nopenSUSE Leap 42.3 is out of maintenance and end of life.\nIt has been superceded by Leap 15.0 and the current version\nas of today is 15.1. by using opensuse-15 we point to the\nlatest 15.x nodeset.\n\nChange-Id: I4cf89ee23e28ce20b4076d4eb81daa04a8055499\n'}]",2,667683,473d2050d43b539fc9dcccf5b5ca0e4e5f22d0a2,15,4,2,6593,,,0,"Replace opensuse 42.3 functional testing with opensuse-15

openSUSE Leap 42.3 is out of maintenance and end of life.
It has been superceded by Leap 15.0 and the current version
as of today is 15.1. by using opensuse-15 we point to the
latest 15.x nodeset.

Change-Id: I4cf89ee23e28ce20b4076d4eb81daa04a8055499
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/83/667683/1 && git format-patch -1 --stdout FETCH_HEAD,"['Vagrantfile', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,96b420334fa234c1f7f6b053fac9468c79b91233,, name: openstack-ansible-functional-opensuse-15-ssl parent: openstack-ansible-functional-opensuse-15, name: openstack-ansible-functional-opensuse-423-ssl parent: openstack-ansible-functional-opensuse-423,8,6
openstack%2Fneutron~stable%2Fstein~Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b,openstack/neutron,stable/stein,Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b,"Import ""Manage Networking service quotas"" admin guide",MERGED,2019-06-26 13:42:01.000000000,2019-06-27 16:14:49.000000000,2019-06-27 16:14:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-26 13:42:01.000000000', 'files': ['doc/source/admin/ops-quotas.rst', 'doc/source/admin/ops.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a5ca7145bcb51e60b5962db743afbb35d0ba602', 'message': 'Import ""Manage Networking service quotas"" admin guide\n\nThis copies the guide from openstack-manuals [1] which should\nhave been done with the manuals docs migration in Pike. The\nonly content change is a todo is added to migrate the guide\nfrom using the deprecated neutron CLIs to the openstack CLIs.\n\n[1] https://docs.openstack.org/ocata/admin-guide/cli-networking-advanced-quotas.html\n\nChange-Id: Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b\nCloses-Bug: #1834068\n(cherry picked from commit 2e8693e3a0f6bf4b27bac312e8da0f6ab51a708f)\n'}]",0,667617,9a5ca7145bcb51e60b5962db743afbb35d0ba602,10,4,1,6873,,,0,"Import ""Manage Networking service quotas"" admin guide

This copies the guide from openstack-manuals [1] which should
have been done with the manuals docs migration in Pike. The
only content change is a todo is added to migrate the guide
from using the deprecated neutron CLIs to the openstack CLIs.

[1] https://docs.openstack.org/ocata/admin-guide/cli-networking-advanced-quotas.html

Change-Id: Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b
Closes-Bug: #1834068
(cherry picked from commit 2e8693e3a0f6bf4b27bac312e8da0f6ab51a708f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/667617/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/ops-quotas.rst', 'doc/source/admin/ops.rst']",2,9a5ca7145bcb51e60b5962db743afbb35d0ba602,bug/1834068, ops-quotas,,356,0
openstack%2Fcinder~master~I735c7825ac490e695122bf64ca1f758bdd9d81ad,openstack/cinder,master,I735c7825ac490e695122bf64ca1f758bdd9d81ad,Replace deprecated with_lockmode with with_for_update,MERGED,2019-06-19 04:54:37.000000000,2019-06-27 16:14:42.000000000,2019-06-27 16:14:41.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-06-19 04:54:37.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/68d8de3cf99ae153c9f87f7086f0455495cc3932', 'message': 'Replace deprecated with_lockmode with with_for_update\n\nThe Query.with_lockmode() method is deprecated since version 0.9.0\nand will be removed in a future release. [1]\nThis patch replaces it with Query.with_for_update().\n\n[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n\nChange-Id: I735c7825ac490e695122bf64ca1f758bdd9d81ad\n'}]",0,666218,68d8de3cf99ae153c9f87f7086f0455495cc3932,48,28,1,10206,,,0,"Replace deprecated with_lockmode with with_for_update

The Query.with_lockmode() method is deprecated since version 0.9.0
and will be removed in a future release. [1]
This patch replaces it with Query.with_for_update().

[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode

Change-Id: I735c7825ac490e695122bf64ca1f758bdd9d81ad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/666218/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,68d8de3cf99ae153c9f87f7086f0455495cc3932,, with_for_update().\, with_lockmode('update').\,1,1
openstack%2Fmonasca-notification~master~Id1f963b987f36a970ada738fc56e23000430eef1,openstack/monasca-notification,master,Id1f963b987f36a970ada738fc56e23000430eef1,Add local bindep.txt,ABANDONED,2019-06-27 12:44:25.000000000,2019-06-27 16:02:52.000000000,,"[{'_account_id': 16222}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 12:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/fc0a7e148b15d4a82578738f19fd85091448f6da', 'message': 'Add local bindep.txt\n\nThe file includes PostgreSQL dependendencies for testing.\n\nChange-Id: Id1f963b987f36a970ada738fc56e23000430eef1\nStory: 2006058\nTask: 34771\n'}, {'number': 2, 'created': '2019-06-27 15:37:48.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/31aeb488aa0be17469953f61a05dd1aa28b3d776', 'message': 'Add local bindep.txt\n\nThe file includes PostgreSQL dependendencies for testing.\n\nChange-Id: Id1f963b987f36a970ada738fc56e23000430eef1\nStory: 2006058\nTask: 34771\n'}]",0,667920,31aeb488aa0be17469953f61a05dd1aa28b3d776,8,3,2,16222,,,0,"Add local bindep.txt

The file includes PostgreSQL dependendencies for testing.

Change-Id: Id1f963b987f36a970ada738fc56e23000430eef1
Story: 2006058
Task: 34771
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/20/667920/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,fc0a7e148b15d4a82578738f19fd85091448f6da,bindep-fallback," [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False",,16,0
openstack%2Fkolla~master~Iae9d37cb76997ba8389e21c7e2a3bf5905abe029,openstack/kolla,master,Iae9d37cb76997ba8389e21c7e2a3bf5905abe029,Clean up test process,MERGED,2019-06-11 13:13:11.000000000,2019-06-27 16:02:13.000000000,2019-06-27 15:54:22.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-11 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eee302bc07a11412afdcb4e1479ad6c81d023577', 'message': 'WIP: Clean up test process\n\ncommit message to be written\nlet Zuul check this\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-11 13:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c23c3a25bbe43001da46d2f5ab2248a05fd032c5', 'message': 'WIP: Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages.\nAdditionally ... TODO\n\nTMP: Missed play-level ""become: true"" last time.\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-11 16:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14ef53e4eb8cd9d5e8f90679e00771c0772977d6', 'message': 'WIP: Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages.\nAdditionally ... TODO\n\nTMP: Missed play-level ""become: true"" last time.\nTMP: nomanylinux1\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-06-12 09:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3a5b580c5c683dcd733a38b6aad71a1df06b9b9a', 'message': 'WIP: Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages.\nAdditionally ... TODO\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 5, 'created': '2019-06-12 11:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c1e44d3b6c5109fe3ab98fb3a2bc03660849ec0b', 'message': 'WIP: Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages.\nAdditionally ... TODO\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 6, 'created': '2019-06-12 14:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44386c205fee6a1180edcfc71409adc6ecc0092b', 'message': 'WIP: Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages.\nAdditionally ... TODO\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 7, 'created': '2019-06-12 15:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a533f61f2d30a5353625cb754122d6f1ac42342c', 'message': 'WIP: Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages.\nAdditionally ... TODO\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 8, 'created': '2019-06-12 16:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/19455d21bb8c4d723cb90121e0b7678b1974140a', 'message': 'Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages of Zuul.\nAdditionally Zuul v3 migration recommendations were applied\nand some unused code removed improving general readability.\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 9, 'created': '2019-06-12 16:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/47132d2adf64a86d3e801ca92a86ef1200109b91', 'message': 'Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages of Zuul.\nAdditionally Zuul v3 migration recommendations were applied\nand some unused code removed improving general readability.\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 10, 'created': '2019-06-19 19:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f08b18dc005190bfc37bdf4510513bb33de5fea2', 'message': 'Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages of Zuul.\nAdditionally Zuul v3 migration recommendations were applied\nand some unused code removed improving general readability.\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 11, 'created': '2019-06-20 08:25:56.000000000', 'files': ['tests/playbooks/run.yml', 'tests/playbooks/pre.yml', 'tests/templates/kolla-build.conf.j2', '.zuul.d/base.yaml', 'tests/setup_gate.sh', 'tools/gate_run.sh', 'tests/playbooks/post.yml', 'tools/dump_info.sh', 'tox.ini', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c7ac0f0de0c65afe54974a7ea727feb27c0f60eb', 'message': 'Clean up test process\n\nIf stestr failed, then no node info was logged.\nLogging node info is now handled in pre and post stages of Zuul.\nAdditionally Zuul v3 migration recommendations were applied\nand some unused code removed improving general readability.\n\nChange-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,664580,c7ac0f0de0c65afe54974a7ea727feb27c0f60eb,42,6,11,30491,,,0,"Clean up test process

If stestr failed, then no node info was logged.
Logging node info is now handled in pre and post stages of Zuul.
Additionally Zuul v3 migration recommendations were applied
and some unused code removed improving general readability.

Change-Id: Iae9d37cb76997ba8389e21c7e2a3bf5905abe029
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/664580/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/playbooks/pre.yml', 'tests/setup_gate.sh', 'tools/gate_run.sh', 'tests/playbooks/post.yml', 'tox.ini', 'tools/setup_gate.sh']",7,eee302bc07a11412afdcb4e1479ad6c81d023577,clean-up-test-process,,#!/bin/bash set -o xtrace set -o errexit # Enable unbuffered output for Ansible in Jenkins. export PYTHONUNBUFFERED=1 function setup_registry { sudo mkdir /opt/kolla_registry sudo chmod -R 644 /opt/kolla_registry docker run -d -p 4000:5000 --restart=always -v /opt/kolla_registry/:/var/lib/registry --name registry registry:2 } setup_registry ,23,76
openstack%2Ftripleo-ansible~master~Ic9bec1be719d75ab734f72de1700efa05627d6f9,openstack/tripleo-ansible,master,Ic9bec1be719d75ab734f72de1700efa05627d6f9,DNM: test octavia job run,ABANDONED,2019-06-27 15:55:35.000000000,2019-06-27 15:58:41.000000000,,[],"[{'number': 1, 'created': '2019-06-27 15:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73cb52dbb74958d5c0a02fd9e63e35b9eb6c9812', 'message': 'DNM: test octavia job run\n\nChange-Id: Ic9bec1be719d75ab734f72de1700efa05627d6f9\n'}, {'number': 2, 'created': '2019-06-27 15:57:31.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b987f6e52b4016123c78475c20727861da20c11', 'message': 'DNM: test octavia job run\n\nChange-Id: Ic9bec1be719d75ab734f72de1700efa05627d6f9\n'}]",0,667969,1b987f6e52b4016123c78475c20727861da20c11,3,0,2,10969,,,0,"DNM: test octavia job run

Change-Id: Ic9bec1be719d75ab734f72de1700efa05627d6f9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/667969/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-overcloud-config/tasks/certs_gen.yml'],1,73cb52dbb74958d5c0a02fd9e63e35b9eb6c9812,jobs,# test octavia job,,1,1
openstack%2Fansible-role-redhat-subscription~master~Iaa578d608f64612b20deefe7b2ea1006b041654d,openstack/ansible-role-redhat-subscription,master,Iaa578d608f64612b20deefe7b2ea1006b041654d,register: add retry mechanism,MERGED,2019-06-25 18:47:50.000000000,2019-06-27 15:57:12.000000000,2019-06-27 15:57:11.000000000,"[{'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 18:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/3ba49b2efb17e2b7ae7f8175fd7a084e9459c83a', 'message': 'register: add retry mechanism\n\nWorkaround for https://bugzilla.redhat.com/show_bug.cgi?id=1715958\nA regression in Satellite added a delay to the registration to happen.\nTo counter this problem we retry 5 times with a delay of 10 seconds between\nretries.\n\nChange-Id: Iaa578d608f64612b20deefe7b2ea1006b041654d\nCloses-Bug: #1834242\n'}, {'number': 2, 'created': '2019-06-26 18:53:36.000000000', 'files': ['tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/655075c552a7468936dd26326e049c79b89484cf', 'message': 'register: add retry mechanism\n\nWorkaround for https://bugzilla.redhat.com/show_bug.cgi?id=1715958\nA regression in Satellite added a delay to the registration to happen.\nTo counter this problem we retry 5 times with a delay of 10 seconds between\nretries.\n\nChange-Id: Iaa578d608f64612b20deefe7b2ea1006b041654d\nCloses-Bug: #1834242\n'}]",1,667440,655075c552a7468936dd26326e049c79b89484cf,11,3,2,3153,,,0,"register: add retry mechanism

Workaround for https://bugzilla.redhat.com/show_bug.cgi?id=1715958
A regression in Satellite added a delay to the registration to happen.
To counter this problem we retry 5 times with a delay of 10 seconds between
retries.

Change-Id: Iaa578d608f64612b20deefe7b2ea1006b041654d
Closes-Bug: #1834242
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/40/667440/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/register.yml'],1,3ba49b2efb17e2b7ae7f8175fd7a084e9459c83a,bug/1834242, # Workaround for https://bugzilla.redhat.com/show_bug.cgi?id=1715958 # A regression in Satellite added a delay to the registration to happen. # To counter this problem we retry 5 times with a delay of 10 seconds between # retries. retries: 5 delay: 10 until: subscrition_result.rc == 0,,7,0
openstack%2Fneutron~master~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,master,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-05-30 14:46:19.000000000,2019-06-27 15:56:25.000000000,2019-06-27 15:56:24.000000000,"[{'_account_id': 4187}, {'_account_id': 8150}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-30 14:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80f396fd0468f3830400eed3e360a05d38765170', 'message': ""Retry trunk status updates failing with StaleDataError\n\nThis is an approximate partial fix to #1828375.\n\nupdate_trunk_status and update_subport_bindings rpc messages are\nprocessed concurrently and possibly out of order on the server side.\nTherefore they may race with each other.\n\nThe status update race combined with\n1) the versioning feature of sqlalchemy used in the standardattributes\n   table and\n2) the less than serializable isolation level of some DB backends (like\n   MySQL InnoDB)\ndoes raise StaleDataErrors and by that leaves some trunk subports in\nDOWN status.\n\nThis change retries the trunk status update (to BUILD) blindly when\nStaleDataError was caught. In my local testbed this practically\nfixes #1828375.\n\nHowever theoretically the retry may cover up other real errors (when the\ncause of the StaleDataError was a different status not just a different\nrevision count).\n\nTo the best of my understanding a proper fix would entail guaranteeing\nthe in order processing of the above rpc messages - which likely won't\never happen.\n\nI'm not sure at all if this change is worth merging - let me know what\nyou think.\n\nChange-Id: Ie581809f24f9547b55a87423dac7db933862d66a\nPartial-Bug: #1828375\n""}, {'number': 2, 'created': '2019-06-11 09:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bd1a6c0aae18ca8a5381c513d0620705a835925', 'message': ""Retry trunk status updates failing with StaleDataError\n\nThis is an approximate partial fix to #1828375.\n\nupdate_trunk_status and update_subport_bindings rpc messages are\nprocessed concurrently and possibly out of order on the server side.\nTherefore they may race with each other.\n\nThe status update race combined with\n1) the versioning feature of sqlalchemy used in the standardattributes\n   table and\n2) the less than serializable isolation level of some DB backends (like\n   MySQL InnoDB)\ndoes raise StaleDataErrors and by that leaves some trunk subports in\nDOWN status.\n\nThis change retries the trunk status update (to BUILD) blindly when\nStaleDataError was caught. In my local testbed this practically\nfixes #1828375.\n\nHowever theoretically the retry may cover up other real errors (when the\ncause of the StaleDataError was a different status not just a different\nrevision count).\n\nTo the best of my understanding a proper fix would entail guaranteeing\nthe in order processing of the above rpc messages - which likely won't\never happen.\n\nI'm not sure at all if this change is worth merging - let me know what\nyou think.\n\nChange-Id: Ie581809f24f9547b55a87423dac7db933862d66a\nPartial-Bug: #1828375\n""}, {'number': 3, 'created': '2019-06-14 10:58:03.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/618e24e241241c7323702a815542f11e91fd32a1', 'message': ""Retry trunk status updates failing with StaleDataError\n\nThis is an approximate partial fix to #1828375.\n\nupdate_trunk_status and update_subport_bindings rpc messages are\nprocessed concurrently and possibly out of order on the server side.\nTherefore they may race with each other.\n\nThe status update race combined with\n1) the versioning feature of sqlalchemy used in the standardattributes\n   table and\n2) the less than serializable isolation level of some DB backends (like\n   MySQL InnoDB)\ndoes raise StaleDataErrors and by that leaves some trunk subports in\nDOWN status.\n\nThis change retries the trunk status update (to BUILD) blindly when\nStaleDataError was caught. In my local testbed this practically\nfixes #1828375.\n\nHowever theoretically the retry may cover up other real errors (when the\ncause of the StaleDataError was a different status not just a different\nrevision count).\n\nTo the best of my understanding a proper fix would entail guaranteeing\nthe in order processing of the above rpc messages - which likely won't\never happen.\n\nI'm not sure at all if this change is worth merging - let me know what\nyou think.\n\nChange-Id: Ie581809f24f9547b55a87423dac7db933862d66a\nPartial-Bug: #1828375\n""}]",8,662236,618e24e241241c7323702a815542f11e91fd32a1,65,11,3,15554,,,0,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/662236/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/rpc/server.py'],1,80f396fd0468f3830400eed3e360a05d38765170,bug/1828375,"from sqlalchemy.orm import exc for try_cnt in range(3): try: # NOTE(status_police) Set the trunk in BUILD state before # processing subport bindings. The trunk will stay in BUILD # state until an attempt has been made to bind all subports # passed here and the agent acknowledges the operation was # successful. trunk.update(status=trunk_consts.TRUNK_BUILD_STATUS) break except exc.StaleDataError as e: LOG.debug(""Got StaleDataError exception: %s"", e) continue", # NOTE(status_police) Set the trunk in BUILD state before processing # subport bindings. The trunk will stay in BUILD state until an # attempt has been made to bind all subports passed here and the # agent acknowledges the operation was successful. trunk.update(status=trunk_consts.TRUNK_BUILD_STATUS),13,5
openstack%2Fopenstack-zuul-jobs~master~Icd8206c2c73a44d7e9e3e91a8ace4fb8187eff19,openstack/openstack-zuul-jobs,master,Icd8206c2c73a44d7e9e3e91a8ace4fb8187eff19,Remove job legacy-puppet-beaker-rspec,MERGED,2019-06-25 12:50:56.000000000,2019-06-27 15:51:04.000000000,2019-06-27 15:51:04.000000000,"[{'_account_id': 4146}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 12:50:56.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a08a0e84ec1e6f7ddae2a87bbec896230e70dc80', 'message': 'Remove job legacy-puppet-beaker-rspec\n\nThis job is unused, remove it.\n\nNote that the playbooks have been removed already, just the job defintion\nwas stale.\n\nChange-Id: Icd8206c2c73a44d7e9e3e91a8ace4fb8187eff19\n'}]",0,667357,a08a0e84ec1e6f7ddae2a87bbec896230e70dc80,7,3,1,6547,,,0,"Remove job legacy-puppet-beaker-rspec

This job is unused, remove it.

Note that the playbooks have been removed already, just the job defintion
was stale.

Change-Id: Icd8206c2c73a44d7e9e3e91a8ace4fb8187eff19
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/57/667357/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,a08a0e84ec1e6f7ddae2a87bbec896230e70dc80,legacy-puppet-beaker-rspec,, name: legacy-puppet-beaker-rspec parent: legacy-puppet-openstack-integration run: playbooks/legacy/puppet-beaker-rspec/run.yaml post-run: playbooks/legacy/puppet-beaker-rspec/post.yaml timeout: 3600 required-projects: - openstack/puppet-openstack-integration irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - job:,0,17
openstack%2Fneutron~master~Ie63b03892f1fc9e00c2dca84eacde795bcb6200e,openstack/neutron,master,Ie63b03892f1fc9e00c2dca84eacde795bcb6200e,WIP: Do not overload server with dhcp_ready_on_ports calls,ABANDONED,2019-06-25 21:43:29.000000000,2019-06-27 15:49:57.000000000,,"[{'_account_id': 1131}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26250}, {'_account_id': 26622}, {'_account_id': 30314}]","[{'number': 1, 'created': '2019-06-25 21:43:29.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b37ab5b0d29ddf576ab6ba4e7be28fa3151111dd', 'message': 'WIP: Do not overload server with dhcp_ready_on_ports calls\n\nSend a dhcp_ready_on_ports() RPC message directly in the\nthread that configures a network, instead of adding them\nto the self.dhcp_ready_ports set, so that we send a\nreasonable amount of ports in one call.\n\nIn the event that an RPC fails, put the port IDs in the\nself.dhcp_ready_ports set for the worker thread, which\nwill now throttle the number it sends to 64 at a time.\n\nPartially based on https://review.opendev.org/#/c/659274/\n\nCloses-bug: #1834257\n\nChange-Id: Ie63b03892f1fc9e00c2dca84eacde795bcb6200e\n'}]",13,667472,b37ab5b0d29ddf576ab6ba4e7be28fa3151111dd,11,10,1,1131,,,0,"WIP: Do not overload server with dhcp_ready_on_ports calls

Send a dhcp_ready_on_ports() RPC message directly in the
thread that configures a network, instead of adding them
to the self.dhcp_ready_ports set, so that we send a
reasonable amount of ports in one call.

In the event that an RPC fails, put the port IDs in the
self.dhcp_ready_ports set for the worker thread, which
will now throttle the number it sends to 64 at a time.

Partially based on https://review.opendev.org/#/c/659274/

Closes-bug: #1834257

Change-Id: Ie63b03892f1fc9e00c2dca84eacde795bcb6200e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/667472/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,b37ab5b0d29ddf576ab6ba4e7be28fa3151111dd,limit-dhcp-ready-port-calls," with mock.patch.object(dhcp.plugin_rpc, 'dhcp_ready_on_ports') as ready: dhcp.configure_dhcp_for_network(fake_network) ready.assert_called_once_with({fake_port1.id}) self.mock_send_dhcp_ready_p = mock.patch('neutron.agent.dhcp.agent.' 'DhcpAgent.' '_send_dhcp_ready_ports') self.mock_send_dhcp_ready = self.mock_send_dhcp_ready_p.start() self.mock_send_dhcp_ready.assert_called_once_with( {p.id for p in fake_network.ports})"," self.assertEqual(set(range(4)), dhcp.dhcp_ready_ports) dhcp.configure_dhcp_for_network(fake_network) self.assertEqual({fake_port1.id}, dhcp.dhcp_ready_ports) self.assertEqual({p.id for p in fake_network.ports}, self.dhcp.dhcp_ready_ports)",45,21
openstack%2Ftripleo-heat-templates~master~Icab67e0a5867146ce8f8bc3c3b5bcf8d036f9bff,openstack/tripleo-heat-templates,master,Icab67e0a5867146ce8f8bc3c3b5bcf8d036f9bff,Fix duplicate mount errors for container-config-scripts,ABANDONED,2019-06-26 13:51:53.000000000,2019-06-27 15:49:52.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 13:51:53.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1ab9fccd80fbe3d54975427e385f60c7b3c1030', 'message': 'Fix duplicate mount errors for container-config-scripts\n\nRemove duplicate mounts for container-config-scripts\n\nChange-Id: Icab67e0a5867146ce8f8bc3c3b5bcf8d036f9bff\n'}]",0,667618,a1ab9fccd80fbe3d54975427e385f60c7b3c1030,6,4,1,6681,,,0,"Fix duplicate mount errors for container-config-scripts

Remove duplicate mounts for container-config-scripts

Change-Id: Icab67e0a5867146ce8f8bc3c3b5bcf8d036f9bff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/667618/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,a1ab9fccd80fbe3d54975427e385f60c7b3c1030,,, - /var/lib/container-config-scripts/:/container-config-scripts/:z - /var/lib/container-config-scripts/:/container-config-scripts/:z - /var/lib/container-config-scripts/:/container-config-scripts/ - /var/lib/container-config-scripts/:/container-config-scripts/,0,7
openstack%2Fcloudkitty-dashboard~master~Ib10b8e46dd7733eb2357aca47d8112f50dd3e42f,openstack/cloudkitty-dashboard,master,Ib10b8e46dd7733eb2357aca47d8112f50dd3e42f,Add a check to custom_service on CreateServiceForm,MERGED,2019-06-13 03:42:03.000000000,2019-06-27 15:32:47.000000000,2019-06-27 15:32:47.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-13 03:42:03.000000000', 'files': ['cloudkittydashboard/dashboards/admin/hashmap/forms.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/c36032ac622a55dfd3ca672b463bbf6e6aecc945', 'message': 'Add a check to custom_service on CreateServiceForm\n\nChange-Id: Ib10b8e46dd7733eb2357aca47d8112f50dd3e42f\n'}]",0,665055,c36032ac622a55dfd3ca672b463bbf6e6aecc945,8,9,1,27822,,,0,"Add a check to custom_service on CreateServiceForm

Change-Id: Ib10b8e46dd7733eb2357aca47d8112f50dd3e42f
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/55/665055/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/dashboards/admin/hashmap/forms.py'],1,c36032ac622a55dfd3ca672b463bbf6e6aecc945,Bug#3," def clean_custom_service(self): custom_service = self.cleaned_data.get('custom_service').strip() service_type = self.cleaned_data.get('service_type') if service_type == ""custom_service"" and not custom_service: msg = _('Custom service cannot be empty.') self._errors['custom_service'] = self.error_class([msg]) return custom_service ",,8,0
openstack%2Fstevedore~master~I5efddfc72e9dc0dd1b8b9e1e37708e1d30ef3c39,openstack/stevedore,master,I5efddfc72e9dc0dd1b8b9e1e37708e1d30ef3c39,Add local bindep.txt,MERGED,2019-06-27 10:59:34.000000000,2019-06-27 15:26:32.000000000,2019-06-27 15:26:32.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:59:34.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/feac47186d79569bb564e18216e07f18ed5ccd8b', 'message': ""Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn documentation zuul job graphviz package ('dot' command) is needed.\nWithout that the job fails with:\n    dot command 'dot' cannot be run (needed for graphviz output),\n    check the graphviz_dot setting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I5efddfc72e9dc0dd1b8b9e1e37708e1d30ef3c39\n""}]",0,667897,feac47186d79569bb564e18216e07f18ed5ccd8b,8,3,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In documentation zuul job graphviz package ('dot' command) is needed.
Without that the job fails with:
    dot command 'dot' cannot be run (needed for graphviz output),
    check the graphviz_dot setting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I5efddfc72e9dc0dd1b8b9e1e37708e1d30ef3c39
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/97/667897/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,feac47186d79569bb564e18216e07f18ed5ccd8b,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,19,0
openstack%2Fmanila-tempest-plugin~master~I781cba8b705262cfafb1be51e53b6781bd5da040,openstack/manila-tempest-plugin,master,I781cba8b705262cfafb1be51e53b6781bd5da040,Cast block count to integer,MERGED,2019-06-20 14:11:09.000000000,2019-06-27 15:25:48.000000000,2019-06-27 15:25:48.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-20 14:11:09.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/scenario/test_share_shrink.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/68a25a6dad27210b8d15de7a47e1ba56d86c50f4', 'message': 'Cast block count to integer\n\nAs more tests reuse the code to write data into\na mounted file system, we can move this integer\ncasting into that portion of the code; and remove\nresponsibility from the caller.\n\nTrivialFix\n\nChange-Id: I781cba8b705262cfafb1be51e53b6781bd5da040\n'}]",3,666588,68a25a6dad27210b8d15de7a47e1ba56d86c50f4,17,8,1,16643,,,0,"Cast block count to integer

As more tests reuse the code to write data into
a mounted file system, we can move this integer
casting into that portion of the code; and remove
responsibility from the caller.

TrivialFix

Change-Id: I781cba8b705262cfafb1be51e53b6781bd5da040
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/88/666588/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/scenario/test_share_shrink.py']",2,68a25a6dad27210b8d15de7a47e1ba56d86c50f4,TrivialFix, total_blocks = (1024 * default_share_size) / 64, total_blocks = int((1024 * default_share_size) / 64),2,2
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic1292e18c8add78e8cb30f624be96292b153d4fe,openstack/openstack-ansible-openstack_hosts,master,Ic1292e18c8add78e8cb30f624be96292b153d4fe,Install user supplied CA certificates into system trust store,MERGED,2019-03-06 17:16:51.000000000,2019-06-27 15:20:12.000000000,2019-06-27 15:20:12.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26297}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-03-06 17:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0a73d3bedb1e565fe4ef5f1dbb3a1719a4c9a449', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 2, 'created': '2019-03-06 17:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ead99e0cf96e201d3cabcfa1e84c8b5fe297cc9d', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 3, 'created': '2019-03-06 17:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d4016bfbb7bc07f804c2804cff700dbe33bfc24e', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 4, 'created': '2019-03-06 17:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/50ce6d12050b8dd33397857968823b3eb6a2eb0a', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 5, 'created': '2019-03-06 18:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9cae0cd765d7432f39ed285b4627a48598206406', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 6, 'created': '2019-03-06 18:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ef0630e435303d8779ce9ed74936b97f69683c5a', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 7, 'created': '2019-03-10 19:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b278231bd61afed3119b14229f35d0aaca3c7ed4', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 8, 'created': '2019-03-10 20:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/3417f09c9ede55385988cb731ee0a28ecbfb0b5b', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 9, 'created': '2019-03-10 21:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/06355005d57a6ac9034487b4654c5c60d69fe44e', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 10, 'created': '2019-03-11 16:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/7e89259c27bd179900d7df67817fe24085c20169', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 11, 'created': '2019-03-11 17:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4353b3e6bdcd6c4b073477894f455c925670c0ff', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 12, 'created': '2019-03-11 20:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/2b967d1557ec31ea2239e7c1f97c59d76a2a9b6a', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 13, 'created': '2019-03-11 20:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/88dbadc9ad54cee121db36ba1632fe8ecf0e84b1', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 14, 'created': '2019-03-11 20:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a0a3baae9d3fa79d03d5cf0be4b5f319c81cf340', 'message': '[WIP] Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 15, 'created': '2019-03-11 21:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1f6656ad058d3994db512608ad1f56b9c17cac91', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 16, 'created': '2019-03-12 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6f21a6394238cc0db2606a6951187484859f335a', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 17, 'created': '2019-03-14 14:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8f5f02c9d5b8843b339d7f0177dff960438e9202', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 18, 'created': '2019-03-14 15:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/778ca49bd77f521ca77c1985bf9ba394ca01d637', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 19, 'created': '2019-03-14 18:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d7cb498ba4db74c786ced9c9aad611bc159f9043', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 20, 'created': '2019-03-18 11:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/14ee4c2b1025d91ea6d1574a8f83308b3f1b8fef', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 21, 'created': '2019-03-20 09:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/bf4652f371788cd437157191b74406ec56a4d84f', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 22, 'created': '2019-04-15 12:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b149839011ebfd48f293bbbc1e37e67cc01572ce', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 23, 'created': '2019-04-17 06:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/44ba3ce8dec2cad67b6fa5d0e85bd02c77182685', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nDepends-On: https://review.openstack.org/642697\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 24, 'created': '2019-04-25 07:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/3dbac899af844728d5b7ac0f22728946603df28b', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 25, 'created': '2019-06-26 10:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/3588c347dbfff2519f23c3ad4533cf395fdcbd15', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}, {'number': 26, 'created': '2019-06-26 10:42:50.000000000', 'files': ['tasks/main.yml', 'tests/templates/openssl.conf.j2', 'releasenotes/notes/user-ca-certificates-b1be1257809ba5e8.yaml', 'vars/debian.yml', 'tests/test.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'vars/ubuntu-18.04.yml', 'vars/redhat.yml', 'tasks/openstack_hosts_ca_certificates.yml', 'tests/test-create-ca.yml', 'tests/openstack_hosts-overrides.yml', 'vars/gentoo.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1498d0d61de3ee8cea4b4e0ba8deb18c274ab1fe', 'message': 'Install user supplied CA certificates into system trust store\n\nThis functionality can be used to install any CA certificates that\nthe deployer requires into any combination of hosts/containers.\n\nChange-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe\n'}]",2,641445,1498d0d61de3ee8cea4b4e0ba8deb18c274ab1fe,57,7,26,25023,,,0,"Install user supplied CA certificates into system trust store

This functionality can be used to install any CA certificates that
the deployer requires into any combination of hosts/containers.

Change-Id: Ic1292e18c8add78e8cb30f624be96292b153d4fe
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/45/641445/24 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/host_vars/localhost.yml', 'tests/test.yml', 'vars/ubuntu-16.04.yml', 'tests/openssl.conf.j2', 'defaults/main.yml', 'vars/ubuntu-18.04.yml', 'tests/tests-create-ca.yml', 'vars/redhat-7.yml', 'tasks/openstack_hosts_ca_certificates.yml', 'vars/gentoo.yml', 'vars/suse.yml']",12,0a73d3bedb1e565fe4ef5f1dbb3a1719a4c9a449,641445, _openstack_host_ca_location: /etc/pki/trust/anchors/,,441,0
openstack%2Fnova~master~Id702790d7c08dbbf4d6eef78f6662ac7917f1231,openstack/nova,master,Id702790d7c08dbbf4d6eef78f6662ac7917f1231,VMware: implement trigger crash dump,ABANDONED,2018-11-19 11:20:13.000000000,2019-06-27 14:56:31.000000000,,"[{'_account_id': 1653}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-19 11:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c08d49e85a1a9f03d2cebfd5c4e830d7ec9e06cd', 'message': 'VMware: implement trigger crash dump\n\nImplement triggering crash dump of instance by taking a snapshot of the\nudnerlying VM. The snapshot files can be converted to core dump with the\nvmss2core utility [1]\n\n[1] https://labs.vmware.com/flings/vmss2core\n\nChange-Id: Id702790d7c08dbbf4d6eef78f6662ac7917f1231\n'}, {'number': 2, 'created': '2018-11-20 07:18:23.000000000', 'files': ['nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'releasenotes/notes/vmware-crash-dump-f6c98cd74bdbcf08.yaml', 'doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/f5fb2778c521debfc74a7344985d4352ca524831', 'message': 'VMware: implement trigger crash dump\n\nImplement triggering crash dump of instance by taking a snapshot of the\nudnerlying VM. The snapshot files can be converted to core dump with the\nvmss2core utility [1]\n\n[1] https://labs.vmware.com/flings/vmss2core\n\nChange-Id: Id702790d7c08dbbf4d6eef78f6662ac7917f1231\n'}]",4,618736,f5fb2778c521debfc74a7344985d4352ca524831,49,17,2,9172,,,0,"VMware: implement trigger crash dump

Implement triggering crash dump of instance by taking a snapshot of the
udnerlying VM. The snapshot files can be converted to core dump with the
vmss2core utility [1]

[1] https://labs.vmware.com/flings/vmss2core

Change-Id: Id702790d7c08dbbf4d6eef78f6662ac7917f1231
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/618736/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'releasenotes/notes/vmware-crash-dump-f6c98cd74bdbcf08.yaml', 'doc/source/user/support-matrix.ini']",4,c08d49e85a1a9f03d2cebfd5c4e830d7ec9e06cd,crash-dump,driver.vmware=complete,driver.vmware=missing,21,1
openstack%2Fmistral-tempest-plugin~master~I58f1943d427c83c72e9bf17f99f3f870ba7d008b,openstack/mistral-tempest-plugin,master,I58f1943d427c83c72e9bf17f99f3f870ba7d008b,Fix mistral-devstack quoting,MERGED,2019-06-27 13:11:50.000000000,2019-06-27 14:55:37.000000000,2019-06-27 14:55:37.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 13:11:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/dee6cd7570442c19050b0cf2939081fde4ca287a', 'message': 'Fix mistral-devstack quoting\n\nRemove double quoting that suddenly confuses the job.\n\nChange-Id: I58f1943d427c83c72e9bf17f99f3f870ba7d008b\n'}]",0,667925,dee6cd7570442c19050b0cf2939081fde4ca287a,6,2,1,6547,,,0,"Fix mistral-devstack quoting

Remove double quoting that suddenly confuses the job.

Change-Id: I58f1943d427c83c72e9bf17f99f3f870ba7d008b
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/25/667925/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dee6cd7570442c19050b0cf2939081fde4ca287a,fix-tempest," TEMPEST_PLUGINS: ""{{ ansible_user_dir }}/src/opendev.org/openstack/mistral-tempest-plugin"""," TEMPEST_PLUGINS: ""'{{ ansible_user_dir }}/src/opendev.org/openstack/mistral-tempest-plugin'""",1,1
openstack%2Ftempest-tripleo-ui~master~Ia23d4a0d3d64bcc03630f6bec36a5cb1056bfd2d,openstack/tempest-tripleo-ui,master,Ia23d4a0d3d64bcc03630f6bec36a5cb1056bfd2d,Update home-page,ABANDONED,2019-01-11 11:36:55.000000000,2019-06-27 14:54:48.000000000,,"[{'_account_id': 17499}, {'_account_id': 20970}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27078}, {'_account_id': 28543}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-01-11 11:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/a33e1b70265b1a9602dbab1795d9f4ebef39b949', 'message': 'Update home-page\n\nChange-Id: Ia23d4a0d3d64bcc03630f6bec36a5cb1056bfd2d\n'}, {'number': 2, 'created': '2019-01-14 12:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/6698d6511ed7377b05b948c5a494c446ca09ffc5', 'message': 'Update home-page\n\nChange-Id: Ia23d4a0d3d64bcc03630f6bec36a5cb1056bfd2d\n'}, {'number': 3, 'created': '2019-05-30 09:52:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/48387741448d8ec054657c492a5fb84e254dc114', 'message': 'Update home-page\n\nChange-Id: Ia23d4a0d3d64bcc03630f6bec36a5cb1056bfd2d\n'}]",1,630164,48387741448d8ec054657c492a5fb84e254dc114,14,7,3,26297,,,0,"Update home-page

Change-Id: Ia23d4a0d3d64bcc03630f6bec36a5cb1056bfd2d
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/64/630164/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a33e1b70265b1a9602dbab1795d9f4ebef39b949,,home-page = https://git.openstack.org/cgit/openstack/tempest-tripleo-ui tripleo_ui = tempest_tripleo_ui.plugin:TripleOUITempestPlugin ,home-page = http://www.openstack.org/ tripleo_ui = tempest_tripleo_ui.plugin:TripleOUITempestPlugin,2,2
openstack%2Ftempest-tripleo-ui~master~I56f5d8675a625cbde9d9099d5710cb2eb86f9e3a,openstack/tempest-tripleo-ui,master,I56f5d8675a625cbde9d9099d5710cb2eb86f9e3a,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:40:27.000000000,2019-06-27 14:54:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:40:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/208fa3aca702e561aa087390ba80fc6fcf45c39d', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I56f5d8675a625cbde9d9099d5710cb2eb86f9e3a\n'}]",0,655080,208fa3aca702e561aa087390ba80fc6fcf45c39d,3,1,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I56f5d8675a625cbde9d9099d5710cb2eb86f9e3a
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/80/655080/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,208fa3aca702e561aa087390ba80fc6fcf45c39d,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Ftempest-tripleo-ui~master~If554bf6727ac48d4e0bec369f064ffea68109af6,openstack/tempest-tripleo-ui,master,If554bf6727ac48d4e0bec369f064ffea68109af6,Fix author-email in setup.cfg,ABANDONED,2019-01-24 03:36:48.000000000,2019-06-27 14:54:41.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27078}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 03:36:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/d9ad6583ae7f766175acf03be0c0ea49f8019481', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: If554bf6727ac48d4e0bec369f064ffea68109af6\n'}]",0,632912,d9ad6583ae7f766175acf03be0c0ea49f8019481,7,5,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: If554bf6727ac48d4e0bec369f064ffea68109af6
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/12/632912/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d9ad6583ae7f766175acf03be0c0ea49f8019481,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftempest-tripleo-ui~master~I01a08f5cd4371484990f51cc9328e416ad9077ab,openstack/tempest-tripleo-ui,master,I01a08f5cd4371484990f51cc9328e416ad9077ab,[DNM] Test new selenium ci job,ABANDONED,2018-10-23 16:57:10.000000000,2019-06-27 14:54:37.000000000,,"[{'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-23 16:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/3e7efa80d6f17f8575ce34c8febcbf0a7b0de98a', 'message': '[DNM] Test new selenium ci job\n\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 2, 'created': '2018-10-23 17:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/87ca15362cb171a236543d05879897389496901d', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: I95c342d901c8887c1e7c7ec48d06905c8936912c\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 3, 'created': '2018-10-23 17:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/ece5e66f6f86d5593a6d341b76daf5e725ab273f', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 4, 'created': '2019-01-17 13:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/b6fd1692f998af367463d7eb450e8faa8145d8e1', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 5, 'created': '2019-01-18 17:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/b42390bb0d1fd4246d5308fddba43f04646be9bc', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 6, 'created': '2019-01-25 07:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/b2a7395ae1b1a66767ea07e5c2eacb238390259f', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nDepends-On: https://review.openstack.org/#/c/633018/\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 7, 'created': '2019-01-25 14:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/c0d452d7aac88846d7484f8fb6693cfc850e6590', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: I6665540e139efb027bd28f629152da09f0340685\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nDepends-On: https://review.openstack.org/#/c/633018/\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 8, 'created': '2019-01-25 17:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/70a8a811731abc17687a9981db47100ca21a0ede', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: I6665540e139efb027bd28f629152da09f0340685\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nDepends-On: https://review.openstack.org/#/c/633018/\nDepends-On: I690191f9abbad5f35063f57d53eb209332f30f15\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 9, 'created': '2019-01-26 00:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/5104c8ad837b619eca098bce73b6f48caa04dc4f', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: I6665540e139efb027bd28f629152da09f0340685\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nDepends-On: https://review.openstack.org/#/c/633018/\nDepends-On: I690191f9abbad5f35063f57d53eb209332f30f15\nDepends-On: I6ee03c8bd43f42397dda2d0c4847dcf8134e1125\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 10, 'created': '2019-01-28 12:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/ad876dc61cd7ea1a365b51e543a70b546e7834e7', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: I6665540e139efb027bd28f629152da09f0340685\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nDepends-On: I690191f9abbad5f35063f57d53eb209332f30f15\nDepends-On: I6ee03c8bd43f42397dda2d0c4847dcf8134e1125\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}, {'number': 11, 'created': '2019-01-28 12:18:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/9163f29d44efdcdb92b3437674028625fbd5b673', 'message': '[DNM] Test new selenium ci job\n\nDepends-On: I6665540e139efb027bd28f629152da09f0340685\nDepends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038\nDepends-On: I690191f9abbad5f35063f57d53eb209332f30f15\nDepends-On: I6ee03c8bd43f42397dda2d0c4847dcf8134e1125\nDepends-On: If4f777b990099b67db631102d8f8be418b97b46b\nChange-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab\n'}]",2,612756,9163f29d44efdcdb92b3437674028625fbd5b673,35,4,11,20970,,,0,"[DNM] Test new selenium ci job

Depends-On: I6665540e139efb027bd28f629152da09f0340685
Depends-On: Ie4d48b76a79ff66bb799341c77741d8789f4a038
Depends-On: I690191f9abbad5f35063f57d53eb209332f30f15
Depends-On: I6ee03c8bd43f42397dda2d0c4847dcf8134e1125
Depends-On: If4f777b990099b67db631102d8f8be418b97b46b
Change-Id: I01a08f5cd4371484990f51cc9328e416ad9077ab
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/56/612756/10 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e7efa80d6f17f8575ce34c8febcbf0a7b0de98a,dnm-ci-selenium, check: jobs: - tripleo-ci-centos-7-undercloud-oooq-selenium,,3,0
openstack%2Ftempest-tripleo-ui~master~Ie226bc8aacfb5bdd997ac223854a474ada06bcdc,openstack/tempest-tripleo-ui,master,Ie226bc8aacfb5bdd997ac223854a474ada06bcdc,Validators infrastructure,ABANDONED,2019-01-16 14:50:54.000000000,2019-06-27 14:54:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-16 14:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/7b938d489fc62c0e1bfdaf3f99655edd967cb2ab', 'message': '[WIP] Validators infrastructure\n\nStart of the validators support. Currently it just reads the validator names.\n\nChange-Id: Ie226bc8aacfb5bdd997ac223854a474ada06bcdc\n'}, {'number': 2, 'created': '2019-01-17 16:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/e37ebb052b09c1decbb5c4b39361b48c14a93925', 'message': '[WIP] Validators infrastructure\n\nStart of the validators support. Currently it can read the validator names\nand their status (passed/failed etc...).\n\nChange-Id: Ie226bc8aacfb5bdd997ac223854a474ada06bcdc\n'}, {'number': 3, 'created': '2019-01-29 09:02:58.000000000', 'files': ['tempest_tripleo_ui/tests/scenario/test_validators.py', 'tempest_tripleo_ui/widgets/validators_page.py', 'tempest_tripleo_ui/models/validators.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/c47a3d5f947eba4014d4b7f2df65117e485c83fe', 'message': 'Validators infrastructure\n\nBasic validators support, to read validator names, get their statuses\nand run validators.\n\nChange-Id: Ie226bc8aacfb5bdd997ac223854a474ada06bcdc\n'}]",0,631238,c47a3d5f947eba4014d4b7f2df65117e485c83fe,7,1,3,12946,,,0,"Validators infrastructure

Basic validators support, to read validator names, get their statuses
and run validators.

Change-Id: Ie226bc8aacfb5bdd997ac223854a474ada06bcdc
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/38/631238/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_tripleo_ui/tests/scenario/test_validators.py', 'tempest_tripleo_ui/widgets/validators_page.py', 'tempest_tripleo_ui/models/validators.py']",3,7b938d489fc62c0e1bfdaf3f99655edd967cb2ab,validations,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from tempest.lib import exceptions from tempest_tripleo_ui.core import selenium_elements from tempest_tripleo_ui.widgets import validators_page from time import sleep class NoValidatorsFound(exceptions.TempestException): message = ""No validators found on page"" logger = logging.getLogger(__name__) NOTRUN = ""NotRun"" PASSED = ""Passed"" FAILED = ""Failed"" WARNING = ""Warning"" RUNNING = ""Running"" UNKNOWN = ""Unknown"" validator_names = None def get_validator_names(): global validator_names if validator_names: return validator_names logger.info(""listing validators ..."") open_validators_pane() elems = selenium_elements(validators_page.all_validators) if not elems or len(elems) == 0: raise NoValidatorsFound validator_names = [] for idx in range(len(elems)): elem = validators_page.validator_name(idx) validator_names.append(elem.get_text()) validator_names = validator_names logger.info(""found validators: {}"".format(validator_names)) return validator_names def open_validators_pane(): if not validators_page.validations_toggle.is_visible(): raise NoValidatorsFound while not validators_page.refresh.is_visible(): validators_page.validations_toggle.click() sleep(1) ",,165,0
openstack%2Ftempest-tripleo-ui~master~I2c74674c450e2459c6a875fe9e7c215c9fc01590,openstack/tempest-tripleo-ui,master,I2c74674c450e2459c6a875fe9e7c215c9fc01590,Add config options for remote webdriver,ABANDONED,2019-01-28 12:04:22.000000000,2019-06-27 14:54:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-28 12:04:22.000000000', 'files': ['tempest_tripleo_ui/config.py', 'tempest_tripleo_ui/browser.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/ca57815e95ff0103b1c798e3a06127132bf634f8', 'message': 'Add config options for remote webdriver\n\nThis introduces a new default.  We can change this to me more developer\nfriendly once CI stabilitizes.\n\nChange-Id: I2c74674c450e2459c6a875fe9e7c215c9fc01590\n'}]",0,633488,ca57815e95ff0103b1c798e3a06127132bf634f8,3,1,1,20970,,,0,"Add config options for remote webdriver

This introduces a new default.  We can change this to me more developer
friendly once CI stabilitizes.

Change-Id: I2c74674c450e2459c6a875fe9e7c215c9fc01590
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/88/633488/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_tripleo_ui/config.py', 'tempest_tripleo_ui/browser.py']",2,ca57815e95ff0103b1c798e3a06127132bf634f8,remote-webdriver," if CONF.tripleo_ui.use_remote: browser_factory = RemoteFactory(CONF.tripleo_ui.remote_path) elif browser_driver.lower() == ""chrome"": class RemoteFactory(object): def __init__(self, path): self.path = path def create(self): return webdriver.Remote( self.path, desired_capabilities=DesiredCapabilities.CHROME )"," if browser_driver.lower() == ""chrome"":",20,1
openstack%2Ftempest-tripleo-ui~master~I52cc613a4c0e8848aed805ce47442dc5f1d2ece7,openstack/tempest-tripleo-ui,master,I52cc613a4c0e8848aed805ce47442dc5f1d2ece7,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 05:07:59.000000000,2019-06-27 14:54:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-04 05:07:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/008badc8dffcc4eee60bbbde214466fa622973e5', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated.\nOpenstack-discuss replaces openstack-dev.\n\nChange-Id: I52cc613a4c0e8848aed805ce47442dc5f1d2ece7\n'}]",0,621993,008badc8dffcc4eee60bbbde214466fa622973e5,3,1,1,27078,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated.
Openstack-discuss replaces openstack-dev.

Change-Id: I52cc613a4c0e8848aed805ce47442dc5f1d2ece7
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/93/621993/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,008badc8dffcc4eee60bbbde214466fa622973e5,,author-email = openstack-discuss@lists.openstack.org tripleo_ui = tempest_tripleo_ui.plugin:TripleOUITempestPlugin ,author-email = openstack-dev@lists.openstack.org tripleo_ui = tempest_tripleo_ui.plugin:TripleOUITempestPlugin,2,2
openstack%2Ftempest-tripleo-ui~master~I715437c87042b8e7b1e9d40435256183a3be997a,openstack/tempest-tripleo-ui,master,I715437c87042b8e7b1e9d40435256183a3be997a,Text encoding fixes to the infrastructure,ABANDONED,2018-12-12 15:18:21.000000000,2019-06-27 14:54:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-12-12 15:18:21.000000000', 'files': ['tempest_tripleo_ui/core.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/4c2a01534a82bce49569c02919a5dabdeca2f312', 'message': ""Text encoding fixes to the infrastructure\n\nUsing .encoding('utf-8') in the Selenium infrastructure, where there\ncould be non-ascii characters in the text that's read from the page.\n\nChange-Id: I715437c87042b8e7b1e9d40435256183a3be997a\n""}]",0,624733,4c2a01534a82bce49569c02919a5dabdeca2f312,4,2,1,12946,,,0,"Text encoding fixes to the infrastructure

Using .encoding('utf-8') in the Selenium infrastructure, where there
could be non-ascii characters in the text that's read from the page.

Change-Id: I715437c87042b8e7b1e9d40435256183a3be997a
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/33/624733/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest_tripleo_ui/core.py'],1,4c2a01534a82bce49569c02919a5dabdeca2f312,text_encoding_fix," return webelement.text.encode('utf-8') by=identifier.by, value=identifier.identifier) def get_available_selections(self, webelement): sel = select.Select(webelement) options = [] for option in sel.options: options.append(option.text.encode('utf-8')) return options @selenium_action"," return webelement.text by=self.identifier.by, value=self.identifier.identifier)",11,3
openstack%2Ftempest-tripleo-ui~master~Ife7811868d97ff9a3745d565b500ec9002a243e2,openstack/tempest-tripleo-ui,master,Ife7811868d97ff9a3745d565b500ec9002a243e2,Infrastructure for the nodes page,ABANDONED,2018-12-14 13:39:04.000000000,2019-06-27 14:54:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-14 13:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/195eb8d41e36e3f22b7ffa180797aea1ac26c190', 'message': 'Infrastructure for the nodes page\n\nIdentifiers for the nodes page elements, and a basic infrastructure to interact with\nthe nodes. Includes also a few small tests to see that the elements can actually be\nfound and the infrastructure works.\n\nChange-Id: Ife7811868d97ff9a3745d565b500ec9002a243e2\n'}, {'number': 2, 'created': '2018-12-17 11:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/a5ece8b107ebde236de1d377552b824714fb46bd', 'message': 'Infrastructure for the nodes page\n\nIdentifiers for the nodes page elements, and a basic infrastructure to interact with\nthe nodes. Includes also a few small tests to see that the elements can actually be\nfound and the infrastructure works.\n\nChange-Id: Ife7811868d97ff9a3745d565b500ec9002a243e2\n'}, {'number': 3, 'created': '2018-12-17 12:27:09.000000000', 'files': ['tempest_tripleo_ui/tests/scenario/test_nodes_pages.py', 'tempest_tripleo_ui/widgets/nodes_page.py', 'tempest_tripleo_ui/models/nodes.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/5dab2d9fbc77583a6ba84551a9d7dae64eac41af', 'message': 'Infrastructure for the nodes page\n\nIdentifiers for the nodes page elements, and a basic infrastructure to interact with\nthe nodes. Includes also a few small tests to see that the elements can actually be\nfound and the infrastructure works.\n\nChange-Id: Ife7811868d97ff9a3745d565b500ec9002a243e2\n'}]",0,625255,5dab2d9fbc77583a6ba84551a9d7dae64eac41af,7,1,3,12946,,,0,"Infrastructure for the nodes page

Identifiers for the nodes page elements, and a basic infrastructure to interact with
the nodes. Includes also a few small tests to see that the elements can actually be
found and the infrastructure works.

Change-Id: Ife7811868d97ff9a3745d565b500ec9002a243e2
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/55/625255/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_tripleo_ui/tests/scenario/test_nodes_pages.py', 'tempest_tripleo_ui/widgets/nodes_page.py', 'tempest_tripleo_ui/models/nodes.py']",3,195eb8d41e36e3f22b7ffa180797aea1ac26c190,nodes_page,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from tempest.lib import exceptions from tempest_tripleo_ui import alerts from tempest_tripleo_ui.widgets import nodes_page from time import sleep from tempest_tripleo_ui.core import selenium_elements class IllegalOperation(exceptions.TempestException): message = ""Operation not permitted: %(msg)s"" class OperationFailed(exceptions.TempestException): message = ""Operation failed: %(msg)s"" class NodesPageNotFound(exceptions.TempestException): message = ""Could not navigate to the Nodes page"" class NodeNotFound(exceptions.TempestException): message = ""Node '%(node_name)s' not found in the nodes page"" class IllegalNodeIndex(exceptions.TempestException): message = ""Illegal node index '%(node_index)s'"" class UnexpectedProvisionState(exceptions.TempestException): message = ""Unexpected provision state for node '%(node_name)s': ""\ ""%(provision_state)s"" class UnexpectedIntrospectionState(exceptions.TempestException): message = ""Unexpected introspection state for node '%(node_name)s': ""\ ""%(introspection_state)s"" class UnexpectedProfile(exceptions.TempestException): message = ""Unexpected profile for node '%(node_name)s': ""\ ""%(profile)s"" class CantReadCpuCount(exceptions.TempestException): message = ""Can't locate or read CPU count for node: '%(node_name)s'"" class CantReadNodeMemory(exceptions.TempestException): message = ""Can't locate or read node memory for node: '%(node_name)s'"" class CantReadDiskSize(exceptions.TempestException): message = ""Can't locate or read node disk size for node: '%(node_name)s'"" class UndefinedNodesExist(exceptions.TempestException): message = ""Undefined nodes exist in the nodes registration dialog. ""\ ""All nodes should have a valid unique name before registering new ones"" logger = logging.getLogger(__name__) def navigate_to_nodes_page(): if nodes_page.register_nodes.wait_for_element(0): return item = nodes_page.navbar_item if ""active"" not in item.get_class(): logger.info(""Navigating to the Nodes page"") item.click() retries = 3 while ""active"" not in item.get_class() and retries > 0: sleep(1) item.click() retries -= 1 if not ""active"" in item.get_class(): raise NodesPageNotFound alerts.wait_for_spinner() def get_nodes_count(): navigate_to_nodes_page() elems = selenium_elements(nodes_page.all_node_names) if not elems: return 0 return len(elems) def get_displayed_nodes(): logger.info(""listing nodes ..."") displayed_nodes_list = [] for node_i in range(get_nodes_count()): node_name_elem = nodes_page.node_name(node_i) displayed_nodes_list.append(node_name_elem.get_text()) return displayed_nodes_list def get_node_idx(node_name_or_idx): try: # is it an int ? return int(node_name_or_idx) except ValueError: # it was a string... node_names = get_displayed_nodes() if node_name_or_idx not in node_names: raise NodeNotFound(node_name=node_name_or_idx) return node_names.index(node_name_or_idx) def get_node_name(idx): node_idx = 0 try: node_idx = int(idx) except: raise IllegalNodeIndex(node_index=idx) elem = nodes_page.node_name(node_idx) return elem.get_text().strip() def select_nodes(node_list): # see if there are any node names in node_list and make them indexes node_names = get_displayed_nodes() for idx in range(len(node_list)): try: node_list[idx] = int(node_list[idx]) except: node_idx = node_names.index(node_list[idx]) if node_idx < 0: raise NodeNotFound(node_name=node_list[idx]) node_list[idx] = node_idx # check and uncheck nodes for node_idx in range(len(node_names)): elem = nodes_page.checkbox_near_node(node_idx) sel = elem.is_selected() if (node_idx in node_list and sel == False) \ or (node_idx not in node_list and sel == True): elem.click() def get_node_power_state(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_power_state(node_idx) return elem.get_text().strip() def get_node_provision_state(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_provision_state(node_idx) txt = elem.get_text().strip() prefix = ""Provision State: "" if not txt.startswith(prefix): raise UnexpectedProvisionState( node_name=node_name_or_idx, provision_state=txt) return txt[len(prefix):] def get_node_introspection_state(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_introspection_status(node_idx) txt = elem.get_text().strip() prefix = ""Introspection: "" if not txt.startswith(prefix): raise UnexpectedIntrospectionState( node_name=node_name_or_idx, introspection_state=txt) return txt[len(prefix):] def get_node_profile(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_profile(node_idx) txt = elem.get_text().strip() prefix = ""Profile:\n "" if not txt.startswith(prefix): raise UnexpectedProfile( node_name=node_name_or_idx, profile=txt) return txt[len(prefix):] def get_node_cpu_count(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_cpu_count(node_idx) try: return int(elem.get_text().strip().split("" "")[0]) except: raise CantReadCpuCount( node_name=node_name_or_idx) def get_node_memory(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_memory(node_idx) try: return int(elem.get_text().strip().split("" "")[0]) except: raise CantReadNodeMemory( node_name=node_name_or_idx) def get_node_disk_size(node_name_or_idx): node_idx = get_node_idx(node_name_or_idx) elem = nodes_page.node_disk(node_idx) try: return int(elem.get_text().strip().split("" "")[0]) except: raise CantReadDiskSize( node_name=node_name_or_idx) def provide_nodes(node_list): select_nodes(node_list) elem = nodes_page.provide_nodes if not elem.is_enabled(): raise IllegalOperation( msg=""'provide' button disabled or not found"") logger.info('Providing nodes: {}'.format(node_list)) elem.click() sleep(1) alerts.wait_for_spinner( spinner_element=nodes_page.introspection_spinner) sleep(1) if not alerts.clear_success_message(): alerts.clear_danger_message() # will log errors raise OperationFailed( msg=""failed to provide nodes, did not see the success message "" ""(toast message)"") if alerts.clear_danger_message(): # despite the success, there might be errors return False return True def manage_nodes(node_list): select_nodes(node_list) logger.info('Setting nodes to manageable: {}'.format(node_list)) nodes_page.actions_kebab.click() nodes_page.manage_nodes.click() sleep(1) alerts.wait_for_spinner( spinner_element=nodes_page.introspection_spinner) sleep(1) if not alerts.clear_success_message(): alerts.clear_danger_message() # will log errors raise OperationFailed( msg=""failed to manage nodes, did not see the success message "" ""(toast message)"") if alerts.clear_danger_message(): # despite the success, there might be errors return False return True def tag_nodes(node_list, profile): select_nodes(node_list) logger.info('Tagging nodes to {}: {}'.format(profile, node_list)) nodes_page.actions_kebab.click() nodes_page.tag_nodes.click() sleep(1) if not nodes_page.profile_combo.wait_for_element(3): raise OperationFailed( msg=""failed to detect the nodes tagging dialog"") options = nodes_page.profile_combo.get_available_selections() logger.debug('Detected the following available profiles: {}'.format( options)) if not profile in options: nodes_page.profile_dialog_close.click() raise IllegalOperation( msg='no profile named {} in tagging dialog'.format(profile)) nodes_page.profile_combo.select_by_visible_text(profile) nodes_page.profile_dialog_confirm.click() sleep(1) alerts.wait_for_spinner( spinner_element=nodes_page.introspection_spinner) if alerts.clear_danger_message(): raise OperationFailed(msg='errors in tagging nodes') return True def introspect_nodes(node_list): select_nodes(node_list) elem = nodes_page.introspect_nodes if not elem.is_enabled(): raise IllegalOperation( msg=""'introspect' button disabled or not found"") logger.info('Introspecting nodes: {}'.format(node_list)) elem.click() sleep(1) alerts.wait_for_spinner( timeout=3600, spinner_element=nodes_page.introspection_spinner) sleep(1) alerts.clear_danger_message() # will log errors if not alerts.clear_success_message(): raise OperationFailed( msg=""node introspection failed (was it in manageable state?)"") ",,661,0
openstack%2Ftempest-tripleo-ui~master~I4651270a900bff42c3197a35c20991306d63e42f,openstack/tempest-tripleo-ui,master,I4651270a900bff42c3197a35c20991306d63e42f,Basic test for the Plans page elements,ABANDONED,2018-11-16 16:41:24.000000000,2019-06-27 14:54:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 28395}, {'_account_id': 28407}]","[{'number': 1, 'created': '2018-11-16 16:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/7cb2b9992d46a355dd4d49a1e8a19722e98cf4b5', 'message': 'Basic test for the Plans page elements\n\nInfrastructure to interact with the plans page. Plus, a short test that\nmakes sure that all elements on the page are found.\n\nChange-Id: I4651270a900bff42c3197a35c20991306d63e42f\n'}, {'number': 2, 'created': '2018-11-16 21:05:52.000000000', 'files': ['tempest_tripleo_ui/tests/scenario/test_plans_page.py', 'tempest_tripleo_ui/widgets/plans_page.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/9cc6fb4f2c2588e9fd2efaf53551aa42c2c54d4c', 'message': 'Basic test for the Plans page elements\n\nInfrastructure to interact with the plans page. Plus, a short test that\nmakes sure that all elements on the page are found.\n\nChange-Id: I4651270a900bff42c3197a35c20991306d63e42f\n'}]",0,618563,9cc6fb4f2c2588e9fd2efaf53551aa42c2c54d4c,7,3,2,12946,,,0,"Basic test for the Plans page elements

Infrastructure to interact with the plans page. Plus, a short test that
makes sure that all elements on the page are found.

Change-Id: I4651270a900bff42c3197a35c20991306d63e42f
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/63/618563/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_tripleo_ui/tests/scenario/test_plans_page.py', 'tempest_tripleo_ui/widgets/plans_page.py']",2,7cb2b9992d46a355dd4d49a1e8a19722e98cf4b5,plans_page,"kebab_menus = {} delete_plans = {} edit_plans = {} export_plans = {}def kebab_menu(plan_name): global kebab_menus if plan_name not in kebab_menus: kebab_menus[plan_name] = SeleniumElement.by_xpath( '//button[@id=""card-actions-{}""]'.format(plan_name)) return kebab_menus[plan_name] def delete_plan(plan_name): global delete_plans if plan_name not in delete_plans: delete_plans[plan_name] = SeleniumElement.by_xpath( '//ul[contains(@class, ""dropdown-menu"")]' '/li/a[@href=""/plans/manage/{}/delete""]'.format(plan_name)) return delete_plans[plan_name] def edit_plan(plan_name): global edit_plans if plan_name not in edit_plans: edit_plans[plan_name] = SeleniumElement.by_xpath( '//ul[contains(@class, ""dropdown-menu"")]' '/li/a[@href=""/plans/manage/{}/edit""]'.format(plan_name)) return edit_plans[plan_name] def export_plan(plan_name): global export_plans if plan_name not in export_plans: export_plans[plan_name] = SeleniumElement.by_xpath( '//ul[contains(@class, ""dropdown-menu"")]' '/li/a[@href=""/plans/manage/{}/export""]'.format(plan_name)) return export_plans[plan_name] plan_name = SeleniumElement.by_id( ""planName"") plan_from_default_templates = SeleniumElement.by_xpath( '//input[@value=""default""]') plan_from_local_directory = SeleniumElement.by_xpath( '//input[@value=""directory""]') plan_from_tarball = SeleniumElement.by_xpath( '//input[@value=""tarball""]') plan_from_git = SeleniumElement.by_xpath( '//input[@value=""git""]') browse_button_local_directory = SeleniumElement.by_id( 'files') browse_button_tarball = SeleniumElement.by_id( 'tarball') upload_files_button = SeleniumElement.by_id( 'NewPlanForm_submitButton') cancel_upload_button = SeleniumElement.by_id( 'NewPlanForm__cancelCreatePlanButton')",,172,0
openstack%2Ftempest-tripleo-ui~master~Ie6a6129e597805586a05be8236d1f270a263b035,openstack/tempest-tripleo-ui,master,Ie6a6129e597805586a05be8236d1f270a263b035,Basic test for the Deployment Page elements,ABANDONED,2018-10-25 12:49:29.000000000,2019-06-27 14:53:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28395}, {'_account_id': 28407}]","[{'number': 1, 'created': '2018-10-25 12:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/35e4b5a8c58174b1f616c4983523b4c29b54345e', 'message': ""Basic test for the deployment page elements\n\nPorted the infrastructure from the old framework, to support navigating\nto the deployment page and interact with the basic elements on it.\n\nAlso included is a basic test to click on the basic elements and open\nsome dialogs to make sure the identifiers haven't changed.\n\nChange-Id: Ie6a6129e597805586a05be8236d1f270a263b035\n""}, {'number': 2, 'created': '2018-11-15 13:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/fe148606b0eb5441b9f66f9b6a4712ef2940aa03', 'message': ""Basic test for the deployment page elements\n\nPorted the infrastructure from the old framework, to support navigating\nto the deployment page and interact with the basic elements on it.\n\nAlso included is a basic test to click on the basic elements and open\nsome dialogs to make sure the identifiers haven't changed.\n\nChange-Id: Ie6a6129e597805586a05be8236d1f270a263b035\n""}, {'number': 3, 'created': '2018-11-15 13:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/63ebc071b231e5b67b095d21dd96f855401f2f27', 'message': ""Basic test for the deployment page elements\n\nPorted the infrastructure from the old framework, to support navigating\nto the deployment page and interact with the basic elements on it.\n\nAlso included is a basic test to click on the basic elements and open\nsome dialogs to make sure the identifiers haven't changed.\n\nChange-Id: Ie6a6129e597805586a05be8236d1f270a263b035\n""}, {'number': 4, 'created': '2018-11-16 08:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/092051d1ddbb5725b9a778fb36498ed615f2edaa', 'message': ""Basic test for the Deployment Page elements\n\nPorted the infrastructure from the old framework, to support navigating\nto the deployment page and interact with the basic elements on it.\n\nAlso included is a basic test to click on the basic elements and open\nsome dialogs to make sure the identifiers haven't changed.\n\nChange-Id: Ie6a6129e597805586a05be8236d1f270a263b035\n""}, {'number': 5, 'created': '2018-11-16 10:33:22.000000000', 'files': ['tempest_tripleo_ui/tests/scenario/test_deployment_page.py', 'tempest_tripleo_ui/models/plans.py', 'tempest_tripleo_ui/models/deployment.py', 'tempest_tripleo_ui/widgets/deployment_page.py', 'tempest_tripleo_ui/widgets/plans_page.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/0e552679a1a6d0b3e533ff3dee34a3c8a19e3adb', 'message': ""Basic test for the Deployment Page elements\n\nPorted the infrastructure from the old framework, to support navigating\nto the deployment page and interact with the basic elements on it.\n\nAlso included is a basic test to click on the basic elements and open\nsome dialogs to make sure the identifiers haven't changed.\n\nChange-Id: Ie6a6129e597805586a05be8236d1f270a263b035\n""}]",0,613312,0e552679a1a6d0b3e533ff3dee34a3c8a19e3adb,13,3,5,12946,,,0,"Basic test for the Deployment Page elements

Ported the infrastructure from the old framework, to support navigating
to the deployment page and interact with the basic elements on it.

Also included is a basic test to click on the basic elements and open
some dialogs to make sure the identifiers haven't changed.

Change-Id: Ie6a6129e597805586a05be8236d1f270a263b035
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/12/613312/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_tripleo_ui/tests/scenario/test_deployment_page.py', 'tempest_tripleo_ui/models/plans.py', 'tempest_tripleo_ui/models/deployment.py', 'tempest_tripleo_ui/widgets/deployment_page.py', 'tempest_tripleo_ui/widgets/plans_page.py']",5,35e4b5a8c58174b1f616c4983523b4c29b54345e,deployment_page,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest_tripleo_ui.core import SeleniumElement, Identifier plan_names = {} def plan_header(idx): global plan_names if not str(idx) in plan_names: plan_names[str(idx)] = SeleniumElement.by_xpath( '(//div[contains(@class, ""card-pf"")]' '/div' '/h2[@class=""card-pf-title""])[{}]'.format(idx + 1)) return plan_names[str(idx)] navbar_item = SeleniumElement.by_id('NavBar__PlansTab') create_new_plan_button = SeleniumElement.by_id( ""ListPlans__importPlanLink"") create_new_plan_link = SeleniumElement.by_xpath( '//a[@href=""/plans/manage/new""]') all_plan_names = Identifier.xpath( '//div[contains(@class, ""card-pf"")]' '/div' '/h2[@class=""card-pf-title""]') active_plan_flag = SeleniumElement.by_xpath( '//div[contains(@class, ""active"") ' 'and contains(@class, ""plan-card"")]') ",,467,0
openstack%2Fnova~master~I736da9f665776c6a9af59a75e624b5739aeb269c,openstack/nova,master,I736da9f665776c6a9af59a75e624b5739aeb269c,Validate security group in API layer,ABANDONED,2018-11-28 06:45:11.000000000,2019-06-27 14:53:44.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-28 06:45:11.000000000', 'files': ['nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/66afd68c0b5a3a8e05311a420a17c19b85d40a5d', 'message': 'Validate security group in API layer\n\nwe should validate whether security group exists in API layer\nto reject invalid request.\n\nChange-Id: I736da9f665776c6a9af59a75e624b5739aeb269c\nCloses-Bug: 1805569\n'}]",2,620473,66afd68c0b5a3a8e05311a420a17c19b85d40a5d,15,13,1,6062,,,0,"Validate security group in API layer

we should validate whether security group exists in API layer
to reject invalid request.

Change-Id: I736da9f665776c6a9af59a75e624b5739aeb269c
Closes-Bug: 1805569
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/620473/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/security_group/neutron_driver.py'],1,66afd68c0b5a3a8e05311a420a17c19b85d40a5d,bug/1805569," search_opts = {'tenant_id': context.project_id} group = neutron.show_security_group(id, **search_opts).get( 'security_group') nova_group = self._convert_to_nova_security_group_format(group) # neutron don't allow filter through project id, # so check here to ensure no access to resource that # belong to current project if nova_group['project_id'] != context.project_id: raise exception.SecurityGroupNotFound( security_group_id=id) return nova_group ", group = neutron.show_security_group(id).get('security_group') return self._convert_to_nova_security_group_format(group),13,2
openstack%2Fnova~master~I4a2296ebda5a9e8f107771539bf8634b31e3c5b5,openstack/nova,master,I4a2296ebda5a9e8f107771539bf8634b31e3c5b5,Use an alternative class 'MoxStubout',ABANDONED,2018-07-02 08:08:42.000000000,2019-06-27 14:51:33.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-02 08:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8509369f5bef6525f4d6e9ab3bcb124c93cf357c', 'message': ""Use an alternative class 'MoxStubout'\n\nThe current class 'MoxStubout' is deprecated in oslo.test 3.5.0, we\ncan use the same fixture from mox3.\n\nChange-Id: I4a2296ebda5a9e8f107771539bf8634b31e3c5b5\nCloses-Bug: #1778784\n""}, {'number': 2, 'created': '2018-09-28 22:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34f4b38d409e21d7e9aa2ac5ac0cc490fd515d7f', 'message': ""Use an alternative class 'MoxStubout'\n\nThe current class 'MoxStubout' is deprecated in oslo.test 3.5.0, we\ncan use the same fixture from mox3.\n\nChange-Id: I4a2296ebda5a9e8f107771539bf8634b31e3c5b5\nCloses-Bug: #1778784\n""}, {'number': 3, 'created': '2018-11-03 00:57:24.000000000', 'files': ['nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/638bea9bc237dd53e535dc334db52d808f8179c3', 'message': ""Use an alternative class 'MoxStubout'\n\nThe current class 'MoxStubout' is deprecated in oslo.test 3.5.0, we\ncan use the same fixture from mox3.\n\nChange-Id: I4a2296ebda5a9e8f107771539bf8634b31e3c5b5\nCloses-Bug: #1778784\n""}]",0,579482,638bea9bc237dd53e535dc334db52d808f8179c3,41,18,3,19779,,,0,"Use an alternative class 'MoxStubout'

The current class 'MoxStubout' is deprecated in oslo.test 3.5.0, we
can use the same fixture from mox3.

Change-Id: I4a2296ebda5a9e8f107771539bf8634b31e3c5b5
Closes-Bug: #1778784
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/579482/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/test.py'],1,8509369f5bef6525f4d6e9ab3bcb124c93cf357c,bug/1778784,from mox3 import fixture as moxstubout,from oslotest import moxstubout,1,1
openstack%2Fglance~stable%2Fpike~Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f,openstack/glance,stable/pike,Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f,Add a local bindep.txt override,MERGED,2019-06-25 12:51:34.000000000,2019-06-27 14:48:25.000000000,2019-06-27 14:48:25.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 12:51:34.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/5ed509804980dd3013d0e9e4fe7a498b6c90d2e2', 'message': 'Add a local bindep.txt override\n\nThis avoids falling back to the global bindep-fallback.txt which\ninstalls a pretty big environment. Without this change, a lot\nof additional but unnecessary packages are installed on the nodepool\nworkers.\n\nChange-Id: Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f\n(cherry picked from commit 8db99e2213e6d597e9e8ac6cd9c00843e1b28eda)\n'}]",0,667358,5ed509804980dd3013d0e9e4fe7a498b6c90d2e2,8,4,1,17685,,,0,"Add a local bindep.txt override

This avoids falling back to the global bindep-fallback.txt which
installs a pretty big environment. Without this change, a lot
of additional but unnecessary packages are installed on the nodepool
workers.

Change-Id: Id6c17f9a53ad8ad5f0bb9d308ccf5d33a6f59f7f
(cherry picked from commit 8db99e2213e6d597e9e8ac6cd9c00843e1b28eda)
",git fetch https://review.opendev.org/openstack/glance refs/changes/58/667358/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,5ed509804980dd3013d0e9e4fe7a498b6c90d2e2,bindep-fallback,"[testenv:bindep] # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,33,0
openstack%2Fnova~master~Id66219bf054b5fda86656b6834ffd463a8d7f2e5,openstack/nova,master,Id66219bf054b5fda86656b6834ffd463a8d7f2e5,Don't recreate inst_base on source when using rbd backend in resize,ABANDONED,2018-09-27 05:42:49.000000000,2019-06-27 14:47:26.000000000,,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25284}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-27 05:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4dcad73cbe839972d7cda10499b4ee12f39d468', 'message': ""Don't recreate inst_base on source when using rbd backend in resize\n\nWhen resizing to other hosts, if inst_base is on shared storage, it\nwill recreate inst_base after moving inst_base to inst_base_resize.\nBut rbd backend is treated as shared storage too, it will create\ninst_base on source host also. In this situation, even if the resize\nfinished, the inst_base on source host will still exist.\nThis will trigger errors when live-migration to the source host.\n\nChange-Id: Id66219bf054b5fda86656b6834ffd463a8d7f2e5\nCloses-Bug:#1794647\n""}, {'number': 2, 'created': '2018-10-12 01:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbccf1dc834bd090a9fd67c0454b48627bd65ead', 'message': ""Don't recreate inst_base on source when using rbd backend in resize\n\nWhen resizing to other hosts, if inst_base is on shared storage, it\nwill recreate inst_base after moving inst_base to inst_base_resize.\nBut rbd backend is treated as shared storage too, it will create\ninst_base on source host also. In this situation, even if the resize\nfinished, the inst_base on source host will still exist.\nThis will trigger errors when live-migration to the source host.\n\nChange-Id: Id66219bf054b5fda86656b6834ffd463a8d7f2e5\nCloses-Bug:#1794647\n""}, {'number': 3, 'created': '2018-10-12 01:16:14.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/da955bc92b89eda8edb0f501911394db0d3a7fe7', 'message': ""Don't recreate inst_base on source when using rbd backend in resize\n\nWhen resizing to other hosts, if inst_base is on shared storage, it\nwill recreate inst_base after moving inst_base to inst_base_resize.\nBut rbd backend is treated as shared storage too, it will create\ninst_base on source host also. In this situation, even if the resize\nfinished, the inst_base on source host will still exist.\nThis will trigger errors when live-migration to the source host.\n\nChange-Id: Id66219bf054b5fda86656b6834ffd463a8d7f2e5\nCloses-Bug:#1794647\n""}]",8,605590,da955bc92b89eda8edb0f501911394db0d3a7fe7,43,18,3,25284,,,0,"Don't recreate inst_base on source when using rbd backend in resize

When resizing to other hosts, if inst_base is on shared storage, it
will recreate inst_base after moving inst_base to inst_base_resize.
But rbd backend is treated as shared storage too, it will create
inst_base on source host also. In this situation, even if the resize
finished, the inst_base on source host will still exist.
This will trigger errors when live-migration to the source host.

Change-Id: Id66219bf054b5fda86656b6834ffd463a8d7f2e5
Closes-Bug:#1794647
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/605590/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,f4dcad73cbe839972d7cda10499b4ee12f39d468,bug/1794647, # create the directory. If it is a remote node the directory if shared_storage and CONF.libvirt.images_type != 'rbd':, # create the directory. If it is a remote node the directory if shared_storage:,2,2
openstack%2Fplacement~stable%2Fstein~I5a0e805fe04c00c5e7cf316f0ea8d432b940e560,openstack/placement,stable/stein,I5a0e805fe04c00c5e7cf316f0ea8d432b940e560,Add support for osprofiler in wsgi,MERGED,2019-06-26 15:17:29.000000000,2019-06-27 14:44:43.000000000,2019-06-27 14:44:43.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 15:17:29.000000000', 'files': ['placement/wsgi.py', 'releasenotes/notes/fix-osprofiler-support-78b34a92c32fd30f.yaml', 'placement/deploy.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/bdcbb2604bcbb195fa6e3a1b504ec2c31531308b', 'message': 'Add support for osprofiler in wsgi\n\nTo use osprofiler with placement:\n\n* Add a [profiler] section to the placement.conf (and other openstack\n  service conf files):\n\n  [profiler]\n  connection_string = mysql+pymysql://root:admin@127.0.0.1/osprofiler?charset=utf8\n  hmac_keys = my-secret-key\n  trace_sqlalchemy = True\n  enabled = True\n\n* Include the hmac_keys in your API request\n\n  $ openstack server create --flavor c1 --image cirros-0.4.0-x86_64-disk \\\n    --os-profile my-secret-key vm --wait\n\n  The openstack client will return the trace id:\n\n  Trace ID: 67428cdd-bfaa-496f-b430-507165729246\n  $\n\n* Extrace the trace in html format\n\n  $ osprofiler trace show --html 67428cdd-bfaa-496f-b430-507165729246 \\\n    --connection-string mysql+pymysql://root:admin@127.0.0.1/osprofiler?charset=utf8\n\nHere is an example trace output for the above server create request\nincluding the placement interactions enabled by this patch:\nhttps://pste.eu/p/ZFsb.html\n\nStory: 2005842\nTask: 33616\n\n(cherry picked from commit 40c97d7346946963367d5a6a9b82f4d12761e228)\n\n Conflicts:\n        placement/deploy.py\n\nChange-Id: I5a0e805fe04c00c5e7cf316f0ea8d432b940e560\n'}]",1,667647,bdcbb2604bcbb195fa6e3a1b504ec2c31531308b,7,3,1,9708,,,0,"Add support for osprofiler in wsgi

To use osprofiler with placement:

* Add a [profiler] section to the placement.conf (and other openstack
  service conf files):

  [profiler]
  connection_string = mysql+pymysql://root:admin@127.0.0.1/osprofiler?charset=utf8
  hmac_keys = my-secret-key
  trace_sqlalchemy = True
  enabled = True

* Include the hmac_keys in your API request

  $ openstack server create --flavor c1 --image cirros-0.4.0-x86_64-disk \
    --os-profile my-secret-key vm --wait

  The openstack client will return the trace id:

  Trace ID: 67428cdd-bfaa-496f-b430-507165729246
  $

* Extrace the trace in html format

  $ osprofiler trace show --html 67428cdd-bfaa-496f-b430-507165729246 \
    --connection-string mysql+pymysql://root:admin@127.0.0.1/osprofiler?charset=utf8

Here is an example trace output for the above server create request
including the placement interactions enabled by this patch:
https://pste.eu/p/ZFsb.html

Story: 2005842
Task: 33616

(cherry picked from commit 40c97d7346946963367d5a6a9b82f4d12761e228)

 Conflicts:
        placement/deploy.py

Change-Id: I5a0e805fe04c00c5e7cf316f0ea8d432b940e560
",git fetch https://review.opendev.org/openstack/placement refs/changes/47/667647/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/wsgi.py', 'releasenotes/notes/fix-osprofiler-support-78b34a92c32fd30f.yaml', 'placement/deploy.py']",3,bdcbb2604bcbb195fa6e3a1b504ec2c31531308b,story/2005842,"from oslo_utils import importutilsos_profiler = importutils.try_import('osprofiler.profiler') os_profiler_web = importutils.try_import('osprofiler.web') if os_profiler_web and 'profiler' in conf and conf.profiler.enabled: osprofiler_middleware = os_profiler_web.WsgiMiddleware.factory( {}, **conf.profiler) else: osprofiler_middleware = None osprofiler_middleware,",,33,0
openstack%2Fnova~master~I5471c30f233fe4acaf1f9b545f91e09af1e60137,openstack/nova,master,I5471c30f233fe4acaf1f9b545f91e09af1e60137,Ignore misleading resource updates from virt driver,ABANDONED,2017-11-27 03:01:15.000000000,2019-06-27 14:42:34.000000000,,"[{'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9610}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11290}, {'_account_id': 12356}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26311}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29578}]","[{'number': 1, 'created': '2017-11-27 03:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8cc43ae8d8a08950f84047849d6080842700be9', 'message': 'Ignore some updates from virt driver\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nwill calculate the value according to the booted instances, so we\nshould not update these vaules from virt driver.\n\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\nCloses-Bug: #1733034\n'}, {'number': 2, 'created': '2018-01-25 12:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87d47f1e14f27fad35b1dc071deff307749dd882', 'message': 'Ignore some updates from virt driver\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nwill calculate the value according to the booted instances, so we\nshould not update these vaules from virt driver.\n\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\nCloses-Bug: #1733034\n'}, {'number': 3, 'created': '2018-04-02 17:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf836b7abcb6e027d243d7b82002a86d209862ce', 'message': 'Ignore some updates from virt driver\n\nDuring update_available_resource periodic task, compute node object\nin the database is first updated with the values reported from the\nsystem by virt driver\'s get_available_resource, then it is updated\nwith instance usages if the resources in the compute object are\ndifferent from the previous run of this periodic. The problem is,\non the first step, when resources are updated with values from virt\ndriver\'s get_available_resource, the resource_tracker is not\nnotified of that by update of old_resources dictionary, so on the\nnext update of actual instance usages, it compares current instance\nusage with previous instance usage, not taking into account that\nwhat is present in database at this point is system usages. The\nonly way it works properly is if instances are constantly being\ncreated/deleted/migrated.\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nwill calculate the value according to the booted instances, so we\nshould not update these vaules from virt driver.\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}, {'number': 4, 'created': '2018-04-02 19:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbd77690635696cdb1472587b1fa887a05d3d7ba', 'message': 'Ignore some updates from virt driver\n\nDuring update_available_resource periodic task, compute node object\nin the database is first updated by resource tracker\'s _update method\nwith the values reported from the system by virt driver\'s\nget_available_resource; then it is updated with instance usages by the\nsame method. In both cases, _update method saves the currently written\nusages to old_resources dictionary to check if new update brings any\nchanges, and skip it if it does not. The problem is, system usages\nare very unlikely to be the same as instance usages, so the resources\nupdate both in database and in placement are always going to be updated.\nIt can be avoided by the proposed fix.\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nshould calculate the value according to the booted instances, so we\ncan skip updating these vaules from virt driver.\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}, {'number': 5, 'created': '2018-06-28 10:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d9503b3cd564071596b50da7cb2b3dab953e7f2', 'message': 'Ignore some updates from virt driver\n\nDuring update_available_resource periodic task, compute node object\nin the database is first updated by resource tracker\'s _update method\nwith the values reported from the system by virt driver\'s\nget_available_resource; then it is updated with instance usages by the\nsame method. In both cases, _update method saves the currently written\nusages to old_resources dictionary to check if new update brings any\nchanges, and skip it if it does not. The problem is, system usages\nare very unlikely to be the same as instance usages, so the resources\nupdate both in database and in placement are always going to be updated.\nIt can be avoided by the proposed fix.\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nshould calculate the value according to the booted instances, so we\ncan skip updating these vaules from virt driver.\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}, {'number': 6, 'created': '2018-07-15 20:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03ec4479096052f5b724faedf22a0bb0265bac04', 'message': 'Ignore some updates from virt driver\n\nDuring update_available_resource periodic task, compute node object\nin the database is first updated by resource tracker\'s _update method\nwith the values reported from the system by virt driver\'s\nget_available_resource; then it is updated with instance usages by the\nsame method. In both cases, _update method saves the currently written\nusages to old_resources dictionary to check if new update brings any\nchanges, and skip it if it does not. The problem is, system usages\nare very unlikely to be the same as instance usages, so the resources\nupdate both in database and in placement are always going to be updated.\nIt can be avoided by the proposed fix.\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nshould calculate the value according to the booted instances, so we\ncan skip updating these vaules from virt driver.\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}, {'number': 7, 'created': '2018-08-15 13:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8d2a4f5a6da9da5325936bd14c0952650dd1672', 'message': 'Ignore some updates from virt driver\n\nDuring update_available_resource periodic task, compute node object\nin the database is first updated by resource tracker\'s _update method\nwith the values reported from the system by virt driver\'s\nget_available_resource; then it is updated with instance usages by the\nsame method. In both cases, _update method saves the currently written\nusages to old_resources dictionary to check if new update brings any\nchanges, and skip it if it does not. The problem is, system usages\nare very unlikely to be the same as instance usages, so the resources\nupdate both in database and in placement are always going to be updated.\nIt can be avoided by the proposed fix.\n\nFor ""vcpus_used"", ""memory_mb_used"", ""local_gb_used"", nova compute\nshould calculate the value according to the booted instances, so we\ncan skip updating these vaules from virt driver.\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}, {'number': 8, 'created': '2018-10-04 16:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a724f1f28e1c5274ef3e382b6fcce886072dec5', 'message': 'Ignore misleading resource updates from virt driver\n\nDuring the update_available_resource periodic task, the compute node\nobject is first updated by the _copy_resources method with values\nreported by the systems virt drivers get_available_resource. Then it\nis updated with instance usages by the _update_usage_from_instances\nmethod. This second update is only done if any instances changed on the\nhost. So after the second periodic task run after an instance change,\nthe resource usage reported by the virt driver ""wins"".\n\nThe problem is that system usages are very unlikely to be the same as\ninstance usages and don\'t reflect the resource usage which should be\nused for nova compute calculations.\n\nThis patch ignores the values for ""vcpus_used"", ""memory_mb_used"" and\n""local_gb_used"" from the virt driver. Nova compute should calculate\nthese values according to the booted instances.\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}, {'number': 9, 'created': '2018-10-24 12:39:26.000000000', 'files': ['nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b221f0325209add70f43ff97953238dac5c437c2', 'message': 'Ignore misleading resource updates from virt driver\n\nDuring the update_available_resource periodic task, the compute node\nobject is first updated by the _copy_resources method with values\nreported by the systems virt drivers get_available_resource. Then it\nis updated with instance usages by the _update_usage_from_instances\nmethod. This second update is only done if any instances changed on the\nhost. So after the second periodic task run after an instance change,\nthe resource usage reported by the virt driver ""wins"".\n\nThe problem is that system usages are very unlikely to be the same as\ninstance usages and don\'t reflect the resource usage which should be\nused for nova compute calculations.\n\nThis patch ignores the values for ""vcpus_used"", ""memory_mb_used"" and\n""local_gb_used"" from the virt driver. Nova compute should calculate\nthese values according to the booted instances.\n\nCo-Authored-By: Gaudenz Steinlin <gaudenz.steinlin@cloudscale.ch>\n\nCloses-Bug: #1733034\nChange-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137\n'}]",1,523006,b221f0325209add70f43ff97953238dac5c437c2,142,35,9,9610,,,0,"Ignore misleading resource updates from virt driver

During the update_available_resource periodic task, the compute node
object is first updated by the _copy_resources method with values
reported by the systems virt drivers get_available_resource. Then it
is updated with instance usages by the _update_usage_from_instances
method. This second update is only done if any instances changed on the
host. So after the second periodic task run after an instance change,
the resource usage reported by the virt driver ""wins"".

The problem is that system usages are very unlikely to be the same as
instance usages and don't reflect the resource usage which should be
used for nova compute calculations.

This patch ignores the values for ""vcpus_used"", ""memory_mb_used"" and
""local_gb_used"" from the virt driver. Nova compute should calculate
these values according to the booted instances.

Co-Authored-By: Gaudenz Steinlin <gaudenz.steinlin@cloudscale.ch>

Closes-Bug: #1733034
Change-Id: I5471c30f233fe4acaf1f9b545f91e09af1e60137
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/523006/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/compute_node.py', 'nova/compute/resource_tracker.py']",2,d8cc43ae8d8a08950f84047849d6080842700be9,bug/1733034," self._copy_resources(cn, resources, ignore=[""vcpus_used"", ""memory_mb_used"", ""local_gb_used""]) self._copy_resources(cn, resources, ignore=[""vcpus_used"", ""memory_mb_used"", ""local_gb_used""]) def _copy_resources(self, compute_node, resources, ignore=None): compute_node.update_from_virt_driver(resources, ignore)"," self._copy_resources(cn, resources) self._copy_resources(cn, resources) def _copy_resources(self, compute_node, resources): compute_node.update_from_virt_driver(resources)",14,5
openstack%2Frally~master~I8ce80b7b93d4846219ad886b8531daef56e16fa3,openstack/rally,master,I8ce80b7b93d4846219ad886b8531daef56e16fa3,Fix wrong assert function name,MERGED,2019-06-27 02:56:35.000000000,2019-06-27 14:40:23.000000000,2019-06-27 14:40:23.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 02:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/daf0abf574353b9e6260fa925890e64f758c5a3f', 'message': 'Fix wrong assert function name\n\nThis is to fix wrong assert function name of asser_called_once_with\n\nChange-Id: I8ce80b7b93d4846219ad886b8531daef56e16fa3\n'}, {'number': 2, 'created': '2019-06-27 03:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/513328c3bc0f7ff709ba0b6757319018b3fc59fa', 'message': 'Fix wrong assert function name\n\nThis is to fix wrong assert function name of asser_called_once_with\n\nChange-Id: I8ce80b7b93d4846219ad886b8531daef56e16fa3\n'}, {'number': 3, 'created': '2019-06-27 03:54:07.000000000', 'files': ['tests/unit/common/db/test_types.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3c529c7c4f666488e3eadb6a4dd06b881e0ebb3e', 'message': 'Fix wrong assert function name\n\nThis is to fix wrong assert function name of asser_called_once_with\n\nChange-Id: I8ce80b7b93d4846219ad886b8531daef56e16fa3\n'}]",0,667777,3c529c7c4f666488e3eadb6a4dd06b881e0ebb3e,10,2,3,20190,,,0,"Fix wrong assert function name

This is to fix wrong assert function name of asser_called_once_with

Change-Id: I8ce80b7b93d4846219ad886b8531daef56e16fa3
",git fetch https://review.opendev.org/openstack/rally refs/changes/77/667777/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/common/db/test_types.py'],1,daf0abf574353b9e6260fa925890e64f758c5a3f,asser," mock_json_loads.assert_called_once_with([(2, 1), (1, 2)])"," mock_json_loads.asser_called_once_with([(2, 1), (1, 2)])",1,1
openstack%2Fkolla~stable%2Fstein~I19447727f19dbd9c0a3e17d218b48ddc4c253587,openstack/kolla,stable/stein,I19447727f19dbd9c0a3e17d218b48ddc4c253587,Fix ownership of ironic inspector DHCP hostsdir,MERGED,2019-06-18 17:43:10.000000000,2019-06-27 14:36:01.000000000,2019-06-27 14:36:01.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-18 17:43:10.000000000', 'files': ['docker/ironic-inspector/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6acca35f5b3a7517881b5d494500e3b67152285d', 'message': ""Fix ownership of ironic inspector DHCP hostsdir\n\nIf you run with enable_ironic set to true and\nironic_inspector_pxe_filter set to dnsmasq (the default in stein),\nironic inspector can fail with the following in the logs:\n\nPermission denied: u'/var/lib/ironic-inspector/dhcp-hostsdir/<MAC address>'\n\nA node must be registered with a port for this to happen.\n\nWeirdly this happens on centos/source, ubuntu/source, and ubuntu/binary,\nbut not centos/binary.\n\nThis change changes the ownership of\n/var/lib/ironic-inspector/dhcp-hostsdir to ironic-inspector user to make\nit writeable.\n\nChange-Id: I19447727f19dbd9c0a3e17d218b48ddc4c253587\nCloses-Bug: #1832026\n(cherry picked from commit 41bcd7b4961fd52066b79804fdce9f81cc129735)\n""}]",0,666077,6acca35f5b3a7517881b5d494500e3b67152285d,24,7,1,14826,,,0,"Fix ownership of ironic inspector DHCP hostsdir

If you run with enable_ironic set to true and
ironic_inspector_pxe_filter set to dnsmasq (the default in stein),
ironic inspector can fail with the following in the logs:

Permission denied: u'/var/lib/ironic-inspector/dhcp-hostsdir/<MAC address>'

A node must be registered with a port for this to happen.

Weirdly this happens on centos/source, ubuntu/source, and ubuntu/binary,
but not centos/binary.

This change changes the ownership of
/var/lib/ironic-inspector/dhcp-hostsdir to ironic-inspector user to make
it writeable.

Change-Id: I19447727f19dbd9c0a3e17d218b48ddc4c253587
Closes-Bug: #1832026
(cherry picked from commit 41bcd7b4961fd52066b79804fdce9f81cc129735)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/666077/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ironic-inspector/Dockerfile.j2'],1,6acca35f5b3a7517881b5d494500e3b67152285d,bug/1832026-stable/stein, && mkdir -p /var/lib/ironic-inspector/dhcp-hostsdir \ && chown -R ironic-inspector: /etc/ironic-inspector /var/lib/ironic-inspector, && chown -R ironic-inspector: /etc/ironic-inspector,2,1
openstack%2Fmonasca-persister~stable%2Fstein~Ia12d04708a88308e88fcbd488d72f4313ba42a36,openstack/monasca-persister,stable/stein,Ia12d04708a88308e88fcbd488d72f4313ba42a36,Widen exception catch for point parse failure,MERGED,2019-06-25 11:18:13.000000000,2019-06-27 14:33:45.000000000,2019-06-27 14:33:44.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-25 11:18:13.000000000', 'files': ['monasca_persister/repositories/persister.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/37d24aff1322a16b93f31b2f806f3bdde08fea68', 'message': ""Widen exception catch for point parse failure\n\nThis change supports catching more parse errors which can jam\nthe persistor, such as:\n`partial write: unable to parse 'string_with_invalid_char.%'`.\n\nChange-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36\nStory: 2005430\nTask: 30468\n(cherry picked from commit f43d019a6726552f80d16a6e98cb947c063b4e74)\n""}]",0,667330,37d24aff1322a16b93f31b2f806f3bdde08fea68,12,3,1,17669,,,0,"Widen exception catch for point parse failure

This change supports catching more parse errors which can jam
the persistor, such as:
`partial write: unable to parse 'string_with_invalid_char.%'`.

Change-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36
Story: 2005430
Task: 30468
(cherry picked from commit f43d019a6726552f80d16a6e98cb947c063b4e74)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/30/667330/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/repositories/persister.py'],1,37d24aff1322a16b93f31b2f806f3bdde08fea68,," and ""unable to parse"" in ex.message: LOG.warning(""Some points were unable to be parsed and were dropped"")"," and ""unable to parse points"" in ex.message: LOG.warning(""Some points unable to parse were dropped"")",2,2
openstack%2Fopenstack-ansible-os_placement~master~Iace7d8c0342e745b54a1a17dbeb349cf3217bc3e,openstack/openstack-ansible-os_placement,master,Iace7d8c0342e745b54a1a17dbeb349cf3217bc3e,Fix aio_distro_metal jobs for openSUSE,MERGED,2019-06-19 14:04:01.000000000,2019-06-27 14:32:33.000000000,2019-06-27 14:32:33.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-19 14:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/840aeda48d881b5bed1b639ad7f5e35e407708c8', 'message': 'Fix aio_distro_metal jobs for openSUSE\n\nPackage list was missing the placement-api dependency.\n\nDepends-On: https://review.opendev.org/#/c/666058/\nChange-Id: Iace7d8c0342e745b54a1a17dbeb349cf3217bc3e\n'}, {'number': 2, 'created': '2019-06-27 09:43:05.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/259099f208047a19689b1e8f9b0b1da0013d6406', 'message': 'Fix aio_distro_metal jobs for openSUSE\n\nPackage list was missing the placement-api dependency.\n\nChange-Id: Iace7d8c0342e745b54a1a17dbeb349cf3217bc3e\n'}]",0,666298,259099f208047a19689b1e8f9b0b1da0013d6406,17,4,2,6593,,,0,"Fix aio_distro_metal jobs for openSUSE

Package list was missing the placement-api dependency.

Change-Id: Iace7d8c0342e745b54a1a17dbeb349cf3217bc3e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/98/666298/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,840aeda48d881b5bed1b639ad7f5e35e407708c8,,placement_service_distro_packages: - openstack-placement-api,placement_service_distro_packages: [],2,1
openstack%2Fpython-ironic-inspector-client~master~I025df89285d45adbfba84beae4e00f04b8a20bf8,openstack/python-ironic-inspector-client,master,I025df89285d45adbfba84beae4e00f04b8a20bf8,"Deprecates ""uuid"" parameters to Python calls when node is expected",MERGED,2019-03-11 20:45:00.000000000,2019-06-27 14:30:03.000000000,2019-03-20 11:27:34.000000000,"[{'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30099}]","[{'number': 1, 'created': '2019-03-11 20:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/d25d30573ab75243437355635b489fdf849c8504', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 2, 'created': '2019-03-12 20:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/21cbfa3dba2eaa9d421e665cff87fd7e9503544c', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 3, 'created': '2019-03-16 12:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/cf1edd77c5ec89ef20d9dae1c48ace47871dd5ce', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 4, 'created': '2019-03-18 09:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/bc53a1f0bb35cbbd7533324473f2240f120481b1', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 5, 'created': '2019-03-18 09:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/65271428e6e24b94b65dc27a860b0f594a1a56d2', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 6, 'created': '2019-03-18 17:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/9e4fb06bebb90ebddf547f21b4328ee5628f53e1', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 7, 'created': '2019-03-18 18:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/f582cbf6bcaee0aaf701d2107c8241e3a1676386', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 8, 'created': '2019-03-18 19:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/dbd8c11067adec56746202d2bc99694e233c8bd7', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 9, 'created': '2019-03-18 20:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/642c6680736abffa655eea7c935f55c4e93bc4da', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 10, 'created': '2019-03-18 21:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/365ac72448ee16f391e3b364b71d95d9df58af22', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 11, 'created': '2019-03-19 03:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/933eed7dbd56d59d859b0c64c2f212316952cbcf', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 12, 'created': '2019-03-19 08:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/7acc7430db6f3aea8bb1efcc60a74a6d1f272ea8', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}, {'number': 13, 'created': '2019-03-19 09:46:50.000000000', 'files': ['ironic_inspector_client/v1.py', 'releasenotes/notes/version-uuid-b7f9e57589314fe9.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/084d1dee763aa0a63d2bb04adea035d8ee09f6a1', 'message': 'Deprecates ""uuid"" parameters to Python calls when node is expected\n\nThis change adds a new parameter uuid default to None. Also if uuid\nis not none, DeprecationWarning is raised.\n\nChange-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8\nTask: #11751\n'}]",23,642564,084d1dee763aa0a63d2bb04adea035d8ee09f6a1,67,7,13,30099,,,0,"Deprecates ""uuid"" parameters to Python calls when node is expected

This change adds a new parameter uuid default to None. Also if uuid
is not none, DeprecationWarning is raised.

Change-Id: I025df89285d45adbfba84beae4e00f04b8a20bf8
Task: #11751
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/64/642564/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector_client/v1.py'],1,d25d30573ab75243437355635b489fdf849c8504,bug/1659562," def introspect(self, node_id=None, manage_boot=None, uuid=None): node_id = node_id or uuid if uuid: DeprecationWarning def reprocess(self, node_id=None, uuid=None): node_id = node_id or uuid if uuid: DeprecationWarning def get_status(self, node_id=None, uuid=None): node_id = node_id or uuid if uuid: DeprecationWarning def wait_for_finish(self, node_ids=None, retry_interval=DEFAULT_RETRY_INTERVAL, sleep_function=time.sleep, uuids=None): node_ids = node_ids or uuids if uuids: DeprecationWarning def get_data(self, node_id=None, raw=False, uuid=None): node_id = node_id or uuid if uuid: DeprecationWarning def abort(self, node_id=None, uuid=None): node_id = node_id or uuid if uuid: DeprecationWarning"," def introspect(self, uuid, manage_boot=None): def reprocess(self, uuid): def get_status(self, uuid): def wait_for_finish(self, uuids, retry_interval=DEFAULT_RETRY_INTERVAL, sleep_function=time.sleep): def get_data(self, uuid, raw=False): def abort(self, uuid):",25,7
openstack%2Fcloudkitty-dashboard~master~I07832b79b02871d5e6c8422ea91a7a6f11ae8137,openstack/cloudkitty-dashboard,master,I07832b79b02871d5e6c8422ea91a7a6f11ae8137,Add success and error messages on some forms,MERGED,2019-06-12 02:51:43.000000000,2019-06-27 14:29:04.000000000,2019-06-27 14:29:04.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-12 02:51:43.000000000', 'files': ['cloudkittydashboard/dashboards/admin/hashmap/forms.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/7212c0b4098976e24c66a0c86a1eeecf946274b9', 'message': 'Add success and error messages on some forms\n\nOn some forms, after the operation succeeds or fails,\nno prompt message is displayed.\n\nThis patch add success and error messages on some forms\n\nChange-Id: I07832b79b02871d5e6c8422ea91a7a6f11ae8137\n'}]",0,664765,7212c0b4098976e24c66a0c86a1eeecf946274b9,10,11,1,27822,,,0,"Add success and error messages on some forms

On some forms, after the operation succeeds or fails,
no prompt message is displayed.

This patch add success and error messages on some forms

Change-Id: I07832b79b02871d5e6c8422ea91a7a6f11ae8137
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/65/664765/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/dashboards/admin/hashmap/forms.py'],1,7212c0b4098976e24c66a0c86a1eeecf946274b9,Bug#1," try: field = fields_mgr.create_field(name=field, service_id=service_id) messages.success( request, _('Field was successfully created')) return field except Exception: horizon_exceptions.handle(request, _(""Unable to create field."")) try: group = api.cloudkittyclient(request).rating.hashmap.create_group( name=name) messages.success( request, _('Group was successfully created')) return group except Exception: horizon_exceptions.handle(request, _(""Unable to create group.""))"," return fields_mgr.create_field(name=field, service_id=service_id) return api.cloudkittyclient(request).rating.hashmap.create_group( name=name)",19,3
openstack%2Fkolla~master~I0514c02aaee1a413a7979c3a426e0484df839861,openstack/kolla,master,I0514c02aaee1a413a7979c3a426e0484df839861,Run nova api_db sync before db sync,MERGED,2019-06-17 10:04:07.000000000,2019-06-27 14:25:07.000000000,2019-06-27 11:41:49.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-17 10:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d766291b8ff4a880123a9e61d154e3dd29ccc4f9', 'message': 'Run nova api_db sync before db sync\n\nSince cells v2 was introduced, nova operators must run two commands to\nmigrate the database schemas of nova\'s databases - nova-manage api_db\nsync and nova-manage db sync. It is necessary to run them in this order,\nsince the db sync may depend on schema changes made to the api\ndatabase in the api_db sync. Executing the db sync first may fail,\nfor example with the following seen in a Queens to Rocky upgrade:\n\n    nova-manage db sync\n    ERROR: Could not access cell0.\n    Has the nova_api database been created?\n    Has the nova_cell0 database been created?\n    Has ""nova-manage api_db sync"" been run?\n    Has ""nova-manage cell_v2 map_cell0"" been run?\n    Is [api_database]/connection set in nova.conf?\n    Is the cell0 database connection URL correct?\n    Error: (pymysql.err.InternalError) (1054, u""Unknown column\n            \'cell_mappings.disabled\' in \'field list\'"") [SQL: u\'SELECT\n    cell_mappings.created_at AS cell_mappings_created_at,\n    cell_mappings.updated_at AS cell_mappings_updated_at,\n    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS\n    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,\n    cell_mappings.transport_url AS cell_mappings_transport_url,\n    cell_mappings.database_connection AS\n    cell_mappings_database_connection, cell_mappings.disabled AS\n    cell_mappings_disabled \\nFROM cell_mappings \\nWHERE\n    cell_mappings.uuid = %(uuid_1)s \\n LIMIT %(param_1)s\'] [parameters:\n    {u\'uuid_1\': \'00000000-0000-0000-0000-000000000000\', u\'param_1\': 1}]\n    (Background on this error at: http://sqlalche.me/e/2j85)\n\nDespite this error, the command actually exits zero, so kolla does not notice\nthe failure.\n\nThis change reorders these two commands to run the api_db sync before the db\nsync.\n\nChange-Id: I0514c02aaee1a413a7979c3a426e0484df839861\nCloses-Bug: #1832860\n'}, {'number': 2, 'created': '2019-06-17 10:07:23.000000000', 'files': ['docker/nova/nova-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/84a07102e2db92333ce416a520151f1a1856f162', 'message': 'Run nova api_db sync before db sync\n\nBackport: Stein, Rocky\n\nSince cells v2 was introduced, nova operators must run two commands to\nmigrate the database schemas of nova\'s databases - nova-manage api_db\nsync and nova-manage db sync. It is necessary to run them in this order,\nsince the db sync may depend on schema changes made to the api\ndatabase in the api_db sync. Executing the db sync first may fail,\nfor example with the following seen in a Queens to Rocky upgrade:\n\n    nova-manage db sync\n    ERROR: Could not access cell0.\n    Has the nova_api database been created?\n    Has the nova_cell0 database been created?\n    Has ""nova-manage api_db sync"" been run?\n    Has ""nova-manage cell_v2 map_cell0"" been run?\n    Is [api_database]/connection set in nova.conf?\n    Is the cell0 database connection URL correct?\n    Error: (pymysql.err.InternalError) (1054, u""Unknown column\n            \'cell_mappings.disabled\' in \'field list\'"") [SQL: u\'SELECT\n    cell_mappings.created_at AS cell_mappings_created_at,\n    cell_mappings.updated_at AS cell_mappings_updated_at,\n    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS\n    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,\n    cell_mappings.transport_url AS cell_mappings_transport_url,\n    cell_mappings.database_connection AS\n    cell_mappings_database_connection, cell_mappings.disabled AS\n    cell_mappings_disabled \\nFROM cell_mappings \\nWHERE\n    cell_mappings.uuid = %(uuid_1)s \\n LIMIT %(param_1)s\'] [parameters:\n    {u\'uuid_1\': \'00000000-0000-0000-0000-000000000000\', u\'param_1\': 1}]\n    (Background on this error at: http://sqlalche.me/e/2j85)\n\nDespite this error, the command actually exits zero, so kolla does not notice\nthe failure.\n\nThis change reorders these two commands to run the api_db sync before the db\nsync.\n\nChange-Id: I0514c02aaee1a413a7979c3a426e0484df839861\nCloses-Bug: #1832860\n'}]",0,665634,84a07102e2db92333ce416a520151f1a1856f162,12,5,2,14826,,,0,"Run nova api_db sync before db sync

Backport: Stein, Rocky

Since cells v2 was introduced, nova operators must run two commands to
migrate the database schemas of nova's databases - nova-manage api_db
sync and nova-manage db sync. It is necessary to run them in this order,
since the db sync may depend on schema changes made to the api
database in the api_db sync. Executing the db sync first may fail,
for example with the following seen in a Queens to Rocky upgrade:

    nova-manage db sync
    ERROR: Could not access cell0.
    Has the nova_api database been created?
    Has the nova_cell0 database been created?
    Has ""nova-manage api_db sync"" been run?
    Has ""nova-manage cell_v2 map_cell0"" been run?
    Is [api_database]/connection set in nova.conf?
    Is the cell0 database connection URL correct?
    Error: (pymysql.err.InternalError) (1054, u""Unknown column
            'cell_mappings.disabled' in 'field list'"") [SQL: u'SELECT
    cell_mappings.created_at AS cell_mappings_created_at,
    cell_mappings.updated_at AS cell_mappings_updated_at,
    cell_mappings.id AS cell_mappings_id, cell_mappings.uuid AS
    cell_mappings_uuid, cell_mappings.name AS cell_mappings_name,
    cell_mappings.transport_url AS cell_mappings_transport_url,
    cell_mappings.database_connection AS
    cell_mappings_database_connection, cell_mappings.disabled AS
    cell_mappings_disabled \nFROM cell_mappings \nWHERE
    cell_mappings.uuid = %(uuid_1)s \n LIMIT %(param_1)s'] [parameters:
    {u'uuid_1': '00000000-0000-0000-0000-000000000000', u'param_1': 1}]
    (Background on this error at: http://sqlalche.me/e/2j85)

Despite this error, the command actually exits zero, so kolla does not notice
the failure.

This change reorders these two commands to run the api_db sync before the db
sync.

Change-Id: I0514c02aaee1a413a7979c3a426e0484df839861
Closes-Bug: #1832860
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/665634/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-api/extend_start.sh'],1,d766291b8ff4a880123a9e61d154e3dd29ccc4f9,bug/1832860, nova-manage db sync nova-manage db sync, nova-manage db sync nova-manage db sync,2,2
openstack%2Frally-openstack~master~Idefeadea68537b6f9603ce3640c478531d784495,openstack/rally-openstack,master,Idefeadea68537b6f9603ce3640c478531d784495,Add test scenario for Neutron bulk port creation,NEW,2019-06-07 16:37:47.000000000,2019-06-27 14:23:34.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 16:37:47.000000000', 'files': ['rally_openstack/scenarios/neutron/network.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b205a454a14458406e8fea0db2e5857df7b24326', 'message': 'Add test scenario for Neutron bulk port creation\n\nWhen creating resources in Neutron, most resource types will allow you\nto specify an array of options instead of just one.  Neutron will then\ncreate many resources, one each per item in the array of options.  This\nis known as a ""bulk"" transaction in Neutron.\n\nIn the Stein cycle, a significant amount of work [1] was spent trying to\noptimize the workflow for bulk port creation specifically, in order to\nsupport Kuryr.  Kuryr allocates pools of ports, on the order of\nthousands at a time, in order to create pools of ports that can be doled\nout to containers on demand [2].\n\nThis change aims to start providing test data to show how fast bulk port\ncreation happens so that can start to be tracked over time and\nimprovements validated with real data.\n\n[1] https://review.opendev.org/#/q/topic:bp/speed-up-neutron-bulk-creation+(status:open+OR+status:merged)\n[2] https://ltomasbo.wordpress.com/2017/05/09/kuryr-ports-pool-speeding-up-containers-booting-time-on-neutron-networks/\n\nChange-Id: Idefeadea68537b6f9603ce3640c478531d784495\n'}]",4,663994,b205a454a14458406e8fea0db2e5857df7b24326,7,2,1,13995,,,0,"Add test scenario for Neutron bulk port creation

When creating resources in Neutron, most resource types will allow you
to specify an array of options instead of just one.  Neutron will then
create many resources, one each per item in the array of options.  This
is known as a ""bulk"" transaction in Neutron.

In the Stein cycle, a significant amount of work [1] was spent trying to
optimize the workflow for bulk port creation specifically, in order to
support Kuryr.  Kuryr allocates pools of ports, on the order of
thousands at a time, in order to create pools of ports that can be doled
out to containers on demand [2].

This change aims to start providing test data to show how fast bulk port
creation happens so that can start to be tracked over time and
improvements validated with real data.

[1] https://review.opendev.org/#/q/topic:bp/speed-up-neutron-bulk-creation+(status:open+OR+status:merged)
[2] https://ltomasbo.wordpress.com/2017/05/09/kuryr-ports-pool-speeding-up-containers-booting-time-on-neutron-networks/

Change-Id: Idefeadea68537b6f9603ce3640c478531d784495
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/94/663994/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/neutron/network.py'],1,b205a454a14458406e8fea0db2e5857df7b24326,neutron_bulk_port_check,"@validation.add(""number"", param_name=""ports"", minval=1, integer_only=True) @validation.add(""required_services"", services=[consts.Service.NEUTRON]) @scenario.configure(context={""cleanup@openstack"": [""neutron""]}, name=""NeutronNetworks.bulk_port_create"", platform=""openstack"") class BulkPortCreate(utils.NeutronScenario): def run(self, network_create_args=None, security_group_create_args=None, ports=100): """"""Bulk create ports Measure the performance for neutron bulk port creation :param network_create_args: dict, POST /v2.0/networks request options. Deprecated. :param security_group_create_args: dict, POST /v2.0/security_groups request options :param ports: int, number of ports to create """""" network = self._get_or_create_network(network_create_args) security_group = _create_security_group(security_group_create_args) security_groups = [security_group['id']] bulk_port_req = {'ports': []} bulk_port_req['ports'].extend([{ 'binding:host_id': hyper.hypervisor_hostname, 'project_id': None, 'network_id': network['id'], 'device_owner': 'compute:kuryr', 'admin_state_up': True, 'name': 'kaboom', 'security_groups': security_groups} for _ in range(ports)]) return self.clients(""neutron"").create_port(bulk_port_req) ",,35,0
openstack%2Fironic~master~I8dad2e8ef5ff39167995dfe8266a48e80a29788b,openstack/ironic,master,I8dad2e8ef5ff39167995dfe8266a48e80a29788b,Add check on get_endpoint returning None,MERGED,2019-06-17 09:53:58.000000000,2019-06-27 14:20:39.000000000,2019-06-27 14:20:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 09:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cad922d336364a49928656631c56f0d4adc25dc1', 'message': 'Add check on get_endpoint returning None\n\nCurrently we expect keystoneauth to raise on missing endpoint, but in\nmany cases it returns None from get_endpoint instead. This causes two\nkinds of problems:\n* Raising Python exceptions in the code that is not ready to handle None\n  (e.g. get_ironic_api_url in deploy_utils).\n* Passing endpoint_override=None to client constructors, thus effectively\n  ignoring provided adapter configuration options.\nThis change turns None into a proper error.\n\nChange-Id: I8dad2e8ef5ff39167995dfe8266a48e80a29788b\n'}, {'number': 2, 'created': '2019-06-19 14:24:20.000000000', 'files': ['ironic/common/keystone.py', 'releasenotes/notes/api-none-cdb95e58b69a5c50.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/cinder.py', 'ironic/common/swift.py', 'ironic/common/neutron.py', 'ironic/common/glance_service/image_service.py', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2ee05a0b1af0cc6c4b52ab3f74d006012aee046', 'message': 'Add check on get_endpoint returning None\n\nCurrently we expect keystoneauth to raise on missing endpoint, but in\nmany cases it returns None from get_endpoint instead. This causes two\nkinds of problems:\n* Raising Python exceptions in the code that is not ready to handle None\n  (e.g. get_ironic_api_url in deploy_utils).\n* Passing endpoint_override=None to client constructors, thus effectively\n  ignoring provided adapter configuration options.\nThis change turns None into a proper error.\n\nChange-Id: I8dad2e8ef5ff39167995dfe8266a48e80a29788b\n'}]",3,665632,b2ee05a0b1af0cc6c4b52ab3f74d006012aee046,24,8,2,10239,,,0,"Add check on get_endpoint returning None

Currently we expect keystoneauth to raise on missing endpoint, but in
many cases it returns None from get_endpoint instead. This causes two
kinds of problems:
* Raising Python exceptions in the code that is not ready to handle None
  (e.g. get_ironic_api_url in deploy_utils).
* Passing endpoint_override=None to client constructors, thus effectively
  ignoring provided adapter configuration options.
This change turns None into a proper error.

Change-Id: I8dad2e8ef5ff39167995dfe8266a48e80a29788b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/665632/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'releasenotes/notes/api-none-cdb95e58b69a5c50.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/cinder.py', 'ironic/common/swift.py', 'ironic/common/neutron.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/common/glance_service/v2/image_service.py', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",10,cad922d336364a49928656631c56f0d4adc25dc1,api-none," @mock.patch('ironic.common.keystone.get_auth') @mock.patch.object(utils, '_get_ironic_session') @mock.patch('ironic.common.keystone.get_adapter') def test_get_ironic_api_url_none(self, mock_ka, mock_ks, mock_auth): mock_sess = mock.Mock() mock_ks.return_value = mock_sess mock_ka.return_value.get_endpoint.return_value = None self.config(api_url=None, group='conductor') self.assertRaises(exception.InvalidParameterValue, utils.get_ironic_api_url) ",,58,24
openstack%2Fnetworking-ovn~master~Ie4413a2e051c42ee842f7a134dc68125f5eb2d71,openstack/networking-ovn,master,Ie4413a2e051c42ee842f7a134dc68125f5eb2d71,Add network UUID to LRP external_ids,ABANDONED,2019-06-26 14:58:15.000000000,2019-06-27 14:17:22.000000000,,"[{'_account_id': 8655}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-06-26 14:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7d4d73c56f412fab80b462495653bc1c56e9be3b', 'message': ""Add network UUID to LRP external_ids\n\nFor Octavia Event Handler Patch [1] we need to add neutron\nnetwork_id to LRP external_ids.\nWhile removing external gateway from router that has been connected\nto public network with applied LB on we need to remove corresponding\nLB from router.\nTo achieve that we need to have an information about which LS the\nLSP was connected to and to which LR the LRP was connected to.\nThose two informations were spread to two logical places: first is LS,\nsecond is LRP.\nImagine clearing router external gateway association. In this time\nboth LRP and LSP are deleted at once and there is no chance to read\neach others data from LogicalRouterPortEvent or LogicalSwitchPortEvent.\nSo we could propose to add neutron network_id to LRP to easily\nfind LS where corresponding LSP was connected to and at the end\ndo the job.\nNeutron port, same as LRP, could be connected to only one network\nso we're save by specifing network uuid in LRP external_ids.\n\n[1] https://review.opendev.org/#/c/608862/\n\nReleated-Bug: #1794260\nChange-Id: Ie4413a2e051c42ee842f7a134dc68125f5eb2d71\n""}, {'number': 2, 'created': '2019-06-27 07:56:16.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b98334a1637183b61203cfc78b9ac735f6aa1a50', 'message': ""Add network UUID to LRP external_ids\n\nFor Octavia Event Handler Patch [1] we need to add neutron\nnetwork_id to LRP external_ids.\nWhile removing LRP from router that has been connected to\nsome network we need to remove corresponding LB if exists.\n\nTo achieve that we need to have an information about which LS the\nLSP was connected to and to which LR the LRP was connected to.\nThose two informations were spread to two places: first is LS,\nsecond is LRP.\n\nNow both LRP and LSP are deleted at once and there is no chance to read\neach others data from LogicalRouterPortEvent or LogicalSwitchPortEvent.\nSo we could propose to add neutron network_id to LRP to easily\nfind LS where corresponding LSP was connected to and at the end\ndo the job.\n\nNeutron port, same as LRP, could be connected to only one network\nso we're save by specifing network uuid in LRP external_ids.\n\n[1] https://review.opendev.org/#/c/608862/\n\nReleated-Bug: #1794260\nChange-Id: Ie4413a2e051c42ee842f7a134dc68125f5eb2d71\n""}]",2,667642,b98334a1637183b61203cfc78b9ac735f6aa1a50,8,4,2,24791,,,0,"Add network UUID to LRP external_ids

For Octavia Event Handler Patch [1] we need to add neutron
network_id to LRP external_ids.
While removing LRP from router that has been connected to
some network we need to remove corresponding LB if exists.

To achieve that we need to have an information about which LS the
LSP was connected to and to which LR the LRP was connected to.
Those two informations were spread to two places: first is LS,
second is LRP.

Now both LRP and LSP are deleted at once and there is no chance to read
each others data from LogicalRouterPortEvent or LogicalSwitchPortEvent.
So we could propose to add neutron network_id to LRP to easily
find LS where corresponding LSP was connected to and at the end
do the job.

Neutron port, same as LRP, could be connected to only one network
so we're save by specifing network uuid in LRP external_ids.

[1] https://review.opendev.org/#/c/608862/

Releated-Bug: #1794260
Change-Id: Ie4413a2e051c42ee842f7a134dc68125f5eb2d71
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/42/667642/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,7d4d73c56f412fab80b462495653bc1c56e9be3b,bug/1794260," ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(self.fake_network['id'])}} ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(self.fake_network['id'])}, 'mac_address': 'aa:aa:aa:aa:aa:aa', 'network_id': 'network-id1' ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(self.fake_network['id'])})"," ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}} ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}, 'mac_address': 'aa:aa:aa:aa:aa:aa' ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'})",14,5
openstack%2Fopenstack-ansible~stable%2Fstein~I1a039f4cbab97f64d85749d43f8ed79cd9e751e5,openstack/openstack-ansible,stable/stein,I1a039f4cbab97f64d85749d43f8ed79cd9e751e5,"Revert ""Set CentOS 7 distro job to non-voting""",MERGED,2019-06-13 17:52:37.000000000,2019-06-27 14:16:26.000000000,2019-06-27 14:16:26.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-13 17:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9eaa8e85d0495f4002012051e553a13daf3aee64', 'message': 'Revert ""Set CentOS 7 distro job to non-voting""\n\nThis reverts commit 8024dc873ac31d171f0960e3bcdac7ade013102c.\n\nDepends-On: https://review.opendev.org/#/c/665189\n\nChange-Id: I1a039f4cbab97f64d85749d43f8ed79cd9e751e5\n'}, {'number': 2, 'created': '2019-06-13 18:43:59.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a64fb127ed034ea06795cd6db15a6376f3e629d5', 'message': 'Revert ""Set CentOS 7 distro job to non-voting""\n\nThis reverts commit 8024dc873ac31d171f0960e3bcdac7ade013102c.\n\nDepends-On: https://review.opendev.org/#/c/665209\n\nChange-Id: I1a039f4cbab97f64d85749d43f8ed79cd9e751e5\n'}]",0,665192,a64fb127ed034ea06795cd6db15a6376f3e629d5,13,3,2,14805,,,0,"Revert ""Set CentOS 7 distro job to non-voting""

This reverts commit 8024dc873ac31d171f0960e3bcdac7ade013102c.

Depends-On: https://review.opendev.org/#/c/665209

Change-Id: I1a039f4cbab97f64d85749d43f8ed79cd9e751e5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/665192/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,9eaa8e85d0495f4002012051e553a13daf3aee64,rdo-stable-branch, - openstack-ansible-deploy-aio_distro_metal-centos-7 gate: jobs: - openstack-ansible-deploy-aio_distro_metal-centos-7, - openstack-ansible-deploy-aio_distro_metal-centos-7: voting: false,4,2
openstack%2Fopenstack-ansible-os_placement~master~Ic9a12d7f04288f838cfc80c2b7725d20fec1dde9,openstack/openstack-ansible-os_placement,master,Ic9a12d7f04288f838cfc80c2b7725d20fec1dde9,db_setup: refactor database setup to a common file,MERGED,2019-06-17 17:46:32.000000000,2019-06-27 14:16:25.000000000,2019-06-27 14:16:25.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 17:46:32.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/placement_db_setup.yml', 'tasks/placement_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/2bdc2eebb248019e17a1cec80dc364cef529c780', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\n This also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Ic9a12d7f04288f838cfc80c2b7725d20fec1dde9\n'}]",0,665733,2bdc2eebb248019e17a1cec80dc364cef529c780,7,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

 This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: Ic9a12d7f04288f838cfc80c2b7725d20fec1dde9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/33/665733/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/placement_db_setup.yml', 'tasks/placement_db_sync.yml']",4,2bdc2eebb248019e17a1cec80dc364cef529c780,osa/db-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Perform a Placement DB sync command: ""{{ placement_bin }}/placement-manage db sync"" become: yes become_user: ""{{ placement_system_user_name }}"" changed_when: false ",,77,47
openstack%2Ftripleo-ansible~master~I52338112b5d65a8d9d8efacaf06db5f19e5a4069,openstack/tripleo-ansible,master,I52338112b5d65a8d9d8efacaf06db5f19e5a4069,Add tripleo SA and multindoe jobs,ABANDONED,2019-06-26 04:55:01.000000000,2019-06-27 14:12:27.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 04:55:01.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5de1caa12989bfda1e8263d85da2ebedf5c9159b', 'message': 'Add tripleo SA and multindoe jobs\n\nChange-Id: I52338112b5d65a8d9d8efacaf06db5f19e5a4069\n'}]",0,667506,5de1caa12989bfda1e8263d85da2ebedf5c9159b,4,2,1,10969,,,0,"Add tripleo SA and multindoe jobs

Change-Id: I52338112b5d65a8d9d8efacaf06db5f19e5a4069
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/667506/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,5de1caa12989bfda1e8263d85da2ebedf5c9159b,jobs, - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-scenario012-standalone - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-scenario012-standalone,,13,0
openstack%2Fopenstack-ansible-os_rally~master~I2bf2e2d3b8cb465223a57a4e43f37f72b5d9c93e,openstack/openstack-ansible-os_rally,master,I2bf2e2d3b8cb465223a57a4e43f37f72b5d9c93e,db_setup: refactor database setup to a common file,MERGED,2019-06-17 17:52:02.000000000,2019-06-27 14:05:55.000000000,2019-06-27 14:05:55.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-17 17:52:02.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/rally_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/807cd4b54db775cfb56a38ef7bb01f99e4bacd74', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I2bf2e2d3b8cb465223a57a4e43f37f72b5d9c93e\n'}]",0,665737,807cd4b54db775cfb56a38ef7bb01f99e4bacd74,9,4,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I2bf2e2d3b8cb465223a57a4e43f37f72b5d9c93e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/37/665737/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/rally_db_setup.yml']",3,807cd4b54db775cfb56a38ef7bb01f99e4bacd74,osa/db-refactor,,"- name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ rally_galera_address }}"" name: ""{{ rally_galera_database }}"" state: ""present"" delegate_to: ""{{ rally_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ rally_galera_address }}"" name: ""{{ rally_galera_user }}"" password: ""{{ rally_galera_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ rally_galera_database }}.*:ALL"" delegate_to: ""{{ rally_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True ",54,26
openstack%2Fopenstack-ansible-os_trove~master~I7c0bd52aab6c704548d969bb6dc8a5dea3eed8c0,openstack/openstack-ansible-os_trove,master,I7c0bd52aab6c704548d969bb6dc8a5dea3eed8c0,db_setup: refactor database setup to a common file,MERGED,2019-06-17 18:07:19.000000000,2019-06-27 14:05:07.000000000,2019-06-27 14:05:07.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 18:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/0bf30acc93562dbff2f55607d668639a052f3941', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I7c0bd52aab6c704548d969bb6dc8a5dea3eed8c0\n'}, {'number': 2, 'created': '2019-06-22 03:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/83636089ced67e071d76a94a0bdf9a3b7aaba8a1', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/665458\n\nChange-Id: I7c0bd52aab6c704548d969bb6dc8a5dea3eed8c0\n'}, {'number': 3, 'created': '2019-06-25 20:15:27.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/trove_db_setup.yml', 'tasks/trove_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/e4a8d5540d8bf89a6cf1d1c22eb92c1cdafd6361', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nDepends-On: https://review.opendev.org/667287\n\nChange-Id: I7c0bd52aab6c704548d969bb6dc8a5dea3eed8c0\n'}]",0,665741,e4a8d5540d8bf89a6cf1d1c22eb92c1cdafd6361,11,3,3,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Depends-On: https://review.opendev.org/667287

Change-Id: I7c0bd52aab6c704548d969bb6dc8a5dea3eed8c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/41/665741/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/trove_db_setup.yml', 'tasks/trove_db_sync.yml']",4,0bf30acc93562dbff2f55607d668639a052f3941,osa/db-refactor,"--- # Copyright 2016 Internet Solutions (Pty) Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # (c) 2016 Donovan Francesco <donovan.francesco@is.co.za> # (c) 2016 Paul Stevens <paul.stevens@is.co.za> - name: Perform a trove DB sync command: > {{ trove_bin }}/trove-manage --config-file=/etc/trove/{{ trove_services['trove-conductor']['service_name'] }}.conf db_sync {{ trove_db_sync_options }} become: yes become_user: ""{{ trove_system_user_name }}"" changed_when: false ",,101,72
openstack%2Fkolla-ansible~master~Ia7041be384ac07d0a790c2c5c68b1b31ff0e567a,openstack/kolla-ansible,master,Ia7041be384ac07d0a790c2c5c68b1b31ff0e567a,Add support for neutron custom dnsmasq.conf,MERGED,2019-06-27 07:47:06.000000000,2019-06-27 13:59:42.000000000,2019-06-27 13:59:42.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 07:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1394227ebf9282501390f8eceafaf5169c2ebda7', 'message': 'Add support for neutron custom dnsmasq.conf\n\nChange-Id: Ia7041be384ac07d0a790c2c5c68b1b31ff0e567a\n'}, {'number': 2, 'created': '2019-06-27 10:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4d21cdfd1510174b102a3191c9ffa7d9007f184', 'message': 'Add support for neutron custom dnsmasq.conf\n\nChange-Id: Ia7041be384ac07d0a790c2c5c68b1b31ff0e567a\n'}, {'number': 3, 'created': '2019-06-27 10:20:22.000000000', 'files': ['ansible/roles/neutron/tasks/config.yml', 'releasenotes/notes/add-neutron-custom-dnsmasq-conf-bba1ac18df0dccd4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3f1ded357e8a08f3a39e20723a5727fb8d97d3c', 'message': 'Add support for neutron custom dnsmasq.conf\n\nChange-Id: Ia7041be384ac07d0a790c2c5c68b1b31ff0e567a\n'}]",2,667801,a3f1ded357e8a08f3a39e20723a5727fb8d97d3c,14,5,3,167,,,0,"Add support for neutron custom dnsmasq.conf

Change-Id: Ia7041be384ac07d0a790c2c5c68b1b31ff0e567a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/667801/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/config.yml'],1,1394227ebf9282501390f8eceafaf5169c2ebda7,custom-neutron-dnsmasq-conf," src: ""{{ item }}"" with_first_found: - ""{{ node_custom_config }}/neutron/{{ inventory_hostname }}/dnsmasq.conf"" - ""{{ node_custom_config }}/neutron/dnsmasq.conf"" - ""dnsmasq.conf.j2"""," src: ""dnsmasq.conf.j2""",5,1
openstack%2Fheat~master~If9befe4115c64c2fda52321002ba5fe1124eaf7c,openstack/heat,master,If9befe4115c64c2fda52321002ba5fe1124eaf7c,Add local bindep.txt,MERGED,2019-06-25 15:53:08.000000000,2019-06-27 13:57:30.000000000,2019-06-27 13:57:30.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/52cc6f1f4f5ac632b5c77f1ddd639e790bff595a', 'message': 'Add local bindep.txt\n\nAs it was announced global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 2, 'created': '2019-06-26 06:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d2cfc16fcfabff83a4cd6ac0a56addb746446800', 'message': 'Add local bindep.txt\n\nAs it was announced global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 3, 'created': '2019-06-26 06:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/720e112bf9f96ff7fbaa8cee8cd4952b0a3552f6', 'message': 'Add local bindep.txt\n\nAs it was announced global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 4, 'created': '2019-06-26 08:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fbafc4652ac047f1ba4441193656d058598037af', 'message': 'Add local bindep.txt\n\nAs it was announced global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 5, 'created': '2019-06-26 16:08:14.000000000', 'files': ['tools/test-requires-deb', 'bindep.txt', 'tools/test-requires-rpm', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/d116b216965bbfc80840f5bfc994b731e2d29d81', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}]",18,667391,d116b216965bbfc80840f5bfc994b731e2d29d81,31,4,5,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/667391/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,52cc6f1f4f5ac632b5c77f1ddd639e790bff595a,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,18,0
openstack%2Fneutron-lib~master~Id541059b8fe0ab74035819516f079d93bb76d43c,openstack/neutron-lib,master,Id541059b8fe0ab74035819516f079d93bb76d43c,Introduce NetworkAddressScopeAffinityError,MERGED,2019-06-26 15:06:18.000000000,2019-06-27 13:57:08.000000000,2019-06-27 13:57:08.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e9a33595713bfe953c3102374139741b3223ac9c', 'message': 'Introduce NetworkAddressScopeAffinityError\n\nThis introduces NetworkAddressScopeAffinityError, which is to be\nraised when address scope affinity constraints on a network are\nviolated.\n\nChange-Id: Id541059b8fe0ab74035819516f079d93bb76d43c\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 2, 'created': '2019-06-26 15:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0b62cfa4358047185f9a471355486de74ea25b4a', 'message': 'Introduce NetworkAddressScopeAffinityError\n\nThis introduces NetworkAddressScopeAffinityError, which is to be\nraised when address scope affinity constraints on a network are\nviolated.\n\nChange-Id: Id541059b8fe0ab74035819516f079d93bb76d43c\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}, {'number': 3, 'created': '2019-06-26 18:57:20.000000000', 'files': ['releasenotes/notes/add-network-address-scope-affinity-error-8f6b4493a92142d4.yaml', 'neutron_lib/exceptions/address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d4415186690493c728e461d9bea9b32bfe246321', 'message': 'Introduce NetworkAddressScopeAffinityError\n\nThis introduces NetworkAddressScopeAffinityError, which is to be\nraised when address scope affinity constraints on a network are\nviolated.\n\nChange-Id: Id541059b8fe0ab74035819516f079d93bb76d43c\nPartial-Bug: 1830240\nImplements: subnets-different-pools-same-net\n'}]",3,667644,d4415186690493c728e461d9bea9b32bfe246321,14,5,3,4187,,,0,"Introduce NetworkAddressScopeAffinityError

This introduces NetworkAddressScopeAffinityError, which is to be
raised when address scope affinity constraints on a network are
violated.

Change-Id: Id541059b8fe0ab74035819516f079d93bb76d43c
Partial-Bug: 1830240
Implements: subnets-different-pools-same-net
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/44/667644/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/address_scope.py'],1,e9a33595713bfe953c3102374139741b3223ac9c,bug/1830240," class NetworkAddressScopeAffinityError(exceptions.BadRequest): message = _(""Subnets of the same address family hosted on the same "" ""network must all participate in the the same address scope."")",,5,0
openstack%2Fkolla~stable%2Fstein~I32ba1abd204c9dba4bbe3132b5650b0e391616af,openstack/kolla,stable/stein,I32ba1abd204c9dba4bbe3132b5650b0e391616af,Add sha256 in ceph fetch keys,MERGED,2019-06-18 17:53:01.000000000,2019-06-27 13:47:02.000000000,2019-06-27 13:47:02.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 17:53:01.000000000', 'files': ['docker/ceph/ceph-mon/fetch_ceph_keys.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac8609c0f1ebe0a6f87979811f5130286b4e9b18', 'message': 'Add sha256 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch adds\nsha256 beside sha1 - in order to remove sha1 safely in U release.\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n(cherry picked from commit 0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb)\n'}]",0,666082,ac8609c0f1ebe0a6f87979811f5130286b4e9b18,24,5,1,14826,,,0,"Add sha256 in ceph fetch keys

fetch_ceph_keys.py is using insecure sha1 function, this patch adds
sha256 beside sha1 - in order to remove sha1 safely in U release.

Change-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af
Closes-Bug: #1826327
(cherry picked from commit 0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/82/666082/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/fetch_ceph_keys.py'],1,ac8609c0f1ebe0a6f87979811f5130286b4e9b18,bug/1826327-stable/stein," # TODO(mnasiadka): Remove sha1 in U 'sha256': hashlib.sha256(raw_data).hexdigest(),",,2,0
openstack%2Fopenstack-ansible-os_trove~master~Ie0a83f428d75c4c5f8c6e14df9084c21da53275e,openstack/openstack-ansible-os_trove,master,Ie0a83f428d75c4c5f8c6e14df9084c21da53275e,Updated from OpenStack Ansible Tests,MERGED,2019-05-09 11:35:42.000000000,2019-06-27 13:42:35.000000000,2019-06-27 13:42:35.000000000,"[{'_account_id': 1004}, {'_account_id': 6593}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-05-09 11:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/dfed9065bdeacc20b034ccd0697762f7ec023f3e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0a83f428d75c4c5f8c6e14df9084c21da53275e\n'}, {'number': 2, 'created': '2019-06-11 22:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/eb120fc5e83a74004f6031c83fb3fdf7916aa98c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0a83f428d75c4c5f8c6e14df9084c21da53275e\n'}, {'number': 3, 'created': '2019-06-18 18:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/3b7150f37297608a68c97cc80642827954313524', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0a83f428d75c4c5f8c6e14df9084c21da53275e\n'}, {'number': 4, 'created': '2019-06-27 10:23:35.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'tasks/mq_setup.yml', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/10399145d387438af238ae87ccc0f013132a3b83', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0a83f428d75c4c5f8c6e14df9084c21da53275e\n'}]",0,658042,10399145d387438af238ae87ccc0f013132a3b83,26,7,4,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie0a83f428d75c4c5f8c6e14df9084c21da53275e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/42/658042/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'Vagrantfile', 'tasks/mq_setup.yml']",4,dfed9065bdeacc20b034ccd0697762f7ec023f3e,openstack/openstack-ansible-tests/sync-tests,# https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml,# https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/mq_setup.yml,7,7
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie85c2aeb8e58197356c3bcb599eba6ef4a58815d,openstack/tripleo-heat-templates,stable/queens,Ie85c2aeb8e58197356c3bcb599eba6ef4a58815d,Queens only: Fixup nova cell0 url fix,MERGED,2019-06-26 15:28:33.000000000,2019-06-27 13:41:02.000000000,2019-06-27 13:41:01.000000000,"[{'_account_id': 8042}, {'_account_id': 10135}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-26 15:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98bdf8a327eff5bdd79dc52b9664bd6c69528ab9', 'message': 'Queens only: Fixup nova cell0 url fix\n\nThe update code for cell0 would work only on environments after\nFFWD. The execution of nova-manage has to run inside of nova-api\ncontainer.\n\nChange-Id: Ie85c2aeb8e58197356c3bcb599eba6ef4a58815d\nResolves: rhbz#1723306\nPartial-bug: #1830706\n'}, {'number': 2, 'created': '2019-06-27 01:53:16.000000000', 'files': ['docker/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aec9860eda529f0c32c534bdaa6b965ba7c103f1', 'message': 'Queens only: Fixup nova cell0 url fix\n\nThe update code for cell0 would work only on environments after\nFFWD. The execution of nova-manage has to run inside of nova-api\ncontainer.\n\nChange-Id: Ie85c2aeb8e58197356c3bcb599eba6ef4a58815d\nResolves: rhbz#1723306\nPartial-bug: #1830706\n'}]",1,667651,aec9860eda529f0c32c534bdaa6b965ba7c103f1,14,7,2,11166,,,0,"Queens only: Fixup nova cell0 url fix

The update code for cell0 would work only on environments after
FFWD. The execution of nova-manage has to run inside of nova-api
container.

Change-Id: Ie85c2aeb8e58197356c3bcb599eba6ef4a58815d
Resolves: rhbz#1723306
Partial-bug: #1830706
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/667651/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-api.yaml'],1,98bdf8a327eff5bdd79dc52b9664bd6c69528ab9,," nova_api_ensure_cell0_database_url.sh: mode: ""0700"" content: str_replace: template: nova-manage cell_v2 list_cells --verbose | grep 'CELL' || nova-manage cell_v2 update_cell --cell_uuid 00000000-0000-0000-0000-000000000000 --transport-url 'none:///' --database_connection='CELL' params: CELL: {get_attr: [NovaApiBase, role_data, config_settings, ""nova::cell0_database_connection""]} nova_api_ensure_cell0_database_url: start_order: 1 image: *nova_api_image net: host detach: false volumes: list_concat: - *nova_api_bootstrap_volumes - - /var/log/containers/nova:/var/log/nova - /var/lib/config-data/puppet-generated/nova/:/var/lib/kolla/config_files/src:ro - /var/lib/docker-config-scripts/nova_api_ensure_default_cell.sh:/nova_api_ensure_cell0_database_url.sh:ro user: root command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_ensure_cell0_database_url.sh"""," update_tasks: # Some environments will have wrong cell0 database url after FFWD - rhbz#1614478 - name: Validate and fix wrong cell0 database url shell: str_replace: template: nova-manage cell_v2 list_cells --verbose | grep 'CELL' || nova-manage cell_v2 update_cell --cell_uuid 00000000-0000-0000-0000-000000000000 --transport-url 'none:///' --database_connection='CELL' params: CELL: {get_attr: [NovaApiBase, role_data, config_settings, ""nova::cell0_database_connection""]}",21,8
openstack%2Fkolla-ansible~master~Ia6fc9011ee6f5461f40a1307b72709d769814a79,openstack/kolla-ansible,master,Ia6fc9011ee6f5461f40a1307b72709d769814a79,Restart all nova services after upgrade,MERGED,2019-06-17 12:56:50.000000000,2019-06-27 13:39:12.000000000,2019-06-27 13:39:12.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-17 12:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9da69eba4e48280708bf7887a27686e08448073', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThis change restarts all nova services after an upgrade.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\n'}, {'number': 2, 'created': '2019-06-20 14:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3cbf5569cc108f33a630c2d04b4716d6f2ca5c4', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThere is a second issue in that it takes some time for the upgraded\nservices to update the nova services database table with their new\nversion. We need to wait until all nova-compute services have done this\nbefore the restart is performed, otherwise the RPC version cap will\nremain in place. There is currently no interface in nova available for\nchecking these versions [2], so as a workaround we use a configurable\ndelay with a default duration of 30 seconds. Testing showed it takes\nabout 10 seconds for the version to be updated, so this gives us some\nheadroom.\n\nThis change restarts all nova services after an upgrade, after a 30\nsecond delay.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n[2] https://bugs.launchpad.net/nova/+bug/1833542\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\nRelated-Bug: #1833542\n'}, {'number': 3, 'created': '2019-06-27 09:36:24.000000000', 'files': ['ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/legacy_upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6d2b92200d02715649d923b0ef2d6981905a6b9', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThere is a second issue in that it takes some time for the upgraded\nservices to update the nova services database table with their new\nversion. We need to wait until all nova-compute services have done this\nbefore the restart is performed, otherwise the RPC version cap will\nremain in place. There is currently no interface in nova available for\nchecking these versions [2], so as a workaround we use a configurable\ndelay with a default duration of 30 seconds. Testing showed it takes\nabout 10 seconds for the version to be updated, so this gives us some\nheadroom.\n\nThis change restarts all nova services after an upgrade, after a 30\nsecond delay.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n[2] https://bugs.launchpad.net/nova/+bug/1833542\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\nRelated-Bug: #1833542\n'}]",2,665660,e6d2b92200d02715649d923b0ef2d6981905a6b9,15,6,3,14826,,,0,"Restart all nova services after upgrade

During an upgrade, nova pins the version of RPC calls to the minimum
seen across all services. This ensures that old services do not receive
data they cannot handle. After the upgrade is complete, all nova
services are supposed to be reloaded via SIGHUP to cause them to check
again the RPC versions of services and use the new latest version which
should now be supported by all running services.

Due to a bug [1] in oslo.service, sending services SIGHUP is currently
broken. We replaced the HUP with a restart for the nova_compute
container for bug 1821362, but not other nova services. It seems we need
to restart all nova services to allow the RPC version pin to be removed.

Testing in a Queens to Rocky upgrade, we find the following in the logs:

Automatically selected compute RPC version 5.0 from minimum service
version 30

However, the service version in Rocky is 35.

There is a second issue in that it takes some time for the upgraded
services to update the nova services database table with their new
version. We need to wait until all nova-compute services have done this
before the restart is performed, otherwise the RPC version cap will
remain in place. There is currently no interface in nova available for
checking these versions [2], so as a workaround we use a configurable
delay with a default duration of 30 seconds. Testing showed it takes
about 10 seconds for the version to be updated, so this gives us some
headroom.

This change restarts all nova services after an upgrade, after a 30
second delay.

[1] https://bugs.launchpad.net/oslo.service/+bug/1715374
[2] https://bugs.launchpad.net/nova/+bug/1833542

Change-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79
Closes-Bug: #1833069
Related-Bug: #1833542
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/665660/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/reload.yml'],1,d9da69eba4e48280708bf7887a27686e08448073,bug/1821362,"# The issue actually affects all nova services, since they remain with RPC # version pinned to the previous release: # https://bugs.launchpad.net/kolla-ansible/+bug/1833069.# - name: Send SIGHUP to nova services # become: true # command: docker exec -t {{ item.value.container_name }} kill -1 1 # when: # - inventory_hostname in groups[item.value.group] # - item.value.enabled | bool # - item.key in nova_services_require_nova_conf # with_dict: ""{{ nova_services }}"" - name: Restart nova services","- name: Send SIGHUP to nova services become: true command: docker exec -t {{ item.value.container_name }} kill -1 1 when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - not item.key.startswith('nova-compute') - not item.key.endswith('proxy') with_dict: ""{{ nova_services }}"" - name: Restart nova compute and proxy services - item.key.startswith('nova-compute') or item.key.endswith('proxy')",12,13
openstack%2Fopenstack-ansible-os_zun~master~I441feb4b74b72002af0284137e6025821024979e,openstack/openstack-ansible-os_zun,master,I441feb4b74b72002af0284137e6025821024979e,db_setup: refactor database setup to a common file,MERGED,2019-06-24 12:27:22.000000000,2019-06-27 13:34:32.000000000,2019-06-27 13:34:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-24 12:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/2aca4dcf56d8d15abed5bebcb4b120d2bd85a04c', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nChange-Id: I441feb4b74b72002af0284137e6025821024979e\n'}, {'number': 2, 'created': '2019-06-24 18:17:14.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/zun_compute.yml', 'tasks/zun_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/0475d4218ea9cc5961811b887f5bd77856727331', 'message': ""db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nAdditionally enabling extras repo for centos, since it's not\nenabled by default but required by docker\n\nChange-Id: I441feb4b74b72002af0284137e6025821024979e\n""}]",0,667074,0475d4218ea9cc5961811b887f5bd77856727331,9,3,2,28619,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

Additionally enabling extras repo for centos, since it's not
enabled by default but required by docker

Change-Id: I441feb4b74b72002af0284137e6025821024979e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/74/667074/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/zun_db_setup.yml']",3,2aca4dcf56d8d15abed5bebcb4b120d2bd85a04c,osa/db-refactor,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Run the galera client role include_role: name: galera_client - name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ zun_galera_address }}"" name: ""{{ zun_galera_database }}"" state: ""present"" delegate_to: ""{{ zun_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ zun_galera_address }}"" name: ""{{ zun_galera_user }}"" password: ""{{ zun_galera_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ zun_galera_database }}.*:ALL"" delegate_to: ""{{ zun_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True ",50,45
openstack%2Fansible-role-python_venv_build~master~I152736702b0917e8ddafa9567c733eb8c748b1b3,openstack/ansible-role-python_venv_build,master,I152736702b0917e8ddafa9567c733eb8c748b1b3,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:43.000000000,2019-06-27 13:33:34.000000000,2019-06-27 13:33:34.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:24:43.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/9cf25f9f71ce619e1b02bc92b30fb2592eae9079', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I152736702b0917e8ddafa9567c733eb8c748b1b3\n'}]",0,667886,9cf25f9f71ce619e1b02bc92b30fb2592eae9079,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I152736702b0917e8ddafa9567c733eb8c748b1b3
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/86/667886/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,9cf25f9f71ce619e1b02bc92b30fb2592eae9079,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fnova~stable%2Fstein~If2035cac931c42c440d61ba97ebc7e9e92141a28,openstack/nova,stable/stein,If2035cac931c42c440d61ba97ebc7e9e92141a28,libvirt: Rework 'EBUSY' (SIGKILL) error handling code path,MERGED,2019-06-25 15:51:09.000000000,2019-06-27 13:33:18.000000000,2019-06-27 13:33:18.000000000,"[{'_account_id': 782}, {'_account_id': 6962}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 15:51:09.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/118cf0c5920b5ff41333fd304a934dd7e5f4e1a8', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)\n'}]",0,667389,118cf0c5920b5ff41333fd304a934dd7e5f4e1a8,17,8,1,6962,,,0,"libvirt: Rework 'EBUSY' (SIGKILL) error handling code path

Change ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in
_destroy()) handled the case where a QEMU process ""refuses to die"" within
a given timeout period set by libvirt.

Originally, libvirt sent SIGTERM (allowing the process to clean-up
resources), then waited 10 seconds, if the guest didn't go away.  Then
it sent, the more lethal, SIGKILL and waited another 5 seconds for it to
take effect.

From libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits
for a guest hard shutdown to complete.  It now waits for 30 seconds for
SIGKILL to work (instead of 5).  Also, additional wait time is added if
there are assigned PCI devices, as some of those tend to slow things
down.

In this change:

  - Increment the counter to retry the _destroy() call from 3 to 6, thus
    increasing the total time from 15 to 30 seconds, before SIGKILL
    takes effect.  And it matches the (more graceful) behaviour of
    libvirt v4.7.0.  This also gives breathing room for Nova instances
    running in environments with large compute nodes with high instance
    creation or delete churn, where the current timout may not be
    sufficient.

  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower
    than 4.7.0.

[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9
    (process: wait longer 5->30s on hard shutdown)
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:
    wait longer on kill per assigned Hostdev"")

Related-bug: #1353939

Change-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/667389/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,118cf0c5920b5ff41333fd304a934dd7e5f4e1a8,bug/1353939," # Tests that _destroy will retry 6 times to destroy the guest when an self.assertEqual(6, mock_guest.poweroff.call_count) @mock.patch.object(libvirt_driver.LOG, 'warning') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_BETTER_SIGKILL_HANDLING)) def test_min_libvirt_better_sigkill_handling_warning(self, mock_warning, mock_get_libversion): ex = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, (""Failed to terminate process 26425 with SIGKILL: "" ""Device or resource busy""), error_code=fakelibvirt.VIR_ERR_SYSTEM_ERROR, int1=errno.EBUSY) mock_guest = mock.Mock(libvirt_guest.Guest, id=1) mock_guest.poweroff = mock.Mock(side_effect=ex) instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr._host, 'get_guest', return_value=mock_guest): raised = self.assertRaises(fakelibvirt.libvirtError, drvr._destroy, instance) self.assertEqual(fakelibvirt.VIR_ERR_SYSTEM_ERROR, raised.get_error_code()) mock_warning.assert_called_once() mock_guest.poweroff.assert_called_once() "," # Tests that _destroy will retry 3 times to destroy the guest when an self.assertEqual(3, mock_guest.poweroff.call_count)",67,13
openstack%2Fopenstack-ansible-os_tempest~master~I49adcaef709f2acbb478d8a97d537c166246868d,openstack/openstack-ansible-os_tempest,master,I49adcaef709f2acbb478d8a97d537c166246868d,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:23:28.000000000,2019-06-27 13:26:58.000000000,2019-06-27 13:26:58.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:23:28.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6d6fe888add342e8d68077d626381de99db54df7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I49adcaef709f2acbb478d8a97d537c166246868d\n'}]",0,667873,6d6fe888add342e8d68077d626381de99db54df7,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I49adcaef709f2acbb478d8a97d537c166246868d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/73/667873/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,6d6fe888add342e8d68077d626381de99db54df7,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fcloudkitty-dashboard~master~If1adf3652e518dd4e1e04eecaea8e60245e3e73e,openstack/cloudkitty-dashboard,master,If1adf3652e518dd4e1e04eecaea8e60245e3e73e,Remove unncessary '==',MERGED,2019-06-21 08:38:07.000000000,2019-06-27 13:26:35.000000000,2019-06-27 13:26:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-21 08:38:07.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/5260550603448a3aec7bec2e08d9585e0b908dc7', 'message': ""Remove unncessary '=='\n\nChange-Id: If1adf3652e518dd4e1e04eecaea8e60245e3e73e\n""}]",0,666787,5260550603448a3aec7bec2e08d9585e0b908dc7,7,3,1,27822,,,0,"Remove unncessary '=='

Change-Id: If1adf3652e518dd4e1e04eecaea8e60245e3e73e
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/87/666787/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/stein.rst']",4,5260550603448a3aec7bec2e08d9585e0b908dc7,Bug#6,========================== Stein Series Release Notes ==========================,=================================== Stein Series Release Notes ===================================,12,12
openstack%2Floci~master~I4e805ff2c7ac345173a803ecbac6c4261dd58526,openstack/loci,master,I4e805ff2c7ac345173a803ecbac6c4261dd58526,Add python3-rados for dpkg and glance,MERGED,2019-06-25 16:30:01.000000000,2019-06-27 13:11:11.000000000,2019-06-27 13:11:11.000000000,"[{'_account_id': 2243}, {'_account_id': 7822}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-25 16:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ccf717e2f70aa27d8e65acdd3820ff649c66b83b', 'message': 'Add python3-rados for dpkg and glance\n\nThis patch adds trigger to bindep to install\npython3-rados when the  profiles are picked\nand platform is dpkg\n\nChange-Id: I4e805ff2c7ac345173a803ecbac6c4261dd58526\n'}, {'number': 2, 'created': '2019-06-26 10:12:58.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/ed422d6e239ecaf4480d04b3121c8aecd8a3d690', 'message': 'Add python3-rados for dpkg and glance\n\nThis patch adds trigger to bindep to install python3-rados when the\nprofiles are picked and platform is dpkg\n\nChange-Id: I4e805ff2c7ac345173a803ecbac6c4261dd58526\n'}]",0,667401,ed422d6e239ecaf4480d04b3121c8aecd8a3d690,9,6,2,14525,,,0,"Add python3-rados for dpkg and glance

This patch adds trigger to bindep to install python3-rados when the
profiles are picked and platform is dpkg

Change-Id: I4e805ff2c7ac345173a803ecbac6c4261dd58526
",git fetch https://review.opendev.org/openstack/loci refs/changes/01/667401/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ccf717e2f70aa27d8e65acdd3820ff649c66b83b,mrados,python3-rados [platform:dpkg (glance ceph python3)],,1,0
openstack%2Fkeystonemiddleware~master~I345f2fc3ce16040a8fb1a3d4fccb18043a156c74,openstack/keystonemiddleware,master,I345f2fc3ce16040a8fb1a3d4fccb18043a156c74,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:38.000000000,2019-06-27 13:10:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:38:38.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/77034be291b43898f80c55f8b1ae025b9991f0ce', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I345f2fc3ce16040a8fb1a3d4fccb18043a156c74\n'}]",0,655021,77034be291b43898f80c55f8b1ae025b9991f0ce,3,1,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I345f2fc3ce16040a8fb1a3d4fccb18043a156c74
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/21/655021/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,77034be291b43898f80c55f8b1ae025b9991f0ce,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fswift-specs~master~Ib16c8780a5e030c97703c0bc410ccd11891a3d0b,openstack/swift-specs,master,Ib16c8780a5e030c97703c0bc410ccd11891a3d0b,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:40:21.000000000,2019-06-27 13:10:27.000000000,,[],"[{'number': 1, 'created': '2019-04-23 11:40:21.000000000', 'files': ['specs/done/service_token.rst'], 'web_link': 'https://opendev.org/openstack/swift-specs/commit/0c9519d9e62fd8f7c733b9f709c5c348d4ae34d5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ib16c8780a5e030c97703c0bc410ccd11891a3d0b\n'}]",0,655072,0c9519d9e62fd8f7c733b9f709c5c348d4ae34d5,2,0,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ib16c8780a5e030c97703c0bc410ccd11891a3d0b
",git fetch https://review.opendev.org/openstack/swift-specs refs/changes/72/655072/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/done/service_token.rst'],1,0c9519d9e62fd8f7c733b9f709c5c348d4ae34d5,,(http://opendev.org/openstack/keystone-specs/plain/specs/keystonemiddleware/service-tokens.rst).,(http://git.openstack.org/cgit/openstack/keystone-specs/plain/specs/keystonemiddleware/service-tokens.rst).,1,1
openstack%2Fdib-utils~master~I5196d85d1464b77fc38fa0a822af7d567d53b584,openstack/dib-utils,master,I5196d85d1464b77fc38fa0a822af7d567d53b584,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:37:13.000000000,2019-06-27 13:10:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:37:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/dib-utils/commit/6f4efd93d894756aae8fdcf8faa4c54de119f5ec', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5196d85d1464b77fc38fa0a822af7d567d53b584\n'}]",0,654983,6f4efd93d894756aae8fdcf8faa4c54de119f5ec,3,1,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I5196d85d1464b77fc38fa0a822af7d567d53b584
",git fetch https://review.opendev.org/openstack/dib-utils refs/changes/83/654983/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6f4efd93d894756aae8fdcf8faa4c54de119f5ec,,home-page = https://opendev.org/openstack/dib-utils,home-page = https://git.openstack.org/cgit/openstack/dib-utils,1,1
openstack%2Fgoal-tools~master~I71e87a5bcae5d69331ae4232219d3dbd6c4a4686,openstack/goal-tools,master,I71e87a5bcae5d69331ae4232219d3dbd6c4a4686,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:08.000000000,2019-06-27 13:10:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:38:08.000000000', 'files': ['goal_tools/governance.py', 'goal_tools/import_goal.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/337bc35ab0076472cf4ab6f3d279c6de2576fe88', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I71e87a5bcae5d69331ae4232219d3dbd6c4a4686\n'}]",0,655008,337bc35ab0076472cf4ab6f3d279c6de2576fe88,3,1,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I71e87a5bcae5d69331ae4232219d3dbd6c4a4686
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/08/655008/1 && git format-patch -1 --stdout FETCH_HEAD,"['goal_tools/governance.py', 'goal_tools/import_goal.py']",2,337bc35ab0076472cf4ab6f3d279c6de2576fe88,," default='http://opendev.org/openstack/governance/plain/reference/projects.yaml', # noqa"," default='http://git.openstack.org/cgit/openstack/governance/plain/reference/projects.yaml', # noqa",4,4
openstack%2Fneutron-interconnection~master~Ibab6763454b0f09d1252718d8da89afa9cdf7195,openstack/neutron-interconnection,master,Ibab6763454b0f09d1252718d8da89afa9cdf7195,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:39:03.000000000,2019-06-27 13:10:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:39:03.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/afac76ac369ef97e9616ec5644c2133b53e11acc', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibab6763454b0f09d1252718d8da89afa9cdf7195\n'}]",0,655032,afac76ac369ef97e9616ec5644c2133b53e11acc,3,1,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ibab6763454b0f09d1252718d8da89afa9cdf7195
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/32/655032/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,afac76ac369ef97e9616ec5644c2133b53e11acc,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Fi18n-specs~master~Ibe61b9fe766b3b7e9b2b3cc2bac3a0ee6cc04ca6,openstack/i18n-specs,master,Ibe61b9fe766b3b7e9b2b3cc2bac3a0ee6cc04ca6,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:21.000000000,2019-06-27 13:10:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n-specs/commit/9be5e02f5130199940d1d7b537783a1ba1f07694', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibe61b9fe766b3b7e9b2b3cc2bac3a0ee6cc04ca6\n'}, {'number': 2, 'created': '2019-04-23 11:55:42.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/i18n-specs/commit/f4abafda1f62ba8390b15a12bda5c405d40c23ab', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibe61b9fe766b3b7e9b2b3cc2bac3a0ee6cc04ca6\n'}]",0,655014,f4abafda1f62ba8390b15a12bda5c405d40c23ab,5,1,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ibe61b9fe766b3b7e9b2b3cc2bac3a0ee6cc04ca6
",git fetch https://review.opendev.org/openstack/i18n-specs refs/changes/14/655014/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9be5e02f5130199940d1d7b537783a1ba1f07694,,http://opendev.org/openstack/i18n-specs/.,http://git.openstack.org/cgit/openstack/i18n-specs/.,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I50a1289a864f804d02a2e2bc0ca8738a186beff0,openstack/tripleo-heat-templates,stable/stein,I50a1289a864f804d02a2e2bc0ca8738a186beff0,Stop all services before upgrading node's OS.,MERGED,2019-06-24 15:28:48.000000000,2019-06-27 13:08:36.000000000,2019-06-27 13:08:36.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['puppet/services/pacemaker.yaml', 'deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d6b51b775ae635c2faa6f42b2b206210b52097b', 'message': ""Stop all services before upgrading node's OS.\n\nDuring the system_upgrade_prepare step in the upgrade\nworkflow, we need to stop all services before starting\nthe operating system upgrade, we're doing that by stopping\nall docker containers at once after stopping the pcmkr\ncluster in step 2.\n\nPartial-Bug: #1831690\nChange-Id: I50a1289a864f804d02a2e2bc0ca8738a186beff0\n(cherry picked from commit 9d5c972d99afbb05713200021bb8b4b1eb17a851)\n""}]",2,667136,8d6b51b775ae635c2faa6f42b2b206210b52097b,17,4,1,8042,,,0,"Stop all services before upgrading node's OS.

During the system_upgrade_prepare step in the upgrade
workflow, we need to stop all services before starting
the operating system upgrade, we're doing that by stopping
all docker containers at once after stopping the pcmkr
cluster in step 2.

Partial-Bug: #1831690
Change-Id: I50a1289a864f804d02a2e2bc0ca8738a186beff0
(cherry picked from commit 9d5c972d99afbb05713200021bb8b4b1eb17a851)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/667136/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/pacemaker.yaml', 'deployment/podman/podman-baremetal-ansible.yaml']",2,8d6b51b775ae635c2faa6f42b2b206210b52097b,bug/1831690, - block: - name: Stop all services by stopping all Docker containers when: step|int == 3 shell: docker ps -q | xargs --no-run-if-empty -n1 docker stop tags: - never - system_upgrade_prepare ,,11,0
openstack%2Fnova~master~I4b85fc22d2e8f57f718cde90bf556384b169d635,openstack/nova,master,I4b85fc22d2e8f57f718cde90bf556384b169d635,pull out functions from _heal_allocations_for_instance,MERGED,2019-04-24 14:24:31.000000000,2019-06-27 13:08:13.000000000,2019-06-27 13:08:12.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-24 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16a76873a9723027256014a76e9b1943d886dd35', 'message': 'pull out functions from _heal_allocations_for_instance\n\nThere are two separate healing is going on in\n_heal_allocations_for_instance one that heals a missing allocation and\nthe other that heals the project_id and the user_id in the existing\nallocation. This patch pull the separate steps out to separate\nfunctions.\n\nRelated-Bug: #1819923\n\nChange-Id: I4b85fc22d2e8f57f718cde90bf556384b169d635\n'}, {'number': 2, 'created': '2019-04-30 02:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae92ac0be1862c2995fc616ddf3e339772b486ac', 'message': 'pull out functions from _heal_allocations_for_instance\n\nThere are two separate healing is going on in\n_heal_allocations_for_instance one that heals a missing allocation and\nthe other that heals the project_id and the user_id in the existing\nallocation. This patch pull the separate steps out to separate\nfunctions.\n\nRelated-Bug: #1819923\n\nChange-Id: I4b85fc22d2e8f57f718cde90bf556384b169d635\n'}, {'number': 3, 'created': '2019-05-04 17:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0c20e8b5ea2630b9e3d355bfbf8b480351f1ed1', 'message': 'pull out functions from _heal_allocations_for_instance\n\nThere are two separate healing is going on in\n_heal_allocations_for_instance one that heals a missing allocation and\nthe other that heals the project_id and the user_id in the existing\nallocation. This patch pull the separate steps out to separate\nfunctions.\n\nRelated-Bug: #1819923\n\nChange-Id: I4b85fc22d2e8f57f718cde90bf556384b169d635\n'}, {'number': 4, 'created': '2019-05-10 09:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70b8da320de369a2838d9d5cde9d242823934a73', 'message': 'pull out functions from _heal_allocations_for_instance\n\nThere are two separate healing is going on in\n_heal_allocations_for_instance one that heals a missing allocation and\nthe other that heals the project_id and the user_id in the existing\nallocation. This patch pull the separate steps out to separate\nfunctions.\n\nRelated-Bug: #1819923\n\nChange-Id: I4b85fc22d2e8f57f718cde90bf556384b169d635\n'}, {'number': 5, 'created': '2019-06-26 08:25:30.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6fc3162612e4dff73fc91519269f2318fa4e750', 'message': 'pull out functions from _heal_allocations_for_instance\n\nThere are two separate healing is going on in\n_heal_allocations_for_instance one that heals a missing allocation and\nthe other that heals the project_id and the user_id in the existing\nallocation. This patch pull the separate steps out to separate\nfunctions.\n\nRelated-Bug: #1819923\n\nChange-Id: I4b85fc22d2e8f57f718cde90bf556384b169d635\n'}]",1,655457,e6fc3162612e4dff73fc91519269f2318fa4e750,74,16,5,9708,,,0,"pull out functions from _heal_allocations_for_instance

There are two separate healing is going on in
_heal_allocations_for_instance one that heals a missing allocation and
the other that heals the project_id and the user_id in the existing
allocation. This patch pull the separate steps out to separate
functions.

Related-Bug: #1819923

Change-Id: I4b85fc22d2e8f57f718cde90bf556384b169d635
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/655457/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,16a76873a9723027256014a76e9b1943d886dd35,bug/1819923," def _heal_missing_alloc( self, ctxt, instance, node_cache, dry_run, output, placement): node_uuid = self._get_compute_node_uuid( ctxt, instance, node_cache) # Now get the resource allocations for the instance based # on its embedded flavor. resources = scheduler_utils.resources_from_flavor( instance, instance.flavor) if dry_run: output(_('[dry-run] Create allocations for instance %(instance)s ' 'on provider %(node_uuid)s: %(resources)s') % {'instance': instance.uuid, 'node_uuid': node_uuid, 'resources': resources}) else: if placement.put_allocations( ctxt, node_uuid, instance.uuid, resources, instance.project_id, instance.user_id, consumer_generation=None): output(_('Successfully created allocations for ' 'instance %(instance)s against resource ' 'provider %(provider)s.') % {'instance': instance.uuid, 'provider': node_uuid}) return True else: raise exception.AllocationCreateFailed( instance=instance.uuid, provider=node_uuid) def _heal_missing_project_and_user_id( self, allocations, instance, dry_run, output, placement): allocations['project_id'] = instance.project_id allocations['user_id'] = instance.user_id # We use CONSUMER_GENERATION_VERSION for PUT # /allocations/{consumer_id} to mirror the body structure from # get_allocs_for_consumer. if dry_run: output(_('[dry-run] Update allocations for instance ' '%(instance)s: %(allocations)s') % {'instance': instance.uuid, 'allocations': allocations}) else: resp = placement.put( '/allocations/%s' % instance.uuid, allocations, version=report.CONSUMER_GENERATION_VERSION) if resp: output(_('Successfully updated allocations for ' 'instance %s.') % instance.uuid) return True else: raise exception.AllocationUpdateFailed( consumer_uuid=instance.uuid, error=resp.text) return self._heal_missing_project_and_user_id( allocations, instance, dry_run, output, placement) return self._heal_missing_alloc( ctxt, instance, node_cache, dry_run, output, placement)"," allocations['project_id'] = instance.project_id allocations['user_id'] = instance.user_id # We use CONSUMER_GENERATION_VERSION for PUT # /allocations/{consumer_id} to mirror the body structure from # get_allocs_for_consumer. if dry_run: output(_('[dry-run] Update allocations for instance ' '%(instance)s: %(allocations)s') % {'instance': instance.uuid, 'allocations': allocations}) else: resp = placement.put( '/allocations/%s' % instance.uuid, allocations, version=report.CONSUMER_GENERATION_VERSION) if resp: output(_('Successfully updated allocations for ' 'instance %s.') % instance.uuid) return True else: raise exception.AllocationUpdateFailed( consumer_uuid=instance.uuid, error=resp.text) node_uuid = self._get_compute_node_uuid( ctxt, instance, node_cache) # Now get the resource allocations for the instance based # on its embedded flavor. resources = scheduler_utils.resources_from_flavor( instance, instance.flavor) if dry_run: output(_('[dry-run] Create allocations for instance %(instance)s ' 'on provider %(node_uuid)s: %(resources)s') % {'instance': instance.uuid, 'node_uuid': node_uuid, 'resources': resources}) else: if placement.put_allocations( ctxt, node_uuid, instance.uuid, resources, instance.project_id, instance.user_id, consumer_generation=None): output(_('Successfully created allocations for ' 'instance %(instance)s against resource ' 'provider %(provider)s.') % {'instance': instance.uuid, 'provider': node_uuid}) return True else: raise exception.AllocationCreateFailed( instance=instance.uuid, provider=node_uuid)",57,45
openstack%2Fopenstack-helm~master~Ia8eb4a1f3ed826e206edb94c680f40bcec44e9d7,openstack/openstack-helm,master,Ia8eb4a1f3ed826e206edb94c680f40bcec44e9d7,Set threads=1 for wsgi applications,MERGED,2019-06-26 14:01:52.000000000,2019-06-27 12:56:31.000000000,2019-06-27 12:56:31.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 9542}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-06-26 14:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2cac76bbd945bb4b9ee40e12dfc8e25df3aa8893', 'message': ""Set threads=1 for wsgi applications\n\nIf application uses eventlet inside we can't use multiple threads.\nThis patch updates processes and threads accordingly for:\n  aodh\n  panko\n  nova\n\nChange-Id: Ia8eb4a1f3ed826e206edb94c680f40bcec44e9d7\n""}, {'number': 2, 'created': '2019-06-27 09:33:14.000000000', 'files': ['nova/values.yaml', 'aodh/values.yaml', 'panko/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3d6557279fc473ac15a837a1cb887a84eedcc30e', 'message': ""Set threads=1 for wsgi applications\n\nDue to Python's GIL [1], we can't use multiple threads for running\nOpenStack services without a performance penalty, since the execution\nends up serialized, which defeats the purpose.\n\nInstead, we should use several processes, since this approach doesn't\nhave this limitation.\n\n[1] https://wiki.python.org/moin/GlobalInterpreterLock\n\nThis patch updates processes and threads accordingly for:\n  aodh\n  panko\n  nova\n  \nRelated issue was fixed in different deployment tools like puppet\nhttps://bugs.launchpad.net/puppet-keystone/+bug/1602530\n\nChange-Id: Ia8eb4a1f3ed826e206edb94c680f40bcec44e9d7\n""}]",0,667621,3d6557279fc473ac15a837a1cb887a84eedcc30e,12,11,2,14525,,,0,"Set threads=1 for wsgi applications

Due to Python's GIL [1], we can't use multiple threads for running
OpenStack services without a performance penalty, since the execution
ends up serialized, which defeats the purpose.

Instead, we should use several processes, since this approach doesn't
have this limitation.

[1] https://wiki.python.org/moin/GlobalInterpreterLock

This patch updates processes and threads accordingly for:
  aodh
  panko
  nova
  
Related issue was fixed in different deployment tools like puppet
https://bugs.launchpad.net/puppet-keystone/+bug/1602530

Change-Id: Ia8eb4a1f3ed826e206edb94c680f40bcec44e9d7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/21/667621/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'aodh/values.yaml', 'panko/values.yaml']",3,2cac76bbd945bb4b9ee40e12dfc8e25df3aa8893,maserrr, WSGIDaemonProcess panko processes=2 threads=1 user=panko group=panko display-name=%{GROUP}, WSGIDaemonProcess panko processes=1 threads=2 user=panko group=panko display-name=%{GROUP},3,3
openstack%2Fsyntribos~master~I5e453e154d3b70197028b9c0e8b02d0206ac387e,openstack/syntribos,master,I5e453e154d3b70197028b9c0e8b02d0206ac387e,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:40:23.000000000,2019-06-27 12:56:30.000000000,,"[{'_account_id': 8556}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/4baacadfad8f05cce449fb0212bcde32cf61f866', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5e453e154d3b70197028b9c0e8b02d0206ac387e\n'}, {'number': 2, 'created': '2019-04-29 05:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/syntribos/commit/d846de302adac0fe140685d8e3063b539802beba', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5e453e154d3b70197028b9c0e8b02d0206ac387e\nCloses-Bug: #1826824\n'}, {'number': 3, 'created': '2019-05-27 05:30:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/57eb238312227ea34da3c14951f4098f8efe69fe', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5e453e154d3b70197028b9c0e8b02d0206ac387e\nCloses-Bug: #1826824\n'}]",2,655075,57eb238312227ea34da3c14951f4098f8efe69fe,11,3,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I5e453e154d3b70197028b9c0e8b02d0206ac387e
Closes-Bug: #1826824
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/75/655075/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4baacadfad8f05cce449fb0212bcde32cf61f866,bug/1826824,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fproject-team-guide~master~I5c5347a2354da80af8a8ec2530eedc79124d340b,openstack/project-team-guide,master,I5c5347a2354da80af8a8ec2530eedc79124d340b,Reviewing the PTL document for accessibility,MERGED,2019-06-17 14:58:38.000000000,2019-06-27 12:49:20.000000000,2019-06-27 12:49:20.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 7198}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 14:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/117770d61e8e3e1d9d9a8f64b64776d3e30a81af', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 2, 'created': '2019-06-17 15:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/036a7caf6885abe2fa4cb9419d0c33292bd7dddc', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 3, 'created': '2019-06-18 09:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/4344d3d986e30d6d89b462d59e6e38f1d550ee49', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 4, 'created': '2019-06-18 09:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/4910a52299512bea92880733adcabc2d5fcd7ef5', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 5, 'created': '2019-06-18 09:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/755e9442e85eff2c581032aa11ecc4156d4d6d1e', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 6, 'created': '2019-06-18 10:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/1e8969aea7bd980550842994ec4d59bd8ac1c220', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 7, 'created': '2019-06-18 13:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/fd477f5460addce641a8d12a8e310a4cde1bdf1d', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 8, 'created': '2019-06-19 09:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/ef3ccb0236383272c74610a4a6ec993526ead938', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 9, 'created': '2019-06-21 10:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/509ef820847248fb5a1cf7c26ec3e63cba36e5bd', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 10, 'created': '2019-06-24 12:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/40d48a10075489859adcfb933c27d2608e469df8', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}, {'number': 11, 'created': '2019-06-25 10:19:40.000000000', 'files': ['doc/source/ptl.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/da3381f17636abfe53e7f35df4a503a4fae51ab5', 'message': 'Reviewing the PTL document for accessibility\n\nAs per the TC conversation at the PTG (backed off\nthe PTL tips and tricks session in DEN from bnemec),\nthis change also adds a tips and tricks section to help\nease any potential pain points of becoming a PTL for\nsuch a large project.\n\nSuggestions welcome!\n\nChange-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b\n'}]",125,665699,da3381f17636abfe53e7f35df4a503a4fae51ab5,69,12,11,10607,,,0,"Reviewing the PTL document for accessibility

As per the TC conversation at the PTG (backed off
the PTL tips and tricks session in DEN from bnemec),
this change also adds a tips and tricks section to help
ease any potential pain points of becoming a PTL for
such a large project.

Suggestions welcome!

Change-Id: I5c5347a2354da80af8a8ec2530eedc79124d340b
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/99/665699/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ptl.rst'],1,117770d61e8e3e1d9d9a8f64b64776d3e30a81af,documentation-update,"================================== Becoming a Project Team Lead (PTL) ================================== Have you been approached about becoming a Project Team Lead (PTL) for an OpenStack project? Are you considering running for PTL and are unsure about the workload? Are you speaking with your management about the benefits of running for PTL and your potential candidacy? Or, does the project you have been working have no candidate for the upcoming PTL election? If any of the above is true, the following document is designed to help you understand the responsibilities that a PTL of an Openstack project is expected to undertake. plan, and delegates differently. If you are unfamiliar with some of the concepts, terms, or action items suggested below, do not hesitate to reach out to the current PTL of your project. If you are unable to do so, you can reach out to any of the members of the Technical Committee (TC) for further guidance on next steps. The list of the members of the current serving TC can be found `here <https://governance.openstack.org/tc/>`_. .. note:: It is important to note that there is a lot of content in this document that can be considered an overwhelming amount of work. We (the community) recommends that any individual considering running for PTL is fully aware of the responsibilities, and is comfortable delegating any tasks if they are unable to fulfil the entire spectrum of tasks.The weekly tasks outlined below are a minimum expectation that the community believes the serving PTL should be capable of as the serving team leader. #. Organize the team meeting agenda. Most teams use a wiki or etherpad. follow it for you). It is also useful to subscribe into the `release#. If the team does not have an appointed individual to review bugs, then the PTL is to perform a bug triage. Ensure all `new` bugs that have been reported are triaged. For example, the below is a URL to view all `new` bugs for keystone:#. If the team does not have an appointed bug individual to review bugs, then remember to also tag bugs accordingly. For example, the below is a URL to view all untagged bugs for keystone:This will vary greatly from team to team, but the following provides a general guide you may consider.#. If the TC has approved community goals, check the relevance of the goal to the project and assess work items for the team. .. note:: It is not your job as a PTL to full-time mentor an individual. If a new contributor is significantly struggling, point them in the direction of the First Contact SIG or the Upstream Institute so they receive appropriate onboarding. #. Release libraries as necessary, but don't wait too long! Some teams will liaison has been appointed. and major features.#. Ensure documentation is up-to-date with any major changes that were implemented throughout the cycle. with the events organizers. An email is sent out beforehand by the Foundation - keep an eye out.Our community has several mailing lists. Although most usage, operations and development discussions take place on the openstack-discuss_ mailing list,Alternatively, the responsibilities in this section can be delegated to an individual to manage local stable maintenance.Tips and Tricks =============== Now that this document has told you everything you should be doing, here are some community tips on what you can do to help make your experience as an OpenStack project leader better. If you can think of anything else that might be helpful, do not hesitate to clone the `project-team-guide` repo from GitHub and submit an addition. - Ensuring your email filters are setup to catch anything with `[ptl]` and your project name in the subject header. - Join the #openstack-tc IRC channel if you have not already for discussion on community goals or anything relevant to your project. - Project update emails: An optional extra for when you're getting into the swing of things. Providing an occasional project team update email to the openstack-discuss mailing list is a great way to keep part-time contributors informed of the changes occurring within the project. - Weekly ""wayward"" reviews: Reviewing the oldest, outstanding, reviews on gerrit and deciding on how to proceed. This is a great way to reduce significant backlogs and potential technical debt. - Courtesy pings in IRC meetings: Everyone lives busy lives outside of the community. Coming up with a way to ping team members who are interested in attending team meetings is a helpful addition. For example, Oslo uses https://github.com/openstack/oslo.tools/blob/master/ping_me.py. Another way to do this is to encourage team members to configure their IRC client to highlight on a specific keyword. For example `#startmeeting` - Adding a review priority column in Gerrit.","========================================== Project Team Lead (PTL) Responsibilities ========================================== So you want to be a PTL? Here is a list of items that you can expect to perform.plan, and delegate differently, too. #. Organize the team meeting agenda. Most teams will use a wiki or etherpad. follow it for you). It is also very useful to subscribe into the `release#. If the team does not have an appointed bug czar, then perform a bug triage. Ensure all `new` bugs that have been reported are triaged. The below is a URL to view all `new` bugs for keystone.#. If the team does not have an appointed bug czar, then remember to also tag bugs accordingly. The below is a URL to view all untagged bugs for keystone.This will vary greatly from team to team, but here is a general guide you may consider. #. Release libraries as necessary but don't wait too long! Some teams will liaison has been appointed and major features with the events organizersOur community has several mailing lists, though most usage, operations and development discussions take place on the openstack-discuss_ mailing listAlternatively, the responsibilities in this section can be delegated to a local stable maintenance czar.",99,25
openstack%2Fpython-ironic-inspector-client~master~I25cf9c8b941847a5d987531f033753523898b66f,openstack/python-ironic-inspector-client,master,I25cf9c8b941847a5d987531f033753523898b66f,Repair the deprecated uuid/uuids arguments,MERGED,2019-06-26 07:33:15.000000000,2019-06-27 12:46:49.000000000,2019-06-27 12:46:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-26 07:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/6c7553d7892686296687f642b93bed3a0ade3d02', 'message': 'Repair the deprecated uuid/uuids arguments\n\nCommit 084d1dee763aa0a63d2bb04adea035d8ee09f6a1 was supposed to\ndeprecate them, but it broke their usage via keyword arguments.\n\nChange-Id: I25cf9c8b941847a5d987531f033753523898b66f\n'}, {'number': 2, 'created': '2019-06-27 10:23:30.000000000', 'files': ['ironic_inspector_client/v1.py', 'releasenotes/notes/deprecated-uuid-d0c8e8980106e7f9.yaml', 'ironic_inspector_client/test/test_v1.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/81ae133bd570ea7359b4797ee5699d2d4233b445', 'message': 'Repair the deprecated uuid/uuids arguments\n\nCommit 084d1dee763aa0a63d2bb04adea035d8ee09f6a1 was supposed to\ndeprecate them, but it broke their usage via keyword arguments.\n\nChange-Id: I25cf9c8b941847a5d987531f033753523898b66f\n'}]",0,667531,81ae133bd570ea7359b4797ee5699d2d4233b445,14,5,2,10239,,,0,"Repair the deprecated uuid/uuids arguments

Commit 084d1dee763aa0a63d2bb04adea035d8ee09f6a1 was supposed to
deprecate them, but it broke their usage via keyword arguments.

Change-Id: I25cf9c8b941847a5d987531f033753523898b66f
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/31/667531/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_client/v1.py', 'releasenotes/notes/deprecated-uuid-d0c8e8980106e7f9.yaml', 'ironic_inspector_client/test/test_v1.py']",3,6c7553d7892686296687f642b93bed3a0ade3d02,uuid," def test_deprecated_uuid(self, mock_req): self.get_client().introspect(uuid=self.uuid) mock_req.assert_called_once_with( 'post', '/introspection/%s' % self.uuid, params={}) def test_deprecated_uuid(self, mock_req): self.get_client().reprocess(uuid=self.uuid) mock_req.assert_called_once_with( 'post', '/introspection/%s/data/unprocessed' % self.uuid ) def test_deprecated_uuid(self, mock_req): mock_req.return_value.json.return_value = 'json' self.get_client().get_status(uuid=self.uuid) mock_req.assert_called_once_with( 'get', '/introspection/%s' % self.uuid) def test_deprecated_uuids(self, mock_get_st): mock_get_st.side_effect = ( [{'finished': False, 'error': None}] * 5 + [{'finished': True, 'error': None}] ) res = self.get_client().wait_for_finish(uuids=['uuid1'], sleep_function=self.sleep) self.assertEqual({'uuid1': {'finished': True, 'error': None}}, res) self.sleep.assert_called_with(v1.DEFAULT_RETRY_INTERVAL) self.assertEqual(5, self.sleep.call_count) def test_no_arguments(self, mock_get_st): self.assertRaises(TypeError, self.get_client().wait_for_finish) def test_deprecated_uuid(self, mock_req): mock_req.return_value.json.return_value = 'json' self.assertEqual('json', self.get_client().get_data(uuid=self.uuid)) mock_req.assert_called_once_with( 'get', '/introspection/%s/data' % self.uuid) ",,60,6
openstack%2Fdevstack~master~I020e281558eda7aee7e00b669037a28e780e2188,openstack/devstack,master,I020e281558eda7aee7e00b669037a28e780e2188,Enable tempest tests for attached volume extending,NEW,2018-06-04 19:08:40.000000000,2019-06-27 12:45:18.000000000,,"[{'_account_id': 1653}, {'_account_id': 1736}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14567}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 18058}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-04 19:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/faf5acc966153c979d6ac8b614d6dc9c151edde6', 'message': 'Enable tempest tests for attached volume extending\n\nSince Pike release, Cinder is able to extend an attached volume. This\nfeature is enabled by default on Cinder and therefore should be tested\non Tempest.\n\nChange-Id: I020e281558eda7aee7e00b669037a28e780e2188\n'}, {'number': 2, 'created': '2018-06-14 14:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7d00e80c7a03575e429c30a3139e2bdfb5499e9f', 'message': 'Enable tempest tests for attached volume extending\n\nSince Pike release, Cinder is able to extend an attached volume. This\nfeature is enabled by default on Cinder and therefore should be tested\non Tempest.\n\nChange-Id: I020e281558eda7aee7e00b669037a28e780e2188\n'}, {'number': 3, 'created': '2018-06-14 14:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/deab82b6343d787a669ea44c9a41dadb3275a537', 'message': 'Enable tempest tests for attached volume extending\n\nSince Pike release, Cinder is able to extend an attached volume. This\nfeature is enabled by default on Cinder and therefore should be tested\non Tempest.\n\nChange-Id: I020e281558eda7aee7e00b669037a28e780e2188\n'}, {'number': 4, 'created': '2018-06-25 18:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/62c812a49c99c3e00e259b2e25f5a100fd79bec5', 'message': 'Enable tempest tests for attached volume extending\n\nSince Pike release, Cinder is able to extend an attached volume. This\nfeature is enabled by default on Cinder and therefore should be tested\non Tempest.\n\nChange-Id: I020e281558eda7aee7e00b669037a28e780e2188\n'}, {'number': 5, 'created': '2018-10-08 16:43:08.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6031fed7f86f4d9b08122b99202787c40ee6b0c1', 'message': 'Enable tempest tests for attached volume extending\n\nSince Pike release, Cinder is able to extend an attached volume. This\nfeature is enabled by default on Cinder and therefore should be tested\non Tempest.\n\nChange-Id: I020e281558eda7aee7e00b669037a28e780e2188\nDepends-On: https://review.openstack.org/#/c/578463/\n'}]",7,572188,6031fed7f86f4d9b08122b99202787c40ee6b0c1,68,16,5,18058,,,0,"Enable tempest tests for attached volume extending

Since Pike release, Cinder is able to extend an attached volume. This
feature is enabled by default on Cinder and therefore should be tested
on Tempest.

Change-Id: I020e281558eda7aee7e00b669037a28e780e2188
Depends-On: https://review.openstack.org/#/c/578463/
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/572188/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,faf5acc966153c979d6ac8b614d6dc9c151edde6,, iniset $TEMPEST_CONFIG volume-feature-enabled extend_attached_volume $(trueorfalse True TEMPEST_EXTEND_ATTACHED_VOLUME), iniset $TEMPEST_CONFIG volume-feature-enabled extend_attached_volume $(trueorfalse False TEMPEST_EXTEND_ATTACHED_VOLUME),1,1
openstack%2Ftripleo-ci~master~I668a06e79f498ce93a6a01e7d8566a8f039014ad,openstack/tripleo-ci,master,I668a06e79f498ce93a6a01e7d8566a8f039014ad,DNM: Test config release for periodic job in check,ABANDONED,2019-06-15 17:12:29.000000000,2019-06-27 12:43:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-15 17:12:29.000000000', 'files': ['roles/common/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1003e4f07bbac8ec889d9fdb1207d472c3617527', 'message': 'DNM: Test config release for periodic job in check\n\nChange-Id: I668a06e79f498ce93a6a01e7d8566a8f039014ad\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/943\n'}]",0,665519,1003e4f07bbac8ec889d9fdb1207d472c3617527,4,2,1,8175,,,0,"DNM: Test config release for periodic job in check

Change-Id: I668a06e79f498ce93a6a01e7d8566a8f039014ad
Story: https://tree.taiga.io/project/tripleo-ci-board/us/943
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/19/665519/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/common/vars/main.yaml'],1,1003e4f07bbac8ec889d9fdb1207d472c3617527,rdo-rhel-container, {% if 'periodic' in zuul.pipeline or 'periodic' in zuul.job -%}, {% if 'periodic' in zuul.pipeline -%},1,1
openstack%2Fnova~master~I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,openstack/nova,master,I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,Grab fresh power state info from the driver,MERGED,2019-06-18 12:49:40.000000000,2019-06-27 12:41:06.000000000,2019-06-27 12:41:05.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-06-18 12:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9ad7ab24e04139a68f31a192dda827a811c2d1e', 'message': 'Grab fresh info from the driver during nova start/stop actions\n\nIn drivers that use a cache to store the node info (presently only\nironic), the ""_get_power_state"" function called during instance start or\nstop actions grabs the information from the node cache and saves it\nin the nova database instead of getting fresh information from the\ndriver. This leads to inconsistency between the vm_state and power_state\nfor an instance in the nova database (which remains until a power_sync\nhappens between nova and ironic). This can be confusing for a user\nwhen doing ""nova list"" where the power_state might still be shutdown\nwhen the vm_state has already become active. On a default environment\nthis inconsistency lasts for about ten minutes which is the default\nvalue for the sync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False when doing a start or stop\non an instance.\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n'}, {'number': 2, 'created': '2019-06-19 09:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfe7e3de10671cf9cb3d9c0474e33e4253582941', 'message': 'Grab fresh info from the driver during nova start/stop actions\n\nIn drivers that use a cache to store the node info (presently only\nironic since [1]), the ""_get_power_state"" function called during\ninstance start or stop actions grabs the information from the node\ncache and saves it in the nova database instead of getting fresh\ninformation from the driver. This leads to inconsistency between\nthe vm_state and power_state for an instance in the nova database\n(which remains until a power_sync happens between nova and ironic).\nThis can be confusing for a user when doing ""nova list"" where the\npower_state might still be shutdown when the vm_state has already\nbecome active. On a default environment this inconsistency lasts\nfor about ten minutes which is the default value for the\nsync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False when doing a start or stop\non an instance.\n\n[1] I907b69eb689cf6c169a4869cfc7889308ca419d5\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n'}, {'number': 3, 'created': '2019-06-20 08:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc22a2e75c9d17ec44dbab6257a1e1290de595dc', 'message': 'Grab fresh power state info from the driver\n\nIn drivers that use a cache to store the node info (presently only\nironic since [1]), the ""_get_power_state"" function called during\ninstance actions like start or stop grabs the information from the node\ncache and saves it in the nova database instead of getting fresh\ninformation from the driver. This leads to inconsistency between\nthe vm_state and power_state for an instance in the nova database\n(which remains until a power_sync happens between nova and ironic).\nThis can be confusing for a user when doing ""nova list"" where the\npower_state might still be shutdown when the vm_state has already\nbecome active. On a default environment this inconsistency lasts\nfor about ten minutes which is the default value for the\nsync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False in the compute manager\nwhen doing triggering an action on an instance like start/stop/reboot.\n\n[1] I907b69eb689cf6c169a4869cfc7889308ca419d5\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n'}, {'number': 4, 'created': '2019-06-20 08:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b000c667f22b29ee745288a833e3d8718b69c90b', 'message': 'Grab fresh power state info from the driver\n\nIn drivers that use a cache to store the node info (presently only\nironic since [1]), the ""_get_power_state"" function called during\ninstance actions like start or stop grabs the information from the node\ncache and saves it in the nova database instead of getting fresh\ninformation from the driver. This leads to inconsistency between\nthe vm_state and power_state for an instance in the nova database\n(which remains until a power_sync happens between nova and ironic).\nThis can be confusing for a user when doing ""nova list"" where the\npower_state might still be shutdown when the vm_state has already\nbecome active. On a default environment this inconsistency lasts\nfor about ten minutes which is the default value for the\nsync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False in the compute manager\nwhen doing triggering an action on an instance like start/stop/reboot.\n\n[1] I0069cbc327d952d42dbb8fe54949faab89995a7e\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n'}, {'number': 5, 'created': '2019-06-26 09:04:08.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b1c9dd05ccc0488e4d47bfc2442e46adb82b765', 'message': 'Grab fresh power state info from the driver\n\nIn drivers that use a cache to store the node info (presently only\nironic since [1]), the ""_get_power_state"" function called during\ninstance actions like start or stop grabs the information from the node\ncache and saves it in the nova database instead of getting fresh\ninformation from the driver. This leads to inconsistency between\nthe vm_state and power_state for an instance in the nova database\n(which remains until a power_sync happens between nova and ironic).\nThis can be confusing for a user when doing ""nova list"" where the\npower_state might still be shutdown when the vm_state has already\nbecome active. On a default environment this inconsistency lasts\nfor about ten minutes which is the default value for the\nsync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False in the compute manager\nwhen triggering an action on an instance like start/stop/reboot.\n\n[1] I907b69eb689cf6c169a4869cfc7889308ca419d5\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n'}]",15,665975,5b1c9dd05ccc0488e4d47bfc2442e46adb82b765,62,13,5,26936,,,0,"Grab fresh power state info from the driver

In drivers that use a cache to store the node info (presently only
ironic since [1]), the ""_get_power_state"" function called during
instance actions like start or stop grabs the information from the node
cache and saves it in the nova database instead of getting fresh
information from the driver. This leads to inconsistency between
the vm_state and power_state for an instance in the nova database
(which remains until a power_sync happens between nova and ironic).
This can be confusing for a user when doing ""nova list"" where the
power_state might still be shutdown when the vm_state has already
become active. On a default environment this inconsistency lasts
for about ten minutes which is the default value for the
sync_power_state_interval interval.

This patch changes the ""use_cache"" to False in the compute manager
when triggering an action on an instance like start/stop/reboot.

[1] I907b69eb689cf6c169a4869cfc7889308ca419d5

Change-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b
Closes-Bug: #1832720
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/665975/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,c9ad7ab24e04139a68f31a192dda827a811c2d1e,bug/1832720," def _get_power_state(self, context, instance, use_cache=True): return self.driver.get_info(instance, use_cache=use_cache).state instance.power_state = self._get_power_state( context, instance, use_cache=False) instance.power_state = self._get_power_state( context, instance, use_cache=False)"," def _get_power_state(self, context, instance): return self.driver.get_info(instance).state instance.power_state = self._get_power_state(context, instance) instance.power_state = self._get_power_state(context, instance)",9,6
openstack%2Ftempest~master~Iaf9865e5280e5a71e623dc4fa0c91f16449167b1,openstack/tempest,master,Iaf9865e5280e5a71e623dc4fa0c91f16449167b1,Stop checking the error message in test_boot_with_low_ram,MERGED,2019-06-19 16:05:04.000000000,2019-06-27 12:41:02.000000000,2019-06-27 12:41:02.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 14743}, {'_account_id': 14749}, {'_account_id': 16590}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 16:05:04.000000000', 'files': ['tempest/api/compute/flavors/test_flavors_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b025553642275302216ffa20545461cc4627c3eb', 'message': 'Stop checking the error message in test_boot_with_low_ram\n\nIt fails if locale is not C or en.\n\nCloses-bug: #1824795\n\nChange-Id: Iaf9865e5280e5a71e623dc4fa0c91f16449167b1\nSigned-off-by: Cdric Ollivier <ollivier.cedric@gmail.com>\n'}]",0,666373,b025553642275302216ffa20545461cc4627c3eb,14,7,1,11692,,,0,"Stop checking the error message in test_boot_with_low_ram

It fails if locale is not C or en.

Closes-bug: #1824795

Change-Id: Iaf9865e5280e5a71e623dc4fa0c91f16449167b1
Signed-off-by: Cdric Ollivier <ollivier.cedric@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/666373/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/flavors/test_flavors_negative.py'],1,b025553642275302216ffa20545461cc4627c3eb,bug/1824795," self.assertRaises(lib_exc.BadRequest, self.create_test_server, image_id=image['id'], flavor=flavor['id'])"," self.assertRaisesRegex(lib_exc.BadRequest, ""Flavor's memory is too small for "" ""requested image"", self.create_test_server, image_id=image['id'], flavor=flavor['id'])",4,6
openstack%2Frally-openstack~master~I692e9dec76837e90d31e6730da36a9144216ca57,openstack/rally-openstack,master,I692e9dec76837e90d31e6730da36a9144216ca57,Change Octiva Scenarios,ABANDONED,2019-06-12 13:54:01.000000000,2019-06-27 12:40:46.000000000,,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 16845}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 13:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cf82a2b9e827bbb5197f91445a6f3017af7eec94', 'message': 'Change Octiva Scenarios\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 2, 'created': '2019-06-12 20:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5669fcd1078da54f1641ae4c886e8d1d097c5a56', 'message': 'Change Octiva Scenarios\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 3, 'created': '2019-06-12 20:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4d7dee430305ba7e006783fc19a4936da71d16b6', 'message': 'Change Octiva Scenarios\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 4, 'created': '2019-06-13 01:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6cbd8997c3ace6cf442616fcf5c242669b7eda84', 'message': 'Change Octiva Scenarios\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 5, 'created': '2019-06-13 04:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3cfbeb4513f131bfd6a17c4fc223afef8e6787cb', 'message': 'Change Octiva Scenarios\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 6, 'created': '2019-06-13 13:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4e0b6bec58baeab739122f71788d82bee2456563', 'message': 'Change Octiva Scenarios\n\nMostly, re-write the utils.py in octavia so that other\nfiles such as loadbalancers.py and pools.py can use functions\ndefined in utils.py.\n\nAnother reason is that in x/Browbeat, we can add custom scenarios/plugin\nwith calling the functions in utils.py\n\nThis patch changes the existing code within octavia. There are other scenarios\nsuch as listeners, health montiors, etc. would be added in other patches\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 7, 'created': '2019-06-13 18:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/478026a997abf97cb8fda928e0f4bcd7e2b58df6', 'message': 'Change Octiva Scenarios\n\nMostly, re-write the utils.py in octavia so that other\nfiles such as loadbalancers.py and pools.py can use functions\ndefined in utils.py.\n\nAnother reason is that in x/Browbeat, we can add custom scenarios/plugin\nwith calling the functions in utils.py\n\nThis patch changes the existing code within octavia. There are other scenarios\nsuch as listeners, health montiors, etc. would be added in other patches\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}, {'number': 8, 'created': '2019-06-13 20:28:55.000000000', 'files': ['tests/unit/scenarios/loadbalancer/test_utils.py', 'samples/tasks/scenarios/octavia/octavia-create-and-update-loadbalancers.json', 'tests/unit/scenarios/loadbalancer/test_loadbalancers.py', 'tests/unit/scenarios/loadbalancer/test_pools.py', 'rally_openstack/services/loadbalancer/octavia.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-pools.yaml', 'tests/unit/scenarios/octavia/test_pools.py', 'samples/tasks/scenarios/octavia/octavia-create-and-update-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-pools.json', 'samples/tasks/scenarios/octavia/octavia-create-and-update-pools.json', 'tests/unit/scenarios/octavia/__init__.py', 'rally_openstack/scenarios/authenticate/authenticate.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.yaml', 'rally_openstack/cfg/octavia.py', 'samples/tasks/scenarios/authenticate/token-validate-octavia.yaml', 'tests/unit/scenarios/octavia/test_utils.py', 'samples/tasks/scenarios/authenticate/token-validate-octavia.json', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.json', 'samples/tasks/scenarios/octavia/octavia-create-and-list-pools.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-list-pools.json', 'samples/tasks/scenarios/octavia/octavia-create-and-show-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-show-loadbalancers.json', 'rally-jobs/load-balancing.yaml', 'rally_openstack/scenarios/octavia/utils.py', 'samples/tasks/scenarios/octavia/octavia-create-and-stats-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-show-pools.yaml', 'tests/unit/services/loadbalancer/test_octavia.py', 'samples/tasks/scenarios/octavia/octavia-create-and-stats-loadbalancers.json', 'tests/unit/scenarios/authenticate/test_authenticate.py', 'tests/unit/scenarios/octavia/test_loadbalancers.py', 'samples/tasks/scenarios/octavia/octavia-create-and-update-pools.yaml', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'samples/tasks/scenarios/octavia/octavia-create-and-show-pools.json', 'samples/tasks/scenarios/octavia/octavia-create-and-list-loadbalancers.yaml', 'rally_openstack/scenarios/octavia/pools.py', 'samples/tasks/scenarios/octavia/octavia-create-and-list-loadbalancers.json'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4ed11b0283b80454c1ea54628aecfccb62be0961', 'message': 'Change Octiva Scenarios\n\nMostly, re-write the utils.py in octavia so that other\nfiles such as loadbalancers.py and pools.py can use functions\ndefined in utils.py.\n\nAnother reason is that in x/Browbeat, we can add custom scenarios/plugin\nwith calling the functions in utils.py\n\nThis patch changes the existing code within octavia. There are other scenarios\nsuch as listeners, health montiors, etc. would be added in other patches\n\nChange-Id: I692e9dec76837e90d31e6730da36a9144216ca57\n'}]",0,664931,4ed11b0283b80454c1ea54628aecfccb62be0961,29,5,8,15209,,,0,"Change Octiva Scenarios

Mostly, re-write the utils.py in octavia so that other
files such as loadbalancers.py and pools.py can use functions
defined in utils.py.

Another reason is that in x/Browbeat, we can add custom scenarios/plugin
with calling the functions in utils.py

This patch changes the existing code within octavia. There are other scenarios
such as listeners, health montiors, etc. would be added in other patches

Change-Id: I692e9dec76837e90d31e6730da36a9144216ca57
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/31/664931/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/scenarios/loadbalancer/test_utils.py', 'samples/tasks/scenarios/octavia/octavia-create-and-update-loadbalancers.json', 'tests/unit/scenarios/loadbalancer/test_loadbalancers.py', 'tests/unit/scenarios/loadbalancer/test_pools.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-pools.yaml', 'tests/unit/scenarios/octavia/test_pools.py', 'samples/tasks/scenarios/octavia/octavia-create-and-update-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-pools.json', 'samples/tasks/scenarios/octavia/octavia-create-and-update-pools.json', 'tests/unit/scenarios/octavia/__init__.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.yaml', 'rally_openstack/cfg/octavia.py', 'tests/unit/scenarios/octavia/test_utils.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-loadbalancers.json', 'samples/tasks/scenarios/octavia/octavia-create-and-list-pools.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-list-pools.json', 'samples/tasks/scenarios/octavia/octavia-create-and-show-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-show-loadbalancers.json', 'rally-jobs/load-balancing.yaml', 'rally_openstack/scenarios/octavia/utils.py', 'samples/tasks/scenarios/octavia/octavia-create-and-stats-loadbalancers.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-show-pools.yaml', 'tests/unit/services/loadbalancer/test_octavia.py', 'samples/tasks/scenarios/octavia/octavia-create-and-stats-loadbalancers.json', 'tests/unit/scenarios/octavia/test_loadbalancers.py', 'samples/tasks/scenarios/octavia/octavia-create-and-update-pools.yaml', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'samples/tasks/scenarios/octavia/octavia-create-and-show-pools.json', 'samples/tasks/scenarios/octavia/octavia-create-and-list-loadbalancers.yaml', 'rally_openstack/scenarios/octavia/pools.py', 'samples/tasks/scenarios/octavia/octavia-create-and-list-loadbalancers.json', 'tox.ini']",32,cf82a2b9e827bbb5197f91445a6f3017af7eec94,rewrite-octavia,basepython = python,basepython = python3,875,749
openstack%2Fkolla-ansible~master~Iea6d12c07a2f4152f2038d3de2ef589479b3332b,openstack/kolla-ansible,master,Iea6d12c07a2f4152f2038d3de2ef589479b3332b,Format internal Fluentd logs,MERGED,2019-06-18 11:21:27.000000000,2019-06-27 12:38:14.000000000,2019-06-27 12:38:14.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 11:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/042ec153fc054dbe26f6bb7f1327d0c50195fe1d', 'message': ""Format internal Fluentd logs\n\nThis change formats internal Fluent logs in a similar way to other\nlogs. It makes it easier for a user to identify issues with Fluent\nparsing logs. Any failure to parse a log will be ingested into the\nlogging framework and can easily be located by searching for\n'pattern not match' or by filtering for Fluent log warnings.\n\nChange-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b\n""}, {'number': 2, 'created': '2019-06-18 12:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70366598b9edd72b7bd221cf085e63b560aae6ad', 'message': ""Format internal Fluentd logs\n\nThis change formats internal Fluent logs in a similar way to other\nlogs. It makes it easier for a user to identify issues with Fluent\nparsing logs. Any failure to parse a log will be ingested into the\nlogging framework and can easily be located by searching for\n'pattern not match' or by filtering for Fluent log warnings.\n\nChange-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b\n""}, {'number': 3, 'created': '2019-06-18 14:56:32.000000000', 'files': ['ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d89a89c26bd0348e48049f9cddfeb5219dce9282', 'message': ""Format internal Fluentd logs\n\nThis change formats internal Fluent logs in a similar way to other\nlogs. It makes it easier for a user to identify issues with Fluent\nparsing logs. Any failure to parse a log will be ingested into the\nlogging framework and can easily be located by searching for\n'pattern not match' or by filtering for Fluent log warnings.\n\nChange-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b\n""}]",3,665953,d89a89c26bd0348e48049f9cddfeb5219dce9282,16,4,3,17669,,,0,"Format internal Fluentd logs

This change formats internal Fluent logs in a similar way to other
logs. It makes it easier for a user to identify issues with Fluent
parsing logs. Any failure to parse a log will be ingested into the
logging framework and can easily be located by searching for
'pattern not match' or by filtering for Fluent log warnings.

Change-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/665953/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'],1,042ec153fc054dbe26f6bb7f1327d0c50195fe1d,,"# Rename internal Fluent message field to match other logs <filter fluent.**> @type parser key_name message format /^(?<Payload>.*)$/ </filter> <filter fluent.**> @type record_transformer <record> Hostname ""#{Socket.gethostname}"" programname ${tag_parts[0]} log_level ${tag_parts[1]} </record> </filter> ",,16,0
openstack%2Fpuppet-cinder~master~I2eb4f95cf8fca0ef4447f9d1c93c7f7845771751,openstack/puppet-cinder,master,I2eb4f95cf8fca0ef4447f9d1c93c7f7845771751,Deprecate sf_enable_volume_mapping,MERGED,2019-06-21 03:39:10.000000000,2019-06-27 12:31:58.000000000,2019-06-27 12:31:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 03:39:10.000000000', 'files': ['spec/defines/cinder_backend_solidfire_spec.rb', 'releasenotes/notes/deprecate_sf_enable_volume_mapping-parmater-a5d9c17aa551601e.yaml', 'manifests/backend/solidfire.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/580b2f257af6d776cfbda34e4c0c84e50e94a374', 'message': 'Deprecate sf_enable_volume_mapping\n\nSolidfire option sf_enable_volume_mapping has been deleted[0].\n\n[0]https://review.opendev.org/#/c/529396/\n\nChange-Id: I2eb4f95cf8fca0ef4447f9d1c93c7f7845771751\nCloses-Bug: #1833649\n'}]",0,666765,580b2f257af6d776cfbda34e4c0c84e50e94a374,16,5,1,9414,,,0,"Deprecate sf_enable_volume_mapping

Solidfire option sf_enable_volume_mapping has been deleted[0].

[0]https://review.opendev.org/#/c/529396/

Change-Id: I2eb4f95cf8fca0ef4447f9d1c93c7f7845771751
Closes-Bug: #1833649
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/65/666765/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/cinder_backend_solidfire_spec.rb', 'releasenotes/notes/deprecate_sf_enable_volume_mapping-parmater-a5d9c17aa551601e.yaml', 'manifests/backend/solidfire.pp']",3,580b2f257af6d776cfbda34e4c0c84e50e94a374,bug/1833649,"# DEPRECATED PARAMETERS # # [*sf_enable_volume_mapping*] # (optional) Create an internal mapping of volume IDs and account. # Optimizes lookups and performance at the expense of memory, very # large deployments may want to consider setting to False. # Defaults to undef # # DEPRECATED PARAMETERS $sf_enable_volume_mapping = undef, if $sf_enable_volume_mapping { warning('The sf_enable_volume_mapping parameter is deprecated, has no effect and will be removed in the future release.') } ","# [*sf_enable_volume_mapping*] # (optional) Create an internal mapping of volume IDs and account. # Optimizes lookups and performance at the expense of memory, very # large deployments may want to consider setting to False. # Defaults to $::os_service_default # $sf_enable_volume_mapping = $::os_service_default, ""${name}/sf_enable_volume_mapping"": value => $sf_enable_volume_mapping;",18,9
openstack%2Fkolla-ansible~master~I0a2484d878d5c86977fb232a57c52f874ca7a34c,openstack/kolla-ansible,master,I0a2484d878d5c86977fb232a57c52f874ca7a34c,Don't drop unmatched Kolla service logs,MERGED,2019-06-18 11:21:27.000000000,2019-06-27 12:25:11.000000000,2019-06-27 12:25:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 11:21:27.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cfeb9dd9ef1d891904c9112c35b2189d5032815c', 'message': ""Don't drop unmatched Kolla service logs\n\nKolla service logs which don't match a Fluentd rewriterule get dropped.\nThis change prevents that by tagging them with 'unmatched'.\n\nChange-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c\n""}]",0,665952,cfeb9dd9ef1d891904c9112c35b2189d5032815c,10,3,1,17669,,,0,"Don't drop unmatched Kolla service logs

Kolla service logs which don't match a Fluentd rewriterule get dropped.
This change prevents that by tagging them with 'unmatched'.

Change-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/665952/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2']",2,cfeb9dd9ef1d891904c9112c35b2189d5032815c,, rewriterule35 programname .+ unmatched,,6,0
openstack%2Fnova~master~I0dfb4f8668563b3a2c16eada6eb82e4276495ed3,openstack/nova,master,I0dfb4f8668563b3a2c16eada6eb82e4276495ed3,Functional reproduce for bug 1833581,ABANDONED,2019-06-25 16:09:28.000000000,2019-06-27 12:22:21.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 16128}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 16:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dc5f822f823de02542ed6cbede1217654945e6d', 'message': 'Functional reproduce for bug 1833581\n\nChange-Id: I0dfb4f8668563b3a2c16eada6eb82e4276495ed3\nRelated-Bug: #1833581\n'}, {'number': 2, 'created': '2019-06-25 16:12:05.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1833581.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6973fd19dcaa090f20f850b14b32885877e2b19a', 'message': 'Functional reproduce for bug 1833581\n\nChange-Id: I0dfb4f8668563b3a2c16eada6eb82e4276495ed3\nRelated-Bug: #1833581\n'}]",1,667396,6973fd19dcaa090f20f850b14b32885877e2b19a,13,5,2,9708,,,0,"Functional reproduce for bug 1833581

Change-Id: I0dfb4f8668563b3a2c16eada6eb82e4276495ed3
Related-Bug: #1833581
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/667396/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1833581.py'],1,9dc5f822f823de02542ed6cbede1217654945e6d,bug/bug/1833581,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova import utils class TestComputeRestartInstanceStuckInBuild( integrated_helpers.ProviderUsageBaseTestCase): compute_driver = 'fake.SmallFakeDriver' def setUp(self): super(TestComputeRestartInstanceStuckInBuild, self).setUp() self.compute1 = self._start_compute(host='host1') flavors = self.api.get_flavors() self.flavor1 = flavors[0] def test_restart_compute_while_instance_waiting_for_resource_claim(self): """"""Regression test for bug 1833581 where an instance is stuck in BUILD state forever due to compute service is restarted before the resource claim finished. """""" # starting a server here to make sure that the compute is fully up # before we start the real test scenario as we need to avoid grabbing # the lock below before the compute is fully up as that would prevent # reporting available resources. server_req = self._build_minimal_create_server_request( self.api, 'normal-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none', az='nova:host1') normal_server = self.api.post_server({'server': server_req}) self._wait_for_state_change(self.admin_api, normal_server, 'ACTIVE') # To avoid timing issues in the test we grab the # COMPUTE_RESOURCE_SEMAPHORE so the instance_claim will # wait and we can restart the compute at the right time. @utils.synchronized(""compute_resources"") def do_test(): fake_notifier.reset() server_req = self._build_minimal_create_server_request( self.api, 'interrupted-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none', az='nova:host1') created_server = self.api.post_server({'server': server_req}) self._wait_for_state_change( self.admin_api, created_server, 'BUILD') # the instance.create.start is the closest thing to the # instance_claim call we can wait for in the test fake_notifier.wait_for_versioned_notifications( 'instance.create.start') self.restart_compute_service(self.compute1) return created_server server = do_test() # This is bug 1833581 as the server remains in error state after the # compute restart. self._wait_for_state_change(self.admin_api, server, 'BUILD') # We expect that the instance is pushed to ERROR state during the # compute restart. # self._wait_for_state_change(self.admin_api, server, 'ERROR') ",,77,0
openstack%2Fkolla-ansible~master~I9e3436a8f946873867900eed5ff0643d84584358,openstack/kolla-ansible,master,I9e3436a8f946873867900eed5ff0643d84584358,Increase log coverage for Monasca,MERGED,2019-06-18 11:21:27.000000000,2019-06-27 12:22:20.000000000,2019-06-27 12:22:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 11:21:27.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb404743be54e8364f061da3e7caf5586c316008', 'message': 'Increase log coverage for Monasca\n\nMonasca Python service logs prior to this change were being dropped\ndue to missing entries in the Fluent record_transformer config file.\nThis change adds support for ingesting those logs, and explicitly\nremoves support for ingesting Monasca Log API logs to reduce the risk\nof feedback, for example if debug logging is turned on in the Monasca\nLog API.\n\nChange-Id: I9e3436a8f946873867900eed5ff0643d84584358\n'}]",0,665951,cb404743be54e8364f061da3e7caf5586c316008,11,3,1,17669,,,0,"Increase log coverage for Monasca

Monasca Python service logs prior to this change were being dropped
due to missing entries in the Fluent record_transformer config file.
This change adds support for ingesting those logs, and explicitly
removes support for ingesting Monasca Log API logs to reduce the risk
of feedback, for example if debug logging is turned on in the Monasca
Log API.

Change-Id: I9e3436a8f946873867900eed5ff0643d84584358
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/665951/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2']",3,cb404743be54e8364f061da3e7caf5586c316008,," ""/var/log/kolla/monasca/monasca-log-api.log"",",,3,2
openstack%2Fopenstack-ansible-os_nova~master~I0e93d0ed9d0fe430478ef1d3cc8c5ab2ef504c9f,openstack/openstack-ansible-os_nova,master,I0e93d0ed9d0fe430478ef1d3cc8c5ab2ef504c9f,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:44.000000000,2019-06-27 12:18:56.000000000,2019-06-27 12:18:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:22:44.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/665cce34f4c783e14a0c9f34ba7f2c225ff7acc1', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0e93d0ed9d0fe430478ef1d3cc8c5ab2ef504c9f\n'}]",0,667868,665cce34f4c783e14a0c9f34ba7f2c225ff7acc1,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0e93d0ed9d0fe430478ef1d3cc8c5ab2ef504c9f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/68/667868/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,665cce34f4c783e14a0c9f34ba7f2c225ff7acc1,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_mistral~master~Ice682e5523451251f11039f73f88a357f3c9b38e,openstack/openstack-ansible-os_mistral,master,Ice682e5523451251f11039f73f88a357f3c9b38e,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:20.000000000,2019-06-27 12:18:28.000000000,2019-06-27 12:18:28.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:22:20.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/ef7d00f0852537ccf77b9bf22f39c3bf293ba4c3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ice682e5523451251f11039f73f88a357f3c9b38e\n'}]",0,667866,ef7d00f0852537ccf77b9bf22f39c3bf293ba4c3,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ice682e5523451251f11039f73f88a357f3c9b38e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/66/667866/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,ef7d00f0852537ccf77b9bf22f39c3bf293ba4c3,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_cinder~master~Ie921f5a14078e51a039fa2b8e71b780ffc5c885f,openstack/openstack-ansible-os_cinder,master,Ie921f5a14078e51a039fa2b8e71b780ffc5c885f,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:11.000000000,2019-06-27 12:18:24.000000000,2019-06-27 12:18:23.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:21:11.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/f236d0f5c3df85b015bf47966661a877e6511353', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie921f5a14078e51a039fa2b8e71b780ffc5c885f\n'}]",0,667854,f236d0f5c3df85b015bf47966661a877e6511353,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie921f5a14078e51a039fa2b8e71b780ffc5c885f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/54/667854/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,f236d0f5c3df85b015bf47966661a877e6511353,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_masakari~master~If7003d7a7ac9403858f55c35f0c78456951a8061,openstack/openstack-ansible-os_masakari,master,If7003d7a7ac9403858f55c35f0c78456951a8061,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:15.000000000,2019-06-27 12:18:07.000000000,2019-06-27 12:18:06.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:22:15.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/84a9421b9d1c22fb217f0afab168e89e0e948ff8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If7003d7a7ac9403858f55c35f0c78456951a8061\n'}]",0,667865,84a9421b9d1c22fb217f0afab168e89e0e948ff8,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If7003d7a7ac9403858f55c35f0c78456951a8061
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/65/667865/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,84a9421b9d1c22fb217f0afab168e89e0e948ff8,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-openstack_openrc~master~I1b4a04c7af25b5b808102d3688b63be84441135c,openstack/openstack-ansible-openstack_openrc,master,I1b4a04c7af25b5b808102d3688b63be84441135c,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:36.000000000,2019-06-27 12:17:59.000000000,2019-06-27 12:17:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:20:36.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/a2b5e9339f4656a20b25d60760230c38cd9050a3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I1b4a04c7af25b5b808102d3688b63be84441135c\n'}]",0,667849,a2b5e9339f4656a20b25d60760230c38cd9050a3,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I1b4a04c7af25b5b808102d3688b63be84441135c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/49/667849/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,a2b5e9339f4656a20b25d60760230c38cd9050a3,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_neutron~master~I7986e119e042527d48c31158f5cf39564dc8a79a,openstack/openstack-ansible-os_neutron,master,I7986e119e042527d48c31158f5cf39564dc8a79a,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:38.000000000,2019-06-27 12:17:58.000000000,2019-06-27 12:17:58.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:22:38.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/3beb0e4a13b491739e85f158e796410ec228fcbf', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7986e119e042527d48c31158f5cf39564dc8a79a\n'}]",0,667867,3beb0e4a13b491739e85f158e796410ec228fcbf,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7986e119e042527d48c31158f5cf39564dc8a79a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/67/667867/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,3beb0e4a13b491739e85f158e796410ec228fcbf,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_panko~master~Ifdd6bc542f75067c37de6e4fe68fac6b5b6dadd1,openstack/openstack-ansible-os_panko,master,Ifdd6bc542f75067c37de6e4fe68fac6b5b6dadd1,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:55.000000000,2019-06-27 12:16:34.000000000,2019-06-27 12:16:34.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:22:55.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/41665107f0ca24c347e2562a80995235a65aba18', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ifdd6bc542f75067c37de6e4fe68fac6b5b6dadd1\n'}]",0,667869,41665107f0ca24c347e2562a80995235a65aba18,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ifdd6bc542f75067c37de6e4fe68fac6b5b6dadd1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/69/667869/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,41665107f0ca24c347e2562a80995235a65aba18,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Foctavia~master~I8acde313e7e295cdecaa593dbeb41e8ee49afed5,openstack/octavia,master,I8acde313e7e295cdecaa593dbeb41e8ee49afed5,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 11:02:26.000000000,2019-06-27 12:15:07.000000000,2019-06-27 12:15:07.000000000,"[{'_account_id': 6469}, {'_account_id': 10068}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-24 11:02:26.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a144e512cfd5a99c5e0c30a0dc71972939acc0b9', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I8acde313e7e295cdecaa593dbeb41e8ee49afed5\n'}]",0,667065,a144e512cfd5a99c5e0c30a0dc71972939acc0b9,9,5,1,30619,,,0,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I8acde313e7e295cdecaa593dbeb41e8ee49afed5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/667065/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a144e512cfd5a99c5e0c30a0dc71972939acc0b9,, - openstack-python3-train-jobs, - openstack-python36-jobs - openstack-python37-jobs,1,2
openstack%2Fpython-novaclient~stable%2Fstein~Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40,openstack/python-novaclient,stable/stein,Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40,Use SHA256 instead of MD5 in completion cache,MERGED,2019-06-07 18:32:20.000000000,2019-06-27 12:08:09.000000000,2019-06-27 12:08:09.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-07 18:32:20.000000000', 'files': ['novaclient/base.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e15cc789d9428cd03c2c5fbd6f5023522f2290cc', 'message': 'Use SHA256 instead of MD5 in completion cache\n\nFIPS 140 are U.S. government computer security standards that specify\nrequirements for cryptography modules. MD5 is not FIPS compliant [1].\nPreviously, MD5 was used as the hash algorithm for the bash completion\ncache. Hosts running in FIPS mode [2] block execution of the MD5 hash.\nThis makes python-novaclient unusable on FIPS-enabled machines. This\npatch replaces MD5 with SHA256, which is FIPS compliant.\n\n[1] https://csrc.nist.gov/projects/hash-functions\n[2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations\n\nChange-Id: Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40\n(cherry picked from commit 2595bac2294ce05e389eaab6636977963d5fc66c)\n'}]",0,664023,e15cc789d9428cd03c2c5fbd6f5023522f2290cc,9,5,1,8864,,,0,"Use SHA256 instead of MD5 in completion cache

FIPS 140 are U.S. government computer security standards that specify
requirements for cryptography modules. MD5 is not FIPS compliant [1].
Previously, MD5 was used as the hash algorithm for the bash completion
cache. Hosts running in FIPS mode [2] block execution of the MD5 hash.
This makes python-novaclient unusable on FIPS-enabled machines. This
patch replaces MD5 with SHA256, which is FIPS compliant.

[1] https://csrc.nist.gov/projects/hash-functions
[2] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations

Change-Id: Ia8750bc27aa9a2cfafb6f4f49252f5bd81bc1a40
(cherry picked from commit 2595bac2294ce05e389eaab6636977963d5fc66c)
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/23/664023/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/base.py'],1,e15cc789d9428cd03c2c5fbd6f5023522f2290cc,, uniqifier = hashlib.sha256(username.encode('utf-8') + url.encode('utf-8')).hexdigest(), uniqifier = hashlib.md5(username.encode('utf-8') + url.encode('utf-8')).hexdigest(),2,2
openstack%2Fgovernance~master~I64ca9232d168f6b8203b7b19cbf7280635dded52,openstack/governance,master,I64ca9232d168f6b8203b7b19cbf7280635dded52,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:38:15.000000000,2019-06-27 11:49:50.000000000,2019-06-27 11:49:50.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-04-23 11:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d3039231fd2c2ed43884f06a8b818f9c44d08617', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 2, 'created': '2019-04-26 09:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/57dc2ef31b965d492d28773c3b6ef1344430d016', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 3, 'created': '2019-04-26 09:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d2e942f0292abf34d540d4291446b6f0ba0c0ca4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 4, 'created': '2019-05-27 02:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ebc32a5c9316dfa3daae123d7f3b5c3286fe00f3', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 5, 'created': '2019-05-27 02:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c2ef00904afcba81cdb9dcaadbbf118c34b2fe7e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 6, 'created': '2019-05-27 03:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6d4326798352d09f76c7901735564328e0289dfa', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 7, 'created': '2019-06-25 09:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bb0469cbd18cdb673361cc6526080186fb80b88f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 8, 'created': '2019-06-25 09:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e66c1c41bc61a9c9731128326ec524d83236b500', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}, {'number': 9, 'created': '2019-06-27 09:26:19.000000000', 'files': ['goals/ocata/remove-incubated-oslo-code.rst', 'resolutions/20141202-project-structure-reform-spec.rst', 'README.rst', 'tools/check_review_status.py', 'reference/help-most-needed.rst', 'resolutions/20180301-stable-branch-eol.rst', 'resolutions/superseded/20160504-defcore-test-location.rst', 'goals/stein/python3-first.rst', 'goals/rocky/mox_removal.rst', 'doc/source/index.rst', 'goals/queens/split-tempest-plugins.rst', 'resolutions/20170317-cloud-applications-mission.rst', 'CHAIR.rst', 'tools/validate_repositories.py', 'goals/pike/python35.rst', 'goals/queens/policy-in-code.rst', 'resolutions/20180307-trademark-program-test-location.rst', 'goals/stein/upgrade-checkers.rst', 'reference/tags/stable_follows-policy.rst', 'resolutions/20160414-grant-cross-project-spec-team-voting.rst', 'goals/rocky/enable-mutable-configuration.rst', 'goals/pike/deploy-api-in-wsgi.rst', 'resolutions/20170718-allow-scheduling-meetings-on-team-channels.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/77da85c3baa36dd811ea9eae1dfc1f227c3bc51e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52\n'}]",17,655010,77da85c3baa36dd811ea9eae1dfc1f227c3bc51e,28,8,9,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I64ca9232d168f6b8203b7b19cbf7280635dded52
",git fetch https://review.opendev.org/openstack/governance refs/changes/10/655010/7 && git format-patch -1 --stdout FETCH_HEAD,"['reference/pti/javascript.rst', 'README.rst', 'reference/tags/vulnerability_managed.rst', 'doc/source/conf.py', 'resolutions/superseded/20160504-defcore-test-location.rst', 'reference/service-project-naming.rst', 'goals/queens/split-tempest-plugins.rst', 'tools/validate_repositories.py', 'goals/pike/python35.rst', 'reference/charter.rst', 'resolutions/20180307-trademark-program-test-location.rst', 'goals/stein/upgrade-checkers.rst', 'resolutions/20160414-grant-cross-project-spec-team-voting.rst', 'goals/pike/deploy-api-in-wsgi.rst']",14,d3039231fd2c2ed43884f06a8b818f9c44d08617,typo-fix,* `heat <http://opendev.org/openstack/heat/commit/?id=6ef5fa9adc8886ed339132b5e5e27cee4000f762>`_* http://opendev.org/openstack-dev/devstack/commit/?id=a00e5f8810b6ca3b0b5d63cc228125e19bc91955,* `heat <http://git.openstack.org/cgit/openstack/heat/commit/?id=6ef5fa9adc8886ed339132b5e5e27cee4000f762>`_* http://git.openstack.org/cgit/openstack-dev/devstack/commit/?id=a00e5f8810b6ca3b0b5d63cc228125e19bc91955,54,54
openstack%2Fkolla-ansible~master~I4b29eb5a4ae82f6c39059d0b6de41debdfd75508,openstack/kolla-ansible,master,I4b29eb5a4ae82f6c39059d0b6de41debdfd75508,Enable InfluxDB TSI by default,MERGED,2019-06-19 15:31:40.000000000,2019-06-27 11:44:51.000000000,2019-06-27 11:44:51.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09d3621f105210cd87b8492deebc3ccd17595171', 'message': 'Enable InfluxDB TSI by default\n\nThe TSI is recommended for all users. Some of the key benefits are\na reduction in memory requirements and an increase in the maximum\nnumber of time series. For more information see this link:\n\nhttps://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\n\nChange-Id: I4b29eb5a4ae82f6c39059d0b6de41debdfd75508\n'}, {'number': 2, 'created': '2019-06-21 13:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/049feed5b0bd4a4492de8e46798227b7e71fce4d', 'message': 'Enable InfluxDB TSI by default\n\nThe TSI is recommended for all users. Some of the key benefits are\na reduction in memory requirements and an increase in the maximum\nnumber of time series. For more information see this link:\n\nhttps://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\n\nChange-Id: I4b29eb5a4ae82f6c39059d0b6de41debdfd75508\n'}, {'number': 3, 'created': '2019-06-21 13:48:25.000000000', 'files': ['ansible/roles/influxdb/defaults/main.yml', 'releasenotes/notes/enable-influxdb-tsi-858cc95e99605107.yaml', 'ansible/roles/influxdb/templates/influxdb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/015ddb6e379c89e57dbd4274505725c49e4985f8', 'message': 'Enable InfluxDB TSI by default\n\nThe TSI is recommended for all users. Some of the key benefits are\na reduction in memory requirements and an increase in the maximum\nnumber of time series. For more information see this link:\n\nhttps://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\n\nChange-Id: I4b29eb5a4ae82f6c39059d0b6de41debdfd75508\n'}]",5,666318,015ddb6e379c89e57dbd4274505725c49e4985f8,17,4,3,17669,,,0,"Enable InfluxDB TSI by default

The TSI is recommended for all users. Some of the key benefits are
a reduction in memory requirements and an increase in the maximum
number of time series. For more information see this link:

https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/

Change-Id: I4b29eb5a4ae82f6c39059d0b6de41debdfd75508
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/666318/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-influxdb-tsi-858cc95e99605107.yaml', 'ansible/roles/influxdb/templates/influxdb.conf.j2']",2,09d3621f105210cd87b8492deebc3ccd17595171,," index-version = ""tsi1""",,7,0
openstack%2Fgovernance~master~I7426b469e79a2b81adc1775cd640053b1d5fe8c4,openstack/governance,master,I7426b469e79a2b81adc1775cd640053b1d5fe8c4,Add Geographic Region for M release,MERGED,2019-06-25 06:43:15.000000000,2019-06-27 11:43:58.000000000,2019-06-27 11:43:58.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 7634}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 06:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/67be612eeb7fa57795bb745b3470341397070f06', 'message': ""Add Geographic Region for M release\n\nMitaka release was named after Mitaka city in Tokyo(*).\nUpdate a geographic region for M release with 'Tokyo'.\n\n* https://wiki.openstack.org/wiki/Release_Naming/M_Proposals\n\nChange-Id: I7426b469e79a2b81adc1775cd640053b1d5fe8c4\n""}, {'number': 2, 'created': '2019-06-27 09:20:24.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/3d964ab9a71d3d9949ac6ca495a8d89a40fd151d', 'message': ""Add Geographic Region for M release\n\nMitaka release was named after Mitaka city in Tokyo(*).\nUpdate a geographic region for M release with 'Tokyo'.\n\n* https://wiki.openstack.org/wiki/Release_Naming/M_Proposals\n\nChange-Id: I7426b469e79a2b81adc1775cd640053b1d5fe8c4\n""}]",0,667274,3d964ab9a71d3d9949ac6ca495a8d89a40fd151d,13,5,2,7634,,,0,"Add Geographic Region for M release

Mitaka release was named after Mitaka city in Tokyo(*).
Update a geographic region for M release with 'Tokyo'.

* https://wiki.openstack.org/wiki/Release_Naming/M_Proposals

Change-Id: I7426b469e79a2b81adc1775cd640053b1d5fe8c4
",git fetch https://review.opendev.org/openstack/governance refs/changes/74/667274/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,67be612eeb7fa57795bb745b3470341397070f06,documentation-change,M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 Tokyo,M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 N/A,1,1
openstack%2Fkolla-ansible~master~I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e,openstack/kolla-ansible,master,I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e,Make nova external ceph key extraction tasks non-changing,MERGED,2019-06-26 12:23:25.000000000,2019-06-27 11:34:29.000000000,2019-06-27 11:33:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 12:23:25.000000000', 'files': ['ansible/roles/nova/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc058f45862d87675ddf02d50bea6c557f4c4ce1', 'message': 'Make nova external ceph key extraction tasks non-changing\n\nThey are used only to obtain keys for the next task.\n\nChange-Id: I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,667596,cc058f45862d87675ddf02d50bea6c557f4c4ce1,8,3,1,30491,,,0,"Make nova external ceph key extraction tasks non-changing

They are used only to obtain keys for the next task.

Change-Id: I2fac22af4710b70e4df8e3a272bcfb6cc8b8532e
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/667596/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/external_ceph.yml'],1,cc058f45862d87675ddf02d50bea6c557f4c4ce1,more-idempotency, changed_when: false changed_when: false,,2,0
openstack%2Fkolla-ansible~master~I118e4d211617c5df66ff04dc04e308a1d2fc67ad,openstack/kolla-ansible,master,I118e4d211617c5df66ff04dc04e308a1d2fc67ad,doc: Start using openstackdoctheme's extlink extension,MERGED,2019-06-14 09:01:01.000000000,2019-06-27 11:33:48.000000000,2019-06-27 11:33:48.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 09:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09a7566c2f32bd47c3e0ec3accc86c5d739ec019', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I118e4d211617c5df66ff04dc04e308a1d2fc67ad\n""}, {'number': 2, 'created': '2019-06-17 02:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e76e4e564f37eb059f2d53bd2d081fa0712bb17', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I118e4d211617c5df66ff04dc04e308a1d2fc67ad\n""}, {'number': 3, 'created': '2019-06-17 02:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/768fa2e56f4b17e224b88dfd0feab36aee6b1f00', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I118e4d211617c5df66ff04dc04e308a1d2fc67ad\n""}, {'number': 4, 'created': '2019-06-17 15:02:21.000000000', 'files': ['doc/source/reference/storage/manila-hnas-guide.rst', 'doc/source/user/quickstart.rst', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'doc/source/conf.py', 'doc/source/contributor/vagrant-dev-env.rst', 'doc/source/reference/compute/xenserver-guide.rst', 'doc/source/contributor/running-tests.rst', 'doc/source/reference/shared-services/keystone-guide.rst', 'doc/source/reference/storage/swift-guide.rst', 'doc/source/contributor/release-management.rst', 'doc/source/reference/storage/cinder-guide-hnas.rst', 'doc/source/reference/storage/cinder-guide-quobyte.rst', 'doc/source/reference/compute/vmware-guide.rst', 'specs/containerize-openstack.rst', 'doc/source/reference/storage/external-ceph-guide.rst', 'doc/source/reference/networking/designate-guide.rst', 'doc/source/reference/storage/manila-guide.rst', 'doc/source/reference/networking/neutron-extensions.rst', 'doc/source/contributor/ptl-guide.rst', 'doc/source/reference/shared-services/glance-guide.rst', 'doc/source/reference/compute/hyperv-guide.rst', 'doc/source/reference/networking/sriov.rst', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31526d4c26e924578cc13e5f1fce7c6907a256e3', 'message': ""doc: Start using openstackdoctheme's extlink extension\n\nThis ensures we have version-specific references to other projects [1].\nNote that this doesn't mean the URLs are actually valid - we need to do\nmore work (linkcheck?) here, but it's an improvement nonetheless.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I118e4d211617c5df66ff04dc04e308a1d2fc67ad\n""}]",0,665330,31526d4c26e924578cc13e5f1fce7c6907a256e3,13,4,4,19779,,,0,"doc: Start using openstackdoctheme's extlink extension

This ensures we have version-specific references to other projects [1].
Note that this doesn't mean the URLs are actually valid - we need to do
more work (linkcheck?) here, but it's an improvement nonetheless.

[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: I118e4d211617c5df66ff04dc04e308a1d2fc67ad
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/665330/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/manila-hnas-guide.rst', 'doc/source/user/quickstart.rst', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'doc/source/conf.py', 'doc/source/contributor/vagrant-dev-env.rst', 'doc/source/reference/compute/xenserver-guide.rst', 'doc/source/contributor/running-tests.rst', 'doc/source/reference/shared-services/keystone-guide.rst', 'doc/source/reference/storage/swift-guide.rst', 'doc/source/contributor/release-management.rst', 'doc/source/reference/storage/cinder-guide-hnas.rst', 'doc/source/reference/storage/cinder-guide-quobyte.rst', 'doc/source/reference/compute/vmware-guide.rst', 'specs/containerize-openstack.rst', 'doc/source/reference/storage/external-ceph-guide.rst', 'doc/source/reference/networking/designate-guide.rst', 'doc/source/reference/storage/manila-guide.rst', 'doc/source/reference/networking/neutron-extensions.rst', 'doc/source/contributor/ptl-guide.rst', 'doc/source/reference/shared-services/glance-guide.rst', 'doc/source/reference/compute/hyperv-guide.rst', 'doc/source/reference/networking/sriov.rst', 'doc/source/reference/bare-metal/ironic-guide.rst']",23,09a7566c2f32bd47c3e0ec3accc86c5d739ec019,no_versioned,Configuration based off upstream :ironic-doc:`Node web console <admin/console.html#node-web-console>`__.,Configuration based off upstream `Node web console <https://docs.openstack.org/ironic/latest/admin/console.html#node-web-console>`__.,69,63
openstack%2Fkuryr-tempest-plugin~master~Iab33a1d2cdef76981826c181cc44b074c921d2db,openstack/kuryr-tempest-plugin,master,Iab33a1d2cdef76981826c181cc44b074c921d2db,Ensure Kuryr CRDs are validated,MERGED,2019-06-19 18:06:42.000000000,2019-06-27 11:20:24.000000000,2019-06-27 11:20:23.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-19 18:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c41764628611638a82b4c7c621cd3a1ed3df7b70', 'message': 'Ensure Kuryr CRDs have correct fields\n\nThis commit verifies if KuryrNetPolicy and KuryrNet CRD\nare created with all the needed and correct field.\n\nTODOs:\n- Generate ids for tests\n- Add more test cases for KuryrNetPolicy\n- Add tests for KuryrNet\n\nChange-Id: Iab33a1d2cdef76981826c181cc44b074c921d2db\n'}, {'number': 2, 'created': '2019-06-19 21:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/cb30a73ecef33db2b87d9a2a308dda7ad7516fe8', 'message': 'Ensure Kuryr CRDs are validated\n\nThis commit verifies if KuryrNetPolicy and KuryrNet CRD\nare created with all the needed and correct fields.\n\nTODOs:\n- Generate ids for tests\n- Add more test cases for KuryrNetPolicy\n- Add more tests for KuryrNet\n\nChange-Id: Iab33a1d2cdef76981826c181cc44b074c921d2db\n'}, {'number': 3, 'created': '2019-06-19 21:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f28357f9590f9c2795a42b577b1a899a07e8f3b3', 'message': 'Ensure Kuryr CRDs are validated\n\nThis commit verifies if KuryrNetPolicy and KuryrNet CRD\nare created with all the needed and correct fields.\n\nTODOs:\n- Generate ids for tests\n- Add more test cases for KuryrNetPolicy\n- Add more tests for KuryrNet\n\nChange-Id: Iab33a1d2cdef76981826c181cc44b074c921d2db\n'}, {'number': 4, 'created': '2019-06-20 15:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7d688e916ac29f2ed384455474f2f80586c08cf0', 'message': 'Ensure Kuryr CRDs are validated\n\nThis commit verifies if KuryrNetPolicy and KuryrNet CRD\nare created with all the needed and correct fields.\n\nDepends-On: https://review.opendev.org/#/c/665416/\n\nChange-Id: Iab33a1d2cdef76981826c181cc44b074c921d2db\n'}, {'number': 5, 'created': '2019-06-25 09:18:43.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/579812a5718722d6d89a6cec4b591e6e3ed42190', 'message': 'Ensure Kuryr CRDs are validated\n\nThis commit verifies if KuryrNetPolicy and KuryrNet CRD\nare created with all the needed and correct fields.\n\nDepends-On: https://review.opendev.org/#/c/665416/\n\nChange-Id: Iab33a1d2cdef76981826c181cc44b074c921d2db\n'}]",0,666413,579812a5718722d6d89a6cec4b591e6e3ed42190,22,4,5,27032,,,0,"Ensure Kuryr CRDs are validated

This commit verifies if KuryrNetPolicy and KuryrNet CRD
are created with all the needed and correct fields.

Depends-On: https://review.opendev.org/#/c/665416/

Change-Id: Iab33a1d2cdef76981826c181cc44b074c921d2db
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/13/666413/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'],1,c41764628611638a82b4c7c621cd3a1ed3df7b70,add-crd-validations-tests,"import json def test_create_knp_crd_without_ingress_rules(self): np_name = 'test' knp_spec = dict(self._get_knp_spec(np_name)) del knp_spec['ingressSgRules'] error_msg = 'ingressSgRules in body is required' self._create_kuryr_net_policy_crd_obj(knp_spec, np_name, error_msg) def test_create_knp_crd_without_sg_rule_id(self): np_name = 'test' sg_rule = dict(self._get_sg_rule()) del sg_rule['id'] knp_spec = self._get_knp_spec(np_name, sg_rule) error_msg = 'security_group_rule.id in body is required' self._create_kuryr_net_policy_crd_obj(knp_spec, np_name, error_msg) def _get_sg_rule(self): return { 'description': 'Kuryr-Kubernetes NetPolicy SG rule', 'direction': 'egress', 'ethertype': 'IPV4', 'id': '', 'security_group_id': ''} def _get_knp_spec(self, np_name, sg_rule=None): if not sg_rule: sg_rule = self._get_sg_rule() knp_spec = { 'egressSgRules': [{'security_group_rule': sg_rule}], 'ingressSgRules': [], 'networkpolicy_spec':{ 'podSelector': {}, 'policyTypes': ['Ingress'], 'podSelector': {}}, 'podSelector': {}, 'securityGroupId': '', 'securityGroupName': ""sg-"" + np_name } return knp_spec def _create_kuryr_net_policy_crd_obj(self, knp_spec, name, error_msg, namespace='default'): self.knp_manifest = { 'apiVersion': 'openstack.org/v1', 'kind': 'KuryrNetPolicy', 'metadata': { 'name': ""np-"" + name, 'annotations': { 'networkpolicy_name': name, 'networkpolicy_namespace': namespace, 'networkpolicy_uid': '' } }, 'spec': knp_spec } version = 'v1' group = 'openstack.org' plural = 'kuryrnetpolicies' custom_obj_api = self.k8s_client.CustomObjectsApi() try: custom_obj_api.create_namespaced_custom_object(group, version, namespace, plural, self.knp_manifest) except kubernetes.client.rest.ApiException as e: self.assertEquals(e.status, 422) error_body = json.loads(e.body) error_causes = error_body['details']['causes'] for cause in error_causes: self.assertTrue(error_msg in cause['message']) else: raise Exception('Should have raised error for invalid Kuryr Net CRD')",,71,0
openstack%2Fmonasca-ceilometer~master~If6eb225c74e417041a557426c796e814ffc40aba,openstack/monasca-ceilometer,master,If6eb225c74e417041a557426c796e814ffc40aba,Adding example monasca_field_definition configuration files,MERGED,2019-02-27 06:55:32.000000000,2019-06-27 11:08:28.000000000,2019-06-27 11:08:28.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-02-27 06:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/52e1a0f6c0e5a26ab93d9b37c8d1f93f8da97075', 'message': 'Adding example configuration files WIP\n\nGathering up some configurations that have actually been used\nin production as examples for user configurations of Ceilosca.\n\nWIP - want to include a README that explains each set of configs\nWIP - need a storyboard\n\nChange-Id: If6eb225c74e417041a557426c796e814ffc40aba\n'}, {'number': 2, 'created': '2019-05-31 00:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/11b067eb184b981ce8a47f3add8481d57e2021cd', 'message': 'Adding example monasca_field_definition configuration files\n\nGathering up some configurations that have actually been used\nin production as examples for user configurations of Ceilosca.\n\nStory: 2001766\nTask: 33543\n\nChange-Id: If6eb225c74e417041a557426c796e814ffc40aba\n'}, {'number': 3, 'created': '2019-05-31 00:44:30.000000000', 'files': ['etc/ceilometer/examples/README.rst', 'etc/ceilometer/examples/monasca_field_definitions.yaml.full-example', 'etc/ceilometer/examples/monasca_field_definitions.yaml.jsonpath-example'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/d43391d05a39e1b54eb922c4e204321c717e8ff0', 'message': 'Adding example monasca_field_definition configuration files\n\nGathering up some configurations that have actually been used\nin production as examples for user configurations of Ceilosca.\n\nStory: 2001766\nTask: 33543\n\nChange-Id: If6eb225c74e417041a557426c796e814ffc40aba\n'}]",0,639577,d43391d05a39e1b54eb922c4e204321c717e8ff0,12,4,3,10311,,,0,"Adding example monasca_field_definition configuration files

Gathering up some configurations that have actually been used
in production as examples for user configurations of Ceilosca.

Story: 2001766
Task: 33543

Change-Id: If6eb225c74e417041a557426c796e814ffc40aba
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/77/639577/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ceilometer/full-example/monasca_field_definitions.yaml', 'etc/ceilometer/jsonpath-example/monasca_field_definitions.yaml']",2,52e1a0f6c0e5a26ab93d9b37c8d1f93f8da97075,more-examples,dimensions: - resource_id - project_id - user_id - geolocation - region - availability_zone - type - unit - source metadata: common: - event_type - audit_period_beginning - audit_period_ending instance: - state - state_description image: - size - status image.size: - size - status image.update: - size - status image.upload: - size - status image.delete: - size - status snapshot: - status snapshot.size: - status volume: - status volume.size: - status volume.create.end: - size - volume_type - status - created_at - host - metadata: - jsonpath: $.metadata[?(@.key = 'metering.prn_name')].value storein: metering.prn_name - metering.prn_name: $.metadata[?(@.key = 'metering.prn_name')].value ,,297,0
openstack%2Fopenstack-ansible-plugins~master~I039751b9cb0050f50ff72be939f9c93d3026451c,openstack/openstack-ansible-plugins,master,I039751b9cb0050f50ff72be939f9c93d3026451c,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:23:58.000000000,2019-06-27 11:08:16.000000000,2019-06-27 11:08:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:23:58.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/25f444e37ac1b0026250544285986b3b0e0ecc21', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I039751b9cb0050f50ff72be939f9c93d3026451c\n'}]",0,667875,25f444e37ac1b0026250544285986b3b0e0ecc21,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I039751b9cb0050f50ff72be939f9c93d3026451c
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/75/667875/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,25f444e37ac1b0026250544285986b3b0e0ecc21,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-haproxy_server~master~Iaec668847216365457b1fee0bc472e1304b82bf4,openstack/openstack-ansible-haproxy_server,master,Iaec668847216365457b1fee0bc472e1304b82bf4,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:19:59.000000000,2019-06-27 11:06:40.000000000,2019-06-27 11:06:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:19:59.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/d6df521bc10a3fc981fb37b60510dcb933005a1e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iaec668847216365457b1fee0bc472e1304b82bf4\n'}]",0,667842,d6df521bc10a3fc981fb37b60510dcb933005a1e,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iaec668847216365457b1fee0bc472e1304b82bf4
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/42/667842/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,d6df521bc10a3fc981fb37b60510dcb933005a1e,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fpuppet-openstack_spec_helper~master~Id756311dc7216d039fd2ce34e2fe892992ddeddc,openstack/puppet-openstack_spec_helper,master,Id756311dc7216d039fd2ce34e2fe892992ddeddc,Pin puppet max version to 6.4.2,MERGED,2019-06-26 19:14:50.000000000,2019-06-27 11:06:16.000000000,2019-06-27 11:06:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 19:14:50.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/63737d7f89dfdb300463a630305642115be92b8a', 'message': 'Pin puppet max version to 6.4.2\n\nThere is a bug in 6.5.0 [1] that causes failures.\n\nThis issue is fixed in 6.6.0 which is not released yet\nso we cap the maximum version to use for now until that\nis released. See example failure [2].\n\n[1] https://tickets.puppetlabs.com/browse/PUP-9794\n[2] https://review.opendev.org/#/c/667576/\n\nChange-Id: Id756311dc7216d039fd2ce34e2fe892992ddeddc\n'}]",0,667711,63737d7f89dfdb300463a630305642115be92b8a,7,3,1,16137,,,0,"Pin puppet max version to 6.4.2

There is a bug in 6.5.0 [1] that causes failures.

This issue is fixed in 6.6.0 which is not released yet
so we cap the maximum version to use for now until that
is released. See example failure [2].

[1] https://tickets.puppetlabs.com/browse/PUP-9794
[2] https://review.opendev.org/#/c/667576/

Change-Id: Id756311dc7216d039fd2ce34e2fe892992ddeddc
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/11/667711/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,63737d7f89dfdb300463a630305642115be92b8a,pin-max-6-4-2," # TODO(tobias-urdin): Remove <= 6.4.2 cap when 6.6.0 is released because of this bug in 6.5.0 # https://tickets.puppetlabs.com/browse/PUP-9794 puppetversion = ENV.key?('PUPPET_GEM_VERSION') ? ENV['PUPPET_GEM_VERSION'] : ['>= 5.5', '<= 6.4.2']", puppetversion = ENV.key?('PUPPET_GEM_VERSION') ? ENV['PUPPET_GEM_VERSION'] : ['>= 5.5'],3,1
openstack%2Fpuppet-openstack_spec_helper~master~I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,openstack/puppet-openstack_spec_helper,master,I443f8ea6d92912f9c9e207e99324dec70ebcc7b3,Remove zuul-cloner usage,MERGED,2019-06-26 10:53:44.000000000,2019-06-27 11:05:24.000000000,2019-06-27 11:05:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 10:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/cb2a21a75fe54d4646115a1bcb418ae18d6d237b', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/667439/\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n'}, {'number': 2, 'created': '2019-06-26 19:04:33.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c03dc00c269576cbad470cb1af73457e61bcc255', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/667439/\nChange-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3\n'}]",0,667578,c03dc00c269576cbad470cb1af73457e61bcc255,9,3,2,16137,,,0,"Remove zuul-cloner usage

Depends-On: https://review.opendev.org/#/c/667439/
Change-Id: I443f8ea6d92912f9c9e207e99324dec70ebcc7b3
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/78/667578/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",3,cb2a21a75fe54d4646115a1bcb418ae18d6d237b,remove-zuul-cloner," if File.directory?(""/home/zuul/src/opendev.org/#{repo}"") sh(""cp -R /home/zuul/src/opendev.org/#{repo} #{repo}"")"," if File.exists?('/usr/zuul-env/bin/zuul-cloner') zuul_clone_cmd = ['/usr/zuul-env/bin/zuul-cloner'] zuul_clone_cmd += ['--cache-dir', '/opt/git'] zuul_clone_cmd += ['--zuul-branch', ""#{zuul_branch}""] zuul_clone_cmd += ['https://opendev.org', ""#{repo}""] sh(*zuul_clone_cmd)",6,15
openstack%2Fopenstack-ansible-memcached_server~master~I80349e4f66616c495a59621b0fe5972e5d401d6d,openstack/openstack-ansible-memcached_server,master,I80349e4f66616c495a59621b0fe5972e5d401d6d,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:16.000000000,2019-06-27 11:04:11.000000000,2019-06-27 11:04:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:16.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/e5f164871387697f3abad1df1750ed7e4b2adeec', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I80349e4f66616c495a59621b0fe5972e5d401d6d\n'}]",0,667845,e5f164871387697f3abad1df1750ed7e4b2adeec,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I80349e4f66616c495a59621b0fe5972e5d401d6d
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/45/667845/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,e5f164871387697f3abad1df1750ed7e4b2adeec,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-lxc_hosts~master~I4fd076422cde27950985cafcfe34afdf8a02a51f,openstack/openstack-ansible-lxc_hosts,master,I4fd076422cde27950985cafcfe34afdf8a02a51f,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:10.000000000,2019-06-27 11:02:48.000000000,2019-06-27 11:02:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:10.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7e46b1c8e18c863cfabd616c41dc1f43f62d1687', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4fd076422cde27950985cafcfe34afdf8a02a51f\n'}]",0,667844,7e46b1c8e18c863cfabd616c41dc1f43f62d1687,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4fd076422cde27950985cafcfe34afdf8a02a51f
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/44/667844/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,7e46b1c8e18c863cfabd616c41dc1f43f62d1687,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_designate~master~I6496daf8b9ae991068b624e4aebcf1010bb42b6f,openstack/openstack-ansible-os_designate,master,I6496daf8b9ae991068b624e4aebcf1010bb42b6f,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:26.000000000,2019-06-27 11:02:29.000000000,2019-06-27 11:02:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:26.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/bde4db126b25c3c6e4e6c54fed4ab3da102a6374', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6496daf8b9ae991068b624e4aebcf1010bb42b6f\n'}]",0,667857,bde4db126b25c3c6e4e6c54fed4ab3da102a6374,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6496daf8b9ae991068b624e4aebcf1010bb42b6f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/57/667857/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,bde4db126b25c3c6e4e6c54fed4ab3da102a6374,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-galera_server~master~I0a772ff2aa03e7d7646056a87fcf1fc773604155,openstack/openstack-ansible-galera_server,master,I0a772ff2aa03e7d7646056a87fcf1fc773604155,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:19:54.000000000,2019-06-27 11:01:02.000000000,2019-06-27 11:01:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:19:54.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/97331c4dce26f083e4708612beeb86022a955b23', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0a772ff2aa03e7d7646056a87fcf1fc773604155\n'}]",0,667841,97331c4dce26f083e4708612beeb86022a955b23,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0a772ff2aa03e7d7646056a87fcf1fc773604155
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/41/667841/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,97331c4dce26f083e4708612beeb86022a955b23,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_blazar~master~I551b7a36e1bac3d9ad458f4e97d6300fc496fe67,openstack/openstack-ansible-os_blazar,master,I551b7a36e1bac3d9ad458f4e97d6300fc496fe67,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:59.000000000,2019-06-27 11:00:24.000000000,2019-06-27 11:00:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:59.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/f20fd752f7975dbeb960764b417d627d8e48b89e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I551b7a36e1bac3d9ad458f4e97d6300fc496fe67\n'}]",0,667852,f20fd752f7975dbeb960764b417d627d8e48b89e,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I551b7a36e1bac3d9ad458f4e97d6300fc496fe67
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/52/667852/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,f20fd752f7975dbeb960764b417d627d8e48b89e,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-galera_client~master~I66328fbfff6792f638b29cf9f4270f0df657a583,openstack/openstack-ansible-galera_client,master,I66328fbfff6792f638b29cf9f4270f0df657a583,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:19:49.000000000,2019-06-27 11:00:15.000000000,2019-06-27 11:00:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:19:49.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/642694387637fed1a27e60ce346b16082d9e8df2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I66328fbfff6792f638b29cf9f4270f0df657a583\n'}]",0,667840,642694387637fed1a27e60ce346b16082d9e8df2,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I66328fbfff6792f638b29cf9f4270f0df657a583
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/40/667840/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,642694387637fed1a27e60ce346b16082d9e8df2,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_ceilometer~master~Ie8820d8fae2eb42e4f9c65a1996e5d4aaa560da8,openstack/openstack-ansible-os_ceilometer,master,Ie8820d8fae2eb42e4f9c65a1996e5d4aaa560da8,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:04.000000000,2019-06-27 11:00:13.000000000,2019-06-27 11:00:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:04.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/6b0eb61b9f7eb614091cfc417b2aeb50cc21800e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie8820d8fae2eb42e4f9c65a1996e5d4aaa560da8\n'}]",0,667853,6b0eb61b9f7eb614091cfc417b2aeb50cc21800e,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie8820d8fae2eb42e4f9c65a1996e5d4aaa560da8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/53/667853/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,6b0eb61b9f7eb614091cfc417b2aeb50cc21800e,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-ceph_client~master~I82ad16cbade32720873ef3bda2346525f0ab3e5e,openstack/openstack-ansible-ceph_client,master,I82ad16cbade32720873ef3bda2346525f0ab3e5e,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:19:43.000000000,2019-06-27 10:59:54.000000000,2019-06-27 10:59:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:19:43.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/93ab36af3f723b777582f1f92a0f5cc5efbdac4b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I82ad16cbade32720873ef3bda2346525f0ab3e5e\n'}]",0,667839,93ab36af3f723b777582f1f92a0f5cc5efbdac4b,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I82ad16cbade32720873ef3bda2346525f0ab3e5e
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/39/667839/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,93ab36af3f723b777582f1f92a0f5cc5efbdac4b,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fansible-config_template~master~Ie5d721dd22e3c54230c384afa3d52f69c9f466ae,openstack/ansible-config_template,master,Ie5d721dd22e3c54230c384afa3d52f69c9f466ae,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:32.000000000,2019-06-27 10:59:25.000000000,2019-06-27 10:59:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:32.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/0f8d58d1191433e9ec9c5499651f174a17c5f387', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie5d721dd22e3c54230c384afa3d52f69c9f466ae\n'}]",0,667884,0f8d58d1191433e9ec9c5499651f174a17c5f387,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie5d721dd22e3c54230c384afa3d52f69c9f466ae
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/84/667884/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,0f8d58d1191433e9ec9c5499651f174a17c5f387,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-apt_package_pinning~master~I20956d0ddaeb5d9fd2bf0498c07cb7983b8187a7,openstack/openstack-ansible-apt_package_pinning,master,I20956d0ddaeb5d9fd2bf0498c07cb7983b8187a7,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:19:38.000000000,2019-06-27 10:59:25.000000000,2019-06-27 10:59:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:19:38.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/54020a6c142298684e4cde8906f286130ef40f51', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I20956d0ddaeb5d9fd2bf0498c07cb7983b8187a7\n'}]",0,667838,54020a6c142298684e4cde8906f286130ef40f51,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I20956d0ddaeb5d9fd2bf0498c07cb7983b8187a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/38/667838/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,54020a6c142298684e4cde8906f286130ef40f51,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-nspawn_hosts~master~I3b9582a610833975c867e985ab02ae7ff9dd1db8,openstack/openstack-ansible-nspawn_hosts,master,I3b9582a610833975c867e985ab02ae7ff9dd1db8,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:26.000000000,2019-06-27 10:59:24.000000000,2019-06-27 10:59:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:26.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/556a1a07a413ad6ce5a1003a28dbcb328aff6db9', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I3b9582a610833975c867e985ab02ae7ff9dd1db8\n'}]",0,667847,556a1a07a413ad6ce5a1003a28dbcb328aff6db9,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I3b9582a610833975c867e985ab02ae7ff9dd1db8
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/47/667847/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,556a1a07a413ad6ce5a1003a28dbcb328aff6db9,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-openstack_hosts~master~I5b93368e4850082f07cab93e526244c905995463,openstack/openstack-ansible-openstack_hosts,master,I5b93368e4850082f07cab93e526244c905995463,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:31.000000000,2019-06-27 10:59:13.000000000,2019-06-27 10:59:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:31.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/eeadca06ca1895c0569b3d61c177c0ffc99637bf', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5b93368e4850082f07cab93e526244c905995463\n'}]",0,667848,eeadca06ca1895c0569b3d61c177c0ffc99637bf,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5b93368e4850082f07cab93e526244c905995463
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/48/667848/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,eeadca06ca1895c0569b3d61c177c0ffc99637bf,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-lxc_container_create~master~Icb32de8a1245c690dd5c954b2776248f451fc8bc,openstack/openstack-ansible-lxc_container_create,master,Icb32de8a1245c690dd5c954b2776248f451fc8bc,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:05.000000000,2019-06-27 10:59:02.000000000,2019-06-27 10:59:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:05.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/fbcaeccc4c1af60e47a9795b18630fa251c885e0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Icb32de8a1245c690dd5c954b2776248f451fc8bc\n'}]",0,667843,fbcaeccc4c1af60e47a9795b18630fa251c885e0,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Icb32de8a1245c690dd5c954b2776248f451fc8bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/43/667843/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,fbcaeccc4c1af60e47a9795b18630fa251c885e0,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_cloudkitty~master~I2943c70242e08d04f3cb3ffff25712ab9d33234b,openstack/openstack-ansible-os_cloudkitty,master,I2943c70242e08d04f3cb3ffff25712ab9d33234b,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:16.000000000,2019-06-27 10:59:01.000000000,2019-06-27 10:59:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:16.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/de880d9b4024598e89e1e876c62fd493b9c69e1f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2943c70242e08d04f3cb3ffff25712ab9d33234b\n'}]",0,667855,de880d9b4024598e89e1e876c62fd493b9c69e1f,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I2943c70242e08d04f3cb3ffff25712ab9d33234b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/55/667855/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,de880d9b4024598e89e1e876c62fd493b9c69e1f,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_aodh~master~I71a4310debca7de3612162b31bcc7036bc0173d2,openstack/openstack-ansible-os_aodh,master,I71a4310debca7de3612162b31bcc7036bc0173d2,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:49.000000000,2019-06-27 10:58:48.000000000,2019-06-27 10:58:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:49.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0075b90198c4ae1953eb62a6c410db1f0687e0e7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I71a4310debca7de3612162b31bcc7036bc0173d2\n'}]",0,667850,0075b90198c4ae1953eb62a6c410db1f0687e0e7,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I71a4310debca7de3612162b31bcc7036bc0173d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/50/667850/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,0075b90198c4ae1953eb62a6c410db1f0687e0e7,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ib8d4b398eebbb215ff5e97207989a6c45c867957,openstack/openstack-ansible-nspawn_container_create,master,Ib8d4b398eebbb215ff5e97207989a6c45c867957,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:21.000000000,2019-06-27 10:58:40.000000000,2019-06-27 10:58:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:21.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/bb014781b1f4691fdeb39441fdcc6c4460986098', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib8d4b398eebbb215ff5e97207989a6c45c867957\n'}]",0,667846,bb014781b1f4691fdeb39441fdcc6c4460986098,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib8d4b398eebbb215ff5e97207989a6c45c867957
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/46/667846/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,bb014781b1f4691fdeb39441fdcc6c4460986098,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_magnum~master~Ia04e9622a48a8a801c2c467a39b49ffc6af703cd,openstack/openstack-ansible-os_magnum,master,Ia04e9622a48a8a801c2c467a39b49ffc6af703cd,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:07.000000000,2019-06-27 10:58:10.000000000,2019-06-27 10:58:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:22:07.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a976ec1dcb2631f5887fac0a0cd615fe7ffeb0af', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia04e9622a48a8a801c2c467a39b49ffc6af703cd\n'}]",0,667864,a976ec1dcb2631f5887fac0a0cd615fe7ffeb0af,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia04e9622a48a8a801c2c467a39b49ffc6af703cd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/64/667864/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,a976ec1dcb2631f5887fac0a0cd615fe7ffeb0af,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_heat~master~I5332613054974651004784957248f7f93ceb9666,openstack/openstack-ansible-os_heat,master,I5332613054974651004784957248f7f93ceb9666,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:42.000000000,2019-06-27 10:58:01.000000000,2019-06-27 10:58:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:42.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f1afa0fc0387e08fe6d9a8263847e606fb59173e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5332613054974651004784957248f7f93ceb9666\n'}]",0,667860,f1afa0fc0387e08fe6d9a8263847e606fb59173e,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5332613054974651004784957248f7f93ceb9666
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/60/667860/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,f1afa0fc0387e08fe6d9a8263847e606fb59173e,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_keystone~master~I4d50ca08066b9be232fdad7317c96f02631ba263,openstack/openstack-ansible-os_keystone,master,I4d50ca08066b9be232fdad7317c96f02631ba263,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:22:02.000000000,2019-06-27 10:57:59.000000000,2019-06-27 10:57:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:22:02.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/17b276a6eb281c43929a29a30592bd1ef19a7309', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4d50ca08066b9be232fdad7317c96f02631ba263\n'}]",0,667863,17b276a6eb281c43929a29a30592bd1ef19a7309,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4d50ca08066b9be232fdad7317c96f02631ba263
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/63/667863/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,17b276a6eb281c43929a29a30592bd1ef19a7309,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_barbican~master~I31969df120cc9dbf6a083adecf98b58268d525b3,openstack/openstack-ansible-os_barbican,master,I31969df120cc9dbf6a083adecf98b58268d525b3,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:20:54.000000000,2019-06-27 10:57:53.000000000,2019-06-27 10:57:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:20:54.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/58f9a051236d3e20e67dac1d15ae7d53963255e3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I31969df120cc9dbf6a083adecf98b58268d525b3\n'}]",0,667851,58f9a051236d3e20e67dac1d15ae7d53963255e3,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I31969df120cc9dbf6a083adecf98b58268d525b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/51/667851/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,58f9a051236d3e20e67dac1d15ae7d53963255e3,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_horizon~master~Iaac9207f71249a61984e529c9b48d29c992bf7b2,openstack/openstack-ansible-os_horizon,master,Iaac9207f71249a61984e529c9b48d29c992bf7b2,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:48.000000000,2019-06-27 10:57:38.000000000,2019-06-27 10:57:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:48.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/8e88c1423d34efca40e33dbb492d40547f4ab601', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iaac9207f71249a61984e529c9b48d29c992bf7b2\n'}]",0,667861,8e88c1423d34efca40e33dbb492d40547f4ab601,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iaac9207f71249a61984e529c9b48d29c992bf7b2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/61/667861/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,8e88c1423d34efca40e33dbb492d40547f4ab601,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_glance~master~Ia072e2a6518701bc7b780b93666870b0efcc1570,openstack/openstack-ansible-os_glance,master,Ia072e2a6518701bc7b780b93666870b0efcc1570,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:32.000000000,2019-06-27 10:57:36.000000000,2019-06-27 10:57:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:32.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6ee5eba907e1f5dc38fdf8fa196b93e6ab7a0abb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia072e2a6518701bc7b780b93666870b0efcc1570\n'}]",0,667858,6ee5eba907e1f5dc38fdf8fa196b93e6ab7a0abb,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia072e2a6518701bc7b780b93666870b0efcc1570
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/58/667858/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,6ee5eba907e1f5dc38fdf8fa196b93e6ab7a0abb,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_tacker~master~I243733907cecb1459d0aabf047d8c3bb9a62ca6a,openstack/openstack-ansible-os_tacker,master,I243733907cecb1459d0aabf047d8c3bb9a62ca6a,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:23:23.000000000,2019-06-27 10:57:09.000000000,2019-06-27 10:57:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:23:23.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/fd195bb7f6282c24e518dca2ad380779f0f09892', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I243733907cecb1459d0aabf047d8c3bb9a62ca6a\n'}]",0,667872,fd195bb7f6282c24e518dca2ad380779f0f09892,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I243733907cecb1459d0aabf047d8c3bb9a62ca6a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/72/667872/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,fd195bb7f6282c24e518dca2ad380779f0f09892,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_rally~master~I89b4b6948042aa0e5dc7023befb339b6a237bb28,openstack/openstack-ansible-os_rally,master,I89b4b6948042aa0e5dc7023befb339b6a237bb28,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:23:03.000000000,2019-06-27 10:56:00.000000000,2019-06-27 10:55:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:23:03.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/8f6977af8e38d6e263b0b555b437c596f1b9da8a', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I89b4b6948042aa0e5dc7023befb339b6a237bb28\n'}]",0,667870,8f6977af8e38d6e263b0b555b437c596f1b9da8a,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I89b4b6948042aa0e5dc7023befb339b6a237bb28
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/70/667870/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,8f6977af8e38d6e263b0b555b437c596f1b9da8a,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-pip_install~master~Ib9f880b140a5a14b60e42d663dc28731ce83743f,openstack/openstack-ansible-pip_install,master,Ib9f880b140a5a14b60e42d663dc28731ce83743f,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:23:52.000000000,2019-06-27 10:55:24.000000000,2019-06-27 10:55:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:23:52.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/3bb762a43ea63aaf0a1b9359128ba0c4c57a0c3b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib9f880b140a5a14b60e42d663dc28731ce83743f\n'}]",0,667874,3bb762a43ea63aaf0a1b9359128ba0c4c57a0c3b,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib9f880b140a5a14b60e42d663dc28731ce83743f
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/74/667874/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,3bb762a43ea63aaf0a1b9359128ba0c4c57a0c3b,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fansible-hardening~master~I7a2fee45a40ec7b049e258dcc105e4f0761e7ab4,openstack/ansible-hardening,master,I7a2fee45a40ec7b049e258dcc105e4f0761e7ab4,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:38.000000000,2019-06-27 10:55:18.000000000,2019-06-27 10:55:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:38.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/d7344d7a6c81c45540ab0352c70e460aead3e87e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7a2fee45a40ec7b049e258dcc105e4f0761e7ab4\n'}]",0,667885,d7344d7a6c81c45540ab0352c70e460aead3e87e,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7a2fee45a40ec7b049e258dcc105e4f0761e7ab4
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/85/667885/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,d7344d7a6c81c45540ab0352c70e460aead3e87e,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_gnocchi~master~Ib829c5e36e9c2c66e6d4a042864768830920be91,openstack/openstack-ansible-os_gnocchi,master,Ib829c5e36e9c2c66e6d4a042864768830920be91,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:37.000000000,2019-06-27 10:55:16.000000000,2019-06-27 10:55:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:37.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/d3d9b327ec28c87c9419d313dcf8502aebb3b670', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib829c5e36e9c2c66e6d4a042864768830920be91\n'}]",0,667859,d3d9b327ec28c87c9419d313dcf8502aebb3b670,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib829c5e36e9c2c66e6d4a042864768830920be91
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/59/667859/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,d3d9b327ec28c87c9419d313dcf8502aebb3b670,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-rabbitmq_server~master~I567685c4d3f51e1e1357f1529439bfd390e9776e,openstack/openstack-ansible-rabbitmq_server,master,I567685c4d3f51e1e1357f1529439bfd390e9776e,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:03.000000000,2019-06-27 10:55:11.000000000,2019-06-27 10:55:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:03.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/be803c5fb04bf307a9a0fd5dea24feb04f4bdc4d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I567685c4d3f51e1e1357f1529439bfd390e9776e\n'}]",0,667876,be803c5fb04bf307a9a0fd5dea24feb04f4bdc4d,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I567685c4d3f51e1e1357f1529439bfd390e9776e
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/76/667876/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,be803c5fb04bf307a9a0fd5dea24feb04f4bdc4d,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_congress~master~I7323ed4034938cde1e5caa4a7112f78a5f7760bb,openstack/openstack-ansible-os_congress,master,I7323ed4034938cde1e5caa4a7112f78a5f7760bb,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:21.000000000,2019-06-27 10:55:11.000000000,2019-06-27 10:55:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:21.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/81ec30ed6b47402a9431eca3057c824e75a56050', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7323ed4034938cde1e5caa4a7112f78a5f7760bb\n'}]",0,667856,81ec30ed6b47402a9431eca3057c824e75a56050,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7323ed4034938cde1e5caa4a7112f78a5f7760bb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/56/667856/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,81ec30ed6b47402a9431eca3057c824e75a56050,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fansible-role-systemd_service~master~I9effa3f4a1245c63f71e6908722e2a3e6215b2e8,openstack/ansible-role-systemd_service,master,I9effa3f4a1245c63f71e6908722e2a3e6215b2e8,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:58.000000000,2019-06-27 10:55:05.000000000,2019-06-27 10:55:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:58.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/6b9d94dd4cbf7361ef8b50bb92e3dae3eefd9d00', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I9effa3f4a1245c63f71e6908722e2a3e6215b2e8\n'}]",0,667890,6b9d94dd4cbf7361ef8b50bb92e3dae3eefd9d00,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I9effa3f4a1245c63f71e6908722e2a3e6215b2e8
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/90/667890/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,6b9d94dd4cbf7361ef8b50bb92e3dae3eefd9d00,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fansible-role-systemd_mount~master~I0c98bc53bc438f693c4042044a4bd298d150bf21,openstack/ansible-role-systemd_mount,master,I0c98bc53bc438f693c4042044a4bd298d150bf21,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:48.000000000,2019-06-27 10:55:02.000000000,2019-06-27 10:55:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:48.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/add4bf47e5cad2df26f0bf66114900e3b2bd296c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0c98bc53bc438f693c4042044a4bd298d150bf21\n'}]",0,667887,add4bf47e5cad2df26f0bf66114900e3b2bd296c,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0c98bc53bc438f693c4042044a4bd298d150bf21
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/87/667887/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,add4bf47e5cad2df26f0bf66114900e3b2bd296c,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fosprofiler~stable%2Fstein~I7fa963b20498549d4241ccb16cfbca8ddf70eef5,openstack/osprofiler,stable/stein,I7fa963b20498549d4241ccb16cfbca8ddf70eef5,Support standalone placement in the devstack,MERGED,2019-06-26 15:21:51.000000000,2019-06-27 10:55:01.000000000,2019-06-27 10:55:01.000000000,"[{'_account_id': 5950}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 15:21:51.000000000', 'files': ['devstack/lib/osprofiler'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/0ceb4c94a44542557c7438a37cac03fa39f79ff7', 'message': 'Support standalone placement in the devstack\n\nThe placement service has a separate config file that also needs to be\nmodified if osprofiler is enabled in devstack.\n\nChange-Id: I7fa963b20498549d4241ccb16cfbca8ddf70eef5\n(cherry picked from commit 55b0542eaa28555665f54eb40bfe14b9c456e9b8)\n'}]",0,667650,0ceb4c94a44542557c7438a37cac03fa39f79ff7,6,2,1,9708,,,0,"Support standalone placement in the devstack

The placement service has a separate config file that also needs to be
modified if osprofiler is enabled in devstack.

Change-Id: I7fa963b20498549d4241ccb16cfbca8ddf70eef5
(cherry picked from commit 55b0542eaa28555665f54eb40bfe14b9c456e9b8)
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/50/667650/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/osprofiler'],1,0ceb4c94a44542557c7438a37cac03fa39f79ff7,, $PLACEMENT_CONF,,1,0
openstack%2Fopenstack-ansible-os_swift~master~Ic62cfe210cf315236d26f39205c96a8a450e36ef,openstack/openstack-ansible-os_swift,master,Ic62cfe210cf315236d26f39205c96a8a450e36ef,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:23:18.000000000,2019-06-27 10:54:58.000000000,2019-06-27 10:54:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:23:18.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d26fda9287dfb23964313b03241650512c1d1180', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic62cfe210cf315236d26f39205c96a8a450e36ef\n'}]",0,667871,d26fda9287dfb23964313b03241650512c1d1180,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic62cfe210cf315236d26f39205c96a8a450e36ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/71/667871/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,d26fda9287dfb23964313b03241650512c1d1180,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fansible-role-systemd_networkd~master~Ida5f2fa3063d8747b8394c87c478ad1cdd462eec,openstack/ansible-role-systemd_networkd,master,Ida5f2fa3063d8747b8394c87c478ad1cdd462eec,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:53.000000000,2019-06-27 10:54:53.000000000,2019-06-27 10:54:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:53.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/82042bd5d91c07fbe298507232bbbdb1505d8dd8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ida5f2fa3063d8747b8394c87c478ad1cdd462eec\n'}]",0,667888,82042bd5d91c07fbe298507232bbbdb1505d8dd8,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ida5f2fa3063d8747b8394c87c478ad1cdd462eec
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/88/667888/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,82042bd5d91c07fbe298507232bbbdb1505d8dd8,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-repo_server~master~I3f1255aec82b0e940bd587943d723bcc3d3fde29,openstack/openstack-ansible-repo_server,master,I3f1255aec82b0e940bd587943d723bcc3d3fde29,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:13.000000000,2019-06-27 10:54:42.000000000,2019-06-27 10:54:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:13.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/1ccb03f40fc8a23f4cce007d78d6fd6b0a6e74aa', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I3f1255aec82b0e940bd587943d723bcc3d3fde29\n'}]",0,667880,1ccb03f40fc8a23f4cce007d78d6fd6b0a6e74aa,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I3f1255aec82b0e940bd587943d723bcc3d3fde29
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/80/667880/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,1ccb03f40fc8a23f4cce007d78d6fd6b0a6e74aa,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-rsyslog_client~master~I34d844f52f0b0f1c6b43c7108e4d5007865acbfb,openstack/openstack-ansible-rsyslog_client,master,I34d844f52f0b0f1c6b43c7108e4d5007865acbfb,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:19.000000000,2019-06-27 10:54:41.000000000,2019-06-27 10:54:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:19.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/84b6ef5600f1e7c6c6af2b76e02b123ea9ace39f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I34d844f52f0b0f1c6b43c7108e4d5007865acbfb\n'}]",0,667881,84b6ef5600f1e7c6c6af2b76e02b123ea9ace39f,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I34d844f52f0b0f1c6b43c7108e4d5007865acbfb
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/81/667881/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,84b6ef5600f1e7c6c6af2b76e02b123ea9ace39f,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-os_ironic~master~I87a284e953d430b3c061326c26e607ad49c9cd85,openstack/openstack-ansible-os_ironic,master,I87a284e953d430b3c061326c26e607ad49c9cd85,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:21:53.000000000,2019-06-27 10:54:18.000000000,2019-06-27 10:54:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:21:53.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/16b7848240ab5340dcd9260d3a2af7bfdbc86099', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I87a284e953d430b3c061326c26e607ad49c9cd85\n'}]",0,667862,16b7848240ab5340dcd9260d3a2af7bfdbc86099,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I87a284e953d430b3c061326c26e607ad49c9cd85
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/62/667862/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,16b7848240ab5340dcd9260d3a2af7bfdbc86099,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-ansible-rsyslog_server~master~I2d3e3743af215993e7011fdfa914689e6582278b,openstack/openstack-ansible-rsyslog_server,master,I2d3e3743af215993e7011fdfa914689e6582278b,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:24.000000000,2019-06-27 10:52:51.000000000,2019-06-27 10:52:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:24.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/257e0152521170f245fbbf2211e4453d5df1b5eb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2d3e3743af215993e7011fdfa914689e6582278b\n'}]",0,667883,257e0152521170f245fbbf2211e4453d5df1b5eb,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I2d3e3743af215993e7011fdfa914689e6582278b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/83/667883/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,257e0152521170f245fbbf2211e4453d5df1b5eb,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fpuppet-openstack-cookiecutter~master~Ic4aa953e9daf44522dd6366921378e7158130c6e,openstack/puppet-openstack-cookiecutter,master,Ic4aa953e9daf44522dd6366921378e7158130c6e,Remove zuul-cloner usage,MERGED,2019-06-26 10:58:03.000000000,2019-06-27 10:52:27.000000000,2019-06-27 10:52:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 10:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/36220f4e19e66afc7b465abef6cfbb758db40fdd', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/667439/\nChange-Id: Ic4aa953e9daf44522dd6366921378e7158130c6e\n'}, {'number': 2, 'created': '2019-06-26 19:42:19.000000000', 'files': ['contrib/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/769f2791190e1793410b8639231e85ec6ee91dfb', 'message': 'Remove zuul-cloner usage\n\nDepends-On: https://review.opendev.org/#/c/667439/\nChange-Id: Ic4aa953e9daf44522dd6366921378e7158130c6e\n'}]",0,667580,769f2791190e1793410b8639231e85ec6ee91dfb,9,3,2,16137,,,0,"Remove zuul-cloner usage

Depends-On: https://review.opendev.org/#/c/667439/
Change-Id: Ic4aa953e9daf44522dd6366921378e7158130c6e
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/80/667580/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/bootstrap.sh'],1,36220f4e19e66afc7b465abef6cfbb758db40fdd,remove-zuul-cloner,if [ -d /home/zuul/src/opendev.org/x/puppet-modulesync-configs ]; then cp -R /home/zuul/src/opendev.org/x/puppet-modulesync-configs/ x/puppet-modulesync-configs,if [ -e /usr/zuul-env/bin/zuul-cloner ] ; then /usr/zuul-env/bin/zuul-cloner --cache-dir /opt/git \ https://opendev.org x/puppet-modulesync-configs,2,3
openstack%2Fopenstack-ansible-repo_build~master~I80a42f77aeca7358e81e040da89ab024a00cc662,openstack/openstack-ansible-repo_build,master,I80a42f77aeca7358e81e040da89ab024a00cc662,Updated from OpenStack Ansible Tests,MERGED,2019-06-27 10:24:08.000000000,2019-06-27 10:51:42.000000000,2019-06-27 10:51:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 10:24:08.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/dd09ba6ad7654ca6d0e7d77a31d1e559ee47cdaa', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I80a42f77aeca7358e81e040da89ab024a00cc662\n'}]",0,667878,dd09ba6ad7654ca6d0e7d77a31d1e559ee47cdaa,6,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I80a42f77aeca7358e81e040da89ab024a00cc662
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/78/667878/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,dd09ba6ad7654ca6d0e7d77a31d1e559ee47cdaa,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fgovernance~master~Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893,openstack/governance,master,Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893,Adding Image Encryption as a popup team,MERGED,2019-05-29 13:42:49.000000000,2019-06-27 10:51:12.000000000,2019-06-27 10:51:12.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11655}, {'_account_id': 12404}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27665}, {'_account_id': 28271}]","[{'number': 1, 'created': '2019-05-29 13:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c67167ab90a35682a9ee1695668aebccf6b0c4f4', 'message': 'Adding Image Encryption as a popup team\n\nThe Image Encryption popup team is what pushed us to define\na framework around the concept of temporary teams that need\nsome support from the TC to more easily achieve its goals.\n\nChange-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893\n'}, {'number': 2, 'created': '2019-06-06 09:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6ffa6dfd44d48e79c50f8c0fcd116a5db7d74bc2', 'message': 'Adding Image Encryption as a popup team\n\nThe Image Encryption popup team is what pushed us to define\na framework around the concept of temporary teams that need\nsome support from the TC to more easily achieve its goals.\n\nChange-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893\n'}, {'number': 3, 'created': '2019-06-07 14:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4daa8377d9956453633575be231ad19c0603793f', 'message': 'Adding Image Encryption as a popup team\n\nThe Image Encryption popup team is what pushed us to define\na framework around the concept of temporary teams that need\nsome support from the TC to more easily achieve its goals.\n\nChange-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893\n'}, {'number': 4, 'created': '2019-06-10 08:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/904ee3ab9f3f929f7cf454ac812e32d7be2faf93', 'message': 'Adding Image Encryption as a popup team\n\nThe Image Encryption popup team is what pushed us to define\na framework around the concept of temporary teams that need\nsome support from the TC to more easily achieve its goals.\n\nRemove requirement to list all affected project teams, as this\nshould really be done as part of the popup team work.\n\nChange-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893\n'}, {'number': 5, 'created': '2019-06-10 08:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f715afc38e626a423f42829681760a6e88d66030', 'message': 'Adding Image Encryption as a popup team\n\nThe Image Encryption popup team is what pushed us to define\na framework around the concept of temporary teams that need\nsome support from the TC to more easily achieve its goals.\n\nRemove requirement to list all affected project teams, as this\nshould really be done as part of the popup team work.\n\nChange-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893\n'}, {'number': 6, 'created': '2019-06-26 21:55:05.000000000', 'files': ['reference/popup-teams.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/81aee135c844aba92c7bbddbab795cba4aef974c', 'message': 'Adding Image Encryption as a popup team\n\nThe Image Encryption popup team is what pushed us to define\na framework around the concept of temporary teams that need\nsome support from the TC to more easily achieve its goals.\n\nRemove requirement to list all affected project teams, as this\nshould really be done as part of the popup team work.\n\nChange-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893\n'}]",2,661983,81aee135c844aba92c7bbddbab795cba4aef974c,37,15,6,308,,,0,"Adding Image Encryption as a popup team

The Image Encryption popup team is what pushed us to define
a framework around the concept of temporary teams that need
some support from the TC to more easily achieve its goals.

Remove requirement to list all affected project teams, as this
should really be done as part of the popup team work.

Change-Id: Ibf164176a4a07b41ab9840e2d20d8f3bc76ca893
",git fetch https://review.opendev.org/openstack/governance refs/changes/83/661983/4 && git format-patch -1 --stdout FETCH_HEAD,['reference/popup-teams.rst'],1,c67167ab90a35682a9ee1695668aebccf6b0c4f4,formal-vote,"Image encryption ---------------- * **Co-leads**: Josephine Seifert and Markus Hentsch * **Objective**: Implementing encryption and decryption of images and the handling of those images in OpenStack * **Affected project teams**: Glance, Nova, Cinder * **Disband criteria**: Handling of encrypted images works in Nova, Cinder and Glance and can be triggered via an openstackclient-plugin ",None.,13,1
openstack%2Fgovernance~master~I244def2048f21534400bff22e66093302c975f68,openstack/governance,master,I244def2048f21534400bff22e66093302c975f68,Drop requirement to list all affected teams,MERGED,2019-06-10 08:17:49.000000000,2019-06-27 10:51:11.000000000,2019-06-27 10:51:11.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11655}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 08:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3c7ccf82f9fd929b61fbf29423a62da0b5136f1e', 'message': 'Drop requirement to list all affected teams\n\nRemove requirement to list all affected project teams, as this\nshould really be done as part of the popup team work.\n\nChange-Id: I244def2048f21534400bff22e66093302c975f68\n'}, {'number': 2, 'created': '2019-06-10 08:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1cf8493cc63408df4baf0d874d52fcc305bcec60', 'message': 'Drop requirement to list all affected teams\n\nRemove requirement to list all affected project teams, as this\nshould really be done as part of the popup team work.\n\nChange-Id: I244def2048f21534400bff22e66093302c975f68\n'}, {'number': 3, 'created': '2019-06-26 21:55:01.000000000', 'files': ['reference/popup-teams.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/855e5770912209deee1e6407ade3f94b2ad970ba', 'message': 'Drop requirement to list all affected teams\n\nRemove requirement to list all affected project teams, as this\nshould really be done as part of the popup team work.\n\nChange-Id: I244def2048f21534400bff22e66093302c975f68\n'}]",0,664222,855e5770912209deee1e6407ade3f94b2ad970ba,20,10,3,308,,,0,"Drop requirement to list all affected teams

Remove requirement to list all affected project teams, as this
should really be done as part of the popup team work.

Change-Id: I244def2048f21534400bff22e66093302c975f68
",git fetch https://review.opendev.org/openstack/governance refs/changes/22/664222/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/popup-teams.rst'],1,3c7ccf82f9fd929b61fbf29423a62da0b5136f1e,formal-vote,"a clear objective, and a clear disband criteria. If the team does not have a clear time-limited objective, they should be set up as `Special Interest Groups (SIGs)`_ instead. If an objective affects most project teams, it should be made light enough to fit in the :doc:`../goals/index` process instead.","a clear objective, a limited number of affected project teams, and a clear disband criteria. If the team does not have a clear time-limited objective, they should be set up as `Special Interest Groups (SIGs)`_ instead. If an objective affects most project teams, it should be made light enough to fit in the :doc:`../goals/index` process instead.",5,5
openstack%2Fgovernance~master~I39a4c3814ec3442c60c91055b41b0876976aaeab,openstack/governance,master,I39a4c3814ec3442c60c91055b41b0876976aaeab,Defining popup teams,MERGED,2019-05-24 16:35:44.000000000,2019-06-27 10:51:11.000000000,2019-06-27 10:51:11.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2394}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 10311}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11655}, {'_account_id': 12404}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28271}]","[{'number': 1, 'created': '2019-05-24 16:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0acf72bf7e03f513b4d5c928656230d3fecdfef9', 'message': 'Defining and listing popup teams\n\nFollowing the discussion at the Forum in Denver and the TC meeting\nat the PTG (also in Denver) one of the outcomes[1] of those discussions\nwas to propose a lightweight framework for popup teams.\n\nTo avoid repeating past failures in cross-project work, this proposal\npushes forward a relatively low barrier to entry, with the TC making an\nearly decision on whether the team objective sounds like a good idea\nfor OpenStack, rather than approving detailed implementation specs. It\nfocuses on supporting the popup teams rather than ""blessing"" them.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html\n\nChange-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab\n'}, {'number': 2, 'created': '2019-05-29 13:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/5a201eaf5fcad31d77bc04c8c2da1908857e9bed', 'message': 'Defining popup teams\n\nFollowing the discussion at the Forum in Denver and the TC meeting\nat the PTG (also in Denver) one of the outcomes[1] of those discussions\nwas to propose a lightweight framework for popup teams.\n\nTo avoid repeating past failures in cross-project work, this proposal\npushes forward a relatively low barrier to entry, with the TC making an\nearly decision on whether the team objective sounds like a good idea\nfor OpenStack, rather than approving detailed implementation specs. It\nfocuses on supporting the popup teams rather than ""blessing"" them.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html\n\nChange-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab\n'}, {'number': 3, 'created': '2019-06-06 09:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6875eaaaf765ffee08a3d8e8d830f08830fc3841', 'message': 'Defining popup teams\n\nFollowing the discussion at the Forum in Denver and the TC meeting\nat the PTG (also in Denver) one of the outcomes[1] of those discussions\nwas to propose a lightweight framework for popup teams.\n\nTo avoid repeating past failures in cross-project work, this proposal\npushes forward a relatively low barrier to entry, with the TC making an\nearly decision on whether the team objective sounds like a good idea\nfor OpenStack, rather than approving detailed implementation specs. It\nfocuses on supporting the popup teams rather than ""blessing"" them.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html\n\nChange-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab\n'}, {'number': 4, 'created': '2019-06-10 08:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/2bccb0bf172414f22f009b8b9bf6da40c27c309e', 'message': 'Defining popup teams\n\nFollowing the discussion at the Forum in Denver and the TC meeting\nat the PTG (also in Denver) one of the outcomes[1] of those discussions\nwas to propose a lightweight framework for popup teams.\n\nTo avoid repeating past failures in cross-project work, this proposal\npushes forward a relatively low barrier to entry, with the TC making an\nearly decision on whether the team objective sounds like a good idea\nfor OpenStack, rather than approving detailed implementation specs. It\nfocuses on supporting the popup teams rather than ""blessing"" them.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html\n\nChange-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab\n'}, {'number': 5, 'created': '2019-06-10 08:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0b17637e6a7d2b302253acc7c57821384be8c9e5', 'message': 'Defining popup teams\n\nFollowing the discussion at the Forum in Denver and the TC meeting\nat the PTG (also in Denver) one of the outcomes[1] of those discussions\nwas to propose a lightweight framework for popup teams.\n\nTo avoid repeating past failures in cross-project work, this proposal\npushes forward a relatively low barrier to entry, with the TC making an\nearly decision on whether the team objective sounds like a good idea\nfor OpenStack, rather than approving detailed implementation specs. It\nfocuses on supporting the popup teams rather than ""blessing"" them.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html\n\nChange-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab\n'}, {'number': 6, 'created': '2019-06-26 21:54:52.000000000', 'files': ['doc/source/index.rst', 'reference/index.rst', 'reference/popup-teams.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/4a1ef6ae36bddb1d14eeaa0c6c54864f09fb17c4', 'message': 'Defining popup teams\n\nFollowing the discussion at the Forum in Denver and the TC meeting\nat the PTG (also in Denver) one of the outcomes[1] of those discussions\nwas to propose a lightweight framework for popup teams.\n\nTo avoid repeating past failures in cross-project work, this proposal\npushes forward a relatively low barrier to entry, with the TC making an\nearly decision on whether the team objective sounds like a good idea\nfor OpenStack, rather than approving detailed implementation specs. It\nfocuses on supporting the popup teams rather than ""blessing"" them.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html\n\nChange-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab\n'}]",32,661356,4a1ef6ae36bddb1d14eeaa0c6c54864f09fb17c4,53,17,6,308,,,0,"Defining popup teams

Following the discussion at the Forum in Denver and the TC meeting
at the PTG (also in Denver) one of the outcomes[1] of those discussions
was to propose a lightweight framework for popup teams.

To avoid repeating past failures in cross-project work, this proposal
pushes forward a relatively low barrier to entry, with the TC making an
early decision on whether the team objective sounds like a good idea
for OpenStack, rather than approving detailed implementation specs. It
focuses on supporting the popup teams rather than ""blessing"" them.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006225.html

Change-Id: I39a4c3814ec3442c60c91055b41b0876976aaeab
",git fetch https://review.opendev.org/openstack/governance refs/changes/56/661356/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'reference/index.rst', 'reference/popup-teams.rst']",3,0acf72bf7e03f513b4d5c928656230d3fecdfef9,formal-vote,"=========== Popup teams =========== The work to produce OpenStack software is organized around :doc:`projects/index`, responsible for producing the various deliverables up to release. However, some features or architectural fixes need to be coordinated across multiple project teams for successful completion. To drive this work for the duration of those specific objectives, Popup teams can be temporarily set up. Popup teams are lightweight structures that are recognized by the Technical Committee as a desirable goal for OpenStack. Beyond extra visibility and recognition, popup teams are also assigned an experienced community member (TC member or not) to help them grow the connections necessary to the success of their work. When they are formed, popup teams should have a number of leads (ideally two), a clear objective, a limited number of affected project teams, and a clear disband criteria. If the team does not have a clear time-limited objective, they should be set up as `Special Interest Groups (SIGs)`_ instead. If an objective affects most project teams, it should be made light enough to fit in the :doc:`../goals/index` process instead. .. _`Special Interest Groups (SIGs)`: https://governance.openstack.org/sigs/ Current OpenStack popup teams ============================= Image encryption ---------------- * **Co-leads**: Josephine Seifert and Markus Hentsch * **Objective**: Implementing encryption and decryption of images and the handling of those images in OpenStack * **Affected project teams**: Glance, Nova, Cinder * **Disband criteria**: Handling of encrypted images works in Nova, Cinder and Glance and can be triggered via an openstackclient-plugin Process for addition or removal =============================== Proposed modifications to this document, such as addition or removal of a popup team, require a formal vote from the Technical Committee membership. The TC's role is not to vet popup teams implementation specs, which will likely be produced by the team once it is set up. TC members should just evaluate if the popup team objective, as described in this document, appears to be beneficial to the OpenStack project and worth supporting. If the popup team is supported and added to this document, the TC should seek a volunteer experienced sponsor to help the new popup team be successful and act as a liaison with the TC. Popup teams are removed from this document in three different cases. They may become abandoned (for example if nobody volunteers to lead the effort). Or the specification work may end up revealing that implementation is too complex or makes the objective not desirable. Or the popup team may fulfill its original disband criteria. None of those outcomes should be seen as a failure: experimentation is always good, and only vetting teams that are 100% sure of completing their objective would put too much of an upfront barrier to entry. ",,72,3
openstack%2Fgovernance~master~I4b4a87f7bb3fc635dd6b27310e1401d06f51b962,openstack/governance,master,I4b4a87f7bb3fc635dd6b27310e1401d06f51b962,Update the 'stable:follows-policy' tag doc for re-obtaining process,MERGED,2019-04-26 17:57:46.000000000,2019-06-27 10:49:12.000000000,2019-06-27 10:49:12.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-26 17:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/745b4b88cf3b847e4cd03207f9f311da13c8e7bb', 'message': ""Add the re-obtaining process for 'stable:follows-policy' tag\n\nWe have 'stable:follows-policy' tag to mark the projects to\nfollow the stable branch policies. We have defined the tag\napplication and removal process but process to re-obtaining\nthe tag is not defined.\n\nThis commit adds the process and more clarification about re-obtaining\nthe tag and when project remove the tag what that actually means\n\nChange-Id: I4b4a87f7bb3fc635dd6b27310e1401d06f51b962\n""}, {'number': 2, 'created': '2019-06-13 04:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/5658049e5d9505dad3ce40276c86febf8608b203', 'message': ""Update the 'stable:follows-policy' tag doc for re-obtaining process\n\nWe have 'stable:follows-policy' tag to mark the projects to\nfollow the stable branch policies. We have defined the tag\napplication and removal process but process to re-obtaining\nthe tag is not defined.\n\nThis commit updates the doc with more clarification about re-obtaining\nthe tag and when project remove the tag what that actually means.\n\nChange-Id: I4b4a87f7bb3fc635dd6b27310e1401d06f51b962\n""}, {'number': 3, 'created': '2019-06-26 22:02:33.000000000', 'files': ['reference/tags/stable_follows-policy.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/56ed7acfd0c1739e8dd1f7d243f3d6cefda6d4e0', 'message': ""Update the 'stable:follows-policy' tag doc for re-obtaining process\n\nWe have 'stable:follows-policy' tag to mark the projects to\nfollow the stable branch policies. We have defined the tag\napplication and removal process but process to re-obtaining\nthe tag is not defined.\n\nThis commit updates the doc with more clarification about re-obtaining\nthe tag and when project remove the tag what that actually means.\n\nChange-Id: I4b4a87f7bb3fc635dd6b27310e1401d06f51b962\n""}]",22,655984,56ed7acfd0c1739e8dd1f7d243f3d6cefda6d4e0,37,15,3,8556,,,0,"Update the 'stable:follows-policy' tag doc for re-obtaining process

We have 'stable:follows-policy' tag to mark the projects to
follow the stable branch policies. We have defined the tag
application and removal process but process to re-obtaining
the tag is not defined.

This commit updates the doc with more clarification about re-obtaining
the tag and when project remove the tag what that actually means.

Change-Id: I4b4a87f7bb3fc635dd6b27310e1401d06f51b962
",git fetch https://review.opendev.org/openstack/governance refs/changes/84/655984/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/tags/stable_follows-policy.rst'],1,745b4b88cf3b847e4cd03207f9f311da13c8e7bb,formal-vote,".. _application-process: Removing the tag will be applicable for all currently active stable branch which mean that project which has removed the tag no longer needs to follow the `Stable branch policy`_ in any of the currently active stable branches. Once the tag is removed, it can be re-obtained as per the :ref:`reobtaining-tag` process. .. _reobtaining-tag: Re-obtaining the Tag ==================== Re-obtaining the ``stable:follows-policy`` tag back is always possible and can be proposed with the agreement of `Stable Branch Maintenance team`_. The project will be applicable to re-obtain the tag once the branch when the tag was removed is EOL. The tag re-obtain application process is the same as described in :ref:`application-process`",,21,0
openstack%2Fgovernance~master~I454f4d92e397d6410cb869498f348b86ae26ca0a,openstack/governance,master,I454f4d92e397d6410cb869498f348b86ae26ca0a,Only get git timestamp for generated files,MERGED,2019-06-26 15:59:39.000000000,2019-06-27 10:49:08.000000000,2019-06-27 10:49:08.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 15:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7d438019b7ebc64c6f9da99ce29eb5b048b91432', 'message': 'Only get git timestamp for generated files\n\nopenstackdocstheme now gets the last modified timestamp for files by\ndefault. This makes most of our sphinx extension for this redundant. We\ndo have a few generated files that we perform special handling that\nopenstackdocstheme does not know about, so this updates our extension to\noptimize for only checking the files that will not be covered by the\ntheme.\n\nChange-Id: I454f4d92e397d6410cb869498f348b86ae26ca0a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-06-26 17:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/711b7668aadd4e3a496557d7554508269d12997d', 'message': 'Only get git timestamp for generated files\n\nopenstackdocstheme now gets the last modified timestamp for files by\ndefault. This makes most of our sphinx extension for this redundant. We\ndo have a few generated files that we perform special handling that\nopenstackdocstheme does not know about, so this updates our extension to\noptimize for only checking the files that will not be covered by the\ntheme.\n\nChange-Id: I454f4d92e397d6410cb869498f348b86ae26ca0a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-06-26 18:35:52.000000000', 'files': ['bindep.txt', 'openstack_governance/members.py', 'doc/source/_exts/page_context.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/f91f1d9270c06b46aab52bb64625fd620fa07b47', 'message': ""Only get git timestamp for generated files\n\nopenstackdocstheme now gets the last modified timestamp for files by\ndefault. This makes most of our sphinx extension for this redundant. We\ndo have a few generated files that we perform special handling that\nopenstackdocstheme does not know about, so this updates our extension to\noptimize for only checking the files that will not be covered by the\ntheme.\n\nThis also adds a bindep file to fix a doc build issue with a font\nmissing. Gate jobs used to use a common bindep-failback.txt file if\nthere wasn't a local one present. That mechanism was recently removed,\nand it appears now the docs build will not pass unless a needed fonts\npackage is installed that is not there by default.\n\nChange-Id: I454f4d92e397d6410cb869498f348b86ae26ca0a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,667664,f91f1d9270c06b46aab52bb64625fd620fa07b47,17,7,3,11904,,,0,"Only get git timestamp for generated files

openstackdocstheme now gets the last modified timestamp for files by
default. This makes most of our sphinx extension for this redundant. We
do have a few generated files that we perform special handling that
openstackdocstheme does not know about, so this updates our extension to
optimize for only checking the files that will not be covered by the
theme.

This also adds a bindep file to fix a doc build issue with a font
missing. Gate jobs used to use a common bindep-failback.txt file if
there wasn't a local one present. That mechanism was recently removed,
and it appears now the docs build will not pass unless a needed fonts
package is installed that is not there by default.

Change-Id: I454f4d92e397d6410cb869498f348b86ae26ca0a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/64/667664/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/page_context.py'],1,7d438019b7ebc64c6f9da99ce29eb5b048b91432,code-change,"_projects_last_updated = datetime.datetime.now() _projects_last_updated_set = False global _projects_last_updated global _projects_last_updated_set # Note: openstackdocstheme now handles this, so we only need to do our own # evaluation for generated reference pages. if pagename.startswith('reference/projects/'): if not _projects_last_updated_set: last_updated = _get_last_updated_file('reference/projects.yaml') if last_updated: LOG.info('[governance] Last updated for reference/' 'projects.yaml is %s', last_updated) _projects_last_updated = last_updated _projects_last_updated_set = True context['last_updated'] = _projects_last_updated","_default_last_updated = datetime.datetime.now()def _get_last_updated(app, pagename): last_updated = None full_src_file = app.builder.env.doc2path(pagename) candidates = [] # Strip the prefix from the filename so the git command recognizes # the file as part of the current repository. src_file = full_src_file[len(app.builder.env.srcdir):].lstrip('/') candidates.append(src_file) if not os.path.exists(src_file): # Some of the files are in doc/source and some are not. Some # of the ones that are not are symlinked. If we can't find the # file after stripping the full prefix, try looking for it in # doc/source explicitly. candidates.append(os.path.join('doc/source', src_file)) if pagename.startswith('reference/projects/'): # If the file is in the reference/projects directory, it may # be an auto-generated project page. In that case, use the # YAML file as the source of the last_updated timestamp. candidates.append('reference/projects.yaml') for filename in candidates: last_updated = _get_last_updated_file(filename) if last_updated: LOG.info('[governance] Last updated for %s is %s', pagename, last_updated) return last_updated LOG.info('[governance] could not determine last_updated for %r', pagename) return _default_last_updated context['last_updated'] = _get_last_updated(app, pagename)",17,37
openstack%2Fkolla~master~I2eb48dd1328fe95a6ea043046fdf0d2027092f0c,openstack/kolla,master,I2eb48dd1328fe95a6ea043046fdf0d2027092f0c,base: enable elasticsearch and logstash for Ubuntu/aarch64,MERGED,2019-06-27 07:11:37.000000000,2019-06-27 10:42:10.000000000,2019-06-27 10:42:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 07:11:37.000000000', 'files': ['docker/base/sources.list.ubuntu.aarch64'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c33035df62c3d4ccad067d67197d28bd6ce4302', 'message': 'base: enable elasticsearch and logstash for Ubuntu/aarch64\n\nChange-Id: I2eb48dd1328fe95a6ea043046fdf0d2027092f0c\n'}]",0,667796,0c33035df62c3d4ccad067d67197d28bd6ce4302,10,5,1,24072,,,0,"base: enable elasticsearch and logstash for Ubuntu/aarch64

Change-Id: I2eb48dd1328fe95a6ea043046fdf0d2027092f0c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/667796/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/sources.list.ubuntu.aarch64'],1,0c33035df62c3d4ccad067d67197d28bd6ce4302,," # elasticsearch (arch:all), logstash (arch:all), kibana (arch:amd64) deb [arch=amd64] https://artifacts.elastic.co/packages/5.x/apt stable main",,3,0
openstack%2Fkolla~stable%2Fstein~I515f9764ca93a41a871e520696193a9298856d08,openstack/kolla,stable/stein,I515f9764ca93a41a871e520696193a9298856d08,Use td-agent-gem to install fluentd monasca plugin on ubuntu,MERGED,2019-06-18 17:38:31.000000000,2019-06-27 10:31:52.000000000,2019-06-27 10:31:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-18 17:38:31.000000000', 'files': ['docker/macros.j2', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/588c1076c3da583e9f654dcfbed5fde13788dc0d', 'message': 'Use td-agent-gem to install fluentd monasca plugin on ubuntu\n\nIf monasca is enabled on ubuntu, we see the following error in fluentd:\n\n[error]: config error file=""/etc/td-agent/td-agent.conf""\nerror_class=Fluent::ConfigError error=""Unknown output plugin \'monasca\'.\nRun \'gem search -rd fluent-plugin\' to find plugins""\n\nThis is because we use \'fluent-gem install\' to install the gem, which\nworks on CentOS but on Ubuntu it is necessary to use \'td-agent-gem\ninstall\'.\n\nChange-Id: I515f9764ca93a41a871e520696193a9298856d08\nCloses-Bug: #1830147\n(cherry picked from commit c585ca5055c7a92fdbe5826030d3529e5c397540)\n'}]",0,666074,588c1076c3da583e9f654dcfbed5fde13788dc0d,16,6,1,14826,,,0,"Use td-agent-gem to install fluentd monasca plugin on ubuntu

If monasca is enabled on ubuntu, we see the following error in fluentd:

[error]: config error file=""/etc/td-agent/td-agent.conf""
error_class=Fluent::ConfigError error=""Unknown output plugin 'monasca'.
Run 'gem search -rd fluent-plugin' to find plugins""

This is because we use 'fluent-gem install' to install the gem, which
works on CentOS but on Ubuntu it is necessary to use 'td-agent-gem
install'.

Change-Id: I515f9764ca93a41a871e520696193a9298856d08
Closes-Bug: #1830147
(cherry picked from commit c585ca5055c7a92fdbe5826030d3529e5c397540)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/666074/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/macros.j2', 'docker/fluentd/Dockerfile.j2']",2,588c1076c3da583e9f654dcfbed5fde13788dc0d,bug/1830147," && {{ macros.install_fluent_plugins(['fluentd-monasca-output-*.gem'], chain=True) }} \", && fluent-gem install fluentd-monasca-output-*.gem \,6,5
openstack%2Fmonasca-api~master~I67d85eb5bef72c38cc5360b5625d6b1c37adb40f,openstack/monasca-api,master,I67d85eb5bef72c38cc5360b5625d6b1c37adb40f,Update hacking version to 1.1.x,MERGED,2019-06-12 06:40:42.000000000,2019-06-27 10:29:58.000000000,2019-06-27 10:29:58.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-12 06:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/f73230470e5705893d41ee495a86d4f289746041', 'message': 'Update hacking version to 1.1.x\n\nThis commit updates hacking version in test-requirements and\nfixes some related pep8 issues\n\nChange-Id: I67d85eb5bef72c38cc5360b5625d6b1c37adb40f\nStory: 2004930\nTask: 29315\n'}, {'number': 2, 'created': '2019-06-12 07:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0090c050a11a290c4e01ba89caa8c022573c23d2', 'message': 'Update hacking version to 1.1.x\n\nThis commit updates hacking version in test-requirements and\nfixes some related pep8 issues\n\nChange-Id: I67d85eb5bef72c38cc5360b5625d6b1c37adb40f\nStory: 2004930\nTask: 29315\n'}, {'number': 3, 'created': '2019-06-20 04:52:24.000000000', 'files': ['monasca_api/common/repositories/metrics_repository.py', 'monasca_api/v2/reference/helpers.py', 'test-requirements.txt', 'monasca_api/tests/test_versions.py', 'lower-constraints.txt', 'monasca_api/common/repositories/sqla/alarm_definitions_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0fae94fac2bb5cc7293ada99cb1c6fc0bd464d9a', 'message': 'Update hacking version to 1.1.x\n\nThis commit updates hacking version in test-requirements and\nfixes some related pep8 issues\n\nChange-Id: I67d85eb5bef72c38cc5360b5625d6b1c37adb40f\nStory: 2004930\nTask: 29315\n'}]",0,664795,0fae94fac2bb5cc7293ada99cb1c6fc0bd464d9a,16,3,3,25553,,,0,"Update hacking version to 1.1.x

This commit updates hacking version in test-requirements and
fixes some related pep8 issues

Change-Id: I67d85eb5bef72c38cc5360b5625d6b1c37adb40f
Story: 2004930
Task: 29315
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/95/664795/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/common/repositories/metrics_repository.py', 'monasca_api/v2/reference/helpers.py', 'test-requirements.txt', 'monasca_api/tests/test_versions.py', 'monasca_api/common/repositories/sqla/alarm_definitions_repository.py']",5,f73230470e5705893d41ee495a86d4f289746041,hacking, .where(aa.c.alarm_definition_id == bindparam('b_alarm_definition_id'))), .where(aa.c.alarm_definition_id == bindparam('b_alarm_definition_id'))),23,23
openstack%2Fopenstack-ansible-galera_server~master~Ibc63e5e62fb18557530c94c231e56f93913fbff5,openstack/openstack-ansible-galera_server,master,Ibc63e5e62fb18557530c94c231e56f93913fbff5,Switch to openSUSE Leap 15 for functional testing,ABANDONED,2019-05-20 20:58:24.000000000,2019-06-27 10:27:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-20 20:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/b492d0d93d1677c78e3cd8a35794d7ebf168e761', 'message': 'Switch to openSUSE Leap 15 for functional testing\n\nDepends-On: https://review.opendev.org/660207\nChange-Id: Ibc63e5e62fb18557530c94c231e56f93913fbff5\n'}, {'number': 2, 'created': '2019-05-21 07:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/d2bec3463aed19cc306aafb19272a1c0b59a53b3', 'message': 'Switch to openSUSE Leap 15 for functional testing\n\nDepends-On: https://review.opendev.org/660207\nChange-Id: Ibc63e5e62fb18557530c94c231e56f93913fbff5\n'}, {'number': 3, 'created': '2019-05-21 10:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/89c59cb977a86965f4b9122c5ec3652f49e6b672', 'message': 'Switch to openSUSE Leap 15 for functional testing\n\nDepends-On: https://review.opendev.org/660207\nChange-Id: Ibc63e5e62fb18557530c94c231e56f93913fbff5\n'}, {'number': 4, 'created': '2019-05-23 19:32:35.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a095f335413f0735e22674197319f5225bde44f6', 'message': 'Switch to openSUSE Leap 15 for functional testing\n\nDepends-On: https://review.opendev.org/660207\nChange-Id: Ibc63e5e62fb18557530c94c231e56f93913fbff5\n'}]",0,660208,a095f335413f0735e22674197319f5225bde44f6,9,1,4,6593,,,0,"Switch to openSUSE Leap 15 for functional testing

Depends-On: https://review.opendev.org/660207
Change-Id: Ibc63e5e62fb18557530c94c231e56f93913fbff5
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/08/660208/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,b492d0d93d1677c78e3cd8a35794d7ebf168e761,, name: openstack-ansible-functional-opensuse-15-ssl parent: openstack-ansible-functional-opensuse-15, name: openstack-ansible-functional-opensuse-423-ssl parent: openstack-ansible-functional-opensuse-423,4,2
openstack%2Fmetalsmith~master~I178ac46df8d58a00c605292dba9b976e5dd1bf71,openstack/metalsmith,master,I178ac46df8d58a00c605292dba9b976e5dd1bf71,CI: increase the timeout for the entOS job,MERGED,2019-06-26 13:25:00.000000000,2019-06-27 10:26:37.000000000,2019-06-26 16:17:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 13:25:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/249b2ac0cc92ffaa0c89969b80a27c7837db8e48', 'message': 'CI: increase the timeout for the entOS job\n\nChange-Id: I178ac46df8d58a00c605292dba9b976e5dd1bf71\n'}]",0,667611,249b2ac0cc92ffaa0c89969b80a27c7837db8e48,7,2,1,10239,,,0,"CI: increase the timeout for the entOS job

Change-Id: I178ac46df8d58a00c605292dba9b976e5dd1bf71
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/11/667611/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,249b2ac0cc92ffaa0c89969b80a27c7837db8e48,gate, timeout: 7200,,1,0
openstack%2Fmistral-dashboard~master~I253e0f109b9be68c28792e4b3a53b26b512a08dd,openstack/mistral-dashboard,master,I253e0f109b9be68c28792e4b3a53b26b512a08dd,Follow the new PTI for document build,MERGED,2019-06-25 07:37:13.000000000,2019-06-27 10:25:49.000000000,2019-06-27 10:25:49.000000000,"[{'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 07:37:13.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/51166f3ebe36cf65f7b25efa2875ef3da3b28c44', 'message': 'Follow the new PTI for document build\n\nThe detail is described in the following links:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\ndoc8 command is dropped from docs and releasenotes tox envs.\nWe run doc8 in pep8 tox env, so this hurts nothing.\n\nChange-Id: I253e0f109b9be68c28792e4b3a53b26b512a08dd\n'}]",0,667277,51166f3ebe36cf65f7b25efa2875ef3da3b28c44,6,3,1,27822,,,0,"Follow the new PTI for document build

The detail is described in the following links:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

doc8 command is dropped from docs and releasenotes tox envs.
We run doc8 in pep8 tox env, so this hurts nothing.

Change-Id: I253e0f109b9be68c28792e4b3a53b26b512a08dd
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/77/667277/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,51166f3ebe36cf65f7b25efa2875ef3da3b28c44,Bug#1,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/htmldeps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,15,13
openstack%2Fironic~master~I2cc64580b089566e664d54ea2087878b9cce6666,openstack/ironic,master,I2cc64580b089566e664d54ea2087878b9cce6666,CI: remove quotation marks from TEMPEST_PLUGINS variable,MERGED,2019-06-26 08:54:55.000000000,2019-06-27 10:24:55.000000000,2019-06-26 15:06:53.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10459}, {'_account_id': 11292}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-26 08:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/495927561760fba98cc4277994c011a23fb0f5a6', 'message': 'CI: Remove quotation marks from TEMPEST_PLUGIN\n\nSeems like it stopped working out of a sudden.\n\nChange-Id: I2cc64580b089566e664d54ea2087878b9cce6666\n'}, {'number': 2, 'created': '2019-06-26 09:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/715dfe14fed1b07ff119f7f3a267d79d35f6cc92', 'message': 'CI: use the new devstack zuul variable for tempest plugins\n\nThe old one has stopped working out of a sudden.\n\nChange-Id: I2cc64580b089566e664d54ea2087878b9cce6666\n'}, {'number': 3, 'created': '2019-06-26 11:13:09.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac0900add29e5a9098c3a3055fde645e7ad088a4', 'message': 'CI: remove quotation marks from TEMPEST_PLUGINS variable\n\nThe has stopped working out of a sudden. We should move to tempest_plugins\nzuul variable later on, but it is only available since Stein.\n\nChange-Id: I2cc64580b089566e664d54ea2087878b9cce6666\n'}]",2,667555,ac0900add29e5a9098c3a3055fde645e7ad088a4,25,11,3,10239,,,0,"CI: remove quotation marks from TEMPEST_PLUGINS variable

The has stopped working out of a sudden. We should move to tempest_plugins
zuul variable later on, but it is only available since Stein.

Change-Id: I2cc64580b089566e664d54ea2087878b9cce6666
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/667555/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,495927561760fba98cc4277994c011a23fb0f5a6,gate," TEMPEST_PLUGINS: ""{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-tempest-plugin"""," TEMPEST_PLUGINS: ""'{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-tempest-plugin'""",1,1
openstack%2Fplacement~master~I0f241b2ca576ca3a29d3b5c74c6502908db8f681,openstack/placement,master,I0f241b2ca576ca3a29d3b5c74c6502908db8f681,DNM: review comment related to agg flow down,ABANDONED,2019-06-20 04:58:55.000000000,2019-06-27 10:24:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-20 04:58:55.000000000', 'files': ['placement/tests/functional/gabbits/allocation-candidates-bug-1792503.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/b6e4c0f6f78c7b43b39db30d38fcf653964a134b', 'message': 'DNM: review comment related to agg flow down\n\nThis patch is for a comment in\nhttps://review.opendev.org/#/c/662191/6/doc/source/specs/train/approved/2005575-nested-magic-1.rst\n\nThis describes the current behavior of aggregate flow down feature\nand disuss the need of root_member_of parameter.\n\nChange-Id: I0f241b2ca576ca3a29d3b5c74c6502908db8f681\n'}]",0,666488,b6e4c0f6f78c7b43b39db30d38fcf653964a134b,3,1,1,25625,,,0,"DNM: review comment related to agg flow down

This patch is for a comment in
https://review.opendev.org/#/c/662191/6/doc/source/specs/train/approved/2005575-nested-magic-1.rst

This describes the current behavior of aggregate flow down feature
and disuss the need of root_member_of parameter.

Change-Id: I0f241b2ca576ca3a29d3b5c74c6502908db8f681
",git fetch https://review.opendev.org/openstack/placement refs/changes/88/666488/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/allocation-candidates-bug-1792503.yaml'],1,b6e4c0f6f78c7b43b39db30d38fcf653964a134b,review-comment," # whole tree in *unsuffixed* requests. We have full allocations here. # whole tree in *unsuffixed* requests including rps of NUMA2_1 and NUMA2_2.# This is the current behavior and the reason why I'm reluctant to say # that ""agg flow down"" is already implemented - name: get allocation candidates with aggregate B suffixed GET: /allocation_candidates?resources1=VCPU:1&member_of1=$ENVIRON['AGGB_UUID'] response_json_paths: # Aggregate B is on the root of cn2 but it does not span on the # whole tree in *suffixed* requests. We have no allocation here. # Currently we don't have any workaround for this and we need to use *suffixed* # groups when you want two NUMA nodes i.e. want resources from different providers $.allocation_requests.`len`: 0 # If resourceless is supported we get one workaround to specify aggB like this - name: get allocation candidates with aggregate B suffixed plus unsuffixed resourceless GET: /allocation_candidates?member_of=$ENVIRON['AGGB_UUID']&resources1=VCPU:1 status: 400 # response_json_paths: # $.allocation_requests.`len`: 4 # $.allocation_requests..allocations[""$ENVIRON['NUMA2_1_UUID']""].resources.VCPU: 1 # $.allocation_requests..allocations[""$ENVIRON['NUMA2_2_UUID']""].resources.VCPU: 1 # Or we can also use suffixed resourceless alternatively like this - name: get allocation candidates with aggregate B suffixed plus suffixed resourceless GET: /allocation_candidates?member_of2=$ENVIRON['AGGB_UUID']&resources1=VCPU:1 status: 400 # response_json_paths: # $.allocation_requests.`len`: 4 # $.allocation_requests..allocations[""$ENVIRON['NUMA2_1_UUID']""].resources.VCPU: 1 # $.allocation_requests..allocations[""$ENVIRON['NUMA2_2_UUID']""].resources.VCPU: 1 # However, with that workaround, in the current design we could get unexpected # rps with aggregates that are not on root # IOW, specifying aggC here would get NUMA1_2 as well as NUMA1_1 # This is unclear and inconsistent, so it is good to block this workaround with the rule # ""reject resourceless groups if they are not part of a same_subtree expression"" # as eric, gibi and melanie suggest. Agreed. - name: get allocation candidates with aggregate C suffixed plus unsuffixed resourceless GET: /allocation_candidates?member_of=$ENVIRON['AGGC_UUID']&resources1=VCPU:1 status: 400 # response_json_paths: # # expected would be only NUMA1_1 but we will get NUMA1-2 as well :( # $.allocation_requests.`len`: 4 # $.allocation_requests..allocations[""$ENVIRON['NUMA1_1_UUID']""].resources.VCPU: 1 # $.allocation_requests..allocations[""$ENVIRON['NUMA1_2_UUID']""].resources.VCPU: 1 # Instead, I think we will need to support root_member_of as a substitution for the # workaround. Thoughts? - name: get allocation candidates with aggregate B suffixed plus root agg GET: /allocation_candidates?root_member_of=$ENVIRON['AGGA_UUID']&resources1=VCPU:1 status: 400 # response_json_paths: # $.allocation_requests.`len`: 2 # $.allocation_requests..allocations[""$ENVIRON['NUMA2_1_UUID']""].resources.VCPU: 1 # $.allocation_requests..allocations[""$ENVIRON['NUMA2_2_UUID']""].resources.VCPU: 1 ", # whole tree. We have full allocations here. # whole tree including rps of NUMA2_1 and NUMA2_2.,56,2
openstack%2Fironic-python-agent~master~I7c55aee4b3b52cb414a595cf548e1f22e954f619,openstack/ironic-python-agent,master,I7c55aee4b3b52cb414a595cf548e1f22e954f619,Correct formatting of a warning when lshw cannot be run,MERGED,2019-06-26 09:38:15.000000000,2019-06-27 10:24:23.000000000,2019-06-27 05:58:00.000000000,"[{'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-26 09:38:15.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/69064a8610134f7e6777083375487f15f7dbbc7b', 'message': 'Correct formatting of a warning when lshw cannot be run\n\nChange-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619\n'}]",0,667566,69064a8610134f7e6777083375487f15f7dbbc7b,13,4,1,10239,,,0,"Correct formatting of a warning when lshw cannot be run

Change-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/66/667566/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,69064a8610134f7e6777083375487f15f7dbbc7b,formatting," LOG.warning('Could not retrieve vendor info from lshw: %s', e)"," LOG.warning('Could not retrieve vendor info from lshw: %e', e)",1,1
openstack%2Fmistral-dashboard~master~I89145b7bb71cbcb74c7a29534362bbf0c558a5f7,openstack/mistral-dashboard,master,I89145b7bb71cbcb74c7a29534362bbf0c558a5f7,Add the unit test for executions,MERGED,2019-06-25 06:16:40.000000000,2019-06-27 10:22:28.000000000,2019-06-27 10:22:28.000000000,"[{'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 06:16:40.000000000', 'files': ['mistraldashboard/executions/tests.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/e5b94ec93b86447c65b087c424c94bc9df641ad9', 'message': 'Add the unit test for executions\n\nChange-Id: I89145b7bb71cbcb74c7a29534362bbf0c558a5f7\n'}]",0,667271,e5b94ec93b86447c65b087c424c94bc9df641ad9,6,3,1,27822,,,0,"Add the unit test for executions

Change-Id: I89145b7bb71cbcb74c7a29534362bbf0c558a5f7
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/71/667271/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/executions/tests.py'],1,e5b94ec93b86447c65b087c424c94bc9df641ad9,Bug#test4," @helpers.create_mocks({api: ('execution_update',)}) def test_update_post(self): execution = self.mistralclient_executions.first() self.mock_execution_update.return_value = execution form_data = { ""execution_id"": execution.id, ""description"": ""description""} res = self.client.post( reverse('horizon:mistral:executions:update_description', args=(execution.id,)), form_data) self.assertNoFormErrors(res) self.mock_execution_update.assert_called_once_with( helpers.IsHttpRequest(), execution.id, ""description"", ""description"") ",,16,0
openstack%2Fmistral-dashboard~master~Ic792830a679a14b9a349ad1a07349575999a72c5,openstack/mistral-dashboard,master,Ic792830a679a14b9a349ad1a07349575999a72c5,Add the unit test for cron_triggers,MERGED,2019-06-25 03:11:45.000000000,2019-06-27 10:22:27.000000000,2019-06-27 10:22:27.000000000,"[{'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 03:11:45.000000000', 'files': ['mistraldashboard/test/test_data/mistral_data.py', 'mistraldashboard/cron_triggers/tests.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/b7d63224ee27c110e69821d4f3cdfc5f47bfee08', 'message': 'Add the unit test for cron_triggers\n\nChange-Id: Ic792830a679a14b9a349ad1a07349575999a72c5\n'}]",0,667257,b7d63224ee27c110e69821d4f3cdfc5f47bfee08,6,3,1,27822,,,0,"Add the unit test for cron_triggers

Change-Id: Ic792830a679a14b9a349ad1a07349575999a72c5
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/57/667257/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/test/test_data/mistral_data.py', 'mistraldashboard/cron_triggers/tests.py']",2,b7d63224ee27c110e69821d4f3cdfc5f47bfee08,Bug#test3," @helpers.create_mocks({api: ('cron_trigger_create', 'workflow_list')}) def test_create_post(self): cron_trigger = self.mistralclient_cron_triggers.first() workflows = self.mistralclient_workflows.list() self.mock_cron_trigger_create.return_value = cron_trigger self.mock_workflow_list.return_value = workflows url = reverse(""horizon:mistral:cron_triggers:create"") form_data = { 'name': cron_trigger.name, 'workflow_id': '1', 'input_source': 'raw', 'input_data': '{""a"":""b""}', 'params_source': 'raw', 'params_data': '{""a"":""b""}', 'schedule_pattern': cron_trigger.pattern, 'first_time': cron_trigger.first_execution_time, 'schedule_count': '1' } res = self.client.post(url, form_data) self.assertNoFormErrors(res) self.mock_cron_trigger_create.assert_called_once_with( helpers.IsHttpRequest(), cron_trigger.name, form_data[""workflow_id""], {u'a': u'b'}, {u'a': u'b'}, None, None, form_data[""schedule_count""] ) self.mock_workflow_list.assert_called_once_with( helpers.IsHttpRequest()) ",,33,0
openstack%2Fmistral-dashboard~master~Ib0774e90a202e46213cbe733333c2e675d02fc91,openstack/mistral-dashboard,master,Ib0774e90a202e46213cbe733333c2e675d02fc91,Remove the ErrorHandleTests class,MERGED,2019-06-26 03:28:50.000000000,2019-06-27 10:20:38.000000000,2019-06-27 10:20:38.000000000,"[{'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 03:28:50.000000000', 'files': ['mistraldashboard/test/tests/error_handle.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/a7d67256c950c7aeed37414bef53df450bb6879f', 'message': 'Remove the ErrorHandleTests class\n\nErrorHandleTests is not being used, so remove it\n\nChange-Id: Ib0774e90a202e46213cbe733333c2e675d02fc91\n'}]",0,667498,a7d67256c950c7aeed37414bef53df450bb6879f,6,3,1,27822,,,0,"Remove the ErrorHandleTests class

ErrorHandleTests is not being used, so remove it

Change-Id: Ib0774e90a202e46213cbe733333c2e675d02fc91
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/98/667498/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/test/tests/error_handle.py'],1,a7d67256c950c7aeed37414bef53df450bb6879f,Bug#2,,"# Copyright 2015 ASD Technologies Co. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from mistraldashboard.test import helpers as test class ErrorHandleTests(test.TestCase): class CommonException(Exception): pass ",0,21
openstack%2Freleases~master~I548598b0797aa890e9c974b5c082562cb74bb1c8,openstack/releases,master,I548598b0797aa890e9c974b5c082562cb74bb1c8,Release OpenStack-Ansible Queens,MERGED,2019-06-19 10:55:16.000000000,2019-06-27 10:18:54.000000000,2019-06-27 10:18:54.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 10:55:16.000000000', 'files': ['deliverables/queens/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0c45d0fe29e75ebb37db3ba4f647282a9b605429', 'message': 'Release OpenStack-Ansible Queens\n\nChange-Id: I548598b0797aa890e9c974b5c082562cb74bb1c8\n'}]",0,666262,0c45d0fe29e75ebb37db3ba4f647282a9b605429,15,5,1,28619,,,0,"Release OpenStack-Ansible Queens

Change-Id: I548598b0797aa890e9c974b5c082562cb74bb1c8
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/666262/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/openstack-ansible.yaml'],1,0c45d0fe29e75ebb37db3ba4f647282a9b605429,release_osa, - projects: - hash: 4f883439ee8375aafa929638edff9ff8cb3e6bfc repo: openstack/openstack-ansible version: 17.1.12,,4,0
openstack%2Fopenstack-ansible-tests~master~I2cbe8b6b6638e3428b021e1e2026bda8a7e9ef5c,openstack/openstack-ansible-tests,master,I2cbe8b6b6638e3428b021e1e2026bda8a7e9ef5c,Replace opensuse 42.3 vboxes with opensuse-15.1,MERGED,2019-06-27 06:59:41.000000000,2019-06-27 10:11:02.000000000,2019-06-27 10:11:02.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 06:59:41.000000000', 'files': ['Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b05a137f218278172bc30c8d886bcd416918d54c', 'message': 'Replace opensuse 42.3 vboxes with opensuse-15.1\n\nopenSUSE Leap 42.3 is out of maintenance and end of life.\nIt has been superceded by Leap 15.0 and the current version\nas of today is 15.1\n\nChange-Id: I2cbe8b6b6638e3428b021e1e2026bda8a7e9ef5c\n'}]",0,667795,b05a137f218278172bc30c8d886bcd416918d54c,7,3,1,6593,,,0,"Replace opensuse 42.3 vboxes with opensuse-15.1

openSUSE Leap 42.3 is out of maintenance and end of life.
It has been superceded by Leap 15.0 and the current version
as of today is 15.1

Change-Id: I2cbe8b6b6638e3428b021e1e2026bda8a7e9ef5c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/95/667795/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile'],1,b05a137f218278172bc30c8d886bcd416918d54c,," config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64"" end "," config.vm.define ""opensuse423"" do |leap423| leap423.vm.box = ""opensuse/openSUSE-42.3-x86_64"" end ",4,4
openstack%2Fopenstack-helm~master~I79d756f23298e4f15012b318bf62d39c9dbdd98d,openstack/openstack-helm,master,I79d756f23298e4f15012b318bf62d39c9dbdd98d,DNM: test rbd storage,ABANDONED,2019-05-28 07:37:02.000000000,2019-06-27 09:43:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-28 07:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a956e7abafa361ba316adebf0b89f8f5d8023b1', 'message': 'DNM: test rbd storage\n\nChange-Id: I79d756f23298e4f15012b318bf62d39c9dbdd98d\n'}, {'number': 2, 'created': '2019-05-28 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f14bfbb6fc2418ccc01e44df7582f3366a95902a', 'message': 'DNM: test rbd storage\n\nChange-Id: I79d756f23298e4f15012b318bf62d39c9dbdd98d\n'}, {'number': 3, 'created': '2019-05-28 08:59:26.000000000', 'files': ['tools/deployment/component/glance/glance.sh', 'tools/deployment/multinode/100-glance.sh', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea081952128e518da387c038e405b2181aa69718', 'message': 'DNM: test rbd storage\n\nChange-Id: I79d756f23298e4f15012b318bf62d39c9dbdd98d\n'}]",0,661690,ea081952128e518da387c038e405b2181aa69718,5,1,3,20676,,,0,"DNM: test rbd storage

Change-Id: I79d756f23298e4f15012b318bf62d39c9dbdd98d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/661690/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/values.yaml'],1,6a956e7abafa361ba316adebf0b89f8f5d8023b1,,storage: rbd,storage: swift,1,1
openstack%2Fopenstack-helm-images~master~I967ef1efda88a953aa30be9c5a125793a4d335a6,openstack/openstack-helm-images,master,I967ef1efda88a953aa30be9c5a125793a4d335a6,Unhardcode distro codename for ceph-config-helper,MERGED,2019-06-24 10:43:17.000000000,2019-06-27 09:41:06.000000000,2019-06-27 09:39:35.000000000,"[{'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-24 10:43:17.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c64b4c2568ed335a78ca77ff8d55b2dbcd7740f1', 'message': 'Unhardcode distro codename for ceph-config-helper\n\nChange-Id: I967ef1efda88a953aa30be9c5a125793a4d335a6\n'}]",0,667062,c64b4c2568ed335a78ca77ff8d55b2dbcd7740f1,8,3,1,14525,,,0,"Unhardcode distro codename for ceph-config-helper

Change-Id: I967ef1efda88a953aa30be9c5a125793a4d335a6
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/62/667062/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-config-helper/Dockerfile.ubuntu_xenial'],1,c64b4c2568ed335a78ca77ff8d55b2dbcd7740f1,,ARG DISTRO_CODENAME='xenial' ARG CEPH_REPO=https://mirror.mirantis.com/testing/ceph-mimic/${DISTRO_CODENAME}/ ARG CEPH_KEY=https://mirror.mirantis.com/testing/ceph-mimic/${DISTRO_CODENAME}/archive-ceph-mimic.key echo deb ${CEPH_REPO} ${DISTRO_CODENAME} main | tee /etc/apt/sources.list.d/ceph.list ;\,ARG CEPH_REPO=https://mirror.mirantis.com/testing/ceph-mimic/xenial/ ARG CEPH_KEY=https://mirror.mirantis.com/testing/ceph-mimic/xenial/archive-ceph-mimic.key echo deb ${CEPH_REPO} xenial main | tee /etc/apt/sources.list.d/ceph.list ;\,5,3
openstack%2Freleases~master~I9334c74524668a0c94d1cb84bd7aebd7bbc76df7,openstack/releases,master,I9334c74524668a0c94d1cb84bd7aebd7bbc76df7,Release OpenStack-Ansible Rocky,MERGED,2019-06-19 08:46:25.000000000,2019-06-27 09:39:31.000000000,2019-06-27 09:39:31.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 08:46:25.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e30fe145439dd590f817d9a0fa7887e4fba10313', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: I9334c74524668a0c94d1cb84bd7aebd7bbc76df7\n'}]",0,666246,e30fe145439dd590f817d9a0fa7887e4fba10313,10,5,1,28619,,,0,"Release OpenStack-Ansible Rocky

Change-Id: I9334c74524668a0c94d1cb84bd7aebd7bbc76df7
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/666246/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,e30fe145439dd590f817d9a0fa7887e4fba10313,release_osa, - projects: - hash: c8d05df752a75085f45dcd0b307fdd26e0e1d443 repo: openstack/openstack-ansible version: 18.1.8,,4,0
openstack%2Freleases~master~If2e10b2c24586a68c3711bfe1e649e82c39e140a,openstack/releases,master,If2e10b2c24586a68c3711bfe1e649e82c39e140a,Release python-saharaclient 2.2.1,MERGED,2019-06-20 15:31:40.000000000,2019-06-27 09:39:30.000000000,2019-06-27 09:39:30.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-20 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d222f331de37042d605e7a4eae8be6d4362e7190', 'message': 'Release python-saharaclient 2.2.1\n\nBugfix release (a Python 3 porting bug).\n\nChange-Id: If2e10b2c24586a68c3711bfe1e649e82c39e140a\n'}, {'number': 2, 'created': '2019-06-20 16:04:40.000000000', 'files': ['deliverables/stein/python-saharaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5cd4911071b600f418aec34bf22c55c101c34117', 'message': 'Release python-saharaclient 2.2.1\n\nBugfix release (a Python 3 porting bug).\n\nChange-Id: If2e10b2c24586a68c3711bfe1e649e82c39e140a\n'}]",0,666612,5cd4911071b600f418aec34bf22c55c101c34117,10,4,2,10459,,,0,"Release python-saharaclient 2.2.1

Bugfix release (a Python 3 porting bug).

Change-Id: If2e10b2c24586a68c3711bfe1e649e82c39e140a
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/666612/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-saharaclient.yaml'],1,d222f331de37042d605e7a4eae8be6d4362e7190,saharaclient-2.2.1, - version: 2.2.1 projects: - repo: openstack/python-saharaclient hash: 564380af2e297c86d31af092fdbb64a735b2d669,,4,0
openstack%2Fopenstack-helm-images~master~I3f720dfa0736cabbaa59406871b039d8762ce4de,openstack/openstack-helm-images,master,I3f720dfa0736cabbaa59406871b039d8762ce4de,Add ubuntu bionic based ovs image,MERGED,2019-06-14 06:34:50.000000000,2019-06-27 09:39:23.000000000,2019-06-27 09:35:59.000000000,"[{'_account_id': 8863}, {'_account_id': 12281}, {'_account_id': 16353}, {'_account_id': 16881}, {'_account_id': 17068}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27589}, {'_account_id': 29668}, {'_account_id': 30220}]","[{'number': 1, 'created': '2019-06-14 06:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fe052e06c6146eeb0bc8ca2572623c996487aa9c', 'message': ""WIP: Add ubuntu bionic based ovs image\n\nAs we are moving to bionic version, this patch is to add ubuntu bionic\nbased ovs image to support ovs-dpdk. Also this patch removes the\ndebian_dpdk image, as it doesn't work correctly on some CPUs.\n\nChange-Id: I3f720dfa0736cabbaa59406871b039d8762ce4de\n""}, {'number': 2, 'created': '2019-06-16 08:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ff5d296ac919c060d03a964e7f32191ac7026686', 'message': ""Add ubuntu bionic based ovs image\n\nAs we are moving to bionic version, this patch is to add ubuntu bionic\nbased ovs image to support ovs-dpdk. Also this patch removes the\ndebian_dpdk image, as it doesn't work correctly on some CPUs.\n\nChange-Id: I3f720dfa0736cabbaa59406871b039d8762ce4de\n""}, {'number': 3, 'created': '2019-06-18 12:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/40c4fd58b8f1eb9e1b66c8fd6dc7ea1dfc59cf22', 'message': ""Add ubuntu bionic based ovs image\n\nAs we are moving to bionic version, this patch is to add ubuntu bionic\nbased ovs image to support ovs-dpdk. Also this patch removes the\ndebian_dpdk image, as it doesn't work correctly on some CPUs.\n\nChange-Id: I3f720dfa0736cabbaa59406871b039d8762ce4de\n""}, {'number': 4, 'created': '2019-06-21 06:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ce1dec59adf889a8bd86d9f40bf0c2a4a8def274', 'message': ""Add ubuntu bionic based ovs image\n\nAs we are moving to bionic version, this patch is to add ubuntu bionic\nbased ovs image to support ovs-dpdk. Also this patch removes the\ndebian_dpdk image, as it doesn't work correctly on some CPUs.\n\nChange-Id: I3f720dfa0736cabbaa59406871b039d8762ce4de\n""}, {'number': 5, 'created': '2019-06-24 03:26:49.000000000', 'files': ['openvswitch/Dockerfile.debian-dpdk', 'openvswitch/Dockerfile.ubuntu_bionic-dpdk', 'openvswitch/Dockerfile.ubuntu_bionic', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/da2ea9b9422e6fd53c28126600757970602c4341', 'message': ""Add ubuntu bionic based ovs image\n\nAs we are moving to bionic version, this patch is to add ubuntu bionic\nbased ovs image to support ovs-dpdk. Also this patch removes the\ndebian_dpdk image, as it doesn't work correctly on some CPUs.\n\nChange-Id: I3f720dfa0736cabbaa59406871b039d8762ce4de\n""}]",20,665310,da2ea9b9422e6fd53c28126600757970602c4341,37,13,5,29668,,,0,"Add ubuntu bionic based ovs image

As we are moving to bionic version, this patch is to add ubuntu bionic
based ovs image to support ovs-dpdk. Also this patch removes the
debian_dpdk image, as it doesn't work correctly on some CPUs.

Change-Id: I3f720dfa0736cabbaa59406871b039d8762ce4de
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/10/665310/5 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/Dockerfile.debian-dpdk', 'openvswitch/Dockerfile.ubuntu_bionic', 'zuul.d/openvswitch.yaml']",3,fe052e06c6146eeb0bc8ca2572623c996487aa9c,ovs_image, dockerfile: Dockerfile.ubuntu_bionic tags: - latest-ubuntu_bionic, dockerfile: Dockerfile.debian-dpdk tags: - latest-debian-dpdk,10,70
openstack%2Fnova~master~Ib9f735216773224f91ac7f49fbe2eee119670872,openstack/nova,master,Ib9f735216773224f91ac7f49fbe2eee119670872,hacking: Resolve W605 (invalid escape sequence),MERGED,2019-04-12 16:06:38.000000000,2019-06-27 09:33:24.000000000,2019-06-27 07:19:12.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-12 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fe5f960872954e3de03cbf692fc57e909e7f497', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-15 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03b4e602b97d03872a470b9c1bcab150dc8904e5', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-05-20 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96d128fe0337286b2c61a51e2f08e0545a4a8125', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-05-29 16:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/586a2e37256b78784108e89a78636f92738fa6f6', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-06-13 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dad606de2990780fc43a640268666dbfb4b334c0', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-06-17 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d59c7e2ef7dc3a87606a5242984b1291a7be211', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-06-18 10:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dc5fc9287c7af95c2e5acecf42e3da33c8f7e0b', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-06-21 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6829c8c69fb71dc301ff6701271b2aa6ee1b147', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-06-24 10:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2265e64de10e53d285e0b1c2585bf05ae4e391a0', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-06-24 19:24:14.000000000', 'files': ['nova/api/validation/validators.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/network/manager.py', 'nova/network/linux_net.py', 'nova/tests/unit/objects/test_numa.py', 'nova/tests/functional/api_sample_tests/test_aggregates.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/api/ec2/ec2utils.py', 'nova/conf/serial_console.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py', 'nova/tests/unit/test_iptables_network.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/conf_fixture.py', 'nova/utils.py', 'nova/virt/xenapi/host.py', 'nova/tests/functional/api_sample_tests/test_rescue.py', 'nova/api/openstack/__init__.py', 'nova/pci/utils.py', 'nova/conf/hyperv.py', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/schemas/flavor_manage.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/virt/libvirt/test_firewall.py', 'nova/hacking/checks.py', 'nova/tests/fixtures.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/virt/vmwareapi/driver.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/block_device.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc6fc82c1424769e38ef6fff2ea01e718220b954', 'message': ""hacking: Resolve W605 (invalid escape sequence)\n\nThis one's actually important since it will be an error in future\nversions of Python.\n\nChange-Id: Ib9f735216773224f91ac7f49fbe2eee119670872\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",26,652104,dc6fc82c1424769e38ef6fff2ea01e718220b954,154,14,10,15334,,,0,"hacking: Resolve W605 (invalid escape sequence)

This one's actually important since it will be an error in future
versions of Python.

Change-Id: Ib9f735216773224f91ac7f49fbe2eee119670872
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/652104/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/validation/validators.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/network/manager.py', 'nova/network/linux_net.py', 'nova/tests/unit/objects/test_numa.py', 'nova/tests/functional/api_sample_tests/test_aggregates.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/api/ec2/ec2utils.py', 'nova/conf/serial_console.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py', 'nova/tests/unit/test_iptables_network.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/conf_fixture.py', 'nova/utils.py', 'nova/virt/xenapi/host.py', 'nova/tests/functional/api_sample_tests/test_rescue.py', 'nova/api/openstack/__init__.py', 'nova/pci/utils.py', 'nova/conf/hyperv.py', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/schemas/flavor_manage.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/virt/libvirt/test_firewall.py', 'nova/hacking/checks.py', 'nova/tests/fixtures.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/virt/vmwareapi/driver.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/block_device.py', 'nova/tests/functional/test_servers.py', 'tox.ini']",39,1fe5f960872954e3de03cbf692fc57e909e7f497,hacking-update,"ignore = E121,E122,E123,E124,E125,E126,E127,E128,E129,E131,E251,H405,W504","# # W605 temporarily skipped because of the number of # these that have to be fixedignore = E121,E122,E123,E124,E125,E126,E127,E128,E129,E131,E251,H405,W504,W605",88,91
openstack%2Fcharm-ceilometer~master~I3d53fe98caaf1728f1d0c67de2c4a5e53deafa0e,openstack/charm-ceilometer,master,I3d53fe98caaf1728f1d0c67de2c4a5e53deafa0e,Rabbit SSL CA should be opened for reading bytes,MERGED,2019-06-27 05:55:04.000000000,2019-06-27 09:21:25.000000000,2019-06-27 09:21:25.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 05:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b1d3acb7b61981fea41760150c384d7f4da8e0fe', 'message': 'Rabbit SSL CA should be opened for reading bytes\n\nThe file is subsequently encoded as base64, which requires a\nbytes-like object, not a str\n\nChange-Id: I3d53fe98caaf1728f1d0c67de2c4a5e53deafa0e\n'}, {'number': 2, 'created': '2019-06-27 06:48:03.000000000', 'files': ['hooks/ceilometer_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/3b255326e41b1b11e247f43327d87306f2227ea9', 'message': 'Rabbit SSL CA should be opened for reading bytes\n\nThe file is subsequently encoded as base64, which requires a\nbytes-like object, not a str\n\nChange-Id: I3d53fe98caaf1728f1d0c67de2c4a5e53deafa0e\nCloses-Bug: #1834215\n'}]",0,667784,3b255326e41b1b11e247f43327d87306f2227ea9,11,4,2,20634,,,0,"Rabbit SSL CA should be opened for reading bytes

The file is subsequently encoded as base64, which requires a
bytes-like object, not a str

Change-Id: I3d53fe98caaf1728f1d0c67de2c4a5e53deafa0e
Closes-Bug: #1834215
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/84/667784/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceilometer_hooks.py'],1,b1d3acb7b61981fea41760150c384d7f4da8e0fe,bug/1834215," with open(context['rabbit_ssl_ca'], 'rb') as fh:"," with open(context['rabbit_ssl_ca'], 'rt') as fh:",1,1
openstack%2Freleases~master~I3803a432da2538af4de163b77c192130366ddadf,openstack/releases,master,I3803a432da2538af4de163b77c192130366ddadf,Fix iCalendar format violations,MERGED,2019-06-26 17:24:34.000000000,2019-06-27 09:18:55.000000000,2019-06-27 09:18:55.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 17:24:34.000000000', 'files': ['doc/source/_exts/ics.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/1506d94374158344a543b208da39832d4166130f', 'message': 'Fix iCalendar format violations\n\nAfter observing errors from importing our iCal into Outlook, I found\nthere were a few issues with our generated output according to [0].\n\nThis adds an overall VERSION to the iCal and sets per event timestamps\nand UIDs.\n\nThis also updates YAML loading to use safe_load to get rid of a\ndeprecation warning noticed while testing.\n\n[0] https://icalendar.org/validator.html?url=https://releases.openstack.org/schedule.ics\n\nChange-Id: I3803a432da2538af4de163b77c192130366ddadf\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,667685,1506d94374158344a543b208da39832d4166130f,8,4,1,11904,,,0,"Fix iCalendar format violations

After observing errors from importing our iCal into Outlook, I found
there were a few issues with our generated output according to [0].

This adds an overall VERSION to the iCal and sets per event timestamps
and UIDs.

This also updates YAML loading to use safe_load to get rid of a
deprecation warning noticed while testing.

[0] https://icalendar.org/validator.html?url=https://releases.openstack.org/schedule.ics

Change-Id: I3803a432da2538af4de163b77c192130366ddadf
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/667685/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/ics.py'],1,1506d94374158344a543b208da39832d4166130f,ics,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import subprocess def __init__(self, data_source, series_name, data, last_update): self.last_update = last_update last_update = '' # Attempt to get the last update time for our timestamp try: last_update = subprocess.check_output( [ 'git', 'log', '-n1', '--format=%ad', '--date=format:%Y-%m-%d %H:%M:%S', '--', filename, ] ).decode('utf-8').strip() self.last_update = datetime.datetime.strptime( last_update, '%Y-%m-%d %H:%M:%S') LOG.info('[ics] Last update of %s was %s', rel_filename, last_update) except subprocess.CalledProcessError: self.last_update = datetime.datetime.utcnow() return yaml.safe_load(f) node = PendingICS(data_source, series_name, data, self.last_update)_global_calendar.add('version', '2.0') event.add('dtstamp', node.last_update) event.add('uid', '%s-%s' % (series_name, week.get('name'))) "," def __init__(self, data_source, series_name, data): return yaml.load(f) node = PendingICS(data_source, series_name, data)",39,3
openstack%2Fkolla~master~I6af152b179a1e2254e092fcb16fb8e421044d38e,openstack/kolla,master,I6af152b179a1e2254e092fcb16fb8e421044d38e,DNM: Test CentOS Ceph,ABANDONED,2019-06-20 11:32:35.000000000,2019-06-27 09:13:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-20 11:32:35.000000000', 'files': ['docker/ceph/ceph-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b3822e217206b6227f9a7f96c207c71eb41c706', 'message': 'DNM: Test CentOS Ceph\n\nChange-Id: I6af152b179a1e2254e092fcb16fb8e421044d38e\nDepends-On: https://review.opendev.org/666068\nDepends-On: https://review.opendev.org/666015/\n'}]",0,666543,7b3822e217206b6227f9a7f96c207c71eb41c706,5,3,1,14826,,,0,"DNM: Test CentOS Ceph

Change-Id: I6af152b179a1e2254e092fcb16fb8e421044d38e
Depends-On: https://review.opendev.org/666068
Depends-On: https://review.opendev.org/666015/
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/666543/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-base/Dockerfile.j2'],1,7b3822e217206b6227f9a7f96c207c71eb41c706,,# TEST ME,,1,0
openstack%2Fkolla~master~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,master,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-19 07:48:00.000000000,2019-06-27 09:11:04.000000000,2019-06-26 10:08:24.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-19 07:48:00.000000000', 'files': ['docker/ceph/ceph-nfs/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc879dff3bf5cea9d64469395fe140b2ac7e4a3d', 'message': 'Fix deployment of ceph-nfs container failing due to wrong USER\n\nThe startup script requires to be run as root, not ceph.\nAll other ceph images follow this rule.\n\nAlso removed redundant blank line.\n\nChange-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,666239,dc879dff3bf5cea9d64469395fe140b2ac7e4a3d,21,6,1,30491,,,0,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/666239/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-nfs/Dockerfile.j2'],1,dc879dff3bf5cea9d64469395fe140b2ac7e4a3d,fix-ceph-nfs-deploy,, USER ceph,0,3
openstack%2Ftripleo-ansible~master~Ie0b5d41ac8d83864ef3913479906f5ea9abd928d,openstack/tripleo-ansible,master,Ie0b5d41ac8d83864ef3913479906f5ea9abd928d,Add standalone 001 job to gate tripleo-ansible,MERGED,2019-06-26 04:56:45.000000000,2019-06-27 09:07:49.000000000,2019-06-27 09:07:49.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 04:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc191418491c8dfedd3ad08b3943800bcbb1a50b', 'message': 'DNM: test jobs with fixing patch\n\nDepends-On:  https://review.opendev.org/667505\nChange-Id: Ie0b5d41ac8d83864ef3913479906f5ea9abd928d\n'}, {'number': 2, 'created': '2019-06-26 06:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80d89f518de15646e929d551dabf786fe02f93e5', 'message': 'Add SA and multinode job to gate tripleo-ansible\n\nChange-Id: Ie0b5d41ac8d83864ef3913479906f5ea9abd928d\n'}, {'number': 3, 'created': '2019-06-26 13:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1a0f3462b59550f8034ff3d44c190491b00bd4b', 'message': 'Add SA and multinode job to gate tripleo-ansible\n\nChange-Id: Ie0b5d41ac8d83864ef3913479906f5ea9abd928d\n'}, {'number': 4, 'created': '2019-06-26 13:22:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9df7d3573e98331949088e9e1836d66e8b9a621c', 'message': 'Add standalone 001 job to gate tripleo-ansible\n\nChange-Id: Ie0b5d41ac8d83864ef3913479906f5ea9abd928d\n'}]",9,667508,9df7d3573e98331949088e9e1836d66e8b9a621c,22,6,4,10969,,,0,"Add standalone 001 job to gate tripleo-ansible

Change-Id: Ie0b5d41ac8d83864ef3913479906f5ea9abd928d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/667508/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,dc191418491c8dfedd3ad08b3943800bcbb1a50b,jobs-test, - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-scenario012-standalone - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-scenario012-standalone,,13,0
